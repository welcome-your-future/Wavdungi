;/*FB_PKG_DELIM*/

__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","TrustedTypes","XHRRequest","asyncToGeneratorRuntime","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b("Promise")))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader.0."+d("SiteData").pkg_cohort+"."+a+"."+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}var o=c("TrustedTypes").createPolicy("bt-manifest",{createScript:function(a){return a}});function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var e=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(j.has(e))return;m(b,"start");j.add(e);try{var f=document.createElement("script"),g=(yield k(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b));c("justknobx")._("3786")?f.innerText=o.createScript(g):f.innerText=g;f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(g=document.head)==null||g.appendChild(f);m(b,"complete")}catch(c){m(b,"failed"),n(a,b,c),j["delete"](e)}});return q.apply(this,arguments)}function a(){c("promiseDone")(p(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(p(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(p(a,"main")),c("promiseDone")(p(a,"longtail"))})}g.init=a}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("ms-2.1.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=1e3,b=a*60,c=b*60,d=c*24,e=d*7,f=d*365.25;g.exports=function(a,b){b=b||{};var c=typeof a;if(c==="string"&&a.length>0)return h(a);else if(c==="number"&&isNaN(a)===!1)return b["long"]?j(a):i(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function h(g){g=String(g);if(g.length>100)return;g=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(!g)return;var h=parseFloat(g[1]);g=(g[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return h*f;case"weeks":case"week":case"w":return h*e;case"days":case"day":case"d":return h*d;case"hours":case"hour":case"hrs":case"hr":case"h":return h*c;case"minutes":case"minute":case"mins":case"min":case"m":return h*b;case"seconds":case"second":case"secs":case"sec":case"s":return h*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return void 0}}function i(e){var f=Math.abs(e);if(f>=d)return Math.round(e/d)+"d";if(f>=c)return Math.round(e/c)+"h";if(f>=b)return Math.round(e/b)+"m";return f>=a?Math.round(e/a)+"s":e+"ms"}function j(e){var f=Math.abs(e);if(f>=d)return k(e,f,d,"day");if(f>=c)return k(e,f,c,"hour");if(f>=b)return k(e,f,b,"minute");return f>=a?k(e,f,a,"second"):e+" ms"}function k(a,b,c,d){b=b>=c*1.5;return Math.round(a/c)+" "+d+(b?"s":"")}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("debug-4.1.1",["ms-2.1.1","supports-color-5.5.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("ms-2.1.1")),h=a(b("supports-color-5.5.0"));d={};var i={exports:d};function j(){function a(a){c.debug=c;c["default"]=c;c.coerce=j;c.disable=h;c.enable=f;c.enabled=i;c.humanize=g();Object.keys(a).forEach(function(b){c[b]=a[b]});c.instances=[];c.names=[];c.skips=[];c.formatters={};function b(a){var b=0;for(var d=0;d<a.length;d++)b=(b<<5)-b+a.charCodeAt(d),b|=0;return c.colors[Math.abs(b)%c.colors.length]}c.selectColor=b;function c(a){var f;function g(){var a=arguments;if(!g.enabled)return;var b=g,d=Number(new Date()),e=d-(f||d);b.diff=e;b.prev=f;b.curr=d;f=d;a[0]=c.coerce(a[0]);typeof a[0]!=="string"&&a.unshift("%O");var h=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(d,e){if(d==="%%")return d;h++;e=c.formatters[e];if(typeof e==="function"){var f=a[h];d=e.call(b,f);a.splice(h,1);h--}return d});c.formatArgs.call(b,a);var i=b.log||c.log;i.apply(b,a)}g.namespace=a;g.enabled=c.enabled(a);g.useColors=c.useColors();g.color=b(a);g.destroy=d;g.extend=e;typeof c.init==="function"&&c.init(g);c.instances.push(g);return g}function d(){var a=c.instances.indexOf(this);if(a!==-1){c.instances.splice(a,1);return!0}return!1}function e(a,b){b=c(this.namespace+(typeof b==="undefined"?":":b)+a);b.log=this.log;return b}function f(a){c.save(a);c.names=[];c.skips=[];var b,d=(typeof a==="string"?a:"").split(/[\s,]+/),e=d.length;for(b=0;b<e;b++){if(!d[b])continue;a=d[b].replace(/\*/g,".*?");a[0]==="-"?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$"))}for(b=0;b<c.instances.length;b++){a=c.instances[b];a.enabled=c.enabled(a.namespace)}}function h(){var a=[].join(",");c.enable("");return a}function i(a){if(a[a.length-1]==="*")return!0;var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function j(a){return a instanceof Error?a.stack||a.message:a}c.enable(c.load());return c}i.exports=a}var k=!1;function l(){k||(k=!0,j());return i.exports}var m={},n={exports:m};function o(){m.log=c;m.formatArgs=b;m.save=d;m.load=e;m.useColors=a;m.storage=f();m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;return typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function b(a){a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff);if(!this.useColors)return;var b="color: "+this.color;a.splice(1,0,b,"color: inherit");var c=0,d=0;a[0].replace(/%[a-zA-Z%]/g,function(a){if(a==="%%")return;c++;a==="%c"&&(d=c)});a.splice(d,0,b)}function c(){return typeof console==="object"&&emptyFunction&&emptyFunction.apply(console,arguments)}function d(a){try{a?m.storage.setItem("debug",a):m.storage.removeItem("debug")}catch(a){}}function e(){var a;try{a=m.storage.getItem("debug")}catch(a){}!a&&typeof process!=="undefined"&&"env"in process&&(a=process.env.DEBUG);return a}function f(){try{return localStorage}catch(a){}}n.exports=l()(m);c=n.exports.formatters;c.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}var p=!1;function q(){p||(p=!0,o());return n.exports}var r={},s={exports:r};function t(){var a={};r.init=i;r.log=e;r.formatArgs=c;r.save=f;r.load=g;r.useColors=b;r.colors=[6,2,3,4,5,1];try{i=h();i&&(i.stderr||i).level>=2&&(r.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(a){}r.inspectOpts=Object.keys(process.env).filter(function(a){return/^debug_/i.test(a)}).reduce(function(a,b){var c=b.substring(6).toLowerCase().replace(/_([a-z])/g,function(a,b){return b.toUpperCase()});b=process.env[b];/^(yes|on|true|enabled)$/i.test(b)?b=!0:/^(no|off|false|disabled)$/i.test(b)?b=!1:b==="null"?b=null:b=Number(b);a[c]=b;return a},{});function b(){return"colors"in r.inspectOpts?Boolean(r.inspectOpts.colors):!1}function c(b){var c=this.namespace,a=this.useColors;if(a){a=this.color;a="\x1b[3"+(a<8?a:"8;5;"+a);var e=a+";1m$"+c+"\x1b[0m";b[0]=e+b[0].split("\n").join("\n"+e);b.push(a+"m+"+s.exports.humanize(this.diff)+"\x1b[0m")}else b[0]=d()+c+" "+b[0]}function d(){return r.inspectOpts.hideDate?"":new Date().toISOString()+" "}function e(){return process.stderr.write(a.format.apply(a,arguments)+"\n")}function f(a){a?process.env.DEBUG=a:delete process.env.DEBUG}function g(){return process.env.DEBUG}function i(a){a.inspectOpts={};var b=Object.keys(r.inspectOpts);for(var c=0;c<b.length;c++)a.inspectOpts[b[c]]=r.inspectOpts[b[c]]}s.exports=l()(r);e=s.exports.formatters;e.o=function(b){this.inspectOpts.colors=this.useColors;return a.inspect(b,this.inspectOpts).replace(/\s*\n\s*/g," ")};e.O=function(b){this.inspectOpts.colors=this.useColors;return a.inspect(b,this.inspectOpts)}}var u=!1;function v(){u||(u=!0,t());return s.exports}f={};var w={exports:f};function x(){typeof process==="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?w.exports=q():w.exports=v()}var y=!1;function z(){y||(y=!0,x());return w.exports}function c(a){switch(a){case void 0:return z()}}e.exports=c}),null);
__d("DebugStub",["debug-4.1.1"],(function(a,b,c,d,e,f){e.exports=b("debug-4.1.1")()}),null);
__d("FalcoAppUniverse",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({FACEBOOK:1,INSTAGRAM:2,OCULUS:3});c=a;f["default"]=c}),66);
__d("Queue",[],(function(a,b,c,d,e,f){var g={};a=function(){function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();f["default"]=a}),66);
__d("FalcoLoggerTransports",["AnalyticsCoreData","Banzai","ExecutionEnvironment","FalcoAppUniverse","FalcoUtils","ODS","PersistedQueue","Queue","WebSession","performanceAbsoluteNow","promiseDone","requireDeferredForDisplay","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("requireDeferredForDisplay")("TransportSelectingClientSingletonConditional").__setRef("FalcoLoggerTransports"),m=5*1024,n=(b=(i||(i=c("AnalyticsCoreData"))).max_delay_br_queue)!=null?b:60*1e3,o=(e=(i||(i=c("AnalyticsCoreData"))).max_delay_br_queue_immediate)!=null?e:1e3;b=(f=(i||(i=c("AnalyticsCoreData"))).max_delay_br_init_not_complete)!=null?f:1e3;var p="falco:",q=new(c("Queue"))(),r=5e3,s=6e4,t=c("uuidv4")(),aa="ods_web_batch",u=new Map(),v=new Set(),w=new Set(),x=d("FalcoUtils").getTaggedBitmap(38),y=(e=c("FalcoAppUniverse").cast((i||(i=c("AnalyticsCoreData"))).app_universe))!=null?e:1,z=[],A=0,B=null,C=!1,D=!1,E=!1,F=!0,G=!1,H=Date.now()-s,I=1,J=b>n?b:n,K=b;Y();for(e of(f=(i||(i=c("AnalyticsCoreData"))).stateful_events_list_for_br)!=null?f:[]){v.add(e)}for(f of(b=(i||(i=c("AnalyticsCoreData"))).stateless_non_fb_events_for_br)!=null?b:[]){w.add(f)}function L(){return(i||(i=c("AnalyticsCoreData"))).enable_bladerunner&&!(k||(k=c("ExecutionEnvironment"))).isInWorker}function M(a,b){d("FalcoUtils").bumpODSMetrics(b.item.name,"event.info.streaming.batched",1);var c=b.item.extra.length;A+c>m&&(clearTimeout(B),N());z.push([a,b]);A+=c}function N(){B=null;C=!1;var a=z;S("event.info.streaming.batch_processing",a.map(function(a){return a[1].item}));!G?O(a,"event.non_critical_failure.streaming_init_not_complete"):q.enqueue(function(b){return b.log(a.map(function(a){return a[1].item}),function(b){if(!b){O(a,"event.info.banzai_fallback");return}P(a,b,"event.info.streaming.enqueued")})});z=[];A=0}function O(a,b){var e=function(){var a,e=f[0],g=f[1],h=g.item;d("FalcoUtils").bumpODSMetrics(h.name,b,1);h.identity||(h.identity=(i||(i=c("AnalyticsCoreData"))).identity);if((a=h.logCritical)!=null?a:!1)U.logCritical([h],function(a){return e.markItem(g,a)});else{((a=h.logImmediate)!=null?a:!1)?U.logImmediately([h],function(a){return e.markItem(g,a)}):U.log([h],function(a){return e.markItem(g,a)})}};for(var f of a)e();return}function P(a,b,c){for(a of a){var e=a[0],f=a[1];d("FalcoUtils").bumpODSMetrics(f.item.name,c,1);e.markItem(f,b)}}function ba(a){return{events:a.map(function(a){return{name:a.name,extra:a.extra,rate:a.policy.r,time:a.time/1e3,tag:0,tags:a.tags,shouldAddState:a.shouldAddState,identity:Q(a.identity),expTags:a.exptTags,sessionID:a.sessionId,deviceID:a.deviceId}})}}function ca(a){var b;a={deviceId:(i||(i=c("AnalyticsCoreData"))).device_id,familyDeviceId:null,osBuildNumber:null,sessionId:a,appId:i.app_id,appVersion:(a=(i||(i=c("AnalyticsCoreData"))).app_version)!=null?a:null,bundleId:null,consentState:null,identity:null,pushPhase:i.push_phase};((b=(b=(i||(i=c("AnalyticsCoreData"))).stateful_events_list_for_br)==null?void 0:b.length)!=null?b:0)>0&&(a.ambientState=(i||(i=c("AnalyticsCoreData"))).state_for_br);a.identity=Q(i.identity);return Object.freeze(a)}function Q(a){var b=a==null?void 0:a.claim;b=b!=null?[b]:[];if(y===2||y===3){var c=a==null?void 0:a.appScopedIdentity;if(c!==void 0)return{appScopedIdentity:{uid:c,identifier:c,claims:b}}}else{c=a==null?void 0:a.fbIdentity;if(c!==void 0)return{facebookIdentity:{actorId:c.actorId,accountId:c.accountId,claims:b}}}return null}function R(a,b){for(var e of a){var f,g;f=(g={},g.e=e.extra,g.r=e.policy.r,g.d=(f=e.deviceId)!=null?f:(i||(i=c("AnalyticsCoreData"))).device_id,g.s=(f=e.sessionId)!=null?f:d("WebSession").getId(),g.t=e.time,g.a=e.appVersion,g);e.privacyContext&&(f.p=e.privacyContext);e.tags!=null&&(f.b=e.tags);g=e.identity;g&&(f.id=g);c("Banzai").post(p+e.name,f,b)}S("event.uploaded",a)}function S(a,b){for(b of b)b.name!==aa&&d("FalcoUtils").bumpODSMetrics(b.name,a,1)}function T(a,b){var e="falco.fabric.www."+(i||(i=c("AnalyticsCoreData"))).push_phase;(h||(h=d("ODS"))).bumpEntityKey(1344,e,a,b)}var U={log:function(a,b){S("event.info.banzai.log.upload_processing",a),R(a,c("Banzai").BASIC),b(!0)},logImmediately:function(a,b){S("event.info.banzai.log_immediately.upload_processing",a),R(a,c("Banzai").VITAL),b(!0)},logCritical:function(a,b){S("event.info.banzai.log_critical.upload_processing",a),R(a,{signal:!0,retry:!0}),b(!0)}};function da(a){Y();var b=V(a,"banzai_data_loss","log"),d=V(a,"banzai_data_loss","logImmediately"),e=V(a,"banzai_data_loss","logCritical"),f=V(a,"bladerunner_data_loss",""),g=V(a,"bladerunner_data_loss","logCritical");T("js.br_data_loss.posted."+a,1);if(G&&F)try{q.enqueue(function(b){return b.log([f],function(b){if(!b){T("js.br.transport_failure."+a,1);U.logCritical([g],function(b){T("js.br.failure_fallback_success_callback."+a,1)});return}T("js.br.success_callback."+a,1)})})}catch(b){T("js.br.error_enqueueing."+a,1),U.logCritical([g],function(b){T("js.br.enqueuing_fallback_success_callback."+a,1)})}else F||T("js.br.failed."+a,1),G||T("js.br.init_not_complete."+a,1),U.logCritical([g],function(b){T("js.br.init_fallback_success_callback."+a,1)});R([b],c("Banzai").BASIC);R([d],c("Banzai").VITAL);R([e],{signal:!0,retry:!0})}function V(a,b,d){return{name:b,time:(j||(j=c("performanceAbsoluteNow")))(),policy:{r:1},extra:JSON.stringify({event_index:a,falco_js_connection_id:t,logging_mode:d,logging_flow_flag:"original_flow"}),appVersion:(i||(i=c("AnalyticsCoreData"))).app_version}}function W(){H+r<Date.now()&&(da(I),H=Date.now(),I++)}function X(){window.setTimeout(function(){W(),I<=40&&X()},s)}function ea(a){q.start(function(b){return b({log:function(d,b){S("event.info.streaming.queue_processing",d);var e=JSON.stringify(ba(d));a?(i||(i=c("AnalyticsCoreData"))).enable_ack?c("promiseDone")(a.amendWithAck(e),function(a){a?(S("event.streamed.with_ack",d),S("event.uploaded",d)):S("event.non_critical_failure.streaming.ack_failed",d),b(a)},function(){S("event.non_critical_failure.streaming.ack_rejected",d),b(!1)}):(a.amendWithoutAck(e),S("event.streamed.without_ack",d),S("event.uploaded",d)):(S("event.non_critical_error.streaming.stream_not_available",d),b(!1))},logImmediately:function(b,a){this.log(b,a)},logCritical:function(b,a){this.log(b,a)}})})}function Y(){if(D)return;G=!1;if(!L())return;l.onReady(function(a){if(!a){F=!1;q.start(function(a){return a(U)});return}a=a;var b={onTermination:function(a){a.message==="Stream closed"?(q.stop(!0),D=!1):(d("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.rejected",1),F=!1,q.start(function(a){return a(U)}))},onFlowStatus:function(){}};c("promiseDone")(a.requestStream({method:"Falco"},JSON.stringify(ca(d("WebSession").getId())),b,{requestId:""}).then(function(b){a=b,ea(a),G=!0,J=n,K=o})["catch"](function(a){d("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.failed",1),q.stop(!0),D=!1}))});D=!0}function Z(a){var b,e=a.name;if(!L()||!F)return!1;if(v.has(e)||a.policy.s!==1&&((b=(i||(i=c("AnalyticsCoreData"))).br_stateful_migration_on)!=null?b:!1)){a.shouldAddState=!0;a.tags=d("FalcoUtils").xorBitmap((b=a.tags)!=null?b:[0,0],x);return!0}if(y!==1&&(i||(i=c("AnalyticsCoreData"))).enable_non_fb_br_stateless_by_default!==!0&&!w.has(e))return!1;if(a.policy.s===1){a.tags=d("FalcoUtils").xorBitmap((b=a.tags)!=null?b:[0,0],x);return!0}return!1}function $(a){if(a==="")return null;if(u.has(a))return u.get(a);else{var b={claim:""},c=a.split("^#");if(c.length>=4){var d=c[0],e=c[1],f=c[2];c=c[3];f!==""?b={appScopedIdentity:f,claim:c}:d!==""&&(b={fbIdentity:{accountId:d,actorId:e},claim:c});u.set(a,b)}return b}}function a(){if(E)return;E=!0;c("PersistedQueue").setHandler("falco_queue_log",function(b){var e,f=b.getQueueNameSuffix(),g=$(f);while(e=b.dequeueItem())(function(e){Z(e.item)?(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.streaming.log",1),Y(),B==null&&(B=setTimeout(N,J)),g&&!a(f)&&(e.item.identity=g),M(b,e)):(g?e.item.identity=g:e.item.identity=(i||(i=c("AnalyticsCoreData"))).identity,U.log([e.item],function(a){return b.markItem(e,a)}))})(e)});c("PersistedQueue").setHandler("falco_queue_immediately",function(b){var e,f=b.getQueueNameSuffix(),g=$(f);while(e=b.dequeueItem())(function(e){Z(e.item)?(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.streaming.log_immediately",1),Y(),(B==null||!C)&&(clearTimeout(B),B=setTimeout(N,K),C=!0),e.item.logImmediate=!0,g&&!a(f)&&(e.item.identity=g),M(b,e),c("PersistedQueue").isPersistenceAllowed()||(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.streaming_no_persistence.log_immediately",1),N())):(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.banzai.log_immediately",1),g?e.item.identity=g:e.item.identity=(i||(i=c("AnalyticsCoreData"))).identity,U.logImmediately([e.item],function(a){return b.markItem(e,a)}))})(e)});c("PersistedQueue").setHandler("falco_queue_critical",function(b){var e,f=b.getQueueNameSuffix(),g=$(f);while(e=b.dequeueItem())(function(e){var h=e.item;Z(h)?(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.streaming.log_critical",1),Y(),h.logCritical=!0,!G?(g?h.identity=g:h.identity=(i||(i=c("AnalyticsCoreData"))).identity,O([[b,e]],"event.non_critical_failure.streaming_init_not_complete.log_critical")):(g&&!a(f)&&(h.identity=g),q.enqueue(function(a){return a.logCritical([h],function(a){if(!a){h.identity||(g?h.identity=g:h.identity=(i||(i=c("AnalyticsCoreData"))).identity);O([[b,e]],"event.info.banzai_fallback.log_critical");return}P([[b,e]],a,"event.uploaded")})}))):(g?h.identity=g:h.identity=(i||(i=c("AnalyticsCoreData"))).identity,d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.banzai.log_critical",1),U.logCritical([h],function(a){return b.markItem(e,a)}))})(e)});(i||(i=c("AnalyticsCoreData"))).enable_dataloss_timer&&(Y(),W(),X());function a(a){try{var b=d("FalcoUtils").identityToString((i||(i=c("AnalyticsCoreData"))).identity);return a===b}catch(a){(h||(h=d("ODS"))).bumpEntityKey(1344,"js.br.identity.check","exception.when.comparing.with.current.user.identity",1);return!0}}}g.attach=a}),98);
__d("PixPaymentRequestFeature",["WAWebABProps","WAWebMobilePlatforms"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WAWebMobilePlatforms").isSMB()&&d("WAWebABProps").getABPropConfigValue("pix_payment_request_enabled")}g.isPixPaymentRequestEnabled=a}),98);
__d("TransportSelectingClientSingletonConditional",["cr:710"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:710")}),98);
__d("WAConcurrentIterate",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e=[],f=[],h=0,i=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){while(h<a){var b=h;h++;f[b]=(yield c(b))}});return function(){return d.apply(this,arguments)}}();d=Math.min(a,d);for(var j=0;j<d;j++)e.push(i());return(g||(g=b("Promise"))).all(e).then(function(){return f})}f.concurrentIterate=a}),66);
__d("WADirectPath",["WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h="0_0_0_.enc";function a(a){return a}function b(a){if(a==null)return d("WAResultOrError").makeError("direct-path-undefined");if(a==="")return d("WAResultOrError").makeError("direct-path-empty");return a.includes(h)?d("WAResultOrError").makeError("direct-path-corrupted"):d("WAResultOrError").makeResult(a)}g.unsafeCastToDirectPath=a;g.validateDirectPath=b}),98);
__d("WAHashUtils",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function b(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function c(a){return a}function e(a){return a}function f(a){return""+a.slice(0,3)}g.toPlaintextHash=a;g.toCiphertextHash=b;g.stringToPlaintextHash=c;g.toHashedPlaintextHash=e;g.sanitisePlaintextHash=f}),98);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={fileSha256:[1,(e=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64],serverMediaType:[6,e.TYPES.STRING],uploadToken:[7,e.TYPES.BYTES],validatedTimestamp:[8,e.TYPES.BYTES],sidecar:[9,e.TYPES.BYTES],objectId:[10,e.TYPES.STRING],fbid:[11,e.TYPES.STRING],downloadableThumbnail:[12,e.TYPES.MESSAGE,c],handle:[13,e.TYPES.STRING],filename:[14,e.TYPES.STRING],progressiveJpegDetails:[15,e.TYPES.MESSAGE,b],size:[16,e.TYPES.INT64],lastDownloadAttemptTimestamp:[17,e.TYPES.INT64]};b.internalSpec={scanLengths:[1,e.FLAGS.REPEATED|e.TYPES.UINT32],sidecar:[2,e.TYPES.BYTES]};c.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING]};g.MediaEntrySpec=a;g.MediaEntry$ProgressiveJpegDetailsSpec=b;g.MediaEntry$DownloadableThumbnailSpec=c}),98);
__d("WAProgressiveJpegGetScanOffsets",["WAProgressiveJpegMarkers","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=d("WATagsLogger").TAGS(["media","progressiveJpegUtils"]);function a(a){m.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["starting"])));if(!n(a)){m.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Not a JPEG image"])));return[]}var b=[],c=2,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA",f=null,g=0,r=!1,s=!1,t=!1;function u(){t=!1,m.DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Scan found at offset ",""])),c-1),b.push(c-1)}while(c<a.byteLength){f=a[c];if(r){m.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Ending marker found before end of image"])));return[]}switch(e){case"READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA":f===d("WAProgressiveJpegMarkers").MARKER_PREFIX&&(e="READ_MARKER_SECOND_BYTE");break;case"READ_MARKER_SECOND_BYTE":if(f===d("WAProgressiveJpegMarkers").MARKER_PREFIX)e="READ_MARKER_SECOND_BYTE";else if(f===d("WAProgressiveJpegMarkers").MARKER_ESCAPE_BYTE)e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";else if(f===d("WAProgressiveJpegMarkers").MARKERS.EOI)r=!0,t&&u();else if(!s&&p(f)){m.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Non-progressive JPEG marker found"])));return[]}else o(f)?(s=!0,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA"):(t&&u(),f===d("WAProgressiveJpegMarkers").MARKERS.SOS&&(t=!0),q(f)?e="READ_SIZE_FIRST_BYTE":e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA");break;case"READ_SIZE_FIRST_BYTE":e="READ_SIZE_SECOND_BYTE";break;case"READ_SIZE_SECOND_BYTE":c+=g*256;c+=f;c-=2;e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";break}c+=1;g=f}return b}function n(a){if(a.byteLength<=2)return!1;if(a[0]!==d("WAProgressiveJpegMarkers").MARKER_PREFIX)return!1;return a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOF2&&a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOI?!1:!0}function o(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF2||a===d("WAProgressiveJpegMarkers").MARKERS.SOF6||a===d("WAProgressiveJpegMarkers").MARKERS.SOF10||a===d("WAProgressiveJpegMarkers").MARKERS.SOF14}function p(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF0||a===d("WAProgressiveJpegMarkers").MARKERS.SOF1||a===d("WAProgressiveJpegMarkers").MARKERS.SOF3||a===d("WAProgressiveJpegMarkers").MARKERS.SOF5||a===d("WAProgressiveJpegMarkers").MARKERS.SOF7||a===d("WAProgressiveJpegMarkers").MARKERS.JPG||a===d("WAProgressiveJpegMarkers").MARKERS.SOF9||a===d("WAProgressiveJpegMarkers").MARKERS.SOF11||a===d("WAProgressiveJpegMarkers").MARKERS.SOF13||a===d("WAProgressiveJpegMarkers").MARKERS.SOF15}function q(a){if(a===d("WAProgressiveJpegMarkers").MARKERS.TEM)return!1;return a>=d("WAProgressiveJpegMarkers").MARKERS.RST0&&a<=d("WAProgressiveJpegMarkers").MARKERS.RST7?!1:a!==d("WAProgressiveJpegMarkers").MARKERS.EOI&&a!==d("WAProgressiveJpegMarkers").MARKERS.SOI}g.getProgressiveJpegScanOffsets=a}),98);
__d("WAProgressiveJpegGetScanLengths",["WAProgressiveJpegGetScanOffsets"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("WAProgressiveJpegGetScanOffsets").getProgressiveJpegScanOffsets(a);return h(a)}function b(a){return a}function h(a){var b=[],c=0;for(a of a)b.push(a-c),c=a;return b}g.getProgressiveJpegScanLengths=a;g.asProgressiveJpegScanLength=b}),98);
__d("WAMediaUtils",["WACryptoDependencies","WADirectPath","WALongInt","WAMediaEntryData.pb","WAProgressiveJpegGetScanLengths","WAResultOrError","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h=["$$unknownFieldCount","directPath","objectId"],i=["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail","progressiveJpegDetails","size","lastDownloadAttemptTimestamp","sidecar","directPath","objectId"];function j(){var a=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a.buffer}function k(a){return a}function a(){return j()}function l(a){return a}function m(a){return a}function b(a){return a}function e(a){return a}function f(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,k=a.serverMediaType,l=a.downloadableThumbnail,n=a.filename,o=a.progressiveJpegDetails;a=a.size;f=d("WADirectPath").validateDirectPath(f);return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f.success?f.value:null,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(g),sidecar:h&&m(h),objectId:i,fbid:j,downloadableThumbnail:l==null?void 0:{directPath:l.directPath,fileEncSha256:l.fileEncSha256,fileSha256:l.fileSha256,mediaKey:l.mediaKey,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(l.mediaKeyTimestamp),objectId:l.objectId},serverMediaType:k,filename:n,progressiveJpegDetails:o&&u(o),size:a==null?void 0:d("WALongInt").numberOrThrowIfTooLarge(a)}}function n(a){var b=a.fileSha256,c=a.fileEncSha256,e=a.mediaKey,f=a.directPath,g=a.mediaKeyTimestamp,h=a.serverMediaType,i=a.objectId,j=a.fbid,k=a.downloadableThumbnail,l=a.filename,m=a.progressiveJpegDetails;a=a.size;b=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:b,fileEncSha256:c,mediaKey:e,directPath:f,mediaKeyTimestamp:g,serverMediaType:h,objectId:i,fbid:j,downloadableThumbnail:k,filename:l,progressiveJpegDetails:m,size:a});return b.readByteArrayView()}function o(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function p(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArrayView()}function q(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArrayView()}function r(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function s(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function t(a){if(a==null)return null;a.$$unknownFieldCount;var b=a.directPath,c=a.objectId,e=babelHelpers.objectWithoutPropertiesLoose(a,h);b=d("WADirectPath").validateDirectPath(b);return babelHelpers["extends"]({},e,{directPath:b.success?b.value:null,objectId:c,mediaKey:a.mediaKey&&k(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))})}function u(a){if(a==null)return null;return a.scanLengths==null||a.sidecar==null?null:{sidecar:a.sidecar,scanLengths:a.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})}}function v(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail,h=a.progressiveJpegDetails,j=a.size,m=a.lastDownloadAttemptTimestamp,n=a.sidecar,o=a.directPath,p=a.objectId;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var q=null;h!=null&&h.scanLengths!=null&&h.sidecar!=null&&(q={sidecar:h.sidecar,scanLengths:h.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})});h=d("WADirectPath").validateDirectPath(o);return babelHelpers["extends"]({},a,{objectId:p,directPath:h.success?h.value:void 0,sidecar:n,serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&k(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&l(f),progressiveJpegDetails:q,downloadableThumbnail:g&&t(g),size:d("WALongInt").maybeNumberOrThrowIfTooLarge(j),lastDownloadAttemptTimestamp:m==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(m))})}function w(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=a.serverMediaType;if(f==null)return d("WAResultOrError").makeError("media-entry-invalid-media-key");else if(b==null)return d("WAResultOrError").makeError("media-entry-invalid-direct-path");else if(c==null)return d("WAResultOrError").makeError("media-entry-invalid-file-enc-sha256");else if(e==null)return d("WAResultOrError").makeError("media-entry-invalid-file-sha256");else if(g==null)return d("WAResultOrError").makeError("media-entry-invalid-server-media-type");return d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f,serverMediaType:g}))}function x(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=[];f==null?g.push("media-entry-invalid-media-key"):b==null?g.push("media-entry-invalid-direct-path"):c==null?g.push("media-entry-invalid-file-enc-sha256"):e==null&&g.push("media-entry-invalid-file-sha256");return f!=null&&b!=null&&c!=null&&e!=null?d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f})):d("WAResultOrError").makeError(g)}function y(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b="application/octet-stream";break;case"xma-image":b="image/jpeg";break;default:throw c("err")("Unsupported server media type: "+a)}return b}var z=function(){return"TransformStream"in self};g.createMediaKey=j;g.castToMediaKey=k;g.createUploadToken=a;g.castToUploadToken=l;g.castToStreamingSidecar=m;g.stringToDeliveryObjectId=b;g.stringToBackupEntFbid=e;g.mediaEntryDataToRawData=f;g.rawDataToMediaEntry=n;g.encodeMediaEntryForUpload=o;g.encodeMediaEntryWithUpdatedPath=p;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=q;g.encodeMediaEntryWithUpdatedFbid=r;g.encodeMediaEntryWithUpdatedObjectId=s;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=t;g.decodeMediaEntryData=v;g.validateDecodedMediaEntryForDownload=w;g.validateDownloadableThumbnailForDownload=x;g.getMimeTypeFromServerMediaType=y;g.isTransformStreamSupported=z}),98);
__d("WAMediaCryptoSidecar",["WAConcurrentIterate","WACryptoHmac","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="video"}var h=16,i=10,j=64*1024;function b(a,b,c){c===void 0&&(c=1);var e=b.buffer.byteLength;e=Math.ceil((e-h)/j);var f=new Uint8Array(i*e);return d("WAConcurrentIterate").concurrentIterate(e,function(c){var e=c*j,g=e+h+j;e=b.subarray(e,g);return d("WACryptoHmac").sign(a,e).then(function(a){a=new Uint8Array(a,0,i);f.set(a,c*i)})},c).then(function(){return d("WAMediaUtils").castToStreamingSidecar(f.buffer)})}g.shouldHaveStreamingSidecar=a;g.calculateStreamingSidecar=b}),98);
__d("WAMediaHkdfInfo",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"document":return"WhatsApp Document Keys";case"image":case"sticker":case"xma-image":return"WhatsApp Image Keys";case"video":case"gif":return"WhatsApp Video Keys";case"audio":case"ptt":return"WhatsApp Audio Keys";case"md-app-state":return"WhatsApp App State Keys";case"md-msg-hist":return"WhatsApp History Keys";default:throw c("err")("getMediaHkdfInfo: unexpected media type "+a)}}function b(){return"Messenger Preview Keys"}g.getMediaHkdfInfo=a;g.getPreviewMediaHkdfInfo=b}),98);
__d("WAMediaCrypto",["Promise","WABinary","WACryptoAesCbc","WACryptoDependencies","WACryptoHkdf","WACryptoHmac","WACryptoSha256","WACryptoUtils","WACustomError","WAHashUtils","WALogger","WAMediaCryptoSidecar","WAMediaHkdfInfo","WATagsLogger","WATypedArraysConcat","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("WATagsLogger").TAGS(["WAMediaCrypto"]),m=d("WACustomError").customError("HmacValidationError",!1),n=new Uint8Array([2,2]);function o(a,b){return d("WACryptoHkdf").extractAndExpand(new Uint8Array(a),b,112).then(function(a){return{iv:new Uint8Array(a,0,16),cipherKey:new Uint8Array(a,16,32),hmacKey:new Uint8Array(a,48,32),refKey:new Uint8Array(a,80,32)}})}function p(a,b){b=d("WAMediaHkdfInfo").getMediaHkdfInfo(b);return o(a,b)}function q(a){var b=d("WAMediaHkdfInfo").getPreviewMediaHkdfInfo();return o(a,b)}function a(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=new Map(),d=(yield q(a));c.set("preview",d);d=["document","image","video","audio","md-app-state","md-msg-hist"];yield (k||(k=b("Promise"))).all(d.map(function(b){return p(a,b).then(function(a){c.set(b,a)})}));return c});return r.apply(this,arguments)}function e(a){switch(a){case"image":case"video":return a;default:return null}}var s=16,t=16,u=10,v=64*1024;function f(a,b,c,d,e){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var h=new(d("WABinary").Binary)();h.ensureCapacity(t+f.byteLength+s+u);h.writeByteArray(c);a=new(d("WACryptoAesCbc").AesCbcStream)(h,"encrypt",a,c);c=0;var i=c+v;while(i<f.byteLength){var j=f.slice(c,i);yield a.append(new Uint8Array(j));c=i;i+=v}j=(yield f.slice(c));yield a.finalize(new Uint8Array(j));i=h.peek(function(a){return a.readByteArrayView()});f=(yield d("WACryptoHmac").encodeKeySha256(e));c=(yield d("WACryptoHmac").sign(f,i));h.writeByteArray(new Uint8Array(c,0,u));a=h.readByteArrayView();j=a.subarray(t);e=(yield (k||(k=b("Promise"))).all([d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",j),d("WAMediaCryptoSidecar").shouldHaveStreamingSidecar(g)?d("WAMediaCryptoSidecar").calculateStreamingSidecar(f,a):void 0]));c=e[0];h=e[1];return{ciphertext:j,ciphertextHash:c,sidecar:h,ivCiphertext:i,ivCiphertextHmac:a}});return w.apply(this,arguments)}function x(a,b,c){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("WACryptoHmac").encodeKeySha256(a));b=d("WABinary").Binary.build(b,c).readByteArrayView();return d("WACryptoHmac").sign(a,b)});return y.apply(this,arguments)}function z(a,b,c,d,e){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){if(!(10<=f.length&&f.length<=32))throw new m("Bad hmac size "+f.length);var g=d("WABinary").Binary.build(b,c).readByteArrayView();e=(yield d("WACryptoHmac").hmacSha256(e,g).then(function(a){return new Uint8Array(a)}));g=e.slice(0,f.length);if(!F(g,f))throw new m("hmacAndDecrypt hmac mismatch");e=(yield d("WACryptoAesCbc").aesCbcDecrypt(a,b,c));g=(yield d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",e));return{plaintextHash:d("WAHashUtils").toPlaintextHash(g),plaintext:e}});return A.apply(this,arguments)}function B(a,b,c,e,f){if(!(10<=f.length&&f.length<=32))throw new m("Bad hmac size "+f.length);var g=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[b,c]);return d("WACryptoHmac").hmacSha256(e,g,f.length).then(function(a){return new Uint8Array(a)}).then(function(a){if(!d("WACryptoUtils").uint8ArraysEqual(a,f))throw new m("hmacAndDecrypt hmac mismatch")}).then(function(){var a=c.byteLength%s===u;if(a===!0)return c.subarray(0,-10);else return c}).then(function(c){return C(a,b,c)})}function C(a,b,c){var e=c.subarray(-s);return d("WACryptoAesCbc").aesCbcEncrypt(a,n,e).then(function(a){return a.slice(t)}).then(function(a){return d("WABinary").Binary.build(c,a).readByteArrayView()}).then(function(c){return d("WACryptoAesCbc").aesCbcDecrypt(a,b,c)}).then(function(a){return new Uint8Array(a,0,a.byteLength-n.byteLength)}).then(function(a){return{plaintext:a,nextIv:e}})}function D(a,b,c,d,e,f){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,k){g>k.scanLengths.length&&l.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialChunks targetScan greater length of scanLength array"])));g=Math.min(g,k.scanLengths.length);if(g<1){l.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unable to decrypt partial due to invalid target scan"])));throw c("err")("Unable to decrypt partial due to invalid target scan")}var m=new(d("WABinary").Binary)(),n=[];for(var o=0;o<g;o++)n.push(new Uint8Array(k.sidecar,o*10,10));o=0;b=b;var p=0;for(var q=0;q<g;q++){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Processing scan ",""])),q);var r=k.alignedScanLengths[q],s=o+r;s=e.subarray(o,s);s=(yield B(a,b,s,f,n[q]));var t=s.plaintext;s=s.nextIv;m.write(t);o+=r;b=s;p+=k.scanLengths[q]}t=m.readBuffer(p);r=(yield d("WACryptoSha256").sha256(t));return{plaintextHash:d("WAHashUtils").toPlaintextHash(r),plaintext:t}});return E.apply(this,arguments)}function F(a,b){if(a.length!==b.length)return!1;var c=1,d=a.length;for(var e=0;e<d;e++)c&=a[e]===b[e]?1:0;return c!==0}g.HmacValidationError=m;g.DEFAULT_PADDING=n;g.computeMediaKeys=p;g.computeMediaKeysForPreview=q;g.deprecated_getAllCommonComputedMediaKeys=a;g.convertServerMediaTypeToPreviewMediaType=e;g.CBC_BLOCK_SIZE=s;g.IV_LENGTH=t;g.HMAC_LENGTH=u;g.encryptAndHmac=f;g.hmacCiphertext=x;g.hmacAndDecrypt=z;g.hmacAndDecryptPartial=B;g.decryptPartialChunks=D}),98);
__d("WAPttComposerOpusRecorder",["$InternalEnum","Promise","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},j=b("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]);a=function(){function a(a){var d=this;this._duration=0;this._recordedPages=[];this._state=j.INACTIVE;this._isFirstBuffer=!1;this._requestCount=0;this._pendingFlushResolvers=new Map();this._handleEncoderMessage=function(a){a=a.data;switch(a.message){case"page":d._storePage(a.page);break;case"flushed":d._handleFlushed(a.requestId);break;default:throw c("err")("Invalid message event type: "+a.message)}};if(!l())throw c("err")("Recording is not supported in this browser");this._createStream=a.createStream;this._onDuration=a.onDuration;this._onPause=a.onPause;this._onResume=a.onResume;this._onStart=a.onStart;this._onStop=a.onStop;this._handlePage=a.onPage;this._completeRecordingPromise=new(h||(h=b("Promise")))(function(a){d._resolveCompleteRecordingPromise=a});this._audioContext=new AudioContext();this._encoderNode=this._audioContext.createScriptProcessor(i.bufferLength,i.numberOfChannels,i.numberOfChannels);this._encoderNode.onaudioprocess=function(a){d._encodeBuffers(a.inputBuffer)};this._monitorNode=this._audioContext.createGain()}var e=a.prototype;e.getState=function(){return this._state};e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.PAUSED:return this.resume();case j.INACTIVE:break}this._recordedPages=[];this._isFirstBuffer=!0;this._duration=0;var a=d("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=a;a.addEventListener("message",this._handleEncoderMessage);var b=(yield this._startRecording());if(!b)return!1;(b=this._onStart)==null||b.call(this);(b=this._onDuration)==null||b.call(this,this._duration);a.postMessage({command:"encode-init",config:babelHelpers["extends"]({},i,{originalSampleRate:this._audioContext.sampleRate})});this._encoderNode.connect(this._audioContext.destination);return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){var a;if(this._state===j.STOPPED)return;this._state=j.STOPPED;(a=this._recordingAbortController)==null||a.abort();this._audioContext.close&&this._audioContext.close();this._monitorNode.disconnect();this._encoderNode.disconnect();(a=this._encoder)==null||a.postMessage({command:"encode-done"})};e.pause=function(){var a;if(this._state!==j.RECORDING)return;this._state=j.PAUSED;(a=this._recordingAbortController)==null||a.abort();(a=this._onPause)==null||a.call(this)};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.INACTIVE:throw c("err")("Attempting to resume recording that hasn't started");case j.PAUSED:break}var a=(yield this._startRecording());if(!a)return!1;(a=this._onResume)==null||a.call(this);return!0});function d(){return a.apply(this,arguments)}return d}();e.getDuration=function(){return this._duration};e.getMonitorNode=function(){return this._monitorNode};e._encodeBuffers=function(a){if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state!==j.RECORDING)return;var b=[];for(var d=0;d<a.numberOfChannels;d++)b[d]=a.getChannelData(d);d=c("WANullthrows")(this._encoder);d.postMessage({command:"encode",buffers:b});this._duration+=a.duration;(d=this._onDuration)==null||d.call(this,this._duration)};e._getNextRequestId=function(){this._requestCount++;return this._requestCount};e._startRecording=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this._state=j.RECORDING;this._recordingAbortController=new AbortController();var a=(yield m(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal));if(!a){this.stop();return!1}return!0});function c(){return a.apply(this,arguments)}return c}();e._storePage=function(a){this._recordedPages.push(a);if(a[5]&4){var b;(b=this._handlePage)==null||b.call(this,a,!0);b=c("WANullthrows")(this._encoder);b.removeEventListener("message",this._handleEncoderMessage);this._resolveCompleteRecordingPromise(k(this._recordedPages));this._recordedPages=[];(b=this._onStop)==null||b.call(this);return}(b=this._handlePage)==null||b.call(this,a,!1)};e._handleFlushed=function(a){var b=c("WANullthrows")(this._pendingFlushResolvers.get(a));this._pendingFlushResolvers["delete"](a);b(k(this._recordedPages))};e.getPartialRecording=function(){var a=this,d=this._getNextRequestId(),e=new(h||(h=b("Promise")))(function(b){a._pendingFlushResolvers.set(d,b)}),f=c("WANullthrows")(this._encoder);f.postMessage({command:"flush",requestId:d});return e};e.getCompleteRecording=function(){return this._completeRecordingPromise};return a}();function k(a){var b=a.reduce(function(a,b){return a+b.length},0);b=new Uint8Array(b);var c=0;for(a of a)b.set(a,c),c+=a.length;return new Blob([b],{type:"audio/ogg; codecs=opus"})}function l(){return Boolean(window.AudioContext&&d("WAGetUserMedia").getUserMedia)}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=(yield a(d));if(d.aborted||e==null)return!1;var f=b.createMediaStreamSource(e);c.forEach(function(a){f.connect(a)});d.addEventListener("abort",function(){e.getTracks().forEach(function(a){a.stop()}),f.disconnect()},{once:!0});return!0});return n.apply(this,arguments)}g.OpusRecorderState=j;g.OpusRecorder=a}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.start=function(){this.$1=Date.now()};b.stop=function(){this.$2=Date.now()};b.pause=function(){this.stop()};b.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null};b.getTime=function(){var a,b=this.$1;if(b==null)return 0;a=(a=this.$2)!=null?a:Date.now();return a-b};return a}();f["default"]=a}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){var d=this;this.$2=new(c("WAPttComposerRecorderPollableTimer"))();this.$3=[];this.$4=[];this.$5=0;this.$10=function(){d.$5=Math.max(d.$5,d.$11());var a=d.$3.length/d.$1;a=Math.floor((d.getDuration()-a)*d.$1);if(a===0)return;for(var b=0;b<a;b++)d.$3.push(d.$5);d.$5=0};this.$12=0;this.$7=h(a);a.connect(this.$7);this.$1=b}var b=a.prototype;b.start=function(){this.$2.start(),this.$9()};b.stop=function(){var a;this.$2.stop();(a=this.$6)==null||a.call(this)};b.pause=function(){var a;this.$2.pause();(a=this.$6)==null||a.call(this)};b.resume=function(){this.$2.resume(),this.$9()};b.$9=function(){this.$6=d("WAStartAnimationLoop").startAnimationLoop(this.$10)};b.$11=function(){var a,b=c("WANullthrows")(this.$7);this.$8=(a=this.$8)!=null?a:new Uint8Array(b.frequencyBinCount);a=this.$8;b.getByteFrequencyData(a);return Math.max.apply(Math,Array.from(a))/255};b.commitSamples=function(a){a=Math.floor(a*this.$1);a=a-this.$4.length;var b=this.$3.length-this.$12;if(a===0||b===0)return;b=this.$3.slice(this.$12,this.$3.length);b=c("WAPttComposerScaleWaveform")(b,a);for(a of b)this.$4.push(a);this.$12=this.$3.length};b.getSamples=function(){return this.$3};b.getDuration=function(){var a;a=(a=this.$2.getTime())!=null?a:0;return a/1e3};b.getCorrectedSamples=function(){return this.$4};return a}();function h(a){a=a.context.createAnalyser();a.fftSize=32;a.smoothingTimeConstant=0;a.minDecibels=-60;a.maxDecibels=-10;return a}g["default"]=a}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this._handleOpusRecorderDuration=function(){b._waveformRecorder.commitSamples(b.getDuration()),b._onDuration==null||b._onDuration(b.getDuration())};this._onDuration=a.onDuration;this._opusRecorder=new(d("WAPttComposerOpusRecorder").OpusRecorder)({createStream:a.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(b,c){a.onPage==null||a.onPage(b,c)}});this._waveformRecorder=new(c("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),a.waveformSampleRate)}var e=a.prototype;e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.start());if(!a)return!1;this._waveformRecorder.start();return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()};e.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.resume());if(!a)return!1;this._waveformRecorder.resume();return!0});function c(){return a.apply(this,arguments)}return c}();e.getDuration=function(){return this._opusRecorder.getDuration()};e.getPreciseDuration=function(){var a;return(a=this._waveformRecorder.getDuration())!=null?a:0};e.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()};e.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()};e.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()};e.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()};return a}();g["default"]=a}),98);
__d("WASmaxInBizLinkingGetLinkedAccountsResponseError",["WAResultOrError","WASmaxInBizLinkingHackBaseIQErrorResponseMixin","WASmaxInBizLinkingIQErrorInternalServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInBizLinkingIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInBizLinkingHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetLinkedAccountsResponseError=a}),98);
__d("WASmaxInBizLinkingIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInBizLinkingGetLinkedAccountsResponseForbidden",["WAResultOrError","WASmaxInBizLinkingHackBaseIQErrorResponseMixin","WASmaxInBizLinkingIQErrorForbiddenMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInBizLinkingIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(c.value);if(!c.success)return c;a=d("WASmaxInBizLinkingHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorForbiddenMixin:c.value},a.value))}g.parseGetLinkedAccountsResponseForbidden=a}),98);
__d("WASmaxInBizLinkingEnums",[],(function(a,b,c,d,e,f){a={disable:"disable","import":"import"};b={"false":"false","true":"true"};c={off:"off",on:"on"};f.ENUM_DISABLE_IMPORT=a;f.ENUM_FALSE_TRUE=b;f.ENUM_OFF_ON=c}),66);
__d("WASmaxInBizLinkingHasDisplayNameMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"display_name");if(!a.success)return a;a=d("WASmaxParseUtils").contentString(a.value);return!a.success?a:d("WAResultOrError").makeResult({displayNameElementValue:a.value})}g.parseHasDisplayNameMixin=a}),98);
__d("WASmaxInBizLinkingFBBizResponseMixin",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxInBizLinkingHasDisplayNameMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"catalog");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(a,"state",d("WASmaxInBizLinkingEnums").ENUM_DISABLE_IMPORT);if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"id");return!a.success?a:d("WAResultOrError").makeResult({state:b.value,id:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_biz");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"catalog",h);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"id");if(!c.success)return c;a=d("WASmaxInBizLinkingHasDisplayNameMixin").parseHasDisplayNameMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:c.value},a.value,{catalog:b.value}))}g.parseFBBizResponseCatalog=h;g.parseFBBizResponseMixin=a}),98);
__d("WASmaxInBizLinkingAdStatusMixin",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"ad_status");if(!a.success)return a;var b=d("WASmaxParseUtils").attrStringEnum(a.value,"has_created_ad",d("WASmaxInBizLinkingEnums").ENUM_FALSE_TRUE);if(!b.success)return b;a=d("WASmaxParseUtils").attrStringEnum(a.value,"has_active_ctwa_ad",d("WASmaxInBizLinkingEnums").ENUM_FALSE_TRUE);return!a.success?a:d("WAResultOrError").makeResult({adStatusHasCreatedAd:b.value,adStatusHasActiveCtwaAd:a.value})}g.parseAdStatusMixin=a}),98);
__d("WASmaxInBizLinkingFBPageResponseBaseMixin",["WAResultOrError","WASmaxInBizLinkingAdStatusMixin","WASmaxInBizLinkingEnums","WASmaxInBizLinkingHasDisplayNameMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"profile_sync");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(a,"state",d("WASmaxInBizLinkingEnums").ENUM_DISABLE_IMPORT);return!b.success?b:d("WAResultOrError").makeResult({state:b.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_page");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"profile_sync",h);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"id");if(!c.success)return c;var e=d("WASmaxInBizLinkingHasDisplayNameMixin").parseHasDisplayNameMixin(a);if(!e.success)return e;a=d("WASmaxInBizLinkingAdStatusMixin").parseAdStatusMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:c.value},e.value,a.value,{profileSync:b.value}))}g.parseFBPageResponseBaseProfileSync=h;g.parseFBPageResponseBaseMixin=a}),98);
__d("WASmaxInBizLinkingHasProfilePictureMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"bytes");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,0,void 0);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"profile_picture");if(!a.success)return a;var b=d("WASmaxParseUtils").flattenedChildWithTag(a.value,"url");if(!b.success)return b;a=d("WASmaxParseUtils").optionalChildWithTag(a.value,"bytes",h);if(!a.success)return a;b=d("WASmaxParseUtils").contentString(b.value);return!b.success?b:d("WAResultOrError").makeResult({profilePictureUrlElementValue:b.value,profilePictureBytes:a.value})}g.parseHasProfilePictureProfilePictureBytes=h;g.parseHasProfilePictureMixin=a}),98);
__d("WASmaxInBizLinkingHasShowOnProfileMixin",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"show_on_profile");if(!a.success)return a;a=d("WASmaxParseUtils").contentStringEnum(a.value,d("WASmaxInBizLinkingEnums").ENUM_FALSE_TRUE);return!a.success?a:d("WAResultOrError").makeResult({showOnProfileElementValue:a.value})}g.parseHasShowOnProfileMixin=a}),98);
__d("WASmaxInBizLinkingIGProfessionalResponseBaseMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ig_professional");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"ig_handle");if(!b.success)return b;a=d("WASmaxParseUtils").contentString(b.value);return!a.success?a:d("WAResultOrError").makeResult({igHandleElementValue:a.value})}g.parseIGProfessionalResponseBaseMixin=a}),98);
__d("WASmaxInBizLinkingWhatsAppAdIdentityResponseMixin",["WAResultOrError","WASmaxInBizLinkingAdStatusMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"whatsapp_ad_identity");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;a=d("WASmaxInBizLinkingAdStatusMixin").parseAdStatusMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:b.value},a.value))}g.parseWhatsAppAdIdentityResponseMixin=a}),98);
__d("WASmaxInBizLinkingGetLinkedAccountsResponseSuccess",["WAResultOrError","WASmaxInBizLinkingEnums","WASmaxInBizLinkingFBBizResponseMixin","WASmaxInBizLinkingFBPageResponseBaseMixin","WASmaxInBizLinkingHackBaseIQResultResponseMixin","WASmaxInBizLinkingHasDisplayNameMixin","WASmaxInBizLinkingHasProfilePictureMixin","WASmaxInBizLinkingHasShowOnProfileMixin","WASmaxInBizLinkingIGProfessionalResponseBaseMixin","WASmaxInBizLinkingWhatsAppAdIdentityResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_page");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"whatsapp_as_page_button");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(b.value,"state",d("WASmaxInBizLinkingEnums").ENUM_OFF_ON);if(!b.success)return b;var c=d("WASmaxInBizLinkingFBPageResponseBaseMixin").parseFBPageResponseBaseMixin(a);if(!c.success)return c;var e=d("WASmaxInBizLinkingHasProfilePictureMixin").parseHasProfilePictureMixin(a);a=d("WASmaxInBizLinkingHasShowOnProfileMixin").parseHasShowOnProfileMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({whatsappAsPageButtonState:b.value},c.value,{hasProfilePictureMixin:e.success?e.value:null,hasShowOnProfileMixin:a.success?a.value:null}))}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"fb_biz");if(!b.success)return b;b=d("WASmaxInBizLinkingFBBizResponseMixin").parseFBBizResponseMixin(a);return!b.success?b:b}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"ig_professional");if(!b.success)return b;b=d("WASmaxInBizLinkingIGProfessionalResponseBaseMixin").parseIGProfessionalResponseBaseMixin(a);if(!b.success)return b;var c=d("WASmaxInBizLinkingHasProfilePictureMixin").parseHasProfilePictureMixin(a),e=d("WASmaxInBizLinkingHasDisplayNameMixin").parseHasDisplayNameMixin(a);a=d("WASmaxInBizLinkingHasShowOnProfileMixin").parseHasShowOnProfileMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{hasProfilePictureMixin:c.success?c.value:null,hasDisplayNameMixin:e.success?e.value:null,hasShowOnProfileMixin:a.success?a.value:null}))}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"whatsapp_ad_identity");if(!b.success)return b;b=d("WASmaxInBizLinkingWhatsAppAdIdentityResponseMixin").parseWhatsAppAdIdentityResponseMixin(a);return!b.success?b:b}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"linked_accounts");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(c.value,"fb_page",h);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChildWithTag(c.value,"fb_biz",i);if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(c.value,"ig_professional",j);if(!g.success)return g;c=d("WASmaxParseUtils").optionalChildWithTag(c.value,"whatsapp_ad_identity",k);if(!c.success)return c;a=d("WASmaxInBizLinkingHackBaseIQResultResponseMixin").parseHackBaseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{linkedAccountsFbPage:e.value,linkedAccountsFbBiz:f.value,linkedAccountsIgProfessional:g.value,linkedAccountsWhatsappAdIdentity:c.value}))}g.parseGetLinkedAccountsResponseSuccessLinkedAccountsFbPage=h;g.parseGetLinkedAccountsResponseSuccessLinkedAccountsFbBiz=i;g.parseGetLinkedAccountsResponseSuccessLinkedAccountsIgProfessional=j;g.parseGetLinkedAccountsResponseSuccessLinkedAccountsWhatsappAdIdentity=k;g.parseGetLinkedAccountsResponseSuccess=a}),98);
__d("WASmaxOutBizLinkingGetLinkedAccountsRequest",["WASmaxJsx","WASmaxOutBizLinkingHackBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutBizLinkingHackBaseIQGetRequestMixin").mergeHackBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"fb:thrift_iq",smax_id:d("WAWap").INT(42)},d("WASmaxJsx").smax("linked_accounts",null)),a);return a}g.makeGetLinkedAccountsRequest=a}),98);
__d("WASmaxBizLinkingGetLinkedAccountsRPC",["WAComms","WASmaxInBizLinkingGetLinkedAccountsResponseError","WASmaxInBizLinkingGetLinkedAccountsResponseForbidden","WASmaxInBizLinkingGetLinkedAccountsResponseSuccess","WASmaxOutBizLinkingGetLinkedAccountsRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutBizLinkingGetLinkedAccountsRequest").makeGetLinkedAccountsRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInBizLinkingGetLinkedAccountsResponseSuccess").parseGetLinkedAccountsResponseSuccess(b,a);if(c.success)return{name:"GetLinkedAccountsResponseSuccess",value:c.value};var e=d("WASmaxInBizLinkingGetLinkedAccountsResponseForbidden").parseGetLinkedAccountsResponseForbidden(b,a);if(e.success)return{name:"GetLinkedAccountsResponseForbidden",value:e.value};b=d("WASmaxInBizLinkingGetLinkedAccountsResponseError").parseGetLinkedAccountsResponseError(b,a);if(b.success)return{name:"GetLinkedAccountsResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetLinkedAccounts",{Success:c,Forbidden:e,Error:b}))});return h.apply(this,arguments)}g.sendGetLinkedAccountsRPC=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesClientErrors",["WAResultOrError","WASmaxInNewslettersBadRequestIQErrorResponseMixin","WASmaxInNewslettersItemNotFoundIQErrorResponseMixin","WASmaxInNewslettersRateLimitedIQErrorResponseMixin","WASmaxInNewslettersSuspendedIQErrorResponseMixin","WASmaxInNewslettersUnavailableForLegalReasonsResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxInNewslettersBadRequestIQErrorResponseMixin").parseBadRequestIQErrorResponseMixin(a,b);if(c.success)return d("WAResultOrError").makeResult({name:"BadRequestIQErrorResponse",value:c.value});var e=d("WASmaxInNewslettersUnavailableForLegalReasonsResponseMixin").parseUnavailableForLegalReasonsResponseMixin(a,b);if(e.success)return d("WAResultOrError").makeResult({name:"UnavailableForLegalReasonsResponse",value:e.value});var f=d("WASmaxInNewslettersItemNotFoundIQErrorResponseMixin").parseItemNotFoundIQErrorResponseMixin(a,b);if(f.success)return d("WAResultOrError").makeResult({name:"ItemNotFoundIQErrorResponse",value:f.value});var g=d("WASmaxInNewslettersSuspendedIQErrorResponseMixin").parseSuspendedIQErrorResponseMixin(a,b);if(g.success)return d("WAResultOrError").makeResult({name:"SuspendedIQErrorResponse",value:g.value});b=d("WASmaxInNewslettersRateLimitedIQErrorResponseMixin").parseRateLimitedIQErrorResponseMixin(a,b);return b.success?d("WAResultOrError").makeResult({name:"RateLimitedIQErrorResponse",value:b.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["BadRequestIQErrorResponse","UnavailableForLegalReasonsResponse","ItemNotFoundIQErrorResponse","SuspendedIQErrorResponse","RateLimitedIQErrorResponse"],[c,e,f,g,b])}g.parseSubscribeToLiveUpdatesClientErrors=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseClientError",["WAResultOrError","WASmaxInNewslettersSubscribeToLiveUpdatesClientErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInNewslettersSubscribeToLiveUpdatesClientErrors").parseSubscribeToLiveUpdatesClientErrors(a,b);return!c.success?c:d("WAResultOrError").makeResult({subscribeToLiveUpdatesClientErrors:c.value})}g.parseSubscribeToLiveUpdatesResponseClientError=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseServerError",["WASmaxInNewslettersInternalServerErrorIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInNewslettersInternalServerErrorIQErrorResponseMixin").parseInternalServerErrorIQErrorResponseMixin(a,b);return!c.success?c:c}g.parseSubscribeToLiveUpdatesResponseServerError=a}),98);
__d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseSuccess",["WAResultOrError","WASmaxInNewslettersIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"live_updates");if(!c.success)return c;c=d("WASmaxParseUtils").attrIntRange(c.value,"duration",30,600);if(!c.success)return c;a=d("WASmaxInNewslettersIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({liveUpdatesDuration:c.value},a.value))}g.parseSubscribeToLiveUpdatesResponseSuccess=a}),98);
__d("WASmaxOutNewslettersNewsletterIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutNewslettersBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.iqTo;a=d("WASmaxOutNewslettersBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").JID(a),xmlns:"newsletter"}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNewsletterIQSetRequestMixin=a}),98);
__d("WASmaxOutNewslettersSubscribeToLiveUpdatesRequest",["WASmaxJsx","WASmaxOutNewslettersNewsletterIQSetRequestMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutNewslettersNewsletterIQSetRequestMixin").mergeNewsletterIQSetRequestMixin(d("WASmaxJsx").smax("iq",null,d("WASmaxJsx").smax("live_updates",null)),a);return a}g.makeSubscribeToLiveUpdatesRequest=a}),98);
__d("WASmaxNewslettersSubscribeToLiveUpdatesRPC",["WAComms","WASmaxInNewslettersSubscribeToLiveUpdatesResponseClientError","WASmaxInNewslettersSubscribeToLiveUpdatesResponseServerError","WASmaxInNewslettersSubscribeToLiveUpdatesResponseSuccess","WASmaxOutNewslettersSubscribeToLiveUpdatesRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutNewslettersSubscribeToLiveUpdatesRequest").makeSubscribeToLiveUpdatesRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseSuccess").parseSubscribeToLiveUpdatesResponseSuccess(b,a);if(c.success)return{name:"SubscribeToLiveUpdatesResponseSuccess",value:c.value};var e=d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseClientError").parseSubscribeToLiveUpdatesResponseClientError(b,a);if(e.success)return{name:"SubscribeToLiveUpdatesResponseClientError",value:e.value};b=d("WASmaxInNewslettersSubscribeToLiveUpdatesResponseServerError").parseSubscribeToLiveUpdatesResponseServerError(b,a);if(b.success)return{name:"SubscribeToLiveUpdatesResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("SubscribeToLiveUpdates",{Success:c,ClientError:e,ServerError:b}))});return h.apply(this,arguments)}g.sendSubscribeToLiveUpdatesRPC=a}),98);
__d("WAWebAIAgentEnableAIReplyUtils",["WAWebAiAgentAutoReplyControlMutation","WAWebBizAiMuteUnmuteErrorDrawer.react","WAWebModalManager","WAWebProtobufsE2E.pb","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a.setAttempToEnableAi(!0);var b=(yield d("WAWebAiAgentAutoReplyControlMutation").changeAiReplyStatus(a.id,"ENABLED"));b.isSuccess?void a.setCapiThreadControl(d("WAWebProtobufsE2E.pb").Message$CloudAPIThreadControlNotification$CloudAPIThreadControl.CONTROL_TAKEN):d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebBizAiMuteUnmuteErrorDrawer.react"),{}))}catch(a){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebBizAiMuteUnmuteErrorDrawer.react"),{}))}a.setAttempToEnableAi(!1)});return j.apply(this,arguments)}g.enableAiReply=a}),98);
__d("WAWebAbPropsBridgeApi",["WAWebCmd"],(function(a,b,c,d,e,f,g){a={addAbPropsUpdateListener:function(a){d("WAWebCmd").Cmd.on("on_ab_props_update",a)}};g.AbPropsBridgeApi=a}),98);
__d("WAWebMsgAckBridge",["Promise","WALogger","WAWebAck","WAWebMsgInfoCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=new Map();if(a.length===1){var e=(yield d("WAWebMsgInfoCollection").MsgInfoCollection.find(a[0].id));c.set(a[0].id.toString(),e)}else c=(yield d("WAWebMsgInfoCollection").MsgInfoCollection.findManyAndUpdate(a.map(function(a){return a.id})));var f=new Map();yield (k||(k=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var a=c.get(b.id.toString());if(!a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: no orphan ack found for ",""])),b.id);return null}var e=null,g=null;a.playedRemaining===0&&a.played.length!==0?(g=d("WAWebAck").ACK.PLAYED,e=a.played):a.readRemaining===0&&a.read.length!==0?(g=d("WAWebAck").ACK.READ,e=a.read):a.deliveryRemaining===0&&a.delivery.length!==0&&(g=d("WAWebAck").ACK.RECEIVED,e=a.delivery);if(g==null||e==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: orphan ack has 0 receipt for ",""])),b.id);return null}d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: orphan ack "," for ",""])),g,b.id);f.set(b.id.toString(),{ack:g,t:Math.max.apply(Math,e.map(function(a){return a.t})),to:b.to,from:b.from})});return function(b){return a.apply(this,arguments)}}()));return f});return l.apply(this,arguments)}g.getHighestAcks=a}),98);
__d("WAWebAckMsgAction",["WALogger","WAWebBackendApi","WAWebMessageReceiptBatcher","WAWebMsgAckBridge","WAWebMsgCollection","WAWebWid","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(b.latestEditMsgKey&&!b.latestEditMsgKey.equals(a))return;var f=e.ack;e=e.t;a=a.remote;void b.updateAck(f);c("WAWebWid").isUser(a)&&(yield d("WAWebBackendApi").frontendSendAndReceive("updateMsgInfo",{updates:[{msgKey:b.id,ack:f,participant:a,ts:e}]}))});return l.apply(this,arguments)}function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches();a=a.map(function(a){var b;b=(b=d("WAWebMsgCollection").MsgCollection.get(a))!=null?b:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(a);if(!b){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["processOrphanReadReceipts: skip for msgId: ",""])),String(a));return null}return b}).filter(Boolean);var e=(yield d("WAWebMsgAckBridge").getHighestAcks(a));a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=e.get(a.id.toString());if(!b||b.ack===a.ack)return;return k(a.id,a,b)}catch(a){c("gkx")("26258")?d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed: processOrphanReadReceipts failed!"]))):d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]))).devConsole(a).sendLogs("processOrphanReadReceipts failed")}});return function(b){return a.apply(this,arguments)}}())});return m.apply(this,arguments)}g.updateMsgAck=k;g.processOrphanReadReceipts=a}),98);
__d("WAWebBizAiRepliesControlPopup.react",["fbt","WAWebAiAgentAutoReplyControlMutation","WAWebBizAiAgentStatusUtils","WAWebBizAiMuteUnmuteErrorDrawer.react","WAWebConfirmPopup.react","WAWebGenAiAgentLogEvents","WAWebModalManager","WAWebProtobufsE2E.pb","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var b=a.chat,e=!d("WAWebBizAiAgentStatusUtils").isChatAiEnabled(b);a=l(!1);var f=a[0],g=a[1];a=e?h._(/*BTDS*/"AI replies"):h._(/*BTDS*/"Respond manually");var i=e?h._(/*BTDS*/"AI will automatically respond to messages in this chat. You'll be notified with an unread message if AI doesn't have a response."):h._(/*BTDS*/"AI will stop automatically responding to messages in this chat."),j=e?h._(/*BTDS*/"Turn on"):h._(/*BTDS*/"Respond"),m=function(a){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebBizAiMuteUnmuteErrorDrawer.react"),{})),a||b.setForceDismissAiAgentBlockingBar(!0)},n=function(){d("WAWebGenAiAgentLogEvents").logGenAiAgentAutoReplyConfirmationDialogEvent(e?d("WAWebGenAiAgentLogEvents").WAWebGenAIAgentUserActionTargetEnum.TURN_ON:d("WAWebGenAiAgentLogEvents").WAWebGenAIAgentUserActionTargetEnum.TURN_OFF);g(!0);var a=e?"ENABLED":"MUTED";d("WAWebAiAgentAutoReplyControlMutation").changeAiReplyStatus(b.id,a).then(function(a){if(a.isSuccess){a=e?d("WAWebProtobufsE2E.pb").Message$CloudAPIThreadControlNotification$CloudAPIThreadControl.CONTROL_TAKEN:d("WAWebProtobufsE2E.pb").Message$CloudAPIThreadControlNotification$CloudAPIThreadControl.CONTROL_PASSED;void b.setCapiThreadControl(a)}else m(e)})["catch"](function(){m(e)});d("WAWebModalManager").ModalManager.close()},o=function(){d("WAWebGenAiAgentLogEvents").logGenAiAgentAutoReplyConfirmationDialogEvent(d("WAWebGenAiAgentLogEvents").WAWebGenAIAgentUserActionTargetEnum.CANCEL),d("WAWebModalManager").ModalManager.close()};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:a,okText:j,onOK:n,okSpinner:f===!0,okButtonType:"primary",cancelText:h._(/*BTDS*/"Cancel"),cancelButtonType:"secondary",onCancel:o,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizMerchantDetailsEntityTypePopup.react",["fbt","WAWebBizComplianceUtil","WAWebBusinessProfileTypes","WAWebButton.react","WAWebComplianceConstants","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModal.react","WAWebModalManager","WAWebRichTextField.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useEffect,o=b.useState,p={cursorPointer:{cursor:"x1ypdohk",$$css:!0},footer:{backgroundColor:"x13x2ugz",borderTopColor:"xyj1x25",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",paddingTop:"x889kno",paddingInlineEnd:"x2vl965",paddingBottom:"x1a8lsjc",paddingInlineStart:"xe2zdcy",$$css:!0},indentedOption:{marginInlineStart:"xvc51xn",$$css:!0},inputWrapper:{alignSelf:"xamitd3",display:"x78zum5",paddingInlineEnd:"x1xnnf8n",$$css:!0}};function a(a){var b=a.legalEntityDetails,e=a.onSave;a=o(b==null?void 0:b.entityType);var f=a[0],g=a[1];a=o(b==null?void 0:b.entityTypeCustom);var i=a[0],j=a[1];a=o(b==null?void 0:b.isRegistered);var k=a[0],r=a[1];n(function(){f!==(b==null?void 0:b.entityType)&&(j(""),r(!1))},[f,b==null?void 0:b.entityType]);a=m(function(){d("WAWebModalManager").ModalManager.close(),e(f,i,k)},[f,i,k,e]);var s=m(function(a){g(a.target.value)},[]),t=m(function(a){return r(a.target.checked)},[]);t=l.jsx(q,{value:k,label:h._(/*BTDS*/"Registered business"),inputType:"checkbox",xstyle:p.indentedOption,onChange:t,"data-testid":void 0});return l.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,children:l.jsxs(c("WAWebDrawer.react"),{theme:"settings",children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Business type"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsx("form",{className:"xqy66fx x5zjp28 xr1496l x162tt16",children:l.jsxs("ol",{children:[l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.limitedLiabilityPartnership,value:f,label:h._(/*BTDS*/"Limited liability partnership"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.soleProprietorship,value:f,label:h._(/*BTDS*/"Sole proprietorship"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.partnership,value:f,label:h._(/*BTDS*/"Partnership"),onChange:s,"data-testid":void 0}),f===d("WAWebBusinessProfileTypes").businessTypeOptions.partnership&&t,l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.publicCompany,value:f,label:h._(/*BTDS*/"Public company"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.privateCompany,value:f,label:h._(/*BTDS*/"Private company"),onChange:s,"data-testid":void 0}),l.jsx(q,{id:d("WAWebBusinessProfileTypes").businessTypeOptions.other,value:f,label:h._(/*BTDS*/"Other"),onChange:s,"data-testid":void 0}),f===d("WAWebBusinessProfileTypes").businessTypeOptions.other&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"xvc51xn","data-testid":void 0,children:l.jsx(d("WAWebRichTextField.react").RichTextField,{value:i,editable:!0,maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.ENTITY_TYPE_CUSTOM,inputPlaceholder:h._(/*BTDS*/"Label"),showRemaining:!0,onChange:function(a){a=a.text;return j(a)},theme:"text-input",lowProfile:!0})}),t]})]})})}),l.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",xstyle:p.footer,children:l.jsx(c("WAWebFlexItem.react"),{children:l.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,disabled:f===d("WAWebBusinessProfileTypes").businessTypeOptions.other&&!d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(i),children:h._(/*BTDS*/"Save")})})})]})})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a["data-testid"];b=b===void 0?"merchant-details-entity-type-option-popup":b;b=a.id;var e=a.inputType;e=e===void 0?"radio":e;var f=a.label,g=a.onChange,h=a.value;a=a.xstyle;b=b||f.toString();return l.jsx("li",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(p.cursorPointer,a),{children:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[l.jsx(c("WAWebFlexItem.react"),{xstyle:p.inputWrapper,children:l.jsx("input",{id:b,value:b,type:e,name:"entityType",checked:e==="radio"?h===b:h,className:"x1ypdohk",onChange:g})}),l.jsx(c("WAWebFlexItem.react"),{grow:1,children:l.jsx("label",{htmlFor:b,className:"x1lliihq x1lkfr7t x889kno xyri2b x1a8lsjc x1c1uobl x1ypdohk","data-testid":void 0,children:f})})]})}))}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBusinessMuteWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({BusinessMute:[1376,{muteT:[2,d("WAWebWamCodegenUtils").TYPES.TIMER],muteeId:[1,d("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{BusinessMute:[]});g.BusinessMuteWamEvent=a}),98);
__d("WAWebBusinessUnmuteWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({BusinessUnmute:[1378,{muteeId:[1,d("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{BusinessUnmute:[]});g.BusinessUnmuteWamEvent=a}),98);
__d("WAWebClearChatPopup.react",["fbt","WAWebChatFlowTypes","WAWebChatGetters","WAWebCheckBox.react","WAWebConfirmPopup.react","WAWebFrontendChatGetters","WAWebModalManager","WAWebSendClearChatAction","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebWamChatPSALogger","react","stylex","useWAWebChatValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useMemo,n=b.useState,o={section:{display:"x78zum5",fontSize:"x1f6kntn",lineHeight:"x16h55sf",$$css:!0},control:{display:"x1rg5ohu",flex:"x1okw0bk",verticalAlign:"x1uuroth",transition:"xqz5vs7",$$css:!0}};function a(a){var b=a.chat;a=d("useWAWebChatValues").useChatValues(b.id,[d("WAWebFrontendChatGetters").getKind,d("WAWebChatGetters").getIsPSA]);var e=a[0],f=a[1];a=n(function(){return!1});var g=a[0],i=a[1];a=function(){i(!g)};var k=function(){d("WAWebModalManager").ModalManager.close()},p=function(){b.pendingAction++;if(f){var a=b.msgs.last();d("WAWebWamChatPSALogger").logChatPSARemove(a,5,14)}d("WAWebSendClearChatAction").sendClear(b,g)["finally"](function(){b.pendingAction--});b.createdLocally=!1;d("WAWebModalManager").ModalManager.close()},q=m(function(){if(e!=null)switch(e){case d("WAWebChatFlowTypes").ChatKindType.Group:return h._(/*BTDS*/"Clear this chat?");case d("WAWebChatFlowTypes").ChatKindType.Chat:return h._(/*BTDS*/"Clear this chat?");case d("WAWebChatFlowTypes").ChatKindType.Broadcast:return h._(/*BTDS*/"Clear this chat?");case d("WAWebChatFlowTypes").ChatKindType.Newsletter:case d("WAWebChatFlowTypes").ChatKindType.Community:return""}return""},[e]);a=l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(o.section,d("WAWebUISpacing").uiMargin.top18),{children:[l.jsx("div",babelHelpers["extends"]({"data-testid":void 0},j.props(o.control,d("WAWebUISpacing").uiMargin.end10),{children:l.jsx(d("WAWebCheckBox.react").CheckBox,{onChange:a,checked:g,id:"menu-icon-clear-chat"})})),l.jsx("label",{htmlFor:"menu-icon-clear-chat",className:"x98rzlu x1ypdohk xqz5vs7",children:h._(/*BTDS*/"Keep starred messages")})]}));a=l.jsxs("div",{children:[l.jsx(d("WAWebText.react").WAWebTextMuted,{as:"p",children:h._(/*BTDS*/"This chat will be empty but will remain in your chat list.")}),a]});return l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:q,onOK:p,okText:h._(/*BTDS*/"Clear chat"),okButtonType:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?"solid-warning":void 0,onCancel:k,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebClearSelectedChatsAction",["fbt","Promise","WALogger","WAPromiseEach","WAWebActionToast.react","WAWebChatGetters","WAWebClearChatUtils","WAWebToastManager","WAWebWamChatActionEventsLogger","WAWebWamChatPSALogger","WAWebWamEnumChatActionEntryPoint","WAWebWamEnumChatActionType","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m=l||c("react");function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=c.keepStarred;c=c.entryPoint;var f=c===void 0?d("WAWebWamEnumChatActionEntryPoint").CHAT_ACTION_ENTRY_POINT.CONVERSATION_LIST_BULK_EDIT:c;a.forEach(function(a){a.set({createdLocally:!1});if(d("WAWebChatGetters").getIsPSA(a)){a=a.msgs.last();d("WAWebWamChatPSALogger").logChatPSARemove(a,5,14)}});c=(yield d("WAPromiseEach").promiseEach(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=d("WAWebClearChatUtils").initClearChat(a,e);b=d("WAWebClearChatUtils").finalizeClearChat(a,b);a.addPendingAction(b);yield b;d("WAWebWamChatActionEventsLogger").logChatActionEvent({chatActionEntryPoint:f,chatActionType:d("WAWebWamEnumChatActionType").CHAT_ACTION_TYPE.CLEAR});return{chat:a,success:!0}}catch(b){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error clearing chat - ",""])),String(b));return{chat:a,success:!1,error:b}}});return function(b){return a.apply(this,arguments)}}()));var g=[],h=[];c.forEach(function(a){a.success?g.push(a.chat):h.push({chat:a.chat,error:a.error})});g.length>0&&o(g.length);h.length>0&&(p(h.length),d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to clear "," out of "," chats"])),h.length,a.length));return{successes:g,failures:h}});return n.apply(this,arguments)}function o(a){a=h._(/*BTDS*/"_j{\"*\":\"{number} selected chats cleared\",\"_1\":\"1 selected chat cleared\"}",[h._plural(a,"number")]);a=new(d("WAWebActionToast.react").ActionType)(a);var c=(k||(k=b("Promise"))).resolve(a);d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebActionToast.react").ActionToast,{initialAction:a,pendingAction:c}))}function p(a){a=h._(/*BTDS*/"_j{\"*\":\"{number} selected chats couldn't be cleared\",\"_1\":\"1 selected chat couldn't be cleared\"}",[h._plural(a,"number")]);a=new(d("WAWebActionToast.react").ActionType)(a);var c=(k||(k=b("Promise"))).resolve(a);d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebActionToast.react").ActionToast,{initialAction:a,pendingAction:c}))}g.clearSelectedChats=a}),226);
__d("WAWebClearSelectedChatsPopup.react",["fbt","WAWebCheckBox.react","WAWebClearSelectedChatsAction","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModalManager","WDSFont.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={section:{fontSize:"x1f6kntn",marginTop:"x1nmyh1g",$$css:!0}};function a(a){var c=a.chats,e=a.onComplete;a=c.length;var f=l(function(){return!1}),g=f[0],i=f[1];f=function(){i(!g)};var j=function(){d("WAWebModalManager").ModalManager.close()},n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebClearSelectedChatsAction").clearSelectedChats(c,{keepStarred:g}),d("WAWebModalManager").ModalManager.close(),e==null||e()});return function(){return a.apply(this,arguments)}}();a=h._(/*BTDS*/"_j{\"*\":\"Clear {number} chats?\",\"_1\":\"Clear 1 chat?\"}",[h._plural(a,"number")]);f=k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:m.section,children:[k.jsx(d("WAWebCheckBox.react").CheckBox,{onChange:f,checked:g,testid:void 0,id:"keep-starred-checkbox-id"}),k.jsx("label",{htmlFor:"keep-starred-checkbox-id",className:"x150mmf0 x1ypdohk",children:h._(/*BTDS*/"Keep starred messages")})]});f=k.jsxs("div",{children:[k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:h._(/*BTDS*/"These chats will be empty but will remain in your chat list.")}),k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:h._(/*BTDS*/"This action cannot be undone.")}),f]});return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:a,onOK:n,okText:h._(/*BTDS*/"Clear chats"),okButtonType:"solid-warning",onCancel:j,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useWAWebLexicalOnContentChange",["LexicalComposerContext","react","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=d("LexicalComposerContext").useLexicalComposerContext(),e=b[0],f=c("useWAWebStableCallback")(a);i(function(){var a=e.registerTextContentListener(function(a){f(a)});return a},[e,f])}g.useLexicalOnContentChange=a}),98);
__d("WAWebCommandPaletteController",["Lexical","LexicalComposer","LexicalComposerContext","WAWebCommandPaletteInput.react","WAWebFlex.react","WAWebLexicalUtils","WAWebModalManager","WAWebNoop","WAWebPREGatingUtils","WAWebToArray","err","react","useWAWebLexicalEvent","useWAWebLexicalOnContentChange"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react"));e=b.createContext;var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useMemo,o=b.useState,p=b.useTransition,q={container:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",backgroundColor:"x1x0w6k2",color:"x6s6g2w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},pluginContainer:{maxHeight:"x12f24lm",$$css:!0}},r=e(null);function s(){var a=l(r);if(a==null)throw c("err")("useCommandPalette must be used inside of a CommandPaletteContext");return a}function t(a){var b=a.children,c=a.defaultPlugin,e=a.triggeredPlugins;a=o([]);var f=a[0],g=a[1];a=o("");var h=a[0],i=a[1];a=d("LexicalComposerContext").useLexicalComposerContext();var l=a[0];a=p();var q=a[0],s=a[1],t=f[f.length-1],u=k(function(a){d("WAWebLexicalUtils").setTextContent(l,a),i(a)},[l]),v=k(function(a,b){b=(b=b==null?void 0:b.input)!=null?b:"";u(b);g([].concat(f,[{plugin:a,input:b}]))},[u,f]),w=k(function(a){var b=f.slice(0,f.length-1),c=b[b.length-1],d="";c!=null&&((a==null?void 0:a.input)!=null?d=a.input:c.plugin.restoreInputOnBack===!0&&(d=c.input));u(d);g(b)},[u,f]),x=function(){return g([])},y=k(function(a,b){b=(b=b==null?void 0:b.input)!=null?b:"";u(b);g([{plugin:a,input:b}])},[u,g]),z=function(){d("WAWebModalManager").ModalManager.close()};m(function(){if(f.length===0){var a=e==null?void 0:e.find(function(a){var b=d("WAWebToArray").toArray(a.trigger);if(b.includes(h))return a});a!=null&&v(a.plugin)}},[h]);d("useWAWebLexicalEvent").useLexicalCommandListener(l,d("Lexical").KEY_BACKSPACE_COMMAND,function(a){h===""&&(a.preventDefault(),w());return!1});d("useWAWebLexicalOnContentChange").useLexicalOnContentChange(function(a){t!=null&&(t.input=a),d("WAWebPREGatingUtils").isPRECommandPaletteEnabled()?s(function(){i(a)}):i(a)});a=n(function(){var a;return{input:h,pushPlugin:v,popPlugin:w,clearStack:x,replaceStack:y,closeModal:z,activePlugin:(a=t==null?void 0:t.plugin)!=null?a:c,pluginStack:f,pluginList:e,isSearching:q}},[t==null?void 0:t.plugin,c,h,q,w,v,y,f,e]);return j.jsx(r.Provider,{value:a,children:b})}t.displayName=t.name+" [from "+f.id+"]";function u(){var a=s();a=a.activePlugin;return a!=null?j.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:q.pluginContainer,children:j.jsx(a.Component,{})}):null}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.defaultPlugin;a=a.triggeredPlugins;var e=n(function(){return{namespace:"CommandPaletteInput",onError:c("WAWebNoop")}},[]);return j.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:q.container,children:j.jsx(d("LexicalComposer").LexicalComposer,{initialConfig:e,children:j.jsxs(t,{defaultPlugin:b,triggeredPlugins:a,children:[j.jsx(d("WAWebCommandPaletteInput.react").CommandPaletteInput,{}),j.jsx(u,{})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useCommandPalette=s;g.CommandPalette=a}),98);
__d("WAWebCommandPaletteInput.react",["LexicalErrorBoundary","LexicalPlainTextPlugin","WAWebCommandPaletteController","WAWebFlex.react","WAWebMultilinePlugin","WAWebRichTextInputContentEditable.react","WAWebSearchIcon.react","WAWebUISpacing","WDSSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={container:{height:"xsdox4t",boxSizing:"x9f619",$$css:!0},relative:{position:"x1n2onr6",$$css:!0},contentEditable:{width:"xh8yej3",$$css:!0},prefix:{display:"x78zum5",alignItems:"x6s0dn4",color:"x1r12vwb",$$css:!0},prefixSeparator:{display:"x78zum5",fontWeight:"x1xlr1w8",$$css:!0}};function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=a.activePlugin;b=(b=b==null?void 0:b.placeholder)!=null?b:"Search chats, messages, settings, and more";var e=a.pluginStack.length?j.jsx("div",{className:"x78zum5 x1q0g3np x6s0dn4",children:a.pluginStack.filter(function(a){return a.plugin.shortName}).map(function(a){return j.createElement("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([k.prefix,d("WAWebUISpacing").uiMargin.start8]),{key:a.plugin.id}),j.jsx("div",{className:"x2aouup xlyipyv x6ikm8r x10wlt62 xuxw1ft",children:a.plugin.shortName}),j.jsx("div",babelHelpers["extends"]({},i.props([k.prefixSeparator,d("WAWebUISpacing").uiPadding.start8]),{children:"/"})))})}):null;return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",padding:[8,16],xstyle:k.container,children:[e==null?j.jsx(d("WAWebSearchIcon.react").SearchIcon,{}):e,j.jsx(d("WAWebFlex.react").FlexRow,{grow:1,xstyle:k.relative,marginStart:8,children:j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:j.jsx(d("WAWebRichTextInputContentEditable.react").InputContentEditable,{xstyle:[k.contentEditable,d("WAWebUISpacing").uiMargin.start4],focusOnMount:!0,placeholder:b}),ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary})}),a.isSearching&&j.jsx(c("WDSSpinner.react"),{size:24}),j.jsx(d("WAWebMultilinePlugin").MultilinePlugin,{multiline:!1})]})}a.displayName=a.name+" [from "+f.id+"]";g.CommandPaletteInput=a}),98);
__d("WAWebThemeCommandPalettePlugin",["WAWebCommandPaletteController","WAWebLexicalWAWebMenu.react","WAWebMenuItems.react","WAWebSettingsThemeIcon.react","WAWebSystemTheme","WAWebThemeContext","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useContext;function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=k(d("WAWebThemeContext").ThemeContext),e=b.systemThemeMode?"system":b.theme,f=function(d){d==="system"?(b.setSystemThemeMode(!0),b.setTheme(c("WAWebSystemTheme").getCurrentTheme())):(b.setSystemThemeMode(!1),b.setTheme(d)),a.closeModal()},g=j.jsx(d("WAWebMenuItems.react").SelectMenuItem,{optionId:"dark",primary:"Dark",onSelect:function(){return f("dark")}},"dark"),h=j.jsx(d("WAWebMenuItems.react").SelectMenuItem,{optionId:"light",primary:"Light",onSelect:function(){return f("light")}},"light"),i=j.jsx(d("WAWebMenuItems.react").SelectMenuItem,{optionId:"system",primary:"System",onSelect:function(){return f("system")}},"system"),l=[];b.theme==="light"?l=[g,h,i]:l=[h,g,i];return j.jsx(d("WAWebLexicalWAWebMenu.react").LexicalWAWebMenu,{forceSelection:!0,children:j.jsx(d("WAWebMenuItems.react").SelectMenuItemGroup,{initialSelection:e,children:l.map(function(a){return a})})})}a.displayName=a.name+" [from "+f.id+"]";b={plugin:{id:"ThemeCommandPalettePlugin",placeholder:"Choose a theme",shortName:j.jsx(d("WAWebSettingsThemeIcon.react").SettingsThemeIcon,{width:16,height:16}),Component:a},trigger:"/theme",doc:{name:"App Theme",description:"Switch between the light and dark themes"}};g.ThemeCommandPalettePlugin=b}),98);
__d("WAWebCommandPalettePlugins",["WAWebThemeCommandPalettePlugin","cr:8750","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=[d("WAWebThemeCommandPalettePlugin").ThemeCommandPalettePlugin];if(!c("gkx")("26258")){var e;e=(e=b("cr:8750")==null?void 0:b("cr:8750").filter(Boolean))!=null?e:[];a.unshift.apply(a,e)}return a}g.getAvailablePlugins=a}),98);
__d("WAWebContactCell",["WAWebBizGatingUtils","WAWebChatStatus","WAWebChatTextStatusWrapper","WAWebContactGetters","WAWebContactImage.react","WAWebName.react","WAWebTextStatusGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=i.jsx(d("WAWebName.react").Name,{contact:a,showBusinessCheckmark:d("WAWebContactGetters").getShowBusinessCheckmarkAsPrimary(a),showLabelIcon:d("WAWebBizGatingUtils").canDisplayLabel(),titlify:!0,ellipsify:!0,you:!0}),e;d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()?e=i.jsx(c("WAWebChatTextStatusWrapper"),{contactId:a.id}):e=i.jsx(c("WAWebChatStatus"),{id:a.id});a=i.jsx(d("WAWebContactImage.react").ContactImage,{contact:a,size:40});return{primary:b,secondary:e,detailLeft:a}}g.getContactCellContent=a}),98);
__d("WAWebContact.MenuItem",["WAWebContactCell","WAWebMenuItems.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.contact;a=a.onSelect;return i.jsx(d("WAWebMenuItems.react").ActionMenuItem,babelHelpers["extends"]({optionId:"contact-"+b.id.toString(),onSelect:a},d("WAWebContactCell").getContactCellContent(b)))}a.displayName=a.name+" [from "+f.id+"]";g.ContactMenuItem=a}),98);
__d("WAWebContactSearchModel",["WAWebContactCollection","WAWebContactGetters","WAWebPhoneNumberSearch","WAWebSearchModel","WAWebSearchUtils"],(function(a,b,c,d,e,f,g){a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.id="ContactSearch",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.queryFn=function(a,b){var c=d("WAWebSearchUtils").normalizeString(a),e=d("WAWebPhoneNumberSearch").numberSearch(c);b=d("WAWebSearchUtils").filterPaginate(d("WAWebContactCollection").ContactCollection.getModelsArray(),function(b){var f=d("WAWebContactGetters").getIsUser(b);return a===""&&f?!0:f&&b.searchMatch(c,e)},b==null?void 0:b.pagination);var f=b.results;b=b.pagination;f=f.map(function(a){return{id:a.id.toString(),type:"contact",data:a}});return{type:"contact",results:f,pagination:b}};return b}(d("WAWebSearchModel").Search);g.ContactSearch=a}),98);
__d("WAWebSearchCollection",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.models=[],this.models=a}var b=a.prototype;b.query=function(a,b){var c;b!=null&&(b.pageLengthPerModel!=null&&(c={pagination:{pageLength:b.pageLengthPerModel,page:0}}));return this.models.map(function(b){b=b.query(a,c);return b}).filter(Boolean)};return a}();f.SearchCollection=a}),66);
__d("WAWebSparklesIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="sparkles";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=25;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 25",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M6.96618 14.136C6.90537 13.8719 6.74322 13.75 6.49997 13.75C6.25672 13.75 6.07429 13.8922 6.03376 14.136C5.46619 17.1834 5.48646 17.1631 2.42568 17.7726C2.14189 17.8335 2 18.0164 2 18.2398C2 18.4836 2.14189 18.6665 2.42568 18.7274C5.48646 19.3369 5.38511 19.3572 6.03376 22.3437C6.07429 22.5875 6.25672 22.75 6.49997 22.75C6.76347 22.75 6.90537 22.6078 6.96618 22.3437C7.61483 19.3572 7.51347 19.3369 10.5743 18.7274C10.8377 18.6665 11 18.5039 11 18.2398C11 17.996 10.8377 17.8335 10.5743 17.7726C7.51724 17.2044 7.51348 17.1835 6.9682 14.1472L6.96618 14.136Z",fill:"currentColor",style:{fillOpacity:1}}),k.jsx("path",{d:"M15.1417 3.39253C15.1195 2.99372 14.854 2.75 14.4779 2.75C14.146 2.75 13.8805 2.99372 13.8585 3.34822C13.1506 8.57718 12.9956 8.55501 7.57521 9.61853C7.24331 9.66284 7 9.90658 7 10.2611C7 10.6156 7.24331 10.8593 7.57521 10.9036C12.9956 11.6791 13.1725 11.8342 13.8585 17.1296C13.8805 17.5063 14.146 17.75 14.4779 17.75C14.854 17.75 15.1195 17.5063 15.1417 17.1075C15.7833 11.9007 16.0708 11.9228 21.4248 10.9036C21.7567 10.8371 22 10.6156 22 10.2611C22 9.88441 21.7567 9.66284 21.3362 9.61853C16.0266 8.73228 15.7833 8.59932 15.1417 3.39253Z",fill:"currentColor",style:{fillOpacity:1}})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SparklesIcon=a}),98);
__d("WAWebDefaultCommandPalettePlugin",["Promise","WAWebChatCollection","WAWebChatListMenuItem.react","WAWebChatMsgIcon.react","WAWebChatSearchModel","WAWebChatlistUtils","WAWebCommandPaletteController","WAWebContact.MenuItem","WAWebContactSearchModel","WAWebContactsIcon.react","WAWebFlex.react","WAWebFrontendChatGetters","WAWebKeyboardShortcut.react","WAWebLexicalWAWebMenu.react","WAWebNoop","WAWebPanelRecentIcon.react","WAWebSearchCollection","WAWebSettingSearchModel","WAWebSettings.MenuItem","WAWebSettingsIcon.react","WAWebSparklesIcon.react","WAWebStaticMenuItem.react","WAWebSvgComponentBase","WAWebText.react","react"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useMemo,n=e.useState;function o(a){var b=a.icon;a=a.title;return k.jsx(d("WAWebStaticMenuItem.react").MenuHeading,{children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{paddingEnd:8,children:b}),a]})})}o.displayName=o.name+" [from "+f.id+"]";function p(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=3,e=0,f=[],g=d("WAWebChatCollection").ChatCollection.getModelsArray();for(var h=0;h<g.length;h++){var i=g[h];!i.active&&d("WAWebFrontendChatGetters").getShouldAppearInList(i)&&(f.push(i),i.pin==null&&e++);if(e===b)break}i=f.sort(function(a,b){return((b=b.t)!=null?b:0)-((b=a.t)!=null?b:0)}).slice(0,b);return k.jsxs(d("WAWebLexicalWAWebMenu.react").LexicalWAWebMenu,{forceSelection:!0,children:[k.jsx(o,{title:"Recent Chats",icon:k.jsx(d("WAWebPanelRecentIcon.react").PanelRecentIcon,{})}),i.map(function(b){return k.jsx(d("WAWebChatListMenuItem.react").ChatMenuItem,{optionId:"recent-chat-"+b.id.toString(),chat:b,onSelect:function(){d("WAWebChatlistUtils").openExistingChat(b.id)["catch"](c("WAWebNoop")),a.closeModal()}},b.id.toString())})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.section,e=d("WAWebCommandPaletteController").useCommandPalette();switch(b.type){case"setting":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Settings",icon:k.jsx(d("WAWebSettingsIcon.react").SettingsIcon,{width:16,height:16,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL})}),k.jsx(d("WAWebSettings.MenuItem").SettingsMenu,{settings:b.results.map(function(a){return a.data}),onSelect:function(a){d("WAWebSettings.MenuItem").openSettingDrawer(a.step),e.closeModal()}})]});case"chat":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Chats",icon:k.jsx(d("WAWebChatMsgIcon.react").ChatMsgIcon,{width:24,height:24,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL})}),b.results.map(function(a){return k.jsx(d("WAWebChatListMenuItem.react").ChatMenuItem,{optionId:"context-menu-chat-"+a.id,chat:a.data,onSelect:function(){d("WAWebChatlistUtils").openExistingChat(a.data.id)["catch"](c("WAWebNoop")),e.closeModal()}},b.type+"-"+a.id)})]});case"contact":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Contacts",icon:k.jsx(d("WAWebContactsIcon.react").ContactsIcon,{width:24,height:24,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL})}),b.results.map(function(a){return k.jsx(d("WAWebContact.MenuItem").ContactMenuItem,{contact:a.data,onSelect:function(){d("WAWebChatlistUtils").openOrCreateLatestChat(a.data.id)["catch"](c("WAWebNoop")),e.closeModal()}},b.type+"-"+a.id)})]});default:return}}q.displayName=q.name+" [from "+f.id+"]";function r(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b;if(a.pluginList!=null){a=a.pluginList.find(function(a){return a.plugin.id==="HelpCommandPalettePlugin"});a!=null&&(b=function(){return k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebStaticMenuItem.react").MenuSeparator,{}),k.jsxs(d("WAWebFlex.react").FlexRow,{padding:[8,24,16,24],align:"center",gap:16,children:[k.jsx(d("WAWebSparklesIcon.react").SparklesIcon,{width:32,height:32,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL}),k.jsxs(d("WAWebText.react").WAWebTextMuted,{children:["Type ",k.jsx(d("WAWebKeyboardShortcut.react").KeyboardKey,{value:"/?"})," to see available plugins"]})]})]})})}return k.jsxs(k.Fragment,{children:[k.jsx(p,{}),b!=null&&k.jsx(b,{})]})}r.displayName=r.name+" [from "+f.id+"]";function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),e=n([]),f=e[0],g=e[1],i=m(function(){return new(d("WAWebSearchCollection").SearchCollection)([new(d("WAWebSettingSearchModel").SettingSearch)({maxPageLength:3}),new(d("WAWebChatSearchModel").ChatSearch)({maxPageLength:4}),new(d("WAWebContactSearchModel").ContactSearch)({maxPageLength:4})])},[]);l(function(){(h||(h=b("Promise"))).all(i.query(a.input)).then(function(a){return g(a)})["catch"](c("WAWebNoop"))},[i,a.input]);return a.input===""?k.jsx(r,{}):k.jsx(d("WAWebLexicalWAWebMenu.react").LexicalWAWebMenu,{forceSelection:!0,children:f.map(function(a){return a.results.length>0&&k.jsx(q,{section:a},a.type)})})}a.displayName=a.name+" [from "+f.id+"]";e={id:"DefaultCommand",placeholder:"Search anything",shortName:null,Component:a};g.DefaultCommandPalettePlugin=e}),98);
__d("WAWebHelpCommandPalettePlugin",["WAWebCommandPaletteController","WAWebDevOnlyBadge.react","WAWebFlex.react","WAWebLexicalWAWebMenu.react","WAWebMenuItems.react","WAWebToArray","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={trigger:{backgroundColor:"x18ba5f9",color:"xzwifym",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0}};function k(a){a=a.trigger;a=d("WAWebToArray").toArray(a);return i.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",padding:8,xstyle:j.trigger,children:a[0]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return{plugin:{id:"HelpCommandPalettePlugin",placeholder:"Search extra command palette functionality",shortName:"?",Component:function(){var b=d("WAWebCommandPaletteController").useCommandPalette();return i.jsx(d("WAWebLexicalWAWebMenu.react").LexicalWAWebMenu,{children:a.map(function(a){return a.doc!=null?i.jsx(d("WAWebMenuItems.react").ActionMenuItem,{optionId:a.plugin.id,detailRight:i.jsx(k,{trigger:a.trigger}),primary:a.doc.isDevOnly===!0?i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:a.doc.name}):a.doc.name,secondary:a.doc.description,onSelect:function(){return b.replaceStack(a.plugin)}},a.plugin.id):null}).filter(Boolean)})}},trigger:["/?","/help"],doc:{name:"Help",description:"Discover all of the things the Command Palette can do"}}}g.buildHelpCommand=a}),98);
__d("WAWebCommandPalette.react",["WAWebChatlistPanel.react","WAWebChatlistPanelMode","WAWebCmd","WAWebCommandPaletteController","WAWebCommandPalettePlugins","WAWebCommandPaletteUtils","WAWebDefaultCommandPalettePlugin","WAWebHelpCommandPalettePlugin","WAWebModal.react","WAWebModalManager","WAWebSettingsGetters","react","useWAWebListener","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;function l(){var a=d("WAWebCommandPalettePlugins").getAvailablePlugins(),b=d("WAWebHelpCommandPalettePlugin").buildHelpCommand(a);return{defaultPlugin:d("WAWebDefaultCommandPalettePlugin").DefaultCommandPalettePlugin,triggeredPlugins:[].concat(a,[b])}}function m(a){a=a.plugins;a=a==null?l():a;var b=a.defaultPlugin;a=a.triggeredPlugins;return j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.CommandPaletteV2,children:j.jsx(d("WAWebCommandPaletteController").CommandPalette,{defaultPlugin:b,triggeredPlugins:a})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){d("WAWebModalManager").ModalManager.open(j.jsx(m,{plugins:a}))}function n(){var a=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);a=a[0];return j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.CommandPalette,children:j.jsx(d("WAWebChatlistPanel.react").ChatlistPanel,{showArchiveV2:a,mode:c("WAWebChatlistPanelMode").CommandPalette})})}n.displayName=n.name+" [from "+f.id+"]";function b(){k(function(){d("WAWebCommandPaletteUtils").setIsCommandPaletteOpen(!0);return function(){d("WAWebCommandPaletteUtils").setIsCommandPaletteOpen(!1)}},[]);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_command_palette",function(){return d("WAWebModalManager").ModalManager.close()});return j.jsx(n,{})}b.displayName=b.name+" [from "+f.id+"]";g.openCommandPaletteV2Modal=a;g.CommandPaletteModal=b}),98);
__d("WAWebCatalogLogEvents",["$InternalEnum","WAWebBizGatingUtils","WAWebSmbUserJourneyWamEvent","WAWebWamEnumEntryPoint","WAWebWamEnumSmbFeatureNameEnum","WAWebWamEnumSmbUserActionTypeEnum","WAWebWamEnumSurfaceType"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({Country:"country",Continue:"continue",Back:"back",Save:"save"});function a(a){new(d("WAWebSmbUserJourneyWamEvent").SmbUserJourneyWamEvent)({smbUserActionType:d("WAWebWamEnumSmbUserActionTypeEnum").SMB_USER_ACTION_TYPE_ENUM.VIEW,surface:a?d("WAWebWamEnumSurfaceType").SURFACE_TYPE.ADD_ITEM:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.EDIT_ITEM,smbFeatureName:d("WAWebWamEnumSmbFeatureNameEnum").SMB_FEATURE_NAME_ENUM.CATALOG}).commit()}function c(){if(!d("WAWebBizGatingUtils").isCountryOfOriginEnabled())return;new(d("WAWebSmbUserJourneyWamEvent").SmbUserJourneyWamEvent)({smbUserActionType:d("WAWebWamEnumSmbUserActionTypeEnum").SMB_USER_ACTION_TYPE_ENUM.CLICK,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.PRODUCT_DETAILS,entryPoint:d("WAWebWamEnumEntryPoint").ENTRY_POINT.ADD_EDIT_PRODUCT,smbFeatureName:d("WAWebWamEnumSmbFeatureNameEnum").SMB_FEATURE_NAME_ENUM.CATALOG,userActionTarget:h.Save}).commit()}function e(){new(d("WAWebSmbUserJourneyWamEvent").SmbUserJourneyWamEvent)({smbUserActionType:d("WAWebWamEnumSmbUserActionTypeEnum").SMB_USER_ACTION_TYPE_ENUM.VIEW,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.ORIGIN_COUNTRY,entryPoint:d("WAWebWamEnumEntryPoint").ENTRY_POINT.ADD_EDIT_PRODUCT,smbFeatureName:d("WAWebWamEnumSmbFeatureNameEnum").SMB_FEATURE_NAME_ENUM.CATALOG}).commit()}function f(){new(d("WAWebSmbUserJourneyWamEvent").SmbUserJourneyWamEvent)({smbUserActionType:d("WAWebWamEnumSmbUserActionTypeEnum").SMB_USER_ACTION_TYPE_ENUM.VIEW,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.IMPORTER_COUNTRY,entryPoint:d("WAWebWamEnumEntryPoint").ENTRY_POINT.ADD_EDIT_PRODUCT,smbFeatureName:d("WAWebWamEnumSmbFeatureNameEnum").SMB_FEATURE_NAME_ENUM.CATALOG}).commit()}function i(a,b,c){if(!d("WAWebBizGatingUtils").isCountryOfOriginEnabled())return;c=c!=null&&a===d("WAWebWamEnumSurfaceType").SURFACE_TYPE.ORIGIN_COUNTRY?JSON.stringify(c):void 0;new(d("WAWebSmbUserJourneyWamEvent").SmbUserJourneyWamEvent)({smbUserActionType:d("WAWebWamEnumSmbUserActionTypeEnum").SMB_USER_ACTION_TYPE_ENUM.CLICK,surface:a,entryPoint:d("WAWebWamEnumEntryPoint").ENTRY_POINT.ADD_EDIT_PRODUCT,smbFeatureName:d("WAWebWamEnumSmbFeatureNameEnum").SMB_FEATURE_NAME_ENUM.CATALOG,userActionTarget:b,extraAttributes:c}).commit()}g.SmbUserActionTargetEnum=h;g.logAddEditProductDetailsViewed=a;g.logSMBAddEditProductDetailsSaveClicked=c;g.logAddEditCountryOfOriginViewed=e;g.logAddEditImporterCountryListViewed=f;g.logSMBCountryListClicked=i}),98);
__d("WAWebCountrySelectorPopup.react",["fbt","WAWebBusinessProfileIconSection.react","WAWebButton.react","WAWebCatalogLogEvents","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModal.react","WAWebModalManager","WAWebRichTextField.react","WAWebSearchIcon.react","WAWebUISpacing","WAWebWamEnumSurfaceType","fbs","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useState,n={inputWrapper:{display:"x78zum5",alignSelf:"xamitd3",paddingInlineEnd:"x1xnnf8n",$$css:!0},formWrapper:{overflowY:"x1odjw0f",$$css:!0},search:{backgroundColor:"x1y4abq1",paddingTop:"x889kno",paddingInlineEnd:"x5zjp28",paddingBottom:"x1a8lsjc",paddingInlineStart:"x162tt16",$$css:!0},description:{color:"x40yjcy",fontSize:"x1jchvi3",lineHeight:"xa7kkou",$$css:!0},footer:{paddingTop:"x889kno",paddingInlineEnd:"x2vl965",paddingBottom:"x1a8lsjc",paddingInlineStart:"xe2zdcy",backgroundColor:"x13x2ugz",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function a(a){var b=a.countries,e=a.countryCode,f=a.description,g=a.lastUsedCountryCode,i=a.onSave,j=a.surface;a=a.title;var p=m(""),q=p[0],r=p[1];p=m(e||"");var s=p[0],t=p[1];e=l(function(){d("WAWebCatalogLogEvents").logSMBCountryListClicked(j,d("WAWebCatalogLogEvents").SmbUserActionTargetEnum.Continue,{country:s}),d("WAWebModalManager").ModalManager.close(),i(s)},[s,i]);var u=l(function(a){d("WAWebCatalogLogEvents").logSMBCountryListClicked(j,d("WAWebCatalogLogEvents").SmbUserActionTargetEnum.Country),t(a.target.value)},[]);return k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,children:k.jsxs(c("WAWebDrawer.react"),{theme:"settings",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:function(){j===d("WAWebWamEnumSurfaceType").SURFACE_TYPE.ORIGIN_COUNTRY&&d("WAWebCatalogLogEvents").logSMBCountryListClicked(j,d("WAWebCatalogLogEvents").SmbUserActionTargetEnum.Back),d("WAWebModalManager").ModalManager.close()}}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",children:[k.jsx(c("WAWebFlexItem.react"),{shrink:0,xstyle:n.search,children:k.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebSearchIcon.react").SearchIcon,theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMarginSmallGutter,content:k.jsx(d("WAWebRichTextField.react").RichTextField,{value:q,editable:!0,inputPlaceholder:h._(/*BTDS*/"Search\u2026"),onChange:function(a){return r(a.text)},focusOnMount:!0,theme:"text-input",lowProfile:!0})})}),k.jsx(c("WAWebFlexItem.react"),{shrink:0,xstyle:[n.description,d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.horiz30],children:f}),k.jsx(c("WAWebFlexItem.react"),{xstyle:n.formWrapper,grow:1,children:k.jsx("form",{className:"x123j3cw xyri2b xs9asl8 x1c1uobl",children:k.jsx("ol",{children:b.filter(function(a){var b=a[0];a=a[1];return b.toLowerCase().includes(q.toLowerCase())||a.toString().toLowerCase().includes(q.toLowerCase())}).map(function(a){var b=a[0];a=a[1];return k.jsx(o,{selectedCountryCode:s,lastUsedCountryCode:g,countryCode:b,label:a,onChange:u},b)})})})})]})}),k.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",xstyle:n.footer,children:k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:e,children:h._(/*BTDS*/"Save")})})})]})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.countryCode,e=a["data-testid"];e=e===void 0?"country-selector-popup-option":e;e=a.label;var f=a.lastUsedCountryCode,g=a.onChange;a=a.selectedCountryCode;return k.jsx("li",{className:"x889kno x5zjp28 x1a8lsjc x162tt16 x1ypdohk",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:n.inputWrapper,children:k.jsx("input",{id:b,value:b,type:"radio",name:"countryCode",checked:b===a,className:"x1ypdohk",onChange:g})}),k.jsxs(c("WAWebFlexItem.react"),{grow:1,children:[k.jsx("label",{htmlFor:b,className:"x1lliihq x1lkfr7t x1ypdohk","data-testid":void 0,children:e}),f===b&&k.jsx("span",{className:"x1lliihq x40yjcy x1jchvi3 xa7kkou",children:c("fbs")._(/*BTDS*/"(Last Used)")})]})]})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupsV4InviteFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingConfirmPopup.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebGroupsV4InviteFlow.react").__setRef("WAWebGroupsV4InviteFlowLoadable").load());return a}),"GroupsV4InviteFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingConfirmPopup.react"),{okText:h._(/*BTDS*/"Invite to group"),error:Boolean(a.error)})}});g.requireBundle=a;g.GroupsV4InviteFlowLoadable=d}),226);
__d("WAWebConversationMenus",["fbt","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentUtils","WAWebChatAssignmentWithContainerIcon.react","WAWebChatContextMenuItemEditList.react","WAWebChatContextMenuItemLock.react","WAWebChatEphemerality","WAWebChatGroupUtils","WAWebCheckRefreshedIcon.react","WAWebClearRefreshedIcon.react","WAWebCloseCircleRefreshedIcon.react","WAWebCmd","WAWebCopyRefreshedIcon.react","WAWebCopyUtils","WAWebDeleteMenuItem.react","WAWebDisappearingMessagesRefreshedIcon.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebFavoriteRefreshedIcon.react","WAWebGroupType","WAWebInboxFiltersGatingUtils","WAWebInfoRefreshedIcon.react","WAWebL10NHelpers","WAWebLeaveCommunityModal.react","WAWebListsGatingUtils","WAWebModalManager","WAWebMuteMenuItem.react","WAWebSpamConstants","WAWebStateUtils","WAWebSuspendedGroupUtils","WAWebUIRefreshGatingUtils","WAWebUnfavoriteRefreshedIcon.react","WAWebWamEnumEphemeralSettingEntryPointType","WAWebWamEnumFavoritesUpdateEntryPoint","cr:23149","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){if(d("WAWebChatGroupUtils").isGroupExitExperienceEnabledForChat(a))d("WAWebSuspendedGroupUtils").openLeaveAndReportGroupModal(a,d("WAWebSpamConstants").SpamFlow.GroupOverflowMenuLeaveReportUpsell);else{var b;b=(b=a.groupMetadata)==null?void 0:b.getParentGroupChat();b!=null&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebLeaveCommunityModal.react").LeaveCommunityModal,{chat:b})):d("WAWebCmd").Cmd.deleteOrExitChat(a)}}function a(a,e,f){var g,i,l=[],m=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)},n=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();d("WAWebChatAssignmentUtils").canAssignChats()&&(l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(a,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},icon:n?j.jsx(d("WAWebChatAssignmentWithContainerIcon.react").ChatAssignmentWithContainerIcon,{}):null,children:h._(/*BTDS*/"Assign chat")},"assignChat")),n&&l.push(j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{})));l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},icon:n?j.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{}):null,children:((g=a.groupMetadata)==null?void 0:g.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP?h._(/*BTDS*/"Announcements info"):h._(/*BTDS*/"Group info")},"info"));l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:e,icon:n?j.jsx(d("WAWebCheckRefreshedIcon.react").CheckRefreshedIcon,{}):null,children:h._(/*BTDS*/"Select messages")},"select"));a.mute.canMute()&&l.push(j.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(b){return d("WAWebCmd").Cmd.muteChat(a,b)},mute:a.mute,chat:a},"mute"));d("WAWebChatEphemerality").shouldShowEphemeralSetting(a)&&(i=a.groupMetadata)!=null&&i.canSetEphemeralSetting()&&l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:m,icon:n?j.jsx(d("WAWebDisappearingMessagesRefreshedIcon.react").DisappearingMessagesRefreshedIcon,{}):null,children:h._(/*BTDS*/"Disappearing messages")},"disappearingMessages"));n&&l.push(j.jsx(d("WAWebChatContextMenuItemLock.react").ChatContextMenuItemLock,{chat:a},"Lock"));if(a.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesEnabled()){a.isFavorite?(g=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._(/*BTDS*/"Remove from favourites"):h._(/*BTDS*/"Remove from favorites"),e=j.jsx(d("WAWebUnfavoriteRefreshedIcon.react").UnfavoriteRefreshedIcon,{})):(g=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._(/*BTDS*/"Add to favourites"):h._(/*BTDS*/"Add to favorites"),e=j.jsx(d("WAWebFavoriteRefreshedIcon.react").FavoriteRefreshedIcon,{}));l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(a,!a.isFavorite,d("WAWebWamEnumFavoritesUpdateEntryPoint").FAVORITES_UPDATE_ENTRY_POINT.CHAT_HEADER_CONTEXT_MENU)},icon:n?e:null,children:g},"favorite"))}d("WAWebListsGatingUtils").isListsEnabled()&&l.push(j.jsx(d("WAWebChatContextMenuItemEditList.react").ChatContextMenuItemEditList,{chat:a,displayContext:"chat-header"}));d("WAWebCopyUtils").canCopySelection()&&f!=null&&l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){d("WAWebCopyUtils").copySelection(f)},icon:n?j.jsx(d("WAWebCopyRefreshedIcon.react").CopyRefreshedIcon,{}):null,children:h._(/*BTDS*/"Copy selection")}));l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},icon:n?j.jsx(d("WAWebCloseCircleRefreshedIcon.react").CloseCircleRefreshedIcon,{}):null,children:h._(/*BTDS*/"Close chat")},"close"));n&&l.push(j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}));l.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},icon:n?j.jsx(d("WAWebClearRefreshedIcon.react").ClearRefreshedIcon,{}):null,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Clear chat")},"clear"));m=function(){k(a)};l.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:m,chat:a},"delete"));b("cr:23149")==null||b("cr:23149").addDevItemsToMenu(l,a);return l}function e(a,b){var e=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),f=[];f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},icon:e?j.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{}):null,children:h._(/*BTDS*/"Broadcast list info")},"info"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,icon:e?j.jsx(d("WAWebCheckRefreshedIcon.react").CheckRefreshedIcon,{}):null,children:h._(/*BTDS*/"Select messages")},"select"));c("gkx")("26258")||f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},icon:e?j.jsx(d("WAWebCloseCircleRefreshedIcon.react").CloseCircleRefreshedIcon,{}):null,children:h._(/*BTDS*/"Close chat")},"close"));e&&f.push(j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},icon:e?j.jsx(d("WAWebClearRefreshedIcon.react").ClearRefreshedIcon,{}):null,children:h._(/*BTDS*/"Clear chat")},"clear"));f.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChat(a)},chat:a},"delete"));return f}function f(a,c){var e=[];e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:c,icon:j.jsx(d("WAWebCheckRefreshedIcon.react").CheckRefreshedIcon,{}),children:h._(/*BTDS*/"Select messages")},"select"));e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},icon:j.jsx(d("WAWebCloseCircleRefreshedIcon.react").CloseCircleRefreshedIcon,{}),children:h._(/*BTDS*/"Close chat")},"close"));b("cr:23149")==null||b("cr:23149").addDevItemsToMenu(e,a);return e}g.handleDeleteOrExitChat=k;g.groupMenu=a;g.broadcastMenu=e;g.hybridMenu=f}),226);
__d("WAWebBroadcastMenuDropdown.react",["WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j=i||c("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var c=a.chat,e=a.onSelectMessages;a=a.toContextMenuManager;a=a===void 0?!1:a;c=d("WAWebConversationMenus").broadcastMenu(c,e);return a?j.jsx("div",{ref:b,children:c}):j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,children:c},"BroadcastMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatAssignmentNux.react",["fbt","WAWebChatAssignmentLogEvents","WAWebNux","WAWebTooltip.react","WAWebUseIsFeatureEnabled","WAWebUserPrefsStore","react","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i;b=i||d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useState;function a(a){var b=a.chat,e=a.targetRef;a=c("useWAWebNux")(d("WAWebNux").NUX.CHAT_ASSIGNMENT);var f=a[0],g=a[1];a=m(!0);var i=a[0],n=a[1];a=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");var o=d("WAWebTooltip.react").useTooltip({alignment:d("WAWebTooltip.react").PopoverAlignment.End,element:h._(/*BTDS*/"Assign chat to a linked device"),onClick:function(){p(),n(!1)},position:d("WAWebTooltip.react").PopoverPosition.Bottom,target:e}),p=o.hideTooltip,q=o.showTooltip,r=o.tooltip;o=l(function(){return c("WAWebUserPrefsStore").getUser("chat_assignment_agent_has_assigned_chats")},[]);var s=j(function(){p(),n(!1)},[p]),t=f&&i&&a&&b.assignedAgent==null&&o==null;k(function(){t&&r==null&&e.current!=null&&(q(),g(),d("WAWebChatAssignmentLogEvents").logNuxShown(b))},[t,r,e,q,s,g,b]);return r}g["default"]=a}),226);
__d("WAWebChatSearchMessageCell.react",["WATypeUtils","WAWebChatCell.react","WAWebChatLastMsg.react","WAWebChatMessageSearch","WAWebChatTimestamp.react","WAWebDomScroll","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebMsgType","WAWebStateUtils","react","useWAWebListener","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function a(a){var b,e,f=a.msg,g=a.author,h=a.onClick;b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(b=d("WAWebMsgGetters")).getId,b.getIsSentByMe,(e=d("WAWebFrontendMsgGetters")).getSenderObj,e.getRtl,e.getDir,b.getType,b.getT]);var i=b[0];b[1];b[2];b[3];b[4];b[5];b[6];var m=e.getChat(f),n=k(null),o=k(null);b=l(function(){return a.active?a.active.value===f:!1});e=b[0];var p=b[1];b=function(a,b){if(a==="focus"){var e=o.current;c("WAWebFocusTracer").focus(e);b&&e&&d("WAWebDomScroll").scrollIntoViewIfNeeded(e)}p(!!a)};d("useWAWebListener").useListener(a.active,i.toString(),b);var q=function(a){if(d("WATypeUtils").isFunction(h)){var b,c=d("WAWebChatMessageSearch").getSearchContext(m,d("WAWebStateUtils").unproxy(f).id);((b=c.msg)==null?void 0:b.type)!==d("WAWebMsgType").MSG_TYPE.ALBUM&&(c.msg=f);h(a,m,c,f)}};i=function(a){a.preventDefault(),a.stopPropagation(),c("WAWebFocusIndicator").shouldIndicateFocus(),q(a)};b=function(a){(a=n.current)==null||a.indicateFocus()};var r=function(){return!1},s=j.jsx(c("WAWebChatTimestamp.react"),{msg:f});g=j.jsx(c("WAWebChatLastMsg.react"),{msg:f.safe(),msgType:"Search",author:g,searchQuery:a.searchText!=null?[a.searchText]:[]});i={enter:i};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:i,onFocus:b,ref:o,children:j.jsx(c("WAWebChatCell.react"),{ref:n,contextEnabled:r,theme:"chat-search",active:!!e,primaryDetail:s,secondary:g,primary:void 0,onClick:q})})}a.displayName=a.name+" [from "+f.id+"]";g.Message=a}),98);
__d("WAWebChatSearchMessageWithAuthorCell.react",["WAWebChatSearchMessageCell.react","WAWebFrontendContactGetters","WAWebFrontendMsgGetters","WAWebMsgGetters","react","useWAWebContactValues","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[d("WAWebMsgGetters").getId]);b=b[0];var c=d("WAWebFrontendMsgGetters").getChat(a.msg),e=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebFrontendContactGetters").getFormattedShortName]);e=e[0];return i.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:a.msg,chat:c,author:e,searchText:a.searchText,onClick:a.onClick,active:a.active},b.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatSearchMessageList.react",["WAWebChatSearchMessageCell.react","WAWebChatSearchMessageWithAuthorCell.react","WAWebCmd","WAWebColumnChangeDispatch","WAWebComposeBoxActions","WAWebFindChatAction","WAWebFlatList.react","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebTabOrder","react","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=d("WAWebFlatList.react").FlatListFactory();function p(a){var b=a.msg,e=a.onClick,f=a.searchText;a=a.selection;return d("WAWebMsgGetters").getSender(b)&&d("WAWebMsgGetters").getIsGroupMsg(b)&&!d("WAWebMsgGetters").getIsNotification(b)&&!d("WAWebMsgGetters").getIsSentByMe(b)?k.jsx(c("WAWebChatSearchMessageWithAuthorCell.react"),{contact:b.senderObj,msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString()):k.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString())}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.selection,f=a.ftsResult,g=a.searchText,i=a.onFocusSearch,j=c("useWAWebUIM")(),q=n(null),r=function(a,b,c,e){a.preventDefault(),a.stopPropagation(),void d("WAWebFindChatAction").findExistingChat(b.id,"chatSearchMessageList").then(function(a){d("WAWebColumnChangeDispatch").Column.column===2&&(j==null||j.requestDismiss()),d("WAWebComposeBoxActions").ComposeBoxActions.focus(a),void d("WAWebCmd").Cmd.openChatAt({chat:a,msgContext:c,onSuccess:{mediaMsgToOpenInMediaViewer:e}})})},s=function(){return f||[]},t=function(){e.reset(!0)},u=function(){e.setFirst(!0)},v=function(a){if(a.target!==q.current)return;e.index<0?u():e.reset(!0)},w=function(a){a&&(a.preventDefault(),a.stopPropagation());a=e.next();e.index!==a&&e.setNext(!0)},x=function(a){a&&(a.stopPropagation(),a.preventDefault());a=e.prev();a>-1?e.setPrev(!0):i()},y=function(){return f.map(function(a){return{itemKey:a.id.toString(),msg:a}})};l(function(){e.init(s())},[]);m(b,function(){return{focusFirst:u,restoreFocus:t}});b={down:function(a){return w(a)},up:function(a){return x(a)}};return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:b,onFocus:v,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_SEARCH_MSG_LIST,ref:q,children:k.jsx(o,{flatListController:a.flatListController,direction:"vertical",data:y(),renderItem:function(a){a=a.msg;return k.jsx(p,{msg:a,selection:e,searchText:g,onClick:r})},forceConsistentRenderCount:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebDatePicker.react",["fbt","WAWebL10N","WAWebUIRefreshGatingUtils","WAWebUseIsKeyboardUser","react","react-calendar"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var e=a.maxDate,f=a.minDate;a=a.onDateSelected;var g=c("WAWebUseIsKeyboardUser")();g=g.isKeyboardUser;var i=b("react-calendar")["default"];return j.jsx("div",babelHelpers["extends"]({},{0:{className:"xf2fit4 xiovny x13ydwdk x1cjocb7 x1f0q22a xtukhre x5s1j2x xtqkco0 x1j37yda x1iw8phr x1artvld xk4snr5 x1yge3xe xwi11h5 x15kmrvl xmdgcn3 xmfynt6 x1s22pda x1bdrdso x1gu7c6u x1hn2ltd x1f29xdi x7mj1lt xlg206x x1x04ifz x1my61ml x9vq33b x15tm2r9 x1ppyohx x1rktagx xl1rl7o x10ggpjl x1yo9fk x17rrl5 xdgu6y7 x1jzmftk x1bak1w0 x1xhbldp xqikpf9 xc078lw x6wgh2k xf5t2sd xw4zml3 xhtlxvv xra6te8 x1e4ppt3 xt1hvkr xaockbu x1oe3wxx x1wq4j50 x4b1xh0 x1g3j6ey x61llzd x15kiiuk x8aj355 x13q2vvg x15i2d7n x7tggq xea0sh4 xrr3a99 x1m4d0k2 x1r20atc xwvgjvj x13ypgyl x1uqvoj0 xly1xnn x71ozu2 x1upy338 x1gzymcx xsnudpq xd7iu77 xp1nbbt xtgu96i xl48d2a xuhdlvq x1m8pmxx x5b4mxb x1pqbnpz x1cyavp5 xq3m9y7 xauqw0m x3qhu2d x2g8o02 x8reosc x1waxneg xczrsgi x1s05kqo xrir6dd x1fb7ar5 xmjkznz xcwe0hv x1jq7lph x10vj8td x80yvro xg9hlg4 x1u43kwp x1ayfghy x615f3y x4tpv1n x1xwpm45"},2:{className:"xf2fit4 xiovny x13ydwdk x1cjocb7 x1f0q22a xtukhre x5s1j2x xtqkco0 x1j37yda x1iw8phr x1artvld xk4snr5 x1yge3xe xwi11h5 x15kmrvl xmdgcn3 xmfynt6 x1s22pda x1bdrdso x1gu7c6u x1hn2ltd x1f29xdi x7mj1lt xlg206x x1x04ifz x1my61ml x9vq33b x15tm2r9 x1ppyohx x1rktagx xl1rl7o x10ggpjl x1yo9fk x17rrl5 xdgu6y7 x1jzmftk x1bak1w0 x1xhbldp xqikpf9 xc078lw x6wgh2k xf5t2sd xw4zml3 xhtlxvv xra6te8 x1e4ppt3 xt1hvkr xaockbu x1oe3wxx x1wq4j50 x4b1xh0 x1g3j6ey x61llzd x15kiiuk x8aj355 x13q2vvg x15i2d7n x7tggq xea0sh4 xrr3a99 x1m4d0k2 x1r20atc xwvgjvj x13ypgyl x1uqvoj0 xly1xnn x71ozu2 x1upy338 x1gzymcx xsnudpq xd7iu77 xp1nbbt xtgu96i xl48d2a xuhdlvq x1m8pmxx x5b4mxb x1pqbnpz x1cyavp5 xq3m9y7 xauqw0m x3qhu2d x2g8o02 x8reosc x1waxneg xczrsgi x1s05kqo xrir6dd x1fb7ar5 xmjkznz xcwe0hv x1jq7lph x10vj8td x80yvro xg9hlg4 x1u43kwp x1ayfghy x615f3y x4tpv1n x1xwpm45 xu5icey x3hg60a x1cef9ng x1nr6lf7"},1:{className:"xf2fit4 xiovny x1cjocb7 x1f0q22a x1iw8phr x1artvld xk4snr5 x1yge3xe xwi11h5 x15kmrvl xmdgcn3 xmfynt6 x1s22pda x1bdrdso x1hn2ltd x1f29xdi x7mj1lt xlg206x x1x04ifz x1my61ml x9vq33b x15tm2r9 x1yo9fk x17rrl5 xdgu6y7 x1jzmftk x1xhbldp xqikpf9 xc078lw x6wgh2k xf5t2sd xw4zml3 xhtlxvv xra6te8 x1e4ppt3 xt1hvkr xaockbu x1oe3wxx x1wq4j50 x4b1xh0 x1g3j6ey x61llzd x15kiiuk x8aj355 x13q2vvg x15i2d7n x7tggq xea0sh4 x71ozu2 x1upy338 xsnudpq xd7iu77 xp1nbbt xtgu96i xl48d2a xuhdlvq x1m8pmxx x5b4mxb x1pqbnpz x1cyavp5 xq3m9y7 xauqw0m x3qhu2d x2g8o02 x8reosc x1waxneg xczrsgi x1s05kqo xrir6dd x1fb7ar5 xmjkznz xcwe0hv x1jq7lph x10vj8td x80yvro xg9hlg4 x1u43kwp x1ayfghy x615f3y x4tpv1n x1xwpm45 xkcj4v7 x1r6agxi xfloiof x1sg89e8 x1f30zej xbqj7c7 x12psqrc xudkme9 x1j4d9d8 x13ypgyl x1uqvoj0 x19ejreq x9ik1rf xhel1k7 xenizgk x12psr53 ximcf6e x1gz4fmc xh6vca6"},3:{className:"xf2fit4 xiovny x1cjocb7 x1f0q22a x1iw8phr x1artvld xk4snr5 x1yge3xe xwi11h5 x15kmrvl xmdgcn3 xmfynt6 x1s22pda x1bdrdso x1hn2ltd x1f29xdi x7mj1lt xlg206x x1x04ifz x1my61ml x9vq33b x15tm2r9 x1yo9fk x17rrl5 xdgu6y7 x1jzmftk x1xhbldp xqikpf9 xc078lw x6wgh2k xf5t2sd xw4zml3 xhtlxvv xra6te8 x1e4ppt3 xt1hvkr xaockbu x1oe3wxx x1wq4j50 x4b1xh0 x1g3j6ey x61llzd x15kiiuk x8aj355 x13q2vvg x15i2d7n x7tggq xea0sh4 x71ozu2 x1upy338 xsnudpq xd7iu77 xp1nbbt xtgu96i xl48d2a xuhdlvq x1m8pmxx x5b4mxb x1pqbnpz x1cyavp5 xq3m9y7 xauqw0m x3qhu2d x2g8o02 x8reosc x1waxneg xczrsgi x1s05kqo xrir6dd x1fb7ar5 xmjkznz xcwe0hv x1jq7lph x10vj8td x80yvro xg9hlg4 x1u43kwp x1ayfghy x615f3y x4tpv1n x1xwpm45 xu5icey x3hg60a x1cef9ng x1nr6lf7 xkcj4v7 x1r6agxi xfloiof x1sg89e8 x1f30zej xbqj7c7 x12psqrc xudkme9 x1j4d9d8 x13ypgyl x1uqvoj0 x19ejreq x9ik1rf xhel1k7 xenizgk x12psr53 ximcf6e x1gz4fmc xh6vca6"}}[!!g<<1|!!d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()<<0],{children:j.jsx(i,{locale:c("WAWebL10N").getFullLocale(),maxDate:e,minDate:f,minDetail:"month",nextAriaLabel:h._(/*BTDS*/"Next month").toString(),onClickDay:a,prevAriaLabel:h._(/*BTDS*/"Previous month").toString()})}))}a.displayName=a.name+" [from "+f.id+"]";g.DatePicker=a}),226);
__d("WAWebDatePickerContainer.react",["WAWebDatePicker.react","WAWebKeyboardRotateFocusModal.react","WAWebUIRefreshGatingUtils","WAWebUserPrefsHistorySync","react","useWAWebFocusOnMount"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={overrideRotateFocusStyles:{position:"x1rv4328",$$css:!0}};function a(a){a=a.onDateSelected;var b=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date();b=new Date(b);var f=c("useWAWebFocusOnMount")();return i.jsx(c("WAWebKeyboardRotateFocusModal.react"),{xstyle:j.overrideRotateFocusStyles,children:i.jsx("div",babelHelpers["extends"]({ref:f,tabIndex:-1},{0:{className:"xkxnv7c xtlo18s xg7h5cd x1sr759z x16qb05n xi7iut8 x1dm3dyd x1pv694p"},1:{className:"xtlo18s xg7h5cd x1sr759z x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x16w0wmm"}}[!!d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()<<0],{children:i.jsx(d("WAWebDatePicker.react").DatePicker,{maxDate:e,minDate:b,onDateSelected:a})}))})}a.displayName=a.name+" [from "+f.id+"]";g.DatePickerContainer=a}),98);
__d("WAWebDBSearchByDate",["WAWebDBMessageStoreUtils","WAWebDBMessageUtils","WAWebSchemaMessage","WAWebViewMode.flow","WAWebViewModeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=1;function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){b=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,b);a=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,c);e=(yield d("WAWebSchemaMessage").getMessageTable().between(["messageRangeIndex"],b,a,{lowerInclusive:!0,upperInclusive:!0,reverse:f,limit:h},function(a){return!d("WAWebViewModeUtils").isViewModeVisibleInSurface(d("WAWebViewMode.flow").ViewModeSurface.SEARCH,a.viewMode)||!d("WAWebDBMessageStoreUtils").shouldRenderInUI(a,void 0)}));return e[0]});return i.apply(this,arguments)}g.getClosestMessageBetweenDates=a}),98);
__d("WAWebSearchByDateUtils",["WALogger","WAWebDBSearchByDate","WAWebMsgKey","WAWebUserPrefsHistorySync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function j(a){return Math.floor(a/1e3)}function k(a,b,d){var e=null;a!=null&&b!=null?d?e=a.t>=b.t?a.id:b.id:e=a.t<=b.t?a.id:b.id:a?e=a.id:b&&(e=b.id);return e!=null?c("WAWebMsgKey").fromString(e):null}function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!0,e));a=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!1,e));return k(f,a,e)});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=j(b.getTime());var c=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date().getTime();e=(yield l(a,b,e,!1));if(e!=null){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in after search of date"])));return e}e=(yield l(a,c,b,!0));if(e!=null){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in before search of date"])));return e}return e});return n.apply(this,arguments)}g.fromMillisecondsToSeconds=j;g.getClosestMessageFromDate=a}),98);
__d("WAWebSearchByTypeAndDateGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_search_by_date_enabled")}g.searchByDateEnabled=a}),98);
__d("WAWebChatSearchDrawer.react",["fbt","Promise","WAAbortError","WAFtsIsSearchQueryEligibleForMessageSearch","WALogger","WAPromiseRaceAbort","WAShiftTimer","WAWebBackendErrors","WAWebChatGetters","WAWebChatListSearch.react","WAWebChatMessageSearch","WAWebChatSearchMessageList.react","WAWebCmd","WAWebComposeBoxActions","WAWebContactGetters","WAWebDatePickerContainer.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDropdown.react","WAWebEmptyState.react","WAWebFlatList.react","WAWebFlatListController","WAWebFlex.react","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebFtsConstants","WAWebFtsMsgsCollection","WAWebHistorySyncComponents.react","WAWebKeyboardHotKeys.react","WAWebMsgCollection","WAWebNonEmptyString","WAWebNoop","WAWebSearchByDateUtils","WAWebSearchByTypeAndDateGatingUtils","WAWebSingleSelection","WAWebSpinner.react","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","asyncToGeneratorRuntime","react","useLazyRef","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebListener","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j=["ref"],k,l,m;e=m||d("react");var n=l||(l=c("react")),o=e.useEffect,p=e.useMemo,q=e.useRef,r=e.useState,s={flexNone:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",$$css:!0}};function t(a){var b=a.chat,e=a.resultsUnavailable,f=a.searching;a=a.searchText;a=(a||"").trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a)){if(f)return n.jsx(d("WAWebEmptyState.react").SearchingMessages,{});else if(e)return n.jsx(d("WAWebEmptyState.react").SearchMessagesUnavailable,{});return n.jsx(d("WAWebEmptyState.react").SearchMessages,{})}return d("WAWebEmptyState.react").BeforeSearchMessages(b.title(),d("WAWebChatGetters").getIsGroup(b),d("WAWebContactGetters").getIsMe(b.contact))}t.displayName=t.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,j);var f=a.chat;a=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();var g=c("useWAWebUIM")(),l=c("useWAWebUnmountSignal")(),m=r(""),u=m[0],v=m[1];m=r(!1);var w=m[0],x=m[1];m=r(!1);var y=m[0],z=m[1];m=r(null);var A=m[0],B=m[1];m=p(function(){return new(c("WAWebFlatListController"))()},[]);var C=p(function(){return new(c("WAWebFtsMsgsCollection"))(f)},[f]),D=q(null),E=p(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})},[]),F=q(!1),G=q({}),H=q(null),I=q(null),J=q(null),K=q(null),L=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){var a=G.current;a.searchText!==void 0&&v(a.searchText);a.searching!==void 0&&x(a.searching);a.resultsUnavailable!==void 0&&z(a.resultsUnavailable);G.current={}})}),M=function(a,b){b===void 0&&(b=75),Object.assign(G.current,a),a.searching===!0?L.current.debounce(0):L.current.debounce(b)},N=function(a){return a==null||!(a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight)?!1:!(!C.hasMoreMsgs||F.current||w||C.searchPromise||!c("WAFtsIsSearchQueryEligibleForMessageSearch")((u||"").trim()))},O=function(){var a=G.current;if("searching"in a){return(a=a.searching)!=null?a:!1}return w},P=function(a){if(a.repeat)return;if(!H.current)return;if(D.current&&!D.current.cursorIsAtEnd())return;a.preventDefault();a.stopPropagation();c("WAWebFocusIndicator").shouldIndicateFocus();(a=H.current)==null||a.focusFirst()},Q=function(b){b.preventDefault();b=C.head();if(!b)return;var a=d("WAWebFrontendMsgGetters").getChat(b);b=d("WAWebChatMessageSearch").getSearchContext(a,b.id);d("WAWebComposeBoxActions").ComposeBoxActions.focus(a);void d("WAWebCmd").Cmd.openChatAt({chat:a,msgContext:b})},R=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),c("WAWebFocusTracer").focus(D.current)},S=function(){g==null||g.requestDismiss()},T=function(a){c("WAWebFocusIndicator").maybeIndicateFocus(I.current)},U=function(){return Math.round(window.innerHeight/d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT)+1},V=c("useWAWebDebouncedCallback")(function(){var a;F.current=!1;var e=(u||"").trim();if(!c("WAFtsIsSearchQueryEligibleForMessageSearch")(e))return;(a=K.current)==null||a.abort();K.current=new AbortController();a=K.current.signal;var g=(k||(k=b("Promise"))).resolve().then(function(){O()||M({searching:!0})}).then(function(){return C.search({chat:f,count:U(),searchTerm:e})});J.current=c("WAPromiseRaceAbort")(g,a).then(function(a){if(l.aborted)throw new(d("WAAbortError").AbortError)();a&&!a.canceled&&e===u.trim()&&M({searching:!1,resultsUnavailable:!1})})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["finally"](function(){J.current=void 0,K.current=void 0})["catch"](function(a){if(F.current)return;M({searching:!1,resultsUnavailable:a instanceof d("WAWebBackendErrors").E404})})},d("WAWebFtsConstants").FTS_TYPING_DELAY),W=function(){var a;V.cancel();C.resetSearch();C["delete"]();(a=K.current)==null||a.abort();F.current=!1;v("");x(!1)},aa=function(a){a=a.trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a))V(),F.current=!0,w||M({searching:!0});else{V.cancel();C.resetSearch();C["delete"]();(a=K.current)==null||a.abort();F.current=!1;w&&M({searching:!1,resultsUnavailable:!1})}},ba=function(a){if(!a){W();return}if(a===u)return;var b={searchText:a,resultsUnavailable:!1};aa(a);v(a);M(b)},ca=function(a){N(a.currentTarget)&&(V(),F.current=!0)};o(function(){return function(){var a;V.cancel();C["delete"](!0);(a=K.current)==null||a.abort();L.current.cancel()}},[]);d("useWAWebListener").useListener(C,["bulk_remove"],a);a=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("search_results");var X=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();a=a&&X;X=C.toArray();y=X.length?null:n.jsx(t,{chat:f,searchText:u,searching:w,resultsUnavailable:y});if(y==null){var Y=u?d("WAWebNonEmptyString").asMaybeNonEmptyString(u.trim()):null;y=n.jsx(c("WAWebChatSearchMessageList.react"),{ref:H,flatListController:m,isSearching:!!Y,searchText:Y,ftsResult:X,selection:E,onFocusSearch:R})}Y={down:P};E=w&&X.length?n.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[s.flexNone,d("WAWebUISpacing").uiPadding.vert24],children:n.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24})}):null;var Z;R=(u||"").trim();a!==!0&&c("WAFtsIsSearchQueryEligibleForMessageSearch")(R)&&(Z=n.jsx(d("WAWebHistorySyncComponents.react").HistorySyncChatSearchIncompletePlaceholder,{}));P=d("WAWebSearchByTypeAndDateGatingUtils").searchByDateEnabled();var $=function(){B(null)},da=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSearchByDateUtils").getClosestMessageFromDate(f.id.toString(),a));$();if(a){var b=d("WAWebMsgCollection").MsgCollection.get(a.toString());b=d("WAWebChatMessageSearch").getSearchContext(f,(b=b==null?void 0:b.id)!=null?b:a);b.highlightMentionMsg=!0;b.enableAnimation=!1;b&&void d("WAWebCmd").Cmd.openChatAt({chat:f,msgContext:b})}else d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SBTD] Message not found for getClosestMessageFromDate"]))),void d("WAWebCmd").Cmd.openChatBottom(f)});return function(b){return a.apply(this,arguments)}}();X=function(){var a;a=(a=D.current)==null?void 0:a.getCalendarElementRef();B({dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.DatePicker,menu:n.jsx(d("WAWebDatePickerContainer.react").DatePickerContainer,{onDateSelected:function(a){da(a)}}),flipOnRTL:!0,anchor:a==null?void 0:a.current})};a=A?n.jsx(d("WAWebUimUie.react").UIE,{displayName:"DatePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:$,children:n.jsx(c("WAWebUimUieMenu.react"),{contextMenu:A})}):null;return n.jsxs(c("WAWebDrawer.react"),{ref:e,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Search messages"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:S}),n.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:Y,onFocus:T,ref:I,className:"x1iek97a x1c4vz4f x2lah0s xdl72j9",children:n.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:D,type:d("WAWebChatListSearch.react").ListSearchType.CHAT_MSG_SEARCH,onSearch:ba,onEnter:Q,loading:w,focusOnMount:!0,showJumpToDateButton:P,onJumpToDateButtonClicked:X})}),a,n.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[m],className:"x1vjfegm x78zum5 xdt5ytf x1iyjqo2 x1odjw0f x150wa6m",onScroll:ca,id:"pane-side",children:[y,E,Z]})]},"search-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebShopIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="shop";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M11.9071327,2 C14.0034625,2 15.2227003,3.16428094 15.43674,5.27247106 L15.9324472,5.27272727 C17.9567472,5.27272727 19.6573296,6.79482129 19.8808762,8.80674021 L20.7899671,16.9885584 C21.0322623,19.1692155 19.4609095,21.1334065 17.2802524,21.3757017 C17.1345745,21.3918882 16.9881125,21.4 16.8415381,21.4 L6.97272727,21.4 C4.77865058,21.4 3,19.6213494 3,17.4272727 C3,17.2806983 3.00811182,17.1342363 3.02429825,16.9885584 L3.93338916,8.80674021 C4.14948416,6.86188526 5.7457871,5.37474446 7.68050995,5.27776269 L7.88181818,5.27272727 L8.37752533,5.27247106 C8.59156505,3.16428094 9.81080288,2 11.9071327,2 Z M15.9324472,6.67272727 L7.88181818,6.67272727 L7.71207742,6.67826233 C6.47693062,6.7590403 5.46330025,7.71507958 5.32482639,8.96134435 L4.41573548,17.1431625 C4.40525319,17.2375031 4.4,17.3323516 4.4,17.4272727 C4.4,18.8481508 5.55184923,20 6.97272727,20 L16.8415381,20 C16.9364592,20 17.0313077,19.9947468 17.1256483,19.9842645 C18.5378359,19.8273548 19.5554396,18.5553501 19.3985299,17.1431625 L18.489439,8.96134435 C18.3446708,7.65843118 17.2433783,6.67272727 15.9324472,6.67272727 Z M14.7555208,8.54553713 L14.8506156,8.55002336 C15.2346916,8.59412138 15.5102982,8.94122503 15.4662002,9.32530107 C15.2082527,11.571921 13.9710827,12.8090909 11.9071327,12.8090909 C9.84318262,12.8090909 8.6060127,11.571921 8.34806513,9.32530107 C8.30396711,8.94122503 8.57957375,8.59412138 8.96364979,8.55002336 C9.34772583,8.50592534 9.69482948,8.78153199 9.7389275,9.16560802 C9.91936771,10.7371699 10.5912887,11.4090909 11.9071327,11.4090909 C13.2229767,11.4090909 13.8948976,10.7371699 14.0753379,9.16560802 C14.1120862,8.84554466 14.3592551,8.60080726 14.6628902,8.55363847 L14.7555208,8.54553713 Z M11.9071327,3.4 C10.6172322,3.4 9.94591364,3.96060645 9.78307298,5.27122352 L14.0311924,5.27122352 C13.8683517,3.96060645 13.1970332,3.4 11.9071327,3.4 Z",fill:"currentColor",fillRule:"nonzero"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShopIcon=a}),98);
__d("WAWebCommerceButton.react",["fbt","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileTypes","WAWebBusinessProfileUtils","WAWebCatalogEntrypointIcon.react","WAWebDrawerManager","WAWebMenuBar.react","WAWebProductCatalogContext","WAWebProductCatalogSession","WAWebProductDetailsFlowLoadable","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebShopIcon.react","WAWebStorefrontIcon.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebWamEnumBizPlatform","WAWebWamEnumCatalogEntryPoint","WDSMenuBarItem.react","react","useWAWebABPropConfigValue","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b,e,f=a.chat;a=a.disabled;var g=c("useWAWebUIM")(),i=f.contact.businessProfile,k=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button");if(d("WAWebBusinessProfileUtils").hasShop(i)){if(d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(i))return null;var l=function(a){a==null||a.preventDefault(),d("WAWebBusinessProfileUtils").goToShop(f.contact.businessProfile)},m;k?m=j.jsx(c("WDSMenuBarItem.react"),{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:d("WAWebShopIcon.react").ShopIcon,title:h._(/*BTDS*/"Shop"),onClick:l,disabled:a}):m=j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:j.jsx(d("WAWebShopIcon.react").ShopIcon,{}),title:h._(/*BTDS*/"Shop"),onClick:l,disabled:a});return m}if(i!=null&&i.isCatalogDisabledDueToMetaLinking)return null;if((i==null||(b=i.profileOptions)==null?void 0:b.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.CATALOG||(i==null||(e=i.profileOptions)==null?void 0:e.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.META_CATALOG&&d("WAWebBizGatingUtils").isCatalogVariantsViewingEnabled()||(i==null?void 0:i.catalogStatus)===d("WAWebBusinessProfileCollection").CATALOG_EXISTS){l=function(a){a==null||a.preventDefault();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}});a=d("WAWebProductCatalogContext").buildProductCatalogContext(new(d("WAWebProductCatalogSession").ProductCatalogSession)(),d("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_CHAT);var b=f.contact.id;d("WAWebDrawerManager").DrawerManager.openDrawerRight(j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{chat:f,catalogOwnerJid:b.toJid()}),{transition:"slide-left",uim:g,newDrawerContext:a})};k?m=j.jsx(c("WDSMenuBarItem.react"),{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:d("WAWebStorefrontIcon.react").StorefrontIcon,title:h._(/*BTDS*/"Catalog"),onClick:l,disabled:a}):m=j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebStorefrontIcon.react").StorefrontIcon,{}):j.jsx(d("WAWebCatalogEntrypointIcon.react").CatalogEntrypointIcon,{}),title:h._(/*BTDS*/"Catalog"),onClick:l,disabled:a});return m}return null}a.displayName=a.name+" [from "+f.id+"]";g.CommerceButton=a}),226);
__d("WAWebDebugConvertToLidChatModal.react",["WAWebApiContact","WAWebCmd","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebDeleteChatAction","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebFindChatAction","WAWebModalManager","WAWebToast.react","WAWebToastManager","WAWebWidFactory","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat;return i.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,addSpacing:!0,action:function(){j(b)},children:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Convert to LID chat"})},"convertToLid")}a.displayName=a.name+" [from "+f.id+"]";function j(a){d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:"Yes",cancelText:"No",onCancel:function(){d("WAWebModalManager").ModalManager.close()},onOK:function(){d("WAWebModalManager").ModalManager.close(),void k(a)},children:"'Warning! This will DELETE your existing chat along with all message history and convert it to a new LID-based chat. Do you want to proceed?'"}))}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").asUserWidOrThrow(a.id));if(b==null){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:"Unable to convert to lid chat: no lid found for "+a.id.toString()}));return}yield d("WAWebDeleteChatAction").sendDelete(a);a=(yield d("WAWebFindChatAction").findOrCreateLatestChat(b,"debugConvertToLidChat"));b=a.chat;yield d("WAWebCmd").Cmd.openChatBottom(b);d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)});return l.apply(this,arguments)}g.DebugConvertToLid=a}),98);
__d("WAWebContactMenuDropdown.react",["fbt","WATimeUtils","WAWebAIAgentEnableAIReplyUtils","WAWebAiSignalIcon.react","WAWebBizAiAgentStatusUtils","WAWebBizGatingUtils","WAWebBlockContactUtils","WAWebBlockContants","WAWebBlockRefreshedIcon.react","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentWithContainerIcon.react","WAWebChatContextMenuItemEditList.react","WAWebChatContextMenuItemLock.react","WAWebChatEphemerality","WAWebChatGetters","WAWebChatThreadLogging","WAWebCheckRefreshedIcon.react","WAWebClearRefreshedIcon.react","WAWebCloseCircleRefreshedIcon.react","WAWebCmd","WAWebContactGetters","WAWebCopyRefreshedIcon.react","WAWebCopyUtils","WAWebDebugConvertToLidChatModal.react","WAWebDeleteMenuItem.react","WAWebDevOnlyBadge.react","WAWebDisappearingMessagesRefreshedIcon.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebFavoriteRefreshedIcon.react","WAWebFrontendChatGetters","WAWebFrontendContactGetters","WAWebHeartIconCustom","WAWebHeartSlashIcon.react","WAWebInboxFiltersGatingUtils","WAWebInfoRefreshedIcon.react","WAWebL10NHelpers","WAWebListsGatingUtils","WAWebMessageLogQplEvents","WAWebModalManager","WAWebMuteMenuItem.react","WAWebProtobufsE2E.pb","WAWebReportContactPopup.react","WAWebSendNonMessageDataRequest","WAWebSpamConstants","WAWebStateUtils","WAWebStreamModel","WAWebSyncGatingUtils","WAWebThumbsDownRefreshedIcon.react","WAWebUIRefreshGatingUtils","WAWebUnfavoriteRefreshedIcon.react","WAWebUseIsFeatureEnabled","WAWebWamEnumEphemeralSettingEntryPointType","WAWebWamEnumFavoritesUpdateEntryPoint","WAWebWamEnumPsaMessageRemoveEntryPoint","gkx","react","useWAWebChatValues","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n={aiIconXstyle:{color:"xhslqc4",$$css:!0}};function a(a){var b,e,f=a.chat,g=a.onSelectMessages,i=a.enableChatThreadLogging,j=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();b=d("useWAWebChatValues").useChatValues(a.chat.id,[(b=d("WAWebChatGetters")).getIsPSA,(e=d("WAWebFrontendChatGetters")).getMute,b.getId,e.getContact,e.getPromises,b.getIsNewsletter,e.getIsParentGroup,b.getIsUser,b.getTcToken,b.getTcTokenTimestamp,e.getMsgs,e.getIsFavorite]);var o=b[0],p=b[1],q=b[2];b[3];b[4];b[5];b[6];b[7];b[8];b[9];b[10];var r=b[11];b=d("useWAWebContactValues").useContactValues(f.contact.id,[(e=d("WAWebContactGetters")).getId,e.getIsBusiness,e.getName,d("WAWebFrontendContactGetters").getIsContactBlocked,e.getIsMe,e.getIsMyContact]);var s=b[0],t=b[1];b[2];var u=b[3],v=b[4];b[5];var w=m(null);d("useWAWebListener").useListener(d("WAWebStreamModel").Stream,"change:displayInfo",j);l(function(){i===!0&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:q}])},[i,q]);var x=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION"),y=function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReportContactPopup.react").ReportContactPopupV2,{chat:f,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}));return},z=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a.chat),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)},A=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();e=function(){var b=[];d("WAWebBizAiAgentStatusUtils").isChatEligibleForAiAgent(f)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){void d("WAWebAIAgentEnableAIReplyUtils").enableAiReply(f)},icon:A?k.jsx(d("WAWebAiSignalIcon.react").AiSignalIcon,{height:20,width:20,iconXstyle:n.aiIconXstyle}):null,children:h._(/*BTDS*/"AI replies")},"aiReplies"));x&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(f,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},icon:A?k.jsx(d("WAWebChatAssignmentWithContainerIcon.react").ChatAssignmentWithContainerIcon,{}):null,children:h._(/*BTDS*/"Assign chat")},"assignChat"));var e=d("WAWebBizAiAgentStatusUtils").isChatEligibleForAiAgent(f)||x;e&&A&&b.push(k.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}));e=k.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{});o||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){t&&d("WAWebMessageLogQplEvents").qplStartProfileView("ToolsMenu"),d("WAWebCmd").Cmd.chatInfoDrawer(f)},testid:void 0,icon:A?e:null,children:h._(/*BTDS*/"Contact info")},"info"));t&&(d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(s)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.merchantDetailsDrawer(s)},icon:A?e:null,children:h._(/*BTDS*/"Business details")},"merchantDetails")));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:g,icon:A?k.jsx(d("WAWebCheckRefreshedIcon.react").CheckRefreshedIcon,{}):null,children:h._(/*BTDS*/"Select messages")},"select"));p.canMute()&&b.push(k.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(a){o?d("WAWebCmd").Cmd.muteChatFromEntryPoint(f,a,3):d("WAWebCmd").Cmd.muteChat(f,a)},mute:p,chat:f},"mute"));d("WAWebChatEphemerality").shouldShowEphemeralSetting(a.chat)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:z,icon:A?k.jsx(d("WAWebDisappearingMessagesRefreshedIcon.react").DisappearingMessagesRefreshedIcon,{}):null,children:h._(/*BTDS*/"Disappearing messages")},"disappearingMessages"));A&&b.push(k.jsx(d("WAWebChatContextMenuItemLock.react").ChatContextMenuItemLock,{chat:f},"Lock"));if(f.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesEnabled()){var i;r?(e=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._(/*BTDS*/"Remove from favourites"):h._(/*BTDS*/"Remove from favorites"),i=A?k.jsx(d("WAWebUnfavoriteRefreshedIcon.react").UnfavoriteRefreshedIcon,{}):k.jsx(d("WAWebHeartSlashIcon.react").HeartSlashIcon,{})):(e=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._(/*BTDS*/"Add to favourites"):h._(/*BTDS*/"Add to favorites"),i=A?k.jsx(d("WAWebFavoriteRefreshedIcon.react").FavoriteRefreshedIcon,{}):k.jsx(d("WAWebHeartIconCustom").HeartIconCustom,{}));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(f,!r,d("WAWebWamEnumFavoritesUpdateEntryPoint").FAVORITES_UPDATE_ENTRY_POINT.CHAT_HEADER_CONTEXT_MENU)},icon:A?i:null,children:e},"favorite"))}d("WAWebListsGatingUtils").isListsEnabled()&&b.push(k.jsx(d("WAWebChatContextMenuItemEditList.react").ChatContextMenuItemEditList,{chat:f,displayContext:"chat-header"}));var j=a.container;d("WAWebCopyUtils").canCopySelection()&&j!=null&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){d("WAWebCopyUtils").copySelection(j)},icon:A?k.jsx(d("WAWebCopyRefreshedIcon.react").CopyRefreshedIcon,{}):null,children:h._(/*BTDS*/"Copy selection")}));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(f)},icon:A?k.jsx(d("WAWebCloseCircleRefreshedIcon.react").CloseCircleRefreshedIcon,{}):null,children:h._(/*BTDS*/"Close chat")},"close"));A&&b.push(k.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}));v||(!o&&!q.isBot()&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:y,icon:A?k.jsx(d("WAWebThumbsDownRefreshedIcon.react").ThumbsDownRefreshedIcon,{}):null,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Report")},"report")),q.isBot()||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:u?function(){return d("WAWebBlockContactUtils").handleUnblock(f.contact,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)}:function(){return d("WAWebBlockContactUtils").handleBlock(f,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)},icon:A?k.jsx(d("WAWebBlockRefreshedIcon.react").BlockRefreshedIcon,{}):null,theme:u?void 0:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:u?h._(/*BTDS*/"Unblock"):h._(/*BTDS*/"Block")},"block")));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(f)},icon:A?k.jsx(d("WAWebClearRefreshedIcon.react").ClearRefreshedIcon,{}):null,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Clear chat")},"clear"));b.push(k.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChatFromEntryPoint(f,d("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.DELETE_ALL_FROM_CONVERSATION)},chat:f},"delete"));if(!c("gkx")("26258")){i=d("WAWebFrontendChatGetters").getKind(f);b.push.apply(b,d("WAWebDevOnlyBadge.react").getDEVChatMenuOptions(q,i));q.isRegularUser()&&b.push(k.jsx(d("WAWebDebugConvertToLidChatModal.react").DebugConvertToLid,{chat:f},"convertToLid"))}return b};return a.toContextMenuManager?k.jsx("div",{ref:w,"data-testid":void 0,children:e()}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){w.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:e()},"ContactMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDesktopUpsellCallingUnavailable.react",["fbt","WANullthrows","WAWebChevronCustomIcons","WAWebDesktopUpsellCallingUnavailablePopover.react","WAWebDesktopUpsellUtils","WAWebDropdownV2.react","WAWebFlex.react","WAWebIcChevronDownMenuIcon.react","WAWebPopover.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebVideoCallIcon.react","WAWebVideoCallRefreshedIcon.react","WDSFocusStateStyles","WDSTooltip.react","react","stylex","useWAWebABPropConfigValue","useWAWebFocusState"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o={menuBarBtnContainer:{display:"x78zum5",position:"x1n2onr6",height:"x5yr21d",borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",transitionProperty:"x15406qy",transitionDuration:"x1d8287x",transitionTimingFunction:"xwji4o3","@media screen and (max-width: 720px)_paddingTop":"xj8bxqt","@media screen and (max-width: 720px)_paddingInlineEnd":"xe3rdy5","@media screen and (max-width: 720px)_paddingBottom":"xpbnuc5","@media screen and (max-width: 720px)_paddingInlineStart":"x1gzssx3","@media screen and (max-width: 720px)_marginTop":"x86at4b","@media screen and (max-width: 720px)_marginInlineEnd":"x1ua388o","@media screen and (max-width: 720px)_marginBottom":"x1ad89wd","@media screen and (max-width: 720px)_marginInlineStart":"x1rs47hk",$$css:!0},hoverBg:{":hover_backgroundColor":"x17gydlx",$$css:!0},videoCallIconGroup:{color:"x14ug900",$$css:!0},videoCallBtnShaded:{backgroundColor:"x4wrhlh",$$css:!0},videoCallBtnOutlined:{borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xx42vgk",borderInlineEndColor:"xbogo7e",borderBottomColor:"x120ee7l",borderInlineStartColor:"x1vb5itz",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=c("useWAWebFocusState")(),e=b[0];b=b[1];var f=n(null);a=d("WAWebDropdownV2.react").useDropdownV2({target:f,alignment:d("WAWebPopover.react").PopoverAlignment.End,position:d("WAWebPopover.react").PopoverPosition.Bottom,buffer:6,material:!0,children:l.jsx(c("WAWebDesktopUpsellCallingUnavailablePopover.react"),{userDesktopOs:c("WANullthrows")(a)})});var g=a.popover,i=a.popoverIsVisible;a=p();m(function(){i&&q()},[i]);var k=h._(/*BTDS*/"Get the app for calling"),r=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),s=r?d("WAWebVideoCallRefreshedIcon.react").VideoCallRefreshedIcon:d("WAWebVideoCallIcon.react").VideoCallIcon,t=r?d("WAWebIcChevronDownMenuIcon.react").IcChevronDownMenuIcon:d("WAWebChevronCustomIcons").ChevronDownCustomIcon;a=!r&&!i&&!a;var u=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_tooltip");b=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(o.menuBarBtnContainer,d("WAWebUISpacing").uiMargin.start10,d("WAWebUISpacing").uiPadding.horiz10,d("WAWebUISpacing").uiPadding.top8,d("WAWebUISpacing").uiPadding.bottom5,b&&d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocusPersistent,a&&o.videoCallBtnOutlined,i&&o.videoCallBtnShaded,r&&o.hoverBg,r&&d("WAWebUISpacing").uiPadding.end6,r&&d("WAWebUISpacing").uiPadding.bottom8),{ref:f,children:l.jsxs(c("WAWebUnstyledButton.react"),{title:u?void 0:k,"aria-label":k,ref:e,dataTab:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,children:[l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:o.videoCallIconGroup,children:[l.jsx(s,{xstyle:!r&&d("WAWebUISpacing").uiMargin.end6}),l.jsx(t,{height:r?20:10,xstyle:d("WAWebUISpacing").uiMargin.start4})]}),g]})}));return u?l.jsx(c("WDSTooltip.react"),{label:k,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";function p(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL);return!!a}function q(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL,!0)}g.WAWebDesktopCallingMenuButton=a}),226);
__d("WAWebGroupMenuDropdown.react",["WATimeUtils","WAWebChatThreadLogging","WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var c=a.chat,e=a.onSelectMessages;l(function(){d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:c.id}])},[c.id]);e=d("WAWebConversationMenus").groupMenu(c,e);return a.toContextMenuManager?k.jsx("div",{ref:b,children:e}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:e},"GroupMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebGroupSubtitle.react",["fbt","WAChatState","WALogger","WAWebChatAssignmentLogEvents","WAWebChatCollection","WAWebChatSubtitleText","WAWebCurrentUser","WAWebElevatedPushNamesFlag","WAWebFrontendContactGetters","WAWebGroupQueryJob","WAWebGroupType","WAWebHostedGroupUtils","WAWebParticipantsList.react","WAWebPresenceEnum","WAWebTypingIndicatorGatingUtils","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n=m||c("react"),o=(l||(l=d("react"))).useEffect;function a(a){var b=a.assignmentSubtitle,e=a.chatId,f=a.chatstate,g=a.groupMetadata,l=a.location,m=a.placeholder;a=a.presence;d("useWAWebModelValues").useModelValues(f,["id","type","deny","t"]);var p=d("useWAWebModelValues").useModelValues(g,["announce","participants","groupType","size","id","hasCapi","isCag"]),q=d("useWAWebModelValues").useModelValues(a,["forceDisplay","withholdDisplayStage"]),r=function(){return p.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&p.participants.iAmMember()&&!p.participants.iAmAdmin()};o(function(){r()&&p.isCag&&p.id.isGroup()&&!p.size&&d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:p.id})["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[CAG][Group Subtitle] Error: "," \n",""],["[CAG][Group Subtitle] Error: "," \\n",""])),a.message,a.stack),d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[CAG][Group Subtitle] Failed to query group metadata for CAG"]))).sendLogs("failed-to-query-group-metadata-for-cag"),d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[CAG] Failed to query group metadata "," isCAG="," isGroup=",""])),p.id.toString(),p.isCag,p.id.isGroup())})},[]);o(function(){b!=null&&q.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment&&d("WAWebChatAssignmentLogEvents").logChatStatusTickerShown(e)},[e,q.withholdDisplayStage,b]);var s=d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(d("WAWebChatCollection").ChatCollection.get(e));g=function(){if(p.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP)return{text:h._(/*BTDS*/"Announcements")};var a=(f.type===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.TYPING||f.type===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.RECORDING_AUDIO)&&d("WAWebTypingIndicatorGatingUtils").isTypingIndicatorMessageBubbleEnabled(e);return a===!0?null:q.getGroupSubtitleText({elevatedPushNamesEnabled:s})};var t,u;a=!1;if(q.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.CommunityName){var v,w=d("WAWebChatCollection").ChatCollection.get(e);w=w==null||(v=w.groupMetadata)==null?void 0:v.getParentGroupChat();w=w==null?void 0:w.contact;w=w!=null?d("WAWebFrontendContactGetters").getFormattedName(w):null;t=h._(/*BTDS*/"{community}",[h._param("community",w)])}else if(q.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.OnlyAdminsCanSend)t=h._(/*BTDS*/"Only admins can send messages");else if(d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()&&p.hasCapi===!0)t=b;else if(q.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.E2EE)t=d("WAWebChatSubtitleText").e2eChatSubtitleText(),a=!0;else if(q.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.Info)t=m;else if(b!=null&&q.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment)t=b;else{w=g();w!=null&&(t=w.text,u=w.ariaLabel)}return n.jsx(c("WAWebParticipantsList.react"),{groupMetadata:p,overridingText:t,placeholder:m,ariaLabel:u,location:l,showLockIcon:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterChatMenuDropdown.react",["fbt","WAWebCheckRefreshedIcon.react","WAWebCloseCircleRefreshedIcon.react","WAWebCmd","WAWebDrawerManager","WAWebDropdown.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebExitRefreshedIcon.react","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebInfoRefreshedIcon.react","WAWebModalManager","WAWebNewsletterMembershipUtil","WAWebReportNewsletterPopup.react","WAWebSettingsRefreshedIcon.react","WAWebSpamConstants","WAWebStateUtils","WAWebThumbsDownRefreshedIcon.react","WAWebUIRefreshGatingUtils","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWamEnumChannelEventSurface","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useRef;function a(a){var b,e=a.chat,f=a.onSelectMessages;a=a.toContextMenuManager;var g=m(null),i=e.newsletterMetadata,j=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),n=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebReportNewsletterPopup.react"),{chat:e,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}))},[e]),o=l(function(){d("WAWebCmd").Cmd.chatInfoDrawer(e)},[e]),p=l(function(){d("WAWebCmd").Cmd.closeChat(e)},[e]),q=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(e),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[e]),r=l(function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:e,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterSettings}))},[e]);b=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(e==null?void 0:e.newsletterMetadata)&&!((b=e.newsletterMetadata)!=null&&b.isSuspendedOrTerminated)?k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:r,testid:void 0,icon:j?k.jsx(d("WAWebSettingsRefreshedIcon.react").SettingsRefreshedIcon,{}):null,children:h._(/*BTDS*/"Channel settings")},"newsletter-overflow-menu-newsletter-settings"):null;r=(r=e.newsletterMetadata)!=null&&r.isSuspendedOrTerminated?null:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:f,icon:j?k.jsx(d("WAWebCheckRefreshedIcon.react").CheckRefreshedIcon,{}):null,children:h._(/*BTDS*/"Select updates")},"newsletter-overflow-menu-select-messages");f=(f=e.newsletterMetadata)!=null&&f.isSuspendedOrTerminated?null:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:n,testid:void 0,icon:j?k.jsx(d("WAWebThumbsDownRefreshedIcon.react").ThumbsDownRefreshedIcon,{}):null,children:h._(/*BTDS*/"Report")},"newsletter-overflow-menu-report");n=[k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:o,testid:void 0,icon:j?k.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{}):null,children:h._(/*BTDS*/"Channel info")},"newsletter-overflow-menu-newsletter-info"),b,r,k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:p,testid:void 0,icon:j?k.jsx(d("WAWebCloseCircleRefreshedIcon.react").CloseCircleRefreshedIcon,{}):null,children:h._(/*BTDS*/"Close channel")},"newsletter-overflow-menu-close-channel"),j?k.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}):null,f];d("WAWebNewsletterMembershipUtil").iAmSubscriber(i)&&n.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:q,testid:void 0,icon:j?k.jsx(d("WAWebExitRefreshedIcon.react").ExitRefreshedIcon,{}):null,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Unfollow")},"newsletter-overflow-menu-unfollow"));return a!=null?k.jsx("div",{ref:g,"data-testid":void 0,children:n}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){g.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:n},"NewsletterMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterChatMenuDropdown=a}),226);
__d("WAWebNewsletterSubscribeButton.react",["fbt","WAWebButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.isLoading;a=a.onClick;return j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{testid:void 0,onClick:a,spinner:b,disabled:b,children:h._(/*BTDS*/"Follow")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterConversationPanelHeader.react",["fbt","Promise","WAWebChatGetters","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebDrawerManager","WAWebFollowNewsletter","WAWebFrontendChatGetters","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebKeyboardTabUtils","WAWebLinkIcon.react","WAWebMenuBar.react","WAWebModalManager","WAWebMuteNotificationsRefreshedIcon.react","WAWebNewsletterDirectorySearchAction","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebNewsletterModelUtils","WAWebNewsletterSubscribeButton.react","WAWebNewsletterToggleMuteStateAction","WAWebSpinner.react","WAWebStateUtils","WAWebTabOrder","WAWebUnfollowNewsletterConfirmationModal.react","WAWebUnmuteNotificationsRefreshedIcon.react","WAWebWamEnumChannelEventSurface","WAWebWamEnumChannelLinkShareEntryPoint","WDSButton.react","asyncToGeneratorRuntime","react","useWAWebChatValues","useWAWebModelValues","useWAWebOnUnmount","useWAWebPrevious"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,n=e.useState;function a(a){var e=a.chat;a=d("useWAWebChatValues").useChatValues(e.id,[d("WAWebChatGetters").getIsNewsletter,d("WAWebFrontendChatGetters").getNewsletterMetadata,d("WAWebChatGetters").getMuteExpiration]);var f=a[0];a[1];a=a[2];c("useWAWebOnUnmount")(function(){g==null||g.resetRecentlyFollowedFrom()});var g=d("useWAWebModelValues").useOptionalModelValues(e.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated","canBeMuted"]),j=n(!1),k=j[0],p=j[1];j=n(!1);var q=j[0],r=j[1];j=c("useWAWebPrevious")(a);j!==a&&q&&r(!1);j=m(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){p(!0),yield (i||(i=b("Promise"))).allSettled([d("WAWebFollowNewsletter").followNewsletter(d("WAWebStateUtils").unproxy(e),{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}),d("WAWebNewsletterGatingUtils").isSimilarNewsletterInThreadEnabled()&&d("WAWebNewsletterDirectorySearchAction").getSimilarNewslettersAction(d("WAWebStateUtils").unproxy(e))]),p(!1)}),[e]);var s=m(function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(e),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[e]),t=m(function(){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){if(a)return;d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:e,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterLink,newsletterLinkShareScreenEntryPoint:d("WAWebWamEnumChannelLinkShareEntryPoint").CHANNEL_LINK_SHARE_ENTRY_POINT.CHANNEL_THREAD}),{transition:"slide-left",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})})},[e]),u=m(function(){r(!0),d("WAWebNewsletterToggleMuteStateAction").muteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return r(!1)})},[e]),v=m(function(){r(!0),d("WAWebNewsletterToggleMuteStateAction").unmuteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return r(!1)})},[e]);if(!f||g==null)return null;if(g.isSuspendedOrTerminated)return g.membershipType===d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Subscriber?l.jsx(c("WDSButton.react"),{label:h._(/*BTDS*/"Unfollow"),onPress:s,testid:void 0}):null;f=null;g.canBeMuted&&(f=d("WAWebNewsletterModelUtils").isMuted(a)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:q?l.jsx(o,{}):l.jsx(d("WAWebMuteNotificationsRefreshedIcon.react").MuteNotificationsRefreshedIcon,{}),onClick:v,disabled:q,title:h._(/*BTDS*/"Unmute")}):l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:q?l.jsx(o,{}):l.jsx(d("WAWebUnmuteNotificationsRefreshedIcon.react").UnmuteNotificationsRefreshedIcon,{}),onClick:u,disabled:q,title:h._(/*BTDS*/"Mute")}));s=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(g)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:l.jsx(d("WAWebLinkIcon.react").LinkIcon,{}),onClick:t,title:d("WAWebCommonNewsletterStrings").getShareText()}):null;a=d("WAWebNewsletterMembershipUtil").iAmGuest(g)?l.jsx(c("WAWebNewsletterSubscribeButton.react"),{onClick:j,isLoading:k}):null;return l.jsxs(l.Fragment,{children:[s,f,a]})}a.displayName=a.name+" [from "+f.id+"]";function o(){return l.jsx(d("WAWebSpinner.react").Spinner,{color:"wdsSecondaryLighter",size:20})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSearchAltIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="search-alt";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M15.9,14.3H15L14.7,14c1-1.1,1.6-2.7,1.6-4.3c0-3.7-3-6.7-6.7-6.7S3,6,3,9.7 s3,6.7,6.7,6.7c1.6,0,3.2-0.6,4.3-1.6l0.3,0.3v0.8l5.1,5.1l1.5-1.5L15.9,14.3z M9.7,14.3c-2.6,0-4.6-2.1-4.6-4.6s2.1-4.6,4.6-4.6 s4.6,2.1,4.6,4.6S12.3,14.3,9.7,14.3z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SearchAltIcon=a}),98);
__d("WAWebSubgroupSwitcherButton.react",["fbt","WAWebChevronCustomIcons","WAWebCommunityFeatureUsageWamEvent","WAWebCommunityGroupJourneyEventImpl","WAWebCommunitySubgroupSwitcher.react","WAWebDetailImage.react","WAWebFlex.react","WAWebIcChevronDownMenuIcon.react","WAWebMenuBar.react","WAWebModalManager","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebWamEnumChatFilterActionTypes","WAWebWamEnumCommunityFeatureUiActionTakenType","WAWebWamEnumCommunityUiFeatureType","WAWebWamEnumSurfaceType","WDSTooltip.react","react","stylex","useWAWebABPropConfigValue"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{height:"x1fgtraw",width:"xgd8bvy",position:"x1n2onr6",$$css:!0},parentGroupImage:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},chevron:{height:"x5yr21d",width:"xh8yej3",color:"x10gus5o",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",backgroundColor:"xkgd8lh",$$css:!0},menuBarBtnContainer:{display:"x78zum5",position:"x1n2onr6",height:"x5yr21d",borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",transitionProperty:"x15406qy",transitionDuration:"x1d8287x",transitionTimingFunction:"xwji4o3","@media screen and (max-width: 720px)_paddingTop":"xj8bxqt","@media screen and (max-width: 720px)_paddingInlineEnd":"xe3rdy5","@media screen and (max-width: 720px)_paddingBottom":"xpbnuc5","@media screen and (max-width: 720px)_paddingInlineStart":"x1gzssx3","@media screen and (max-width: 720px)_marginTop":"x86at4b","@media screen and (max-width: 720px)_marginInlineEnd":"x1ua388o","@media screen and (max-width: 720px)_marginBottom":"x1ad89wd","@media screen and (max-width: 720px)_marginInlineStart":"x1rs47hk",$$css:!0},hoverBg:{":hover_backgroundColor":"x1z0qo99",$$css:!0},iconGroup:{color:"x2jp5ct",$$css:!0}};function m(a){var b=a.parentGroupId;a=a.size;return k.jsx(d("WAWebDetailImage.react").DetailImage,{id:b,size:a,shape:d("WAWebDetailImage.react").DetailImageShape.Squircle,xstyle:l.parentGroupImage})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.chat,e=(a=b.groupMetadata)==null?void 0:a.parentGroup;a=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_tooltip");if(e==null)return null;var f=function(a){a==null||a.stopPropagation(),new(d("WAWebCommunityFeatureUsageWamEvent").CommunityFeatureUsageWamEvent)({communityId:e.toString(),communityUiAction:d("WAWebWamEnumCommunityFeatureUiActionTakenType").COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE.ENTRY,communityUiFeature:d("WAWebWamEnumCommunityUiFeatureType").COMMUNITY_UI_FEATURE_TYPE.SUBGROUP_SWITCH}).commit(),new(d("WAWebCommunityGroupJourneyEventImpl").CommunityGroupJourneyEvent)({action:d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.SUBGROUP_SWITCHER_CLICK,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.CHAT,chat:b}).commit(),d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebCommunitySubgroupSwitcher.react"),{chat:b}))},g=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),i=k.jsx(m,{parentGroupId:e,size:28}),n=h._(/*BTDS*/"Subgroup switcher");if(g){g=k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.menuBarBtnContainer,d("WAWebUISpacing").uiMargin.start10,d("WAWebUISpacing").uiPadding.horiz10,d("WAWebUISpacing").uiPadding.top8,d("WAWebUISpacing").uiPadding.bottom5,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.hoverBg,d("WAWebUISpacing").uiPadding.start12,d("WAWebUISpacing").uiPadding.end6,d("WAWebUISpacing").uiPadding.top6,d("WAWebUISpacing").uiPadding.bottom6),{children:k.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,title:a?void 0:n,"aria-label":n,dataTab:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,onClick:f,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:l.iconGroup,children:[i,k.jsx(d("WAWebIcChevronDownMenuIcon.react").IcChevronDownMenuIcon,{xstyle:d("WAWebUISpacing").uiMargin.start4,height:20})]})})}));return a?k.jsx(c("WDSTooltip.react"),{label:n,children:g}):g}return k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,xstyle:[l.container,d("WAWebUISpacing").uiPadding.all0],buttonStyle:[l.container,d("WAWebUISpacing").uiPadding.all0],onClick:f,title:n,testid:void 0,icon:k.jsxs(k.Fragment,{children:[i,k.jsx("div",{className:"x10l6tqk xk3w2oy x1tk7jg1 xlup9mm x1kky2od x1ktv7sr x142x0oa xv7zg05 x12dgle5 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xls5kiu xh25ehm x1uy4w22 x1b8sjad x1c9tyrk xeusxvb x1pahc9y x1ertn4p",children:k.jsx(d("WAWebChevronCustomIcons").ChevronDownCustomIcon,{xstyle:l.chevron,height:16,width:16})})]})})}a.displayName=a.name+" [from "+f.id+"]";g.SubgroupSwitcherButton=a}),226);
__d("WAWebHeader.react",["fbt","WAWebBlockContactUtils","WAWebBlockContants","WAWebBotGating","WAWebBroadcastMenuDropdown.react","WAWebBusinessProfileCollection","WAWebCallButtonsSurface","WAWebChatAssignmentNux.react","WAWebChatAssignmentUtils","WAWebChatGetters","WAWebChatGroupUtils","WAWebChatSearchDrawer.react","WAWebCmd","WAWebCommerceButton.react","WAWebConnModel","WAWebContactGetters","WAWebContactMenuDropdown.react","WAWebConversationMenus","WAWebConversationPanelStyleUtils","WAWebDesktopUpsellCallingUnavailable.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDetailImage.react","WAWebDrawerManager","WAWebDropdown.react","WAWebEnvironment","WAWebErrorBoundary.react","WAWebFrontendChatGetters","WAWebFrontendContactGetters","WAWebGroupChatImage.react","WAWebGroupMenuDropdown.react","WAWebGroupSubtitle.react","WAWebGroupType","WAWebHostedGroupUtils","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebL10N","WAWebMenuBar.react","WAWebMenuIcon.react","WAWebMessageLogQplEvents","WAWebMmSignalSharingExpirationWindowUtils","WAWebMoreRefreshedIcon.react","WAWebName.react","WAWebNewsletterChatHeaderSubtitle.react","WAWebNewsletterChatMenuDropdown.react","WAWebNewsletterConversationPanelHeader.react","WAWebNewsletterGatingUtils","WAWebPREGatingUtils","WAWebSearchAltIcon.react","WAWebSearchRefreshedIcon.react","WAWebSingleChevronInCircleIcon.react","WAWebStackedCirclesImage.react","WAWebStateUtils","WAWebStylesEnv","WAWebSubgroupSwitcherButton.react","WAWebTabOrder","WAWebThemeContext","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUseBusinessProfile.react","WAWebUseIsKeyboardUser","WAWebUserSubtitle.react","WAWebVoipCallButtonsLoadable","WAWebVoipGatingUtils","WAWebWamEnumCallFromUi","WAWebWamEnumLobbyEntryPointType","WAWebWamEnumProfileEntryPoint","WDSFocusStateStyles","WDSMenuBarItem.react","asyncToGeneratorRuntime","nullthrows","react","stylex","useWAWebABPropConfigValue","useWAWebChatValues","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener","useWAWebModelValues","useWAWebStaticButtonA11y","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useRef,o=e.useState,p={chatControls:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",$$css:!0},chatHeader:{position:"x1n2onr6",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",width:"xh8yej3",height:"x7j6532",backgroundColor:"x1pl83jw","::after_position":"x1j6awrg","::after_bottom":"x1te75w5","::after_insetInlineStart":"x1iygr5g","::after_width":"x4eaejv","::after_height":"xcock1l","::after_content":"x1s928wv","::after_backgroundColor":"xl9llhp","::after_borderBottomWidth":"x1qj619r","::after_borderBottomStyle":"x1r9ni5o","::after_borderBottomColor":"xvkby78",$$css:!0},chatHeaderDarkOverride:{boxShadow:"xu306ak","::after_display":"x1h1zc6f",$$css:!0},chatHeaderStylesOverride:{backgroundColor:"x150wa6m",borderInlineStartStyle:"xstzfhl",$$css:!0},chatHeaderMaterial:{"::after_content":"x1s928wv","::after_display":"x1h1zc6f",$$css:!0},chatBody:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minWidth:"xeuugli",$$css:!0},menuItemContainer:{position:"x1n2onr6",$$css:!0},chevronInCircleIcon:{position:"x10l6tqk",insetInlineEnd:"xo2ifbc",left:null,right:null,bottom:"x1o583il",backgroundColor:"x150wa6m",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",cursor:"x1ypdohk",$$css:!0}};function aa(a){var b,c,e,f,g=a!=null&&(b=a.groupMetadata)!=null&&b.participants.iAmAdmin()&&(c=a.groupMetadata)!=null&&c.announce?h._(/*BTDS*/"Only admins can send messages"):h._(/*BTDS*/"click here for group info"),i;if(((e=a.groupMetadata)==null?void 0:e.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP){var j;a!=null&&(j=a.groupMetadata)!=null&&j.participants.iAmAdmin()?i=h._(/*BTDS*/"Only admins can send messages"):i=h._(/*BTDS*/"Announcements")}else if(((e=a.groupMetadata)==null?void 0:e.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP&&(f=a.groupMetadata)!=null&&f.participants.iAmMember()){a=(e=a.groupMetadata)==null?void 0:e.getParentGroupChat();e=a==null?void 0:a.contact;a=e!=null?d("WAWebFrontendContactGetters").getFormattedName(e):null;a!=null&&(i=h._(/*BTDS*/"{community}",[h._param("community",a)]))}return i!=null?i:g}function q(a,b,c){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(e){if(e)return;a.contact.isBusiness&&d("WAWebMessageLogQplEvents").qplStartProfileView("Header");(d("WAWebChatGetters").getIsUser(a)||d("WAWebChatGetters").getIsBroadcast(a)||d("WAWebChatGetters").getIsGroup(a)||d("WAWebChatGetters").getIsNewsletter(a))&&d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:d("WAWebStateUtils").unproxy(a),profileEntryPoint:c,sourceGroupChatOrNewsletter:d("WAWebChatGetters").getIsGroup(a)?a:void 0},"info-"+a.id.toString()),{transition:"slide-left",uim:b,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})}function ba(){d("WAWebDrawerManager").DrawerManager.existsDrawerRight(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()})}function a(a){var e,f,g,i,k=a.chat;a=a.onSelectMessages;var r=c("useWAWebUIM")(),s=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),t=n(null),u=n(null),v=k.contact;f=d("useWAWebChatValues").useChatValues(k.id,[(f=d("WAWebChatGetters")).getId,(g=d("WAWebFrontendChatGetters")).getFormattedTitle,g.getPresence,f.getIsUser,f.getIsNewsletter,f.getIsGroup,f.getIsBroadcast,g.getGroupMetadata,f.getIsPSA,g.getContact,f.getName,g.getAssignedAgent,g.getIsAssignedToMe,g.getNewsletterMetadata,f.getCapiThreadControl,g.getAttachMediaContents]);var w=f[0];f[1];g=f[2];var x=f[3],y=f[4],z=f[5],A=f[6],B=f[7],C=f[8];f[9];f[10];var D=f[11],E=f[12],F=f[13];f[14];f=f[15];var G=c("WAWebUseIsKeyboardUser")();G=G.isKeyboardUser;var H=d("WAWebThemeContext").useIsDarkTheme(),I=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button"),J=d("useWAWebModelValues").useModelValues(g.chatstate,["type"]);i=d("useWAWebContactValues").useContactValues(v.id,[(i=d("WAWebContactGetters")).getIsMe,i.getShowBusinessCheckmarkAsPrimary,i.getShowBusinessCheckmarkAsSecondary,i.getShouldForceBusinessUpdate,i.getShowBiz3pBotVerifiedNameAsSecondary]);var K=i[0],ca=i[1],L=i[2],da=i[3];i=i[4];e=(e=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()?v.id:null,["isBizBot3p"]))!=null?e:{};e=e.isBizBot3p;i=i&&e===!0;e=d("useWAWebModelValues").useOptionalModelValues(F,["membershipType","suspended","terminated","isSuspendedOrTerminated"]);F=c("useWAWebUnmountSignal")();var M=o(null),ea=M[0];M=M[1];var N=n(null);m(function(){function a(){return c.apply(this,arguments)}function c(){c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(v.id),s()});return c.apply(this,arguments)}da&&a()},[]);var O=o(!0),fa=O[0],P=O[1],Q=function(a){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(b){b&&(a==null||a.preventDefault())})};O=function(a){a==null||a.preventDefault(),d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){a||d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebChatSearchDrawer.react"),{chat:d("WAWebStateUtils").unproxy(k)},"chat-search-"+w.toString()),{transition:"slide-left",uim:r,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})};var ga=function(){return d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()&&(B==null?void 0:B.hasCapi)===!0?!0:!1},R=function(a){a((a=t.current)==null?void 0:a.getBoundingClientRect())},S=function(){q(k,r,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)};S=c("useWAWebStaticButtonA11y")(S);var ha=S[0];S=S[1];d("useWAWebListener").useListener(v.businessProfile,["change:profileOptions","change:catalogStatus"],s);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"get_conversation_header_offset",R);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"update_chatlist_selection",function(){return ba()});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_current_chat_info",function(){q(k,r,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"block_current_chat",function(){d("WAWebBlockContactUtils").handleBlock(k,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"clear_current_chat_conversation_history",function(){d("WAWebCmd").Cmd.clearChat(k)});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"exit_current_group",function(){z&&d("WAWebConversationMenus").handleDeleteOrExitChat(k)});R=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("call_btn");var T=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();R=R&&T;T=d("useWAWebABPropConfigValue").useABPropConfigValue("enable_web_group_calling");f=Boolean(f);var U=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);U=U.pushname;var V=o(null),W=V[0],ia=V[1];m(function(){if(d("WAWebChatAssignmentUtils").canAssignChat(k)&&D!=null){var a=E?h._(/*BTDS*/"Assigned to you"):h._(/*BTDS*/"Assigned to {agentName}",[h._param("agentName",D.name)]);ia(a)}},[U,k,D,E]);var X,Y;if(x)X=l.jsx(c("WAWebContactMenuDropdown.react"),{chat:k,onSelectMessages:a,toContextMenuManager:!0,enableChatThreadLogging:!0}),Y=l.jsx(c("WAWebUserSubtitle.react"),{contact:v,presence:g,chatstate:g.chatstate,location:"title",showBusinessCheckmark:L,showVerifiedName:i,assignmentSubtitle:W,chatId:w});else if(A)X=l.jsx(c("WAWebBroadcastMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(k),onSelectMessages:a,toContextMenuManager:!0}),Y=null;else if(z){V=c("nullthrows")(B);X=l.jsx(c("WAWebGroupMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(k),onSelectMessages:a,toContextMenuManager:!0});V.isSuspendedOrTerminated()?Y=null:!V.isUnnamed||J.type==="typing"?Y=l.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"group-subtitle",children:l.jsx(c("WAWebGroupSubtitle.react"),{chatstate:g.chatstate,groupMetadata:V,presence:g,placeholder:aa(k),location:"title",assignmentSubtitle:W,chatId:w})}):Y=null}else y&&(X=l.jsx(d("WAWebNewsletterChatMenuDropdown.react").NewsletterChatMenuDropdown,{chat:k,toContextMenuManager:!0,onSelectMessages:a}),Y=(e==null?void 0:e.suspended)===!0?null:l.jsx(c("WAWebNewsletterChatHeaderSubtitle.react"),{newsletterMetadata:e}));var Z;X&&(Z={menu:X,anchor:ea,anchorRef:N,autoFocus:G,dirX:c("WAWebL10N").isRTL()?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,offsetY:5,type:d("WAWebDropdown.react").MenuType.DropdownMenu});U=null;i=z&&((B==null?void 0:B.participants.iAmMember())!==!0||(B==null?void 0:B.announce)===!0&&!((x=B==null?void 0:B.participants.iAmAdmin())!=null?x:!1));if((B==null?void 0:B.groupType)!==d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&!ga()&&!K&&!y&&!w.isBot()&&!v.isEnterprise&&!C&&!i){A=d("WAWebVoipGatingUtils").isCallingEnabled()&&(c("WAWebEnvironment").isWindows||!z||T);A?U=l.jsx(d("WAWebVoipCallButtonsLoadable").WAWebCallButtonsLoadable,{callFromUI:z?d("WAWebWamEnumCallFromUi").CALL_FROM_UI.GROUP_CHAT_DIRECT:d("WAWebWamEnumCallFromUi").CALL_FROM_UI.CONVERSATION,lobbyEntryPoint:d("WAWebWamEnumLobbyEntryPointType").LOBBY_ENTRY_POINT_TYPE.NOT_OPENED,surface:d("WAWebCallButtonsSurface").WAWebCallButtonsSurface.ChatHeader,chat:k}):R===!0&&(U=l.jsx(d("WAWebDesktopUpsellCallingUnavailable.react").WAWebDesktopCallingMenuButton,{}))}J=(B==null?void 0:B.parentGroup)!=null&&B.participants.iAmMember();V=J?l.jsx(d("WAWebSubgroupSwitcherButton.react").SubgroupSwitcherButton,{chat:k}):null;W=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();var $;y===!1&&d("WAWebChatGroupUtils").isSuspendedGroup(k)===!1&&($=I?l.jsx(c("WDSMenuBarItem.react"),{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:d("WAWebSearchRefreshedIcon.react").SearchRefreshedIcon,title:h._(/*BTDS*/"Search"),onClick:O,marginInlineXstyle:d("WAWebUISpacing").uiMargin.start10,disabled:f}):l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:W?l.jsx(d("WAWebSearchRefreshedIcon.react").SearchRefreshedIcon,{}):l.jsx(d("WAWebSearchAltIcon.react").SearchAltIcon,{}),title:h._(/*BTDS*/"Search\u2026"),onClick:O,disabled:f}));C&&(Y=l.jsx(c("WAWebUserSubtitle.react"),{contact:v,presence:g,chatstate:g.chatstate,location:"title",showBusinessCheckmark:L,chatId:w}));var ja;fa&&(ja=l.jsx(c("WAWebChatAssignmentNux.react"),{targetRef:u,chat:k}));if(F.aborted)return null;a=I?l.jsx(c("WDSMenuBarItem.react"),{ref:u,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,icon:d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,title:h._(/*BTDS*/"Menu"),onClick:function(a){P(!1),Q(a)},testid:void 0,dropdownMenu:Z,disabled:f}):l.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:u,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,icon:W?l.jsx(d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,{}):l.jsx(d("WAWebMenuIcon.react").MenuIcon,{xstyle:d("WAWebUISpacing").uiMargin.top2}),title:h._(/*BTDS*/"Menu"),onClick:function(a){P(!1),Q(a)},testid:void 0,dropdownMenu:Z,disabled:f});return l.jsxs("header",babelHelpers["extends"]({ref:t},(j||(j=c("stylex"))).props([p.chatHeader,c("WAWebConversationPanelStyleUtils").sharedLayer,d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.horiz16,H&&p.chatHeaderDarkOverride,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&p.chatHeaderMaterial,W&&p.chatHeaderStylesOverride,W&&c("WAWebConversationPanelStyleUtils").sharedShadow]),{"data-testid":void 0,children:[l.jsx("div",{className:"x1n2onr6 x1c4vz4f x2lah0s xdl72j9 x1cbfl22 x1y332i5",onClick:function(){return q(k,r,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)},title:h._(/*BTDS*/"Profile details"),role:C?null:"button",children:l.jsx(c("WAWebGroupChatImage.react"),{chat:k,theme:d("WAWebStackedCirclesImage.react").SubgroupImageTheme.CHAT_HEADER,regularChatImage:l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebDetailImage.react").DetailImage,{id:w,size:40,ephemeralIcon:"conversation-header",hiddenSubgroupIcon:"conversation-header",enableAdsDataSharingIcon:!0,enableBizAiDataSharingIcon:!0}),d("WAWebMmSignalSharingExpirationWindowUtils").isMmSignalSharingUserDisclosedInCollectionWindow(k)&&l.jsx(d("WAWebSingleChevronInCircleIcon.react").SingleChevronInCircleIcon,{iconXstyle:p.chevronInCircleIcon})]}),showCommunityInfo:!0})}),l.jsxs("div",babelHelpers["extends"]({},j.props(p.chatBody,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus),S,{ref:ha,"data-testid":void 0,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,children:[l.jsx("div",{className:"x78zum5 x1cy8zhl x1y332i5 xggjnk3 x1yc453h",children:l.jsx("div",babelHelpers["extends"]({},{0:{className:"x78zum5 x1q0g3np x1iyjqo2 x6ikm8r x10wlt62 x1jchvi3 x1fcty0u xdod15v x1wm35g x1yc453h xlyipyv xuxw1ft xh8yej3"},2:{className:"x78zum5 x1q0g3np x1iyjqo2 x6ikm8r x10wlt62 x1jchvi3 xdod15v x1wm35g x1yc453h xlyipyv xuxw1ft xh8yej3 x1s688f"},1:{className:"x78zum5 x1q0g3np x6ikm8r x10wlt62 x1jchvi3 x1fcty0u xdod15v x1wm35g x1yc453h xlyipyv xuxw1ft xh8yej3 x1c4vz4f x2lah0s xdl72j9"},3:{className:"x78zum5 x1q0g3np x6ikm8r x10wlt62 x1jchvi3 xdod15v x1wm35g x1yc453h xlyipyv xuxw1ft xh8yej3 x1s688f x1c4vz4f x2lah0s xdl72j9"}}[!!H<<1|!!d("WAWebStylesEnv").hasEmoji<<0],{children:l.jsx(d("WAWebName.react").Name,{chat:k,ellipsify:!0,showBusinessCheckmark:ca,testid:void 0,showMessageYourselfName:K,truncateName:!0})}))}),Y]})),l.jsx("div",babelHelpers["extends"]({},j.props([p.chatControls,d("WAWebUISpacing").uiMargin.start20]),{children:l.jsxs(d("WAWebMenuBar.react").MenuBar,{children:[V,U,l.jsx(d("WAWebCommerceButton.react").CommerceButton,{chat:k,disabled:f}),d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&l.jsx(c("WAWebNewsletterConversationPanelHeader.react"),{chat:k}),$,X!=null&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([p.menuItemContainer,d("WAWebUISpacing").uiMargin.start10]),{ref:d("WAWebPREGatingUtils").isPREChatMovingEnabled()?N:M,children:a}))]},"conversation-header")})),ja]}))}a.displayName=a.name+" [from "+f.id+"]";g.openInfoPanel=q;g.ConversationHeader=a}),226);
__d("WAWebWamEnumDeleteActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_FOR_ME:0,DELETE_FOR_EVERYONE:1});f.DELETE_ACTION_TYPE=a}),66);
__d("WAWebMessageDeleteActionsWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumDeleteActionType","WAWebWamEnumMediaType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MessageDeleteActions:[3626,{deleteActionType:[1,d("WAWebWamEnumDeleteActionType").DELETE_ACTION_TYPE],isAGroup:[2,a.TYPES.BOOLEAN],mediaType:[6,d("WAWebWamEnumMediaType").MEDIA_TYPE],messagesDeleted:[3,a.TYPES.INTEGER],threadId:[4,a.TYPES.STRING]},[1,1,1],"regular"]},{MessageDeleteActions:[]});g.MessageDeleteActionsWamEvent=b}),98);
__d("WAWebMutePopup.react",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebModalManager","WAWebMuteExpirations","WAWebRadio.react","WAWebText.react","WAWebUserPrefsGeneral","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState;function n(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.onMute,c=a.children,e=d("useWAWebModelValues").useModelValues(a.mute,["id","expiration","callExpiration"]),f=m(null),g=f[0],i=f[1],j=function(a){i(a)},o=function(){return g!=null&&g!==0?g:d("WAWebUserPrefsGeneral").getLastChatMuteDuration()||d("WAWebMuteExpirations").getDefaultMuteDuration()};f=function(){d("WAWebModalManager").ModalManager.close();var c=o();d("WAWebUserPrefsGeneral").setLastChatMuteDuration(c);b(d("WAWebMuteExpirations").calculateMuteExpiration(c),c,a.entryPoint==null?0:a.entryPoint)};l(function(){e.expiration!=null&&e.expiration!==0&&e.callExpiration!=null&&e.callExpiration!==0&&n()},[e.callExpiration,e.expiration,a]);var p=a.onCancel||n,q=o();q=k.jsx(d("WAWebRadio.react").RadioGroup,{name:"ractionMuteDuration",theme:d("WAWebRadio.react").RadioWithLabelThemeEnum.LARGE,checkedValue:q,options:d("WAWebMuteExpirations").ALL_MUTE_DURATIONS.map(function(a){var b=a.getLabel,c=a.duration;a=a.radioId;return{value:c,label:b(),testid:a,onChange:function(){return j(c)}}})});return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{title:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.title}),okText:h._(/*BTDS*/"Mute"),onOK:f,onCancel:p,testid:void 0,children:[c!=null&&k.jsx(d("WAWebText.react").WAWebTextMuted,{paddingBottom:12,children:c}),q]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterRevokeMsgAction",["Promise","WAAckLevel","WALogger","WATimeUtils","WAWebAssociatedMessagesRevokeUtils","WAWebChatSendMessages","WAWebDBStoreRevokeMsgs","WAWebMsgActionCapability","WAWebMsgKey","WAWebMsgModel","WAWebMsgType","WAWebNewsletterSendMessageJob","WAWebNewsletterValidationUtils","WAWebSendMsgResultAction","WAWebUpdateNewsletterMsgUIAction","WAWebUserPrefsMeUser","WAWebViewMode.flow","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function a(a,c,d){return(m||(m=b("Promise"))).all(c.map(function(b){return n(a,b,d)}))}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=(yield p(a,c,e));if(f.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)return f;void (m||(m=b("Promise"))).all(yield d("WAWebAssociatedMessagesRevokeUtils").getAssociatedChildMessageRevokePromises(c,function(b){return p(a,b,e)}));return f});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(!d("WAWebMsgActionCapability").canRevokeNewsletterMsg(b)){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendNewsletterRevokeMsg: msg cannot be revoked"]))).devConsole(b);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_CANCELLED}}var e=b.serverId;if(e==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[sendNewsletterRevokeMsg] missing serverId"]))).devConsole(b).tags("newsletter").sendLogs("newsletter-revoke-missing-id");return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_CANCELLED}}var f=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),g=r(b,c,f);try{var m=d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(a.id.toJid());m=(yield d("WAWebNewsletterSendMessageJob").sendNewsletterMessageJob({newsletterJid:m,messageId:b.id.id,isContentMedia:b.mediaObject!=null,type:"revoke",isWamoSub:b.isWamoSub}));if(m.success){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Sent revoke message "," -> ",""])),e,a.id.toJid());return yield s({chat:a,msgToBeRevoked:b,revokeMsg:g,me:f})}else if(m.ack.error==="404")return u({chat:a,msgToBeRevoked:b,clearMedia:c});d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to send message, "," from server"])),m.ack.error).tags("newsletter").devConsole(m.ack.error).sendLogs("newsletter-send-revoke-message-fail-server");void g.updateAck(d("WAAckLevel").ACK.FAILED,!0);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_NETWORK}}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to send message"]))).tags("newsletter").devConsole(a).sendLogs("newsletter-send-revoke-message-fail-client");void g.updateAck(d("WAAckLevel").ACK.FAILED,!0);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.ERROR_UNKNOWN}}});return q.apply(this,arguments)}function r(a,b,e){var f=new(c("WAWebMsgKey"))({id:c("WAWebMsgKey").newId_DEPRECATED(),remote:a.id.remote,fromMe:!0}),g="admin_revoke",h=d("WATimeUtils").unixTime();f={id:f,from:e,to:a.id.remote,t:h,type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,subtype:g,protocolMessageKey:a.id,clearMedia:b,local:!0,revokeDuration:h-a.t,revokeTimestamp:h,serverId:a.serverId,viewMode:d("WAWebViewMode.flow").ViewModeType.NEWSLETTER_TOMBSTONE};return new(d("WAWebMsgModel").Msg)(f)}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chat,c=a.msgToBeRevoked,e=a.revokeMsg;a=a.me;yield d("WAWebDBStoreRevokeMsgs").processRevokeMsgs([{revokeMsgKey:c.id,newMsgKey:e.id,timestamp:c.t,revokeTimestamp:e.t,subtype:e.subtype,sender:a,disappearingModeInitiator:c.disappearingModeInitiator,ephemeralDuration:c.ephemeralDuration,ephemeralSettingTimestamp:c.ephemeralSettingTimestamp,viewMode:e.viewMode}]);void d("WAWebUpdateNewsletterMsgUIAction").updateNewsletterMessageUI(e,b.id);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.OK}});return t.apply(this,arguments)}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chat,c=a.msgToBeRevoked;a=a.clearMedia;yield d("WAWebChatSendMessages").sendDeleteMsgs(b,{type:"message",list:[c]},a);return{messageSendResult:d("WAWebSendMsgResultAction").SendMsgResult.OK}});return v.apply(this,arguments)}g.sendNewsletterRevokeMsgs=a;g.sendNewsletterRevokeMsg=n}),98);
__d("WAWebPipOgVideoPlayer.react",["WAWebPipConst","WAWebPipSharedVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){return i.jsx(d("WAWebPipSharedVideoPlayer.react").WrappedSharedVideoPlayer,{type:d("WAWebPipConst").PlayerType.OG_FLOATER,ogVideoInfo:a.ogVideoInfo,startTime:a.startTime,onClose:a.onClose,onVideoEnded:a.onVideoEnded,onError:a.onError,onAspectRatio:a.onAspectRatio,onVideoDimensions:a.onVideoDimensions,autoPlay:a.autoPlay,disablePiPControls:a.disablePiPControls,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductImageViewerHeader.react",["WAWebBusinessDescriptionIcon.react","WAWebCellFrame.react","WAWebContactCollection","WAWebDescriptionRefreshedIcon.react","WAWebDetailImage.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebMenuBar.react","WAWebName.react","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebXViewerIcon.react","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={productNameIcon:{color:"xt16idv",$$css:!0},info:{flexGrow:"x1iyjqo2",order:"x14yy4lh",marginInlineEnd:"x1yh7se0",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},mediaPanelTools:{order:"x9ek82g",$$css:!0}};function a(a){var b=a.isImgZoomedIn,e=a.onClose;a=a.product;a=d("useWAWebModelValues").useModelValues(a,["name","catalogWid"]);var f=j.jsx(d("WAWebXViewerIcon.react").XViewerIcon,{}),g=d("WAWebContactCollection").ContactCollection.get(a.catalogWid);if(g){var h=j.jsx(d("WAWebName.react").Name,{contact:g,selectable:!0,useVerifiedName:!0});g=j.jsx(d("WAWebDetailImage.react").DetailImage,{id:g.id,size:40});var l=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebDescriptionRefreshedIcon.react").DescriptionRefreshedIcon:d("WAWebBusinessDescriptionIcon.react").BusinessDescriptionIcon;l=j.jsxs("div",{children:[j.jsx(l,{xstyle:[k.productNameIcon,d("WAWebUISpacing").uiMargin.end2],displayInline:!0,width:17,height:20}),j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,titlify:!0,ellipsify:!0})]});g=j.jsx(c("WAWebCellFrame.react"),{idle:!0,image:g,primary:h,secondary:l,theme:"media"})}else g=j.jsx(d("WAWebText.react").WAWebTextLarge,{as:"span",paddingStart:12,children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,titlify:!0,ellipsify:!0})});return j.jsxs("div",babelHelpers["extends"]({},{0:{className:"x78zum5 x1c4vz4f x15zctf7 x6s0dn4 xng8ra x114d0zl xeg851g x1d8287x xeerw82"},1:{className:"x78zum5 x1c4vz4f x15zctf7 x6s0dn4 xng8ra x114d0zl xeg851g x1d8287x xeerw82 xlshs6z xg01cxk"}}[!!b<<0],{children:[j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.info,d("WAWebUISpacing").uiMargin.start5),{children:g})),j.jsx("div",babelHelpers["extends"]({},i.props(k.mediaPanelTools,d("WAWebUISpacing").uiMargin.end18),{children:j.jsx(d("WAWebMenuBar.react").MenuBar,{theme:"strong",children:j.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:f,title:c("WAWebFbtCommon")("Close"),onClick:e})},"media-panel-header")}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductImageViewerModal.react",["WANullthrows","WATypeUtils","WAWebChevronButton.react","WAWebEmojiText.react","WAWebMediaData","WAWebMediaImage.react","WAWebMediaTypes","WAWebMediaViewerConstants","WAWebObjectFit.react","WAWebPipOgVideoPlayer.react","WAWebProductCatalogProductImageViewerHeader.react","WAWebTextSizeUtils","WAWebUISpacing","WAWebUimUie.react","WAWebVelocityAnimate","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useRef,m=b.useState,n={mediaCaption:{flexShrink:"xs83m0k",width:"x14atkfc",maxWidth:"x14r61f",minHeight:"xisnujt",maxHeight:"x569fbc",overflowY:"x10wlt62",color:"x16cd2qt",wordWrap:"x1vvkbs",whiteSpace:"x126k92a",transitionProperty:"xeg851g",transitionDuration:"x1d8287x",transitionTimingFunction:"xeerw82",$$css:!0},imgZoomedInMediaCaption:{visibility:"xlshs6z",opacity:"xg01cxk",$$css:!0},btnMediaNext:{position:"x1n2onr6",marginInlineStart:"x1w35cxx",$$css:!0},btnMediaPrev:{position:"x1n2onr6",marginInlineEnd:"x487x9m",$$css:!0},mediaContent:{boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",justifyContent:"x1qughib",height:"x4t50tc",$$css:!0}},o=800;function a(a){var b=a.getZoomNode,e=a.zoomIn,f=a.onImgZoomIn,g=a.onExitAnimation,h=a.onBack,j=l(null),p=l(!1),q=l(!1),r=l(!1),s=l(null),t=d("useWAWebModelValues").useModelValues(a.mediaData,["mediaStage","renderableUrl","isGif","type"]),u=d("useWAWebModelValues").useModelValues(a.product,["description"]),v=d("useWAWebModelValues").useModelValues(a.productImage,["videoUrl","mediaUrl"]),w=m(!1),x=w[0],y=w[1];w=m(function(){return t.mediaStage===d("WAWebMediaTypes").MediaDataStage.RESOLVED&&e&&b?b():null});var z=w[0];w=m({width:o,height:o});var A=w[0];w=w[1];var B=d("WAWebTextSizeUtils").getWAWebTextSizeStyles(),C=function(a,b){var e=b.getBoundingClientRect(),f=a.getBoundingClientRect(),g=f.top-e.top;f=f.left-e.left;e=a.clientWidth/b.clientWidth;var h=(b.clientHeight-a.clientHeight)/2;a=(b.clientWidth-a.clientWidth)/2;g-=h;f-=a;void c("WAWebVelocityAnimate")(b,{opacity:[1,0],translateX:[0,f],translateY:[0,g],scale:[1,e]},{duration:d("WAWebMediaViewerConstants").ANIMATION_DURATION,easing:[.1,.82,.25,1]});j.current&&void c("WAWebVelocityAnimate")(j.current,{opacity:[1,0]},{duration:d("WAWebMediaViewerConstants").ANIMATION_DURATION})},D=function(a){if(p.current)return;p.current=!0;var b=z;a=a.currentTarget;if(!b||!a||!e)return;if(!(a instanceof HTMLElement))return;C(b,a)},E=function(a){var b=s.current;a&&b&&(r.current=b.getHeightOverflow()>0||b.getWidthOverflow()>0);y(a);f(a)},F=function(a){var b=s.current;b&&x&&b.onClick(a)},G=function(a,b){var e=s.current;if(!e)return;var f=e.getInsideContainer();if(!f||!(f instanceof HTMLElement))return;var g=e.getOutsideContainer();if(!g||!(g instanceof HTMLElement))return;e=e.getTranslatePosition(g,a,b);g=e.translateX;a=e.translateY;void c("WAWebVelocityAnimate")(f,"stop");void c("WAWebVelocityAnimate")(f,{translateX:g,translateY:a,scale:d("WAWebMediaViewerConstants").ZOOM_IN_FACTOR},{duration:0})},H=function(a){G(a.pageX,a.pageY)},I=function(){if(q.current)return;q.current=!0;d("WATypeUtils").isFunction(g)&&g();var a=b();if(!a)return h();if(!(s!=null&&s.current))return h();var e=c("WANullthrows")(s.current.getInsideContainer()),f=e.getBoundingClientRect(),i=a.getBoundingClientRect(),j=i.top-f.top;i=i.left-f.left;f=a.clientWidth/e.clientWidth;var k=(e.clientHeight-a.clientHeight)/2;a=(e.clientWidth-a.clientWidth)/2;j-=k;i-=a;void c("WAWebVelocityAnimate")(e,{translateX:[i,0],translateY:[j,0],scale:[f,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){h()})},J=function(a){Math.abs(a.deltaY)>7&&I()};v.videoUrl!=null?A=k.jsx(c("WAWebObjectFit.react"),{type:"scaleDown",position:"relative",objectPosition:"relative",size:A,children:k.jsx(c("WAWebPipOgVideoPlayer.react"),{autoPlay:!0,ogVideoInfo:{videoUrl:v.videoUrl,previewUrl:""},onVideoDimensions:w,onClose:I,startTime:0})}):A=k.jsx(c("WAWebMediaImage.react"),{mediaData:t,onLoad:D,onImgZoomIn:E,ref:s,preventDownload:!1},t.renderableUrl);var K;if(u.description!=null&&u.description!==""){v=a.zoomIn&&(t.isGif||t.type===c("WAWebMediaData").TYPE.IMAGE);K=k.jsx("span",babelHelpers["extends"]({},{0:{},1:{className:"xg01cxk"}}[!!v<<0],{ref:j,children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:u.description,className:(i||(i=c("stylex")))(n.mediaCaption,d("WAWebUISpacing").uiMargin.top12,a.isImgZoomedIn&&n.imgZoomedInMediaCaption,B.mediaCaptionTextSize)})}))}w=function(b){a.onPrev==null||a.onPrev(b)};D=function(b){a.onNext==null||a.onNext(b)};E=k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.btnMediaNext,d("WAWebUISpacing").uiMargin.end18),{children:k.jsx(d("WAWebChevronButton.react").ChevronButton,{type:d("WAWebChevronButton.react").ButtonType.Next,onClick:D,onKeyDown:D,disabled:!a.onNext||x})}));v=k.jsx("div",babelHelpers["extends"]({},i.props(n.btnMediaPrev,d("WAWebUISpacing").uiMargin.start18),{children:k.jsx(d("WAWebChevronButton.react").ChevronButton,{type:d("WAWebChevronButton.react").ButtonType.Prev,onClick:w,onKeyDown:w,disabled:!a.onPrev||x})}));B=x?null:J;D=x?null:I;w=x&&r.current?H:null;J=x?F:null;return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"ProductViewer",escapable:!0,requestDismiss:I,children:k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1oyvh86 x78zum5 xdt5ytf xn4wywj x1ecsr37 xixxii4 x13vifvy x1o0tod x9f619 xh8yej3 x5yr21d"},2:{className:"x127lhb5 xfbpl4g x1alahoq x1oyvh86 x78zum5 xdt5ytf xn4wywj x1ecsr37 xixxii4 x13vifvy x1o0tod x9f619 xh8yej3 x5yr21d"},1:{className:"xzuqxi3 x1oyvh86 x78zum5 xdt5ytf xn4wywj x1ecsr37 xixxii4 x13vifvy x1o0tod x9f619 xh8yej3 x5yr21d"},3:{className:"x127lhb5 xfbpl4g x1alahoq xzuqxi3 x1oyvh86 x78zum5 xdt5ytf xn4wywj x1ecsr37 xixxii4 x13vifvy x1o0tod x9f619 xh8yej3 x5yr21d"}}[!!a.zoomIn<<1|!!x<<0],{"data-animate-media-viewer":!0,onClick:J,onMouseMove:w,children:[k.jsx(c("WAWebProductCatalogProductImageViewerHeader.react"),{onClose:I,product:u,isImgZoomedIn:a.isImgZoomedIn}),k.jsxs("div",babelHelpers["extends"]({},i.props(n.mediaContent,d("WAWebUISpacing").uiPadding.top10,d("WAWebUISpacing").uiPadding.bottom15),{dir:"ltr",onWheel:B,onClick:D,children:[v,k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1n2onr6 x78zum5 x6s0dn4 xl56j7k xh8yej3 xeuugli x5yr21d"},1:{className:"xdt5ytf x1n2onr6 x78zum5 x6s0dn4 xl56j7k xh8yej3 xeuugli x5yr21d"}}[!!!!K<<0],{children:[k.jsx("div",{className:"x1n2onr6 x78zum5 x6s0dn4 xl56j7k xh8yej3 xeuugli x5yr21d",children:A}),K]})),E]}))]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductImageViewFlow.react",["Keys","WAWebModalManager","WAWebProductCatalogLogEvents","WAWebProductCatalogProductImageViewerModal.react","WAWebProductCatalogProductThumb.react","WAWebStateUtils","WAWebUISpacing","WAWebVelocityAnimate","WAWebVelocityTransitionGroup","react","stylex","useWAWebListener","useWAWebPrevious","useWAWebRenderCallbacks"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useCallback,m=b.useEffect,n=b.useRef,o=b.useState,p={viewerThumbs:{display:"x78zum5",width:"xh8yej3",overflowX:"x14aock7",$$css:!0}};function a(a){var b=a.product,e=a.productImageCollection,f=a.activeProductImage,g=a.sessionId,h=n(!1),j=n(null),q=n(null),r=n(null),s=o(function(){return e.toArray().indexOf(f)}),t=s[0],u=s[1];s=o(!1);var v=s[0],w=s[1];s=c("useWAWebPrevious")(b);var x=c("useWAWebPrevious")(g),y=c("useWAWebPrevious")(t),z=l(function(a){a!==t&&(d("WAWebProductCatalogLogEvents").logImageNavigate({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g}),d("WAWebProductCatalogLogEvents").logImageListClick({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g})),u(a)},[t,b,g]),A=l(function(a,b){a&&a.stopPropagation();if(v)return;a=e.length;b=t+b;b=b<0?a-1:b%a;z(b)},[t,z,v,e.length]),B=function(a){a&&a.preventDefault(),a.keyCode===c("Keys").LEFT?A(a,-1):a.keyCode===c("Keys").RIGHT&&A(a,1)};d("useWAWebListener").useListener(window,"keydown",B);var C=function(a){var b;a===void 0&&(a=!1);var d=q.current;b=(b=r.current)==null?void 0:b.firstChild;var e=j.current;if(!d||!b||!e)return;var f=0;e instanceof HTMLElement&&(f=e.clientWidth/2-d.clientWidth/2);void c("WAWebVelocityAnimate")(e,"stop");d=0;a&&(d=300);void c("WAWebVelocityAnimate")(e,"scroll",{duration:d,container:b,offset:f,axis:"x",easing:[.1,.82,.25,1]})};c("useWAWebRenderCallbacks")({onMount:function(){C(),q.current&&void c("WAWebVelocityAnimate")(q.current,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}),d("WAWebProductCatalogLogEvents").logImageCarouselModalView({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g})}});B=function(a){w(a)};var D=function(){d("WAWebModalManager").ModalManager.closeMedia()},E=function(){if(!q.current)return;void c("WAWebVelocityAnimate")(q.current,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})};m(function(){y!==t&&(C(!0),d("WAWebProductCatalogLogEvents").logFullImageView({product:d("WAWebStateUtils").unproxy(b),catalogSessionId:g}))},[t,y,s,x,b,g]);s=e.length;x=t>0?function(a){return A(a,-1)}:null;s=t+1<s?function(a){return A(a,1)}:null;return k.jsxs("div",{className:v?"img-zoomed-in":null,children:[k.jsx("div",babelHelpers["extends"]({},{0:{className:"x10l6tqk x1ey2m1c xaivifb x9f619 x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 xh8yej3 xpyat2d x6ikm8r x10wlt62 x178xt8z x13fuv20 x1sdoubt xg01cxk xqu7myx"},1:{className:"x10l6tqk x1ey2m1c xaivifb x9f619 x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 xh8yej3 xpyat2d x6ikm8r x10wlt62 x178xt8z x13fuv20 x1sdoubt xqu7myx x1yn0zye xvdu4fi"}}[!!v<<0],{ref:q,children:k.jsx("div",{ref:r,className:"xh8yej3",dir:"ltr",children:k.jsxs(c("WAWebVelocityTransitionGroup"),{className_DONOTUSE:(i||(i=c("stylex")))([p.viewerThumbs,d("WAWebUISpacing").uiPadding.vert8]),transitionName:"thumb-scale",children:[k.jsx("div",{className:"x1mkiy5m"},"padding-left"),e.toArray().map(function(a,b){var c=b===t;return k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{theme:"viewerFlow",active:c,ref:c?j:null,mediaData:a.mediaData,onClick:function(){return z(b)}},"product-image-"+b)}),k.jsx("div",{className:"x1mkiy5m"},"padding-right")]})})})),k.jsx(c("WAWebProductCatalogProductImageViewerModal.react"),{mediaData:e.toArray()[t].mediaData,productImage:e.toArray()[t],onBack:D,onExitAnimation:E,onNext:s,onPrev:x,onImgZoomIn:B,getZoomNode:a.getZoomNode,zoomIn:h.current,isImgZoomedIn:v,product:b,sessionId:a.sessionId})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSendProductModalLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizSendProductModal.react").__setRef("WAWebSendProductModalLoadable").load());return a}),"SendProductModal");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._(/*BTDS*/"Send message to"),error:Boolean(a.error)})}});g.requireBundle=a;g.SendProductModalLoadable=d}),226);
__d("WAWebChatArchiveBridge",["WALogger","WASyncdConst","WATimeUtils","WAWebApiActiveMessageRanges","WAWebArchiveChatSync","WAWebMessageRangeUtils","WAWebMiscErrors","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a,e,f){f=d("WATimeUtils").unixTimeMs();return c("WAWebArchiveChatSync").getMutationsForArchive(f,e,a).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){try{yield d("WAWebMessageRangeUtils").lockForMessageRangeSync(["chat"],f,function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];if(f[0].action!==d("WASyncdConst").Actions.Archive)throw c("err")("syncd: expected archive action from getMutationsForArchive");yield d("WAWebApiActiveMessageRanges").addActiveMessageRange(a.toString(),"archive",f[0].binarySyncAction);return b.merge(a.toString(),i(e))});return function(a){return g.apply(this,arguments)}}());return{status:200}}catch(a){if(a instanceof d("WAWebMiscErrors").DbOnLogoutAbort)throw a;d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["update chat table failed"]))).verbose().devConsole(a).sendLogs("update chat table failed when send conversation to archive");throw c("err")("update chat table failed")}});return function(a){return f.apply(this,arguments)}}())}function i(a){var b={archive:a};a&&(b.pin=void 0);return b}g.sendConversationArchive=a}),98);
__d("WAWebSetArchiveChatAction",["fbt","Promise","WAAbortError","WALogger","WAWebActionToast.react","WAWebChatArchiveBridge","WAWebMiscErrors","WAWebNoop","WAWebStateUtils","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react");function a(a,b,c){return m(d("WAWebStateUtils").unproxy(a),b,c)}function m(a,e,f,g){g===void 0&&(g=d("WAWebActionToast.react").genId());if(a.archive===e)return(j||(j=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var k=a.promises;if(k.setArchive)return k.setArchive.promise;var n=a.getLastMsgKeyForAction(),o=new AbortController(),p=o.signal;n=d("WAWebChatArchiveBridge").sendConversationArchive(a.id,e,n);var q=e?new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Archiving chat")):new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Unarchiving chat")),r=n.then(function(b){if(p.aborted)throw new(d("WAAbortError").AbortError)();var c;if(b.status===200){c=e?h._(/*BTDS*/"Chat archived"):h._(/*BTDS*/"Chat unarchived");return new(d("WAWebActionToast.react").ActionType)(c,{actionText:h._(/*BTDS*/"Undo"),actionHandler:function(){return m(a,!e,f,g)}})}else if(b.status>=400)return e?new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Couldn't archive chat.")):new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Couldn't unarchive chat."))})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(b){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["models:chat:setArchive dropped"]))).devConsole(b);b=e?h._(/*BTDS*/"Couldn't archive chat."):h._(/*BTDS*/"Couldn't unarchive chat.");return new(d("WAWebActionToast.react").ActionType)(b,{actionText:h._(/*BTDS*/"Try again."),actionHandler:function(){return m(a,e,f,g)}})});f&&d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebActionToast.react").ActionToast,{id:g,initialAction:q,pendingAction:r}));q=n.then(function(b){b.status===200&&(a.archive=e,e&&(a.pin=void 0))})["finally"](function(){delete k.setArchive});r={promise:q,abortController:o,archive:e};k.setArchive=r;return q}g.setArchive=a}),226);
__d("WAWebSetPinChatAction",["fbt","WAAbortError","WALogger","WATimeUtils","WAWebActionToast.react","WAWebChatGetters","WAWebChatPinBridge","WAWebNoop","WAWebStateUtils","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a,b){return l(d("WAWebStateUtils").unproxy(a),b)}function l(a,b,e){e===void 0&&(e=d("WAWebActionToast.react").genId());var f=a.promises;f.setPin&&f.setPin.abortController.abort();var g=0,j,n=d("WATimeUtils").unixTimeMs();b?g=n:j=a.pin;var o=new AbortController(),p=o.signal;n=d("WAWebChatPinBridge").setPin(a.id,g,j,n);var q=b?new(d("WAWebActionToast.react").ActionType)(m.getPinningText(a)):new(d("WAWebActionToast.react").ActionType)(m.getUnpinningText(a)),r=n.then(function(){if(p.aborted)throw new(d("WAAbortError").AbortError)();var c=b?m.getPinnedText(a):m.getUnpinnedText(a);return new(d("WAWebActionToast.react").ActionType)(c,{actionText:h._(/*BTDS*/"Undo"),actionHandler:function(){return l(a,!b,e)}})})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(c){if(c.status===405)return new(d("WAWebActionToast.react").ActionType)(m.getPinLimitExceededText(a));else if(c.status>=400)return b?new(d("WAWebActionToast.react").ActionType)(m.getFailedToPinText(a)):new(d("WAWebActionToast.react").ActionType)(m.getFailedToUnpinText(a));d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["models:chat:setPin dropped"]))).devConsole(c);c=b?m.getFailedToPinText(a):m.getFailedToUnpinText(a);return new(d("WAWebActionToast.react").ActionType)(c,{actionText:h._(/*BTDS*/"Try again."),actionHandler:function(){return l(a,b,e)}})});d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{id:e,initialAction:q,pendingAction:r}));q=n.then(function(){a.pin=g})["finally"](function(){f.setPin=null});f.setPin={promise:q,abortController:o};return q}var m={getPinnedText:function(a){return d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"Channel pinned"):h._(/*BTDS*/"Chat pinned")},getUnpinnedText:function(a){return d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"Channel unpinned"):h._(/*BTDS*/"Chat unpinned")},getPinningText:function(a){return d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"Pinning channel"):h._(/*BTDS*/"Pinning chat")},getUnpinningText:function(a){return d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"Unpinning channel"):h._(/*BTDS*/"Unpinning chat")},getFailedToPinText:function(a){return d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"Couldn't pin channel"):h._(/*BTDS*/"Couldn't pin chat")},getFailedToUnpinText:function(a){return d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"Couldn't unpin channel"):h._(/*BTDS*/"Couldn't unpin chat")},getPinLimitExceededText:function(a){if(d("WAWebChatGetters").getIsNewsletter(a)){a=d("WAWebChatPinBridge").getPinLimit(a.id);return h._(/*BTDS*/"_j{\"*\":\"You can only pin up to {number} channels.\",\"_1\":\"You can only pin up to 1 channel.\"}",[h._plural(a,"number")])}return h._(/*BTDS*/"You can only pin up to 3 chats.")}};g.setPin=a}),226);
__d("WAWebWamEnumSnackbarActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({SNACKBAR_SHOWN:0,MESSAGE_UNDELETE:1});f.SNACKBAR_ACTION_TYPE=a}),66);
__d("WAWebSnackbarDeleteUndoWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumSnackbarActionType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({SnackbarDeleteUndo:[3628,{isAGroup:[1,a.TYPES.BOOLEAN],mediaType:[6,d("WAWebWamEnumMediaType").MEDIA_TYPE],messagesUndeleted:[2,a.TYPES.INTEGER],snackbarActionType:[3,d("WAWebWamEnumSnackbarActionType").SNACKBAR_ACTION_TYPE],threadId:[4,a.TYPES.STRING]},[1,1,1],"regular"]},{SnackbarDeleteUndo:[]});g.SnackbarDeleteUndoWamEvent=b}),98);
__d("WAWebUseNewsletterActionListeners",["WAWebChatEntryPoint","WAWebCmd","WAWebDrawerManager","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebNewsletterCollection","WAWebNewsletterTabFlowLoadable","react","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a=c("useWAWebUIM")(),b=function(b){b=c("WAWebNewsletterCollection").get(b);if(b==null)return;d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebNewsletterTabFlowLoadable").NewsletterTabFlowLoadable,{}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"slide-left",uim:a});void d("WAWebCmd").Cmd.openChatBottom(b,d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterCreationFlow)},e=function(a,b){d("WAWebDrawerManager").DrawerManager.openDrawerRight(i.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:a,initialStep:b}),{transition:"slide-left",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_created_newsletter",b);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_newsletter_profile",e)}g["default"]=a}),98);
__d("useWAWebCommunityActionListeners",["WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityDailyUtils","WAWebCommunityFlow.react","WAWebCommunityFlowLoadable","WAWebCommunityHomeWrapper.react","WAWebCommunitySettingsDrawer.react","WAWebCommunityTabbedInfoDrawer.react","WAWebDrawerManager","WAWebGroupMetadataCollection","WAWebKeyboardTabUtils","WAWebManageCommunityGroupsFlowLoadable","WAWebModalManager","WAWebNewGroupFlow.react","WAWebNewGroupFlowLoadable","WAWebNewSubgroupSuggestionFlowLoadable","WAWebNoop","WAWebSubgroupJoinModal.react","react","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a,b,e=c("useWAWebUIM")(),f=function(a,b){d("WAWebCommunityDailyUtils").incrementCommunityHomeEvent(a,d("WAWebCommunityDailyUtils").CommunityDailyHomeMetricsType.HOME_VIEWS),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{jid:a,hasFetchedSubgroups:b,initialStep:d("WAWebCommunityFlow.react").CommunityFlowStep.CommunityHome},"community-nav-"+a.toString()),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},g=function(a,b,c,f){b===void 0&&(b=d("WAWebCommunityTabbedInfoDrawer.react").CommunityInfoTabs.Community),d("WAWebCommunityDailyUtils").incrementCommunityHomeEvent(a,d("WAWebCommunityDailyUtils").CommunityDailyHomeMetricsType.HOME_VIEWS),d("WAWebDrawerManager").DrawerManager.openDrawerRight(i.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{jid:a,initialStep:d("WAWebCommunityFlow.react").CommunityFlowStep.CommunityHome,initialTab:b,homeTheme:d("WAWebCommunityHomeWrapper.react").CommunityHomeTheme.TabbedInfo,scrollToMemberList:f,showFullDescription:c,onBack:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}},"community-info-"+a.toString()),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},h=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebCommunityFlowLoadable").CommunityFlowLoadable,{jid:a,initialStep:d("WAWebCommunityFlow.react").CommunityFlowStep.PendingGroups,onBack:function(){d("WAWebCmd").Cmd.openCommunityHome(a)}}),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},j=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(d("WAWebManageCommunityGroupsFlowLoadable").ManageCommunityGroupsFlowLoadable,{parentGroupMetadata:c("WAWebGroupMetadataCollection").assertGet(a),onBack:function(){return f(a,!1)}}))},k=function(a){var b,e=d("WAWebChatCollection").ChatCollection.get(a);if(!e||!((b=e.groupMetadata)!=null&&b.hasJoined()))return;d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(c("WAWebCommunitySettingsDrawer.react"),{chat:e,onBack:function(){return f(a,!1)}}),{transition:"flow-transition-drawer-push",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},l=function(a,b,c){var e;d("WAWebChatCommunityUtils").isSubgroupSuggestionCreation(a)?e=i.jsx(d("WAWebNewSubgroupSuggestionFlowLoadable").NewSubgroupSuggestionFlowLoadable,{parentGroup:a,onBack:function(){return f(a,!1)}}):e=i.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:b,parentGroupWid:a,onEnd:function(){return f(a,!1)},initialSelectedSubgroup:c,initialStep:d("WAWebNewGroupFlow.react").NewGroupFlowStep.SET_GROUP_INFO_DRAWER,shortenedCreationFlow:!0});d("WAWebDrawerManager").DrawerManager.openDrawerLeft(e,{transition:"flow-transition-drawer-push",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},m=function(a,b){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebSubgroupJoinModal.react"),{subgroupMetadata:a,onSuccess:c("WAWebNoop"),source:b}))};(a=d("useWAWebListener")).useListener((b=d("WAWebCmd")).Cmd,"open_subgroup_join_modal",m);a.useListener(b.Cmd,"open_community_home",f);a.useListener(b.Cmd,"open_community_tabbed_info",g);a.useListener(b.Cmd,"open_community_pending_groups_drawer",h);a.useListener(b.Cmd,"open_community_home_manage_groups",j);a.useListener(b.Cmd,"open_community_add_new_group",l);a.useListener(b.Cmd,"open_community_settings_drawer",k)}g["default"]=a}),98);
__d("WAWebActionListener",["fbt","JSResourceForInteraction","Promise","WAAbortError","WAFilteredCatch","WALogger","WAPromiseDelays","WAWebActionToast.react","WAWebAddToFavoritesAction","WAWebBackendErrors","WAWebBizAiAgentStatusUtils","WAWebBizAiRepliesControlPopup.react","WAWebBizChatAssignmentAiRepliesModal.react","WAWebBizChatAssignmentModal.react","WAWebBizMerchantDetailsEntityTypePopup.react","WAWebBusinessMuteWamEvent","WAWebBusinessUnmuteWamEvent","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentUtils","WAWebChatEphemerality","WAWebChatGetters","WAWebChatSendMessages","WAWebChatThreadLogging","WAWebClearChatPopup.react","WAWebClearSelectedChatsPopup.react","WAWebCmd","WAWebCommandPalette.react","WAWebConfirmPopup.react","WAWebCountrySelectorPopup.react","WAWebCurrentUser","WAWebDeleteChatPopup.react","WAWebDrawerManager","WAWebEventInfoFlowLoadable","WAWebGroupsV4InviteFlowLoadable","WAWebHeader.react","WAWebKeyboardTabUtils","WAWebLazyLoadedRetriable","WAWebMessageDeleteActionsWamEvent","WAWebMiscErrors","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgCollection","WAWebMsgDataFromModel","WAWebMsgGetters","WAWebMsgType","WAWebMuteExpirations","WAWebMutePopup.react","WAWebNewsletterRevokeMsgAction","WAWebNoop","WAWebOTPLoggingHelper","WAWebProductCatalogProductImageViewFlow.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRemoveFromFavoritesAction","WAWebSendMsgResultAction","WAWebSendProductModalLoadable","WAWebSetArchiveChatAction","WAWebSetPinChatAction","WAWebSnackbarDeleteUndoWamEvent","WAWebToast.react","WAWebToastManager","WAWebUpdateUnreadChatAction","WAWebUseNewsletterActionListeners","WAWebWamChatPSALogger","WAWebWamEnumDeleteActionType","WAWebWamEnumMuteEntryPoint","WAWebWamEnumProfileEntryPoint","WAWebWamEnumSnackbarActionType","WAWebWamMsgUtils","asyncToGeneratorRuntime","err","isStringNullOrEmpty","react","useWAWebCommunityActionListeners","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p=o||c("react"),q=4e3;function r(a){switch(a){case 1:return h._(/*BTDS*/"Alerts and sounds off for 1 hour");case 8:return h._(/*BTDS*/"Alerts and sounds off for 8 hours");case 24:return h._(/*BTDS*/"Alerts and sounds off for 1 day");case 168:return h._(/*BTDS*/"Alerts and sounds off for 1 week");default:d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:",""])),a);return h._(/*BTDS*/"Alerts and sounds off")}}function s(a,e,f,g){g===void 0&&(g="LEFT");if(!e||e.some(function(a){return!a.id}))return(n||(n=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var i=c("isStringNullOrEmpty")(f)?d("WAWebActionToast.react").genId():f,k=e.length;if(d("WAWebChatGetters").getIsPSA(a)){f=0;for(f;f<k;f++)d("WAWebWamChatPSALogger").logChatPSAStar(e[f])}f=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Starring messages\",\"_1\":\"Starring message\"}",[h._plural(k)]));var l=d("WAWebChatSendMessages").sendStarMsgs(a,e,!0).then(function(){return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"{count} messages starred\",\"_1\":\"1 message starred\"}",[h._plural(k,"count")]),{actionText:h._(/*BTDS*/"Undo"),actionHandler:function(){return t(a,e,i,g)}})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(b){if(b.status>=400)return d("WAWebChatEphemerality").isEphemeralSettingOn(a)?new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't star messages because the messages may have expired\",\"_1\":\"Couldn't star message because the message may have expired\"}",[h._plural(k)])):new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't star messages\",\"_1\":\"Couldn't star message\"}",[h._plural(k)]));return}))["catch"](function(b){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendStarMsgs dropped"]))).devConsole(b);return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't star messages\",\"_1\":\"Couldn't star message\"}",[h._plural(k)]),{actionText:h._(/*BTDS*/"Try again."),actionHandler:function(){return s(a,e,i,g)}})});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:i,toastPosition:g,initialAction:f,pendingAction:l}));return l}function t(a,e,f,g){g===void 0&&(g="LEFT");if(!e||e.some(function(a){return!a.id}))return(n||(n=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var i=c("isStringNullOrEmpty")(f)?d("WAWebActionToast.react").genId():f,j=e.length;f=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Unstarring messages\",\"_1\":\"Unstarring message\"}",[h._plural(j)]));var l=d("WAWebChatSendMessages").sendStarMsgs(a,e,!1).then(function(){return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"{count} messages unstarred\",\"_1\":\"1 message unstarred\"}",[h._plural(j,"count")]),{actionText:h._(/*BTDS*/"Undo"),actionHandler:function(){return s(a,e,i,g)}})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(b){if(b.status>=400)return d("WAWebChatEphemerality").isEphemeralSettingOn(a)?new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't unstar messages because the messages may have expired\",\"_1\":\"Couldn't unstar message because the message may have expired\"}",[h._plural(j)])):new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't unstar messages\",\"_1\":\"Couldn't unstar message\"}",[h._plural(j)]));return}))["catch"](function(b){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendUnstarMsgs dropped"]))).devConsole(b);return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't unstar messages\",\"_1\":\"Couldn't unstar message\"}",[h._plural(j)]),{actionText:h._(/*BTDS*/"Try again."),actionHandler:function(){return t(a,e,i,g)}})});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:i,toastPosition:g,initialAction:f,pendingAction:l}));return l}function u(a){a=Array.from(new Set(a.map(function(a){return d("WAWebWamMsgUtils").getWamMediaType(a)})));return a.length===1?a[0]:void 0}function v(a,b,c){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(b.type==="message"){if(d("WAWebChatGetters").getIsPSA(a)){var e=0;for(e;e<b.list.length;e++)d("WAWebWamChatPSALogger").logChatPSADelete(b.list[e])}b.list.filter(d("WAWebMsgGetters").getIsAuthenticationMessage).forEach(function(a){void d("WAWebOTPLoggingHelper").logOTPMessageDeleted(d("WAWebMsgDataFromModel").msgDataFromMsgModel(a))})}return new(d("WAWebMessageDeleteActionsWamEvent").MessageDeleteActionsWamEvent)({deleteActionType:c?d("WAWebWamEnumDeleteActionType").DELETE_ACTION_TYPE.DELETE_FOR_EVERYONE:d("WAWebWamEnumDeleteActionType").DELETE_ACTION_TYPE.DELETE_FOR_ME,isAGroup:d("WAWebChatGetters").getIsGroup(a),messagesDeleted:b.list.length,threadId:yield d("WAWebChatThreadLogging").getChatThreadID(a.id.toJid()),mediaType:u(b.list)}).commitAndWaitForFlush()});return w.apply(this,arguments)}function x(a,b,c){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){return new(d("WAWebSnackbarDeleteUndoWamEvent").SnackbarDeleteUndoWamEvent)({snackbarActionType:c==="shown"?d("WAWebWamEnumSnackbarActionType").SNACKBAR_ACTION_TYPE.SNACKBAR_SHOWN:d("WAWebWamEnumSnackbarActionType").SNACKBAR_ACTION_TYPE.MESSAGE_UNDELETE,isAGroup:d("WAWebChatGetters").getIsGroup(a),messagesUndeleted:b.list.length,threadId:yield d("WAWebChatThreadLogging").getChatThreadID(a.id.toJid()),mediaType:u(b.list)}).commitAndWaitForFlush()});return y.apply(this,arguments)}function a(){var a,e,f=c("useWAWebUIM")(),g=function(a){var b=a.product;a=a.onSend;d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebSendProductModalLoadable").SendProductModalLoadable,{product:b,onSend:a}),{transition:"modal-flow",uim:f})},i=function(a,b){d("WAWebModalManager").ModalManager.openMedia(p.jsx(c("WAWebProductCatalogProductImageViewFlow.react"),{activeProductImage:a.activeProductImage,productImageCollection:a.productImageCollection,getZoomNode:a.getZoomNode,product:a.product,sessionId:b}),{transition:"media-viewer",uim:f})},j=function(a,b,c,e){d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebGroupsV4InviteFlowLoadable").GroupsV4InviteFlowLoadable,{participantNeedInvite:a,groupGid:b,subject:c,groupDesc:e}))},k=function(a){d("WAWebHeader.react").openInfoPanel(a,f,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.NOTIFICATION_BLOCK_ACTION)},o=function(a,b,e,g,i){g===void 0&&(g=!0);i===void 0&&(i=!0);if(b){b=function(c,f,g){if(d("WAWebChatGetters").getIsPSA(a)&&e!==0){var b;switch(g){case 1:b=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CHAT_LIST_SCREEN;break;case 2:b=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONTACT_INFO;break;default:b=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONVERSATION_SCREEN;break}d("WAWebWamChatPSALogger").logChatPSAMute(b,f===Infinity?-1:f)}a.pendingAction++;a.mute.mute({expiration:c,sendDevice:!0,showToast:i})["finally"](function(){a.pendingAction--});(a.isBusinessGroup()||a.contact.isBusiness)&&new(d("WAWebBusinessMuteWamEvent").BusinessMuteWamEvent)().commit()};if(g){g=h._(/*BTDS*/"Mute notifications");d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebMutePopup.react"),{title:g,mute:a.mute,onMute:b,entryPoint:e,children:h._(/*BTDS*/"No one else in this chat will see that you muted it, and you will still be notified if you are mentioned.")}),{transition:"modal",uim:f})}else{g=Number.POSITIVE_INFINITY;var j=d("WAWebMuteExpirations").calculateMuteExpiration(g);b(j,g,e!=null?e:0)}}else{a.pendingAction++;a.mute.unmute({sendDevice:!0,showToast:i})["finally"](function(){a.pendingAction--});if(d("WAWebChatGetters").getIsPSA(a)&&e!==0){var k;switch(e){case 1:k=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CHAT_LIST_SCREEN;break;case 2:k=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONTACT_INFO;break;default:k=d("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT.CONVERSATION_SCREEN;break}d("WAWebWamChatPSALogger").logChatPSAUnmute(k)}(a.isBusinessGroup()||a.contact.isBusiness)&&new(d("WAWebBusinessUnmuteWamEvent").BusinessUnmuteWamEvent)().commit()}},u=function(a,b,e){if(!a)return;var g=h._(/*BTDS*/"_j{\"*\":\"Mute selected chats for...\",\"_1\":\"Mute selected chat for...\"}",[h._plural(a.length)]);if(b){b=function(b,c,d){a.forEach(function(a){a.pendingAction++,a.mute.mute({expiration:b,sendDevice:!0,fromMultiselect:!0})["finally"](function(){a.pendingAction--})}),e()};d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebMutePopup.react"),{title:g,mute:a[0].mute,onMute:b}),{transition:"modal",uim:f})}else a.forEach(function(a){a.pendingAction++,a.mute.unmute({sendDevice:!0,fromMultiselect:!0})["finally"](function(){a.pendingAction--})}),e()},w=function(a,b,c,d){return o(a,b,0,c,d)},y=function(a,b,e){e===void 0&&(e=!1);var g=h._(/*BTDS*/"Turn off all reactions notifications for:"),i=h._(/*BTDS*/"Reactions notifications enabled"),j=h._(/*BTDS*/"Enable sounds and notifications for reactions?");if(b){b=function(b,c){void a.mute({expiration:b}),d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{msg:r(c),id:d("WAWebToast.react").genId()}))};d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebMutePopup.react"),{mute:a,title:g,onMute:b,muteAll:!0}),{transition:"modal",uim:f})}else{if(e){void a.unmute();return}g=function(){void a.unmute(),d("WAWebModalManager").ModalManager.close(),d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{msg:i,id:d("WAWebToast.react").genId()}))};b=function(){return d("WAWebModalManager").ModalManager.close()};d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:g,okText:h._(/*BTDS*/"Unmute"),onCancel:b,cancelText:h._(/*BTDS*/"Cancel"),children:j}))}},z=function(a,b){var c=function(c){a.pendingAction++;if(d("WAWebChatGetters").getIsPSA(a)&&b!==0){var e=a.msgs.last();d("WAWebWamChatPSALogger").logChatPSARemove(e,6,b)}c["finally"](function(){a.pendingAction--})};d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebDeleteChatPopup.react").DeleteChatPopup,{chat:a,onDeleteOrExit:c}),{transition:"modal",uim:f})},A=function(a){z(a,0)},B=function(a,b){a.pendingAction++,d("WAWebSetPinChatAction").setPin(a,b)["catch"](c("WAWebNoop"))["finally"](function(){a.pendingAction--})},C=function(a,b,e){a.pendingAction++,b?d("WAWebAddToFavoritesAction").addToFavoritesAction([a.id],{entryPoint:e})["catch"](c("WAWebNoop"))["finally"](function(){a.pendingAction--}):d("WAWebRemoveFromFavoritesAction").removeFromFavoritesAction(a.id,{entryPoint:e})["catch"](c("WAWebNoop"))["finally"](function(){a.pendingAction--})},D=function(a){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebClearChatPopup.react"),{chat:a}),{transition:"modal",uim:f})},E=function(a,b){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebClearSelectedChatsPopup.react"),{chats:a,onComplete:b}),{transition:"modal",uim:f})},F=function(a,b,e,f){if(d("WAWebChatGetters").getIsPSA(a)&&e!==0&&a.msgs.length>0){var g=a.msgs.last();d("WAWebWamChatPSALogger").logChatPSARemove(g,b?3:4,e)}a.pendingAction++;d("WAWebSetArchiveChatAction").setArchive(a,b,f)["catch"](c("WAWebNoop"))["finally"](function(){a.pendingAction--})},G=function(a,b,c){F(a,b,0,c)},H=function(a,b){a.pendingAction++,d("WAWebUpdateUnreadChatAction").markUnread(a,b)["finally"](function(){a.pendingAction--})},I=function(a,b){if(!a||a.some(function(a){return!a.id}))throw new(d("WAWebMiscErrors").ActionError)();b=c("isStringNullOrEmpty")(b)?d("WAWebActionToast.react").genId():b;d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{id:b,msg:h._(/*BTDS*/"_j{\"*\":\"Messages were restored\",\"_1\":\"Message was restored\"}",[h._plural(a.length)])}))},J=function(a,b){if(d("WAWebChatAssignmentUtils").canAssignChat(a)===!1){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebBizChatAssignmentAiRepliesModal.react"),{chat:a}));return}var e=d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.getName(b);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_FETCH_ASSIGN_CHAT_AGENT_LIST,{annotations:{string:{CHAT_ASSIGNMENT_ENTRY_POINT:e}}});d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebBizChatAssignmentModal.react"),{chats:[a],entryPoint:b}))},K=function(a){d("WAWebBizAiAgentStatusUtils").isChatEligibleForAiAgent(a)&&d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebBizAiRepliesControlPopup.react"),{chat:a}))},L=function(a,e,f,g,i,j){i===void 0&&(i="LEFT");var k=e.list;if(!k||k.some(function(a){return!a.id}))return(n||(n=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var m=c("isStringNullOrEmpty")(g)?d("WAWebActionToast.react").genId():g,o=k.length,r=new AbortController(),s=r.signal;if(e.type!=="addon"){x(a,e,"shown");e.list.forEach(function(a){a.pendingDeleteForMe=!0;a.hideParentMessageInChat({duringDetach:!1});var b=d("WAWebMsgGetters").getBotPluginSearchProvider(a),c=Boolean(b==null&&d("WAWebMsgGetters").getBotPluginMaybeParent(a));a=d("WAWebMsgGetters").getBotResponseTargetId(a);(c||b!=null&&a!=null)&&d("WAWebCmd").Cmd.botTogglePluginSearchDetailsToggle(a,!1)});a.pendingDeleteForMeCount+=e.list.length;g=h._(/*BTDS*/"_j{\"*\":\"Deleted {number_of_messages} items\",\"_1\":\"Deleted 1 item\"}",[h._plural(o,"number_of_messages")]);k=o===1?h._(/*BTDS*/"Message deleted for me"):h._(/*BTDS*/"_j{\"*\":\"{number_of_messages} messages deleted for me\",\"_1\":\"1 message deleted for me\"}",[h._plural(o,"number_of_messages")]);j=j==="mediaHub"?g:k;g=new(d("WAWebActionToast.react").ActionType)(j,{actionText:h._(/*BTDS*/"Undo"),actionHandler:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r.abort(),e.list.forEach(function(a){a.pendingDeleteForMe=!1}),d("WAWebMsgCollection").MsgCollection.makeParentMessagesVisibleInChat(e.list),a.pendingDeleteForMeCount-=e.list.length,void x(a,e,"undo"),yield I(e.list,m)});function f(){return c.apply(this,arguments)}return f}()})}else g=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Deleting messages\",\"_1\":\"Deleting message\"}",[h._plural(o)]));k=(n||(n=b("Promise"))).resolve();e.type!=="addon"&&(k=k.then(function(){return d("WAPromiseDelays").delayMs(q)}));k=k.then(function(){if(s.aborted)throw new(d("WAAbortError").AbortError)();return d("WAWebChatSendMessages").sendDeleteMsgs(a,e,f)}).then(function(b){a.pendingDeleteForMeCount-=b;if(b===o){void v(a,e,!1);return e.type!=="addon"?null:new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"{count} messages deleted\",\"_1\":\"1 message deleted\"}",[h._plural(o,"count")]))}b=o-b;return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't delete messages\",\"_1\":\"Couldn't delete message\"}",[h._plural(b)]))})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(b){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendDeleteMsgs dropped"]))).devConsole(b);return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't delete messages\",\"_1\":\"Couldn't delete message\"}",[h._plural(o)]),{actionText:h._(/*BTDS*/"Try again."),actionHandler:function(){return L(a,e,!1,m,i)}})});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:m,toastPosition:i,initialAction:g,pendingAction:k}));return k},M=function(a,b){throw c("err")("This call is not supported")},N=function(a,e,f){var g,i=f.clearMedia;g=(g=f.toastId)!=null?g:d("WAWebActionToast.react").genId();f=(f=f.toastPosition)!=null?f:"LEFT";var j=e.list;if(!j)return(n||(n=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var k=j.reduce(function(a,b){var c=d("WAWebMsgActionCapability").canSenderRevokeMsg(b)||d("WAWebMsgActionCapability").canAdminRevokeMsg(b)||d("WAWebMsgActionCapability").canBotResponseBeRevokeByInvoker(b);b=b.type===d("WAWebMsgType").MSG_TYPE.GROUPS_V4_INVITE&&!d("WAWebMsgGetters").getIsGroupsV4InviteExpired(b)?b:null;return[a[0]||!c,a[1]||b]},[!1,null]),l=k[0];k=k[1];if(l)return(n||(n=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());k&&M(a,k);var o=j.length;l=new(d("WAWebActionToast.react").ActionType)(d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"_j{\"*\":\"Deleting updates\",\"_1\":\"Deleting update\"}",[h._plural(o)]):h._(/*BTDS*/"_j{\"*\":\"Deleting messages\",\"_1\":\"Deleting message\"}",[h._plural(o)]));e.type==="addon"?k=d("WAWebChatSendMessages").sendRevokeMsgs(a,e,i):d("WAWebChatGetters").getIsNewsletter(a)?k=d("WAWebNewsletterRevokeMsgAction").sendNewsletterRevokeMsgs(a,e.list,i):k=d("WAWebChatSendMessages").sendRevokeMsgs(a,e,i);j=k.then(function(b){var f=b.filter(function(a){return a.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK}).length;if(f>0)throw c("err")(f+" / "+b.length+" dropped");void v(a,e,!0);return new(d("WAWebActionToast.react").ActionType)(d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"_j{\"*\":\"{number_of_updates} updates deleted\",\"_1\":\"Update deleted\"}",[h._plural(o,"number_of_updates")]):h._(/*BTDS*/"_j{\"*\":\"{count} messages deleted\",\"_1\":\"1 message deleted\"}",[h._plural(o,"count")]))})["catch"](function(b){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["chatAction:sendRevokeMsgs fail"]))).devConsole(b);return d("WAWebChatEphemerality").isEphemeralSettingOn(a)?new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Couldn't delete {count} messages because the messages may have expired\",\"_1\":\"Couldn't delete message because the message may have expired\"}",[h._plural(o,"count")])):new(d("WAWebActionToast.react").ActionType)(d("WAWebChatGetters").getIsNewsletter(a)?h._(/*BTDS*/"_j{\"*\":\"Couldn't delete {number_of_updates} updates\",\"_1\":\"Couldn't delete update\"}",[h._plural(o,"number_of_updates")]):h._(/*BTDS*/"_j{\"*\":\"Couldn't delete messages\",\"_1\":\"Couldn't delete message\"}",[h._plural(o)]))});d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebActionToast.react").ActionToast,{id:g,toastPosition:f,initialAction:l,pendingAction:j}));return j},O=function(a,b){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebBizMerchantDetailsEntityTypePopup.react"),{legalEntityDetails:a,onSave:b}),{transition:"modal",uim:f})},P=function(a,b,e,g,h,i,j){d("WAWebModalManager").ModalManager.open(p.jsx(c("WAWebCountrySelectorPopup.react"),{title:a,description:b,countryCode:e,lastUsedCountryCode:g,countries:h,onSave:i,surface:j}),{transition:"modal",uim:f})},Q=function(){d("WAWebModalManager").ModalManager.open(p.jsx(d("WAWebCommandPalette.react").CommandPaletteModal,{}),{transition:"modal",uim:f})},R=function(a,e){d("WAWebCurrentUser").isEmployee()&&void c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBugnubV2Popup.react").__setRef("WAWebActionListener").load());return a.openBugNubV2Popup}),"bugnub_v2_popup")().then(function(b){b(a,e)})},S=function(a,b,c,e){d("WAWebDrawerManager").DrawerManager.openDrawerRight(p.jsx(d("WAWebEventInfoFlowLoadable").EventInfoFlowLoadable,{chat:a,msg:b,onBack:c,onEnd:e},"event-info-drawer-"+b.id.toString()),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})};(a=d("useWAWebListener")).useListener((e=d("WAWebCmd")).Cmd,["mute_all_reactions"],y);a.useListener(e.Cmd,["mute_chat"],w);a.useListener(e.Cmd,["mute_chat_multiselect"],u);a.useListener(e.Cmd,["mute_chat_from_entrypoint"],o);a.useListener(e.Cmd,["archive_chat"],G);a.useListener(e.Cmd,["archive_chat_from_entrypoint"],F);a.useListener(e.Cmd,["clear_chat"],D);a.useListener(e.Cmd,["clear_selected_chats"],E);a.useListener(e.Cmd,["mark_chat_unread"],H);a.useListener(e.Cmd,["pin_chat"],B);a.useListener(e.Cmd,["assign_chat"],J);a.useListener(e.Cmd,["favorite_chat"],C);a.useListener(e.Cmd,["send_star_msgs"],s);a.useListener(e.Cmd,["send_unstar_msgs"],t);a.useListener(e.Cmd,["send_delete_msgs"],L);a.useListener(e.Cmd,["send_revoke_msgs"],N);a.useListener(e.Cmd,["delete_or_exit_chat"],A);a.useListener(e.Cmd,["delete_or_exit_chat_from_entrypoint"],z);a.useListener(e.Cmd,["product_image_viewer_modal"],i);a.useListener(e.Cmd,["mute_all_reactions"],y);a.useListener(e.Cmd,["attach_product"],g);a.useListener(e.Cmd,["show_country_selector_popup"],P);a.useListener(e.Cmd,"show_merchant_details_entity_type_popup",O);a.useListener(e.Cmd,["open_groups_v4_invite_request_flow"],j);a.useListener(e.Cmd,["open_profile"],k);a.useListener(e.Cmd,["open_command_palette"],Q);c("useWAWebCommunityActionListeners")();c("WAWebUseNewsletterActionListeners")();a.useListener(e.Cmd,["trigger_bugreport_v2"],R);a.useListener(e.Cmd,["open_event_info_drawer"],S);a.useListener(e.Cmd,["toggle_ai_replies_status"],K);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLinkedAccountsJob",["WAPromiseRetryLoop","WASmaxBizLinkingGetLinkedAccountsRPC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=3,i=250,j=1e3,k=function(){var a=h,c=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("WASmaxBizLinkingGetLinkedAccountsRPC").sendGetLinkedAccountsRPC({})),e=[];switch(c.name){case"GetLinkedAccountsResponseForbidden":b(null);return;case"GetLinkedAccountsResponseError":break;default:c.name;if(c.value.linkedAccountsFbPage){var f;e.push({type:"facebook",id:(f=c.value.linkedAccountsFbPage)==null?void 0:f.id,hasActiveLinkedAd:((f=c.value.linkedAccountsFbPage)==null?void 0:f.adStatusHasActiveCtwaAd)==="true",hasCreatedAd:((f=c.value.linkedAccountsFbPage)==null?void 0:f.adStatusHasCreatedAd)==="true"})}if(c.value.linkedAccountsWhatsappAdIdentity){e.push({type:"whatsapp",id:(f=c.value.linkedAccountsWhatsappAdIdentity)==null?void 0:f.id,hasActiveLinkedAd:((f=c.value.linkedAccountsWhatsappAdIdentity)==null?void 0:f.adStatusHasActiveCtwaAd)==="true",hasCreatedAd:((f=c.value.linkedAccountsWhatsappAdIdentity)==null?void 0:f.adStatusHasCreatedAd)==="true"})}b({accounts:e});return}--a===0&&b(null)});return function(a){return c.apply(this,arguments)}}();c=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"queryLinkedAccounts",timer:{algo:{type:"exponential",first:i},max:j},code:c});c.start();return c.promise()};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield k());if(!a)return null;if(a.accounts.length===0)return"not-linked";var b=a.accounts.find(function(a){return a.type==="whatsapp"});a=a.accounts.find(function(a){return a.type==="facebook"});if(b)return{id:b.id,hasCreatedAd:b.hasCreatedAd,hasFacebookPage:a!=null,type:b.type};return a?{id:a.id,hasCreatedAd:a.hasCreatedAd,hasFacebookPage:!0,type:a.type}:"not-linked"});return function(){return a.apply(this,arguments)}}();g.queryActiveLinkedAccountInfo=a}),98);
__d("WAWebLinkedAccountsAction",["WAWebLinkedAccountsJob"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebLinkedAccountsJob").queryActiveLinkedAccountInfo()}g.getActiveLinkedAccountInfo=a}),98);
__d("WAWebActiveAccountInfoContext.react",["WALogger","WAWebActiveAccountInfoModel","WAWebBizGatingUtils","WAWebLinkedAccountsAction","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||(i=d("react"));c=i;e=c.createContext;var k=c.useContext,l=c.useEffect,m=c.useState,n=e(null);function a(a){a=a.children;var b=m(),c=b[0],e=b[1];l(function(){if(!d("WAWebBizGatingUtils").shouldFetchLinkedAccounts())return;var a=new AbortController();d("WAWebLinkedAccountsAction").getActiveLinkedAccountInfo().then(function(b){if(a.signal.aborted)return;d("WAWebActiveAccountInfoModel").setActiveAccountInfo(b);e(b)})["catch"](function(){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WAWebActiveAccountInfoContext: could not fetch linked accounts"])))});return function(){return a.abort()}},[]);return j.jsx(n.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(n)}g.ActiveAccountInfoProvider=a;g.useActiveAccountInfo=b}),98);
__d("WAWebAdEntryPointsConfigurationAction",["Promise","WAWebAdEntryPointsConfigurationModel"],(function(a,b,c,d,e,f,g){var h;function a(a){d("WAWebAdEntryPointsConfigurationModel").notifyAdEntryPointsConfigurationLoaded(a);a.type==="success"?d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration({entryPoints:a.entryPoints,locale:a.locale}):a.type==="recovery-required"?d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration("failed-to-load-recovery-required"):(a.type,a.expiredConfiguration!=null&&d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration({entryPoints:a.expiredConfiguration,locale:a.locale}));return(h||(h=b("Promise"))).resolve()}g.loadedAdEntryPointsConfiguration=a}),98);
__d("WAWebCommentAction",["WAAbortError","WALogger","WAWebChatCollection","WAWebCommentCollection","WAWebMsgType","WAWebNotificationBackend"],(function(a,b,c,d,e,f,g){var h;function i(a){return!a.read&&a.parentMsgKey.fromMe&&!a.id.fromMe}function a(a,b){var c=[];b=b?[].concat(b):[];for(a of a)switch(a.type){case d("WAWebMsgType").MSG_TYPE.REVOKED:c.push(d("WAWebCommentCollection").createCommentModelFromRevoke(a));a.protocolMessageKey!=null&&b.push(a.protocolMessageKey);break;case d("WAWebMsgType").MSG_TYPE.CIPHERTEXT:c.push(d("WAWebCommentCollection").createCommentModelFromPlaceholder(a));break;case d("WAWebMsgType").MSG_TYPE.COMMENT:c.push(d("WAWebCommentCollection").createCommentModel(a))}d("WAWebCommentCollection").CommentCollection.remove(b);d("WAWebCommentCollection").CommentCollection.set(c,{remove:!1})}function b(a){for(a of a){var b=a.id,c=a.t;if(b==null)continue;b=d("WAWebChatCollection").ChatCollection.get(b);if(b!=null){b.t=c;b.unreadCount=(c=a.unreadCount)!=null?c:b.unreadCount}}}function c(a,b){for(a of a)i(a)&&d("WAWebNotificationBackend").showCommentNotification(a)["catch"](d("WAAbortError").catchAbort(function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Comments] Aborted notification ",""])),a)}));for(a of b)d("WAWebNotificationBackend").removeCommentNotification(a)}g.upsertCommentModelCollection=a;g.updateChatToLatest=b;g.handleCommentNotification=c}),98);
__d("WAWebDeleteExpiredPinsJob",["WALogger","WAWebAddonDeleteMsgs","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("deleteExpiredPins",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("WAWebAddonDeleteMsgs").deleteAddonMsgsByParentKeys({parentMsgKeys:a})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Expired pins deletion failed"])));throw a}})).waitUntilCompleted()}g.deleteExpiredPins=a}),98);
__d("WAWebPinMessageAction",["WALogger","WANullthrows","WAWebDeleteExpiredPinsJob","WAWebMsgGetters","WAWebPinInChatCollection","WAWebPinMsgConstants","WAWebPinMsgGatingUtils","WAWebProtobufsE2E.pb","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function j(a){if(a===d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.PIN_FOR_ALL)return d("WAWebPinMsgConstants").PIN_STATE.PIN;else if(a===d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.UNPIN_FOR_ALL)return d("WAWebPinMsgConstants").PIN_STATE.UNPIN;return d("WAWebPinMsgConstants").PIN_STATE.INVALID}function k(a){var b=c("WANullthrows")(d("WAWebMsgGetters").getSender(a));a={msgKey:a.id,parentMsgKey:c("WANullthrows")(a.pinParentKey),senderTimestampMs:c("WANullthrows")(a.pinSenderTimestampMs),sender:d("WAWebWidFactory").asUserWidOrThrow(b),pinType:j(a.pinMessageType),pinExpiryDuration:a.pinExpiryDuration,t:a.t,chatId:d("WAWebWidFactory").asChatWid(a.id.remote),ack:a.ack,read:d("WAWebUserPrefsMeUser").isMeAccount(b)};return a}function a(a,b){var c=new Map(),e=[];for(a of a){var f=k(a);if(f!=null){e.push(f);f=f.msgKey.remote;c.has(f.toString())||c.set(f.toString(),d("WAWebWidFactory").asChatWid(f))}}f=e.map(function(a){return babelHelpers["extends"]({id:d("WAWebPinInChatCollection").getPinInChatId(a.parentMsgKey)},a)});d("WAWebPinInChatCollection").PinInChatCollection.add(f,{merge:!0});a=[];for(f of b){b=d("WAWebPinInChatCollection").PinInChatCollection.getByMsgKey(f);if(b!=null){a.push(b.parentMsgKey);b=b.msgKey.remote;c.has(b.toString())||c.set(b.toString(),d("WAWebWidFactory").asChatWid(b))}}a.length&&d("WAWebPinInChatCollection").PinInChatCollection.remove(a.map(d("WAWebPinInChatCollection").getPinInChatId));for(b of c.values())d("WAWebPinInChatCollection").PinInChatCollection.byChatId(b).filter(function(a){return a.pinType===d("WAWebPinMsgConstants").PIN_STATE.PIN}).sort(function(a,b){return b.senderTimestampMs-a.senderTimestampMs}).slice(d("WAWebPinMsgGatingUtils").getMaxPins()).forEach(function(a){a.pinType=d("WAWebPinMsgConstants").PIN_STATE.UNPIN});return e}function l(a){var b=[],c=[];for(a of a)d("WAWebPinInChatCollection").isPinExpired(a)?c.push(a.parentMsgKey):b.push(a);return{validPins:b,expiredPinParentKeys:c}}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=l(a);var b=a.validPins;a=a.expiredPinParentKeys;if(a.length>0)try{yield d("WAWebDeleteExpiredPinsJob").deleteExpiredPins(a.map(function(a){return a.toString()})),d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deleteExpiredPins Success"]))),a.forEach(function(a){return d("WAWebPinInChatCollection").PinInChatCollection.deleteByParentMessageKey(a)})}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["deleteExpiredPins: error deleting expired pins from DB: ",""])),a)}return b});return m.apply(this,arguments)}g.craftPinMessage=k;g.updatePinCollection=a;g.checkPinExpiration=l;g.seekAndDestroyExpiredPins=e}),98);
__d("WAWebPollsUpsertVotesModelCollectionMsgAction",["WAAbortError","WAAckLevel","WALogger","WAWebAddonGatingUtils","WAWebAddonHydrationUtils","WAWebFrontendMsgGetters","WAWebMaxPerGroup","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgType","WAWebNotificationBackend","WAWebNotificationHelpers","WAWebPollsGatingUtils","WAWebPollsGetVoteKey","WAWebPollsPollVoteCollection","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,e,f){f===void 0&&(f=!0);var g=d("WAWebMaxPerGroup").maxPerGroup(a,function(a){return a.senderTimestampMs},d("WAWebPollsGetVoteKey").getVoteKey);e=(e||[]).map(function(a){return d("WAWebPollsPollVoteCollection").PollVoteCollection.getByMsgKey(a)}).filter(Boolean);var k=[];for(g of g){var l=d("WAWebPollsPollVoteCollection").PollVoteCollection.getForParentAddressingModeInsensitive([g.parentMsgKey]);l=l[0];l=l.getVoteFromSenderAddressingModeInsensitive(g.sender);if(l!=null&&(l.senderTimestampMs>g.senderTimestampMs||l.msgKey.equals(g.msgKey))){d("WAWebAddonGatingUtils").isUnifiedInfraEnabledForType(d("WAWebMsgType").MSG_TYPE.POLL_UPDATE)&&l.ack!==g.ack&&(l.ack=g.ack,l.isSendFailure=g.ack===d("WAAckLevel").ACK.FAILED);continue}l!=null&&e.push(l);k.push(d("WAWebPollsPollVoteCollection").createPollVoteModel(babelHelpers["extends"]({},g,{isSendFailure:f&&g.ack===d("WAAckLevel").ACK.CLOCK&&d("WAWebUserPrefsMeUser").isMeAccount(g.sender)})))}k.length>0&&d("WAWebPollsPollVoteCollection").PollVoteCollection.add(k);e.length>0&&d("WAWebPollsPollVoteCollection").PollVoteCollection.remove(e);d("WAWebPollsGatingUtils").arePollsNotificationsEnabled()&&b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(f||d("WAWebNotificationHelpers").isOfflineResumeInProgress())return;var b=c("lodash").uniqBy(a.filter(function(a){return!d("WAWebUserPrefsMeUser").isMeAccount(a.sender)}).map(function(a){return a.parentMsgKey}),String),e=[],g=(yield d("WAWebMsgCollection").MsgCollection.hydrateOrGetMessages(Array.from(b,String))),k=function*(b){if(!d("WAWebMsgGetters").getIsSentByMe(b))return 1;var c=d("WAWebFrontendMsgGetters").getAsPollCreation(b);if(c==null&&b.type===d("WAWebMsgType").MSG_TYPE.CIPHERTEXT){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["rehydrated poll create msg from the db"])));var f=(yield d("WAWebMsgCollection").MsgCollection.getMessagesById([b.id.toString()]));f=f.messages;c=d("WAWebFrontendMsgGetters").getAsPollCreation(f[0])}if(c==null){f=a.filter(function(a){return a.parentMsgKey.equals(b.id)}).map(function(a){return a.msgKey.toString()}).join(", ");d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[upsertVotesModelCollection][notifications] Msg "," is not a pollCreationMsg, votes ",""])),b.id,f).sendLogs("msg-type-"+b.type+"-not-poll-creation-msg")}else e.push(c)};for(g of g)if(yield* k(g))continue;yield d("WAWebAddonHydrationUtils").hydrateAddons({ids:b,hydrationType:d("WAWebMsgType").MSG_TYPE.POLL_UPDATE});for(k of e){g=d("WAWebPollsPollVoteCollection").PollVoteCollection.getForParentAddressingModeInsensitive([k.id]);b=g[0];b.getUnreadCount()>0&&d("WAWebNotificationBackend").showPollVoteNotification(k)["catch"](d("WAAbortError").catchAbort(function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Aborted notification ",""])),a)}))}})()}g.upsertVotesModelCollection=a}),98);
__d("WAWebUpsertEventResponsesModelCollectionAction",["WAAckLevel","WANullthrows","WAWebEventResponseCollection","WAWebLidMigrationUtils","WAWebMsgGetters","WAWebPrepareEventResponsesToUpsert","WAWebUserPrefsMeUser","WAWebWid"],(function(a,b,c,d,e,f,g){function a(a,b){var e=(b||[]).map(function(a){return d("WAWebEventResponseCollection").EventResponseCollection.get(a)}).filter(Boolean),f=[];b=d("WAWebPrepareEventResponsesToUpsert").getNewestEventResponses(a);b.forEach(function(a){var b=c("WANullthrows")(d("WAWebMsgGetters").getSender(a)),g=d("WAWebEventResponseCollection").EventResponseCollection.byParent(a.parentMsgKey).findFirst(function(a){a=a.sender;return c("WAWebWid").equals.apply(c("WAWebWid"),d("WAWebLidMigrationUtils").toCommonAddressingMode(a,b))});g!=null&&!g.id.equals(a.id)&&e.push(g);f.push(d("WAWebEventResponseCollection").createEventResponseModel(babelHelpers["extends"]({},a,{isSendFailure:a.ack!=null&&a.ack<d("WAAckLevel").ACK.CLOCK&&d("WAWebUserPrefsMeUser").isMeAccount(b)})))});f.length>0&&d("WAWebEventResponseCollection").EventResponseCollection.add(f,{merge:!0});e.length>0&&d("WAWebEventResponseCollection").EventResponseCollection.remove(e)}g.upsertEventResponsesModelCollection=a}),98);
__d("WAWebAddOnsBridgeApi",["WAWebAddOnsUpdateSendStatesAction","WAWebCommentAction","WAWebMarkAddOnsAsReadAction","WAWebPinMessageAction","WAWebPollsPollVoteCollection","WAWebPollsUpsertVotesModelCollectionMsgAction","WAWebReactionsMsgAction","WAWebUpsertEventResponsesModelCollectionAction"],(function(a,b,c,d,e,f,g){a={updateAddOnCollectionAcks:function(a){a=a.updatesByType;d("WAWebAddOnsUpdateSendStatesAction").updateAddOnCollectionsSendStatesAction(a)},upsertVotesModelCollection:function(a){var b=a.votes,c=a.votesToRemove;a=a.restoredFromDb;d("WAWebPollsUpsertVotesModelCollectionMsgAction").upsertVotesModelCollection(b,c,a)},markAddOnsAsReadUi:function(a){a=a.updatedMsgKeys;d("WAWebMarkAddOnsAsReadAction").markAddOnsAsReadUiAction(a)},updatePinCollection:function(a){var b=a.msgs;a=a.removeMsgs;return d("WAWebPinMessageAction").updatePinCollection(b,a)},hasPollVotesInCollection:function(a){a=a.msgKeys;return a.map(function(a){return Boolean(d("WAWebPollsPollVoteCollection").PollVoteCollection.getByMsgKey(a))})},handleCommentNotification:function(a){var b=a.comments;a=a.revokes;d("WAWebCommentAction").handleCommentNotification(b,a)},upsertEventResponsesModelCollection:function(a){var b=a.eventResponses;a=a.eventResponsesToRemove;return d("WAWebUpsertEventResponsesModelCollectionAction").upsertEventResponsesModelCollection(b,a)},upsertCommentModelCollection:function(a){var b=a.comments;a=a.commentsToRemove;return d("WAWebCommentAction").upsertCommentModelCollection(b,a)},handleReactionNotification:function(a){a=a.reactions;d("WAWebReactionsMsgAction").handleReactionNotification(a)}};g.AddOnsBridgeApi=a}),98);
__d("WAWebAdsCreationChatlistHeaderDropdownItem.react",["WAWebAdCreationDropdownItem.react","WAWebBizGatingUtils","WAWebMobilePlatforms","WAWebWamEnumLwiEntryPoint","react","useWAWebServerGatedAdEntryPoint"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.activeAccountInfo;var b=d("useWAWebServerGatedAdEntryPoint").useServerGatedAdEntryPoint("whatsapp_smb_web_ad_creation_home_menu_item",a),e=b[0];b=b[1];e=d("WAWebMobilePlatforms").isSMB()&&a!=null&&a!=="not-linked"&&!e&&d("WAWebBizGatingUtils").shouldShowAdCreationDropdown()?i.jsx(c("WAWebAdCreationDropdownItem.react"),{adCreationUrlInput:{sourceAdCreation:"whatsapp_smb_web_ad_creation_home_menu_item",activeAccountInfo:a},ctaText:b==null?void 0:b.content,lwiEntryPoint:d("WAWebWamEnumLwiEntryPoint").LWI_ENTRY_POINT.SMB_HOME_SCREEN_OVERFLOW_MENU_ITEM}):null;return e}a.displayName=a.name+" [from "+f.id+"]";g.AdsCreationChatlistHeaderDropdownItem=a}),98);
__d("WAWebAdsStackRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="ads-stack-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M8 18C7.45 18 6.97917 17.8042 6.5875 17.4125C6.19583 17.0208 6 16.55 6 16V4C6 3.45 6.19583 2.97917 6.5875 2.5875C6.97917 2.19583 7.45 2 8 2H20C20.55 2 21.0208 2.19583 21.4125 2.5875C21.8042 2.97917 22 3.45 22 4V16C22 16.55 21.8042 17.0208 21.4125 17.4125C21.0208 17.8042 20.55 18 20 18H8ZM8 16H20V6H8V16ZM4 22C3.45 22 2.97917 21.8042 2.5875 21.4125C2.19583 21.0208 2 20.55 2 20V7C2 6.71667 2.09583 6.47917 2.2875 6.2875C2.47917 6.09583 2.71667 6 3 6C3.28333 6 3.52083 6.09583 3.7125 6.2875C3.90417 6.47917 4 6.71667 4 7V20H17C17.2833 20 17.5208 20.0958 17.7125 20.2875C17.9042 20.4792 18 20.7167 18 21C18 21.2833 17.9042 21.5208 17.7125 21.7125C17.5208 21.9042 17.2833 22 17 22H4Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AdsStackRefreshedIcon=a}),98);
__d("WAWebAnimationGroup",["invariant","Promise","WAAbortError","WAPromiseDelays","WAPromiseRaceAbort","WAWebCmd","WAWebIdleTaskRunner","WAWebResizeObserver.react","WAWebSetRefCache","WAWebVelocityAnimate","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k;a=k||d("react");var l=j||(j=c("react"));e=a.Component;var m=a.cloneElement,n={duration:300,easing:[.1,.82,.25,1]};f=function(a){function e(){var b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.containerHeight=0,b.$1=[],b.didCancel=!1,b.$2=!1,b.state={children:b.props.children},b.$3=new Map(),b.$4=function(a,c){c?b.$3.set(a,c):b.$3["delete"](a)},b.$5=new(c("WAWebSetRefCache"))(b.$4),b.$10=new Map(),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.componentWillUnmount=function(){this.$2=!0};f.$6=function(a,b){var c=this;return a.reduce(function(a,d){if(d<b)return a;d=c.$3.get(""+d);return!d?a:a+d.clientHeight},0)};f.$7=function(a,e,f,g){var h,j=this;this.$1[a]&&(this.didCancel=!0,this.$1[a].controller.abort());var k=f>0?[0,f]:[-f,0],l=new AbortController();h=(((h=this.$1[a])==null?void 0:h.promise)||(i||(i=b("Promise"))).resolve()).then(function(){return c("WAWebVelocityAnimate")(e,{translateY:k},n)}).then(function(){return d("WAPromiseDelays").delayMs(100)});h=c("WAPromiseRaceAbort")(h,l.signal).then(function(){if(l.signal.aborted)throw new(d("WAAbortError").AbortError)();f<0&&(!g.includes(a)?e.style.transform="":e.style.opacity="0");return a})["catch"](d("WAAbortError").catchAbort(function(){c("WAWebVelocityAnimate")(e,"stop",!0);e.style.transform="";return!1}))["finally"](function(b){if(j.didCancel)j.didCancel=!1;else{delete j.$1[a];d("WAWebCmd").Cmd.setUiBusy(!1);return b}});this.$1[a]={promise:h,controller:l};return h};f.$8=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(!a)return(i||(i=b("Promise"))).resolve(new Set());var d=[],e=a.slice(-1);e=e[0];for(var f=0;f<=e;++f){var g=this.$3.get(""+f);if(!g)continue;d.push(this.$7(f,g,(c?1:-1)*this.$6(a,f),a))}g=(yield (i||(i=b("Promise"))).all(d));return new Set(g.reduce(function(a,b){b!==!1&&a.push(b);return a},[]))});function c(b,c){return a.apply(this,arguments)}return c}();f.$9=function(a,b){if(!a.length||!this.props.onHeightChange)return;this.props.onHeightChange((b?1:-1)*this.$6(a,0))};e.getDerivedStateFromProps=function(a,b){var c=a.children;a=b.children;b=!1;a=a.map(function(a,d){d=(d=c[d])!=null?d:a;d!==a&&(b=!0);return d});return b?{children:a}:null};f.componentDidUpdate=function(a,b){var c=this,e=this.state.children;b=b.children;e.length===b.length&&this.props.children.length===e.length||h(0,56374);b=e.map(function(a,b){return b});e=b.filter(function(b){return c.props.children[b]!=null&&a.children[b]==null});b=b.filter(function(b){return c.props.children[b]==null&&a.children[b]!=null});b.length>0&&(b.forEach(function(){c.busyId=d("WAWebIdleTaskRunner").UIBusyTasks.setBusy(c.busyId),d("WAWebCmd").Cmd.setUiBusy(!0)}),this.$9(b,!1),this.$8(b,!1).then(function(a){if(c.$2)return;if(a.size===0)return;c.setState(function(b){b=b.children.map(function(b,c){return a.has(c)?null:b});return{children:b}},function(){d("WAWebIdleTaskRunner").UIBusyTasks.decBusy(c.busyId)})}));e.length>0&&(e.forEach(function(){c.busyId=d("WAWebIdleTaskRunner").UIBusyTasks.setBusy(c.busyId),d("WAWebCmd").Cmd.setUiBusy(!0)}),this.$9(e,!0),this.$8(e,!0).then(function(){d("WAWebIdleTaskRunner").UIBusyTasks.decBusy(c.busyId)}))};f.componentDidMount=function(){var a=this,b=this.state.children.reduce(function(b,c,d){c=a.$3.get(""+d);if(!c)return b;c.style.transform="translateY(0)";return b+c.clientHeight},0);this.props.onHeightChange(b,!0)};f.$11=function(a){var b=this,c=this.$10.get(a);if(c)return c;c=this.$3.get(""+a);var d=c?c.clientHeight:0;c=function(a){a=a.height;if(!d||!a||a===d){d=a;return}b.props.onHeightChange(a-d);d=a};this.$10.set(a,c);return c};f.$12=function(a,b){if(!a)return a;var c=this.$5.getRefSetter(""+b);b=function(b){c(b);var d=a.ref;if(!d)return;typeof d==="function"?d(b):d.current=b};return m(a,{ref:b})};f.render=function(){var a=this;return this.state.children.map(function(b,d){return l.jsx(c("WAWebResizeObserver.react"),{onResize:a.$11(d),children:a.$12(b,d)},"."+d)})};return e}(e);g["default"]=f}),98);
__d("WAWebAnimationGroupItem.react",["react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.children;a=a.ref;return i.jsx("div",{ref:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAppRatingActiveUsageDays",["WALogger","WAWebNux","WAWebUserPrefsKeys","WAWebUserPrefsNuxPreferences","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;function q(a){return new Date(a).toISOString().split("T")[0]}function r(){var a=new Date();a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate());return a.getTime()}function s(a){a=new Date(a);a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate());return a.getTime()}function t(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.ACTIVE_USAGE_DAYS_SINCE_DIALOG_OPENED);if(a!=null&&typeof a==="object"&&!Array.isArray(a)){a=a;if(typeof a.counter==="number"&&typeof a.last_date==="number"){var b=a.counter;a=a.last_date;return{counter:b,last_date:a}}}return{counter:0,last_date:r()}}function u(a){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.ACTIVE_USAGE_DAYS_SINCE_DIALOG_OPENED,a)}function a(){var a=t();return a.counter}function b(){var a=r(),b=d("WAWebUserPrefsNuxPreferences").getNuxAcknowledgedTimestamp(d("WAWebNux").NuxSyncKey.LAST_DATE_DIALOG_OPENED),c=t();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - Reload Update: current_day=",", dialog_timestamp=",", current_data=",""])),q(a),b,JSON.stringify(babelHelpers["extends"]({},c,{last_date:q(c.last_date)})));if(b==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - No dialog timestamp, continuing counter from ",""])),c.counter);if(a>c.last_date){var e=c.counter+1;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - Incrementing counter: "," -> ",""])),c.counter,e);u({counter:e,last_date:a})}else d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - No update needed (current_day=",", last_date=",")"])),q(a),q(c.last_date));return}e=s(b);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - Dialog date: ",""])),q(e));if(e>c.last_date){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - Dialog opened more recently ("," > ","), resetting counter"])),q(e),q(c.last_date));u({counter:0,last_date:a});return}if(a>c.last_date)if(a>e){b=c.counter+1;d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - Incrementing counter: "," -> ",""])),c.counter,b);u({counter:b,last_date:a})}else d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - Current date not after dialog date, just updating last_date"]))),u({counter:c.counter,last_date:a});else d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Active Usage Days - No update needed (current_day=",", last_date=",")"])),q(a),q(c.last_date))}function e(){u({counter:0,last_date:r()})}g.getCurrentDayTimestamp=r;g.getActiveUsageDaysSinceDialogOpened=a;g.updateActiveUsageDaysSinceDialogOpened=b;g.resetActiveUsageDaysSinceDialogOpened=e}),98);
__d("WAWebAppRatingCommonFbt",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._(/*BTDS*/"Tell us what you think about WhatsApp Web")};g.getModalTitle=a}),226);
__d("WAWebAppRatingModalLoadable",["JSResourceForInteraction","WAWebAppRatingCommonFbt","WAWebFbtCommon","WAWebLazyLoadedRetriable","WAWebLoadable","WAWebLoadingConfirmPopup.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebAppRatingModal.react").__setRef("WAWebAppRatingModalLoadable").load());return a}),"AppRatingModal");e=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingConfirmPopup.react"),{title:d("WAWebAppRatingCommonFbt").getModalTitle(),okText:c("WAWebFbtCommon")("Submit"),error:Boolean(a.error)})}});g.WAWebAppRatingModalLoadable=e}),98);
__d("WAWebWamEnumCloseTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({SUBMITTED:1,CLOSED:2});f.CLOSE_TYPE_ENUM=a}),66);
__d("WAWebWamEnumSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NAVBAR:1,SETTINGS:2,CONTEXTUAL:3});f.SOURCE_TYPE=a}),66);
__d("WAWebWebAppRateAndReviewDialogShownWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCloseTypeEnum","WAWebWamEnumSourceType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebAppRateAndReviewDialogShown:[6788,{reviewDialogAction:[1,d("WAWebWamEnumCloseTypeEnum").CLOSE_TYPE_ENUM],reviewSource:[2,d("WAWebWamEnumSourceType").SOURCE_TYPE]},[1,1,1],"regular"]},{WebAppRateAndReviewDialogShown:[]});g.WebAppRateAndReviewDialogShownWamEvent=a}),98);
__d("WAWebAppRatingWamLogger",["WAWebWamEnumCloseTypeEnum","WAWebWamEnumSourceType","WAWebWebAppRateAndReviewDialogShownWamEvent"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WAWebWamEnumSourceType").SOURCE_TYPE.CONTEXTUAL;b==="navbar"?c=d("WAWebWamEnumSourceType").SOURCE_TYPE.NAVBAR:b==="settings"&&(c=d("WAWebWamEnumSourceType").SOURCE_TYPE.SETTINGS);b=a==="submitted"?d("WAWebWamEnumCloseTypeEnum").CLOSE_TYPE_ENUM.SUBMITTED:d("WAWebWamEnumCloseTypeEnum").CLOSE_TYPE_ENUM.CLOSED;new(d("WAWebWebAppRateAndReviewDialogShownWamEvent").WebAppRateAndReviewDialogShownWamEvent)({reviewDialogAction:b,reviewSource:c}).commit()}g.logAppRatingDialogAction=a}),98);
__d("WAWebAppRatingDialogTrigger",["WALogger","WAWebABProps","WAWebAppRatingActiveUsageDays","WAWebAppRatingModalLoadable","WAWebAppRatingWamLogger","WAWebClock","WAWebModalManager","WAWebNux","WAWebUserPrefsNuxPreferences","gkx","react"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=p||c("react");function r(a){var b=function(){d("WAWebAppRatingWamLogger").logAppRatingDialogAction("closed",a)},c=function(){d("WAWebAppRatingWamLogger").logAppRatingDialogAction("submitted",a)};d("WAWebModalManager").ModalManager.open(q.jsx(d("WAWebAppRatingModalLoadable").WAWebAppRatingModalLoadable,{onCancel:b,onSubmit:c}))}function s(){var a=d("WAWebAppRatingActiveUsageDays").getActiveUsageDaysSinceDialogOpened(),b=d("WAWebABProps").getABPropConfigValue("rnr_min_days_user_active"),c=d("WAWebABProps").getABPropConfigValue("rnr_days_cooldown");d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - Usage check: active_days=",", min_required=",", cooldown=",""])),a,b,c);if(a<b){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - User hasn't met minimum active days requirement ("," < ",")"])),a,b);return!1}a=d("WAWebUserPrefsNuxPreferences").getNuxAcknowledgedTimestamp(d("WAWebNux").NuxSyncKey.LAST_DATE_DIALOG_OPENED);if(a!=null){b=d("WAWebClock").Clock.getServerTimeMs();b=Math.floor((b-a)/(1e3*60*60*24));if(b<c){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - Still in cooldown period ("," < "," days)"])),b,c);return!1}}return!0}function a(){if(!d("WAWebABProps").getABPropConfigValue("web_rating_and_review_contextual_prompt_enabled")){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - Feature disabled via ABprop"])));return}if(c("gkx")("4112")){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - Feature disabled on Windows"])));return}d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - Checking if should trigger rating dialog"])));s()?(d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - All conditions met! Showing contextual dialog."]))),r("contextual")):d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["App Rating Dialog - Conditions not met, not showing dialog"])))}g.showAppRatingDialog=r;g.checkAndTriggerAppRatingDialog=a}),98);
__d("WAWebNavBarItem.react",["$InternalEnum","WAWebAppRootInteractionContext.react","WAWebEmojiText.react","WAWebFlex.react","WAWebInteractionTracePolicy","WAWebPopoverContext.react","WAWebTabOrder","WAWebText.react","WAWebTooltip.react","WAWebUISpacing","WAWebUnstyledButtonStyles","WDSFocusStateStyles","WDSTooltip.react","cr:23442","react","stylex","useMergeRefs","useWAWebABPropConfigValue"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useMemo,m=e.useRef,n=b("$InternalEnum")({Counter:"counter",Dot:"dot"}),o={container:{width:"x100vrsf",height:"x1vqgdyp",color:"xhgddhk",borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",":hover_cursor":"x1277o0a",":hover_backgroundColor":"x13i9f1t",$$css:!0},circularButton:{borderStartStartRadius:"xt8t1vi",borderStartEndRadius:"x1xc408v",borderEndEndRadius:"x129tdwq",borderEndStartRadius:"x15urzxu",$$css:!0},fullWidth:{width:"xh8yej3",$$css:!0},active:{color:"xw2npq5",backgroundColor:"xzs022t",$$css:!0},expanded:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},inlineActivityIndicatorContainer:{position:"x1n2onr6",$$css:!0},inlineActivityIndicator:{position:"x10l6tqk",$$css:!0},counterIndicator:{insetInlineStart:"xxcbqqu",left:null,right:null,bottom:"x1oozmrk",$$css:!0},dotIndicator:{insetInlineStart:"x138ruz1",left:null,right:null,bottom:"xjifam0",$$css:!0}};function p(a){var b=a.ref,e=a.children,f=a.testid;f=a.xstyle;var g=a.disabled,h=a.onClick,j=a.isActive;a=a["aria-label"];return k.jsx("button",babelHelpers["extends"]({"aria-pressed":j,"aria-label":a,onClick:h,tabIndex:-1,ref:b,"data-testid":void 0,"data-navbar-item":!0,"data-navbar-item-selected":j},(i||(i=c("stylex"))).props([c("WAWebUnstyledButtonStyles").button,d("WAWebUISpacing").uiPadding.all0,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus,g===!0&&c("WAWebUnstyledButtonStyles").disabled,o.circularButton,f]),{children:e}))}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.ariaLabel,f=a.dotIndicatorPositionXstyle,g=a.icon,h=a.inlineActivityIndicator,j=a.inlineActivityIndicatorType,q=a.isActive,r=a.isExpanded,s=a.onClick,t=a.shouldHoldInteractionManually;t=t===void 0?!1:t;var u=a.spacingXstyle;u=u===void 0?d("WAWebUISpacing").uiPadding.all8:u;var v=a.testid;v=a.text;var w=a.title,x=a.tracePolicy;a=d("WAWebAppRootInteractionContext.react").useInteractionWithAppRootContext(x!=null?x:c("WAWebInteractionTracePolicy").DEFAULT,t,!0);var y=a.startInteraction;t=function(a){a.preventDefault(),!q&&x&&y(),s==null||s(a)};a=m(null);var z=b("cr:23442")(),A=z[0];z[1];z=c("useMergeRefs")(A,a);A=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_tooltip");var B=l(function(){return k.jsx("div",{children:g})},[g]);v=r&&Boolean(v)&&k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.start10,children:k.jsx(d("WAWebText.react").WAWebTextSectionTitle,{color:q?"primary":"secondary",weight:"semibold",textWrap:"ellipsis",textAlign:"start",children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:v,ellipsify:!0})})});j=!r&&h&&k.jsx(d("WAWebFlex.react").FlexItem,{className:(i||(i=c("stylex")))([o.inlineActivityIndicator,j===n.Counter?o.counterIndicator:o.dotIndicator,f]),children:h});f=k.jsx(p,{testid:void 0,"aria-label":e!=null?e:w,onClick:t,ref:a,dataTab:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,xstyle:[o.fullWidth,u],isActive:q,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:o.fullWidth,children:[k.jsxs(d("WAWebFlex.react").FlexRow,{grow:1,align:"center",xstyle:o.inlineActivityIndicatorContainer,children:[B,j,v]}),r&&h&&k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",grow:0,basis:30,children:h})]})});return k.jsx(d("WAWebFlex.react").FlexRow,{ref:z,xstyle:[o.container,d("WAWebUISpacing").uiMargin.vert2,q&&o.active,r&&[o.fullWidth,o.expanded]],children:A?k.jsx(c("WDSTooltip.react"),{label:w,delayTooltipMs:50,position:"end",children:f}):k.jsxs(k.Fragment,{children:[f,!r&&k.jsx(d("WAWebPopoverContext.react").WAWebPopoverController,{targetRef:a,popover:k.jsx(d("WAWebTooltip.react").WAWebHoverTooltip,{targetRef:"context",alignment:d("WAWebTooltip.react").PopoverAlignment.Center,position:d("WAWebTooltip.react").PopoverPosition.End,enableEnterTransition:!1,children:w})})]})})}a.displayName=a.name+" [from "+f.id+"]";g.InlineActivityIndicatorType=n;g.NavBarItem=a}),98);
__d("WAWebAppRatingNavBarItem.react",["fbt","WAWebAppRatingDialogTrigger","WAWebIcRateAppIcon.react","WAWebNavBarItem.react","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;function a(a){a=a.isNavBarExpanded;var b=h._(/*BTDS*/"Rate WhatsApp Web"),c=m(-1);l(function(){c.current=self.performance.now()},[]);return k.jsx(d("WAWebNavBarItem.react").NavBarItem,{testid:void 0,icon:k.jsx(d("WAWebIcRateAppIcon.react").IcRateAppIcon,{}),text:b,title:b,onClick:function(){d("WAWebAppRatingDialogTrigger").showAppRatingDialog("navbar")},isActive:!1,isExpanded:a})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebAppRatingNavBarItem=a}),226);
__d("WAWebArchiveFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="archive-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M5 21q-.824 0-1.412-.587A1.93 1.93 0 0 1 3 19V6.525q0-.35.112-.675.113-.325.338-.6L4.7 3.725q.274-.35.688-.538Q5.8 3 6.25 3h11.5q.45 0 .863.188.412.187.687.537l1.25 1.525q.225.274.337.6t.113.675V19q0 .824-.587 1.413A1.93 1.93 0 0 1 19 21zm.4-15h13.2l-.85-1H6.25zm6.6 4a.97.97 0 0 0-.713.287A.97.97 0 0 0 11 11v3.2l-.9-.9a.95.95 0 0 0-.7-.275.95.95 0 0 0-.7.275.95.95 0 0 0-.275.7q0 .425.275.7l2.6 2.6q.3.3.7.3t.7-.3l2.6-2.6a.95.95 0 0 0 .275-.7.95.95 0 0 0-.275-.7.95.95 0 0 0-.7-.275.95.95 0 0 0-.7.275l-.9.9V11a.97.97 0 0 0-.287-.713A.97.97 0 0 0 12 10",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ArchiveFilledRefreshedIcon=a}),98);
__d("WAWebWamEnumWebcMenuType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREADS_SCREEN_CLICK:1,CHAT_SCREEN_CLICK:2,SETTINGS_SCREEN_CLICK:3});f.WEBC_MENU_TYPE=a}),66);
__d("WAWebWamEnumWebcMenuItemLabel",[],(function(a,b,c,d,e,f){a=Object.freeze({NEW_GROUP:1,CREATE_A_ROOM:2,PROFILE:3,CATALOG:4,ARCHIVED:5,STARRED:6,LABELS:7,SETTINGS:8,LOG_OUT:9,CONTACT_INFO:10,SELECT_MESSAGES:11,CLOSE_CHAT:12,MUTE_NOTIFICATIONS:13,CLEAR_MESSAGES:14,DELETE_CHAT:15,REPORT_BUSINESS:16,BLOCK:17,SETTINGS_NOTIFICATIONS:18,SETTINGS_THEME:19,SETTINGS_CHAT_WALLPAPER:20,SETTINGS_BLOCKED:21,SETTINGS_HELP:22,OPEN:23,CLOSE:24,BUSINESS_TOOLS:25,APP_LOCK:26});f.WEBC_MENU_ITEM_LABEL=a}),66);
__d("WAWebWebcMenuWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcMenuItemLabel","WAWebWamEnumWebcMenuType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcMenu:[2504,{webcMenuAction:[2,d("WAWebWamEnumWebcMenuType").WEBC_MENU_TYPE],webcMenuItemLabel:[3,d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL]},[1,1,1],"regular"]},{WebcMenu:[]});g.WebcMenuWamEvent=a}),98);
__d("WAWebChatlistHeaderDropdownLogEvents",["WAWebWamEnumWebcMenuType","WAWebWebcMenuWamEvent"],(function(a,b,c,d,e,f,g){function a(a){a=new(d("WAWebWebcMenuWamEvent").WebcMenuWamEvent)({webcMenuAction:d("WAWebWamEnumWebcMenuType").WEBC_MENU_TYPE.THREADS_SCREEN_CLICK,webcMenuItemLabel:a});a.commit()}g.logMenuEvent=a}),98);
__d("WAWebArchivedChatlistHeaderDropdownItem.react",["fbt","WAWebArchiveRefreshedIcon.react","WAWebArchivedFlowLoadable","WAWebChatFolderOpenWamEvent","WAWebChatlistHeaderDropdownLogEvents","WAWebDrawerManager","WAWebDropdownItem.react","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcMenuItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(a){a==null||a.stopPropagation(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebArchivedFlowLoadable").ArchivedFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}})),new(d("WAWebChatFolderOpenWamEvent").ChatFolderOpenWamEvent)({folderType:"Archive"}).commit(),d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.ARCHIVED)},b=h._(/*BTDS*/"Archived"),c="mi-archived menu-item";c=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebArchiveRefreshedIcon.react").ArchiveRefreshedIcon,{}):null,testid:void 0,action:a,children:b});return c}a.displayName=a.name+" [from "+f.id+"]";g.ArchivedChatlistHeaderDropdownItem=a}),226);
__d("WAWebAttachMediaFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebAttachMediaFlow.react").__setRef("WAWebAttachMediaFlowLoadable").load());return a}),"AttachMediaFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.AttachMediaFlowLoadable=d}),98);
__d("WAWebAttachMenuPopupItem.react",["WAWebDropdownItem.react","WAWebFlex.react","WAWebL10N","WAWebNoop","WAWebPopoverContext.react","WAWebTag.react","WAWebTooltip.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useRef,m={container:{cursor:"x1ypdohk",height:"x1vqgdyp",$$css:!0},icon:{minWidth:"xt4ypqs",$$css:!0},disabled:{opacity:"xbyyjgo",cursor:"x1h6gzvc",$$css:!0}};function a(a){var b=a.action,e=a.testid;e=a.icon;var f=a.text,g=a.children,h=a.disabled,j=a.tooltipIfDisabled;a=a.showcase;a=a===void 0?!1:a;var n=d("WAWebPopoverContext.react").useWAWebPopoverControllerRef(),o=l(null),p;if(h===!0&&j!=null&&o!=null){j=k.jsx(d("WAWebTooltip.react").WAWebHoverTooltip,{targetRef:o,alignment:c("WAWebL10N").isRTL()?d("WAWebTooltip.react").PopoverAlignment.End:d("WAWebTooltip.react").PopoverAlignment.Start,position:d("WAWebTooltip.react").PopoverPosition.Bottom,buffer:8,children:j});p=k.jsx(d("WAWebPopoverContext.react").WAWebPopoverController,{targetRef:o,popover:j,controllerRef:n})}return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([d("WAWebUISpacing").uiMargin.horiz8,h===!0&&m.disabled]),{ref:o,children:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:h===!0?c("WAWebNoop"):b,disabled:h,type:"attach-menu-popup",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[m.container,d("WAWebUISpacing").uiMargin.start8,d("WAWebUISpacing").uiMargin.end32],children:[k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[m.icon,d("WAWebUISpacing").uiMargin.end12],children:e}),k.jsx("span",{className:"xdod15v xzwifym x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:f}),g,a?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("WAWebUISpacing").uiMargin.start8),{children:k.jsx(d("WAWebTag.react").Tag,{theme:d("WAWebTag.react").TagTheme.PrimaryPill,children:k.jsx("span",{children:"New"})})})):void 0,p]})})}))}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItem=a}),98);
__d("WAWebAttachMenuStrings",["fbt","WAWebBizGatingUtils"],(function(a,b,c,d,e,f,g,h){a=function(){return h._(/*BTDS*/"Camera")};b=function(){return h._(/*BTDS*/"Catalog")};c=function(){return h._(/*BTDS*/"Contact")};e=function(){return h._(/*BTDS*/"Document")};f=function(){return d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Charge"):h._(/*BTDS*/"Order")};var i=function(){return h._(/*BTDS*/"Photos & videos")},j=function(){return h._(/*BTDS*/"Photos")},k=function(){return h._(/*BTDS*/"Videos")},l=function(){return h._(/*BTDS*/"Poll")},m=function(){return h._(/*BTDS*/"Quick replies")},n=function(){return h._(/*BTDS*/"New sticker")},o=function(){return h._(/*BTDS*/"Audio")},p=function(){return h._(/*BTDS*/"Event")},q=function(){return h._(/*BTDS*/"Question")};g.CameraText=a;g.CatalogText=b;g.ContactText=c;g.DocumentText=e;g.OrderText=f;g.PhotosAndVideosText=i;g.PhotosText=j;g.VideosText=k;g.PollText=l;g.QuickRepliesText=m;g.StickerMakerText=n;g.AudioText=o;g.EventText=p;g.QuestionText=q}),226);
__d("WAWebWamEnumActionThreadTypeType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_CHAT:1,P2P_THREAD:2,MESSAGE_YOURSELF:3,META_AI:4,TO_CHARACTER:5,TO_UGC:6});f.ACTION_THREAD_TYPE_TYPE=a}),66);
__d("WAWebWamEnumAttachmentTrayActionTargetType",[],(function(a,b,c,d,e,f){a=Object.freeze({ATTACHMENT_TRAY:1,DOCUMENT:2,CAMERA:3,CAMERA_LIBRARY:4,GALLERY:5,PHOTO_AND_VIDEO_LIBRARY:6,AUDIO:7,LOCATION:8,CONTACT:9,POLL:10,PAYMENT:11,SHOP:12,ORDER:13,CATALOG:14,QUICK_REPLY:15,STICKER_MAKER:16,IMAGINE_EDIT:17,EVENT_CREATION:18,CALL_LINK_CREATION:19,SHARE_UPI_QR:20});f.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=a}),66);
__d("WAWebWamEnumAttachmentTrayActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK:1,SEND:2,CANCEL:3});f.ATTACHMENT_TRAY_ACTION_TYPE=a}),66);
__d("WAWebWamEnumSendMediaTypeType",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTO:1,VIDEO:2,MIXED:3});f.SEND_MEDIA_TYPE_TYPE=a}),66);
__d("WAWebAttachmentTrayActionsWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumActionThreadTypeType","WAWebWamEnumAttachmentTrayActionTargetType","WAWebWamEnumAttachmentTrayActionType","WAWebWamEnumClientGroupSizeBucket","WAWebWamEnumSendMediaTypeType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({AttachmentTrayActions:[3980,{actionDurationMs:[1,a.TYPES.INTEGER],actionThreadType:[9,d("WAWebWamEnumActionThreadTypeType").ACTION_THREAD_TYPE_TYPE],attachmentTrayAction:[2,d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE],attachmentTrayActionTarget:[3,d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE],groupSizeBucket:[4,d("WAWebWamEnumClientGroupSizeBucket").CLIENT_GROUP_SIZE_BUCKET],isAGroup:[5,a.TYPES.BOOLEAN],isSuccessful:[6,a.TYPES.BOOLEAN],sendMediaType:[7,d("WAWebWamEnumSendMediaTypeType").SEND_MEDIA_TYPE_TYPE],sendTime:[8,a.TYPES.INTEGER]},[1,1,1],"regular"]},{AttachmentTrayActions:[]});g.AttachmentTrayActionsWamEvent=b}),98);
__d("WAWebAttachmentMenuLogger",["$InternalEnum","WANullthrows","WAWebABProps","WAWebAttachmentTrayActionsWamEvent","WAWebChatGetters","WAWebWamEnumAttachmentTrayActionTargetType","WAWebWamEnumAttachmentTrayActionType","WAWebWamNumberToClientGroupSizeBucket"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["OPEN","CLOSE"]),i=b("$InternalEnum").Mirrored(["SEND","CANCEL"]);a=function(){function a(){this.$1=null}var b=a.prototype;b.logAttachmentMenuOpen=function(a){a=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},j(h.OPEN,a),{actionDurationMs:0}));this.$2();m()&&a.commit()};b.logAttachmentMenuClose=function(a){a=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},j(h.CLOSE,a),{actionDurationMs:this.$3()}));this.$2();m()&&a.commit()};b.logAttachMenuClick=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({attachmentTrayActionTarget:b,attachmentTrayAction:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CLICK},l(a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.logAttachmentSend=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},k(i.SEND,b,a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.logAttachmentCancel=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},k(i.CANCEL,b,a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.$2=function(){this.$1=Date.now()};b.$3=function(){return Date.now()-c("WANullthrows")(this.$1)};return a}();function j(a,b){return babelHelpers["extends"]({attachmentTrayActionTarget:d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE.ATTACHMENT_TRAY,attachmentTrayAction:a===h.OPEN?d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CLICK:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CANCEL},l(b))}function k(a,b,c){return babelHelpers["extends"]({attachmentTrayActionTarget:b,attachmentTrayAction:a===i.SEND?d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.SEND:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CANCEL},l(c))}function l(a){return{isAGroup:d("WAWebChatGetters").getIsGroup(a),groupSizeBucket:d("WAWebChatGetters").getIsGroup(a)?c("WAWebWamNumberToClientGroupSizeBucket")(a.getParticipantCount()):void 0}}function m(){return d("WAWebABProps").getABPropConfigValue("attachment_tray_logging_enabled")}e=new a();g.AttachmentMenuTarget=d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE;g.AttachmentMenuLogger=e}),98);
__d("WAWebIcHeadphonesFilledIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="ic-headphones-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M7 21H5c-.55 0-1.02-.2-1.41-.59-.4-.39-.59-.86-.59-1.41v-7c0-1.25.24-2.42.71-3.51A9.15 9.15 0 0 1 8.5 3.7 8.7 8.7 0 0 1 12 3a8.7 8.7 0 0 1 3.51.71A9.15 9.15 0 0 1 20.3 8.5 8.7 8.7 0 0 1 21 12v7c0 .55-.2 1.02-.59 1.41-.39.4-.86.59-1.41.59h-2c-.55 0-1.02-.2-1.41-.59-.4-.39-.59-.86-.59-1.41v-4c0-.55.2-1.02.59-1.41.39-.4.86-.59 1.41-.59h2v-1c0-1.95-.68-3.6-2.04-4.96A6.75 6.75 0 0 0 12 5c-1.95 0-3.6.68-4.96 2.04A6.75 6.75 0 0 0 5 12v1h2c.55 0 1.02.2 1.41.59.4.39.59.86.59 1.41v4c0 .55-.2 1.02-.59 1.41-.39.4-.86.59-1.41.59Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IcHeadphonesFilledIcon=a}),98);
__d("WAWebAttachMenuPopupItemAudio.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebIcHeadphonesFilledIcon.react","WAWebMimeTypes","WAWebMsgAudioIcon.react","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={icon:{color:"x10wjepd",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.multiple,g=a.onMediaPick,h=k();a=function(a){a.preventDefault();if(h.current!=null){h.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO);return!1}return!0};var i=function(a){if(!a){e();return}a.preventDefault();a=Array.from((a=a.target.files)!=null?a:[]);e();if(!a.length)return;g(a.map(function(a){return{file:a}}))};return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebIcHeadphonesFilledIcon.react").IcHeadphonesFilledIcon,{height:24,width:24,iconXstyle:l.icon}):j.jsx(d("WAWebMsgAudioIcon.react").MsgAudioIcon,{height:24,width:24,iconXstyle:l.icon}),text:d("WAWebAttachMenuStrings").AudioText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:h,mimes:d("WAWebMimeTypes").AUDIO_MIMES,onChange:i,multiple:f})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemAudio=a}),98);
__d("WAWebCameraFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="camera-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M12 17.5C13.25 17.5 14.3125 17.0625 15.1875 16.1875C16.0625 15.3125 16.5 14.25 16.5 13C16.5 11.75 16.0625 10.6875 15.1875 9.8125C14.3125 8.9375 13.25 8.5 12 8.5C10.75 8.5 9.6875 8.9375 8.8125 9.8125C7.9375 10.6875 7.5 11.75 7.5 13C7.5 14.25 7.9375 15.3125 8.8125 16.1875C9.6875 17.0625 10.75 17.5 12 17.5ZM12 15.5C11.3 15.5 10.7083 15.2583 10.225 14.775C9.74167 14.2917 9.5 13.7 9.5 13C9.5 12.3 9.74167 11.7083 10.225 11.225C10.7083 10.7417 11.3 10.5 12 10.5C12.7 10.5 13.2917 10.7417 13.775 11.225C14.2583 11.7083 14.5 12.3 14.5 13C14.5 13.7 14.2583 14.2917 13.775 14.775C13.2917 15.2583 12.7 15.5 12 15.5ZM4 21C3.45 21 2.97917 20.8042 2.5875 20.4125C2.19583 20.0208 2 19.55 2 19V7C2 6.45 2.19583 5.97917 2.5875 5.5875C2.97917 5.19583 3.45 5 4 5H7.15L8.4 3.65C8.58333 3.45 8.80417 3.29167 9.0625 3.175C9.32083 3.05833 9.59167 3 9.875 3H14.125C14.4083 3 14.6792 3.05833 14.9375 3.175C15.1958 3.29167 15.4167 3.45 15.6 3.65L16.85 5H20C20.55 5 21.0208 5.19583 21.4125 5.5875C21.8042 5.97917 22 6.45 22 7V19C22 19.55 21.8042 20.0208 21.4125 20.4125C21.0208 20.8042 20.55 21 20 21H4Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CameraFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemCamera.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebCameraFilledRefreshedIcon.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={refreshedIcon:{color:"x1cbnkk4",$$css:!0}};function a(a){var b=a.chat,c=a.onCaptureClick;a=function(){c();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA);return!0};var e=i.jsxs("svg",{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M9.9999 13.04C8.16657 13.04 6.67479 11.5482 6.67479 9.71486C6.67479 7.88153 8.16657 6.38976 9.9999 6.38976C11.8332 6.38976 13.325 7.88153 13.325 9.71486C13.325 11.5482 11.8332 13.04 9.9999 13.04Z",fill:"var(--attachment-type-camera-color)"}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.606 1.6763C14.9347 2.23849 15.5121 2.60821 16.1634 2.60821H16.2429C18.3177 2.60821 20 4.29014 20 6.36531V14.8157C20 16.8902 18.3177 18.5725 16.2429 18.5725H3.7571C1.68226 18.5725 0 16.8902 0 14.8157V6.36531C0 4.29014 1.68226 2.60821 3.7571 2.60821H3.83661C4.48792 2.60821 5.06535 2.23849 5.39398 1.6763C5.98035 0.673833 7.06697 0 8.3126 0H11.6874C12.933 0 14.0193 0.673833 14.606 1.6763ZM9.9999 4.73333C7.25322 4.73333 5.01837 6.96818 5.01837 9.71486C5.01837 12.4615 7.25322 14.6964 9.9999 14.6964C12.7466 14.6964 14.9814 12.4615 14.9814 9.71486C14.9814 6.96818 12.7466 4.73333 9.9999 4.73333Z",fill:"var(--attachment-type-camera-color)"})]});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?i.jsx(d("WAWebCameraFilledRefreshedIcon.react").CameraFilledRefreshedIcon,{iconXstyle:j.refreshedIcon}):e,text:d("WAWebAttachMenuStrings").CameraText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemCamera=a}),98);
__d("WAWebAttachProductModalLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizAttachProductModal.react").__setRef("WAWebAttachProductModalLoadable").load());return a}),"AttachProductModal");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._(/*BTDS*/"Send products"),error:Boolean(a.error)})}});g.requireBundle=a;g.AttachProductModalLoadable=d}),226);
__d("WAWebAttachMenuPopupItemCatalog.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachProductModalLoadable","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPrepareMessageSendingAction","WAWebProductCatalogLogEvents","WAWebProductCatalogMetaLinkingGatingUtils","WAWebProductCatalogSession","WAWebStorefrontFilledIcon.react","WAWebUIRefreshGatingUtils","WAWebUtilsLogQplEvents","react","useLazyRef"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={icon:{color:"x1bzzifw",$$css:!0}};function k(){return i.jsx("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00007 2H17.0001C17.5501 2 18.0001 1.55 18.0001 1C18.0001 0.45 17.5501 0 17.0001 0H3.00007C2.45007 0 2.00007 0.45 2.00007 1C2.00007 1.55 2.45007 2 3.00007 2ZM18.1601 3.8C18.0701 3.34 17.6601 3 17.1801 3H2.82007C2.34007 3 1.93007 3.34 1.84007 3.8L0.840074 8.8C0.720074 9.42 1.19007 10 1.82007 10H2.00007V15C2.00007 15.55 2.45007 16 3.00007 16H11.0001C11.5501 16 12.0001 15.55 12.0001 15V10H16.0001V15C16.0001 15.55 16.4501 16 17.0001 16C17.5501 16 18.0001 15.55 18.0001 15V10H18.1801C18.8101 10 19.2801 9.42 19.1601 8.8L18.1601 3.8ZM4.00007 14H10.0001V10H4.00007V14Z",fill:"var(--attachment-type-catalog-color)"})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.chat;a=a.disabled;var e=c("useLazyRef")(function(){return new(d("WAWebProductCatalogSession").ProductCatalogSession)()}),f=function(a){a.preventDefault();a=e.current.toString();if(a==null)return!0;d("WAWebProductCatalogLogEvents").logCatalogAttachmentButtonClick(a);d("WAWebUtilsLogQplEvents").qplStartCatalogView("Attachment");d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebAttachProductModalLoadable").AttachProductModalLoadable,{chat:b,sessionId:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG)}}));void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG);return!0},g=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?i.jsx(d("WAWebStorefrontFilledIcon.react").StorefrontFilledIcon,{iconXstyle:j.icon}):i.jsx(k,{});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:f,icon:g,text:d("WAWebAttachMenuStrings").CatalogText(),disabled:a,tooltipIfDisabled:a===!0?d("WAWebProductCatalogMetaLinkingGatingUtils").getDisabledMetaLinkedCatalogTooltipText():null})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemCatalog=a}),98);
__d("WAWebAttachVcardsFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebAttachVcardsFlow.react").__setRef("WAWebAttachVcardsFlowLoadable").load());return a}),"AttachVcardsFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._(/*BTDS*/"Send contacts"),error:Boolean(a.error)})}});g.requireBundle=a;g.AttachVcardsFlowLoadable=d}),226);
__d("WAWebPersonFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="person-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M12 11C10.7625 11 9.70312 10.5594 8.82188 9.67813C7.94063 8.79688 7.5 7.7375 7.5 6.5C7.5 5.2625 7.94063 4.20312 8.82188 3.32188C9.70312 2.44063 10.7625 2 12 2C13.2375 2 14.2969 2.44063 15.1781 3.32188C16.0594 4.20312 16.5 5.2625 16.5 6.5C16.5 7.7375 16.0594 8.79688 15.1781 9.67813C14.2969 10.5594 13.2375 11 12 11ZM5.25 21C4.63125 21 4.10156 20.7797 3.66094 20.3391C3.22031 19.8984 3 19.3687 3 18.75V17.85C3 17.2125 3.16406 16.6266 3.49219 16.0922C3.82031 15.5578 4.25625 15.15 4.8 14.8688C5.9625 14.2875 7.14375 13.8516 8.34375 13.5609C9.54375 13.2703 10.7625 13.125 12 13.125C13.2375 13.125 14.4563 13.2703 15.6562 13.5609C16.8562 13.8516 18.0375 14.2875 19.2 14.8688C19.7438 15.15 20.1797 15.5578 20.5078 16.0922C20.8359 16.6266 21 17.2125 21 17.85V18.75C21 19.3687 20.7797 19.8984 20.3391 20.3391C19.8984 20.7797 19.3687 21 18.75 21H5.25Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PersonFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemContacts.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachVcardsFlowLoadable","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPersonFilledRefreshedIcon.react","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={refreshedIcon:{color:"x19hyexh",$$css:!0}};function a(a){var b=a.chat,c=a.onMenuComplete;a=function(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebAttachVcardsFlowLoadable").AttachVcardsFlowLoadable,{chat:b,onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT)},onContactsSent:function(){c==null||c(!0),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT)}}));void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT);return!0};var e=i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C12 6.21 10.21 8 8 8C5.79 8 4 6.21 4 4C4 1.79 5.79 0 8 0C10.21 0 12 1.79 12 4ZM0 14C0 11.34 5.33 10 8 10C10.67 10 16 11.34 16 14V15C16 15.55 15.55 16 15 16H1C0.45 16 0 15.55 0 15V14Z",fill:"var(--attachment-type-contacts-color)"})});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?i.jsx(d("WAWebPersonFilledRefreshedIcon.react").PersonFilledRefreshedIcon,{iconXstyle:j.refreshedIcon}):e,text:d("WAWebAttachMenuStrings").ContactText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemContacts=a}),98);
__d("WAWebDocumentFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="document-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M9 18H15C15.2833 18 15.5208 17.9042 15.7125 17.7125C15.9042 17.5208 16 17.2833 16 17C16 16.7167 15.9042 16.4792 15.7125 16.2875C15.5208 16.0958 15.2833 16 15 16H9C8.71667 16 8.47917 16.0958 8.2875 16.2875C8.09583 16.4792 8 16.7167 8 17C8 17.2833 8.09583 17.5208 8.2875 17.7125C8.47917 17.9042 8.71667 18 9 18ZM9 14H15C15.2833 14 15.5208 13.9042 15.7125 13.7125C15.9042 13.5208 16 13.2833 16 13C16 12.7167 15.9042 12.4792 15.7125 12.2875C15.5208 12.0958 15.2833 12 15 12H9C8.71667 12 8.47917 12.0958 8.2875 12.2875C8.09583 12.4792 8 12.7167 8 13C8 13.2833 8.09583 13.5208 8.2875 13.7125C8.47917 13.9042 8.71667 14 9 14ZM6 22C5.45 22 4.97917 21.8042 4.5875 21.4125C4.19583 21.0208 4 20.55 4 20V4C4 3.45 4.19583 2.97917 4.5875 2.5875C4.97917 2.19583 5.45 2 6 2H13.175C13.4417 2 13.6958 2.05 13.9375 2.15C14.1792 2.25 14.3917 2.39167 14.575 2.575L19.425 7.425C19.6083 7.60833 19.75 7.82083 19.85 8.0625C19.95 8.30417 20 8.55833 20 8.825V20C20 20.55 19.8042 21.0208 19.4125 21.4125C19.0208 21.8042 18.55 22 18 22H6ZM13 8C13 8.28333 13.0958 8.52083 13.2875 8.7125C13.4792 8.90417 13.7167 9 14 9H18L13 4V8Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.DocumentFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemDocuments.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebDocumentFilledRefreshedIcon.react","WAWebFilePicker.react","WAWebFileUtils","WAWebMimeTypes","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={refreshedIcon:{color:"x19mqsdy",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.onDocumentPick,g=k();a=function(a){a.preventDefault();if(g.current){g.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT);return!1}return!0};var h=function(a){a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);e();if(!a.length)return;a=a.map(function(a){return{file:a,type:d("WAWebFileUtils").FILETYPE.DOCUMENT}});f(a)},i=j.jsx("svg",{height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0C0.9 0 0.01 0.9 0.01 2L0 18C0 19.1 0.89 20 1.99 20H14C15.1 20 16 19.1 16 18V6.83C16 6.3 15.79 5.79 15.41 5.42L10.58 0.59C10.21 0.21 9.7 0 9.17 0H2ZM9 6V1.5L14.5 7H10C9.45 7 9 6.55 9 6ZM4 10C3.44772 10 3 10.4477 3 11C3 11.5523 3.44772 12 4 12H12C12.5523 12 13 11.5523 13 11C13 10.4477 12.5523 10 12 10H4ZM10 15C10 14.4477 9.55228 14 9 14H4C3.44772 14 3 14.4477 3 15C3 15.5523 3.44772 16 4 16H9C9.55228 16 10 15.5523 10 15Z",fill:"var(--attachment-type-documents-color)"})});return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebDocumentFilledRefreshedIcon.react").DocumentFilledRefreshedIcon,{iconXstyle:l.refreshedIcon}):i,text:d("WAWebAttachMenuStrings").DocumentText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:g,mimes:d("WAWebMimeTypes").DOC_MIMES,onChange:h})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemDocuments=a}),98);
__d("WAWebCalendarFilledIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="calendar-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=20;o=18;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 18 20",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M11.4306 15.8334C10.75 15.8334 10.1748 15.5984 9.70486 15.1285C9.23495 14.6586 9 14.0834 9 13.4028C9 12.7223 9.23495 12.147 9.70486 11.6771C10.1748 11.2072 10.75 10.9723 11.4306 10.9723C12.1111 10.9723 12.6863 11.2072 13.1562 11.6771C13.6262 12.147 13.8611 12.7223 13.8611 13.4028C13.8611 14.0834 13.6262 14.6586 13.1562 15.1285C12.6863 15.5984 12.1111 15.8334 11.4306 15.8334ZM2.19444 19.7223C1.65972 19.7223 1.20197 19.5319 0.821181 19.1511C0.440394 18.7703 0.25 18.3126 0.25 17.7778V4.16672C0.25 3.632 0.440394 3.17424 0.821181 2.79346C1.20197 2.41267 1.65972 2.22228 2.19444 2.22228H3.16667V1.25005C3.16667 0.974591 3.25984 0.743688 3.44618 0.557346C3.63252 0.371003 3.86343 0.277832 4.13889 0.277832C4.41435 0.277832 4.64525 0.371003 4.8316 0.557346C5.01794 0.743688 5.11111 0.974591 5.11111 1.25005V2.22228H12.8889V1.25005C12.8889 0.974591 12.9821 0.743688 13.1684 0.557346C13.3547 0.371003 13.5856 0.277832 13.8611 0.277832C14.1366 0.277832 14.3675 0.371003 14.5538 0.557346C14.7402 0.743688 14.8333 0.974591 14.8333 1.25005V2.22228H15.8056C16.3403 2.22228 16.798 2.41267 17.1788 2.79346C17.5596 3.17424 17.75 3.632 17.75 4.16672V17.7778C17.75 18.3126 17.5596 18.7703 17.1788 19.1511C16.798 19.5319 16.3403 19.7223 15.8056 19.7223H2.19444ZM2.19444 17.7778H15.8056V8.05561H2.19444V17.7778Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CalendarFilledIcon=a}),98);
__d("WAWebAttachMenuPopupItemEvents",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebCalendarFilledIcon.react","WAWebCalendarFilledRefreshedIcon.react","WAWebEventsCreateEventModalFlow.react","WAWebModalManager","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react"),j={icon:{color:"xvzgjlx",$$css:!0}};function a(a){var b=a.chat;function e(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebEventsCreateEventModalFlow.react"),{preselectedChat:b}),{blockClose:!0});void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);return!0}return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:e,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?i.jsx(d("WAWebCalendarFilledRefreshedIcon.react").CalendarFilledRefreshedIcon,{iconXstyle:j.icon}):i.jsx(d("WAWebCalendarFilledIcon.react").CalendarFilledIcon,{iconXstyle:j.icon,height:20,"aria-hidden":!0}),text:d("WAWebAttachMenuStrings").EventText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemEvents=a}),98);
__d("WAWebReceiptRefreshedFilledIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="receipt-refreshed-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M3 21.4V2.59995C3 2.48328 3.05 2.40412 3.15 2.36245C3.25 2.32078 3.34167 2.34162 3.425 2.42495L4.15 3.14995C4.25 3.24995 4.36667 3.29995 4.5 3.29995C4.63333 3.29995 4.75 3.24995 4.85 3.14995L5.65 2.34995C5.75 2.24995 5.86667 2.19995 6 2.19995C6.13333 2.19995 6.25 2.24995 6.35 2.34995L7.15 3.14995C7.25 3.24995 7.36667 3.29995 7.5 3.29995C7.63333 3.29995 7.75 3.24995 7.85 3.14995L8.65 2.34995C8.75 2.24995 8.86667 2.19995 9 2.19995C9.13333 2.19995 9.25 2.24995 9.35 2.34995L10.15 3.14995C10.25 3.24995 10.3667 3.29995 10.5 3.29995C10.6333 3.29995 10.75 3.24995 10.85 3.14995L11.65 2.34995C11.75 2.24995 11.8667 2.19995 12 2.19995C12.1333 2.19995 12.25 2.24995 12.35 2.34995L13.15 3.14995C13.25 3.24995 13.3667 3.29995 13.5 3.29995C13.6333 3.29995 13.75 3.24995 13.85 3.14995L14.65 2.34995C14.75 2.24995 14.8667 2.19995 15 2.19995C15.1333 2.19995 15.25 2.24995 15.35 2.34995L16.15 3.14995C16.25 3.24995 16.3667 3.29995 16.5 3.29995C16.6333 3.29995 16.75 3.24995 16.85 3.14995L17.65 2.34995C17.75 2.24995 17.8667 2.19995 18 2.19995C18.1333 2.19995 18.25 2.24995 18.35 2.34995L19.15 3.14995C19.25 3.24995 19.3667 3.29995 19.5 3.29995C19.6333 3.29995 19.75 3.24995 19.85 3.14995L20.575 2.42495C20.6583 2.34162 20.75 2.32078 20.85 2.36245C20.95 2.40412 21 2.48328 21 2.59995V21.4C21 21.5166 20.95 21.5958 20.85 21.6375C20.75 21.6791 20.6583 21.6583 20.575 21.575L19.85 20.85C19.75 20.75 19.6333 20.7 19.5 20.7C19.3667 20.7 19.25 20.75 19.15 20.85L18.35 21.65C18.25 21.75 18.1333 21.8 18 21.8C17.8667 21.8 17.75 21.75 17.65 21.65L16.85 20.85C16.75 20.75 16.6333 20.7 16.5 20.7C16.3667 20.7 16.25 20.75 16.15 20.85L15.35 21.65C15.25 21.75 15.1333 21.8 15 21.8C14.8667 21.8 14.75 21.75 14.65 21.65L13.85 20.85C13.75 20.75 13.6333 20.7 13.5 20.7C13.3667 20.7 13.25 20.75 13.15 20.85L12.35 21.65C12.25 21.75 12.1333 21.8 12 21.8C11.8667 21.8 11.75 21.75 11.65 21.65L10.85 20.85C10.75 20.75 10.6333 20.7 10.5 20.7C10.3667 20.7 10.25 20.75 10.15 20.85L9.35 21.65C9.25 21.75 9.13333 21.8 9 21.8C8.86667 21.8 8.75 21.75 8.65 21.65L7.85 20.85C7.75 20.75 7.63333 20.7 7.5 20.7C7.36667 20.7 7.25 20.75 7.15 20.85L6.35 21.65C6.25 21.75 6.13333 21.8 6 21.8C5.86667 21.8 5.75 21.75 5.65 21.65L4.85 20.85C4.75 20.75 4.63333 20.7 4.5 20.7C4.36667 20.7 4.25 20.75 4.15 20.85L3.425 21.575C3.34167 21.6583 3.25 21.6791 3.15 21.6375C3.05 21.5958 3 21.5166 3 21.4ZM7 17H17C17.2833 17 17.5208 16.9041 17.7125 16.7125C17.9042 16.5208 18 16.2833 18 16C18 15.7166 17.9042 15.4791 17.7125 15.2875C17.5208 15.0958 17.2833 15 17 15H7C6.71667 15 6.47917 15.0958 6.2875 15.2875C6.09583 15.4791 6 15.7166 6 16C6 16.2833 6.09583 16.5208 6.2875 16.7125C6.47917 16.9041 6.71667 17 7 17ZM7 13H17C17.2833 13 17.5208 12.9041 17.7125 12.7125C17.9042 12.5208 18 12.2833 18 12C18 11.7166 17.9042 11.4791 17.7125 11.2875C17.5208 11.0958 17.2833 11 17 11H7C6.71667 11 6.47917 11.0958 6.2875 11.2875C6.09583 11.4791 6 11.7166 6 12C6 12.2833 6.09583 12.5208 6.2875 12.7125C6.47917 12.9041 6.71667 13 7 13ZM7 8.99995H17C17.2833 8.99995 17.5208 8.90412 17.7125 8.71245C17.9042 8.52078 18 8.28328 18 7.99995C18 7.71662 17.9042 7.47912 17.7125 7.28745C17.5208 7.09578 17.2833 6.99995 17 6.99995H7C6.71667 6.99995 6.47917 7.09578 6.2875 7.28745C6.09583 7.47912 6 7.71662 6 7.99995C6 8.28328 6.09583 8.52078 6.2875 8.71245C6.47917 8.90412 6.71667 8.99995 7 8.99995Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ReceiptRefreshedFilledIcon=a}),98);
__d("WAWebAttachMenuPopupItemOrders.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebBizEntryPoint","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebDrawerManager","WAWebModalManager","WAWebOrderCreationFlowLoadable","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderExpansionNotSupportedPopup.react","WAWebOrdersExpansionUtils","WAWebReceiptRefreshedFilledIcon.react","WAWebSmbDataSharingOptInModalDialog","WAWebUIRefreshGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={icon:{color:"x1ydg37e",$$css:!0},opacityOverride:{opacity:"xuzhngd",$$css:!0}};function k(a){a=a.isOrderCountrySupported;return i.jsx("svg",{opacity:a?1:.3,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M20 3.29721C19.8845 3.29721 19.7689 3.34169 19.6889 3.43055L18.9867 4.13282C18.8089 4.31055 18.5333 4.31055 18.3555 4.13282L17.6533 3.43055C17.4755 3.25282 17.2 3.25282 17.0222 3.43055L16.32 4.13282C16.1422 4.31055 15.8667 4.31055 15.6889 4.13282L14.9867 3.43055C14.8089 3.25282 14.5333 3.25282 14.3555 3.43055L13.6533 4.13282C13.4755 4.31055 13.2 4.31055 13.0222 4.13282L12.32 3.43055C12.1422 3.25282 11.8667 3.25282 11.6889 3.43055L10.9867 4.13282C10.8089 4.31055 10.5333 4.31055 10.3555 4.13282L9.64447 3.42168C9.46667 3.24388 9.19114 3.24388 9.01333 3.42168L8.31114 4.13282C8.13333 4.31055 7.85781 4.31055 7.68 4.13282L6.97781 3.42168C6.8 3.24388 6.52447 3.24388 6.34667 3.42168L5.64447 4.13282C5.46667 4.31055 5.19114 4.31055 5.01333 4.13282L4.31114 3.42168C4.23114 3.34168 4.11553 3.29721 4 3.29721V20.7106C4.11553 20.7106 4.23114 20.6662 4.31114 20.5772L5.01333 19.875C5.19114 19.6972 5.46667 19.6972 5.64447 19.875L6.34667 20.5772C6.52447 20.755 6.8 20.755 6.97781 20.5772L7.68 19.875C7.85781 19.6972 8.13333 19.6972 8.31114 19.875L9.01333 20.5772C9.19114 20.755 9.46667 20.755 9.64447 20.5772L10.3467 19.875C10.5245 19.6972 10.8 19.6972 10.9778 19.875L11.68 20.5772C11.8578 20.755 12.1333 20.755 12.3111 20.5772L13.0133 19.875C13.1911 19.6972 13.4667 19.6972 13.6445 19.875L14.3467 20.5772C14.5245 20.755 14.8 20.755 14.9778 20.5772L15.68 19.875C15.8578 19.6972 16.1333 19.6972 16.3111 19.875L17.0133 20.5772C17.1911 20.755 17.4667 20.755 17.6445 20.5772L18.3467 19.875C18.5245 19.6972 18.8 19.6972 18.9778 19.875L19.68 20.5772C19.7689 20.6662 19.8845 20.7106 19.9911 20.7106V3.29721H20ZM16.4445 16.4439H7.55553C7.06667 16.4439 6.66667 16.0439 6.66667 15.555C6.66667 15.0662 7.06667 14.6662 7.55553 14.6662H16.4445C16.9333 14.6662 17.3333 15.0662 17.3333 15.555C17.3333 16.0439 16.9333 16.4439 16.4445 16.4439ZM16.4445 12.8884H7.55553C7.06667 12.8884 6.66667 12.4884 6.66667 11.9995C6.66667 11.5106 7.06667 11.1106 7.55553 11.1106H16.4445C16.9333 11.1106 17.3333 11.5106 17.3333 11.9995C17.3333 12.4884 16.9333 12.8884 16.4445 12.8884ZM16.4445 9.33283H7.55553C7.06667 9.33283 6.66667 8.93283 6.66667 8.44388C6.66667 7.95502 7.06667 7.55502 7.55553 7.55502H16.4445C16.9333 7.55502 17.3333 7.95502 17.3333 8.44388C17.3333 8.93283 16.9333 9.33283 16.4445 9.33283Z",fill:"var(--attachment-type-orders-color)"})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.chat;a=function(){new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_ORDER_FROM_ICON_MENU,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_CREATION),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").MERCHANT_INITIATED),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMePnUserOrThrow()))}).commit();var a=function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(i.jsx(c("WAWebOrderCreationFlowLoadable"),{entryPoint:c("WAWebBizEntryPoint").MERCHANT_INITIATED,chat:b,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)}}),{transition:"slide-left"}),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)};c("WAWebSmbDataSharingOptInModalDialog").maybeShowOrderDataSharingDialog(b,a,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.NEW_ORDER);return!0};var e=!d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&d("WAWebOrdersExpansionUtils").isSellerCountrySameAsBuyer(b)||d("WAWebOrdersExpansionUtils").isContactCountrySupported(b);e||(a=function(){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebOrderExpansionNotSupportedPopup.react"),{chat:b}));return!1});e=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?i.jsx(d("WAWebReceiptRefreshedFilledIcon.react").ReceiptRefreshedFilledIcon,{iconXstyle:[j.icon,!e&&j.opacityOverride]}):i.jsx(k,{isOrderCountrySupported:e});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:e,text:d("WAWebAttachMenuStrings").OrderText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemOrders=a}),98);
__d("WAWebMediaFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="media-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M13.25 12.5L12.1 11C12 10.8667 11.8667 10.8 11.7 10.8C11.5333 10.8 11.4 10.8667 11.3 11L9.625 13.2C9.49167 13.3667 9.47083 13.5417 9.5625 13.725C9.65417 13.9083 9.80833 14 10.025 14H17.975C18.1917 14 18.3458 13.9083 18.4375 13.725C18.5292 13.5417 18.5083 13.3667 18.375 13.2L15.95 10.025C15.85 9.89167 15.7167 9.825 15.55 9.825C15.3833 9.825 15.25 9.89167 15.15 10.025L13.25 12.5ZM8 18C7.45 18 6.97917 17.8042 6.5875 17.4125C6.19583 17.0208 6 16.55 6 16V4C6 3.45 6.19583 2.97917 6.5875 2.5875C6.97917 2.19583 7.45 2 8 2H20C20.55 2 21.0208 2.19583 21.4125 2.5875C21.8042 2.97917 22 3.45 22 4V16C22 16.55 21.8042 17.0208 21.4125 17.4125C21.0208 17.8042 20.55 18 20 18H8ZM4 22C3.45 22 2.97917 21.8042 2.5875 21.4125C2.19583 21.0208 2 20.55 2 20V7C2 6.71667 2.09583 6.47917 2.2875 6.2875C2.47917 6.09583 2.71667 6 3 6C3.28333 6 3.52083 6.09583 3.7125 6.2875C3.90417 6.47917 4 6.71667 4 7V20H17C17.2833 20 17.5208 20.0958 17.7125 20.2875C17.9042 20.4792 18 20.7167 18 21C18 21.2833 17.9042 21.5208 17.7125 21.7125C17.5208 21.9042 17.2833 22 17 22H4Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemPhotos.react",["$InternalEnum","WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMediaFilledRefreshedIcon.react","WAWebMimeTypes","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={refreshedIcon:{color:"xihbb3s",$$css:!0}},m=b("$InternalEnum").Mirrored(["PHOTOS","VIDEOS","PHOTOS_AND_VIDEOS"]);function a(a){var b=a.chat,e=a.dismissMenu,f=a.mediaSelectionType,g=a.multiple,h=a.onMediaPick,i=k();a=function(a){a.preventDefault();if(i.current!=null){i.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY);return!1}return!0};var n=function(a){if(!a){e();return}a.stopPropagation();a=Array.from((a=a.target.files)!=null?a:[]);e();if(!a.length)return;h(a.map(function(a){return{file:a}}))},o=j.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 14V2C20 0.9 19.1 0 18 0H6C4.9 0 4 0.9 4 2V14C4 15.1 4.9 16 6 16H18C19.1 16 20 15.1 20 14ZM9.4 10.53L11.03 12.71L13.61 9.49C13.81 9.24 14.19 9.24 14.39 9.49L17.35 13.19C17.61 13.52 17.38 14 16.96 14H7C6.59 14 6.35 13.53 6.6 13.2L8.6 10.53C8.8 10.27 9.2 10.27 9.4 10.53ZM0 18V5C0 4.45 0.45 4 1 4C1.55 4 2 4.45 2 5V17C2 17.55 2.45 18 3 18H15C15.55 18 16 18.45 16 19C16 19.55 15.55 20 15 20H2C0.9 20 0 19.1 0 18Z",fill:"var(--attachment-type-photos-color)"})}),p,q=[];switch(f){case m.PHOTOS:q.push(d("WAWebMimeTypes").IMAGE_MIMES);p=d("WAWebAttachMenuStrings").PhotosText();break;case m.VIDEOS:q.push(d("WAWebMimeTypes").VIDEO_MIMES);p=d("WAWebAttachMenuStrings").VideosText();break;default:q.push(d("WAWebMimeTypes").IMAGE_MIMES,d("WAWebMimeTypes").VIDEO_MIMES);p=d("WAWebAttachMenuStrings").PhotosAndVideosText();break}return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebMediaFilledRefreshedIcon.react").MediaFilledRefreshedIcon,{iconXstyle:l.refreshedIcon}):o,text:p,children:j.jsx(c("WAWebFilePicker.react"),{ref:i,mimes:q.join(","),onChange:n,multiple:g})})}a.displayName=a.name+" [from "+f.id+"]";g.MediaSelectionType=m;g.AttachMenuPopupItemPhotos=a}),98);
__d("WAWebPollRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="poll-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M4 18C4 17.45 4.19583 16.9792 4.5875 16.5875C4.97917 16.1958 5.45 16 6 16H10C10.55 16 11.0208 16.1958 11.4125 16.5875C11.8042 16.9792 12 17.45 12 18C12 18.55 11.8042 19.0208 11.4125 19.4125C11.0208 19.8042 10.55 20 10 20H6C5.45 20 4.97917 19.8042 4.5875 19.4125C4.19583 19.0208 4 18.55 4 18ZM4 12C4 11.45 4.19583 10.9792 4.5875 10.5875C4.97917 10.1958 5.45 10 6 10H18C18.55 10 19.0208 10.1958 19.4125 10.5875C19.8042 10.9792 20 11.45 20 12C20 12.55 19.8042 13.0208 19.4125 13.4125C19.0208 13.8042 18.55 14 18 14H6C5.45 14 4.97917 13.8042 4.5875 13.4125C4.19583 13.0208 4 12.55 4 12ZM4 6C4 5.45 4.19583 4.97917 4.5875 4.5875C4.97917 4.19583 5.45 4 6 4L14 4C14.55 4 15.0208 4.19583 15.4125 4.5875C15.8042 4.97917 16 5.45 16 6C16 6.55 15.8042 7.02083 15.4125 7.4125C15.0208 7.80417 14.55 8 14 8H6C5.45 8 4.97917 7.80417 4.5875 7.4125C4.19583 7.02083 4 6.55 4 6Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PollRefreshedIcon=a}),98);
__d("WAWebPollAttachMediaViewLoadable.react",["JSResourceForInteraction","WAWebLazyLoadLoading.react","WAWebLazyLoadedRetriable","WAWebLoadable","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebPollAttachMediaView.react").__setRef("WAWebPollAttachMediaViewLoadable.react").load());return a.PollAttachMediaView}),"PollAttachMediaView");d=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLazyLoadLoading.react"),{error:Boolean(a.error)})}});g.PollAttachMediaViewLoadable=d}),98);
__d("WAWebPollAttachMediaPicker.react",["fbt","WALogger","WAWebAttachMediaCollection","WAWebFilePicker.react","WAWebMimeTypes","WAWebModalManager","WAWebPollAttachMediaViewLoadable.react","WAWebPollsGatingUtils","WAWebToast.react","WAWebToastManager","WAWebWamEnumMediaPickerOriginType","react","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a){var b=a.mediaPickerRef,e=a.chat,f=a.getComposeBoxEditorRef,g=a.options,j=a.question,l=a.allowMultipleMedia,m=a.activeOptionIndex,n=function(a){var b=a.attachments,n=a.onSend;a=a.onCancel;var o=new(c("WAWebAttachMediaCollection"))({chatParticipantCount:e.getParticipantCount()}),p=d("WAWebPollsGatingUtils").getMaxPollOptionCount();b&&b.length>0?(void o.processAttachmentsForChat(b,d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.POLL_CREATION,e,p,function(){b.length>p&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Can't add more than {max number of media} photos.",[h._param("max number of media",p)])}))}),m!=null&&!l?o.forEach(function(a){a.updateCaption((a=g[m])==null?void 0:a.name)}):o.forEach(function(a,b){a.updateCaption((a=g[b])==null?void 0:a.name)})):d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["PollAttachMediaPicker: receive empty attachments"])));n=k.jsx(d("WAWebPollAttachMediaViewLoadable.react").PollAttachMediaViewLoadable,{chat:e,onSend:n,onCancel:a,mediaCollection:o,getComposeBoxEditorRef:f,question:j,options:g,allowMultipleMedia:l,activeOptionIndex:m});d("WAWebModalManager").ModalManager.openMedia(n,{transition:"menu"})},o=c("useWAWebUIM")(),p=function(){o==null||o.requestDismiss()};a=function(a){if(!a){p();return}a.stopPropagation();a=Array.from((a=a.target.files)!=null?a:[]);p();if(!a.length)return;void n({attachments:a.map(function(a){return{file:a}})})};return k.jsx(c("WAWebFilePicker.react"),{ref:b,mimes:d("WAWebMimeTypes").IMAGE_MIMES,onChange:a,multiple:l})}a.displayName=a.name+" [from "+f.id+"]";g.PollAttachMediaPicker=a}),226);
__d("WAWebPollsOptionInput",["fbt","WAWebDragIconWrapper.react","WAWebImageRefreshedIcon.react","WAWebImg.react","WAWebPollsGatingUtils","WAWebRichTextField.react","WAWebSvgComponentBase","WAWebUISpacing","WAWebUnstyledButton.react","WAWebXAltIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={photoPreview:{width:"x15yg21f",height:"xnnlda6",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",justifyContent:"xl56j7k",alignItems:"x6s0dn4",display:"x78zum5",backgroundColor:"x1pl83jw",flexShrink:"x2lah0s",objectFit:"xl1xv1r",$$css:!0},deleteBtn:{position:"x10l6tqk",zIndex:"x11uqc5h",color:"x7o08j2",opacity:"xg01cxk",transition:"xid8q7e",":hover_opacity":"x1o7uuvo",$$css:!0},deleteIcon:{stroke:"x1b4pc8b",strokeWidth:"x1ns0lul",$$css:!0}};function a(a){var b=a.chat,e=a.error,f=a.image,g=a.initialText,i=a.isPhotoPoll;i=i===void 0?!1:i;var k=a.onChange,m=a.onDeletePhoto,n=a.onDragThumbMouseDown,o=a.onInputBlur,p=a.onInputFocus,q=a.onPhotoIconClick,r=a.onPhotoThumbnailClick,s=a.onTextInputRef;a=a.testid;a=d("WAWebPollsGatingUtils").isPhotoPollSenderEnabled(b)?h._(/*BTDS*/"Add text or photo"):h._(/*BTDS*/"Add text");return j.jsxs("div",{className:"xh8yej3 x78zum5 x1q0g3np x6s0dn4",children:[j.jsx("div",{className:"xh8yej3 x78zum5 x6s0dn4",children:j.jsx("div",{className:"xh8yej3",children:j.jsx(d("WAWebRichTextField.react").RichTextField,{ref:function(a){s(a)},onPhotoIconClick:q,testid:void 0,hideFloatingLabel:!0,showRemaining:!0,emojiBtnPosition:"side",photoBtnPosition:d("WAWebPollsGatingUtils").isPhotoPollSenderEnabled(b)&&!i?"side":"none",textFormatEnabled:!0,value:g,error:e!=null?e:void 0,maxLength:d("WAWebPollsGatingUtils").getMaxPollOptionLength(),maxCodeUnits:d("WAWebPollsGatingUtils").getMaxPollOptionLengthForIncomingMessages(),placeholder:a,onChange:function(a){a=a.text;return k(a)},onDragThumbMouseDown:n,onFocus:p,onBlur:o,showDraggableIcon:i})})}),i?j.jsxs(j.Fragment,{children:[j.jsx(l,{image:f,onDeletePhoto:m,onClick:r}),j.jsx("div",{className:"xlese2p",children:j.jsx(c("WAWebDragIconWrapper.react"),{onDragThumbMouseDown:n})})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.image,e=a.onClick;a=a.onDeletePhoto;return j.jsxs("div",{children:[(b==null?void 0:b.preview)&&j.jsx(c("WAWebUnstyledButton.react"),{role:"button",xstyle:[k.deleteBtn,d("WAWebUISpacing").uiMargin.start48,d("WAWebUISpacing").uiMargin.bottom48],onClick:a,children:j.jsx(d("WAWebXAltIcon.react").XAltIcon,{xstyle:k.deleteIcon})}),j.jsx(c("WAWebUnstyledButton.react"),{xstyle:[k.photoPreview,d("WAWebUISpacing").uiMargin.start16],onClick:e,children:b!=null&&b.preview?j.jsx(c("WAWebImg.react"),{src:b==null?void 0:b.preview,alt:"",className:"x15yg21f xnnlda6 x1obq294 x5a5i1n xde0f50 x15x8krk xl56j7k x6s0dn4 x78zum5 x1pl83jw x2lah0s xl1xv1r"}):j.jsx(d("WAWebImageRefreshedIcon.react").ImageRefreshedIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.GRAY,width:15,height:15})})]})}l.displayName=l.name+" [from "+f.id+"]";g.OptionInput=a}),226);
__d("WAWebPollsOrderableList",["WANullthrows","react","useLazyRef","useWAWebDebouncedCallback","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.items,e=a.renderItem,f=a.onReordered,g=l(null),h=c("useLazyRef")(function(){return new Map()}),i=l(0);a=m();var k=a[0],p=a[1];a=m(null);var q=a[0],r=a[1];a=m(null);var s=a[0],t=a[1];a=m(null);var u=a[0],v=a[1],w=u!=null,x=u==null||s==null||k==null?b:n({items:u,draggedItemKey:q,getItemHeight:function(a){return(a=(a=k.get(a.key))==null?void 0:a.height)!=null?a:0},dragPosition:s}),y=function(a){var b=g.current;if(b==null)return null;var c=h.current;c=c.get(a);if(c==null)return null;a=b.getBoundingClientRect().y;b=c.getBoundingClientRect();return{clientTop:b.top,startTop:b.top-a,height:b.height}},z=function(){var c=new Map();for(var a of b)c.set(a.key,y(a.key));p(c)};a=function(a){var b=g.current;if(b==null)return;a=a.clientY-b.getBoundingClientRect().y;t(a)};d("useWAWebListener").useListener(q==null?null:document,"mousemove",a);var A=c("useWAWebDebouncedCallback")(function(){v(null),p(null)},300),B=function(a,c){var d;if(u!=null)return;d=(d=y(a))==null?void 0:d.clientTop;if(d==null)return;i.current=d-c.clientY;z();r(a);v(b)};d("useWAWebListener").useListener(q==null?null:document,"mouseup",function(a){A(),f(x),r(null),t(null)});o(q!=null);var C=null,D=0,E=0;if(k!=null){C=new Map();a=0;for(var F of x){var G=k.get(F.key);if(G==null)continue;var H=a;C.set(F.key,H);D=H;a+=G.height}}H=(u!=null?u:b).map(function(a,d){var b=k==null?void 0:k.get(a.key);if(a.key===q&&s!=null){var f,g=c("WANullthrows")(b==null?void 0:b.startTop);f=(f=i.current)!=null?f:0;f=Math.min(Math.max(E,s+f),D);f=f-g}else{g=b==null?void 0:b.startTop;b=(b=C)==null?void 0:b.get(a.key);f=!w||b==null||g==null?0:b-g}return j.jsx("div",{ref:function(b){b==null?h.current["delete"](a.key):h.current.set(a.key,b)},className:{0:"xh8yej3",1:"xh8yej3 x11xpdln x13dflua xz4gly6"}[!!(q!==a.key&&w)<<0],style:{transform:"translateY("+f+"px)"},children:e({item:a,startDrag:B,index:d})},a.key)});return j.jsx("div",{ref:g,className:"x78zum5 xdt5ytf",children:H})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.items,c=a.draggedItemKey,d=a.getItemHeight;a=a.dragPosition;var e=c!=null?b.find(function(a){return a.key===c}):null;if(e==null||a==null)return b;var f=[].concat(b),g=f.findIndex(function(a){return a.key===c});f.splice(g,1);g=0;var h=0,i=0;for(b of b){a>g&&(i=h);var j=d(b);g+=j;h++}f.splice(i,0,e);return f}function o(a){k(function(){if(!a)return;var b=document;b=b.body;if(b==null)return;var c=document.createElement("div");c.className="xi9pz9s xixxii4 x13vifvy x1o0tod xh8yej3 x5yr21d x1lfen1e";b.appendChild(c);return function(){c.remove()}},[a])}g.OrderableList=a}),98);
__d("WAWebPollsSendPollCreationMsgAction",["Promise","WALogger","WATimeUtils","WAWebAck","WAWebChatGetters","WAWebFrontendChatGetters","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebLidMigrationUtils","WAWebMessageAssociation.flow","WAWebMsgKey","WAWebMsgKeyUtils","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollCreationUtils","WAWebPollOptionHashUtils","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebViewMode.flow","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=[];a.contentType===d("WAWebPollCreationUtils").PollContentType.IMAGE&&(c=(yield (i||(i=b("Promise"))).all(a.options.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.image;b=(yield b.mediaPrep.waitForPrep());return d("WAWebPollOptionHashUtils").generatePollOptionHash(a.name,b.filehash)});return function(b){return a.apply(this,arguments)}}()))));return a.options.map(function(a,b){a=a.name;var e=b;b=c[b];return{name:d("WAXplatTrim").trim(a),localId:e,hash:b}})});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return{pollName:d("WAXplatTrim").trim(a.name),pollOptions:yield j(a),pollSelectableOptionsCount:a.selectableOptionsCount,pollContentType:a.contentType}});return m.apply(this,arguments)}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.poll,f=a.chat,g=a.quotedMsg;a=a.isWamoSub;g=(yield o({poll:e,chat:f,quotedMsg:g,isWamoSub:a}));if(e.contentType===d("WAWebPollCreationUtils").PollContentType.IMAGE){var j={associationType:d("WAWebMessageAssociation.flow").MessageAssociationType.MEDIA_POLL,parentMsgKey:g.id,viewMode:d("WAWebViewMode.flow").ViewModeType.POLL_MEDIA,isWamoSub:a};e.options.forEach(function(a){var b=a.image;a=babelHelpers["extends"]({},j,{type:b.type,caption:a.name});d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendPollCreation: before sendToChat"])));void b.sendToChat(f,a)})}a=c("WAWebWid").isNewsletter(f.id);a=a?yield d("WAWebNewsletterSendMsgAction").sendNewsletterPollCreationMsg({msgData:g,chat:f}):yield (i||(i=b("Promise"))).all(d("WAWebSendMsgChatAction").addAndSendMsgToChat(f,g));g=a[0];d("WAWebPollsActionsMetricUtils").commitPollsActionsMetric({action:d("WAWebWamEnumPollActionType").POLL_ACTION_TYPE.CREATE_POLL,chat:f,creationDateInSeconds:g.t,pollOptionsCount:e.options.length})});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.poll,e=a.chat,f=a.quotedMsg;a=a.isWamoSub;b=(yield l(b));var g=b.pollName,h=b.pollOptions,i=b.pollSelectableOptionsCount;b=b.pollContentType;var j=c("WAWebWid").isNewsletter(e.id),k=e.id,m=d("WAWebLidMigrationUtils").getMeUserLidOrJidForChat(e,d("WAWebMsgKeyUtils").TranslateMsgKeyType.Message);f=(f=f==null?void 0:f.msgContextInfo(e.id))!=null?f:{};return babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({from:m,to:k,id:c("WAWebMsgKey").newId_DEPRECATED(),participant:d("WAWebChatGetters").getIsGroup(e)?d("WAWebWidFactory").asUserWidOrThrow(m):void 0,selfDir:"out"}),type:d("WAWebMsgType").MSG_TYPE.POLL_CREATION,kind:d("WAWebMsgType").MsgKind.PollCreation,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,isSentCagPollCreation:d("WAWebFrontendChatGetters").getIsCAG(e)?!0:void 0,t:d("WATimeUtils").unixTime(),from:m,to:k,isNewMsg:!0,local:!0,ack:d("WAWebAck").ACK.CLOCK,pollName:g,pollOptions:h,messageSecret:j?void 0:self.crypto.getRandomValues(new Uint8Array(32)),pollSelectableOptionsCount:i,isWamoSub:a,pollContentType:b},f,d("WAWebGetEphemeralFieldsMsgActionsUtils").getEphemeralFields(e))});return p.apply(this,arguments)}g.sendPollCreation=a;g.createPollCreationMsgData=o}),98);
__d("WAWebPollsCreatePollModal",["fbt","WANullthrows","WAWebAttachMediaCollection","WAWebAttachmentMenuLogger","WAWebBizBotTosUtils","WAWebChatGetters","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFrontendChatGetters","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebModalManager","WAWebNewsletterGatingUtils","WAWebNewsletterWamoSubMessageType","WAWebNewsletterWamoSubMessageTypePopup.react","WAWebNewsletterWamoSubUtils","WAWebPollAttachMediaPicker.react","WAWebPollAttachMediaViewLoadable.react","WAWebPollOptionsRenderUtils","WAWebPollsActionsMetricUtils","WAWebPollsGatingUtils","WAWebPollsOptionInput","WAWebPollsOrderableList","WAWebPollsSendPollCreationMsgAction","WAWebRichTextField.react","WAWebRound.react","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebWdsIcSendFilledIcon.react","WDSSwitch.react","asyncToGeneratorRuntime","react","stylex","useLazyRef","useWAWebChatValues","useWAWebOnUnmount","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useCallback,n=e.useEffect,o=e.useLayoutEffect,p=e.useMemo,q=e.useRef,r=e.useState,s={bodyContainer:{boxSizing:"x9f619",width:"x1esq4s8",paddingInlineStart:"xvahy20",paddingInlineEnd:"x1a4sjiy",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},sectionTitle:{fontSize:"xlm9qay",fontWeight:"xk50ysn",$$css:!0},createPollButtonContainer:{width:"xh8yej3",display:"x78zum5",justifyContent:"x13a6bvl",height:"xwvwv9b",backgroundColor:"x1jn9dgz",$$css:!0},optionsContainer:{overflowY:"x1odjw0f",$$css:!0},drawer:{backgroundColor:"xtx9xyc",marginInlineStart:"x137kccz",width:"x14n2pz4",$$css:!0},sendButton:{transform:"x1cb1t30",marginInlineEnd:"x1wcu8vx",transitionProperty:"xs2xxs2",transitionDuration:"x1d8287x",$$css:!0},sendButtonRefreshed:{color:"x1pse0pq",backgroundColor:"xfn3atn",$$css:!0},singleOptionContainer:{display:"x78zum5",alignItems:"x6s0dn4",width:"xh8yej3",fontSize:"x1jchvi3",lineHeight:"xdod15v",$$css:!0},singleOptionLabel:{width:"xh8yej3",display:"x1rg5ohu",cursor:"x1ypdohk",$$css:!0}};function a(a){var e=a.chat,f=a.getComposeBoxEditorRef,g=a.initialOptions,i=a.initialQuestion,k=a.onSend;a=c("useLazyRef")(function(){var a;return d("WAWebPollsGatingUtils").isPrefillPollQuestionEnabled()?(a=(a=f())==null||(a=a.getTextContent())==null?void 0:a.substring(0,d("WAWebPollsGatingUtils").getMaxPollNameLength()))!=null?a:"":""}).current;var t=r(a),u=t[0],v=t[1];t=r(!1);var w=t[0],x=t[1],y=q();t=r(void 0);var z=t[0],A=t[1];t=r(!1);var B=t[0],C=t[1];t=r(!1);var D=t[0],E=t[1];t=r(null);var F=t[0],G=t[1];t=(t=d("useWAWebChatValues").useOptionalChatValues(e.id,[d("WAWebChatGetters").getIsNewsletter,d("WAWebFrontendChatGetters").getNewsletterMetadata]))!=null?t:[!1,null];var H=t[0],aa=t[1],I=d("WAWebPollsGatingUtils").getMaxPollOptionCount();t=r(function(){return d("WAWebPollOptionsRenderUtils").formatOptions(g!=null?g:[],{maxOptionsCount:I})});var J=t[0],ba=t[1],K=q(new Map()),L=q(null),M=q(),N=c("useWAWebUIM")();t=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();var O=m(function(a,b){ba(d("WAWebPollOptionsRenderUtils").formatOptions(a,{maxOptionsCount:I,focusedKey:b}))},[I]);n(function(){d("WAWebPollsActionsMetricUtils").commitPollOpenCreationModal(e)},[]);var P=q(),Q=q(J.length);o(function(){var a=L.current,b=Q.current,c=J.findIndex(function(a){return a.key===P.current});a!=null&&b<J.length&&c===J.length-2&&J[J.length-1].name===""&&a.scroll({top:a.scrollHeight,behavior:"smooth"});Q.current=J.length},[J]);var ca=function(a){a=a.text;v(a)},R=J.some(function(a){return a.image!=null}),S=p(function(){return d("WAWebPollOptionsRenderUtils").validateOptions(J)},[J]);n(function(){e.isComposingPoll=u.length>0||J.some(function(a){return a.name.length>0})},[e,u,J]);c("useWAWebOnUnmount")(function(){e.isComposingPoll=!1});var T=J[I-2],U=J[I-1];T=J.length===I&&!d("WAWebPollOptionsRenderUtils").isEmptyAfterTrimming(T)&&d("WAWebPollOptionsRenderUtils").isEmptyAfterTrimming(U);var V=q(),W=function(a){a===void 0&&(a=!1),d("WAWebModalManager").ModalManager.close(),a&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL)},X=u!==""||J.some(function(a){return a.name!==""||a.image}),Y=function(){X&&d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()?C(!0):W(!0)};U=function(){X&&d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()?B||C(!0):W(!0)};var Z=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){E(!0);W(!1);yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(e);var b=J.filter(function(a){return!d("WAWebPollOptionsRenderUtils").isEmptyAfterTrimming(a)}),g={name:u,selectableOptionsCount:w?1:0};g=R?babelHelpers["extends"]({},g,{contentType:"IMAGE",options:b.map(function(a){var b=a.name;a=a.image;return{name:b,image:c("WANullthrows")(a)}})}):babelHelpers["extends"]({},g,{contentType:"TEXT",options:b.map(function(a){a=a.name;return{name:a}})});void d("WAWebPollsSendPollCreationMsgAction").sendPollCreation({poll:g,chat:e,quotedMsg:d("WAWebPollsGatingUtils").arePollsFastFollowsEnabled()?e.composeQuotedMsg:null,isWamoSub:a===d("WAWebNewsletterWamoSubMessageType").NewsletterWamoSubMessageType.WamoSub});e.composeQuotedMsg=null;e.setComposeContents({});(b=f())==null||b.reset();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL)});return function(b){return a.apply(this,arguments)}}(),da=function(){if(H&&d("WAWebNewsletterWamoSubUtils").newsletterSupportsSubscriptions(aa)&&M.current&&d("WAWebNewsletterGatingUtils").isWamoSubCreatorExperienceSupported()){var a=function(a){void Z(a)};G({popupAnchorEl:M.current,handleSelect:a})}else void Z();k==null||k()},ea=function(){var a=d("WAWebPollOptionsRenderUtils").validatePoll({question:u,options:J,isPhotoPoll:R});if(a!=null){d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:a}));return}da()},$=p(function(){return{chat:e,getComposeBoxEditorRef:f,options:J}},[e,f,J]),fa=m(function(a,b){var c=[].concat(J);c[a]=babelHelpers["extends"]({},J[a],{image:void 0});O(c,b)},[J,O]),ga=m(function(a){var b=J[a],f=babelHelpers["extends"]({question:u,allowMultipleMedia:!1,activeOptionIndex:a},$);if(b.image){var g=b.image,h=new(c("WAWebAttachMediaCollection"))({chatParticipantCount:e.getParticipantCount()});h.add(g);h.forEach(function(a){a.updateCaption(b.name)});h.setActive(g);N==null||N.requestDismiss();g=l.jsx(d("WAWebPollAttachMediaViewLoadable.react").PollAttachMediaViewLoadable,babelHelpers["extends"]({mediaCollection:h},f));d("WAWebModalManager").ModalManager.openMedia(g,{transition:"menu"})}else{A(a);(h=y.current)==null||h.open()}},[e,$,J,u,N]);return l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{esc:function(a){a.stopPropagation(),Y()}},children:[l.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,testid:void 0,onOverlayClick:U,children:l.jsxs(c("WAWebDrawer.react"),{xstyle:s.drawer,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Create poll"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:Y}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(s.bodyContainer,d("WAWebUISpacing").uiPadding.top32),{children:[l.jsx("span",{className:"xlm9qay xk50ysn",children:h._(/*BTDS*/"Question")}),l.jsx(d("WAWebRichTextField.react").RichTextField,{ref:V,testid:void 0,focusOnMount:!0,hideFloatingLabel:!0,showRemaining:!0,emojiBtnPosition:"side",textFormatEnabled:!0,value:i!=null?i:a,maxLength:d("WAWebPollsGatingUtils").getMaxPollNameLength(),maxVisibleLines:5,maxCodeUnits:d("WAWebPollsGatingUtils").getMaxPollNameLengthForIncomingMessages(),onChange:ca,placeholder:h._(/*BTDS*/"Ask question")}),l.jsx("span",babelHelpers["extends"]({},j.props(s.sectionTitle,d("WAWebUISpacing").uiMargin.top25),{children:h._(/*BTDS*/"Options")})),l.jsx("div",babelHelpers["extends"]({ref:L},j.props(s.optionsContainer,d("WAWebUISpacing").uiMargin.top2,d("WAWebUISpacing").uiMargin.bottom10),{children:l.jsx(d("WAWebPollsOrderableList").OrderableList,{items:J,onReordered:O,renderItem:function(a){var b=a.startDrag,c=a.item,f=a.index;return l.jsx(d("WAWebPollsOptionInput").OptionInput,{chat:e,onPhotoThumbnailClick:function(){ga(f)},onPhotoIconClick:function(){var a;return(a=y.current)==null?void 0:a.open()},initialText:c.name,error:S.get(c.key),testid:void 0,onTextInputRef:function(a){a?K.current.set(c.key,a):K.current["delete"](c.key)},isPhotoPoll:R,onChange:function(a){var b=[].concat(J);b[f]=babelHelpers["extends"]({},c,{name:a});O(b,c.key)},onDeletePhoto:function(){fa(f,c.key)},onDragThumbMouseDown:function(a){if(a.button!==0)return;b(c.key,a)},onInputFocus:function(){P.current=c.key},onInputBlur:function(){P.current=null},image:c.image})}})})),l.jsx("h3",{"data-testid":void 0,className:{0:"x1nxh6w3",1:"x1nxh6w3 xlshs6z"}[!!!T<<0],children:h._(/*BTDS*/"You can add one more option.")}),d("WAWebPollsGatingUtils").isSingleOptionPollsSendingEnabled(e.id)&&l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(s.singleOptionContainer,d("WAWebUISpacing").uiPadding.bottom20),{children:[l.jsx("label",babelHelpers["extends"]({htmlFor:"polls-single-option-switch"},(j||(j=c("stylex"))).props(s.singleOptionLabel,d("WAWebUISpacing").uiPadding.vert4),{children:h._(/*BTDS*/"Allow multiple answers")})),l.jsx(c("WDSSwitch.react"),{id:"polls-single-option-switch",value:!w,onChange:function(){x(!w)},testid:void 0})]}))]}))}),l.jsx("div",babelHelpers["extends"]({},j.props(s.createPollButtonContainer,d("WAWebUISpacing").uiMargin.top30),{children:l.jsxs(d("WAWebRound.react").Round,{ref:M,xstyle:[s.sendButton,t&&s.sendButtonRefreshed],theme:d("WAWebRound.react").RoundTheme.DrawerFooter,large:!0,onClick:ea,disabled:S.size!==0||D,label:h._(/*BTDS*/"Send"),testid:void 0,children:[l.jsx(d("WAWebWdsIcSendFilledIcon.react").WdsIcSendFilledIcon,{width:28,directional:!0})," "]})})),F!=null&&l.jsx(d("WAWebNewsletterWamoSubMessageTypePopup.react").NewsletterWamoSubMessageTypePopup,{handleSelect:F.handleSelect,popupAnchorEl:F.popupAnchorEl,onDismiss:function(){return G(null)}})]})}),d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()&&B&&l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cancelButtonType:"warning-secondary",title:h._(/*BTDS*/"Leave poll?"),okText:h._(/*BTDS*/"Keep editing"),onOK:function(){var a;C(!1);(a=V.current)==null||a.restoreFocus()},cancelText:h._(/*BTDS*/"Leave"),onCancel:function(){W(!0)},onOverlayClick:U,children:h._(/*BTDS*/"Your edits won't be saved.")}),l.jsx(d("WAWebPollAttachMediaPicker.react").PollAttachMediaPicker,{mediaPickerRef:y,chat:e,options:J,getComposeBoxEditorRef:f,question:u,allowMultipleMedia:!R,activeOptionIndex:z!=null?z:void 0})]})}a.displayName=a.name+" [from "+f.id+"]";g.CreatePollModal=a}),226);
__d("WAWebAttachMenuPopupItemPolls.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPollRefreshedIcon.react","WAWebPollsCreatePollModal","WAWebPollsGatingUtils","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={refreshedIcon:{color:"xxeg2eo",$$css:!0}};function a(a){var b=a.chat,c=a.getComposeBoxEditorRef;a=i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H11C12.1046 0 13 0.895431 13 2C13 3.10457 12.1046 4 11 4H2C0.89543 4 0 3.10457 0 2ZM0 8C0 6.89543 0.895431 6 2 6H14C15.1046 6 16 6.89543 16 8C16 9.10457 15.1046 10 14 10H2C0.895431 10 0 9.10457 0 8ZM2 12C0.895431 12 0 12.8954 0 14C0 15.1046 0.89543 16 2 16H8C9.10457 16 10 15.1046 10 14C10 12.8954 9.10457 12 8 12H2Z",fill:"var(--attachment-type-polls-color)"})});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:function(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebPollsCreatePollModal").CreatePollModal,{chat:b,getComposeBoxEditorRef:c}),{blockClose:d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()});void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL);return!0},icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?i.jsx(d("WAWebPollRefreshedIcon.react").PollRefreshedIcon,{iconXstyle:j.refreshedIcon}):a,text:d("WAWebAttachMenuStrings").PollText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemPolls=a}),98);
__d("WAWebQuestionsInputModalLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","WAWebModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebQuestionsInputModal.react").__setRef("WAWebQuestionsInputModalLoadable").load());return a.QuestionsInputModal}),"QuestionsInputModal");e=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{theme:d("WAWebModal.react").ModalTheme.Questions,title:h._(/*BTDS*/"Question input modal"),error:Boolean(a.error)})}});g.QuestionsInputModalLoadable=e}),226);
__d("WAWebAttachMenuPopupItemQuestion.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebIcHelpFilledIcon.react","WAWebModalManager","WAWebPrepareMessageSendingAction","WAWebQuestions.flow","WAWebQuestionsInputModalLoadable","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={icon:{color:"x11i6shi",$$css:!0}};function a(a){var b=a.chat,c=a.getComposeBoxEditorRef;return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:function(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebQuestionsInputModalLoadable").QuestionsInputModalLoadable,{chat:b,getComposeBoxEditorRef:c,questionType:d("WAWebQuestions.flow").QuestionType.Question}));void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);return!0},icon:i.jsx(d("WAWebIcHelpFilledIcon.react").IcHelpFilledIcon,{xstyle:j.icon}),text:d("WAWebAttachMenuStrings").QuestionText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemQuestions=a}),98);
__d("WAWebBoltFilledIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="bolt-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M8.99997 15H5.89997C5.49997 15 5.20414 14.8209 5.01247 14.4625C4.8208 14.1042 4.84164 13.7584 5.07497 13.425L12.55 2.67503C12.7166 2.44169 12.9333 2.27919 13.2 2.18753C13.4666 2.09586 13.7416 2.10003 14.025 2.20003C14.3083 2.30003 14.5166 2.47503 14.65 2.72503C14.7833 2.97503 14.8333 3.24169 14.8 3.52503L14 10H17.875C18.3083 10 18.6125 10.1917 18.7875 10.575C18.9625 10.9584 18.9083 11.3167 18.625 11.65L10.4 21.5C10.2166 21.7167 9.99164 21.8584 9.72497 21.925C9.4583 21.9917 9.19997 21.9667 8.94997 21.85C8.69997 21.7334 8.50414 21.5542 8.36247 21.3125C8.2208 21.0709 8.16664 20.8084 8.19997 20.525L8.99997 15Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BoltFilledIcon=a}),98);
__d("WAWebAttachMenuPopupItemQuickReplies.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebBoltFilledIcon.react","WAWebComposeBoxActions","WAWebLightningIcon.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={icon:{color:"x1ev1nr0",$$css:!0}};function a(a){var b=a.chat;a=function(a){a.preventDefault();d("WAWebComposeBoxActions").ComposeBoxActions.toggleQuickReplies();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.QUICK_REPLY);return!0};var c=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?i.jsx(d("WAWebBoltFilledIcon.react").BoltFilledIcon,{iconXstyle:j.icon}):i.jsx(d("WAWebLightningIcon.react").LightningIcon,{width:20,height:20,iconXstyle:j.icon});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:c,text:d("WAWebAttachMenuStrings").QuickRepliesText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemQuickReplies=a}),98);
__d("WAWebStickerCreateFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="sticker-create-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{opacity:.9,fillRule:"evenodd",clipRule:"evenodd",d:"M14 21.6814C15.0541 21.3509 16.024 20.7715 16.8221 19.9799L19.8489 16.9776C20.8807 15.9542 21.5742 14.6537 21.8569 13.25H18C15.7909 13.25 14 15.0409 14 17.25V21.6814ZM12 22H9.27273C5.25611 22 2 18.7439 2 14.7273V9.27273C2 5.25611 5.25611 2 9.27273 2H14.7273C18.7439 2 22 5.25611 22 9.27273V11.25H18C14.6863 11.25 12 13.9363 12 17.25V22ZM9 5C8.44772 5 8 5.44772 8 6V8H6C5.44772 8 5 8.44772 5 9C5 9.55229 5.44772 10 6 10H8V12C8 12.5523 8.44772 13 9 13C9.55228 13 10 12.5523 10 12V10H12C12.5523 10 13 9.55228 13 9C13 8.44772 12.5523 8 12 8H10V6C10 5.44772 9.55228 5 9 5Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StickerCreateFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemStickers.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMimeTypes","WAWebPrepareMessageSendingAction","WAWebStickerCreateFilledRefreshedIcon.react","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcStickerMakerEventNameType","WAWebWebcStickerMakerEventsWamEvent","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={refreshedIcon:{color:"x1w53qhl",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.onMediaPick,g=k();a=function(a){a.preventDefault();a=g.current;if(a){new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit();a.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER);return!1}return!1};var h=function(a){if(!a){e();return}a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);e();if(!a.length)return;new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit();f(a.map(function(a){return{file:a,stickerMaker:!0}}))},i=j.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23C20.7614 23 23 20.7614 23 18C23 15.2386 20.7614 13 18 13C15.2386 13 13 15.2386 13 18C13 20.7614 15.2386 23 18 23ZM17.25 15.75C17.25 15.3358 17.5858 15 18 15C18.4142 15 18.75 15.3358 18.75 15.75V17.25H20.25C20.6642 17.25 21 17.5858 21 18C21 18.4142 20.6642 18.75 20.25 18.75H18.75V20.25C18.75 20.6642 18.4142 21 18 21C17.5858 21 17.25 20.6642 17.25 20.25V18.75H15.75C15.3358 18.75 15 18.4142 15 18C15 17.5858 15.3358 17.25 15.75 17.25H17.25V15.75Z",fill:"var(--attachment-type-stickers-color)"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7C2 4.23858 4.23858 2 7 2H17C19.7614 2 22 4.23858 22 7V12.2547C20.8662 11.4638 19.4872 11 18 11C14.134 11 11 14.134 11 18C11 19.4872 11.4638 20.8662 12.2547 22H7C4.23858 22 2 19.7614 2 17V7ZM14 9.5L14.7812 7.78125L16.5 7L14.7812 6.21875L14 4.5L13.2188 6.21875L11.5 7L13.2188 7.78125L14 9.5ZM8 8.5L9.25 11.25L12 12.5L9.25 13.75L8 16.5L6.75 13.75L4 12.5L6.75 11.25L8 8.5Z",fill:"var(--attachment-type-stickers-color)"})]});return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebStickerCreateFilledRefreshedIcon.react").StickerCreateFilledRefreshedIcon,{iconXstyle:l.refreshedIcon}):i,text:d("WAWebAttachMenuStrings").StickerMakerText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:g,mimes:d("WAWebMimeTypes").IMAGE_MIMES,onChange:h,multiple:!1})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemStickers=a}),98);
__d("WAWebBusinessAddPixModalLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizPaymentsBrazilAddPixModal.react").__setRef("WAWebBusinessAddPixModalLoadable").load());return a.WAWebBizPaymentsBrazilAddPixModal}),"WAWebBizPaymentsBrazilAddPixModal");d=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingModal.react"),{error:Boolean(a.error)})}});g.WAWebBizPaymentsBrazilAddPixModalLoadable=d}),98);
__d("WAWebSendPaymentRequestFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebSendPaymentRequestFlow.react").__setRef("WAWebSendPaymentRequestFlowLoadable").load());return a}),"SendPaymentRequestFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingModal.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.SendPaymentRequestFlowLoadable=d}),98);
__d("WAWebSendPixConfirmModalLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebSendPixConfirmModal.react").__setRef("WAWebSendPixConfirmModalLoadable").load());return a.WAWebSendPixConfirmModal}),"WAWebSendPixConfirmModal");d=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingModal.react"),{error:Boolean(a.error)})}});g.WAWebSendPixConfirmModalLoadable=d}),98);
__d("WAWebAttachMenuPopupPix.react",["PixPaymentRequestFeature","WAWebAttachMenuPopupItem.react","WAWebBizOrderDetailsParams","WAWebBusinessAddPixModalLoadable","WAWebModalManager","WAWebPixLogoIcon.react","WAWebSendPaymentRequestFlowLoadable","WAWebSendPixConfirmModalLoadable","WAWebUserPrefsCustomPaymentMethods","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b={iconBackground:{opacity:"xg01cxk",$$css:!0},iconPrimary:{fill:"xfifr3o",$$css:!0}};e={shiftLeft:{transform:"x1gz8ohu",$$css:!0}};var j=i.jsx(d("WAWebPixLogoIcon.react").PixLogoIcon,{height:24,width:24,iconXstyle:e.shiftLeft,innerStyles:{background:b.iconBackground,primary:b.iconPrimary}});function a(a){var b=a.chat;a=function(){var a=d("WAWebUserPrefsCustomPaymentMethods").getPIX(),c=a!=null;d("PixPaymentRequestFeature").isPixPaymentRequestEnabled()?d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebSendPaymentRequestFlowLoadable").SendPaymentRequestFlowLoadable,{chat:b,previousScreen:"chat",referral:"chat_attachment"}),{transition:"modal-flow"}):c&&a?d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebSendPixConfirmModalLoadable").WAWebSendPixConfirmModalLoadable,{chat:b,pixData:a,referral:d("WAWebBizOrderDetailsParams").OrderReferral.CHAT_ATTACHMENT})):d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebBusinessAddPixModalLoadable").WAWebBizPaymentsBrazilAddPixModalLoadable,{previousScreen:"chat",referral:"chat_attachment"}));return!0};return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:j,text:"Pix"})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemPix=a}),98);
__d("WAWebAttachMenuUtils",["WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebChatGetters","WAWebConnModel","WAWebContactGetters","WAWebL10NCountryCodes","WAWebLidMigrationUtils","WAWebLinkedCatalogHelper","WAWebProductCatalogMetaLinkingGatingUtils","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){function a(a){if(d("WAWebChatGetters").getIsNewsletter(a))return!1;a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());return!h()||d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(a)||d("WAWebProductCatalogMetaLinkingGatingUtils").shouldDisableCatalogDueToMetaLinkingForSelf()?!1:!0}function b(){return d("WAWebProductCatalogMetaLinkingGatingUtils").shouldShowMetaLinkedDisabledCatalogTooltipForSelf()}function c(a){if(!d("WAWebConnModel").Conn.isSMB||d("WAWebChatGetters").getIsGroup(a)||d("WAWebChatGetters").getIsNewsletter(a))return!1;if(d("WAWebLinkedCatalogHelper").shouldHideComponentForSMBLinkedCatalog())return!1;if(d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled())return!0;a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());return d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()&&d("WAWebBusinessProfileUtils").hasCatalog(a)}function h(){if(!d("WAWebConnModel").Conn.isSMB)return!1;var a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());return!d("WAWebBusinessProfileUtils").hasShop(a)}function e(a){var b=d("WAWebLidMigrationUtils").toPn(a.contact.id);b=d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(b==null?void 0:b.user);return!d("WAWebConnModel").Conn.isSMB||d("WAWebChatGetters").getIsGroup(a)||d("WAWebContactGetters").getIsMe(a.contact)||b!=="BR"||a.contact.isEnterprise?!1:!0}g.shouldShowCatalogOption=a;g.shouldShowDisabledCatalogOption=b;g.canSendOrder=c;g.canSendPix=e}),98);
__d("WAWebAttachMenuPopup.react",["WAWebAttachMenuPopupItemAudio.react","WAWebAttachMenuPopupItemCamera.react","WAWebAttachMenuPopupItemCatalog.react","WAWebAttachMenuPopupItemContacts.react","WAWebAttachMenuPopupItemDocuments.react","WAWebAttachMenuPopupItemEvents","WAWebAttachMenuPopupItemOrders.react","WAWebAttachMenuPopupItemPhotos.react","WAWebAttachMenuPopupItemPolls.react","WAWebAttachMenuPopupItemQuestion.react","WAWebAttachMenuPopupItemQuickReplies.react","WAWebAttachMenuPopupItemStickers.react","WAWebAttachMenuPopupPix.react","WAWebAttachMenuUtils","WAWebAttachmentMenuLogger","WAWebBizGatingUtils","WAWebChatGetters","WAWebCmd","WAWebContactGetters","WAWebMediaGatingUtils","WAWebModalManager","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebQuestions.flow","WAWebQuestionsGatingUtils","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebWamEnumMediaPickerOriginType","react","stylex","useWAWebChatValues","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react");function a(a){var b=a.chat,e=a.getComposeBoxEditorRef,f=a.getComposeContents,g=a.onMenuComplete,h=a.questionReplyQuotedMessage,k=a.questionType;a=d("useWAWebChatValues").useChatValues(b.id,[d("WAWebChatGetters").getIsNewsletter]);a=a[0];var m=c("useWAWebUIM")(),n=function(){m==null||m.requestDismiss()},o=function(a){var c=a.attachments,e=a.sendAsSticker;e=e===void 0?!1:e;var i=a.onSend;a=a.onCancel;d("WAWebCmd").Cmd.attachMediaDrawer({chat:b,attachments:c,fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:f==null?void 0:f(),onComplete:function(a,b){g(a,b)},onSend:i,onCancel:a,sendAsSticker:e,isQuestion:k===d("WAWebQuestions.flow").QuestionType.Question,questionReplyQuotedMessage:h})},p=d("WAWebAttachMenuUtils").shouldShowDisabledCatalogOption(),q=d("WAWebAttachMenuUtils").shouldShowCatalogOption(b),r=d("WAWebBizGatingUtils").canSendQuickReplyInChat(b),s=d("WAWebAttachMenuUtils").canSendOrder(b)&&!d("WAWebContactGetters").getIsMe(b.contact),t=q||r||s,u=d("WAWebMediaGatingUtils").getSupportedMediaTypesForChat(b),v=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),w=[];if(k==null){u.has(d("WAWebMsgType").MSG_TYPE.DOCUMENT)&&w.push(j.jsx(d("WAWebAttachMenuPopupItemDocuments.react").AttachMenuPopupItemDocuments,{chat:b,dismissMenu:n,onDocumentPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT)}})}}));w.push(j.jsx(d("WAWebAttachMenuPopupItemPhotos.react").AttachMenuPopupItemPhotos,{chat:b,dismissMenu:n,multiple:d("WAWebMediaGatingUtils").supportsMultipleUploads(b.id),onMediaPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)}})},mediaSelectionType:d("WAWebAttachMenuPopupItemPhotos.react").MediaSelectionType.PHOTOS_AND_VIDEOS}));w.push(j.jsx(d("WAWebAttachMenuPopupItemCamera.react").AttachMenuPopupItemCamera,{chat:b,onCaptureClick:function(){d("WAWebCmd").Cmd.openCaptureMedia({onMenuComplete:g})}}));d("WAWebQuestionsGatingUtils").isQuestionSenderEnabled(b)&&w.push(j.jsx(d("WAWebAttachMenuPopupItemQuestion.react").AttachMenuPopupItemQuestions,{chat:b,getComposeBoxEditorRef:e}));(a&&d("WAWebNewsletterGatingUtils").isNewsletterAudioFileSendingEnabled()||!a)&&w.push(j.jsx(d("WAWebAttachMenuPopupItemAudio.react").AttachMenuPopupItemAudio,{chat:b,dismissMenu:n,multiple:d("WAWebMediaGatingUtils").supportsMultipleUploads(b.id),onMediaPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO)}})}}));a||w.push(j.jsx(d("WAWebAttachMenuPopupItemContacts.react").AttachMenuPopupItemContacts,{chat:b,onMenuComplete:g}));b.canSendPolls()&&w.push(j.jsx(d("WAWebAttachMenuPopupItemPolls.react").AttachMenuPopupItemPolls,{chat:b,getComposeBoxEditorRef:e}));a=u.has(d("WAWebMsgType").MSG_TYPE.STICKER)?j.jsx(d("WAWebAttachMenuPopupItemStickers.react").AttachMenuPopupItemStickers,{chat:b,dismissMenu:n,onMediaPick:function(a){o({attachments:a,sendAsSticker:!0,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER)}})}}):null;e=d("WAWebChatGetters").getIsGroup(b)||d("WAWebChatGetters").getIsUser(b)?j.jsx(d("WAWebAttachMenuPopupItemEvents").AttachMenuPopupItemEvents,{chat:b}):null;v?w.push([e,a]):w.push([a,e])}else{u=d("WAWebQuestionsGatingUtils").getEnabledAttachmentTypesForQuestionType(k,b);var x;u.has(d("WAWebMsgType").MSG_TYPE.IMAGE)?u.has(d("WAWebMsgType").MSG_TYPE.VIDEO)?x=d("WAWebAttachMenuPopupItemPhotos.react").MediaSelectionType.PHOTOS_AND_VIDEOS:x=d("WAWebAttachMenuPopupItemPhotos.react").MediaSelectionType.PHOTOS:u.has(d("WAWebMsgType").MSG_TYPE.VIDEO)&&(x=d("WAWebAttachMenuPopupItemPhotos.react").MediaSelectionType.VIDEOS);x!=null&&w.push(j.jsx(d("WAWebAttachMenuPopupItemPhotos.react").AttachMenuPopupItemPhotos,{chat:b,dismissMenu:n,multiple:!1,onMediaPick:function(a){d("WAWebModalManager").ModalManager.close(),o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)}})},mediaSelectionType:x}));u.has(d("WAWebMsgType").MSG_TYPE.IMAGE)&&w.push(j.jsx(d("WAWebAttachMenuPopupItemCamera.react").AttachMenuPopupItemCamera,{chat:b,onCaptureClick:function(){d("WAWebCmd").Cmd.openCaptureMedia({onMenuComplete:g,questionType:k,questionReplyQuotedMessage:h})}}))}return j.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(!v&&d("WAWebUISpacing").uiPadding.vert3),{children:[w,t&&j.jsx(l,{}),d("WAWebBizGatingUtils").isPixInAttachmentTrayEnabled()&&d("WAWebAttachMenuUtils").canSendPix(b)&&j.jsx(d("WAWebAttachMenuPopupPix.react").AttachMenuPopupItemPix,{chat:b}),q&&j.jsx(d("WAWebAttachMenuPopupItemCatalog.react").AttachMenuPopupItemCatalog,{chat:b,disabled:p}),r&&j.jsx(d("WAWebAttachMenuPopupItemQuickReplies.react").AttachMenuPopupItemQuickReplies,{chat:b}),s&&j.jsx(d("WAWebAttachMenuPopupItemOrders.react").AttachMenuPopupItemOrders,{chat:b})]}))}a.displayName=a.name+" [from "+f.id+"]";var k={divider:{height:"xjm9jq1",backgroundColor:"xfw0ycb",$$css:!0}};function l(){return j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([k.divider,d("WAWebUISpacing").uiMargin.top3,d("WAWebUISpacing").uiMargin.bottom4])))}l.displayName=l.name+" [from "+f.id+"]";g.AttachMenuPopup=a}),98);
__d("WAWebAttachMenuBarItem.react",["fbt","WAWebAttachMenuPopup.react","WAWebAttachmentMenuLogger","WAWebCmd","WAWebDrawerManager","WAWebDropdown.react","WAWebPlusIcon.react","WAWebPlusRoundedIcon.react","WAWebStateUtils","WAWebSvgButton.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUim","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUseBusinessProfile.react","WAWebVelocityTransitionGroup","WDSMenuBarItem.react","react","useWAWebABPropConfigValue","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useImperativeHandle,n=b.useRef,o=b.useState,p={button:{display:"x78zum5",width:"xh8yej3",height:"x5yr21d",alignItems:"x6s0dn4",justifyContent:"xl56j7k",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",transition:"xlkovuz",color:"xzwifym",":active_transition":"x16j0l1c",$$css:!0},hoverBg:{":hover_backgroundColor":"x1ry1tff",$$css:!0},activeButton:{backgroundColor:"x1786zcw",$$css:!0},icon:{transitionProperty:"x11xpdln",transitionDuration:"x1d8287x",transitionTimingFunction:"x1h4ghdb",$$css:!0},rotateIcon:{transform:"x11t6m9b",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,i),f=e.chat;a=e.iconWidth;a=a===void 0?30:a;var g=e.questionType,j=e.questionReplyQuotedMessage,k=n(null),q=o(null),r=q[0],s=q[1];d("WAWebUseBusinessProfile.react").useBusinessProfile(f.id,["isBizBot3p"]);q=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button");var t=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),u=function(a){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(b){b&&a.preventDefault()})},v=function(a){a&&u(a),k.current&&s({menu:l.jsx(d("WAWebAttachMenuPopup.react").AttachMenuPopup,{chat:d("WAWebStateUtils").unproxy(f),getComposeContents:e.getComposeContents,getComposeBoxEditorRef:e.getComposeBoxEditorRef,onMenuComplete:e.onMenuComplete,questionType:g,questionReplyQuotedMessage:j}),dirY:d("WAWebDropdown.react").DirY.TOP,dirX:t?d("WAWebDropdown.react").DirX.CENTER:d("WAWebDropdown.react").DirX.RIGHT,type:d("WAWebDropdown.react").MenuType.AttachMenuPopup,flipOnRTL:!0,testid:"attach-menu-popup",anchor:k.current,offsetY:-25}),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentMenuOpen(f)};m(b,function(){return{open:function(){v()}}});b=function(a){a===d("WAWebUim").DismissReason.UIM_INTERACTION&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentMenuClose(f),s(null)};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_context_menu",b);var w=t?d("WAWebPlusRoundedIcon.react").PlusRoundedIcon:d("WAWebPlusIcon.react").PlusIcon,x=Boolean(r),y=[p.button,t&&d("WAWebUISpacing").uiPadding.all8,x&&p.activeButton,t&&p.hoverBg],z=[p.icon,x&&p.rotateIcon];return q?l.jsx(c("WDSMenuBarItem.react"),{ref:k,onClick:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentMenuOpen(f)},icon:w,tabOrder:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_ATTACH_BUTTON,title:h._(/*BTDS*/"Attach"),testid:void 0,dropdownMenu:{menu:l.jsx(d("WAWebAttachMenuPopup.react").AttachMenuPopup,{chat:d("WAWebStateUtils").unproxy(f),getComposeContents:e.getComposeContents,getComposeBoxEditorRef:e.getComposeBoxEditorRef,onMenuComplete:e.onMenuComplete,questionType:g,questionReplyQuotedMessage:j}),dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.AttachMenuPopup,flipOnRTL:!0,testid:"attach-menu-popup",offsetY:-25,offsetX:10}}):l.jsxs(l.Fragment,{children:[l.jsx(c("WAWebSvgButton.react"),{containerRef:k,onClick:v,Icon:w,iconXstyle:z,width:a,dataTab:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_ATTACH_BUTTON,xstyle:y,title:h._(/*BTDS*/"Attach"),testid:void 0,"aria-haspopup":"menu","aria-expanded":x}),l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown",children:r?l.jsx(d("WAWebUimUie.react").UIE,{displayName:"AttachMenuPopup",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:b,children:l.jsx(c("WAWebUimUieMenu.react"),{contextMenu:r})}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBIzLabelReorderAction",["WALogger","WAWebBizGatingUtils","WAWebLabelCollection"],(function(a,b,c,d,e,f,g){var h,i;a=function(a){if(!d("WAWebBizGatingUtils").isLabelReorderingSyncFromPrimaryEnabled()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Label] reorderLabelsAction: label reordering is not enabled"])));return}var b=!1;a.forEach(function(a,c){a=d("WAWebLabelCollection").LabelCollection.get(String(a));a&&a.orderIndex!==c&&(a.orderIndex=c,b=!0)});b&&(d("WAWebLabelCollection").LabelCollection.trigger("reorder"),d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[Label] reorderLabelsAction: updated LabelCollection with new label positions"]))).devConsole(a))};g.reorderLabelsAction=a}),98);
__d("WAWebBetaIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="beta";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=10;o=30;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M3.68 8.94h-2.4c-.35 0-.6-.08-.75-.23C.38 8.55.3 8.3.3 7.96V2.04c0-.35.07-.6.22-.75.16-.15.4-.23.75-.23h2.55c.37 0 .7.03.97.07a2.08 2.08 0 0 1 1.24.7 1.82 1.82 0 0 1 .44 1.21c0 .79-.4 1.36-1.18 1.73 1.03.33 1.55.97 1.55 1.92 0 .44-.11.84-.34 1.2-.22.35-.53.6-.91.77-.24.1-.52.17-.83.22a8.8 8.8 0 0 1-1.09.06Zm-.12-3.5H1.9v2.3h1.72c1.08 0 1.61-.39 1.61-1.17 0-.4-.14-.68-.41-.86-.28-.18-.7-.27-1.26-.27ZM1.9 2.26V4.3h1.47c.4 0 .7-.04.91-.12a.88.88 0 0 0 .5-.43.97.97 0 0 0 .14-.5c0-.4-.14-.66-.43-.8a3.2 3.2 0 0 0-1.3-.19H1.9ZM13.83 2.3h-3.6v1.93h3.31c.24 0 .42.05.54.16.12.11.19.25.19.43s-.06.33-.18.44c-.12.11-.3.17-.55.17h-3.3v2.24h3.7c.26 0 .45.06.57.18.13.11.2.27.2.46a.6.6 0 0 1-.2.46c-.12.11-.31.17-.56.17H9.6c-.34 0-.6-.08-.75-.23-.15-.16-.22-.4-.22-.75V2.04c0-.23.03-.41.1-.56a.62.62 0 0 1 .32-.31c.14-.07.33-.1.55-.1h4.22c.25 0 .44.05.56.16.12.12.19.26.19.45 0 .18-.07.33-.2.45-.11.1-.3.16-.55.16ZM21.49 2.38h-1.74V8.1c0 .33-.08.57-.22.73a.74.74 0 0 1-.57.24.76.76 0 0 1-.58-.24c-.15-.16-.22-.4-.22-.73V2.38h-1.74c-.28 0-.48-.06-.61-.18a.62.62 0 0 1-.2-.48c0-.2.07-.36.2-.48a.9.9 0 0 1 .6-.18h5.08c.27 0 .48.06.6.19.15.12.21.28.21.47 0 .2-.06.36-.2.48s-.34.18-.61.18ZM27.99 8.05l-.38-1h-3.2l-.37 1.02c-.15.4-.28.66-.38.8-.1.13-.27.2-.51.2a.75.75 0 0 1-.53-.22.67.67 0 0 1-.23-.5c0-.1.01-.22.05-.33l.18-.48 2.01-5.11.2-.53c.09-.2.17-.38.26-.51a1.05 1.05 0 0 1 .92-.46 1.08 1.08 0 0 1 .91.45c.1.13.17.28.23.43l.24.6 2.06 5.09c.16.38.24.67.24.84a.7.7 0 0 1-.23.5.75.75 0 0 1-.55.23.7.7 0 0 1-.55-.25c-.06-.07-.12-.2-.2-.35L28 8.05Zm-3.16-2.2h2.35L26 2.62l-1.17 3.25Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BetaIcon=a}),98);
__d("WAWebWamEnumWebcNavbarItemLabel",[],(function(a,b,c,d,e,f){a=Object.freeze({CHATS:1,COMMUNITIES:2,NEWSLETTERS:3,STATUS:4,STARRED:5,ARCHIVED:6,SETTINGS_HELP:7,SETTINGS:8,PROFILE:9,ADS_CREATION:10,BUSINESS_TOOLS:11});f.WEBC_NAVBAR_ITEM_LABEL=a}),66);
__d("WAWebWebcNavbarWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcNavbarItemLabel"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcNavbar:[5258,{webcNavbarItemLabel:[1,d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL]},[1,1,1],"regular"]},{WebcNavbar:[]});g.WebcNavbarWamEvent=a}),98);
__d("WAWebNavBarLogEvents",["WAWebWebcNavbarWamEvent"],(function(a,b,c,d,e,f,g){function a(a){a=new(d("WAWebWebcNavbarWamEvent").WebcNavbarWamEvent)({webcNavbarItemLabel:a});a.commit()}g.logNavBarEvent=a}),98);
__d("WAWebBetaNavBarItem.react",["fbt","WAWebBetaIcon.react","WAWebDrawerManager","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebSettingsConst","WAWebSettingsFlowLoadable","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebExternalBetaOptIn"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={betaIcon:{display:"x78zum5",alignItems:"x6s0dn4",height:"xxk0z11",marginInlineStart:"x4h0osi",$$css:!0}};function a(a){var b=a.activeNavBarItem,c=a.isNavBarExpanded,e=a.updateActiveNavBarItem;a=d("useWAWebExternalBetaOptIn").useExternalBetaOptIn();a=a[0];if(!a)return null;a=function(){if(b===d("WAWebNavBarTypes").NavBarItems.Beta)return;e(d("WAWebNavBarTypes").NavBarItems.Beta);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebSettingsFlowLoadable").SettingsFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},initialStep:d("WAWebSettingsConst").SettingsSteps.Help}),{transition:"pop-drawer-fast"});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.SETTINGS_HELP)};var f=j.jsx(d("WAWebBetaIcon.react").BetaIcon,{xstyle:k.betaIcon}),g=h._(/*BTDS*/"Beta");f=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:f,title:g,text:g,testid:void 0,isExpanded:c,isActive:b===d("WAWebNavBarTypes").NavBarItems.Beta,onClick:a});return f}a.displayName=a.name+" [from "+f.id+"]";g.BetaNavBarItem=a}),226);
__d("WAWebMegaphoneRefreshed32Icon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="megaphone-refreshed-32";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=32;o=32;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 32 32",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M26.2874 16.2108C26.4791 16.4025 26.7166 16.4983 26.9999 16.4983H28.9999C29.2833 16.4983 29.5208 16.4025 29.7124 16.2108C29.9041 16.0192 29.9999 15.7817 29.9999 15.4983C29.9999 15.215 29.9041 14.9775 29.7124 14.7858C29.5208 14.5942 29.2833 14.4983 28.9999 14.4983H26.9999C26.7166 14.4983 26.4791 14.5942 26.2874 14.7858C26.0958 14.9775 25.9999 15.215 25.9999 15.4983C25.9999 15.7817 26.0958 16.0192 26.2874 16.2108Z",fill:"currentColor"}),k.jsx("path",{d:"M25.2499 19.8983C24.9833 19.9317 24.7666 20.065 24.5999 20.2983C24.4333 20.5317 24.3666 20.7817 24.3999 21.0483C24.4333 21.315 24.5666 21.5317 24.7999 21.6983L26.3999 22.8983C26.6333 23.065 26.8833 23.1317 27.1499 23.0983C27.4166 23.065 27.6333 22.9317 27.7999 22.6983C27.9666 22.465 28.0333 22.215 27.9999 21.9483C27.9666 21.6817 27.8333 21.465 27.5999 21.2983L25.9999 20.0983C25.7666 19.9317 25.5166 19.865 25.2499 19.8983Z",fill:"currentColor"}),k.jsx("path",{d:"M25.9999 10.8983L27.5999 9.69835C27.8333 9.53168 27.9666 9.31501 27.9999 9.04835C28.0333 8.78168 27.9666 8.53168 27.7999 8.29835C27.6333 8.06501 27.4166 7.93168 27.1499 7.89835C26.8833 7.86501 26.6333 7.93168 26.3999 8.09835L24.7999 9.29835C24.5666 9.46501 24.4333 9.68168 24.3999 9.94835C24.3666 10.215 24.4333 10.465 24.5999 10.6983C24.7666 10.9317 24.9833 11.065 25.2499 11.0983C25.5166 11.1317 25.7666 11.065 25.9999 10.8983Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19.5584V11.4415C21 9.69261 19.0921 8.61236 17.5924 9.51217L13.6835 11.8575C13.5281 11.9507 13.3503 12 13.169 12H9.5C8.11929 12 7 13.1193 7 14.5V16.5C7 17.8807 8.11929 19 9.5 19H10V23C10 23.5523 10.4477 24 11 24C11.5523 24 12 23.5523 12 23V19L13.169 19C13.3503 19 13.5281 19.0492 13.6835 19.1425L17.5924 21.4878C19.0921 22.3876 21 21.3073 21 19.5584ZM13.169 14C13.7128 14 14.2463 13.8522 14.7125 13.5725L18.6214 11.2272C18.788 11.1272 19 11.2472 19 11.4415V19.5584C19 19.7528 18.788 19.8728 18.6214 19.7728L14.7125 17.4275C14.2463 17.1478 13.7128 17 13.169 17H9.5C9.22386 17 9 16.7761 9 16.5V14.5C9 14.2238 9.22386 14 9.5 14H13.169Z",fill:"currentColor"}),k.jsx("path",{d:"M24.0671 15.5207C24.0671 16.0995 23.9362 16.6472 23.6744 17.164C23.4125 17.6808 23.068 18.1046 22.6408 18.4353C22.503 18.518 22.3617 18.5214 22.217 18.4456C22.0723 18.3698 22 18.2493 22 18.0839V12.9161C22 12.7507 22.0723 12.6302 22.217 12.5544C22.3617 12.4786 22.503 12.482 22.6408 12.5647C23.068 12.9092 23.4125 13.3433 23.6744 13.867C23.9362 14.3907 24.0671 14.9419 24.0671 15.5207Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MegaphoneRefreshed32Icon=a}),98);
__d("WAWebBizAdCreationNavBarItem.react",["fbt","WAWebActiveAccountInfoContext.react","WAWebAdCreationLogger","WAWebBizGatingUtils","WAWebChatlistUtils","WAWebMegaphoneRefreshed32Icon.react","WAWebMobilePlatforms","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebUISpacing","WAWebWamEnumLwiEntryPoint","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebServerGatedAdEntryPoint"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){a=a.isNavBarExpanded;var b=d("WAWebActiveAccountInfoContext.react").useActiveAccountInfo(),c=d("useWAWebServerGatedAdEntryPoint").useServerGatedAdEntryPoint("whatsapp_smb_web_ad_creation_home_screen_icon",b),e=c[0];c=c[1];c=(c=c==null?void 0:c.content)!=null?c:h._(/*BTDS*/"Advertise on Facebook");l(function(){b!=null&&d("WAWebAdCreationLogger").logAdCreationImpression(d("WAWebWamEnumLwiEntryPoint").LWI_ENTRY_POINT.SMB_HOME_SCREEN_ICON,b!=="not-linked"&&b.hasFacebookPage)},[b]);var f=function(){b!=null&&d("WAWebChatlistUtils").handleAdCreation({adCreationUrlInput:{activeAccountInfo:b,sourceAdCreation:"whatsapp_smb_web_ad_creation_home_screen_icon"},lwiEntryPoint:d("WAWebWamEnumLwiEntryPoint").LWI_ENTRY_POINT.SMB_HOME_SCREEN_ICON}),d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.ADS_CREATION)};c=k.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:k.jsx(d("WAWebMegaphoneRefreshed32Icon.react").MegaphoneRefreshed32Icon,{directional:!0}),text:c,title:c,testid:void 0,isExpanded:a,isActive:!1,onClick:f,spacingXstyle:d("WAWebUISpacing").uiPadding.all4});return d("WAWebMobilePlatforms").isSMB()&&b!=null&&b!=="not-linked"&&!e&&d("WAWebBizGatingUtils").shouldShowAdCreationIcon()?c:null}a.displayName=a.name+" [from "+f.id+"]";g.BizAdCreationNavBarItem=a}),226);
__d("WAWebBizAiBridgeApi",["WALogger","WAWebChatCollection","WAWebLidMigrationUtils","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h,i;a={updateChatCapiThreadControl:function(a){var b=a.consumerPhoneNumber,c=a.consumerLid;a=a.status;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Biz AI] WAWebBizAiBridgeApi: updateChatCapiThreadControl, status: ",""])),a);var e=null;c=c!=null?d("WAWebWidFactory").createUserWid(c,"lid"):null;b=b!=null?d("WAWebWidFactory").createUserWid(b):null;c!=null&&(e=d("WAWebChatCollection").ChatCollection.get(c));e==null&&b!=null&&(e=d("WAWebChatCollection").ChatCollection.get(b));if(e==null&&b==null){var f=c!=null?d("WAWebLidMigrationUtils").toPn(c):null;e=f!=null?d("WAWebChatCollection").ChatCollection.get(f):null}else if(e==null&&c==null){f=b!=null?d("WAWebLidMigrationUtils").toLid(b):null;e=f!=null?d("WAWebChatCollection").ChatCollection.get(f):null}e!=null?void e.setCapiThreadControl(a):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[Biz AI] WAWebBizAiBridgeApi: updateChatCapiThreadControl: chat not found"]))).sendLogs("maiba-thread-control-chat-not-found")}};g.BizAiBridgeApi=a}),98);
__d("WAWebBizCreateBizStateChangeNotificationMsgsAction",["Promise","WALogger","WAWebChatCollection","WAWebContactSystemMsg","WAWebHandleSingleMsg","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebPrivacyModeSystemMsg","WAWebUserPrefsNotifications"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,c,e,f){f===void 0&&(f=!0);c=m(c);e=m(e);var g=d("WAWebLidMigrationUtils").toLid(a);if(f&&d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&g!=null){f=d("WAWebChatCollection").ChatCollection.getChatByAccountLid(g);if(f==null){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[createBizStateChangeNotificationMsgs] Migrated client cannot find chat using lid"])));return(j||(j=b("Promise"))).resolve()}}else{f=d("WAWebChatCollection").ChatCollection.get(a);if(f==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[createBizStateChangeNotificationMsgs] Cannot find chat"])));return(j||(j=b("Promise"))).resolve()}}var n=f.id;g=[l(n,c,e),k(n,c,e)].filter(Boolean);g.map(function(a){if(a!=null)return d("WAWebHandleSingleMsg").handleSingleMsg({chatId:n,newMsg:a,handleSingleMsgOrigin:"bizStateChangeNotification"})});return(j||(j=b("Promise"))).resolve()}function k(a,b,c){if(d("WAWebUserPrefsNotifications").getGlobalSecurityNotifications()!==!0)return;if(b===d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.E2EE&&c!==d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.E2EE)return d("WAWebContactSystemMsg").genEncryptNotificationMsg(a,"e2e_identity_unavailable")}function l(a,b,c){if(b===c)return;switch(c){case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.E2EE:return d("WAWebContactSystemMsg").genEncryptNotificationMsg(a,"encrypt_now");case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.BSP:return d("WAWebContactSystemMsg").genNonE2ENotificationMsg(a,"biz_privacy_mode_to_bsp");case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.FB:return d("WAWebContactSystemMsg").genNonE2ENotificationMsg(a,"biz_privacy_mode_to_fb");case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.HOSTED_GROUP:return d("WAWebContactSystemMsg").genNonE2ENotificationMsg(a,"is_capi_hosted_group")}}function m(a){return d("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(a.isBusiness?a.privacyMode:null)}g.createBizStateChangeNotificationMsgs=a}),98);
__d("WAWebBizCtwaPreviewFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizCtwaAdPreviewFlow.react").__setRef("WAWebBizCtwaPreviewFlowLoadable").load());return a}),"CtwaAdPreviewFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingDrawer.react"),{title:h._(/*BTDS*/"Ad preview"),error:Boolean(a.error)})}});g.requireBundle=a;g.CtWAAdPreviewFlowLoadable=d}),226);
__d("WAWebQueryCtwaContextJob",["WABase64","WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","WAWapDeprecatedSmaxID","WAWebBackendErrors","WAWebCtwaAGMUtils","WAWebProtobufsE2E.pb","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function i(a){var b=a&&a.maybeAttrString("code");a=a&&a.maybeAttrString("text");d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getCtwaContext error: code "," text ",""])),b,a)}var j=new(c("WADeprecatedWapParser"))("ctwaContext",function(a){a.assertTag("iq");a.assertFromServer();var b=a.child("context");if(a.hasChild("error")){i(a.child("error"));throw c("err")("invalid response")}a={sourceUrl:b.child("source").child("url").contentString(),sourceId:b.child("source").child("id").contentString(),sourceType:b.child("source").child("type").contentString()};b.hasChild("headline")&&(a.title=b.child("headline").contentString());b.hasChild("body")&&(a.description=b.child("body").contentString());b.hasChild("thumbnail")&&(b.child("thumbnail").hasChild("url")&&(a.thumbnailUrl=b.child("thumbnail").child("url").contentString()),b.child("thumbnail").hasChild("bytes")&&(a.thumbnail=d("WABase64").encodeB64(b.child("thumbnail").child("bytes").contentBytes())),b.hasChild("video")?(a.mediaUrl=b.child("video").child("url").contentString(),a.mediaType=d("WAWebProtobufsE2E.pb").ContextInfo$ExternalAdReplyInfo$MediaType.VIDEO):a.mediaType=d("WAWebProtobufsE2E.pb").ContextInfo$ExternalAdReplyInfo$MediaType.IMAGE);var e=b.maybeChild("sourceApp");e!=null&&(a.sourceApp=e.contentString());e=d("WAWebCtwaAGMUtils").isWamoAGMIntegrationEnabled(a.sourceApp);if(e){b.hasChild("greetingMessageBody")&&(a.greetingMessageBody=b.child("greetingMessageBody").contentString());b.hasChild("automatedGreetingMessageShown")&&(a.automatedGreetingMessageShown=b.child("automatedGreetingMessageShown").contentString()==="true");e=b.maybeChild("ctaPayload");e!=null&&(a.ctaPayload=e.contentString());e=b.maybeChild("originalImageUrl");e!=null&&(a.originalImageUrl=e.contentString())}return a});function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;a=d("WAWebWidFactory").createWid(a).toString({legacy:!0});a=(f=d("WAWap")).wap("iq",{xmlns:"fb:thrift_iq",id:f.generateId(),type:"get",to:f.S_WHATSAPP_NET,smax_id:f.SMAX_ID(c("WAWapDeprecatedSmaxID").CtwaGetContext)},f.wap("account_number",null,a),f.wap("code",null,b),f.wap("expected_source_url",null,e));b=(yield d("WADeprecatedSendIq").deprecatedSendIq(a,j));if(b.success)return b.result;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b.errorCode)});return k.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizQueryCtwaContextBridge",["Promise","WAWebQueryCtwaContextJob","err"],(function(a,b,c,d,e,f,g){var h;function a(a){var d=a.phone,e=a.sourceUrl;a=a.context;if(d==null||d===""||e==null||e===""||a==null||a==="")return(h||(h=b("Promise"))).reject(c("err")("Invalid params passed to fetchCtwaContextData"));d=c("WAWebQueryCtwaContextJob")(d,a,e);return d}g.fetchCtwaContextData=a}),98);
__d("WAWebBizQuickRepliesDrawerLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizQuickRepliesDrawer.react").__setRef("WAWebBizQuickRepliesDrawerLoadable").load());return a}),"WAWebBizQuickRepliesDrawer");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.WAWebBizQuickRepliesDrawerLoadable=d}),98);
__d("WAWebBizSmbTosModal.react",["fbt","WALogger","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSmbLearnMore.react","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(){var a=h._(/*BTDS*/"We are updating our WhatsApp Business Terms of Service. Agree to our new Terms on your phone to continue using WhatsApp Business."),b=function(){d("WAWebConnModel").Conn.smbTos||d("WAWebModalManager").ModalManager.close()};d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:smbTos",b);b=function(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["SMB: terms of service modal, user clicked logout"]))),d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()};var e=h._(/*BTDS*/"Log out");b=b;return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:e,children:[a,"\xa0",k.jsx(c("WAWebSmbLearnMore.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizToolsChatlistHeaderDropdownItem.react",["fbt","WAWebBizGatingUtils","WAWebBizToolsFlowLoadable","WAWebChatlistHeaderDropdownLogEvents","WAWebDrawerManager","WAWebDropdownItem.react","WAWebKeyboardTabUtils","WAWebNavBarTypes","WAWebStorefrontIcon.react","WAWebUIRefreshGatingUtils","WAWebWamEnumBusinessToolsEntryPointType","WAWebWamEnumWebcMenuItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.activeAccountInfo,c=a.updateActiveNavBarItem;if(!d("WAWebBizGatingUtils").isBizToolsDrawerEnabled())return null;a=function(a){a==null||a.stopPropagation(),d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.BUSINESS_TOOLS),c!=null&&c(d("WAWebNavBarTypes").NavBarItems.BizTools),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebBizToolsFlowLoadable").BizToolsFlowLoadable,{adsAccountInfo:b,entryPoint:d("WAWebWamEnumBusinessToolsEntryPointType").BUSINESS_TOOLS_ENTRY_POINT_TYPE.ENTRY_CONVERSATIONS}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"})};var e=h._(/*BTDS*/"Business tools"),f="mi-biz-tools menu-item";f=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebStorefrontIcon.react").StorefrontIcon,{}):null,action:a,children:e});return f}a.displayName=a.name+" [from "+f.id+"]";g.BizToolsChatlistHeaderDropdownItem=a}),226);
__d("WAWebBizToolsNavBarItem.react",["fbt","WAWebBizGatingUtils","WAWebBizToolsFlowLoadable","WAWebBusinessProfileCollection","WAWebDrawerManager","WAWebKeyboardTabUtils","WAWebMobilePlatforms","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebStorefrontFilledIcon.react","WAWebStorefrontIcon.react","WAWebUserPrefsMeUser","WAWebWamEnumBusinessToolsEntryPointType","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useMemo,m=b.useState;function a(a){var b=a.activeAccountInfo,c=a.activeNavBarItem,e=a.isNavBarExpanded,f=a.updateActiveNavBarItem;a=d("WAWebMobilePlatforms").isSMB();var g=l(function(){return d("WAWebUserPrefsMeUser").getMePnUserOrThrow()},[]),i=m(!1),j=i[0],n=i[1];a&&void d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(g).then(function(){n(!0)});i=l(function(){return d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(g)},[g]);var o=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(i,"change:profileOptions",o);o=j&&!d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(i);j=c===d("WAWebNavBarTypes").NavBarItems.BizTools?k.jsx(d("WAWebStorefrontFilledIcon.react").StorefrontFilledIcon,{}):k.jsx(d("WAWebStorefrontIcon.react").StorefrontIcon,{});i=function(){if(c===d("WAWebNavBarTypes").NavBarItems.BizTools)return;f(d("WAWebNavBarTypes").NavBarItems.BizTools);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebBizToolsFlowLoadable").BizToolsFlowLoadable,{adsAccountInfo:b,entryPoint:d("WAWebWamEnumBusinessToolsEntryPointType").BUSINESS_TOOLS_ENTRY_POINT_TYPE.ENTRY_BUSINESS_TOOLS_TAB}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast",focusOnUnMount:!0});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.BUSINESS_TOOLS)};var p=h._(/*BTDS*/"Tools");j=k.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:j,text:p,title:p,testid:void 0,isExpanded:e,isActive:c===d("WAWebNavBarTypes").NavBarItems.BizTools,onClick:i});return a&&o&&d("WAWebBizGatingUtils").isBizToolsDrawerEnabled()?j:null}a.displayName=a.name+" [from "+f.id+"]";g.BizToolsNavBarItem=a}),226);
__d("WAWebBlocklistBridgeApi",["WAWebBlocklistCollection"],(function(a,b,c,d,e,f,g){a={replaceBlocklist:function(a){a=a.wids;d("WAWebBlocklistCollection").BlocklistCollection.replaceAllWith(a)}};g.BlocklistBridgeApi=a}),98);
__d("WAWebBotCommandSuggestionResult.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={result:"_aopp"};b=a;g["default"]=b}),98);
__d("WAWebBotCommandSuggestionResult.react",["WAWebBotCommandSuggestionResult.scss","WAWebBotCommandSuggestions.react","WAWebClassnames","WAWebDetailImage.react","WAWebEmojiText.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.command,e=a.query,f=a.selected,g=a.imageWid,h=a.onMouseDown,j=a.onMouseEnter;a=a.onMouseUp;var k=b.name;b=b.description;var l=k.slice(0,e.length);k=k.slice(e.length);return i.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebBotCommandSuggestionResult.scss").result]=!0,e),{0:"x78zum5 x6s0dn4 x1qx5ct2 xyamay9 xl3akx1 x1l90r2v x11ahuha x6ikm8r x10wlt62 x1f6kntn xhslqc4 xlyipyv xuxw1ft xxymvpz",1:"x78zum5 x6s0dn4 x1qx5ct2 xyamay9 xl3akx1 x1l90r2v x11ahuha x6ikm8r x10wlt62 x1f6kntn xhslqc4 xlyipyv xuxw1ft xxymvpz x1ru9bj0"}[!!f<<0]),onMouseDown:h,onMouseUp:a,onMouseEnter:j,children:[g!=null&&i.jsx("div",{className:"x17pgkn5 xav9cv8 x1sa5p1d",children:i.jsx(d("WAWebDetailImage.react").DetailImage,{id:g,size:32})}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:"xyqdw3p xy9n6vp",text:d("WAWebBotCommandSuggestions.react").QUERY_TRIGGER}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:"xyqdw3p x117nqv4 x1v5yvga",text:l}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:"xyqdw3p xy9n6vp",text:k}),i.jsx(d("WAWebEmojiText.react").EmojiText,{className:"xyqdw3p x1hm9lzh xhslqc4 x1yc453h",testid:void 0,ellipsify:!0,text:b})]})}a.displayName=a.name+" [from "+f.id+"]";g.BotCommandResult=a}),98);
__d("WAWebBotCommandSuggestions.react",["Lexical","WAWebBotCommandSuggestionResult.react","WAWebBotProfileGetters","WAWebLexicalUtils","WAWebListSuggestionsPanel.react","WAWebUseBotProfileValues","react","useWAWebLexicalTypeAhead","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useMemo,m=b.useState,n="/",o=52,p=25;function a(a){var b,c=a.editor,e=a.kind,f=a.metaBotId;a=d("useWAWebModelValues").useOptionalModelValues(a.businessProfile,["id","commands"]);var g=d("WAWebUseBotProfileValues").useOptionalBotProfileValues(f,[d("WAWebBotProfileGetters").getCommands]);g=g[0];var h=(b=a==null?void 0:a.commands)!=null?b:g,i=f!=null?f:a==null?void 0:a.id;b=d("useWAWebLexicalTypeAhead").useTypeAhead(c,n,{boundary:!0,maxQueryLength:p});var r=b.query,s=b.replaceQuery,t=b.omitQuery;g=m(function(){return q(c)});var u=g[0],v=g[1];k(function(){return c.registerUpdateListener(function(){v(q(c))})},[c]);f=function(a,b){return j.jsx(d("WAWebBotCommandSuggestionResult.react").BotCommandResult,{command:a.command,query:a.query,selected:b,imageWid:i},a.itemKey)};a=function(a){a=a.command;s(""+n+a.name+" ")};b=function(){t()};g=l(function(){return r==null||!h||u?null:h.filter(function(a){return a.name.toLowerCase().startsWith(r.toLowerCase())}).map(function(a,b){return{height:o,itemKey:a.name,contentKey:r,index:b,command:a,query:r,selectable:!0}})},[r,h,u]);return j.jsx(d("WAWebListSuggestionsPanel.react").ListSuggestionsPanel,{kind:e,editor:c,items:g,renderItem:f,onSelect:a,onDismiss:b})}a.displayName=a.name+" [from "+f.id+"]";function q(a){return a.getEditorState().read(function(){for(var a of d("WAWebLexicalUtils").textNodesIterator(d("Lexical").$getRoot())){var b;if((b=a.getStyle())!=null&&b.includes("bot-command-text"))return!0}return!1})}g.QUERY_TRIGGER=n;g.BotCommandSuggestions=a}),98);
__d("WAWebBotFeatureNotAvailable.react",["fbt","WAWebBotPictogramIcon.react","WAWebBox.react","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModal.react","WAWebModalManager","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebWdsPictoAiIcon.react","react","useWAWebFocusOnMount"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={headerText:{textAlign:"x2b8uid",$$css:!0}};function a(){var a=function(){d("WAWebModalManager").ModalManager.close()},b=c("useWAWebFocusOnMount")(),e=j.jsx(d("WAWebFlex.react").FlexItem,{children:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebWdsPictoAiIcon.react").WdsPictoAiIcon,{height:88}):j.jsx(d("WAWebBotPictogramIcon.react").BotPictogramIcon,{width:112,height:112})}),f=h._(/*BTDS*/"AI chats aren't available for you yet");return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,type:d("WAWebModal.react").ModalTheme.Promote,ref:b,children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[d("WAWebUISpacing").uiMargin.vertAuto,d("WAWebUISpacing").uiPadding.bottom16],children:[e,j.jsx(d("WAWebBox.react").Box,{xstyle:[k.headerText,d("WAWebUISpacing").uiMargin.horiz8,d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom8],children:j.jsx(d("WAWebText.react").WAWebTextLarge,{weight:"bold",children:f})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBotPluginCarouselWrapper.react",["invariant","WANullthrows","WAWebCarouselNavigationButton","WAWebChevronButton.react","WAWebClassnames","WAWebCmd","WAWebDisplayType","WAWebDomScroll","WAWebErrorBoundary.react","WAWebFocusIndicator","WAWebKeyboardHotKeys.react","WAWebMediaLinkPreviewContainer.react","WAWebMsgGetters","WAWebProtobufsAICommon.pb","WAWebVelocityTransitionGroup","WAWebWrapper.scss","WAWebWrapperListeners.react","react","useWAWebCarouselScrollUtils","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useCallback,n=b.useEffect,o=b.useImperativeHandle,p=b.useRef,q=b.useState,r=100;function a(a){var b,e,f=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var g=p(null),j=a.msgs,k=a.botPluginCarouselId;a=a.isFocused;b=(b=j[0])==null||(b=b.id)==null||(b=b.remote)==null?void 0:b.isUser();var s=p(null),t=d("WAWebMsgGetters").getBotPluginType(j[0])===d("WAWebProtobufsAICommon.pb").BotPluginMetadata$PluginType.REELS,u=q(!0),v=u[0],w=u[1];u=q(null);var x=u[0],y=u[1];u=q(!1);var z=u[0];u=u[1];e=(e=d("WAWebMsgGetters").getBotResponseTargetId(j[0]))!=null?e:"NULL_MSG_BOT_PLUGIN_TARGET_ID";d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"bot_toggle_plugin_search_details_for_target_id_"+e,function(a){a===void 0&&(a=!0),w(a),self.setTimeout(function(){d("WAWebCmd").Cmd.scrollChatHeight(r)})});e=m(function(a,b){var c=s.current;if(!c)return;var e=c.offsetParent;if(!e)return;e instanceof HTMLElement||h(0,56542);void d("WAWebDomScroll").scrollAt(c,e,b).then(a)},[s]);var A=m(function(){c("WAWebFocusIndicator").indicateFocus(s.current,c("WAWebWrapper.scss").highlightAnimation)},[s]),B=function(){return g.current},C=function(){return c("WANullthrows")(s.current)};o(f,function(){return{getElement:B,getContainerElement:C}});n(function(){x==null&&j.length>1&&y(!0)},[j,x]);f=c("useWAWebCarouselScrollUtils")(g,u,y,j);u=f[0];var D=f[1];f=j.toSorted(function(a,b){a=a.botPluginReferenceIndex;b=b.botPluginReferenceIndex;return a!=null&&b!=null?a>b?1:-1:0}).map(function(a){return l.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"x1e03a83 x1vd4hg5"}}[!!t<<0],{children:l.jsx(d("WAWebMediaLinkPreviewContainer.react").LinkPreviewContainer,{msg:a.unsafe(),displayType:t?d("WAWebDisplayType").DISPLAY_TYPE.BOT_REELS_PLUGIN:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION,theme:"bot_plugin_link"})}),a.id.id)});z=z===!0?l.jsx(d("WAWebCarouselNavigationButton").CarouselNavigationButton,{buttonType:d("WAWebChevronButton.react").ButtonType.Prev,onButtonClick:function(){return D(!1)},displayType:t?d("WAWebChevronButton.react").ChevronButtonDisplayType.BotReelsPluginCarousel:d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel}):null;var E=x===!0?l.jsx(d("WAWebCarouselNavigationButton").CarouselNavigationButton,{buttonType:d("WAWebChevronButton.react").ButtonType.Next,onButtonClick:function(){return D(!0)},displayType:t?d("WAWebChevronButton.react").ChevronButtonDisplayType.BotReelsPluginCarousel:d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel}):null;a=a?l.jsx(d("WAWebWrapperListeners.react").WhileFocusedListener,{parent:{scrollMsg:e,highlight:A}}):null;return l.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"bot-plugin-carousel",children:l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebWrapper.scss").botPluginCarouselControlContainer]=!0,e[c("WAWebWrapper.scss").botPluginCarouselControlContainerClosed]=!v,e[c("WAWebWrapper.scss").wrapperAdjustedOneOnOneChat]=b,e[c("WAWebWrapper.scss").wrapperProfilePictureDisplayed]=!b,e)),ref:s,tabIndex:-1,children:[l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"bot-plugin-carousel",children:v?l.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((A={},A[c("WAWebWrapper.scss").botPluginScrollControl]=!0,A[c("WAWebWrapper.scss").messageChat]=!0,A[c("WAWebWrapper.scss").reelsPluginOneItem]=!!t&&j.length===1,A[c("WAWebWrapper.scss").reelsPluginTwoItem]=!!t&&j.length===2,A[c("WAWebWrapper.scss").reelsPluginThreeItem]=!!t&&j.length===3,A)),children:[z,l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1rife3k xvzcjjp xp43t2z x5j5mwf xptal55 xjodkme x1xmf6yo xod5an3"},1:{className:"x1rife3k xvzcjjp xp43t2z x5j5mwf xptal55 xjodkme x1xmf6yo xod5an3 x1rohswg"}}[!!(j.length===1)<<0],{onScroll:u,ref:g,children:l.jsx("div",babelHelpers["extends"]({},{0:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf x75ztot"},8:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf x2vq7qx xtfe9a7 xeq5yr9"},4:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf x14atkfc x15x72sd"},12:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xtfe9a7 x14atkfc x15x72sd"},2:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xwv353n"},10:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf x2vq7qx xtfe9a7 xwv353n"},6:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf x15x72sd xwv353n"},14:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xtfe9a7 x15x72sd xwv353n"},1:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf x75ztot xgqtt45"},9:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xtfe9a7 xeq5yr9 xgqtt45"},5:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf x14atkfc xgqtt45"},13:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xtfe9a7 x14atkfc xgqtt45"},3:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xwv353n xgqtt45"},11:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xtfe9a7 xwv353n xgqtt45"},7:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xwv353n xgqtt45"},15:{className:"x123j3cw x1gabggj xs9asl8 xaso8d8 xrvj5dj x1ldsiy3 x9xpc1z x3xbxsf xtfe9a7 xwv353n xgqtt45"}}[!!t<<3|!!(j.length===1)<<2|!!(j.length===2)<<1|!!(j.length===4)<<0],{"data-id":k,children:f}))})),E]}):null}),a]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBotSuggestions.react",["WAWebBotProfileGetters","WAWebUISpacing","WAWebUseBotProfileValues","WAWebUseBusinessProfile.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={container:{display:"x78zum5",position:"x10l6tqk",bottom:"xmgkm54",maxHeight:"x1nu74zi",overflowX:"x14aock7",whiteSpace:"xuxw1ft",width:"x19sv2k2",$$css:!0},pill:{fontSize:"x1f6kntn",lineHeight:"xdod15v",borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",borderEndEndRadius:"x14vvt0a",borderEndStartRadius:"x1w3ol1v",fontWeight:"xk50ysn",backgroundColor:"x1w7vc3g",cursor:"x1ypdohk",$$css:!0},emoji:{display:"x1rg5ohu",$$css:!0}};function a(a){var b=a.id,e=a.onPromptSelect;a=d("WAWebUseBusinessProfile.react").useBusinessProfile(b,["prompts"]);b=d("WAWebUseBotProfileValues").useOptionalBotProfileValues(b,[d("WAWebBotProfileGetters").getPrompts]);b=b[0];b=b!=null?b:a==null?void 0:a.prompts;return b==null||b.length===0?null:j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.container,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.horiz20),{children:b.map(function(a){return j.jsx(l,{prompt:a,onClick:function(){e(a.text)}},a.text)})}))}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.onClick;a=a.prompt;return j.jsxs("div",babelHelpers["extends"]({onClick:b},(i||(i=c("stylex"))).props(k.pill,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.start12,d("WAWebUISpacing").uiPadding.end16,d("WAWebUISpacing").uiMargin.horiz4),{children:[j.jsx("span",babelHelpers["extends"]({},i.props(k.emoji,d("WAWebUISpacing").uiMargin.end4),{children:a.emoji})),j.jsx("span",{children:a.text})]}))}l.displayName=l.name+" [from "+f.id+"]";g.BotSuggestions=a}),98);
__d("WAWebBugnubNavBarItem.react",["WAWebBugnubLoadable","WAWebBugnubRefreshedIcon.react","WAWebCurrentUser","WAWebNavBarItem.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.isNavBarExpanded;var b=function(){c("WAWebBugnubLoadable")()},e="Report a bug (internal)";e=i.jsx(d("WAWebNavBarItem.react").NavBarItem,{testid:void 0,icon:i.jsx(d("WAWebBugnubRefreshedIcon.react").BugnubRefreshedIcon,{}),text:e,title:e,onClick:b,isActive:!1,isExpanded:a});return d("WAWebCurrentUser").isEmployee()?e:null}a.displayName=a.name+" [from "+f.id+"]";g.BugnubNavBarItem=a}),98);
__d("WAWebBusinessProfileBridgeApi",["WALogger","WAWebBizGatingUtils","WAWebCatalogCollection"],(function(a,b,c,d,e,f,g){var h;a={updatedCommerceExperience:function(a){a=a.wid;a=d("WAWebCatalogCollection").CatalogCollection.get(a);a&&d("WAWebBizGatingUtils").isCatalogVariantsViewingEnabled()&&(d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Catalog] Catalog model is being reset due to businessProfile commerce experience update"]))),d("WAWebCatalogCollection").CatalogCollection.remove(a.id))}};g.BusinessProfileBridgeApi=a}),98);
__d("WAWebBusinessProfileCopyPnDataToLidRows",["WALogger","WAWebBizGatingUtils","WAWebLidMigrationUtils","WAWebModelStorageUtils","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebBizGatingUtils").isLidMigrationForBusinessProfileEnabled()||c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.BusinessProfileLidTableMigrationComplete))return;var e=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["business-profile"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["copyBusinessProfilePnDataToLidRows: start migration"])));var c=a.map(function(a){if(a==null)return null;var b=d("WAWebWidFactory").createUserWid(a==null?void 0:a.id);if(b.isLid())return null;var c=d("WAWebLidMigrationUtils").toPn(b);b=d("WAWebLidMigrationUtils").toLid(b);return b==null||(c==null?void 0:c.user)==null?null:{id:b.toString(),commandsDescription:(c=a.commandsDescription)!=null?c:a.commandsDescription,commands:(b=a.commands)!=null?b:a.commands,prompts:(c=a.prompts)!=null?c:a.prompts,automatedType:(b=a.automatedType)!=null?b:a.automatedType,welcomeMsgProtocolMode:(c=a.welcomeMsgProtocolMode)!=null?c:a.welcomeMsgProtocolMode}}).filter(Boolean);yield b.bulkCreateOrMerge(c);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["copyBusinessProfilePnDataToLidRows: end migration"])));e=!0}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["copyBusinessProfilePnDataToLidRows: error ",""])),a).sendLogs("business-profile-lid-migration"),e=!1}});return function(a){return c.apply(this,arguments)}}());c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.BusinessProfileLidTableMigrationComplete,e)});return k.apply(this,arguments)}g.copyBusinessProfilePnDataToLidRows=a}),98);
__d("WAWebCTWADetectedOutcomeOnboardingStatusUpdateAction",["WAWebUserPrefsGeneral"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WAWebUserPrefsGeneral").setDetectedOutcomeOnboardingStatus(a)}g.ctwaDetectedOutcomeOnboardingStatusUpdateAction=a}),98);
__d("WAWebQuickPromotionAction",["WAWebQuickPromotionCollection"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebQuickPromotionCollection").QuickPromotionCollection.refreshPromotions(a)}g.loadedQuickPromotions=a}),98);
__d("WAWebSmbDataSharingServerUpdateAction",["WAWebCTWADataSharingModel"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebCTWADataSharingModel").CTWADataSharingModel.setValue(a)}g.smbDataSharingSettingUpdateAction=a}),98);
__d("WAWebCTWABridgeApi",["WAWebAdEntryPointsConfigurationAction","WAWebCTWADetectedOutcomeOnboardingStatusUpdateAction","WAWebNewCTWASuggestionAction","WAWebQuickPromotionAction","WAWebSmbDataSharingServerUpdateAction"],(function(a,b,c,d,e,f,g){a={newCTWASuggestion:function(a){a=a.suggestion;return d("WAWebNewCTWASuggestionAction").newCTWASuggestion(a)},revokeCTWASuggestion:function(a){a=a.suggestion;return d("WAWebNewCTWASuggestionAction").revokeCTWASuggestion(a)},loadedCTWASuggestions:function(a){a=a.suggestions;return d("WAWebNewCTWASuggestionAction").loadedCTWASuggestions(a)},loadedQuickPromotions:function(a){a=a.promotions;return d("WAWebQuickPromotionAction").loadedQuickPromotions(a)},smbDataSharingSettingUpdate:function(a){a=a.smbDataSharingSettingValue;return d("WAWebSmbDataSharingServerUpdateAction").smbDataSharingSettingUpdateAction(a)},loadedAdEntryPointsConfiguration:d("WAWebAdEntryPointsConfigurationAction").loadedAdEntryPointsConfiguration,ctwaDetectedOutcomeOnboardingStatusUpdate:function(a){a=a.onboardingStatus;return d("WAWebCTWADetectedOutcomeOnboardingStatusUpdateAction").ctwaDetectedOutcomeOnboardingStatusUpdateAction(a)}};g.CTWABridgeApi=a}),98);
__d("WAWebCTWASuggestionInitFromStorage",["Promise","WALogger","WATimeUtils","WAWebBackendApi","WAWebBizGatingUtils","WAWebSchemaCTWASuggestion"],(function(a,b,c,d,e,f,g){var h,i;function a(){if(!d("WAWebBizGatingUtils").adsActionBannersEnabledOnStartup())return(i||(i=b("Promise"))).resolve();var a=d("WAWebSchemaCTWASuggestion").getCTWASuggestionTable();return a.all().then(function(b){var c=[],e=[];b.forEach(function(a){d("WATimeUtils").isInFuture(a.expiresAt)?c.push(a):e.push(a.id)});d("WAWebBackendApi").frontendFireAndForget("loadedCTWASuggestions",{suggestions:c});if(e.length>0)return a.bulkRemove(e)["catch"](function(){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["restoreCTWASuggestions: could not remove expired suggestions"]))).devConsole(e)})})}g.restoreCTWASuggestions=a}),98);
__d("WAWebUserPrefsEvents",["WATimeUtils","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h=null;function i(){if(h!=null)return h;var a=parseInt(c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.CagEventsAwarenessBannerFirstSeenTimestamp),10);Number.isNaN(a)||(h=d("WATimeUtils").castToUnixTime(a));return h}function a(){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.CagEventsAwarenessBannerFirstSeenTimestamp,d("WATimeUtils").unixTime())}function b(){var a=i();return a==null?d("WATimeUtils").unixTime():d("WATimeUtils").futureUnixTime(d("WATimeUtils").WEEK_SECONDS,a)}g.getCagEventsAwarenessBannerFirstSeenTimestamp=i;g.setCagEventsAwarenessBannerFirstSeenTimestamp=a;g.getCagEventsAwarenessBannerAutoDismissalExpiration=b}),98);
__d("WAWebCagEventsAwarenessBanner.react",["fbt","WAWebAnnouncementSpeakerIcon.react","WAWebConversationBanner.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebFlexItem.react","WAWebTabOrder","WAWebText.react","WAWebUISpacing","WAWebUimUie.react","WAWebUserPrefsEvents","react","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={banner:{backgroundColor:"x150wa6m",$$css:!0},announcementSpeaker:{color:"x1o6zcso",$$css:!0}};function a(a){var b=a.onClose;a=a.ref;d("WAWebUserPrefsEvents").getCagEventsAwarenessBannerFirstSeenTimestamp()||d("WAWebUserPrefsEvents").setCagEventsAwarenessBannerFirstSeenTimestamp();d("useWAWebTimeout").useAlarm(b,d("WAWebUserPrefsEvents").getCagEventsAwarenessBannerAutoDismissalExpiration(),{immediate:!0,isGlobal:!0});var e=d("WAWebFaqUrl").getEventsLearnMoreFaqUrl(),f=d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON;return j.jsx(d("WAWebUimUie.react").UIE,{displayName:"CagEventsAwarenessBanner",escapable:!0,children:j.jsx(c("WAWebConversationBanner.react"),{ref:a,xstyle:k.banner,onClose:b,"data-tab":f,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[j.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end18,children:j.jsx(d("WAWebAnnouncementSpeakerIcon.react").AnnouncementSpeakerIcon,{iconXstyle:k.announcementSpeaker,width:40,height:40})}),j.jsx(c("WAWebFlexItem.react"),{children:j.jsxs(d("WAWebText.react").WAWebTextMuted,{as:"span",children:[h._(/*BTDS*/"Create events in announcement groups.")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:e,tabIndex:0,"data-tab":f,children:c("WAWebFbtCommon")("Learn more")})]})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.CagEventsAwarenessBanner=a}),226);
__d("WAWebCaptureMediaDrawerLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebCaptureMediaDrawer.react").__setRef("WAWebCaptureMediaDrawerLoadable").load());return a}),"CaptureMediaDrawer");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.CaptureMediaDrawerLoadable=d}),98);
__d("WAWebGridRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="grid-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H19C19.55 3 20.0208 3.19583 20.4125 3.5875C20.8042 3.97917 21 4.45 21 5V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H5ZM5 19H8.325V15.675H5V19ZM10.325 19H13.675V15.675H10.325V19ZM15.675 19H19V15.675H15.675V19ZM5 13.675H8.325V10.325H5V13.675ZM10.325 13.675H13.675V10.325H10.325V13.675ZM15.675 13.675H19V10.325H15.675V13.675ZM5 8.325H8.325V5H5V8.325ZM10.325 8.325H13.675V5H10.325V8.325ZM15.675 8.325H19V5H15.675V8.325Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.GridRefreshedIcon=a}),98);
__d("WAWebCatalogChatlistHeaderDropdownItem.react",["fbt","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCatalogManagementFlowLoadable","WAWebChatlistHeaderDropdownLogEvents","WAWebConfirmPopup.react","WAWebDropdownItem.react","WAWebGridRefreshedIcon.react","WAWebMobilePlatforms","WAWebModalManager","WAWebProductCatalogMetaLinkingGatingUtils","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebShopsLog","WAWebUIRefreshGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumCatalogEntryPoint","WAWebWamEnumShopsManagementAction","WAWebWamEnumWebcMenuItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),b=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);if(!(d("WAWebMobilePlatforms").isSMB()&&!d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(b)&&!d("WAWebProductCatalogMetaLinkingGatingUtils").shouldDisableCatalogDueToMetaLinkingForSelf()))return null;a=d("WAWebProductCatalogMetaLinkingGatingUtils").shouldShowMetaLinkedDisabledCatalogTooltipForSelf();var c=d("WAWebBusinessProfileUtils").hasShop(b),e=function(){d("WAWebBusinessProfileUtils").goToCommerceManager(b),d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_CATALOG_SETTING)},f=function(a){a==null||a.preventDefault();if(c){a=d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(b);d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Catalog disabled"),onOK:e,okText:h._(/*BTDS*/"Commerce Manager"),onCancel:function(){d("WAWebModalManager").ModalManager.close(),d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_CATALOG_SETTING)},children:a?h._(/*BTDS*/"You can't restore your catalog at this time because we have disabled your shop for not complying with our policies. Learn more in Commerce Manager."):h._(/*BTDS*/"Your catalog is temporarily disabled because WhatsApp is a sales channel for your shop. To restore your catalog, go to Commerce Manager and set the shop's visibility to \"hidden\", or remove WhatsApp from the Business Manager account.")}));d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CATALOG_SETTING)}else d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ToolsMenu"}}}),d("WAWebCatalogManagementFlowLoadable").openCatalogManagementFlow({entryPoint:d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,isInitialStep:!0}),d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.CATALOG)},g=c?h._(/*BTDS*/"Catalog (temporarily disabled)"):h._(/*BTDS*/"Catalog"),i="mi-catalog menu-item";i=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebGridRefreshedIcon.react").GridRefreshedIcon,{}):null,tooltip:a?d("WAWebProductCatalogMetaLinkingGatingUtils").getDisabledMetaLinkedCatalogTooltipText():null,testid:void 0,disabled:a,action:f,children:g});return i}a.displayName=a.name+" [from "+f.id+"]";g.CatalogChatlistHeaderDropdownItem=a}),226);
__d("WAWebChangePhoneIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="change-phone";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=112;o=112;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 112 112",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M112 56C112 86.9279 86.9279 112 56 112C25.0721 112 0 86.9279 0 56C0 25.0721 25.0721 0 56 0C86.9279 0 112 25.0721 112 56ZM33 21C30.2386 21 28 23.2386 28 26V76C28 78.7614 30.2386 81 33 81H44C44.5523 81 45 80.5523 45 80V74.5C45 73.9477 44.5523 73.5 44 73.5H34.25C32.8693 73.5 31.75 72.3807 31.75 71V31C31.75 29.6193 32.8693 28.5 34.25 28.5H62C62.5523 28.5 63 28.0523 63 27.5V26C63 23.2386 60.7614 21 58 21H33Z",fill:"#06CF9C",fillOpacity:.15}),k.jsx("path",{d:"M28 26C28 23.2386 30.2386 21 33 21H58C60.7614 21 63 23.2386 63 26V27.5C63 28.0523 62.5523 28.5 62 28.5H34.25C32.8693 28.5 31.75 29.6193 31.75 31V71C31.75 72.3807 32.8693 73.5 34.25 73.5H44C44.5523 73.5 45 73.9477 45 74.5V80C45 80.5523 44.5523 81 44 81H33C30.2386 81 28 78.7614 28 76V26Z",fill:"#06CF9C",fillOpacity:.5}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49 37C49 34.2386 51.2386 32 54 32H79C81.7614 32 84 34.2386 84 37V87C84 89.7614 81.7614 92 79 92H54C51.2386 92 49 89.7614 49 87V68H52.75V82C52.75 83.3807 53.8693 84.5 55.25 84.5H77.75C79.1307 84.5 80.25 83.3807 80.25 82V42C80.25 40.6193 79.1307 39.5 77.75 39.5H55.25C53.8693 39.5 52.75 40.6193 52.75 42V56H49V37ZM61.5 87.625C61.5 87.2798 61.7798 87 62.125 87H70.875C71.2202 87 71.5 87.2798 71.5 87.625C71.5 87.9702 71.2202 88.25 70.875 88.25H62.125C61.7798 88.25 61.5 87.9702 61.5 87.625ZM64.9956 63.1401H42.15C41.5175 63.1401 41 62.6091 41 61.96C41 61.3109 41.5175 60.7799 42.15 60.7799H64.9956L59.3951 55.0091C58.9466 54.5489 58.9466 53.8054 59.3951 53.3452C59.8436 52.8849 60.5681 52.8849 61.0166 53.3452L68.5836 61.1339C69.0321 61.5942 69.0321 62.3376 68.5836 62.7979L61.0051 70.5748C60.5566 71.0351 59.8321 71.0351 59.3836 70.5748C58.9351 70.1146 58.9351 69.3593 59.3836 68.8991L64.9956 63.1401Z",fill:"#06CF9C"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ChangePhoneIcon=a}),98);
__d("WAWebChannelOpenWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelEntryPoint","WAWebWamEnumChannelEntryPointMetadata","WAWebWamEnumChannelUserType","WAWebWamEnumTsSurface"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({ChannelOpen:[4316,{channelDirectorySessionId:[8,a.TYPES.INTEGER],channelDiscoveryQueryId:[18,a.TYPES.STRING],channelDiscoverySearchId:[19,a.TYPES.STRING],channelEntryPoint:[1,d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT],channelEntryPointMetadata:[9,d("WAWebWamEnumChannelEntryPointMetadata").CHANNEL_ENTRY_POINT_METADATA],channelSessionId:[3,a.TYPES.INTEGER],channelUserType:[4,d("WAWebWamEnumChannelUserType").CHANNEL_USER_TYPE],cid:[6,a.TYPES.STRING],discoverySurface:[15,d("WAWebWamEnumTsSurface").TS_SURFACE],entryPointMetadata:[12,a.TYPES.STRING],hasNetworkConnection:[7,a.TYPES.BOOLEAN],isPremium:[14,a.TYPES.BOOLEAN],similarChannelsSessionId:[11,a.TYPES.INTEGER],unifiedSessionId:[16,a.TYPES.STRING],unreadMessages:[5,a.TYPES.INTEGER],unreadPremiumMessages:[13,a.TYPES.INTEGER],updatesTabSessionId:[17,a.TYPES.INTEGER]},[1,1,1],"regular"]},{ChannelOpen:[]});g.ChannelOpenWamEvent=b}),98);
__d("WAWebUpdateOfflinePeerReceipts",["WALogger","WAWebChatCollection","WAWebCmd","WAWebGroupUnreadMessageType","WAWebMsgCollection","WAWebNewsletterCollection","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){var h;function a(a,b){if(!d("WAWebCmd").Cmd.isMainStreamReadyMd)return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["updateOfflinePeerReceipt, chatUpdates: ",", ackUpdats: "," "])),a.length,b).devConsole(a,b);a.forEach(function(a){var b,e=a.chatId,f=a.unreadCount;a=a.unreadMentionsOfMe;b=(b=d("WAWebChatCollection").ChatCollection.get(e))!=null?b:c("WAWebNewsletterCollection").get(e);if(b!=null){e=a.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id,timestamp:a.timestamp})});(a=b.groupMetadata)==null||a.unreadMentionMetadata.reset();(a=b.groupMetadata)==null||a.unreadMentionMetadata.addUnreadMentions(e,d("WAWebGroupUnreadMessageType").UnreadMessageType.PERSISTANCE_LOAD);b.set({unreadCount:f})}});b.forEach(function(a){var b=a.msgKey;a=a.ack;b=d("WAWebMsgCollection").MsgCollection.get(b);b&&void b.updateAck(a)})}g.updateOfflinePeerReceipt=a}),98);
__d("WAWebChatBridgeApi",["Promise","WALogger","WAWebChatCollection","WAWebCommentAction","WAWebDBUpdateChatTable","WAWebMmSignalSharingExpirationWindowUtils","WAWebMmSignalSharingGatingUtils","WAWebMsgKey","WAWebThreadMetadataUtil","WAWebUpdateLastAddOnPreviewChatAction","WAWebUpdateOfflinePeerReceipts","WAWebUpdateUnreadChatAction"],(function(a,b,c,d,e,f,g){var h,i=["id"],j;a={getChat:function(a){a=a.chatId;return d("WAWebChatCollection").ChatCollection.get(a)},hasChat:function(a){a=a.chatId;return Boolean(d("WAWebChatCollection").ChatCollection.get(a))},isMessageSentToBusiness:function(a){a=a.msgKey;a=d("WAWebChatCollection").ChatCollection.get(c("WAWebMsgKey").from(a).remote);return(a==null?void 0:a.contact.isBusiness)===!0},chatCollectionAdd:function(a){var b=a.things;a=a.options;return d("WAWebChatCollection").ChatCollection.add(b,a)},chatCollectionGadd:function(a){a=a.chat;return d("WAWebChatCollection").ChatCollection.gadd(a)},chatCollectionTrigger:function(a){var b=a.name;a=a.args;d("WAWebChatCollection").ChatCollection.trigger(b,a)},updateOfflinePeerReceipt:function(a){var b=a.chatUpdates;a=a.ackUpdates;d("WAWebUpdateOfflinePeerReceipts").updateOfflinePeerReceipt(b,a)},chatCollectionUpdate:function(a){a=a.updates;a.forEach(function(a){var b=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,i);b=d("WAWebChatCollection").ChatCollection.get(b);b&&b.set(a)})},updateChatReadStatus:function(a){var b=a.id;a=a.read;b=d("WAWebChatCollection").ChatCollection.get(b);b&&(a?d("WAWebUpdateUnreadChatAction").markSeen(b):d("WAWebUpdateUnreadChatAction").markUnseen(b))},updateChatUnreadMsgCountAndClearMentions:function(a){a=a.remote;a=d("WAWebChatCollection").ChatCollection.get(a);a&&(d("WAWebUpdateUnreadChatAction").updateUnreadCountMD(a,0,!1),d("WAWebUpdateUnreadChatAction").clearUnreadMentions(a))},updateChatLastAddOnPreview:function(a){a=a.chatMap;d("WAWebUpdateLastAddOnPreviewChatAction").updateModelsForLastAddOnPreview(a)},updateChatToLatest:function(a){a=a.chatIdToLatestUpdates;d("WAWebCommentAction").updateChatToLatest(a)},updateChatSortListener:function(a){a=a.enable;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[chat][updateChatSortListener] "," sort listener"])),a?"enable":"disable");a?d("WAWebChatCollection").ChatCollection.enableSortListener(!0):d("WAWebChatCollection").ChatCollection.disableSortListener()},resetChatPreviewT:function(a){a=a.chatIds;a.forEach(function(a){a=d("WAWebChatCollection").ChatCollection.get(a);a&&(a.previewT=void 0)})},updateChatPreviewT:function(a){var b=a.threadMeta;d("WAWebChatCollection").ChatCollection.forEach(function(a){var c=d("WAWebThreadMetadataUtil").getOfflineMetaPreviewForChat({chatTimestamp:b,chatId:a.id,accountLid:a.accountLid});c!=null&&(a.previewT=c)})},updateBotInvokeSystemMsgCreated:function(a){a=a.chatId;a=d("WAWebChatCollection").ChatCollection.get(a);if(a!=null)return a.hasCreatedBotInvokeSystemMsg===!0?(j||(j=b("Promise"))).resolve():a.updateBotInvokeSystemMsgCreated()},updateChatLimitSharing:function(a){var b=a.id;a=a.limitSharing;b=d("WAWebChatCollection").ChatCollection.get(b);b&&(b.limitSharing=a)},getChatModelsArray:function(){return(j||(j=b("Promise"))).resolve([].concat(d("WAWebChatCollection").ChatCollection.getModelsArray()))},updateMmSignalSharingExpirationWindow:function(a){var b=a.id,c=a.msg;a=a.contextInfo;if(!d("WAWebMmSignalSharingGatingUtils").isMmSignalSharingDisclosureEnabled())return;var e=d("WAWebChatCollection").ChatCollection.get(b);if(e){c=d("WAWebMmSignalSharingExpirationWindowUtils").getMmSignalSharingExpirationWindow(e,c,a);e.mmSignalSharingExpirationWindow=c;void d("WAWebDBUpdateChatTable").updateChatTable(b,{mmSignalSharingExpirationWindow:c})}},updateChatToneId:function(a){var b=a.id;a=a.toneId;b=d("WAWebChatCollection").ChatCollection.get(b);b&&(b.toneId=a)}};g.ChatBridgeApi=a}),98);
__d("WAWebChatFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="chat-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.0002 6.66667C22.0002 5.19391 20.8062 4 19.3335 4H1.79015C1.01286 4 0.540213 4.86348 0.940127 5.53L3.00016 9V17.3333C3.00016 18.8061 4.19406 20 5.66682 20H19.3335C20.8062 20 22.0002 18.8061 22.0002 17.3333V6.66667ZM7.00016 10C7.00016 9.44772 7.44787 9 8.00016 9H17.0002C17.5524 9 18.0002 9.44772 18.0002 10C18.0002 10.5523 17.5524 11 17.0002 11H8.00016C7.44787 11 7.00016 10.5523 7.00016 10ZM8.00016 13C7.44787 13 7.00016 13.4477 7.00016 14C7.00016 14.5523 7.44787 15 8.00016 15H14.0002C14.5524 15 15.0002 14.5523 15.0002 14C15.0002 13.4477 14.5524 13 14.0002 13H8.00016Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ChatFilledRefreshedIcon=a}),98);
__d("WAWebChatInternalStatusHookWrapper",["cr:12061"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:12061")}),98);
__d("WAWebLabelFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizLabelFlow.react").__setRef("WAWebLabelFlowLoadable").load());return a}),"LabelFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingDrawer.react"),{title:h._(/*BTDS*/"Labels"),error:Boolean(a.error)})}});g.requireBundle=a;g.LabelFlowLoadable=d}),226);
__d("WAWebListsChatlistHeaderDropdownItem.react",["fbt","WAWebChatlistHeaderDropdownLogEvents","WAWebDrawerManager","WAWebDropdownItem.react","WAWebLabelFlowLoadable","WAWebLabelOutlineIcon.react","WAWebListPeopleIcon.react","WAWebListsGatingUtils","WAWebMobilePlatforms","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcMenuItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){if(!d("WAWebMobilePlatforms").isSMB())return null;var a=d("WAWebListsGatingUtils").isListsEnabled(),b=function(a){a==null||a.stopPropagation(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebLabelFlowLoadable").LabelFlowLoadable,{isInitialStep:!0})),d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.LABELS)},c=a?h._(/*BTDS*/"Lists"):h._(/*BTDS*/"Labels"),e=a?"mi-lists menu-item":"mi-labels menu-item";e=a?j.jsx(d("WAWebListPeopleIcon.react").ListPeopleIcon,{}):j.jsx(d("WAWebLabelOutlineIcon.react").LabelOutlineIcon,{});a=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?e:null,action:b,children:c});return a}a.displayName=a.name+" [from "+f.id+"]";g.ListsChatlistHeaderDropdownItem=a}),226);
__d("WAWebLogoutChatlistHeaderDropdownItem.react",["fbt","WAWebChatlistHeaderDropdownLogEvents","WAWebConfirmLogoutModal.react","WAWebDropdownItem.react","WAWebExitRefreshedIcon.react","WAWebModalManager","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcMenuItemLabel","WAWebWamUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(a){a==null||a.stopPropagation(),d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.LOG_OUT),d("WAWebWamUtils").forceFlushAllWamAndQplBuffers(),d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebConfirmLogoutModal.react"),{checkUnsent:!0}))},b=h._(/*BTDS*/"Log out"),e="mi-logout menu-item";e=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebExitRefreshedIcon.react").ExitRefreshedIcon,{}):null,action:a,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:b});return e}a.displayName=a.name+" [from "+f.id+"]";g.LogoutChatlistHeaderDropdownItem=a}),226);
__d("WAWebManageAdsDropdownItem.react",["fbt","WAWebAdCreationLogger","WAWebAdsStackRefreshedIcon.react","WAWebChatlistUtils","WAWebDropdownItem.react","WAWebUIRefreshGatingUtils","WAWebWamEnumManageAdsEntryPoint","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){var b=a.activeAccountInfo;l(function(){d("WAWebAdCreationLogger").logManageAdsEntryPointImpression(d("WAWebWamEnumManageAdsEntryPoint").MANAGE_ADS_ENTRY_POINT.WEB_OVERFLOW_MENU)},[b]);a=function(a){a==null||a.preventDefault(),d("WAWebChatlistUtils").handleManageAds(b,"whatsapp_smb_web_manage_ads_home_menu_item",d("WAWebWamEnumManageAdsEntryPoint").MANAGE_ADS_ENTRY_POINT.WEB_OVERFLOW_MENU)};var c=h._(/*BTDS*/"Manage ads"),e="manage-ads-menu-item";return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?k.jsx(d("WAWebAdsStackRefreshedIcon.react").AdsStackRefreshedIcon,{directional:!0}):null,action:a,children:c})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMarkAllChatsAsReadChatlistHeaderDropdownItem.react",["fbt","WAWebChatCollection","WAWebChatMessageSearch","WAWebChatRefreshedIcon.react","WAWebChatSearchFilters","WAWebConfirmPopup.react","WAWebDropdownItem.react","WAWebFrontendChatGetters","WAWebModalManager","WAWebUIRefreshGatingUtils","WAWebUpdateUnreadChatAction","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(){var a=d("WAWebChatCollection").ChatCollection.filter(function(a){if(!d("WAWebFrontendChatGetters").getShouldAppearInList(a))return!1;var b=d("WAWebChatMessageSearch").matchFilter(a,{kind:d("WAWebChatSearchFilters").SearchFilters.UNREAD});a=a.archive;return b&&!a});a.forEach(function(a){var b=!1;d("WAWebUpdateUnreadChatAction").markUnread(a,b,!1)})},b=function(b){b==null||b.stopPropagation(),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Mark all chats as read?"),onOK:function(){d("WAWebModalManager").ModalManager.close(),a()},onCancel:function(){d("WAWebModalManager").ModalManager.close()}}))},e=h._(/*BTDS*/"Mark all as read"),f="mi-mark-all-as-read";f=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebChatRefreshedIcon.react").ChatRefreshedIcon,{}):null,testid:void 0,action:b,children:e});return c("gkx")("26258")?null:f}a.displayName=a.name+" [from "+f.id+"]";g.MarkAllChatsAsReadChatlistHeaderDropdownItem=a}),226);
__d("WAWebNewGroupChatlistHeaderDropdownItem.react",["fbt","WAWebChatlistHeaderDropdownLogEvents","WAWebDrawerManager","WAWebDropdownItem.react","WAWebModalManager","WAWebNewGroupFlowLoadable","WAWebNewGroupRefreshedIcon.react","WAWebReachoutTimelockRestrictedModalLoadable","WAWebReachoutTimelockUtils","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcMenuItemLabel","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(a){if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()){d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}a==null||a.stopPropagation();d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},onCreateGroup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a,d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()});return function(b){return a.apply(this,arguments)}}(),isSubFlow:!1}));d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.NEW_GROUP)},c=h._(/*BTDS*/"New group"),e="mi-new-group menu-item";e=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebNewGroupRefreshedIcon.react").NewGroupRefreshedIcon,{}):null,action:a,children:c});return e}a.displayName=a.name+" [from "+f.id+"]";g.NewGroupChatlistHeaderDropdownItem=a}),226);
__d("WAWebOrderManagementFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizOrderManagementFlow.react").__setRef("WAWebOrderManagementFlowLoadable").load());return a}),"OrderManagementFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});e=d;g["default"]=e}),98);
__d("WAWebReceiptRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="receipt-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M3 21.4V2.59995C3 2.48328 3.05 2.40412 3.15 2.36245C3.25 2.32078 3.34167 2.34162 3.425 2.42495L4.15 3.14995C4.25 3.24995 4.36667 3.29995 4.5 3.29995C4.63333 3.29995 4.75 3.24995 4.85 3.14995L5.65 2.34995C5.75 2.24995 5.86667 2.19995 6 2.19995C6.13333 2.19995 6.25 2.24995 6.35 2.34995L7.15 3.14995C7.25 3.24995 7.36667 3.29995 7.5 3.29995C7.63333 3.29995 7.75 3.24995 7.85 3.14995L8.65 2.34995C8.75 2.24995 8.86667 2.19995 9 2.19995C9.13333 2.19995 9.25 2.24995 9.35 2.34995L10.15 3.14995C10.25 3.24995 10.3667 3.29995 10.5 3.29995C10.6333 3.29995 10.75 3.24995 10.85 3.14995L11.65 2.34995C11.75 2.24995 11.8667 2.19995 12 2.19995C12.1333 2.19995 12.25 2.24995 12.35 2.34995L13.15 3.14995C13.25 3.24995 13.3667 3.29995 13.5 3.29995C13.6333 3.29995 13.75 3.24995 13.85 3.14995L14.65 2.34995C14.75 2.24995 14.8667 2.19995 15 2.19995C15.1333 2.19995 15.25 2.24995 15.35 2.34995L16.15 3.14995C16.25 3.24995 16.3667 3.29995 16.5 3.29995C16.6333 3.29995 16.75 3.24995 16.85 3.14995L17.65 2.34995C17.75 2.24995 17.8667 2.19995 18 2.19995C18.1333 2.19995 18.25 2.24995 18.35 2.34995L19.15 3.14995C19.25 3.24995 19.3667 3.29995 19.5 3.29995C19.6333 3.29995 19.75 3.24995 19.85 3.14995L20.575 2.42495C20.6583 2.34162 20.75 2.32078 20.85 2.36245C20.95 2.40412 21 2.48328 21 2.59995V21.4C21 21.5166 20.95 21.5958 20.85 21.6375C20.75 21.6791 20.6583 21.6583 20.575 21.575L19.85 20.85C19.75 20.75 19.6333 20.7 19.5 20.7C19.3667 20.7 19.25 20.75 19.15 20.85L18.35 21.65C18.25 21.75 18.1333 21.8 18 21.8C17.8667 21.8 17.75 21.75 17.65 21.65L16.85 20.85C16.75 20.75 16.6333 20.7 16.5 20.7C16.3667 20.7 16.25 20.75 16.15 20.85L15.35 21.65C15.25 21.75 15.1333 21.8 15 21.8C14.8667 21.8 14.75 21.75 14.65 21.65L13.85 20.85C13.75 20.75 13.6333 20.7 13.5 20.7C13.3667 20.7 13.25 20.75 13.15 20.85L12.35 21.65C12.25 21.75 12.1333 21.8 12 21.8C11.8667 21.8 11.75 21.75 11.65 21.65L10.85 20.85C10.75 20.75 10.6333 20.7 10.5 20.7C10.3667 20.7 10.25 20.75 10.15 20.85L9.35 21.65C9.25 21.75 9.13333 21.8 9 21.8C8.86667 21.8 8.75 21.75 8.65 21.65L7.85 20.85C7.75 20.75 7.63333 20.7 7.5 20.7C7.36667 20.7 7.25 20.75 7.15 20.85L6.35 21.65C6.25 21.75 6.13333 21.8 6 21.8C5.86667 21.8 5.75 21.75 5.65 21.65L4.85 20.85C4.75 20.75 4.63333 20.7 4.5 20.7C4.36667 20.7 4.25 20.75 4.15 20.85L3.425 21.575C3.34167 21.6583 3.25 21.6791 3.15 21.6375C3.05 21.5958 3 21.5166 3 21.4ZM7 17H17C17.2833 17 17.5208 16.9041 17.7125 16.7125C17.9042 16.5208 18 16.2833 18 16C18 15.7166 17.9042 15.4791 17.7125 15.2875C17.5208 15.0958 17.2833 15 17 15H7C6.71667 15 6.47917 15.0958 6.2875 15.2875C6.09583 15.4791 6 15.7166 6 16C6 16.2833 6.09583 16.5208 6.2875 16.7125C6.47917 16.9041 6.71667 17 7 17ZM7 13H17C17.2833 13 17.5208 12.9041 17.7125 12.7125C17.9042 12.5208 18 12.2833 18 12C18 11.7166 17.9042 11.4791 17.7125 11.2875C17.5208 11.0958 17.2833 11 17 11H7C6.71667 11 6.47917 11.0958 6.2875 11.2875C6.09583 11.4791 6 11.7166 6 12C6 12.2833 6.09583 12.5208 6.2875 12.7125C6.47917 12.9041 6.71667 13 7 13ZM7 8.99995H17C17.2833 8.99995 17.5208 8.90412 17.7125 8.71245C17.9042 8.52078 18 8.28328 18 7.99995C18 7.71662 17.9042 7.47912 17.7125 7.28745C17.5208 7.09578 17.2833 6.99995 17 6.99995H7C6.71667 6.99995 6.47917 7.09578 6.2875 7.28745C6.09583 7.47912 6 7.71662 6 7.99995C6 8.28328 6.09583 8.52078 6.2875 8.71245C6.47917 8.90412 6.71667 8.99995 7 8.99995ZM5 19.1H19V4.89995H5V19.1Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ReceiptRefreshedIcon=a}),98);
__d("WAWebOrdersChatlistHeaderDropdownItem.react",["fbt","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebDrawerManager","WAWebDropdownItem.react","WAWebMobilePlatforms","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderManagementFlowLoadable","WAWebReceiptRefreshedIcon.react","WAWebUIRefreshGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){if(!(d("WAWebMobilePlatforms").isSMB()&&d("WAWebBizGatingUtils").orderManagementEnabled()))return null;var a=function(a){a==null||a.stopPropagation();a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS_HUB,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").FROM_BUSINESS_TOOLS),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a))}).commit();d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebOrderManagementFlowLoadable"),{isInitialStep:!0}))},b=d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Charges"):h._(/*BTDS*/"Orders"),e="mi-orders menu-item";e=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebReceiptRefreshedIcon.react").ReceiptRefreshedIcon,{}):null,action:a,children:b});return e}a.displayName=a.name+" [from "+f.id+"]";g.OrdersChatlistHeaderDropdownItem=a}),226);
__d("WAWebQuickRepliesFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizQuickRepliesFlow.react").__setRef("WAWebQuickRepliesFlowLoadable").load());return a}),"QuickRepliesFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.QuickRepliesFlowLoadable=d}),98);
__d("WAWebQuickRepliesChatlistHeaderDropdownItem.react",["fbt","WAWebBizGatingUtils","WAWebBoltIcon.react","WAWebDrawerManager","WAWebDropdownItem.react","WAWebKeyboardTabUtils","WAWebQuickRepliesFlowLoadable","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){if(!d("WAWebBizGatingUtils").quickRepliesManagementEnabled())return null;var a=function(a){a==null||a.stopPropagation(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebQuickRepliesFlowLoadable").QuickRepliesFlowLoadable,{isInitialStep:!0}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},b=h._(/*BTDS*/"Quick replies"),c="mi-quick-replies menu-item";c=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebBoltIcon.react").BoltIcon,{}):null,action:a,children:b});return c}a.displayName=a.name+" [from "+f.id+"]";g.QuickRepliesChatlistHeaderDropdownItem=a}),226);
__d("WAWebScreenLockChatlistHeaderDropdownItem.react",["fbt","WAWebChatlistHeaderDropdownLogEvents","WAWebConfirmPopup.react","WAWebDrawerManager","WAWebDropdownItem.react","WAWebLockOutlineIcon.react","WAWebLockScreenResolver","WAWebModalManager","WAWebMsgCollection","WAWebSettingsConst","WAWebSettingsFlow.react","WAWebUIRefreshGatingUtils","WAWebUserPrefsScreenLock","WAWebWamEnumWebcMenuItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=d("WAWebUserPrefsScreenLock").getScreenLockEnabled(),b=function(b){b==null||b.stopPropagation();d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.APP_LOCK);if(!a){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebSettingsFlow.react").SettingsFlow,{initialStep:d("WAWebSettingsConst").SettingsSteps.ScreenLock,onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}));return}b=d("WAWebMsgCollection").MsgCollection.hasUnsentMessages();b?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Lock app?"),onOK:function(){void d("WAWebLockScreenResolver").lockScreenAndTriggerUnlockFlow()},okText:h._(/*BTDS*/"Lock"),onCancel:function(){return d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"Cancel"),children:h._(/*BTDS*/"Some of your messages are still sending.")})):void d("WAWebLockScreenResolver").lockScreenAndTriggerUnlockFlow()},c=a?h._(/*BTDS*/"Lock app"):h._(/*BTDS*/"App lock"),e="mi-screen-lock menu-item";e=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebLockOutlineIcon.react").LockOutlineIcon,{}):null,action:b,children:c});return e}a.displayName=a.name+" [from "+f.id+"]";g.ScreenLockChatlistHeaderDropdownItem=a}),226);
__d("WAWebSelectChatsChatlistHeaderDropdownItem.react",["fbt","WAWebCheckRefreshedIcon.react","WAWebDropdownItem.react","WAWebMobilePlatforms","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.chatListCollapsed,c=a.isMultiSelectMode;a=a.startMultiSelect;var e=h._(/*BTDS*/"Select chats"),f="mi-select-chats";f=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebCheckRefreshedIcon.react").CheckRefreshedIcon,{}):null,action:a,children:e});return!d("WAWebMobilePlatforms").isSMB()&&!Boolean(b)&&!c?f:null}a.displayName=a.name+" [from "+f.id+"]";g.SelectChatsChatlistHeaderDropdownItem=a}),226);
__d("WAWebShopsChatlistHeaderDropdownItem.react",["fbt","WAWebBizGatingUtils","WAWebBizShopsManagePopup.react","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebDropdownItem.react","WAWebMobilePlatforms","WAWebModalManager","WAWebShopIcon.react","WAWebShopsLog","WAWebUIRefreshGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumShopsManagementAction","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){if(!d("WAWebMobilePlatforms").isSMB())return null;var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);var b=d("WAWebBusinessProfileUtils").hasShop(a),e=function(a){a==null||a.preventDefault(),d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebBizShopsManagePopup.react"),{onViewShopClick:function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_IN_SHOPS_SETTING)},onCommerceManagerClick:function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_SHOPS_SETTING)},onCancelClick:function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_SHOPS_SETTING)}})),d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_SETTING)};a=d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(a)?h._(/*BTDS*/"Shop (disabled)"):h._(/*BTDS*/"Shop");var f="mi-shop menu-item";f=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebShopIcon.react").ShopIcon,{}):null,action:e,children:a});return b?f:null}a.displayName=a.name+" [from "+f.id+"]";g.ShopsChatlistHeaderDropdownItem=a}),226);
__d("WAWebStarredChatlistHeaderDropdownItem.react",["fbt","WAWebChatlistHeaderDropdownLogEvents","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDropdownItem.react","WAWebKeyboardTabUtils","WAWebStarRefreshedIcon.react","WAWebStarredDrawerLoadable","WAWebStarredMsgCollection","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcMenuItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(a){a==null||a.stopPropagation(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebStarredDrawerLoadable").StarredDrawerLoadable,{starredMsgs:d("WAWebStarredMsgCollection").AllStarredMsgsCollection,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},headerType:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"}),d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.STARRED)},b=h._(/*BTDS*/"Starred messages"),c="mi-starred menu-item";c=j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebStarRefreshedIcon.react").StarRefreshedIcon,{}):null,action:a,children:b});return c}a.displayName=a.name+" [from "+f.id+"]";g.StarredChatlistHeaderDropdownItem=a}),226);
__d("WAWebChatlistHeaderDropdown.react",["WAWebAdsCreationChatlistHeaderDropdownItem.react","WAWebArchivedChatlistHeaderDropdownItem.react","WAWebBizGatingUtils","WAWebBizToolsChatlistHeaderDropdownItem.react","WAWebCatalogChatlistHeaderDropdownItem.react","WAWebChatlistHeaderDropdownLogEvents","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebEligibilityLogging","WAWebListsChatlistHeaderDropdownItem.react","WAWebLogoutChatlistHeaderDropdownItem.react","WAWebManageAdsDropdownItem.react","WAWebMarkAllChatsAsReadChatlistHeaderDropdownItem.react","WAWebNewGroupChatlistHeaderDropdownItem.react","WAWebOrdersChatlistHeaderDropdownItem.react","WAWebQuickRepliesChatlistHeaderDropdownItem.react","WAWebScreenLockChatlistHeaderDropdownItem.react","WAWebSelectChatsChatlistHeaderDropdownItem.react","WAWebSettingsGetters","WAWebShopsChatlistHeaderDropdownItem.react","WAWebStarredChatlistHeaderDropdownItem.react","WAWebUIRefreshGatingUtils","WAWebUserPrefsScreenLock","WAWebWamEnumWebcMenuItemLabel","WAWebWamEnumWebcNativeUpsellCtaSourceType","cr:23046","react","useWAWebDesktopUpsellWamImpression","useWAWebExternalBetaOptIn","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;function a(a){var e,f=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);f=f[0];var g=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),h=a.chatListCollapsed,i=a.isMultiSelectMode,l=a.activeAccountInfo,m=a.updateActiveNavBarItem;a=a.startMultiSelect;k(function(){d("WAWebChatlistHeaderDropdownLogEvents").logMenuEvent(d("WAWebWamEnumWebcMenuItemLabel").WEBC_MENU_ITEM_LABEL.OPEN)},[]);var n=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("chatlist_dropdown"),o=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformAwareCTACheckSynchronous();e=(e=b("cr:23046")==null?void 0:b("cr:23046").isWindowsHybridEnabled())!=null?e:!1;e=!e&&!g&&n&&o;n=d("useWAWebExternalBetaOptIn").useExternalBetaOptIn();var p=n[0],q=d("useWAWebExternalBetaOptIn").useMacBetaUpsellOnWeb();d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({isCtaVisible:e===!0,source:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CHATLIST_DROPDOWN,isBeta:q,isBetaUser:p});o=e===!0?j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl({ctaSource:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CHATLIST_DROPDOWN,isBetaUpsell:q,isBetaUser:p})},theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Compact,children:d("WAWebDesktopUpsellCommonStrings").getChatlistDropdownBtnLabel()}):null;n=d("WAWebUserPrefsScreenLock").getScreenLockEnabled();e=d("WAWebEligibilityLogging").eligibilityLogger.getValue("wa_web_app_lock_upsell");return j.jsxs(j.Fragment,{children:[j.jsx(d("WAWebBizToolsChatlistHeaderDropdownItem.react").BizToolsChatlistHeaderDropdownItem,{activeAccountInfo:l,updateActiveNavBarItem:m}),j.jsx(d("WAWebNewGroupChatlistHeaderDropdownItem.react").NewGroupChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebShopsChatlistHeaderDropdownItem.react").ShopsChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebAdsCreationChatlistHeaderDropdownItem.react").AdsCreationChatlistHeaderDropdownItem,{activeAccountInfo:l}),l!=null&&l!=="not-linked"&&d("WAWebBizGatingUtils").shouldShowManageAdsDropdown(l)&&j.jsx(c("WAWebManageAdsDropdownItem.react"),{activeAccountInfo:l}),j.jsx(d("WAWebCatalogChatlistHeaderDropdownItem.react").CatalogChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebOrdersChatlistHeaderDropdownItem.react").OrdersChatlistHeaderDropdownItem,{}),!f&&j.jsx(d("WAWebArchivedChatlistHeaderDropdownItem.react").ArchivedChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebQuickRepliesChatlistHeaderDropdownItem.react").QuickRepliesChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebStarredChatlistHeaderDropdownItem.react").StarredChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebSelectChatsChatlistHeaderDropdownItem.react").SelectChatsChatlistHeaderDropdownItem,{chatListCollapsed:h,isMultiSelectMode:i,startMultiSelect:a}),j.jsx(d("WAWebListsChatlistHeaderDropdownItem.react").ListsChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebMarkAllChatsAsReadChatlistHeaderDropdownItem.react").MarkAllChatsAsReadChatlistHeaderDropdownItem,{}),g&&j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}),n?j.jsx(d("WAWebScreenLockChatlistHeaderDropdownItem.react").ScreenLockChatlistHeaderDropdownItem,{}):j.jsxs(j.Fragment,{children:[e&&j.jsx(d("WAWebScreenLockChatlistHeaderDropdownItem.react").ScreenLockChatlistHeaderDropdownItem,{}),j.jsx(d("WAWebLogoutChatlistHeaderDropdownItem.react").LogoutChatlistHeaderDropdownItem,{})]}),o!=null?j.jsxs(j.Fragment,{children:[!g&&j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}),o]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewChatFlowFlyout.react",["WAWebDrawerViewType","WAWebNewChatFlowLoadable","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){return i.jsx("div",{className:"x1tsk2h8 xwl9fdd",children:i.jsx(d("WAWebNewChatFlowLoadable").NewChatFlowLoadable,{viewType:c("WAWebDrawerViewType").FLYOUT})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewChatOutlineIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="new-chat-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M9.53277 12.9911H11.5086V14.9671C11.5086 15.3999 11.7634 15.8175 12.1762 15.9488C12.8608 16.1661 13.4909 15.6613 13.4909 15.009V12.9911H15.4672C15.9005 12.9911 16.3181 12.7358 16.449 12.3226C16.6659 11.6381 16.1606 11.0089 15.5086 11.0089H13.4909V9.03332C13.4909 8.60007 13.2361 8.18252 12.8233 8.05119C12.1391 7.83391 11.5086 8.33872 11.5086 8.991V11.0089H9.49088C8.83941 11.0089 8.33411 11.6381 8.55097 12.3226C8.68144 12.7358 9.09947 12.9911 9.53277 12.9911Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.944298 5.52617L2.99998 8.84848V17.3333C2.99998 18.8061 4.19389 20 5.66665 20H19.3333C20.8061 20 22 18.8061 22 17.3333V6.66667C22 5.19391 20.8061 4 19.3333 4H1.79468C1.01126 4 0.532088 4.85997 0.944298 5.52617ZM4.99998 8.27977V17.3333C4.99998 17.7015 5.29845 18 5.66665 18H19.3333C19.7015 18 20 17.7015 20 17.3333V6.66667C20 6.29848 19.7015 6 19.3333 6H3.58937L4.99998 8.27977Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NewChatOutlineIcon=a}),98);
__d("WAWebChatlistHeaderV2.react",["fbt","WAWebActiveAccountInfoContext.react","WAWebBusinessProfileCollection","WAWebChatlistHeaderDropdown.react","WAWebCmd","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerViewType","WAWebDropdown.react","WAWebEnvironment","WAWebFbtCommon","WAWebMenuBar.react","WAWebMenuIcon.react","WAWebMessageYourselfMetricUtils","WAWebModal.react","WAWebModalManager","WAWebMoreRefreshedIcon.react","WAWebNewChatFlowFlyout.react","WAWebNewChatFlowLoadable","WAWebNewChatOutlineIcon.react","WAWebTabOrder","WAWebThemeContext","WAWebUA","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWaWordmarkRefreshedIcon.react","WDSMenuBarItem.react","cr:23046","react","useWAWebABPropConfigValue","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.memo,m=e.useCallback,n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r={primaryFill:{fill:"xgz6z4f",$$css:!0},primaryFillDark:{fill:"xd25hor",$$css:!0}};function a(a){var e,f=a.headerRef,g=a.onSelectChatClick,i=a.isMultiSelectMode;e=(e=b("cr:23046")==null?void 0:b("cr:23046").isWindowsHybridEnabled())!=null?e:!1;var j=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),l=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),m=d("WAWebThemeContext").useIsDarkTheme(),n=d("WAWebActiveAccountInfoContext.react").useActiveAccountInfo(),t=o(function(){return d("WAWebUserPrefsMeUser").getMePnUserOrThrow()},[]),u=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button"),v=o(function(){return d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(t)},[t]);d("useWAWebListener").useListener(v,"change:profileOptions",l);var w=(b("cr:23046")==null?void 0:b("cr:23046").isWindowsNewChatFlyoutEnabled())===!0||d("WAWebUIRefreshGatingUtils").newChatFlowRefreshVariant()===2&&d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();v=function(a){if(w){d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.startSession();d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.newChatPressed();return}a==null||a.preventDefault();d("WAWebUIRefreshGatingUtils").newChatFlowRefreshVariant()===1&&d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(d("WAWebNewChatFlowLoadable").NewChatFlowLoadable,{onEnd:function(){d("WAWebModalManager").ModalManager.close()},viewType:c("WAWebDrawerViewType").MODAL})})):d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebNewChatFlowLoadable").NewChatFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}));d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.startSession();d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.newChatPressed()};d("WAWebUA").UA.os===d("WAWebUA").OS_TYPE.MAC?l={modifiers:["Super","Control"],shortcutKeys:["N"]}:c("WAWebEnvironment").isWindows?l={modifiers:["Control"],shortcutKeys:["N"]}:l={modifiers:["Control","Option"],shortcutKeys:["N"]};l=u?k.jsx(c("WDSMenuBarItem.react"),{testid:void 0,icon:d("WAWebNewChatOutlineIcon.react").NewChatOutlineIcon,onClick:v,title:h._(/*BTDS*/"New chat"),tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,hoverShortcut:l,dropdownMenu:{menu:w?k.jsx(c("WAWebNewChatFlowFlyout.react"),{}):[],type:j?d("WAWebDropdown.react").MenuType.Dropdown:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:j?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,testid:"chatlist-header-newchat-dropdown"}},"btn-new-chat"):k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:k.jsx(d("WAWebNewChatOutlineIcon.react").NewChatOutlineIcon,{directional:!0}),title:h._(/*BTDS*/"New chat"),onClick:v,dropdownMenu:{menu:w?k.jsx(c("WAWebNewChatFlowFlyout.react"),{}):[],type:j?d("WAWebDropdown.react").MenuType.Dropdown:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:j?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,testid:"chatlist-header-newchat-dropdown"}},"btn-new-chat");v=u?k.jsx(c("WDSMenuBarItem.react"),{testid:void 0,icon:d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,title:h._(/*BTDS*/"Menu"),tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,dropdownMenu:{menu:k.jsx(c("WAWebChatlistHeaderDropdown.react"),{startMultiSelect:g,isMultiSelectMode:i,activeAccountInfo:n,updateActiveNavBarItem:a.updateActiveNavBarItem}),type:d("WAWebDropdown.react").MenuType.Dropdown,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.RIGHT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,testid:"chatlist-header-dropdown"},marginInlineXstyle:d("WAWebUISpacing").uiMargin.start10},"btn-menu"):k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:j?k.jsx(d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,{}):k.jsx(d("WAWebMenuIcon.react").MenuIcon,{}),title:h._(/*BTDS*/"Menu"),dropdownMenu:{menu:k.jsx(c("WAWebChatlistHeaderDropdown.react"),{startMultiSelect:g,isMultiSelectMode:i,activeAccountInfo:n,updateActiveNavBarItem:a.updateActiveNavBarItem}),type:j?d("WAWebDropdown.react").MenuType.Dropdown:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:j?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,testid:"chatlist-header-dropdown"}},"btn-menu");u=!e&&j;g=!u&&{title:h._(/*BTDS*/"Chats")};i=q(!0);n=i[0];var x=i[1];a=p(null);s({ref:f,enabled:!n,handler:function(){d("WAWebDrawerManager").DrawerManager.trigger("focus_drawer_left")}});e=function(a){x(a)};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"chat_list_visibility_change",e);return k.jsx("header",{"data-testid":void 0,ref:f,children:k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,babelHelpers["extends"]({ref:a},g,{type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB,menu:[l,v],focusBackOrCancel:!0,children:u&&k.jsx(d("WAWebWaWordmarkRefreshedIcon.react").WaWordmarkRefreshedIcon,{"aria-hidden":!1,"aria-label":c("WAWebFbtCommon")("WhatsApp"),innerStyles:{primary:m?r.primaryFillDark:r.primaryFill}})}))})}a.displayName=a.name+" [from "+f.id+"]";function s(a){var b=a.ref,c=a.enabled,d=a.handler,e=m(function(a){d(a)},[d]);n(function(){if(c){var a=b.current;if(a==null)return;a.addEventListener("focusin",e);return function(){a.removeEventListener("focusin",e)}}},[c,e,b])}e=l(a);g.WAWebChatlistHeaderV2=e}),226);
__d("WAWebChatlistResizeHandle.react",["fbt","react","stylex","useHoverState"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useRef,n=b.useState,o=8,p={zIndex:"x1ks9yow",pointerEvents:"x47corl",position:"x10l6tqk",width:"x1xc55vz",top:"x13vifvy",bottom:"x1ey2m1c",insetInlineEnd:"xqxgn94",left:"",right:"",background:"xudi1rl",$$css:!0},q={resizeIndicator:function(a){return[p,{"--x-insetInlineEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc("+a+"px - "+o+"px)")}]}};function r(a){a=a.offset;return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(q.resizeIndicator(a)),{"data-testid":void 0}))}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.onResize,d=a.onResizeEnd,e=a.minWidth,f=a.maxWidth;a=a.onResizeReset;var g=m(0),i=m(0),j=m(null),k=m(!1),o=n(!1),p=o[0],q=o[1];o=n(0);var s=o[0],t=o[1];o=c("useHoverState")();var u=o.isHovered,v=o.onMouseEnter;o=o.onMouseLeave;var w=function(a){a=a-g.current;return Math.max(e,Math.min(f,i.current+a))},x=function(a){if(a.button!==0)return;a.preventDefault();k.current=!0;q(!0);var b=a.currentTarget;b.setPointerCapture(a.pointerId);g.current=a.clientX;a=b.parentElement;a&&(i.current=a.getBoundingClientRect().width)},y=function(a){if(!k.current)return;a=w(a.clientX);t(i.current-a);b==null||b(a)},z=function(a){var b=a.currentTarget;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId);b=w(a.clientX);d==null||d(b);k.current=!1;q(!1);t(0)},A=function(a){k.current&&z(a)};return l.jsxs(l.Fragment,{children:[(p||u)&&l.jsx(r,{offset:s}),l.jsx("button",{ref:j,onMouseEnter:v,onMouseLeave:o,onDoubleClick:a,className:"x10l6tqk xvy4d1p x13vifvy x1ey2m1c x15z6fc2 x7eptgl x1oy9qf3",onPointerDown:x,onPointerMove:y,onPointerUp:z,onPointerLeave:A,"aria-label":h._(/*BTDS*/"Resize the chat list panel"),"data-testid":void 0})]})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebChatlistResizeHandle=a}),226);
__d("WAWebOpenLastActiveChatAction",["Promise","WALogger","WAWebChatCollection","WAWebChatEntryPoint","WAWebCmd","WAWebDrawerManager","WAWebSideNavButtonsActivityModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebSideNavButtonsActivityModel").getLastActiveChat();try{a=a!=null?d("WAWebChatCollection").ChatCollection.get(a):null;d("WAWebDrawerManager").DrawerManager.closeDrawerMid();return a!=null?d("WAWebCmd").Cmd.openChatFromUnread(a,d("WAWebChatEntryPoint").ChatEntryPoint.ChatsTab):(i||(i=b("Promise"))).resolve(!1)}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[debug] openLastActiveChat: unknown error"]))).devConsole(a);return(i||(i=b("Promise"))).resolve(!1)}});return function(){return a.apply(this,arguments)}}();g.openLastActiveChat=a}),98);
__d("useWAWebChatsActivityIndicator",["WAWebChatCollection","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(){var a=function(){return d("WAWebChatCollection").ChatCollection.getUnreadCount()},b=i(a),c=b[0],e=b[1];b=function(){e(a())};d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"add remove reset change:showUnreadInTitle",b);return{unreadChatCount:c}}g.useChatsActivityIndicator=a}),98);
__d("WAWebChatsNavBarItem.react",["fbt","WAWebChatFilledRefreshedIcon.react","WAWebChatRefreshedIcon.react","WAWebChatUnreadCount.react","WAWebDrawerManager","WAWebInteractionTracePolicy","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebOpenLastActiveChatAction","WAWebSideNavButtonsActivityModel","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebChatsActivityIndicator"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.activeNavBarItem,e=a.isNavBarExpanded,f=a.updateActiveNavBarItem;a=function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();if(b===d("WAWebNavBarTypes").NavBarItems.Chats)return;f(d("WAWebNavBarTypes").NavBarItems.Chats);d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.CHATS);d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&(d("WAWebSideNavButtonsActivityModel").setLastActiveButton(d("WAWebNavBarTypes").NavBarItems.Chats),void d("WAWebOpenLastActiveChatAction").openLastActiveChat())};var g=b===d("WAWebNavBarTypes").NavBarItems.Chats?j.jsx(d("WAWebChatFilledRefreshedIcon.react").ChatFilledRefreshedIcon,{directional:!0}):j.jsx(d("WAWebChatRefreshedIcon.react").ChatRefreshedIcon,{directional:!0}),i=d("useWAWebChatsActivityIndicator").useChatsActivityIndicator();i=i.unreadChatCount;i=i>0?j.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:i,maxCount:100,theme:d("WAWebChatUnreadCount.react").UnreadCountTheme.Outlined}):null;var k=h._(/*BTDS*/"Chats");g=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:g,text:k,inlineActivityIndicator:i,inlineActivityIndicatorType:d("WAWebNavBarItem.react").InlineActivityIndicatorType.Counter,title:k,testid:void 0,isExpanded:e,isActive:b===d("WAWebNavBarTypes").NavBarItems.Chats,onClick:a,tracePolicy:c("WAWebInteractionTracePolicy").NAVIGATION_CHATS});return g}a.displayName=a.name+" [from "+f.id+"]";g.ChatsNavBarItem=a}),226);
__d("WAWebClockBridgeApi",["WAWebClock"],(function(a,b,c,d,e,f,g){a={setWebClockSkew:function(a){a=a.newClockSkew;d("WAWebClock").Clock.setSkew(a)}};g.ClockBridgeApi=a}),98);
__d("WAWebCommunityRefreshed32Icon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="community-refreshed-32";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=32;o=32;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 32 32",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M7.85445 17.0075C7.73851 17.0026 7.62033 17 7.50003 17C6.60797 17 5.83268 17.1426 5.22106 17.3148C4.69554 17.4627 4.0988 17.7054 3.5974 18.0919C3.08634 18.4858 2.62143 19.0755 2.52966 19.8877C2.48679 20.2672 2.50003 21.0796 2.51038 21.5399C2.52882 22.3601 3.20095 23 4.00656 23H7.35217C7.15258 22.5784 7.03459 22.1084 7.01993 21.6087C7.01572 21.4651 7.00943 21.25 7.00505 21H4.50165C4.49773 20.6191 4.50034 20.2599 4.51702 20.1123C4.5308 19.9903 4.59776 19.846 4.81844 19.6759C5.04878 19.4983 5.38363 19.3468 5.7631 19.2399C6.12883 19.137 6.57191 19.0478 7.07407 19.0142C7.12499 18.6798 7.20695 18.3652 7.31207 18.0721C7.45559 17.6719 7.64219 17.3186 7.85445 17.0075Z",fill:"currentColor"}),k.jsx("path",{d:"M24.6478 23H27.9935C28.7991 23 29.4712 22.3601 29.4897 21.5399C29.5 21.0796 29.5133 20.2672 29.4704 19.8877C29.3786 19.0755 28.9137 18.4858 28.4027 18.0919C27.9013 17.7054 27.3045 17.4627 26.779 17.3148C26.1674 17.1426 25.3921 17 24.5 17C24.3797 17 24.2615 17.0026 24.1456 17.0075C24.3578 17.3186 24.5444 17.6719 24.6879 18.0721C24.793 18.3652 24.875 18.6798 24.9259 19.0142C25.4281 19.0478 25.8712 19.1369 26.237 19.2399C26.6164 19.3468 26.9513 19.4983 27.1816 19.6759C27.4023 19.846 27.4693 19.9903 27.483 20.1123C27.4997 20.2599 27.5023 20.6191 27.4984 21H24.9949C24.9906 21.25 24.9843 21.4651 24.9801 21.6087C24.9654 22.1084 24.8474 22.5784 24.6478 23Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 18C14.6099 18 13.4517 18.2363 12.6506 18.4683C12.2195 18.5931 11.8437 18.7329 11.5552 18.9105C11.275 19.0829 11.1382 19.2525 11.0772 19.4224C11.0547 19.4853 11.0366 19.5555 11.0259 19.6343C10.9955 19.8585 10.996 20.4459 11.0064 21H20.9936C21.004 20.4459 21.0045 19.8585 20.9741 19.6343C20.9634 19.5555 20.9453 19.4853 20.9228 19.4224C20.8618 19.2525 20.725 19.0829 20.4448 18.9105C20.1563 18.7329 19.7805 18.5931 19.3494 18.4683C18.5483 18.2363 17.3901 18 16 18ZM12.0944 16.5472C13.0378 16.274 14.3855 16 16 16C17.6145 16 18.9622 16.274 19.9056 16.5472C20.392 16.688 20.9732 16.8873 21.493 17.2071C22.0211 17.532 22.5438 18.0181 22.8053 18.7473C22.8735 18.9373 22.9259 19.1436 22.956 19.3657C23.0234 19.8633 22.9976 20.9826 22.9809 21.5501C22.957 22.3659 22.287 23 21.4851 23H10.5149C9.71301 23 9.043 22.3659 9.01907 21.5501C9.00243 20.9826 8.97657 19.8633 9.04404 19.3657C9.07414 19.1436 9.1265 18.9373 9.19466 18.7473C9.45616 18.0181 9.97894 17.532 10.507 17.2071C11.0268 16.8873 11.608 16.688 12.0944 16.5472Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.5 12C23.9477 12 23.5 12.4477 23.5 13C23.5 13.5523 23.9477 14 24.5 14C25.0523 14 25.5 13.5523 25.5 13C25.5 12.4477 25.0523 12 24.5 12ZM21.5 13C21.5 11.3431 22.8431 10 24.5 10C26.1569 10 27.5 11.3431 27.5 13C27.5 14.6569 26.1569 16 24.5 16C22.8431 16 21.5 14.6569 21.5 13Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C14.8954 9 14 9.89543 14 11C14 12.1046 14.8954 13 16 13C17.1046 13 18 12.1046 18 11C18 9.89543 17.1046 9 16 9ZM12 11C12 8.79086 13.7909 7 16 7C18.2091 7 20 8.79086 20 11C20 13.2091 18.2091 15 16 15C13.7909 15 12 13.2091 12 11Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 12C6.94772 12 6.5 12.4477 6.5 13C6.5 13.5523 6.94772 14 7.5 14C8.05228 14 8.5 13.5523 8.5 13C8.5 12.4477 8.05228 12 7.5 12ZM4.5 13C4.5 11.3431 5.84315 10 7.5 10C9.15685 10 10.5 11.3431 10.5 13C10.5 14.6569 9.15685 16 7.5 16C5.84315 16 4.5 14.6569 4.5 13Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityRefreshed32Icon=a}),98);
__d("WAWebCommunityRefreshedFilled32Icon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="community-refreshed-filled-32";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=32;o=32;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 32 32",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M7.85445 17.0075C7.73851 17.0026 7.62033 17 7.50003 17C6.60797 17 5.83268 17.1426 5.22106 17.3148C4.69554 17.4627 4.0988 17.7054 3.5974 18.0919C3.08634 18.4858 2.62143 19.0755 2.52966 19.8877C2.48679 20.2672 2.50003 21.0796 2.51038 21.5399C2.52882 22.3601 3.20095 23 4.00656 23H7.35217C7.15258 22.5784 7.03459 22.1084 7.01993 21.6087C7.00557 21.1191 6.9671 19.7982 7.06216 19.097C7.1117 18.7316 7.19832 18.3892 7.31207 18.0721C7.45559 17.6719 7.64219 17.3186 7.85445 17.0075Z",fill:"currentColor"}),k.jsx("path",{d:"M24.6478 23H27.9935C28.7991 23 29.4712 22.3601 29.4897 21.5399C29.5 21.0796 29.5133 20.2672 29.4704 19.8877C29.3786 19.0755 28.9137 18.4858 28.4027 18.0919C27.9013 17.7054 27.3045 17.4627 26.779 17.3148C26.1674 17.1426 25.3921 17 24.5 17C24.3797 17 24.2615 17.0026 24.1456 17.0075C24.3578 17.3186 24.5444 17.6719 24.6879 18.0721C24.8017 18.3892 24.8883 18.7316 24.9378 19.097C25.0329 19.7982 24.9944 21.1191 24.9801 21.6087C24.9654 22.1084 24.8474 22.5784 24.6478 23Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0944 16.5472C13.0378 16.274 14.3855 16 16 16C17.6145 16 18.9622 16.274 19.9056 16.5472C20.392 16.688 20.9732 16.8873 21.493 17.2071C22.0211 17.532 22.5438 18.0181 22.8053 18.7473C22.8735 18.9373 22.9259 19.1436 22.956 19.3657C23.0234 19.8633 22.9976 20.9826 22.9809 21.5501C22.957 22.3659 22.287 23 21.4851 23H10.5149C9.71301 23 9.043 22.3659 9.01907 21.5501C9.00243 20.9826 8.97657 19.8633 9.04404 19.3657C9.07414 19.1436 9.1265 18.9373 9.19466 18.7473C9.45616 18.0181 9.97894 17.532 10.507 17.2071C11.0268 16.8873 11.608 16.688 12.0944 16.5472Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5 13C21.5 11.3431 22.8431 10 24.5 10C26.1569 10 27.5 11.3431 27.5 13C27.5 14.6569 26.1569 16 24.5 16C22.8431 16 21.5 14.6569 21.5 13Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 11C12 8.79086 13.7909 7 16 7C18.2091 7 20 8.79086 20 11C20 13.2091 18.2091 15 16 15C13.7909 15 12 13.2091 12 11Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 13C4.5 11.3431 5.84315 10 7.5 10C9.15685 10 10.5 11.3431 10.5 13C10.5 14.6569 9.15685 16 7.5 16C5.84315 16 4.5 14.6569 4.5 13Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityRefreshedFilled32Icon=a}),98);
__d("WAWebIntroPanel.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={intro:"_al_c",body:"_al_d",title:"_al_e",betaTitle:"_al_g",betaText:"_al_h",textContainer:"_al_i",mdTextContainer:"_al_j",secondary:"_al_k",divider:"_al_l",image:"_al_m",mdImageWrapper:"_al_n",mdBetaImage:"_al_o",mdImage:"_al_p",text:"_al_f",secondaryText:"_al_q",secondaryTextBody:"_al_r",secondaryIcon:"_al_s",upgradeModalTitle:"_al_u",upgradeModalText:"_al_v",upgradeModalErrorText:"_al_w",encrypted:"_al_x"};b=a;g["default"]=b}),98);
__d("WAWebSettingsFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="settings-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.66248 21.55C9.98748 21.85 10.375 22 10.825 22H13.175C13.625 22 14.0125 21.85 14.3375 21.55C14.6625 21.25 14.8583 20.8833 14.925 20.45L15.15 18.8C15.35 18.7167 15.55 18.6167 15.75 18.5C15.95 18.3833 16.1416 18.2583 16.325 18.125L17.825 18.775C18.2416 18.9583 18.6583 18.975 19.075 18.825C19.4916 18.675 19.8166 18.4083 20.05 18.025L21.25 15.975C21.4833 15.5917 21.55 15.1833 21.45 14.75C21.35 14.3167 21.125 13.9583 20.775 13.675L19.45 12.675C19.4833 12.5583 19.5 12.4458 19.5 12.3375V11.6625C19.5 11.5542 19.4916 11.4417 19.475 11.325L20.8 10.325C21.15 10.0417 21.375 9.68333 21.475 9.25C21.575 8.81667 21.5083 8.40833 21.275 8.025L20.1 5.975C19.8666 5.59167 19.5416 5.325 19.125 5.175C18.7083 5.025 18.2916 5.04167 17.875 5.225L16.325 5.875C16.1416 5.74167 15.9541 5.61667 15.7625 5.5C15.5708 5.38333 15.3666 5.28333 15.15 5.2L14.925 3.55C14.8583 3.11667 14.6625 2.75 14.3375 2.45C14.0125 2.15 13.625 2 13.175 2H10.825C10.375 2 9.98748 2.15 9.66248 2.45C9.33748 2.75 9.14165 3.11667 9.07498 3.55L8.84998 5.2C8.64998 5.28333 8.44998 5.38333 8.24998 5.5C8.04998 5.61667 7.85831 5.74167 7.67498 5.875L6.12498 5.225C5.70831 5.04167 5.29165 5.025 4.87498 5.175C4.45831 5.325 4.13331 5.59167 3.89998 5.975L2.72498 8.025C2.49165 8.40833 2.42498 8.81667 2.52498 9.25C2.62498 9.68333 2.84998 10.0417 3.19998 10.325L4.52498 11.325C4.50831 11.4417 4.49998 11.5542 4.49998 11.6625V12.3375C4.49998 12.4458 4.50831 12.5583 4.52498 12.675L3.19998 13.675C2.84998 13.9583 2.62498 14.3167 2.52498 14.75C2.42498 15.1833 2.49165 15.5917 2.72498 15.975L3.89998 18.025C4.13331 18.4083 4.45831 18.675 4.87498 18.825C5.29165 18.975 5.70831 18.9583 6.12498 18.775L7.67498 18.125C7.85831 18.2583 8.04581 18.3833 8.23748 18.5C8.42915 18.6167 8.63331 18.7167 8.84998 18.8L9.07498 20.45C9.14165 20.8833 9.33748 21.25 9.66248 21.55ZM12 15C12.8286 15 13.5357 14.7071 14.1214 14.1214C14.7071 13.5357 15 12.8286 15 12C15 11.1714 14.7071 10.4643 14.1214 9.87857C13.5357 9.29286 12.8286 9 12 9C11.1571 9 10.4464 9.29286 9.86786 9.87857C9.28929 10.4643 9 11.1714 9 12C9 12.8286 9.28929 13.5357 9.86786 14.1214C10.4464 14.7071 11.1571 15 12 15Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SettingsFilledRefreshedIcon=a}),98);
__d("WAWebStatusFilledRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="status-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M13.5628 3.1366C13.6587 2.5927 14.1794 2.22462 14.711 2.37435C15.7905 2.67838 16.8135 3.16253 17.736 3.80854C18.9323 4.64621 19.9305 5.73571 20.6606 7.00047C21.3907 8.26523 21.8349 9.67454 21.962 11.1294C22.0601 12.2513 21.9677 13.3793 21.6911 14.4662C21.5549 15.0014 20.9758 15.2682 20.4568 15.0792C19.9378 14.8903 19.677 14.317 19.7998 13.7785C19.9843 12.9693 20.0422 12.1343 19.9696 11.3035C19.8679 10.1396 19.5126 9.01215 18.9285 8.00035C18.3444 6.98854 17.5458 6.11694 16.5888 5.44681C15.9057 4.96841 15.1536 4.60097 14.3606 4.35607C13.8329 4.19311 13.4669 3.68049 13.5628 3.1366Z",fill:"currentColor"}),k.jsx("path",{d:"M18.8944 17.785C19.3175 18.14 19.3759 18.7749 18.9804 19.1604C18.1774 19.9433 17.2466 20.5872 16.2259 21.0631C14.9023 21.6802 13.4597 22 11.9993 21.9999C10.5389 21.9998 9.09633 21.6798 7.77287 21.0625C6.7522 20.5864 5.82149 19.9424 5.01855 19.1594C4.62314 18.7739 4.68167 18.1389 5.10479 17.784C5.52792 17.429 6.15484 17.4898 6.55976 17.8653C7.16828 18.4297 7.86245 18.8974 8.61829 19.25C9.67707 19.7438 10.8312 19.9998 11.9994 19.9999C13.1677 19.9999 14.3218 19.7441 15.3807 19.2504C16.1366 18.898 16.8308 18.4304 17.4394 17.8661C17.8444 17.4906 18.4713 17.4299 18.8944 17.785Z",fill:"currentColor"}),k.jsx("path",{d:"M3.54277 15.078C3.02379 15.2669 2.4447 15.0001 2.30857 14.4648C2.03215 13.378 1.9399 12.2501 2.03806 11.1283C2.16533 9.67358 2.60965 8.26441 3.33978 6.9998C4.06991 5.7352 5.06815 4.64584 6.26432 3.80828C7.1868 3.16237 8.20975 2.6783 9.28915 2.37431C9.82075 2.22459 10.3414 2.59268 10.4373 3.13657C10.5332 3.68047 10.1672 4.19308 9.6395 4.35604C8.84657 4.60091 8.09458 4.96828 7.41146 5.4466C6.45452 6.11664 5.65593 6.98813 5.07183 7.99982C4.48772 9.0115 4.13226 10.1388 4.03045 11.3026C3.95776 12.1334 4.01559 12.9683 4.19998 13.7774C4.3227 14.3159 4.06175 14.8892 3.54277 15.078Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0001 18C15.3138 18 18.0001 15.3137 18.0001 12C18.0001 8.68628 15.3138 5.99999 12.0001 5.99999C8.68635 5.99999 6.00006 8.68628 6.00006 12C6.00006 15.3137 8.68635 18 12.0001 18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StatusFilledRefreshedIcon=a}),98);
__d("WAWebNavBarEmptyState.react",["fbt","invariant","WAWebAccountCircleIcon.react","WAWebCommunityFilledRefreshedIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerSection.react","WAWebIntroPanel.scss","WAWebLockOutlineIcon.react","WAWebNavBarTypes","WAWebNewsletterIcon.react","WAWebSettingsFilledRefreshedIcon.react","WAWebStatusFilledRefreshedIcon.react","WDSFont.react","cr:20250","react","useWAWebABPropConfigValue"],(function(a,b,c,d,e,f,g,h,i){var j,k=j||c("react"),l={heroIcon:{color:"x1vef352",display:"x1rg5ohu",$$css:!0},spacingSingleBottom:{marginBottom:"xcytdqz",$$css:!0},spacingTripleBottom:{marginBottom:"x14mdic9",$$css:!0},spacingTripleTop:{marginTop:"x9u28bd",$$css:!0}};function a(a){a=a.type;var e,f,g,j,m=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_type_migration");switch(a){case d("WAWebNavBarTypes").NavBarItems.Status:e=k.jsx(d("WAWebStatusFilledRefreshedIcon.react").StatusFilledRefreshedIcon,{height:64,width:64,iconXstyle:l.heroIcon});f=h._(/*BTDS*/"Share status updates");g=h._(/*BTDS*/"Share photos, videos and text that disappear after 24 hours.");j=k.jsxs("div",{className:c("WAWebIntroPanel.scss").encrypted,children:[k.jsx(d("WAWebLockOutlineIcon.react").LockOutlineIcon,{height:20,width:20})," ",h._(/*BTDS*/"Your status updates are end-to-end encrypted")]});break;case d("WAWebNavBarTypes").NavBarItems.Newsletters:e=k.jsx(d("WAWebNewsletterIcon.react").NewsletterIcon,{height:64,width:64,iconXstyle:l.heroIcon});f=h._(/*BTDS*/"Discover channels");g=h._(/*BTDS*/"Entertainment, sports, news, lifestyle, people and more. Follow the channels that interest you");break;case d("WAWebNavBarTypes").NavBarItems.Settings:e=k.jsx(d("WAWebSettingsFilledRefreshedIcon.react").SettingsFilledRefreshedIcon,{height:64,width:64,iconXstyle:l.heroIcon});f=h._(/*BTDS*/"Settings");break;case d("WAWebNavBarTypes").NavBarItems.Profile:e=k.jsx(d("WAWebAccountCircleIcon.react").AccountCircleIcon,{height:64,width:64,iconXstyle:l.heroIcon});f=h._(/*BTDS*/"Profile");break;case d("WAWebNavBarTypes").NavBarItems.Communities:e=k.jsx(d("WAWebCommunityFilledRefreshedIcon.react").CommunityFilledRefreshedIcon,{height:64,width:64,iconXstyle:l.heroIcon});f=h._(/*BTDS*/"Create communities");g=h._(/*BTDS*/"Bring members together in topic-based groups and easily send them admin announcements.");j=k.jsxs("div",{className:c("WAWebIntroPanel.scss").encrypted,children:[k.jsx(d("WAWebLockOutlineIcon.react").LockOutlineIcon,{height:20,width:20})," ",h._(/*BTDS*/"Your personal messages in communities are end-to-end encrypted")]});break;case d("WAWebNavBarTypes").NavBarItems.Calls:b("cr:20250")!=null||i(0,95041);return k.jsx(b("cr:20250"),{});case d("WAWebNavBarTypes").NavBarItems.Archived:case d("WAWebNavBarTypes").NavBarItems.Chats:case d("WAWebNavBarTypes").NavBarItems.Beta:case d("WAWebNavBarTypes").NavBarItems.BizTools:case d("WAWebNavBarTypes").NavBarItems.Orders:case d("WAWebNavBarTypes").NavBarItems.Labels:case d("WAWebNavBarTypes").NavBarItems.LockedChats:case d("WAWebNavBarTypes").NavBarItems.Starred:case d("WAWebNavBarTypes").NavBarItems.MediaHub:return null}a=m?k.jsx(d("WDSFont.react").WDSTextLargeTitle1,{colorName:"contentDefault",testid:void 0,isPrimaryHeading:!0,xstyle:[l.spacingSingleBottom,l.spacingTripleTop],children:f}):k.jsx("div",{className:c("WAWebIntroPanel.scss").betaTitle,children:k.jsx("h1",{"data-testid":void 0,children:f})});m=m?k.jsx(d("WDSFont.react").WDSTextBody1,{testid:void 0,colorName:"contentDeemphasized",xstyle:l.spacingTripleBottom,children:g}):k.jsx("div",{"data-testid":void 0,className:"x98l61r x1f6kntn xo1l8bm x1fc57z9 xhslqc4",children:g});return k.jsx(c("WAWebDrawer.react"),{theme:"white-bg",testid:void 0,children:k.jsxs(c("WAWebDrawerBody.react"),{children:[k.jsx(c("WAWebDrawerSection.react"),{theme:"refresh-new",children:"Body"}),k.jsx("div",{className:c("WAWebIntroPanel.scss").intro,children:k.jsxs("div",{className:c("WAWebIntroPanel.scss").body,children:[k.jsx("div",{children:e}),a,m,j]})})]})})}a.displayName=a.name+" [from "+f.id+"]";g.NavBarEmptyState=a}),226);
__d("WAWebOpenLastActiveCommunityAction",["Promise","WALogger","WAWebChatCollection","WAWebChatEntryPoint","WAWebCmd","WAWebDrawerManager","WAWebGroupType","WAWebNavBarEmptyState.react","WAWebNavBarTypes","WAWebSideNavButtonsActivityModel","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=k||c("react"),m=function(){d("WAWebDrawerManager").DrawerManager.openDrawerMid(l.jsx(d("WAWebNavBarEmptyState.react").NavBarEmptyState,{type:d("WAWebNavBarTypes").NavBarItems.Communities}),{transition:"none",disableRotateFocus:!0});return(j||(j=b("Promise"))).resolve(!1)};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebSideNavButtonsActivityModel").getLastActiveCommunity();if(a==null)return m();try{a=d("WAWebChatCollection").ChatCollection.get(a);if(a==null||a.groupType==null)return m();switch(a.groupType){case d("WAWebGroupType").GroupType.COMMUNITY:case d("WAWebGroupType").GroupType.LINKED_SUBGROUP:case d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP:case d("WAWebGroupType").GroupType.LINKED_GENERAL_GROUP:d("WAWebDrawerManager").DrawerManager.closeDrawerMid();return d("WAWebCmd").Cmd.openChatFromUnread(a,d("WAWebChatEntryPoint").ChatEntryPoint.CommunitiesTab);case d("WAWebGroupType").GroupType.DEFAULT:d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[debug] openLastActiveCommunity Attempted to open a group which is not a community"]))).sendLogs("open-last-active-community-error-not-a-community-group");return m()}}catch(a){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[debug] openLastActiveCommunity: unknown error"]))).devConsole(a);return(j||(j=b("Promise"))).resolve(!1)}});return function(){return a.apply(this,arguments)}}();g.openLastActiveCommunity=a}),98);
__d("WAWebUnreadActivityIndicator.react",["react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.pulse;b=b===void 0?!1:b;a=a.ref;return i.jsx("span",babelHelpers["extends"]({ref:a,"data-testid":void 0},{0:{className:"x1rg5ohu x11inojt x16suv20 xo5v014 x1pse0pq x2b8uid x16dsc37 xyp3urf x1obq294 x5a5i1n xde0f50 x15x8krk"},1:{className:"x1rg5ohu x11inojt x16suv20 xo5v014 x1pse0pq x2b8uid x16dsc37 xyp3urf x1obq294 x5a5i1n xde0f50 x15x8krk xnyknk1 x1c74tu6 xa4qsjk"}}[!!b<<0]))}a.displayName=a.name+" [from "+f.id+"]";g.UnreadActivityIndicator=a}),98);
__d("WAWebCommunitiesNavBarItem.react",["fbt","WAWebCommunityActivityCollection","WAWebCommunityDailyUtils","WAWebCommunityFlow.react","WAWebCommunityRefreshed32Icon.react","WAWebCommunityRefreshedFilled32Icon.react","WAWebDrawerManager","WAWebInteractionTracePolicy","WAWebKeyboardTabUtils","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebOpenLastActiveCommunityAction","WAWebSideNavButtonsActivityModel","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnreadActivityIndicator.react","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={dotIndicatorPosition:{insetInlineStart:"x1pe450p",left:null,right:null,bottom:"x1oozmrk",$$css:!0}};function a(a){var b=a.activeNavBarItem,e=a.isNavBarExpanded,f=a.updateActiveNavBarItem;a=function(){if(b===d("WAWebNavBarTypes").NavBarItems.Communities)return;f(d("WAWebNavBarTypes").NavBarItems.Communities);d("WAWebCommunityDailyUtils").incrementCommunityTabEvent(d("WAWebCommunityDailyUtils").CommunityDailyTabMetricsType.TAB_VIEWS);d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.COMMUNITIES);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebCommunityFlow.react").CommunityFlow,{}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast",focusOnUnMount:!0});d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&(d("WAWebSideNavButtonsActivityModel").setLastActiveButton(d("WAWebNavBarTypes").NavBarItems.Communities),void d("WAWebOpenLastActiveCommunityAction").openLastActiveCommunity())};var g=b===d("WAWebNavBarTypes").NavBarItems.Communities?j.jsx(d("WAWebCommunityRefreshedFilled32Icon.react").CommunityRefreshedFilled32Icon,{}):j.jsx(d("WAWebCommunityRefreshed32Icon.react").CommunityRefreshed32Icon,{}),i=c("useWAWebEventTargetValue")(c("WAWebCommunityActivityCollection"),"add change remove community_tab_view",function(){return c("WAWebCommunityActivityCollection").shouldShowTabBadge()});i=i?j.jsx(d("WAWebUnreadActivityIndicator.react").UnreadActivityIndicator,{}):null;var l=h._(/*BTDS*/"Communities");g=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:g,text:l,inlineActivityIndicator:i,inlineActivityIndicatorType:d("WAWebNavBarItem.react").InlineActivityIndicatorType.Dot,title:l,testid:void 0,isExpanded:e,isActive:b===d("WAWebNavBarTypes").NavBarItems.Communities,onClick:a,spacingXstyle:d("WAWebUISpacing").uiPadding.all4,dotIndicatorPositionXstyle:k.dotIndicatorPosition,tracePolicy:c("WAWebInteractionTracePolicy").NAVIGATION_COMMUNITIES});return g}a.displayName=a.name+" [from "+f.id+"]";g.CommunitiesNavBarItem=a}),226);
__d("WAWebComposeBox.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={footer:"_ak1i",botSuggestions:"_anyz",boxPanelWrapper:"_ak1m",pttComposerActive:"_ak1n",textMessageComposerContainer:"_ak1q",textMessageComposerInputContainer:"_ak1r",pttComposerContainer:"_ak1s"};b=a;g["default"]=b}),98);
__d("WAWebConversationNewBanner.react",["WAWebButton.react","WAWebFlex.react","WAWebText.react","react","useWAWebWindowSize"],(function(a,b,c,d,e,f,g){var h,i=h||d("react"),j=1250,k={wrapper:{borderInlineStartWidth:"xpilrb4",borderInlineStartStyle:"x1t7ytsu",borderInlineStartColor:"xmp7qsk",$$css:!0},container:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",backgroundColor:"x1qlhaiu",display:"x78zum5",justifyContent:"x1l1ennw",$$css:!0}};function a(a){var b=a.buttons,e=a.primaryText,f=a.secondaryText;a=a.testId;a=c("useWAWebWindowSize")();a=a.width;a=a<=j?d("WAWebFlex.react").FlexColumn:d("WAWebFlex.react").FlexRow;return i.jsx(d("WAWebFlex.react").FlexColumn,{padding:8,xstyle:k.wrapper,children:i.jsxs(a,{alignSelf:"stretch",align:"center",justify:"all",xstyle:k.container,padding:[16,16,16,16],gap:16,testid:void 0,children:[i.jsxs(d("WAWebFlex.react").FlexColumn,{children:[i.jsx(d("WAWebText.react").WAWebTextTitle,{children:e}),f!=null&&i.jsx(d("WAWebText.react").WAWebTextMuted,{children:f})]}),i.jsx(d("WAWebButton.react").ButtonGroup,{direction:"horizontal",shrink:0,children:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebConversationSpam.react",["fbt","WAWebBlockContactUtils","WAWebBlockContants","WAWebBlocklistCollection","WAWebBox.react","WAWebBusinessProfileTypes","WAWebButton.react","WAWebChatGetters","WAWebChatGroupUtils","WAWebCheckmarkIcon.react","WAWebClickableLink.react","WAWebCmd","WAWebContactGetters","WAWebConversationNewBanner.react","WAWebExitIcon.react","WAWebFbtCommon","WAWebFrontendChatGetters","WAWebFrontendContactGetters","WAWebGroupGatingUtils","WAWebGroupSafetyToolsModal.react","WAWebLeaveCommunityModal.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebReportContactPopup.react","WAWebReportSpamPopup.react","WAWebSendSpamChatAction","WAWebSettingsBlockedIcon.react","WAWebSpamConstants","WAWebSuspendedGroupUtils","WAWebSvgComponentBase","WAWebThumbsDownIcon.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebXIcon.react","fbs","react","useWAWebChatValues","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={link:{display:"xt0psk2",$$css:!0}};function a(a){var b,e,f=a.chat,g=a.onClickDismissSpam;a=a.onClickNotSpam;var i=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();b=d("useWAWebChatValues").useChatValues(f.id,[(b=d("WAWebChatGetters")).getId,b.getIsPSA,b.getIsIAS,(e=d("WAWebFrontendChatGetters")).getShouldAppearInList,e.getTrusted,b.getIsGroup,e.getContact,e.getGroupMetadata]);e=b[0];var m=b[1],n=b[2],o=b[3],p=b[4],q=b[5];b[6];var r=b[7];b=d("useWAWebContactValues").useContactValues(f.contact.id,[(b=d("WAWebContactGetters")).getId,b.getIsBusiness,b.getIsSupportAccount,b.getVerifiedLevel,d("WAWebFrontendContactGetters").getFormattedName,b.getIsMe,d("WAWebFrontendContactGetters").getBusinessProfile,b.getIsMyContact]);b[0];var s=b[1],t=b[2],u=b[3];b[4];var v=b[5];b[6];b[7];d("useWAWebListener").useListener(d("WAWebBlocklistCollection").BlocklistCollection,["add","remove","reset"],i);var w=function(){void d("WAWebSendSpamChatAction").sendReport({chat:f,spamFlow:q===!0?d("WAWebSpamConstants").SpamFlow.GroupSpamBannerReport:d("WAWebSpamConstants").SpamFlow.OneToOneChatSpamBannerReport}),d("WAWebModalManager").ModalManager.close()},x=function(){void d("WAWebSendSpamChatAction").sendSpamExitClear(f,d("WAWebSpamConstants").SpamFlow.GroupSpamBannerReport),d("WAWebModalManager").ModalManager.close()};b=function(){var a=r==null?void 0:r.getParentGroupChat();a!=null&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(f)?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebLeaveCommunityModal.react").LeaveCommunityModal,{chat:a,enableDeactivateIfSuperAdmin:!0,spamFlow:d("WAWebSpamConstants").SpamFlow.GroupSpamBannerReport})):d("WAWebChatGroupUtils").isGroupExitExperienceEnabledForChat(f)?d("WAWebSuspendedGroupUtils").openLeaveAndReportGroupModal(f,d("WAWebSpamConstants").SpamFlow.GroupSpamBannerReport):d("WAWebCmd").Cmd.deleteOrExitChat(f)};i=function(){if(!q){d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebReportContactPopup.react").ReportContactPopupV2,{chat:f,spamFlow:d("WAWebSpamConstants").SpamFlow.OneToOneChatSpamBannerReport}));return}d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebReportSpamPopup.react"),{isMessage:!1,isGroupChat:!0,onReport:w,onReportExitClear:x,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}))};var y=function(){d("WAWebGroupSafetyToolsModal.react").displayGroupSafetyToolsModal()};if(m||n||!o||p||t||v)return null;m=d("WAWebBlocklistCollection").BlocklistCollection.get(e);n=d("WAWebButton.react").WAWebButtonSecondary;o=d("WAWebButton.react").WAWebButtonSecondaryDestructive;p=h._(/*BTDS*/"Stay");t=j.jsxs(n,{testid:void 0,onClick:a,children:[j.jsx("span",{className:"x1rg5ohu xt8t1vi x1xc408v x129tdwq x15urzxu xjbqb8w x5see2y x16hg961 x1pzews7 x1x3agtl x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xr4be5a x1fsxtp x1nxzd9t x14r0qug x1120s5i",children:j.jsx(d("WAWebCheckmarkIcon.react").CheckmarkIcon,{width:14,height:12})}),p]},"not_spam");v=j.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,onClick:g,role:"button",xstyle:[d("WAWebUISpacing").uiMargin.topAuto,d("WAWebUISpacing").uiMargin.bottomAuto],children:j.jsx(d("WAWebXIcon.react").XIcon,{height:24,width:24,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.GRAY_LIGHTER})},"dismiss_spam");e=j.jsx(o,{testid:void 0,onClick:i,icon:d("WAWebThumbsDownIcon.react").ThumbsDownIcon,children:h._(/*BTDS*/"Report")},"report_spam");a=j.jsx(o,{testid:void 0,onClick:b,icon:d("WAWebExitIcon.react").ExitIcon,children:l(f)},"exit_group");var z;p=[];q?(g=h._(/*BTDS*/"You were added by someone not in your contacts. See {safety_tools}.",[h._param("safety_tools",j.jsx(c("WAWebClickableLink.react"),{onClick:y,xstyle:k.link,children:c("fbs")._(/*BTDS*/"safety tools")}))]),p.push(e),p.push(a),p.push(t)):(g=j.jsx(d("WAWebBox.react").Box,{xstyle:d("WAWebUISpacing").uiPadding.end15,children:h._(/*BTDS*/"The sender won't see if you read their messages until you reply or add them as a contact.")}),s&&(u!==d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH?g=h._(/*BTDS*/"This business won't see if you read their messages until you reply or add them as a contact."):u===d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH?g=d("WAWebMiscGatingUtils").isBlueStringsEnabled()?h._(/*BTDS*/"This verified account is not in your contact list."):h._(/*BTDS*/"This official business account is not in your contact list."):g=h._(/*BTDS*/"This business account is not in your contact list.")),m?z=j.jsx(n,{testid:void 0,onClick:function(){return d("WAWebBlockContactUtils").handleUnblock(f.contact,s?d("WAWebBlockContants").BlockEntryPoint.BizSpamBannerBlock:d("WAWebBlockContants").BlockEntryPoint.OneToOneOldSpamBannerBlock)},grow:1,children:c("WAWebFbtCommon")("Unblock")},"unblock"):z=j.jsx(o,{testid:void 0,onClick:function(){return d("WAWebBlockContactUtils").handleBlock(f,s?d("WAWebBlockContants").BlockEntryPoint.BizSpamBannerBlock:d("WAWebBlockContants").BlockEntryPoint.OneToOneOldSpamBannerBlock)},icon:d("WAWebSettingsBlockedIcon.react").SettingsBlockedIcon,grow:1,children:c("WAWebFbtCommon")("Block")},"block"),p.push(e,z,t));q?i=[a,t]:s?i=[z,t]:i=[z,v];return j.jsx(c("WAWebConversationNewBanner.react"),{primaryText:g,buttons:i})}a.displayName=a.name+" [from "+f.id+"]";function l(a){if(d("WAWebGroupGatingUtils").isGroupExitExperienceEnabled()&&!d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a))return c("WAWebFbtCommon")("Exit Group");return d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)?c("WAWebFbtCommon")("Exit Community"):c("WAWebFbtCommon")("Leave Group")}g["default"]=a}),226);
__d("WAWebComposeBoxPopupPanels.react",["WAWebAnimationGroup","WAWebAnimationGroupItem.react","WAWebBizCtwaContextImagePreview.react","WAWebChatGetters","WAWebChatInternalStatusHookWrapper","WAWebComposeBoxExpressionPanels.react","WAWebComposeBoxPanelsMenu.react","WAWebComposeBoxPopupPanel.react","WAWebConversationSpam.react","WAWebFocusIndicator","WAWebFrontendChatGetters","WAWebFrontendMsgGetters","WAWebMediaLinkPreview.react","WAWebMediaLinkPreviewContainer.react","WAWebNoop","WAWebPREGatingUtils","WAWebQuestionReplyQuotedMessage.react","WAWebQuestions.flow","WAWebQuotedMsg.react","WAWebQuotedMsgAdminGroupName.react","WAWebResizeObserver.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUim","WAWebUimUie.react","WAWebVelocityTransitionGroup","cr:5981","gkx","react","stylex","useWAWebChatValues","useWAWebForceUpdate","useWAWebListener","useWAWebMeasure","useWAWebSetModelValue"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o={overlay:{position:"x10l6tqk",bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",left:null,right:null,boxSizing:"x9f619",width:"xh8yej3",$$css:!0},overlayRefresh:{width:"x8pckko",$$css:!0},topPanelContainer:{borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",display:"x1lliihq",$$css:!0},topPanelContainerMaxWidth:{maxWidth:"xazf962",$$css:!0},inputBoxShadow:{boxShadow:"xkfubxc",$$css:!0}};function p(a){var b=a.chat,d=a.onClickDismissSpam;a=a.onClickNotSpam;return k.jsx(c("WAWebConversationSpam.react"),{chat:b,onClickNotSpam:a,onClickDismissSpam:d})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.getComposeBlockWidth,e=a.onEmoji,f=a.onExpressionPanelChange,g=a.onExpressionPanelClose,h=a.onGif,i=a.onSticker,j=a.ref,l=a.restoreFocus;a=a.selectedExpressionPanel;var o=n(null),p=n(),q=function(a){p.current=a};m(j,function(){return{restoreFocus:function(a){var b;(b=o.current)==null||b.restoreFocus(a)}}});j=c("useWAWebMeasure")();var r=j[0];j=j[1];j=j.width>0?j.width:b();b=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),l()};return k.jsx(c("WAWebAnimationGroupItem.react"),{ref:r,children:k.jsx(c("WAWebComposeBoxExpressionPanels.react"),{displayCache:p.current,width:j,onDisplayCache:q,onEmoji:e,onFocusRelease:b,onGif:h,onExpressionPanelChange:f,onSticker:i,requestDismiss:g,ref:o,selectedExpressionPanel:a,theme:d("WAWebComposeBoxPanelsMenu.react").PanelsTheme.ChatComposeBox})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.attachmentButtonHidden,e=a.chat,f=a.isTopmostPanel,g=a.questionType,h=a.rawQuotedMsg,i=a.ref;a=a.restoreFocus;var j=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(e.composeQuotedMsg,"change:latestEditMsgKey",j);var l=d("useWAWebSetModelValue").useSetModelValue(e,"composeQuotedMsg");j=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION);if(a===d("WAWebUim").DismissReason.LIFECYCLE)return;l(null)};return k.jsx(d("WAWebUimUie.react").UIE,{ref:i,displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:a,requestDismiss:j,children:k.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:j,attachmentButtonHidden:b,questionType:g,isTopmostPanel:f,children:k.jsx(c("WAWebQuotedMsg.react"),{msg:h.safe(),composeQuotedMsgRemoteJid:e.composeQuotedMsgRemoteJid,theme:"composeBox",chat:d("WAWebFrontendMsgGetters").getChat(h)},h.id.toString())})})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.isTopmostPanel,e=a.questionReplyQuotedMessage;a=a.ref;return k.jsx(d("WAWebUimUie.react").UIE,{ref:a,displayName:"QuestionReplyQuotedMsg",escapable:!1,children:k.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:c("WAWebNoop"),isTopmostPanel:b,questionType:d("WAWebQuestions.flow").QuestionType.Reply,showCloseButton:!1,children:k.jsx(c("WAWebQuestionReplyQuotedMessage.react"),{questionReplyQuotedMessage:e})})})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.attachmentButtonHidden,e=a.chat,f=a.questionType,g=a.quotedGroupJid,h=a.ref;a=a.restoreFocus;var i=d("useWAWebSetModelValue").useSetModelValue(e,"quotedMsgAdminGroupJid"),j=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION);if(a===d("WAWebUim").DismissReason.LIFECYCLE)return;i(null)};return k.jsx(d("WAWebUimUie.react").UIE,{ref:h,displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:a,requestDismiss:j,children:k.jsx(c("WAWebComposeBoxPopupPanel.react"),{questionType:f,onOmit:j,attachmentButtonHidden:b,isTopmostPanel:!0,children:k.jsx(d("WAWebQuotedMsgAdminGroupName.react").QuotedMsgAdminGroupName,{isComposePreview:!0,quotedGroupJid:g,quotedParentGroupJid:e.quotedMsgAdminGroupSubject!=null?e.quotedMsgAdminParentGroupJid:void 0,quotedGroupSubject:e.quotedMsgAdminGroupSubject},g.toString())})})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.attachmentButtonHidden,e=a.isTopmostPanel,f=a.isUiRefreshM1Enabled,g=a.linkPreviewData,h=a.omitLinkPreview,i=a.questionType;a=a.ref;var j=g.title,l=g.matchedText,m=g.description,n=g.thumbnail,o=g.inviteGrpType,p=g.isLoading,q=g.thumbnailHQ,r=g.thumbnailWidth;g=g.thumbnailHeight;f=f?d("WAWebMediaLinkPreviewContainer.react").getHostnameForUrl(l):l;return k.jsx(d("WAWebUimUie.react").UIE,{ref:a,displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:h,children:k.jsx("div",{"data-testid":void 0,className:"x6ikm8r",children:k.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:h,bodyBackground:!1,attachmentButtonHidden:b,isTopmostPanel:e,questionType:i,children:k.jsx(c("WAWebMediaLinkPreview.react"),{title:j,compose:!0,thumbnailJpegHQ:q,matchedText:f!=null?f:l,description:m,thumbnailJpeg:n,inviteGrpType:o,isLoading:p,thumbnailJpegWidth:r,thumbnailJpegHeight:g})})})})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.attachmentButtonHidden,e=a.ctwaContextData,f=a.ctwaContextLinkData,g=a.isTopmostPanel,h=a.omitCtwa,i=a.questionType;a=a.ref;return k.jsx(d("WAWebUimUie.react").UIE,{ref:a,displayName:"ComposeBoxCtwaContextPreview",escapable:!0,requestDismiss:h,children:k.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:h,questionType:i,attachmentButtonHidden:b,isTopmostPanel:g,children:k.jsx(c("WAWebBizCtwaContextImagePreview.react"),{context:e,sourceUrl:f.sourceUrl,compose:!0})})})}v.displayName=v.name+" [from "+f.id+"]";function a(a,e){var f,g=e.chat,h=e.linkPreviewData,j=e.ctwaContextLinkData,m=e.ctwaContextData,w=e.restoreFocus,x=e.selectedExpressionPanel,y=e.getComposeBlockWidth,z=e.onComposeHeightChange,A=e.omitLinkPreview,B=e.omitCtwa,C=e.attachmentButtonHidden,D=e.onEmoji,E=e.onGif,F=e.onExpressionPanelChange,G=e.onSticker,H=e.onExpressionPanelClose,I=e.showSpamPanel,J=e.onClickNotSpam,K=e.onClickDismissSpam,L=e.questionReplyQuotedMessage;e=e.questionType;var M=n(null),N=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),O=[],P=[];f=d("useWAWebChatValues").useChatValues(g.id,[d("WAWebChatGetters").getIsPSA,(f=d("WAWebFrontendChatGetters")).getShouldAppearInList,f.getComposeQuotedMsg,f.getComposeQuotedMsgRemoteJid,f.getQuotedMsgAdminGroupJid,f.getQuotedMsgAdminGroupSubject,f.getQuotedMsgAdminParentGroupJid,f.getMsgs,f.getContact]);var Q=f[0],R=f[1],S=f[2];f[3];var T=f[4];f[5];f[6];var U=f[7];f[8];I&&!Q&&R&&U&&U.length>0?P.push(k.jsx(p,{chat:g,onClickNotSpam:J,onClickDismissSpam:K})):P.push(null);x&&y()!=null?P.push(k.jsx(q,{getComposeBlockWidth:y,onEmoji:D,onExpressionPanelChange:F,onExpressionPanelClose:H,onGif:E,onSticker:G,restoreFocus:w,ref:a,selectedExpressionPanel:x})):P.push(null);I=(f=c("WAWebChatInternalStatusHookWrapper")(g.id))!=null?f:{};Q=I.hasActiveStatus;c("gkx")("26258")===!1&&d("WAWebChatGetters").getIsGroup(g)===!1&&b("cr:5981")!=null&&Q===!0?O.push(k.jsx(b("cr:5981").InternalStatusWarningComposeBox,{id:g.contact.id,borders:!0,renderImmediately:!0})):O.push(null);L?O.push(k.jsx(s,{questionReplyQuotedMessage:L,isTopmostPanel:O.filter(Boolean).length===0})):S?O.push(k.jsx(r,{chat:g,attachmentButtonHidden:C,rawQuotedMsg:S,isTopmostPanel:O.filter(Boolean).length===0,restoreFocus:w,questionType:e})):T?O.push(k.jsx(t,{chat:g,restoreFocus:w,quotedGroupJid:T,questionType:e})):O.push(null);h?O.push(k.jsx(u,{linkPreviewData:h,isTopmostPanel:O.filter(Boolean).length===0,omitLinkPreview:A,isUiRefreshM1Enabled:N,questionType:e})):O.push(null);j?O.push(k.jsx(v,{ctwaContextLinkData:j,isTopmostPanel:O.filter(Boolean).length===0,omitCtwa:B,ctwaContextData:m,questionType:e})):O.push(null);R=O.filter(Boolean).length>0;U=[o.overlay];N&&(U.push(o.overlayRefresh,d("WAWebUISpacing").uiMargin.horiz12),R&&U.push(d("WAWebUISpacing").uiMargin.top6));var V=n(null),W=function(){var a,b=M==null||(a=M.current)==null?void 0:a.clientHeight;if(V.current===b&&d("WAWebPREGatingUtils").isPREResizeEnabled())return;z({overlay:b},!0);V.current=b};l(function(){N&&W()},[]);J=function(a,b){b===void 0&&(b=!1),z({overlay:a},b)};K=k.jsx("div",{className:"x10l6tqk x13vifvy x1o0tod xh8yej3",children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(U),{ref:M,children:N?k.jsxs(k.Fragment,{children:[P,k.jsx(c("WAWebResizeObserver.react"),{onResize:W,children:k.jsx(c("WAWebVelocityTransitionGroup"),{displayName:"ComposeBoxPanels",transitionName:"compose-panel-down",xstyle:[o.topPanelContainer,e==null&&o.inputBoxShadow,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUIRefreshGatingUtils").restrictMessageListWidth()===!0&&o.topPanelContainerMaxWidth],children:O})})]}):k.jsx(c("WAWebAnimationGroup"),{onHeightChange:J,children:[].concat(P,O).map(function(a,b){return a!=null?k.jsx(c("WAWebAnimationGroupItem.react"),{children:a},b):null})})}))});return{PopupPanels:K,hasTopPanels:R}}g.useComposePopupPanels=a}),98);
__d("WAWebDivider.react",["WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={divider:{height:"x1qx5ct2",borderInlineEndWidth:"x1lun4ml",borderInlineEndStyle:"x18b5jzi",borderInlineEndColor:"xuh3joz",opacity:"xbyyjgo",$$css:!0}};function a(a){a=a.noMargin;a=a===void 0?!1:a;return j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.divider,d("WAWebUISpacing").uiMargin.end10,d("WAWebUISpacing").uiMargin.start18,a&&d("WAWebUISpacing").uiMargin.all0)))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WDSIconIcDelete.react",["WDSSvgComponentBase.react","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","viewBox"],i,j,k=i||c("react"),l="ic-delete";function a(a){var b=a.iconXstyle,d=a.height,e=a.width,f=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var g;if(f){var i=f.x;i=i===void 0?0:i;var m=f.y;m=m===void 0?0:m;var n=f.width;n=n===void 0?0:n;f=f.height;f=f===void 0?0:f;g=[i,m,n,f].join(" ")}i=24;m=24;(d!=null||e!=null)&&(i=d,m=e);return k.jsx(c("WDSSvgComponentBase.react"),babelHelpers["extends"]({},a,{children:k.jsxs("svg",{viewBox:g!=null?g:"0 0 24 24",height:i,width:m,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M7 21C6.45 21 5.97917 20.8042 5.5875 20.4125C5.19583 20.0208 5 19.55 5 19V6C4.71667 6 4.47917 5.90417 4.2875 5.7125C4.09583 5.52083 4 5.28333 4 5C4 4.71667 4.09583 4.47917 4.2875 4.2875C4.47917 4.09583 4.71667 4 5 4H9C9 3.71667 9.09583 3.47917 9.2875 3.2875C9.47917 3.09583 9.71667 3 10 3H14C14.2833 3 14.5208 3.09583 14.7125 3.2875C14.9042 3.47917 15 3.71667 15 4H19C19.2833 4 19.5208 4.09583 19.7125 4.2875C19.9042 4.47917 20 4.71667 20 5C20 5.28333 19.9042 5.52083 19.7125 5.7125C19.5208 5.90417 19.2833 6 19 6V19C19 19.55 18.8042 20.0208 18.4125 20.4125C18.0208 20.8042 17.55 21 17 21H7ZM17 6H7V19H17V6ZM10 17C10.2833 17 10.5208 16.9042 10.7125 16.7125C10.9042 16.5208 11 16.2833 11 16V9C11 8.71667 10.9042 8.47917 10.7125 8.2875C10.5208 8.09583 10.2833 8 10 8C9.71667 8 9.47917 8.09583 9.2875 8.2875C9.09583 8.47917 9 8.71667 9 9V16C9 16.2833 9.09583 16.5208 9.2875 16.7125C9.47917 16.9042 9.71667 17 10 17ZM14 17C14.2833 17 14.5208 16.9042 14.7125 16.7125C14.9042 16.5208 15 16.2833 15 16V9C15 8.71667 14.9042 8.47917 14.7125 8.2875C14.5208 8.09583 14.2833 8 14 8C13.7167 8 13.4792 8.09583 13.2875 8.2875C13.0958 8.47917 13 8.71667 13 9V16C13 16.2833 13.0958 16.5208 13.2875 16.7125C13.4792 16.9042 13.7167 17 14 17Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPttCancelButton.react",["fbt","WDSIconIcDelete.react","WDSMenuBarItem.react","react"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l=k||c("react"),m=(j||(j=d("react"))).useRef;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var d=a.confirmOnMouseUp,e=a.onConfirm;a=a.tabOrder;var f=m(!1),g=function(a){f.current=!0,window.addEventListener("mouseup",function(){f.current=!1},{once:!0})},j=function(a){if(!d)return;if(f.current)return;a.button===0&&e(a)},k=function(a){a!=null&&e(a)},n=h._(/*BTDS*/"Cancel");return l.jsx("button",{onMouseUp:j,onMouseDown:g,"aria-label":n,children:l.jsx(c("WDSMenuBarItem.react"),{ref:b,testid:void 0,onClick:k,tabOrder:a,title:n,icon:c("WDSIconIcDelete.react")})})}a.displayName=a.name+" [from "+f.id+"]";g.PttCancelButton=a}),226);
__d("WAWebRecordingSessionStateEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["NOT_STARTED","RECORDING","PAUSED","STOPPED","ERROR"]);f.RecordingSessionState=a}),66);
__d("WAWebPttComposerRecordingSessionGetters",["WAWebGetters","WAWebGettersCaches","WAWebRecordingSessionStateEnum"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories({createCache:d("WAWebGettersCaches").createRecordingSessionCache});b=a.field;c=a.computed;e=a.clearCacheFor;f=e;a=b("exceedsMinDuration");e=b("recordingState");c=c(function(a){a=a[0];return a===d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING},[e]);e=b("isViewOnce");g.clearRecordingSessionGetterCacheFor=f;g.getExceedsMinDuration=a;g.getIsRecording=c;g.getIsViewOnce=e}),98);
__d("WAWebPttComposerStreamingEncryptor",["Promise","WACryptoAesCbc","WACryptoHmac","WAMediaCalculateFilehash","WAMediaCrypto","WATypedArraysConcat","WAWebCryptoCreateMediaKeys","WAWebMmsMediaTypes","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i=function(){function a(a){var c=a.mediaKeys,e=a.encKey,f=a.onChunkEncrypted;a=a.onEncryptionCompleted;this.$6=(h||(h=b("Promise"))).resolve();this.$3=c;this.$4=e;this.$5=d("WACryptoAesCbc").getIv(this.$3.iv);this.$2=[this.$5];this.$1=new Uint8Array([]);this.$8=f;this.$9=a;this.$7=!1}var e=a.prototype;e.getMediaKeys=function(){return this.$3};e.encryptChunk=function(a,e){var f=this;if(this.$7)throw c("err")("Encryption was already finalized");e&&(this.$7=!0);var g=this.$10(a,e);if(g==null)return;this.$6=this.$6.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WACryptoAesCbc").aesCbcEncryptChunk(e,g,f.$5,f.$4));f.$8==null||f.$8(a.encryptedChunk);f.$11(a,e)}))};e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){this.$2.push(a.encryptedChunk);this.$5=a.nextIv;if(!b)return;a=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,this.$2,d("WAMediaCrypto").HMAC_LENGTH);b=this.$2[0].byteLength;var c=a.byteLength-d("WAMediaCrypto").HMAC_LENGTH,e=a.subarray(0,c);e=(yield d("WACryptoHmac").hmacSha256(this.$3.macKey,e,d("WAMediaCrypto").HMAC_LENGTH));a.set(new Uint8Array(e),c);c=a.subarray(b);a=(yield d("WAMediaCalculateFilehash").calculateFilehash(c));(b=this.$9)==null||b.call(this,e,a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$10=function(a,b){this.$1=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[this.$1,a]);if(this.$1.length>=d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE||b){a=b?this.$1.length:Math.floor(this.$1.length-this.$1.length%d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE);b=this.$1.slice(0,a);b.subarray();var c=new Uint8Array(this.$1.length-a);c.set(this.$1.slice(a,this.$1.length));this.$1=c;return b}};return a}();function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebCryptoCreateMediaKeys")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,a.mediaKey)),e=(yield d("WACryptoAesCbc").importRawKey(b.encKey));return new i({mediaKeys:b,encKey:e,onChunkEncrypted:a.onChunkEncrypted,onEncryptionCompleted:a.onEncryptionCompleted})});return j.apply(this,arguments)}g.StreamingEncryptor=i;g.createStreamingEncryptor=a}),98);
__d("WAWebWamEnumPttResultType",[],(function(a,b,c,d,e,f){a=Object.freeze({SENT:1,CANCELLED:2,TOO_SHORT:3});f.PTT_RESULT_TYPE=a}),66);
__d("WAWebWamEnumPttSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({FROM_CONVERSATION:0,FROM_VOICEMAIL:1});f.PTT_SOURCE_TYPE=a}),66);
__d("WAWebPttWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ptt:[458,{isMetaAiThread:[15,a.TYPES.BOOLEAN],pttAvgNoiseLoudness:[11,a.TYPES.NUMBER],pttAvgNoiseLoudnessReduction:[12,a.TYPES.NUMBER],pttAvgSpeechLoudness:[13,a.TYPES.NUMBER],pttAvgSpeechLoudnessReduction:[14,a.TYPES.NUMBER],pttDraftPlayCnt:[7,a.TYPES.INTEGER],pttDraftSeekCnt:[8,a.TYPES.INTEGER],pttDuration:[5,a.TYPES.TIMER],pttLock:[4,a.TYPES.BOOLEAN],pttPauseCnt:[9,a.TYPES.INTEGER],pttResult:[1,d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE],pttSize:[3,a.TYPES.NUMBER],pttSource:[2,d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE],pttStop:[6,a.TYPES.BOOLEAN],pttStopTapCnt:[10,a.TYPES.INTEGER]},[1,1,1],"regular"]},{Ptt:[]});g.PttWamEvent=b}),98);
__d("WAWebUploadStreamerRefactorGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_ptt_streamer_upload")}g.isUploadStreamerRefactorEnabled=a}),98);
__d("WAWebPttComposerRecordingSession",["fbt","invariant","$InternalEnum","Promise","WAAbortError","WALogger","WAMediaCalculateFilehash","WANullthrows","WAPromiseRaceAbort","WAPttComposerRecorder","WAPttComposerScaleWaveform","WARandomHex","WAWebAppTracker","WAWebBaseModel","WAWebBotProfileCollection","WAWebBotUtils","WAWebCallCollection","WAWebConfirmPopup.react","WAWebCreateMediaUploadMetrics","WAWebCryptoRandomMediaKey","WAWebFrontendChatGetters","WAWebGuidePopup.react","WAWebMedia","WAWebMediaCapture","WAWebMediaGetUploadOriginForChat","WAWebMediaLoad","WAWebMediaOpaqueData","WAWebMiscErrors","WAWebMmsClientUploadStreamer","WAWebMmsMediaTypes","WAWebModalManager","WAWebNoop","WAWebPresenceChatAction","WAWebPresenceCollection","WAWebPttAudioChannels","WAWebPttAudioManager","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerStreamingEncryptor","WAWebPttDailyUtils","WAWebPttWamEvent","WAWebRecordingSessionStateEnum","WAWebSerializeError","WAWebTimeSpentLoggingExternal","WAWebUploadStreamerRefactorGatingUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType","WAWebWamEnumTsExternalEventSource","WAWebWamMediaMetricUtils","asyncToGeneratorRuntime","err","lodash","react"],(function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=J||c("react"),L=b("$InternalEnum").Mirrored(["CANCEL_BUTTON","PTT_TOO_SHORT","SENT","OTHER"]),M=1,N=8.5,O=64;e=function(a){function e(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.id=d("WAWebBaseModel").prop(),b.duration=d("WAWebBaseModel").prop(0),b.exceedsMinDuration=d("WAWebBaseModel").prop(!1),b.isViewOnce=d("WAWebBaseModel").prop(!1),b.recordingState=d("WAWebBaseModel").prop(d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED),b._hasStreamingUploadFailed=d("WAWebBaseModel").prop(!1),b._draftPreviewSeen=d("WAWebBaseModel").prop(!1),b._draftPlayCount=d("WAWebBaseModel").prop(0),b._draftSeekCount=d("WAWebBaseModel").prop(0),b._pauseCount=d("WAWebBaseModel").prop(0),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.initialize=function(){var b=this;a.prototype.initialize.call(this);var c=null;this.on("change:recordingState",function(){b._endTsExternalEvent==null||b._endTsExternalEvent();if(b._chat==null)return;d("WAWebPttComposerRecordingSessionGetters").getIsRecording(b)?(c=d("WAWebPttAudioChannels").MainAudioChannel.claim(b,function(){b.pause()}),d("WAWebPresenceChatAction").markRecording(b._chat),b._endTsExternalEvent=d("WAWebTimeSpentLoggingExternal").beginTsExternalEvent(d("WAWebWamEnumTsExternalEventSource").TS_EXTERNAL_EVENT_SOURCE.PTT_RECORD)):(c==null||c(),d("WAWebPresenceChatAction").markPaused(b._chat))})};f.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return this.resume();case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't start recording from state "+this.recordingState)}var e=c("WAWebCreateMediaUploadMetrics")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,c("WAWebMediaGetUploadOriginForChat")(this._chat),0,!1,!1),f=e.handleUploadHostFound,g=e.handleUploadAttemptSuccess,h=e.handleUploadAttemptError,i=e.handleUploadSuccess,p=e.handleUploadError,q=e.handleEncryptionStart,r=e.handleEncryptionSuccess,s=e.handleStreamUploadStart,t=e.handleUploadProgress;e=e.handleSendMessageStart;this._handleSendMessageStart=e;if(d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()){var u=c("WAWebCryptoRandomMediaKey")();this._earlyUploadPromise=new(I||(I=b("Promise")))(function(b){a._resolveEarlyUploadPromise=b});e=new AbortController();this._uploaderAbortController=e;var v=(yield d("WAMediaCalculateFilehash").getRandomFilehash()),w=new(d("WAWebMmsClientUploadStreamer").UploadStreamer)({encFilehash:v,token:v,type:d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,signal:e.signal,byteOffset:0,onUploadHostFound:f,onUploadAttemptSuccess:g,onUploadAttemptError:h,onProgress:function(a,b){t(a.loaded+b)},onStreamUploadStart:s,mediaId:d("WAWebWamMediaMetricUtils").generateMediaEventId()});w.startUploadFromClient();this._encryptor=(yield d("WAWebPttComposerStreamingEncryptor").createStreamingEncryptor({mediaKey:u.key,onChunkEncrypted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{yield w.uploadChunkFromClient(b)}catch(b){a._resolveEarlyUploadPromise==null||a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["onChunkEncrypted: ptt-streaming-upload-error: ",""])),b.message);d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem uploading"]))).devConsole(b).sendLogs("ptt-streaming-upload-failed");p(b)}});function e(a){return c.apply(this,arguments)}return e}(),onEncryptionCompleted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){r();try{yield w.uploadChunkFromClient(new Uint8Array(b));b=(yield w.finalizeUploadFromClient(c));a._resolveEarlyUploadPromise==null||a._resolveEarlyUploadPromise({directPath:b.directPath,mediaKey:u.key,mediaKeyTimestamp:u.timestamp,encFilehash:c,url:b.url});i()}catch(b){a._resolveEarlyUploadPromise==null||a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["onEncryptionCompleted: ptt-streaming-upload-error: ",""])),b.message);d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem when finalizing upload"]))).devConsole(b).sendLogs("ptt-streaming-upload-failed");p(b)}});function e(a,b){return c.apply(this,arguments)}return e}()}))}try{var x=!0;this._recorder=new(c("WAPttComposerRecorder"))({createStream:R,waveformSampleRate:this.getWaveformSampleRate(),onDuration:function(b){a.duration=b,a.exceedsMinDuration=b>=M},onPage:function(b,c){if(!d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()||a._hasStreamingUploadFailed)return;try{var e;x&&(q(),x=!1);(e=a._encryptor)==null||e.encryptChunk(b,c)}catch(b){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem encrypting"]))).devConsole(b),a._resolveEarlyUploadPromise==null||a._resolveEarlyUploadPromise(null),a._hasStreamingUploadFailed=!0}}});v=(yield this._recorder.start());if(v){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.RecordPTT);d("WAWebPresenceCollection").PresenceCollection.update(this._chat.presence.id);d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.RECORD,c("WANullthrows")(d("WAWebFrontendChatGetters").getKind(this._chat)));return!0}}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["PTT Recording Error\n",""],["PTT Recording Error\\n",""])),c("WAWebSerializeError")(a)).devConsole(a)}this._endSession();this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;return!1});function e(){return a.apply(this,arguments)}return e}();f.getLiveWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getLiveWaveformSamples())!=null?a:[]};f.getCorrectedWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getCorrectedWaveformSamples())!=null?a:[]};f.getScaledWaveformSamples=function(){return c("WAPttComposerScaleWaveform")(this.getCorrectedWaveformSamples(),O).map(function(a){return Math.floor(a*100)})};f.getPreciseDuration=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getPreciseDuration())!=null?a:0};f._endSession=function(){var a;(a=this._recorder)==null||a.stop()};f.pause=function(){if(this.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING)return;if(!this.exceedsMinDuration){this.stop(L.PTT_TOO_SHORT);return}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.RecordPTT);var a=c("WANullthrows")(this._recorder);a.pause()};f.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't resume recording from state "+this.recordingState)}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;try{var a=c("WANullthrows")(this._recorder);a=(yield a.resume());if(!a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;return!1}d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.RecordPTT);return!0}catch(a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Error resuming recording session\n",""],["Error resuming recording session\\n",""])),c("WAWebSerializeError")(a));return!1}});function e(){return a.apply(this,arguments)}return e}();f.stop=function(a){if(this.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED)return;this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED;d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.RecordPTT);this._endSession();if(this._recorder==null)return;a===L.SENT?d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.SEND,c("WANullthrows")(d("WAWebFrontendChatGetters").getKind(this._chat))):this.duration>M&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.CANCEL,c("WANullthrows")(d("WAWebFrontendChatGetters").getKind(this._chat)));a!==L.SENT&&this._uploaderAbortController&&this._uploaderAbortController.abort();a=Q(a);a!=null&&this._sendPttWamEvent(a)};f._getDataForSending=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: _getDataForSending started"])));var a=c("WANullthrows")(this._recorder);a=(yield a.getCompleteRecording());d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Got complete recording, size: "," bytes, type: ",""])),a.size,a.type);a=(yield c("WAWebMediaOpaqueData").createFromData(a,a.type));d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Created OpaqueData successfully"])));return a}catch(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Error in _getDataForSending"])));throw a}});function e(){return a.apply(this,arguments)}return e}();f._getDataForPlayback=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WANullthrows")(this._recorder);a=(yield a.getPartialRecording());a=(yield d("WAWebMediaLoad").transcode(a));return c("WAWebMediaOpaqueData").createFromData(a,a.type)});function e(){return a.apply(this,arguments)}return e}();f.getAudioForPlayback=function(){var a=this;return new T(function(){return a._getDataForPlayback()})};f.getWaveformSampleRate=function(){return N};f.send=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a===void 0&&(a=!1);try{var e,f;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: send started with isViewOnce=",", isWamoSub=",""])),a,b);(e=this._handleSendMessageStart)==null||e.call(this,a);this._recorder||d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Recorder is null in send method"])));e=c("WANullthrows")(this._recorder);var g=this._chat;d("WALogger").LOG(w||(w=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Getting data for sending"])));var h=c("WAPromiseRaceAbort")(this._getDataForSending(),g.getDeleteSignal());f=((f=g.getComposeContents())==null?void 0:f.ctwaContext)||void 0;d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Before prepRawMedia, duration=",", waveform samples=",""])),Math.floor(e.getDuration()),this.getScaledWaveformSamples().length);var i;try{i=d("WAWebMedia").prepRawMedia(h,{isPtt:!0,precomputedFields:{duration:Math.floor(e.getDuration()),waveform:new Uint8Array(this.getScaledWaveformSamples())}}),d("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: prepRawMedia completed successfully"])))}catch(a){d("WALogger").ERROR(z||(z=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Error in prepRawMedia"])));throw a}d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Early upload promise status: ",""])),this._earlyUploadPromise?"exists":"null");e=null;if(d("WAWebBotUtils").isMetaAiBot(g.id)){var j;e=(j=d("WAWebBotProfileCollection").BotProfileCollection.get(g.id))==null?void 0:j.personaId}try{i.sendToChat(g,{quotedMsg:g.composeQuotedMsg||void 0,addEvenWhilePreparing:!a,ctwaContext:f,isViewOnce:a,isWamoSub:b,botPersonaId:e},this._earlyUploadPromise),d("WALogger").LOG(B||(B=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: sendToChat called successfully"])))}catch(a){d("WALogger").ERROR(C||(C=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Error in sendToChat:"])));throw a}g.composeQuotedMsg=null;d("WALogger").LOG(D||(D=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Stopping recording session with SENT reason"])));this.stop(L.SENT);try{yield h["catch"](d("WAAbortError").catchAbort(c("WAWebNoop"))),d("WALogger").LOG(E||(E=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: getData completed or was aborted"])))}catch(a){d("WALogger").ERROR(F||(F=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Error in getData: ",""])),a)}d("WALogger").LOG(G||(G=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: send method completed successfully"])))}catch(a){d("WALogger").ERROR(H||(H=babelHelpers.taggedTemplateLiteralLoose(["WAWebPttComposerRecordingSession: Unhandled error in send method"])));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();f._sendPttWamEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("WANullthrows")(this._recorder);b=(yield b.getCompleteRecording());new(d("WAWebPttWamEvent").PttWamEvent)({pttSource:d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE.FROM_CONVERSATION,pttResult:a,pttDuration:Math.round(this.duration)*1e3,pttSize:c("lodash").round((a=b.size)!=null?a:0,-3),pttStop:this._draftPreviewSeen,pttDraftPlayCnt:this._draftPlayCount,pttDraftSeekCnt:this._draftSeekCount,pttPauseCnt:this._pauseCount}).commit()});function e(b){return a.apply(this,arguments)}return e}();f.markDraftPreviewSeen=function(){if(this._draftPreviewSeen)return;this._draftPreviewSeen=!0;d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.DRAFT_REVIEW,c("WANullthrows")(d("WAWebFrontendChatGetters").getKind(this._chat)))};f.incrementDraftPlayCount=function(){this._draftPlayCount++};f.incrementDraftSeekCount=function(){this._draftSeekCount++};f.incrementPauseButtonCount=function(){this._pauseCount++,this._pauseCount===1&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.PAUSED_RECORD,c("WANullthrows")(d("WAWebFrontendChatGetters").getKind(this._chat)))};f["delete"]=function(){a.prototype["delete"].call(this),d("WAWebPttComposerRecordingSessionGetters").clearRecordingSessionGetterCacheFor(this)};return e}(d("WAWebBaseModel").BaseModel);e.Proxy="recordingSession";var P=d("WAWebBaseModel").defineModel(e);function a(a){return new P({id:d("WARandomHex").randomHex(8),_chat:a.chat})}function Q(a){switch(a){case L.SENT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.SENT;case L.PTT_TOO_SHORT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.TOO_SHORT;case L.CANCEL_BUTTON:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.CANCELLED;case L.OTHER:return null}}function R(a){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("WAWebCallCollection").activeCall){d("WAWebModalManager").ModalManager.open(K.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"Can't record voice messages during a WhatsApp call.")}));return null}var b=d("WAWebMediaCapture").start({type:"microphone",featureSurface:d("WAWebGuidePopup.react").FeatureSurface.VOICE_MESSAGES}),e=b.disposeStream;b=b.asyncStream;a.addEventListener("abort",function(){e()},{once:!0});try{return yield b}catch(b){if(b instanceof d("WAWebMiscErrors").GetUserMedia.NotAllowedError){d("WAWebModalManager").ModalManager.open(K.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.MIC_FAIL,type:a.GuidePopupType.GUIDE_UNBLOCK,featureSurface:a.FeatureSurface.VOICE_MESSAGES}));return null}if(b instanceof d("WAWebMiscErrors").GetUserMedia.GetUserMediaError){d("WAWebModalManager").ModalManager.open(K.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.MIC_MISSING,type:a.GuidePopupType.GUIDE_NONE,featureSurface:a.FeatureSurface.VOICE_MESSAGES}));return null}throw b}});return S.apply(this,arguments)}var T=function(){function a(a){var c=this;this._opaqueDataPromise=a();a=d("WAWebPttAudioManager").AudioManager.createAudioProxy();this._audio=a;this._unregisterFromAudioChannel=d("WAWebPttAudioChannels").MainAudioChannel.registerMedia(a);b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c._opaqueDataPromise),b=c._audio;if(b==null)return;b.src=a.url()})()}var c=a.prototype;c.getAudio=function(){this._audio!=null||i(0,56371);return this._audio};c.dispose=function(){var a=this,c=this._audio;if(c==null)return;this._unregisterFromAudioChannel();this._audio=null;b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a._opaqueDataPromise);b.autorelease()})()};return a}();g.RecordingSessionStopReason=L;g.RecordingSession=P;g.createRecordingSession=a;g.AudioResource=T}),226);
__d("WAWebWamEnumChatbarInitialState",[],(function(a,b,c,d,e,f){a=Object.freeze({EMPTY:1,CONTAINS_DRAFT:2});f.CHATBAR_INITIAL_STATE=a}),66);
__d("WAWebWamEnumPttMessageUserJourneyAction",[],(function(a,b,c,d,e,f){a=Object.freeze({START:1,PAUSE:2,RESUME:3,FAIL:4,SEND:5,DELETE:6,AUTO_CANCEL:7,LOCK:8,DRAFT_SAVED:9});f.PTT_MESSAGE_USER_JOURNEY_ACTION=a}),66);
__d("WAWebWamEnumPttMessageUserJourneyFailureReason",[],(function(a,b,c,d,e,f){a=Object.freeze({FAIL_OTHER:1,FAIL_CREATE_RECORDER:2,FAIL_PREPARE_RECORDER:3,FAIL_START_RECORDER:4,FAIL_RESUME_RECORDER:5,FAIL_MIC_PERMISSION:6,FAIL_STORAGE_READ_WRITE_PERMISSION:7,FAIL_MINIMUM_STORAGE_REQUIREMENT:8,FAIL_PAUSE_RECORDER:9,FAIL_MOVE_PTT_FILE_TO_PERMANENT_STORAGE_ON_SEND:10,FAIL_STORE_PTT_FILE_IN_DRAFT_CACHE:11,FAIL_RECORDER_STOP:12,FAIL_DRAFT_PLAYBACK_START:13,FAIL_DRAFT_PLAYBACK_SEEK:14,FAIL_MIC_AND_STORAGE_READ_WRITE_PERMISSION:15});f.PTT_MESSAGE_USER_JOURNEY_FAILURE_REASON=a}),66);
__d("WAWebWamEnumPttMessageUserJourneyStage",[],(function(a,b,c,d,e,f){a=Object.freeze({NORMAL:1,LOCKED:2});f.PTT_MESSAGE_USER_JOURNEY_STAGE=a}),66);
__d("WAWebWamEnumPttWaveformResult",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:1,ALL_ZEROES:2,ALL_ONES:3,MISSING:4});f.PTT_WAVEFORM_RESULT=a}),66);
__d("WAWebPttMessageUserJourneyWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChatbarInitialState","WAWebWamEnumPttMessageUserJourneyAction","WAWebWamEnumPttMessageUserJourneyFailureReason","WAWebWamEnumPttMessageUserJourneyStage","WAWebWamEnumPttWaveformResult","WAWebWamEnumTsSurface","WAWebWamEnumUserJourneyChatType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({PttMessageUserJourney:[5402,{appSessionId:[1,a.TYPES.STRING],chatbarInitialState:[7,d("WAWebWamEnumChatbarInitialState").CHATBAR_INITIAL_STATE],isMetaAiThread:[12,a.TYPES.BOOLEAN],pttIntensityAggregateValue:[14,a.TYPES.NUMBER],pttMessageUserJourneyAction:[2,d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION],pttMessageUserJourneyContainsQuotedItem:[11,a.TYPES.BOOLEAN],pttMessageUserJourneyFailureReason:[9,d("WAWebWamEnumPttMessageUserJourneyFailureReason").PTT_MESSAGE_USER_JOURNEY_FAILURE_REASON],pttMessageUserJourneyStage:[3,d("WAWebWamEnumPttMessageUserJourneyStage").PTT_MESSAGE_USER_JOURNEY_STAGE],pttWaveformResult:[13,d("WAWebWamEnumPttWaveformResult").PTT_WAVEFORM_RESULT],uiSurface:[4,d("WAWebWamEnumTsSurface").TS_SURFACE],unifiedSessionId:[10,a.TYPES.STRING],userJourneyChatType:[5,d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE],userJourneyEventMs:[8,a.TYPES.INTEGER],userJourneyFunnelId:[6,a.TYPES.STRING]},[1,1,1],"regular"]},{PttMessageUserJourney:[]});g.PttMessageUserJourneyWamEvent=b}),98);
__d("WAWebPttMessageUserJourneyLogger",["WALogger","WATimeUtils","WAWebABProps","WAWebPonyfillsCryptoRandomUUID","WAWebPttMessageUserJourneyWamEvent","WAWebWamEnumChatbarInitialState","WAWebWamEnumPttMessageUserJourneyAction","WAWebWamEnumTsSurface","WAWebWamEnumUserJourneyChatType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){j.unifiedSessionId=c("WAWebPonyfillsCryptoRandomUUID")()}var j=function(){function a(a){a===void 0&&(a=c("WAWebPonyfillsCryptoRandomUUID")()),this.loggingEnabled=!1,this.$3=!1,this.loggingEnabled=d("WAWebABProps").getABPropConfigValue("ptt_user_journey_logging_wam_enabled"),this.$1=a,this.loggingEnabled&&(i(),window.addEventListener("focus",i))}var b=a.prototype;b.setHasDraft=function(a){a===void 0&&(a=!0),this.$3=a};b.start=function(a){this.$3=!1,this.$4({chatId:a,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD,action:d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.START})};b.pause=function(a){this.$4({chatId:a,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD,action:d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.PAUSE})};b.resume=function(a){this.$4({chatId:a,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD,action:d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.RESUME})};b.send=function(a){this.$4({chatId:a,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD,action:d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.SEND}),this.$3=!1};b["delete"]=function(a){this.$4({chatId:a,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD,action:d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.DELETE}),this.$3=!1};b.draftSaved=function(a){this.$4({chatId:a,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD,action:d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.DRAFT_SAVED})};b.$4=function(b){if(!this.loggingEnabled)return;var e=a.unifiedSessionId;if(e==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[uj] [ptt message] Unified session ID is null"])));return}k(b.action)&&this.$2==null&&(this.$2=c("WAWebPonyfillsCryptoRandomUUID")());var f=this.$2;if(f==null)return;var g=m(b.chatId),i=new(d("WAWebPttMessageUserJourneyWamEvent").PttMessageUserJourneyWamEvent)();i.appSessionId=this.$1;i.unifiedSessionId=e;i.userJourneyFunnelId=f;i.uiSurface=b.uiSurface;g!=null&&(i.userJourneyChatType=g);i.userJourneyEventMs=d("WATimeUtils").unixTimeMs();i.chatbarInitialState=this.$3?d("WAWebWamEnumChatbarInitialState").CHATBAR_INITIAL_STATE.CONTAINS_DRAFT:d("WAWebWamEnumChatbarInitialState").CHATBAR_INITIAL_STATE.EMPTY;i.pttIntensityAggregateValue=0;i.pttMessageUserJourneyAction=b.action;i.commit();l(b.action)&&(this.$2=null)};return a}();function k(a){return a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.AUTO_CANCEL||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.FAIL||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.DRAFT_SAVED?!1:a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.START||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.RESUME||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.PAUSE||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.DELETE||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.SEND||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.LOCK?!0:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+a)}()}function l(a){return a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.SEND||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.AUTO_CANCEL||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.FAIL||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.DRAFT_SAVED||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.DELETE?!0:a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.START||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.RESUME||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.PAUSE||a===d("WAWebWamEnumPttMessageUserJourneyAction").PTT_MESSAGE_USER_JOURNEY_ACTION.LOCK?!1:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+a)}()}function m(a){if(a.isUser())return d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE.INDIVIDUAL;else if(a.isGroup())return d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE.GROUP;else if(a.isNewsletter())return d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE.CHANNEL;return null}a=new j();g.PttMessageUserJourneyLogger=a}),98);
__d("WDSIconIcKeyboardVoiceFilled.react",["WDSSvgComponentBase.react","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","viewBox"],i,j,k=i||c("react"),l="ic-keyboard-voice-filled";function a(a){var b=a.iconXstyle,d=a.height,e=a.width,f=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var g;if(f){var i=f.x;i=i===void 0?0:i;var m=f.y;m=m===void 0?0:m;var n=f.width;n=n===void 0?0:n;f=f.height;f=f===void 0?0:f;g=[i,m,n,f].join(" ")}i=24;m=24;(d!=null||e!=null)&&(i=d,m=e);return k.jsx(c("WDSSvgComponentBase.react"),babelHelpers["extends"]({},a,{children:k.jsxs("svg",{viewBox:g!=null?g:"0 0 24 24",height:i,width:m,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M12 14C11.1667 14 10.4583 13.7083 9.875 13.125C9.29166 12.5417 9 11.8333 9 11V5C9 4.16667 9.29166 3.45833 9.875 2.875C10.4583 2.29167 11.1667 2 12 2C12.8333 2 13.5417 2.29167 14.125 2.875C14.7083 3.45833 15 4.16667 15 5V11C15 11.8333 14.7083 12.5417 14.125 13.125C13.5417 13.7083 12.8333 14 12 14ZM12 21C11.7167 21 11.4792 20.9042 11.2875 20.7125C11.0958 20.5208 11 20.2833 11 20V17.9C9.45 17.7 8.13333 17.0583 7.05 15.975C5.96666 14.8917 5.30833 13.5917 5.075 12.075C5.025 11.7917 5.1 11.5417 5.3 11.325C5.5 11.1083 5.76666 11 6.1 11C6.33333 11 6.54166 11.0875 6.725 11.2625C6.90833 11.4375 7.025 11.65 7.075 11.9C7.29166 13.0667 7.85833 14.0417 8.775 14.825C9.69166 15.6083 10.7667 16 12 16C13.2333 16 14.3083 15.6083 15.225 14.825C16.1417 14.0417 16.7083 13.0667 16.925 11.9C16.975 11.65 17.0958 11.4375 17.2875 11.2625C17.4792 11.0875 17.6917 11 17.925 11C18.2417 11 18.5 11.1083 18.7 11.325C18.9 11.5417 18.975 11.7917 18.925 12.075C18.6917 13.5917 18.0333 14.8917 16.95 15.975C15.8667 17.0583 14.55 17.7 13 17.9V20C13 20.2833 12.9042 20.5208 12.7125 20.7125C12.5208 20.9042 12.2833 21 12 21Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WDSIconIcPauseCircle.react",["WDSSvgComponentBase.react","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","viewBox"],i,j,k=i||c("react"),l="ic-pause-circle";function a(a){var b=a.iconXstyle,d=a.height,e=a.width,f=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var g;if(f){var i=f.x;i=i===void 0?0:i;var m=f.y;m=m===void 0?0:m;var n=f.width;n=n===void 0?0:n;f=f.height;f=f===void 0?0:f;g=[i,m,n,f].join(" ")}i=24;m=24;(d!=null||e!=null)&&(i=d,m=e);return k.jsx(c("WDSSvgComponentBase.react"),babelHelpers["extends"]({},a,{children:k.jsxs("svg",{viewBox:g!=null?g:"0 0 24 24",height:i,width:m,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M10 16C10.2833 16 10.5208 15.9042 10.7125 15.7125C10.9042 15.5208 11 15.2833 11 15V9C11 8.71667 10.9042 8.47917 10.7125 8.2875C10.5208 8.09583 10.2833 8 10 8C9.71667 8 9.47917 8.09583 9.2875 8.2875C9.09583 8.47917 9 8.71667 9 9V15C9 15.2833 9.09583 15.5208 9.2875 15.7125C9.47917 15.9042 9.71667 16 10 16ZM14 16C14.2833 16 14.5208 15.9042 14.7125 15.7125C14.9042 15.5208 15 15.2833 15 15V9C15 8.71667 14.9042 8.47917 14.7125 8.2875C14.5208 8.09583 14.2833 8 14 8C13.7167 8 13.4792 8.09583 13.2875 8.2875C13.0958 8.47917 13 8.71667 13 9V15C13 15.2833 13.0958 15.5208 13.2875 15.7125C13.4792 15.9042 13.7167 16 14 16ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPttPauseResumeRecordingButton.react",["fbt","WDSIconIcKeyboardVoiceFilled.react","WDSIconIcPauseCircle.react","WDSMenuBarItem.react","react"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l=k||c("react"),m=(j||(j=d("react"))).useRef;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var d=a.recording,e=a.onConfirm,f=a.confirmOnMouseUp,g=a.disabled;g=g===void 0?!1:g;a=a.tabOrder;var j=m(!1),k=function(a){j.current=!0,window.addEventListener("mouseup",function(){j.current=!1},{once:!0})},n=function(a){if(!f)return;if(j.current)return;a.button===0&&e(a)},o=function(a){a!=null&&e(a)},p=d?h._(/*BTDS*/"Pause recording"):h._(/*BTDS*/"Resume recording");return l.jsx("button",babelHelpers["extends"]({onMouseUp:n,onMouseDown:k,"aria-label":p},{0:{className:"xzwifym x144v4sp"},1:{className:"xzwifym x144v4sp"}}[!!!g<<0],{children:l.jsx(c("WDSMenuBarItem.react"),{ref:b,testid:void 0,title:p,onClick:o,disabled:g,tabOrder:a,icon:d?c("WDSIconIcPauseCircle.react"):c("WDSIconIcKeyboardVoiceFilled.react")})}))}a.displayName=a.name+" [from "+f.id+"]";a.displayName="PttPauseAndResumeRecordingButton";g.PttPauseAndResumeRecordingButton=a}),226);
__d("WDSIconIcSendFilled.react",["WDSSvgComponentBase.react","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","viewBox"],i,j,k=i||c("react"),l="ic-send-filled";function a(a){var b=a.iconXstyle,d=a.height,e=a.width,f=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var g;if(f){var i=f.x;i=i===void 0?0:i;var m=f.y;m=m===void 0?0:m;var n=f.width;n=n===void 0?0:n;f=f.height;f=f===void 0?0:f;g=[i,m,n,f].join(" ")}i=24;m=24;(d!=null||e!=null)&&(i=d,m=e);return k.jsx(c("WDSSvgComponentBase.react"),babelHelpers["extends"]({},a,{children:k.jsxs("svg",{viewBox:g!=null?g:"0 0 24 24",height:i,width:m,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M4.4 19.425C4.06667 19.5583 3.75 19.5291 3.45 19.3375C3.15 19.1458 3 18.8666 3 18.5V14L11 12L3 9.99997V5.49997C3 5.1333 3.15 4.85414 3.45 4.66247C3.75 4.4708 4.06667 4.44164 4.4 4.57497L19.8 11.075C20.2167 11.2583 20.425 11.5666 20.425 12C20.425 12.4333 20.2167 12.7416 19.8 12.925L4.4 19.425Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPttSendButton.react",["fbt","WDSIconIcSendFilled.react","WDSMenuBarItem.react","react"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l=k||c("react"),m=(j||(j=d("react"))).useRef;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var d=a.disabled;d=d===void 0?!1:d;var e=a.confirmOnMouseUp,f=a.onConfirm;a=a.tabOrder;var g=m(!1),j=function(a){g.current=!0,window.addEventListener("mouseup",function(){g.current=!1},{once:!0})},k=function(a){if(!e)return;if(g.current)return;a.button===0&&f(a)},n=function(a){a!=null&&f(a)},o=h._(/*BTDS*/"Send");return l.jsx("button",{onMouseUp:k,onMouseDown:j,"aria-label":o,children:l.jsx(c("WDSMenuBarItem.react"),{ref:b,testid:void 0,disabled:d,title:o,onClick:n,icon:c("WDSIconIcSendFilled.react"),buttonVariant:"filled",tabOrder:a})})}a.displayName=a.name+" [from "+f.id+"]";g.PttSendButton=a}),226);
__d("useWAWebPttRecordingSessionValues",["useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useModelGetterValues(a,b)}g.usePttRecordingSessionValues=a}),98);
__d("WAWebPttComposer.react",["$InternalEnum","WANullthrows","WAWebAttachMediaViewOnce.react","WAWebBizCoexUtils","WAWebChatGetters","WAWebClock","WAWebCmd","WAWebDivider.react","WAWebFrontendChatGetters","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebNewsletterWamoSubMessageType","WAWebNewsletterWamoSubMessageTypePopup.react","WAWebNewsletterWamoSubUtils","WAWebPttCancelButton.react","WAWebPttComposerRecordingSession","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerWaveform.react","WAWebPttMessageUserJourneyLogger","WAWebPttPauseResumeRecordingButton.react","WAWebPttPlayPauseButton.react","WAWebPttSendButton.react","WAWebPttTsExternalLogger","WAWebRecordingSessionStateEnum","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebViewOnceGatingUtils","asyncToGeneratorRuntime","err","react","stylex","useWAWebChatValues","useWAWebEventTargetValue","useWAWebListener","useWAWebOnUnmount","useWAWebPttRecordingSessionValues","useWAWebSetModelValue","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p=b("$InternalEnum").Mirrored(["RECORDER","PREVIEW"]),q={pauseRecordingButtonContainer:{display:"x78zum5",$$css:!0},recorderContainer:{position:"x10l6tqk",top:"x13vifvy",insetInlineEnd:"xtijo5x",bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",display:"x78zum5",alignItems:"x6s0dn4",$$css:!0},recordingDotRefresh:{height:"x170jfvy",width:"x1fsd2vl",backgroundColor:"x10o6jyz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function a(a){var e=a.chat,f=a.recordingSession,g=a.onComplete;a=n();var h=n(),j=o(function(){switch(f.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return p.PREVIEW;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return p.RECORDER;default:throw c("err")("Invalid recording session state: "+f.recordingState)}}),t=j[0],u=j[1];j=(j=d("useWAWebChatValues").useOptionalChatValues(e.id,[d("WAWebChatGetters").getIsNewsletter,d("WAWebFrontendChatGetters").getNewsletterMetadata]))!=null?j:[!1,null];var v=j[0],w=j[1];j=o(null);var x=j[0],y=j[1];j=o(function(){return t===p.PREVIEW?f.getAudioForPlayback():null});var z=j[0],A=j[1];j=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();m(function(){if(z!=null)return d("WAWebPttTsExternalLogger").attachPttPlayTimeSpentLogger(z.getAudio())},[z]);var B=function(){A(null),z==null||z.dispose()},C=z==null?void 0:z.getAudio(),D=n(),E=n(),F=n(f);F.current=f;var G=c("useWAWebEventTargetValue")(f,"change:duration",function(){return Math.floor(f.duration)}),H=o(function(){return Math.floor((C==null?void 0:C.currentTime)||0)}),aa=H[0],ba=H[1];H=o(function(){return((C==null?void 0:C.currentTime)||0)===0});var ca=H[0],da=H[1],I=function(a){ba(Math.floor(a)),da(a===0)};d("useWAWebListener").useListener(C,"timeupdate",function(){var a;I((a=C==null?void 0:C.currentTime)!=null?a:0)});H=o(null);var J=H[0],K=H[1];H=d("useWAWebPttRecordingSessionValues").usePttRecordingSessionValues(f,[d("WAWebPttComposerRecordingSessionGetters").getExceedsMinDuration,d("WAWebPttComposerRecordingSessionGetters").getIsRecording,d("WAWebPttComposerRecordingSessionGetters").getIsViewOnce]);var L=H[0],M=H[1],N=H[2],ea=d("useWAWebSetModelValue").useSetModelValue(f,"isViewOnce");H=o(N);var O=H[0],fa=H[1];H=function(){fa(!1),ea(!N)};d("useWAWebListener").useListener(f,"change:recordingState",function(){(f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED||f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR)&&g()});var P=c("useWAWebEventTargetValue")(C,["play","pause"],function(){return C!=null&&!C.paused}),Q=r(),R=function(){f.stop(d("WAWebPttComposerRecordingSession").RecordingSessionStopReason.CANCEL_BUTTON),d("WAWebPttMessageUserJourneyLogger").PttMessageUserJourneyLogger["delete"](e.id)};m(function(){M&&self.setTimeout(function(){var a;(a=D.current)==null||a.focus()},100)},[M]);m(function(){t===p.PREVIEW&&(F.current.markDraftPreviewSeen(),self.setTimeout(function(){var a;(a=E.current)==null||a.focus()},100))},[t]);c("useWAWebOnUnmount")(function(){C==null||C.pause(),B(),f.pause()});var S=function(a){void f.send(N,a)},T=function(){if(!L)return;var a=h.current;if(v&&d("WAWebNewsletterWamoSubUtils").newsletterSupportsSubscriptions(w)&&a&&d("WAWebNewsletterGatingUtils").isWamoSubCreatorExperienceSupported()){var b=function(a){S(a===d("WAWebNewsletterWamoSubMessageType").NewsletterWamoSubMessageType.WamoSub)};y({popupAnchorEl:a,handleSelect:b})}else S();d("WAWebPttMessageUserJourneyLogger").PttMessageUserJourneyLogger.send(e.id)};d("useWAWebListener").useListener(f,"change:recordingState",function(){if(d("WAWebPttComposerRecordingSessionGetters").getIsRecording(f))return;if(f.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED)return;B();var a=f.getAudioForPlayback();A(a);I(0);u(p.PREVIEW)});var U=function(){f.incrementPauseButtonCount(),f.pause(),d("WAWebPttMessageUserJourneyLogger").PttMessageUserJourneyLogger.pause(e.id)},V=function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){C==null||C.pause();u(p.RECORDER);var a=(yield f.resume());a||u(p.PREVIEW);d("WAWebPttMessageUserJourneyLogger").PttMessageUserJourneyLogger.resume(e.id)})()},ga=function(){var a=c("WANullthrows")(C);a.paused?(a.play(),f.incrementDraftPlayCount()):a.pause()};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"pause_ptt_recording",function(){var a=t===p.RECORDER?U:V;a()});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"send_ptt_recording",function(){T()});d("useWAWebListener").useListener(C,"ended",function(){c("WANullthrows")(C).load()});var W=l(function(){var a;return(a=C==null?void 0:C.currentTime)!=null?a:0},[C]),X=c("useWAWebStableCallback")(function(){return f.getPreciseDuration()}),ha=c("useWAWebStableCallback")(function(){return f.duration}),Y=c("useWAWebStableCallback")(function(){return f.getLiveWaveformSamples()}),ia=c("useWAWebStableCallback")(function(){return f.getCorrectedWaveformSamples()}),Z=c("useWAWebStableCallback")(function(a){I(a),K(null),c("WANullthrows")(C).currentTime=a,f.incrementDraftSeekCount()}),$=c("useWAWebStableCallback")(function(a){K(Math.floor(a))}),ja=k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(q.pauseRecordingButtonContainer,d("WAWebUISpacing").uiMargin.end12),{children:k.jsx(d("WAWebPttPauseResumeRecordingButton.react").PttPauseAndResumeRecordingButton,{recording:t===p.RECORDER,confirmOnMouseUp:Q,tabOrder:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON,onConfirm:t===p.RECORDER?U:V})}));Y=k.jsxs("div",babelHelpers["extends"]({},i.props(q.recorderContainer,!j&&d("WAWebUISpacing").uiMargin.start12),{children:[j&&k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(q.recordingDotRefresh,d("WAWebUISpacing").uiMargin.horiz12))),k.jsx(s,{time:G}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1sikpz7 x1sa5p1d x1wbi8v6",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:Y,getCurrentTime:W,getDuration:X,live:M,mode:d("WAWebPttComposerWaveform.react").WaveformMode.RECORDER,onSeek:$,onSeekEnd:Z,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})})]}));X=d("WAWebViewOnceGatingUtils").isSendingViewOnceV2Enabled()&&!d("WAWebChatGetters").getIsNewsletter(e)&&!e.contact.isEnterprise&&!d("WAWebFrontendChatGetters").getIsCapiHostedGroup(e)&&!d("WAWebBizCoexUtils").isMeOrCurrentContactHosted(e.contact)&&!d("WAWebUserPrefsMeUser").isMeAccount(e.contact.id)?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("WAWebUISpacing").uiMargin.horiz12),{children:k.jsx(c("WAWebAttachMediaViewOnce.react"),{mediaType:d("WAWebMsgType").MSG_TYPE.PTT,dimension:24,onChange:H,isOn:N,disabled:!1,shouldShowNux:t===p.PREVIEW,dataTab:j?d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON:void 0,shouldSkipNuxAndToast:O})})):null;H=J!=null?J:ca?G:aa;O=k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x10l6tqk x13vifvy xtijo5x x1ey2m1c x1o0tod x78zum5 x6s0dn4 x14mko6t x1y3qizg xu5n5zk x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x15unhv1 x1s194ge xvp2sfm x11hqq3w x13tw7jo xbm2e5w xgdig0o xj3boke xzt5al7 x1kukv79 x11ahuha"},1:{className:"x10l6tqk x13vifvy xtijo5x x1ey2m1c x1o0tod x78zum5 x6s0dn4 x14mko6t x1y3qizg x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x15unhv1 x1s194ge xvp2sfm x11hqq3w x13tw7jo xbm2e5w xgdig0o xj3boke xzt5al7 x1kukv79 x11ahuha x972fbf x10w94by x1qhh985 x14e42zd"}}[!!j<<0],{children:[k.jsx(d("WAWebPttPlayPauseButton.react").PttPlayPauseButton,{ref:E,theme:"compose-box",paused:!P,tabOrder:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON,onConfirm:ga}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1sikpz7 xf6vk7d x1hm9lzh",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:ia,getCurrentTime:W,getDuration:ha,live:P,mode:d("WAWebPttComposerWaveform.react").WaveformMode.PREVIEW,onSeek:$,onSeekEnd:Z,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})}),k.jsx(s,{time:H})]}));J=function(a){a.key==="Escape"&&(a.stopPropagation(),R())};return k.jsxs("div",{onKeyDown:J,ref:a,className:"x78zum5 x6s0dn4 xh8yej3 x19ygybj",tabIndex:0,children:[k.jsx(d("WAWebPttCancelButton.react").PttCancelButton,{ref:D,confirmOnMouseUp:Q,onConfirm:R,tabOrder:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON}),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1n2onr6 x78zum5 x1iyjqo2 xs83m0k x1r8uery x6s0dn4 xwvwv9b"},1:{className:"x1n2onr6 x78zum5 x1iyjqo2 xs83m0k x1r8uery x6s0dn4 x5yr21d"}}[!!j<<0],{children:k.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[t===p.RECORDER?Y:null,t===p.PREVIEW?O:null]})})),ja,X&&!j&&k.jsx(c("WAWebDivider.react"),{noMargin:!0}),X,k.jsx(d("WAWebPttSendButton.react").PttSendButton,{ref:h,disabled:!L&&!M,confirmOnMouseUp:Q,onConfirm:T,tabOrder:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON}),x!=null&&k.jsx(d("WAWebNewsletterWamoSubMessageTypePopup.react").NewsletterWamoSubMessageTypePopup,{handleSelect:x.handleSelect,popupAnchorEl:x.popupAnchorEl,onDismiss:function(){return y(null)}})]})}a.displayName=a.name+" [from "+f.id+"]";function r(){var a=o(!1),b=a[0],c=a[1],d=250;m(function(){var a=self.setTimeout(function(){c(!0)},d),b=function(){c(!1),e()};window.addEventListener("mouseup",b);var e=function(){window.removeEventListener("mouseup",b),self.clearTimeout(a)};return e},[]);return b}function s(a){a=a.time;return k.jsx("div",{className:"x2c5eco xunn93x",role:"timer",children:d("WAWebClock").Clock.durationStr(a)})}s.displayName=s.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMessageComposer.react",["WAWebAttachMenuBarItem.react","WAWebAttachMenuGatingUtils","WAWebAvatarGatingUtils","WAWebBotGating","WAWebChatGetters","WAWebClassnames","WAWebCmd","WAWebComposeBox.scss","WAWebComposeBoxPanelsMenu.react","WAWebComposeBoxSendButton.react","WAWebContactGetters","WAWebEnvironment","WAWebExpressionsPanelPicker.react","WAWebKeyboardHotKeys.react","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebPttComposer.react","WAWebQuestions.flow","WAWebQuestionsGatingUtils","WAWebStateUtils","WAWebUIRefreshGatingUtils","WAWebUISpacing","nullthrows","react","stylex","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useRef,m={inputContainer:{boxSizing:"x9f619",flex:"x12lumcd",width:"x1qrby5j",minWidth:"xeuugli",minHeight:"xisnujt",fontSize:"x6prxxf",fontWeight:"x1fcty0u",lineHeight:"x1fc57z9",backgroundColor:"xe7vic5",borderTopColor:"x1716072",borderInlineEndColor:"x1ygal6x",borderBottomColor:"x89wmna",borderInlineStartColor:"x1rbbhm9",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",outline:"x1a2a7pz",willChange:"x13w7htt",display:"x78zum5",$$css:!0},inputContainerMaterial:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",$$css:!0},inputContainerRefresh:{minHeight:"x1wiwyrm",height:"xt7dq6l",borderStartStartRadius:"x17m9png",borderStartEndRadius:"x91sizk",borderEndEndRadius:"x1vva9xg",borderEndStartRadius:"x1jfkl46",alignItems:"x6s0dn4",transition:"x1m0b2ad",$$css:!0},inputBoxShadow:{boxShadow:"xkfubxc",$$css:!0},questionInputContainer:{backgroundColor:"x4wrhlh",borderTopColor:"xx42vgk",borderInlineEndColor:"xbogo7e",borderBottomColor:"x120ee7l",borderInlineStartColor:"x1vb5itz",$$css:!0},withoutTopBorder:{borderTopWidth:"x972fbf",$$css:!0},inputContainerRefreshNoTopPanel:{transition:"x1p0mfcu",$$css:!0},inputContainerHasTopPanel:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",boxShadow:"xz16w4b",transition:"x1m0b2ad",$$css:!0},childPadding:{boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",minHeight:"x1ofbdpd",$$css:!0},sendButtonContainer:{width:"x100vrsf",minWidth:"x1fns5xo",$$css:!0}};function a(a){var b=a.chat,e=a.closePttComposer,f=a.expressionsPanelPickerRef,g=a.expressionsPanelWrapperRef,h=a.getCurrentComposeContent,j=a.handleExpressionPanelChange,o=a.handleInputBlur,p=a.handleInputFocus,q=a.handleMetaUpDebounced,r=a.handlePanelsGif,s=a.handlePanelsSticker,t=a.handlePanelsStickerFromStore,u=a.handleSendText,v=a.handleTab,w=a.hasTextState,x=a.hasTopPanel,y=a.input,z=a.inputHotkeyRef,A=a.isMessageToBot,B=a.onExpressionPanelActive,C=a.pttComposerActive,D=a.questionReplyQuotedMessage,E=a.questionType,F=a.recordingSession,G=a.ref,H=a.replaceInputSelection,I=a.richTextInputRef,J=a.selectedExpressionPanel,K=a.startRecording;a=a.updateTextAfterMediaDrawerClose;var L=l(null);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_attachment_dropdown",function(){var a=L.current;a&&a.open()});var M=E===d("WAWebQuestions.flow").QuestionType.Question,N=E===d("WAWebQuestions.flow").QuestionType.Reply,O=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),P=d("WAWebAvatarGatingUtils").avatarsOnWebEnabled();if(C&&!O)return null;var Q=(!d("WAWebChatGetters").getIsNewsletter(b)||d("WAWebNewsletterGatingUtils").isNewsletterPTTSendingEnabled())&&(!M||d("WAWebQuestionsGatingUtils").isQuestionSenderEnabledForMsgType(b,d("WAWebMsgType").MSG_TYPE.PTT))&&(!N||d("WAWebQuestionsGatingUtils").isQuestionReplySenderEnabledForMsgType(b,d("WAWebMsgType").MSG_TYPE.PTT))&&!d("WAWebContactGetters").getIsCAPISupportAccount(b.contact)&&(!A||d("WAWebBotGating").isBotPttEnabled()),R=function(a){a.target===a.currentTarget&&C===!1&&(I==null||I.focus())},S=function(a){if(A)return!1;if(M)return d("WAWebQuestionsGatingUtils").isQuestionSenderEnabledForMsgType(b,a);return N?d("WAWebQuestionsGatingUtils").isQuestionReplySenderEnabledForMsgType(b,a):!0};g={expressionsPanelWrapperRef:g,expressionsPanelPickerRef:f,replaceInputSelection:H,handlePanelsSticker:s,handlePanelsStickerFromStore:t,handlePanelsGif:r,isStickerEnabled:S(d("WAWebMsgType").MSG_TYPE.STICKER),isAvatarEnabled:P&&S(d("WAWebMsgType").MSG_TYPE.STICKER),isGifEnabled:S(d("WAWebMsgType").MSG_TYPE.VIDEO),onExpressionPanelActive:B,getComposeBoxEditorRef:function(){return I},handleClose:function(){return I==null?void 0:I.focus()},size:N||M?d("WAWebExpressionsPanelPicker.react").ExpressionsPanelSize.SMALL:void 0};f=O?[d("WAWebUISpacing").uiPadding.all5,d("WAWebUISpacing").uiMargin.horiz12,d("WAWebUISpacing").uiMargin.bottom12]:[d("WAWebUISpacing").uiPadding.vert9,d("WAWebUISpacing").uiPadding.horiz12,d("WAWebUISpacing").uiMargin.vert5,d("WAWebUISpacing").uiMargin.horiz8];H=O?k.jsx(d("WAWebComposeBoxSendButton.react").SendButtonRefresh,{supportsPtt:Q,onClickSend:u,recordingSession:F,onStartRecording:function(){return void K()},hasTextState:w,isMessageToBot:A}):k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert5,m.childPadding,m.sendButtonContainer),{children:k.jsx(d("WAWebComposeBoxSendButton.react").SendButton,{supportsPtt:Q,hasText:w,onClickSend:u,recordingSession:F,onStartRecording:function(){return void K()}})}));s=void 0;!A&&(!M||d("WAWebQuestionsGatingUtils").getEnabledQuestionAttachmentTypes(b).size>0)&&(!N||d("WAWebQuestionsGatingUtils").getEnabledQuestionReplyAttachmentTypes(b).size>0)&&(O?s=k.jsx("div",{className:"x100vrsf x1vqgdyp x78zum5 x6s0dn4 xpvyfi4",children:k.jsx(c("WAWebAttachMenuBarItem.react"),{ref:L,chat:d("WAWebStateUtils").unproxy(b),getComposeContents:h,getComposeBoxEditorRef:function(){return I},onMenuComplete:a,iconWidth:24,questionType:E,questionReplyQuotedMessage:D})}):s=k.jsx("div",{className:"x100vrsf x1vqgdyp x78zum5 x6s0dn4",children:k.jsx(c("WAWebAttachMenuBarItem.react"),{ref:L,chat:d("WAWebStateUtils").unproxy(b),getComposeContents:h,getComposeBoxEditorRef:function(){return I},onMenuComplete:a,questionType:E,questionReplyQuotedMessage:D})}));t=C&&O?k.jsx("div",{className:"x78zum5 x13a6bvl xh8yej3 x67bb7w",children:k.jsx(c("WAWebPttComposer.react"),{chat:d("WAWebStateUtils").unproxy(b),recordingSession:c("nullthrows")(F),onComplete:e})}):k.jsxs(k.Fragment,{children:[O&&!A&&s,d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()&&!d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput()?k.jsx(n,babelHelpers["extends"]({},g)):void 0,y,O&&H]});r=c("WAWebEnvironment").isWindows;P=babelHelpers["extends"]({tab:v,"shift+tab":v},r?{"ctrl+up":q}:{"meta+up":q},{up:q});return k.jsxs("div",{ref:G,className:c("WAWebComposeBox.scss").textMessageComposerContainer,children:[k.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("x9f619 x78zum5 x6s0dn4 xl56j7k x1ofbdpd",c("WAWebComposeBox.scss").boxPanelWrapper),children:[d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()?void 0:k.jsx(d("WAWebComposeBoxPanelsMenu.react").ComposeBoxExpressionPanelsMenu,{chat:b,selectedExpressionPanel:J,onChange:j,theme:d("WAWebComposeBoxPanelsMenu.react").PanelsTheme.ChatComposeBox,isMessageToBot:A}),d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()&&d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput()?k.jsx(n,babelHelpers["extends"]({},g)):void 0,!O&&s]}),k.jsxs("div",{className:c("WAWebComposeBox.scss").textMessageComposerInputContainer,children:[k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:z,className:(i||(i=c("stylex")))(m.inputContainer,f,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&m.inputContainerMaterial,O&&m.inputContainerRefresh,O&&!E&&m.inputBoxShadow,O&&!x&&m.inputContainerRefreshNoTopPanel,O&&x&&m.inputContainerHasTopPanel,E&&m.questionInputContainer,E!=null&&x&&m.withoutTopBorder),handlers:P,onClick:R,onFocus:p,onBlur:o,children:t}),!O&&H]})]})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.expressionsPanelPickerRef,c=a.expressionsPanelWrapperRef,e=a.getComposeBoxEditorRef,f=a.handleClose,g=a.handlePanelsGif,h=a.handlePanelsSticker,i=a.handlePanelsStickerFromStore,j=a.isAvatarEnabled,l=a.isGifEnabled,m=a.isStickerEnabled,n=a.onExpressionPanelActive,o=a.replaceInputSelection;a=a.size;return k.jsx(d("WAWebExpressionsPanelPicker.react").ExpressionsPanelPicker,{ref:b,wrapperRef:c,onEmoji:o,onAvatar:j?h:void 0,onSticker:m?h:void 0,onStickerFromStore:m?i:void 0,onGif:l?g:void 0,onToggleActive:function(a){n==null||n(a)},getComposeBoxEditorRef:e,onClose:f,size:a})}n.displayName=n.name+" [from "+f.id+"]";g.MessageComposer=a}),98);
__d("WAWebWamEnumQuickReplyAction",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTION_SETTINGS_IMPRESSION:1,ACTION_SETTINGS_ADD_CLICK:2,ACTION_SETTINGS_ADD_ABANDONED:3,ACTION_SETTINGS_ADDED:4,ACTION_SETTINGS_DELETED:5,ACTION_CHAT_IMPRESSION:6,ACTION_CHAT_CLICK:7,ACTION_SETTINGS_EDITED:8,ACTION_CHAT_INVALID_ATTACHMENTS:9,ACTION_SETTINGS_INVALID_ATTACHMENTS:10,ACTION_SETTINGS_MEDIA_TRANSCODE:11,ACTION_CHAT_CLICK_CANCEL:12,ACTION_SMART_DEFAULT_CLICK:13,QUICK_REPLY_MESSAGE_SENT:14});f.QUICK_REPLY_ACTION=a}),66);
__d("WAWebWamEnumQuickReplyEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({QUICK_REPLY_ENTRY_POINT_KEYBOARD:1,QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:2,QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU:3,QUICK_REPLY_ENTRY_POINT_BANNERS:4,QUICK_REPLY_ENTRY_POINT_NUX:5,QUICK_REPLY_ENTRY_POINT_ACTION_BAR:6,QUICK_REPLY_ENTRY_POINT_DEEPLINK:7,QUICK_REPLY_ENTRY_POINT_MESSAGE_BUBBLE:8});f.QUICK_REPLY_ENTRY_POINT=a}),66);
__d("WAWebWamEnumQuickReplyOrigin",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,CONVERSATIONS:1,BUTTON:2,KEYBOARD:3});f.QUICK_REPLY_ORIGIN=a}),66);
__d("WAWebWamEnumQuickReplyTranscodeResult",[],(function(a,b,c,d,e,f){a=Object.freeze({QUICK_REPLY_TRANSCODE_RESULT_OK:1,QUICK_REPLY_TRANSCODE_RESULT_CANCELLED:2,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_UNKNOWN:3,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_ENCODING:4,QUICK_REPLY_TRANSCODE_RESULT_FAIL_IMAGE_FILE_COPY:5,QUICK_REPLY_TRANSCODE_RESULT_FAIL_VIDEO_UNKNOWN:6});f.QUICK_REPLY_TRANSCODE_RESULT=a}),66);
__d("WAWebWamEnumQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({QUICK_REPLY_TYPE_PIX_KEY:1,QUICK_REPLY_TYPE_SHARE_UPI_QR:2,QUICK_REPLY_TYPE_SETUP_UPI_QR:3});f.QUICK_REPLY_TYPE=a}),66);
__d("WAWebQuickReplyWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumLastMessageDirection","WAWebWamEnumQuickReplyAction","WAWebWamEnumQuickReplyEntryPoint","WAWebWamEnumQuickReplyOrigin","WAWebWamEnumQuickReplyTranscodeResult","WAWebWamEnumQuickReplyType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({QuickReply:[1468,{attachmentGifCount:[7,a.TYPES.INTEGER],attachmentImageCount:[5,a.TYPES.INTEGER],attachmentVideoCount:[6,a.TYPES.INTEGER],isSmartDefault:[10,a.TYPES.BOOLEAN],labelThreadId:[12,a.TYPES.STRING],lastMessageDirection:[16,d("WAWebWamEnumLastMessageDirection").LAST_MESSAGE_DIRECTION],messageDepth:[17,a.TYPES.INTEGER],quickReplyAction:[1,d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION],quickReplyCount:[2,a.TYPES.INTEGER],quickReplyEntryPoint:[11,d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT],quickReplyKeywordCount:[3,a.TYPES.INTEGER],quickReplyKeywordMatched:[4,a.TYPES.BOOLEAN],quickReplyOrigin:[9,d("WAWebWamEnumQuickReplyOrigin").QUICK_REPLY_ORIGIN],quickReplyTranscodeResult:[8,d("WAWebWamEnumQuickReplyTranscodeResult").QUICK_REPLY_TRANSCODE_RESULT],quickReplyType:[19,d("WAWebWamEnumQuickReplyType").QUICK_REPLY_TYPE],threadCreationDate:[14,a.TYPES.STRING],threadEntryPoint:[13,a.TYPES.STRING],threadIdHmac:[15,a.TYPES.STRING]},[1,1,1],"regular"]},{QuickReply:[]});g.QuickReplyWamEvent=b}),98);
__d("WAWebQuickReplyLogging",["WAWebQuickReplyWamEvent","WAWebWamEnumQuickReplyAction","WAWebWamEnumQuickReplyEntryPoint"],(function(a,b,c,d,e,f,g){function a(){var a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SETTINGS_ADDED,quickReplyEntryPoint:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU});a.commit()}function b(){var a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SETTINGS_ADD_CLICK,quickReplyEntryPoint:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU});a.commit()}function c(){var a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SETTINGS_ADD_ABANDONED,quickReplyEntryPoint:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU});a.commit()}function e(){var a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SETTINGS_DELETED,quickReplyEntryPoint:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU});a.commit()}function f(){var a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SETTINGS_EDITED,quickReplyEntryPoint:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_SETTINGS_MENU});a.commit()}function h(a){a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.QUICK_REPLY_MESSAGE_SENT,quickReplyEntryPoint:a});a.commit()}g.logQuickReplyAddedEvent=a;g.logQuickReplyAddClickEvent=b;g.logQuickReplyAddAbandonEvent=c;g.logQuickReplyDeleteEvent=e;g.logQuickReplyEditEvent=f;g.logQuickReplySendEvent=h}),98);
__d("WAWebQuickRepliesPluginLogEvents",["WAWebQuickReplyWamEvent","WAWebWamEnumQuickReplyAction","WAWebWamEnumQuickReplyEntryPoint","WAWebWamEnumQuickReplyType"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:a,quickReplyEntryPoint:b?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function b(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function c(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function e(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function f(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD,quickReplyType:d("WAWebWamEnumQuickReplyType").QUICK_REPLY_TYPE.QUICK_REPLY_TYPE_PIX_KEY});a.commit()}g.logFilterEvent=a;g.logSelectEvent=b;g.logCancelEvent=c;g.logSmartDefaultSelectEvent=e;g.logPixSmartSelectEvent=f}),98);
__d("WAWebQuickRepliesPluginResult.react",["WAWebEmojiText.react","WAWebFormatConfiguration","WAWebStylesEnv","WAWebUIRefreshGatingUtils","WAWebUISpacing","WDSFont.react","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),l={quickReplyResult:{display:"x78zum5",alignItems:"x6s0dn4",fontSize:"x1nxh6w3",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",textAlign:"x1yc453h",$$css:!0},quickReplyResultSelected:{color:"x14ug900",backgroundColor:"x4wrhlh",$$css:!0}},m={result:{display:"x78zum5",height:"x1qx5ct2",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",color:"x40yjcy",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",verticalAlign:"xxymvpz",$$css:!0},resultEmoji:{position:"x1n2onr6",top:"x1e0gzzx",$$css:!0},resultSelected:{backgroundColor:"x1ru9bj0",$$css:!0},slash:{color:"xiqmkuo",$$css:!0},shortcutPrefix:{fontWeight:"x117nqv4",color:"x1cgtc05",$$css:!0},shortcutSuffix:{color:"xhslqc4",$$css:!0},message:{color:"x40yjcy",textAlign:"x1yc453h",$$css:!0}};function a(a){var b=d("useWAWebModelValues").useModelValues(a.quickReply,["shortcut","message"]),e=b.shortcut;b=b.message;var f=a.query,g=a.selected,h=a.onMouseDown,n=a.onMouseEnter;a=a.onMouseUp;e=e.slice(f.length);if(k){var o=[l.quickReplyResult,d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.horiz8];g===!0&&o.push(l.quickReplyResultSelected);return j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o),{onMouseDown:h,onMouseUp:a,onMouseEnter:n,"data-testid":void 0,children:j.jsxs("div",{className:"x78zum5 xeuugli xdt5ytf xh8yej3",children:[j.jsxs("div",{className:"x78zum5 x6s0dn4",children:[j.jsx(d("WDSFont.react").WDSTextBody1,{colorName:"contentDefault",children:f}),j.jsx(d("WDSFont.react").WDSTextBody1,{colorName:"contentDefault",children:e})]}),j.jsx("div",{children:j.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:b})})]})}))}return j.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.result,d("WAWebUISpacing").uiPadding.vert16,d("WAWebUISpacing").uiPadding.horiz18,d("WAWebStylesEnv").hasEmoji&&m.resultEmoji,g&&m.resultSelected),{onMouseDown:h,onMouseUp:a,onMouseEnter:n,children:[j.jsx("span",babelHelpers["extends"]({},i.props(m.slash,d("WAWebUISpacing").uiPadding.top3))),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(m.shortcutPrefix,d("WAWebUISpacing").uiPadding.top3),text:f}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(m.shortcutSuffix,d("WAWebUISpacing").uiPadding.top3),text:e}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(m.message,d("WAWebUISpacing").uiPadding.top3,d("WAWebUISpacing").uiMargin.start10),testid:void 0,ellipsify:!0,text:b,formatters:d("WAWebFormatConfiguration").QuickReply()})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSendLocationChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebMsgKey","WAWebSendMsgChatAction","WAWebSendMsgResultAction","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chat,e=a.lat,f=a.lng,g=a.loc;a=a.meUser;e=(yield j({chat:b,lat:e,lng:f,loc:g,meUser:a}));try{f=(yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(b,e)[1]);if(!f||f.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)throw c("err")("Location message SendMsgResult failure status")}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Location message send to chat failure: ",""])),a);throw a}});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chat,e=a.lat,f=a.lng,g=a.loc;a=a.meUser;a={type:"location",ack:d("WAWebAck").ACK.CLOCK,from:a,id:new(c("WAWebMsgKey"))({from:a,to:b.id,id:yield c("WAWebMsgKey").newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,t:d("WATimeUtils").unixTime(),to:b.id,lat:e,lng:f,loc:g};return a});return k.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebQuickReplyPickerPlugin",["fbt","WALogger","WATypeUtils","WAWebBizQuickRepliesDrawerLoadable","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebChatCollection","WAWebChatGetters","WAWebContactCollection","WAWebDrawerManager","WAWebFrontendContactGetters","WAWebL10NCountryCodes","WAWebLexicalTypeAheadList.react","WAWebPencilIcon.react","WAWebPencilRefreshedIcon.react","WAWebQuickRepliesPluginLogEvents","WAWebQuickRepliesPluginResult.react","WAWebQuickReplyCollection","WAWebQuickReplyEnum","WAWebQuickReplyGetters","WAWebSendContactsAction","WAWebSendLocationChatAction","WAWebSendTextMsgChatAction","WAWebUIRefreshGatingUtils","WAWebUserPrefsMeUser","WDSButton.react","react","useWAWebLexicalTypeAhead"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;b=l||d("react");var m=k||(k=c("react")),n=b.useEffect,o=b.useMemo,p=b.useRef,q=b.useState,r=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),s=52,t="/",u=25,v=30;function a(a){a=a.editor;a=a;var b=r?d("WAWebPencilRefreshedIcon.react").PencilRefreshedIcon:d("WAWebPencilIcon.react").PencilIcon;a=d("useWAWebLexicalTypeAhead").useTypeAhead(a,t,{boundary:!0,maxQueryLength:u});var e=a.query,f=a.replaceQuery,g=a.omitQuery;a=a.leadOffset;var i=p(!1),j=p(),k=p(!1),l=q(!1),x=l[0],y=l[1];n(function(){d("WAWebQuickReplyCollection").QuickReplyCollection.addSmartDefaultsIfNeeded()},[]);n(function(){y(i.current)},[e]);var D=function(a,e){if(r&&a.itemKey==="quick-replies-header")return m.jsxs("div",{className:"x889kno xf159sx x1a8lsjc xmzvs34 x6prxxf xhslqc4 x1yc453h x78zum5 x1qughib x6s0dn4",children:[m.jsx("span",{children:h._(/*BTDS*/"Quick replies")}),m.jsx(c("WDSButton.react"),{variant:"borderless",type:"default",size:"small",Icon:b,onPress:function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(m.jsx(d("WAWebBizQuickRepliesDrawerLoadable").WAWebBizQuickRepliesDrawerLoadable,{onBack:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},isInitialStep:!1}))},"aria-label":h._(/*BTDS*/"Edit Quick Replies")})]},"quick-replies-header");if(!a.quickReply)return m.jsx("div",{});var f=a.quickReply;return m.jsx(c("WAWebQuickRepliesPluginResult.react"),{quickReply:f,query:a.query,selected:e},f.id.toString())},E=function(a){if(a.itemKey==="quick-replies-header"&&r)return;a=a.quickReply;if(!a)return;j.current=a.message;switch(d("WAWebQuickReplyGetters").getType(a)){case d("WAWebQuickReplyEnum").QuickReplyTypes.PROFILE_SMART_DEFAULT:g();B(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.ADDRESS_SMART_DEFAULT:g();A(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.HOURS_SMART_DEFAULT:g();z(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT:g();C(a);break;default:f(a.message,{select:!0}),a.useOnce()}d("WAWebQuickReplyGetters").getType(a)===d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT?d("WAWebQuickRepliesPluginLogEvents").logPixSmartSelectEvent(i.current):a.isSmartDefault()?d("WAWebQuickRepliesPluginLogEvents").logSmartDefaultSelectEvent(i.current):d("WAWebQuickRepliesPluginLogEvents").logSelectEvent(i.current);k.current=i.current;i.current=!1};l=function(){g(),i.current=!1};var F=o(function(){if(e==null)return null;var a=w(e,x);if(a.length===0)return null;if(r){var b={height:v,itemKey:"quick-replies-header",contentKey:"header",index:0,quickReply:null,query:"",selectable:!1},c=a.map(function(a,b){return{height:s,itemKey:a.id,contentKey:e,index:b+1,quickReply:a,query:e,selectable:!0}});return[b].concat(c)}return a.map(function(a,b){return{height:s,itemKey:a.id,contentKey:e,index:b,quickReply:a,query:e,selectable:!0}})},[e,x]),G=600;F=(F!=null?F:[]).map(function(a){var b;return{renderFn:function(b){return D(a,b)},onSelect:function(){return E(a)},width:G,height:(b=a.height)!=null?b:s,skipKeyboardNav:a.itemKey==="quick-replies-header"}});var H=F.findIndex(function(a){return a.skipKeyboardNav===!1});return m.jsx(d("WAWebLexicalTypeAheadList.react").LexicalTypeAheadList,{leadOffset:a,items:F,onCancel:l,startingIndex:H})}a.displayName=a.name+" [from "+f.id+"]";function w(a,b){a=d("WAWebQuickReplyCollection").QuickReplyCollection.filterShortcuts(a);var c=d("WAWebChatCollection").ChatCollection.getActive();c!=null&&d("WAWebChatGetters").getIsGroup(c)&&(a=x(a));a=y(a,d("WAWebL10NCountryCodes").getCountryShortcodeByPhone((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.contact.id.user));a.length&&d("WAWebQuickRepliesPluginLogEvents").logFilterEvent(a.length,b);return a}function x(a){return a.filter(function(a){return!a.hideFromGroupChat()})}function y(a,b){return a.filter(function(a){return!a.hideForRecipientCountryCode(b)})}function z(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["sendBusinessHours inside WAWebQuickReplyPickerPlugin"])));d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a.message);a.useOnce()}function A(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),f=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e),g=d("WAWebContactCollection").ContactCollection.get(e);if(!b||!f)return;var h=f.latitude,i=f.longitude,k=f.address;if(d("WATypeUtils").isNumber(h)&&d("WATypeUtils").isNumber(i)&&g){g=d("WAWebFrontendContactGetters").getDisplayName(g);f.address&&(g+="\n"+f.address);c("WAWebSendLocationChatAction")({chat:b,lat:h,lng:i,loc:g,meUser:e});a.useOnce()}else k&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["sendBusinessAddress inside WAWebQuickReplyPickerPlugin"]))),d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,k),a.useOnce())}function B(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();if(e==null)return;e=d("WAWebContactCollection").ContactCollection.get(e);if(!b||!e)return;c("WAWebSendContactsAction")([e],b);a.useOnce()}function C(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;void d("WAWebBizSendOrderAction").sendPixKeyPaymentInfoMessage(b);a.useOnce()}g.QuickReplyPickerPlugin=a}),226);
__d("WAWebQuickReplySuggestions.react",["Lexical","WALogger","WATypeUtils","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebChatCollection","WAWebChatGetters","WAWebContactCollection","WAWebFrontendContactGetters","WAWebL10NCountryCodes","WAWebListSuggestionsPanel.react","WAWebQuickRepliesPluginLogEvents","WAWebQuickRepliesPluginResult.react","WAWebQuickReplyCollection","WAWebQuickReplyEnum","WAWebQuickReplyGetters","WAWebSendContactsAction","WAWebSendLocationChatAction","WAWebSendTextMsgChatAction","WAWebUserPrefsMeUser","react","useWAWebForceUpdate","useWAWebLexicalEvent","useWAWebLexicalTypeAhead","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useEffect,n=b.useImperativeHandle,o=b.useMemo,p=b.useRef,q=52,r="/",s=25;function a(a){var b=a.ref,e=a.editor,f=a.kind,g=a.onSelect;a=a.onHide;var h=d("useWAWebLexicalTypeAhead").useTypeAhead(e,r,{boundary:!0,maxQueryLength:s}),i=h.query,j=h.clearQuery,k=h.replaceQuery,u=h.omitQuery,v=h.setQuery;h=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();var A=p(!1),B=p(),C=p(!1);d("useWAWebListener").useListener(d("WAWebQuickReplyCollection").QuickReplyCollection,"add remove change:shortcut",h);m(function(){d("WAWebQuickReplyCollection").QuickReplyCollection.addSmartDefaultsIfNeeded()},[]);h=function(a,b){return l.jsx(c("WAWebQuickRepliesPluginResult.react"),{quickReply:a.quickReply,query:a.query,selected:b},a.quickReply.id.toString())};var D=function(a){a=a.quickReply;B.current=a.message;switch(d("WAWebQuickReplyGetters").getType(a)){case d("WAWebQuickReplyEnum").QuickReplyTypes.PROFILE_SMART_DEFAULT:j();y(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.ADDRESS_SMART_DEFAULT:j();x(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.HOURS_SMART_DEFAULT:j();w(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT:j();z(a);break;default:k(a.message,{select:!0}),a.useOnce()}d("WAWebQuickReplyGetters").getType(a)===d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT?d("WAWebQuickRepliesPluginLogEvents").logPixSmartSelectEvent(A.current):a.isSmartDefault()?d("WAWebQuickRepliesPluginLogEvents").logSmartDefaultSelectEvent(A.current):d("WAWebQuickRepliesPluginLogEvents").logSelectEvent(A.current);C.current=A.current;A.current=!1;g==null||g()},E=function(){u(),A.current=!1},F=o(function(){if(i==null)return null;var a=t(i,A.current);return a.length===0?null:a.map(function(a,b){return{height:q,itemKey:a.id,contentKey:i,index:b,quickReply:a,query:i,selectable:!0}})},[i]);d("useWAWebLexicalEvent").useLexicalKeydownEvent(e,"Backspace",function(){var a=B.current;if(!a)return;e.getEditorState().read(function(){var b=d("Lexical").$getSelection();if(!b)return;a===b.getTextContent()&&d("WAWebQuickRepliesPluginLogEvents").logCancelEvent(C.current)})},!0);n(b,function(){return{togglePanel:function(){i==null?(v(""),A.current=!0):(j(),A.current=!1)}}});return l.jsx(d("WAWebListSuggestionsPanel.react").ListSuggestionsPanel,{kind:f,editor:e,items:F,renderItem:h,onSelect:D,onDismiss:E,onHide:a})}a.displayName=a.name+" [from "+f.id+"]";function t(a,b){a=d("WAWebQuickReplyCollection").QuickReplyCollection.filterShortcuts(a);var c=d("WAWebChatCollection").ChatCollection.getActive();c!=null&&d("WAWebChatGetters").getIsGroup(c)&&(a=u(a));a=v(a,d("WAWebL10NCountryCodes").getCountryShortcodeByPhone((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.contact.id.user));a.length&&d("WAWebQuickRepliesPluginLogEvents").logFilterEvent(a.length,b);return a}function u(a){return a.filter(function(a){return!a.hideFromGroupChat()})}function v(a,b){return a.filter(function(a){return!a.hideForRecipientCountryCode(b)})}function w(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendBusinessHours inside WAWebQuickReplySuggestions"])));d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a.message);a.useOnce()}function x(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),f=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e),g=d("WAWebContactCollection").ContactCollection.get(e);if(!b||!f)return;var h=f.latitude,j=f.longitude,k=f.address;if(d("WATypeUtils").isNumber(h)&&d("WATypeUtils").isNumber(j)&&g){g=d("WAWebFrontendContactGetters").getDisplayName(g);f.address&&(g+="\n"+f.address);c("WAWebSendLocationChatAction")({chat:b,lat:h,lng:j,loc:g,meUser:e});a.useOnce()}else k&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["sendBusinessAddress inside WAWebQuickReplySuggestions"]))),d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,k),a.useOnce())}function y(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();if(e==null)return;e=d("WAWebContactCollection").ContactCollection.get(e);if(!b||!e)return;c("WAWebSendContactsAction")([e],b);a.useOnce()}function z(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;void d("WAWebBizSendOrderAction").sendPixKeyPaymentInfoMessage(b);a.useOnce()}g.QuickReplySuggestions=a}),98);
__d("WAWebReconnectUtil",["WAWebSocketModel","WAWebStreamModel"],(function(a,b,c,d,e,f,g){a=function(){var a=this;this.isReconnecting=!1;this.reconnectIfDisconnected=function(){!a.isReconnecting&&d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.OFFLINE&&(a.isReconnecting=!0,d("WAWebSocketModel").Socket.summary(),self.setTimeout(function(){return a.isReconnecting=!1},3e3))}};b=new a().reconnectIfDisconnected;g.reconnect=b}),98);
__d("WAWebUseComposeBoxActionListeners",["WAWebComposeBoxActions","useWAWebListener"],(function(a,b,c,d,e,f,g){function a(a,b){var c,e;a=a.id.toString();(c=d("useWAWebListener")).useListener((e=d("WAWebComposeBoxActions")).ComposeBoxActions,"focus_"+a,b.onFocus);c.useListener(e.ComposeBoxActions,"focus",b.onFocus);c.useListener(e.ComposeBoxActions,"send_"+a,b.onSend);c.useListener(e.ComposeBoxActions,"paste_"+a,b.onPaste);c.useListener(e.ComposeBoxActions,"paste",b.onPaste);c.useListener(e.ComposeBoxActions,"paste_files_"+a,b.onPasteFiles);c.useListener(e.ComposeBoxActions,"send_paste_"+a,b.onRoutedPaste);c.useListener(e.ComposeBoxActions,"toggle_quick_replies",b.onToggleQuickReplies);c.useListener(e.ComposeBoxActions,"add_sending_log_attributes_"+a,b.onSendingLogAttributes);c.useListener(e.ComposeBoxActions,"set_ctwa_context_link_data_"+a,b.onCtwaContextLinkData);c.useListener(e.ComposeBoxActions,"set_text_content_"+a,b.onSetTextContent)}g["default"]=a}),98);
__d("WAWebUseShouldShowBotSuggestions",["WAWebBotGating","WAWebMsgType","WAWebUserPrefsMeUser","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){function a(a,b){var e=c("useWAWebEventTargetValue")(a,["change:msgsLength"],function(){var b,c=d("WAWebBotGating").isBotEnabled()&&a.id.isBot();b=(b=a.msgs.last())==null?void 0:b.subtype;return c&&(a.msgsLength===0||a.msgsLength===1&&b==="bot_init")}),f=c("useWAWebEventTargetValue")(a,["change:msgsLength"],function(){if(!d("WAWebBotGating").isBizBot3pAvailable()||!b||b.length===0)return!1;var c=a.msgs.last();if(!c||c.subtype==="biz_bot_3p_disclosure")return!0;if(c.type===d("WAWebMsgType").MSG_TYPE.CHAT&&!d("WAWebUserPrefsMeUser").isMeAccount(c.from)){c=a.msgs.at(a.msgs.length-2);if((c==null?void 0:c.subtype)==="biz_bot_3p_disclosure")return!0}return!a.msgs.some(function(a){return a.type!==d("WAWebMsgType").MSG_TYPE.NOTIFICATION_TEMPLATE&&a.type!==d("WAWebMsgType").MSG_TYPE.E2E_NOTIFICATION})?!0:!1},[b]);return e||f}g.useShouldShowBotSuggestions=a}),98);
__d("WAWebWamEnumTextMessageUserJourneyAction",[],(function(a,b,c,d,e,f){a=Object.freeze({TYPING_START:1,CLEARED:2,SENT:3,DRAFT_SAVED:4,EXIT:5,CLICK_ON_COMPOSER:6,DELIVERED:7});f.TEXT_MESSAGE_USER_JOURNEY_ACTION=a}),66);
__d("WAWebTextMessageUserJourneyWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChatbarInitialState","WAWebWamEnumTextMessageUserJourneyAction","WAWebWamEnumTsSurface","WAWebWamEnumUserJourneyChatType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({TextMessageUserJourney:[5404,{appSessionId:[1,a.TYPES.STRING],chatbarInitialState:[6,d("WAWebWamEnumChatbarInitialState").CHATBAR_INITIAL_STATE],textMessageUserJourneyAction:[2,d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION],textMessageUserJourneyContainsQuotedItem:[9,a.TYPES.BOOLEAN],uiSurface:[3,d("WAWebWamEnumTsSurface").TS_SURFACE],unifiedSessionId:[8,a.TYPES.STRING],userJourneyChatType:[4,d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE],userJourneyEventMs:[7,a.TYPES.INTEGER],userJourneyFunnelId:[5,a.TYPES.STRING]},[1,1,1],"regular"]},{TextMessageUserJourney:[]});g.TextMessageUserJourneyWamEvent=b}),98);
__d("WAWebTextMessageUserJourneyLogger",["WALogger","WATimeUtils","WAWebABProps","WAWebPonyfillsCryptoRandomUUID","WAWebTextMessageUserJourneyWamEvent","WAWebWamEnumChatbarInitialState","WAWebWamEnumTextMessageUserJourneyAction","WAWebWamEnumUserJourneyChatType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){k.unifiedSessionId=c("WAWebPonyfillsCryptoRandomUUID")(),d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[TextMessageUserJourneyLogger] Unified session ID re-initialised"])))}var k=function(){function a(a){a===void 0&&(a=c("WAWebPonyfillsCryptoRandomUUID")()),this.loggingEnabled=!1,this.loggingEnabled=d("WAWebABProps").getABPropConfigValue("text_user_journey_logging_wam_enabled"),this.$1=a,this.loggingEnabled&&(j(),window.addEventListener("focus",j))}var b=a.prototype;b.log=function(b){if(!this.loggingEnabled)return;var e=a.unifiedSessionId;if(e==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[uj] [text message] Unified session ID is null"])));return}l(b.action)&&this.$2==null&&(this.$2=c("WAWebPonyfillsCryptoRandomUUID")());var f=this.$2;if(f==null)return;var g=n(b.chatId),h=new(d("WAWebTextMessageUserJourneyWamEvent").TextMessageUserJourneyWamEvent)();h.appSessionId=this.$1;h.unifiedSessionId=e;h.userJourneyFunnelId=f;h.uiSurface=b.uiSurface;h.textMessageUserJourneyAction=b.action;h.userJourneyChatType=g;h.userJourneyEventMs=d("WATimeUtils").unixTimeMs();h.chatbarInitialState=b.hasDraft?d("WAWebWamEnumChatbarInitialState").CHATBAR_INITIAL_STATE.CONTAINS_DRAFT:d("WAWebWamEnumChatbarInitialState").CHATBAR_INITIAL_STATE.EMPTY;h.commit();m(b.action)&&(this.$2=null)};return a}();function l(a){return a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.TYPING_START||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.CLEARED||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.CLICK_ON_COMPOSER||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.SENT?!0:a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.DELIVERED||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.DRAFT_SAVED||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.EXIT?!1:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+a)}()}function m(a){return a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.DRAFT_SAVED||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.SENT||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.EXIT?!0:a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.CLEARED||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.CLICK_ON_COMPOSER||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.DELIVERED||a===d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.TYPING_START?!1:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+a)}()}function n(a){if(a.isUser())return d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE.INDIVIDUAL;else if(a.isGroup())return d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE.GROUP;else if(a.isNewsletter())return d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE.CHANNEL;return d("WAWebWamEnumUserJourneyChatType").USER_JOURNEY_CHAT_TYPE.MULTIPLE}a=new k();g.TextMessageUserJourneyLogger=a}),98);
__d("WAWebUseTextMessageUserJourneyLogger",["WAWebTextMessageUserJourneyLogger","WAWebWamEnumTextMessageUserJourneyAction","WAWebWamEnumTsSurface","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(a,b){b===void 0&&(b=!1);var c=i(!1),e=i(!1),f=i(b);b=function(b){var g=c.current;if(f.current&&!e.current){e.current=!0;return}b=c.current=b;!g&&b?d("WAWebTextMessageUserJourneyLogger").TextMessageUserJourneyLogger.log({chatId:a,action:d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.TYPING_START,hasDraft:f.current,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD}):(g||f.current)&&!b&&d("WAWebTextMessageUserJourneyLogger").TextMessageUserJourneyLogger.log({chatId:a,action:d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.CLEARED,hasDraft:f.current,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD})};var g=function(){d("WAWebTextMessageUserJourneyLogger").TextMessageUserJourneyLogger.log({chatId:a,action:d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.SENT,hasDraft:f.current,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD}),c.current=!1,f.current=!1},h=function(){var b=c.current?d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.DRAFT_SAVED:d("WAWebWamEnumTextMessageUserJourneyAction").TEXT_MESSAGE_USER_JOURNEY_ACTION.EXIT;d("WAWebTextMessageUserJourneyLogger").TextMessageUserJourneyLogger.log({chatId:a,action:b,hasDraft:f.current,uiSurface:d("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD})};return{handleTextMsgChangeForUJLogging:b,handleMsgSentForUJLogging:g,handleCloseForUJLogging:h}}g["default"]=a}),98);
__d("useForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useReducer;function a(){var a=i(j,0);a=a[1];return a}function j(a){return a+1}g["default"]=a}),98);
__d("WAWebComposeBox.react",["fbt","$InternalEnum","PaymentLink","PaymentLinkWamLogger","Promise","WAAbortError","WAFilteredCatch","WALogger","WANullthrows","WAShiftTimer","WATimeUtils","WAWebApiPrepareCtwaContextSend","WAWebAttachMenuGatingUtils","WAWebAttachmentMenuLogger","WAWebBizGatingUtils","WAWebBizQueryCtwaContextBridge","WAWebBlocklistCollection","WAWebBotCommandSuggestions.react","WAWebBotGating","WAWebBotProfileGetters","WAWebBotSuggestions.react","WAWebBotTypes","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebChatGetters","WAWebChatPreferenceCollection","WAWebClassnames","WAWebCmd","WAWebCodeFormatMutator","WAWebComposeBox.scss","WAWebComposeBoxActions","WAWebComposeBoxPopupPanels.react","WAWebComposeBoxUtils","WAWebConstantsDeprecated","WAWebConversationSpamUtils","WAWebCopyPasteCopyableArea.react","WAWebCryptoRandomMediaKey","WAWebDrawerManager","WAWebElevatedPushNamesFlag","WAWebEmojiPickerPlugin","WAWebEmojiSuggestions.react","WAWebErrorBoundary.react","WAWebFilePicker.react","WAWebFileUtils","WAWebFrontendChatGetters","WAWebGenMinimalLinkPreviewChatAction","WAWebKeyboardHotKeys.react","WAWebLexicalUtils","WAWebLimitSharingUIUtils","WAWebLinkPreviewChatAction","WAWebLinkify","WAWebMediaConstants","WAWebMediaGetUploadOriginForChat","WAWebMediaOpaqueData","WAWebMediaUploadMmsThumbnail","WAWebMentionPickerPlugin","WAWebMentionSuggestions.react","WAWebMessageComposer.react","WAWebMessageEditGatingUtils","WAWebMimeTypes","WAWebMiscErrors","WAWebMmsMediaTypes","WAWebModalManager","WAWebNewsletterGatingUtils","WAWebNewsletterSendMsgAction","WAWebNewsletterWamoSubMessageType","WAWebNewsletterWamoSubMessageTypePopup.react","WAWebNewsletterWamoSubUtils","WAWebNoop","WAWebPrepareMessageSendingAction","WAWebPresenceChatAction","WAWebProtobufsE2E.pb","WAWebPttComposer.react","WAWebPttComposerRecordingSession","WAWebPttMessageUserJourneyLogger","WAWebQuestions.flow","WAWebQuickReplyLogging","WAWebQuickReplyPickerPlugin","WAWebQuickReplySuggestions.react","WAWebReconnectUtil","WAWebRecordingSessionStateEnum","WAWebRichTextInput.react","WAWebSendStickerAction","WAWebSendTextMsgChatAction","WAWebStateUtils","WAWebStopEvent","WAWebSuggestionsPanelContainer.react","WAWebTabOrder","WAWebTextSizeUtils","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUim","WAWebUimUie.react","WAWebUseBotProfileValues","WAWebUseBusinessProfile.react","WAWebUseComposeBoxActionListeners","WAWebUseIsKeyboardUser","WAWebUseShouldShowBotSuggestions","WAWebUseTextMessageUserJourneyLogger","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebWamEnumMediaPickerOriginType","WAWebWamEnumQuickReplyEntryPoint","WAWebWamEnumWebcStickerMakerEventNameType","WAWebWebcStickerMakerEventsWamEvent","asyncToGeneratorRuntime","cr:5993","cr:7456","gkx","justknobx","react","stylex","useForceUpdate","useLazyRef","useWAWebChatValues","useWAWebDebouncedCallback","useWAWebListener","useWAWebModelValues","useWAWebOnUnmount","useWAWebSetModelValue","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,aa,m,ba=["ref"],n,ca,da,ea,o=ea||d("react"),p=da||(da=c("react")),fa=o.useEffect,ga=o.useImperativeHandle,ha=o.useMemo,q=o.useRef,r=o.useState,ia=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,ja=1,ka=700,la=8,s=b("$InternalEnum").Mirrored(["ATTACHMENT_MENU","OTHER"]),ma={blockCompose:{position:"x1n2onr6",zIndex:"xhtitgo",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"xuk3077",maxWidth:"x193iq5w",minHeight:"x122xwht",backgroundColor:"x1bmpntp",$$css:!0},blockComposeRefresh:{backgroundColor:"xjbqb8w",minHeight:"x1wiwyrm",$$css:!0},maxWidthEnabled:{maxWidth:"xquzyny",$$css:!0},richTextRefresh:{caretColor:"xjdcl3y",$$css:!0}};function a(a){var e,f=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,ba);var g=a.chat,da=a.onPageUpDown,ea=a.onComposeHeightChange,o=a.canShowSpamPanel;o=o===void 0?!1:o;var t=a.questionType,u=a.initialText;u=u===void 0?"":u;var na=a.onSend,oa=c("useForceUpdate")(),v=d("useWAWebChatValues").useChatValues(a.chat.id,[d("WAWebChatGetters").getId,d("WAWebFrontendChatGetters").getTrusted,d("WAWebFrontendChatGetters").getComposeQuotedMsg,d("WAWebChatGetters").getIsPSA,d("WAWebChatGetters").getIsGroup,d("WAWebFrontendChatGetters").getPttRecordingSession,d("WAWebFrontendChatGetters").getShouldAppearInList,d("WAWebFrontendChatGetters").getPresence,d("WAWebFrontendChatGetters").getContact,d("WAWebFrontendChatGetters").getAttachMediaContents,d("WAWebFrontendChatGetters").getQuotedMsgAdminGroupJid,d("WAWebFrontendChatGetters").getQuotedMsgAdminGroupSubject,d("WAWebFrontendChatGetters").getQuotedMsgAdminParentGroupJid,d("WAWebFrontendChatGetters").getComposeQuotedMsgRemoteJid,d("WAWebChatGetters").getIsAutoMuted,d("WAWebChatGetters").getIsNewsletter,d("WAWebChatGetters").getIsBroadcast,d("WAWebFrontendChatGetters").getNewsletterMetadata,d("WAWebFrontendChatGetters").getIsCAG]),w=v[0],pa=v[1],qa=v[2];v[3];var ra=v[4];v[5];v[6];var sa=v[7];v[8];v[9];var ta=v[10],ua=v[11],va=v[12];v[13];v[14];var x=v[15];v[16];var wa=v[17],xa=t===d("WAWebQuestions.flow").QuestionType.Question,ya=a.questionReplyQuotedMessage,za=d("useWAWebSetModelValue").useSetModelValue(g,"composeQuotedMsg"),Aa=d("useWAWebSetModelValue").useSetModelValue(g,"quotedMsgAdminGroupJid"),Ba=d("useWAWebSetModelValue").useSetModelValue(g,"composeQuotedMsgRemoteJid"),Ca=d("useWAWebSetModelValue").useSetModelValue(g,"pttRecordingSession"),y=d("useWAWebModelValues").useModelValues(c("WAWebChatPreferenceCollection").getDefault(),["spellcheck","transformTextEmoji","enterIsSend","showExpandedComposer"]);v=ha(function(){return g.getComposeContents()},[g]);var z=r(null),Da=z[0],Ea=z[1],A=q(v==null?void 0:v.omittedURL);z=r(null);var B=z[0],C=z[1];z=r(!1);var Fa=z[0],Ga=z[1];z=r(d("PaymentLinkWamLogger").LinkPreviewStatus.NOT_STARTED);var Ha=z[0],Ia=z[1],Ja=q(v==null?void 0:v.omittedURL),D=q((v==null?void 0:v.text)||""),Ka=function(){var a=d("WAWebCodeFormatMutator").removeCodeBlocks(D.current);return d("WAWebLinkify").findLinks(a,!0,d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow())[0]};z=c("WAWebUseIsKeyboardUser")();z=z.isKeyboardUser;var E=r(null),La=E[0],Ma=E[1];E=function(){return w.isBot()||La!=null};var F=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()||d("WAWebBotGating").isBizBot1pEnabled()?w:null,["commands","prompts","isBizBot1p","isBizBot3p"]),Na=La!=null?La:w,Oa=d("WAWebUseBotProfileValues").useOptionalBotProfileValues(Na,[d("WAWebBotProfileGetters").getCommands]);Oa=Oa[0];var Pa=(F==null?void 0:F.commands)||d("WAWebBotGating").isMetaBotCommandsEnabled()&&Oa||null,Qa=q([]),Ra=c("useLazyRef")(function(){return new AbortController()}),G=r(!1),Sa=G[0],Ta=G[1];G=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();var Ua=d("WAWebUseShouldShowBotSuggestions").useShouldShowBotSuggestions(a.chat,F==null?void 0:F.prompts),H=c("useWAWebStableCallback")(function(){return g.getComposeContents()}),Va=q(!1);e=c("WAWebUseTextMessageUserJourneyLogger")(g.id,((e=(e=H())==null||(e=e.text)==null?void 0:e.length)!=null?e:0)>0);var Wa=e.handleTextMsgChangeForUJLogging,Xa=e.handleMsgSentForUJLogging,Ya=e.handleCloseForUJLogging;fa(function(){return function(){Ya(),g.pttRecordingSession!=null&&d("WAWebPttMessageUserJourneyLogger").PttMessageUserJourneyLogger.draftSaved(g.id)}},[]);var Za=function(){Qa.current=[],Ra.current.abort(),Ra.current=new AbortController(),Sa&&Ta(!1)};e=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION),Ga(!0),$a(a)};var $a=function(a){a===void 0&&(a=d("WAWebUim").DismissReason.UIM_INTERACTION);if(a===d("WAWebUim").DismissReason.LIFECYCLE)return;Za();B&&(Ja.current=A.current,C(null))},ab=function(){A.current=null,Ga(!1),Ia(d("PaymentLinkWamLogger").LinkPreviewStatus.NOT_STARTED),$a()},bb=function(a,e){if(a.data.thumbnailDirectPath!==void 0){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["link preview: using an existing thumbnail mms"])));var f=d("WAWebComposeBoxUtils").getCachedPreview(a);C(function(b){return(b==null?void 0:b.url)!==a.url?b:f});return(n||(n=b("Promise"))).resolve()}d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["link preview: uploading new thumbnail mms"])));var h=a.data.thumbnailHQ;return!h?(n||(n=b("Promise"))).resolve():c("WAWebMediaOpaqueData").createFromBase64Jpeg(h).then(function(a){return c("WAWebMediaUploadMmsThumbnail")({thumbnail:a,mediaType:x?d("WAWebMmsMediaTypes").MEDIA_TYPES.NEWSLETTER_THUMBNAIL_LINK:d("WAWebMmsMediaTypes").MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:c("WAWebCryptoRandomMediaKey")(),uploadOrigin:c("WAWebMediaGetUploadOriginForChat")(g),forwardedFromWeb:!1,signal:e,timeout:d("WAWebMediaConstants").MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1})}).then(function(b){var c=b.mediaEntry;if(!c)return;C(function(d){if((d==null?void 0:d.url)!==a.url)return d;d={mediaKey:c.mediaKey,mediaKeyTimestamp:c.mediaKeyTimestamp,thumbnailDirectPath:c.directPath,thumbnailSha256:b.filehash,thumbnailEncSha256:c.encFilehash};d=babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,d)});return d})})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(a){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Full preview upload has failed: "]))).devConsole(a)})},I=r(!!D.current),cb=I[0],db=I[1];I=r(v==null?void 0:v.ctwaContextLinkData);var J=I[0],eb=I[1],fb=q(null),gb=q(null);I=q(null);var hb=q(null),ib=q(null),jb=q(null),kb=q(null),lb=q(0),mb=q(!1),nb=q(!1),ob=q(null),pb=c("useWAWebStableCallback")(function(){if(!cb||J){ab();return}var a=Ka();if(!a){ab();return}var b=a.url;if(A.current!==""&&A.current===b)return;A.current=b;Ja.current=null;var e=Ra.current.signal,f=null;d("PaymentLink").shouldDetectInComposer()&&(f=d("PaymentLink").getPSP(b));var h=f!=null?d("WAWebProtobufsE2E.pb").Message$ExtendedTextMessage$PreviewType.PAYMENT_LINKS:d("WAWebProtobufsE2E.pb").Message$ExtendedTextMessage$PreviewType.NONE,i=d("WAWebGenMinimalLinkPreviewChatAction").genMinimalLinkPreview(a,h,!0,{psp:f});C(i);Ia(d("PaymentLinkWamLogger").LinkPreviewStatus.STARTED);b=d("WAWebLinkPreviewChatAction").getLinkPreview(a,g).then(function(b){if(e.aborted)throw new(d("WAAbortError").AbortError)();if(b&&A.current===b.url&&(b.data&&(b.data.title||b.data.description))){C(b);return bb(b,e)["finally"](function(){Ia(d("PaymentLinkWamLogger").LinkPreviewStatus.COMPLETED)})}i!=null&&C(d("WAWebGenMinimalLinkPreviewChatAction").genMinimalLinkPreview(a,h,!1,{psp:f}))});Qa.current.push(b);b["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,c("WAWebNoop")))["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))}),K=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(pb)}),qb=q({text:"",parsableText:"",data:{}}),rb=q(null),L=null,M=r(),N=M[0];M=M[1];var O=r(g.pttRecordingSession),sb=O[0],tb=O[1];O=r(g.pttRecordingSession!=null);var ub=O[0],vb=O[1];O=r(null);var wb=O[0],xb=O[1];O=r("");var yb=O[0],zb=O[1];O=r(v==null?void 0:v.ctwaContext);var P=O[0],Ab=O[1];v=r(function(){return d("WAWebConversationSpamUtils").shouldShowSpamPanel(g)});var Bb=v[0],Cb=v[1];O=function(a){zb(a)};v=function(){Cb(!1),d("WAWebConversationSpamUtils").acknowledgeGroupAsNotSpam(g)};var Db=function(){Cb(!1)},Q=r({handleOnce:[],handleMultiple:[]}),Eb=Q[0],Fb=Q[1];d("useWAWebListener").useListener(d("WAWebBlocklistCollection").BlocklistCollection,["add","remove","reset"],oa);Q=r(y.showExpandedComposer);var Gb=Q[0],Hb=Q[1];oa=function(){Hb(!Gb),y.set("showExpandedComposer",!y.showExpandedComposer)};var R=function(){var a,b=D.current,c=g.getComposeContents();if(c==null&&b.trim()==="")return;if((c==null||(a=c.text)==null?void 0:a.trim())===b.trim())return;c={text:b,timestamp:d("WATimeUtils").unixTime()};b=Ja.current;b!=null&&(c.omittedURL=b);P!=null&&(c.ctwaContext=P);J!=null&&(c.ctwaContextLinkData=J);g.setComposeContents(c)},Ib=function(a){R();ab();var b=a.sourceUrl;b!=null&&b!==""&&d("WAWebBizQueryCtwaContextBridge").fetchCtwaContextData(a).then(function(a){Ab(a),R()})["catch"](function(a){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve CTWA context data, error: ",""])),a)})};fa(function(){lb.current=c("WANullthrows")(hb.current).clientHeight,K.current.debounceAndCap(50,50),J&&(!P||P.sourceUrl!==J.sourceUrl)&&(Ab(null),Ib(J)),d("WAWebPttMessageUserJourneyLogger").PttMessageUserJourneyLogger.setHasDraft(g.pttRecordingSession!=null)},[]);c("useWAWebOnUnmount")(function(){var a;K.current.cancel();Ra.current.abort();(a=ob.current)==null||a.cancel();R()});var Jb=c("useWAWebDebouncedCallback")(R,200),S=function(){var a=D.current.trim().length>0;return a},T=function(a){N==null||N.focus()},Kb=function(a,b){N==null||N.replaceSelection(a,b)};Q=function(a,b){if(a===" "&&!S())return d("WAWebCmd").Cmd.scrollMessages();T(!0);Kb(a,b)};var Lb=function(a){if(w.isBot()){d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"This action is not supported.")}));return!1}var b=c("justknobx")._("4552");a=a.filter(function(a){a=d("WAWebFileUtils").typeFromMimetype(a.type);return a===d("WAWebFileUtils").FILETYPE.DOCUMENT?b:a===d("WAWebFileUtils").FILETYPE.IMAGE||a===d("WAWebFileUtils").FILETYPE.VIDEO||a===d("WAWebFileUtils").FILETYPE.AUDIO});a.length>0&&(Jb.flush(),d("WAWebCmd").Cmd.attachMediaDrawer({chat:g,attachments:a.map(function(a){return{file:a}}),fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:H(),onComplete:Z}));return!0},Mb=function(a){Lb(a)},Nb=function(a){T(!0),N==null||N.paste(a)},U=q(s.OTHER),V=function(){var a;(a=rb.current)==null||a.togglePanel();U.current=s.ATTACHMENT_MENU},Ob=function(){N==null||N.reset()},W=function(){T()},X=function(){d("WAWebComposeBoxActions").ComposeBoxActions.setIsFocus(!0)},Pb=function(){d("WAWebComposeBoxActions").ComposeBoxActions.setIsFocus(!1)},Qb=q(null),Rb=q(null),Y=function(a){eb(a),Ab(null),Ib(a)},Sb=function(a){Fb(function(b){var c=b.handleOnce;b=b.handleMultiple;return{handleOnce:a.handleOnce?c.concat(a.handleOnce):c,handleMultiple:a.handleMultiple?c.concat(a.handleMultiple):b}})},Tb=function(){eb(null),Ab(null),R(),K.current.onOrBefore(1)},Ub=function(){var a;(a=gb.current)==null||a.activate();T(!1)},Vb=function(a){a.stopPropagation();da(a);(a=ob.current)==null||a.debounce(0)},Z=c("useWAWebStableCallback")(function(a,b){b===void 0&&(b={});b=b;b=b.initCaptionUsed;a&&b&&Ob();a&&Tb()}),Wb=c("useWAWebStableCallback")(function(){Jb.flush()}),Xb=function(){xb(null),W()},Yb=function(a,b,e,f){a=d("WAWebComposeBoxUtils").fetchGif(a,b,e,f);Jb.flush();(xa||ya)&&d("WAWebModalManager").ModalManager.close();d("WAWebCmd").Cmd.attachMediaDrawer({chat:g,attachments:[a],initCaption:H(),fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:function(a,b){Z(a,b),a&&Xb()},isQuestion:xa,questionReplyQuotedMessage:ya});a["catch"](c("WAWebNoop"));return a},Zb=function(a,b,c){void Yb(a,a,b,c)},$b=function(a,b,c){var e=qa,f=d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(J,P);b={stickerSendOrigin:b,quotedMsg:e,ctwaContext:f};c===d("WAWebNewsletterWamoSubMessageType").NewsletterWamoSubMessageType.WamoSub&&(b.isWamoSub=!0);void d("WAWebSendStickerAction").sendStickerToChat(g,a,b);za(null);Tb()},ac=function(a,b,c){if(a.isCreateButton){var e;new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit();(e=jb.current)==null||e.open();return}if(x&&d("WAWebNewsletterWamoSubUtils").newsletterSupportsSubscriptions(wa)&&c!=null&&c.target&&d("WAWebNewsletterGatingUtils").isWamoSubCreatorExperienceSupported()){e=function(c){$b(a,b,c)};Ea({popupAnchorEl:c.target,handleSelect:e})}else $b(a,b)},bc=function(a,b,c){c===!0?$b(a,b,d("WAWebNewsletterWamoSubMessageType").NewsletterWamoSubMessageType.WamoSub):$b(a,b)},cc=function(a){var b=S();D.current=a;var c=S();c!==b&&(window.setTimeout(function(){d("WAWebComposeBoxActions").ComposeBoxActions.setHasText(c)},0),db(c));c?(sa.subscribe(),d("WAWebPresenceChatAction").markComposing(g),void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(g)):(L=null,d("WAWebPresenceChatAction").markPaused(g));b=Ka();(!b&&A.current||b&&b.url!==A.current)&&ab();mb.current?K.current.onOrBefore(1):K.current.debounce(ka);mb.current=!1;Jb();!Bb&&a&&!pa&&Cb(!0);b=qb.current.data;a=b.mentionedJidList;b=a==null?void 0:a.find(function(a){return a.isBot()});Ma(b);!Va.current?Wa(c):Va.current=!1},dc=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;g.pttRecordingSession!=null?a=g.pttRecordingSession:(a=d("WAWebPttComposerRecordingSession").createRecordingSession({chat:d("WAWebStateUtils").unproxy(g)}),a.on("change:recordingState",function(){var b=a.recordingState;g.pttRecordingSession===a&&(b===d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR||b===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED)&&Ca(null)}));tb(a);vb(!1);d("WAWebPttMessageUserJourneyLogger").PttMessageUserJourneyLogger.start(g.id);var b;try{b=(yield a.start())}finally{var c=Boolean(b)?a:null;Ca(c);tb(c);vb(c!=null)}});return function(){return a.apply(this,arguments)}}(),ec=function(a){xb(a),a!=null&&d("WAWebUserPrefsGeneral").setLastComposeBoxExpressionPanel(a)},fc=function(a){a=a.getFiles();return Lb(a)},gc=function(a){var b=ia.exec(a);if(b){b="https://media.giphy.com/media/"+b[1]+"/200w.mp4";Yb(b,a,d("WAWebProtobufsE2E.pb").Message$VideoMessage$Attribution.GIPHY)["catch"](function(){d("WAWebDrawerManager").DrawerManager.closeDrawerMid(),T(!0),N==null||N.replaceSelection(a),d("WAWebToastManager").ToastManager.open(p.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"The item you tried adding failed to load.")}))});return!0}mb.current=!0;return!1},hc=function(){return!hb.current?0:hb.current.offsetWidth-ja},ic=function(a){var b,c;a=a.target;if(a instanceof HTMLElement&&(b=Rb.current)!=null&&b.contains(a))return;a instanceof HTMLElement&&a===(N==null||(c=N.editor)==null?void 0:c.getRootElement())&&Ub();!ra&&cb&&Cb(!0)},jc=function(a){var b;d("WAWebReconnectUtil").reconnect();var e=qb.current.text.trim(),f=qb.current.data;if(e.length===0&&!J)return;if(d("WAWebLimitSharingUIUtils").isLimitSharingReceiverEnabledForUsers(g,f.mentionedJidList)){d("WAWebLimitSharingUIUtils").showLimitSharingInvokeBlockedPopup(g);return}Za();var h=qa,i=B==null?void 0:B.data,j=d("PaymentLink").getPaymentLinkMessageMetadata(i,d("WAWebCodeFormatMutator").removeCodeBlocks(e)),k=f.mentionedJidList||[];f=f.groupMentions||[];var l=d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(J,P),m=nb.current;xb(null);db(!1);C(null);(b=Qb.current)==null||b.close();L&&(d("WAWebQuickReplyLogging").logQuickReplySendEvent(L===s.ATTACHMENT_MENU?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD),L=null);if(m){b=d("WAWebStateUtils").unproxy(g);b.urlText&&(b.urlText=void 0)}m={linkPreview:i,quotedMsg:h,mentionedJidList:k,groupMentions:f,quotedMsgAdminGroupJid:ta,quotedMsgAdminGroupSubject:ua,quotedMsgAdminParentGroupJid:va,ctwaContext:l,isQuestion:xa,questionReplyQuotedMessage:ya};x?(a===d("WAWebNewsletterWamoSubMessageType").NewsletterWamoSubMessageType.WamoSub&&d("WAWebNewsletterGatingUtils").isWamoSubCreatorExperienceSupported()&&(m.isWamoSub=!0),void d("WAWebNewsletterSendMsgAction").sendNewsletterTextMsg(g,e,m)):(d("WALogger").LOG(aa||(aa=babelHelpers.taggedTemplateLiteralLoose(["sendTextAction inside WAWebComposeBox"]))),void d("WAWebSendTextMsgChatAction").sendTextMsgToChat(g,e,babelHelpers["extends"]({},m,{botMsgBodyType:d("WAWebBotGating").isBizBot3pAvailable()&&F!=null&&F.commands&&d("WAWebLexicalUtils").hasBotCommand(N==null?void 0:N.editor)?d("WAWebBotTypes").BotMsgBodyType.COMMAND:null,paymentLinkMetadata:j})),Tb(),Eb.handleOnce.forEach(function(a){return a==null?void 0:a()}),Eb.handleMultiple.forEach(function(a){return a==null?void 0:a()}),Fb({handleMultiple:Eb.handleMultiple,handleOnce:[]}));if(d("PaymentLinkWamLogger").shouldLogSendEvent()){b=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();i=d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(b));d("PaymentLinkWamLogger").genLogSendEventIfPaymentLink(d("WAWebCodeFormatMutator").removeCodeBlocks(e),Fa,B,Ha,i,g,j)["catch"](c("WAWebNoop"))}nb.current=!1;za(null);Aa(null);Ba(null);g.setComposeContents({});Ob();S()},kc=function(){if(x&&d("WAWebNewsletterWamoSubUtils").newsletterSupportsSubscriptions(wa)&&fb.current&&d("WAWebNewsletterGatingUtils").isWamoSubCreatorExperienceSupported()){var a=function(a){jc(a)};Ea({popupAnchorEl:fb.current,handleSelect:a})}else jc();na==null||na();Va.current=!0;Xa()},$=c("useWAWebStableCallback")(function(a){N==null||N.setTextContent(a)}),lc=function(a){if(wb){var b;(b=ib.current)==null||b.restoreFocus(!0);d("WAWebStopEvent").stopEvent(a)}},mc=c("useWAWebDebouncedCallback")(function(a){if(S()||!(x?d("WAWebNewsletterGatingUtils").isNewsletterMessageEditingEnabled():d("WAWebMessageEditGatingUtils").sendTextEditEnabled()||d("WAWebMessageEditGatingUtils").sendCaptionEditEnabled()))return;d("WAWebComposeBoxUtils").editLastMessage(g,a)},200,{trailing:!0}),nc=function(){tb(null),vb(!1),W()},oc=function(a){if(!a)return;a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);if(!a.length)return;new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit();d("WAWebCmd").Cmd.attachMediaDrawer({chat:g,attachments:a.map(function(a){return{file:a,stickerMaker:!0}}),fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,sendAsSticker:!0})};c("WAWebUseComposeBoxActionListeners")(g,{onFocus:W,onPaste:Q,onPasteFiles:Mb,onRoutedPaste:Nb,onSend:kc,onToggleQuickReplies:V,onCtwaContextLinkData:Y,onSendingLogAttributes:Sb,onSetTextContent:$});Q=d("WAWebTextSizeUtils").getWAWebTextSizeStyles().composerFontSize;Mb=d("WAWebStateUtils").unproxy(g).groupMetadata;Nb=function(a){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handlePromptSelect inside WAWebComposeBox"]))),d("WAWebSendTextMsgChatAction").sendTextMsgToChat(g,a,{botMsgBodyType:d("WAWebBotGating").isBizBot3pAvailable()?d("WAWebBotTypes").BotMsgBodyType.PROMPT:null})};V=d("WAWebComposeBoxUtils").getComposeBoxPlaceholderText({chat:g,questionType:t});Y=d("WAWebComposeBoxUtils").getComposeBoxAriaLabelText(g);Sb=function(a){a&&d("WAWebAttachMenuGatingUtils").areExpressionPanelsOpenEnabled()};M=p.jsxs(d("WAWebRichTextInput.react").RichTextInput,{ref:M,onFocus:X,onBlur:Pb,placeholder:V,ariaLabel:Y,ariaActiveDescendents:yb,textXstyle:Q,xstyle:G&&ma.richTextRefresh,testid:void 0,initialText:u||(t==null?($=H())==null?void 0:$.text:null),groupMetadata:Mb,readOnly:sb!=null,maxLength:c("WAWebConstantsDeprecated").MAX_TXT_MSG_SIZE,maxVisibleLines:la,minVisibleLines:Gb?2:1,spellCheck:y.spellcheck,transformTextEmoji:y.transformTextEmoji,enterIsNewLine:!y.enterIsSend,multiline:!0,focusOnMount:!z,textFormatEnabled:!0,tabOrder:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_INPUT,onChange:function(a){qb.current=a,cc(a.parsableText)},onEnter:kc,onFiles:fc,onTextPaste:gc,onMaxPasteExceeded:d("WAWebComposeBoxUtils").handleMaxPasteExceeded,bulletPointsEnabled:!0,numberedListEnabled:!0,inlineCodeEnabled:!0,blockQuoteEnabled:!0,internLinksEnabled:!0,phoneNumbersEnabled:!1,linksEnabled:!0,textFormatShortcutsEnabled:!0,floatingToolbarEnabled:!Gb,botInvokeEnabled:g.canInvokeBot(),highlightedBotCommands:Pa,children:[G&&p.jsx(d("WAWebEmojiPickerPlugin").EmojiPickerPlugin,{}),G&&p.jsx(d("WAWebMentionPickerPlugin").MentionPickerPlugin,{chat:d("WAWebStateUtils").unproxy(g),elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(g),botInvokeEnabled:g.canInvokeBot()}),G&&d("WAWebBizGatingUtils").canSendQuickReplyInChat(g)&&c("justknobx")._("169")&&(N==null?void 0:N.editor)&&p.jsx(d("WAWebQuickReplyPickerPlugin").QuickReplyPickerPlugin,{editor:N.editor})]});var pc;X=N==null?void 0:N.editor;X!=null&&(pc=p.jsxs(p.Fragment,{children:[!G&&p.jsx(d("WAWebMentionSuggestions.react").MentionSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:X,chat:g,groupMetadata:Mb,elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(g),botInvokeEnabled:g.canInvokeBot()}),!G&&p.jsx(d("WAWebEmojiSuggestions.react").EmojiSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:X,emojiSuggestionSelect:O}),d("WAWebBizGatingUtils").canSendQuickReplyInChat(g)&&(!G||!c("justknobx")._("169"))&&p.jsx(d("WAWebQuickReplySuggestions.react").QuickReplySuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:X,ref:rb,onSelect:function(){U.current===s.ATTACHMENT_MENU?(d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(g,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.QUICK_REPLY),L=s.ATTACHMENT_MENU):L=s.OTHER,U.current=s.OTHER},onHide:function(){U.current===s.ATTACHMENT_MENU&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(g,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.QUICK_REPLY),U.current=s.OTHER}}),(d("WAWebBotGating").isBizBot3pEnabled()&&F||d("WAWebBotGating").isMetaBotCommandsEnabled()&&Oa)&&p.jsx(d("WAWebBotCommandSuggestions.react").BotCommandSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:X,businessProfile:F&&d("WAWebStateUtils").unproxy(F),metaBotId:Na}),!c("gkx")("26258")&&b("cr:5993")?p.jsx(b("cr:5993"),{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:X}):null]}));ga(f,function(){return{flushSaveComposeContentDebounced:Wb,getCurrentComposeContent:H,updateTextAfterMediaDrawerClose:Z}},[Wb,H,Z]);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"start_ptt_recording",function(){ub||void dc()});Pb=null;Ua&&(Pb=p.jsx(d("WAWebBotSuggestions.react").BotSuggestions,{id:w,onPromptSelect:Nb}));V={chat:g,pttComposerActive:ub,isMessageToBot:E(),getCurrentComposeContent:H,richTextInputRef:N,updateTextAfterMediaDrawerClose:Z,inputHotkeyRef:kb,handleTab:lc,handleMetaUpDebounced:mc,handleInputFocus:ic,input:M,expressionsPanelWrapperRef:Rb,expressionsPanelPickerRef:Qb,replaceInputSelection:Kb,handlePanelsSticker:ac,handlePanelsStickerFromStore:bc,handlePanelsGif:Zb,hasTextState:cb,handleSendText:kc,recordingSession:sb,startRecording:dc,onExpressionPanelActive:Sb};Y=d("WAWebComposeBoxPopupPanels.react").useComposePopupPanels(ib,{chat:g,linkPreviewData:B==null?void 0:B.data,ctwaContextLinkData:J,ctwaContextData:P,restoreFocus:W,selectedExpressionPanel:wb,getComposeBlockWidth:hc,onComposeHeightChange:ea,omitLinkPreview:e,omitCtwa:Tb,attachmentButtonHidden:E(),onEmoji:Kb,onGif:Zb,onExpressionPanelChange:ec,onSticker:ac,onExpressionPanelClose:Xb,showSpamPanel:o&&Bb,onClickNotSpam:v,onClickDismissSpam:Db,questionReplyQuotedMessage:a.questionReplyQuotedMessage,questionType:t});yb=Y.PopupPanels;Q=Y.hasTopPanels;Gb&&b("cr:7456")?u=p.jsx(b("cr:7456"),babelHelpers["extends"]({},V,{ref:fb,onCollapseComposer:oa})):u=p.jsx(d("WAWebMessageComposer.react").MessageComposer,babelHelpers["extends"]({},V,{ref:fb,handleExpressionPanelChange:ec,selectedExpressionPanel:wb,hasTopPanel:Q,closePttComposer:nc,questionType:t,questionReplyQuotedMessage:a.questionReplyQuotedMessage}));return p.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"compose-box",type:"fatal",children:p.jsx(d("WAWebUimUie.react").UIE,{displayName:"ComposeBox",ref:gb,uimState:d("WAWebUim").UIMState.PASSIVE,requestFocus:z?null:W,children:p.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{component:"footer",tabIndex:null,handlers:{pagedown:Vb,pageup:Vb},className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(($={},$[c("WAWebComposeBox.scss").pttComposerActive]=ub,$[c("WAWebComposeBox.scss").footer]=!0,$[c("WAWebComposeBox.scss").botSuggestions]=Ua,$),{0:"",1:"x1wiwyrm"}[!!G<<0]),ref:I,children:[Pb,p.jsx(c("WAWebCopyPasteCopyableArea.react"),{canCut:!0,className:(ca||(ca=c("stylex")))(ma.blockCompose,G&&[ma.blockComposeRefresh,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUIRefreshGatingUtils").restrictMessageListWidth()&&ma.maxWidthEnabled],!G&&[d("WAWebUISpacing").uiPadding.bottom5,d("WAWebUISpacing").uiPadding.horiz16]),ref:hb,children:p.jsxs("div",babelHelpers["extends"]({"data-testid":void 0},{0:{className:"x1n2onr6 x98rzlu xh8yej3 xeuugli x1ofbdpd"},1:{className:"x1n2onr6 x98rzlu xh8yej3 xeuugli x1gg8mnh"}}[!!G<<0],{children:[ub&&!G?p.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pttComposer",children:p.jsx("div",{className:c("WAWebComposeBox.scss").pttComposerContainer,children:p.jsx(c("WAWebPttComposer.react"),{chat:d("WAWebStateUtils").unproxy(g),recordingSession:c("WANullthrows")(sb),onComplete:nc})})}):null,p.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"messageComposer",children:u})]}))}),yb,p.jsx(c("WAWebFilePicker.react"),{ref:jb,mimes:d("WAWebMimeTypes").IMAGE_MIMES,onChange:oc,multiple:!1}),pc,Da!=null&&p.jsx(d("WAWebNewsletterWamoSubMessageTypePopup.react").NewsletterWamoSubMessageTypePopup,{handleSelect:Da.handleSelect,popupAnchorEl:Da.popupAnchorEl,onDismiss:function(){return Ea(null)}})]})})})}a.displayName=a.name+" [from "+f.id+"]";o=a;function e(a){var b=a.chat;a=a.handleFocus;b=b.id.toString();d("useWAWebListener").useListener(d("WAWebComposeBoxActions").ComposeBoxActions,"focus_"+b,a);d("useWAWebListener").useListener(d("WAWebComposeBoxActions").ComposeBoxActions,"focus",a);return p.jsx(d("WAWebUimUie.react").UIE,{displayName:"PlaceholderComposeBox"})}e.displayName=e.name+" [from "+f.id+"]";g.ComposeBox=o;g.PlaceholderComposeBox=e}),226);
__d("WAWebCompression",["JSResourceForInteraction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b===void 0&&(b={});var a=(yield c("JSResourceForInteraction")("WAGzip").__setRef("WAWebCompression").load());return a.createDeflate(b)});return h.apply(this,arguments)}g.createDeflate=a}),98);
__d("WAWebCongratulationsAnimation.react",["WAWebCongratulationsAnimationsUtils","WAWebLottieAnimationLoadable","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef,m=b.useState,n={lottieComponent:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.onAnimationComplete;a=a.ref;var e=m(!1),f=e[0],g=e[1];e=m(null);var h=e[0],i=e[1];e=l(null);var o=c("useWAWebUnmountSignal")(),p=function(){b==null||b();if(o.aborted)return;g(!1)},q=function(a){if(o.aborted)return;a=d("WAWebCongratulationsAnimationsUtils").getCongratulationsAnimationPath(a.animation);i(a);g(!0)};k(a,function(){return{triggerAnimation:q}});a=null;f&&h!=null&&(a=j.jsx("div",{className:"x10l6tqk xc9l9hb x47corl x5yr21d xh8yej3 x78zum5 xl56j7k",children:j.jsx("div",{className:"x5yr21d xktia5q",children:j.jsx(d("WAWebLottieAnimationLoadable").LottieAnimation,{ref:e,autoplay:!0,path:h,onComplete:p,xstyle:n.lottieComponent})})}));return a}a.displayName=a.name+" [from "+f.id+"]";e=a;g.CongratulationsAnimation=e}),98);
__d("WAWebCongratulationsAnimationConversation.react",["WAWebCongratulationsAnimation.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef;function l(a,b){a.animationCandidateData&&(b==null||b.triggerAnimation({animation:a.animationCandidateData.animationType}),a.setCelebrationAnimationLastPlayed())}function a(a){a=a.chat;var b=k();a=d("useWAWebModelValues").useModelValues(a,["animationCandidateData","celebrationAnimationLastPlayed"]);a.animationCandidateData&&a.animationCandidateData.msgTimestampSeconds>a.celebrationAnimationLastPlayed&&l(a,b.current);return j.jsx(d("WAWebCongratulationsAnimation.react").CongratulationsAnimation,{ref:b})}a.displayName=a.name+" [from "+f.id+"]";g.CongratulationsAnimationConversation=a}),98);
__d("WAWebContactMutator",["WALogger","WAWebApiContact","WAWebBizCoexGatingUtils","WAWebContactCollection","WAWebProtobufsAdv.pb","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h,i,j,k;function l(a){if(a.isLid()){var b=d("WAWebApiContact").getPnIfLidIsLatestMapping(a);b=b!=null?d("WAWebContactCollection").ContactCollection.gadd(b):null;return{lidContact:d("WAWebContactCollection").ContactCollection.gadd(a),pnContact:b}}b=d("WAWebApiContact").getCurrentLid(a);b=b!=null?d("WAWebContactCollection").ContactCollection.gadd(b):null;return{pnContact:d("WAWebContactCollection").ContactCollection.gadd(a),lidContact:b}}function m(a,b){var c=a.pnContact;a=a.lidContact;c!=null&&c.set(b);a!=null&&a.set(b)}function a(a){var b=a.contactId;a=a.pushname;b=l(d("WAWebWidFactory").asUserWidOrThrow(b));var c=b.pnContact,e=b.lidContact;if((c==null||c.pushname===a)&&(e==null||e.pushname===a))return!1;c={pushname:a};m(b,c);return!0}function b(a){a=a.lidPhoneNumberMappings;a.forEach(function(a){var b=a.lid;a=a.phoneNumber;b=d("WAWebContactCollection").ContactCollection.get(d("WAWebWidFactory").createUserWid(b,"lid"));var c=d("WAWebContactCollection").ContactCollection.get(d("WAWebWidFactory").createUserWid(a));if(b!=null){a=b.phoneNumber=d("WAWebWidFactory").createUserWid(a);b.copyFieldsFromPnContact(a)}b==null||b.updateContactBlocked();c==null||c.updateContactBlocked();b==null||b.updateContactOptedOutOfMarketingMessages();c==null||c.updateContactOptedOutOfMarketingMessages()})}function c(a){a=a.lidContactDataMappings;a.forEach(function(a){var b=a.lid,c=a.shareOwnPn,e=a.displayNameLID;a=a.requestedPnTimestamp;b=d("WAWebContactCollection").ContactCollection.gadd(b);b!=null&&(c!=null&&(b.shareOwnPn=c),e!=null&&(b.displayNameLID=e),a!=null&&(b.requestedPnTimestamp=a))})}function e(a){var b=a.contactId,c=a.disappearingModeDuration;a=a.disappearingModeSettingTimestamp;b=l(d("WAWebWidFactory").asUserWidOrThrow(b));c={disappearingModeDuration:c,disappearingModeSettingTimestamp:a};m(b,c);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["updated contact disappearing mode"]))).tags("contact")}function f(a){var b=a.contactId,c=a.textStatusString,e=a.textStatusEmoji,f=a.textStatusEphemeralDuration,g=a.textStatusLastUpdateTime;a=a.textStatusExpiryTs;b=l(d("WAWebWidFactory").asUserWidOrThrow(b));c={textStatusString:c,textStatusEmoji:e,textStatusEphemeralDuration:f,textStatusLastUpdateTime:g,textStatusExpiryTs:a};m(b,c);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["updated contact text status"]))).tags("contact")}function n(a){var b=a.contactId;a=a.businessInfo;if(a==null)return;b=l(d("WAWebWidFactory").asUserWidOrThrow(b));m(b,babelHelpers["extends"]({},a));d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["updated contact business info"]))).tags("contact")}function o(a){a=a.usernameUpdates;a.forEach(function(a){var b=a.id,c=a.username,e=a.usernameCountryCode,f=a.displayNameLID;a=a.usernameSoftDeleted;b=l(d("WAWebWidFactory").createUserWid(b));var g=b.pnContact,h=b.lidContact;g=g!=null&&(g.username!==c||g.usernameCountryCode!==e);h=h!=null&&(h.username!==c||h.usernameCountryCode!==e);if(!g&&!h)return;g={};e!=null&&(g.usernameCountryCode=e);f!=null&&(g.displayNameLID=f);a!==!0&&(g.username=c);m(b,g)})}function p(a){var b=a.contactId;a=a.advAccountType;if(d("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()){a=a===d("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED;d("WAWebContactCollection").ContactCollection.gadd(b).set(a?{isHosted:!0,isOrHasBeenHosted:!0}:{isHosted:!1})}}function q(a){var b=a.showMe;a=a.showWithoutName;return d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:b,showWithoutName:a})}function r(a){var b=a.id;a=a.usernameKey;b=l(d("WAWebWidFactory").createUserWid(b));a={usernameKey:a};m(b,a);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["updated contact username key"]))).tags("contact")}g.updatePushname=a;g.bulkUpdatePhoneNumberJids=b;g.bulkUpdateLidContactState=c;g.updateDisappearingMode=e;g.updateTextStatus=f;g.updateBusinessInfo=n;g.bulkUpdateUsernames=o;g.updateContactAdvAccountType=p;g.getFilteredContacts=q;g.updateUsernameKey=r}),98);
__d("WAWebContactBridgeApi",["Promise","WAWebBizUpdateContactsWithVerifiedNamesAction","WAWebChatCollection","WAWebContactCollection","WAWebContactMutator","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;c={updatePushname:(a=d("WAWebContactMutator")).updatePushname,bulkUpdatePhoneNumberJids:a.bulkUpdatePhoneNumberJids,bulkUpdateLidContactState:a.bulkUpdateLidContactState,updateDisappearingMode:a.updateDisappearingMode,updateTextStatus:a.updateTextStatus,updateContactWithVerifiedName:function(a){var b=a.contactId;a=a.verifiedNameInfo;b=d("WAWebContactCollection").ContactCollection.gadd(b);d("WAWebBizUpdateContactsWithVerifiedNamesAction").updateContactsWithVerifiedNames([a],[b])},addContactToCollection:function(a){var b=a.contact;a=a.option;d("WAWebContactCollection").ContactCollection.add(babelHelpers["extends"]({},b),a)},updateBusinessInfo:a.updateBusinessInfo,bulkUpdateUsernames:a.bulkUpdateUsernames,updateContactAdvAccountType:a.updateContactAdvAccountType,getFilteredContacts:a.getFilteredContacts,updateUsernameKey:a.updateUsernameKey,getFrequentContacts:function(a){var c=a.count,e=a.includeVoipCallableOnly;a=d("WAWebChatCollection").ChatCollection.getModelsArray();a=a.filter(function(a){return a.id.isRegularUser()});var f=[];a=a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebContactCollection").ContactCollection.get(a.id);b!=null&&!e&&f.push(a)});return function(b){return a.apply(this,arguments)}}());return(h||(h=b("Promise"))).all(a).then(function(){return f.sort(function(a,b){return((b=b.t)!=null?b:0)-((b=a.t)!=null?b:0)}).slice(0,c).map(function(a){a=d("WAWebContactCollection").ContactCollection.get(a.id);return(a=a==null?void 0:a.id.toString())!=null?a:null}).filter(Boolean)})}};g.ContactBridgeApi=c}),98);
__d("WAWebContactMsgInfoFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebContactMsgInfoFlow.react").__setRef("WAWebContactMsgInfoFlowLoadable").load());return a}),"ContactMsgInfoFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingDrawer.react"),{title:h._(/*BTDS*/"Message info"),error:Boolean(a.error)})}});g.requireBundle=a;g.ContactMsgInfoFlowLoadable=d}),226);
__d("WAWebRoundSendInvIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="round-send-inv";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=35;o=35;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 35 35",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 35 35",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",enableBackground:"new    ",d:"M17.5,0.25C7.988,0.25,0.25,7.988,0.25,17.5 S7.988,34.75,17.5,34.75s17.25-7.738,17.25-17.25S27.012,0.25,17.5,0.25z M14.3,24.2l-5.6-5.6l1.4-1.4l4.2,4.2l10.6-10.6l1.4,1.4 L14.3,24.2z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RoundSendInvIcon=a}),98);
__d("WAWebConversationDeprecatedLidChatBanner.react",["fbt","WALogger","WAWebButton.react","WAWebCmd","WAWebComposeBoxActions","WAWebConversationNewBanner.react","WAWebFindChatAction","WAWebRoundSendInvIcon.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||d("react");function a(a){var e=a.latestLid;a=h._(/*BTDS*/"This phone number is connected to a new WhatsApp account.");var f=h._(/*BTDS*/"Message the new account"),g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebFindChatAction").findOrCreateLatestChat(e,"deprecatedLidOrPnChat").then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.chat;var b=(yield d("WAWebCmd").Cmd.openChatFromUnread(a));b&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)});return function(b){return a.apply(this,arguments)}}())["catch"](function(){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[deprecated lid chat] failed to find or create latest chat using the latest lid for given pn"]))).sendLogs("failed-to-find-or-create-latest-chat-from-deprecated-chat")})});return function(){return a.apply(this,arguments)}}();g=k.jsx(d("WAWebButton.react").WAWebButtonSecondary,{onClick:g,icon:d("WAWebRoundSendInvIcon.react").RoundSendInvIcon,children:f},"go_to_latest_lid_chat");return k.jsx(c("WAWebConversationNewBanner.react"),{primaryText:a,buttons:[g]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebHistorySyncOnDemandEvents",["WAWebEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.triggerSuccessHistorySyncOd=function(a){this.trigger("history_sync_on_demand_events:success_history_sync_od",a)};c.triggerErrorHistorySyncOd=function(a){this.trigger("history_sync_on_demand_events:error_history_sync_od",a)};return b}(c("WAWebEventEmitter"));b=new a();g.WAWebHistorySyncOnDemandEvents=b}),98);
__d("WAWebConversationLoadMoreMessagesHistorySync",["fbt","WALogger","WAWebAlertSyncPausedIcon.react","WAWebChatConstants","WAWebClock","WAWebHistorySyncInProgressPopup.react","WAWebHistorySyncOnDemandEvents","WAWebHistorySyncPausedPopup.react","WAWebHistorySyncProgressGetters","WAWebHistorySyncUIText","WAWebIcSyncIcon.react","WAWebModalManager","WAWebNonMessageDataRequestHistorySyncOnDemandUtils","WAWebProtobufsE2E.pb","WAWebSendNonMessageDataRequest","WAWebSpinner.react","WAWebSyncGatingUtils","WAWebUserPrefsHistorySync","react","useWAWebHistorySyncProgressValues","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m=l||c("react"),n=(k||(k=d("react"))).useState;function a(a){var b=a.chatId;a=a.mdHistorySyncTransferState;var e=d("useWAWebHistorySyncProgressValues").useHistorySyncProgressValues([d("WAWebHistorySyncProgressGetters").getInProgress,d("WAWebHistorySyncProgressGetters").getPaused]),f=e[0];e=e[1];var g=a===d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.INCOMPLETE,k=b==null?void 0:b.toJid(),l=n(function(){return k!=null?new Set(d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.values()).has(k):!1}),o=l[0],p=l[1];l=n(null);var q=l[0],r=l[1];d("useWAWebListener").useListener(d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents,"history_sync_on_demand_events:success_history_sync_od",function(a){d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&a===k&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[history sync][on demand] success for chat ",""])),b==null?void 0:b.toLogString()),p(!1),r(!0))});d("useWAWebListener").useListener(d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents,"history_sync_on_demand_events:error_history_sync_od",function(a){d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&a===k&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[history sync][on demand] fail for chat ",""])),b==null?void 0:b.toLogString()),p(!1),r(!1))});var s,t,u;if(g&&f)s=e?d("WAWebHistorySyncUIText").SYNCING_PAUSED_CONTEXTUAL_SYSTEM_MESSAGE_TEXT():d("WAWebHistorySyncUIText").SYNC_IN_PROGRESS_CONTEXTUAL_SYSTEM_MESSAGE_TEXT(),t=e?m.jsx(d("WAWebAlertSyncPausedIcon.react").AlertSyncPausedIcon,{width:14,height:14}):m.jsx(d("WAWebIcSyncIcon.react").IcSyncIcon,{viewBox:{x:-10,y:-5,width:32,height:32}}),u=e?function(){d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebHistorySyncPausedPopup.react"),{}))}:function(){d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebHistorySyncInProgressPopup.react"),{}))};else{if(d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&a!=null&&!f&&!o&&!d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").historySyncOnDemandRequestsFailureRecord.disableRequestSending)switch(a){case d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY:b!=null&&(q!==!1?s=h._(/*BTDS*/"Click here to get older messages from your phone."):(s=h._(/*BTDS*/"Couldn't get older messages. Open WhatsApp on your phone and click here to try again."),t=m.jsx(d("WAWebAlertSyncPausedIcon.react").AlertSyncPausedIcon,{width:14,height:14})),u=function(){p(!0),d("WAWebSendNonMessageDataRequest").sendPeerDataOperationRequest(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.HISTORY_SYNC_ON_DEMAND,{chatId:b}),r(null)});break;case d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY:s=h._(/*BTDS*/"Use WhatsApp on your phone to see older messages.");break;default:break}if(s==null){l=d("WAWebClock").Clock.relativeDateStr(d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate());s=h._(/*BTDS*/"Use WhatsApp on your phone to see older messages from before {date}.",[h._param("date",l)])}}if(d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()&&o)return m.jsx("div",{className:"x78zum5 x1okw0bk xl56j7k xexx8yu xyri2b xvg22vi x1c1uobl",children:m.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k x187nhsf xn3w4p2 xdj266r x11t971q xat24cr xvc5jky xiqmkuo x150wa6m x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1wpep30",children:m.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24,color:"highlight"})})});e=m.jsxs("div",{className:"x78zum5 x6s0dn4 x1r0jzty x17zd0t2",children:[t,m.jsx("div",{children:s})]});f={0:"x9f619 x1rg5ohu x1okw0bk x193iq5w x123j3cw xpdmqnj x10b6aqq x1g0dm76 x13a8xbf xdod15v x2b8uid x1obq294 x5a5i1n xde0f50 x15x8krk",2:"x14m1o6m x126m2zf x1b9z3ur x9f619 x1rg5ohu x1okw0bk x193iq5w x123j3cw xpdmqnj x10b6aqq x1g0dm76 x13a8xbf xdod15v x2b8uid x1obq294 x5a5i1n xde0f50 x15x8krk",1:"x14m1o6m x150wa6m x1b9z3ur x9f619 x1rg5ohu x1okw0bk x193iq5w x123j3cw xpdmqnj x10b6aqq x1g0dm76 x13a8xbf xdod15v x2b8uid x1obq294 x5a5i1n xde0f50 x15x8krk",3:"x126m2zf x14m1o6m x150wa6m x1b9z3ur x9f619 x1rg5ohu x1okw0bk x193iq5w x123j3cw xpdmqnj x10b6aqq x1g0dm76 x13a8xbf xdod15v x2b8uid x1obq294 x5a5i1n xde0f50 x15x8krk"}[!!!g<<1|!!g<<0];a=u!=null?m.jsx("button",{className:f,onClick:u,children:e}):m.jsx("div",{className:f,children:e});return m.jsx("div",{className:"x78zum5 x1okw0bk xl56j7k xqy66fx xyri2b x1hhzuzn x1c1uobl",children:a})}a.displayName=a.name+" [from "+f.id+"]";g.HistorySyncLoadMoreMessages=a}),226);
__d("WAWebConversationLoadMoreMessages.react",["fbt","WAWebConversationLoadMoreMessagesHistorySync","WAWebRefreshIcon.react","WAWebSpinner.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.chatId,c=a.direction,e=a.isLoadingAroundMsgs,f=a.isLoadingEarlierMsgs,g=a.isLoadingRecentMsgs;a.isMostRecentCMC;var i=a.isRepairingMsgHistory,k=a.loadMoreMsgs;a=a.mdHistorySyncTransferState;f=c==="earlier"&&f;g=c==="recent"&&g;e=c==="around"&&e;f=f||g||e||i;g=a!=null&&!f;var l,m;if(f)e=j.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24,color:"highlight"}),l=h._(/*BTDS*/"Loading messages\u2026");else if(g)return j.jsx(d("WAWebConversationLoadMoreMessagesHistorySync").HistorySyncLoadMoreMessages,{mdHistorySyncTransferState:a,chatId:b});else{switch(c){case"earlier":l=h._(/*BTDS*/"Load earlier messages\u2026");break;case"recent":l=h._(/*BTDS*/"Load recent messages\u2026");break;default:l=h._(/*BTDS*/"Loading messages\u2026")}e=j.jsx(d("WAWebRefreshIcon.react").RefreshIcon,{});m=k}return j.jsx("div",{className:"x78zum5 x1okw0bk xl56j7k xexx8yu xyri2b xvg22vi x1c1uobl",children:j.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k x187nhsf xn3w4p2 xdj266r x11t971q xat24cr xvc5jky xiqmkuo x150wa6m x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1wpep30",title:l,onClick:m,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g.LoadMoreMessages=a}),226);
__d("WAWebConversationMsgsUtils",["WALogger","WAWebChatGetters","WAWebFrontendChatGetters","WAWebFrontendMsgGetters","WAWebMsgCollection","WAWebMsgGetters","WAWebRenderCursor","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k;function l(a){if(a==null)return null;return a.key!=null?babelHelpers["extends"]({},a,{msg:d("WAWebMsgCollection").MsgCollection.get(a.key)}):a}function a(a){a=a.msgLoadState;return{noEarlierMsgs:a.noEarlierMsgs,isLoadingEarlierMsgs:a.isLoadingEarlierMsgs,isLoadingRecentMsgs:a.isLoadingRecentMsgs,isLoadingAroundMsgs:a.isLoadingAroundMsgs,contextLoaded:a.contextLoaded,isRepairingMsgHistory:a.isRepairingMsgHistory}}function b(a,b,c){c=c.noEarlierMsgs&&d("WAWebFrontendChatGetters").getShouldAppearInList(a)&&b&&a.msgChunks.filter(function(a){return a.filter(function(b){return b.msgChunk===a}).length>0}).length>0;c&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["MRM noEarlierMsgs on chat "," is true but chat.msgChunks has length: ",",\n                    and chat.msgs.length: ",""])),String(a.id),a.msgChunks.length,a.msgs.length).sendLogs("noEarlierMsgs-error");return c}function e(a,b){var c=a.focusCtx,e=a.chat,f=a.msgCollection;c=l(c)||m(a,b);a=c==null?void 0:c.msg;b=a==null?void 0:a.id;return{cursor:d("WAWebRenderCursor").RenderCursor.create({msgCollection:f,focusedMsgKey:b,type:d("WAWebChatGetters").getIsGroup(e)?d("WAWebRenderCursor").RENDER_CURSOR.GROUP_CONVERSATION:d("WAWebRenderCursor").RENDER_CURSOR.CONVERSATION}),focusCtx:c}}function m(a,b){var e=a.chat,f=a.msgCollection,g=a.focusCtx,h;e.unreadCount?h=e.unreadCount:h=b;if(g&&!n(a)||!h)return;b=f.filter(function(a){return d("WAWebMsgGetters").getIsUnreadType(a)}).reverse().slice(0,h);if(b.length===h)c("gkx")("26258")||d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["unreadMsgs.length is: ",""])),b.length),g=b[b.length-1];else{c("gkx")("26258")||d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["insufficient unreadMsgs.length: ",""])),b.length);return}a=e.unreadDividerOffset;if(a>0){h=f.filter(Boolean).reverse();b=h.indexOf(g);h.slice(b+1,b+a+1).every(function(a){return Boolean(d("WAWebFrontendMsgGetters").getAsRevoked(a))})?g=h[b+a]:d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["invalid unreadDividerOffset: ",""])),a).sendLogs("invalid-unread-divider-offset",{sampling:.001})}return{msg:g,isUnreadDivider:d("WAWebFrontendChatGetters").getShouldShowUnreadDivider(e),highlightMsg:!1}}function n(a){return a.chat.msgs===a.msgCollection}g.validateFocusCtx=l;g.getMsgLoadState=a;g.noEarlierMsgStateIsIncorrect=b;g.getInitialCursorAndFocusContext=e;g.getUnreadFocusCtx=m;g.isMostRecentCMC=n}),98);
__d("WAWebGroupCatchUpWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({GroupCatchUp:[3058,{mentionsCountPendingPercentage:[4,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,1,1],"regular"]},{GroupCatchUp:[]});g.GroupCatchUpWamEvent=a}),98);
__d("WAWebJumpToButtons.stylex",[],(function(a,b,c,d,e,f,g){a={boxShadow:{boxShadow:"xhji94x",$$css:!0},incomingRefreshed:{alignItems:"x6s0dn4",backgroundColor:"x1ew7x2d",borderStartStartRadius:"xt8t1vi",borderStartEndRadius:"x1xc408v",borderEndEndRadius:"x129tdwq",borderEndStartRadius:"x15urzxu",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x1n2onr6",rowGap:"x1qvou4u",$$css:!0},unreadRefreshed:{height:"x1qx5ct2",insetInlineEnd:"xpa5qit",left:null,right:null,position:"x10l6tqk",top:"xjibb99",$$css:!0},incoming:{alignItems:"x6s0dn4",backgroundColor:"x1ew7x2d",borderStartStartRadius:"xt8t1vi",borderStartEndRadius:"x1xc408v",borderEndEndRadius:"x129tdwq",borderEndStartRadius:"x15urzxu",boxShadow:"xhji94x",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0},unread:{insetInlineStart:"x1765b1",left:null,right:null,position:"x10l6tqk",top:"xjibb99",$$css:!0},iconColor:{color:"xhslqc4",$$css:!0}};g.styles=a}),98);
__d("WAWebGroupCatchUpButton.react",["fbt","WAWebChatUnreadCount.react","WAWebJumpToButtons.stylex","WAWebMentionsRefreshedIcon.react","WAWebTabOrder","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","fbs","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");function a(a){var b=a.handleJumpToMention,e=a.unreadMentionCount;a=a.xstyle;var f=c("fbs")._(/*BTDS*/"_j{\"*\":\"{count} \\u0040 messages\",\"_1\":\"1 \\u0040 message\"}",[c("fbs")._plural(e,"count")]);return j.jsxs(c("WAWebUnstyledButton.react"),{xstyle:[d("WAWebJumpToButtons.stylex").styles.incomingRefreshed,d("WAWebUISpacing").uiPadding.all10,a],dataTab:d("WAWebTabOrder").TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,onClick:b,"aria-label":h._(/*BTDS*/"Scroll to mentions"),children:[j.jsx(d("WAWebMentionsRefreshedIcon.react").MentionsRefreshedIcon,{xstyle:d("WAWebJumpToButtons.stylex").styles.iconColor,width:24,height:24}),j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop",xstyle:d("WAWebJumpToButtons.stylex").styles.unreadRefreshed,children:j.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:e,ariaLabel:f.toString()})})]})}a.displayName=a.name+" [from "+f.id+"]";g.GroupCatchUpButton=a}),226);
__d("WAWebIcChevronDownWideIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="ic-chevron-down-wide";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M11 13.6L6.11253 8.71253C5.72003 8.32003 5.08281 8.32285 4.69381 8.7188C4.30964 9.10983 4.31241 9.73741 4.70003 10.125L11.2669 16.6919C11.6718 17.0968 12.3282 17.0968 12.7331 16.6919L19.3 10.125C19.6876 9.73741 19.6904 9.10983 19.3062 8.7188C18.9172 8.32285 18.28 8.32003 17.8875 8.71253L13 13.6L12 14.625L11 13.6Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IcChevronDownWideIcon=a}),98);
__d("WAWebJumpToButtons.react",["fbt","WAWebChatGetters","WAWebChatUnreadCount.react","WAWebGroupCatchUpButton.react","WAWebIcChevronDownWideIcon.react","WAWebJumpToButtons.stylex","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||d("react"),l={buttonGap:{transition:"x6q2ic0",$$css:!0},chevronRefreshed:{color:"xhslqc4",$$css:!0},borderRadius:{borderStartStartRadius:"x17m9png",borderStartEndRadius:"x91sizk",borderEndEndRadius:"x1vva9xg",borderEndStartRadius:"x1jfkl46",$$css:!0},incomingContainerRefreshed:{position:"x10l6tqk",insetInlineEnd:"x1mhpo7k",bottom:"x1qs2g4o",zIndex:"x12xzxwr",display:"x3nfvp2",flexDirection:"xdt5ytf",$$css:!0},incomingContainerRefreshedPosition:{insetInlineEnd:"x1kjyjoh",left:null,right:null,$$css:!0}};function a(a){var b=a.chat,e=a.handleJumpToBottom,f=a.handleJumpToMention,g=a.isMostRecentAndNotLoading,j=a.isNearBottom,m=a.newUnread;a=a.unreadMentionCount;j=!j||g;g=d("WAWebChatGetters").getIsGroup(b)&&a>0;var n=null;if(g){var o=[d("WAWebJumpToButtons.stylex").styles.boxShadow];j?o.push(l.buttonGap,d("WAWebUISpacing").uiMargin.bottom16):o.push(l.borderRadius);n=k.jsx(d("WAWebGroupCatchUpButton.react").GroupCatchUpButton,{handleJumpToMention:f,unreadMentionCount:a,xstyle:o})}f=null;if(j){a=null;m&&b.unreadCount&&(a=k.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:m},"icon-unread"));f=k.jsxs(c("WAWebUnstyledButton.react"),{xstyle:[d("WAWebJumpToButtons.stylex").styles.boxShadow,d("WAWebJumpToButtons.stylex").styles.incomingRefreshed,d("WAWebUISpacing").uiPadding.all10],dataTab:d("WAWebTabOrder").TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,onClick:e,"aria-label":h._(/*BTDS*/"Scroll to bottom"),children:[k.jsx(d("WAWebIcChevronDownWideIcon.react").IcChevronDownWideIcon,{xstyle:l.chevronRefreshed}),a&&k.jsx("span",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("WAWebJumpToButtons.stylex").styles.unreadRefreshed),{children:a}))]})}return j&&g?k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(l.incomingContainerRefreshed,l.borderRadius,d("WAWebUISpacing").uiMargin.end4,d("WAWebUIRefreshGatingUtils").restrictMessageListWidth()===!1&&l.incomingContainerRefreshedPosition),{children:[n,f]})):k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x10l6tqk x1mhpo7k x1qs2g4o x12xzxwr x3nfvp2 xdt5ytf"},1:{className:"x10l6tqk x1qs2g4o x12xzxwr x3nfvp2 xdt5ytf x1kjyjoh"}}[!!(d("WAWebUIRefreshGatingUtils").restrictMessageListWidth()===!1)<<0],{children:[n,k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop",children:f})]}))}a.displayName=a.name+" [from "+f.id+"]";g.JumpToButtons=a}),226);
__d("WAWebMath",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e,f,g,h){var i={x:null,y:null,onLine1:!1,onLine2:!1},j=(h-f)*(c-a)-(g-e)*(d-b);if(j===0)return i;var k=b-f,l=a-e;g=(g-e)*k-(h-f)*l;e=(c-a)*k-(d-b)*l;k=g/j;l=e/j;i.x=a+k*(c-a);i.y=b+k*(d-b);k>0&&k<1&&(i.onLine1=!0);l>0&&l<1&&(i.onLine2=!0);return i}function b(a,b){if(a===0||b===0)return 0;a=a/b*100;return a%10===0?a:(parseInt(a/10,10)+1)*10}f.intersect=a;f.roundUp10thPercentage=b}),66);
__d("WAWebForwardedNewsletterMessageInfoActionButton.react",["WAWebCommonNewsletterStrings","WAWebMessageBubbleActions.react","WAWebNewsletterGatingUtils","WAWebUISpacing","react","useWAWebForwardedNewsletterMessageClickHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=a.isAlbum;b=b===void 0?!1:b;a=a.msg;a=d("useWAWebForwardedNewsletterMessageClickHandler").useForwardedNewsletterMessageClickHandler(a,d("WAWebNewsletterGatingUtils").isNewsletterForwardBottomButtonEnabled);return a==null?null:i.jsx(d("WAWebMessageBubbleActions.react").BubbleActions,{items:[{label:d("WAWebCommonNewsletterStrings").getNewsletterLinkActionLabel("view"),onClick:a,testid:"newsletter-invite-link-action",xstyle:d("WAWebUISpacing").uiPadding.bottom8}],theme:b?d("WAWebMessageBubbleActions.react").BubbleActionsTheme.ALBUM:d("WAWebMessageBubbleActions.react").BubbleActionsTheme.FORWARDED_NEWSLETTER})}a.displayName=a.name+" [from "+f.id+"]";g.ForwardedNewsletterMessageInfoActionButton=a}),98);
__d("WAWebMessageGroupedSticker.react",["fbt","WALogger","WAWebChatRefreshedIcon.react","WAWebCmd","WAWebComposeBoxActions","WAWebCopyRefreshedIcon.react","WAWebCopyStickerToClipboard","WAWebCopyToClipboard","WAWebDebugGatingUtils","WAWebDeleteRefreshedIcon.react","WAWebDevOnlyBadge.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebFavoriteRefreshedIcon.react","WAWebFavoriteStickerAction","WAWebFindChatAction","WAWebFlex.react","WAWebFlexItem.react","WAWebFocusTracer","WAWebForwardRefreshedIcon.react","WAWebFrontendMsgGetters","WAWebInMemoryLottieStickerCache","WAWebInfoRefreshedIcon.react","WAWebMediaInMemoryBlobCache","WAWebMessageMenu.react","WAWebMessagePosition","WAWebMessageStickerBubble.react","WAWebMiscGatingUtils","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgReply","WAWebReactIcon.react","WAWebReactionUserJourneyLogger","WAWebReactionsPanel.react","WAWebReactionsUtils","WAWebReplyPrivatelyRefreshedIcon.react","WAWebReplyRefreshedIcon.react","WAWebReplyToMsgChatAction","WAWebRequestMediaReuploadBridge","WAWebRevokeMetricUtils","WAWebRound.react","WAWebSendReactionMsgAction","WAWebSendReactionsTray.react","WAWebSendReactionsTrayContainer.react","WAWebStarRefreshedIcon.react","WAWebStateUtils","WAWebStickerUtils","WAWebUIRefreshGatingUtils","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnfavoriteRefreshedIcon.react","WAWebUnstarRefreshedIcon.react","WAWebVelocityTransitionGroup","WAWebWamEnumReactionUserJourneyEntryPoint","WAWebWrapperListeners.react","WDSIconIcMood.react","WDSIconWdsIcSticker.react","react","useWAWebDebouncedCallback","useWAWebMsgValues","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o=["ref"],p,q;b=q||d("react");var r=p||(p=c("react")),s=b.useEffect,t=b.useImperativeHandle,u=b.useRef,v=b.useState,w={reactIcon:{color:"x1odib58",$$css:!0},reactIconRefreshed:{color:"xhslqc4",$$css:!0}},aa={REACTION_BUTTON:75};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,o),f=e.msg;a=e.menuTransition;var g=e.onOpenForwardFlow,p=e.onOpenDeleteFlow,q=e.rowIsKeyboardFocused,x=q===void 0?!1:q,y=e.onModalClosed,z=u(null),A=u(),B=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();q=v(null);var C=q[0],D=q[1];q=v(!1);var E=q[0],F=q[1];q=v(null);var G=q[0],H=q[1];q=v(null);var I=q[0],J=q[1];q=v(!1);var ba=q[0];q=q[1];var K=u(null),L=u(!1),M=f.unsafe(),N=d("useWAWebMsgValues").useMsgValues(f.id,[d("WAWebFrontendMsgGetters").getAsRevoked]);N=N[0];N&&d("WAWebCmd").Cmd.refreshMessages();var ca=function(a){K.current&&c("WAWebFocusTracer").focus(K.current,a)},O=c("useWAWebStableCallback")(function(){ca({preventScroll:!0})}),P=c("useWAWebDebouncedCallback")(q,aa.REACTION_BUTTON);s(function(){P(E||G!=null||x)},[E,G,P,x]);var Q=function(a){F(!0)},R=function(){F(!1)};N=function(){P(E||G!=null||x)};var da=function(){if(!z.current)return;return z.current.getContext()},ea=function(){d("WAWebCmd").Cmd.msgInfoDrawer(d("WAWebStateUtils").unproxy(M))},fa=function(){var a=d("WAWebStateUtils").unproxy(M),b=d("WAWebFrontendMsgGetters").getChat(a);b.composeQuotedMsg=a;d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)},ga=function(){var a=d("WAWebStateUtils").unproxy(M);c("WAWebReplyToMsgChatAction")(a)["catch"](function(){return d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[private msg reply] failed to privately reply to msg"]))).sendLogs("private-msg-reply-failed")})},ha=function(){var a=d("WAWebStateUtils").unproxy(M);d("WAWebCmd").Cmd.sendStarMsgs(d("WAWebFrontendMsgGetters").getChat(a),[a])},ia=function(){var a=d("WAWebStateUtils").unproxy(M);d("WAWebCmd").Cmd.sendUnstarMsgs(d("WAWebFrontendMsgGetters").getChat(a),[a])},ja=function(){d("WAWebFavoriteStickerAction").addStickerMsgsToFavorites([d("WAWebStateUtils").unproxy(M)])},ka=function(){d("WAWebFavoriteStickerAction").removeStickerMsgFromFavorites(d("WAWebStateUtils").unproxy(M))},la=function(){p(!0,M),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected()},ma=function(){d("WAWebFindChatAction").findOrCreateLatestChat(f.author,"messageGroupedSticker").then(function(a){var b=a.chat;d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)})["catch"](function(){return d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[contact chat] failed to open chat from unread"]))).sendLogs("failed-to-open-chat-from-unread")})})["catch"](function(){return d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[contact chat] failed to find or create latest chat"]))).sendLogs("failed-to-find-or-create-latest-chat")})},S=function(){y==null||y(),H(null),O(),L.current||d("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.trayClose()},T=function(){y==null||y(),J(null),O(),d("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.trayClose(),L.current=!1},na=c("useWAWebStableCallback")(function(a){if(!d("WAWebReactionsUtils").canReactToMessage(a))return;var b=function(b){d("WAWebSendReactionMsgAction").sendReactionToMsg(a,b).then(function(){d("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.reactionSelect(b)})["catch"](function(a){d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error ",""])),a)}),T()};J({dirY:d("WAWebDropdown.react").DirY.BOTTOM,dirX:d("WAWebMsgGetters").getIsSentByMe(a)?d("WAWebDropdown.react").DirX.LEFT:d("WAWebDropdown.react").DirX.RIGHT,type:d("WAWebDropdown.react").MenuType.ReactionPicker,menu:r.jsx(d("WAWebReactionsPanel.react").ReactionsPanel,{msgId:a.id.toString(),onSelection:b}),flipOnRTL:!0,anchor:A.current})}),U=function(a,b){if(!d("WAWebReactionsUtils").canReactToMessage(a))return;var c=function(b){L.current=b===d("WAWebSendReactionsTray.react").MORE_REACTIONS,b!==d("WAWebSendReactionsTray.react").MORE_REACTIONS?d("WAWebSendReactionMsgAction").sendReactionToMsg(a,b).then(function(){d("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.reactionSelect(b)})["catch"](function(a){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error sending from sticker row ",""])),a)}):self.setTimeout(function(){na(a)},150),S()};c={dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.ReactionSendTray,menu:r.jsx(d("WAWebSendReactionsTrayContainer.react").SendReactionsTrayContainer,{msg:M,selectedCallback:c,onMouseEnter:Q,onMouseOver:Q,onMouseLeave:R,userJourneyEntryPoint:b}),flipOnRTL:!1,anchor:A.current};H(c)},oa=function(b,e){if(e===!0&&C){D(null);return}e=e===!0?da():b;b=d("WAWebStateUtils").unproxy(f);var a=[];d("WAWebMsgGetters").getIsSentByMe(b)&&!d("WAWebFrontendMsgGetters").getAsRevoked(b.unsafe())&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ea,icon:B?r.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{}):null,children:h._(/*BTDS*/"Message info")},"info"));d("WAWebMsgReply").canReplyMsg(b.unsafe())&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:fa,icon:B?r.jsx(d("WAWebReplyRefreshedIcon.react").ReplyRefreshedIcon,{}):null,children:h._(/*BTDS*/"Reply")},"reply"));(d("WAWebMsgReply").canPrivateReply(b.unsafe())||d("WAWebMsgReply").canPrivateReplyInRestrictedGrp(b.unsafe()))&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ga,icon:B?r.jsx(d("WAWebReplyPrivatelyRefreshedIcon.react").ReplyPrivatelyRefreshedIcon,{}):null,children:h._(/*BTDS*/"Reply privately")},"private_reply"));d("WAWebMsgGetters").getIsGroupMsg(f)&&!!f.author&&!d("WAWebMsgGetters").getIsSentByMe(f)&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ma,icon:B?r.jsx(d("WAWebChatRefreshedIcon.react").ChatRefreshedIcon,{}):null,children:h._(/*BTDS*/"Message {author}",[h._param("author",f.displayName())])},"author"));d("WAWebReactionsUtils").canReactToMessage(M)&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){U(M,d("WAWebWamEnumReactionUserJourneyEntryPoint").REACTION_USER_JOURNEY_ENTRY_POINT.MACOS_MESSAGE_MENU_ITEM_REACTION)},icon:B?r.jsx(c("WDSIconIcMood.react"),{}):null,children:h._(/*BTDS*/"React")},"sendReaction"));d("WAWebMsgActionCapability").canForwardMsg(b.unsafe())&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){g(!0,M)},icon:B?r.jsx(d("WAWebForwardRefreshedIcon.react").ForwardRefreshedIcon,{}):null,children:h._(/*BTDS*/"_j{\"*\":\"Forward messages\",\"_1\":\"Forward\"}",[h._plural(1)])},"forward"));d("WAWebMsgActionCapability").canStarMsg(b.unsafe())&&(b.star?a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ia,icon:B?r.jsx(d("WAWebUnstarRefreshedIcon.react").UnstarRefreshedIcon,{}):null,children:h._(/*BTDS*/"_j{\"*\":\"Unstar messages\",\"_1\":\"Unstar message\"}",[h._plural(1)])},"star")):a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ha,icon:B?r.jsx(d("WAWebStarRefreshedIcon.react").StarRefreshedIcon,{}):null,children:h._(/*BTDS*/"_j{\"*\":\"Star\"}",[h._plural(1)])},"star")));d("WAWebMiscGatingUtils").isFavoriteStickersEnabled()&&(d("WAWebFavoriteStickerAction").isStickerFilehashFavorited(f.filehash)?a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ka,icon:B?r.jsx(d("WAWebUnfavoriteRefreshedIcon.react").UnfavoriteRefreshedIcon,{}):null,children:h._(/*BTDS*/"Remove from favorites")},"remove-favorite-sticker")):a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ja,icon:B?r.jsx(d("WAWebFavoriteRefreshedIcon.react").FavoriteRefreshedIcon,{}):null,children:h._(/*BTDS*/"Add to favorites")},"favorite-sticker")));var i=d("WAWebMediaInMemoryBlobCache").InMemoryMediaBlobCache.get(f.filehash);if(d("WAWebStickerUtils").getStickerFileType(f.mediaData.mimetype)===d("WAWebStickerUtils").StickerFileType.LOTTIE){var j=d("WAWebInMemoryLottieStickerCache").InMemoryLottieStickerCache.get(f.filehash);j!=null&&d("WAWebCopyToClipboard").supportsCopyImageToClipboard()&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){void d("WAWebCopyStickerToClipboard").copyLottieStickerToClipboard(j)},icon:B?r.jsx(d("WAWebCopyRefreshedIcon.react").CopyRefreshedIcon,{}):null,children:h._(/*BTDS*/"Copy sticker image")},"copy-favorite-sticker"))}else i!=null&&d("WAWebCopyToClipboard").supportsCopyImageToClipboard()&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyImageToClipboard(i)},icon:B?r.jsx(d("WAWebCopyRefreshedIcon.react").CopyRefreshedIcon,{}):null,children:h._(/*BTDS*/"Copy sticker image")},"copy-favorite-sticker"));b=f.mediaData;var k=b.stickerPackId;b=b.isFirstParty;k!=null&&b===!0&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.openStickerPack(k)},icon:B?r.jsx(c("WDSIconWdsIcSticker.react"),{}):null,children:h._(/*BTDS*/"View pack")},"open-sticker-pack"));B&&a.push(r.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}));a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:la,icon:B?r.jsx(d("WAWebDeleteRefreshedIcon.react").DeleteRefreshedIcon,{}):null,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"_j{\"*\":\"Delete\"}",[h._plural(1)])},"delete"));d("WAWebDebugGatingUtils").msgDebugMenuItemsEnabled()&&(a.push(r.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{})),a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.id.toString())},children:r.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Msg ID"})},"copy-id")),d("WAWebFrontendMsgGetters").getAsMms(M)&&(f.deprecatedMms3Url!=null&&a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.deprecatedMms3Url||"")},children:r.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Mms3 Url"})},"copy-mms3-url")),a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.filehash||"")},children:r.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Media filehash"})},"copy-filehash"))),a.push(r.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){c("WAWebRequestMediaReuploadBridge")(M)["catch"](function(){return d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[media reupload] failed to reupload media"]))).sendLogs("failed-to-reupload-media")})},children:r.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Trigger RMR"})},"trigger-rmr")));D({menu:a,anchor:e,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Compact})};q=function(){y==null||y(),D(null)};var V=function(a,b){e.scrollMsg(a,b)},W={scrollMsg:V};t(b,function(){return{scrollMsg:V}});var X;(E||C||x)&&(X=r.jsx(c("WAWebMessageMenu.react"),{msg:M,hasAuthor:!1,displayType:e.displayType,position:d("WAWebMessagePosition").MsgPosition.SINGLE,ref:z,onToggle:function(a){oa(a)},isGroupedSticker:!0,role:"button",ariaLabel:h._(/*BTDS*/"Context menu"),isMenuOpen:Boolean(C),tabIndex:0,contextOwnerIsKeyboardFocused:x},"icon-context"));var Y;e.isFocused===!0&&(Y=r.jsx(d("WAWebWrapperListeners.react").WhileFocusedListener,{parent:W}));var Z;C&&(Z=r.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:q,children:r.jsx(c("WAWebUimUieMenu.react"),{contextMenu:C})}));var $;G?$=r.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:S,children:r.jsx(c("WAWebUimUieMenu.react"),{contextMenu:G})}):I&&($=r.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:T,children:r.jsx(c("WAWebUimUieMenu.react"),{contextMenu:I})}));b=r.jsx(c("WAWebMessageStickerBubble.react"),{mediaData:f.mediaData,msg:f,displayAuthor:!1,forwardRef:e.forwardRef,animateOnView:!0,displayType:e.displayType,onDetailsPaneClosed:y,isGroupedSticker:!0},"sticker-bubble");var pa=function(){G?S():U(M,d("WAWebWamEnumReactionUserJourneyEntryPoint").REACTION_USER_JOURNEY_ENTRY_POINT.MACOS_MESSAGE_REACTION_BUTTON)};W=[b];if(d("WAWebReactionsUtils").canReactToMessage(M)){q=null;ba&&(q=r.jsx(c("WAWebFlexItem.react"),{children:r.jsx(d("WAWebRound.react").Round,{testid:void 0,label:h._(/*BTDS*/"React"),theme:B?d("WAWebRound.react").RoundTheme.QuickActionRefreshed:d("WAWebRound.react").RoundTheme.QuickAction,onClick:function(){return pa(M)},small:!0,children:B?r.jsx(c("WDSIconIcMood.react"),{xstyle:w.reactIconRefreshed,height:20}):r.jsx(d("WAWebReactIcon.react").ReactIcon,{xstyle:w.reactIcon,width:15})})}));I=r.jsx("div",{ref:A,className:"x1n2onr6 xzi7r1p xezl2tj",children:q},"reaction-entry-point");d("WAWebMsgGetters").getIsSentByMe(f)?W.unshift(I):W.push(I)}return r.jsxs("div",{className:"x78zum5",onMouseEnter:Q,onFocus:N,onBlur:N,ref:K,onMouseLeave:R,children:[r.jsx(d("WAWebFlex.react").FlexRow,{children:W}),r.jsx("div",{className:"x1n2onr6 xe2zdcy",children:r.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:a,children:X})}),Z,$,Y]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMessageGroupedStickerCheckbox.react",["WAWebCheckBox.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.ariaLabel,c=a.checked,e=a.onClick;a=a.ref;return i.jsx("div",{ref:a,className:"x10l6tqk x1rozsjd xh8yej3 x5yr21d x1ypdohk",onClick:e,children:i.jsx("div",{className:"x10l6tqk xxk6nc9 x1ro0b6g",onClick:function(a){return a.stopPropagation()},children:i.jsx(d("WAWebCheckBox.react").CheckBox,babelHelpers["extends"]({onChange:e,checked:c},b!=null?{ariaLabel:b}:{}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebReactionsListeners.react",["useWAWebReactions"],(function(a,b,c,d,e,f,g){function a(a){var b=a.msgIds;a=a.onReactionChange;c("useWAWebReactions")(b,a);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMessageAlbumWrapper.react",["fbt","invariant","WALogger","WANullthrows","WAWebABProps","WAWebAddOnBubblesContainer.react","WAWebChatGetters","WAWebCheckBox.react","WAWebClassnames","WAWebClientFeatureFlags","WAWebCmd","WAWebConfirmPopup.react","WAWebDeleteRefreshedIcon.react","WAWebDeleteRevokeMsgFlow.react","WAWebDisplayType","WAWebDomScroll","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebEnvironment","WAWebFbtCommon","WAWebFileSaver","WAWebFocusIndicator","WAWebFocusTracer","WAWebForwardChatIcon.react","WAWebForwardMessageModalLoadable","WAWebForwardRefreshedIcon.react","WAWebForwardedNewsletterMessageInfoActionButton.react","WAWebFrontendMsgGetters","WAWebGroupChatProfilePicture.react","WAWebKeyboardListHotKeys.react","WAWebKeyboardRotateFocusArrows.react","WAWebMedia","WAWebMediaAlbumGrid.react","WAWebMediaAlbumGridConstants","WAWebMessageAuthor.react","WAWebMessageCheckbox.react","WAWebMessageForwardedIndicator.react","WAWebMessageGroupedSticker.react","WAWebMessageGroupedStickerCheckbox.react","WAWebMessageListAlbums","WAWebMessageMenu.react","WAWebMessagePosition","WAWebMessageUiUtils","WAWebMiscGatingUtils","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgSelectors","WAWebMsgSendFailIcon.react","WAWebMultiSelectBar.react","WAWebReactionsListeners.react","WAWebReactionsUtils","WAWebRevokeMetricUtils","WAWebRound.react","WAWebStarRefreshedIcon.react","WAWebStateUtils","WAWebTypesMedia","WAWebUIRefreshGatingUtils","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnstarRefreshedIcon.react","WAWebUseIsKeyboardUser","WAWebVelocityTransitionGroup","WAWebWrapper.scss","WAWebWrapperGetTailIcon","WAWebWrapperListeners.react","WAWebWrapperMessageActionButtonsRow","WDSFocusStateStyles","WDSIconIcDownload.react","cr:7565","react","stylex"],(function(a,b,c,d,e,f,g,h,i){var aa,ba,ca,da,ea=["ref"],j,fa,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,ga=e.useEffect,ha=e.useImperativeHandle,n=e.useRef,o=e.useState,ia={svgColor:{color:"x10b7xu",$$css:!0},svgColorRefreshed:{color:"xhslqc4",$$css:!0}};function a(a){var e,f,g=a.ref,j=babelHelpers.objectWithoutPropertiesLoose(a,ea),k=j.msgs;a=j.position;var p=j.isMsgVisible,q=j.selectable,r=j.selectedMessages,ja=j.onMessageSelect,ka=j.albumId,s=j.isFocusedAlbum,t=j.focusedMsgIndex,la=j.isFocusable,u=j.displayType,v=j.showProfilePicture;v=v===void 0?!0:v;var w=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),x=o(),y=x[0],ma=x[1];x=o(!1);var z=x[0],na=x[1];x=o(!1);var A=x[0],B=x[1];x=o(k.filter(function(a){return r.isSelected(d("WAWebStateUtils").unproxy(a.unsafe()))}).length);var C=x[0],oa=x[1];x=o();var pa=x[0],qa=x[1];x=c("WAWebUseIsKeyboardUser")();var D=x.isKeyboardUser,ra=n(new Set()),sa=n(!0),E=n(),F=n({}),G=n(),ta=n(),ua=n(null),va=n(),wa=n(),xa=n(null),ya=n(null),H=m(function(a){qa(a)},[]);ga(function(){d("WAWebClientFeatureFlags").isFeatureEnabled("media_existence_check")&&k.map(function(a){return d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())}).filter(Boolean).forEach(function(a){ra.current.has(a.id.toString())||(void d("WAWebMedia").checkMediaExistence(a),ra.current=new Set(ra.current).add(a.id.toString()))}),d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()&&!sa.current&&d("WAWebMessageUiUtils").getLegacyAlbumRowAriaLabel(k).then(H)["catch"](function(){d("WALogger").DEV(aa||(aa=babelHelpers.taggedTemplateLiteralLoose(["[A11y] Failed promised from getAlbumRowAriaLabel"])))}),sa.current=!1},[H,k]);x=m(function(a){!a.buttons&&!z&&na(!0)},[z]);var za=m(function(){z&&na(!1)},[z]),Aa=m(function(a){a.stopPropagation()},[]),I=m(function(a){E.current&&c("WAWebFocusTracer").focus(E.current,a)},[E]),J=m(function(a){var b=a.selectedMsg,c=a.mode,e=a.event;d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession();e&&e.stopPropagation();if(b){ja(d("WAWebStateUtils").unproxy(b.unsafe()),!r.isSelected(d("WAWebStateUtils").unproxy(b)),c,e);return}var f=C===0;k.forEach(function(a){ja(d("WAWebStateUtils").unproxy(a.unsafe()),f,c,e)})},[k,C,r,ja]),K=m(function(a,b){for(var e=0;e<k.length;e++)if(d("WAWebFrontendMsgGetters").getIsUnsentMedia(k[e])){var f=h._(/*BTDS*/"_j{\"*\":\"Wait until the messages finish sending and displays a checkmark before forwarding.\",\"_1\":\"Wait until the message finishes sending and displays a checkmark before forwarding.\"}",[h._plural(1)]);d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Can't forward"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:f}));return}a?J({mode:d("WAWebMultiSelectBar.react").MultiSelectMode.FORWARD,selectedMsg:b}):d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebForwardMessageModalLoadable").ForwardMessageModalLoadable,{msgs:k.map(function(a){return a.unsafe()}),onClose:function(){return d("WAWebModalManager").ModalManager.close()}}),{transition:"modal-flow"})},[J,k]),Ba=m(function(){d("WAWebCmd").Cmd.sendStarMsgs(d("WAWebFrontendMsgGetters").getChat(k[0].unsafe()),k.map(function(a){return a.unsafe()}))},[k]),Ca=m(function(){d("WAWebCmd").Cmd.sendUnstarMsgs(d("WAWebFrontendMsgGetters").getChat(k[0].unsafe()),k.map(function(a){return a.unsafe()}))},[k]),Da=m(function(){d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()&&I({preventScroll:!0})},[I]),L=m(function(){Da()},[Da]),Ea=m(function(){var a=0;k.forEach(function(b){r.isSelected(d("WAWebStateUtils").unproxy(b.unsafe()))&&a++});return a},[k,r]),M=m(function(){var a=k[0],b=k[1];return d("WAWebFrontendMsgGetters").getAsGroupedSticker(a.unsafe())!=null&&d("WAWebFrontendMsgGetters").getAsGroupedSticker(b.unsafe())!=null},[k]),Fa=m(function(a){var b;M()?b=Ea():b=a?k.length:0;C!==b&&oa(b)},[Ea,M,k.length,C]),Ga=m(function(){d("WAWebFileSaver").FileSaver.initDownload(k.map(function(a){return a.unsafe()}))},[k]),Ha=m(function(){if(k.length===0)return;b("cr:7565")==null||b("cr:7565").selectFolderAndSaveFiles(k.map(function(a){return a.unsafe()}))["catch"](function(a){d("WALogger").ERROR(ba||(ba=babelHelpers.taggedTemplateLiteralLoose(["Failed to save files: ",""])),a)})},[k]),N=m(function(a,b){a?J({mode:d("WAWebMultiSelectBar.react").MultiSelectMode.DELETE,selectedMsg:b}):d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebDeleteRevokeMsgFlow.react"),{chat:d("WAWebFrontendMsgGetters").getChat(k[0].unsafe()),msgList:k.map(function(a){return a.unsafe()}),isMsgVisible:p})),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected()},[J,k,p]),Ia=m(function(){if(!G.current)return;return G.current.getContext()},[G]),Ja=m(function(a,e){if(e&&y){ma(null);return}e=e?Ia():a;a=[];var f=k.every(function(a){return d("WAWebMsgActionCapability").canDownloadMsg(a.unsafe())}),g=c("WAWebEnvironment").isWindows&&b("cr:7565")!=null&&b("cr:7565").supportsBulkMediaSaving();f&&!g&&a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:Ga,icon:w?l.jsx(c("WDSIconIcDownload.react"),{}):null,children:h._(/*BTDS*/"Download all")},"download"));var i=k.every(function(a){return d("WAWebMsgActionCapability").canForwardMsg(a.unsafe())});i&&a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){K(!0)},icon:w?l.jsx(d("WAWebForwardRefreshedIcon.react").ForwardRefreshedIcon,{}):null,children:h._(/*BTDS*/"Forward all")},"forward"));i=k.every(function(a){return d("WAWebMsgActionCapability").canStarMsg(a.unsafe())});if(i){i=k.every(function(a){return a.star});i?a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){Ca()},icon:w?l.jsx(d("WAWebUnstarRefreshedIcon.react").UnstarRefreshedIcon,{}):null,children:h._(/*BTDS*/"Unstar all")},"star")):a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){Ba()},icon:w?l.jsx(d("WAWebStarRefreshedIcon.react").StarRefreshedIcon,{}):null,children:h._(/*BTDS*/"Star all")},"star"))}f&&g&&(a.push(l.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{})),a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:Ha,icon:w?l.jsx(c("WDSIconIcDownload.react"),{}):null,children:h._(/*BTDS*/"Save all")},"save")),a.push(l.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{})));a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:w?l.jsx(d("WAWebDeleteRefreshedIcon.react").DeleteRefreshedIcon,{}):null,action:function(){N(!0)},theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Delete all")},"delete"));ma({menu:a,anchor:e,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Compact})},[y,Ia,k,N,w,Ga,K,Ca,Ba]),Ka=m(function(){L(),D&&na(!1),ma(null)},[L,D]),O=m(function(){var a;a=(a=(a=E.current)==null?void 0:a.contains(document.activeElement))!=null?a:!1;return D&&a},[D,E]),La=m(function(a,b){a?F.current[b.id.toString()]=a:delete F.current[b.id.toString()]},[F]),P=m(function(a,b){var c=E.current;if(!c)return;var e=c.offsetParent;if(!e)return;e instanceof HTMLElement||i(0,56542);void d("WAWebDomScroll").scrollAt(c,e,b).then(a)},[E]),Q=m(function(){var a=ua.current,b;M()?t===0?b=va:t===1&&(b=wa):b=ta;if(!b)return;c("WAWebFocusIndicator").indicateFocus(b.current,c("WAWebWrapper.scss").highlightAnimation);c("WAWebFocusIndicator").indicateFocus(a,c("WAWebWrapper.scss").highlightAnimation);la&&I({preventScroll:!0})},[M,la,t,I]),Ma=m(function(){var a=k.map(function(a){return a.id.toString()});d("WAWebReactionsUtils").lastMessageReactionChange(a);d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()&&d("WAWebMessageUiUtils").getLegacyAlbumRowAriaLabel(k).then(H)["catch"](function(){d("WALogger").DEV(ca||(ca=babelHelpers.taggedTemplateLiteralLoose(["[A11y] Failed promised from getAlbumRowAriaLabel"])))})},[k,H]);ha(g,function(){return{getContainerElement:function(){return E.current},props:j,refAlbumComponents:F.current,isGroupedSticker:M}});var R=k[0],S=k[1];g=d("WAWebMsgGetters").getIsSentByMe(R);var T=d("WAWebMsgGetters").getIsGroupMsg(R);O=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()&&O();var Na=k.length>d("WAWebMessageListAlbums").ALBUM_MIN_SIZE?k.length-d("WAWebMessageListAlbums").ALBUM_MIN_SIZE+1:null,U=d("WAWebDisplayType").isWideDisplay(u),V=M(),W=!U&&(a===d("WAWebMessagePosition").MsgPosition.FRONT||a===d("WAWebMessagePosition").MsgPosition.SINGLE||V);e=T&&!g&&!!W&&u===d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION&&!q&&((e=R.senderObj)==null?void 0:e.id)!=null&&v;v=e?l.jsx(d("WAWebGroupChatProfilePicture.react").GroupChatProfilePicture,{userContact:R.senderObj,chatWid:d("WAWebFrontendMsgGetters").getChat(R.unsafe()).id}):null;e=V&&W&&(g||!T);f=d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebWrapper.scss").msgContinuation]=(a===d("WAWebMessagePosition").MsgPosition.FRONT||a===d("WAWebMessagePosition").MsgPosition.MID)&&!U,f["message-out"]=g,f["message-in"]=!g,f),(f={},f[d("WAWebKeyboardListHotKeys.react").LIST_FOCUSABLE_ITEM_CLASS_NAME]=la,f),(f={},f[c("WAWebWrapper.scss").wrapperProfilePictureDisplayed]=u!==d("WAWebDisplayType").DISPLAY_TYPE.ANNOUNCEMENT,f[c("WAWebWrapper.scss").wrapperAdjustedOneOnOneChat]=!d("WAWebChatGetters").getIsGroup(d("WAWebFrontendMsgGetters").getChat(R.unsafe())),f[c("WAWebWrapper.scss").row]=!0,f[c("WAWebWrapper.scss").msgBottomMargin]=!0,f[c("WAWebWrapper.scss").msg]=!0,f[c("WAWebWrapper.scss").msgAnnouncement]=U,f),{0:"",1:"x1klvx2g xahtqtb"}[!!(u!==d("WAWebDisplayType").DISPLAY_TYPE.ANNOUNCEMENT&&d("WAWebABProps").getABPropConfigValue("sticky_chat_profile_picture_enabled"))<<0]);T=(!g||U)&&T;var Oa;if(T){var X,Y;Y=d("WAWebClassnames").classnamesConvertMeToStylexPlease((X={},X[(Y=c("WAWebWrapper.scss")).groupStickerAuthor]=V,X[Y.groupStickerAuthorAnnouncement]=U,X[Y.author]=!0,X[Y.groupStickerAuthorOutgoing]=g,X));Oa=l.jsx("div",{className:Y,children:l.jsx(c("WAWebMessageAuthor.react"),{msg:k[0],contact:k[0].senderObj,albumId:ka,displayType:u})})}Y=d("WAWebClassnames").classnamesConvertMeToStylexPlease((X={},X[c("WAWebWrapper.scss").messageTransparent]=V,X[c("WAWebWrapper.scss").hasTail]=W,X[c("WAWebWrapper.scss").tailOverrideHide]=e,X[c("WAWebWrapper.scss").hasAuthor]=!V&&T,X[c("WAWebWrapper.scss").forwarded]=!V&&d("WAWebMsgSelectors").showForwarded(k[0]),X[c("WAWebWrapper.scss").message]=!0,X),(fa||(fa=c("stylex")))(A&&D&&d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocusPersistent));X=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebWrapper.scss").messageBackground]=!V,e[c("WAWebWrapper.scss").hasBorderBox]=!V,e[c("WAWebWrapper.scss").albumBubbleContainer]=!0,e[c("WAWebWrapper.scss").albumAnnouncementBubbleContainer]=U,e));var Pa;if(W){A=d("WAWebWrapperGetTailIcon").getTailIcon(g);Pa=l.jsx(A,{className_DONOTUSE:c("WAWebWrapper.scss").tail,containerRef:ua,"aria-hidden":!0})}e=[];if(d("WAWebMsgActionCapability").canQuickForwardMsg(R.unsafe())){W=l.jsx(d("WAWebRound.react").Round,{label:h._(/*BTDS*/"Forward media"),theme:w?d("WAWebRound.react").RoundTheme.QuickActionRefreshed:d("WAWebRound.react").RoundTheme.QuickAction,onClick:function(){K(!1)},children:w?l.jsx(d("WAWebForwardRefreshedIcon.react").ForwardRefreshedIcon,{xstyle:ia.svgColorRefreshed,height:20}):l.jsx(d("WAWebForwardChatIcon.react").ForwardChatIcon,{xstyle:ia.svgColor})});e.push(W)}var Z=k.map(function(a){return d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())}).filter(Boolean);A=Z.some(function(a){return a.hasReaction===!0});var Qa;(z||y||O)&&(Qa=l.jsx(c("WAWebMessageMenu.react"),{msg:R.unsafe(),hasAuthor:T,position:a,ref:G,onToggle:function(a){Ja(a)},role:"button",ariaLabel:h._(/*BTDS*/"Context menu"),tabIndex:0,displayType:u,isMenuOpen:Boolean(y)},"icon-context"));y?W="none":d("WAWebFrontendMsgGetters").getIsRTL(R)?W="pop-fast-reverse":W="pop-fast";var Ra;y&&(Ra=l.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Ka,children:l.jsx(c("WAWebUimUieMenu.react"),{contextMenu:y})}));T=h._(/*BTDS*/"Checkbox, {checkbox-state} , for group of images",[h._param("checkbox-state",Boolean(C>0)?"selected":"unselected")]);a=q?l.jsx(c("WAWebMessageCheckbox.react"),{checked:C>0,theme:C>0&&C<k.length?d("WAWebCheckBox.react").CheckboxTheme.PARTIAL:void 0,onClick:function(a){J({event:a})},ariaLabel:T}):null;var Sa;s&&(Sa=l.jsx(d("WAWebWrapperListeners.react").WhileFocusedListener,{parent:{scrollMsg:P,highlight:Q}}));if(V){var $;Ka=k.map(function(a){return l.jsx(d("WAWebWrapperListeners.react").SelectionListener,{parent:{onSelectChange:Fa},msgId:a.id.toString(),selectedMessages:r},a.id.toString())});V=R.type==="sticker"?d("WAWebMessageUiUtils").getStickerCustomLabel(R.mediaData.accessibilityLabel,(T=R.mediaData.emojis)==null?void 0:T.join(" ")):null;T=S.type==="sticker"?d("WAWebMessageUiUtils").getStickerCustomLabel(S.mediaData.accessibilityLabel,(T=S.mediaData.emojis)==null?void 0:T.join(" ")):null;V=q?l.jsx(c("WAWebMessageGroupedStickerCheckbox.react"),{checked:r.isSelected(d("WAWebStateUtils").unproxy(R.unsafe())),onClick:function(a){J({selectedMsg:R.unsafe()})},ariaLabel:V}):null;q=q?l.jsx(c("WAWebMessageGroupedStickerCheckbox.react"),{checked:r.isSelected(d("WAWebStateUtils").unproxy(S.unsafe())),onClick:function(a){J({selectedMsg:S.unsafe()})},ariaLabel:T}):null;T=k.some(function(a){return d("WAWebReactionsUtils").canReactToMessage(a.unsafe())})?l.jsx(d("WAWebMsgSendFailIcon.react").MsgSendFailIcon,{msgs:k,showForMessages:!1,showForAddOns:!0,displayType:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION}):null;$=d("WAWebClassnames").classnamesConvertMeToStylexPlease(($={},$[c("WAWebWrapper.scss").groupStickerContainer]=!0,$[c("WAWebWrapper.scss").groupStickerAnnouncementContainer]=U,$));$=l.jsxs("div",{className:f,"data-id":ka,ref:E,onFocus:function(){B(!0)},onBlur:function(){B(!1)},tabIndex:-1,children:[l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:a}),l.jsxs("div",{className:Y,role:"group",onContextMenu:Aa,children:[Pa,v,Oa,l.jsxs("div",{className:$,children:[l.jsxs("div",{onMouseEnter:function(){var a;return(a=xa.current)==null?void 0:a.startAnimation()},role:"img",className:c("WAWebWrapper.scss").singleGroupedStickerContainer,ref:va,children:[l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:V}),l.jsx(c("WAWebMessageGroupedSticker.react"),{msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsGroupedSticker(R.unsafe())),menuTransition:W,onOpenForwardFlow:K,onOpenDeleteFlow:N,scrollMsg:P,highlight:Q,isFocused:s&&t===0,forwardRef:xa,displayType:u,rowIsKeyboardFocused:O,onModalClosed:L})]}),l.jsxs("div",{onMouseEnter:function(){var a;return(a=ya.current)==null?void 0:a.startAnimation()},role:"img",className:c("WAWebWrapper.scss").singleGroupedStickerContainer,ref:wa,children:[l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:q}),l.jsx(c("WAWebMessageGroupedSticker.react"),{msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsGroupedSticker(S.unsafe())),menuTransition:W,onOpenForwardFlow:K,onOpenDeleteFlow:N,scrollMsg:P,highlight:Q,isFocused:s&&t===1,forwardRef:ya,displayType:u,rowIsKeyboardFocused:O,onModalClosed:L})]}),l.jsx(c("WAWebReactionsListeners.react"),{msgIds:k.map(function(a){return a.id.toString()}),onReactionChange:Ma})]}),T]}),Ka]});return d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?l.jsx(c("WAWebKeyboardRotateFocusArrows.react"),{role:"row",children:$}):$}Z.length!==k.length&&d("WALogger").ERROR(da||(da=babelHelpers.taggedTemplateLiteralLoose(["Only ","/"," were valid album messages"])),Z.length,k.length).sendLogs("invalid-album-grid");V=null;if(Z.length>0){q=Z.map(function(a){return a.id.toString()});V=l.jsx(c("WAWebAddOnBubblesContainer.react"),{isOutgoingMsg:g,displayType:u,hasReaction:A,onDetailsPaneClosed:L,parentIds:q})}P=Z.length>0?l.jsx(d("WAWebMsgSendFailIcon.react").MsgSendFailIcon,{msgs:Z,showForMessages:!1,showForAddOns:!0,displayType:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION}):null;var Ta=Z.length>d("WAWebMessageListAlbums").ALBUM_MIN_SIZE?Z[0]:null;Q=d("WAWebMsgSelectors").showForwarded(k[0])?l.jsx(c("WAWebMessageForwardedIndicator.react"),{msg:k[0].unsafe(),className:c("WAWebWrapper.scss").forwardedIndicator}):null;O=l.jsxs("div",{className:f,"data-id":ka,"data-testid":void 0,ref:E,"aria-label":pa,onFocus:function(){B(!0)},onBlur:function(){B(!1)},tabIndex:-1,children:[l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:a}),l.jsxs("div",{className:Y,role:"group",onContextMenu:Aa,onMouseOver:x,onFocus:x,onMouseDown:za,onMouseUp:x,onMouseLeave:za,children:[Pa,v,l.jsxs("div",{className:X,ref:ta,children:[Oa,Q,l.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((s={},s[c("WAWebWrapper.scss").gridContainer]=!0,s[c("WAWebWrapper.scss").gridAnnouncementContainer]=U,s)),children:k.slice(0,d("WAWebMediaAlbumGridConstants").ALBUM_GRID_MAX_THUMBNAIL).map(function(a,b){var e=b===d("WAWebMediaAlbumGridConstants").ALBUM_GRID_MAX_THUMBNAIL-1?{numAdditionalMedia:Na,zoomMsg:Ta}:null;return l.jsx(c("WAWebMediaAlbumGrid.react"),babelHelpers["extends"]({msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())),albumMsgs:Z,albumPosition:d("WAWebMediaAlbumGridConstants").ALBUM_GRID_POSITIONS[b%d("WAWebMediaAlbumGridConstants").ALBUM_GRID_MAX_THUMBNAIL],isMsgVisible:p,displayType:u,ref:function(b){La(b,a)},albumTheme:d("WAWebTypesMedia").DisplayTheme.Album,currentAlbumMessageIndex:b},e),a.id.toString())})}),l.jsx(d("WAWebForwardedNewsletterMessageInfoActionButton.react").ForwardedNewsletterMessageInfoActionButton,{msg:k[0].unsafe(),isAlbum:!0})]}),l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:W,children:Qa}),P,l.jsx(d("WAWebWrapperMessageActionButtonsRow").MessageActionButtonsRow,{isOutgoingMsg:g,isMsgGallery:!1,hasReaction:A,messageActionButtons:e})]}),V,d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()?l.jsx(c("WAWebReactionsListeners.react"),{msgIds:k.map(function(a){return a.id.toString()}),onReactionChange:Ma}):null,Ra,Sa,l.jsx(d("WAWebWrapperListeners.react").SelectionListener,{parent:{onSelectChange:Fa},msgId:k[0].id.toString(),selectedMessages:r})]});return d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?l.jsx(c("WAWebKeyboardRotateFocusArrows.react"),{role:"row",children:O}):O}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMessageAlbumRow.react",["WAWebGetDisplayType","WAWebMessageAlbumWrapper.react","WAWebMessagePosition","react","useWAWebEqualModelMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback,k=i.memo(c("WAWebMessageAlbumWrapper.react"));function a(a){var b=a.albumId,e=a.focusedMsgIndex,f=a.groupedWithNext,g=a.groupedWithPrev,h=a.handleAlbumRendered,l=a.isFocusedAlbum,m=a.isMsgVisible,n=a.msgs,o=a.onMessageSelect,p=a.selectable,q=a.selectedMessages;a=a.showProfilePicture;var r=c("useWAWebEqualModelMemo")(n);n=j(function(a){h(a,b,r)},[h,b,r]);var s;f&&!g?s=d("WAWebMessagePosition").MsgPosition.FRONT:f&&g?s=d("WAWebMessagePosition").MsgPosition.MID:!f&&g?s=d("WAWebMessagePosition").MsgPosition.END:s=d("WAWebMessagePosition").MsgPosition.SINGLE;f=r[0];return i.jsx(k,{msgs:r,ref:n,position:s,isMsgVisible:m,selectable:p,selectedMessages:q,onMessageSelect:o,albumId:b,isFocusedAlbum:l,focusedMsgIndex:e,displayType:d("WAWebGetDisplayType").getDisplayType(f==null?void 0:f.unsafe()),isFocusable:!0,showProfilePicture:a},"album-"+b)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMessageHistoryBundleInfoNotification.react",["fbt","WAWebWrapperSystemBubble.react","WDSFont.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={historyInfoBubbleBackground:{backgroundColor:"x1q80dvb",marginBottom:"xcytdqz",$$css:!0},historyInfoBubble:{backgroundColor:"x1k43qru",paddingTop:"x1tiyuxx",paddingBottom:"x1nbhmlj",$$css:!0}};function a(a){a=a.authorName;return j.jsx(c("WAWebWrapperSystemBubble.react"),{isFocusable:!1,xstyle:k.historyInfoBubbleBackground,children:j.jsx(d("WDSFont.react").WDSTextBody3Emphasized,{xstyle:k.historyInfoBubble,colorName:"contentDefault",children:h._(/*BTDS*/"Message history sent by {authorName}",[h._param("authorName",a)])})})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebMessageHistoryBundleInfoNotification=a}),226);
__d("WAWebMessageListBotCarousel",[],(function(a,b,c,d,e,f){function a(a,b){return b.botResponseTargetId===a.botResponseTargetId}f.canBeGroupedAsBotCarousel=a}),66);
__d("WAWebMessageListGenerateMsgListRows",["WALogger","WATimeUtils","WAWebABProps","WAWebContactCollection","WAWebFrontendContactGetters","WAWebFrontendMsgGetters","WAWebMessageListAlbums","WAWebMessageListBotCarousel","WAWebMessageListDayOfMsg","WAWebMsgGetters","err","lodash"],(function(a,b,c,d,e,f,g){var h,i=["type"],j=["type"],k=10;function a(a,b,e,f,g,h){var i=[],j=0,q;for(j=0;!q&&j<b.length;j++)q=b[j];j--;var r=!1,s=!1,t=q?c("WAWebMessageListDayOfMsg")(q):0,u=0,v=j;while(q){var w=q;s||i.push({type:"date",msg:w,count:u++});w===f&&a.unread&&i.push({type:"unread",unreadCount:g});var x=void 0,y=j+1;for(;!x&&y<b.length;y++)x=b[y];y=void 0;var z=void 0,A=void 0,B=[],C=[],D=!1,E=!1,F=void 0,G=!1,H=null,I=d("WAWebFrontendMsgGetters").getAsGroupedSticker(w.unsafe());if(I&&!n(w,h)){B.push(I);G=w===e;H=0;v=j+1;I=b[v];var J=I!=null?d("WAWebFrontendMsgGetters").getAsGroupedSticker(I.unsafe()):null;J&&d("WAWebMessageListAlbums").canBeGroupedAsAlbum(w,I)&&I!==f&&!n(I,h)&&(B.push(J),x=b[v+1],E=!0,F=!0,I===e&&(G=!0,H=1))}J=!1;I=d("WAWebFrontendMsgGetters").getAsBotPluginCarouselMsg(w.unsafe());if(I){J=w===e;C.push(I);I=q;var K=void 0;v=j;for(;v<b.length-1&&C.length<k;v++){I=b[v];K=b[v+1];var L=K!=null?d("WAWebFrontendMsgGetters").getAsBotPluginCarouselMsg(K.unsafe()):null;if(L&&d("WAWebMessageListBotCarousel").canBeGroupedAsBotCarousel(I,K))C.push(K),K===e&&(J=!0);else break}C.length>=1&&(D=!0,x=b[v+1])}if(D){i.push({type:"botPluginCarousel",botPluginCarouselId:(L=C[0].id)==null?void 0:L.id,msgs:C,isFocused:J});j=v+1;q=b[j];r=!1;continue}I=d("WAWebFrontendMsgGetters").getAsAlbumAsset(w.unsafe());if(I&&!n(w,h)){B.push(I);K=q;D=void 0;G=q===e;v=j;for(;v<b.length-1&&B.length<d("WAWebMessageListAlbums").ALBUM_MAX_SIZE;v++){K=b[v];D=b[v+1];L=D!=null?d("WAWebFrontendMsgGetters").getAsAlbumAsset(D.unsafe()):null;if(L&&d("WAWebMessageListAlbums").canBeGroupedAsAlbum(K,D)&&D!==f&&!n(D,h))B.push(L),D===e&&(G=!0);else break}B.length>=d("WAWebMessageListAlbums").ALBUM_MIN_SIZE&&(E=!0,F=!1,x=b[v+1])}if(x){C=x;A=c("WAWebMessageListDayOfMsg")(x);z=A===t;y=z&&d("WAWebMessageListAlbums").canBeGroupedWithNext(w,C)&&x!==f;z||p(t,A)}else y=!1,z=!1,A=0;if(E){F===!0?J=B.reduce(function(a,b){return a+"-"+b.id.toString()},"grouped-sticker-"):J=o(B);i.push({type:"album",msgs:B,albumId:J,groupedWithPrev:r,groupedWithNext:y,isFocusedAlbum:G,focusedMsgIndex:H});j=v+1;q=b[j];r=y;s=z;t=A;continue}i.push({type:"msg",msg:w,isFocused:w===e,groupedWithPrev:r,groupedWithNext:y});I=d("WAWebMsgGetters").getGroupHistoryBundleMessageKey(w)!=null;L=x?d("WAWebMsgGetters").getGroupHistoryBundleMessageKey(x)!=null:!1;if(I&&!L){K=d("WAWebMsgGetters").getGroupHistoryBundleMessageKey(w);D=K==null?void 0:K.participant;if(D!=null){C=d("WAWebContactCollection").ContactCollection.get(D);i.push({type:"historyBundleInfo",authorName:C?d("WAWebFrontendContactGetters").getDisplayName(C):D.toString()})}}j++;r=y;s=z;t=A;q=x}return d("WAWebABProps").getABPropConfigValue("sticky_chat_profile_picture_enabled")?m(i,a):l(i,a)}function l(a,b){var e=b.msg,f=b.date,g=b.unread,h=b.album,j=b.botPluginCarousel,k=b.historyBundleInfo;return a.map(function(a){switch(a.type){case"msg":return e(a.msg,a.isFocused,a.groupedWithPrev,a.groupedWithNext,!0);case"album":return h(a.msgs,a.albumId,a.groupedWithPrev,a.groupedWithNext,a.isFocusedAlbum,a.focusedMsgIndex,!0);case"date":return f(a.msg,a.count,d("WAWebMsgGetters").getGroupHistoryBundleMessageKey(a.msg)!=null);case"unread":return g(a.unreadCount);case"botPluginCarousel":a.type;var b=babelHelpers.objectWithoutPropertiesLoose(a,i);return j(b);case"historyBundleInfo":return k(a.authorName);default:a.type;throw c("err")("Invalid message list row type "+a.type)}})}function m(a,b){var e=b.msgGroup,f=b.date,g=b.unread,h=b.botPluginCarousel;b=b.historyBundleInfo;var i=[],k=[],l=function(){k.length>0&&(i.push(e(k)),k=[])};for(a of a){a.type!=="msg"&&a.type!=="album"&&l();switch(a.type){case"msg":case"album":k.push(a);a.groupedWithNext||l();break;case"date":i.push(f(a.msg,a.count,d("WAWebMsgGetters").getGroupHistoryBundleMessageKey(a.msg)!=null));break;case"unread":i.push(g(a.unreadCount));break;case"botPluginCarousel":a.type;var m=babelHelpers.objectWithoutPropertiesLoose(a,j);i.push(h(m));break;case"historyBundleInfo":i.push(b(a.authorName));break;default:a.type;throw c("err")("Invalid message list row type "+a.type)}}return i}function n(a,b){return b==null?!0:a.t>b.t}function o(a){var b=a.length,c=a[0]?a[0].id.toString():"";a=a[b-1]?a[b-1].id.toString():"";return"album-"+c+"-"+a+"-"+b}function p(a,b){if(a<=b)return;var c=Math.floor((a-b)/d("WATimeUtils").DAY_SECONDS);c>=2&&q(a,b,c)}var q=c("lodash").debounce(function(a,b,c){return d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["generateMsgListRows: large message order mismatch detected: "," vs ",", "," days apart"])),a,b,c)},d("WATimeUtils").MINUTE_MILLISECONDS,{leading:!0,trailing:!1});g["default"]=a}),98);
__d("WAWebMessageRow.react",["WAWebGetDisplayType","WAWebMessagePosition","WAWebMessageWrapper.react","WAWebMsgType","WAWebNoop","WAWebPREGatingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.getSequentialMsg,e=a.groupedWithNext,f=a.groupedWithPrev,g=a.handleMsgRendered,h=a.isFocusedMsg,k=a.isMsgVisible,l=a.msg,m=a.onMessageSelect,n=a.selectable,o=a.selectedMessages,p=a.setFocusedMessage;a=a.showProfilePicture;var q;e&&!f?q=d("WAWebMessagePosition").MsgPosition.FRONT:e&&f?q=d("WAWebMessagePosition").MsgPosition.MID:!e&&f?q=d("WAWebMessagePosition").MsgPosition.END:q=d("WAWebMessagePosition").MsgPosition.SINGLE;e=j(function(){p(l.unsafe())},[l,p]);f=j(function(){p(null)},[p]);var r=j(function(a){g(a,l.id.toString())},[g,l.id]),s=l.type===d("WAWebMsgType").MSG_TYPE.IMAGE||l.type===d("WAWebMsgType").MSG_TYPE.VIDEO||l.type===d("WAWebMsgType").MSG_TYPE.AUDIO||l.carouselCards!=null;return i.jsx(c("WAWebMessageWrapper.react"),{onMsgFocus:e,onMsgBlur:f,showProfilePicture:a,ref:r,msg:l.unsafe(),displayType:d("WAWebGetDisplayType").getDisplayType(l.unsafe()),isMsgVisible:s||l.selectedCarouselCardIndex!=null?k:c("WAWebNoop"),selectable:n,selectedMessages:o,onMessageSelect:m,position:q,isFocusedMsg:h,getSequentialMsg:b,isFocusable:!0,errorBoundaryName:"message-row"})}a.displayName=a.name+" [from "+f.id+"]";b=d("WAWebPREGatingUtils").isPREMessageSendEnabled()?i.memo(a):a;g.WAWebMessageRowImpl=a;g.WAWebMessageRow=b}),98);
__d("WAWebMessageUnread.react",["fbt","WAWebThemeContext","WAWebUIRefreshGatingUtils","WAWebUISpacing","WDSFont.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={msgUnread:{width:"xh8yej3",marginInlineStart:"x1b1opl3",fontSize:"x13a8xbf",color:"xy9n6vp",textAlign:"x2b8uid",textTransform:"xtvhhri",backgroundColor:"xy4wh6y",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xdvm3u5",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x11s3hvy",$$css:!0},msgUnreadRefresh:{width:"xh8yej3",marginInlineStart:"x1b1opl3",textAlign:"x2b8uid",backgroundColor:"x1bu39yj",paddingTop:"x1tiyuxx",paddingBottom:"x1nbhmlj",$$css:!0},msgUnreadDark:{borderTopWidth:null,borderBottomWidth:null,$$css:!0},msgUnreadRefreshMaxWidth:{maxWidth:"xquzyny",$$css:!0}};function a(a){var b=a.count;a=a.textContainerRef;var e=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),f=d("WAWebThemeContext").useIsDarkTheme();b=h._(/*BTDS*/"_j{\"*\":\"{count} unread messages\",\"_1\":\"1 unread message\"}",[h._plural(b,"count")]);f=e?[f&&l.msgUnreadDark,l.msgUnreadRefresh,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUISpacing").uiMargin.bottom12,d("WAWebUIRefreshGatingUtils").restrictMessageListWidth()&&l.msgUnreadRefreshMaxWidth]:[l.msgUnread,d("WAWebUISpacing").uiPadding.vert5,d("WAWebUISpacing").uiPadding.start40,d("WAWebUISpacing").uiMargin.bottom12];b=e?k.jsx(d("WDSFont.react").WDSTextBody3Emphasized,{colorName:"contentDefault",children:b}):b;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(f),{ref:a,children:k.jsx("span",babelHelpers["extends"]({},{0:{className:"x9f619 x1rg5ohu xq8v1hd xojvqvm x6ikm8r x10wlt62 xk50ysn x1mnlqng xlyipyv xuxw1ft x16dsc37 xs5mgot xbjudin xnlwouz xpp8er5 xs9wviy xexx8yu x1o5r3ls x18d9i69 xz7312c"},1:{className:"x9f619 x1rg5ohu xq8v1hd xojvqvm x6ikm8r x10wlt62 xlyipyv xuxw1ft x1k43qru x1g83kfv x3qq2k7 x2x8art x1qor8vf x1iw51ew xde1mab xhsao0n"}}[!!e<<0],{"aria-live":"polite",children:b}))}))}a.displayName=a.name+" [from "+f.id+"]";g.MessageUnread=a}),226);
__d("WAWebTypingIndicatorRecording.react",["WAWebL10N","WAWebLottieAnimationLoadable","WAWebThemeContext","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef;function a(){var a=k(null),b=d("WAWebThemeContext").useIsDarkTheme();return j.jsx("div",{className:"xexx8yu x1icxu4v x18d9i69 x25sj25 x78zum5 x6s0dn4 xl56j7k xw4jnvo x1qx5ct2","data-testid":void 0,children:j.jsx(d("WAWebLottieAnimationLoadable").LottieAnimation,{ref:a,autoplay:!0,direction:c("WAWebL10N").isRTL()?-1:1,loop:!0,data:l(b)})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a?[1,1,1,1]:[.35686275363,.388235300779,.407843142748,1];return{v:"5.12.1",fr:60,ip:0,op:90,w:72,h:72,nm:"Android PTT mic - Light",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.525],y:[1]},o:{x:[.252],y:[0]},t:0,s:[100]},{i:{x:[.768],y:[1]},o:{x:[.475],y:[0]},t:30,s:[45]},{t:60,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[36,26,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"s",pt:{a:0,k:{i:[[-.85,0],[-.575,.575],[0,.85],[0,0],[.575,.575],[.85,0],[.575,-.575],[0,-.85],[0,0],[-.575,-.575]],o:[[.85,0],[.575,-.575],[0,0],[0,-.85],[-.575,-.575],[-.85,0],[-.575,.575],[0,0],[0,.85],[.575,.575]],v:[[.078,12.5],[2.216,11.637],[3.078,9.5],[3.078,-8.5],[2.216,-10.637],[.078,-11.5],[-2.059,-10.637],[-2.922,-8.5],[-2.922,9.5],[-2.059,11.637]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.5,0],[1.75,1.75],[0,2.5],[0,0],[-1.75,1.75],[-2.5,0],[-1.75,-1.75],[0,-2.5],[0,0],[1.75,-1.75]],o:[[-2.5,0],[-1.75,-1.75],[0,0],[0,-2.5],[1.75,-1.75],[2.5,0],[1.75,1.75],[0,0],[0,2.5],[-1.75,1.75]],v:[[0,18],[-6.375,15.375],[-9,9],[-9,-9],[-6.375,-15.375],[0,-18],[6.375,-15.375],[9,-9],[9,9],[6.375,15.375]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:a,ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,ct:1,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.525],y:[1]},o:{x:[.252],y:[0]},t:0,s:[100]},{i:{x:[.768],y:[1]},o:{x:[.475],y:[0]},t:30,s:[45]},{t:60,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[36,49.75,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,.85],[0,0],[3.275,3.25],[.7,4.65],[-.55,.6],[-.85,0],[-.575,-.575],[-.2,-.85],[-2.775,-2.25],[-3.55,0],[-2.75,2.275],[-.7,3.45],[-.575,.575],[-.85,0],[-.55,-.6],[.1,-.85],[3.25,-3.3],[4.65,-.65],[0,0],[.575,-.575],[.85,0],[.575,.575]],o:[[0,0],[-4.6,-.65],[-3.275,-3.25],[-.1,-.85],[.55,-.6],[.85,0],[.575,.575],[.7,3.5],[2.775,2.25],[3.6,0],[2.75,-2.275],[.2,-.85],[.575,-.575],[.85,0],[.55,.6],[-.7,4.55],[-3.25,3.3],[0,0],[0,.85],[-.575,.575],[-.85,0],[-.575,-.575]],v:[[-3,12],[-3,5.775],[-14.812,-.075],[-20.775,-11.925],[-20.1,-14.1],[-18,-15],[-15.862,-14.137],[-14.7,-12],[-9.487,-3.375],[0,0],[9.525,-3.413],[14.7,-12],[15.863,-14.137],[18,-15],[20.1,-14.1],[20.775,-11.925],[14.85,-.15],[3,5.775],[3,12],[2.138,14.137],[0,15],[-2.137,14.137]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:a,ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,ct:1,bm:0}],markers:[],props:{}}}g["default"]=a}),98);
__d("WAWebTypingIndicator.react",["WAChatState","WAWebChatParticipantColor","WAWebChatPreferenceCollection","WAWebCmd","WAWebFacePile.react","WAWebMessageBubbleTypingIndicator.react","WAWebThemeContext","WAWebTypingIndicatorRecording.react","WAWebVelocityTransitionGroup","WAWebWallpaper","WAWebWrapperConstants","WAWebWrapperGetTailIcon","WDSVars.stylex","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useState,m=4,n={transitionGroup:{position:"x10l6tqk",overflowY:"x10wlt62",bottom:"x1ey2m1c",height:"x1vqgdyp",$$css:!0},borderWidth:{borderTopWidth:"x1ktv7sr",borderInlineEndWidth:"x142x0oa",borderBottomWidth:"xv7zg05",borderInlineStartWidth:"x12dgle5",$$css:!0}},o=28;function p(a,b){b===void 0&&(b=[]);var c=new Set(),e=null;a.forEach(function(a){var b=a.type===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.TYPING||a.type===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.RECORDING_AUDIO;if(!b||a.id==null)return;c.add(a.id);a.type===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.TYPING?e=d("WAChatState").ACTIVE_CHAT_STATE_TYPE.TYPING:e!==d("WAChatState").ACTIVE_CHAT_STATE_TYPE.TYPING&&(e=d("WAChatState").ACTIVE_CHAT_STATE_TYPE.RECORDING_AUDIO)});if(c.size===0)return{chatState:null,newActiveUsers:[]};a=b.filter(function(a){return c["delete"](a)});return{chatState:e,newActiveUsers:a.concat(Array.from(c))}}function q(a){return a.type===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.TYPING||a.type===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.RECORDING_AUDIO?a.type:null}function a(a){var b=a.chat,e=b.id.isGroup(),f;a=[];if(e){var g=p(b.presence.chatstates);f=g.chatState;a=g.newActiveUsers}else f=q(b.presence.chatstate);g=l(f);var h=g[0],i=g[1];f=l(a);var r=f[0],s=f[1];g=d("WAWebWrapperGetTailIcon").getTailIcon(d("WAWebWrapperConstants").MSG_DIRECTION.IN);a=r.length<=5;f=a?r:r.slice(r.length-m,r.length);a=r.length-m;var t=r.length>=6,u=c("WAWebChatPreferenceCollection").get(b.id);u=u==null?void 0:u.wallpaper;d("useWAWebListener").useListener(b.presence.chatstate,"change:type",function(a,c){if(e)return;i(q(b.presence.chatstate))});d("useWAWebListener").useListener(b.presence.chatstates,"add change remove",function(){var a=p(b.presence.chatstates,r),c=a.chatState;a=a.newActiveUsers;i(c);s(a)});k(function(){d("WAWebCmd").Cmd.typingIndicatorVisibilityChange(h!=null)},[h]);var v=d("WAWebThemeContext").useIsDarkTheme();u===d("WAWebWallpaper").DEFAULT_CHAT_WALLPAPER&&(u=v?d("WDSVars.stylex").WDSColors["--WDS-systems-chat-background-wallpaper"]:"#F1EBE3");v=f[f.length-1];v=e&&v?d("WAWebChatParticipantColor").getAssignedColor(b,v):0;return j.jsx(c("WAWebVelocityTransitionGroup"),{xstyle:n.transitionGroup,transitionName:"typing-indicator",children:h!=null?j.jsxs("div",babelHelpers["extends"]({},{0:{className:"x78zum5 x1n2onr6 x1ogp2j0"},1:{className:"x78zum5 x1n2onr6 xz7312c"}}[!!e<<0],{style:{color:u},children:[f.length>0&&j.jsx(d("WAWebFacePile.react").FacePile,{faceSize:o,idsOrUrls:f,borderWidth:n.borderWidth,theme:"typing_indicator",chatWid:b.id}),t&&j.jsxs("div",{className:"x78zum5 x1fgtraw xexx8yu x2vl965 x18d9i69 x7coems xl56j7k x6s0dn4 x1b8z93w x1amjocr x2ts8ay x1wm35g x1ekkm8c x1143rjc xum4auv xj21bgg x19z9ohp x7yx35o xo1h6xc x2459kn xfl633f",children:["+",a]}),j.jsx("span",{className:"x1n2onr6 xs7f9wi xjn30re x1l1cedg x10w6t97",children:j.jsx(g,{"aria-hidden":!0})}),j.jsxs("div",{className:"x1ew7x2d x78zum5 x10w6t97 xdt5ytf xl56j7k x1cy8zhl x15mokao x5a5i1n xde0f50 x15x8krk x177zcyq x1n2onr6 xs7f9wi",children:[h===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.TYPING&&j.jsx(c("WAWebMessageBubbleTypingIndicator.react"),{isBotMsgStreaming:!1,colorId:v}),h===d("WAChatState").ACTIVE_CHAT_STATE_TYPE.RECORDING_AUDIO&&j.jsx(c("WAWebTypingIndicatorRecording.react"),{})]})]})):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMessageList.react",["fbt","WAArraysShallowEqual","WALogger","WANullthrows","WAWebABProps","WAWebBotPluginCarouselWrapper.react","WAWebCmd","WAWebErrorBoundary.react","WAWebFrontendConstants","WAWebGetDisplayType","WAWebKeyboardListHotKeys.react","WAWebL10N","WAWebListenerHoc_DEPRECATED","WAWebMessageAlbumRow.react","WAWebMessageAlbumWrapper.react","WAWebMessageAssociation.flow","WAWebMessageAssociationUIUtils","WAWebMessageDateMarker.react","WAWebMessageHandlers","WAWebMessageHistoryBundleInfoNotification.react","WAWebMessageListGenerateMsgListRows","WAWebMessagePosition","WAWebMessageRow.react","WAWebMessageUnread.react","WAWebMiscGatingUtils","WAWebMsgActionCapability","WAWebMsgCollection","WAWebPREGatingUtils","WAWebReplyToMsgChatAction","WAWebTabOrder","WAWebTypingIndicator.react","WAWebTypingIndicatorGatingUtils","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebViewMode.flow","WAWebViewModeUtils","WAWebWrapperGroupProfilePicture.react","asyncToGeneratorRuntime","err","react","shallowEqual","stylex"],(function(a,b,c,d,e,f,g,h){var i,j=["msgs"],k=["msgs"],l,m,n;a=n||d("react");var o=l||(l=c("react"));e=a.Component;var p=a.createRef,q={messageList:{flex:"x3psx0u",paddingBottom:"x12xbjc7",paddingInlineStart:"x1c1uobl",transition:"xrmvbpv",$$css:!0},maxWidth:{width:"xh8yej3",maxWidth:"xquzyny",$$css:!0},messageListSelectable:{paddingInlineStart:"x1l0aoda",transition:"xdi6fk3",$$css:!0},wrapper:{position:"x1n2onr6",$$css:!0}};f=function(a){function e(e){var f;f=a.call(this,e)||this;f.$1={};f.$2={};f.$3={};f.$4={};f.$5={};f.$8=p();f.$9=function(){return f.$8.current};f.$10=function(a){f.$7=a};f.state={isTypingIndicatorVisible:!1};f.$14=function(){var a=f.$7;if(a==null)return;d("WAWebMessageHandlers").handleMessageReply(f.props.chat,a)};f.$15=function(){var a=f.$7;if(a==null)return;void c("WAWebReplyToMsgChatAction")(a)};f.$16=function(){var a=f.$7;a!=null&&d("WAWebMsgActionCapability").canForwardMsg(a)&&d("WAWebMessageHandlers").handleOpenForwardFlow({msg:a,multiSelect:!1})};f.$17=function(){var a=f.$7,b=f.props.chat;a!=null&&d("WAWebMsgActionCapability").canStarMsg(a)&&d("WAWebCmd").Cmd.sendStarMsgs(b,[a])};f.$12=function(){f.forceUpdate()};f.$13=function(a){var b=null;a.parentMsgKey&&(a==null?void 0:a.associationType)===d("WAWebMessageAssociation.flow").MessageAssociationType.MEDIA_ALBUM&&!d("WAWebViewModeUtils").isViewModeVisibleInSurface(d("WAWebViewMode.flow").ViewModeSurface.CHAT,a==null?void 0:a.viewMode)&&(b=d("WAWebMsgCollection").MsgCollection.get(c("WANullthrows")(a.parentMsgKey)));var e=f.$5[a.id.toString()];if(!e&&!b)return;var g=!b&&e.isGroupedSticker();if(g)return;g=b?d("WAWebMessageAssociationUIUtils").getHiddenAssociatedMessages(b.id,d("WAWebViewMode.flow").ViewModeSurface.CHAT):e.props.msgs;g=new Set(g.map(function(a){return a.id.toString()}));var h=function(){var c=b?f.getMsgWrapperRef(b.id.toString()):e.refAlbumComponents[a.id.toString()];return c==null?void 0:c.getContainerElement()};(b||f.$5[a.id.toString()])&&d("WAWebCmd").Cmd.mediaViewerModal({msg:a,getZoomNode:h,highlightedMsgIds:g})};f.$11=function(a){var b=a.newKey;a=a.oldKey;b=b.toString();a=a.toString();var c=f.$1[a];c&&(delete f.$1[a],f.$1[b]=c)};f.$18=function(a){f.setState({isTypingIndicatorVisible:a})};f.$19=function(a,b){a?f.$1[b]=a:delete f.$1[b]};f.$21=function(a,b,c){a?(f.$3[b]=a,c.forEach(function(b){f.$5[b.id.toString()]=a})):delete f.$3[b]};f.$25={msgGroup:function(a){var b=f.props,e=a[0].type==="msg"?a[0].msg:a[0].msgs[0],g=a[a.length-1];g=g.type==="msg"?[g.msg]:g.msgs;return o.jsxs("div",{className:"x1n2onr6",children:[o.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"msg-list-group-profile-picture-wrapper",children:o.jsx(c("WAWebWrapperGroupProfilePicture.react"),{msg:e.unsafe(),selectable:b.selectable,position:d("WAWebMessagePosition").MsgPosition.FRONT,sticky:!0,lastMsgs:g})}),a.map(function(a){switch(a.type){case"msg":return f.$25.msg(a.msg,a.isFocused,a.groupedWithPrev,a.groupedWithNext,!1);case"album":return f.$25.album(a.msgs,a.albumId,a.groupedWithPrev,a.groupedWithNext,a.isFocusedAlbum,a.focusedMsgIndex,!1);default:a.type;throw c("err")("Invalid message list row type "+a.type)}})]},"msg-row-"+e.id.toString())},msg:function(a){function b(b,c,d,e,f){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a,b,c,e,g){return o.jsx(d("WAWebMessageRow.react").WAWebMessageRow,{msg:a,isFocusedMsg:b,groupedWithPrev:c,groupedWithNext:e,showProfilePicture:g,handleMsgRendered:f.$19,isMsgVisible:f.props.isMsgVisible,selectable:f.props.selectable,selectedMessages:f.$23(),onMessageSelect:f.$24(),getSequentialMsg:f.props.getSequentialMsg,setFocusedMessage:f.$10},"msg-"+a.id.toString())}),album:function(a,b,e,g,h,i,j){if(d("WAWebPREGatingUtils").isPREMessageSendFollowupEnabled())return o.jsx(c("WAWebMessageAlbumRow.react"),{albumId:b,focusedMsgIndex:i,isFocusedAlbum:h,msgs:a,selectable:f.props.selectable,selectedMessages:f.$23(),onMessageSelect:f.$24(),groupedWithNext:g,groupedWithPrev:e,showProfilePicture:j,isMsgVisible:f.props.isMsgVisible,handleAlbumRendered:f.$21},"album-"+b);var k=f.props,l;g&&!e?l=d("WAWebMessagePosition").MsgPosition.FRONT:g&&e?l=d("WAWebMessagePosition").MsgPosition.MID:!g&&e?l=d("WAWebMessagePosition").MsgPosition.END:l=d("WAWebMessagePosition").MsgPosition.SINGLE;g=a[0];return o.jsx(c("WAWebMessageAlbumWrapper.react"),{msgs:a,ref:function(c){f.$21(c,b,a)},position:l,isMsgVisible:k.isMsgVisible,selectable:k.selectable,selectedMessages:f.$23(),onMessageSelect:f.$24(),albumId:b,isFocusedAlbum:h,focusedMsgIndex:i,displayType:d("WAWebGetDisplayType").getDisplayType(g==null?void 0:g.unsafe()),isFocusable:!0,showProfilePicture:j},"album-"+b)},date:function(a,b,d){var e=f.props.isLoadingEarlierMsgs;e=!e||b!==0;return o.jsx(c("WAWebMessageDateMarker.react"),{ref:function(a){return void f.$20(b,a)},timestamp:a.t,isFocusable:e,isGroupHistoryMessage:d},"msg-"+a.id.toString()+"-date")},unread:function(){return o.jsx(d("WAWebMessageUnread.react").MessageUnread,{count:f.props.unreadCount,textContainerRef:f.$8},"msg-unread")},botPluginCarousel:function(a){var b=a.msgs,d=a.botPluginCarouselId;a=a.isFocused;return o.jsx(c("WAWebBotPluginCarouselWrapper.react"),{msgs:b,ref:function(a){return f.$22(a,b)},botPluginCarouselId:d,isFocused:a},"botCarousel-"+d)},historyBundleInfo:function(a){return o.jsx(d("WAWebMessageHistoryBundleInfoNotification.react").WAWebMessageHistoryBundleInfoNotification,{authorName:a},"history-bundle-info-"+a)}};f.$26=function(a){if(a.target instanceof HTMLElement){a=(a=a.target.dataset)==null?void 0:a.id;a=f.$1[a]||f.$3[a];a==null||a.openContextMenu==null||a.openContextMenu()}};f.$27=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebCmd").Cmd.openChatBottom(f.props.chat)});e=e.msgs;f.$6=e.length>0?e[e.length-1]:null;return f}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.shouldComponentUpdate=function(a,b){var d=a.msgs;a=babelHelpers.objectWithoutPropertiesLoose(a,j);var e=this.props,f=e.msgs;e=babelHelpers.objectWithoutPropertiesLoose(e,k);return b.isTypingIndicatorVisible!==this.state.isTypingIndicatorVisible?!0:!c("shallowEqual")(a,e)||!c("WAArraysShallowEqual")(d,f)};f.getSnapshotBeforeUpdate=function(a){var b=this,d;a=this.props.getScrollContainer();var e=this.props.msgs.find(function(a){return Object.prototype.hasOwnProperty.call(b.$1,a.id)});if(e==null)return null;e=e.id.toString();d=c("WANullthrows")((d=this.getMsgWrapperRef(e))==null?void 0:d.getContainerElement());return{commonMessageId:e,commonMessageTop:this.getMsgElementOffsetTop(d)-a.scrollTop}};f.componentDidMount=function(){var a;this.props.listeners.add(d("WAWebMsgCollection").MsgCollection,"change:msgKey",this.$11);this.props.listeners.add((a=d("WAWebCmd")).Cmd,"refresh_messages",this.$12);this.props.listeners.add(a.Cmd,"open_media_viewer_for_album_media",this.$13);this.props.listeners.add(a.Cmd,"reply_current_message",this.$14);this.props.listeners.add(a.Cmd,"reply_current_message_private",this.$15);this.props.listeners.add(a.Cmd,"forward_current_message",this.$16);this.props.listeners.add(a.Cmd,"star_current_message",this.$17);this.props.listeners.add(a.Cmd,"typing_indicator_visibility_change",this.$18)};f.componentDidUpdate=function(a,b,d){a=this.props.getScrollContainer();if(d!=null){b=d.commonMessageId;d=d.commonMessageTop;b=c("WANullthrows")((b=this.getMsgWrapperRef(b))==null?void 0:b.getContainerElement());a.scrollTop=this.getMsgElementOffsetTop(b)-d}};f.getMsgElementOffsetTop=function(a){if(d("WAWebABProps").getABPropConfigValue("sticky_chat_profile_picture_enabled")){var b=a.offsetParent;if(b instanceof HTMLElement)return b.offsetTop+a.offsetTop}return a.offsetTop};f.getMsgVisibility=function(a){var b=this.props.getScrollContainer(),c=b.scrollTop;b=c+b.clientHeight;var e=a==null?void 0:a.getContainerElement();if(!e){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["getMsgVisibility on invalid ref: ",""])),a);return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE,offset:0}}a=this.getMsgElementOffsetTop(e);if(a+e.clientHeight<=c)return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.ABOVE,offset:a-c};else if(a>=b)return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.BELOW,offset:a-c};return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE,offset:a-c}};f.getMsgWrapperRef=function(a){return this.$1[a]||this.$5[a]||this.$4[a]};f.getMsgComponentRef=function(a){if(this.$1[a])return this.$1[a].getMsgComponentRef();else if(this.$5[a])return this.$5[a].refAlbumComponents[a]&&this.$5[a].refAlbumComponents[a].getRef()};f.getDateMarkerRef=function(a){return this.$2[a]};f.$20=function(a,b){b?this.$2[a]=b:delete this.$2[a]};f.getRenderedDateMarkers=function(){return this.$2};f.$22=function(a,b){var c=this;a&&b.forEach(function(b){c.$4[b.id.toString()]=a})};f.$23=function(){return this.props.selectedMessages};f.$24=function(){return this.props.onMessageSelect};f.render=function(){var a=this,b=this.props,e=b.msgs,f=b.focusedMsgCtx;b=b.unreadCount;var g,i;f&&(g=f.msg,f.isUnreadDivider===!0&&(b>0&&(i=f.msg)));f=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?null:(f={},f[""+c("WAWebL10N").LR("right","left")]=this.$26,f);var j=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?null:c("WAWebL10N").LR(h._(/*BTDS*/"Message list. Press right arrow key on a message to open message context menu."),h._(/*BTDS*/"Message list. Press left arrow key on a message to open message context menu."));e=o.jsxs(o.Fragment,{children:[o.jsxs(d("WAWebKeyboardListHotKeys.react").ListHotKeys,{dataTab:d("WAWebTabOrder").TAB_ORDER.MESSAGE_LIST,className:(m||(m=c("stylex")))(q.messageList,this.props.selectable&&q.messageListSelectable,d("WAWebUIRefreshGatingUtils").restrictMessageListWidth()&&d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&[q.maxWidth,d("WAWebUISpacing").uiMargin.horizAuto]),getPriorityFocusItem:this.$9,onBeforeEnd:this.$27,handlers:f,removeTabIndexFocusInside:d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled(),"aria-label":j,children:[c("WAWebMessageListGenerateMsgListRows")(this.$25,e,(f=g)==null?void 0:f.safe(),(j=i)==null?void 0:j.safe(),b,this.$6),d("WAWebTypingIndicatorGatingUtils").isTypingIndicatorMessageBubbleEnabled(this.props.chat.id)&&o.jsx("div",babelHelpers["extends"]({onAnimationStart:function(){if(!a.props.isNearBottom||!a.state.isTypingIndicatorVisible)return;d("WAWebCmd").Cmd.scrollChatHeight(d("WAWebFrontendConstants").SCROLL_FUDGE)}},{0:{className:"xqtp20y x252dbw"},1:{className:"x252dbw xxk0z11 x1mibc2w x2mfxb x1wg5k15"}}[!!this.state.isTypingIndicatorVisible<<0]))]}),d("WAWebTypingIndicatorGatingUtils").isTypingIndicatorMessageBubbleEnabled(this.props.chat.id)&&o.jsx("div",babelHelpers["extends"]({},(m||(m=c("stylex"))).props(q.wrapper,q.maxWidth,d("WAWebUISpacing").uiMargin.horizAuto),{children:o.jsx(c("WAWebTypingIndicator.react"),{chat:this.props.chat})}))]});return e};return e}(e);a=d("WAWebListenerHoc_DEPRECATED").ListenerHOC(f);e=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.getDateMarkerRef=function(a){return this.getComponent().getDateMarkerRef(a)};c.getMsgComponentRef=function(a){return this.getComponent().getMsgComponentRef(a)};c.getMsgWrapperRef=function(a){return this.getComponent().getMsgWrapperRef(a)};c.getMsgVisibility=function(a){return this.getComponent().getMsgVisibility(a)};c.getRenderedDateMarkers=function(){return this.getComponent().getRenderedDateMarkers()};return b}(a);g["default"]=e}),226);
__d("WAWebMessageStickyDateMarker.react",["WAWebEmojiText.react","WAWebUIRefreshGatingUtils","WAWebVelocityTransitionGroup","WAWebWrapperSystemBubble.react","WDSFont.react","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useState;function a(a){a=a.ref;var b,e=l(void 0),f=e[0],g=e[1];e=l(!0);var h=e[0],i=e[1],m=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),n=function(a){m===!1&&a!=null?g(a.toUpperCase()):g(a)},o=function(a){i(a)};k(a,function(){return{updateDateMarkerText:n,setVisibility:o}});f!=null&&h&&(m?b=j.jsx("div",{className:"x10l6tqk x8k05lb x9f619 x78zum5 xl56j7k xh8yej3 x12mz7nx x47corl",children:j.jsx(c("WAWebWrapperSystemBubble.react"),{theme:"sticky",children:j.jsx(d("WDSFont.react").WDSTextBody3Emphasized,{colorName:"contentDeemphasized",dir:"auto",children:f})})}):b=j.jsx("div",{className:"x10l6tqk x8k05lb x9f619 x78zum5 xl56j7k xh8yej3 x12mz7nx x1icxu4v x47corl",children:j.jsx(c("WAWebWrapperSystemBubble.react"),{theme:"sticky",children:j.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:f})})}));return j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"slide-down-date",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterSubscribeToLiveUpdatesQuery",["WASmaxNewslettersSubscribeToLiveUpdatesRPC","WAWebBackendErrors","WAWebNewsletterRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebNewsletterRpcUtils").runWithBackoff(function(){return h(a)})}function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxNewslettersSubscribeToLiveUpdatesRPC").sendSubscribeToLiveUpdatesRPC({iqTo:a}));switch(a.name){case"SubscribeToLiveUpdatesResponseSuccess":return{duration:a.value.liveUpdatesDuration*1e3};case"SubscribeToLiveUpdatesResponseServerError":var b=a.value.errorIQErrorInternalServerErrorMixin,c=b.code;b=b.text;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(c,b);case"SubscribeToLiveUpdatesResponseClientError":c=a.value.subscribeToLiveUpdatesClientErrors;switch(c.name){case"ItemNotFoundIQErrorResponse":b=c.value.errorIQErrorItemNotFoundMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"RateLimitedIQErrorResponse":b=c.value.errorIQErrorRateOverlimitMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"BadRequestIQErrorResponse":b=c.value.errorIQErrorBadRequestMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"SuspendedIQErrorResponse":b=c.value.errorIQErrorLockedMixin;a=b.text;b=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b,a);case"UnavailableForLegalReasonsResponse":b=c.value.errorIQErrorUnavailableForLegalReasonsGenericMixin;a=b.text;c=b.code;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(c,a)}}});return i.apply(this,arguments)}g.subscribeToLiveUpdatesQuery=a}),98);
__d("WAWebNewsletterSubscribeToLiveUpdatesJob",["WAJobOrchestratorTypes","WAWebNewsletterSubscribeToLiveUpdatesQuery","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("subscribeToLiveUpdates",function(){return d("WAWebNewsletterSubscribeToLiveUpdatesQuery").subscribeToLiveUpdatesQuery(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}g.subscribeToLiveUpdatesJob=a}),98);
__d("WAWebNewsletterSubscribeToLiveUpdatesAction",["WAJids","WALogger","WAWebNewsletterBridgeApi","WAWebNewsletterMetadataJob","WAWebNewsletterSubscribeToLiveUpdatesJob","WAWebNewsletterValidationUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{return yield d("WAWebNewsletterSubscribeToLiveUpdatesJob").subscribeToLiveUpdatesJob(d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(a.toJid()))}catch(b){if((b==null?void 0:b.status)===423)try{yield d("WAWebNewsletterMetadataJob").suspendNewsletter(d("WAJids").toNewsletterJid(a.toJid())),void d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.suspendNewsletter({id:a})}catch(b){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][subscribeToLiveUpdatesJob] Failed to suspend channel "," on receiving 423 error - ",""])),a.toString(),b.name).devConsole(b).tags("newsletter").sendLogs("newsletter-subscribe-to-live-updates-suspend-error");return}else if((b==null?void 0:b.status)===451)try{yield d("WAWebNewsletterMetadataJob").geosuspendNewsletter(d("WAJids").toNewsletterJid(a.toJid())),void d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.geosuspendNewsletter({id:a})}catch(b){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][subscribeToLiveUpdatesJob] Failed to geosuspend channel "," on receiving 451 error - ",""])),a.toString(),b.name).devConsole(b).tags("newsletter").sendLogs("newsletter-subscribe-to-live-updates-geosuspend-error");return}d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[subscribeToLiveUpdatesJob] Failed to subscribe to live updates"]))).devConsole(b)}});return k.apply(this,arguments)}g.subscribeToLiveUpdates=a}),98);
__d("WAWebNewsletterLiveUpdatesManager",["WALogger","WAWebNewsletterSubscribeToLiveUpdatesAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(){}var c=a.prototype;c.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebNewsletterSubscribeToLiveUpdatesAction").subscribeToLiveUpdates(a));if(a==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[LiveUpdatesManager] Failed to subscribe to live updates"])));return}return a.duration});function c(b){return a.apply(this,arguments)}return c}();c.$4=function(a,c){var d=this;this.unsubscribe();this.$1=self.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d.$3(a));if(b!=null)return d.$4(a,b)}),c)};c.subscribe=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){this.unsubscribe();this.$2=a;var b=(yield this.$3(a));b!=null&&this.$4(a,b)});function c(b){return a.apply(this,arguments)}return c}();c.unsubscribe=function(){self.clearTimeout(this.$1)};return a}();c=new a();g.LiveUpdatesManager=c}),98);
__d("WAWebNewsletterRepairMsgHistoryAction",["WALogger","WAPromiseDelays","WARaceSignal","WAWebCommonNewsletterEnums","WAWebMsgDataFromModel","WAWebMsgModelFromData","WAWebNewsletterGatingUtils","WAWebNewsletterMsgHistoryUtils","WAWebNewsletterPullMessagesFromServerAction","WAWebNewsletterValidationUtils","WAWebNewsletterViewModeUIUtils","WAWebNoop","WAWebStateUtils","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m="[news-msg-history][repairMsgHistory]",n=1e3;function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=d("WAWebStateUtils").unproxy(a.chat);if(!c("WAWebWid").isNewsletter(e.id))return;if(!d("WAWebNewsletterGatingUtils").isProactiveGapFillingEnabled())return;var f=(b=a.msgCollection)!=null?b:e.msgs;if(f!==e.msgs)return;if(f.repairMsgHistoryPromise!=null)return f.repairMsgHistoryPromise;b=e.newsletterMetadata;if(b==null||b.membershipType===d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Guest)return;var g=d("WAWebNewsletterViewModeUIUtils").getHiddenMessageServerIdsForChat(e.id),o=f.sort().last();d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose([""," called for ",", anchor ",""])),m,e.id.toString(),o==null?void 0:o.id).devConsole(e,o);if(o==null||o.serverId==null)return;var p=new AbortController();try{void c("WARaceSignal")([p.signal,a.unmountSignal],function(){return d("WAPromiseDelays").delayMs(n,p.signal).then(function(){f.msgLoadState.isRepairingMsgHistory=!0})["catch"](c("WAWebNoop"))});if(a.fetchLastMessage){b=(yield d("WAWebNewsletterPullMessagesFromServerAction").pullNewsletterMessagesFromServer(e,{messageCount:1,resetUnreadCount:!0,shouldUpdateMsg:function(a){return a.serverId!=null&&a.serverId!==o.serverId&&!g.has(a.serverId)}}));a=b[0];if(a==null){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose([""," no recent message found on server"])),m);return}d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose([""," pulled "," from server"])),m,a.serverId).devConsole(a)}f.repairMsgHistoryPromise=d("WAWebNewsletterMsgHistoryUtils").fillMsgHistoryGaps({jid:d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(e.id.toJid()),msgs:f.toArray().map(d("WAWebMsgDataFromModel").msgDataFromMsgModel),serverIdsToSkip:g}).then(function(a){return a.map(d("WAWebMsgModelFromData").msgModelFromMsgData)});a=(b=(yield e.msgs.repairMsgHistoryPromise))!=null?b:[];if(f.length===a.length){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose([""," nothing to repair, exiting"])),m);return}d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose([""," repaired"])),m).devConsole(a);f.add(a,{silent:!0});f.sort({silent:!0});e.trigger("msgs:history_repaired")}finally{p.abort(),f.msgLoadState.isRepairingMsgHistory=!1,f.repairMsgHistoryPromise=null}});return o.apply(this,arguments)}g.repairNewsletterMsgHistory=a}),98);
__d("WAWebConversationMsgs.react",["fbt","WAAbortError","WAArrayFindNext","WAFilteredCatch","WALogger","WANullthrows","WARaceSignal","WAShiftTimer","WATimeUtils","WAWebABProps","WAWebBackendErrors","WAWebBizChatAssignmentOpenedAction","WAWebChatAssignmentUtils","WAWebChatConstants","WAWebChatGetters","WAWebChatLoadMessages","WAWebChatMessageSearch","WAWebChatMsgsCollection","WAWebChatThreadLogging","WAWebClock","WAWebCmd","WAWebComposeBoxActions","WAWebCongratulationsAnimationsGatingUtils","WAWebContactGetters","WAWebContactMenuDropdown.react","WAWebConversationLoadMoreMessages.react","WAWebConversationMenus","WAWebConversationMsgsUtils","WAWebCopyPasteCopyableArea.react","WAWebDebounce","WAWebDocumentFlushed","WAWebFocusTracer","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebGetBrazilnteractiveActions","WAWebGroupCatchUpWamEvent","WAWebJumpToButtons.react","WAWebListenerHoc_DEPRECATED","WAWebMath","WAWebMessageList.react","WAWebMessagePosition","WAWebMessageStickyDateMarker.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgKey","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebNewsletterGetMessageUpdatesAction","WAWebNewsletterLiveUpdatesManager","WAWebNewsletterRepairMsgHistoryAction","WAWebNonMessageDataRequestPlaceholderMessageResendUtils","WAWebNoop","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnmountSignalHoc_DEPRECATED.react","WAWebUpdateUnreadChatAction","WAWebUserPrefsMeUser","WAWebVelocityAnimate","WAWebViewMode.flow","WAWebViewModeUtils","WAWebWid","cr:23046","err","isEmptyObject","lodash","react","shallowEqual","stylex"],(function(a,b,c,d,e,f,g,h){var i=["msgLoadState"],j=["msgLoadState"],k,l,m,n,o,p,q,r,s,t,u,v,w,x;a=x||d("react");var y=v||(v=c("react"));e=a.Component;var z=a.createRef,A=3e3,B=8.5,C=300,D=80,E=20,F=100,G={jumpToContainer:{height:"x5yr21d",width:"xh8yej3",maxWidth:"xquzyny",$$css:!0},jumpToContainerPosition:{position:"x1n2onr6",$$css:!0}};f=function(a){function e(e){var f;f=a.call(this,e)||this;f.$1=0;f.$3=new Map();f.$4=[];f.$10=!1;f.$11=!1;f.$12=0;f.$13=0;f.$14=!1;f.$15=function(a){return f.scrollContainer=a};f.$16=z();f.$17=z();f.$18=z();f.$30=function(a){var b=f.scrollContainer;b&&(void c("WAWebVelocityAnimate")(b,"stop"),void c("WAWebVelocityAnimate")(b,"scroll",{duration:300,container:b,offset:a}))};f.$40=function(a){var b=f.$17.current;f.$18.current=b==null?void 0:b.getMsgWrapperRef(a.toString())};f.$37=function(a){a.has(f.props.chat.id.toString())&&(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["_onHistorySyncStateUpdate called, attempt to load earlier"]))).tags("history-sync"),f.$10=!1,f.loadEarlierMsgs())};f.$46=function(){f.forceUpdate()};f.$31=function(a){a=f.$4[f.$4.length-1];if(!a)return;a=a.toString();var b=f.$17.current;if(a&&b){a=(b=b.getMsgWrapperRef(a))==null?void 0:b.getContainerElement();if(a){b=f.scrollContainer;if(!b)return;var c=f.$47(b,a);f.$45={msg:a,container:b,msgBottom:c}}}};f.$32=function(a){if(!f.$45)return;a=f.$45;var b=a.msg,c=a.container;a=a.msgBottom;f.$48(c,b,a);f.$45=void 0};f.$41=function(a){var b,c,e=f.props,g=e.listeners,i=e.chat;e=e.msgCollection;var j=a.focusCtx,k=a.chat;a=a.msgCollection;e&&(g.remove(e,"remove_msgs insert_msgs",f.$50),g.remove(i.msgs,"change:last",f.$51));g.remove(i,"change:unreadCount",f.$52);g.remove(i,"change:unreadEditTimestampMs",f.$52);g.remove(i,"change:activeUnreadCount",f.$53);g.remove(i,"change:pendingDeleteForMeCount",f.$46);f.$9!=null&&f.$9();f.$9=a.onMsgLoadStateChange(f.$54);d("WAWebChatGetters").getIsGroup(i)&&(b=i.groupMetadata)!=null&&b.unreadMentionMetadata.unreadMentionCollection&&g.remove(i.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",f.$55);d("WAWebChatGetters").getIsGroup(k)&&(c=k.groupMetadata)!=null&&c.unreadMentionMetadata.unreadMentionCollection&&g.add(k.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",f.$55);g.add(k,"change:unreadCount",f.$52);g.add(k,"change:unreadEditTimestampMs",f.$52);g.add(k,"change:activeUnreadCount",f.$53);g.add(k,"change:pendingDeleteForMeCount",f.$46);g.add(k.msgs,"change:last",f.$51);g.add(a,"remove_msgs insert_msgs",f.$50);if(j&&a.loadAroundPromise){(e=f.props.interaction)==null||e.startInteraction();(i=f.props.interaction)==null||i.addAnnotation({loadingType:"load_around",surface:d("WAWebChatGetters").getIsNewsletter(f.props.chat)?"channels":"chats"});a.loadAroundPromise["catch"](function(a){d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){var b;(b=f.props.interaction)==null||b.failInteraction(a);d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMgs] Promise reject loadAroundPromise"])));d("WAWebToastManager").ToastManager.open(y.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Couldn't find message")}));d("WAWebCmd").Cmd.openChatBottom(k)["catch"](function(){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMgs] Promise reject openChatBottom"])))})})(a)})["finally"](function(){var a;(a=f.props.interaction)==null||a.completeInteraction()})}};f.$20=c("lodash").throttle(function(){var a=f.props.getUnmountSignal();d("WAWebDocumentFlushed").documentFlushed({signal:a}).then(function(){if(a.aborted)throw new(d("WAAbortError").AbortError)();f.$44();if(a.aborted)return;var b=f;b=b.scrollContainer;if(b==null)return;var c=b.scrollTop;c=c<C;var e=f.$56();c?f.$14=!0:e&&(f.$14=!1);!f.$10&&b.scrollTop<C&&(f.hasMoreMessagesOnIslandAbove()?f.forceUpdate():f.loadEarlierMsgs());if(f.$10&&b.scrollTop<D)return;b.scrollTop>D&&(f.$10=!1);c=f.state;b=c.isNearBottom;c=c.cursor;e?(f.$24(!0),(c.getEnd(f.props.msgCollection)<f.props.msgCollection.length||!d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props))&&f.$57(),f.hasMoreMessagesOnIslandBelow()?f.forceUpdate():d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props)&&b!==e&&f.setState({isNearBottom:e,newUnread:0})):b!==e&&!f.hasMoreMessagesOnIslandBelow()&&f.setState({isNearBottom:e})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAAbortError").AbortError,c("WAWebNoop")))},100);f.$54=function(){var a=f.state.msgLoadState,b=d("WAWebConversationMsgsUtils").getMsgLoadState(f.props.msgCollection),c={msgLoadState:b};if(a.isLoadingAroundMsgs&&!b.isLoadingAroundMsgs){a=d("WAWebConversationMsgsUtils").validateFocusCtx(f.props.focusCtx);b=a==null?void 0:a.msg;b&&(c=babelHelpers["extends"]({},c,{cursor:f.state.cursor.init(b.id,f.props.msgCollection),focusCtx:a}))}f.setState(c)};f.$21=c("lodash").throttle(function(){f.$44()},100);f.$36=function(a){var b=a.newKey;a=a.oldKey;var c=a.toString(),d=b.toString(),e=f.$3.get(c);e&&(f.$3["delete"](c),f.$3.set(d,e));for(c=0;c<f.$4.length;++c)if(f.$4[c]===a){f.$4[c]=b;break}};f.$22=c("WAWebDebounce")(function(){var a=f.$56();f.state.isNearBottom!==a&&f.setState({isNearBottom:a})},100);f.loadEarlierMsgs=function(){var a,b=f.props,c=b.chat,e=b.msgCollection;b=f.state;var g=b.cursor;b=b.msgLoadState;(a=f.props.interaction)==null||a.startInteraction();(a=f.props.interaction)==null||a.addAnnotation({loadingType:"load_earlier_msgs",surface:d("WAWebChatGetters").getIsNewsletter(f.props.chat)?"newsletters":"chats"});if(g.getStart(e)>0){if(g.hasBefore(e)){(a=f.props.interaction)==null||a.completeInteraction();f.setState({cursor:g.loadBefore(e)})}}else{if(b.isLoadingEarlierMsgs||b.isLoadingAroundMsgs){(a=f.props.interaction)==null||a.addAnnotation({interrupted:"loading_other_msgs"});(a=f.props.interaction)==null||a.completeInteraction();return}d("WAWebConversationMsgsUtils").noEarlierMsgStateIsIncorrect(c,d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props),b)&&(e.msgLoadState.noEarlierMsgs=!1);if(e.msgLoadState.noEarlierMsgs){(a=f.props.interaction)==null||a.addAnnotation({interrupted:"no_earlier_msgs"});(b=f.props.interaction)==null||b.completeInteraction();return}var h=f.props.getUnmountSignal();d("WAWebChatLoadMessages").loadEarlierMsgs(c,e).then(function(a){if(h.aborted){var b;(b=f.props.interaction)==null||b.addAnnotation({interrupted:"aborted"});(b=f.props.interaction)==null||b.completeInteraction();return}!a||a.length===0?f.$10=!0:f.$10=!1;b={};f.state.focusCtx||(b.focusCtx=d("WAWebConversationMsgsUtils").getUnreadFocusCtx(f.props,f.state.unreadCount));g.hasBefore(e)?(b.cursor=g.loadBefore(e),f.setState(b)):f.setState(b);(a=f.props.interaction)==null||a.completeInteraction()})["catch"](function(a){var b;d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["ConversationMsgs:loadEarlierMsgs failed\n",""],["ConversationMsgs:loadEarlierMsgs failed\\n",""])),a);(b=f.props.interaction)==null||b.failInteraction(a)})}};f.$57=function(){var a,b=f.props,e=b.chat,g=b.msgCollection;b=f.state;var h=b.cursor;b=b.msgLoadState;(a=f.props.interaction)==null||a.startInteraction();(a=f.props.interaction)==null||a.addAnnotation({loadingType:"load_recent_msgs",surface:d("WAWebChatGetters").getIsNewsletter(f.props.chat)?"newsletters":"chats"});if(h.getEnd(g)<g.length){(a=f.props.interaction)==null||a.completeInteraction();(a=f.props.interaction)==null||a.addAnnotation({interrupted:"already_loaded"});f.setState({cursor:h.loadAfter(g)});return}if(b.isLoadingRecentMsgs||b.isLoadingAroundMsgs){(a=f.props.interaction)==null||a.addAnnotation({interrupted:"loading_other_msgs"});(b=f.props.interaction)==null||b.completeInteraction();return}a=new AbortController();b=a.signal;var i=f.props.getUnmountSignal();b=c("WARaceSignal")([b,i],function(a){return d("WAWebChatLoadMessages").loadRecentMsgs(e,g,a).then(function(){if(a.aborted){var b;(b=f.props.interaction)==null||b.addAnnotation({interrupted:"aborted"});(b=f.props.interaction)==null||b.completeInteraction();throw new(d("WAAbortError").AbortError)()}h.hasAfter(g)?f.setState({cursor:h.loadAfter(g)}):f.state.cursor.getEnd(g)>=g.length&&d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props)&&f.forceUpdate();(b=f.props.interaction)==null||b.completeInteraction()})})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(a){var b;(b=f.props.interaction)==null||b.failInteraction(a);d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["ConversationMsgs:loadRecentMsgs failed\n",""],["ConversationMsgs:loadRecentMsgs failed\\n",""])),a)})["finally"](function(){f.$8=null});f.$8={promise:b,controller:a}};f.handleComposeHeightChange=function(a){var b=f.scrollContainer;if(!b)return;if(a){if(b&&a<0&&b.scrollTop===b.scrollHeight-b.clientHeight)return;f.$49(b,b.scrollTop+a)}else{var d=b.scrollHeight-(b.scrollTop+b.clientHeight);void c("WAWebVelocityAnimate")(b,{tween:18},{progress:function(){f.$49(b,b.scrollHeight-d-b.clientHeight)},duration:300},[.1,.82,.25,1])}};f.$58=function(){return c("WANullthrows")(f.scrollContainer,"unexpected empty scroll container")};f.getScrollBottom=function(){var a=f.scrollContainer;return!a?0:a.scrollHeight-(a.scrollTop+a.clientHeight)};f.$23=new(d("WAShiftTimer").ShiftTimer)(function(){var a;(a=f.$16.current)==null||a.setVisibility(!1)});f.$19=new(d("WAShiftTimer").ShiftTimer)(function(a){a=a||{};var b=a.dateMarkerIdx;a=a.silent;a=a===void 0?!1:a;var c=f.$17.current;if(!c||typeof b!=="number")return;a=a||Date.now()-(f.$2||0)<200;a||f.$42();a=c.getDateMarkerRef(b);if(b===-1){var e;(e=f.$16.current)==null||e.updateDateMarkerText()}else if(a){var g;e=a.getTimestamp();e=d("WAWebClock").Clock.relativeDateStr(e).toString();(g=f.$16.current)==null||g.updateDateMarkerText(e)}if(f.$7!==b){g=c.getDateMarkerRef(f.$7);g&&g.show();a&&a.hide()}});f.$61=function(){f.$3.forEach(function(a,b){if((a=f.props.chat.groupMetadata)!=null&&a.unreadMentionMetadata.hasMentionId(b)){(a=f.props.chat.groupMetadata)==null||a.unreadMentionMetadata.removeUnreadMentions(b)}})};f.isMsgVisible=function(a,b){b===void 0&&(b=!1);a=a;var c=d("WAWebMsgCollection").MsgCollection.get(a);if(c!=null&&c.isCarouselCard===!0){a=(c=c.parentMsgId)!=null?c:a}return f.$3.has(a.toString())&&(b?!0:f.getMsgComponent(a))};f.getSequentialMsg=function(a){var b=f.getMsgs();return!b?null:c("WAArrayFindNext")(b,function(b){return a.equals(b.id)})};f.$62=function(a){f.$20()};f.$34=function(){var a=f.props.chat;if(f.$5||!a.isDirty()&&!a.hasUnreadEdit())return;a=2500;f.$5=self.setTimeout(function(){f.$5=null,f.$24()},a)};f.$35=function(){if(!f.state.unreadCount||!d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props))return;var a=f.props.chat;a.unreadCount===0&&(f.setState({unreadCount:0}),a.activeUnreadCount=0);a.markedUnread=!1};f.$63=function(){var a=f.props.msgCollection;d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props)&&f.state.cursor.getEnd(a)>=a.length?f.$29():void d("WAWebCmd").Cmd.openChatBottom(f.props.chat).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(f.props.chat)})};f.$64=function(){var a,b=f.props.chat;a=(a=b.groupMetadata)==null?void 0:a.unreadMentionMetadata;if(a){var e=a.pendingUnreadMentionCount,g=d("WAWebMath").roundUp10thPercentage(e,a.getUnreadMentionCount());new(d("WAWebGroupCatchUpWamEvent").GroupCatchUpWamEvent)({mentionsCountPendingPercentage:g}).commit();if(e>0){g=h._(/*BTDS*/"_j{\"*\":\"{count} \\u0040 messages not synced\",\"_1\":\"1 \\u0040 message not synced\"}",[h._plural(e,"count")]);d("WAWebToastManager").ToastManager.open(y.jsx(d("WAWebToast.react").Toast,{msg:g}));a.pendingUnreadMentionCount=0;f.setState({unreadMentionCount:a.getUnreadMentionCount()});return}if(a.unreadMentionCollection.length){e=a.oldestUnreadMention();g=c("WAWebMsgKey").fromString(e==null?void 0:e.id);a=d("WAWebMsgCollection").MsgCollection.get(g.toString());b=d("WAWebChatMessageSearch").getSearchContext(b,(e=a==null?void 0:a.id)!=null?e:g);b.highlightMentionMsg=!0;b.enableAnimation=!1;b&&void d("WAWebCmd").Cmd.openChatAt({chat:f.props.chat,msgContext:b})}}};f.$29=function(a){var b=f.scrollContainer;b&&f.$49(b,b.scrollHeight-b.clientHeight);a&&a();var e=f.props.getUnmountSignal();d("WAWebDocumentFlushed").documentFlushed({signal:e}).then(function(){if(e.aborted)return;f.setState({cursor:f.state.cursor.resetBeforeCursor(f.props.msgCollection)})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAAbortError").AbortError,c("WAWebNoop")))};f.$51=function(a,b){var e=f.props,g=e.msgCollection;e=e.chat;var h=f.state.focusCtx,i=f.state.cursor,j=g.last();if(!d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props)){b&&a&&d("WAWebMsgGetters").getIsSentByMe(a)&&f.$63();return}a={};var k=document.hasFocus(),l=f.$56(),m=l;k&&l?(a.unreadCount=e.activeUnreadCount,e.activeUnreadCount===0&&(a.focusCtx=void 0),i=i.setFocusedMsgKey(g)):j&&d("WAWebMsgGetters").getIsSentByMe(j)&&b&&(m=!0,f.state.unreadCount&&(a.unreadCount=0),a.focusCtx=void 0,i=i.setFocusedMsgKey(g),f.$63());h&&!Object.prototype.hasOwnProperty.call(a,"focusCtx")?i=i.loadAfter(g,{count:1}):i=i.loadBeforeCapped(g,{count:1});i!==f.state.cursor&&(a.cursor=i);c("isEmptyObject")(a)||(f.$11=!0,f.setState(a,function(){b&&f.$28({fetchLastMessage:!1}),f.$11=!1,m&&f.$29(),f.$52()}))};f.$33=function(){f.$6=self.setTimeout(function(){var a;f.state.isNearBottom&&!(d("WAWebChatGetters").getIsNewsletter(f.props.chat)===!0&&((a=f.state.focusCtx)==null?void 0:a.highlightMsg)===!0&&((a=f.state.focusCtx.msg)==null?void 0:a.isLastMessage())!==!0)&&f.$29()},1)};f.$55=function(){var a=f.props.chat;a=(a=(a=a.groupMetadata)==null?void 0:a.unreadMentionMetadata.getUnreadMentionCount())!=null?a:0;f.setState({unreadMentionCount:a})};f.$52=c("WAWebDebounce")(function(){if(f.$11)return;var a=f.props.chat,b=f.$56(),e=document.hasFocus();f.$24(b,e);e={};if(a.unreadCount&&!a.pendingSeenCount&&d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props)){e.unreadCount=a.unreadCount;var g=d("WAWebConversationMsgsUtils").getUnreadFocusCtx(f.props,f.state.unreadCount);if(g&&e.focusCtx!==f.props.focusCtx){e.focusCtx=g;e.cursor=f.state.cursor.setFocusedMsgKey(f.props.msgCollection,(g=g.msg)==null?void 0:g.id)}}else if(a.unreadCount===0&&f.state.unreadCount!==0){g=f.props.msgCollection.last();g&&d("WAWebFrontendMsgGetters").getAsRevoked(g)&&(e.unreadCount=0)}var h=b&&f.state.unreadCount+1===e.unreadCount;(!b&&d("WAWebConversationMsgsUtils").isMostRecentCMC(f.props)||!a.pendingSeenCount&&f.state.newUnread!==a.unreadCount)&&(e.newUnread=a.unreadCount);c("isEmptyObject")(e)||f.setState(e,function(){h&&f.$29()});a.unreadCount===0&&f.state.unreadCount!==0&&(a.activeUnreadCount=f.state.unreadCount)},150);f.$53=function(){if(f.$11)return;var a=f.props.chat;f.setState({unreadCount:a.activeUnreadCount})};f.$50=function(){var a=f.state.cursor.ensureValidFocus(f.props.msgCollection);f.state.cursor!==a?f.setState({cursor:a}):f.forceUpdate()};f.handlePageUpDown=function(a){c("WAWebFocusTracer").focus(f.scrollContainer)};f.scrollMessages=function(){var a=f.$4[f.$4.length-1];if(!a)return;var b=f.$17.current;if(!b)return;a=(b=b.getMsgWrapperRef(a.toString()))==null?void 0:b.getContainerElement();if(!a)return;b=f.$4.length===1?a.clientHeight:0;var d=f.scrollContainer;void c("WAWebVelocityAnimate")(a,"stop");d&&void c("WAWebVelocityAnimate")(d,"stop");void c("WAWebVelocityAnimate")(a,"scroll",{duration:300,container:d,offset:b})};f.$65=function(a){if(a.metaKey||a.ctrlKey)return;a.preventDefault();a.key==="Enter"&&!a.shiftKey?d("WAWebComposeBoxActions").ComposeBoxActions.send(f.props.chat):d("WAWebComposeBoxActions").ComposeBoxActions.paste(f.props.chat,String.fromCharCode(a.charCode))};f.$66=function(a){var e=f.props.chat,g=f.props.onSelectMessages,h;if(b("cr:23046")!=null&&b("cr:23046").isSimplifiedChatConversationMenuEnabled(e))h=d("WAWebConversationMenus").hybridMenu(e,g);else if(d("WAWebContactGetters").getIsUser(e))h=y.jsx(c("WAWebContactMenuDropdown.react"),{chat:e,toContextMenuManager:!0,onSelectMessages:g,enableChatThreadLogging:!1,container:f.scrollContainer});else if(d("WAWebContactGetters").getIsGroup(e))h=d("WAWebConversationMenus").groupMenu(e,g,f.scrollContainer);else if(d("WAWebContactGetters").getIsBroadcast(e))h=d("WAWebConversationMenus").broadcastMenu(e,g);else return;a.preventDefault();a.stopPropagation();d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:e.id}]);f.setState({contextMenu:{menu:h,event:a}})};f.$67=function(){f.setState({contextMenu:null})};f.$68=function(a){a.preventDefault(),d("WAWebComposeBoxActions").ComposeBoxActions.sendPaste(f.props.chat,a)};f.$43=function(){if(!f.props.notifyChatRendered)return;f.props.notifyChatRendered(f.getMsgs())};f.$38=function(){var a=f.props.msgCollection,b=f.state.cursor;b.hasBefore(a)&&f.setState({cursor:b.loadBefore(a)})};f.$39=function(){var a,b=f.props.msgCollection;f.setState({cursor:f.state.cursor.init((a=b.last())==null?void 0:a.id,b)},function(){f.props.chat.unreadCount===0&&f.$63()})};var g=e.chat,i=g.pendingSeenCount?0:g.unreadCount,j=0;if(d("WAWebChatGetters").getIsGroup(g)){j=(g=(g=g.groupMetadata)==null?void 0:g.unreadMentionMetadata.getUnreadMentionCount())!=null?g:0}f.state=babelHelpers["extends"]({},d("WAWebConversationMsgsUtils").getInitialCursorAndFocusContext(e,i),{unreadCount:i,unreadMentionCount:j,isNearBottom:!0,newUnread:0,contextMenu:null,msgLoadState:d("WAWebConversationMsgsUtils").getMsgLoadState(e.msgCollection),lastSelectable:e.selectable,lastChat:e.chat,lastMsgCollection:e.msgCollection,lastFocusCtx:e.focusCtx});return f}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.componentWillUnmount=function(){this.$9!=null&&this.$9();this.$19.cancel();this.$20.cancel();this.$21.cancel();this.$22.cancel();this.$23.cancel();this.$5&&self.clearTimeout(this.$5);this.$6&&self.clearTimeout(this.$6);this.$24();this.props.chat.markedUnread=!1;if(d("WAWebChatGetters").getIsGroup(this.props.chat)){var a;(a=this.props.chat.groupMetadata)==null||a.unreadMentionMetadata.reset()}this.props.chat.activeUnreadCount=0;this.$25()};f.$26=function(){var a=this.props.chat;d("WAWebChatGetters").getIsNewsletter(a)&&d("WAWebNewsletterGatingUtils").isNewsletterReactionEnabled()&&void d("WAWebNewsletterGetMessageUpdatesAction").maybeUpdateMsgsAddOns(a.msgs.getModelsArray(),a)};f.$27=function(){var a=this.props.chat;d("WAWebChatGetters").getIsNewsletter(a)&&void d("WAWebNewsletterLiveUpdatesManager").LiveUpdatesManager.subscribe(a.id)};f.$25=function(){void d("WAWebNewsletterLiveUpdatesManager").LiveUpdatesManager.unsubscribe()};f.componentDidMount=function(){var a=this,b,e=this.props,f=e.chat;e=e.listeners;this.$27();this.$26();this.$28({fetchLastMessage:!0});e.add((b=d("WAWebCmd")).Cmd,"scroll_chat_to_bottom",function(b){a.$29(b)});e.add(b.Cmd,"scroll_messages",this.scrollMessages);e.add(b.Cmd,"scroll_chat_by_height",function(b){a.$30(b)});e.add(b.Cmd,"panes_will_change",this.$31);e.add(b.Cmd,"panes_did_change",this.$32);e.add(b.Cmd,"scroll_to_focused_msg",function(b){a.$1=Date.now(),b()});e.add(b.Cmd,"reaction_changed_last_msg",this.$33);e.add(window,"focus",this.$34);e.add(window,"blur",this.$35);e.add(window,"resize",this.$21);e.add(window,"resize",this.$22);e.add(d("WAWebMsgCollection").MsgCollection,"change:msgKey",this.$36);e.add(b.Cmd,"new_history_sync_chunk_processed",this.$37);e.add(f,"msgs:preloaded",this.$38);e.add(f,"msgs:history_repaired",this.$39);e.add(b.Cmd,"group_notification_context_card_rendered",this.$40);this.$41(this.props);var g=this.props.getUnmountSignal();d("WAWebDocumentFlushed").documentFlushed({signal:g}).then(function(){if(g.aborted)return;a.$42()})["catch"](d("WAFilteredCatch").filteredCatch(d("WAAbortError").AbortError,c("WAWebNoop")));this.props.updateOpenedChatInfo({chat:f});void d("WAWebUpdateUnreadChatAction").sendSeen(f);d("WAWebChatAssignmentUtils").canAssignChats()&&(f.isAssignedToMe&&f.unopenedByAssignedAgent&&void d("WAWebBizChatAssignmentOpenedAction").markChatAsOpened(f,!0));this.$20();this.$43()};e.getDerivedStateFromProps=function(a,b){var c={lastSelectable:a.selectable,lastChat:a.chat,lastMsgCollection:a.msgCollection,lastFocusCtx:a.focusCtx};a.selectable===b.lastSelectable&&(a.chat!==b.lastChat||a.msgCollection!==b.lastMsgCollection||a.focusCtx!==b.lastFocusCtx)&&(c=babelHelpers["extends"]({},c,{msgLoadState:d("WAWebConversationMsgsUtils").getMsgLoadState(a.msgCollection)},d("WAWebConversationMsgsUtils").getInitialCursorAndFocusContext(a,b.unreadCount)));return c};f.shouldComponentUpdate=function(a,b){if(!c("shallowEqual")(a,this.props))return!0;a=this.state;var d=a.msgLoadState;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=b.msgLoadState;b=babelHelpers.objectWithoutPropertiesLoose(b,j);if(!c("shallowEqual")(e,d))return!0;return!c("shallowEqual")(b,a)?!0:!1};f.componentDidUpdate=function(a){a.selectable===this.props.selectable&&(a.chat!==this.props.chat||a.msgCollection!==this.props.msgCollection||a.focusCtx!==this.props.focusCtx)&&(this.$8&&this.$8.controller.abort(),this.$41(this.props));a.chat!==this.props.chat&&(this.$25(),this.$27());var b=this.props.chat;this.$44(a.chat===b);this.props.updateOpenedChatInfo({chat:b});a.msgCollection!==this.props.msgCollection&&(this.$28({fetchLastMessage:!0}),this.$20());this.$43()};f.$28=function(a){a=a.fetchLastMessage;c("WAWebWid").isNewsletter(this.props.chat.id)&&void d("WAWebNewsletterRepairMsgHistoryAction").repairNewsletterMsgHistory({chat:this.props.chat,msgCollection:this.props.msgCollection,unmountSignal:this.props.getUnmountSignal(),fetchLastMessage:a})};f.$47=function(a,b){var c=a.scrollTop,d=a.scrollHeight;a=a.clientHeight;c=d-(c+a);return d-(b.offsetTop+b.clientHeight+c)};f.$48=function(a,b,c){var d=b.offsetTop;b=b.clientHeight;d=d+b+c-a.clientHeight;this.$49(a,d)};f.getRenderedMessageCount=function(){return this.getMsgs().length};f.hasMoreMessagesOnIslandAbove=function(){return!d("WAWebABProps").getABPropConfigValue("web_conversation_messages_island")?!1:this.$12>0};f.hasMoreMessagesOnIslandBelow=function(){if(!d("WAWebABProps").getABPropConfigValue("web_conversation_messages_island"))return!1;var a=this.getRenderedMessageCount();return a>this.$12+F};f.setScrollBottom=function(a){var b=this.scrollContainer;if(!b)return;this.$49(b,b.scrollHeight-a-b.clientHeight)};f.$49=function(a,b){this.$2=Date.now(),a&&(a.scrollTop=b)};f.focus=function(){var a;a=(a=this.state.focusCtx)==null||(a=a.msg)==null?void 0:a.id.toString();if(a!=null){var b,c;b=(b=this.$17.current)==null?void 0:b.getMsgWrapperRef(a);b==null||(c=b.getContainerElement())==null||c.focus()}};f.$42=function(){var a;(a=this.$16.current)==null||a.setVisibility(!0);this.$23.debounce(A)};f.$56=function(){var a=this.scrollContainer;if(!a)return!1;var b=d("WAWebABProps").getABPropConfigValue("web_conversation_messages_island")?3:1;return a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE*b>a.scrollHeight-a.clientHeight};f.getMsgs=function(a){var b=this;a===void 0&&(a=!1);var c=this.props,e=c.focusCtx;c=c.msgCollection;var f=this.state,g=f.cursor;f=f.msgLoadState;if(e&&f.isLoadingAroundMsgs)return[];e=new(d("WAWebChatMsgsCollection").ChatMsgsCollection)();e.set(c.filter(function(a){return d("WAWebViewModeUtils").isViewModeVisibleInSurface(d("WAWebViewMode.flow").ViewModeSurface.CHAT,a.viewMode)}));f=e.toArray().slice(g.getStart(e),g.getEnd(e)).map(function(a){return a.safe()}).filter(function(a){var c;if(d("WAWebGetBrazilnteractiveActions").shouldHideOffsiteCardPayConfirmation(a))return!1;return a.type===d("WAWebMsgType").MSG_TYPE.GP2&&a.subtype==="create"&&!d("WAWebUserPrefsMeUser").isMeAccount((c=b.props.chat.groupMetadata)==null?void 0:c.owner)?!1:!a.pendingDeleteForMe});d("WAWebNonMessageDataRequestPlaceholderMessageResendUtils").handlePlaceholderMsgsSeen(f,a);a&&d("WAWebABProps").getABPropConfigValue("web_conversation_messages_island")&&(f=this.$59(f));return f};f.$59=function(a){var b=this.state.cursor.before+this.state.cursor.after;if(a.length<=F){this.$12=0;this.$13=b;return a}d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMsgs][applyMessagesIsland] msgs len = ",""])),a.length);var c=Math.max(b-this.$13,E),e;if(this.$14)e=Math.max(0,this.$12-c),d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMsgs][applyMessagesIsland] setting new start up ",""])),e);else{var f=Math.max(0,a.length-F);e=Math.min(f,this.$12+c);d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMsgs][applyMessagesIsland] setting new start down ",""])),e)}this.$12=Math.max(0,Math.min(e,a.length-F));d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMsgs][applyMessagesIsland] setting currentIslandStart ",""])),this.$12);this.$13=b;return a.slice(this.$12,this.$12+F)};f.$60=function(a){if(d("WAWebCongratulationsAnimationsGatingUtils").isCongratulationsAnimationsEnabled()){var b,c=d("WAWebFrontendMsgGetters").getChat(a),e=d("WAWebFrontendMsgGetters").getCelebrationAnimationCandidate(a);if(e==null||d("WAWebContactGetters").getIsMe(c.contact))return;b=c.animationCandidateData!=null?a.t>((b=c.animationCandidateData)==null?void 0:b.msgTimestampSeconds):a.t>c.celebrationAnimationLastPlayed;b&&c.setAnimationCandidateData({animationType:e,msgTimestampSeconds:a.t})}};f.$44=function(a){var b=this.$17.current;if(!b){this.$3.clear();return}var e=[],f=b.props.msgs,g=new Map(),h={},i=0,j=f.length-1;while(i<j){var k=Math.floor((i+j)/2),l=f[k].id.toString();l=b.getMsgWrapperRef(l);b.getMsgVisibility(l).visibility===d("WAWebMessagePosition").MSG_VISIBILITY.ABOVE?i=k+1:j=k}for(l=i;l<f.length;l++){k=f[l].id.toString();var m=b.getMsgWrapperRef(k);if(!m){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["msgRef not found!"])));continue}var n=b.getMsgVisibility(m);if(n.visibility!==d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE)break;h[k]={offset:n.offset,t:f[l].t};g.set(k,m);e.push(f[l].id);this.$60(f[l].unsafe())}if(!this.scrollContainer)return;n=this.scrollContainer.scrollTop;i=0;j=Object.keys(b.getRenderedDateMarkers()).length-1;k=b.getDateMarkerRef(0);m=k&&k.getElement();if(m&&m.offsetTop<=n+B)while(i<j){l=Math.ceil((i+j)/2);f=b.getDateMarkerRef(l);if(!f)throw c("err")("DateMarkerRef: "+l+" not found. "+Object.keys(b.getRenderedDateMarkers()).toString()+"}");k=f.getElement();k&&k.offsetTop>n+B?j=l-1:i=l}else i=-1;this.$19.onOrBefore(0,{dateMarkerIdx:i,silent:a});this.$7=i;this.pauseHiddenGifs(this.$3,g);this.$3=g;this.$4=e;d("WAWebChatGetters").getIsGroup(this.props.chat)&&this.$61();this.props.updateOpenedChatInfo({renderedMsgsInfo:h,visibleMsgOrder:e,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0});if(d("WAWebChatGetters").getIsGroup(this.props.chat)){(f=(m=this.props).updateCanShowSpamPanel)==null||f.call(m,!this.checkIfGroupNotificationContextCardDisplayed())}};f.getMsgComponent=function(a){var b=this.$17.current;if(b)return b.getMsgComponentRef(a.toString())};f.pauseHiddenGifs=function(a,b){var c=this;a.forEach(function(a,d){if(b.has(d))return;a=c.props.msgCollection.get(d);if((a==null?void 0:a.isGif)!==!0)return;a=c.$17.current;a=a==null?void 0:a.getMsgComponentRef(d);if((a==null?void 0:a.pause)==null)return;a.pause()})};f.$24=function(a,b){a=a;b=b;var c=this.props,e=c.chat;c=c.msgCollection;var f=this.state.cursor;if(!(e.isDirty()&&d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props)&&f.getEnd(c)>=c.length)&&!e.hasUnreadEdit())return;typeof b==="undefined"&&(b=document.hasFocus());if(!b)return;typeof a==="undefined"&&(a=this.$56());if(!a)return;void d("WAWebUpdateUnreadChatAction").sendSeenDebounced(e);return!0};f.checkIfGroupNotificationContextCardDisplayed=function(){try{var a;return this.$18.current!=null&&((a=this.$17.current)==null?void 0:a.getMsgVisibility(this.$18.current).visibility)===d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE}catch(a){d("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[ConversationMsgs] Error while checking if group notification context card is displayed: ",""])),a).sendLogs("group-notification-context-card-visibility-check-error");return!1}};f.render=function(){var a=this.props,b=a.chat,e=a.msgCollection,f=a.selectable,g=a.onMessageSelect;a=a.bottomBanners;var h=this.state,i=h.focusCtx,j=h.msgLoadState;h=h.unreadMentionCount;var k=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),l=!!i,m=this.getMsgs(!0),n=m.length>0&&d("WAWebMsgGetters").getGroupHistoryBundleMessageKey(m[0])!=null;g=y.jsx(c("WAWebMessageList.react"),{ref:this.$17,getScrollContainer:this.$58,chat:b,unreadCount:this.state.unreadCount,selectable:f,onMessageSelect:g,msgs:m,focusedMsgCtx:i,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,getSequentialMsg:this.getSequentialMsg,isLoadingEarlierMsgs:j.isLoadingEarlierMsgs,isNearBottom:this.state.isNearBottom});m=y.jsx(d("WAWebConversationLoadMoreMessages.react").LoadMoreMessages,{direction:"around",isMostRecentCMC:d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),loadMoreMsgs:c("WAWebNoop"),isLoadingEarlierMsgs:j.isLoadingEarlierMsgs,isLoadingRecentMsgs:j.isLoadingRecentMsgs,isLoadingAroundMsgs:j.isLoadingAroundMsgs,isRepairingMsgHistory:j.isRepairingMsgHistory});var o;(this.state.cursor.getStart(e)>0||!j.noEarlierMsgs||b.endOfHistoryTransferType!=null&&[d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY,d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC,d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY].includes(b.endOfHistoryTransferType)||d("WAWebConversationMsgsUtils").noEarlierMsgStateIsIncorrect(b,d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),j))&&(o=y.jsx(d("WAWebConversationLoadMoreMessages.react").LoadMoreMessages,{direction:"earlier",isMostRecentCMC:d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:j.isLoadingEarlierMsgs,isLoadingRecentMsgs:j.isLoadingRecentMsgs,isLoadingAroundMsgs:j.isLoadingAroundMsgs,mdHistorySyncTransferState:b.endOfHistoryTransferType,isRepairingMsgHistory:j.isRepairingMsgHistory,chatId:b.id}));var p;(this.state.cursor.getEnd(e)<e.length||!d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props)||j.isRepairingMsgHistory)&&(p=y.jsx(d("WAWebConversationLoadMoreMessages.react").LoadMoreMessages,{direction:"recent",isMostRecentCMC:d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props),loadMoreMsgs:this.$57,isLoadingEarlierMsgs:j.isLoadingEarlierMsgs,isLoadingRecentMsgs:j.isLoadingRecentMsgs,isLoadingAroundMsgs:j.isLoadingAroundMsgs,isRepairingMsgHistory:j.isRepairingMsgHistory}));l&&j.isLoadingAroundMsgs?(p=void 0,o=void 0):m=void 0;var q;this.state.contextMenu&&(q=y.jsx(d("WAWebUimUie.react").UIE,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:this.$67,children:y.jsx(c("WAWebUimUieMenu.react"),{contextMenu:this.state.contextMenu})}));i=k?y.jsx("div",babelHelpers["extends"]({},(w||(w=c("stylex"))).props(G.jumpToContainer,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUIRefreshGatingUtils").restrictMessageListWidth()&&G.jumpToContainerPosition),{children:y.jsx(d("WAWebJumpToButtons.react").JumpToButtons,{chat:b,unreadMentionCount:h,newUnread:this.state.newUnread,isNearBottom:this.state.isNearBottom,handleJumpToBottom:this.$63,handleJumpToMention:this.$64,isMostRecentAndNotLoading:!j.isLoadingAroundMsgs&&!d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props)})})):y.jsx(d("WAWebJumpToButtons.react").JumpToButtons,{chat:b,unreadMentionCount:h,newUnread:this.state.newUnread,isNearBottom:this.state.isNearBottom,handleJumpToBottom:this.$63,handleJumpToMention:this.$64,isMostRecentAndNotLoading:!j.isLoadingAroundMsgs&&!d("WAWebConversationMsgsUtils").isMostRecentCMC(this.props)});return y.jsxs(c("WAWebCopyPasteCopyableArea.react"),{className:{0:"",1:"x5yr21d"}[!!k<<0],children:[y.jsx(c("WAWebMessageStickyDateMarker.react"),{ref:this.$16}),i,y.jsxs("div",{className:"x10l6tqk x13vifvy x1o0tod xupqr0c x9f619 x78zum5 xdt5ytf xh8yej3 x5yr21d x6ikm8r x1rife3k xjbqb8w x1ewm37j","data-testid":void 0,ref:this.$15,onScroll:this.$62,onKeyPress:this.$65,onContextMenu:f?null:this.$66,onPaste:this.$68,tabIndex:0,children:[y.jsx("div",babelHelpers["extends"]({},{0:{className:"x12lumcd xx9tyur"},1:{className:"x12lumcd xx9tyur x1q80dvb"}}[!!n<<0])),m,o,g,p,y.jsx("div",{children:a})]}),q]})};return e}(e);a=c("WAWebUnmountSignalHoc_DEPRECATED.react")(d("WAWebListenerHoc_DEPRECATED").ListenerHOC(f));e=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.getRenderedMessageCount=function(){return this.getComponent().getRenderedMessageCount()};c.getScrollBottom=function(){return this.getComponent().getScrollBottom()};c.onComposeHeightChange=function(a){this.getComponent().handleComposeHeightChange(a)};c.onPageUpDown=function(a){this.getComponent().handlePageUpDown(a)};c.setScrollBottom=function(a){this.getComponent().setScrollBottom(a)};c.focus=function(){this.getComponent().focus()};c.checkIfGroupNotificationContextCardDisplayed=function(){return this.getComponent().checkIfGroupNotificationContextCardDisplayed()};return b}(a);g["default"]=e}),226);
__d("WAWebConversationPanel.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={footer:"_amm5"};b=a;g["default"]=b}),98);
__d("WAWebGroupDescriptionBanner.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={body:"_ajvq",text:"_ajvr",hidden:"_ajvs",desc:"_ajvt",more:"_ajvu"};b=a;g["default"]=b}),98);
__d("WAWebGroupDescriptionBanner.react",["fbt","WAWebClassnames","WAWebCmd","WAWebConversationBanner.react","WAWebEmojiText.react","WAWebFormatConfiguration","WAWebGroupDescriptionBanner.scss","WAWebLinkify","WAWebNonEmptyString","WAWebResizeObserver.react","WAWebRichTextInputGatingUtils","WAWebText.react","WAWebUISpacing","WAWebUimUie.react","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l;b=l||d("react");var m=j||(j=c("react")),n=b.useEffect,o=b.useRef,p=b.useState;function q(a,b){a=a==null?void 0:a.split("\n");return a==null?void 0:a.slice(0,b).join("\n")}function r(a){a=(a=a==null?void 0:a.split("\n"))!=null?a:[];return a.length}function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.chat,f=a.onClose,g=d("useWAWebModelValues").useOptionalModelValues(a.groupMetadata,["displayedDesc"]),j=o(null),l=o(null),t=s(g);g=p(function(){return d("WAWebNonEmptyString").asMaybeNonEmptyString(t)});var u=g[0];g=g[1];var v=q(u,1),w=p(!1),x=w[0],y=w[1];w=p(!0);var z=w[0],A=w[1];w=function(){d("WAWebCmd").Cmd.chatInfoDrawer(e,{showFullGroupDescription:!0})};var B=function(a){var b;a=a.height;b=(b=(b=l.current)==null||(b=b.getElement())==null?void 0:b.offsetHeight)!=null?b:0;y(r(u)>1||a<b)};n(function(){var a,b;if(!j.current||!l.current)return;a=(a=(a=j.current)==null?void 0:a.clientHeight)!=null?a:0;b=(b=(b=l.current)==null||(b=b.getElement())==null?void 0:b.offsetHeight)!=null?b:0;y(r(u)>1||a<b);A(!1)},[u]);u!==t&&(g(d("WAWebNonEmptyString").asMaybeNonEmptyString(t)),y(!1),A(!0));if(u==null)return null;g=a.chat.isTrusted()?d("WAWebFormatConfiguration").TrustedGroupDesc({links:d("WAWebLinkify").findLinks(u),bulletPointsEnabled:!0,expandedFormattingEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled()}):d("WAWebFormatConfiguration").UntrustedGroupDesc({bulletPointsEnabled:!0,expandedFormattingEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled()});a=m.jsx("div",{className:c("WAWebGroupDescriptionBanner.scss").more,role:"button",onClick:w,children:h._(/*BTDS*/"Read more")});return m.jsx(d("WAWebUimUie.react").UIE,{displayName:"GroupDesc",escapable:!0,requestDismiss:f,children:m.jsxs(c("WAWebConversationBanner.react"),{ref:b,onClose:f,children:[m.jsx(d("WAWebText.react").WAWebTextTitle,{children:h._(/*BTDS*/"Group description")}),m.jsx(c("WAWebResizeObserver.react"),{ref:j,onResize:B,className:c("WAWebGroupDescriptionBanner.scss").body,children:m.jsx(d("WAWebText.react").WAWebTextSmall,{as:"span",children:m.jsxs("span",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((w={},w[c("WAWebGroupDescriptionBanner.scss").hidden]=z,w[c("WAWebGroupDescriptionBanner.scss").text]=!0,w)),children:[m.jsx(d("WAWebEmojiText.react").EmojiText,{ref:l,text:v,selectable:!0,formatters:g,className:c("WAWebGroupDescriptionBanner.scss").desc,multiline:!0}),x&&m.jsxs(m.Fragment,{children:[m.jsx("span",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(d("WAWebUISpacing").uiMargin.top1),{children:"..."})),a]})]})})})]})})}a.displayName=a.name+" [from "+f.id+"]";function s(a){return a==null?void 0:a.displayedDesc}g["default"]=a}),226);
__d("WAWebWamEnumMetaAiUpsellCtaOperationType",[],(function(a,b,c,d,e,f){a=Object.freeze({IMPRESSION:1,BUTTON_CLICK:2,DISMISS:3});f.META_AI_UPSELL_CTA_OPERATION_TYPE=a}),66);
__d("WAWebWamEnumMetaAiUpsellCtaSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({PERSISTENT_CHAT_BANNER:1});f.META_AI_UPSELL_CTA_SOURCE_TYPE=a}),66);
__d("WAWebMetaAiUpsellCtaWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMetaAiUpsellCtaOperationType","WAWebWamEnumMetaAiUpsellCtaSourceType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({MetaAiUpsellCta:[6532,{metaAiUpsellCtaOperation:[1,d("WAWebWamEnumMetaAiUpsellCtaOperationType").META_AI_UPSELL_CTA_OPERATION_TYPE],metaAiUpsellCtaSource:[2,d("WAWebWamEnumMetaAiUpsellCtaSourceType").META_AI_UPSELL_CTA_SOURCE_TYPE]},[1,1,1],"regular"]},{MetaAiUpsellCta:[]});g.MetaAiUpsellCtaWamEvent=a}),98);
__d("WAWebLogMetaAICtaUpsellOperation",["WAWebBotGating","WAWebMetaAiUpsellCtaWamEvent","WAWebWamEnumMetaAiUpsellCtaSourceType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("WAWebBotGating").isAiChatPersistentMetaAIBannerLoggingEnabled())return;a=new(d("WAWebMetaAiUpsellCtaWamEvent").MetaAiUpsellCtaWamEvent)({metaAiUpsellCtaOperation:a,metaAiUpsellCtaSource:d("WAWebWamEnumMetaAiUpsellCtaSourceType").META_AI_UPSELL_CTA_SOURCE_TYPE.PERSISTENT_CHAT_BANNER});a.commit()}g.logMetaAICtaUpsellOperation=a}),98);
__d("WAWebMetaAIBannerSessionTracker",["WALogger","WAWebSessionStorage"],(function(a,b,c,d,e,f,g){var h,i,j="wa_web_meta_ai_banner_session";function a(a){try{if(c("WAWebSessionStorage")!=null){var b=c("WAWebSessionStorage").getItem(j);if(b!=null&&b!==""){b=JSON.parse(b);return b.dismissedBanners.includes(a)}}}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to get custom label from cache: ",""])),String(a))}return!1}function b(a){try{if(c("WAWebSessionStorage")!=null){var b=c("WAWebSessionStorage").getItem(j),e={dismissedBanners:[]};b!=null&&b!==""&&(e=JSON.parse(b));e.dismissedBanners.includes(a)||(e.dismissedBanners.push(a),c("WAWebSessionStorage").setItem(j,JSON.stringify(e)))}}catch(a){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to set custom label from cache: ",""])),String(a))}}e={META_AI_CTA_BANNER:"MetaAICTABanner",META_AI_GLASSES_CTA_BANNER:"MetaAIGlassesCTABanner"};g.hasMetaAIBannerBeenDismissed=a;g.markMetaAIBannerDismissed=b;g.MetaAIBannerTypes=e}),98);
__d("WAWebMetaAICTABanner.react",["fbt","WAHttpUtils","WAWebBotGating","WAWebBotProfileGetters","WAWebConversationBanner.react","WAWebExternalLink.react","WAWebFlex.react","WAWebFlexItem.react","WAWebIcOpenInNewIcon.react","WAWebLogMetaAICtaUpsellOperation","WAWebMetaAIBannerSessionTracker","WAWebNux","WAWebStopEvent","WAWebText.react","WAWebUISpacing","WAWebUimUie.react","WAWebUseBotProfileValues","WAWebWamEnumMetaAiUpsellCtaOperationType","WAWebWdsIcAiFilledIcon.react","WDSHoverStateStyles","react","useMergeRefs","useVisibility","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useMemo,m=e.useRef,n=e.useState,o="https://www.meta.ai",p="ww_maib",q={banner:{backgroundColor:"x1h3rtpe",$$css:!0},icon:{color:"xhslqc4",$$css:!0},row:{columnGap:"x1vg3z9j",$$css:!0},iconContainer:{width:"xvy4d1p",height:"xxk0z11",$$css:!0},underline:{textDecoration:"x1bvjpef",$$css:!0}};function r(){var a=d("WAHttpUtils").buildUrl(o,"/",{utm_source:p});return a}function a(a){a=a.ref;var b=n(!1),e=b[0];b=b[1];var f=m(!1),g=c("useWAWebNux")(d("WAWebNux").NUX.META_AI_CTA_BANNER),i=g[1];g=d("WAWebBotGating").isAiChatBannerM2Enabled();var j=function(){f.current||(d("WAWebLogMetaAICtaUpsellOperation").logMetaAICtaUpsellOperation(d("WAWebWamEnumMetaAiUpsellCtaOperationType").META_AI_UPSELL_CTA_OPERATION_TYPE.IMPRESSION),f.current=!0)},o=c("useVisibility")({onVisible:function(){j()}});o=o[0];a=c("useMergeRefs")(a,o);var p=l(function(){return r()},[]);o=function(a){d("WAWebStopEvent").stopEvent(a),d("WAWebLogMetaAICtaUpsellOperation").logMetaAICtaUpsellOperation(d("WAWebWamEnumMetaAiUpsellCtaOperationType").META_AI_UPSELL_CTA_OPERATION_TYPE.BUTTON_CLICK),d("WAWebExternalLink.react").openExternalLink(p)};var s=function(){d("WAWebLogMetaAICtaUpsellOperation").logMetaAICtaUpsellOperation(d("WAWebWamEnumMetaAiUpsellCtaOperationType").META_AI_UPSELL_CTA_OPERATION_TYPE.DISMISS),i(),d("WAWebMetaAIBannerSessionTracker").markMetaAIBannerDismissed(d("WAWebMetaAIBannerSessionTracker").MetaAIBannerTypes.META_AI_CTA_BANNER)},t=g?d("WAWebIcOpenInNewIcon.react").IcOpenInNewIcon:d("WAWebWdsIcAiFilledIcon.react").WdsIcAiFilledIcon;return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"MetaAICTABanner>",children:k.jsx(c("WAWebConversationBanner.react"),{ref:a,xstyle:[d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.vert8,q.banner,e&&d("WDSHoverStateStyles").WDSHoverStateStyles.genericHoverPersistent],onClick:o,onHoverChange:b,onClose:d("WAWebBotGating").isAiChatBannerM2Enabled()?s:void 0,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:q.row,children:[k.jsx(c("WAWebFlexItem.react"),{padding:8,shrink:0,children:k.jsx(t,{width:24,height:24,iconXstyle:q.icon})}),k.jsx(c("WAWebFlexItem.react"),{grow:1,children:k.jsx(d("WAWebText.react").WAWebTextSectionTitle,{color:"wdsContentDeemphasized",children:h._(/*BTDS*/"On Meta AI web you can organize your Meta AI chats by topic, create AI-powered docs and more. {=m2}",[h._implicitParam("=m2",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:p,xstyle:e&&q.underline,children:h._(/*BTDS*/"Try it")}))])})}),!g&&k.jsx(c("WAWebFlexItem.react"),{padding:8,shrink:0,xstyle:q.iconContainer,children:k.jsx(d("WAWebIcOpenInNewIcon.react").IcOpenInNewIcon,{width:24,height:24,iconXstyle:q.icon})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=d("WAWebUseBotProfileValues").useOptionalBotProfileValues(a.id,[d("WAWebBotProfileGetters").getIsDefault]);a=a[0];var b=c("useWAWebNux")(d("WAWebNux").NUX.META_AI_CTA_BANNER);b=b[0];return a===!0&&b&&d("WAWebBotGating").isAiChatPersistentMetaAIBannerEnabled()}g.MetaAICTABanner=a;g.useMetaAICTABanner=b}),226);
__d("WAWebSmartGlassesIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="smart-glasses";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M9.83665 7.92583C8.05618 7.42395 6.19883 7.25251 4.35658 7.41998L0.909464 7.73336C0.394385 7.78018 0 8.21205 0 8.72925V9.82922C0 10.2746 0.291188 10.652 0.69358 10.7814C0.705244 10.8479 0.717553 10.917 0.730456 10.9883C0.832119 11.55 0.97638 12.2762 1.13714 12.8492C1.2568 13.2758 1.43222 13.7508 1.60332 14.1774C2.13733 15.5085 3.36556 16.3604 4.71621 16.5422L5.13407 16.5985C6.72502 16.8126 8.31858 16.2236 9.38773 15.0261C9.89169 14.4617 10.2562 13.7869 10.452 13.056L10.9873 11.0573C11.1103 10.5984 11.5262 10.2793 12.0013 10.2793C12.4763 10.2794 12.8921 10.5985 13.015 11.0573L13.5504 13.0563C13.7462 13.7872 14.1107 14.462 14.6147 15.0264C15.6838 16.2238 17.2774 16.8129 18.8683 16.5987L19.2862 16.5425C20.6368 16.3607 21.8651 15.5087 22.3991 14.1776C22.5702 13.7511 22.7456 13.276 22.8653 12.8495C23.026 12.2764 23.1703 11.5503 23.2719 10.9886C23.2848 10.9173 23.2972 10.8481 23.3088 10.7816C23.7112 10.6522 24.0024 10.2749 24.0024 9.82952V8.7295C24.0024 8.21229 23.608 7.78043 23.0929 7.7336L19.6458 7.42023C17.8036 7.25275 15.9462 7.4242 14.1657 7.92607L13.7872 8.03277C13.2255 8.1911 12.6454 8.27395 12.062 8.27922C11.4113 8.27753 10.7638 8.18717 10.1374 8.0106L9.83665 7.92583ZM2.73796 10.7076C2.63868 10.1182 3.05593 9.54652 3.6511 9.49237L4.53765 9.41177C5.76009 9.30064 6.99019 9.36144 8.19228 9.59092C8.77981 9.70302 9.11907 10.3023 8.96431 10.8801L8.52009 12.5385C8.40526 12.9673 8.19145 13.363 7.89586 13.6941C7.26875 14.3965 6.33405 14.742 5.40089 14.6164L4.98303 14.5601C4.2742 14.4647 3.69923 14.0302 3.45953 13.4327C3.29904 13.0327 3.15402 12.6342 3.06281 12.3091C2.91489 11.7818 2.82836 11.2442 2.73796 10.7076ZM21.2644 10.7078C21.174 11.2444 21.0875 11.782 20.9396 12.3093C20.8484 12.6344 20.7034 13.0329 20.5429 13.433C20.3032 14.0305 19.7282 14.4649 19.0194 14.5603L18.6015 14.6166C17.6683 14.7422 16.7336 14.3967 16.1065 13.6944C15.8109 13.3633 15.5971 12.9675 15.4823 12.5388L15.0381 10.8804C14.8833 10.3026 15.2226 9.70332 15.8101 9.59112C17.0122 9.36169 18.2423 9.30088 19.4647 9.41201L20.3513 9.49261C20.9465 9.54672 21.3637 10.1185 21.2644 10.7078Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SmartGlassesIcon=a}),98);
__d("WAWebMetaAIGlassesCTABanner.react",["fbt","WAHttpUtils","WAWebBotGating","WAWebBotProfileGetters","WAWebConversationBanner.react","WAWebExternalLink.react","WAWebFlex.react","WAWebFlexItem.react","WAWebMetaAIBannerSessionTracker","WAWebMetaAICTABanner.react","WAWebNux","WAWebNuxCoolOff","WAWebSmartGlassesIcon.react","WAWebStopEvent","WAWebText.react","WAWebUimUie.react","WAWebUseBotProfileValues","WAWebWamEnumBannerTypes","WDSHoverStateStyles","react","useMergeRefs","useVisibility"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useMemo,m=e.useRef,n=e.useState,o="https://www.meta.com",p="/ai-glasses/shop-all",q={COOL_OFF_DURATION_IN_DAYS:3,VIEWS_BEFORE_COOL_OFF_IN_DAYS:1,MAX_VIEWS_IN_DAYS:3,MAX_CLICKS:3,COOL_OFF_START_STORAGE_KEY:d("WAWebNux").CoolOffPeriodKeys.META_AI_GLASSES_CTA_BANNER,metricField:d("WAWebWamEnumBannerTypes").BANNER_TYPES.WEB_META_AI_GLASSES_CTA_BANNER},r={banner:{backgroundColor:"x1h3rtpe",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},icon:{color:"xhslqc4",$$css:!0},row:{columnGap:"x1vg3z9j",$$css:!0},underline:{textDecoration:"x1bvjpef",$$css:!0}};function s(){var a=d("WAHttpUtils").buildUrl(o,p,{utm_campaign:"meta_ai_glasses_web_banner",utm_medium:"growth_social",utm_source:"whatsapp",utm_placement:"meta_ai_glasses_web_banner",utm_content:"shop_now_cta"});return a}function a(a){a=a.ref;var b=n(!1),e=b[0];b=b[1];var f=n(!1),g=f[0],i=f[1],j=m(!1),o=new(d("WAWebNuxCoolOff").CoolOffNux)(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.META_AI_GLASSES_CTA_BANNER,q),p=function(){j.current||(o.show(),j.current=!0)};f=c("useVisibility")({onVisible:function(){p()}});f=f[0];a=c("useMergeRefs")(a,f);var t=l(function(){return s()},[]);f=function(a){d("WAWebStopEvent").stopEvent(a),o.click(),d("WAWebExternalLink.react").openExternalLink(t)};var u=function(){o.dismiss(),i(!0)};if(g)return null;g=d("WAWebMetaAIBannerSessionTracker").hasMetaAIBannerBeenDismissed(d("WAWebMetaAIBannerSessionTracker").MetaAIBannerTypes.META_AI_CTA_BANNER);return g?null:k.jsx(d("WAWebUimUie.react").UIE,{displayName:"MetaAIGlassesCTABanner>",children:k.jsx(c("WAWebConversationBanner.react"),{ref:a,xstyle:[r.banner,e&&d("WDSHoverStateStyles").WDSHoverStateStyles.genericHoverPersistent],onClick:f,onHoverChange:b,onClose:u,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:r.row,children:[k.jsx(c("WAWebFlexItem.react"),{padding:8,shrink:0,children:k.jsx(d("WAWebSmartGlassesIcon.react").SmartGlassesIcon,{width:24,height:24,iconXstyle:r.icon})}),k.jsx(c("WAWebFlexItem.react"),{grow:1,children:k.jsx(d("WAWebText.react").WAWebTextSectionTitle,{color:"wdsContentDeemphasized",children:h._(/*BTDS*/"You can take Meta AI with you on-the-go with AI glasses. {=m2}",[h._implicitParam("=m2",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:t,xstyle:e&&r.underline,children:h._(/*BTDS*/"See styles")}))])})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=d("WAWebUseBotProfileValues").useOptionalBotProfileValues(a.id,[d("WAWebBotProfileGetters").getIsDefault]);b=b[0];a=d("WAWebMetaAICTABanner.react").useMetaAICTABanner(a);return b===!0&&d("WAWebNuxCoolOff").shouldShowNUX(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.META_AI_GLASSES_CTA_BANNER,q)&&!a&&d("WAWebBotGating").isAiChatMetaAIGlassesBannerEnabled()}g.MetaAIGlassesCTABanner=a;g.useMetaAIGlassesCTABanner=b}),226);
__d("useWAWebNewsletterGeosuspendedCountries",["Promise","WAWebCountriesUtils","asyncToGeneratorRuntime","react","useWAWebEventTargetValue","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function a(a){var e=k(null),f=e[0],g=e[1];e=d("useWAWebModelValues").useModelValues(a,["newsletterMetadata"]);var i=d("useWAWebModelValues").useOptionalModelValues(e.newsletterMetadata,["geosuspendedCountries"]),l=c("useWAWebEventTargetValue")(i==null?void 0:i.geosuspendedCountries,["add","remove","reset","change"],function(){return i==null?void 0:i.geosuspendedCountries.toArray()});j(function(){function a(){return c.apply(this,arguments)}function c(){c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l==null)return;var a=(yield (h||(h=b("Promise"))).all(l.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return{countryCode:a.id,countryName:(a=(yield d("WAWebCountriesUtils").getCountryNameFromCountryCode(a.id)))!=null?a:""}});return function(b){return a.apply(this,arguments)}}())));g(a)});return c.apply(this,arguments)}void a()},[l]);return f}g.useNewsletterGeosuspendedCountries=a}),98);
__d("useWAWebNewsletterHasProfilePictureDeletionAlerts",["useWAWebEventTargetValue","useWAWebModelValues"],(function(a,b,c,d,e,f,g){function a(a){var b=d("useWAWebModelValues").useModelValues(a,["newsletterMetadata"]);a=c("useWAWebEventTargetValue")(b.newsletterMetadata,["change:hasProfilePictureDeletionAlerts"],function(){var a;return((a=b.newsletterMetadata)==null?void 0:a.hasProfilePictureDeletionAlerts)===!0});return a}g.useWAWebNewsletterHasProfilePictureDeletionAlerts=a}),98);
__d("useWAWebNewsletterIsSuspended",["useWAWebEventTargetValue","useWAWebModelValues"],(function(a,b,c,d,e,f,g){function a(a){var b=d("useWAWebModelValues").useModelValues(a,["newsletterMetadata"]);a=c("useWAWebEventTargetValue")(b.newsletterMetadata,["change:suspended"],function(){var a;return((a=b.newsletterMetadata)==null?void 0:a.suspended)===!0});return a}g.useNewsletterIsSuspended=a}),98);
__d("useWAWebNewsletterMessageDeliveryUpdates",["useWAWebEventTargetValue","useWAWebModelValues"],(function(a,b,c,d,e,f,g){function a(a){a=d("useWAWebModelValues").useModelValues(a,["newsletterMetadata"]);var b=d("useWAWebModelValues").useOptionalModelValues(a.newsletterMetadata,["messageDeliveryUpdates"]);a=c("useWAWebEventTargetValue")(b==null?void 0:b.messageDeliveryUpdates,["add","remove","reset","change"],function(){return b==null?void 0:b.messageDeliveryUpdates.toArray()});return a}g.useNewsletterMessageDeliveryUpdates=a}),98);
__d("WAWebNewsletterChannelAlertsBanner.react",["fbt","WAWebConversationBanner.react","WAWebDrawerManager","WAWebEnforcementActionLogging","WAWebFlex.react","WAWebFlexItem.react","WAWebNewsletterEnforcementAlertFlowLoadable","WAWebNewsletterMembershipUtil","WAWebNux","WAWebSvgComponentBase","WAWebText.react","WAWebUISpacing","WAWebUimUie.react","WAWebWamEnumInteractionEntryPoint","WAWebWamEnumInteractionSurface","WAWebWarningIcon.react","react","useWAWebModelValues","useWAWebNewsletterGeosuspendedCountries","useWAWebNewsletterHasProfilePictureDeletionAlerts","useWAWebNewsletterIsSuspended","useWAWebNewsletterMessageDeliveryUpdates","useWAWebNux","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k=j||c("react"),l={banner:{backgroundColor:"x150wa6m",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.onClose,f=a.newsletter,g=c("useWAWebUIM")();a=function(){c("WAWebEnforcementActionLogging").isSessionStarted()||c("WAWebEnforcementActionLogging").startEnforcementSession(d("WAWebWamEnumInteractionEntryPoint").INTERACTION_ENTRY_POINT.ALERT_BANNER,f.id.toString(),d("WAWebWamEnumInteractionSurface").INTERACTION_SURFACE.NEWSLETTER_CONVERSATION_SCREEN),c("WAWebEnforcementActionLogging").logAlertBannerDismissClick(),e()};var j=function(){c("WAWebEnforcementActionLogging").startEnforcementSession(d("WAWebWamEnumInteractionEntryPoint").INTERACTION_ENTRY_POINT.ALERT_BANNER,f.id.toString(),d("WAWebWamEnumInteractionSurface").INTERACTION_SURFACE.NEWSLETTER_CONVERSATION_SCREEN),c("WAWebEnforcementActionLogging").logChannelAlertsClick(),d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebNewsletterEnforcementAlertFlowLoadable").WAWebNewsletterEnforcementAlertFlowLoadable,{chat:f,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},onBack:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}}),{transition:"slide-left",uim:g})};return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"NewsletterChannelAlertsBanner",escapable:!0,children:k.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:l.banner,onClick:j,onClose:a,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end20,children:k.jsx(d("WAWebWarningIcon.react").WarningIcon,{width:20,height:20,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.CRITICAL})}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebText.react").WAWebTextSectionTitle,{color:"primary",children:h._(/*BTDS*/"Channel alerts")})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b,e,f=d("useWAWebModelValues").useModelValues(a,["id","newsletterMetadata"]),g=d("useWAWebModelValues").useOptionalModelValues(f.newsletterMetadata,["membershipType"]),h=f.id;b=(b=d("useWAWebNewsletterMessageDeliveryUpdates").useNewsletterMessageDeliveryUpdates(f))!=null?b:[];e=(e=d("useWAWebNewsletterGeosuspendedCountries").useNewsletterGeosuspendedCountries(f))!=null?e:[];f=d("useWAWebNewsletterIsSuspended").useNewsletterIsSuspended(f);h=d("WAWebNux").getNewsletterAlertsBannerNuxKey(h.toString());h=c("useWAWebNux")(h);var i=h[0];h=h[1];b=b.length>0;e=e.length>0;a=d("useWAWebNewsletterHasProfilePictureDeletionAlerts").useWAWebNewsletterHasProfilePictureDeletionAlerts(a);i=i&&d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(g)&&(b||e||f||a);return[i,h]}g.NewsletterChannelAlertsBanner=a;g.useNewsletterChannelAlertsBanner=b}),226);
__d("WAWebDashes.react",["fbt","WAWebFlex.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={dashContainer:{height:"x10w6t97",width:"xfo62xy",$$css:!0},dash:{height:"x5yr21d",width:"xfo62xy",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",backgroundColor:"xs7vtfe",$$css:!0},active:{backgroundColor:"x3l9nec",$$css:!0}};function m(a){a=a.active;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.dash,d("WAWebUISpacing").marginTop2,a&&l.active])))}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.activeIndex;a=a.count;var e=[];for(var f=0;f<a;f++)e.push(k.jsx(m,{active:f===b},"dash-"+f));return k.jsx(d("WAWebFlex.react").FlexColumn,{"aria-label":h._(/*BTDS*/"{current} out of {total}",[h._param("current",b+1),h._param("total",a)]),className:(j||(j=c("stylex")))([l.dashContainer]),children:e})}a.displayName=a.name+" [from "+f.id+"]";g.Dashes=a}),226);
__d("WAWebPinned3Icon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="pinned3";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M16 11L18 13V15H13V21L12 22L11 21V15H6V13L8 11V4H7V2H17V4H16V11Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.Pinned3Icon=a}),98);
__d("WAWebPinnedMessagesBannerBody.react",["WAFilteredCatch","WALogger","WAReplaceRepeatingWhitespace","WAWebABProps","WAWebBaseCollection","WAWebChatMsgSymbol.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFormatConfiguration","WAWebFormatMsgText","WAWebFrontendMsgGetters","WAWebL10N","WAWebMediaMsgPreview.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgModelPropUtils","WAWebName.react","WAWebPinInChatCollection","WAWebText.react","WAWebUISpacing","WAWebVelocityTransitionGroup","WAWebWamEnumWebcRmrReasonCode","react","useWAWebAsync","useWAWebListener","useWAWebModelValues","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=k||c("react"),m=(j||(j=d("react"))).useEffect;function a(a){var b=a.pinInChat;a=c("useWAWebAsync")(function(){return d("WAWebMsgCollection").MsgCollection.hydrateOrGetMessages([b.parentMsgKey.toString()])["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBaseCollection").CollectionSilentQueryError,function(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Removing pin in chat with id '","': ",""])),b.id,a.message);d("WAWebPinInChatCollection").PinInChatCollection.remove(b.id);return[]}))},[b]);if(a.loading)return null;if(a.error){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to hydrate pin in chat parent message with id '","': ",""])),b.parentMsgKey,a.error.message);return null}a=(a=a.value)==null?void 0:a[0];return a!=null&&l.jsx(o,{msg:a})}a.displayName=a.name+" [from "+f.id+"]";var n={text:{fontSize:"x1f6kntn",lineHeight:"x1fc57z9",display:"x1rg5ohu",color:"xhslqc4",$$css:!0},content:{height:"x5yr21d",whiteSpace:"xuxw1ft",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",$$css:!0},mediaPreview:{minWidth:"x900493",width:"x1useyqa",height:"xsdox4t",$$css:!0},authorName:{whiteSpace:"xuxw1ft",$$css:!0}};function o(a){var b;a=a.msg;b=d("useWAWebMsgValues").useMsgValues(a.id,[d("WAWebFrontendMsgGetters").getSenderObj,d("WAWebFrontendMsgGetters").getDir,d("WAWebFrontendMsgGetters").getRtl,(b=d("WAWebMsgGetters")).getIsGroupMsg,b.getLatestEditMsgKey,b.getAck,b.getType]);var e=b[0],f=b[1],g=b[2],h=b[3];b[4];b[5];b=b[6];d("useWAWebListener").useListener(a,"change:msgKey",function(a){a=a.oldKey;d("WAWebPinInChatCollection").PinInChatCollection.deleteByParentMessageKey(a)});var i=[];h&&i.push(l.jsxs("div",{className:"x78zum5 x11lfxj5",children:[l.jsx(d("WAWebText.react").WAWebTextMuted,{color:"wdsContentDeemphasized",weight:"semibold",children:l.jsx(d("WAWebName.react").ContactName,{xstyle:n.authorName,contact:e,useShortName:!0})},e.id.toString()),l.jsx(d("WAWebText.react").WAWebTextMuted,{children:":"})]}));d("WAWebMsgModelPropUtils").hasSymbol(a.unsafe())&&i.push(l.jsx(c("WAWebChatMsgSymbol.react"),{msg:a.unsafe()},"msg-symbol"));h=c("WAWebFormatMsgText")({msg:a,options:{unformat:!1}}).toString();i.push(l.jsx(d("WAWebEmojiText.react").EmojiText,{xstyle:[n.text,d("WAWebUISpacing").uiPadding.end28],direction:f,text:c("WAReplaceRepeatingWhitespace")(h,!0),dirMismatch:g!==c("WAWebL10N").isRTL(),ellipsify:!0,inlineblock:!0,formatters:d("WAWebFormatConfiguration").InlineMessage({mentions:a.mentionMap(),groupMentions:a.groupMentionMap()})},"text"));d("WAWebMediaMsgPreview.react").isMediaTypeWithImage(b)&&d("WAWebABProps").getABPropConfigValue("pinned_messages_m2_image_thumbnail")&&i.push(l.jsx(p,{msg:a}));return l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pin-message",children:l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:n.content,align:"center",children:i},a.id)})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.msg;a=d("useWAWebMsgValues").useMsgValues(b.id,[d("WAWebFrontendMsgGetters").getMediaData]);a=a[0];var c=d("useWAWebModelValues").useModelValues(a,["preview","fullPreviewData"]),e=c.preview;c=c.fullPreviewData;m(function(){void b.downloadMedia({downloadEvenIfExpensive:!1,isUserInitiated:!1,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.OTHER})},[b]);e=e!=null||c!=null;return!e?null:l.jsx(d("WAWebFlex.react").FlexItem,{xstyle:n.mediaPreview,children:l.jsx(d("WAWebMediaMsgPreview.react").MediaMsgPreview,{mediaData:a},"media-preview")})}p.displayName=p.name+" [from "+f.id+"]";g.PinnedMessagesBannerBody=a}),98);
__d("WAWebPinnedMessagesBanner.react",["fbt","WALogger","WAWebArrowForwardRefreshedIcon","WAWebChatMessageSearch","WAWebCmd","WAWebConversationBanner.react","WAWebDashes.react","WAWebFlex.react","WAWebFlexItem.react","WAWebMsgCollection","WAWebPinInChatCollection","WAWebPinInChatMetricUtils","WAWebPinMsgGatingUtils","WAWebPinRefreshedIcon.react","WAWebPinned3Icon.react","WAWebPinnedMessagesBannerBody.react","WAWebPinnedMessagesUserJourneyLogger","WAWebProtobufsE2E.pb","WAWebSendPinMessageAction","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebUnpinRefreshedIcon.react","WDSHoverStateStyles","react","stylex","useWAWebListener","useWAWebPinnedMessages"],(function(a,b,c,d,e,f,g,h){var i,j=["ref"],k,l,m;e=m||d("react");var n=k||(k=c("react")),o=e.useMemo,p=e.useState,q={banner:{minHeight:"xuwdbiy",$$css:!0},bannerLegacyUi:{backgroundColor:"x150wa6m",cursor:"x1ypdohk",":hover_backgroundColor":"x1z0qo99",$$css:!0},bannerUiRefresh:{backgroundColor:"x1h3rtpe",$$css:!0},iconWrapper:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},icon:{display:"x1rg5ohu",color:"xhslqc4",$$css:!0},bannerBody:{height:"xsdox4t",width:"xh8yej3",$$css:!0},clearMinWidth:{minWidth:"xaaagfd",$$css:!0},dashContainer:{width:"xfo62xy",$$css:!0}};function r(){var a=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebPinRefreshedIcon.react").PinRefreshedIcon:d("WAWebPinned3Icon.react").Pinned3Icon;return n.jsx("div",babelHelpers["extends"]({},(l||(l=c("stylex"))).props([q.iconWrapper,d("WAWebUISpacing").uiPadding.start6,d("WAWebUISpacing").uiPadding.end8]),{children:n.jsx(a,{xstyle:q.icon,"aria-hidden":!0})}))}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,j);var e=a.chat,f=c("useWAWebPinnedMessages")(e);a=p(function(){return f.length>0?f.length-1:null});var g=a[0],k=a[1];a=p(!1);var l=a[0];a=a[1];g!=null&&g>f.length-1&&f.length>0&&k(f.length-1);var m=g==null?null:f[g];d("useWAWebListener").useListener(d("WAWebPinInChatCollection").PinInChatCollection,["add","remove","change"],function(){f.length>0&&k(f.length-1)});var s=o(function(){if(f.length>0&&m!=null){var a=m==null?void 0:m.parentMsgKey;if(a)return d("WAWebMsgCollection").MsgCollection.get(a)}},[f,m]),t=function(){var a=f.length,b=a-1-(g!=null?g:0);d("WAWebPinInChatMetricUtils").logPinInChatTapOnBanner({msg:s,chat:e,pin:m,pinCount:a,pinIndex:b})},u=function(){f.length>0&&k(function(a){return a==null?f.length-1:(a+1)%f.length})},v=function(){if(m!=null){var a,b=m.parentMsgKey;a=d("WAWebChatMessageSearch").getSearchContext(e,(a=s==null?void 0:s.id)!=null?a:b,null);a&&(a.slideToMsg=!0);void d("WAWebCmd").Cmd.openChatAt({chat:e,msgContext:a,onSuccess:{mediaMsgToOpenInMediaViewer:s}})}},w=function(){u();if(m!=null){var a=d("WAWebMsgCollection").MsgCollection.get(m.parentMsgKey);a&&(new(d("WAWebPinnedMessagesUserJourneyLogger").PinnedMessagesUserJourneyLogger)(e).pinBannerClickUnpin(a,m),d("WAWebSendPinMessageAction").sendPinInChatMsg(a,d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.UNPIN_FOR_ALL)["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error while unpinning a message: ",""])),a)}))}},x=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();w=[{content:h._(/*BTDS*/"Unpin"),onClick:w,icon:x?n.jsx(d("WAWebUnpinRefreshedIcon.react").UnpinRefreshedIcon,{}):null},{content:h._(/*BTDS*/"Go to message"),onClick:v,icon:x?n.jsx(d("WAWebArrowForwardRefreshedIcon").ArrowForwardRefreshedIcon,{}):null}];var y=function(a){a.stopPropagation(),v(),u(),t()},z=d("WAWebPinMsgGatingUtils").isPinnedMessagesM2Enabled()&&f.length>1;z=n.jsx(c("WAWebFlexItem.react"),{xstyle:q.dashContainer,children:z?n.jsx(d("WAWebDashes.react").Dashes,{count:f.length,activeIndex:g!=null?g:0}):null});return m==null?null:n.jsx(d("WAWebUimUie.react").UIE,{displayName:"PinnedMessagesBanner",children:n.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:[q.banner,x?q.bannerUiRefresh:q.bannerLegacyUi,d("WAWebUISpacing").uiPadding.start16,d("WAWebUISpacing").uiPadding.vert0,d("WAWebUISpacing").uiPadding.end0,x&&l&&d("WDSHoverStateStyles").WDSHoverStateStyles.genericHoverPersistent],onClick:y,onHoverChange:a,menuItems:w,children:n.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",grow:1,children:[n.jsx(c("WAWebFlexItem.react"),{"aria-label":h._(/*BTDS*/"Pinned message")}),z,n.jsx(c("WAWebFlexItem.react"),{xstyle:q.clearMinWidth,align:"center",justify:"center",children:n.jsx(r,{})}),n.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiPadding.start14,q.bannerBody],children:n.jsx(d("WAWebPinnedMessagesBannerBody.react").PinnedMessagesBannerBody,{pinInChat:m})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=c("useWAWebPinnedMessages")(a);return a.length>0}g.PinnedMessagesBanner=a;g.useWAWebPinnedMessagesBanner=b}),226);
__d("WAWebWarningBubbleIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="warning-bubble";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=19;o=18;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 18 19",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"#667781",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M16.2 0.0161133H1.8C0.81 0.0161133 0.00899999 0.826113 0.00899999 1.81611L0 18.0161L3.6 14.4161H16.2C17.19 14.4161 18 13.6061 18 12.6161V1.81611C18 0.826113 17.19 0.0161133 16.2 0.0161133ZM9.9 10.8161H8.1V9.01611H9.9V10.8161ZM9.9 7.21611H8.1V3.61611H9.9V7.21611Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WarningBubbleIcon=a}),98);
__d("WAWebReportToAdminNewReportBanner.react",["fbt","WATimeUtils","WAWebABProps","WAWebConversationBanner.react","WAWebDrawerManager","WAWebFlex.react","WAWebFlexItem.react","WAWebKeyboardTabUtils","WAWebMessageReportRefreshedIcon.react","WAWebRevokeMsgConstants","WAWebSendForAdminReviewUtils","WAWebSentForAdminReviewFlow.react","WAWebStateUtils","WAWebText.react","WAWebText_DONOTUSE.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebWarningBubbleIcon.react","react","useWAWebModelValues","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k=j||c("react"),l={banner:{backgroundColor:"x150wa6m",$$css:!0},icon:{color:"x1anpt5t",$$css:!0},iconRefreshed:{color:"xhslqc4",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.onClose,f=a.chat,g=c("useWAWebUIM")();a=function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(c("WAWebSentForAdminReviewFlow.react"),{chat:d("WAWebStateUtils").unproxy(f),ref:b,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}},"rta-"+f.id.toString()),{transition:"slide-left",uim:g,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE}),e()};return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"ReportToAdminNewReportBanner",escapable:!0,children:k.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:l.banner,onClick:a,onClose:e,children:k.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top6,align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end20,children:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?k.jsx(d("WAWebMessageReportRefreshedIcon.react").MessageReportRefreshedIcon,{iconXstyle:l.iconRefreshed}):k.jsx(d("WAWebWarningBubbleIcon.react").WarningBubbleIcon,{xstyle:l.icon,width:20,height:20})}),k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:k.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:h._(/*BTDS*/"{=m0} sent for admin review",[h._implicitParam("=m0",k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"accent",weight:"semibold",children:h._(/*BTDS*/"New Messages")}))])})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=d("useWAWebModelValues").useModelValues(a,["groupMetadata"]);a=d("useWAWebModelValues").useOptionalModelValues(a.groupMetadata,["lastReportToAdminTimestamp"]);a=a==null?void 0:a.lastReportToAdminTimestamp;if(a==null)return!1;var b=d("WAWebRevokeMsgConstants").REVOKE_WINDOW+d("WAWebRevokeMsgConstants").REVOKE_WINDOW_RECEIVER_MARGIN;a=d("WATimeUtils").unixTime()-a<=b;return a}function n(a){a=d("useWAWebModelValues").useOptionalModelValues(a.groupMetadata,["reportToAdminMode"]);return d("WAWebABProps").getABPropConfigValue("report_to_admin_kill_switch")&&(a==null?void 0:a.reportToAdminMode)===!0}function b(a){var b=d("useWAWebModelValues").useModelValues(a,["id","groupMetadata"]);a=m(b);a=n(b)&&a;return[a,function(){d("WAWebSendForAdminReviewUtils").clearLastReportTimestamp(b)}]}g.ReportToAdminNewReportBanner=a;g.useReportToAdminNewReportBanner=b}),226);
__d("WAWebSimilarNewslettersUnitsLoadable.react",["JSResourceForInteraction","WAWebLazyLoadLoading.react","WAWebLazyLoadedRetriable","WAWebLoadable","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebSimilarNewslettersUnits.react").__setRef("WAWebSimilarNewslettersUnitsLoadable.react").load());return a.SimilarNewslettersConversationBanner}),"SimilarNewslettersConversationBanner");d=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLazyLoadLoading.react"),{error:Boolean(a.error)})}});g.SimilarNewslettersConversationBannerLoadable=d}),98);
__d("WAWebSubgroupSuggestionsBanner.react",["fbt","WAWebCmd","WAWebCommunityGatingUtils","WAWebConversationBanner.react","WAWebFlex.react","WAWebFlexItem.react","WAWebGroupType","WAWebNux","WAWebSubgroupsNuxIcon.react","WAWebText.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUimUie.react","react","useWAWebEventTargetValue","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k=j||c("react"),l={banner:{backgroundColor:"x150wa6m",$$css:!0},icon:{color:"xs17brd",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.onClose,f=a.chat;a=a.subgroupSuggestionsCount;var g=function(){var a;a=(a=f.groupMetadata)==null?void 0:a.parentGroup;if(!a)return;d("WAWebCmd").Cmd.openCommunityPendingGroupsDrawer(a);e()};return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"SubgroupSuggestionsBanner",escapable:!0,children:k.jsx(c("WAWebConversationBanner.react"),{ref:b,xstyle:l.banner,onClick:g,onClose:e,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end18,children:k.jsx(d("WAWebSubgroupsNuxIcon.react").SubgroupsNuxIcon,{xstyle:l.icon,height:20})}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:(b=h._plural(a,"group_suggestions"),h._(/*BTDS*/"_j{\"*\":\"{=m0} {group_suggestions} group suggestions\",\"_1\":\"{=m0} 1 group suggestion\"}",[b,h._implicitParam("=m0",k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"accent",weight:"semibold",children:h._(/*BTDS*/"_j{\"*\":\"Review\"}",[b])}))]))})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b,d=c("useWAWebEventTargetValue")(a==null||(b=a.groupMetadata)==null?void 0:b.subgroupSuggestions,["add","remove","reset"],function(){var b,c;return(b=a==null||(c=a.groupMetadata)==null?void 0:c.getSubgroupSuggestions().length)!=null?b:0});return d}function b(a){var b,e,f;b=(b=a.groupMetadata)==null?void 0:b.getParentGroupChat();var g=m(b),h=b!=null&&b.id?b.id.toString():"";h=d("WAWebNux").getSubgroupSuggestionsBannerNuxKey(h);e=c("useWAWebEventTargetValue")((e=a.groupMetadata)==null?void 0:e.participants,["bulk_add","bulk_remove","reset","change:isAdmin"],function(){var b;return Boolean((b=a.groupMetadata)==null?void 0:b.participants.iAmAdmin())});h=c("useWAWebNux")(h);var i=h[0];h=h[1];f=((f=a.groupMetadata)==null?void 0:f.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&Boolean(b)&&g>0&&e&&i&&d("WAWebCommunityGatingUtils").memberSuggestedGroupsEnabled();return[f,h,g]}g.SubgroupSuggestionsBanner=a;g.useSubgroupSuggestionsBanner=b}),226);
__d("useWAWebCagEventsAwarenessBanner.react",["WATimeUtils","WAWebChatGroupUtils","WAWebNux","WAWebUserPrefsEvents","useWAWebIAmCommunityAdmin","useWAWebNux"],(function(a,b,c,d,e,f,g){function a(a){var b,e=c("useWAWebNux")(d("WAWebNux").NUX.CAG_EVENTS_AWARENESS_BANNER),f=e[0];e[1];e=e[2];b=c("useWAWebIAmCommunityAdmin")((b=a.groupMetadata)==null||(b=b.getParentGroupChat())==null?void 0:b.groupMetadata);f=f&&b&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a);if(f){b=d("WAWebUserPrefsEvents").getCagEventsAwarenessBannerFirstSeenTimestamp();b!=null&&(f=d("WATimeUtils").happenedWithin(b,d("WATimeUtils").WEEK_SECONDS))}return[f,e]}g["default"]=a}),98);
__d("useWAWebConversationPanelGroupDescription",["WAWebChatGetters","WAWebFrontendChatGetters","WAWebGroupGatingUtils","WAWebMsgType","WAWebUserPrefsGeneral","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(a){var b=i(function(){if(!d("WAWebChatGetters").getIsGroup(a)||d("WAWebGroupGatingUtils").getGroupDescriptionLength()<=0||d("WAWebUserPrefsGeneral").getSeenGroupDesc(a.id))return!1;d("WAWebUserPrefsGeneral").setSeenGroupDesc(a.id);return a.unreadCount===0?!a.msgs.some(function(a){return a.type!==d("WAWebMsgType").MSG_TYPE.E2E_NOTIFICATION&&a.type!==d("WAWebMsgType").MSG_TYPE.GP2}):!d("WAWebFrontendChatGetters").getShouldShowUnreadDivider(a)}),c=b[0],e=b[1];b=function(){e(!1)};return[c,b]}g["default"]=a}),98);
__d("useWAWebSimilarNewslettersConversationBanner",["WAWebNewsletterGatingUtils","WAWebWamEnumChannelEventSurface","useWAWebEventTargetValue","useWAWebModelValues","useWAWebSimilarNewsletters"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("useWAWebSimilarNewsletters").useSimilarNewsletters(a);b=b.hasEnoughNewsletters;var e=d("useWAWebModelValues").useOptionalModelValues(d("useWAWebModelValues").useModelValues(a,["newsletterMetadata"]).newsletterMetadata,["recentlyFollowedFrom"]);a=c("useWAWebEventTargetValue")(e,["recentlyFollowedFrom"],function(){return(e==null?void 0:e.recentlyFollowedFrom)===d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD});return b&&a&&d("WAWebNewsletterGatingUtils").isSimilarNewsletterInThreadEnabled()}g.useSimilarNewslettersConversationBanner=a}),98);
__d("WAWebConversationPanelBanner.react",["$InternalEnum","WAWebCagEventsAwarenessBanner.react","WAWebChangeNumberNotificationBanner.react","WAWebChatGetters","WAWebConversationPanelStyleUtils","WAWebGroupDescriptionBanner.react","WAWebMembershipApprovalRequestsBanner.react","WAWebMetaAICTABanner.react","WAWebMetaAIGlassesCTABanner.react","WAWebNewsletterChannelAlertsBanner.react","WAWebPinnedMessagesBanner.react","WAWebReportToAdminNewReportBanner.react","WAWebSimilarNewslettersUnitsLoadable.react","WAWebSubgroupSuggestionsBanner.react","WAWebUIRefreshGatingUtils","WAWebVelocityTransitionGroup","react","stylex","useWAWebCagEventsAwarenessBanner.react","useWAWebConversationPanelGroupDescription","useWAWebSimilarNewslettersConversationBanner"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={topBorder:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xx42vgk",backgroundColor:"x1h3rtpe",$$css:!0},banner:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"xa93pmm",$$css:!0},absoluteBanner:{position:"x10l6tqk",top:"x1imwcls",insetInlineStart:"x1o0tod",insetInlineEnd:"xtijo5x",left:null,right:null,borderInlineStartColor:"xicjxj5",borderInlineStartStyle:"x1t7ytsu",borderInlineStartWidth:"xpilrb4",$$css:!0},material:{borderBottomWidth:"x1qhh985",$$css:!0}},l=b("$InternalEnum")({CagEventsAwareness:1,MembershipApprovalRequests:2,ReportToAdminNewReport:3,SubgroupSuggestions:4,GroupDescription:5,PinnedMessages:6,NewsletterChannelAlerts:7,MetaAICTABanner:8,MetaAIGlassesCTABanner:9});function a(a){var b=a.chat;a=a.groupMetadata;var e=c("useWAWebConversationPanelGroupDescription")(b),f=e[0];e=e[1];var g=d("WAWebMembershipApprovalRequestsBanner.react").useMembershipApprovalRequestsBanner(b),h=g[0];g=g[1];var m=d("WAWebReportToAdminNewReportBanner.react").useReportToAdminNewReportBanner(b),n=m[0];m=m[1];var o=d("WAWebPinnedMessagesBanner.react").useWAWebPinnedMessagesBanner(b),p=d("WAWebNewsletterChannelAlertsBanner.react").useNewsletterChannelAlertsBanner(b),q=p[0];p=p[1];var r=d("WAWebSubgroupSuggestionsBanner.react").useSubgroupSuggestionsBanner(b),s=r[0],t=r[1];r=r[2];var u=c("useWAWebCagEventsAwarenessBanner.react")(b),v=u[0];u=u[1];var w=d("WAWebMetaAICTABanner.react").useMetaAICTABanner(b),x=d("WAWebMetaAIGlassesCTABanner.react").useMetaAIGlassesCTABanner(b),y=d("WAWebChangeNumberNotificationBanner.react").useChangeNumberNotificationBanner(b),z=d("useWAWebSimilarNewslettersConversationBanner").useSimilarNewslettersConversationBanner(b);v=[{condition:v,component:j.jsx(d("WAWebCagEventsAwarenessBanner.react").CagEventsAwarenessBanner,{onClose:u}),priority:l.CagEventsAwareness},{condition:h,component:j.jsx(d("WAWebMembershipApprovalRequestsBanner.react").MembershipApprovalRequestsBanner,{onClose:g,chat:b}),priority:l.MembershipApprovalRequests},{condition:n,component:j.jsx(d("WAWebReportToAdminNewReportBanner.react").ReportToAdminNewReportBanner,{onClose:m,chat:b}),priority:l.ReportToAdminNewReport},{condition:s,component:j.jsx(d("WAWebSubgroupSuggestionsBanner.react").SubgroupSuggestionsBanner,{onClose:t,chat:b,subgroupSuggestionsCount:r}),priority:l.SubgroupSuggestions},{condition:Boolean(f&&(a==null?void 0:a.displayedDesc)),component:j.jsx(c("WAWebGroupDescriptionBanner.react"),{onClose:e,chat:b,groupMetadata:a}),priority:l.GroupDescription},{condition:o,component:j.jsx(d("WAWebPinnedMessagesBanner.react").PinnedMessagesBanner,{chat:b}),priority:l.PinnedMessages},{condition:d("WAWebChatGetters").getIsNewsletter(b)&&q,component:j.jsx(d("WAWebNewsletterChannelAlertsBanner.react").NewsletterChannelAlertsBanner,{newsletter:b,onClose:p}),priority:l.NewsletterChannelAlerts},{condition:w,component:j.jsx(d("WAWebMetaAICTABanner.react").MetaAICTABanner,{}),priority:l.MetaAICTABanner},{condition:x,component:j.jsx(d("WAWebMetaAIGlassesCTABanner.react").MetaAIGlassesCTABanner,{}),priority:l.MetaAIGlassesCTABanner}];h=(u=v.filter(function(a){return a.condition}).sort(function(a,b){return a.priority-b.priority})[0])==null?void 0:u.component;g=y?j.jsx(d("WAWebChangeNumberNotificationBanner.react").ChangeNumberNotificationBanner,{chat:b,xstyle:h!=null&&k.topBorder}):null;n=d("WAWebChatGetters").getIsNewsletter(b)&&z?j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.banner,c("WAWebConversationPanelStyleUtils").sharedLayer,k.topBorder,k.absoluteBanner,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&k.material),{children:j.jsx(d("WAWebSimilarNewslettersUnitsLoadable.react").SimilarNewslettersConversationBannerLoadable,{chat:b})})):null;return h==null&&g==null&&n==null?null:j.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"butterbar",xstyle:[k.banner,c("WAWebConversationPanelStyleUtils").sharedLayer,k.topBorder,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&k.material],children:[h,g,n]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterSuspendedConversationPanelBody.react",["fbt","WAWebClickableLink.react","WAWebCommonNewsletterIntegrityStrings","WAWebExternalLink.react","WAWebFaqUrl","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebWrapperSystemBubble.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useState,n={linkColor:{color:"x14m1o6m",textDecoration:"x1hl2dhg",$$css:!0}};function o(){var a=m(null),e=a[0],f=a[1];l(function(){function a(){return c.apply(this,arguments)}function c(){c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebCommonNewsletterIntegrityStrings").getGeosuspendedInYourCountryString({isPreview:!1}));f(a)});return c.apply(this,arguments)}void a()},[]);if(e==null)return;return k.jsx(c("WAWebWrapperSystemBubble.react"),{theme:"center",children:k.jsxs(c("WAWebClickableLink.react"),{testid:void 0,onClick:function(){d("WAWebExternalLink.react").openExternalLink(d("WAWebFaqUrl").getNewsletterGeosuspendFaqUrl())},xstyle:n.linkColor,children:[k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{ariaLabel:e,testid:void 0,children:e}),k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{children:h._(/*BTDS*/"Click to learn more")})]})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isAdminOrOwner;a=a.isGeosuspended;return a?k.jsx(o,{}):k.jsxs(c("WAWebWrapperSystemBubble.react"),{theme:"center",children:[k.jsx(d("WAWebText_DONOTUSE.react").TextHeader,{level:"2",size:"16",weight:"bold",xstyle:d("WAWebUISpacing").uiMargin.bottom2,testid:void 0,children:h._(/*BTDS*/"This channel is no longer available")}),k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{testid:void 0,children:b?h._(/*BTDS*/"Followers can't see channel history and new updates can't be shared."):h._(/*BTDS*/"You can't see channel history and new updates aren't available.")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUseBizBotTos",["WAWebBizBotTos.react","WAWebBotGating","WAWebBotTos","WAWebBotTypes","WAWebChatEntryPoint","WAWebModalManager","WAWebTos","WAWebUseBusinessProfile.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useRef;function b(b){var c=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()?b.id:null,["isBizBot3p"]),e=l(),f=function(){var f;(f=e.current)==null||f.close();if(!c)return;d("WAWebBotGating").isBizBot3pAvailable()&&c.isBizBot3p&&!d("WAWebBotTos").hasSeenBizBotTos(d("WAWebBotTypes").BizBotType.BIZ_3P)&&a.setTimeout(function(){var a;d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebBizBotTos.react").BizBotTos,{ref:e,automatedType:d("WAWebBotTypes").BizBotAutomatedType.FULL_3P,chatEntryPoint:(a=b.chatEntryPoint)!=null?a:d("WAWebChatEntryPoint").ChatEntryPoint.Unknown}),{blockClose:!0})},250)};k(f,[b,c]);d("useWAWebListener").useListener(d("WAWebTos").TosManager,"change",f)}g.useBizBot3pTos=b}),98);
__d("WAWebSendBotRequestWelcomeAction",["WAJobOrchestratorTypes","WAMemoizeConcurrent","WAWebBotMessageSecret","WAWebBotWelcomeRequestSync","WAWebDBProcessMessage","WAWebMsgDataUtils","WAWebMsgModel","WAWebMsgType","WAWebOrchestratorNonPersistedJob","WAWebSendMsgRecordAction","WAWebSendMsgResultAction","WAWebSyncdCoreApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return i({chat:a,signal:new AbortController().signal})});return h.apply(this,arguments)}var i=c("WAMemoizeConcurrent")(function(a){a=a.chat;return a.id.toString()},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.chat;return j(a)});return function(b){return a.apply(this,arguments)}}());function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.id,f=self.crypto.getRandomValues(new Uint8Array(32)),g=(yield d("WAWebBotMessageSecret").genBotMsgSecretFromMsgSecret(f)),h=babelHelpers["extends"]({},yield d("WAWebMsgDataUtils").genOutgoingMsgData(a,d("WAWebMsgType").MSG_TYPE.PROTOCOL),{type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:d("WAWebMsgType").MsgKind.Protocol,subtype:"bot_request_welcome",messageSecret:f,botMessageSecret:new Uint8Array(g)}),i=new(d("WAWebMsgModel").Msg)(h);a.hasRequestedWelcomeMsg=!0;yield d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("sendMessage",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebDBProcessMessage").storeMessages([h],e);var a=(yield d("WAWebSendMsgRecordAction").sendMsgRecord(i));if(a.messageSendResult===d("WAWebSendMsgResultAction").SendMsgResult.OK){var f=(yield c("WAWebBotWelcomeRequestSync").getBotWelcomeRequestSetMutation(e,!0));yield d("WAWebSyncdCoreApi").lockForSync(["chat"],[f],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];return a.merge(e.toString(),{hasRequestedWelcomeMsg:!0})});return function(b){return a.apply(this,arguments)}}())}return a}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()});return k.apply(this,arguments)}g.sendBotRequestWelcome=a}),98);
__d("WAWebUseMaybeRequestWelcomeMessage",["WAWebBotGating","WAWebBotTos","WAWebBotTypes","WAWebSendBotRequestWelcomeAction","WAWebTos","WAWebUseBusinessProfile.react","react","useWAWebListener","useWAWebModelValues","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=d("useWAWebModelValues").useModelValues(a,["hasRequestedWelcomeMsg"]),e=b.hasRequestedWelcomeMsg;b=(b=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot1pEnabled()||d("WAWebBotGating").isBizBot3pAvailable()?a.id:null,["isBizBot1p","welcomeMsgProtocolMode"]))!=null?b:{};var f=b.isBizBot1p,g=b.welcomeMsgProtocolMode,h=c("useWAWebStableCallback")(function(){var b=g!=null&&g!==d("WAWebBotTypes").BotWelcomeMsgProtocolModeType.NONE;(d("WAWebBotGating").isBizBot1pEnabled()&&f===!0||d("WAWebBotGating").isBizBot3pAvailable()&&b)&&d("WAWebBotTos").hasAcceptedBizBotTos()&&!e&&void d("WAWebSendBotRequestWelcomeAction").sendBotRequestWelcome(a)});d("useWAWebListener").useListener(d("WAWebTos").TosManager,"change",h);i(function(){return h()},[f,g,a])}g.useMaybeRequestWelcomeMessage=a}),98);
__d("WAWebSetChatOpenedAction",["WAWebDBUpdateChatTable","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b={hasOpened:!0};yield d("WAWebDBUpdateChatTable").updateChatTable(a.id,b);a.set(b)});return h.apply(this,arguments)}g.setChatHasOpened=a}),98);
__d("useWAWebChatOpenMetrics",["WAWebFMXTrustSignals","WAWebFindCommonGroupsContactAction","WAWebFmxActionWamEvent","WAWebNoop","WAWebSetChatOpenedAction","WAWebWamEnumFmxEntryPoint","WAWebWamEnumFmxEvent","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){i(function(){a.hasOpened!==!0&&(d("WAWebSetChatOpenedAction").setChatHasOpened(a)["catch"](c("WAWebNoop")),self.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a.msgs.some(function(a){return a.subtype==="contact_info_card"});if(b){new(d("WAWebFmxActionWamEvent").FmxActionWamEvent)({fmxEntryPoint:d("WAWebWamEnumFmxEntryPoint").FMX_ENTRY_POINT.FMX_CARD,fmxEvent:d("WAWebWamEnumFmxEvent").FMX_EVENT.FMX_CARD_VIEWED,countryShown:yield d("WAWebFMXTrustSignals").shouldShowCountryCodeTrustSignal(a.contact),notAContactShown:yield d("WAWebFMXTrustSignals").shouldShowContactTrustSignal(a.contact),commonGroupNum:(b=(b=(yield d("WAWebFindCommonGroupsContactAction").findCommonGroups(a.contact)))==null?void 0:b.length)!=null?b:0}).commit()}}),1e3))},[])}g.useChatOpenMetrics=a}),98);
__d("useWAWebConversationPanelActionListeners",["WAWebConversationPanelActions","useWAWebListener"],(function(a,b,c,d,e,f,g){function a(a){d("useWAWebListener").useListener(d("WAWebConversationPanelActions").ConversationPanelActions,"conversation_panel_focus",a.onFocus)}g["default"]=a}),98);
__d("WAWebGalaxyFlowsDrawerGetFlowDataQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],b=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"request"}],concreteType:"XWAWhatsAppExtensionsGetFlowDataResponseSuccess",kind:"LinkedField",name:"xwa_extensions_get_flow_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"XWAWhatsAppExtensionsFlowData",kind:"LinkedField",name:"extensions_flow_data",plural:!0,selections:[{alias:null,args:null,concreteType:"XWAWhatsAppExtensionsObject",kind:"LinkedField",name:"extensions",plural:!1,selections:[{alias:null,args:null,concreteType:"XWAWhatsAppExtensionsFlowDataMetaData",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWAWhatsAppFlowsEndpointPublicKey",kind:"LinkedField",name:"endpoint_public_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebGalaxyFlowsDrawerGetFlowDataQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebGalaxyFlowsDrawerGetFlowDataQuery",selections:b},params:{id:"9885061481575290",metadata:{},name:"WAWebGalaxyFlowsDrawerGetFlowDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebGalaxyFlowsDrawerGetFlowDataQuery",["WAWebGalaxyFlowsDrawerGetFlowDataQuery.graphql","WAWebLidMigrationUtils","WAWebRelayClient"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;e=c.isLid()?(e=(e=d("WAWebLidMigrationUtils").toPn(c))==null?void 0:e.toString())!=null?e:"":c.toString();return d("WAWebRelayClient").fetchQuery(h!==void 0?h:h=b("WAWebGalaxyFlowsDrawerGetFlowDataQuery.graphql"),{request:{extensions:{biz_jid:e,flow_id:a}}})}g["default"]=a}),98);
__d("WAWebGalaxyFlowsMetadataUtils",["WATimeUtils","WAWebABProps"],(function(a,b,c,d,e,f,g){function a(a){var b;if(((b=a.flowMetadata)==null?void 0:b.data_api_version)==null){b=a.messageTimestamp;a=d("WAWebABProps").getABPropConfigValue("wae_metadata_integrity_timeout_minutes");return b!=null&&d("WATimeUtils").happenedWithin(d("WATimeUtils").castToUnixTime(b),a*d("WATimeUtils").MINUTE_SECONDS)}return!1}g.skipIfStaleMedatadataOrNullDataApiVersion=a}),98);
__d("WAWebGalaxyFlowsData",["Promise","WALogger","WAWebGalaxyFlowsDrawerGetFlowDataQuery","WAWebGalaxyFlowsMetadataUtils","WAWebGalaxyFlowsSessionsCache","WAWebGalaxyFlowsUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){try{if(a.flowJSON!=null)return a;e=e.unsafe();var g=e.galaxyFlowWAMMessageId==null||e.galaxyFlowQPLMessageId==null,j=d("WAWebGalaxyFlowsMetadataUtils").skipIfStaleMedatadataOrNullDataApiVersion(a)||Boolean(a.isResponseFlow);g=(yield (i||(i=b("Promise"))).all([d("WAWebGalaxyFlowsUtils").fetchFlowJSON(a.flowId),g?d("WAWebGalaxyFlowsUtils").computeMessageIds(e.id):(i||(i=b("Promise"))).resolve(null),j?(i||(i=b("Promise"))).resolve(null):c("WAWebGalaxyFlowsDrawerGetFlowDataQuery")(a.flowId,f)]));j=g[0];f=g[1];g=g[2];f&&void e.updateGalaxyFlowMsgLoggingIds(f.flowWAMMessageId,f.flowQPLMessageId);var k=e.galaxyFlowQPLMessageId!=null?e.galaxyFlowQPLMessageId:f==null?void 0:f.flowQPLMessageId;k!=null&&d("WAWebGalaxyFlowsSessionsCache").createFlowSession(e.id.id.toString(),k);return babelHelpers["extends"]({},a,{flowJSON:j,flowWAMMessageId:(k=f==null?void 0:f.flowWAMMessageId)!=null?k:e.galaxyFlowWAMMessageId,flowQPLMessageId:(a=f==null?void 0:f.flowQPLMessageId)!=null?a:e.galaxyFlowQPLMessageId,flowFetchedMetadata:g})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error fetching additional Galaxy Flow data: ",""])),String(a)).sendLogs("galaxy-flow-data-fetch-error");throw a}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebGalaxyFlowsNavBarUtils",["fbt","WAWebActionMenuItem.react","WAWebClickable.react","WAWebDrawerHeader.react","WAWebDropdownV2.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebMenu.react","WAWebModalManager","WAWebMoreRefreshedIcon.react","WAWebReportMsgPopup.react","WAWebSpamConstants","WDSIconIcClose.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef,m={LEARN_MORE:2107457129437300,HELP:301407378887650},n=197,o={contextMenuIconContainer:{borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",height:"x1vqgdyp",width:"x100vrsf",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",flex:"x1okw0bk",cursor:"x1ypdohk",":hover_backgroundColor":"x1j1k1sc",$$css:!0}};function p(a){d("WAWebExternalLink.react").openExternalLink(d("WAWebFaqUrl").getFullUrl(a))}function q(a){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReportMsgPopup.react").ReportMsgPopupV2,{msg:a.unsafe(),spamFlow:d("WAWebSpamConstants").SpamFlow.GalaxyFlowsContextMenuReport}))}function a(a){var b=a.isResponseFlow,e=a.msg;a=a.onCancel;var f=l(null),g=l(null),i=h._(/*BTDS*/"Menu"),j=h._(/*BTDS*/"Close");f=k.jsx(d("WAWebClickable.react").Clickable,{ref:f,xstyle:o.contextMenuIconContainer,title:j,ariaLabel:j,onClick:a,children:k.jsx(c("WDSIconIcClose.react"),{})});j=k.jsxs(k.Fragment,{children:[!b&&k.jsx(d("WAWebClickable.react").Clickable,{ref:g,xstyle:o.contextMenuIconContainer,title:i,ariaLabel:i,children:k.jsx(d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,{})}),k.jsx(d("WAWebDropdownV2.react").DropdownV2Menu,{minWidth:n,target:g,alignment:d("WAWebDropdownV2.react").PopoverAlignment.Center,position:d("WAWebDropdownV2.react").PopoverPosition.Bottom,children:k.jsxs(d("WAWebMenu.react").WAWebMenu,{children:[k.jsx(d("WAWebActionMenuItem.react").ActionMenuItem,{optionId:"help",primary:h._(/*BTDS*/"Help"),onSelect:function(){return p(m.HELP)}}),k.jsx(d("WAWebActionMenuItem.react").ActionMenuItem,{optionId:"report",primary:h._(/*BTDS*/"Report"),onSelect:function(){return q(e)}})]})})]});return k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"end",justify:"end",gap:12,children:[j,f]})})}a.displayName=a.name+" [from "+f.id+"]";g.GALAXY_FLOWS_ARTICLE_IDS=m;g.openHelpCenterArticle=p;g.reportGalaxyFlow=q;g.WAWebGalaxyFlowsNavBar=a}),226);
__d("WAWebGalaxyFlowsLoadable.react",["fbt","WAFlowsExpiredCacheCleaner","WALogger","WAWebDrawer.react","WAWebDrawerBody.react","WAWebFlex.react","WAWebGalaxyFlowsData","WAWebGalaxyFlowsNavBarUtils","WAWebSpinner.react","asyncToGeneratorRuntime","cr:21421","cr:2841","react","useWAWebAsync"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,n=e.useEffect,o=b("cr:2841")||b("cr:21421"),p={loadingContainer:{marginTop:"xafmxuu",$$css:!0}};function a(a){var e=a.chat,f=a.messageData,g=a.msg,j=a.onCancel;a=a.ref;n(function(){d("WAFlowsExpiredCacheCleaner").clearExpiredCachedStates()["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to clear expired Galaxy Flow cached states: ",""])),String(a)).sendLogs("galaxy-flow-cache-clear-error")})},[]);var k=c("useWAWebAsync")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return c("WAWebGalaxyFlowsData")(f,g,e.contact.id)}),[f,g,e.contact.id]),q=m(function(a){return!navigator.onLine?h._(/*BTDS*/"Check your internet connection and try again."):h._(/*BTDS*/"Something went wrong.")},[]);return o==null||k.error!=null||k.loading?l.jsxs(c("WAWebDrawer.react"),{ref:a,children:[l.jsx(d("WAWebGalaxyFlowsNavBarUtils").WAWebGalaxyFlowsNavBar,{onCancel:j,msg:g,isResponseFlow:f.isResponseFlow}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",grow:1,xstyle:p.loadingContainer,children:[k.loading&&l.jsx(d("WAWebSpinner.react").Spinner,{size:24,stroke:4}),k.error&&q(k.error)]})})]}):l.jsx(o,{chat:e,messageData:k.value,onCancel:j,msg:g})}a.displayName=a.name+" [from "+f.id+"]";g.GalaxyFlowsWrapper=a}),226);
__d("WAWebGroupMsgInfoFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebGroupMsgInfoFlow.react").__setRef("WAWebGroupMsgInfoFlowLoadable").load());return a}),"GroupMsgInfoFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.GroupMsgInfoFlowLoadable=d}),98);
__d("WAWebLoadingMediaViewer.react",["WAWebClassnames","WAWebFbtCommon","WAWebLazyLoadLoading.react","WAWebMediaPanelHeader.styles","WAWebMediaViewerModalStyle","WAWebMenuBar.react","WAWebModalManager","WAWebXViewerIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react");function a(a){a=a.error;var b=d("WAWebClassnames").classnamesConvertMeToStylexPlease("overlay",(i||(i=c("stylex")))(c("WAWebMediaViewerModalStyle").mediaViewer)),e=j.jsx(d("WAWebXViewerIcon.react").XViewerIcon,{}),f=function(){return d("WAWebModalManager").ModalManager.closeMedia()};return j.jsx("div",{children:j.jsxs("div",{className:b,"data-animate-media-viewer":!0,children:[j.jsxs("div",{className:c("WAWebMediaPanelHeader.styles").mediaPanelHeader,children:[j.jsx("div",{className:c("WAWebMediaPanelHeader.styles").info}),j.jsx("div",{className:c("WAWebMediaPanelHeader.styles").mediaPanelTools,children:j.jsx(d("WAWebMenuBar.react").MenuBar,{theme:"strong",children:j.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:e,title:c("WAWebFbtCommon")("Close"),onClick:f})},"media-panel-header")})]}),j.jsx("div",{className:c("WAWebMediaViewerModalStyle").mediaContent,dir:"ltr",onClick:f,children:j.jsx("div",{className:c("WAWebMediaViewerModalStyle").media,children:j.jsx(c("WAWebLazyLoadLoading.react"),{error:a})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaViewerFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingMediaViewer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebMediaViewerFlow.react").__setRef("WAWebMediaViewerFlowLoadable").load());return a.MediaViewerFlow}),"MediaViewerFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingMediaViewer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.MediaViewerFlowLoadable=d}),98);
__d("WAWebMerchantDetailsDrawerLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizMerchantDetailsDrawer.react").__setRef("WAWebMerchantDetailsDrawerLoadable").load());return a}),"MerchantDetails");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.MerchantDetailsDrawerLoadable=d}),98);
__d("useWAWebConversationPanelChatActionListeners",["fbt","WALogger","WANullthrows","WAWebABProps","WAWebAttachMediaCollection","WAWebAttachMediaFlowLoadable","WAWebBizCtwaPreviewFlowLoadable","WAWebBotGating","WAWebChatFlowTypes","WAWebChatGetters","WAWebChatPreferenceCollection","WAWebChatSearchDrawer.react","WAWebCmd","WAWebContactCollection","WAWebContactMsgInfoFlowLoadable","WAWebDefaultEphemeralityDrawer.react","WAWebDrawerManager","WAWebEphemeralDrawer.react","WAWebErrorBoundary.react","WAWebFrontendChatGetters","WAWebFrontendMsgGetters","WAWebGalaxyFlowsLoadable.react","WAWebGroupMsgInfoFlowLoadable","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebLimitSharingDrawer.react","WAWebMediaMissingModal.react","WAWebMediaViewerFlowLoadable","WAWebMerchantDetailsDrawerLoadable","WAWebModalManager","WAWebMsgCollection","WAWebRichTextInputConst","WAWebSendStickerToActiveChatStickersAction","WAWebStickerStoreFlowLoadable","WAWebStreamModel","WAWebToast.react","WAWebToastManager","WAWebVerificationDrawerLoadable","WAWebWamEnumDisappearingModeEntryPointType","WAWebWamEnumMediaPickerOriginType","WAWebWamEnumProfileEntryPoint","WAWebWidFactory","react","useWAWebListener","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react");function a(){var a,b,e=c("useWAWebUIM")(),f=function(a,b,c,f,g,h,j){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[UUPN] handleChatInfoDrawer"]))).devConsole(a,b,c,f,g,h,j),d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:a,showFullGroupDescription:b,scrollToParticipantList:c,profileEntryPoint:d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_MENU,sourceGroupChatOrNewsletter:f,focusNewsletterDescriptionOnMount:g,focusGroupSubjectOnMount:h,focusGroupDescriptionOnMount:j},"info-"+a.id.toString()),{transition:"slide-left",uim:e,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})},g=function(a){var b=a.wid;a=a.lid;d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebVerificationDrawerLoadable").VerificationDrawerLoadable,{lid:a,contact:d("WAWebContactCollection").ContactCollection.assertGet(b),isFirstLevel:!0}),{transition:"slide-left",uim:e})},k=function(a){if(d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.NORMAL){var b;d("WAWebBotGating").isBotEnabled()&&(b=a.invokedBotWid)!=null&&b.isBot()?d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebGroupMsgInfoFlowLoadable").GroupMsgInfoFlowLoadable,{msg:a}),{transition:"slide-left",uim:e}):d("WAWebFrontendChatGetters").getKind(d("WAWebFrontendMsgGetters").getChat(a))===d("WAWebChatFlowTypes").ChatKindType.Chat?d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebContactMsgInfoFlowLoadable").ContactMsgInfoFlowLoadable,{msg:a}),{transition:"slide-left",uim:e}):d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebGroupMsgInfoFlowLoadable").GroupMsgInfoFlowLoadable,{msg:a}),{transition:"slide-left",uim:e})}else d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Couldn't display message info. Try again later."),id:d("WAWebToast.react").genId("msg_info_failed")}))},m=function(a,b,c){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebBizCtwaPreviewFlowLoadable").CtWAAdPreviewFlowLoadable,{msg:a,onClose:b}),{transition:"slide-left",uim:e,onEnterAnimationComplete:c})},n=function(a,b,c,f){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebGalaxyFlowsLoadable.react").GalaxyFlowsWrapper,{chat:a,messageData:b,msg:c,onCancel:function(){f(),d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}}),{transition:"flow-transition-drawer-push",uim:e})},o=function(a){var b=a.chat,f=a.attachments,g=a.animationName,h=a.initCaption,i=a.onComplete,k=a.fileOrigin,m=a.sendAsSticker,n=a.onSend,o=a.onCancel,p=a.openTrigger,q=a.isQuestion,r=a.questionReplyQuotedMessage,s=function(){var a=b.attachMediaContents;if(!a)return;f&&(k?a.processAttachmentsForChat(f,k,b):(d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["ChatActionListener:onAttachMediaDrawer fileOrigin is not specified, fallback to default"]))),a.processAttachmentsForChat(f,d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,b)))};a=(a=b.getComposeContents())==null?void 0:a.text;if(a!=null&&d("WAWebBotGating").isBotEnabled()){var t=new RegExp(d("WAWebRichTextInputConst").userJidRegexStr,"g"),u=t.exec(a);while(u!=null){var v=d("WAWebWidFactory").createWid(u[1]);if(v.isBot())return;u=t.exec(a)}}d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){if(a)return;b.attachMediaContents||b.setAttachMediaContents(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:b.getParticipantCount()}));a=c("WANullthrows")(b.attachMediaContents);d("WAWebDrawerManager").DrawerManager.openDrawerMid(l.jsx(d("WAWebAttachMediaFlowLoadable").AttachMediaFlowLoadable,{chat:b,onComplete:i,onSend:n,onCancel:o,onDismiss:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},onRender:s,initCaption:h,mediaCollection:a,sendAsSticker:m,openTrigger:p,isQuestion:q,questionReplyQuotedMessage:r}),{transition:g||"slide-up",uim:e,noFocus:!0,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})},p=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebChatSearchDrawer.react"),{chat:a}),{transition:"slide-left",uim:e})},q=function(a){var b=a.msg,f=a.getZoomNode,g=a.currentTime,h=a.highlightedMsgIds,i=a.shouldShowNumberText;a=a.shouldShowAllMedia;d("WAWebMsgCollection").MsgCollection.get(b.id)?d("WAWebModalManager").ModalManager.openMedia(l.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"media-viewer-flow",children:l.jsx(d("WAWebMediaViewerFlowLoadable").MediaViewerFlowLoadable,{msg:b,startTime:g,getZoomNode:f,highlightedMsgIds:h,shouldShowNumberText:i,shouldShowAllMedia:a})}),{transition:"media-viewer",uim:c("WANullthrows")(e)}):d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebMediaMissingModal.react"),{msg:b}))},r=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebDefaultEphemeralityDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},entryPoint:a}),{transition:"slide-left",uim:e})},s=function(a,b,f){var g=d("WAWebChatGetters").getIsGroup(a)?d("WAWebWamEnumDisappearingModeEntryPointType").DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:d("WAWebWamEnumDisappearingModeEntryPointType").DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING;d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebEphemeralDrawer.react"),{chat:a,showNux:b,entryPoint:f,onDDMSettingsClick:function(){return r(g)}}),{transition:"slide-left",uim:e})},t=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebMerchantDetailsDrawerLoadable").MerchantDetailsDrawerLoadable,{contactId:a,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}},"legal-entity-details"),{transition:"slide-left",uim:e})},u=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebStickerStoreFlowLoadable").StickerStoreFlowLoadable,{stickerPackId:a,onSticker:c("WAWebSendStickerToActiveChatStickersAction")}),{transition:"slide-left",uim:e})},v=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(c("WAWebLimitSharingDrawer.react"),{chat:a,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}}),{transition:"slide-left",uim:e})};(a=d("useWAWebListener")).useListener(c("WAWebChatPreferenceCollection"),"wallpaper_drawer_open",function(a){d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")&&a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()});a.useListener((b=d("WAWebCmd")).Cmd,"chat_info_drawer",f);a.useListener(b.Cmd,"msg_info_drawer",k);a.useListener(b.Cmd,"chat_search",p);a.useListener(b.Cmd,"attach_media_drawer",o);a.useListener(b.Cmd,"verification_drawer",g);a.useListener(b.Cmd,"media_viewer_modal",q);a.useListener(b.Cmd,"ephemeral_drawer",s);a.useListener(b.Cmd,"merchant_details_drawer",t);a.useListener(b.Cmd,"open_sticker_pack",u);a.useListener(b.Cmd,"ctwa_ad_preview_drawer",m);a.useListener(b.Cmd,"limit_sharing_drawer",v);a.useListener(b.Cmd,"galaxy_flows_drawer",n)}g["default"]=a}),226);
__d("useWAWebConversationPanelDragHandlers",["WAWebCmd","WAWebDataTransfer","WAWebMediaEditorOpenTrigger","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useRef;function a(a,b){var e=b.canCompose,f=b.onDragEnter,g=i(!1),h=i(null);b=function(a){if(!e)return;g.current=!0};var j=function(a){if(!e)return;g.current=!1},k=function(b){if(!e)return;var i=h.current;if(i!=null){var j=i.getCurrentComposeContent();f();var k=new(c("WAWebDataTransfer"))(b.dataTransfer);!g.current&&k.hasType("Files")&&(i.flushSaveComposeContentDebounced(),d("WAWebCmd").Cmd.attachMediaDrawer({chat:a,initCaption:j,onComplete:i.updateTextAfterMediaDrawerClose,openTrigger:d("WAWebMediaEditorOpenTrigger").MediaEditorOpenTrigger.ConversationPanelDragAndDrop}),b.stopPropagation(),b.preventDefault())}};b={onDragStart:b,onDragEnd:j,onDragEnter:k};return[h,b]}g["default"]=a}),98);
__d("useWAWebConversationPanelEphemeralNux",["WAWebChatEphemerality","WAWebChatGetters","WAWebCmd","WAWebNux","WAWebWamEnumEphemeralSettingEntryPointType","react","useWAWebChatValues","useWAWebListener","useWAWebNux"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=c("useWAWebNux")(d("WAWebNux").NUX.EPHEMERAL),e=b[0];b=d("useWAWebChatValues").useChatValues(a.id,[d("WAWebChatGetters").getIsUser]);b=b[0];var f=null;e&&(d("WAWebChatGetters").getIsGroup(a)&&a.groupMetadata!=null?f=a.groupMetadata:b&&(f=a));b=function(){e&&d("WAWebChatEphemerality").isEphemeralSettingOn(a)&&!1&&d("WAWebCmd").Cmd.ephemeralDrawer(a,!0,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.EPHEMERAL_NUX)};i(b,[]);d("useWAWebListener").useListener(f,"change:ephemeralDuration",b)}g["default"]=a}),98);
__d("useWAWebConversationPanelFiller.react",["Promise","WAAbortError","WAFilteredCatch","WAPromiseRaceAbort","WAWebMiscErrors","WAWebNoop","WAWebVelocityAnimate","react"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef;function a(a){var e=a.canCompose,f=a.selectable,g=a.setScrollBottom,i=a.getScrollBottom,j=a.onComposeHeightChange,n=m(null),o=m(0),p=m(null),q=m(),r=m(!1);l(function(){e||(o.current=0)},[e]);var s=function(a){return Math.max(0,o.current)},t=function(){var a=s();n.current&&(n.current.style.height=a+"px")};a=function(a,e){var f=a.input;a=a.overlay;var k=a===void 0?0:a,l=p.current,m=i();if(!l||m==null)return;if(f!==void 0){j(f);return}if(e){o.current=k;t();g(m);return}o.current+=k;k<0&&(t(),g(m));if(q.current){r.current=!0;(a=q.current)==null||a.controller.abort()}f=new AbortController();var n=f.signal;a=(((e=q.current)==null?void 0:e.promise)||(h||(h=b("Promise"))).resolve()).then(function(){return c("WAWebVelocityAnimate")(l,{translateY:k>0?[-k,0]:[0,k]},{duration:300,easing:[.1,.82,.25,1]})});e=c("WAPromiseRaceAbort")(a,n)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,c("WAWebNoop"))).then(function(){if(n.aborted)throw new(d("WAAbortError").AbortError)();k>0&&t();l.style.transform="";k>0&&g(m)})["catch"](d("WAAbortError").catchAbort(function(){c("WAWebVelocityAnimate")(l,"finish",!0)})).then(function(){r.current?r.current=!1:q.current=void 0});q.current={promise:e,controller:f}};var u;f?u=k.jsx("div",{ref:n,className:"x1c4vz4f x2lah0s xdl72j9 x14yy4lh"}):e&&(u=k.jsx("div",{ref:n,style:{height:s()+"px"},className:"x1c4vz4f x2lah0s xdl72j9 x14yy4lh"}));return{msgPanelRef:p,filler:u,handleComposeHeightChange:a}}g["default"]=a}),98);
__d("useWAWebConversationPanelMessageSelection",["WANullthrows","WAWebMultiSelectBar.react","WAWebMultiSelection","WAWebRevokeMetricUtils","react","useLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){var b=j(!1),e=b[0],f=b[1];b=j(d("WAWebMultiSelectBar.react").MultiSelectMode.DEFAULT);var g=b[0],h=b[1],k=c("useLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})});b=function(){d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),f(!0)};var l=i(function(b,d,e){if(!b||!a)return;b=a.indexOf(b);if(!b)return;d=a.indexOf(d);var f=d>b?-1:1;b=b+(e?f:d<b?0:f*2);while(d!==b)k.current.setVal(c("WANullthrows")(a.at(d)).safe(),e,!0),d+=f},[a,k]),m=i(function(a,b,c,e){f(!0);c&&h(c);c=k.current.getSelected().pop();e=(e==null?void 0:e.shiftKey)===!0;k.current.setVal(a,b,!0);b&&d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected();e&&l(c,a,b)},[k,l]),n=function(){if(!e)return;k.current.unsetAll();f(!1);h(d("WAWebMultiSelectBar.react").MultiSelectMode.DEFAULT)};d("useWAWebListener").useListener(a,"remove",function(a){k.current.isSelected(a)&&m(a,!1)});return{selectable:e,selectedMessages:k.current,handleSelectMessages:b,handleMessageSelect:m,handleCancelSelection:n,selectionMode:g}}g["default"]=a}),98);
__d("WAWebWebcChatOpenWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcChatOpen:[864,{webcChatOpenBeforePaintT:[7,a.TYPES.TIMER],webcChatOpenPaintedT:[6,a.TYPES.TIMER],webcChatOpenT:[2,a.TYPES.TIMER],webcFinalRenderedMessageCount:[5,a.TYPES.INTEGER],webcRenderedMessageCount:[4,a.TYPES.INTEGER],webcUnreadCount:[1,a.TYPES.NUMBER],webcWindowHeightFloat:[8,a.TYPES.NUMBER]},[1,1,5],"regular"]},{WebcChatOpen:[]});g.WebcChatOpenWamEvent=b}),98);
__d("useWAWebConversationPanelMetrics",["WAQplTypes","WAWebAppTracker","WAWebChatGetters","WAWebGroupType","WAWebLidMigrationUtils","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRenderCursorGetWindowHeight","WAWebUiActionWamEvent","WAWebWamAddressingModeUtils","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumUiActionChatType","WAWebWamEnumUiActionType","WAWebWamGroupMetricUtils","WAWebWamMsgUtils","WAWebWamPrivateStatsUtils","WAWebWebcChatOpenWamEvent","useLazyRef","useWAWebRenderCallbacks"],(function(a,b,c,d,e,f,g){function a(a,b){var e=d("WAWebLidMigrationUtils").chatIsLid(a),f=c("useLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0,isLid:e})}),g=c("useLazyRef")(function(){return new(d("WAWebWebcChatOpenWamEvent").WebcChatOpenWamEvent)({webcUnreadCount:a.unreadCount,webcWindowHeightFloat:c("WAWebRenderCursorGetWindowHeight")()})}),i=c("useLazyRef")(function(){return d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,{annotations:{"int":{unreadMessageCount:a.unreadCount,windowHeight:c("WAWebRenderCursorGetWindowHeight")()}},closePreviousInstanceWithAction:d("WAQplTypes").QuickLogActionType.ABORTED,instanceKeyOption:d("WAQplTypes").QplInstanceKeyOptions.AUTO_INCREMENT}).instanceKey});c("useWAWebRenderCallbacks")({onMount:function(){var c=g.current,e=f.current,j=i.current,k=b();k!=null&&(c.webcRenderedMessageCount=k);d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.SelectChat);c.markWebcChatOpenT();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,"chat_open",{instanceKey:j});k=a.groupMetadata;d("WAWebChatGetters").getIsGroup(a)&&k!=null?(e.isLid=k.isLidAddressingMode===!0,k.cachedDeviceSizeBucket!=null&&(e.sizeBucket=k.cachedDeviceSizeBucket,Object.assign(e,d("WAWebWamGroupMetricUtils").getGroupCountMetricsFromGroupMetadata(k))),Object.assign(e,d("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(k))):e.isLid=a.id.isLid();a.id.isBot()&&(e.agentEngagementType=d("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.DIRECT_CHAT);e.botType=d("WAWebWamMsgUtils").getWamBotType(a.id,null,(c=a.contact.businessProfile)==null?void 0:c.automatedType);e.uiActionChatType=h(a);e.markUiActionT();d("WAWebAppTracker").attachWAMAppContext(e,e.uiActionT);e.commit();d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents()},onBeforePaint:function(){var a=g.current,b=i.current;a.markWebcChatOpenBeforePaintT();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,"painted_start",{instanceKey:b})},onAfterPaint:function(){var a=g.current,c=i.current,e=b();e!=null&&(a.webcFinalRenderedMessageCount=e,d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,{"int":{finalRenderedMessageCount:e}},{instanceKey:c}));d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.SelectChat);a.markWebcChatOpenPaintedT();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,"painted_end",{instanceKey:c});a.commit();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,d("WAQplTypes").QuickLogActionType.SUCCESS,{instanceKey:c})},onUnmount:function(){var a=i.current;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,d("WAQplTypes").QuickLogActionType.CANCEL,{instanceKey:a})},onError:function(){var a=i.current;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN,d("WAQplTypes").QuickLogActionType.FAIL,{instanceKey:a})}})}function h(a){if(d("WAWebChatGetters").getIsGroup(a)){var b;if(((b=a.groupMetadata)==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP)return d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.DEFAULT_SUBGROUP;return((b=a.groupMetadata)==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP?d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.SUBGROUP:d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.GROUP}return d("WAWebChatGetters").getIsNewsletter(a)?d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.CHANNEL:d("WAWebWamEnumUiActionChatType").UI_ACTION_CHAT_TYPE.INDIVIDUAL}g["default"]=a}),98);
__d("WAWebDeleteExpiredPinsAction",["WAWebPinInChatCollection","WAWebPinMessageAction","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebPinMessageAction").seekAndDestroyExpiredPins(d("WAWebPinInChatCollection").PinInChatCollection.byChatId(d("WAWebWidFactory").asChatWid(a)).toArray())});return function(b){return a.apply(this,arguments)}}();g.deleteExpiredPins=a}),98);
__d("WAWebSupportChatConfirmationModal.react",["WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebSupportChatStrings","WAWebText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(){return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsx(d("WAWebFlex.react").FlexColumn,{children:i.jsx(d("WAWebText.react").WAWebTextSmall,{children:d("WAWebSupportChatStrings").SupportChatConfirmationModalText()})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSupportChatUtils",["WALogger","WAWebABPropsSaga","WAWebDrawerManager","WAWebHandleSingleMsg","WAWebModalManager","WAWebOpenChatFlow.react","WAWebSagaSystemMsg","WAWebSupportAIInfoNuxLoadable","WAWebSupportAiSessionWamEvent","WAWebSupportChatConfirmationModal.react","WAWebWamEnumSupportAiEventType","WAWebWidFactory","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=k||c("react");function a(){new(d("WAWebSupportAiSessionWamEvent").SupportAiSessionWamEvent)({supportAiEventType:d("WAWebWamEnumSupportAiEventType").SUPPORT_AI_EVENT_TYPE.SUPPORT_AI_SCREEN_SHOWN_ON_THE_CHAT}).commit(),d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebSupportAIInfoNuxLoadable").SupportAIInfoNuxLoadable,{}),{transition:"modal-flow"})}function e(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WAWebWidFactory").createWid(a);d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebOpenChatFlow.react").OpenChatFlow,{targetId:{targetId:a},onSuccess:function(a){var c=a.chat;a=a.created;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["openSupportChat: successfully opened support chat"])));d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();b&&(!a&&!d("WAWebABPropsSaga").getIsSagaProtobufSystemMessageEnabled()&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["openSupportChat: existing chat, adding system message"]))),void d("WAWebHandleSingleMsg").handleSingleMsg({chatId:c.id,newMsg:d("WAWebSagaSystemMsg").genSagaInitSystemMsg(c.id),handleSingleMsgOrigin:"openSupportChat"})))},msgText:null,customError:l.jsx("div",{children:l.jsx(c("WAWebSupportChatConfirmationModal.react"),{})}),onError:function(a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["InAppSupport: Error opening support chat: ",""])),a)}}),{transition:"modal-flow"})});return m.apply(this,arguments)}g.openSupportAINux=a;g.openSupportChat=e}),98);
__d("useWAWebConversationPanelOpenChat",["WAJids","WALogger","WAWebABProps","WAWebABPropsSaga","WAWebAddonHydrationUtils","WAWebBlockContactAction","WAWebChatGetters","WAWebChatGroupUtils","WAWebCmd","WAWebCommunityGatingUtils","WAWebDeleteExpiredPinsAction","WAWebDrawerManager","WAWebGroupSafetyCheckModalLoggingUtils","WAWebGroupSafetyCheckUtils","WAWebGroupType","WAWebMembershipApprovalRequestAction","WAWebMiscGatingUtils","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebNux","WAWebPinMsgGatingUtils","WAWebQueryAndUpdateNewslettersMetadataAction","WAWebRestoreSubgroupSuggestionsAction","WAWebSideNavButtonsActivityModel","WAWebSupportChatUtils","WAWebSuspendedCommunityUtils","WAWebSuspendedGroupUtils","WAWebUIRefreshGatingUtils","WAWebWid","react","useWAWebGroupParticipantStatus","useWAWebNux","useWAWebSetModelValue"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=(k||d("react")).useEffect;function a(a){var b=d("useWAWebSetModelValue").useSetModelValue(a,"active"),e=c("useWAWebGroupParticipantStatus")(a.groupMetadata);e[0];var f=e[1];e=c("useWAWebNux")(d("WAWebNux").NUX.SUPPORT_AI);var g=e[0];l(function(){d("WAWebCmd").Cmd.closeContextMenu();c("WAWebWid").isPSA(a.id)&&d("WAWebBlockContactAction").updatePSAUserBlockingStatus(a.id);b(!0);d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&(d("WAWebDrawerManager").DrawerManager.closeDrawerMid(),d("WAWebSideNavButtonsActivityModel").setLastSideBarActivityBasedOnChat(a));var e=a.groupMetadata;if(e!=null){var k=e.groupType,l=e.participants,m=e.membershipApprovalMode;(k===d("WAWebGroupType").GroupType.DEFAULT||k===d("WAWebGroupType").GroupType.LINKED_SUBGROUP)&&(l.iAmAdmin()||d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")&&f)&&m&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebMembershipApprovalRequestAction").readMembershipApprovalRequestsFromDB(a)["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["useOpenChat: error reading membership approval requests from DB: ",""])),a).sendLogs("use-open-chat-read-membership-approval-requests-from-db-error")});if(k===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&l.iAmAdmin()&&d("WAWebCommunityGatingUtils").memberSuggestedGroupsEnabled()){m=e.getParentGroupChat();m&&void d("WAWebRestoreSubgroupSuggestionsAction").restoreSubgroupSuggestionsFromDb(m)}d("WAWebGroupSafetyCheckModalLoggingUtils").logGroupOpenEvent({groupJid:a.id.toJid()})}a.id.isCAPISupportAccount()&&d("WAWebABPropsSaga").getIsSagaV1NuxEnabled()&&g&&d("WAWebSupportChatUtils").openSupportAINux();d("WAWebChatGetters").getIsNewsletter(a)&&!((k=a.newsletterMetadata)!=null&&k.isPreview)&&void d("WAWebQueryAndUpdateNewslettersMetadataAction").queryAndUpdateNewsletterMetadataAction(d("WAJids").toNewsletterJid(a.id.toString()),{fields:{subscribers:!0,verification:!0},adminFields:{adminCount:d("WAWebNewsletterMembershipUtil").iAmOwner(a.newsletterMetadata)?!0:void 0,capabilities:d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a.newsletterMetadata)&&d("WAWebNewsletterGatingUtils").shouldFetchAndLogCapabilities()?!0:void 0}});d("WAWebPinMsgGatingUtils").isPinnedMessagesM1ReceiverEnabled()&&d("WAWebDeleteExpiredPinsAction").deleteExpiredPins(a.id)["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["useOpenChat: error deleting expired pins from DB: ",""])),a).sendLogs("use-open-chat-delete-expired-pins-from-db-error")}).then(function(){void d("WAWebAddonHydrationUtils").hydrateAddons({ids:[a.id],hydrationType:d("WAWebMsgType").MSG_TYPE.PIN_MESSAGE})})["catch"](function(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["useOpenChat: error reading pins from DB: ",""])),a).sendLogs("use-open-chat-read-pins-from-db-error")});if(a.attachMediaContents){l=a.attachMediaContents.isStickerMaker;d("WAWebCmd").Cmd.attachMediaDrawer({chat:a,animationName:"noop",sendAsSticker:l})}d("WAWebChatGroupUtils").isIntegrityDeactivatedCommunityAnnouncementGroup(a)?d("WAWebSuspendedCommunityUtils").openTerminatedCommunityModal():d("WAWebChatGroupUtils").isDeactivatedCommunityAnnouncementGroup(a)||(d("WAWebChatGroupUtils").isSuspendedCommunityAnnouncementGroup(a)?d("WAWebSuspendedCommunityUtils").openSuspendedCommunityModal(a):d("WAWebChatGroupUtils").isTerminatedGroupOrNotMember(a)?d("WAWebChatGroupUtils").isSupportGroup(a)||(d("WAWebMiscGatingUtils").isGroupSuspendV2Enabled()?d("WAWebSuspendedGroupUtils").openSuspendedGroupModalV2(a):d("WAWebSuspendedGroupUtils").openTerminatedGroupOrNotMemberModal()):d("WAWebChatGroupUtils").isSuspendedGroup(a)?d("WAWebMiscGatingUtils").isGroupSuspendV2Enabled()?d("WAWebSuspendedGroupUtils").openSuspendedGroupModalV2(a):d("WAWebSuspendedGroupUtils").openSuspendedGroupModal(d("WAWebChatGroupUtils").shouldIncludeEntityIdInAppealRequest()===!0?a.id.user.toString():null):d("WAWebGroupSafetyCheckUtils").shouldShowGroupSafetyCheckUI(a)&&d("WAWebGroupSafetyCheckUtils").openGroupSafetyCheckModal(a));return function(){a.urlText&&(a.urlText=void 0),a.urlNumber&&(a.urlNumber=void 0),b(!1)}},[])}g["default"]=a}),98);
__d("useWAWebNewsletterOpenMetrics",["WAWebChannelOpenWamEvent","WAWebChatEntryPoint","WAWebChatGetters","WAWebNewsletterAttributionLogging","WAWebNewsletterGatingUtils","WAWebNewsletterLoggingUtils","WAWebNewsletterWamoSubUtils","WAWebWamEnumChannelEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=a.chat,c=a.chatEntryPoint;i(function(){var a;if(!d("WAWebChatGetters").getIsNewsletter(b))return;var e=b.newsletterMetadata;if(e==null)return;var f=Math.round(Math.random()*1e9),g=d("WAWebNewsletterLoggingUtils").getChannelEntryPoint(c),h=d("WAWebNewsletterAttributionLogging").getDiscoverySurfaceFromChannelEntryPoint(g),i=d("WAWebNewsletterLoggingUtils").getChannelEntryPointMetadata(c);d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setChannelEntryPoint(g);d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setChannelEntryPointMetadata(i);var j=d("WAWebNewsletterLoggingUtils").getChannelUserType(e.membershipType),k=c===d("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters?d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.getSimilarChannelsSessionIdForLogging():void 0;k!=null&&d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setSimilarChannelsSessionId(null);var l=[d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.DIRECTORY,d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.DIRECTORY_SEARCH,d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.DIRECTORY_CATEGORIES,d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.DIRECTORY_CATEGORIES_SEARCH,d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.UPDATES_TAB_SEARCH].includes(g);e=d("WAWebNewsletterGatingUtils").isWamoSubLoggingEnabled()?d("WAWebNewsletterWamoSubUtils").newsletterSupportsSubscriptions(e):void 0;var m=d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.getNewsletterDirectoryLoggingData();m=JSON.stringify({directory_category_name:(a=m.directoryCategoryName)!=null?a:void 0,directory_category_index:(a=m.directoryCategoryIndex)!=null?a:void 0,directory_channel_index:(a=m.directoryChannelIndex)!=null?a:void 0});f=new(d("WAWebChannelOpenWamEvent").ChannelOpenWamEvent)(babelHelpers["extends"]({channelSessionId:f,channelEntryPoint:g,channelUserType:j,cid:b.id.user,unreadMessages:b.unreadCount,channelEntryPointMetadata:i,similarChannelsSessionId:k!=null?k:void 0,discoverySurface:h,isPremium:e},l&&{channelDirectorySessionId:(a=d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.getDirectorySessionIdForLogging())!=null?a:void 0,entryPointMetadata:m}));f.commit()},[])}g.useNewsletterOpenMetrics=a}),98);
__d("WAWebNewsletterPrivacyMsgBar.react",["fbt","WAWebCopyPasteSelectable.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebNewsletterPhoneNumberPrivacyNux.react","WAWebRoundXInvIcon.react","WAWebUnstyledButton.react","fbs","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useCallback,m={dismissButton:{display:"x78zum5",$$css:!0}};function a(a){a=a.onDismiss;var b=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebNewsletterPhoneNumberPrivacyNux.react").NewsletterPhoneNumberNux,{}))},[]);b=k.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{className:"x1ypdohk",id:"data-sharing-learn-more-link",selectable:!0,onClick:b,children:c("WAWebFbtCommon")("Learn more")});return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",gap:8,children:[k.jsx(d("WAWebFlex.react").FlexItem,{children:k.jsxs("span",{className:"x126k92a","data-testid":void 0,children:[h._(/*BTDS*/"This channel has added privacy for your profile and phone number.")," ",b]})}),k.jsx(d("WAWebFlex.react").FlexItem,{grow:0,align:"center",children:k.jsx(c("WAWebUnstyledButton.react"),{onClick:a,xstyle:m.dismissButton,"aria-label":c("fbs")._(/*BTDS*/"Dismiss"),children:k.jsx(d("WAWebRoundXInvIcon.react").RoundXInvIcon,{height:15})})})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterPrivacyMsgBar=a}),226);
__d("useWAWebNewsletterPrivacyBanner",["WAWebChatGetters","WAWebNewsletterPrivacyMsgBar.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useState;function m(a){var b;return d("WAWebChatGetters").getIsNewsletter(a)&&((b=a.newsletterMetadata)==null?void 0:b.isPreview)===!0&&!a.isSuspendedOrTerminated()}function a(a){var b=l(m(a)),c=b[0],e=b[1];d("useWAWebListener").useListener(a.newsletterMetadata,["change:isPreview"],function(){return e(m(a))});b=k(function(){e(!1)},[]);return c?j.jsx(d("WAWebNewsletterPrivacyMsgBar.react").NewsletterPrivacyMsgBar,{onDismiss:b}):null}g["default"]=a}),98);
__d("WAWebConversationPanel.react",["fbt","WAFilteredCatch","WAPromiseRaceAbort","WAWebAiAgentAutoReplyControlMutation","WAWebAiSignalIcon.react","WAWebAnimationGroupItem.react","WAWebAttachmentMenuLogger","WAWebBizAiAgentGating","WAWebBizAiAgentStatusUtils","WAWebBizAiMuteUnmuteErrorDrawer.react","WAWebCaptureMediaDrawerLoadable","WAWebChatGetters","WAWebChatGroupUtils","WAWebClickable.react","WAWebCmd","WAWebComposeBox.react","WAWebCongratulationsAnimationConversation.react","WAWebCongratulationsAnimationsGatingUtils","WAWebConversationBackground.react","WAWebConversationDeprecatedLidChatBanner.react","WAWebConversationDeprecatedLidChatUtils","WAWebConversationMsgs.react","WAWebConversationPanel.scss","WAWebConversationPanelBanner.react","WAWebConversationSpam.react","WAWebConversationSpamUtils","WAWebDrawerManager","WAWebFrontendChatGetters","WAWebGroupType","WAWebGuidePopup.react","WAWebHeader.react","WAWebInteractionTracePolicy","WAWebMediaCapture","WAWebMiscErrors","WAWebModalManager","WAWebMultiSelectBar.react","WAWebNewsletterMembershipUtil","WAWebNewsletterSuspendedConversationPanelBody.react","WAWebPrepareMessageSendingAction","WAWebProtobufsE2E.pb","WAWebSideNavButtonsActivityModel","WAWebStateUtils","WAWebText.react","WAWebTimeSpentLoggingNavigation","WAWebUISpacing","WAWebUimUie.react","WAWebUseBizBotTos","WAWebUseMaybeRequestWelcomeMessage","WAWebVelocityTransitionGroup","asyncToGeneratorRuntime","cr:7506","react","stylex","useWAWebChatOpenMetrics","useWAWebCommunityNux","useWAWebConversationPanelActionListeners","useWAWebConversationPanelCanCompose","useWAWebConversationPanelChatActionListeners","useWAWebConversationPanelDragHandlers","useWAWebConversationPanelEphemeralNux","useWAWebConversationPanelFiller.react","useWAWebConversationPanelMessageSelection","useWAWebConversationPanelMetrics","useWAWebConversationPanelOpenChat","useWAWebEventTargetValue","useWAWebListener","useWAWebModelValues","useWAWebNewsletterOpenMetrics","useWAWebNewsletterPrivacyBanner","useWAWebShowCommunitySubjectSyncIssue","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useCallback,n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r={footerMessage:{boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",minHeight:"x122xwht",fontSize:"x1f6kntn",lineHeight:"x1fc57z9",color:"x16cd2qt",textAlign:"x2b8uid",backgroundColor:"x1pl83jw",$$css:!0},aiIconXstyle:{color:"xhslqc4",$$css:!0},aiIconHover:{color:"xx4v7xm",$$css:!0}};function a(a){var e,f=a.chat,g=a.chatEntryPoint,h=a.msgCollection,i=a.focusCtx,k=a.groupMetadata,s=p(null),u=q(!1),v=u[0],w=u[1];u=m(function(a){a!==v&&w(a)},[v]);var x=o(function(){return d("WAWebConversationDeprecatedLidChatUtils").getLidDeprecatedInfo(f)},[f]);c("useWAWebShowCommunitySubjectSyncIssue")(f);c("useWAWebConversationPanelOpenChat")(f);c("useWAWebCommunityNux")(f);c("useWAWebConversationPanelEphemeralNux")(f);d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:d("WAWebChatGetters").getIsNewsletter(f)?"channel-thread":"chat",extras:{groupSize:d("WAWebChatGetters").getIsNewsletter(f)?(e=f.newsletterMetadata)==null?void 0:e.size:(e=f.groupMetadata)==null?void 0:e.participants.length,channelWid:d("WAWebChatGetters").getIsNewsletter(f)?f.id:void 0,typeOfGroup:f.groupMetadata==null?void 0:d("WAWebGroupType").groupTypeToWamEnum(d("WAWebGroupType").getGroupTypeFromGroupMetadata(f.groupMetadata))}});c("useWAWebConversationPanelMetrics")(f,function(){var a;return(a=s.current)==null?void 0:a.getRenderedMessageCount()});d("useWAWebNewsletterOpenMetrics").useNewsletterOpenMetrics({chat:f,chatEntryPoint:g});d("useWAWebChatOpenMetrics").useChatOpenMetrics(f);c("useWAWebConversationPanelChatActionListeners")();d("useWAWebModelValues").useModelValues(f,["isReadOnly","isAnnounceGrpRestrict","newsletterMetadata"]);e=c("useWAWebNewsletterPrivacyBanner")(f);g=c("useWAWebConversationPanelCanCompose")(f);var y=g[0];g=g[1];var z=q(function(){return!y&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(f)&&d("WAWebConversationSpamUtils").shouldShowSpamPanel(f)}),A=z[0],B=z[1];z=c("useWAWebConversationPanelMessageSelection")(f.msgs);var C=z.selectable,D=z.selectedMessages,E=z.handleSelectMessages,F=z.handleMessageSelect,G=z.handleCancelSelection;z=z.selectionMode;var H=c("useWAWebConversationPanelDragHandlers")(f,{canCompose:y,onDragEnter:G}),I=H[0];H=H[1];var J=c("useWAWebConversationPanelFiller.react")({canCompose:y,selectable:C,setScrollBottom:function(a){var b;return(b=s.current)==null?void 0:b.setScrollBottom(a)},getScrollBottom:function(){var a;return(a=s.current)==null?void 0:a.getScrollBottom()},onComposeHeightChange:function(a){var b;return(b=s.current)==null?void 0:b.onComposeHeightChange(a)}}),K=J.msgPanelRef,L=J.filler;J=J.handleComposeHeightChange;var M=function(){var a;(a=s.current)==null||a.focus()},N=p(null),O=c("useWAWebUIM")(),P=c("useWAWebUnmountSignal")();n(function(){return function(){N.current==null||N.current(),d("WAWebSideNavButtonsActivityModel").getLastActiveButton()==null&&d("WAWebDrawerManager").DrawerManager.closeDrawerMid()}},[]);c("useWAWebConversationPanelActionListeners")({onFocus:M});d("WAWebUseBizBotTos").useBizBot3pTos(f);d("WAWebUseMaybeRequestWelcomeMessage").useMaybeRequestWelcomeMessage(f);M=c("useWAWebEventTargetValue")(f.newsletterMetadata,["change:suspended"],function(){var a;return d("WAWebChatGetters").getIsNewsletter(f)&&((a=f.newsletterMetadata)==null?void 0:a.suspended)===!0});var Q=c("useWAWebEventTargetValue")(f.newsletterMetadata,["change:geosuspended"],function(){var a;return d("WAWebChatGetters").getIsNewsletter(f)&&((a=f.newsletterMetadata)==null?void 0:a.geosuspended)===!0}),R=function(a){var b;(b=s.current)==null||b.onPageUpDown(a)},S,T=null;d("WAWebCongratulationsAnimationsGatingUtils").isCongratulationsAnimationsEnabled()&&(T=l.jsx(d("WAWebCongratulationsAnimationConversation.react").CongratulationsAnimationConversation,{chat:f}));if(C)S=l.jsx(d("WAWebUimUie.react").UIE,{displayName:"MultiSelect",escapable:!0,requestDismiss:G,children:l.jsx(d("WAWebMultiSelectBar.react").MultiSelectBar,{chat:f,selectedMessages:D,noSortOnForward:!1,onCancel:G,entryPoint:d("WAWebMultiSelectBar.react").MultiSelectBarEntryPoint.CONVERSATION_PANEL,mode:z})}),G=l.jsx("footer",{className:c("WAWebConversationPanel.scss").footer+" x1n2onr6 x1vjfegm x9f619 x1okw0bk xo1ph6p x122xwht"});else if(y)G=l.jsx(d("WAWebComposeBox.react").ComposeBox,{chat:f,ref:I,canShowSpamPanel:v,onComposeHeightChange:J,onPageUpDown:R});else{z=g!=null?g:e;I=null;v&&A&&d("WAWebFrontendChatGetters").getShouldAppearInList(f)&&f.msgs.length>0&&(I=l.jsx(c("WAWebAnimationGroupItem.react"),{children:l.jsx(c("WAWebConversationSpam.react"),{chat:f,onClickNotSpam:function(){B(!1),d("WAWebConversationSpamUtils").acknowledgeGroupAsNotSpam(f)},onClickDismissSpam:function(){return B(!1)}})}));G=z!=null&&l.jsxs("footer",{"data-testid":void 0,className:c("WAWebConversationPanel.scss").footer+" x1n2onr6 x1vjfegm x9f619 x1okw0bk xo1ph6p x122xwht",children:[I,l.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(j||(j=c("stylex"))).props(r.footerMessage,d("WAWebUISpacing").uiPadding.vert14,d("WAWebUISpacing").uiPadding.horiz18),{children:z}))]})}var U;y||(U=l.jsx(d("WAWebComposeBox.react").PlaceholderComposeBox,{chat:f,handleFocus:function(){var a;s==null||(a=s.current)==null||a.focus()}}));J=function(a){var b=a.onMenuComplete,e=a.questionType,g=a.questionReplyQuotedMessage;a=d("WAWebMediaCapture").start({type:"camera",featureSurface:d("WAWebGuidePopup.react").FeatureSurface.PHOTO_CAPTURE});var h=a.asyncStream;a=a.disposeStream;N.current=a;c("WAPromiseRaceAbort")(h,P).then(function(a){a&&(d("WAWebCmd").Cmd.closeContextMenu(),d("WAWebCmd").Cmd.closeTooltip(),d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),d("WAWebModalManager").ModalManager.close(),d("WAWebDrawerManager").DrawerManager.openDrawerMid(l.jsx(d("WAWebCaptureMediaDrawerLoadable").CaptureMediaDrawerLoadable,{chat:d("WAWebStateUtils").unproxy(f),stream:a,disposeStream:N.current,onCaptureSent:function(){b(!0),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(f,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(f,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA)},onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},questionType:e,questionReplyQuotedMessage:g}),{transition:"slide-up",uim:O,noFocus:!0}))})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){var a;d("WAWebModalManager").ModalManager.open(l.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.CAMERA_FAIL,type:a.GuidePopupType.GUIDE_UNBLOCK,featureSurface:a.FeatureSurface.PHOTO_CAPTURE}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){var a;d("WAWebModalManager").ModalManager.open(l.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.CAMERA_MISSING,type:a.GuidePopupType.GUIDE_NONE,featureSurface:a.FeatureSurface.PHOTO_CAPTURE}))}))["finally"](function(){void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(f)})};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_capture_media",J);R=x.isLidDeprecated?l.jsx(c("WAWebConversationDeprecatedLidChatBanner.react"),{latestLid:x.latestLid}):null;g=[R];var V={ref:s,chat:f,selectable:C,onMessageSelect:F,msgCollection:h,onSelectMessages:E,focusCtx:i,selectedMessages:D,notifyChatRendered:a.notifyChatRendered,updateOpenedChatInfo:a.updateOpenedChatInfo,updateCanShowSpamPanel:u,bottomBanners:g};e=b("cr:7506")?l.jsx(b("cr:7506"),{description:"ConversationMsgs",enableHoldTrigger:!0,policy:c("WAWebInteractionTracePolicy").LOAD_MESSAGES,children:function(a,b){return l.jsx("div",{ref:a,className:"x5yr21d",children:l.jsx(c("WAWebConversationMsgs.react"),babelHelpers["extends"]({},V,{interaction:b}))})}}):l.jsx(c("WAWebConversationMsgs.react"),babelHelpers["extends"]({},V));A=M?l.jsx(c("WAWebNewsletterSuspendedConversationPanelBody.react"),{isGeosuspended:Q,isAdminOrOwner:d("WAWebNewsletterMembershipUtil").iAmOwner(f.newsletterMetadata)||d("WAWebNewsletterMembershipUtil").iAmAdmin(f.newsletterMetadata)}):e;I=d("WAWebBizAiAgentStatusUtils").isChatEligibleForAiAgent(f)&&!f.getAttempToEnableAi()&&!d("WAWebBizAiAgentStatusUtils").isChatAiEnabled(f)&&d("WAWebBizAiAgentGating").isAiMuteUnmuteV2Enabled();return l.jsxs(l.Fragment,{children:[l.jsx(c("WAWebConversationBackground.react"),{wallpaper:a.wallpaper,showDoodle:a.showDoodle}),l.jsx(d("WAWebHeader.react").ConversationHeader,{chat:f,onSelectMessages:E}),l.jsx(c("WAWebConversationPanelBanner.react"),{chat:f,groupMetadata:k}),l.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6 x1vjfegm x1cqoux5 x14yy4lh",ref:K},H,{"data-testid":void 0,children:[T,A]})),L,I&&l.jsx(t,{chat:f}),G,U,l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"slide-up",children:S})]})}a.displayName=a.name+" [from "+f.id+"]";function s(){return l.jsx("div",{className:"xixxii4 x1kmv161 xd7zvh7 x3l9nec xhtitgo x1dmp6jm xlrawln x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8",children:l.jsx(d("WAWebText.react").WAWebTextMuted,{color:"white",children:h._(/*BTDS*/"AI replies")})})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var e=a.chat;a=q(!1);var f=a[0],g=a[1];function h(){g(!0)}function i(){g(!1)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a.setAttempToEnableAi(!0);var b=(yield d("WAWebAiAgentAutoReplyControlMutation").changeAiReplyStatus(a.id,"ENABLED"));b.isSuccess?void a.setCapiThreadControl(d("WAWebProtobufsE2E.pb").Message$CloudAPIThreadControlNotification$CloudAPIThreadControl.CONTROL_TAKEN):d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebBizAiMuteUnmuteErrorDrawer.react"),{}))}catch(a){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebBizAiMuteUnmuteErrorDrawer.react"),{}))}a.setAttempToEnableAi(!1)});return k.apply(this,arguments)}return l.jsxs(d("WAWebClickable.react").Clickable,{onClick:function(){void j(e)},tabIndex:0,children:[l.jsx("div",{className:"xixxii4 xhjxwu4 x9q68il x889kno x2vl965 x1a8lsjc xe2zdcy xhtitgo xvni27 xdd8jsf x1c9tyrk xeusxvb x1pahc9y x1ertn4p x27vdmw x1c7u0tx x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xisoiy x347gel xfl8pta x1svocj7 x78zum5 xl56j7k x6s0dn4 x15g2dp1",onMouseEnter:h,onMouseLeave:i,children:f?l.jsx(d("WAWebAiSignalIcon.react").AiSignalIcon,{width:30,height:30,iconXstyle:r.aiIconHover}):l.jsx(d("WAWebAiSignalIcon.react").AiSignalIcon,{width:30,height:30,iconXstyle:r.aiIconXstyle})}),f&&l.jsx(s,{})]})}t.displayName=t.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebConversationPanelAnimations",["WAWebVelocityAnimate"],(function(a,b,c,d,e,f,g){function a(a,b){c("WAWebVelocityAnimate")(a,{scaleX:[1,1]},{duration:300,easing:[.1,.82,.25,1]});a=b!==1;return a}g.animateConversationPanel=a}),98);
__d("WAWebConversationPanelWrapper.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={pane:"_ajx_",previewPane:"_ajy0",header:"_ajy1",title:"_ajy2"};b=a;g["default"]=b}),98);
__d("WAWebHeader.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={chatHeader:"_amid",chatHeaderStylesOverride:"_as5b",chatHeaderMaterial:"_aqy6",chatTitle:"_amig"};b=a;g["default"]=b}),98);
__d("WAWebConversationPanelWrapper.react",["fbt","WAWebABProps","WAWebChatPreferenceCollection","WAWebClassnames","WAWebConversationBackground.react","WAWebConversationPanel.react","WAWebConversationPanel.scss","WAWebConversationPanelAnimations","WAWebConversationPanelWrapper.scss","WAWebCurrentUser","WAWebErrorBoundary.react","WAWebHeader.scss","WAWebThemeContext","WAWebUIRefreshGatingUtils","WAWebUim","WAWebUimUie.react","WAWebWallpaper","react","stylex","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l;b=l||d("react");var m=j||(j=c("react")),n=b.useImperativeHandle,o=b.useRef,p=b.useState,q={pane:{backgroundColor:"x1g3tyrs",$$css:!0},paneRefreshedExperimental:{backgroundColor:"xkd2t4d",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.chat,f=a.chatEntryPoint,g=a.msgCollection,j=a.focusCtx,l=a.notifyChatRendered,r=a.updateOpenedChatInfo,s=a.showPreview,t=o(null),u=d("useWAWebModelValues").useModelValues(a.chatPreference,["wallpaper","showDoodle"]),v=d("useWAWebModelValues").useOptionalModelValues(a.chat,["wallpaper","showDoodle"]),w=d("WAWebThemeContext").useIsDarkTheme();function x(){var a;return!s&&d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")?(a=v==null?void 0:v.wallpaper)!=null?a:u.wallpaper:u.wallpaper}var y=p(x()),z=y[0],A=y[1];y=p(x());var B=y[0];y=y[1];d("useWAWebListener").useListener(c("WAWebChatPreferenceCollection"),"wallpaper_preview",function(a){if(d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")){var b;A((b=a!=null?a:v==null?void 0:v.wallpaper)!=null?b:u.wallpaper)}else A(a!=null?a:u.wallpaper)});x=x();B!==x&&(A(x),y(x));var C=function(a,b,c,e){var f;f=(f=t.current)==null?void 0:f.clientWidth;if(f==null||a===b)return!1;var g=f/(a-b);if(e===!0&&c!=null&&c>0){e=a-b-c;g=f/e}return d("WAWebConversationPanelAnimations").animateConversationPanel(t.current,g)},D=function(a){return!t.current?!1:t.current.contains(a)};n(b,function(){return{animatePanel:C,containsDOMNode:D}});B={};z!==d("WAWebWallpaper").DEFAULT_CHAT_WALLPAPER&&(B.backgroundColor=z);y=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();x=s?m.jsxs(m.Fragment,{children:[m.jsx("header",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebHeader.scss").chatHeader,y&&c("WAWebHeader.scss").chatHeaderMaterial,c("WAWebConversationPanelWrapper.scss").header),children:m.jsx("span",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebConversationPanelWrapper.scss").title,c("WAWebHeader.scss").chatTitle),children:h._(/*BTDS*/"Wallpaper preview")})}),m.jsx(c("WAWebConversationBackground.react"),{wallpaper:z,showDoodle:u.showDoodle}),m.jsx("footer",{className:c("WAWebConversationPanel.scss").footer})]}):null;f=e&&g?m.jsx(c("WAWebConversationPanel.react"),{chat:e,chatEntryPoint:f,groupMetadata:e.groupMetadata,focusCtx:j,msgCollection:g,notifyChatRendered:l,updateOpenedChatInfo:r,wallpaper:z,showDoodle:d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")?(b=v==null?void 0:v.showDoodle)!=null?b:u.showDoodle:u.showDoodle},e.id.toString()):null;d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")?j=x!=null?x:f:j=f!=null?f:x;g=!w&&y&&d("WAWebCurrentUser").isEmployee()?q.paneRefreshedExperimental:q.pane;return m.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"conversation-panel",type:"fatal",children:m.jsx(d("WAWebUimUie.react").UIE,{displayName:"ConversationPanel",uimState:d("WAWebUim").UIMState.INACTIVE,children:m.jsx("div",{id:"main",className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((l={},l[c("WAWebConversationPanelWrapper.scss").previewPane]=a.showPreview,l[c("WAWebConversationPanelWrapper.scss").pane]=!0,l),(k||(k=c("stylex")))(g)),style:B,ref:t,"data-testid":void 0,children:j})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDesktopUpsellAnimationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{v:"5.8.1",fr:60,ip:0,op:140,w:228,h:152,nm:"wds_anim_web_calling_doc",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Phone",parent:7,sr:1,ks:{r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:15,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:28,s:[-14]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:37.922,s:[5]},{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:48,s:[-5]},{t:61,s:[0]}],ix:10},p:{a:0,k:[14.947,85.892,0],ix:2,l:2},a:{a:0,k:[28.84,31.814,0],ix:1,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.202,.44],[3.166,2.654],[.921,.042],[.565,-.257],[-.633,-5.96],[-3.186,-4.919],[-10.942,-3.421],[-3.547,1.887],[.761,2.96],[.905,1.078],[2.021,2.354],[1.43,-.045],[2.952,-.293],[.986,.815],[3.143,5.138],[-.771,2.538],[.028,2.137],[0,0],[0,0]],o:[[.004,-.476],[-1.905,-3.925],[-.794,-.639],[-.622,-.035],[-4.772,2.257],[.64,5.932],[6.811,10.539],[3.892,1.26],[2.395,-1.292],[-.379,-1.435],[-2.026,-2.385],[-1.042,-1.209],[-3.001,.075],[-1.184,.107],[-4.551,-3.652],[-1.341,-2.141],[.689,-2.217],[0,0],[0,0],[0,0]],v:[[-5.676,-15.63],[-6.07,-16.954],[-13.803,-26.972],[-16.365,-28.294],[-18.145,-27.866],[-24.495,-13.103],[-17.749,3.148],[8.9,26.736],[20.643,26.441],[24.367,19.326],[22.148,15.694],[16.072,8.583],[12.402,6.148],[5.626,12.005],[2.359,10.563],[-8.596,-2.908],[-9.876,-9.111],[-5.658,-15.596],[-5.648,-15.635],[-5.673,-15.643]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.145098039216,.827451040231,.400000029919,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[28.877,32.079],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-27,op:140,st:-162,bm:0},{ddd:0,ind:2,ty:4,nm:"Mask_Plane",parent:7,td:1,sr:1,ks:{p:{a:0,k:[72.292,55.751,0],ix:2,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[140.428,97.908],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:0,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.145097994337,.827450980392,.4,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.145097994337,.827450980392,.4,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[1.214,-4.546],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:28,op:55,st:15,bm:0},{ddd:0,ind:3,ty:4,nm:"Plane",tt:2,sr:1,ks:{r:{a:1,k:[{i:{x:[.068],y:[1]},o:{x:[.36],y:[0]},t:16,s:[-170]},{t:125,s:[2]}],ix:10},p:{a:1,k:[{i:{x:.15,y:1},o:{x:.36,y:0},t:16,s:[71.059,64.4,0],to:[-47.292,19.417,0],ti:[-66.357,-11.303,0]},{t:125,s:[75.809,20.4,0]}],ix:2,l:2},a:{a:0,k:[22.279,21.973,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.15,.15,.667],y:[1,1,1]},o:{x:[.36,.36,.333],y:[0,0,0]},t:16,s:[81.021,81.021,100]},{t:125,s:[100,100,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.644,-.294],[0,0],[-.256,-1.199],[0,0],[-1.443,1.312],[0,0],[2.037,.52],[0,0],[-.406,-1.878],[0,0],[-1.294,.094]],o:[[.712,-.051],[0,0],[-1.061,.484],[0,0],[.429,2],[0,0],[1.524,-1.385],[0,0],[-1.811,-.462],[0,0],[.287,1.324],[0,0]],v:[[.447,-4.079],[.799,-2.82],[-12.297,3.157],[-13.667,6.027],[-11.669,15.359],[-7.445,16.911],[17.005,-5.316],[15.777,-9.878],[-15.131,-17.76],[-18.124,-14.746],[-16.07,-5.251],[-13.29,-3.087]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[22.279,21.973],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:28,op:140,st:-32,bm:0},{ddd:0,ind:4,ty:4,nm:"Moc Line (change in Dark Mode)",sr:1,ks:{p:{a:0,k:[35.302,52.662,0],ix:2,l:2},a:{a:0,k:[25.414,36.221,0],ix:1,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-31.602,22.595]],o:[[-38.994,3.069],[0,0]],v:[[18.164,-33.471],[9.938,9.876]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:a?[1,1,1,1]:[.066666670144,.105882361531,.129411771894,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[25.414,36.222],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.161],y:[0]},t:46,s:[89]},{t:125,s:[1]}],ix:1},e:{a:0,k:90,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:50,op:140,st:-93,bm:0},{ddd:0,ind:5,ty:4,nm:"document",parent:6,sr:1,ks:{r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:35,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:48,s:[-6]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:57.922,s:[13]},{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:68,s:[3]},{t:81,s:[8]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.753,y:0},t:15,s:[28.215,12.752,0],to:[0,0,0],ti:[0,0,0]},{t:65,s:[28.215,-31.248,0]}],ix:2,l:2},a:{a:0,k:[24.028,29.146,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.753,.753,.333],y:[0,0,0]},t:15,s:[0,0,100]},{t:65,s:[100,100,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-9.736,-2.307],[9.736,2.307]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:37,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.901960844152,1,.854902020623,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[24.415,32.004],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-9.736,-2.307],[9.736,2.307]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:37,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.901960844152,1,.854902020623,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[22.752,40.527],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[4.867,1.153],[-4.867,-1.153]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:37,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.901960844152,1,.854902020623,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[21.209,22.329],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:3,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.025,-.243],[0,0],[0,0],[0,0],[-.57,-.964]],o:[[0,0],[0,0],[0,0],[-.218,1.121],[.57,.964]],v:[[-2.282,5.919],[5.539,7.772],[-3.652,-7.772],[-5.321,.781],[-4.772,4.036]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:37,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[38.761,16.277],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:3,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.515,-.103],[.434,-.317],[.299,-.471],[.102,-.563],[0,0],[-.607,-1.01],[-.43,-.328],[-.513,-.115],[0,0],[-.516,.104],[-.435,.319],[-.298,.47],[-.103,.561],[0,0],[0,0]],o:[[-.511,-.129],[-.514,.103],[-.445,.302],[-.299,.471],[0,0],[-.228,1.169],[.276,.487],[.431,.328],[0,0],[.511,.129],[.516,-.104],[.444,-.302],[.297,-.47],[0,0],[0,0],[0,0]],v:[[-8.39,-25.254],[-9.944,-25.293],[-11.382,-24.655],[-12.51,-23.483],[-13.118,-21.916],[-20.05,13.61],[-19.487,16.887],[-18.416,18.124],[-16.985,18.795],[10.28,25.254],[11.837,25.292],[13.278,24.65],[14.402,23.479],[15.008,21.915],[20.278,-5.094],[11.081,-20.641]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:37,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.901960844152,1,.854902020623,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[24.028,29.146],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:3,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:37,op:140,st:-10,bm:0},{ddd:0,ind:6,ty:4,nm:"chat",parent:7,sr:1,ks:{p:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:22,s:[100.695,66.349,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:1,y:0},t:37,s:[100.695,61.974,0],to:[0,0,0],ti:[0,0,0]},{i:{x:0,y:1},o:{x:.333,y:0},t:50,s:[100.695,66.349,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:58,s:[100.695,65.099,0],to:[0,0,0],ti:[0,0,0]},{t:63,s:[100.695,66.349,0]}],ix:2,l:2},a:{a:0,k:[31.455,23.737,0],ix:1,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,9.41],[0,0],[-8.696,.008],[0,0],[0,-9.409],[0,0],[0,0],[1.041,0],[0,0],[0,0],[0,0]],o:[[-8.696,.008],[0,0],[-.015,-9.41],[0,0],[8.696,-.008],[0,0],[0,0],[.524,.9],[0,0],[0,0],[0,0],[0,0]],v:[[-11.937,19.979],[-27.69,2.958],[-27.69,-2.91],[-11.959,-19.954],[7.729,-19.979],[23.483,-2.958],[23.497,11.59],[27.181,17.734],[25.993,19.947],[-11.922,19.986],[-11.944,19.986],[-11.937,19.986]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[31.455,23.736],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-101,op:140,st:-89,bm:0},{ddd:0,ind:7,ty:4,nm:"web",sr:1,ks:{p:{a:1,k:[{i:{x:.15,y:1},o:{x:.65,y:0},t:0,s:[125.954,90.168,0],to:[0,0,0],ti:[0,0,0]},{t:50,s:[114.454,71.668,0]}],ix:2,l:2},a:{a:0,k:[72.746,51.419,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.15,.15,.667],y:[1,1,1]},o:{x:[.65,.65,.333],y:[0,0,0]},t:0,s:[75,75,100]},{t:50,s:[100,100,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-2.12,2.336],[2.12,-2.336]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.598,12.722],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-2.217,-2.443],[2.217,2.443]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.695,12.829],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,-3.219],[0,0],[4.326,0],[0,0]],o:[[0,0],[3.22,0],[0,0],[0,4.766],[0,0],[0,0]],v:[[-46.971,-47.669],[41.14,-47.669],[46.971,-41.839],[46.971,39.024],[39.123,47.669],[-46.971,47.669]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.988235353956,.960784373564,.921568687289,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[94.771,51.419],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:3,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[14.065,54.655],[39.879,54.655]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:3,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[14.065,46.225],[39.879,46.225]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:3,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,4.566],[0,0],[-4.143,0],[0,0]],o:[[0,0],[-4.143,0],[0,0],[0,-4.565],[0,0],[0,0]],v:[[22.301,47.663],[-14.798,47.663],[-22.301,39.395],[-22.301,-39.384],[-14.798,-47.663],[22.301,-47.663]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.15],y:[1]},o:{x:[.65],y:[0]},t:0,s:[2]},{t:50,s:[1.5]}],ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.901960844152,1,.854902020623,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[26.052,51.413],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:3,cix:2,bm:0,ix:6,mn:"ADBE Vector Group",hd:!1}],ip:-9,op:140,st:10,bm:0},{ddd:0,ind:8,ty:4,nm:"line",sr:1,ks:{p:{a:1,k:[{i:{x:.15,y:1},o:{x:.65,y:0},t:0,s:[111.65,141.892,0],to:[0,0,0],ti:[0,0,0]},{t:50,s:[108.65,141.892,0]}],ix:2,l:2},a:{a:0,k:[19.038,5.757,0],ix:1,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[2.217,0],[0,0],[0,2.217]],o:[[0,0],[0,2.217],[0,0],[-2.216,0],[0,0]],v:[[15.288,-2.007],[15.288,-2.007],[11.274,2.007],[-11.275,2.007],[-15.288,-2.007]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666670144,.105882361531,.129411771894,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[19.038,5.757],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:140,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"computer",sr:1,ks:{p:{a:0,k:[137.626,118.859,0],ix:2,l:2},a:{a:0,k:[73.682,32.806,0],ix:1,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-4.003,0],[0,0],[0,4.411]],o:[[0,0],[0,4.423],[0,0],[4.025,0],[0,0]],v:[[60.457,-4.015],[-60.457,-4.015],[-53.169,4.015],[53.137,4.015],[60.425,-4.015]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.145098039216,.827451040231,.400000029919,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[64.207,57.847],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.15,y:1},o:{x:.65,y:0},t:0,s:[{i:[[0,0],[0,0],[4.297,.025],[0,0],[0,0]],o:[[0,0],[1.699,-3.947],[0,0],[0,0],[0,0]],v:[[33.089,26.108],[45.295,-16.286],[39.819,-24.659],[-36.497,-26.224],[-52.994,26.108]],c:!0}]},{t:50,s:[{i:[[0,0],[0,0],[4.297,.025],[0,0],[0,0]],o:[[0,0],[1.699,-3.947],[0,0],[0,0],[0,0]],v:[[33.089,26.108],[51.295,-16.17],[45.819,-24.543],[-30.497,-26.108],[-52.994,26.108]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.066666666667,.105882360421,.129411764706,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.145098039216,.827451040231,.400000029919,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[90.619,29.858],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[4.297,.025],[0,0],[0,0]],o:[[0,0],[1.699,-3.947],[0,0],[0,0],[0,0]],v:[[123.708,55.966],[135.914,13.572],[130.438,5.199],[54.122,3.634],[37.625,55.966]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:140,st:0,bm:0}],markers:[]}}f["default"]=a}),66);
__d("WAWebIntroMdBetaLogoDarkIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="intro-md-beta-logo-dark";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=172;o=303;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 303 172",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M229.565 160.229C262.212 149.245 286.931 118.241 283.39 73.4194C278.009 5.31929 212.365 -11.5738 171.472 8.48673C115.998 35.6999 108.972 40.1612 69.2388 40.1612C39.645 40.1612 9.51317 54.4147 5.74669 92.952C3.01662 120.885 13.9985 145.267 54.6373 157.716C128.599 180.373 198.017 170.844 229.565 160.229Z",fill:"#364147"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.589 68.9422C131.593 68.9422 131.596 68.9422 131.599 68.9422C137.86 68.9422 142.935 63.6787 142.935 57.1859C142.935 50.6931 137.86 45.4297 131.599 45.4297C126.518 45.4297 122.218 48.8958 120.777 53.6723C120.022 53.4096 119.213 53.2672 118.373 53.2672C114.199 53.2672 110.815 56.7762 110.815 61.1047C110.815 65.4332 114.199 68.9422 118.373 68.9422C118.377 68.9422 118.381 68.9422 118.386 68.9422H131.589Z",fill:"#F1F1F2",fillOpacity:.38}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M105.682 128.716C109.186 128.716 112.026 125.908 112.026 122.446C112.026 118.983 109.186 116.176 105.682 116.176C104.526 116.176 103.442 116.481 102.509 117.015L102.509 116.959C102.509 110.467 97.1831 105.203 90.6129 105.203C85.3224 105.203 80.8385 108.616 79.2925 113.335C78.6052 113.143 77.88 113.041 77.1304 113.041C72.7503 113.041 69.1995 116.55 69.1995 120.878C69.1995 125.207 72.7503 128.716 77.1304 128.716C77.1341 128.716 77.1379 128.716 77.1416 128.716H105.682L105.682 128.716Z",fill:"#F1F1F2",fillOpacity:.38}),k.jsx("rect",{x:.445307,y:.549558,width:50.5797,height:100.068,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.5547 41.6171)",fill:"#42CBA5",stroke:"#316474"}),k.jsx("rect",{x:.445307,y:.549558,width:50.4027,height:99.7216,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.9258 37.9564)",fill:"#EEFAF6",stroke:"#316474"}),k.jsx("path",{d:"M57.1609 51.7354L48.5917 133.759C48.2761 136.78 45.5713 138.972 42.5503 138.654L9.58089 135.189C6.55997 134.871 4.36688 132.165 4.68251 129.144L13.2517 47.1204C13.5674 44.0992 16.2722 41.9075 19.2931 42.2251L24.5519 42.7778L47.0037 45.1376L52.2625 45.6903C55.2835 46.0078 57.4765 48.7143 57.1609 51.7354Z",fill:"#DFF3ED",stroke:"#316474"}),k.jsx("path",{d:"M26.2009 102.937C27.0633 103.019 27.9323 103.119 28.8023 103.21C29.0402 101.032 29.2706 98.8437 29.4916 96.6638L26.8817 96.39C26.6438 98.5681 26.4049 100.755 26.2009 102.937ZM23.4704 93.3294L25.7392 91.4955L27.5774 93.7603L28.7118 92.8434L26.8736 90.5775L29.1434 88.7438L28.2248 87.6114L25.955 89.4452L24.1179 87.1806L22.9824 88.0974L24.8207 90.3621L22.5508 92.197L23.4704 93.3294ZM22.6545 98.6148C22.5261 99.9153 22.3893 101.215 22.244 102.514C23.1206 102.623 23.9924 102.697 24.8699 102.798C25.0164 101.488 25.1451 100.184 25.2831 98.8734C24.4047 98.7813 23.5298 98.6551 22.6545 98.6148ZM39.502 89.7779C38.9965 94.579 38.4833 99.3707 37.9862 104.174C38.8656 104.257 39.7337 104.366 40.614 104.441C41.1101 99.6473 41.6138 94.8633 42.1271 90.0705C41.2625 89.9282 40.3796 89.8786 39.502 89.7779ZM35.2378 92.4459C34.8492 96.2179 34.4351 99.9873 34.0551 103.76C34.925 103.851 35.7959 103.934 36.6564 104.033C37.1028 100.121 37.482 96.1922 37.9113 92.2783C37.0562 92.1284 36.18 92.0966 35.3221 91.9722C35.2812 92.1276 35.253 92.286 35.2378 92.4459ZM31.1061 94.1821C31.0635 94.341 31.0456 94.511 31.0286 94.6726C30.7324 97.5678 30.4115 100.452 30.1238 103.348L32.7336 103.622C32.8582 102.602 32.9479 101.587 33.0639 100.567C33.2611 98.5305 33.5188 96.4921 33.6905 94.4522C32.8281 94.3712 31.9666 94.2811 31.1061 94.1821Z",fill:"#316474"}),k.jsx("path",{d:"M17.892 48.4889C17.7988 49.3842 18.4576 50.1945 19.3597 50.2923C20.2665 50.3906 21.0855 49.7332 21.1792 48.8333C21.2724 47.938 20.6136 47.1277 19.7115 47.0299C18.8047 46.9316 17.9857 47.5889 17.892 48.4889Z",fill:"white",stroke:"#316474"}),k.jsx("path",{d:"M231.807 136.678L197.944 139.04C197.65 139.06 197.404 139.02 197.249 138.96C197.208 138.945 197.179 138.93 197.16 138.918L196.456 128.876C196.474 128.862 196.5 128.843 196.538 128.822C196.683 128.741 196.921 128.668 197.215 128.647L231.078 126.285C231.372 126.265 231.618 126.305 231.773 126.365C231.814 126.381 231.842 126.395 231.861 126.407L232.566 136.449C232.548 136.463 232.522 136.482 232.484 136.503C232.339 136.584 232.101 136.658 231.807 136.678Z",fill:"white",stroke:"#316474"}),k.jsx("path",{d:"M283.734 125.679L144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2005 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679Z",fill:"#EEFAF6"}),k.jsx("path",{d:"M144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2004 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679",stroke:"#316474"}),k.jsx("path",{d:"M278.565 121.405L148.68 130.463C146.256 130.632 144.174 128.861 144.012 126.55L138.343 45.695C138.181 43.3846 139.994 41.3414 142.419 41.1723L272.304 32.1142C274.731 31.945 276.81 33.7166 276.972 36.0271L282.641 116.882C282.803 119.193 280.992 121.236 278.565 121.405Z",fill:"#DFF3ED",stroke:"#316474"}),k.jsx("path",{d:"M230.198 129.97L298.691 125.193L299.111 131.189C299.166 131.97 299.013 132.667 298.748 133.161C298.478 133.661 298.137 133.887 297.825 133.909L132.794 145.418C132.482 145.44 132.113 145.263 131.777 144.805C131.445 144.353 131.196 143.684 131.141 142.903L130.721 136.907L199.215 132.131C199.476 132.921 199.867 133.614 200.357 134.129C200.929 134.729 201.665 135.115 202.482 135.058L227.371 133.322C228.188 133.265 228.862 132.782 229.345 132.108C229.758 131.531 230.05 130.79 230.198 129.97Z",fill:"#42CBA5",stroke:"#316474"}),k.jsx("path",{d:"M230.367 129.051L300.275 124.175L300.533 127.851C300.591 128.681 299.964 129.403 299.13 129.461L130.858 141.196C130.025 141.254 129.303 140.627 129.245 139.797L128.987 136.121L198.896 131.245C199.485 132.391 200.709 133.147 202.084 133.051L227.462 131.281C228.836 131.185 229.943 130.268 230.367 129.051Z",fill:"#EEFAF6",stroke:"#316474"}),k.jsx("ellipse",{rx:15.9969,ry:15.9971,transform:"matrix(0.997577 -0.0695704 0.0699429 0.997551 210.659 83.553)",fill:"#42CBA5",stroke:"#316474"}),k.jsx("path",{d:"M208.184 87.1094L204.777 84.3593C204.777 84.359 204.776 84.3587 204.776 84.3583C203.957 83.6906 202.744 83.8012 202.061 84.6073C201.374 85.4191 201.486 86.6265 202.31 87.2997L202.312 87.3011L207.389 91.4116C207.389 91.4119 207.389 91.4121 207.389 91.4124C208.278 92.1372 209.611 91.9373 210.242 90.9795L218.283 78.77C218.868 77.8813 218.608 76.6968 217.71 76.127C216.817 75.5606 215.624 75.8109 215.043 76.6939L208.184 87.1094Z",fill:"white",stroke:"#316474"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IntroMdBetaLogoDarkIcon=a}),98);
__d("WAWebIntroMdBetaLogoLightIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="intro-md-beta-logo-light";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=172;o=303;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 303 172",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M229.565 160.229C262.212 149.245 286.931 118.241 283.39 73.4194C278.009 5.31929 212.365 -11.5738 171.472 8.48673C115.998 35.6999 108.972 40.1612 69.2388 40.1612C39.645 40.1612 9.51318 54.4147 5.7467 92.952C3.0166 120.885 13.9985 145.267 54.6373 157.716C128.599 180.373 198.017 170.844 229.565 160.229Z",fill:"#DAF7F3"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.589 68.9422C131.593 68.9422 131.596 68.9422 131.599 68.9422C137.86 68.9422 142.935 63.6787 142.935 57.1859C142.935 50.6931 137.86 45.4297 131.599 45.4297C126.518 45.4297 122.218 48.8958 120.777 53.6723C120.022 53.4096 119.213 53.2672 118.373 53.2672C114.199 53.2672 110.815 56.7762 110.815 61.1047C110.815 65.4332 114.199 68.9422 118.373 68.9422C118.377 68.9422 118.381 68.9422 118.386 68.9422H131.589Z",fill:"white"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M105.682 128.716C109.186 128.716 112.026 125.908 112.026 122.446C112.026 118.983 109.186 116.176 105.682 116.176C104.526 116.176 103.442 116.481 102.509 117.015L102.509 116.959C102.509 110.467 97.1831 105.203 90.6129 105.203C85.3224 105.203 80.8385 108.616 79.2925 113.335C78.6052 113.143 77.88 113.041 77.1304 113.041C72.7503 113.041 69.1995 116.55 69.1995 120.878C69.1995 125.207 72.7503 128.716 77.1304 128.716C77.1341 128.716 77.1379 128.716 77.1416 128.716H105.682L105.682 128.716Z",fill:"white"}),k.jsx("rect",{x:.445307,y:.549558,width:50.5797,height:100.068,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.5547 41.6171)",fill:"#42CBA5",stroke:"#316474"}),k.jsx("rect",{x:.445307,y:.549558,width:50.4027,height:99.7216,rx:7.5,transform:"matrix(0.994522 0.104528 -0.103907 0.994587 10.9258 37.9564)",fill:"white",stroke:"#316474"}),k.jsx("path",{d:"M57.1609 51.7354L48.5917 133.759C48.2761 136.78 45.5713 138.972 42.5503 138.654L9.58089 135.189C6.55997 134.871 4.36688 132.165 4.68251 129.144L13.2517 47.1204C13.5674 44.0992 16.2722 41.9075 19.2931 42.2251L24.5519 42.7778L47.0037 45.1376L52.2625 45.6903C55.2835 46.0078 57.4765 48.7143 57.1609 51.7354Z",fill:"#EEFEFA",stroke:"#316474"}),k.jsx("path",{d:"M26.2009 102.937C27.0633 103.019 27.9323 103.119 28.8023 103.21C29.0402 101.032 29.2706 98.8437 29.4916 96.6638L26.8817 96.39C26.6438 98.5681 26.4049 100.755 26.2009 102.937ZM23.4704 93.3294L25.7392 91.4955L27.5774 93.7603L28.7118 92.8434L26.8736 90.5775L29.1434 88.7438L28.2248 87.6114L25.955 89.4452L24.1179 87.1806L22.9824 88.0974L24.8207 90.3621L22.5508 92.197L23.4704 93.3294ZM22.6545 98.6148C22.5261 99.9153 22.3893 101.215 22.244 102.514C23.1206 102.623 23.9924 102.697 24.8699 102.798C25.0164 101.488 25.1451 100.184 25.2831 98.8734C24.4047 98.7813 23.5298 98.6551 22.6545 98.6148ZM39.502 89.7779C38.9965 94.579 38.4833 99.3707 37.9862 104.174C38.8656 104.257 39.7337 104.366 40.614 104.441C41.1101 99.6473 41.6138 94.8633 42.1271 90.0705C41.2625 89.9282 40.3796 89.8786 39.502 89.7779ZM35.2378 92.4459C34.8492 96.2179 34.4351 99.9873 34.0551 103.76C34.925 103.851 35.7959 103.934 36.6564 104.033C37.1028 100.121 37.482 96.1922 37.9113 92.2783C37.0562 92.1284 36.18 92.0966 35.3221 91.9722C35.2812 92.1276 35.253 92.286 35.2378 92.4459ZM31.1061 94.1821C31.0635 94.341 31.0456 94.511 31.0286 94.6726C30.7324 97.5678 30.4115 100.452 30.1238 103.348L32.7336 103.622C32.8582 102.602 32.9479 101.587 33.0639 100.567C33.2611 98.5305 33.5188 96.4921 33.6905 94.4522C32.8281 94.3712 31.9666 94.2811 31.1061 94.1821Z",fill:"#316474"}),k.jsx("path",{d:"M17.892 48.4889C17.7988 49.3842 18.4576 50.1945 19.3597 50.2923C20.2665 50.3906 21.0855 49.7332 21.1792 48.8333C21.2724 47.938 20.6136 47.1277 19.7115 47.0299C18.8047 46.9316 17.9857 47.5889 17.892 48.4889Z",fill:"white",stroke:"#316474"}),k.jsx("path",{d:"M231.807 136.678L197.944 139.04C197.65 139.06 197.404 139.02 197.249 138.96C197.208 138.945 197.179 138.93 197.16 138.918L196.456 128.876C196.474 128.862 196.5 128.843 196.538 128.822C196.683 128.741 196.921 128.668 197.215 128.647L231.078 126.285C231.372 126.265 231.618 126.305 231.773 126.365C231.814 126.381 231.842 126.395 231.861 126.407L232.566 136.449C232.548 136.463 232.522 136.482 232.484 136.503C232.339 136.584 232.101 136.658 231.807 136.678Z",fill:"white",stroke:"#316474"}),k.jsx("path",{d:"M283.734 125.679L144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2005 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679Z",fill:"white"}),k.jsx("path",{d:"M144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2004 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679",stroke:"#316474"}),k.jsx("path",{d:"M278.565 121.405L148.68 130.463C146.256 130.632 144.174 128.861 144.012 126.55L138.343 45.695C138.181 43.3846 139.994 41.3414 142.419 41.1723L272.304 32.1142C274.731 31.945 276.81 33.7166 276.972 36.0271L282.641 116.882C282.803 119.193 280.992 121.236 278.565 121.405Z",fill:"#EEFEFA",stroke:"#316474"}),k.jsx("path",{d:"M230.198 129.97L298.691 125.193L299.111 131.189C299.166 131.97 299.013 132.667 298.748 133.161C298.478 133.661 298.137 133.887 297.825 133.909L132.794 145.418C132.482 145.44 132.113 145.263 131.777 144.805C131.445 144.353 131.196 143.684 131.141 142.903L130.721 136.907L199.215 132.131C199.476 132.921 199.867 133.614 200.357 134.129C200.929 134.729 201.665 135.115 202.482 135.058L227.371 133.322C228.188 133.265 228.862 132.782 229.345 132.108C229.758 131.531 230.05 130.79 230.198 129.97Z",fill:"#42CBA5",stroke:"#316474"}),k.jsx("path",{d:"M230.367 129.051L300.275 124.175L300.533 127.851C300.591 128.681 299.964 129.403 299.13 129.461L130.858 141.196C130.025 141.254 129.303 140.627 129.245 139.797L128.987 136.121L198.896 131.245C199.485 132.391 200.709 133.147 202.084 133.051L227.462 131.281C228.836 131.185 229.943 130.268 230.367 129.051Z",fill:"white",stroke:"#316474"}),k.jsx("ellipse",{rx:15.9969,ry:15.9971,transform:"matrix(0.997577 -0.0695704 0.0699429 0.997551 210.659 83.553)",fill:"#42CBA5",stroke:"#316474"}),k.jsx("path",{d:"M208.184 87.1094L204.777 84.3593C204.777 84.359 204.776 84.3587 204.776 84.3583C203.957 83.6906 202.744 83.8012 202.061 84.6073C201.374 85.4191 201.486 86.6265 202.31 87.2997L202.312 87.3011L207.389 91.4116C207.389 91.4119 207.389 91.4121 207.389 91.4124C208.278 92.1372 209.611 91.9373 210.242 90.9795L218.283 78.77C218.868 77.8813 218.608 76.6968 217.71 76.127C216.817 75.5606 215.624 75.8109 215.043 76.6939L208.184 87.1094Z",fill:"white",stroke:"#316474"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IntroMdBetaLogoLightIcon=a}),98);
__d("WAWebWdsIllWebNativeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wds-ill-web-native";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=180;o=270;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"#E6FFDA",stroke:"#111B21",strokeLinejoin:"round",strokeWidth:1.25,d:"M30.7 18.45a8 8 0 0 1 8-8h187.25a8 8 0 0 1 8 8v139.27H30.7z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#E6FFDA",stroke:"#111B21",strokeLinejoin:"round",strokeWidth:1.25,d:"M11.75 156.49c0 7.2 13.89 13.06 22.51 13.06H230.4c8.62 0 22.51-5.85 22.51-13.06z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("circle",{cx:128.06,cy:19.32,r:2.15,fill:"#E6FFDA",stroke:"#111B21",strokeWidth:1.25,style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeWidth:1.25,d:"M134.1 19.32h4.65",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeWidth:1.25,d:"M119.41 163.13h25.84",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#FCF5EB",stroke:"#111B21",strokeLinejoin:"round",strokeWidth:1.25,d:"M5.35 51.17a8.61 8.61 0 0 1 8.61-8.62h106.86a8.61 8.61 0 0 1 8.61 8.62v72.5a8.61 8.61 0 0 1-8.61 8.6H13.96a8.61 8.61 0 0 1-8.61-8.6z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#fff",stroke:"#111B21",strokeLinejoin:"round",strokeWidth:1.25,d:"M5.35 50.55a8 8 0 0 1 8-8h39.72v89.73H13.35a8 8 0 0 1-8-8zm59.18 67.41a4.77 4.77 0 0 1 4.77-4.77h42.95v9.54H69.3a4.77 4.77 0 0 1-4.77-4.77Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#E6FFDA",stroke:"#111B21",strokeLinejoin:"round",strokeWidth:1.25,d:"M60.83 76.07a.86.86 0 0 1 .67-1.37l39.42-.85a6.89 6.89 0 0 1 7.04 6.89v16.85a6.9 6.9 0 0 1-6.9 6.89H71.19a6.89 6.89 0 0 1-6.89-6.9V80.86l-3.46-4.78Zm3.7-21.67a5.17 5.17 0 0 1 5.16-5.16h28.47a4.3 4.3 0 0 1 4.3 4.3v7.14a4.3 4.3 0 0 1-4.3 4.3H69.7a5.17 5.17 0 0 1-5.16-5.16V54.4Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#25D366",d:"M18.43 70.13h22.91-22.9Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M18.43 70.13h22.91",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#25D366",d:"M18.43 81.69h22.91-22.9Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M18.43 81.69h22.91",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#25D366",d:"M18.43 93.24h22.91-22.9Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M18.43 93.24h22.91",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#25D366",d:"M18.43 104.8h22.91-22.9Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M18.43 104.8h22.91",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M89.82 39.44a8 8 0 0 1 8-8h79.84v55.11H89.82z",style:{fillOpacity:1}}),k.jsx("path",{fill:"#FCF5EB",d:"M177.66 87.43h87.85v47.12a8 8 0 0 1-8 8h-79.85z",style:{fillOpacity:1}}),k.jsx("path",{fill:"#CDF5EB",d:"M89.82 87.42h87.84v55.12l-80.1.93a8 8 0 0 1-8.1-8.06l.36-48Z",style:{fillOpacity:1}}),k.jsx("path",{fill:"#FFDD9B",d:"M177.66 31.87h78.99a8 8 0 0 1 8 8v47.12h-86.99z",style:{fillOpacity:1}}),k.jsx("path",{fill:"#25D366",stroke:"#111B21",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:1.25,d:"M159.44 86.87c-5.13-8.28-8.65-11.83-18.14-12.54-.2.3-2.8 4.05-7.44 4.04a8.97 8.97 0 0 1-7.87-4.89c-6.05-3.13-15.36 1.2-22.12 13.39z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#AD7144",d:"M147.26 58.03c-.05 4.7-.82 10.37-5.54 13.39-1.1.83-.29 2.59-.68 3.92-.2.7-.2.6-.4 1.3-.4 1.5-3.52 2.29-7.42 2.37s-7.74-3.12-8.56-5.32.63-2.3.35-4.7c-.4-3.44-1.6-6.9-2.46-10.25-1.27-4.95-.21-9.04 3.89-12.05 3.77-2.76 10.63-6.38 14.87-3.21 3.37 2.52 5.98 10.54 5.95 14.56z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:1.25,d:"M124.9 61.74c.55 1.31-.23 11.95-.23 11.95s2.55 5.52 8.56 5.32c4.95-.18 8.34-.5 7.63-7.09",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:1.25,d:"M132.15 71.08c2.32 2.05 5.93 2.23 8.7.84 2.76-1.39 4.7-4.13 5.63-7.09.93-2.97.94-6.15.59-9.24-.4-3.52-1.37-7.2-3.9-9.67-3.1-3.02-8.25-3.51-12-1.36-3.74 2.15-6.46 5.49-6.1 9.82",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:1.25,d:"M141.05 55.9c-.6 1.46 1.3 2.64 1.33 3.38.05 1.25-1.4 1.8-2.14 1.84m.46 4.15c-1.54.7-3.48.4-4.73-.76m-10.98-1.49c.19 2.83-.32 10.68-.32 10.68",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#111B21",stroke:"#111B21",strokeWidth:1.25,d:"M144.4 45.78c0 1.73-.96 5.24-4.8 5.4-2.66.12-4-1.04-4.6-2.19.13 1-.08 2.08-1.31 2.4a4.06 4.06 0 0 1-3.78-.82c.61.96 1.92 3.78.79 4.85-1.86 1.76-2.55-.07-4.57-.05-.85 0-2.32.16-2.76 1.53-.62 1.98-.18 4.5 3.37 4.09 3.09-.36 3.47 6.74-.4 6.84 1.42 2.24.6 7.45-7.87 4.5-8.47-2.97-7.55-13.8-2.45-15.43-4.08-3.26-.92-14.19 7.35-11.94-.4-6.94 9.5-11.44 13.99-6.03 5.1-6.12 15.37 1.64 10.98 7.76 4.08.31 7.5 6.13 3.21 10.21 3.01.62 3.83 7.71-1.38 8.27 4.09 5.57-5.36 9.55-7.3 5.67 4.34-3.68 4.43-9.41 4.6-11.8-.35-5.74-1.06-8.6-3.06-13.26Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("circle",{cx:.85,cy:.85,r:.85,fill:"#111B21",style:{fillOpacity:1},transform:"matrix(-1 0 0 1 136.67 55.27)"}),k.jsx("circle",{cx:.85,cy:.85,r:.85,fill:"#111B21",style:{fillOpacity:1},transform:"matrix(-1 0 0 1 144.52 55.27)"}),k.jsx("path",{fill:"#AD7144",d:"M145.76 78.21c1.45 4.15 2.79 5.53 2.84 8.54l15.73.1c2.2-1.84 6.69-6.57 6.06-7.93s-5.58 1.28-7.24 2.98c1.61-2.31 6.6-7.55 5.12-8.9-2.12-1.91-8.27 7.86-7.61 6.68.65-1.18 4.46-8.35 2.3-9.43-2.55-1.27-6.63 9.95-6.24 8.77.4-1.18 2.78-9.82.42-9.95s-5.52 8.35-5.91 12.44c-.36-.84-2.74-5.85-5.09-4.61-.45.24-.55.82-.38 1.31",style:{fillOpacity:1}}),k.jsx("path",{fill:"#111B21",d:"m148.6 86.75-.63.01.02.61h.6v-.62Zm-2.84-8.54-.6.2zm.38-1.31-.29-.56.3.56Zm5.09 4.6-.58.25a.63.63 0 0 0 1.2-.18l-.62-.06Zm5.9-12.43-.03.62.04-.62Zm-.4 9.95.59.2-.6-.2Zm6.22-8.77-.28.56zm-2.3 9.43.55.3-.54-.3Zm7.62-6.67.42-.46zm-5.12 8.9-.52-.36a.63.63 0 0 0 .96.79l-.44-.44Zm1.18 4.94v.63h.23l.17-.15zm-15.73-.1h.62c-.03-1.63-.4-2.8-.94-4.09-.54-1.28-1.22-2.6-1.93-4.65l-.6.2-.58.2c.73 2.1 1.45 3.54 1.96 4.74.5 1.2.82 2.21.84 3.61h.63Zm-2.46-9.85.3.55c.35-.19.7-.16 1.13.07.45.25.92.71 1.37 1.29a15.2 15.2 0 0 1 1.71 2.94l.58-.24.57-.25c-.19-.44-.9-1.96-1.88-3.22a6.1 6.1 0 0 0-1.74-1.61 2.38 2.38 0 0 0-2.33-.09l.3.56Zm5.09 4.6.62.07a28.8 28.8 0 0 1 2.17-7.62 16.3 16.3 0 0 1 1.75-3.2c.3-.39.58-.67.82-.85.25-.18.41-.21.51-.2l.04-.63.03-.63c-.49-.02-.93.17-1.31.45a5.2 5.2 0 0 0-1.08 1.11c-.68.9-1.33 2.13-1.9 3.46a30 30 0 0 0-2.27 7.99l.62.06Zm5.9-12.43-.03.62c.07 0 .12.02.19.13.09.14.17.38.21.77.1.76.02 1.82-.15 2.97a39 39 0 0 1-1.22 5.26l.6.2.59.2c.2-.62.9-3.11 1.26-5.48.18-1.17.28-2.37.16-3.3a3.1 3.1 0 0 0-.4-1.3 1.45 1.45 0 0 0-1.17-.7l-.03.63Zm-.4 9.95-.6-.2-.03.1-.01.05a.6.6 0 0 0 0 .25c0 .06.1.24.18.34.15.1.48.17.63.14.08-.04.2-.11.23-.14l.07-.07.06-.1.1-.22a50 50 0 0 1 1.94-4.28 17.8 17.8 0 0 1 2.02-3.23c.35-.4.66-.67.9-.8.24-.12.36-.1.45-.05l.28-.56.28-.56a1.7 1.7 0 0 0-1.58.06 4.5 4.5 0 0 0-1.27 1.1c-.79.9-1.55 2.2-2.2 3.46a51 51 0 0 0-1.58 3.41l-.4.97-.05.12.01-.02.04-.06.07-.07c.03-.04.14-.1.22-.14a1 1 0 0 1 .64.14c.08.1.17.27.18.34a.6.6 0 0 1 0 .23v.03-.04l-.59-.2Zm6.22-8.77-.28.56c.17.08.37.35.3 1.16a11 11 0 0 1-.7 2.74 37 37 0 0 1-2.16 4.66l.55.3.54.3c.34-.59 1.47-2.7 2.25-4.83.39-1.05.7-2.15.77-3.08.07-.88-.07-1.91-.99-2.37zm-2.3 9.43-.54-.3-.06.11a.7.7 0 0 0-.07.32.62.62 0 0 0 .97.49c.06-.04.1-.08.1-.09l.04-.04.04-.05.08-.1.57-.8c.51-.7 1.28-1.75 2.12-2.75a16 16 0 0 1 2.56-2.56c.4-.3.74-.45.98-.5.22-.06.33-.01.41.06l.42-.46.42-.46c-.45-.41-1-.48-1.51-.37-.5.1-.99.38-1.45.72-.93.67-1.92 1.73-2.78 2.76a50 50 0 0 0-2.19 2.84l-.56.78-.05.07c0 .01 0 0 0 0l.02-.02.1-.08c.02-.01.09-.06.2-.08a.62.62 0 0 1 .76.56v.16l-.04.1v.03l.01-.04-.54-.3Zm7.62-6.67-.42.46c.03.02.07.07.07.21 0 .17-.05.4-.18.73a11.8 11.8 0 0 1-1.38 2.32c-.62.86-1.34 1.77-2.01 2.6-.66.83-1.3 1.62-1.72 2.22l.52.35.5.36c.4-.56 1-1.3 1.67-2.14.68-.84 1.41-1.77 2.06-2.67.63-.89 1.2-1.8 1.52-2.58.16-.4.27-.8.27-1.2s-.13-.81-.48-1.12zm-5.12 8.9.44.43a14.6 14.6 0 0 1 3.83-2.51 7.4 7.4 0 0 1 1.9-.64c.24-.03.4-.02.48 0 .06.02.04.03.02 0l.57-.27.57-.26c-.17-.38-.5-.58-.83-.68a2.5 2.5 0 0 0-1-.03 9 9 0 0 0-2.24.74 16.1 16.1 0 0 0-4.2 2.78l.46.43Zm7.24-2.99-.57.26c0-.02.03.04-.02.24q-.075.3-.33.75a15 15 0 0 1-1.53 2.14 36 36 0 0 1-4.01 4.06l.4.48.4.48a37 37 0 0 0 4.17-4.22 15.5 15.5 0 0 0 1.66-2.33c.2-.36.36-.71.45-1.05a1.6 1.6 0 0 0-.05-1.07zm-6.06 7.93v-.62l-15.73-.1v1.25l15.73.1zm-18.57-8.64.59-.2a.7.7 0 0 1-.03-.4c.02-.09.07-.14.12-.16l-.3-.55-.29-.56c-.84.45-.9 1.43-.68 2.08l.59-.2Z",style:{fillOpacity:1}}),k.jsx("mask",{id:"mask0_2505_9168",width:88,height:55,x:177,y:31,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},children:k.jsx("path",{fill:"#FFDD9B",d:"M177.3 31.67h79.26a8 8 0 0 1 8 8v45.88H177.3z",style:{fillOpacity:1}})}),k.jsxs("g",{mask:"url(#mask0_2505_9168)",children:[k.jsx("path",{fill:"#fff",d:"M214.9 61.37c-2.02 5.22-6.69 2.92-10.92 3.93-5.07 1.45-6.44 4.03-7.08 5.78-.31.85.34 1.74 1.24 1.72 14.1-.49 16.86-.33 30.96-.8",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M214.9 61.37c-2.02 5.22-6.69 2.92-10.92 3.93-5.07 1.45-6.44 4.03-7.08 5.78-.31.85.34 1.74 1.24 1.72 14.1-.49 16.86-.33 30.96-.8",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#BDB6E4",stroke:"#111B21",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:1.25,d:"M211.3 64.92c0 1.93-2.45 4.62-4.39 4.62s-3.72-2.08-3.72-4.01c.84-.31 2.84-.47 3.85-.58 1.55-.15 3.17-.1 4.25-.04v.01Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M220.97 66.29c-2.02 5.22-6.69 2.91-10.92 3.93-5.08 1.44-6.44 4.02-7.08 5.77-.31.85.34 1.74 1.24 1.72 14.1-.48 45.75 1.65 65.9-3.85 3.33-4.35-5.05-5.17-4.57-7.57 1.66-8.38 5.27-24.47 4.57-25.41-.02 0-9.13 1.8-9.16 1.83-9.16 1.83-26.6 10.74-26.6 10.74l-3.99 2.95",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M220.97 66.29c-2.02 5.22-6.69 2.91-10.92 3.93-5.08 1.44-6.44 4.02-7.08 5.77-.31.85.34 1.74 1.24 1.72 14.1-.48 45.75 1.65 65.9-3.85 3.33-4.35-5.05-5.17-4.57-7.57 1.66-8.38 5.27-24.47 4.57-25.41-.02 0-9.13 1.8-9.16 1.83-9.16 1.83-26.6 10.74-26.6 10.74l-3.99 2.95",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M220.97 66.29c-2.02 5.22-6.69 2.91-10.92 3.93-5.08 1.44-6.44 4.02-7.08 5.77-.31.85.34 1.74 1.24 1.72 14.1-.48 45.75 1.65 65.9-3.85 3.33-4.35 23.11-23.55 23.11-23.55 26.97-8.75-9.03-15.15-32.27-7.6-9.16 1.83-26.6 10.74-26.6 10.74l-3.99 2.95",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M220.97 66.29c-2.02 5.22-6.69 2.91-10.92 3.93-5.08 1.44-6.44 4.02-7.08 5.77-.31.85.34 1.74 1.24 1.72 14.1-.48 45.75 1.65 65.9-3.85 3.33-4.35 23.11-23.55 23.11-23.55 26.97-8.75-9.03-15.15-32.27-7.6-9.16 1.83-26.6 10.74-26.6 10.74l-3.99 2.95",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M245.56 69.51c-2.02 5.22-6.68 2.92-10.92 3.93-5.07 1.45-6.43 4.03-7.07 5.78-.32.85.33 1.74 1.23 1.72 14.11-.48 45.75 1.64 65.9-3.86 3.33-4.35-5.04-5.17-4.57-7.57 1.67-8.37 5.27-24.46 4.58-25.4-.02 0-9.14 1.8-9.16 1.83-9.16 1.83-6.11-5.6-6.11-5.6",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M245.56 69.51c-2.02 5.22-6.68 2.92-10.92 3.93-5.07 1.45-6.43 4.03-7.07 5.78-.32.85.33 1.74 1.23 1.72 14.11-.48 45.75 1.64 65.9-3.86 3.33-4.35-5.04-5.17-4.57-7.57 1.67-8.37 5.27-24.46 4.58-25.4-.02 0-9.14 1.8-9.16 1.83-9.16 1.83-6.11-5.6-6.11-5.6",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M212.4 46.43c.52-.8 4.23-11.1 6.07-10.57 1.85.53 2.12 8.73 2.12 8.73s4.5 1.06 5.82 1.85c1.32.8 2.91-9.25 4.76-8.46 1.84.78 2.64 10.84 2.64 10.84s5.55 16.13-5.3 19.31c-10.84 3.18-20.9-1.85-21.68-7.93-1.05-8.05 5.55-13.76 5.55-13.76h.01Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M212.52 51.86s2.51 1.59 2.64 3.18z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M212.52 51.86s2.51 1.59 2.64 3.18m.88 3.16 3.46.65",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M215.17 63.63c1.78-1.1 2.38-3.17 2.38-3.17s-1.28 3.52 1.72 4.36c0 0 2.65.87 3.2-2.08",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M215.17 63.63c1.78-1.1 2.38-3.17 2.38-3.17s-1.28 3.52 1.72 4.36c0 0 2.65.87 3.2-2.08",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M221.44 61.37s.72 2.06 3.3 2.38z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M221.44 61.37s.72 2.06 3.3 2.38",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#BDB6E4",stroke:"#111B21",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:1.25,d:"M234.35 53.45a7.01 7.01 0 1 1-7.01-7.01c.57-2.86 2.8-9.97 4.14-8.46 2.1 2.38 2.87 13.15 2.87 15.47Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M227.4 53.56s-2.97.13-3.88 1.44l3.87-1.44Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M227.4 53.56s-2.97.13-3.88 1.44",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#BDB6E4",stroke:"#111B21",strokeWidth:1.25,d:"M257.32 57.17c-9.88 2.4-11.88-5.81-11.18-9.05 3.56-1.93 13.57-6.08 22.07-7 3.03-.33-1.3 13.73-10.89 16.05Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#fff",d:"M268.58 50c-4.18-.56-13.3 6.51-15.48 10.14.82.67 3.97 2.02 10.07 2.09 6.1.06 7.4-8.11 5.41-12.24Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeWidth:1.25,d:"M253.1 60.14c2.17-3.63 11.48-10.88 15.67-10.33",style:{strokeOpacity:1}})]}),k.jsx("path",{stroke:"#111B21",strokeWidth:1.25,d:"M89.79 86.79h174.89M177.43 32.3v110.24",style:{strokeOpacity:1}}),k.jsx("mask",{id:"mask1_2505_9168",width:87,height:62,x:179,y:81,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},children:k.jsx("path",{fill:"#FCF5EB",d:"M179.25 81.15h86.33v53.4a8 8 0 0 1-8 8h-78.33z",style:{fillOpacity:1}})}),k.jsxs("g",{mask:"url(#mask1_2505_9168)",children:[k.jsx("path",{fill:"#E7C09A",d:"m210.42 114.11-1.1 16.07 9 4.77-.9 8.96c-5.76.03-24.2.83-29.05.52-2.14-10.1 9.97-31.8 10.43-32.65-4.4-4.24 4.29-17.2 5.44-17.33 1.16-.13 1.54 0 1.29 2.69 2.3-3.6 3.04-4.2 4.58-4.2 1.53 0 .93 2.02 2.34 1 1.4-1.03 1.6-.96 2.75-.32 1.16.64.3 3.07 1.2 2.43s2.06-.06 2.06 1.09-3.36 3.39-2.2 3.26c1.15-.13 1.78-.18 1.78 1.36 0 1.23-1.81 2.28-2.84 3.05-.25 1.24-1.68 3.93-1.68 5.57s-1.65 3.13-3.1 3.73",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M203.74 99.56c.61-1.66 2.72-3.8 1.04-4.84-2.1-1.3-4.49 5.17-6.35 9.28-1.72 3.77-1.07 6.73-.08 7.56-6.09 12.28-10.72 22.4-9.98 31.69",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeWidth:1.25,d:"M198.11 111.28c.67 1.11 3.3 1.87 3.92 1.74m8.13 1.25c-.48 8.82.14 14.72-2.91 21.4",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M209.09 101.63c4.65-6.23 7.75-6.76 9-5.35.83.8.44 1.91-2.17 4.2",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M207.08 99.6c3.93-5.73 6.94-7.14 8.32-5.86.92.7.1 2.2-.7 2.5",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M203.55 99.83c2.58-4.42 5.67-8.5 7.57-6.5.98 1.18-.34 1.68-1.94 3.54m-4.12 11.31c.66-1.75 2.86-2.18 4.24-1.53 1-2.45 4-7.06 8.01-5.97 1.58.74.69 1.8.36 2.16s-2.5 1.6-2.81 3.07c-.32 1.48-1.66 8.94-7.1 8.85",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#5C4A3D",d:"M230.05 92.67c4.1 2.81 6.53.05 8.47.95 1.67.78 1.33 2.56-.13 3.68l-5.32 4.28s4.45 1.67 5.6 1.98c.14-.24 2.93-3.92 5.06-.81 1.26 1.83-.53 4.06-2.41 4.7l5.14 5.17c4.46-1.7 4.57-7.3 3.81-10.17a6 6 0 0 0 2.72-2.8c.68-1.34.07-3.56-.99-4.38.56-1.26.14-4.2-1.56-4.46-.33-1.91-2.05-3.46-3.38-3.42-.72-1.25-2.55-2.44-4.06-1.74-.64-1.45-2.93-1.77-3.93-.55-1.22-1.34-3.69-1.21-4.75.26-.3-.9-4.72-1.45-4.72 1.73-2.53.63-2.52 4.71.44 5.57Z",style:{fillOpacity:1}}),k.jsx("path",{fill:"#AFE966",d:"M250.04 116.28c19.1 2.47 19.62 20.63 22.2 24.47l-10.74 16.23-9.58-4.98-37.13-2.61c4.1-4.43 3.28-14.34 3.28-14.34-1.3-1.88-5.06-3.84-8.18-4.64.71-3.84 7.58-14.84 22.72-15.23z",style:{fillOpacity:1}}),k.jsx("path",{fill:"#E7C09A",d:"M221.62 99.8c1.1-1.73 3.95-.6 5.55-3.36.97-1.68 2.04-3.46 2.87-3.77 4.1 2.81 6.53.05 8.47.95 1.68.78 1.33 2.56-.12 3.69l-5.33 4.27s4.45 1.67 5.6 1.98c.14-.24 2.93-3.92 5.06-.8 1.26 1.82-.53 4.05-2.41 4.7l8.51 8.69c.34 1.19-9.49 6.31-12.94 6.66-3.72.37-7.85-1.17-7.92-5.58l.08-2.1V115c-1.68-.3-3.68-1.1-5.95-2.72-4.84-3.45.4-8.74.4-8.74s-3.08-1.84-1.87-3.75Z",style:{fillOpacity:1}}),k.jsx("path",{fill:"#5C4A3D",d:"M233.77 114.47c2.2-1.28 2.4-4.54 2.4-4.54.3-2.27-4.83-5.96-5.05-5.94-.25.02-2.98 1.41-4.2 1.14-1.23-.27-2.34-.93-3.42-1.57 0 0-5.25 5.29-.4 8.74 4.76 3.4 8.35 3.2 10.3 2.36.13-.06.26-.12.38-.2h-.01Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M230.05 92.67c-2.97-.86-2.98-4.94-.45-5.56 0-3.18 4.42-2.64 4.72-1.73 1.07-1.48 3.53-1.6 4.75-.26 1.02-1.22 3.3-.9 3.93.54 1.51-.7 3.35.5 4.06 1.74 1.34-.04 3.04 1.52 3.38 3.43 1.7.26 2.12 3.2 1.57 4.46 1.05.82 1.67 3.04.99 4.38a6.1 6.1 0 0 1-2.72 2.8c.76 2.86.65 8.46-3.82 10.17",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M230.05 92.67c-.83.32-1.9 2.1-2.88 3.78-1.6 2.75-4.46 1.62-5.54 3.36-1.2 1.92 1.88 3.76 1.88 3.76m0 0s-5.26 5.28-.4 8.74c4.76 3.39 8.35 3.2 10.3 2.36 2.56-1.1 2.77-4.73 2.77-4.73.3-2.27-4.83-5.97-5.05-5.95-.26.03-2.98 1.42-4.2 1.15-1.24-.27-2.34-.93-3.42-1.57",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M228.4 108.45c-.75.67-2.02.63-2.73-.1m46.85 32.12c-2.57-3.84-3.73-21.76-22.83-24.23",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M230.05 92.67c4.1 2.82 6.53.05 8.47.95 1.67.78 1.33 2.56-.13 3.69l-5.33 4.27s4.46 1.68 5.62 1.98c.13-.24 2.92-3.92 5.05-.8 1.26 1.82-.53 4.05-2.41 4.7l8.44 8.64c.34 1.2-9.42 6.37-12.87 6.71-3.73.38-7.85-1.17-7.93-5.58l.1-2.1",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#111B21",d:"M227.7 99.83c.06-.55.36-.96.66-.92s.5.5.43 1.05-.37.96-.67.92c-.3-.03-.5-.5-.43-1.05Z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M231.1 98.93c-.07-1.12-1.5-1.96-2.07-1.87",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeWidth:1.25,d:"M231.17 115.25c-10.31.5-18.82 7.36-21.63 15.25 5.88 2.22 9.98 4.47 10.02 8.48",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#AFE966",d:"M222.75 126.76c1.8-2.09 3.68 7.53 4.76 15.24h-10.93c1.83-5.79 4.46-13.26 6.17-15.24",style:{fillOpacity:1}}),k.jsx("path",{fill:"#111B21",d:"M222.9 127.55a.62.62 0 1 0-1.03-.7l1.04.7Zm-5.92 16.36.63.03a36 36 0 0 1 2.07-9.53 32.5 32.5 0 0 1 3.23-6.86l-.52-.35-.51-.36a34 34 0 0 0-3.38 7.15 37 37 0 0 0-2.14 9.88z",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeWidth:1.25,d:"M247.36 146.12c-.07-.36-1.87-6.9-.57-12.38",style:{strokeOpacity:1}})]}),k.jsx("mask",{id:"mask2_2505_9168",width:89,height:57,x:96,y:87,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},children:k.jsx("path",{fill:"#CDF5EB",d:"M96.96 87.01h87.85v55.12l-80.1.94a8 8 0 0 1-8.1-8.06z",style:{fillOpacity:1}})}),k.jsxs("g",{mask:"url(#mask2_2505_9168)",children:[k.jsx("path",{fill:"#fff",stroke:"#111B21",strokeWidth:1.25,d:"M144.87 126.68c-6.51-2.88-15.16-1.54-15.16-1.54-9.7 1.26-14.32 3.38-18.61 8.35-2.41 2.97-2.99 7.88-3.5 10.57h52.15s-1.1-12.37-14.88-17.38Z",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{fill:"#BDB6E4",d:"M116.51 116.67c-3.34-3.03-7.1-13.44 6.75-20.38 6.12-3.07 10.46-1.14 12.68 0 3.95-.9 8.2 4.12 8.2 4.12 5.32 7.23-1.13 18.1-10.15 17.96l-17.5-1.72",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M116.51 116.67c-3.34-3.03-7.1-13.44 6.75-20.38 6.12-3.07 10.46-1.14 12.68 0 3.95-.9 8.2 4.12 8.2 4.12 5.32 7.23-1.13 18.1-10.15 17.96l-17.5-1.72",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#BDB6E4",d:"M123.29 120.47c2.76 5 6.27.9 9.17.82-.63 2.56-2.87 11.64-9.65 10.25-6.9-1.42-6.28-4.02-7.54-9.54 5.03.4 6.05-.65 8.02-1.53",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M115.78 123.12c-.43 5.83 5.57 10.6 11.77 6.65",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#F9DFCF",d:"M136.1 99.77c.3 3.02-1.5 5.4-3.92 6.92l-2.53.8a7.53 7.53 0 0 1-3.94-.8c-.2 3.2-1.6 5.6-3.02 7.26a7.85 7.85 0 0 1-6.18 2.7c-2.5-.23-4.38 2.37-3.7 4.57.38 1.25 1.48 2.05 2.83 2.42 1.45.87 6.07-1.41 6.3-1.56 1.51 1.95 2.48 2.43 3.92 3.3v3.89c0 2 1.36 3.78 3.34 4.01 2.2.26 4.17.16 6.04-.14 2.44-.4 3.98-2.77 3.7-5.23l-.24-1.96c5.95-2.5 9.83-8.74 6.73-16.17a4.01 4.01 0 0 0-3.8-5.3h-.17l.01-.01c-2.93-.83-5.37-4.7-5.37-4.7",style:{fillOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M121.48 120.36c1.14 3.63 4.04 5.79 7.56 6.56m8.4-.51c6.64-2.12 11.3-8.7 7.98-16.64",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeWidth:1.25,d:"M126.4 125.78c-.64 2.2-1.03 3.9-.33 5.04 2.46 4.01 9.55 3.02 11.43.94 2.42-2.67.93-5.86.93-5.86",style:{strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M135.95 119.97c-1.06.7-2.6.53-3.5-.36m6.61-8.04c.44.21 1.08 1.33 1 1.81a2.77 2.77 0 0 1-2.17 2.2m-15.79 6.3c-2.17 2.87-8.29 2.65-9.3-.65-.67-2.2 1.2-4.8 3.71-4.57 2.36.07 4.64-.9 6.19-2.7a12.18 12.18 0 0 0 3.01-7.27c1.97 1.07 4.66 1.05 6.01.29 2.64-1.5 4.71-4 4.39-7.2 0 0 2.44 3.87 5.36 4.7",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M141.64 112.52c-2.2 0-4-1.8-4-4.03a4 4 0 1 1 8 0 4 4 0 0 1-4 4.03",style:{fillOpacity:1,strokeOpacity:1}}),k.jsx("path",{stroke:"#111B21",strokeWidth:1.25,d:"M135.34 109.93c.94-.58 1.44-.66 2.28-.52",style:{strokeOpacity:1}}),k.jsx("path",{fill:"#fff",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,d:"M134.96 112.67a4.01 4.01 0 0 1-7.42-.6 4.06 4.06 0 0 1 1.57-4.56 5.3 5.3 0 0 0 2.6-.55l.48-.27a5.3 5.3 0 0 1 3 2.94 4.04 4.04 0 0 1-.23 3.04",style:{fillOpacity:1,strokeOpacity:1}})]}),k.jsx("path",{stroke:"#111B21",strokeWidth:1.25,d:"M96.84 31.9h161.02c4.07 0 7.37 3.3 7.37 7.38v96.43c0 4.07-3.3 7.37-7.37 7.37H96.84a7.38 7.38 0 0 1-7.38-7.37V39.28c0-4.07 3.3-7.37 7.38-7.37Z",style:{strokeOpacity:1}})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WdsIllWebNativeIcon=a}),98);
__d("WAWebWdsSmbIllStartAChatIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wds-smb-ill-start-a-chat";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=152;o=228;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{clipPath:"url(#a)",children:[k.jsx("path",{fill:"#FCF5EB",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M55.58 85.94a27.55 27.55 0 1 0 0-55.1 27.55 27.55 0 0 0 0 55.1"}),k.jsx("path",{fill:"#FCF5EB",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M67.23 83.36c7.2-3.36 7.83-17.27 1.4-31.05-6.43-13.8-17.48-22.25-24.69-18.89-7.2 3.36-7.83 17.27-1.4 31.05 6.43 13.8 17.49 22.25 24.7 18.89Z"}),k.jsx("path",{fill:"#FCF5EB",d:"m36.93 79.01 46.09-22.46L36.93 79Zm-8.8-23.03 21.63-10.07 21.62-10.08"}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m36.93 79.01 46.09-22.46m-54.88-.57 21.62-10.07 21.62-10.08"}),k.jsx("path",{fill:"#FCF5EB",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M46.78 76.74a2.8 2.8 0 1 0 0-5.6 2.8 2.8 0 0 0 0 5.6m-8.54-22.65a2.8 2.8 0 1 0 0-5.6 2.8 2.8 0 0 0 0 5.6m29.09-1.95a2.8 2.8 0 1 0 0-5.6 2.8 2.8 0 0 0 0 5.6"}),k.jsx("path",{fill:"#E6FFDA",fillRule:"evenodd",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m77.62 54.27 93.79-19.34c2.59-.52 4.94 2.16 4.01 4.53l-6.17 16.09 6.94 33.66c4.48 21.78-9.34 43-30.83 47.44l-48.7 10.04c-21.52 4.45-42.57-9.61-47.09-31.38l-2.81-13.58c-4.49-21.79 9.34-43 30.82-47.44z",clipRule:"evenodd"}),k.jsx("path",{fill:"#fff",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M48.28 121.82c.07-.06.12-.08.16-.08s.1.02.16.06.1.1.1.14c.02.03.02.09-.02.17L42 135.48a3.25 3.25 0 0 0 1 4.1l9.1 6.53c1.95 1.41 4.7.28 5.1-2.1l6.36-37.98a3.25 3.25 0 0 0-4.73-3.4l-34.05 18.06a3.25 3.25 0 0 0-.37 5.5l9.05 6.5c1.3.92 3.06.78 4.18-.34l10.63-10.53Z"}),k.jsx("path",{fill:"#AFE966",d:"M146.6 81.15c.92 4.52-.28 8.8-2.77 12.04l3.95 19.24a8.8 8.8 0 0 1-6.84 10.37l-46.5 9.54a8.8 8.8 0 0 1-10.37-6.83l-3.95-19.24a14.78 14.78 0 0 1-7.25-9.97h-.04L71.8 79.08c-.17-3.13 1.77-5.86 4.57-6.44l57.67-11.83h-.02c2.82-.57 5.66 1.18 6.74 4.13l5.84 16.22h.03-.04Z"}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M146.6 81.15c.92 4.52-.28 8.8-2.77 12.04l3.95 19.24a8.8 8.8 0 0 1-6.84 10.37l-46.5 9.54a8.8 8.8 0 0 1-10.37-6.83l-3.95-19.24a14.78 14.78 0 0 1-7.25-9.97h-.04L71.8 79.08c-.17-3.13 1.77-5.86 4.57-6.44l57.67-11.83h-.02c2.82-.57 5.66 1.18 6.74 4.13l5.84 16.22Zm0 0h.03-.04Z"}),k.jsx("path",{fill:"#AFE966",d:"M99.73 102.44a15 15 0 0 1-9.97 5.64c-3.35.51-6.74-.17-9.64-1.81l3.94 19.23a8.8 8.8 0 0 0 10.37 6.84l15.53-3.18-4.43-21.58"}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M99.73 102.44a15 15 0 0 1-9.97 5.64m0 0a6.4 6.4 0 0 0-.05 2.77l4.72 21.5m-4.67-24.27c-3.35.51-6.74-.17-9.64-1.81l3.94 19.23a8.8 8.8 0 0 0 10.37 6.84m0 0 15.53-3.18-4.43-21.58"}),k.jsx("path",{fill:"#AFE966",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M138.02 108.08a6.5 6.5 0 0 1-5.06 7.67l-12.01 2.46a6.5 6.5 0 0 1-7.67-5.06l-1.68-8.19c-3.13.4-9.8-1.84-11.86-2.5 1.72.7 4.84.44 5.8 5.16l4.43 21.57 30.98-6.35a8.8 8.8 0 0 0 6.84-10.37l-3.95-19.24a15.15 15.15 0 0 1-7.76 5.37l1.95 9.5v-.02Z"}),k.jsx("path",{fill:"#AFE966",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M128.52 98.75c-2.54-.61-4.21-1.36-4.21-1.36a18.8 18.8 0 0 1-11.06 7.33c-.56.11-1.11.17-1.64.24l1.68 8.19a6.5 6.5 0 0 0 7.67 5.06l12.02-2.47a6.5 6.5 0 0 0 5.05-7.67l-1.94-9.5c-2.36.68-4.94.8-7.57.18m18.08-17.56-25.06 5.12-23.2 4.76-24.95 5.14L146.6 81.2Z"}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m94.44 68.94 5.28 33.5m17.78-37.32 7.16 32.2"}),k.jsx("path",{fill:"#06CF9C",d:"M168.78 86.62c-4.4-.18-8.5 1.88-10.5 5.93-3.63 7.41.9 15.62 5.65 21.33 3.3 3.92 7.17 7.25 11.06 10.59.38.33.8.69 1.32.71.52.05.98-.23 1.41-.5 6.59-4 13.09-8.34 18.24-14.05 3.01-3.35 5.65-7.66 4.91-12.1a10.35 10.35 0 0 0-4.66-6.93c-7.88-5-16.06 1.86-16.06 1.86s-4.53-7.46-11.4-6.84"}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M168.78 86.62c-4.4-.18-8.5 1.88-10.5 5.93-3.63 7.41.9 15.62 5.65 21.33 3.3 3.92 7.17 7.25 11.06 10.59.38.33.8.69 1.32.71.52.05.98-.23 1.41-.5 6.59-4 13.09-8.34 18.24-14.05 3.01-3.35 5.65-7.66 4.91-12.1a10.35 10.35 0 0 0-4.66-6.93c-7.88-5-16.06 1.86-16.06 1.86s-4.53-7.46-11.4-6.84"}),k.jsx("path",{fill:"#25D366",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m167.9 17-.2 3.7a3.58 3.58 0 0 0 3.24 3.8 3.52 3.52 0 0 0 3.74-3.31l.78-15.12a3.51 3.51 0 0 0-4.54-3.52l-14.98 4.34c-1.85.53-3 2.44-2.51 4.3a3.5 3.5 0 0 0 4.35 2.44l3.88-1.13-21 29.54-8.71-14.07a4.16 4.16 0 0 0-7-.11L112.08 47.2l11.56-2.36 4.63-6.97 8.57 13.83a4.16 4.16 0 0 0 6.9.25l24.1-35 .04.05Z"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"a",children:k.jsx("path",{fill:"#fff",d:"M0 0h228v152H0z"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WdsSmbIllStartAChatIcon=a}),98);
__d("WAWebIntroPanel.react",["fbt","WALogger","WAWebABProps","WAWebBizGatingUtils","WAWebButton.react","WAWebConversationPanelAnimations","WAWebDesktopUpsellAnimationData","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebEnvironment","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebIntroMdBetaLogoDarkIcon.react","WAWebIntroMdBetaLogoLightIcon.react","WAWebIntroPanel.scss","WAWebLockOutlineIcon.react","WAWebLockSmallIcon.react","WAWebLottieAnimationLoadable","WAWebMobilePlatforms","WAWebThemeContext","WAWebUIRefreshGatingUtils","WAWebUseIsFeatureEnabled","WAWebVelocityAnimate","WAWebWaLogoIcon.react","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWdsIllWebNativeIcon.react","WAWebWdsSmbIllStartAChatIcon.react","WDSButton.react","WDSFont.react","bx","cr:10211","cr:23046","react","stylex","useWAWebABPropConfigValue","useWAWebDesktopUpsellWamImpression","useWAWebExternalBetaOptIn"],(function(a,b,c,d,e,f,g,h){var i,j,k=["ref"],l,m,n;e=n||d("react");var o=l||(l=c("react")),p=e.useContext,q=e.useEffect,r=e.useImperativeHandle,s=e.useRef,t={whatsappLogo:{color:"x1vef352",display:"x1rg5ohu",$$css:!0},title:{marginTop:"xib59rt",fontSize:"xdhfpv1",fontWeight:"x1iikomf",color:"xx75k7l",$$css:!0},titleUpsellExperiment:{marginTop:"x9u28bd",fontSize:"xddofbv",fontWeight:"xo1l8bm",color:"xx75k7l",$$css:!0},descriptionUpsellExperiment:{color:"xhslqc4",fontSize:"x6prxxf",fontWeight:"x1cmdng9",lineHeight:"x1o2sk6j",marginTop:"x1380le5",$$css:!0},textContainer:{opacity:"xg01cxk",$$css:!0},mdTextContainer:{opacity:"xg01cxk",$$css:!0},mdBetaImage:{display:"x1rg5ohu",marginTop:"xdj266r",marginInlineEnd:"x11t971q",marginBottom:"xat24cr",marginInlineStart:"xvc5jky",$$css:!0},spacingSingleBottom:{marginBottom:"xcytdqz",$$css:!0},spacingTripleBottom:{marginBottom:"x14mdic9",$$css:!0},spacingTripleTop:{marginTop:"x9u28bd",$$css:!0},animation:{width:"x9r4l05",height:"x1ebt64t",$$css:!0}};function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,k);var f=a.animate;a=p(d("WAWebThemeContext").ThemeContext);var g=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),l=d("useWAWebExternalBetaOptIn").useExternalBetaOptIn(),n=l[0],w=d("useWAWebExternalBetaOptIn").useMacBetaUpsellOnWeb();l=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_type_migration");var x=s(null),y=s(null);q(function(){var a=x.current,b=y.current;f?(c("WAWebVelocityAnimate")(a,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]})["catch"](function(){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[intro-panel] Velocity animate failed"])))}),c("WAWebVelocityAnimate")(b,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})["catch"](function(){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[intro-panel] 2nd Velocity animate failed"])))})):(a&&(a.style.opacity="1"),b&&(b.style.opacity="1"))},[]);var z=s(null),A=function(a,b){var c;c=(c=z.current)==null?void 0:c.clientWidth;if(c==null||a===b)return!1;c=c/(a-b);return d("WAWebConversationPanelAnimations").animateConversationPanel(z.current,c)},B=function(a){return!z.current?!1:z.current.contains(a)};r(e,function(){return{animatePanel:A,containsDOMNode:B}});e=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");var C,D=t.textContainer,E=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("intro_panel"),F=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();E=E&&F===!0;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({source:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.INTRO_PANEL,isCtaVisible:E,isBeta:E&&w,isBetaUser:n});F=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();var G=(b("cr:23046")==null?void 0:b("cr:23046").isWindowsHybridEnabled())===!0,H=F&&d("WAWebMobilePlatforms").isSMB();if(E){E=d("WAWebDesktopUpsellUtils").isEmptyStateUpsellBannerVariantEnabled();var I=E?t.titleUpsellExperiment:t.title;E=E?t.descriptionUpsellExperiment:null;g=o.jsx("div",{ref:x,className:"xg01cxk x1g0ag68 x78zum5 xl56j7k",children:o.jsx(u,{userDesktopOs:g})});I=l?o.jsx(d("WDSFont.react").WDSTextLargeTitle1,{colorName:"contentDefault",isPrimaryHeading:!0,xstyle:[t.spacingSingleBottom,t.spacingTripleTop],children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellDownloadWhatsAppTitle(w)}):o.jsx("h1",babelHelpers["extends"]({"data-testid":void 0},(m||(m=c("stylex"))).props(I,t.spacingSingleBottom,t.spacingTripleTop),{children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellDownloadWhatsAppTitle(w)}));l=l?o.jsx(d("WDSFont.react").WDSTextBody1,{colorName:"contentDeemphasized",xstyle:t.spacingTripleBottom,children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellIntroPanelText(w)}):o.jsxs("div",babelHelpers["extends"]({"data-testid":void 0},(m||(m=c("stylex"))).props(E,t.spacingTripleBottom),{children:[" ",d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellIntroPanelText(w)]}));E=o.jsxs(o.Fragment,{children:[I,l]});C=v({buttonText:d("WAWebDesktopUpsellCommonStrings").getDesktopAppDownloadFromStoreBtnLabel(w),onClick:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl({ctaSource:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.INTRO_PANEL,isBetaUpsell:w,isBetaUser:n})}})}else{D=t.mdTextContainer;G?I=o.jsx(d("WAWebWaLogoIcon.react").WaLogoIcon,{height:56,width:56,iconXstyle:t.whatsappLogo}):H?I=o.jsx(d("WAWebWdsSmbIllStartAChatIcon.react").WdsSmbIllStartAChatIcon,{xstyle:t.mdBetaImage}):I=a.theme==="light"?o.jsx(d("WAWebIntroMdBetaLogoLightIcon.react").IntroMdBetaLogoLightIcon,{className_DONOTUSE:"x1rg5ohu xdj266r x11t971q xat24cr xvc5jky",width:360}):o.jsx(d("WAWebIntroMdBetaLogoDarkIcon.react").IntroMdBetaLogoDarkIcon,{className_DONOTUSE:"x1rg5ohu xdj266r x11t971q xat24cr xvc5jky",width:360});g=o.jsx("div",{ref:x,className:"xg01cxk x1g0ag68 x78zum5 xl56j7k",children:I});H?l=c("WAWebFbtCommon")("WhatsApp Business on Web"):l=c("WAWebFbtCommon")("WhatsApp Web");c("WAWebEnvironment").isWindows&&(l=c("WAWebFbtCommon")("WhatsApp for Windows"));a=o.jsx("div",{className:"x3nfvp2 x1q9ymp4 x579bpy x1iikomf x1srq1fq xx75k7l",children:o.jsx("h1",{"data-testid":void 0,children:l})});e?E=o.jsxs(o.Fragment,{children:[a,o.jsxs("div",{"data-testid":void 0,className:"x98l61r x1f6kntn xo1l8bm x1fc57z9 xhslqc4",children:[h._(/*BTDS*/"Your Meta verified subscription allows you to link up to 6 devices to your WhatsApp account and assign chats to each one."),o.jsx("br",{}),h._(/*BTDS*/"Use your phone to add devices.")]})]}):d("WAWebBizGatingUtils").billingEnabled()?E=o.jsxs(o.Fragment,{children:[a,o.jsxs("div",{"data-testid":void 0,className:"x98l61r x1f6kntn xo1l8bm x1fc57z9 xhslqc4",children:[h._(/*BTDS*/"{=m0}",[h._implicitParam("=m0",o.jsx("strong",{children:h._(/*BTDS*/"New: multi-agent sales and support")}))]),o.jsx("br",{}),h._(/*BTDS*/"Respond to customers faster with up to 10 assignable agents. Available with WhatsApp Business Premium."),o.jsx("br",{}),o.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getWhatsAppBusinessPremiumFaqUrl(),children:h._(/*BTDS*/"Learn more")})]})]}):H?E=o.jsxs(o.Fragment,{children:[a,o.jsxs("div",{"data-testid":void 0,className:"x98l61r x1f6kntn xo1l8bm x1fc57z9 xhslqc4",children:[h._(/*BTDS*/"Grow, organise and manage your business account."),o.jsx("br",{})]})]}):E=o.jsxs(o.Fragment,{children:[a,o.jsxs("div",{"data-testid":void 0,className:"x98l61r x1f6kntn xo1l8bm x1fc57z9 xhslqc4",children:[h._(/*BTDS*/"Send and receive messages without keeping your phone online."),o.jsx("br",{}),h._(/*BTDS*/"Use WhatsApp on up to 4 linked devices and 1 phone at the same time.")]})]})}I=G||F?o.jsx(d("WAWebLockOutlineIcon.react").LockOutlineIcon,{height:20,width:20}):o.jsx(d("WAWebLockSmallIcon.react").LockSmallIcon,{});return o.jsx("div",{className:"x10l6tqk x1vjfegm x9f619 x78zum5 x1iyjqo2 x6s0dn4 xl56j7k xh8yej3 x5yr21d xv8gdss xgb8hzy xt0e3qv xsknx04",ref:z,children:o.jsxs("div",{className:"xktia5q x27kpxv x135pmgq x2b8uid","data-testid":void 0,children:[g,o.jsxs("div",babelHelpers["extends"]({ref:y},(m||(m=c("stylex"))).props(D),{children:[E,C,b("cr:10211")?o.jsx("div",{className:"x1hogkm0",children:o.jsx(b("cr:10211"),{})}):null]})),o.jsxs("div",{className:c("WAWebIntroPanel.scss").encrypted,children:[I," ",h._(/*BTDS*/"Your personal messages are end-to-end encrypted")]})]})})}a.displayName=a.name+" [from "+f.id+"]";function u(a){a=a.userDesktopOs;var b=d("WAWebThemeContext").useIsDarkTheme(),e=c("bx")("482"),f=c("bx")("484"),g=d("WAWebABProps").getABPropConfigValue("desktop_upsell_intro_panel_illustration_variant");if(g===1)e=c("bx")("32107"),f=c("bx")("32108");else if(g===2)return o.jsx(d("WAWebLottieAnimationLoadable").LottieAnimation,{loop:!1,autoplay:!0,data:c("WAWebDesktopUpsellAnimationData")(b),xstyle:t.animation});else if(g===3)return o.jsx(d("WAWebWdsIllWebNativeIcon.react").WdsIllWebNativeIcon,{width:270,height:180});return o.jsx("img",{src:a===d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS?c("bx").getURL(e):c("bx").getURL(f),width:320,alt:""})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a!=null?a:{};var b=a.buttonText;a=a.onClick;return b!=null&&a!=null?d("WAWebABProps").getABPropConfigValue("wds_web_button")?o.jsx("div",{className:"x1ci5j9l x78zum5 xl56j7k",children:o.jsx(c("WDSButton.react"),{variant:"filled",type:"default",size:"medium",onPress:a,label:b})}):o.jsx("div",{className:"x1ci5j9l",children:o.jsx(d("WAWebButton.react").Button,{type:"strong-primary",onClick:a,children:b})}):null}g["default"]=a}),226);
__d("WAWebResetLastActiveSideNavStateAction",["WAWebChatGetters","WAWebDrawerManager","WAWebGroupType","WAWebNavBarEmptyState.react","WAWebNavBarTypes","WAWebSideNavButtonsActivityModel","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=function(){d("WAWebDrawerManager").DrawerManager.openDrawerMid(i.jsx(d("WAWebNavBarEmptyState.react").NavBarEmptyState,{type:d("WAWebNavBarTypes").NavBarItems.Communities}),{transition:"none"})},k=function(){d("WAWebDrawerManager").DrawerManager.openDrawerMid(i.jsx(d("WAWebNavBarEmptyState.react").NavBarEmptyState,{type:d("WAWebNavBarTypes").NavBarItems.Newsletters}),{transition:"none"})};a=function(a){var b=d("WAWebSideNavButtonsActivityModel").getLastActiveButton();if(b==null)return;switch(b){case d("WAWebNavBarTypes").NavBarItems.Chats:d("WAWebSideNavButtonsActivityModel").setLastActiveChat(null);break;case d("WAWebNavBarTypes").NavBarItems.Newsletters:d("WAWebChatGetters").getIsNewsletter(a)&&(d("WAWebSideNavButtonsActivityModel").setLastActiveNewsletter(null),k());break;case d("WAWebNavBarTypes").NavBarItems.Communities:if(a.groupType!=null)switch(a.groupType){case d("WAWebGroupType").GroupType.COMMUNITY:case d("WAWebGroupType").GroupType.LINKED_SUBGROUP:case d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP:case d("WAWebGroupType").GroupType.LINKED_GENERAL_GROUP:d("WAWebSideNavButtonsActivityModel").setLastActiveCommunity(null);j();break;case d("WAWebGroupType").GroupType.DEFAULT:d("WAWebSideNavButtonsActivityModel").setLastActiveChat(null);break}break;case d("WAWebNavBarTypes").NavBarItems.Archived:case d("WAWebNavBarTypes").NavBarItems.Beta:case d("WAWebNavBarTypes").NavBarItems.BizTools:case d("WAWebNavBarTypes").NavBarItems.Calls:case d("WAWebNavBarTypes").NavBarItems.Orders:case d("WAWebNavBarTypes").NavBarItems.Labels:case d("WAWebNavBarTypes").NavBarItems.LockedChats:case d("WAWebNavBarTypes").NavBarItems.Starred:case d("WAWebNavBarTypes").NavBarItems.Settings:case d("WAWebNavBarTypes").NavBarItems.Profile:case d("WAWebNavBarTypes").NavBarItems.Status:case d("WAWebNavBarTypes").NavBarItems.MediaHub:break}};g.resetLastActiveSideNavStateForChat=a}),98);
__d("WAWebConversation.react",["WAAsyncSleep","WALogger","WAWebABProps","WAWebBizAiAgentGating","WAWebBizAiAgentStatusUtils","WAWebBotDisclaimerManager","WAWebBotFeatureNotAvailable.react","WAWebBotGating","WAWebBotLogging","WAWebBotTosIds","WAWebBotUtils","WAWebBusinessProfileCollection","WAWebCAPIGroupAboutModal.react","WAWebChatEntryPoint","WAWebChatEphemerality","WAWebChatGetters","WAWebChatGroupUtils","WAWebChatLockCodeModal.react","WAWebChatLockUtils","WAWebChatLockWAMUtils","WAWebChatPreferenceCollection","WAWebCmd","WAWebConversationPanelWrapper.react","WAWebDesktopUpsellEvents","WAWebDrawerManager","WAWebFrontendMsgGetters","WAWebGetOrQueryUsyncInfoContactAction","WAWebHostedGroupUtils","WAWebIntroPanel.react","WAWebKeyboardTabUtils","WAWebLockedChatsDrawer.react","WAWebModalManager","WAWebMsgCollection","WAWebNoop","WAWebNux","WAWebPonyfillsIdleCallback","WAWebQueryGroupAction","WAWebResetLastActiveSideNavStateAction","WAWebStreamModel","WAWebUpdateEphemeralSettingChatAction","WAWebWamEnumActionEntryPoint","WAWebWamEnumLandingSurface","WAWebWid","asyncToGeneratorRuntime","gkx","react","useWAWebChatLockRestriction","useWAWebListener","useWAWebNux","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;e=m||d("react");var n=l||(l=c("react")),o=e.memo,p=e.useEffect,q=e.useImperativeHandle,r=e.useRef,s=e.useState;function t(a){switch(a){case d("WAWebChatEntryPoint").ChatEntryPoint.Chatlist:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_LIST;case d("WAWebChatEntryPoint").ChatEntryPoint.Notification:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.NOTIFICATIONS;case d("WAWebChatEntryPoint").ChatEntryPoint.PrivateReply:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.PRIVATE_REPLY;case d("WAWebChatEntryPoint").ChatEntryPoint.DirectMessage:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.DIRECT_MESSAGE;case d("WAWebChatEntryPoint").ChatEntryPoint.ContactInfo:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_INFO;case d("WAWebChatEntryPoint").ChatEntryPoint.Mention:return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.DIRECT_MESSAGE;case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterIntegrity:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterChatlist:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectory:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectorySearch:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectoryCategory:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectoryCategorySearch:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterUpdatesTab:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterUpdatesTabSearch:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterCreationFlow:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterAdminInviteAcceptModal:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterPostLinkCard:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterLinkCard:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterLinkCardButton:case d("WAWebChatEntryPoint").ChatEntryPoint.ForwardedNewsletterMessage:case d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterCTAOnStatus:case d("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters:case d("WAWebChatEntryPoint").ChatEntryPoint.Link:case d("WAWebChatEntryPoint").ChatEntryPoint.Deeplink:case d("WAWebChatEntryPoint").ChatEntryPoint.Vcard:case d("WAWebChatEntryPoint").ChatEntryPoint.BotChatListShortcut:case d("WAWebChatEntryPoint").ChatEntryPoint.ChatsTab:case d("WAWebChatEntryPoint").ChatEntryPoint.NewslettersTab:case d("WAWebChatEntryPoint").ChatEntryPoint.CommunitiesTab:case d("WAWebChatEntryPoint").ChatEntryPoint.VoipWindow:case d("WAWebChatEntryPoint").ChatEntryPoint.MetaAINullStateSuggestion:case d("WAWebChatEntryPoint").ChatEntryPoint.MetaAITypeaheadSuggestion:case d("WAWebChatEntryPoint").ChatEntryPoint.Unknown:break}return d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.UNKNOWN}function a(a){var e=a.animate;a=a.ref;var f=r(),g=r(),l=r(0),m=r(c("WAWebNoop")),o=m.current,u=r(c("WAWebNoop")),v=u.current,w=r(d("WAWebChatEntryPoint").ChatEntryPoint.Unknown),x=s(),y=x[0],z=x[1];x=s();var A=x[0],B=x[1];x=s();var C=x[0],D=x[1];x=s(!1);var E=x[0],F=x[1];d("useWAWebChatLockRestriction").useChatLockRestriction({id:y!=null?"locked-thread-"+y.id.toString():"chat-homescreen",condition:y!=null?y:"bypass",entryPoint:t(w.current),landingSurface:d("WAWebWamEnumLandingSurface").LANDING_SURFACE.THREAD,unlockEntryPoint:d("WAWebChatLockWAMUtils").actionEntryPointToUnlockEntryPoint(t(w.current))});x=s(e);e=x[0];x=x[1];var G=c("useWAWebPrevious")(e);G!==!1&&e!==!1&&x(!1);var H=function(a,b){var c=b?b.msg||d("WAWebMsgCollection").MsgCollection.get(b.key):void 0;if(b&&c&&a){b=a.chat;var e=a.renderedMsgsInfo;a=a.visibleMsgOrder;if(b&&e&&a&&Object.keys(e).length>0&&a.length>0){a=e[a[0].toString()];var f=c.id.toString();e=Object.entries(e).find(function(a){return a===f});e=e?e[1]:null;if(e)return{wasVisible:!0,offset:e.offset};else if(b===d("WAWebFrontendMsgGetters").getChat(c))return a&&c.t<a.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}};q(a,function(){return{containsDOMNode:function(a){return!f.current?!1:f.current.containsDOMNode(a)},animatePanel:function(a,b,c,d){return!f.current?!1:f.current.animatePanel(a,b,c,d)}}});G=function(){d("WAWebStreamModel").Stream.markUnavailable(15*1e3)};var I=function(a,b,c){z(a),B(b),D(c)},J=function(a,b,c){return I(a,b,c)};x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var o;if(!d("WAWebChatLockUtils").chatIsAccessible(a)){var p=t(e),q=d("WAWebChatLockWAMUtils").actionEntryPointToUnlockEntryPoint(t(e)),r=(yield d("WAWebChatLockCodeModal.react").waitForChatlockSecretCode({unlockAppOnSuccess:!0,landingSurface:d("WAWebWamEnumLandingSurface").LANDING_SURFACE.THREAD,unlockEntryPoint:q,entryPoint:p}));if(!r)return;d("WAWebDrawerManager").DrawerManager.openDrawerLeft(n.jsx(c("WAWebLockedChatsDrawer.react"),{entryPoint:p,unlockEntryPoint:q,focusOnMount:!1}),{focusType:d("WAWebKeyboardTabUtils").FocusType.CUSTOM,transition:"flow-transition-drawer-pop"})}if(a.id.isBot()){if(!d("WAWebBotGating").isBotEnabled()){d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebBotFeatureNotAvailable.react"),{}));return}r=d("WAWebBotUtils").isMetaAiBot(a.id);p=d("WAWebBotLogging").getBotEntryPoint(a.id,e);d("WAWebBotLogging").logAiChatClickBotJourneyEvent(p);q=d("WAWebBotTosIds").getApplicableBotNoticeId(p);if(!a.id.isFbidBot()||r)try{yield d("WAWebBotDisclaimerManager").enterBotTosFlow({noticeId:String(q),botEntryPoint:p,chat:a})}catch(a){if(a!==d("WAWebBotDisclaimerManager").TOS_ACCEPTANCE_NOT_SUPPORTED_ERROR)return}d("WAWebBotDisclaimerManager").canShowLegacyBotNux(String(q))||d("WAWebChatGroupUtils").updateCanSend(a)}y!==a&&d("WAWebCmd").Cmd.updateChatlistSelection(a);var s=g.current,v={};g.current=v;u.current=function(a){Object.assign(v,a)};c("gkx")("26258")||(b?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["msgContext.collection length: ",""])),b.collection.length):d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["chat.msgs length: ",""])),a.msgs.length));r=b?b.collection:a.msgs;l.current++;var x=l.current,z=function(){return x===l.current};w.current=e;var A=!1,B=function(){if(!z())return;A=!0;f(H(s,b))},C=(b==null||(o=b.msg)==null?void 0:o.id)||(b==null?void 0:b.key);m.current=function(a){if(A||!z())return;if(!C){B();return}a=a.some(function(a){return a.id.equals(C)});if(!a)return;B()};J(a,r,b);a.contact.isEnterprise==null&&d("WAWebChatGetters").getIsUser(a)&&!c("WAWebWid").isPSA(a.contact.id)&&!a.id.isBot()&&d("WAWebPonyfillsIdleCallback").requestIdleCallback(function(){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[usync] Getting usync info for contact while opening the chat"]))),void d("WAWebGetOrQueryUsyncInfoContactAction").queryUsyncBusiness(a.id)});a.contact.isEnterprise&&d("WAWebChatEphemerality").isEphemeralSettingOn(a)&&(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[DM] auto-disabling DM due to chat being with CAPI account"]))).devConsole({chat:a,ephemeralDuration:a.ephemeralDuration}),d("WAWebUpdateEphemeralSettingChatAction").setChatAsEphemeralityUnsupported(a));d("WAWebBizAiAgentGating").isAiAgentAutoReplyEnabled()&&d("WAWebBizAiAgentStatusUtils").isChatAiEnabled(a)&&a.setForceDismissAiAgentBlockingBar(!1)});return function(b,c,d,e){return a.apply(this,arguments)}}();var K=function(){J(void 0,void 0,void 0)};a=function(a){d("WAWebResetLastActiveSideNavStateAction").resetLastActiveSideNavStateForChat(a),a===y&&(K(),a.setForceDismissAiAgentBlockingBar(!1))};var L=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebABProps").getABPropConfigValue("dau_fix_delay_presence_on_focus")){yield d("WAAsyncSleep").asyncSleep(500);if(window.document&&!document.hasFocus())return}d("WAWebStreamModel").Stream.markAvailable();y!=null&&d("WAWebChatGetters").getIsUser(y)&&y.presence.subscribe()});return function(){return a.apply(this,arguments)}}();d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_chat",x);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_chat",a);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_active_chat",K);d("useWAWebListener").useListener(window,"focus",L);d("useWAWebListener").useListener(window,"blur",G);d("useWAWebListener").useListener(c("WAWebChatPreferenceCollection"),"wallpaper_drawer_open",function(a){(!d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")||a)&&F(!0)});d("useWAWebListener").useListener(c("WAWebChatPreferenceCollection"),"wallpaper_drawer_close",function(a){(!d("WAWebABProps").getABPropConfigValue("use_per_chat_wallpaper")||a)&&F(!1)});x=c("useWAWebNux")(d("WAWebNux").NUX.CAPI_GROUP_ABOUT_MODAL);var M=x[0],N=x[1];a=function(a,b,c,d){var e=A;(e===a||e===b)&&(B(c),D(d&&(!!d.msg||!!d.collection)?d:C))};d("useWAWebListener").useListener(y,"change:cmc:merge",a);p(function(){y&&(y.contact.isBusiness&&!y.id.isBot()&&d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(y.id),y.groupMetadata&&d("WAWebQueryGroupAction").maybeQueryGroupDevice(y.groupMetadata))},[y]);p(function(){var a;(y==null||(a=y.groupMetadata)==null?void 0:a.hasCapi)===!0&&d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()&&M&&(d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebCAPIGroupAboutModal.react").CAPIGroupAboutModal,{})),N())},[y,M,N]);var O=y&&A||E;p(function(){d("WAWebDesktopUpsellEvents").WAWebDesktopUpsellEvents.trigger("conversation_panel_ui_change",{conversationPanelVisible:!!O})},[O]);return O?n.jsx(c("WAWebConversationPanelWrapper.react"),{chat:y,chatEntryPoint:w.current,groupMetadata:y==null?void 0:y.groupMetadata,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),focusCtx:C,msgCollection:A,notifyChatRendered:o,updateOpenedChatInfo:v,ref:f,showPreview:E},y==null?void 0:y.id.toString()):n.jsx(c("WAWebIntroPanel.react"),{animate:e,ref:f})}a.displayName=a.name+" [from "+f.id+"]";e=o(a);g.WAWebConversation=e}),98);
__d("WAWebCreateOrUpdateGroupMetadataAction",["WAWebGroupMetadataCollection","WAWebGroupQueryBridge"],(function(a,b,c,d,e,f,g){function a(a){var b;d("WAWebGroupQueryBridge").updateSubject(a.id,a.subject);c("WAWebGroupMetadataCollection").gadd(babelHelpers["extends"]({id:a.id,owner:a.owner,subject:a.subject,creation:a.creation,desc:a.desc,descId:a.descId,descOwner:a.descOwner,descTime:a.descTime,restrict:a.restrict||!1,announce:a.announce||!1,noFrequentlyForwarded:a.noFrequentlyForwarded||!1,ephemeralDuration:a.ephemeralDuration||0,growthLockExpiration:a.growthLockExpiration,growthLockType:a.growthLockType,membershipApprovalMode:a.membershipApprovalMode,memberAddMode:a.memberAddMode,participants:a.participants,pastParticipants:a.pastParticipants,support:(b=a.support)!=null?b:!1,suspended:(b=a.suspended)!=null?b:!1,terminated:(b=a.terminated)!=null?b:!1,isParentGroup:(b=a.isParentGroup)!=null?b:!1,isParentGroupClosed:(b=a.isParentGroupClosed)!=null?b:!1,parentGroup:a.parentGroup,defaultSubgroup:(b=a.defaultSubgroup)!=null?b:!1,generalSubgroup:(b=a.generalSubgroup)!=null?b:!1,deviceStale:!0,size:a.size,incognito:a.incognito,isLidAddressingMode:a.isLidAddressingMode,reportToAdminMode:a.reportToAdminMode},a.reportToAdminMode===!1&&{lastReportToAdminTimestamp:null},{allowNonAdminSubGroupCreation:a.allowNonAdminSubGroupCreation,generalChatAutoAddDisabled:a.generalChatAutoAddDisabled,hasCapi:a.hasCapi,hiddenSubgroup:(b=a.hiddenSubgroup)!=null?b:!1,groupSafetyCheck:(b=a.groupSafetyCheck)!=null?b:!1}))}g.createOrUpdateGroupMetadataModelFromQuery=a}),98);
__d("WAWebCreateSendMsgRecord",["WALogger","WAWebAddonDBTable","WAWebDBMessageSerialization","WAWebMsgKey","WAWebMsgModel","WAWebSchemaMessage","WAWebSendMsgTypes","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(e===d("WAWebSendMsgTypes").SendMessageRecordType.Message){var f=(yield d("WAWebSchemaMessage").getMessageTable().get(a));if(f==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["resendUserMsgJob didn't find a msg in the db"])));return null}f=new(d("WAWebMsgModel").Msg)(d("WAWebDBMessageSerialization").messageFromDbRow(f));return{type:d("WAWebSendMsgTypes").SendMessageRecordType.Message,data:f}}else if(e===d("WAWebSendMsgTypes").SendMessageRecordType.Addon){f=c("WAWebMsgKey").from(a);a=(yield d("WAWebAddonDBTable").addonDBTable.getByMsgKey(b,f));if(a==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["resendUserMsgJob didn't find an addonMsgData in the db"])));return null}return{type:d("WAWebSendMsgTypes").SendMessageRecordType.Addon,data:a}}throw c("err")("unexpected msgRecordType: "+e)});return j.apply(this,arguments)}g.createMsgRecord=a}),98);
__d("WAWebCustomPaymentMethods",["WAWebEventEmitter","WAWebQuickReplySmartDefaults","WAWebUserPrefsCustomPaymentMethods"],(function(a,b,c,d,e,f,g){var h="custom_payment_methods_change";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.setCustomPaymentMethods=function(a){d("WAWebUserPrefsCustomPaymentMethods").setCustomPaymentMethods(a),d("WAWebQuickReplySmartDefaults").getOrUpdatePixKeySmartDefault(),this.trigger(h)};return b}(c("WAWebEventEmitter"));b=new a();g.CUSTOM_PAYMENT_METHODS_CHANGE_EVENT=h;g.CustomPaymentMethods=b}),98);
__d("WAWebCustomPaymentMethodsSyncBridgeApi",["WAWebCustomPaymentMethods"],(function(a,b,c,d,e,f,g){a={setCustomPaymentMethods:function(a){a=a.customPaymentMethods;d("WAWebCustomPaymentMethods").CustomPaymentMethods.setCustomPaymentMethods(a)}};g.CustomPaymentMethodsSyncBridgeApi=a}),98);
__d("WAWebDownloadWebLogs",["Promise","WAWebCompression","WAWebFileSaver","WAWebFileSaverTypes","WAWebLid1X1MigrationGating","WAWebLoggerImpl","WAWebPrimaryVersion","WAWebToast.react","WAWebToastManager","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","gkx","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=1e6;function l(){return(h||(h=b("Promise"))).all([d("WAWebLoggerImpl").Logger.getLogs(),d("WAWebPrimaryVersion").getPrimaryCurrentVersion()]).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];if(a!=null){a="Primary app version: "+a;b.unshift(a)}b.unshift("Lid migrated: "+d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated().toString());a="Web log for device : "+((a=(a=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn())==null?void 0:a.toString())!=null?a:"")+", lid : "+((a=(a=d("WAWebUserPrefsMeUser").getMaybeMeDeviceLid())==null?void 0:a.toString())!=null?a:"")+", time: "+new Date().toString();var e=(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb()),f;c("gkx")("26259")?f="Environment : INTERN "+(e?", AB Props : DEBUG (joined beta)":""):f="Environment : DEV "+(e?", AB Props : RELEASE (joined beta)":"");b.unshift(a,f);e=b.join("\n");return e});return function(b){return a.apply(this,arguments)}}())}function a(){d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:"The download process has started. It might take longer for larger web log files."}));var a=new Date().toISOString().replace(/:/g,"-"),c="web_client_log_"+a;(h||(h=b("Promise"))).all([d("WAWebCompression").createDeflate(),l()]).then(function(a){var b=a[0];a=a[1];var c=new Blob([a],{type:"text/plain"});if(c.size>10*k){b.push(a,!0);a=new Blob([b.result()],{type:"application/zip"});return a}return c}).then(function(a){d("WAWebFileSaver").FileSaver.downloadData(a,a.type==="text/plain"?c:c+".txt",a.type==="text/plain"?d("WAWebFileSaverTypes").AllowedFileExtensions.TXT:d("WAWebFileSaverTypes").AllowedFileExtensions.ZIP)})}g.getWebLogs=l;g.createDownloadDataForMdWebLogs=a}),98);
__d("WAWebDebugBridgeApi",["WAWebDownloadWebLogs"],(function(a,b,c,d,e,f,g){"use strict";a={createDownloadDataForMdWebLogs:function(){d("WAWebDownloadWebLogs").createDownloadDataForMdWebLogs()},getWebLogs:function(){return d("WAWebDownloadWebLogs").getWebLogs()}};g.DebugBridgeApi=a}),98);
__d("WAWebUserPrefsDeviceCapabilities",["WAProtobufsDeviceCapabilities.pb","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h={chatLockSupportLevel:d("WAProtobufsDeviceCapabilities.pb").DeviceCapabilities$ChatLockSupportLevel.NONE};function i(a){a={chatLockSupportLevel:a.chatLockSupportLevel!=null?a.chatLockSupportLevel:h.chatLockSupportLevel};return a}function j(a){a=(a=typeof a==="object"&&a!=null&&typeof a.chatLockSupportLevel==="number"?d("WAProtobufsDeviceCapabilities.pb").DeviceCapabilities$ChatLockSupportLevel.cast(a.chatLockSupportLevel):null)!=null?a:h.chatLockSupportLevel;return{chatLockSupportLevel:a}}function k(a){a=i(a);c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.DeviceCapabilities,a,{shouldWriteToIdb:!1})}function l(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.DeviceCapabilities);return j(a)}function a(a){var b=l();b=babelHelpers["extends"]({},b,a);k(b);return b}g.mergeDeviceCapabilitiesToStorage=a}),98);
__d("WAWebDeviceCapabilitiesBootstrap",["WAProtobufsDeviceCapabilities.pb","WAWebDeviceCapabilitiesSync","WAWebUserPrefsDeviceCapabilities","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=!1;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(h)return;h=!0;var a={chatLockSupportLevel:d("WAProtobufsDeviceCapabilities.pb").DeviceCapabilities$ChatLockSupportLevel.FULL};a=d("WAWebUserPrefsDeviceCapabilities").mergeDeviceCapabilitiesToStorage(a);return c("WAWebDeviceCapabilitiesSync").sendMutation(a)});return i.apply(this,arguments)}g.bootstrapDeviceCapabilities=a}),98);
__d("WAWebWdsPictoMovePhoneIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wds-picto-move-phone";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=88;o=131;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 131 88",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M55.4 46.8c1.5 0 2.8-1.2 2.8-2.8s-1.2-2.8-2.8-2.8-2.8 1.2-2.8 2.8 1.3 2.8 2.8 2.8zm10.2 0c1.5 0 2.8-1.2 2.8-2.8s-1.2-2.8-2.8-2.8c-1.5 0-2.8 1.2-2.8 2.8s1.3 2.8 2.8 2.8zm10.2 0c1.5 0 2.8-1.2 2.8-2.8s-1.2-2.8-2.8-2.8S73 42.5 73 44s1.3 2.8 2.8 2.8zm36.1-34.1H87.5c-2.6 0-4.6 2.1-4.6 4.7v53.2c0 2.6 2.1 4.7 4.6 4.7h24.4c2.6 0 4.6-2.1 4.6-4.7V17.4c.1-2.6-2-4.7-4.6-4.7z",style:{fill:"#e6ffda",stroke:"#111b21",strokeWidth:1.5,strokeMiterlimit:10}}),k.jsx("path",{d:"M43 12.7H18.6c-2.6 0-4.6 2.1-4.6 4.7v53.2c0 2.6 2.1 4.7 4.6 4.7H43c2.6 0 4.6-2.1 4.6-4.7V17.4c.1-2.6-2-4.7-4.6-4.7z",style:{fill:"#25d366",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeMiterlimit:10}}),k.jsx("path",{d:"M43 19.8H18.7c-.8 0-1.5.7-1.5 1.5V66c0 .8.7 1.5 1.5 1.5H43c.8 0 1.5-.7 1.5-1.5V21.3c0-.8-.7-1.5-1.5-1.5zm-16.9 51h9.5M95 17.1h9.4",style:{strokeLinecap:"round",fill:"none",stroke:"#111b21",strokeWidth:1.5,strokeMiterlimit:10}}),k.jsx("path",{d:"M83.3 21.3h32.9M83.3 63.9h32.9m-16.5 7.9c1.2 0 2.1-1 2.1-2.2s-1-2.2-2.1-2.2c-1.2 0-2.1 1-2.1 2.2s.9 2.2 2.1 2.2z",style:{fill:"none",stroke:"#111b21",strokeWidth:1.5,strokeMiterlimit:10}})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WdsPictoMovePhoneIcon=a}),98);
__d("WAWebDeviceSwitchingPopup.react",["fbt","WAWebChangePhoneIcon.react","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModal.react","WAWebModalManager","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebWdsPictoMovePhoneIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={hyphen:{textAlign:"x2b8uid",fontWeight:"xk50ysn",fontSize:"x579bpy",color:"xzwifym",$$css:!0}};function a(a){a=a.otpCode;var b=function(){d("WAWebModalManager").ModalManager.close()};a=a.split("");var e=a.slice(0,3);a=a.slice(3);var f=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?k.jsx(d("WAWebWdsPictoMovePhoneIcon.react").WdsPictoMovePhoneIcon,{}):k.jsx(d("WAWebChangePhoneIcon.react").ChangePhoneIcon,{});e=k.jsx("div",{dir:"ltr",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:[e.map(function(a,b){return k.jsx(m,{content:a},b+":"+a)}),k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.hyphen,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.horiz8),{"aria-hidden":"true",children:"-"})),a.map(function(a,b){return k.jsx(m,{content:a},b+3+":"+a)})]})});return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:c("WAWebFbtCommon")("OK"),type:d("WAWebModal.react").ModalTheme.InviteNew,buttonAlign:"center",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.all24,children:[f,k.jsx(d("WAWebText.react").WAWebTextLarge,{paddingTop:24,paddingBottom:24,weight:"medium",children:h._(/*BTDS*/"Code for new phone")}),k.jsx("div",{className:"x1jchvi3",children:h._(/*BTDS*/"Enter this verification code on your new phone. Please don't share it with anyone. If you didn't request a code, you can safely ignore this.")}),e]})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.content;return k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[d("WAWebUISpacing").uiMargin.horiz14,d("WAWebUISpacing").uiPadding.top20],children:k.jsx("span",{className:"x2b8uid xk50ysn x1q74xe4 x1jzgpr8 xzwifym",children:a})})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDeviceSwitchAction",["WAWebDeviceSwitchingPopup.react","WAWebModalManager","WAWebNotificationBackend","WAWebUserPrefsMeUser","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();b={wid:b,otpCode:a};void d("WAWebNotificationBackend").showDeviceSwitchNotification(b);d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebDeviceSwitchingPopup.react"),{otpCode:a}))}g.handleOpenDeviceSwitchCode=a}),98);
__d("WAWebDeviceSwitchingBridgeApi",["WAWebDeviceSwitchAction"],(function(a,b,c,d,e,f,g){a={showDeviceSwitchOtp:function(a){a=a.otpCode;d("WAWebDeviceSwitchAction").handleOpenDeviceSwitchCode(a)}};g.DeviceSwitchingBridgeApi=a}),98);
__d("WAWebDocumentVisibilityObserver",[],(function(a,b,c,d,e,f){var g=60*1e3;a=function(){function a(){this.$1=!document.hidden,this.$2=!document.hidden,this.$3=document.hidden?null:0,this.$4=[]}var b=a.prototype;b.isDocumentVisible=function(){return this.$1};b.isWindowInFocus=function(){return this.$2};b.getDocumentVisibilityDuration=function(a){var b=a.start;a=a.end;var c=0,d=window.performance.now();this.$3!=null&&(this.$4.push({start:this.$3,end:d}),this.$3=d);for(d of this.$4){if(d.end<b||d.start>a)continue;if(d.start<=b&&d.end<=a){c+=d.end-b;continue}if(d.start<=b&&d.end>a){c+=a-b;continue}if(d.start>=b&&d.end<=a){c+=d.end-d.start;continue}if(d.start>=b&&d.end>a){c+=a-d.start;continue}}return c};b.observe=function(){var a=this,b=function(b,c){if(c===a.$1)return;a.$1=c;c?a.$3=b.timeStamp:a.$3!=null&&(a.$4.push({start:a.$3,end:b.timeStamp}),a.$3=null);a.$4=a.$4.filter(function(a){return a.end>=b.timeStamp-g})},c=function(a){b(a,!document.hidden)},d=function(){a.$2=!0},e=function(){a.$2=!1};document.addEventListener("visibilitychange",c);window.addEventListener("focus",d);window.addEventListener("blur",e);return function(){document.removeEventListener("visibilitychange",c),window.removeEventListener("focus",d),window.removeEventListener("blur",e)}};return a}();f.WAWebDocumentVisibilityObserver=a}),66);
__d("WAWebKeyboardRotateFocus.react",["WAWebFocusIndicator","WAWebFocusTracer","WAWebKeyboardConstants","WAWebKeyboardTabUtils","WAWebUseIsKeyboardUser","react","useMergeRefs"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.focusType,f=l(null);b=c("useMergeRefs")(b,f);var g=c("WAWebUseIsKeyboardUser")(),i=g.setIsKeyboardUser;g=function(a){if(a.metaKey||a.ctrlKey)return;var b=f.current,g;a.key===d("WAWebKeyboardConstants").KEYBOARD_EVENT_KEY_VALUE.TAB?(a.stopPropagation(),a.preventDefault(),i(!0),c("WAWebFocusIndicator").shouldIndicateFocus(),b!=null&&(g=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,a.shiftKey?d("WAWebKeyboardTabUtils").TabDirection.BACKWARD:d("WAWebKeyboardTabUtils").TabDirection.FORWARD,e))):b!=null&&b===document.activeElement&&(g=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,d("WAWebKeyboardTabUtils").TabDirection.FORWARD,e,function(a){return a.nodeName.toLowerCase()==="input"}));if(g==null)return;c("WAWebFocusIndicator").shouldIndicateFocus();m(g)};return k.jsx("div",{ref:b,style:a.style,className:"x10l6tqk x13vifvy xtijo5x x1ey2m1c x1o0tod",onKeyDown:g,tabIndex:-1,children:a.children})}a.displayName=a.name+" [from "+f.id+"]";b=a;function m(a){c("WAWebFocusTracer").focus(a)}g.RotateFocus=b}),98);
__d("WAWebDrawerManager.react",["WATypeUtils","WAUpperFirst","WAWebDrawerContext","WAWebDrawerManager","WAWebErrorBoundary.react","WAWebFocusTracer","WAWebKeyboardRotateFocus.react","WAWebKeyboardTabUtils","WAWebNonEmptyString","WAWebUimContext","WAWebUimUie.react","WAWebVelocityTransitionGroup","lodash","react","uniqueID","useWAWebListener","useWAWebUiIdle"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useRef,m=b.useState,n={container:{position:"x10l6tqk",top:"x13vifvy",insetInlineEnd:"xtijo5x",bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0},rightContainer:{backgroundColor:"x1280gxy",$$css:!0}},o={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"},p={LEFT:"left",MID:"mid",RIGHT:"right"},q=function(a){switch(a){case p.LEFT:return o.LEFT;case p.MID:return o.MID;default:a;return o.RIGHT}};function a(a){var b,e,f=a.animationDisabled,g=a.direction,h=a.onDrawerAnimationComplete,i=a.onDrawerIn,r=a.onDrawerOut,s=c("useWAWebUiIdle")(),t=l(null),u=l(null),v=l(null),w=l(!1);a=m(void 0);var x=a[0],y=a[1];a=m(!1);var z=a[0],A=a[1];a=m(null);var B=a[0],C=a[1];a=m(function(){return q(g)});var D=a[0],E=a[1];a=m(void 0);var F=a[0],G=a[1];a=m(void 0);var H=a[0],I=a[1];a=m(!1);var J=a[0],K=a[1];a=m(void 0);var L=a[0],M=a[1];a=m(d("WAWebDrawerContext").undefinedDrawerContext);var N=a[0],O=a[1];a=m(d("WAWebKeyboardTabUtils").FocusType.CUSTOM);var P=a[0],Q=a[1];a=function(a){O(a)};var R=function(b,e){e=e===void 0?{}:e;var f=e.transition,h=f===void 0?q(g):f;f=e.uim;var j=e.noFocus,k=e.onEnterAnimationComplete,l=e.newDrawerContext;l=l===void 0?d("WAWebDrawerContext").undefinedDrawerContext:l;var m=e.focusType,a=e.disableRotateFocus;e=e.focusOnUnMount;e=e===void 0?!1:e;var n=d("WAWebNonEmptyString").asMaybeNonEmptyString(c("uniqueID")("DrawerManager"+g)),p=null;e&&(p=document.activeElement);u.current=p;if(!w.current&&x){if(x.key!=null&&c("lodash").isEqual(x.key,b.key))return;v.current=o.NONE;y(b);C(n);E(h);G(f);I(j);M(k);O(l);Q(m);K(a);s(function(){v.current=h});A(e)}else i&&i(),y(b),C(n),E(h),G(f),I(j),M(k),O(l),Q(m),K(a),A(e)},S=function(a){a(w.current===!0?!1:!!x)},T=function(a){if(a!=null&&B!==a)return;if(!x)return;r&&r();w.current=!0;y(void 0);O(d("WAWebDrawerContext").undefinedDrawerContext);s(function(){w.current=!1});if(z){a=u==null?void 0:u.current;a&&c("WAWebFocusTracer").focus(a)}d("WAWebDrawerManager").DrawerManager.trigger("drawer_"+g+"_closed")},U=function(){if(!t.current)return;var a=t.current.getElement();if(!a||a.contains(document.activeElement))return;c("WAWebFocusTracer").focus(a)},V=function(a){var b=h;b&&b();if(L===void 0&&H===void 0)return;x&&a===B&&d("WATypeUtils").isFunction(L)&&L()},W=function(){var a;a=(a=t.current)==null?void 0:a.getElement();if(!a)return;a=d("WAWebKeyboardTabUtils").getNextTabbableElement(a);a&&c("WAWebFocusTracer").focus(a)};(b=d("useWAWebListener")).useListener((e=d("WAWebDrawerManager")).DrawerManager,"open_drawer_"+g,R);b.useListener(e.DrawerManager,"exists_drawer_"+g,S);b.useListener(e.DrawerManager,"close_drawer_"+g,T);b.useListener(e.DrawerManager,"update_context_"+g,a);b.useListener(e.DrawerManager,"focus_drawer_"+g,W);var X=function(){return f===!0?"none":v.current||D},Y;R=k(function(){T(B)},[T,B]);if(x){S=J===!0?"div":d("WAWebKeyboardRotateFocus.react").RotateFocus;a=J===!0?{}:{focusType:P};Y=j.jsx(d("WAWebUimUie.react").UIE,{displayName:"Drawer"+c("WAUpperFirst")(g),escapable:!0,ref:t,requestFocus:H===!0?null:U,requestDismiss:R,children:j.jsx(S,babelHelpers["extends"]({style:{height:"100%"}},a,{children:j.jsx(d("WAWebDrawerContext").DrawerContext.Provider,{value:N,children:j.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"drawer-manager-"+g,type:"fatal",children:x})})}))},B)}var Z=Y!=null&&g===p.RIGHT;return j.jsx(c("WAWebUimContext").Consumer,{children:function(a){return j.jsx(c("WAWebUimContext").Provider,{value:F||a,children:j.jsx(c("WAWebVelocityTransitionGroup"),{xstyle:[n.container,Z&&n.rightContainer],transitionName:X(),onAnimationComplete:function(){return V(B)},displayName:"DrawerManager",children:Y})})}})}a.displayName=a.name+" [from "+f.id+"]";g.Dir=p;g.DrawerManagerComponent=a}),98);
__d("WAWebErrorBoundaryInstrumented.react",["WAWebErrorBoundary.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["children"],j,k=j||c("react");function a(a){a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,i);return k.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,babelHelpers["extends"]({},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebHamburgerIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="hamburger";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M4 18C3.44772 18 3 17.5523 3 17C3 16.4477 3.44772 16 4 16H20C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H4ZM4 13C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H4ZM4 8C3.44772 8 3 7.55228 3 7C3 6.44772 3.44772 6 4 6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H4Z",fill:"currentColor",fillOpacity:.7})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.HamburgerIcon=a}),98);
__d("WAWebExpandNavbarToggleNavBarItem.react",["fbt","WAWebHamburgerIcon.react","WAWebNavBarItem.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.isNavBarExpanded;a=a.onToggleNavBarExpansion;b=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:j.jsx(d("WAWebHamburgerIcon.react").HamburgerIcon,{}),title:h._(/*BTDS*/"Expand"),testid:void 0,isExpanded:b,isActive:!1,onClick:a});return b}a.displayName=a.name+" [from "+f.id+"]";g.ExpandNavbarToggleNavBarItem=a}),226);
__d("WAWebFeedbackNavBarItem.react",["fbt","WAWebABProps","WAWebBugnubRefreshedIcon.react","WAWebFeedbackModalUtils","WAWebNavBarItem.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.isNavBarExpanded;if(!d("WAWebABProps").getABPropConfigValue("public_bug_reporting_sidebar"))return null;var b=function(){d("WAWebFeedbackModalUtils").openFeedbackModal()},c=j.jsx(d("WAWebBugnubRefreshedIcon.react").BugnubRefreshedIcon,{}),e=h._(/*BTDS*/"Send feedback");c=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:c,title:e,text:e,testid:void 0,isExpanded:a,isActive:!1,onClick:b});return c}a.displayName=a.name+" [from "+f.id+"]";g.FeedbackNavBarItem=a}),226);
__d("WAWebWamEnumEntryPointType",[],(function(a,b,c,d,e,f){a=Object.freeze({MAIN_SCREEN:1,CONTACT_INFO:2});f.ENTRY_POINT_TYPE=a}),66);
__d("WAWebWamEnumSurfaceCode",[],(function(a,b,c,d,e,f){a=Object.freeze({MEDIA:1,LINKS:2,DOCS:3});f.SURFACE_CODE=a}),66);
__d("WAWebMediaHubSession",["WAWebPonyfillsCryptoRandomUUID","WAWebWamEnumEntryPointType","WAWebWamEnumSurfaceCode"],(function(a,b,c,d,e,f,g){a=function(){function a(){this.$1=c("WAWebPonyfillsCryptoRandomUUID")(),this.$2=0,this.$3=d("WAWebWamEnumEntryPointType").ENTRY_POINT_TYPE.MAIN_SCREEN,this.$4=d("WAWebWamEnumSurfaceCode").SURFACE_CODE.MEDIA,this.initSessionId()}var b=a.prototype;b.initSessionId=function(){this.$1=this.newSessionId()};b.newSessionId=function(){this.$1=c("WAWebPonyfillsCryptoRandomUUID")();this.$2=0;this.$3=d("WAWebWamEnumEntryPointType").ENTRY_POINT_TYPE.MAIN_SCREEN;this.$4=d("WAWebWamEnumSurfaceCode").SURFACE_CODE.MEDIA;return this.$1};b.getSessionId=function(){return this.$1};b.getSequence=function(){return++this.$2};b.setEntryPoint=function(a){a===void 0&&(a=d("WAWebWamEnumEntryPointType").ENTRY_POINT_TYPE.MAIN_SCREEN),this.$3=a};b.getEntryPoint=function(){return this.$3};b.getSurface=function(){return this.$4};b.setSurface=function(a){this.$4=a};return a}();b=new a();g["default"]=b}),98);
__d("WAWebWamEnumActionCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OPEN_MEDIA_HUB:1,SEARCH:2,LIST:3,ICON:4,SCROLL:5,CLICK:6,CLOSE_MEDIA_HUB:7,REPLY:8,FORWARD:9,DOWNLOAD:10,STAR:11,DELETE:12,OPEN:13,GO_TO_MESSAGE:14,MULTISELECT:15,SORT:16,OPEN_MENU:17});f.ACTION_CODE=a}),66);
__d("WAWebMediaHubUserJourneyWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumActionCode","WAWebWamEnumEntryPointType","WAWebWamEnumSurfaceCode"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MediaHubUserJourney:[7090,{customFields:[1,a.TYPES.STRING],mediaHubAction:[2,d("WAWebWamEnumActionCode").ACTION_CODE],mediaHubEntryPoint:[3,d("WAWebWamEnumEntryPointType").ENTRY_POINT_TYPE],mediaHubSequenceNumber:[4,a.TYPES.INTEGER],mediaHubSessionId:[5,a.TYPES.STRING],mediaHubSurface:[6,d("WAWebWamEnumSurfaceCode").SURFACE_CODE],unifiedSessionId:[7,a.TYPES.STRING]},[1,1,1],"regular"]},{MediaHubUserJourney:[]});g.MediaHubUserJourneyWamEvent=b}),98);
__d("WAWebMediaHubLogger",["WAWebMediaHubGating","WAWebMediaHubSession","WAWebMediaHubUserJourneyWamEvent","WAWebUnifiedSession","WAWebWamEnumActionCode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.action,e=a.entrypoint,f=a.surface;a=a.customFields;if(!d("WAWebMediaHubGating").isMediaHubLoggingEnabled())return;b===d("WAWebWamEnumActionCode").ACTION_CODE.OPEN_MEDIA_HUB&&(c("WAWebMediaHubSession").newSessionId(),c("WAWebMediaHubSession").setEntryPoint(e));f!=null&&f!==c("WAWebMediaHubSession").getSurface()&&c("WAWebMediaHubSession").setSurface(f);new(d("WAWebMediaHubUserJourneyWamEvent").MediaHubUserJourneyWamEvent)({mediaHubEntryPoint:c("WAWebMediaHubSession").getEntryPoint(),mediaHubAction:b,unifiedSessionId:(e=d("WAWebUnifiedSession").UnifiedSessionManager.getSessionId())!=null?e:void 0,mediaHubSurface:c("WAWebMediaHubSession").getSurface(),mediaHubSequenceNumber:c("WAWebMediaHubSession").getSequence(),mediaHubSessionId:c("WAWebMediaHubSession").getSessionId(),customFields:JSON.stringify(a!=null?a:{})}).commit()}g.logMediaHubAction=a}),98);
__d("WAWebMediaHubNavBarItem.react",["fbt","WAWebIconButton.react","WAWebMediaHubGating","WAWebMediaHubLogger","WAWebMediaHubModalLoadable","WAWebMediaRefreshedIcon.react","WAWebModalManager","WAWebNavBarItem.react","WAWebText.react","WAWebUISpacing","WAWebWamEnumActionCode","WAWebWamEnumEntryPointType","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={icon:{color:"xhslqc4",$$css:!0}};function a(a){var b=a.isNavBarExpanded,e=a.shouldShowText,f=e===void 0?!1:e;e=a.size;a=e===void 0?24:e;if(!d("WAWebMediaHubGating").isFilesMediaHubComponentEnabled())return null;e=function(){var a=f?d("WAWebWamEnumEntryPointType").ENTRY_POINT_TYPE.CONTACT_INFO:d("WAWebWamEnumEntryPointType").ENTRY_POINT_TYPE.MAIN_SCREEN;d("WAWebMediaHubLogger").logMediaHubAction({action:d("WAWebWamEnumActionCode").ACTION_CODE.OPEN_MEDIA_HUB,entrypoint:a});d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebMediaHubModalLoadable").MediaHubModalLoadable,{}))};var g=h._(/*BTDS*/"Media");return!f?j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:j.jsx(d("WAWebMediaRefreshedIcon.react").MediaRefreshedIcon,{width:a,height:a}),spacingXstyle:d("WAWebUISpacing").uiPadding.all9,text:g,title:g,testid:void 0,isExpanded:b,isActive:!1,onClick:e}):j.jsx(c("WAWebIconButton.react"),{onClick:e,icon:j.jsx(d("WAWebMediaRefreshedIcon.react").MediaRefreshedIcon,{width:a,height:a,xstyle:[k.icon,d("WAWebUISpacing").uiPadding.end8]}),children:j.jsx(d("WAWebText.react").WAWebTextMutedRefreshed,{xstyle:[d("WAWebUISpacing").uiPadding.top2,d("WAWebUISpacing").uiPadding.end9],children:h._(/*BTDS*/"All chats")})})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebMediaHubNavBarItem=a}),226);
__d("WAWebMetaBotNavBarItem.react",["fbt","WAWebBotFrontendUtils","WAWebBotGating","WAWebChatEntryPoint","WAWebDrawerManager","WAWebFlex.react","WAWebInteractionTracePolicy","WAWebMetaAIIcon.react","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebUISpacing","WAWebWamEnumWebcNavbarItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={iconWrapper:{width:"x17z2i9w",height:"x17rw0jw",$$css:!0}};function a(a){var b=a.isNavBarExpanded,e=a.updateActiveNavBarItem;a=function(){void d("WAWebBotFrontendUtils").openMetaBotChat(d("WAWebChatEntryPoint").ChatEntryPoint.BotChatListShortcut),d("WAWebDrawerManager").DrawerManager.closeDrawerLeft(),e(d("WAWebNavBarTypes").NavBarItems.Chats),d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.CHATS)};var f=h._(/*BTDS*/"Meta AI");f=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:j.jsx(d("WAWebFlex.react").FlexColumn,{grow:1,align:"center",justify:"center",xstyle:k.iconWrapper,children:j.jsx(c("WAWebMetaAIIcon.react"),{})}),spacingXstyle:d("WAWebUISpacing").uiPadding.all9,text:f,title:f,testid:void 0,isExpanded:b,isActive:!1,onClick:a,tracePolicy:c("WAWebInteractionTracePolicy").NAVIGATION_METABOT});return d("WAWebBotGating").isBotShortcutEntryPointEnabled()&&f}a.displayName=a.name+" [from "+f.id+"]";g.MetaBotNavBarItem=a}),226);
__d("WAWebNewsletterOutlineIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="newsletter-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8301 8.63404C16.3081 8.35745 16.9198 8.52076 17.1964 8.9988C17.7077 9.88244 18 10.9086 18 12C18 13.0914 17.7077 14.1176 17.1964 15.0012C16.9198 15.4792 16.3081 15.6425 15.8301 15.366C15.352 15.0894 15.1887 14.4776 15.4653 13.9996C15.8052 13.4122 16 12.7304 16 12C16 11.2696 15.8052 10.5878 15.4653 10.0004C15.1887 9.52237 15.352 8.91063 15.8301 8.63404ZM8.16995 8.63404C8.64798 8.91063 8.81129 9.52237 8.5347 10.0004C8.19484 10.5878 8 11.2696 8 12C8 12.7304 8.19484 13.4122 8.5347 13.9996C8.81129 14.4776 8.64798 15.0894 8.16995 15.366C7.69191 15.6425 7.08017 15.4792 6.80358 15.0012C6.29231 14.1176 6 13.0914 6 12C6 10.9086 6.29231 9.88244 6.80358 8.9988C7.08017 8.52076 7.69191 8.35745 8.16995 8.63404Z",fill:"currentColor"}),k.jsx("path",{d:"M13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.33243 16.4826L5.09622 17.2728C4.86428 18.0487 4.62086 18.8707 4.41748 19.5825C5.12931 19.3791 5.95126 19.1357 6.72722 18.9038L7.51743 18.6676L8.24444 19.057C9.36447 19.6571 10.6412 20 12 20C16.4154 20 20 16.4154 20 12C20 7.58457 16.4154 4 12 4C7.58457 4 4 7.58457 4 12C4 13.3588 4.34295 14.6355 4.94296 15.7556L5.33243 16.4826ZM3.18 16.7C2.63 18.54 2 20.69 2 21C2 21.55 2.45 22 3 22C3.31 22 5.46 21.37 7.3 20.82C8.7 21.57 10.3 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2C6.48 2 2 6.48 2 12C2 13.7 2.43 15.3 3.18 16.7Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterOutlineIcon=a}),98);
__d("WAWebNewsletterTabIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="newsletter-tab";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M21.9218 10.6469C21.321 6.08949 17.5557 2.45561 12.9894 2.04404C7.06124 1.50197 2.16447 6.05937 2.05432 11.982C2.01426 14.1101 2.82538 15.9371 3.23595 16.7201L2.0443 20.6651C1.81398 21.4281 2.52497 22.1408 3.28602 21.9099L7.17139 20.7455C8.65344 21.5686 10.3157 22.0002 12.0181 22.0002C17.9663 22.0002 22.7129 16.7602 21.9118 10.6469H21.9218ZM8.06262 14.6823C8.333 15.0838 8.30296 15.6259 7.96249 15.9672C7.51186 16.429 6.76082 16.3386 6.40033 15.7966C5.66931 14.7124 5.23872 13.3974 5.23872 11.992C5.23872 10.5867 5.69936 9.17125 6.49045 8.057C6.84093 7.56512 7.57195 7.53501 8.00254 7.96665C8.35302 8.318 8.38307 8.86007 8.10268 9.2616C7.56193 10.0346 7.2515 10.9782 7.2515 11.992C7.2515 13.0059 7.56193 13.9093 8.08265 14.6723L8.06262 14.6823ZM12.0682 13.4978C11.237 13.4978 10.5661 12.8252 10.5661 11.992C10.5661 11.1588 11.237 10.4863 12.0682 10.4863C12.8993 10.4863 13.5702 11.1588 13.5702 11.992C13.5702 12.8252 12.8993 13.4978 12.0682 13.4978ZM17.5257 15.9471C17.1752 16.439 16.4442 16.4691 16.0236 16.0375C15.6731 15.6861 15.6431 15.1441 15.9235 14.7425C16.4642 13.9696 16.7847 13.0159 16.7847 12.0021C16.7847 10.9882 16.4542 10.0145 15.9035 9.24152C15.6131 8.82995 15.6331 8.27784 15.9836 7.91646C16.4042 7.49485 17.1252 7.51493 17.4857 8.00681C18.3068 9.1311 18.7875 10.5064 18.7875 12.0121C18.7875 13.5179 18.3168 14.8429 17.5257 15.9572V15.9471Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterTabIcon=a}),98);
__d("WAWebOpenLastActiveNewsletterAction",["Promise","WALogger","WAWebCmd","WAWebDrawerManager","WAWebNavBarEmptyState.react","WAWebNavBarTypes","WAWebNewsletterCollection","WAWebSideNavButtonsActivityModel","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=function(){d("WAWebDrawerManager").DrawerManager.openDrawerMid(k.jsx(d("WAWebNavBarEmptyState.react").NavBarEmptyState,{type:d("WAWebNavBarTypes").NavBarItems.Newsletters}),{transition:"none",disableRotateFocus:!0})};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebSideNavButtonsActivityModel").getLastActiveNewsletter();if(a==null){l();return(i||(i=b("Promise"))).resolve(!1)}try{a=c("WAWebNewsletterCollection").get(a);if(a==null){l();return(i||(i=b("Promise"))).resolve(!1)}d("WAWebDrawerManager").DrawerManager.closeDrawerMid();return d("WAWebCmd").Cmd.openChatFromUnread(a,d("WAWebSideNavButtonsActivityModel").getLastActiveNewsletterEntryPoint())}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[debug] openLastActiveNewsletter: unknown error"]))).devConsole(a);return(i||(i=b("Promise"))).resolve(!1)}});return function(){return a.apply(this,arguments)}}();g.openLastActiveNewsletter=a}),98);
__d("useWAWebIsNewsletterUiEnabled",["WAWebCmd","WAWebNewsletterGatingUtils","WAWebPrimaryFeaturesModel","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){function a(){return c("useWAWebEventTargetValue")([d("WAWebPrimaryFeaturesModel").PrimaryFeatures,d("WAWebCmd").Cmd],["change:newsletter","on_ab_props_update"],function(){return d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&d("WAWebNewsletterGatingUtils").isNewsletterEnabledOnPrimary()})}g["default"]=a}),98);
__d("WAWebNewslettersNavBarItem.react",["fbt","WATimeUtils","WAWebInteractionTracePolicy","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebNewsletterCollection","WAWebNewsletterOutlineIcon.react","WAWebNewsletterTabIcon.react","WAWebOpenLastActiveNewsletterAction","WAWebOpenNewsletterTab","WAWebSideNavButtonsActivityModel","WAWebUIRefreshGatingUtils","WAWebUnreadActivityIndicator.react","WAWebUserPrefsNewsletter","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebEventTargetValue","useWAWebIsNewsletterUiEnabled"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.activeNavBarItem,e=a.isNavBarExpanded,f=a.updateActiveNavBarItem;a=c("useWAWebIsNewsletterUiEnabled")();var g=function(){if(b===d("WAWebNavBarTypes").NavBarItems.Newsletters)return;f(d("WAWebNavBarTypes").NavBarItems.Newsletters);d("WAWebOpenNewsletterTab").openNewsletterTab();d("WAWebUserPrefsNewsletter").setNewsletterTabLastSeenTimestamp(d("WATimeUtils").unixTime());c("WAWebNewsletterCollection").trigger("newsletter_tab_close");d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.NEWSLETTERS);d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&(d("WAWebSideNavButtonsActivityModel").setLastActiveButton(d("WAWebNavBarTypes").NavBarItems.Newsletters),void d("WAWebOpenLastActiveNewsletterAction").openLastActiveNewsletter())},i=b===d("WAWebNavBarTypes").NavBarItems.Newsletters?j.jsx(d("WAWebNewsletterTabIcon.react").NewsletterTabIcon,{directional:!0}):j.jsx(d("WAWebNewsletterOutlineIcon.react").NewsletterOutlineIcon,{directional:!0}),k=c("useWAWebEventTargetValue")(c("WAWebNewsletterCollection"),"add change remove newsletter_tab_close",function(){return c("WAWebNewsletterCollection").hasAnyUnreadSinceGivenTimestamp(d("WAWebUserPrefsNewsletter").getNewsletterTabLastSeenTimestamp())});k=k?j.jsx(d("WAWebUnreadActivityIndicator.react").UnreadActivityIndicator,{}):null;var l=h._(/*BTDS*/"Channels");i=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:i,text:l,inlineActivityIndicator:k,inlineActivityIndicatorType:d("WAWebNavBarItem.react").InlineActivityIndicatorType.Dot,title:l,testid:void 0,isExpanded:e,isActive:b===d("WAWebNavBarTypes").NavBarItems.Newsletters,onClick:g,tracePolicy:c("WAWebInteractionTracePolicy").NAVIGATION_NEWSLETTERS,shouldHoldInteractionManually:!0});return a&&i}a.displayName=a.name+" [from "+f.id+"]";g.NewslettersNavBarItem=a}),226);
__d("WAWebProfileNavBarItem.react",["fbt","WAWebBizGatingUtils","WAWebConnModel","WAWebContactCollection","WAWebDetailImage.react","WAWebDrawerManager","WAWebInteractionTracePolicy","WAWebKeyboardTabUtils","WAWebNavBarEmptyState.react","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebProfileDrawerLoadable","WAWebProfilePicThumbCollection","WAWebTextStatusCollection","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumWebcNavbarItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useMemo;function a(a){var b=a.activeNavBarItem,e=a.isNavBarExpanded,f=a.updateActiveNavBarItem,g=l(function(){return d("WAWebUserPrefsMeUser").getMePnUserOrThrow()},[]);a=function(){if(b===d("WAWebNavBarTypes").NavBarItems.Profile)return;var a=d("WAWebTextStatusCollection").TextStatusCollection.assertGet(g),c=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.assertGet(g),e=d("WAWebContactCollection").ContactCollection.assertGet(g),h=d("WAWebBizGatingUtils").businessProfileRefreshEnabled();f(d("WAWebNavBarTypes").NavBarItems.Profile);h?d("WAWebDrawerManager").DrawerManager.openDrawerMid("Hello World Navbar"):d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebProfileDrawerLoadable").ProfileDrawerFlowLoadable,{status:a,profilePicThumb:c,contact:e,conn:d("WAWebConnModel").Conn,onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},isInitialStep:!0}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast",focusOnUnMount:!0});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.PROFILE);d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&!h&&d("WAWebDrawerManager").DrawerManager.openDrawerMid(k.jsx(d("WAWebNavBarEmptyState.react").NavBarEmptyState,{type:d("WAWebNavBarTypes").NavBarItems.Profile}),{transition:"none",disableRotateFocus:!0})};var i=l(function(){return k.jsx(d("WAWebDetailImage.react").DetailImage,{ariaLabel:h._(/*BTDS*/"Profile photo"),testId:"navbar-item-profile-photo",theme:"chatlist_header_profile_photo",tabIndex:-1,id:g,size:28})},[g]);i=k.jsx(d("WAWebNavBarItem.react").NavBarItem,{testid:void 0,icon:i,spacingXstyle:d("WAWebUISpacing").uiPadding.all6,text:d("WAWebConnModel").Conn.pushname,title:h._(/*BTDS*/"Profile"),onClick:a,isActive:b===d("WAWebNavBarTypes").NavBarItems.Profile,isExpanded:e,tracePolicy:c("WAWebInteractionTracePolicy").NAVIGATION_PROFILE});return i}a.displayName=a.name+" [from "+f.id+"]";g.ProfileNavBarItem=a}),226);
__d("WAWebIcMatchCaseIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="ic-match-case";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"m6.175 14.9-.8 2.225a.838.838 0 0 1-.325.425c-.15.1-.317.15-.5.15a.84.84 0 0 1-.737-.387.815.815 0 0 1-.088-.813l3.45-9.2a.882.882 0 0 1 .338-.438.89.89 0 0 1 .512-.162h.7c.183 0 .358.054.525.162a.86.86 0 0 1 .35.438l3.45 9.225a.774.774 0 0 1-.1.8.857.857 0 0 1-.725.375.835.835 0 0 1-.5-.162.908.908 0 0 1-.325-.438l-.775-2.2h-4.45Zm.575-1.6h3.275l-1.6-4.55h-.1L6.75 13.3Zm9.875 4.65c-.85 0-1.525-.23-2.025-.688-.5-.458-.75-1.062-.75-1.812 0-.733.287-1.337.863-1.813.575-.475 1.312-.712 2.212-.712.383 0 .758.033 1.125.1s.683.158.95.275V13c0-.483-.17-.875-.512-1.175-.342-.3-.796-.45-1.363-.45-.25 0-.496.037-.738.113a2.165 2.165 0 0 0-.662.337c-.217.167-.42.225-.612.175a.898.898 0 0 1-.463-.275.698.698 0 0 1-.175-.475c0-.183.092-.342.275-.475a3.3 3.3 0 0 1 1.125-.588A4.414 4.414 0 0 1 17.15 10c1.15 0 2.008.27 2.575.813.567.541.85 1.354.85 2.437v3.675c0 .217-.08.4-.238.55a.79.79 0 0 1-.562.225c-.217 0-.4-.08-.55-.238A.79.79 0 0 1 19 16.9v-.125h-.1a2.29 2.29 0 0 1-.95.875c-.4.2-.842.3-1.325.3Zm.3-1.35c.583 0 1.08-.2 1.488-.6.408-.4.612-.867.612-1.4a3.077 3.077 0 0 0-.837-.313 4.27 4.27 0 0 0-.963-.112c-.533 0-.95.117-1.25.35-.3.233-.45.542-.45.925 0 .333.133.608.4.825.267.217.6.325 1 .325Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IcMatchCaseIcon=a}),98);
__d("WAWebRobotoToggleNavBarItemLoadable.react",["JSResourceForInteraction","WAWebIcMatchCaseIcon.react","WAWebLazyLoadedRetriable","WAWebLoadable","WAWebNavBarItem.react","WAWebNoop","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebRobotoToggleNavBarItem.react").__setRef("WAWebRobotoToggleNavBarItemLoadable.react").load());return a}),"WAWebRobotoToggleNavBarItem");e=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(d("WAWebNavBarItem.react").NavBarItem,{testid:void 0,icon:i.jsx(d("WAWebIcMatchCaseIcon.react").IcMatchCaseIcon,{}),text:"Enable Roboto (internal)",title:"Enable Roboto (internal)",isActive:!1,onClick:c("WAWebNoop"),isExpanded:a.isExpanded})}});f=e;g["default"]=f}),98);
__d("WAWebSettingsNavBarItem.react",["fbt","WAWebActiveAccountInfoContext.react","WAWebDrawerManager","WAWebInteractionTracePolicy","WAWebKeyboardTabUtils","WAWebNavBarEmptyState.react","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebSettingsFilledRefreshedIcon.react","WAWebSettingsFlow.react","WAWebSettingsRefreshedIcon.react","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcNavbarItemLabel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.activeNavBarItem,e=a.isNavBarExpanded,f=a.updateActiveNavBarItem,g=d("WAWebActiveAccountInfoContext.react").useActiveAccountInfo();a=function(){if(b===d("WAWebNavBarTypes").NavBarItems.Settings)return;f(d("WAWebNavBarTypes").NavBarItems.Settings);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebSettingsFlow.react").SettingsFlow,{activeAccountInfo:g,onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast",focusOnUnMount:!0});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.SETTINGS);d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&self.setTimeout(function(){d("WAWebDrawerManager").DrawerManager.openDrawerMid(j.jsx(d("WAWebNavBarEmptyState.react").NavBarEmptyState,{type:d("WAWebNavBarTypes").NavBarItems.Settings}),{transition:"none",disableRotateFocus:!0,noFocus:!0})},0)};var i=b===d("WAWebNavBarTypes").NavBarItems.Settings?j.jsx(d("WAWebSettingsFilledRefreshedIcon.react").SettingsFilledRefreshedIcon,{}):j.jsx(d("WAWebSettingsRefreshedIcon.react").SettingsRefreshedIcon,{}),k=h._(/*BTDS*/"Settings");i=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{testid:void 0,icon:i,text:k,title:k,onClick:a,isActive:b===d("WAWebNavBarTypes").NavBarItems.Settings,isExpanded:e,tracePolicy:c("WAWebInteractionTracePolicy").NAVIGATION_SETTINGS});return i}a.displayName=a.name+" [from "+f.id+"]";g.SettingsNavBarItem=a}),226);
__d("useWAWebStatusActivityIndicator",["WAWebCollectionConstants","WAWebContactCollection","WAWebContactGetters","WAWebStatusCollection","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useRef,j=b.useState;function a(){var a=j(function(){return d("WAWebStatusCollection").StatusCollection.getUnexpired(!0).some(function(a){return a.unreadCount>0&&!d("WAWebContactGetters").getCalculatedStatusMute(a.contact)})}),b=a[0],c=a[1],e=i({});a=function(){var a=d("WAWebStatusCollection").StatusCollection.getUnexpired(!0).some(function(a){var b=e.current[a.id.toString()];b=!b||a.t>b;return!a.contact.statusMute&&a.unreadCount>0&&b});a!==b&&c(a)};d("useWAWebListener").useListener(d("WAWebContactCollection").ContactCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,a);d("useWAWebListener").useListener(d("WAWebStatusCollection").StatusCollection,"add remove change:unreadCount change:t",a);var f=function(){d("WAWebStatusCollection").StatusCollection.getUnexpired(!0).forEach(function(a){e.current[a.id.toString()]=a.t})};a=function(){f(),c(!1)};return{hasUnread:b,clearUnreadActivity:a}}g.useWAWebStatusActivityIndicator=a}),98);
__d("WAWebStatusNavBarItem.react",["fbt","WAWebDrawerManager","WAWebInteractionTracePolicy","WAWebNavBarEmptyState.react","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebStatusFilledRefreshedIcon.react","WAWebStatusNavigateTo","WAWebStatusRefreshedIcon.react","WAWebUIRefreshGatingUtils","WAWebUnreadActivityIndicator.react","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebStatusActivityIndicator"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.activeNavBarItem,e=a.isNavBarExpanded,f=a.updateActiveNavBarItem;a=d("useWAWebStatusActivityIndicator").useWAWebStatusActivityIndicator();var g=a.hasUnread,i=a.clearUnreadActivity;a=g?j.jsx(d("WAWebUnreadActivityIndicator.react").UnreadActivityIndicator,{}):null;var k=function(){if(b===d("WAWebNavBarTypes").NavBarItems.Status)return;f(d("WAWebNavBarTypes").NavBarItems.Status);d("WAWebStatusNavigateTo").navigateToStatus({openTab:!0,clearUnreadActivity:i});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.STATUS);d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&d("WAWebDrawerManager").DrawerManager.openDrawerMid(j.jsx(d("WAWebNavBarEmptyState.react").NavBarEmptyState,{type:d("WAWebNavBarTypes").NavBarItems.Status}),{transition:"none",disableRotateFocus:!0})},l=b===d("WAWebNavBarTypes").NavBarItems.Status?j.jsx(d("WAWebStatusFilledRefreshedIcon.react").StatusFilledRefreshedIcon,{}):j.jsx(d("WAWebStatusRefreshedIcon.react").StatusRefreshedIcon,{}),m=h._(/*BTDS*/"Status");g=g?h._(/*BTDS*/"Updates in Status"):h._(/*BTDS*/"Status");l=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:l,ariaLabel:g,text:m,inlineActivityIndicator:a,inlineActivityIndicatorType:d("WAWebNavBarItem.react").InlineActivityIndicatorType.Dot,title:m,testid:void 0,isExpanded:e,isActive:b===d("WAWebNavBarTypes").NavBarItems.Status,onClick:k,tracePolicy:c("WAWebInteractionTracePolicy").NAVIGATION_STATUS});return l}a.displayName=a.name+" [from "+f.id+"]";g.StatusNavBarItem=a}),226);
__d("WAWebUseArrowKeyNavigation",["react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function k(a){var b=a.prefix;i(function(){var a=Array.from(document.querySelectorAll("[data-"+b+"-item]"));a.forEach(function(a,c){a.setAttribute("data-"+b+"-item-index",c.toString())})},void 0)}function a(a){var b=a.prefix,c=j(null),d=j(0);k({prefix:b});var e=function(){var a=c.current;return a==null?[]:Array.from(a.querySelectorAll("[data-"+b+"-item]"))},f=function(){var a;a=(a=c.current)==null?void 0:a.querySelector("[data-"+b+'-item-selected="true"]');if(a){var e=parseInt(a.getAttribute("data-"+b+"-item-index"),10);d.current=e;a.focus()}},g=function(a){var b={next:1,prev:-1},c=e();b=d.current+b[a];if(b<0||b>=c.length)return;h(b)},h=function(a){var b=e();b=b[a];b==null||b.focus();d.current=a};a=function(a){a=a.target===c.current;a&&f()};return{ref:c,onFocus:a,up:function(){return g("prev")},down:function(){return g("next")},focusItemIndex:h}}g.useArrowKeyNavigation=a}),98);
__d("WAWebWindowsArchivedChatsNavBarItem.react",["fbt","WAWebArchiveFilledRefreshedIcon.react","WAWebArchiveRefreshedIcon.react","WAWebArchivedFlowLoadable","WAWebChatUnreadCount.react","WAWebDrawerManager","WAWebKeyboardTabUtils","WAWebNavBarItem.react","WAWebNavBarLogEvents","WAWebNavBarTypes","WAWebWamEnumWebcNavbarItemLabel","react","useWAWebArchivedChatsActivityIndicator"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.activeNavBarItem,c=a.isNavBarExpanded,e=a.updateActiveNavBarItem;a=d("useWAWebArchivedChatsActivityIndicator").useArchivedChatsActivityIndicator();a=a.unreadCount;a=a>0?j.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:a,theme:d("WAWebChatUnreadCount.react").UnreadCountTheme.Outlined},"icon-count"):null;var f=function(){if(b===d("WAWebNavBarTypes").NavBarItems.Archived)return;e(d("WAWebNavBarTypes").NavBarItems.Archived);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebArchivedFlowLoadable").ArchivedFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast",focusOnUnMount:!0});d("WAWebNavBarLogEvents").logNavBarEvent(d("WAWebWamEnumWebcNavbarItemLabel").WEBC_NAVBAR_ITEM_LABEL.ARCHIVED)},g=h._(/*BTDS*/"Archived"),i=b===d("WAWebNavBarTypes").NavBarItems.Archived?j.jsx(d("WAWebArchiveFilledRefreshedIcon.react").ArchiveFilledRefreshedIcon,{}):j.jsx(d("WAWebArchiveRefreshedIcon.react").ArchiveRefreshedIcon,{});i=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:i,title:g,text:g,inlineActivityIndicator:a,inlineActivityIndicatorType:d("WAWebNavBarItem.react").InlineActivityIndicatorType.Counter,testid:void 0,isExpanded:c,isActive:b===d("WAWebNavBarTypes").NavBarItems.Archived,onClick:f});return i}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWindowsLockedChatsNavBarItem.react",["fbt","WAWebChatLockCodeModal.react","WAWebChatlockFilledRefreshedIcon.react","WAWebDrawerManager","WAWebKeyboardTabUtils","WAWebLockChatRefreshedIcon.react","WAWebLockedChatsDrawer.react","WAWebNavBarItem.react","WAWebNavBarTypes","WAWebWamEnumActionEntryPoint","WAWebWamEnumLandingSurface","WAWebWamEnumUnlockEntryPoint","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.activeNavBarItem,f=a.isNavBarExpanded,g=a.updateActiveNavBarItem;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e===d("WAWebNavBarTypes").NavBarItems.LockedChats)return;var a=(yield d("WAWebChatLockCodeModal.react").waitForChatlockSecretCode({unlockAppOnSuccess:!0,entryPoint:d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_LIST,unlockEntryPoint:d("WAWebWamEnumUnlockEntryPoint").UNLOCK_ENTRY_POINT.CHAT_LIST,landingSurface:d("WAWebWamEnumLandingSurface").LANDING_SURFACE.FOLDER}));a&&(g(d("WAWebNavBarTypes").NavBarItems.LockedChats),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebLockedChatsDrawer.react"),{entryPoint:d("WAWebWamEnumActionEntryPoint").ACTION_ENTRY_POINT.CHAT_LIST,unlockEntryPoint:d("WAWebWamEnumUnlockEntryPoint").UNLOCK_ENTRY_POINT.CHAT_LIST}),{focusType:d("WAWebKeyboardTabUtils").FocusType.CUSTOM,transition:"pop-drawer-fast"}))});return function(){return a.apply(this,arguments)}}();var i=h._(/*BTDS*/"Locked chats"),k=e===d("WAWebNavBarTypes").NavBarItems.LockedChats?j.jsx(d("WAWebChatlockFilledRefreshedIcon.react").ChatlockFilledRefreshedIcon,{height:24,width:24}):j.jsx(d("WAWebLockChatRefreshedIcon.react").LockChatRefreshedIcon,{});k=j.jsx(d("WAWebNavBarItem.react").NavBarItem,{icon:k,title:i,text:i,testid:void 0,isExpanded:f,isActive:e===d("WAWebNavBarTypes").NavBarItems.LockedChats,onClick:a});return k}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebExpandableNavBar.react",["WAWebABProps","WAWebActiveAccountInfoContext.react","WAWebBetaNavBarItem.react","WAWebBizAdCreationNavBarItem.react","WAWebBizToolsNavBarItem.react","WAWebBotGating","WAWebBugnubNavBarItem.react","WAWebChatCollection","WAWebChatLockUtils","WAWebChatsNavBarItem.react","WAWebCommunitiesNavBarItem.react","WAWebCurrentUser","WAWebDrawerManager","WAWebExpandNavbarToggleNavBarItem.react","WAWebFeedbackNavBarItem.react","WAWebFlex.react","WAWebFrontendChatGetters","WAWebKeyboardHotKeys.react","WAWebMediaHubGating","WAWebMediaHubNavBarItem.react","WAWebMetaBotNavBarItem.react","WAWebMobilePlatforms","WAWebNewslettersNavBarItem.react","WAWebProfileNavBarItem.react","WAWebRobotoToggleNavBarItemLoadable.react","WAWebSettingsGetters","WAWebSettingsNavBarItem.react","WAWebStatusNavBarItem.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUseArrowKeyNavigation","WAWebWindowsArchivedChatsNavBarItem.react","WAWebWindowsLockedChatsNavBarItem.react","cr:12093","cr:13381","cr:21012","cr:2226","justknobx","react","useMergeRefs","useWAWebChatLockSettings","useWAWebListener","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.memo,l=e.useState,m=(e=b("cr:2226"))==null?void 0:e.WAWebAppRatingNavBarItem,n=(e=b("cr:13381"))==null?void 0:e.WAWebWindowsFeedbackNavBarItem,o=(e=b("cr:12093"))==null?void 0:e.CallsNavBarItem,p={header:{zIndex:"x12xzxwr",position:"x1n2onr6",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",minWidth:"xq3y45c",width:"xbyj736",height:"x5yr21d",backgroundColor:"x1acz5yr",$$css:!0},expandedHeader:{minWidth:"x147832w",width:"x1dj96wl",$$css:!0},fullWidth:{width:"xh8yej3",$$css:!0},fullHeight:{height:"x5yr21d",$$css:!0},wrapper:{":hover_cursor":"x1277o0a",$$css:!0}};function q(){return j.jsx("hr",{className:"xh8yej3 xjm9jq1 x178xt8z x13fuv20 xxdxl9i x18oe1m7 x1sy0etr xstzfhl"})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.activeNavBarItem,e=a.headerRef,f=a.isNavBarExpanded,g=a.onToggleNavBarExpansion;a=a.updateActiveNavBarItem;var h=d("WAWebUseArrowKeyNavigation").useArrowKeyNavigation({prefix:"navbar"}),i=h.ref,k=h.up,r=h.down,s=h.onFocus,t=h.focusItemIndex;h=d("WAWebActiveAccountInfoContext.react").useActiveAccountInfo();var u=function(){t(0)};k={up:k,down:r,escape:u};r=c("useMergeRefs")(e,i);var v=function(){return d("WAWebUIRefreshGatingUtils").sideNavSecondarySectionEnabled()&&d("WAWebChatCollection").ChatCollection.some(function(a){return a.archive&&d("WAWebFrontendChatGetters").getShouldAppearInList(a)})},w=function(){return d("WAWebUIRefreshGatingUtils").sideNavSecondarySectionEnabled()&&d("WAWebChatLockUtils").shouldShowChatLockEntryPoints()};u=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);e=u[0];i=l(v());u=i[0];var x=i[1];i=l(w());var y=i[0],z=i[1];i=d("useWAWebChatLockSettings").useChatLockSettings();i=i.hideLockedChats;d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"change:archive",function(a){if(!d("WAWebUIRefreshGatingUtils").sideNavSecondarySectionEnabled())return;if(a.archive===!0)x(!0);else{a=v();a||d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();x(a)}});d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"change:isLocked",function(a){if(!d("WAWebUIRefreshGatingUtils").sideNavSecondarySectionEnabled())return;if(a.isLocked===!0)z(!0);else{a=w();a||d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();z(a)}});b={isNavBarExpanded:f,activeNavBarItem:b,updateActiveNavBarItem:a};e=e&&u&&j.createElement(c("WAWebWindowsArchivedChatsNavBarItem.react"),babelHelpers["extends"]({},b,{key:"navbar-item-archived-chats"}));u=y&&!i&&j.createElement(c("WAWebWindowsLockedChatsNavBarItem.react"),babelHelpers["extends"]({},b,{key:"navbar-item-locked-chats"}));y=d("WAWebBotGating").isBotShortcutEntryPointEnabled()&&j.jsx(d("WAWebMetaBotNavBarItem.react").MetaBotNavBarItem,{isNavBarExpanded:f,updateActiveNavBarItem:a},"navbar-item-metabot");i=d("WAWebMediaHubGating").isFilesMediaHubSidebarEnabled()&&j.jsx(d("WAWebMediaHubNavBarItem.react").WAWebMediaHubNavBarItem,{isNavBarExpanded:f});a=d("WAWebMobilePlatforms").isSMB()&&j.createElement(d("WAWebBizToolsNavBarItem.react").BizToolsNavBarItem,babelHelpers["extends"]({},b,{key:"navbar-item-biz-tools",activeAccountInfo:h}));h=d("WAWebMobilePlatforms").isSMB()&&j.jsx(d("WAWebBizAdCreationNavBarItem.react").BizAdCreationNavBarItem,{isNavBarExpanded:f},"navbar-item-ads-creation");e=[e,u,y,a,h];e.filter(Boolean).length>0&&e.unshift(j.jsx(q,{},"separator"));u=n!=null?j.jsx(n,{isNavBarExpanded:f}):null;y=d("WAWebCurrentUser").isEmployee()&&j.jsx(d("WAWebBugnubNavBarItem.react").BugnubNavBarItem,{isNavBarExpanded:f});a=d("WAWebCurrentUser").isEmployee()&&j.jsx(c("WAWebRobotoToggleNavBarItemLoadable.react"),{isNavBarExpanded:f});h=m&&c("justknobx")._("278")&&d("WAWebABProps").getABPropConfigValue("web_rating_and_review_enabled")&&!d("WAWebABProps").getABPropConfigValue("web_rating_and_review_contextual_prompt_enabled")?j.jsx(m,{isNavBarExpanded:f}):null;y=u||y||h?j.jsxs(j.Fragment,{children:[y,h,u]}):null;var A;return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:r,"data-testid":void 0,component:"header",tabIndex:0,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,handlers:k,onFocus:s,xstyle:[p.header,d("WAWebUISpacing").uiPadding.horiz12,d("WAWebUISpacing").uiPadding.vert10,f&&p.expandedHeader],children:j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[p.fullWidth,p.fullHeight],children:[j.jsx(d("WAWebFlex.react").FlexItem,{grow:1,xstyle:p.fullWidth,children:j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:p.wrapper,children:[d("WAWebUIRefreshGatingUtils").expandableSideNavEnabled()&&j.jsx(d("WAWebExpandNavbarToggleNavBarItem.react").ExpandNavbarToggleNavBarItem,{isNavBarExpanded:f,onToggleNavBarExpansion:g}),j.jsx(d("WAWebChatsNavBarItem.react").ChatsNavBarItem,babelHelpers["extends"]({},b)),o?j.jsx(o,babelHelpers["extends"]({},b)):null,j.jsx(d("WAWebStatusNavBarItem.react").StatusNavBarItem,babelHelpers["extends"]({},b)),j.jsx(d("WAWebNewslettersNavBarItem.react").NewslettersNavBarItem,babelHelpers["extends"]({},b)),j.jsx(d("WAWebCommunitiesNavBarItem.react").CommunitiesNavBarItem,babelHelpers["extends"]({},b)),e]})}),j.jsx(d("WAWebFlex.react").FlexItem,{grow:0,xstyle:p.fullWidth,children:j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:p.wrapper,children:[j.jsx(d("WAWebFeedbackNavBarItem.react").FeedbackNavBarItem,{isNavBarExpanded:f}),a,y,i,j.jsx(d("WAWebBetaNavBarItem.react").BetaNavBarItem,babelHelpers["extends"]({},b)),y==null?null:j.jsx(q,{}),j.jsx(d("WAWebSettingsNavBarItem.react").SettingsNavBarItem,babelHelpers["extends"]({},b)),j.jsx(d("WAWebProfileNavBarItem.react").ProfileNavBarItem,babelHelpers["extends"]({},b))]})}),A]})})}a.displayName=a.name+" [from "+f.id+"]";b=k(a);g.ExpandableNavBar=b}),98);
__d("WAWebPipFloatingMsgVideoPlayer.react",["WAWebMediaOpaqueData","WAWebPipConst","WAWebPipFloatingVideoPlayer.react","WAWebPipMsgVideoPlayer.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j=i||c("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=d("useWAWebModelValues").useModelValues(a.mediaData,["preview","aspectRatio"]),f=e.preview instanceof c("WAWebMediaOpaqueData")?"url("+e.preview.url()+")":void 0;return j.jsx(d("WAWebPipFloatingVideoPlayer.react").FloatingVideoPlayer,{ref:b,aspectRatio:e.aspectRatio,previewUrl:f,animationStartStyle:a.animationStartStyle,bottomContent:a.bottomContent,topContent:a.topContent,enableDragBar:a.enableDragBar,children:j.jsx(d("WAWebPipMsgVideoPlayer.react").WrappedMsgVideoPlayer,{msg:a.msg,mediaData:e,startTime:a.startTime,onClose:a.onClose,onError:a.onError,onOpenMediaViewer:a.onOpenMediaViewer,onMissingMedia:a.onMissingMedia,onUnsupportedMedia:a.onUnsupportedMedia,autoPlay:a.autoPlay,type:d("WAWebPipConst").PlayerType.FLOATER,disablePiPControls:a.disablePiPControls,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebFloatingMsgVideoPlayerRenderer.react",["WAWebPipFloatingMsgVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h=["ref","msg"],i,j=i||c("react");function a(a){var b=a.ref,d=a.msg;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return d==null?null:j.jsx(c("WAWebPipFloatingMsgVideoPlayer.react"),{ref:b,msg:d,mediaData:d.mediaData,animationStartStyle:a.animationStartStyle,startTime:a.startTime,onClose:a.onClose,onError:a.onError,onOpenMediaViewer:a.onClose,onMissingMedia:a.onClose,onUnsupportedMedia:a.onClose,autoPlay:a.autoPlay,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPipGetImageDimensionsByUrl",[],(function(a,b,c,d,e,f){function a(a){var b=document.createElement("img");b.src=a;return{width:b.naturalWidth,height:b.naturalHeight}}f["default"]=a}),66);
__d("WAWebPipFloatingOgVideoPlayer.react",["WAWebPipFloatingVideoPlayer.react","WAWebPipGetImageDimensionsByUrl","WAWebPipOgVideoPlayer.react","isNonZeroNumber","react"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function m(a){a=c("WAWebPipGetImageDimensionsByUrl")(a);var b=a.width;a=a.height;return d("isNonZeroNumber").isNonZeroNumber(b)&&d("isNonZeroNumber").isNonZeroNumber(a)?b/a:void 0}function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h);a=l(function(){return m(e.ogVideoInfo.previewUrl)});var f=a[0],g=a[1];a=function(a){if(!a)return;(f==null||f===0||Math.abs(a-f)>.01)&&g(a)};return k.jsx(d("WAWebPipFloatingVideoPlayer.react").FloatingVideoPlayer,{ref:b,aspectRatio:f,previewUrl:e.ogVideoInfo.previewUrl,animationStartStyle:e.animationStartStyle,bottomContent:e.bottomContent,topContent:e.topContent,enableDragBar:e.enableDragBar,children:k.jsx(c("WAWebPipOgVideoPlayer.react"),{ogVideoInfo:e.ogVideoInfo,startTime:e.startTime,onClose:e.onClose,onError:e.onError,onAspectRatio:a,autoPlay:!0,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebFloatingOgVideoPlayerRenderer.react",["WAWebPipFloatingOgVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h=["ref","msg","videoSrc","previewUrl"],i,j=i||c("react");function a(a){var b=a.ref,d=a.msg,e=a.videoSrc,f=a.previewUrl;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return d==null||e==null||f==null?null:j.jsx(c("WAWebPipFloatingOgVideoPlayer.react"),{ref:b,ogVideoInfo:{videoMsg:d,videoUrl:e,previewUrl:f},startTime:a.startTime,onClose:a.onClose,onError:a.onError,animationStartStyle:a.animationStartStyle,autoPlay:a.autoPlay,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebVoipUiLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadable","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebVoipUi.react").__setRef("WAWebVoipUiLoadable").load());return a}),"WAWebVoipUiLoadable");e=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(i.Fragment,{})}});g.requireBundle=a;g.WAWebVoipUiLoadable=e}),98);
__d("WAWebFloatingVoipRenderer.react",["WAWebPipFloatingVideoPlayer.react","WAWebVoipUiLoadable","nullthrows","react"],(function(a,b,c,d,e,f,g){var h=["ref","animationStartStyle","msg"],i,j=i||c("react");b=640;var k=b/(b*(3/4)+60),l={width:b};function a(a){var b=a.ref,e=a.animationStartStyle,f=a.msg;babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(d("WAWebPipFloatingVideoPlayer.react").FloatingVideoPlayer,{ref:b,aspectRatio:k,initialPiPStyle:l,animationStartStyle:e,enableDragBar:!0,children:j.jsx(d("WAWebVoipUiLoadable").WAWebVoipUiLoadable,{callLogMsg:c("nullthrows")(f)})},"floating-voip-renderer")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebUserPrefsGalaxyDisableCTA",["WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){function h(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.WA_WEB_GALAXY_DISABLE_CTA_COLLECTION);return!Array.isArray(a)?new Set():new Set(a.filter(function(a){return typeof a==="string"}))}function i(a){a=Array.from(a);c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.WA_WEB_GALAXY_DISABLE_CTA_COLLECTION,a)}function a(a){var b=h();b.add(a);i(b)}function b(a){var b=h();b["delete"](a);i(b)}function e(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.WA_WEB_GALAXY_DISABLE_CTA_COLLECTION,[])}g.getGalaxyDisableCTAMessageIds=h;g.setGalaxyDisableCTAMessageIds=i;g.addGalaxyDisableCTAMessageId=a;g.removeGalaxyDisableCTAMessageId=b;g.clearGalaxyDisableCTAMessageIds=e}),98);
__d("WAWebGalaxyDisableCTACollection",["WALogger","WAWebBaseCollection","WAWebBaseModel","WAWebInteractiveMessageType","WAWebInteractiveMessagesNativeFlowName","WAWebMsgCollection","WAWebMsgType","WAWebUserPrefsGalaxyDisableCTA"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(d("WAWebBaseModel").BaseModel);var o=d("WAWebBaseModel").defineModel(a);b=function(a){function b(){var b;b=a.call(this)||this;b.messageCollectionListener=null;b.initialize();b.$GalaxyDisableCTACollectionImpl$p_1();return b}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.initialize=function(){var a=this,b=d("WAWebUserPrefsGalaxyDisableCTA").getGalaxyDisableCTAMessageIds();b.forEach(function(b){b=new o({id:b});a.add(b)})};e.addMessageId=function(a){if(this.get(a)!=null)return;var b=d("WAWebMsgCollection").MsgCollection.get(a);if(b)d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["GalaxyDisableCTACollection: found existing message for ID: ",""])),a),this.$GalaxyDisableCTACollectionImpl$p_2(b,a);else{d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["GalaxyDisableCTACollection: adding message ID to wait queue: ",""])),a);b=new o({id:a});d("WAWebUserPrefsGalaxyDisableCTA").addGalaxyDisableCTAMessageId(a);this.add(b)}};e.$GalaxyDisableCTACollectionImpl$p_1=function(){var a=this;this.messageCollectionListener=function(b){b.type===d("WAWebMsgType").MSG_TYPE.INTERACTIVE&&b.interactiveType===c("WAWebInteractiveMessageType").NATIVE_FLOW&&b.nativeFlowName===c("WAWebInteractiveMessagesNativeFlowName").CTA_FLOW&&a.$GalaxyDisableCTACollectionImpl$p_3()};d("WAWebMsgCollection").MsgCollection.on("add",this.messageCollectionListener)};e.$GalaxyDisableCTACollectionImpl$p_3=function(){var a=this;this.forEach(function(b){b=b.id.toString();var c=d("WAWebMsgCollection").MsgCollection.get(b);c&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["GalaxyDisableCTACollection: found message for ID: ",""])),b),a.$GalaxyDisableCTACollectionImpl$p_2(c,b))})};e.$GalaxyDisableCTACollectionImpl$p_2=function(a,b){var c=this;try{if(a.galaxyFlowDisabled===!0){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["GalaxyDisableCTACollection: message already updated, skipping: ",""])),b);this.$GalaxyDisableCTACollectionImpl$p_4(b);return}a.set({galaxyFlowDisabled:!0});a.updateNFMButtonsState(!0).then(function(a){return c.$GalaxyDisableCTACollectionImpl$p_4(b)})["catch"](function(a){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["GalaxyDisableCTACollection: Failed to update NFM buttons state: ",""])),a)});d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["GalaxyDisableCTACollection: processed and removed message ID: ",""])),b)}catch(a){d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["GalaxyDisableCTACollection: Error updating message state: ",""])),a)}};e.$GalaxyDisableCTACollectionImpl$p_4=function(a){var b=this.get(a);b&&(this.remove(b),d("WAWebUserPrefsGalaxyDisableCTA").removeGalaxyDisableCTAMessageId(a))};return b}(d("WAWebBaseCollection").BaseCollection);b.model=o;e=new b();g.GalaxyDisableCTACollection=e}),98);
__d("WAWebMexFetchNewChatMessageCappingInfoJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2MessageCappingInfo",kind:"LinkedField",name:"xwa2_message_capping_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_quota",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"used_quota",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cycle_start_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cycle_end_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"server_sent_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ote_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mv_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capping_status",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebMexFetchNewChatMessageCappingInfoJobQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebMexFetchNewChatMessageCappingInfoJobQuery",selections:b},params:{id:"24503548349331633",metadata:{},name:"WAWebMexFetchNewChatMessageCappingInfoJobQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebMexFetchNewChatMessageCappingInfoJob",["WALogger","WAWebBackendErrors","WAWebIndividualNewChatMessageCappingLimitUtils","WAWebMessageCappingWamEvent","WAWebMexClient","WAWebMexFetchNewChatMessageCappingInfoJobQuery.graphql","WAWebWamEnumMessageCappingActionType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("WAWebMexFetchNewChatMessageCappingInfoJobQuery.graphql");function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a={input:{type:"INDIVIDUAL_NEW_CHAT_MSG"}};new(d("WAWebMessageCappingWamEvent").MessageCappingWamEvent)({messageCappingActionType:d("WAWebWamEnumMessageCappingActionType").MESSAGE_CAPPING_ACTION_TYPE.API,userActionTarget:"fetch_capping_data",extraAttributes:JSON.stringify(d("WAWebIndividualNewChatMessageCappingLimitUtils").getCappingData()||{})}).commit();a=(yield d("WAWebMexClient").fetchQuery(j,a));var b=a==null?void 0:a.xwa2_message_capping_info;if((a==null?void 0:a.xwa2_message_capping_info)==null){new(d("WAWebMessageCappingWamEvent").MessageCappingWamEvent)({messageCappingActionType:d("WAWebWamEnumMessageCappingActionType").MESSAGE_CAPPING_ACTION_TYPE.API,userActionTarget:"fetch_capping_data_response",extraAttributes:JSON.stringify({api_status:"failure"})}).commit();throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"Mex unexpected null response for new chat message capping info")}new(d("WAWebMessageCappingWamEvent").MessageCappingWamEvent)({messageCappingActionType:d("WAWebWamEnumMessageCappingActionType").MESSAGE_CAPPING_ACTION_TYPE.API,userActionTarget:"fetch_capping_data_response",extraAttributes:JSON.stringify({api_status:"success",capping_info:a})}).commit();d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MEX][wa_biz_tools][CAP] fetched new chat message capping info"]))).tags("GQL","MEX","wa_biz_tools","CAP").devConsole({response:a});return{total_quota:(a=b==null?void 0:b.total_quota)!=null?a:0,used_quota:(a=b==null?void 0:b.used_quota)!=null?a:0,cycle_start_timestamp:(a=b==null?void 0:b.cycle_start_timestamp)!=null?a:"",cycle_end_timestamp:(a=b==null?void 0:b.cycle_end_timestamp)!=null?a:"",server_sent_timestamp:(a=b==null?void 0:b.server_sent_timestamp)!=null?a:"",ote_status:b==null?void 0:b.ote_status,mv_status:b==null?void 0:b.mv_status,capping_status:b==null?void 0:b.capping_status}});return k.apply(this,arguments)}g.mexFetchNewChatMessageCapping=a}),98);
__d("WAWebGetNewChatMessageCappingInfoJob",["Promise","WAJobOrchestratorTypes","WALogger","WAWebBackendApi","WAWebIndividualNewChatMessageCappingLimitGatingUtils","WAWebIndividualNewChatMessageCappingLimitUtils","WAWebMexFetchNewChatMessageCappingInfoJob","WAWebOrchestratorNonPersistedJob","WAWebUserPrefsIndexedDBStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.getTcToken()!=null)return(i||(i=b("Promise"))).resolve();if(!d("WAWebIndividualNewChatMessageCappingLimitGatingUtils").isIndividualNewChatMessageCappingEnabled())return(i||(i=b("Promise"))).resolve();a=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebIndividualNewChatMessageCappingLimitUtils").NEW_CHAT_MESSAGE_CAPPING_IDB_KEY);if(a)return(i||(i=b("Promise"))).resolve();a=(yield k());if(a!=null){var c=d("WAWebIndividualNewChatMessageCappingLimitUtils").getCappingStatusType(a==null?void 0:a.capping_status);yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebIndividualNewChatMessageCappingLimitUtils").NEW_CHAT_MESSAGE_CAPPING_IDB_KEY,{capping_status:c,ote_status:d("WAWebIndividualNewChatMessageCappingLimitUtils").getCappingOTEStatusType(a==null?void 0:a.ote_status),mv_status:d("WAWebIndividualNewChatMessageCappingLimitUtils").getCappingMVStatusType(a==null?void 0:a.mv_status),total_quota:a==null?void 0:a.total_quota,used_quota:Math.min(Number(a==null?void 0:a.used_quota),Number(a==null?void 0:a.total_quota)),cycle_end_timestamp:Number(a==null?void 0:a.cycle_end_timestamp),cycle_start_timestamp:Number(a==null?void 0:a.cycle_start_timestamp)})}void d("WAWebBackendApi").frontendFireAndForget("individualNewChatMessageCappingStateChange",{});return(i||(i=b("Promise"))).resolve()});return j.apply(this,arguments)}function k(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getNewChatMessageCapping",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{return yield d("WAWebMexFetchNewChatMessageCappingInfoJob").mexFetchNewChatMessageCapping()}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[MEX][wa_biz_tools][CAP] get new chat message capping info job error"]))).tags("GQL","MEX","wa-ice","RET").devConsole({e:a});throw a}}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}g.fetchOrUpdateCapStatus=a;g.getNewChatMessageCapping=k}),98);
__d("WAWebRestoreGroupParticipantsAction",["Promise","WALogger","WAWebChatCollection","WAWebDBParticipantTypes","WAWebGroupMetadataCollection","WAWebGroupParticipantModel","WAWebGroupQueryBridge","WAWebSchemaParticipant","WAWebWamGroupMetricCache","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: start restoring participants for chats ",""])),a);var e=new Map();a.forEach(function(a){var f=c("WAWebGroupMetadataCollection").get(a);if(!f||f.participantQueryPromise||!f.stale){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: skip for chat - ",""])),a);return}f.participantQueryPromise=new(m||(m=b("Promise")))(function(b){e.set(a,b)})});var f=Array.from(e.keys());try{var g=(yield d("WAWebSchemaParticipant").getParticipantTable().bulkGet(f));g.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var g,h=c("WAWebGroupMetadataCollection").get(f[b]);g=!!((g=d("WAWebChatCollection").ChatCollection.get(f[b]))!=null&&g.isReadOnly);if(!h)return;try{var i=[],l=[];if(a==null||a.deviceSyncComplete!=null&&!a.deviceSyncComplete||a.staleType===d("WAWebDBParticipantTypes").STALE_TYPES.PARTICIPANT)if(!g){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: sync stale participant for ",""])),f[b]);g=(yield d("WAWebGroupQueryBridge").sendQueryGroup(d("WAWebWidFactory").createWid(f[b])));i=((g=g==null?void 0:g.participants)!=null?g:[]).map(function(a){var b=a.id,d=a.isAdmin;a=a.isSuperAdmin;return new(c("WAWebGroupParticipantModel"))({id:b,isAdmin:d,isSuperAdmin:a})})}else d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: skip sync stale participant for read only chat ",""])),f[b]);else{var m=new Set(a.admins),n=a.superAdmins!=null?new Set(a.superAdmins):void 0;i=(g=(g=a.participants)==null?void 0:g.map(function(a){if(n===void 0){var b;b=((b=h.owner)==null?void 0:b.toString())===a}else b=n.has(a);return new(c("WAWebGroupParticipantModel"))({id:d("WAWebWidFactory").createUserWid(a),isAdmin:m.has(a),isSuperAdmin:b})}))!=null?g:[]}if(a==null)l=[];else{l=(g=a.pastParticipants)==null?void 0:g.map(function(a){var b=a.jid,e=a.leaveTs;a=a.leaveReason;return new(c("WAWebGroupParticipantModel"))({id:d("WAWebWidFactory").createWid(b),leaveTs:e,leaveReason:a})})}h.participants.add(i,{merge:!0});h.pastParticipants.add(l,{merge:!0});h.stale=!1;h.deviceStale=(a==null?void 0:a.staleType)===d("WAWebDBParticipantTypes").STALE_TYPES.DEVICE;a!=null&&d("WAWebWamGroupMetricCache").cacheGroupMetrics(a)}finally{g=e.get(f[b]);g==null||g();h.participantQueryPromise=null}});return function(b,c){return a.apply(this,arguments)}}())}catch(a){f.forEach(function(a){var b=e.get(a);b==null||b();b=c("WAWebGroupMetadataCollection").get(a);b&&(b.participantQueryPromise=null)});return}d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: complete restoring participants for chats ",""])),a)});return n.apply(this,arguments)}g.restoreGroupParticipantsForChats=a}),98);
__d("WAWebUpdateModelForGroupAction",["Promise","WALogger","WANullthrows","WATimeUtils","WAWebABProps","WAWebApiContact","WAWebChatCollection","WAWebCommunityActivityCollection","WAWebCommunityActivityModel","WAWebCommunityGatingUtils","WAWebCommunitySubgroupSuggestionsUtils","WAWebEphemeralityUtils","WAWebGroupGetMembershipApprovalRequestsJob","WAWebGroupMetadataCollection","WAWebGroupSafetyCheckGatingUtils","WAWebGroupType","WAWebInvalidateEventsAction","WAWebLeaveReasonType","WAWebNux","WAWebNuxAction","WAWebPollsInvalidateChatPollMsgsAction","WAWebRemoveFromFavoritesAction","WAWebUpdateModelsForCommunityAction","WAWebUserPrefsMeUser","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,e){var f=a.chatId,g=d("WAWebChatCollection").ChatCollection.get(f);if(!g)return(j||(j=b("Promise"))).resolve();var k=c("WANullthrows")(g.groupMetadata),l=a.author,m=a.ts;switch(e.actionType){case d("WAWebGroupType").GROUP_ACTIONS.SUBJECT:var n={name:e.subject};g.contact.set(n);k.set("subject",e.subject);break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE:if(!e.jid)break;n=c("WAWebGroupMetadataCollection").assertGet(e.jid);if(n.participants.iAmAdmin()){var o=e.participants.map(function(a){a=a.id;return{id:a,isAdmin:!1}});n.participants.add(o,{merge:!0})}else n.participants.remove(e.participants.map(function(a){return a.id}));if(e.participants.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a.id)})){o=n.participants.filter(function(a){return!a.isAdmin}).map(function(a){return a.id});n.participants.remove(o)}break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE:if(!e.jid)break;n=c("WAWebGroupMetadataCollection").assertGet(e.jid);o=e.participants.map(function(a){a=a.id;return{id:a,isAdmin:!0}});n.participants.add(o,{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.ADD:case d("WAWebGroupType").GROUP_ACTIONS.PROMOTE:case d("WAWebGroupType").GROUP_ACTIONS.DEMOTE:if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD){k.groupAdder==null&&d("WAWebGroupSafetyCheckGatingUtils").groupSafetyCheckM2Enabled()&&k.set("groupAdder",a.author);n=e.participants.some(function(a){return a.id.isLid()});o=k.isCag;var p=Boolean(k.isLidAddressingMode);if(n&&!o&&!p)break}n=[];var q=new Set();k.participants.iAmAdmin()||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE?(n=e.participants.map(function(a){a=a.id;return a}),e.participants.forEach(function(a){var b=a.lid,c=a.id;a=a.isAdmin;a&&q.add(c.toString());if(b==null||c.isLid())return;k.participants.remove(b)})):e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE&&(n=e.participants.map(function(a){var b=a.lid;a=a.id;return b==null||a.isLid()?a:b}),e.participants.forEach(function(a){var b=a.lid;a=a.id;if(b==null||a.isLid())return;k.participants.remove(a)}));o=n.map(function(a){return{id:a,isAdmin:e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD&&q.has(a.toString())}});k.participants.add(o,{merge:!0});e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD&&(n.forEach(function(a){k.pastParticipants.remove(a),d("WAWebUserPrefsMeUser").isMeAccount(a)&&k.pastParticipants.reset()}),k.membershipApprovalMode&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&n.forEach(function(a){k.membershipApprovalRequests.remove(a)}),n.forEach(function(a){c("WAWebGroupMetadataCollection").trigger("group_participant_change_"+a.toString(),g.id)}),e.isParentGroup===!0&&c("WAWebCommunityActivityCollection").add({id:f.toString(),communityId:f,type:d("WAWebCommunityActivityModel").ActivityTypeType.NEW_COMMUNITY,timestamp:m!=null?m:d("WATimeUtils").unixTime()}));if(n.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a)}))if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE){if(d("WAWebCommunityGatingUtils").communityAdminPromotionOneTimePromptEnabled()&&k.groupType===d("WAWebGroupType").GroupType.COMMUNITY){p=d("WAWebNux").getCommunityAdminPromotionNuxKey(k.id.toString());d("WAWebNuxAction").resetNux(p)}k.membershipApprovalMode&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebGroupGetMembershipApprovalRequestsJob").queryAndUpdateGroupMembershipApprovalRequests(g.id)}else e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE&&(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&k.membershipApprovalRequests.reset());break;case d("WAWebGroupType").GROUP_ACTIONS.REMOVE:o=!1;var r=[],s=[];e.participants.forEach(function(b){var c=b.id,e=b.lid;b=b.isAdmin;var f=d("WAWebUserPrefsMeUser").isMeAccount(c);e!=null&&f&&b===!0?(r.push(e),r.push(c)):r.push(c);s.push({id:c,leaveTs:m,leaveReason:c.equals(a.author)?d("WAWebLeaveReasonType").LeaveReason.Left:d("WAWebLeaveReasonType").LeaveReason.Removed});f&&(o=!0)});k.participants.remove(r);k.pastParticipants.add(s);e.reason===d("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE&&k.participants.add(e.participants.map(function(a){var b=a.lid;a=a.id;return b==null||a.isLid()?{id:a}:{id:b}}),{merge:!0});e.participants.forEach(function(a){c("WAWebGroupMetadataCollection").trigger("group_participant_change_"+a.id.toString(),g.id)});o&&(void d("WAWebPollsInvalidateChatPollMsgsAction").invalidateChatPollMsgs(g),void d("WAWebInvalidateEventsAction").invalidateEventMsgsForChat(g),void d("WAWebRemoveFromFavoritesAction").removeFromFavoritesAction(g.id,{suppressToast:!0}));p=(n=k.getParentGroupChat())==null?void 0:n.groupMetadata;k.isCag&&(p==null||p.participants.remove(r),p==null||p.pastParticipants.add(s));!k.isParentGroupParticipant()&&k.parentGroup&&(p==null||p.trigger("exitParentGroup"),d("WAWebUpdateModelsForCommunityAction").updateModelsForExitedCommunity(k.parentGroup));break;case d("WAWebGroupType").GROUP_ACTIONS.MODIFY:if(l&&e.participants&&e.participants.length>0){n=l;p=e.participants[0].id;n=k.participants.remove(n);var t=!1,u=!1;n.length&&n[0]&&(t=n[0].isAdmin,u=n[0].isSuperAdmin);n={id:p,isAdmin:t,isSuperAdmin:u};k.participants.add(n)}break;case d("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE:e.code?k.inviteCode=e.code:d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["model:chat:handleGroupAction:invalid invite code: "," for ",""])),e.code,g.id.toString());break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD:k.set({desc:e.desc,descId:e.descId,descTime:e.descTime,descOwner:l==null?void 0:l.toString()});break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE:if(k.descId===e.descId){k.set({desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0});break}break;case d("WAWebGroupType").GROUP_ACTIONS.RESTRICT:k.restrict=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.SUSPEND:p=!!e.value;k.suspended=p;d("WAWebUpdateModelsForCommunityAction").maybeUpdateModelsForCommunitySuspendedStatus(f,p);break;case d("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE:k.announce=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD:k.noFrequentlyForwarded=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL:k.ephemeralDuration=e.duration;k.disappearingModeTrigger=d("WAWebEphemeralityUtils").getDisappearingModeTrigger(e.trigger);k.disappearingModeInitiatedByMe=e.initiatedByMe;break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKE_INVITE:var v=[];e.participants.forEach(function(a){a=a.id;k.pendingParticipants.get(a)&&v.push(a)});k.pendingParticipants.remove(v);break;case d("WAWebGroupType").GROUP_ACTIONS.DELETE:e.reason===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT?d("WAWebUpdateModelsForCommunityAction").updateModelsForIntegrityDeactivateCommunity(f):e.reason===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT?d("WAWebUpdateModelsForCommunityAction").updateModelsForDeactivateCommunity(f):k.terminated=!0;break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_UNLOCKED:k.growthLockExpiration=void 0;k.growthLockType=void 0;break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED:e.type==="invite"&&(k.growthLockExpiration=e.expiration,k.growthLockType=e.type);break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK:k.parentGroup=e.groupDatas[0].id;break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK:d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupLink({parentGroupId:g.id,subgroups:e.groupDatas,timestamp:m,author:a.author});break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK:k.parentGroup&&d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupLink({parentGroupId:k.parentGroup,subgroups:e.groupDatas,timestamp:m,author:a.author});break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK:k.parentGroup=void 0;break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK:d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupUnlink(g.id,e.groupDatas);break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK:k.parentGroup&&d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupUnlink(k.parentGroup,e.groupDatas);break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&(k.membershipApprovalMode=!!e.value,e.value||k.membershipApprovalRequests.reset());break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS:k.set("reportToAdminMode",e.value);e.value||k.set("lastReportToAdminTimestamp",null);break;case d("WAWebGroupType").GROUP_ACTIONS.ADMIN_REPORT_RECIEVED:k.set("lastReportToAdminTimestamp",e.value);break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){t=c("WANullthrows")(l);k.membershipApprovalRequests.add({id:t,t:m,addedBy:t,requestMethod:e.requestMethod,parentGroupId:e.parentGroupId})}break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){u=e.requests.map(function(a){return{id:a.wid,t:m,addedBy:c("WANullthrows")(l),requestMethod:e.requestMethod,parentGroupId:e.parentGroupId}});k.membershipApprovalRequests.add(u)}break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&e.requests.forEach(function(a){k.membershipApprovalRequests.remove(a)});break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:k.allowNonAdminSubGroupCreation=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION:k.subgroupSuggestions.add({id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(e.id,e.owner),groupId:e.id,parentGroupId:e.parentGroupId,subject:e.subject,desc:e.description,owner:e.owner,t:e.t,isExistingGroup:e.isExistingGroup,participantCount:e.participantCount},{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS:k.subgroupSuggestions.remove(e.subgroupSuggestions.map(function(a){var b=a.id;a=a.owner;return d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(b,a)}));break;case d("WAWebGroupType").GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER:n=e.subgroupSuggestions.map(function(a){return k.subgroupSuggestions.get(d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a,e.oldOwner))}).filter(Boolean);k.subgroupSuggestions.remove(n);k.subgroupSuggestions.add(n.map(function(a){return{id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a.groupId,e.newOwner),groupId:a.groupId,parentGroupId:a.parentGroupId,subject:a.subject,desc:a.desc,owner:e.newOwner,t:a.t,isExistingGroup:a.isExistingGroup,participantCount:a.participantCount}}),{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE:d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")&&(k.memberAddMode=e.memberAddMode);break;case d("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED:k.generalChatAutoAddDisabled=!0;break;case d("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE:p=e.newOwner;f=e.oldOwner;var w=new Set([p.toString()]);t=d("WAWebApiContact").getAlternateUserWid(d("WAWebWidFactory").asUserWidOrThrow(p));t!=null&&w.add(t.toString());var x=new Set();if(f){x.add(f.toString());u=d("WAWebApiContact").getAlternateUserWid(d("WAWebWidFactory").asUserWidOrThrow(f));u&&x.add(u.toString());if(d("WAWebUserPrefsMeUser").isMeAccount(f)){n=d("WAWebNux").getCommunityAdminPromotionNuxKey(k.id.toString());void d("WAWebNuxAction").dismissNux(n)}}var y=[];k.participants.forEach(function(a){var b=a.id.toString();x.has(b)?y.push({id:a.id,isAdmin:!0,isSuperAdmin:!1}):w.has(b)&&y.push({id:a.id,isAdmin:!0,isSuperAdmin:!0})});k.owner=p;k.participants.add(y,{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.HIDDEN_GROUP:k.hiddenSubgroup=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.GROUP_SAFETY_CHECK:k.groupSafetyCheck=!!e.value;break;default:d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["unhandled group notif action in handleGroupAction"]))).tags("groups");break}return(j||(j=b("Promise"))).resolve()}g.updateModelForGroupAction=a}),98);
__d("WAWebGroupBridgeApi",["WAWebChatCollection","WAWebCommunitySubgroupSuggestionsUtils","WAWebContactCollection","WAWebCreateOrUpdateGroupMetadataAction","WAWebGroupMetadataCollection","WAWebMsgCollection","WAWebRestoreGroupParticipantsAction","WAWebUpdateModelForGroupAction"],(function(a,b,c,d,e,f,g){a={updateModelForGroupAction:function(a){var b=a.groupMeta;a=a.groupAction;d("WAWebUpdateModelForGroupAction").updateModelForGroupAction(b,a)},restoreGroupParticipantsForChats:function(a){a=a.chatIds;d("WAWebRestoreGroupParticipantsAction").restoreGroupParticipantsForChats(a)},expireGroupInviteV4:function(a){a=a.inviteMsgId;(a=d("WAWebMsgCollection").MsgCollection.get(a))==null||a.set({inviteCodeExp:"0"})},updateGroupSubject:function(a){var b=a.id;a=a.subject;d("WAWebContactCollection").ContactCollection.add({id:b,name:a},{merge:!0})},updateGroupAddressingMode:function(a){var b=a.id,d=a.isLidAddressingMode;a=a.groupInfoUpdate;(b=c("WAWebGroupMetadataCollection").get(b))==null||b.set(babelHelpers["extends"]({isLidAddressingMode:d},a))},notAlreadyInGroup:function(a){var b=a.groupId;a=a.participants;var c=(b=d("WAWebChatCollection").ChatCollection.get(b))==null?void 0:b.groupMetadata;return!c?a:a.filter(function(a){a=a.id;return!c.participants.get(a)})},createOrUpdateGroupMetadataFromQuery:function(a){a=a.groupInfo;d("WAWebCreateOrUpdateGroupMetadataAction").createOrUpdateGroupMetadataModelFromQuery(a)},createOrUpdateSubgroupSuggestions:function(a){var b=a.parentGroupId;a=a.subgroupSuggestions;b=c("WAWebGroupMetadataCollection").gadd(b);b.subgroupSuggestions.set(a.map(function(a){return babelHelpers["extends"]({},a,{id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a.id,a.owner),groupId:a.id})}))}};g.GroupBridgeApi=a}),98);
__d("WAWebSendKeyDistributionMsgAction",["Promise","WAWebGroupMetadataCollection","WAWebMsgKey","WAWebSendMsgJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a.isGroup())return(h||(h=b("Promise"))).reject(c("err")("[messaging] sendKeyDistributionMsg: only group chats are supported`"));var e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();e=new(c("WAWebMsgKey"))({from:e,to:a,id:yield c("WAWebMsgKey").newId(),participant:d("WAWebWidFactory").asUserWidOrThrow(e),selfDir:"out"});yield c("WAWebGroupMetadataCollection").find(a);return d("WAWebSendMsgJob").encryptAndSendKeyDistributionMsg(e)});return i.apply(this,arguments)}g.sendKeyDistributionMsg=a}),98);
__d("WAWebGroupCreationKeyDistribution",["WALogger","WAWebDBGroupsGroupMetadata","WAWebGroupsParticipantsApi","WAWebMessagingGatingUtils","WAWebSendKeyDistributionMsgAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;b=(b=(b=(yield d("WAWebGroupsParticipantsApi").getParticipants(a)))==null?void 0:b.participants.length)!=null?b:0;c=(c=(c=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a)))==null?void 0:c.announce)!=null?c:!1;!c&&b&&d("WAWebMessagingGatingUtils").sendKeyDistributionMsgToNewGroups()&&b>=d("WAWebMessagingGatingUtils").sendKeyDistributionMsgMinGroupSize()&&b<=d("WAWebMessagingGatingUtils").sendKeyDistributionMsgMaxGroupSize()&&(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message"]))).tags("groups"),d("WAWebSendKeyDistributionMsgAction").sendKeyDistributionMsg(a).then(function(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message: done"]))).tags("groups")})["catch"](function(a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message failed: ",""])),a).tags("groups")}))});return k.apply(this,arguments)}g.maybeSendKeyDistributionMsgToNewGroup=a}),98);
__d("WAWebGroupMetadataBridgeApi",["Promise","WAWebChatCollection","WAWebGroupMetadataCollection","WAWebWamNumberToSizeBucket","nullthrows"],(function(a,b,c,d,e,f,g){var h;a={getGroupMetadata:function(a){a=a.groupWid;return c("WAWebGroupMetadataCollection").get(a)},updateCachedDeviceCount:function(a){var b=a.groupWid;a=a.deviceCount;b=c("WAWebGroupMetadataCollection").get(b);b!=null&&(b.cachedDeviceCount=a,b.cachedDeviceSizeBucket=c("WAWebWamNumberToSizeBucket")(a))},setGroupMetadata:function(a){var b;(b=c("WAWebGroupMetadataCollection").get(a.id))==null||b.set(a)},removeMembershipApprovalRequests:function(a){var b=a.groupId;a=a.requestIds;(b=c("WAWebGroupMetadataCollection").get(b))==null||b.membershipApprovalRequests.remove(a)},addMembershipApprovalRequests:function(a){var b=a.groupId;a=a.requests;(b=c("WAWebGroupMetadataCollection").get(b))==null||b.membershipApprovalRequests.add(a,{merge:!0})},syncEphemeralTriggerCollectionForGroup:function(a){var e=a.chatId;a=a.trigger;e=d("WAWebChatCollection").ChatCollection.get(e);if(!e)return(h||(h=b("Promise"))).resolve();e=c("nullthrows")(e.groupMetadata);e!=null&&(e.disappearingModeTrigger=a);return(h||(h=b("Promise"))).resolve()}};g.GroupMetadataBridgeApi=a}),98);
__d("WAWebMdBootstrapHistoryDataReceivedWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMdBootstrapHistoryPayloadType","WAWebWamEnumMdBootstrapPayloadType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdBootstrapHistoryDataReceived:[2998,{historySyncChunkOrder:[6,a.TYPES.INTEGER],historySyncRetryRequestId:[7,a.TYPES.STRING],historySyncStageProgress:[5,a.TYPES.INTEGER],mdBootstrapHistoryPayloadType:[3,d("WAWebWamEnumMdBootstrapHistoryPayloadType").MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE],mdBootstrapPayloadType:[2,d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE],mdSessionId:[1,a.TYPES.STRING],mdTimestamp:[4,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MdBootstrapHistoryDataReceived:[]});g.MdBootstrapHistoryDataReceivedWamEvent=b}),98);
__d("WAWebHandleHistorySyncNotification",["Promise","WABinary","WAGzip","WALogger","WATimeUtils","WAWebABProps","WAWebApiHistorySyncNotification","WAWebDownloadManager","WAWebEnvironment","WAWebGetMetricHistorySyncPayloadType","WAWebHandleHistorySyncChunk","WAWebHistorySyncNotificationUtils","WAWebHistorySyncProgress","WAWebHistorySyncWorkerCompatibleNotificationUtils","WAWebHttpErrors","WAWebJestE2ELogUtils","WAWebMdBootstrapHistoryDataReceivedWamEvent","WAWebMsgKey","WAWebNonMessageDataRequestHistorySyncOnDemandUtils","WAWebProtobufsE2E.pb","WAWebProtobufsHistorySync.pb","WAWebSendHistSyncServerErrorReceiptJob","WAWebSendReceiptJobCommon","WAWebSyncBootstrap","WAWebSyncGatingUtils","WAWebSyncdMdSyncFieldstatMeta","WAWebUserPrefsHistorySync","WAWebUserPrefsMeUser","WAWebUserPrefsTypes","WAWebWamEnumMdBootstrapPayloadType","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","decodeProtobuf","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=11;function a(a,b,c){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){d("WAWebJestE2ELogUtils").maybeLogToJestE2eJSConsole("received history sync notif");if(!a)return;try{d("WAWebUserPrefsMeUser").getMePnUserOrThrow()}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Assert get me is empty during history sync"]))).sendLogs("Assert get me is empty during history sync");return}if(!d("WAWebUserPrefsMeUser").isMePrimaryNonLid(e)){if(e==null||!(e instanceof c("WAWebWid"))){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[history sync] History sync empty wid error"]))).sendLogs("History sync empty wid error");return}d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[history sync] History sync payload wid error"]))).sendLogs("History sync payload wid error");return}var g=a.downloadOptions;if(!g)return;if(!c("gkx")("26258")&&(d("WAWebABProps").getABPropConfigValue("web_abprop_drop_full_history_sync")&&a.historySyncNotification.syncType===d("WAWebProtobufsE2E.pb").Message$HistorySyncType.FULL)){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Dropping full history sync for ",""])),d("WAWebUserPrefsMeUser").getMePnUserOrThrow().user).tags("history-sync");return}var D=!!a.historySyncNotification.originalMessageId;f=D?a.historySyncNotification.originalMessageId:f;e=new(c("WAWebMsgKey"))({remote:e,fromMe:!0,id:f}).toString();f=(f=a.historySyncNotification.progress)!=null?f:0;e={msgKey:e,processed:0,downloadOptions:g,isReupload:1,historySyncStepStartedTs:d("WATimeUtils").unixTimeMs(),reuploadPending:!1,historySyncPayloadSize:a.historySyncNotification.fileLength,oldestMsgInChunkTimestampSec:a.historySyncNotification.oldestMsgInChunkTimestampSec,initialHistBootstrapInlinePayload:a.historySyncNotification.initialHistBootstrapInlinePayload,peerDataRequestSessionId:a.historySyncNotification.peerDataRequestSessionId,progress:f,encHandle:a.historySyncNotification.encHandle};(!D||a.historySyncNotification.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP)&&(e.syncType=a.historySyncNotification.syncType,e.chunkOrder=a.historySyncNotification.chunkOrder||0,e.isReupload=0);g=e;if(g.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.RECENT&&f===100){D=g.chunkOrder;d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setting total chunk count when receiving: ",""])),D);yield d("WAWebUserPrefsHistorySync").setChunkCountForEndOfRecentHistorySync(D!=null?D:1);void d("WAWebHistorySyncProgress").updateHistorySyncProgressModel()}D=new(d("WAWebMdBootstrapHistoryDataReceivedWamEvent").MdBootstrapHistoryDataReceivedWamEvent)({mdBootstrapPayloadType:g.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP?d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.CRITICAL:d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.NON_CRITICAL,mdBootstrapHistoryPayloadType:d("WAWebGetMetricHistorySyncPayloadType").getMetricHistorySyncPayloadType(g.syncType),mdTimestamp:d("WATimeUtils").unixTimeMs(),mdSessionId:yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId(),historySyncStageProgress:f});g.chunkOrder!=null&&(D.historySyncChunkOrder=g.chunkOrder);D.commit();switch(g.syncType){case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP:case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_STATUS_V3:case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.NON_BLOCKING_DATA:d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[history sync] initial sync received ",""])),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(g));d("WAWebHandleHistorySyncChunk").handleHistorySyncChunk(g);return;case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.PUSH_NAME:d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[history sync] initial pushname received ",""])),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(g));yield d("WAWebApiHistorySyncNotification").enqueueNotification(babelHelpers["extends"]({},g,{downloadOptions:babelHelpers["extends"]({},g.downloadOptions)}),!0);d("WAWebHandleHistorySyncChunk").handleHistorySyncChunk(g);return;case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.ON_DEMAND:if(d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[history sync] on demand history sync received ",""])),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(g));g.peerDataRequestSessionId==null&&d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] on demand history sync chunk does not have requested session id."])));if(!d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.has((f=g.peerDataRequestSessionId)!=null?f:"")){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] drop on demand history sync notification as it's timeout with key ","."])),c("gkx")("26258")?"":g.peerDataRequestSessionId);return}d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] clean history sync on demand rdu request as it is received without timeout with key ","."])),c("gkx")("26258")?"":g.peerDataRequestSessionId);g.peerDataRequestChatId=d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.get((D=g.peerDataRequestSessionId)!=null?D:"");d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests["delete"]((f=g.peerDataRequestSessionId)!=null?f:"");yield d("WAWebApiHistorySyncNotification").enqueueNotification(g)}break;default:d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[history sync] recent or full chunk received, adding chunk info to db: ",""])),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(g));if(g.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.RECENT){if(e.chunkOrder!=null&&a.progress!=null&&a.progress!==0){D=Math.ceil(e.chunkOrder/(a.progress/100));d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setting estimated total chunk count: ",""])),D);d("WAWebUserPrefsHistorySync").setEstimatedChunkCountForEndOfRecentHistorySync(D)}if(e.oldestMsgInChunkTimestampSec!=null){f=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate();f&&e.oldestMsgInChunkTimestampSec<f&&(d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setHistorySyncEarliestDate: ",""])),e.oldestMsgInChunkTimestampSec),d("WAWebUserPrefsHistorySync").setHistorySyncEarliestDate(e.oldestMsgInChunkTimestampSec))}void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(g.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.RECEIVED,g.chunkOrder);a=g.chunkOrder!=null&&g.chunkOrder<=C;if(d("WAWebSyncGatingUtils").isRecentSyncDownloadOptimizationEnabled()&&a){D=(yield d("WAWebHistorySyncNotificationUtils").getHistorySyncMetrics(g,!0));f=D.historySyncStartDownloadingMetric;e=D.historySyncDownloadedMetric;try{void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(g.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADING,g.chunkOrder);d("WAWebHistorySyncNotificationUtils").commitHistoryStartDownloadingMetric(f,g.historySyncStepStartedTs,d("WATimeUtils").unixTimeMs());d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[history sync] start downloading chunk when receiving notification, ",""])),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(g)).tags("history-sync");a=g.chunkOrder!==1;D=(yield d("WAWebDownloadManager").downloadManager.downloadAndMaybeDecrypt(babelHelpers["extends"]({signal:new AbortController().signal},g.downloadOptions,{isPreload:a})));g.downloadedHistorySyncPayload=D;void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(g.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADED,g.chunkOrder);g.downloadOptions.mediaKey="";d("WAWebHistorySyncNotificationUtils").commitHistoryDownloadedMetric(e,g.historySyncStepStartedTs,!0,d("WATimeUtils").unixTimeMs())}catch(a){d("WALogger").WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[history sync][recent sync] history sync download failed"]))).devConsole(a);if(!(a instanceof d("WAWebHttpErrors").HttpNetworkError)){f=c("WAWebMsgKey").fromString(g.msgKey);d("WAWebHistorySyncNotificationUtils").commitHistoryDownloadedMetric(e,g.historySyncStepStartedTs,!1,d("WATimeUtils").unixTimeMs());void c("WAWebSendHistSyncServerErrorReceiptJob")(f.remote,f.id,g.downloadOptions.mediaKey);return}}}}if(g.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.FULL&&c("WAWebEnvironment").isWindows===!0&&d("WAWebABProps").getABPropConfigValue("wa_hybrid_3_month_history_sync_window")){d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Skip full history sync chunk for ",""])),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(g));try{a=(yield d("WAWebDownloadManager").downloadManager.downloadAndMaybeDecrypt(babelHelpers["extends"]({signal:new AbortController().signal},g.downloadOptions)));D=new(d("WABinary").Binary)(a);e=(yield d("WAGzip").inflate(D.readByteArrayView()));f=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsHistorySync.pb").HistorySyncSpec,e);var E=d("WAWebUserPrefsHistorySync").getHistoryInitialSyncBoundary();a=f.conversations.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=d("WAWebWidFactory").createWid(a.id),c=(E==null?void 0:E[a.id])!=null;if(c)return d("WAWebHistorySyncWorkerCompatibleNotificationUtils").updateEndOfHistorySync(b,d("WAWebProtobufsHistorySync.pb").Conversation$EndOfHistoryTransferType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY)}catch(b){d("WALogger").WARN(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[history sync] failed to process endOfHistoryTransferType for chat ",": ",""])),a.id,b)}});return function(b){return a.apply(this,arguments)}}());yield (B||(B=b("Promise"))).all(a)}catch(a){d("WALogger").WARN(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[history sync] failed to process FULL chunk for endOfHistoryTransferType: ",""])),a)}D=c("WAWebMsgKey").fromString(g.msgKey);e=new Map();e.set(D.remote,[D.id]);void d("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:D.remote,type:d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.HISTORY_SYNC_COMPLETION,groupedReceipt:e});void d("WAWebHistorySyncProgress").updateHistorySyncProgressModel();return}yield d("WAWebApiHistorySyncNotification").enqueueNotification(g)}d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[history sync][continueProgressiveHistorySyncProcessingV2] trigger notification processing after receiving ",""])),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(g));void c("WAWebSyncBootstrap").continueProgressiveHistorySyncProcessingV2(d("WAWebHistorySyncNotificationUtils").HistorySyncScheduleSource.NewRecentSyncNotification)});return D.apply(this,arguments)}g.handleHistorySyncNotification=a}),98);
__d("WAWebSyncdHandleKeyRequest",["Promise","WAWebGetSyncKey","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=[],e=[];yield (h||(h=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebGetSyncKey").getSyncKeyInTransaction_DO_NOT_USE(a));b?c.push(b):e.push(a)});return function(b){return a.apply(this,arguments)}}()));return{keys:c,orphanKeys:e}});return i.apply(this,arguments)}g.getKeysForKeyRequest=a}),98);
__d("WAWebKeyManagementHandleKeyRequestApi",["WALogger","WASyncdKeyTypes","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","WAWebSyncdCryptoUtils","WAWebSyncdHandleKeyRequest","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebUserPrefsMeUser").isMeAccountNonLid(b)){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: key request wid error"]))).sendLogs("syncd: key request wid error");return}a=a.keyIds;if(a){a=a.map(function(a){return a.keyId}).filter(Boolean).map(d("WASyncdKeyTypes").toSyncKeyId);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: handleAppStateSyncKeyRequest from device ","\n    \t for keyIds: [","]"],["syncd: handleAppStateSyncKeyRequest from device ","\n    \\t for keyIds: [","]"])),b.getDeviceId(),a.map(d("WAWebSyncdCryptoUtils").syncKeyIdToHex));if(a){a=(yield d("WAWebSyncdHandleKeyRequest").getKeysForKeyRequest(a));var c=a.keys;a=a.orphanKeys;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: handleAppStateSyncKeyRequest from device ",": about to send key share\n      \t keys with keydata: [","]\n      \t keys without keydata: [","]"],["syncd: handleAppStateSyncKeyRequest from device ",": about to send key share\n      \\t keys with keydata: [","]\n      \\t keys without keydata: [","]"])),b.getDeviceId(),c.map(function(a){return d("WAWebSyncdCryptoUtils").syncKeyIdToHex(a.keyId)}),a.map(function(a){return d("WAWebSyncdCryptoUtils").syncKeyIdToHex(a)}));return d("WAWebPersistedJobManager").getJobManager().waitUntilPersisted(d("WAWebPersistedJobDefinitions").jobSerializers.sendRequestedKeyShare(c,a,b))}}});return k.apply(this,arguments)}g.handleAppStateSyncKeyRequest=a}),98);
__d("WAWebSyncdHandleKeyShare",["Promise","WACryptoUtils","WALogger","WASyncdConst","WASyncdKeyManagementUtils","WAWebGetSyncKey","WAWebSyncd","WAWebSyncdCryptoUtils","WAWebSyncdDbCallbacksApi","WAWebSyncdStoreMissingKeys","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3},s=new Map();function a(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c.some(function(a){return a.fullKey!=null})||d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share from device "," has no keys with keydata."])),a);yield (q||(q=b("Promise"))).all(c.map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=b.keyId,f=b.fullKey;if(f==null)return;b=d("WAWebSyncdCryptoUtils").syncKeyIdToHex(e);var g=(yield d("WAWebGetSyncKey").getSyncKeyInTransaction_DO_NOT_USE(e));if(!g)yield d("WAWebGetSyncKey").setSyncKeyInTransaction(f),s.has(b)&&d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: already have in memory key "," from device ","."])),b,a),s.set(b,{keyId:e,fullKey:f,sharingDeviceId:a}),d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: stored key share key id "," from device ",". payload key id: ",".\n        timestamp raw: ",". timestamp: ",". device from key id: ",". epoch ",""])),d("WAWebSyncdCryptoUtils").syncKeyIdToHex(e),a,d("WAWebSyncdCryptoUtils").syncKeyIdToHex(f.keyId),f.timestamp,new Date(f.timestamp).toLocaleString(void 0,r),d("WASyncdKeyManagementUtils").getKeyDeviceId(f.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(f.keyId));else{var h=g.timestamp!==f.timestamp,q=g.keyEpoch!==f.keyEpoch,t=!d("WACryptoUtils").arrayBuffersEqual(g.keyData,f.keyData),u=g.keyData.byteLength!==f.keyData.byteLength,v=g.fingerprint.currentIndex!==f.fingerprint.currentIndex,w=g.fingerprint.rawId!==f.fingerprint.rawId,x=g.fingerprint.deviceIndexes.every(function(a,b){return a===f.fingerprint.deviceIndexes[b]});x&&g.fingerprint.deviceIndexes.every(function(a,b){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: comparing fingerprint element "," index "," to ","\n            result: ",""])),a,b,f.fingerprint.deviceIndexes[b],a===f.fingerprint.deviceIndexes[b])});if(t){yield d("WAWebSyncdDbCallbacksApi").writeSyncdLog(d("WASyncdConst").CollectionName.CriticalBlock,"incoming shared key has mismatch with an existing key:\n            key id: "+d("WAWebSyncdCryptoUtils").syncKeyIdToHex(f.keyId)+"\n            sending client id: "+a.toString()+"\n            timestamp: "+new Date(f.timestamp).toLocaleString(void 0,r));d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share mismatch extra details:\n              existing timestamp: ",", new key timestamp: ","\n              existing fingerprint device indexes: ",", new key fingerprint device indexes: ","\n              existing key length: ",", new key length: ",",\n              sending client id: ",",\n              existing key device id: ","\n              new key device id: ","\n              existing key device epoch: ","\n              new key device epoch: ","\n              existing key id:  ","\n              new key id:  ","\n              index key id: ","\n          "])),new Date(g.timestamp).toLocaleString(void 0,r),new Date(f.timestamp).toLocaleString(void 0,r),g.fingerprint.deviceIndexes,f.fingerprint.deviceIndexes,g.keyData.byteLength,f.keyData.byteLength,a,d("WASyncdKeyManagementUtils").getKeyDeviceId(g.keyId),d("WASyncdKeyManagementUtils").getKeyDeviceId(f.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(g.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(f.keyId),d("WAWebSyncdCryptoUtils").syncKeyIdToHex(g.keyId),d("WAWebSyncdCryptoUtils").syncKeyIdToHex(f.keyId),d("WAWebSyncdCryptoUtils").syncKeyIdToHex(e));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["syncd: all shared keys in payload: ",""])),c.map(function(a){return d("WAWebSyncdCryptoUtils").syncKeyIdToHex(a.keyId)}));e=s.get(b);if(e){var y=e.fullKey;y?d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["syncd: details from previous in memory key for ",":\n              memory key id: ","\n              memory key device id: ","\n              memory key device epoch: ","\n              memory key timestamp: ","\n              memory key fingerprint device indexes: ","\n              memory key binary equal incoming binary? ","\n              memory key binary equal existing key binary? ","\n              memory key sharing device id: ","\n            "])),b,d("WAWebSyncdCryptoUtils").syncKeyIdToHex(e.keyId),d("WASyncdKeyManagementUtils").getKeyDeviceId(e.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(e.keyId),new Date(y.timestamp).toLocaleString(void 0,r),y.fingerprint.deviceIndexes,d("WACryptoUtils").arrayBuffersEqual(y.keyData,f.keyData),d("WACryptoUtils").arrayBuffersEqual(y.keyData,g.keyData),e.sharingDeviceId):d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["syncd: no previous in memory key for ",""])),b)}d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["syncd: got key share for existing key with different key data\n            (timestampMismatch: ",", epochMismatch: ",", keyDataMismatch: ",",\n              currentIndexMismatch: ",", rowIdMismatch: ",", fingerprintMismatch: ",",\n              keyDataLengthMismatch: ",")"])),h,q,t,v,w,x,u).sendLogs("syncd: got key share for existing key with different key data")}}});return function(a){return e.apply(this,arguments)}}()));yield d("WAWebSyncdStoreMissingKeys").updateMissingKeys(c.map(function(a){var b=a.keyId;a=a.fullKey;return{keyId:b,keyData:a==null?void 0:a.keyData}}),a);return d("WAWebSyncd").syncBlockedCollections()});return t.apply(this,arguments)}g.handleKeyShare=a}),98);
__d("WAWebKeyManagementHandleKeyShareApi",["Promise","WAJids","WALogger","WALongInt","WASyncdKeyManagementUtils","WASyncdKeyTypes","WAWebSyncdCriticalBootstrapProcessingApi","WAWebSyncdCryptoUtils","WAWebSyncdFatal","WAWebSyncdHandleKeyShare","WAWebSyncdUploadFatalErrorMetric","WAWebUserPrefsMeUser","WAWebWamEnumBootstrapAppStateDataStageCode","WAWebWamEnumMdSyncdFatalErrorCode","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=0,r=6,s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MISSING_KEYS_RECEIVED);var e=c.getDeviceId();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: handling key share from device "," with "," keys"])),e,a.keys.length);var f=[];c=a.keys;if(!c)return(p||(p=b("Promise"))).resolve();yield (p||(p=b("Promise"))).all(c.map(function(a){var b;b=(b=a.keyId)==null?void 0:b.keyId;a=a.keyData;var c=a==null?void 0:a.keyData,g=c==null?null:d("WASyncdKeyTypes").toSyncKeyData(c);if(!b){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: received key with missing keyID from device ",""])),e);return}var h=d("WASyncdKeyTypes").toSyncKeyId(b),o=d("WAWebSyncdCryptoUtils").syncKeyIdToHex(h);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: received key share key id "," from device "," "," keyData"])),o,e,c!=null?"with":"without");c&&d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: incoming key info\n        \tkeyId: ",""],["syncd: incoming key info\n        \\tkeyId: ",""])),o);if(b.byteLength!==r){d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_KEY_SHARE_KEY_ID,null);d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: key share key id has invalid bytelength of ",""])),b.byteLength).sendLogs("syncd: fatal error: key share key id has invalid bytelength of "+b.byteLength);return d("WAWebSyncdFatal").handleFatalError()}if(a){c=a.timestamp;b=(o=a.fingerprint)==null?void 0:o.currentIndex;o=(o=a.fingerprint)==null?void 0:o.rawId;a=(a=a.fingerprint)==null?void 0:a.deviceIndexes;if(!g||c==null||b==null||o==null||!a){if(e!==q){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: invalid key share key data (from companion)"]))).sendLogs("syncd: fatal error: invalid key share key data (from companion)");return}d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_KEY_SHARE_KEY_DATA,null);d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: invalid key share key data"]))).sendLogs("syncd: fatal error: invalid key share key data");return d("WAWebSyncdFatal").handleFatalError()}g={keyId:h,keyEpoch:d("WASyncdKeyManagementUtils").getKeyEpoch(h),keyData:g,timestamp:d("WALongInt").numberOrThrowIfTooLarge(c),fingerprint:{rawId:o,currentIndex:b,deviceIndexes:a}};f.push({keyId:h,fullKey:g})}else f.push({keyId:h,fullKey:null})}));return d("WAWebSyncdHandleKeyShare").handleKeyShare(d("WAJids").interpretAsDeviceId(e),f)});return function(b,c){return a.apply(this,arguments)}}();function a(a,c){if(!d("WAWebUserPrefsMeUser").isMeAccountNonLid(c)){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share wid error"]))).sendLogs("syncd: key share wid error");return(p||(p=b("Promise"))).resolve()}return s(a,c)}function e(a){if(c("gkx")("26258"))return;s=a(s)}g.handleAppStateSyncKeyShare=a;g.setAppStateSyncKeyShareHandler=e}),98);
__d("WAWebNonMessageDataRequestHandlerPlaceholderResend",["Promise","WALogger","WATimeUtils","WAWebABProps","WAWebCurrentUser","WAWebE2EProtoUtils","WAWebHandleMsgProcess","WAWebHandleMsgTypes.flow","WAWebLidMigrationUtils","WAWebMsgKey","WAWebMsgProcessingApiUtils","WAWebNonMessageDataRequestLoggingUtils","WAWebParseWebMessageInfoApi","WAWebProtobufsE2E.pb","WAWebProtobufsWeb.pb","WAWebSchemaMessage","WAWebSyncGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumPeerDataResponseApplyResultType","WAWebWidFactory","asyncToGeneratorRuntime","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;function a(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(!d("WAWebSyncGatingUtils").isPlaceholderMessageResendEnabled())return;var e=c.length;d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: Handle placeholder resend response results with length ",""])),e);if(e===0){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got empty response in result"])));d("WAWebNonMessageDataRequestLoggingUtils").logPlaceholderMessageResendResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND,a,d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.INVALID_RESPONSE,0,0,0);return}var f=0,g=0;c.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=a.placeholderMessageResendResponse;if(a==null){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got null as placeholder message resend response in result"])));g++;return}a=a.webMessageInfoBytes;if(a==null){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got null as web message info in result"])));g++;return}a=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsWeb.pb").WebMessageInfoSpec,a);var b={verifiedNameSerial:null,verifiedLevel:null,verifiedNameCert:null,privacyMode:null,nativeFlowName:null,campaignId:null},c=[d("WAWebParseWebMessageInfoApi").parseWebMessageInfo(a)],e=(yield u(c));d("WAWebCurrentUser").isEmployee()&&d("WAWebABProps").getABPropConfigValue("wa_web_debug_color_code_retry_messages")&&(e=e.map(function(a){return babelHelpers["extends"]({},a,{backgroundColor:8388736})}));var h=w(a);if(d("WAWebLidMigrationUtils").shouldHaveAccountLid(h.chat)){var i=d("WAWebLidMigrationUtils").toUserLid(h.chat);i&&(h.accountLid=i)}i=d("WAWebMsgProcessingApiUtils").isRevokeInfo(h)?d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.PEER_RETRY:d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE;d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got web message info. count: ",""])),c.entries().toArray().length);d("WAWebHandleMsgProcess").processMsgs({renderableMsgs:e,reparsing:!1,bizInfo:b,msgMeta:null,paymentInfo:a.paymentInfo,info:h,messageOverwriteOption:i})}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[rdu] error: ",""])),a).sendLogs("placeholderResendResponse: error while handling response from placeholder resend request");g++;return}f++});return function(b){return a.apply(this,arguments)}}());d("WAWebNonMessageDataRequestLoggingUtils").logPlaceholderMessageResendResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND,a,g===0?d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.SUCCESS:d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.OTHER_ERROR,e,f,g);return});return t.apply(this,arguments)}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield d("WAWebSchemaMessage").getMessageTable().bulkGet([a.id.toString(),(b=d("WAWebLidMigrationUtils").getAlternateMsgKey(a.id))==null?void 0:b.toString()])).find(Boolean);return b?babelHelpers["extends"]({},a,{id:c("WAWebMsgKey").from(b.id),from:d("WAWebWidFactory").createWid(b.from)}):a});return function(b){return a.apply(this,arguments)}}());return(s||(s=b("Promise"))).all(a)});return v.apply(this,arguments)}function w(a){var b=d("WAWebE2EProtoUtils").protobufToMsgKey(a.key),e={externalId:b.id,ts:a.messageTimestamp!=null?d("WATimeUtils").castLongIntToUnixTime(a.messageTimestamp):d("WATimeUtils").unixTime(),edit:-1,isHsm:!1,count:null,pushname:a.pushName,displayName:null,senderPn:null,senderLid:null,recipientLid:null,recipientPn:null,category:null,offline:null},f;b.remote.isGroup()?f=b.remote:b.fromMe?f=b.remote.isLid()?d("WAWebUserPrefsMeUser").getMeLidUserOrThrow():d("WAWebUserPrefsMeUser").getMePnUserOrThrow():f=b.remote;var g;a.participant!=null?g=d("WAWebWidFactory").createWid(a.participant):b.participant!=null&&(g=b.participant);b=a.userReceipt.map(function(a){return d("WAWebWidFactory").createUserWid(a.userJid)});if(f.isUser()){if(b!=null&&b.length>0){if(!d("WAWebUserPrefsMeUser").isMeAccount(f)){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as the message is not from me"])));throw c("err")("recipient on non peer chat message")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},e,{chat:b[0],author:f})}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},e,{chat:d("WAWebWidFactory").asUserWidOrThrow(f),author:f})}else if(f.isGroup()){if(g==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as group message with no participant"])));throw c("err")("group message with no participant")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.GROUP},e,{chat:f,author:g,isDirect:!1})}else if(f.isBroadcast()&&!f.isStatus()){if(g==null){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as broadcast message with no participant"])));throw c("err")("broadcast message with no participant")}return d("WAWebUserPrefsMeUser").isMeAccount(g)?babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST},e,{chat:f,author:g,isDirect:!1,bclParticipants:[],bclHashValidated:!1}):babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST},e,{chat:f,author:g,isDirect:!1,ephSetting:null})}else if(f.isBroadcast()&&f.isStatus()){if(g==null){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as status message with no participant"])));throw c("err")("status message with no participant")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS},e,{chat:f,author:g,isDirect:!1})}d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to recognize message type"])));throw c("err")("Unrecognized message type")}g.handlePlaceholderResendOperationRequestResponse=a;g.applyMatOnBackfillMessages=u}),98);
__d("WAWebSendNonMessageDataRequestResponse",["Promise","WALogger","WAWebApiPeerMessageStore","WAWebMsgKey","WAWebMsgType","WAWebProtobufsE2E.pb","WAWebSendAppStateSyncMsgJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield k(a,c,e));if(a==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["peer message: the constructed peer data operation request response message is null"])));return(i||(i=b("Promise"))).resolve()}yield d("WAWebApiPeerMessageStore").storePeerMessages([a]);return d("WAWebSendAppStateSyncMsgJob").encryptAndSendKeyMsg({msg:a})});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=null;switch(b){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:f=m(a,e);break;default:break}if(f==null)return null;b=new(c("WAWebMsgKey"))({fromMe:!0,remote:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),id:yield c("WAWebMsgKey").newId()});return{id:b,to:d("WAWebWidFactory").createDeviceWidFromUserAndDevice(d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().user,d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().server,0),type:"protocol",subtype:"peer_data_operation_request_response_message",kind:d("WAWebMsgType").MsgKind.PeerMessage,peerDataOperationRequestResponseMessage:f}});return l.apply(this,arguments)}function m(a,b){return b==null?null:{stanzaId:a,peerDataOperationRequestType:d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,peerDataOperationResult:b}}g.sendPeerDataOperationRequestResponseMessage=a}),98);
__d("WAWebNonMessageDataRequestHandlerUploadSticker",["Promise","WABase64","WALogger","WANullthrows","WATimeUtils","WAWebCryptoRandomMediaKey","WAWebFavoriteStickerCollection","WAWebMediaEntry","WAWebMediaMmsV4Upload","WAWebNonMessageDataRequestLoggingUtils","WAWebNonMessageDataRequestMediaHandlingUtils","WAWebProtobufsE2E.pb","WAWebProtobufsMmsRetry.pb","WAWebRecentStickerCollectionMd","WAWebSendNonMessageDataRequestResponse","WAWebStickerModel","WAWebWamEnumUploadOriginType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;function a(a,b){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: Handle reupload sticker response results with length ",""])),b.length);if(b.length===0){d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,0,0,0,0,0);return}var e=b.length,f=0,g=0,o=0,p=0,q=new Map();b.forEach(function(a){a.mediaUploadResult===d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS?f++:a.mediaUploadResult===d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND?p++:o++;var b=a.stickerMessage;if(b==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as stickerMessage in result"])));return}var e=b.fileSha256,h=b.fileEncSha256,r=b.mediaKey,s=b.directPath;b=b.mediaKeyTimestamp;if(e==null){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as fileSha256 in result"])));return}e=d("WABase64").encodeB64(e);if(a.mediaUploadResult!==d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: the mediaUploadResult "," is not success"])),a.mediaUploadResult);a.mediaUploadResult!==d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND&&q.set(e,c("WANullthrows")(a.mediaUploadResult));return}if(h==null||r==null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as media fields in result"])));return}g++;a=d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.get(e);var t=d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(e);d("WAWebNonMessageDataRequestMediaHandlingUtils").inFlightStickerRequests.has(e)&&d("WAWebNonMessageDataRequestMediaHandlingUtils").inFlightStickerRequests["delete"](e);if(a||t){var u,v=a!=null?a.sticker:c("WANullthrows")(t).sticker;if(s===v.directPath&&d("WABase64").encodeB64(h)===v.encFilehash&&d("WABase64").encodeB64(r)===v.mediaKey)return;if((u=v.mediaObject)!=null&&u.entries.entries){(u=v.mediaObject)==null||(u=u.entries)==null||u.clearEntries()}u=new(d("WAWebStickerModel").StickerModel)({id:v.filehash,directPath:s!=null?s:v.directPath,filehash:v.filehash,encFilehash:d("WABase64").encodeB64(h),mediaKey:d("WABase64").encodeB64(r),mediaKeyTimestamp:b!=null?Number(b):v.mediaKeyTimestamp,width:v.width,height:v.height,size:v.size,mimetype:v.mimetype,type:v.type,isAvatar:v.isAvatar,index:0});a&&(d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["RDU: update recent sticker with response of RDU with filehash ",""])),e),d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.updateRecentStickerWithNewSticker(e,u));t&&(d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["RDU: update favorite sticker with response of RDU with filehash ",""])),e),d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.updateFavoriteStickerWithNewSticker(e,u))}});d("WAWebNonMessageDataRequestMediaHandlingUtils").insertResponseError(q,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER);d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,e,f,g,o,p)}function e(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.length,g=0,h=0,i=0,j=0,k=d("WATimeUtils").unixTime(),l=[];e=e.map(function(b){b=b.fileSha256;if(b==null){i++;l.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.GENERAL_ERROR});return}var a=d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(b);if(a==null){j++;l.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND,stickerMessage:{fileSha256:d("WABase64").decodeB64(b)}});return}return a}).filter(function(a){return a!=null});var m=new Set(),n=e.map(function(a){a=c("WANullthrows")(a==null?void 0:a.sticker);var b=a.mediaObject;if(b==null)return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.ERROR};if(d("WAWebNonMessageDataRequestMediaHandlingUtils").shouldSkipMediaUploadWithSuccess(a.filehash,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,k)){var e=b.entries.getDownloadEntry(!0);if(e instanceof d("WAWebMediaEntry").EncryptedMediaEntry){h++;m.add(a.filehash);return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.SUCCESS,mediaEntry:e}}}if(d("WAWebNonMessageDataRequestMediaHandlingUtils").shouldSkipMediaUploadWithCancellation(a.filehash,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,k)){m.add(a.filehash);return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.CANCELLATION}}e=b.entries.getUploadEntry(!0);if(e instanceof d("WAWebMediaEntry").UnencryptedMediaEntry){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[sticker-upload] Unexpected unencrypted upload entry"]))).devConsole(e).sendLogs("sticker-upload-unexpected-unencrypted-entry");return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.ERROR}}e=e instanceof d("WAWebMediaEntry").EncryptedMediaEntry?{key:e.mediaKey,timestamp:e.mediaKeyTimestamp}:c("WAWebCryptoRandomMediaKey")();return d("WAWebMediaMmsV4Upload").uploadMedia({mimetype:a.mimetype,mediaObject:b,mediaType:"sticker",forwardedFromWeb:!1,uploadOrigin:d("WAWebWamEnumUploadOriginType").UPLOAD_ORIGIN_TYPE.STICKER_WEB,mediaKeyInfo:e,isViewOnce:!0})});n=(yield (p||(p=b("Promise"))).all(n));var q=new Map();for(var r=0;r<n.length;r++){var s=n[r],t=s.kind;s=s.mediaEntry;var u=c("WANullthrows")(e[r]);u=c("WANullthrows")(u==null?void 0:u.sticker);if(t!==d("WAWebMediaMmsV4Upload").UploadMediaResultKind.SUCCESS||s==null){i++;l.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.GENERAL_ERROR,stickerMessage:{fileSha256:d("WABase64").decodeB64(u.filehash)}});m.has(u.filehash)||q.set(u.filehash,t);continue}g++;if(!m.has(u.filehash)){var v;if((v=u.mediaObject)!=null&&v.entries.entries){(v=u.mediaObject)==null||(v=v.entries)==null||v.clearEntries()}v=new(d("WAWebStickerModel").StickerModel)({id:u.filehash,directPath:s.directPath,filehash:u.filehash,encFilehash:s.encFilehash,mediaKey:s.mediaKey,mediaKeyTimestamp:s.mediaKeyTimestamp,width:u.width,height:u.height,size:u.size,mimetype:u.mimetype,isAvatar:u.isAvatar,type:u.type,index:0});d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.updateFavoriteStickerWithNewSticker(u.filehash,v);q.set(u.filehash,t)}l.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS,stickerMessage:{fileSha256:d("WABase64").decodeB64(u.filehash),fileEncSha256:d("WABase64").decodeB64((v=s.encFilehash)!=null?v:""),mediaKey:d("WABase64").decodeB64(s.mediaKey),mimetype:u.mimetype,height:u.height,width:u.width,directPath:(t=s.directPath)!=null?t:"",mediaKeyTimestamp:s.mediaKeyTimestamp}})}d("WAWebSendNonMessageDataRequestResponse").sendPeerDataOperationRequestResponseMessage(a,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,l);d("WAWebNonMessageDataRequestMediaHandlingUtils").insertMediaUploadResult(q,k);d("WAWebNonMessageDataRequestLoggingUtils").logMediaUpload(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,f,g,h,i,j)});return q.apply(this,arguments)}g.handleUploadStickerPeerDataOperationRequestResponse=a;g.handleUploadStickerPeerDataOperationRequest=e}),98);
__d("WAWebNonMessageDataRequestHandlerWaffleLinkingNonceFetch",["WALogger","WAWebAccountLinkingAPI","WAWebAccountLinkingDBOperations","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.waffleNonceFetchRequestResponse;if(a==null){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Waffle nonce fetch: got null as waffle nonce fetch response in result"])));return}var b=a.nonce;a=a.waEntFbid;if(b==null||a==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Waffle nonce fetch: got null as waffle nonce or waEntFbid"])));return}yield d("WAWebAccountLinkingDBOperations").updateAccountLinkingData(b,a);yield d("WAWebAccountLinkingAPI").refreshAccessToken()});return function(b){return a.apply(this,arguments)}}())}g.handleWaffleLinkingNonceFetchOperationRequestResponse=a}),98);
__d("WAWebProtobufsSyncdSnapshotRecovery.pb",["WAProtoConst","WAWebProtobufSyncAction.pb"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.name="SyncdSnapshotRecovery";a.internalSpec={version:[1,(e=d("WAProtoConst")).TYPES.MESSAGE,c],collectionName:[2,e.TYPES.STRING],mutationRecords:[3,e.FLAGS.REPEATED|e.TYPES.MESSAGE,b],collectionLthash:[4,e.TYPES.BYTES]};b.name="SyncdPlainTextRecord";b.internalSpec={value:[1,e.TYPES.MESSAGE,d("WAWebProtobufSyncAction.pb").SyncActionDataSpec],keyId:[2,e.TYPES.BYTES],mac:[3,e.TYPES.BYTES]};c.name="SyncdVersion";c.internalSpec={version:[1,e.TYPES.UINT64]};g.SyncdSnapshotRecoverySpec=a;g.SyncdPlainTextRecordSpec=b;g.SyncdVersionSpec=c}),98);
__d("WAWebNonMessageDataRequestHandler",["WABinary","WAGzip","WALogger","WANullthrows","WASyncdConst","WAWebNonMessageDataRequestHandlerGalaxyFlow","WAWebNonMessageDataRequestHandlerGenLinkPreview","WAWebNonMessageDataRequestHandlerPlaceholderResend","WAWebNonMessageDataRequestHandlerUploadSticker","WAWebNonMessageDataRequestHandlerWaffleLinkingNonceFetch","WAWebNonMessageDataRequestLoggingUtils","WAWebProtobufsE2E.pb","WAWebProtobufsSyncdSnapshotRecovery.pb","WAWebRequestSyncdSnapshotRecovery","WAWebSyncdSnapshotRecoveryGatingUtils","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a,b){if(b.peerDataOperationRequestType==null)return;switch(b.peerDataOperationRequestType){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:d("WAWebNonMessageDataRequestHandlerUploadSticker").handleUploadStickerPeerDataOperationRequest(a,b.requestStickerReupload);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.GALAXY_FLOW_ACTION:d("WAWebNonMessageDataRequestHandlerGalaxyFlow").handleGalaxyFlowLaunchRequest(b);return;default:return}}function e(a,b){if(b.peerDataOperationRequestType==null)return;switch(b.peerDataOperationRequestType){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:d("WAWebNonMessageDataRequestHandlerUploadSticker").handleUploadStickerPeerDataOperationRequestResponse(a,b.peerDataOperationResult);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.GENERATE_LINK_PREVIEW:d("WAWebNonMessageDataRequestHandlerGenLinkPreview").handleGenerateLinkPreviewOperationRequestResponse(b);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND:void d("WAWebNonMessageDataRequestHandlerPlaceholderResend").handlePlaceholderResendOperationRequestResponse(a,b.peerDataOperationResult);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.WAFFLE_LINKING_NONCE_FETCH:d("WAWebNonMessageDataRequestHandlerWaffleLinkingNonceFetch").handleWaffleLinkingNonceFetchOperationRequestResponse(b.peerDataOperationResult);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.COMPANION_SYNCD_SNAPSHOT_FATAL_RECOVERY:if(d("WAWebSyncdSnapshotRecoveryGatingUtils").syncdSnapshotRecoveryEnabled()===!1){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd Snapshot recovery is not enabled"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["========== SNAPSHOT RECOVERY RESPONSE ========="]))).devConsole(b.peerDataOperationResult);try{void l(b.peerDataOperationResult[0],a)}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd Snapshot recovery initianl handling failed: ",""])),b),d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.COMPANION_SYNCD_SNAPSHOT_FATAL_RECOVERY,a,0,0,0,1,0)}return;default:return}}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f,g=a==null||(e=a.syncdSnapshotFatalRecoveryResponse)==null?void 0:e.isCompressed;a=new(d("WABinary").Binary)(c("WANullthrows")(a==null||(f=a.syncdSnapshotFatalRecoveryResponse)==null?void 0:f.collectionSnapshot));var h=a.readByteArrayView();g===!0&&(h=(yield d("WAGzip").inflate(a.readByteArrayView())));g=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsSyncdSnapshotRecovery.pb").SyncdSnapshotRecoverySpec,h);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["========== SNAPSHOT RECOVERY PROCESSED ========="]))).devConsole(g);a=d("WASyncdConst").CollectionName.cast(g.collectionName);a!=null&&d("WAWebRequestSyncdSnapshotRecovery").SyncdSnapshotRecoveryModule.resolveRecoveryPromise(a,g);d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.COMPANION_SYNCD_SNAPSHOT_FATAL_RECOVERY,b,1,1,1,0,0)});return m.apply(this,arguments)}g.handlePeerDataOperationRequest=a;g.handlePeerDataOperationRequestResponse=e}),98);
__d("WAWebHandleDeferredMessages",["WALogger","WANullthrows","WAPromiseEach","WAWebApiDeferredMessagesStorage","WAWebApiHydrateWidsUtil","WAWebHandleHistorySyncNotification","WAWebKeyManagementHandleKeyRequestApi","WAWebKeyManagementHandleKeyShareApi","WAWebMsgProcessingApiUtils","WAWebNonMessageDataRequestHandler","WAWebParsedProtocolMsgType","WAWebProtobufsE2E.pb","asyncToGeneratorRuntime","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebApiDeferredMessagesStorage").getDeferredMessages());yield d("WAPromiseEach").promiseEach(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!a)return;b=a.type;var e=a.plaintext,f=a.info,g=a.paymentInfo,i=a.bizInfo;f=d("WAWebApiHydrateWidsUtil").hydrateWids(f);e=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsE2E.pb").MessageSpec,e);var j=d("WAWebMsgProcessingApiUtils").getFrom(f);e=(yield d("WAWebMsgProcessingApiUtils").parseProtocolMessage({info:f,msgProtobuf:e,paymentInfo:g,bizInfo:i,hsmInfo:null}));if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] Failed to handle deferred messages: parseProtocolMessage failed"])));return}switch(b){case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.HISTORY:yield d("WAWebHandleHistorySyncNotification").handleHistorySyncNotification(c("WANullthrows")(e==null?void 0:e.history),j,f.externalId);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_SHARE:yield d("WAWebKeyManagementHandleKeyShareApi").handleAppStateSyncKeyShare(c("WANullthrows")(e==null?void 0:e.appStateSyncKeyShare),j);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_REQUEST:yield d("WAWebKeyManagementHandleKeyRequestApi").handleAppStateSyncKeyRequest(c("WANullthrows")(e==null?void 0:e.appStateSyncKeyRequest),j);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:yield d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequestResponse(f.externalId,c("WANullthrows")(e==null?void 0:e.peerDataOperationRequestResponseMessage));break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_MESSAGE:yield d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequest(f.externalId,c("WANullthrows")(e==null?void 0:e.peerDataOperationRequestMessage));break;default:throw c("err")("[worker] Invalid messages stored in deferred messages table")}yield c("WAWebApiDeferredMessagesStorage").deleteDeferredMessage(a.id)});return function(b,c){return a.apply(this,arguments)}}())});return i.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebProtobufsGroupHistory.pb",["WAProtoConst","WAWebProtobufsWeb.pb"],(function(a,b,c,d,e,f,g){a={};a.name="GroupHistory";a.internalSpec={messages:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,d("WAWebProtobufsWeb.pb").WebMessageInfoSpec]};g.GroupHistorySpec=a}),98);
__d("WAWebHandleMessageHistoryBundle",["Promise","WABinary","WAGzip","WALogger","WAWebAck","WAWebAddonProcessMsgs","WAWebAddonProcessMsgsUtils","WAWebApiFilterAndReplaceMessages","WAWebDBEncryptMultipleMsgs","WAWebDBStoreEncryptedMsgs","WAWebDownloadManager","WAWebE2EProtoUtils","WAWebMsgKeyUtils","WAWebParseWebMessageInfoApi","WAWebProcessBaseMsgInfo","WAWebProtobufsGroupHistory.pb","WAWebSerializeError","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;function a(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!b)return;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory] Processing history bundle for chat ",""])),a.id.remote.toString());try{b=(yield d("WAWebDownloadManager").downloadManager.downloadAndMaybeDecrypt(babelHelpers["extends"]({signal:new AbortController().signal},b)));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory] Successfully downloaded bundle of size "," bytes"])),b.byteLength);void u(a,b,a.id.remote)}catch(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory] Failed to download bundle: ",""])),String(a))}});return t.apply(this,arguments)}function u(a,b,c){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){try{e=new(d("WABinary").Binary)(e);e=(yield d("WAGzip").inflate(e.readByteArrayView()));e=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsGroupHistory.pb").GroupHistorySpec,e);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: Starting processing history bundle ",""])),e);var g=[],h=[],i=d("WAWebProcessBaseMsgInfo").msgDataToBaseMsgInfo(a);for(var j=0;j<e.messages.length;j++){var r=e.messages[j];try{var t=d("WAWebParseWebMessageInfoApi").parseWebMessageInfo(r);if(t==null)return;if(t.id.remote.toString()!==f.toString()){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: Message "," does not belong to chat ",""])),t.id.toString(),f.toString());continue}var u=d("WAWebE2EProtoUtils").translateRegularMessageKeyToLocalReference(t.id,i);u&&(t.id=u);u!=null&&u.fromMe?t.ack=d("WAWebAck").ACK.RECEIVED:t.ack=d("WAWebAck").ACK.READ;u=d("WAWebAddonProcessMsgsUtils").parseHistorySyncMsg({webMsgInfo:r,parsedWebMsgInfo:t,isFromCag:!1});t.groupHistoryBundleMessageKey=a.id;g.push(t);h.push(u)}catch(a){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: Failed to parse message at index ",": ",""])),j,c("WAWebSerializeError")(a))}}if(g.length===0){d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: No valid messages parsed from bundle"])));return}d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: Successfully parsed "," messages, injecting into storage"])),g.length);yield w(g,[f.toString()]);r=(yield (s||(s=b("Promise"))).all(h));u=(t=[]).concat.apply(t,r).map(function(b){var a=d("WAWebE2EProtoUtils").translateAddonMessageKeyToLocalReference(d("WAWebE2EProtoUtils").msgKeyToProtobuf(b.id),i);if(a==null)return b;var c=d("WAWebMsgKeyUtils").msgKeyToTargetInfo(a,d("WAWebMsgKeyUtils").TranslateMsgKeyType.Addon);return babelHelpers["extends"]({},b,c,{id:a!=null?a:b.id})});u.length>0&&(yield d("WAWebAddonProcessMsgs").processHistoryMsgs(u));d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: Successfully processed and stored "," messages for chat ",""])),g.length,f.toString())}catch(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: Failed to process bundle ",""])),c("WAWebSerializeError")(a)).sendLogs("group-history-bundle-processing-failed")}});return v.apply(this,arguments)}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("WAWebApiFilterAndReplaceMessages").filterAndReplaceMessages(a));a=a.newMsgs;a=(yield d("WAWebDBEncryptMultipleMsgs").encryptMultipleDBMsgs(a,!1));yield d("WAWebDBStoreEncryptedMsgs").storeEncryptedDBMessages(a,b,!0)}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[GroupHistory]: Failed to store messages: ",""])),String(a))}});return x.apply(this,arguments)}g.handleMessageHistoryBundle=a}),98);
__d("WAWebHeroInteraction.react",["CometHeroHoldTrigger.react","WAWebErrorBoundaryInstrumented.react","hero-tracing","react","useWAWebCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.description,f=a.enableHoldTrigger,g=f===void 0?!0:f;f=a.pageletName;a=a.policy;var h=c("useWAWebCometInteractionTracing")(a);return i.jsx(d("hero-tracing").HeroInteraction,{interactionDesc:e,interactionUUID:h.traceIdState,pageletName:f!=null?f:e,renderTrackedDOMElement:function(a){return i.jsxs(c("WAWebErrorBoundaryInstrumented.react"),{name:"hero-interaction",children:[g&&i.jsx(c("CometHeroHoldTrigger.react"),{description:e,hold:h.interactionIsInFlight}),b(a,h)]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebHistorySyncApi",["WAWebHistorySyncProgressModel"],(function(a,b,c,d,e,f,g){a={setHistorySyncPaused:function(a){a=a.paused;d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setPaused(a)},setHistorySyncProgress:function(a){var b=a.progress;a=a.incomplete;b!=null&&d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setProgress(b);a!=null&&d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setIncomplete(a)}};g.HistorySyncBridgeApi=a}),98);
__d("WAWebHistorySyncOnDemandAction",["WAWebHistorySyncOnDemandEvents"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents.trigger("history_sync_on_demand_events:success_history_sync_od",a)}function b(a){d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents.trigger("history_sync_on_demand_events:error_history_sync_od",a)}g.successHistorySyncOd=a;g.errorHistorySyncOd=b}),98);
__d("WAWebSelfPrimaryIdentityChangeAction",["WALogger","WAWebLogoutReasonConstants","WAWebSocketModel","gkx"],(function(a,b,c,d,e,f,g){var h;function a(){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleNewIdentity: ignore identity change for your own primary device"]))).sendLogs("self-identity-change"),c("gkx")("26258")?d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.PrimaryIdentityKeyChange):self.setTimeout(function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.PrimaryIdentityKeyChange)},1e4)}g.handleSelfPrimaryIdentityChange=a}),98);
__d("WAWebIdentityBridgeApi",["WAWebSelfPrimaryIdentityChangeAction"],(function(a,b,c,d,e,f,g){a={handleSelfPrimaryIdentityChange:function(){return d("WAWebSelfPrimaryIdentityChangeAction").handleSelfPrimaryIdentityChange()}};g.IdentityBridgeApi=a}),98);
__d("WAWebIndividualNewChatMessageCappingBridgeApi",["WAWebCmd","WAWebGetNewChatMessageCappingInfoJob"],(function(a,b,c,d,e,f,g){a={individualNewChatMessageCappingStateChange:function(){d("WAWebCmd").Cmd.newChatMessageCappingStateChange()},restoreNewMessageCappingData:function(a){a=a.chat;void d("WAWebGetNewChatMessageCappingInfoJob").fetchOrUpdateCapStatus(a)}};g.IndividualNewChatMessageCappingBridgeApi=a}),98);
__d("WAWebWamEnumInlineVideoCtaClick",[],(function(a,b,c,d,e,f){a=Object.freeze({LOGO:1,MUSIC:2,AUTHOR:3,WATCH_MORE_END:4});f.INLINE_VIDEO_CTA_CLICK=a}),66);
__d("WAWebInlineVideoPlaybackClosedWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumInlineVideoCtaClick","WAWebWamEnumInlineVideoType","WAWebWamEnumMessageType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({InlineVideoPlaybackClosed:[2032,{inlineVideoCancelBeforePlayStateT:[7,a.TYPES.TIMER],inlineVideoComplete:[8,a.TYPES.BOOLEAN],inlineVideoCompletionRate:[9,a.TYPES.INTEGER],inlineVideoCtaClick:[10,d("WAWebWamEnumInlineVideoCtaClick").INLINE_VIDEO_CTA_CLICK],inlineVideoDurationT:[2,a.TYPES.TIMER],inlineVideoError:[11,a.TYPES.STRING],inlineVideoHasRcat:[13,a.TYPES.BOOLEAN],inlineVideoPlayStartT:[6,a.TYPES.TIMER],inlineVideoPlayed:[3,a.TYPES.BOOLEAN],inlineVideoStallT:[4,a.TYPES.TIMER],inlineVideoType:[1,d("WAWebWamEnumInlineVideoType").INLINE_VIDEO_TYPE],inlineVideoWatchT:[5,a.TYPES.TIMER],messageType:[12,d("WAWebWamEnumMessageType").MESSAGE_TYPE]},[1,1,1],"regular"]},{InlineVideoPlaybackClosed:[]});g.InlineVideoPlaybackClosedWamEvent=b}),98);
__d("WAWebInternDogfoodingModal.react",["WANullthrows","WATimeUtils","WAWebABProps","WAWebAnnouncementSpeakerIcon.react","WAWebConfirmPopup.react","WAWebEnvironment","WAWebExternalLink.react","WAWebLocalStorage","WAWebUISpacing","WAWebUserPrefsKeys","asyncToGeneratorRuntime","gkx","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useState,m={title:{fontSize:"x1603h9y",fontWeight:"xjs9k72",lineHeight:"x1fc57z9",textAlign:"x2b8uid",$$css:!0},body:{width:"xh8yej3",height:"xpyat2d",fontSize:"x1f6kntn",lineHeight:"x1fc57z9",textAlign:"x1yc453h",$$css:!0},chatIcon:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=l(!0),e=a[0],f=a[1];if(!e)return;if(!c("gkx")("26258")||!d("WAWebABProps").getABPropConfigValue("web_intern_dogfooding_upsell_enabled")||c("WAWebEnvironment").isWindows)return;a=j();if(a!=null&&a>d("WATimeUtils").unixTime())return;e=d("WAWebABProps").getABPropConfigValue("web_intern_dogfooding_upsell_content");var g=JSON.parse(e);if(g.title==null||g.web_link==null||g.ok_text==null||g.cancel_text==null)return;j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){window.location.replace(g.web_link)});return function(){return a.apply(this,arguments)}}();a=function(){var a=d("WAWebABProps").getABPropConfigValue("web_intern_dogfooding_upsell_snooze_duration");h(d("WATimeUtils").unixTime()+a);f(!1)};e=k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.body,d("WAWebUISpacing").uiMargin.horiz16),{children:k.jsxs("div",{children:["Help us with dogfooding by moving to the ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:g.web_link,className:"x117nqv4",children:"internal version"})," ","of the web client. Share your feedback/bugs on the ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:g.group_link,className:"x117nqv4",children:"WhatsApp Web/Electron Feedback"})," on Workplace."]})}));return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:j,onOverlayClick:a,okText:g.ok_text,onCancel:a,cancelText:g.cancel_text,children:[k.jsx(d("WAWebAnnouncementSpeakerIcon.react").AnnouncementSpeakerIcon,{width:120,height:120,xstyle:m.chatIcon}),k.jsxs("div",{className:"xh8yej3",children:[k.jsx("div",babelHelpers["extends"]({},i.props(m.title,d("WAWebUISpacing").uiPadding.all16),{children:k.jsx("b",{children:g.title})})),e]})]});function h(a){c("WANullthrows")(c("WAWebLocalStorage")).setItem(d("WAWebUserPrefsKeys").KEYS.WA_WEB_ID_UPSELL_SNOOZE_UNTIL,String(a))}function j(){var a=c("WANullthrows")(c("WAWebLocalStorage")).getItem(d("WAWebUserPrefsKeys").KEYS.WA_WEB_ID_UPSELL_SNOOZE_UNTIL);return a==null?null:Number.parseInt(a,10)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebKeyboardEventConstants",[],(function(a,b,c,d,e,f){a={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",PIN:"pinned",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",AB_PROPS_UPDATE:"ab_props_update",BATCH_RENDER:"batch_render"}};f["default"]=a}),66);
__d("WAWebKeyboardManager",["WAWebKeyboardRun","WAWebKeyboardShortcuts"],(function(a,b,c,d,e,f,g){a=function(){function a(){document.addEventListener("keydown",function(a){a=d("WAWebKeyboardShortcuts").getAction(a);a&&c("WAWebKeyboardRun")(a)})}var b=a.prototype;b.trigger=function(a){};b.menuBatchRenderWith=function(a){};return a}();b=new a();g["default"]=b}),98);
__d("WAWebKeyboardTopLevelHotKeys.react",["WAWebFocusIndicator","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebKeyboardTabUtils","react","useMergeRefs"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.className,f=a.children,g=a.onBlur,i=a.skipNode,j=m(null);b=c("useMergeRefs")(b,j);l(function(){c("WAWebFocusTracer").focus(j.current)},[]);var n=function(a){var b=j.current;if(!b)return;var e=d("WAWebKeyboardTabUtils").TabDirection.FORWARD;a&&(a.preventDefault(),e=a.shiftKey?d("WAWebKeyboardTabUtils").TabDirection.BACKWARD:d("WAWebKeyboardTabUtils").TabDirection.FORWARD,c("WAWebFocusIndicator").shouldIndicateFocus());a=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,e,d("WAWebKeyboardTabUtils").FocusType.CUSTOM,function(a){return!i(a)});if(a==null)return;c("WAWebFocusIndicator").shouldIndicateFocus();c("WAWebFocusTracer").focus(a)};n={tab:n,"shift+tab":n,"shift+?":a.onShowKeyboardShortcuts};return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:n,className:e,onBlur:g,ref:b,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebL10nHelpersBridgeApi",["WAWebFrontendL10nHelpers","WAWebL10N"],(function(a,b,c,d,e,f,g){a={setLocalePrefCookie:function(a){a=a.locale;d("WAWebFrontendL10nHelpers").setWAWebLocalePrefCookie(a)},mungeLocaleOverrideFromUrlIfNecessary:function(){d("WAWebFrontendL10nHelpers").mungeWAWebLocaleOverrideFromUrlIfNecessary()},extendLocalePrefCookieTtl:function(){d("WAWebFrontendL10nHelpers").extendWAWebLocalePrefCookieTtl()},getUserLocale:function(){return c("WAWebL10N").getLocale()}};g.L10nHelpersBridgeApi=a}),98);
__d("WAWebLabelsBridgeApi",["WAWebBIzLabelReorderAction"],(function(a,b,c,d,e,f,g){a={reorderLabels:function(a){a=a.sortedLabelIds;d("WAWebBIzLabelReorderAction").reorderLabelsAction(a)}};g.LabelsBridgeApi=a}),98);
__d("WAWebLongAnimationFrameObserver",["WALogger","WAWebDocumentVisibilityObserver"],(function(a,b,c,d,e,f,g){var h,i=500;function j(a){var b=a.match(/.*\.(.*)/);return b?b[1]:a}a=function(){function a(){this.documentVisibilityObserver=new(d("WAWebDocumentVisibilityObserver").WAWebDocumentVisibilityObserver)()}var b=a.prototype;b.isSupported=function(){var a;return typeof ((a=window.PerformanceObserver)==null||(a=a.supportedEntryTypes)==null?void 0:a.includes)==="function"&&window.PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")};b.observe=function(a){a.observe({type:"long-animation-frame",buffered:!0})};b.handle=function(a){for(a of a){if(a.blockingDuration<i||a.firstUIEventTimestamp<0)continue;var b=this.documentVisibilityObserver.isWindowInFocus(),c=this.documentVisibilityObserver.isDocumentVisible();if(!c||!b)continue;if(a.scripts.length===0)return;c=a.scripts.reduce(function(a,b){return a.duration>b.duration?a:b});d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[long-animation-frame] blockingDuration: ","ms - ",":"," ","ms"])),a.blockingDuration,j(c.invoker),c.sourceFunctionName,c.duration).sendLogs("[performance observer] long-animation-frame by "+j(c.invoker),{sampling:.001})}};return a}();g.WAWebLongAnimationFrameObserver=a}),98);
__d("WAWebLongTaskObserver",["WALogger","WAWebCrashContextUtils","WAWebDocumentVisibilityObserver"],(function(a,b,c,d,e,f,g){var h,i=5*1e3,j=10*1e3,k=15*1e3,l=30*1e3;function m(a){if(a>k)return"15s+";if(a>j)return"10s-15s";return a>i?"5s-10s":"0s-5s"}a=function(){function a(){this.documentVisibilityObserver=new(d("WAWebDocumentVisibilityObserver").WAWebDocumentVisibilityObserver)()}var b=a.prototype;b.isSupported=function(){var a;return typeof ((a=window.PerformanceObserver)==null||(a=a.supportedEntryTypes)==null?void 0:a.includes)==="function"&&window.PerformanceObserver.supportedEntryTypes.includes("longtask")};b.observe=function(a){a.observe({type:"longtask",buffered:!1}),this.documentVisibilityObserver.observe()};b.handle=function(a){for(a of a){if(a.duration<i||a.duration>l)continue;var b=this.documentVisibilityObserver.isWindowInFocus(),c=this.documentVisibilityObserver.isDocumentVisible();if(!c||!b)continue;c=a.startTime+a.duration;d("WAWebCrashContextUtils").recordHangEvent(c,a.duration);d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[longtask][","] entryDuration: ","ms"])),m(a.duration),a.duration).sendLogs("[performance observer] longtask",{sampling:.01,sendLogsType:d("WALogger").SendLogsType.PERFORMANCE_OBSERVER_LONGTASK_SAD})}};return a}();g.WAWebLongTaskObserver=a}),98);
__d("WAWebMouseManager",["WAWebKeyboardRun","WAWebKeyboardShortcuts"],(function(a,b,c,d,e,f,g){a=function(a){a=d("WAWebKeyboardShortcuts").getActionFromMouseEvent(a);a&&c("WAWebKeyboardRun")(a)};g.mouseWheelListener=a}),98);
__d("WAWebNotificationsCallNotification",["WAWebBaseNotification","WAWebChatFlowTypes","WAWebContactCollection","WAWebFrontendContactGetters","WAWebLidMigrationUtils","WAWebNotificationController","WAWebNotificationIconUtils","WAWebNotificationMuteReason","WAWebWid","WAWebWidFormat","asyncToGeneratorRuntime","fbs"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebNotificationController").WANotificationController.triggerNotification(new h(a))}function e(a){a&&d("WAWebNotificationController").WANotificationController.closeOrCancelNotification(a.toString())}var h=function(a){function e(b){var c,d=b.wid,e=b.msgId,f=b.isVideo,g=b.isGroup;b=b.isSilenced;c=a.call(this)||this;c.wid=d;c.msgId=e;c.isVideo=f;c.isGroup=g;c.isSilenced=b;return c}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.shouldMute=function(a){return!this.wid||!this.msgId||this.isSilenced?c("WAWebNotificationMuteReason").GlobalMute:null};f.buildKey=function(){return"call:"+this.wid.toString()};f.matchesChat=function(a){return c("WAWebWid").equals.apply(c("WAWebWid"),d("WAWebLidMigrationUtils").toCommonAddressingMode(this.wid,a.id))};f.getChatKind=function(){return this.isGroup?d("WAWebChatFlowTypes").ChatKindType.Group:d("WAWebChatFlowTypes").ChatKindType.Chat};f.getIcon=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebNotificationIconUtils").getNotificationIconByWid(this.wid,this.abortController.signal,d("WAWebNotificationIconUtils").USER_DEFAULT_ICON)});function c(){return a.apply(this,arguments)}return c}();f.getBannerOptions=function(){var a=d("WAWebContactCollection").ContactCollection.get(this.wid);a=a?d("WAWebFrontendContactGetters").getFormattedName(a):d("WAWebWidFormat").widToFormattedUser(this.wid);var b;this.isGroup?b=this.isVideo?c("fbs")._(/*BTDS*/"WhatsApp group video call from {name}",[c("fbs")._param("name",a)]).toString():c("fbs")._(/*BTDS*/"WhatsApp group voice call from {name}",[c("fbs")._param("name",a)]).toString():b=this.isVideo?c("fbs")._(/*BTDS*/"WhatsApp video call from {name}",[c("fbs")._param("name",a)]).toString():c("fbs")._(/*BTDS*/"WhatsApp voice call from {name}",[c("fbs")._param("name",a)]).toString();a=c("fbs")._(/*BTDS*/"Check your phone to answer").toString();return{wid:this.wid,msgId:this.msgId,tag:this.msgId,title:b,body:a}};return e}(d("WAWebBaseNotification").WABaseNotification);g.showCallNotification=a;g.cancelCallNotification=e}),226);
__d("WAWebNotificationManager.react",["WAWebAppContext.react","WAWebChatCollection","WAWebCmd","WAWebEnvironment","WAWebNavBarTypes","WAWebNotificationBackend","WAWebNotificationIcon","WAWebNotificationsCallNotification","WAWebStreamModel","cr:8852","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;e=h||d("react");var i=e.useEffect,j=e.useRef;e=(f=b("cr:8852"))!=null?f:{};var k=e.WATaskbarController;function a(){var a,b=j(null),e=function(){var a;d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.OFFLINE&&!c("WAWebEnvironment").isWindows?a=-1:a=d("WAWebChatCollection").ChatCollection.getUnreadCount();b.current!==a&&(b.current=a,d("WAWebNotificationIcon").setTitleAndIcon(a),k==null||k.UpdateTaskbarBadge(a))};i(function(){e()},[]);(a=d("useWAWebListener")).useListener(d("WAWebCmd").Cmd,"alert_new_msg",function(a){return d("WAWebNotificationBackend").showMsgNotification(a)});a.useListener(d("WAWebCmd").Cmd,"alert_call",d("WAWebNotificationsCallNotification").showCallNotification);a.useListener(d("WAWebCmd").Cmd,"cancel_call",d("WAWebNotificationsCallNotification").cancelCallNotification);a.useListener(d("WAWebChatCollection").ChatCollection,"add remove reset change:showUnreadInTitle",e);a.useListener(d("WAWebChatCollection").ChatCollection,"change:unreadCount",d("WAWebNotificationBackend").closeNotifications);a.useListener(d("WAWebStreamModel").Stream,"change:displayInfo",e);var f=d("WAWebAppContext.react").useAppContext();d("WAWebNotificationBackend").setAppContext(function(){return{isChatsSurfaceActive:f.activeNavBarItem===d("WAWebNavBarTypes").NavBarItems.Chats}});return null}g["default"]=a}),98);
__d("WAWebOpenNotificationsSetting",["WAWebDrawerManager","WAWebKeyboardTabUtils","WAWebNotificationsDrawer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a;a=new URLSearchParams(((a=window.location.search)!=null?a:"").toLowerCase());a=((a=a.get("ns"))!=null?a:"")==="1";a&&(d("WAWebDrawerManager").DrawerManager.openDrawerLeft(i.jsx(c("WAWebNotificationsDrawer.react"),{onCancel:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}),{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,transition:"pop-drawer-fast"}),window.history.pushState({},"",window.location.origin))}g.handleOpenNotificationsSettingDeeplink=a}),98);
__d("WAWebPipYoutubeVideoPlayer.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={fullscreen:"_ah_a",container:"_ah_b",youtubeContainer:"_ah_c",redesign:"_ah_d",strippedVideoControls:"_ah_e",opacityTransition:"_ah_f",dimmed:"_ah_g"};b=a;g["default"]=b}),98);
__d("WAWebYoutube.react",["Promise","WAWebNoop","WAWebTimeSpentLoggingNavigation","asyncToGeneratorRuntime","lodash","react","youtube-player"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef;function o(a,b){if(a.videoId!==b.videoId)return!0;a=((a=a.opts)==null?void 0:a.playerVars)||{};b=((b=b.opts)==null?void 0:b.playerVars)||{};return a.start!==b.start||a.end!==b.end}function p(a){return babelHelpers["extends"]({},a,{playerVars:babelHelpers["extends"]({},a==null?void 0:a.playerVars,{autoplay:0,start:0,end:0})})}function q(a,b){return!c("lodash").isEqual(p(a==null?void 0:a.opts),p(b==null?void 0:b.opts))}function r(a,b){return a.id===b.id||a.className===b.className}var s={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function a(a){var e=a.onReady,f=e===void 0?c("WAWebNoop"):e;e=a.onError;var g=e===void 0?c("WAWebNoop"):e;e=a.onStateChange;var i=e===void 0?c("WAWebNoop"):e;e=a.onEnd;var j=e===void 0?c("WAWebNoop"):e;e=a.onPlay;var p=e===void 0?c("WAWebNoop"):e;e=a.onPause;var t=e===void 0?c("WAWebNoop"):e;e=a.onPlaybackRateChange;var u=e===void 0?c("WAWebNoop"):e;e=a.onPlaybackQualityChange;var v=e===void 0?c("WAWebNoop"):e;e=a.opts;var w=e===void 0?{playerVars:{}}:e,x=a.videoId;e=a.id;var y=e===void 0?null:e;e=a.className;var z=e===void 0?null:e;e=a.containerClassName;e=e===void 0?"":e;var A=n(null),B=n(null),C=n([]),D=n(a),E=l(function(a){return f(a)},[f]),F=l(function(a){return g(a)},[g]),G=l(function(a){i(a);switch(a.data){case s.ENDED:j(a);break;case s.PLAYING:p(a);break;case s.PAUSED:t(a);break;default:return}},[j,t,p,i]),H=l(function(a){return u(a)},[u]),I=l(function(a){return v(a)},[v]),J=l(function(){var a=babelHelpers["extends"]({},w,{videoId:x});B.current=c("youtube-player")(A.current,a);C.current.push(B.current.on("ready",E),(a=B.current)==null?void 0:a.on("error",F),(a=B.current)==null?void 0:a.on("stateChange",G),(a=B.current)==null?void 0:a.on("playbackRateChange",H),(a=B.current)==null?void 0:a.on("playbackQualityChange",I))},[F,I,H,E,G,w,x]);m(function(){J();return function(){var a;C.current.filter(Boolean).forEach(function(a){var b;(b=B.current)==null||b.off(a)});(a=B.current)==null||a.destroy()}},[]);var K=l(function(){var a;return(a=(a=B.current)==null?void 0:a.destroy().then(J))!=null?a:(h||(h=b("Promise"))).resolve()},[J]),L=l(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(yield (a=B.current)==null?void 0:a.getIframe());y?a==null?void 0:a.setAttribute("id",y):a==null?void 0:a.removeAttribute("id");z?a==null?void 0:a.setAttribute("class",z):a==null?void 0:a.removeAttribute("class")}),[z,y]),M=l(function(){if(x==null){var a;(a=B.current)==null||a.stopVideo();return}a=!1;var b,c;"playerVars"in w&&(a=w.playerVars.autoplay===1,"start"in w.playerVars&&(b=w.playerVars.start),"end"in w.playerVars&&(c=w.playerVars.end));var d={videoId:x,startSeconds:b,endSeconds:c};if(a){(a=B.current)==null||a.loadVideoById(d);return}(a=B.current)==null||a.cueVideoById(d)},[w,x]);m(function(){var b=D.current;r(b,a)&&L();q(b,a)&&K();o(b,a)&&M();D.current=a},[a,K,L,M]);d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"youtube-player"});return k.jsx("span",{className:e,children:k.jsx("div",{id:y,className:z,ref:A})})}a.displayName=a.name+" [from "+f.id+"]";g.YouTube=a}),98);
__d("WAWebPipYoutubeVideoTag.react",["WAWebABProps","WAWebDebounce","WAWebPttAudioChannels","WAWebUserPrefsGeneral","WAWebYoutube.react","lodash","react","useLazyRef","useWAWebInterval","useWAWebOnUnmount","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=c("WAWebDebounce")(function(a){d("WAWebUserPrefsGeneral").setMediaVolumeSetting(a)},500),p=c("WAWebDebounce")(function(a){d("WAWebUserPrefsGeneral").setMediaMutedSetting(a)},500),q={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},r={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},s="https://whatsapp.com";function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),f=n(null),g=n(null),i=n(0),j=n(0),t=c("useLazyRef")(function(){return Symbol("audio-channel")}),u=n(null),v=(a=c("useWAWebStableCallback"))(function(){var a;(a=f.current)==null||a.playVideo()}),w=a(function(){var a;(a=f.current)==null||a.pauseVideo()}),x=a(function(a){var b;(b=f.current)==null||b.seekTo(a,!0)}),y=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getCurrentTime())!=null?a:0}),z=a(function(){var a;return((a=(a=f.current)==null?void 0:a.getVolume())!=null?a:0)*.01}),A=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getDuration())!=null?a:0}),B=a(function(){var a;return(a=(a=f.current)==null?void 0:a.isMuted())!=null?a:!1}),C=function(){var a=f.current;if(a){var b=a.getCurrentTime();b!==i.current&&(i.current=b,e.onTimeUpdate(b));b=a.getVideoLoadedFraction();if(b!==j.current){j.current=b;b=g.current?g.current.duration*b:0;e.onProgress([[0,b]])}b=g.current;if(b){var c=a.getVolume()*.01;a=a.isMuted();(c!==b.volume||a!==b.muted)&&(g.current=babelHelpers["extends"]({},b,{volume:c,muted:a}),e.onVolumeChange({volume:c,muted:a}))}}};C=c("useWAWebInterval")(C,250);var D=C[0],E=function(){if(typeof e.startTime==="number"){var a;(a=f.current)==null||a.seekTo(e.startTime,!0)}},F=a(function(a){var b=f.current;b&&(a?b.mute():b.unMute(),p(a))}),G=a(function(a){f.current&&(f.current.setVolume(a*100),o(a))});C=function(a){f.current=a.target;a=f.current;var b=d("WAWebUserPrefsGeneral").getMediaVolumeSettings(),c=b.volume;b=b.muted;var h=a.getDuration(),j=c!=null?c:a.getVolume()*.01,k=b!=null?b:a.isMuted(),l=a.getIframe().getBoundingClientRect(),m=l.width;l=l.height;g.current={duration:h,volume:j,muted:k,videoWidth:m,videoHeight:l};e.onLoadedMetadata(g.current);i.current=a.getCurrentTime();D();e.startTime!=null&&E();c!=null&&G(c);b!=null&&F(b)};a=function(a){u.current=d("WAWebPttAudioChannels").MainAudioChannel.claim(t.current,w),e.onPlaying()};var H=function(a){u.current==null||u.current(),e.onPause()},I=function(a){e.onEnded()},J=function(a){a.target.getPlayerState()!==q.PLAYING&&e.onPause()};l(function(){E()},[e.startTime]);c("useWAWebOnUnmount")(function(){u.current==null||u.current()});m(b,function(){return{play:v,pause:w,setCurrentTime:x,getCurrentTime:y,setVolume:G,setMuted:F,getVolume:z,getDuration:A,getMuted:B}},[v,w,x,y,G,F,z,A,B]);b=e.counterAbuseData;b=c("lodash").merge({},r,{playerVars:{autoplay:e.autoPlay?1:0,widget_referrer:s,origin:window.location.origin}},b!=null&&d("WAWebABProps").getABPropConfigValue("web_youtube_rcat_consumption_enabled")?{playerVars:{rct:b.counterAbuseToken,rctn:b.nonce}}:{});return k.jsx(d("WAWebYoutube.react").YouTube,{videoId:e.youtubeVideoId,opts:b,onReady:C,onPlay:a,onPause:H,onEnd:I,onError:e.onEnded,onStateChange:J})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPipYoutubeVideoPlayer.react",["WAWebDomFullscreen","WAWebPipCloseButton.react","WAWebPipFullscreenToggleButton.react","WAWebPipShade.react","WAWebPipSharedVideoPlayer.react","WAWebPipVideoRefControls.react","WAWebPipYoutubeVideoPlayer.scss","WAWebPipYoutubeVideoTag.react","WAWebUA","WAWebVelocityTransitionGroup","lodash","react","useWAWebDebouncedCallback","useWAWebListener","useWAWebPrevious","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=b.useState;function n(a){var b=a.isFullscreenMode,e=a.isVideoPlaying,f=a.mouseDownCoorRef,g=a.mouseMoveRecently,h=a.onClose,i=a.onExposeIframeInPiP,k=a.onFullScreenToggle,l=a.ref,m=a.videoMetadata,n=a.videoRef;a=function(a){if(n.current){var b=a;m&&a>=m.duration-1&&m.duration>1&&(b=m.duration-1);n.current.setCurrentTime(b)}};var o=null;if(m){var p,q="x1ey2m1c x78zum5 xvt47uu xbudbmw xexx8yu x5zjp28 x18d9i69 x162tt16 x10l6tqk xtijo5x x1hc1fzr x13dflua x19991ni xwji4o3";o=j.jsx("div",{ref:l,style:(p={},p[c("WAWebPipYoutubeVideoPlayer.scss").dimmed]=!g,p),children:j.jsx(d("WAWebPipVideoRefControls.react").VideoRefControls,{refVideo:n.current,videoMetadata:m,isFullscreenMode:b,isVideoPlaying:e,handleSetCurrentTimeByControls:a,controlsClassName:b?q:void 0,onFullscreenToggle:k,onClose:h,newPiPStyle:!0})});b||(o=j.jsx("div",{ref:l,className:"x5yr21d x10l6tqk xh8yej3",onMouseDown:function(a){f.current={x:a.clientX,y:a.clientY}},onMouseUp:function(a){var b=a.clientX;a=a.clientY;var c=f.current,d=c?c.x:void 0;c=c?c.y:void 0;d!=null&&c!=null&&Math.abs(b-d)+Math.abs(a-c)<4&&i(!0)},children:o}))}return o}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b,e=a.onSetFullscreenToggleCallback,f=a.onRefSet,g=a.onVideoEnded,h=a.onError,i=a.startTime,o=a.onVideoMetadataChange,p=a.onClose,q=l(null),r=l(null),s=l(!1),t=l(null),u=m(void 0),v=u[0],w=u[1];u=m(!1);var x=u[0],y=u[1];u=m(!1);var z=u[0],A=u[1];u=m(!1);var B=u[0],C=u[1];u=m(!1);var D=u[0],E=u[1];u=m(!1);var F=u[0],G=u[1],H=c("useWAWebPrevious")(x),I=c("useWAWebPrevious")(v);d("useWAWebListener").useListener(c("WAWebDomFullscreen"),"fullscreen_change",function(){c("WAWebDomFullscreen").isFullscreenMode()&&c("WAWebDomFullscreen").getFullscreenElement()===q.current?E(!0):c("WAWebDomFullscreen").isFullscreenMode()||E(!1)});var J=function(a){a.stopPropagation(),D?c("WAWebDomFullscreen").exitFullscreen():c("WAWebDomFullscreen").requestFullscreen(q.current)},K=c("useWAWebDebouncedCallback")(function(){C(!1)},d("WAWebPipSharedVideoPlayer.react").FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT);k(function(){e==null||e(J)},[]);u=c("useWAWebStableCallback")(function(a){r.current=a,a!=null&&(f==null||f(a))});var L=function(){g&&g(),y(!1)},M=function(){h&&h()},N=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;w(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});y(!1);s.current=!0},O=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;w(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});y(!0);s.current=!0},P=function(a){var b=i!=null?i:0;w({duration:a.duration,currentTime:b,volume:a.volume,muted:a.muted,bufferedTime:0})},Q=function(a){w(function(b){return b?babelHelpers["extends"]({},b,{volume:a.volume,muted:a.muted}):b})},R=function(a){if(s.current){s.current=!1;return}w(function(b){return b?babelHelpers["extends"]({},b,{currentTime:a}):b})},S=function(a){a=a[0];var b=a[1];w(function(a){return a?babelHelpers["extends"]({},a,{bufferedTime:b}):a})};k(function(){(H!==x||!c("lodash").isEqual(I,v))&&(o==null||o(v,x))},[x,H,o,v,I]);var T=a.exposeIframeInPiP||F||D?null:j.jsx("div",{className:"x1ktv7sr x142x0oa xv7zg05 x12dgle5 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x166i9x0 x1gex1yb x1n7ce0x xqz8djb x5yr21d x1o0tod x10l6tqk x13vifvy xh8yej3"});b=j.jsxs("div",{className:"x10l6tqk x13vifvy xtijo5x x1ey2m1c x1o0tod",style:(b={},b[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=D,b),children:[T,j.jsx(c("WAWebPipYoutubeVideoTag.react"),{ref:u,youtubeVideoId:a.youtubeVideoId,startTime:a.startTime,onEnded:L,onError:M,onLoadedMetadata:P,onPause:N,onPlaying:O,onProgress:S,onTimeUpdate:R,onVolumeChange:Q,autoPlay:a.autoPlay,counterAbuseData:a.counterAbuseData})]});T=a.disablePiPControls!==!0||D?j.jsx(n,{videoMetadata:v,videoRef:r,mouseDownCoorRef:t,mouseMoveRecently:B,isVideoPlaying:x,isFullscreenMode:D,onFullScreenToggle:J,onClose:p,onExposeIframeInPiP:G}):null;var U;d("WAWebUA").UA.isSafari||(U=j.jsx(c("WAWebPipFullscreenToggleButton.react"),{isFullscreenMode:D,onClick:J}));u=j.jsx(c("WAWebPipShade.react"),{theme:"full-rounded"});L=D?j.jsxs(j.Fragment,{children:[b,T]}):j.jsxs(j.Fragment,{children:[b,j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade-fast",children:z&&B&&!F&&a.disablePiPControls!==!0?[u,T,U,j.jsx(c("WAWebPipCloseButton.react"),{isFullscreenMode:D,onClick:function(b){b.stopPropagation(),a.onClose()}},"close")]:null})]});return j.jsx("div",{ref:q,className:"xums3t4 x5yr21d xh8yej3",style:(M={},M[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=D,M[c("WAWebPipYoutubeVideoPlayer.scss").redesign]=!0,M),onMouseEnter:function(a){if(F){if(d("WAWebUA").UA.isGecko&&z)return;G(!1)}A(!0)},onMouseLeave:function(a){A(!1)},onMouseDown:function(a){D&&a.stopPropagation()},onMouseMove:function(a){z||A(!0),B||C(!0),K()},children:L},"elementsWrapped")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebYoutubeVideoPlayerRenderer.react",["WAWebPipConst","WAWebPipFloatingVideoPlayer.react","WAWebPipYoutubeVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){var h=["ref","videoSrc"],i,j=i||c("react");function a(a){var b=a.ref,e=a.videoSrc;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return e==null?null:j.jsx(d("WAWebPipFloatingVideoPlayer.react").FloatingVideoPlayer,{ref:b,aspectRatio:d("WAWebPipConst").YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:a.animationStartStyle,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,children:j.jsx(c("WAWebPipYoutubeVideoPlayer.react"),{youtubeVideoId:e,startTime:a.startTime,onClose:a.onClose,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,autoPlay:a.autoPlay,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback,exposeIframeInPiP:a.enableDragBar,counterAbuseData:a.counterAbuseData},e)},e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPipManager.react",["fbt","WAWebCmd","WAWebFloatingMsgVideoPlayerRenderer.react","WAWebFloatingOgVideoPlayerRenderer.react","WAWebFloatingVoipRenderer.react","WAWebFrontendMsgGetters","WAWebInlineVideoPlaybackClosedWamEvent","WAWebKeyboardRotateFocus.react","WAWebKeyboardTabUtils","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgType","WAWebPipCloseButton.react","WAWebPipConst","WAWebPipController","WAWebPipVideoRefControls.react","WAWebToast.react","WAWebToastManager","WAWebVelocityTransitionGroup","WAWebWamEnumInlineVideoType","WAWebWamEnumWebcRmrReasonCode","WAWebYoutubeVideoPlayerRenderer.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=b.useState,p={msg:null,startTime:null,zoomRect:null,videoMetadata:null,videoRef:null,isVideoPlaying:!1,videoType:d("WAWebPipConst").PiPVideoType.MSG,previewUrl:null,videoSrc:null,counterAbuseData:null},q={playerWrapper:{position:"xixxii4",zIndex:"x16p50fe",width:"xnalus7",height:"xqtp20y",overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0}},r=new Map();r.set(d("WAWebPipConst").PiPVideoType.MSG,c("WAWebFloatingMsgVideoPlayerRenderer.react"));r.set(d("WAWebPipConst").PiPVideoType.YOUTUBE,c("WAWebYoutubeVideoPlayerRenderer.react"));r.set(d("WAWebPipConst").PiPVideoType.OG,c("WAWebFloatingOgVideoPlayerRenderer.react"));r.set(d("WAWebPipConst").PiPVideoType.VOIP,c("WAWebFloatingVoipRenderer.react"));function s(a){a=t(a);return a==null?null:new(d("WAWebInlineVideoPlaybackClosedWamEvent").InlineVideoPlaybackClosedWamEvent)({inlineVideoPlayed:!1,inlineVideoType:a})}function t(a){return a===d("WAWebPipConst").PiPVideoType.YOUTUBE?d("WAWebWamEnumInlineVideoType").INLINE_VIDEO_TYPE.YOUTUBE:null}function a(a){a=a.ref;var b=n(null),e=o(p.msg),f=e[0],g=e[1];e=o(p.startTime);var i=e[0],j=e[1];e=o(p.zoomRect);var t=e[0],u=e[1];e=n(null);var v=o(p.videoMetadata),w=v[0],x=v[1];v=o(p.videoRef);var y=v[0],z=v[1];v=o(p.isVideoPlaying);var A=v[0],B=v[1];v=o(p.videoType);var C=v[0],D=v[1];v=o(p.previewUrl);var E=v[0],F=v[1];v=o(p.videoSrc);var G=v[0],H=v[1];v=o(null);var I=v[0],J=v[1];v=o(p.counterAbuseData);var K=v[0],L=v[1];l(function(){var a=function(){var c;(c=b.current)==null||c.commit();window.removeEventListener("unload",a)};window.addEventListener("unload",a);return a},[]);var M=function(a){J(function(){return a})},N=function(a,c){var d=b.current;d!=null&&((a==null?void 0:a.duration)!=null&&(d.inlineVideoDurationT=Math.floor(a==null?void 0:a.duration)),!d.inlineVideoPlayed&&c&&(d.markInlineVideoPlayStartT(),d.inlineVideoPlayed=c));x(a);B(c)},O=function(){var a;f&&c("WAWebPipController").didClose(f);(a=b.current)==null||a.commit();g(p.msg);j(p.startTime);u(p.zoomRect);x(p.videoMetadata);z(p.videoRef);B(p.isVideoPlaying);D(p.videoType);F(p.previewUrl);H(p.videoSrc);L(p.counterAbuseData)},P=function(a){a.id.equals(f==null?void 0:f.id)&&O()};l(function(){return function(){f&&c("WAWebPipController").didClose(f)}},[f]);v=function(a,e){var f;c("WAWebPipController").didOpen(e.msg);(f=b.current)==null||f.commit();b.current=s(a);(f=b.current)==null||f.startInlineVideoPlayStartT();a===d("WAWebPipConst").PiPVideoType.MSG&&e.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.PIP,isUserInitiated:!0});g(e.msg);j(e.startTime);u(e.zoomRect);x(p.videoMetadata);z(p.videoRef);B(p.isVideoPlaying);D(a);F(e.preview!=null?"data:image/jpeg;base64,"+e.preview:null);H(e.videoSrc);L(e.counterAbuseData)};var Q=function(){y==null||y.pause()},R=function(a){Q()},S=function(a){return(a=f==null?void 0:f.id.equals(a.id))!=null?a:!1},T=function(){f&&c("WAWebPipController").didError(f)},U=function(){return{enableDragBar:!0,bottomContent:w!=null&&y!=null?k.jsx(d("WAWebPipVideoRefControls.react").VideoRefControls,{refVideo:y,videoMetadata:w,isFullscreenMode:!1,isVideoPlaying:A,newPiPStyle:!0,onFullscreenToggle:I!=null?I:void 0}):null,topContent:k.jsx(c("WAWebPipCloseButton.react"),{isFullscreenMode:!1,onClick:O})}},V=function(){return t?{height:t.bottom-t.top,width:t.right-t.left,left:t.left,bottom:window.innerHeight-t.bottom}:null},W=function(){return babelHelpers["extends"]({msg:f,startTime:i,zoomRect:t,videoMetadata:w,videoRef:y,isVideoPlaying:A,videoType:C,previewUrl:E,videoSrc:G,counterAbuseData:K},U(),{animationStartStyle:V(),onClose:O,onError:T,autoPlay:!0,onRefSet:z,onVideoMetadataChange:N,onSetFullscreenToggleCallback:M})};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,["media_viewer_modal"],R);d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,["remove"],function(a){P(a)});R=f!=null?d("WAWebFrontendMsgGetters").getChat(f):null;d("useWAWebListener").useListener((R=R==null?void 0:R.msgs)!=null?R:d("WAWebMsgCollection").MsgCollection,"remove_msgs",function(a){a.forEach(P)});d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,["change:type"],function(a){if(a.type!==d("WAWebMsgType").MSG_TYPE.REVOKED)return;!d("WAWebMsgGetters").getIsSentByMe(a)&&f!=null&&f.id.equals(a.id)&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Currently playing video was revoked.")}));P(a)});var X={isOpened:S,pausePiP:Q,openPiP:v,closePiP:O};m(a,function(){return X});l(function(){c("WAWebPipController").register(X);return function(){c("WAWebPipController").unregister()}},[]);R=r.get(C);return k.jsx(d("WAWebKeyboardRotateFocus.react").RotateFocus,{focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,children:k.jsx(c("WAWebVelocityTransitionGroup"),{ref:e,transitionName:"pip",xstyle:q.playerWrapper,component:"div",children:R!=null?k.jsx(R,babelHelpers["extends"]({},W())):null})})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.PiPManager=e}),226);
__d("WAWebTosModal.react",["fbt","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(){d("WAWebConnModel").Conn.tos===0&&d("WAWebModalManager").ModalManager.close()}function l(){d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()}function a(){var a,b,c;d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:tos",k);switch(d("WAWebConnModel").Conn.tos){default:case 1:a=h._(/*BTDS*/"WhatsApp is updating our Terms and Privacy Policy to reflect new features and comply with the new European Union data protection laws. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.");b=h._(/*BTDS*/"OK, got it");c=function(){return d("WAWebModalManager").ModalManager.close()};break;case 2:a=h._(/*BTDS*/"WhatsApp is updating our Terms and Privacy Policy to reflect new features and comply with the new European Union data protection laws. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.");b=h._(/*BTDS*/"Log out");c=l;break}return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:c,okText:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUiRefreshNuxBgIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox","innerStyles"],i,j,k=i||c("react"),l="ui-refresh-nux-bg";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox,m=a.innerStyles;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var n;if(i){var o=i.x;o=o===void 0?0:o;var p=i.y;p=p===void 0?0:p;var q=i.width;q=q===void 0?0:q;i=i.height;i=i===void 0?0:i;n=[o,p,q,i].join(" ")}o=228;p=500;(e!=null||f!=null)&&(o=e,p=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:n!=null?n:"0 0 500 228",height:o,width:p,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{clipPath:"url(#a)",children:[k.jsx("path",{d:"M-37.344 35.81C10.399 61.373 68.804 81.177 134.014 92.459c.587-1.417.055-3.23-1.596-3.93L-182.833-87.834l90.704-76L148.486 27.869c2.454 2.138 6.079-.614 4.679-3.552l-34.124-71.638 476.706-24.744-18.674 78.014-192.367 82.58c-1.692.718-2.208 2.603-1.55 4.034 70.751-12.043 134.222-33.9 185.114-62.159 0 56.558 15.703 115.204 26.6 145.627 23.836 66.548 25.971 72.508-202.597 26.372 2.049 6.677-4.107 13.187-11.017 11.275l-111.772-30.923c-37.116-2.404-168.762 12.682-168.762 12.682-98.186 14.583-135.399 20.109-146.903 5.454z",fill:"#E6FFDA",className:j(m==null?void 0:m.splash)}),k.jsxs("g",{clipPath:"url(#b)",children:[k.jsx("path",{d:"M302.398 105.275c-6.76-14.14-1.3-31.25 12.629-38.802 14.387-7.8 32.376-2.452 40.164 11.935 7.367 13.594 2.996 30.395-9.632 38.79l-35.274 17.147z",fill:"#AFE966",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M348.997 74.186c1.844 9.509-4.817 18.807-14.882 20.763-10.066 1.956-19.723-4.172-21.568-13.681m5.255-4.408c-.446-2.537.706-4.853 2.587-5.187s3.764 1.449 4.21 3.987m11.24-1.993c-.446-2.538.706-4.853 2.588-5.188s3.763 1.449 4.209 3.987",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"m276.135 125.11-52.761 6.705m33.623 12.912-31.344 3.55",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round"}),k.jsx("path",{d:"m228.753 86.668 106.562 17.193c5.112.825 8.615 5.645 7.791 10.746l-13.282 82.326c-.773 4.788-5.325 8.068-10.124 7.293l-107.126-17.284z",fill:"#fff",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"m226.646 142.812-7.294 45.208-42.421-6.844c-4.799-.775-8.091-5.304-7.316-10.108l13.369-82.857c.773-4.789 5.309-8.07 10.123-7.294l42.421 6.844z",fill:"#25D366",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"m188.894 127.764 29.969 4.835z",fill:"#25D366"}),k.jsx("path",{d:"m188.894 127.764 29.969 4.835",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"m190.798 115.96 29.969 4.836z",fill:"#25D366"}),k.jsx("path",{d:"m190.798 115.96 29.969 4.836",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),k.jsxs("mask",{id:"c",maskUnits:"userSpaceOnUse",x:240.737,y:104.233,width:83.218,height:80.734,fill:"#000",children:[k.jsx("path",{fill:"#fff",d:"M240.737 104.233h83.218v80.734h-83.218z"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M312.346 128.868c4.233 7.73 5.22 16.656 2.774 25.143-5.052 17.505-23.324 27.654-40.735 22.618l-.011-.002a32.8 32.8 0 0 1-13.985-8.232l-16.64-1.164 7.842-14.43a33.1 33.1 0 0 1 .354-17.095c5.052-17.506 23.324-27.655 40.736-22.618 8.446 2.451 15.426 8.055 19.665 15.78m-55.174 22.594.866 3.353-4.296 7.032 8.431.175 2.248 2.203a27 27 0 0 0 3.72 3.072 27 27 0 0 0 7.787 3.672c14.316 4.133 29.331-4.154 33.469-18.469 2.002-6.935 1.187-14.238-2.299-20.56-2.072-3.753-4.88-6.866-8.359-9.245a27.1 27.1 0 0 0-7.815-3.676c-14.316-4.127-29.331 4.155-33.469 18.469a26.97 26.97 0 0 0-.283 13.974"})]}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M312.346 128.868c4.233 7.73 5.22 16.656 2.774 25.143-5.052 17.505-23.324 27.654-40.735 22.618l-.011-.002a32.8 32.8 0 0 1-13.985-8.232l-16.64-1.164 7.842-14.43a33.1 33.1 0 0 1 .354-17.095c5.052-17.506 23.324-27.655 40.736-22.618 8.446 2.451 15.426 8.055 19.665 15.78m-55.174 22.594.866 3.353-4.296 7.032 8.431.175 2.248 2.203a27 27 0 0 0 3.72 3.072 27 27 0 0 0 7.787 3.672c14.316 4.133 29.331-4.154 33.469-18.469 2.002-6.935 1.187-14.238-2.299-20.56-2.072-3.753-4.88-6.866-8.359-9.245a27.1 27.1 0 0 0-7.815-3.676c-14.316-4.127-29.331 4.155-33.469 18.469a26.97 26.97 0 0 0-.283 13.974",fill:"#25D366"}),k.jsx("path",{d:"m257.298 154.69-.001.006 1.481.239.001-.006zm57.822-.679 1.441.416v-.001zm-2.774-25.143 1.316-.721-.001-.001zm-37.961 47.761.417-1.441-.088-.026-.09-.014zm-.011-.002-.417 1.441.087.025.091.015zm-13.985-8.232 1.057-1.065-.396-.393-.556-.039zm-16.64-1.164-1.318-.717a1.5 1.5 0 0 0 1.213 2.213zm7.842-14.43 1.318.717.277-.51-.138-.564zm.354-17.095 1.442.416zm40.736-22.618.418-1.441h-.002zm-34.643 41.727 1.28.782.331-.542-.159-.615zm-.866-3.353-1.456.361.001.007.002.008zm-3.43 10.385-1.28-.782-1.361 2.227 2.609.054zm8.431.175 1.05-1.071-.425-.416-.594-.013zm2.248 2.203 1.056-1.065-.006-.006zm3.72 3.072.848-1.237h-.001zm7.787 3.672.416-1.441zm33.469-18.469 1.441.417v-.001zm-2.299-20.56 1.313-.725zm-8.359-9.245-.848 1.238.002.001zm-7.815-3.676.416-1.441zm-33.469 18.469 1.441.418v-.001zm59.106 16.938c2.556-8.866 1.524-18.201-2.899-26.279l-2.631 1.441c4.042 7.382 4.984 15.901 2.648 24.007zm-42.593 23.643c18.215 5.27 37.314-5.348 42.593-23.642l-2.882-.832c-4.824 16.717-22.27 26.397-38.877 21.593zm.167.039.011.001.478-2.961-.011-.002zm-14.803-8.649a34.3 34.3 0 0 0 14.625 8.609l.834-2.882a31.3 31.3 0 0 1-13.345-7.856zm-15.688-.732 16.64 1.164.21-2.993-16.641-1.164zm6.629-16.642-7.842 14.429 2.636 1.433 7.842-14.429zm.231-16.795a34.6 34.6 0 0 0-.369 17.869l2.913-.715a31.6 31.6 0 0 1 .339-16.322zm42.593-23.643c-18.215-5.269-37.313 5.348-42.593 23.643l2.883.832c4.824-16.717 22.269-26.397 38.877-21.593zm20.564 16.499c-4.43-8.073-11.733-13.936-20.562-16.499l-.836 2.881c8.062 2.34 14.72 7.684 18.768 15.061zM259.49 154.44l-.866-3.353-2.905.751.866 3.352zm-4.468 8.189 4.296-7.032-2.56-1.564-4.296 7.032zm7.182-2.107-8.431-.175-.063 2.999 8.432.176zm3.267 2.632-2.248-2.203-2.1 2.143 2.248 2.202zm3.517 2.906a25.4 25.4 0 0 1-3.511-2.9l-2.112 2.13a28 28 0 0 0 3.929 3.245zm7.356 3.468a25.4 25.4 0 0 1-7.355-3.468l-1.696 2.475a28.5 28.5 0 0 0 8.22 3.876zm31.612-17.445c-3.908 13.52-18.092 21.348-31.612 17.445l-.832 2.883c15.112 4.362 30.958-4.384 35.326-19.494zm-2.172-19.419c3.294 5.973 4.064 12.867 2.172 19.42l2.882.832c2.113-7.316 1.251-15.03-2.427-21.701zm-7.891-8.73c3.28 2.242 5.93 5.178 7.892 8.731l2.626-1.45c-2.183-3.952-5.148-7.244-8.825-9.758zm-7.385-3.474a25.6 25.6 0 0 1 7.383 3.473l1.696-2.475a28.6 28.6 0 0 0-8.247-3.88zm-31.612 17.445c3.908-13.519 18.091-21.343 31.613-17.445l.831-2.882c-15.112-4.357-30.957 4.383-35.326 19.494zm-.268 13.197a25.46 25.46 0 0 1 .268-13.196l-2.881-.835a28.45 28.45 0 0 0-.299 14.752z",fill:"#111B21",mask:"url(#c)"}),k.jsx("path",{d:"M289.831 161.805s-4.73-.25-8.99-3.92c-3.58-2.94-6.27-6.87-8.19-11.06-1.81-3.98-3.77-9.07-2.49-13.47 1.09-3.76 4.73-5.92 4.79-5.95 1.41-.86 2.9-.48 4.36.02 0 0 .02 0 .04.01 1.25.32 1.63 1.45 1.82 2.59.24 1.49.9 7.1.03 8.16-.83 1-2.31 1.23-3.09 2.29 0 0 0 .01-.01.02v.03c-.24 1.7 3.15 6.7 3.15 6.7 1.25 1.85 4.56 5.38 4.82 5.42.02 0 3.34-2.84 4.78-2.83 1.04 0 6.2 4.82 6.3 4.97 1.17 1.66-.25 4.02-1.48 5.21-1.5 1.45-3.8 1.93-5.82 1.82z",fill:"#25D366",stroke:"#111B21",strokeWidth:1.5}),k.jsx("path",{d:"M341.656 197.07c1.461 1.892 4.948 6.389 6.438 8.31a1.15 1.15 0 0 0 1.603.213l5.741-4.289c.533-.398.624-1.16.196-1.67-1.583-1.888-5.13-6.135-6.619-8.027a.56.56 0 0 1 .298-.887c3.729-1.067 7.997-2.563 11.493-3.69.996-.321 1.124-1.71.194-2.19l-34.702-17.911a.868.868 0 0 0-1.252.926l6.937 38.23c.184 1.013 1.496 1.297 2.077.447 2.016-2.95 3.545-5.258 6.673-9.453a.58.58 0 0 1 .923-.009Z",fill:"#FCF5EB",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10}),k.jsx("path",{d:"M377.209 156.196c.737.136.929 1.18.288 1.568-2.973 1.804-4.127 3.464-4.76 6.892-.136.738-1.18.929-1.568.289-1.804-2.974-3.464-4.128-6.892-4.761-.737-.136-.929-1.179-.288-1.568 2.973-1.804 4.127-3.464 4.76-6.892.136-.737 1.179-.929 1.568-.288 1.804 2.973 3.464 4.127 6.892 4.76M215.394 63.933c.565.492.227 1.507-.521 1.56-2.365.17-3.748.855-5.307 2.648-.492.565-1.507.227-1.561-.52-.168-2.366-.854-3.749-2.647-5.308-.566-.492-.227-1.507.521-1.56 2.365-.17 3.747-.855 5.307-2.648.492-.566 1.507-.227 1.561.52.168 2.366.854 3.749 2.647 5.308m-71.188 78.098c.749-.03 1.199.941.692 1.493-1.605 1.745-2.141 3.192-2.046 5.567.03.749-.941 1.199-1.492.691-1.746-1.605-3.193-2.14-5.567-2.045-.749.03-1.199-.941-.692-1.493 1.605-1.745 2.141-3.193 2.046-5.567-.03-.749.941-1.199 1.492-.692 1.746 1.606 3.193 2.141 5.567 2.046",fill:"#FCF5EB",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("mask",{id:"d",fill:"#fff",children:k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m124.923 90.754 7.488-3.904 3.565 6.838-7.489 3.904a3.856 3.856 0 0 0-1.536 5.381l7.118 12.202a3.86 3.86 0 0 0 3.907 1.848l29.391-3.903a7.71 7.71 0 0 1 7.628 3.4l7.097 13.194-6.452 4.221-7.097-13.194-29.391 3.903a11.57 11.57 0 0 1-11.72-5.545l-7.118-12.202c-3.375-5.707-1.271-13.077 4.609-16.143"})}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m124.923 90.754 7.488-3.904 3.565 6.838-7.489 3.904a3.856 3.856 0 0 0-1.536 5.381l7.118 12.202a3.86 3.86 0 0 0 3.907 1.848l29.391-3.903a7.71 7.71 0 0 1 7.628 3.4l7.097 13.194-6.452 4.221-7.097-13.194-29.391 3.903a11.57 11.57 0 0 1-11.72-5.545l-7.118-12.202c-3.375-5.707-1.271-13.077 4.609-16.143",fill:"#fff"}),k.jsx("path",{d:"m132.411 86.85 1.33-.693-.694-1.33-1.33.693zm-7.488 3.904.693 1.33zm11.053 2.934.693 1.33 1.33-.694-.693-1.33zm-7.489 3.904.694 1.33zm-1.536 5.381 1.296-.756-.005-.008zm7.118 12.202-1.295.756.004.007zm3.907 1.848-.198-1.487-.015.002-.016.002zm29.391-3.903.197 1.487.016-.002.016-.002zm7.628 3.4 1.321-.711-.03-.057-.035-.054zm7.097 13.194.821 1.255 1.152-.753-.652-1.213zm-6.452 4.221-1.322.711.775 1.439 1.368-.895zm-7.097-13.194 1.321-.711a1.5 1.5 0 0 0-1.519-.776zm-29.391 3.903-.198-1.487-.015.002-.016.002zm-11.72-5.545-1.296.756.005.008zm-7.118-12.202 1.296-.756-.005-.007zm11.403-21.377-7.488 3.904 1.387 2.66 7.488-3.904zm5.589 7.474-3.565-6.837-2.66 1.387 3.564 6.837zm-8.125 5.928 7.488-3.904-1.387-2.66-7.488 3.904zm-.939 3.287a2.356 2.356 0 0 1 .939-3.287l-1.387-2.66a5.355 5.355 0 0 0-2.134 7.474zm7.123 12.21-7.118-12.202-2.591 1.511 7.118 12.203zm2.382 1.121a2.36 2.36 0 0 1-2.387-1.129l-2.582 1.527a5.35 5.35 0 0 0 5.427 2.567zm29.422-3.907-29.391 3.903.395 2.974 29.391-3.903zm9.082 4.065a9.21 9.21 0 0 0-9.113-4.06l.458 2.965a6.21 6.21 0 0 1 6.144 2.738zm7.162 13.305-7.097-13.194-2.642 1.421 7.097 13.194zm-6.952 6.187 6.452-4.221-1.642-2.51-6.453 4.221zm-9.239-13.739 7.096 13.195 2.643-1.421-7.097-13.195zm-27.873 4.679 29.391-3.902-.395-2.974-29.391 3.903zm-13.208-6.267a13.07 13.07 0 0 0 13.239 6.263l-.457-2.965a10.065 10.065 0 0 1-10.2-4.825zm-7.123-12.21 7.118 12.202 2.592-1.511-7.118-12.203zm5.211-18.229c-6.642 3.463-9.019 11.789-5.206 18.237l2.582-1.527c-2.937-4.967-1.106-11.382 4.011-14.05z",fill:"#111B21",mask:"url(#d)"}),k.jsx("path",{d:"M126.912 96.963c-2.383-4.955-.298-10.903 4.656-13.285l43.302-20.826c4.955-2.382 10.903-.298 13.285 4.657l4.161 8.65c2.383 4.955.298 10.903-4.656 13.286l-43.302 20.825c-4.955 2.383-10.903.298-13.285-4.656z",fill:"#FCF5EB",stroke:"#111B21",strokeWidth:1.5}),k.jsx("path",{d:"m174.926 74.762.734.156-.734-.156c-1.385 6.512-8.778 9.716-14.477 6.273-1.931-1.167-4.263.725-3.519 2.855l5.427 15.535a6.194 6.194 0 0 1-10.566 6.06l-6.639-7.798c-3.165-3.718-9.184-2.508-10.666 2.144l-.84 2.634a2.65 2.65 0 0 1-2.771 1.836l-.259-.024a.35.35 0 0 1-.28-.194l-3.424-7.12c-2.383-4.955-.298-10.903 4.656-13.285l43.302-20.826c4.955-2.382 10.903-.298 13.285 4.657l3.425 7.12a.35.35 0 0 1-.023.34l-.143.217a2.65 2.65 0 0 1-3.164 1.018l-9.904-3.791a2.472 2.472 0 0 0-3.302 1.794z",fill:"#25D366",stroke:"#111B21",strokeWidth:1.5}),k.jsx("path",{d:"M172.361 119.84a6.685 6.685 0 0 1 8.787 2.862l11.8 21.974a6.685 6.685 0 0 1-11.778 6.325l-11.801-21.974a6.686 6.686 0 0 1 2.992-9.187Z",fill:"#E6FFDA",stroke:"#111B21",strokeWidth:1.5}),k.jsx("path",{d:"M185.974 145.141a1.525 1.525 0 1 1 1.323 2.751 1.526 1.526 0 1 1-1.323-2.751",fill:"#111B21"})]})]}),k.jsxs("defs",{children:[k.jsx("clipPath",{id:"a",children:k.jsx("path",{fill:"#fff",d:"M0 .5h500v227H0z"})}),k.jsx("clipPath",{id:"b",children:k.jsx("path",{fill:"#fff",d:"M98 56h304v152H98z"})})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.UiRefreshNuxBgIcon=a}),98);
__d("WAWebUiRefreshNuxModal.react",["fbt","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModal.react","WAWebModalManager","WAWebNoop","WAWebText.react","WAWebThemeContext","WAWebUiRefreshNuxBgIcon.react","react","useWAWebFocusOnMount","useWAWebListener"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={container:{width:"xvue9z",backgroundColor:"x16w0wmm",$$css:!0},headerContainer:{paddingTop:"x109j2v6",paddingInlineEnd:"x2vl965",paddingBottom:"x1hhzuzn",paddingInlineStart:"xe2zdcy",$$css:!0},headerText:{fontSize:"x1603h9y",fontStyle:"x1j61x8r",fontWeight:"x1s688f",lineHeight:"xgif2c7",$$css:!0},descriptionContainer:{paddingTop:"xexx8yu",paddingInlineEnd:"x5zjp28",paddingBottom:"x1l90r2v",paddingInlineStart:"x162tt16",$$css:!0},descriptionText:{fontSize:"x1f6kntn",textAlign:"x1yc453h",lineHeight:"x1o2sk6j",$$css:!0},buttonContainer:{paddingTop:"x1h678fw",paddingInlineEnd:"xcldk2z",paddingBottom:"xv6tirj",paddingInlineStart:"x1phvje8",backgroundColor:"x16w0wmm",$$css:!0},splashLight:{fill:"x1sryxtu",$$css:!0},splashDark:{fill:"x1wlj4pe",$$css:!0}},l=function(){return h._(/*BTDS*/"A fresh look for WhatsApp Web")},m=function(){return h._(/*BTDS*/"We've made some improvements to how WhatsApp Web looks, including updated colors to make things easier to read, new icons, illustrations, and more.")};function a(a){var b=d("WAWebThemeContext").useIsDarkTheme(),e=c("useWAWebFocusOnMount")(),f=function(){d("WAWebModalManager").ModalManager.close()};d("useWAWebListener").useListener(d("WAWebModalManager").ModalManager,"close_modal",function(){a.onOkOrDismiss()});return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{ref:e,onOK:f,okText:c("WAWebFbtCommon")("Continue"),onOverlayClick:c("WAWebNoop"),type:d("WAWebModal.react").ModalTheme.Auto,buttonGroupStyle:k.buttonContainer,testid:void 0,children:j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:k.container,children:[j.jsx(d("WAWebFlex.react").FlexRow,{children:j.jsx(d("WAWebUiRefreshNuxBgIcon.react").UiRefreshNuxBgIcon,{innerStyles:{splash:b?k.splashDark:k.splashLight}})}),j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",alignSelf:"stretch",justify:"center",xstyle:k.headerContainer,children:j.jsx(d("WAWebText.react").WAWebTextLargeRefreshed,{xstyle:k.headerText,children:l()})}),j.jsx(d("WAWebFlex.react").FlexRow,{xstyle:k.descriptionContainer,children:j.jsx(d("WAWebText.react").WAWebTextMutedRefreshed,{xstyle:k.descriptionText,children:m()})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUserNoticeModal.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={noticeSvgWrapper:"_alz7",noticeModalContentWrapper:"_alz8",noticeSmbContainer:"_alz9",noticeContainer:"_alza"};b=a;g["default"]=b}),98);
__d("WAWebUserNoticeModal.react",["WALogger","WAWebAlertNoticeIcon.react","WAWebButton.react","WAWebConnModel","WAWebDomSanitize","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebModalManager","WAWebNoticeModel","WAWebPDFNLogging","WAWebSocketModel","WAWebText.react","WAWebThemeContext","WAWebUserNoticeModal.scss","WAWebWamEnumUserNoticeEvent","react","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useContext,m=b.useEffect,n=b.useState,o=function(){};function p(a){var b=a.btn,c=a.onClick;a=a.primary;a=a===void 0?!1:a;if(b==null)return null;var e="UserNoticeModalPopup-"+b.action+"Btn",f="popup-controls-"+b.action;return k.jsx(d("WAWebButton.react").Button,{testid:void 0,type:a?"primary":"secondary",onClick:c,children:b.label},e)}p.displayName=p.name+" [from "+f.id+"]";function a(a){a=a.notice;a=d("useWAWebModelValues").useModelValues(a,["noticeId","blocking","blockingModal"]);var b=l(d("WAWebThemeContext").ThemeContext);a=a.blockingModal;var e=n(!1),f=e[0],g=e[1];e=function(){c("WAWebNoticeModel").blocking||d("WAWebModalManager").ModalManager.close()};d("useWAWebListener").useListener(c("WAWebNoticeModel"),"change:blocking",e);var i=function(){return c("WAWebNoticeModel").noticeId!=null&&c("WAWebNoticeModel").blockingModal!=null&&c("WAWebNoticeModel").blocking===!0},j=function(){i()&&(f||(d("WAWebPDFNLogging").logUserNoticeEvent({noticeId:c("WAWebNoticeModel").noticeId,noticeContentVersion:c("WAWebNoticeModel").policyVersion,noticeEvent:d("WAWebWamEnumUserNoticeEvent").USER_NOTICE_EVENT.BLOCKING_MODAL_APPEAR}),g(!0)))};e=function(){g(!1)};d("useWAWebListener").useListener(c("WAWebNoticeModel"),"change:noticeId",e);d("useWAWebListener").useListener(c("WAWebNoticeModel"),"change:blockingModal change:blocking",j);m(function(){j()},[]);var q=function(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["user notice modal, user clicked logout"]))),d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()},r=function(){location.reload()};e=function(a){if(a)if(a.action==="logout")return q;else if(a.action==="refresh")return r;return o};if(!a||!i())return null;var s=a.iconSvg,t=a.iconDescription;t=t===void 0?"":t;var u=a.title,v=a.body,w=a.primaryButton;a=a.secondaryButton;var x;s&&(x=b.theme==="light"?s.light:s.dark);b=k.jsx(d("WAWebAlertNoticeIcon.react").AlertNoticeIcon,{"aria-label":t});s=x&&d("WAWebDomSanitize").sanitizeNoticeSVG(x);t=s?k.jsx("span",{"aria-label":t,dangerouslySetInnerHTML:{__html:s}}):b;s=k.jsx(p,{btn:a,onClick:e(a)});b=k.jsx(p,{btn:w,primary:!0,onClick:e(w)});a=[s,b];s={enter:e(w)};b=u?d("WAWebDomSanitize").sanitizeNoticeText(u):null;e=v?d("WAWebDomSanitize").sanitizeNoticeText(v):null;return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:s,children:k.jsx("div",{className:d("WAWebConnModel").Conn.isSMB?c("WAWebUserNoticeModal.scss").noticeSmbContainer:c("WAWebUserNoticeModal.scss").noticeContainer,children:k.jsx(d("WAWebModal.react").Modal,{actions:a,type:d("WAWebModal.react").ModalTheme.Flex,children:k.jsxs("div",{className:c("WAWebUserNoticeModal.scss").noticeModalContentWrapper,children:[k.jsx(d("WAWebFlex.react").FlexRow,{className:c("WAWebUserNoticeModal.scss").noticeSvgWrapper,align:"center",justify:"center",children:t}),k.jsx(d("WAWebText.react").WAWebTextLarge,{margin:[32,32,0,32],textAlign:"center",children:k.jsx("div",{dangerouslySetInnerHTML:{__html:b}})}),k.jsx(d("WAWebText.react").WAWebTextMuted,{color:"white",margin:32,children:k.jsx("div",{dangerouslySetInnerHTML:{__html:e}})})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebUseUnifiedSession",["WAWebUnifiedSession","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(){i(function(){d("WAWebUnifiedSession").UnifiedSessionManager.generateSessionId(d("WAWebUnifiedSession").UnifiedSessionGenReason.InitialRender)},[]);var a=function(){d("WAWebUnifiedSession").UnifiedSessionManager.generateSessionId(d("WAWebUnifiedSession").UnifiedSessionGenReason.Foreground)};d("useWAWebListener").useListener(window,"focus",a)}g.useUnifiedSession=a}),98);
__d("WAWebUserActivityWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({UserActivity:[1384,{userActivityBitmapHigh:[4,a.TYPES.INTEGER],userActivityBitmapLen:[5,a.TYPES.INTEGER],userActivityBitmapLow:[3,a.TYPES.INTEGER],userActivitySessionCum:[7,a.TYPES.INTEGER],userActivitySessionId:[1,a.TYPES.STRING],userActivitySessionSeq:[6,a.TYPES.INTEGER],userActivityStartTime:[2,a.TYPES.INTEGER]},[1,1,1],"regular"]},{UserActivity:[]});g.UserActivityWamEvent=b}),98);
__d("WAWebWamTimeSpentLogger",["WAWebCmd","WAWebTimeSpentLoggingBitArray","WAWebTimeSpentLoggingNavigation","WAWebTimeSpentLoggingSession","WAWebUseUnifiedSession","WAWebUserActivityWamEvent","WAWebUserPrefsKeys","WAWebWamTimeSpentArray","react","useLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=-5,l=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],m=function(a){var b=new(d("WAWebUserActivityWamEvent").UserActivityWamEvent)({userActivitySessionId:a.sessionId,userActivityStartTime:a.startTime,userActivityBitmapLen:a.bitmapLen,userActivityBitmapLow:a.bitmap[0],userActivitySessionSeq:a.sessionSeq,userActivitySessionCum:a.sessionCum});a.bitmapLen>32&&(b.userActivityBitmapHigh=a.bitmap[1]);b.commit()};function a(){var a,b=c("useLazyRef")(function(){return Date.now()}),e=j(-1),f=j(-1),g=c("useLazyRef")(function(){return new(c("WAWebWamTimeSpentArray"))({loggingCallback:m})}),h=c("useLazyRef")(d("WAWebTimeSpentLoggingSession").createTimeSpentArray),n=function(a){var c=g.current,d=h.current;if(!c&&!d)return;if(a instanceof MouseEvent){if(a.pageX===e.current&&a.pageY===f.current&&a.type!=="click")return;e.current=a.pageX;f.current=a.pageY}a=Date.now();var i=a-b.current;i>0?(b.current=a,c==null||c.update(b.current),d==null||d.update(b.current)):i<k&&(b.current=a)},o=function(){g.current&&(g.current.ship(function(a){d("WAWebTimeSpentLoggingBitArray").stashBitarrayData(a,d("WAWebUserPrefsKeys").KEYS.USER_ACTIVITY_TIME_SPENT_EVENT)}),g.current=null),h.current&&(h.current.ship(function(a){d("WAWebTimeSpentLoggingBitArray").stashBitarrayData(d("WAWebTimeSpentLoggingSession").preprocessTsArrayData(a),d("WAWebUserPrefsKeys").KEYS.TIME_SPENT_BITARRAY_EVENT)}),g.current=null),d("WAWebTimeSpentLoggingNavigation").setPendingBackgroundNavigation()};i(function(){d("WAWebTimeSpentLoggingBitArray").flushBitarrays(d("WAWebUserPrefsKeys").KEYS.USER_ACTIVITY_TIME_SPENT_EVENT,m);return function(){g.current&&(g.current.ship(),g.current=null)}},[]);i(function(){d("WAWebTimeSpentLoggingBitArray").flushBitarrays(d("WAWebUserPrefsKeys").KEYS.TIME_SPENT_BITARRAY_EVENT,d("WAWebTimeSpentLoggingBitArray").postTsBitArrayEvent);return function(){h.current&&(h.current.ship(),h.current=null)}},[]);d("WAWebUseUnifiedSession").useUnifiedSession();(a=d("useWAWebListener")).useListener(window,"beforeunload",o);a.useListener(window,"blur",d("WAWebTimeSpentLoggingNavigation").logTsBackgroundNavigation);a.useListener(d("WAWebCmd").Cmd,"logout",function(){d("WAWebTimeSpentLoggingNavigation").logTsBackgroundNavigation()});a.useListener(window,"focus",d("WAWebTimeSpentLoggingNavigation").logTsForegroundNavigation);a.useListeners(l.map(function(a){var b=a.source;a=a.name;return{source:b,eventOrEvents:a,callback:n,opts:{passive:!0,capture:!0}}}));return null}g["default"]=a}),98);
__d("WAWebuseAdjustableChatListWidth",["WAWebChatlistResizeHandle.react","WAWebEnvironment","WAWebLocalStorage","react","useWAWebABPropConfigValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function k(a){var b=a.isEnabled,c=a.onResizeEnd;a=a.onResizeReset;return!b?null:i.jsx(d("WAWebChatlistResizeHandle.react").WAWebChatlistResizeHandle,{onResizeReset:a,onResizeEnd:c,minWidth:265,maxWidth:Math.max(256,window.innerWidth*.5)})}k.displayName=k.name+" [from "+f.id+"]";function a(){var a=c("WAWebEnvironment").isWindows,b=d("useWAWebABPropConfigValue").useABPropConfigValue("adjustable_chatlist_panel")&&a;a=j(function(){var a=c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem("chatlist_custom_width");return a==null||!b?null:a});var e=a[0],f=a[1];a=e==null?{}:{flex:"0 0 "+e,width:""+e,maxWidth:""+e};e=e==null?{}:{borderLeft:"1px solid var(--WDS-lines-divider)"};var g=function(a){var b=window.innerWidth;a=(a/b*100).toFixed(2)+"%";f(a);c("WAWebLocalStorage")==null||c("WAWebLocalStorage").setItem("chatlist_custom_width",a)},h=function(){f(null),c("WAWebLocalStorage")==null||c("WAWebLocalStorage").removeItem("chatlist_custom_width")};return{leftDrawerStyle:a,rightDrawerStyle:e,resizeHandle:i.jsx(k,{onResizeReset:h,isEnabled:b,onResizeEnd:g})}}g.useAdjustableChatListWidth=a}),98);
__d("WAWebMain.react",["fbt","Promise","WAAbortError","WAGetUserMedia","WALogger","WAPromiseDelays","WAPromiseLoop","WAShiftTimer","WAWebABProps","WAWebActionListener","WAWebActiveAccountInfoContext.react","WAWebAnimatedEmojiAssetLoader","WAWebAnimatedEmojiGatingUtils","WAWebAppContext.react","WAWebAppRatingActiveUsageDays","WAWebAppRatingDialogTrigger","WAWebAppRootInteractionContext.react","WAWebAssetLoader","WAWebAssetLoaderSingleton","WAWebBizSmbTosModal.react","WAWebChatCollection","WAWebChatPreferenceCollection","WAWebChatPreferenceModel","WAWebChatlistHeaderV2.react","WAWebChatlistPanel.react","WAWebChatlistPanelMode","WAWebClassnames","WAWebCmd","WAWebComposeBoxHasUnsavedChangesInEditModal","WAWebConfirmPopup.react","WAWebConnModel","WAWebConversation.react","WAWebDeviceCapabilitiesBootstrap","WAWebDrawerManager","WAWebDrawerManager.react","WAWebEligibilityLogging","WAWebEmojiAssetLoader","WAWebEmojiSetup","WAWebEnvironment","WAWebErrorBoundary.react","WAWebExpandableNavBar.react","WAWebInteractionTracePolicy","WAWebInternDogfoodingModal.react","WAWebKeyboardEventConstants","WAWebKeyboardManager","WAWebKeyboardShortcutsPopup.react","WAWebKeyboardTopLevelHotKeys.react","WAWebLoggerImpl","WAWebMain.scss","WAWebModalManager","WAWebMouseManager","WAWebMsgCollection","WAWebMultiSelectEntryPointConstants","WAWebNavBarTypes","WAWebNoticeModel","WAWebNotificationManager.react","WAWebNux","WAWebOpenNotificationsSetting","WAWebPageLoadLogging","WAWebPipManager.react","WAWebRobotoVariableFontLoadable","WAWebSafariLimited","WAWebSettingsGetters","WAWebSettingsModel","WAWebSocketModel","WAWebStreamModel","WAWebThemeContext","WAWebTosModal.react","WAWebUA","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebURLUtils","WAWebUiRefreshNuxModal.react","WAWebUim","WAWebUimUie.react","WAWebUserNoticeModal.react","WAWebUserPrefsNuxPreferences","WAWebUserPrefsUiRefresh","WAWebWallpaper","WAWebWamAppLaunchReporter","WAWebWamTimeSpentLogger","WAWebuseAdjustableChatListWidth","asyncToGeneratorRuntime","cr:13156","cr:13438","cr:1347","cr:17163","cr:17194","cr:17219","cr:21198","cr:21265","cr:21419","cr:22855","cr:23046","cr:593","cr:8819","gkx","isNonZeroNumber","justknobx","react","stylex","useLazyRef","useWAWebABPropConfigValue","useWAWebChatLockSettings","useWAWebExternalBetaOptIn","useWAWebListener","useWAWebOnUnmount","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g,aa){var h,i,j,k,l,m,n,o,ba,ca,da,p,q,r,s=r||d("react"),t=q||(q=c("react")),u=s.useCallback,ea=s.useContext,v=s.useEffect,w=s.useRef,x=s.useState,fa=(s=b("cr:13156"))==null?void 0:s.WAWebWindowsScalingControl,ga=(s=b("cr:13438"))==null?void 0:s.WAWebWindowsHybridUserPrefsMigrationControl,y=(s=b("cr:8819"))==null?void 0:s.HeroPagelet,z=(s=b("cr:17219"))==null?void 0:s.getWindowsBridge();s=z==null?void 0:z.touchpadFix;s==null||s.init();function ha(){window.history.pushState({},"",window.location.href)}function a(){return d("WAWebComposeBoxHasUnsavedChangesInEditModal").hasUnsavedChangesInEditModal()||d("WAWebChatCollection").ChatCollection.some(function(a){return a.isComposingWithUnsavedChanges()})||d("WAWebMsgCollection").MsgCollection.hasUnsentMessages()||d("WAWebMsgCollection").MsgCollection.some(function(a){return a.pendingDeleteForMe})}var ia=6e4,A={app:{position:"x1n2onr6",top:"x13vifvy",insetInlineStart:"x1o0tod",display:"x78zum5",width:"xh8yej3",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",backgroundColor:"x1acz5yr",backgroundRepeat:"x1w3jsh0",backgroundPosition:"xf8xn22",borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",transformOrigin:"x1g0ag68",animationName:"xcgwb2z",animationDuration:"x4afe7t",animationTimingFunction:"x1alahoq",$$css:!0},appNoAnimation:{animationName:"x10886xy",$$css:!0},pane:{boxSizing:"x9f619",position:"x1n2onr6",zIndex:"xupqr0c",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",transform:"x17dzmu4","@media (display-mode: standalone)_borderTopWidth":"x1i1dayz","@media (display-mode: standalone)_borderTopStyle":"x2ipvbc","@media (display-mode: standalone)_borderTopColor":"x1w8yi2h",$$css:!0},paneWindowsHybrid:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"x10vq5hr",$$css:!0},navbarBorder:{borderInlineStartWidth:"xpilrb4",borderInlineStartStyle:"x1t7ytsu",borderInlineStartColor:"x1m2ixmg",$$css:!0},paneOne:{display:"x78zum5",flexDirection:"xdt5ytf",zIndex:"x12xzxwr",overflowX:"x1plvlek",overflowY:"xryxfnj","@media (display-mode: standalone)_borderStartStartRadius":"x14bqcqg",$$css:!0},paneOneWindowsHybrid:{borderStartStartRadius:"x1obq294",$$css:!0},paneOneDrawer:{overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1oy9qf3",$$css:!0},paneOneDrawerWithNavBar:{marginInlineStart:"xevlxbw",$$css:!0},paneOneDrawerWithNavBarExpanded:{marginInlineStart:"x1co43sl",$$css:!0},paneBorderLeft:{borderInlineStartWidth:"xpilrb4",borderInlineStartStyle:"x1t7ytsu",borderInlineStartColor:"x1m2ixmg",$$css:!0},sidePaneMaxWidth:{flex:"x18dvir5",width:"xxljpkc",maxWidth:"xwfak60",$$css:!0},rightDrawerIn:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",zIndex:"x1oy9qf3",maxWidth:"xwfak60",animationDuration:"x5hsz1j",animationName:"x17dq4o0",animationFillMode:"x10e4vud",$$css:!0},sidePaneWidthWindowsHybrid:{flex:"x1dgx9ea",width:"xnnhin0",maxWidth:"x1dt7z5j",minWidth:"x1ugzxio",$$css:!0},sidePane3WidthWindowsHybrid:{flex:"x18dvir5",maxWidth:"xbgkxdc",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"x1v8p93f","@media screen and (max-width: 1300px)_position":"x1xz51pm","@media screen and (max-width: 1300px)_insetInlineEnd":"xupwc73","@media screen and (max-width: 1300px)_width":"xlyzgzq","@media screen and (max-width: 1300px)_maxWidth":"x1roq002","@media screen and (max-width: 1300px)_height":"x1ma46kl",$$css:!0},sidePane3WidthWindowsHybridWithNavBarExpanded:{"@media screen and (max-width: 1300px)_maxWidth":"xqhed7l",$$css:!0}};function e(a){var e=a.animate,f=ea(d("WAWebThemeContext").ThemeContext),g=d("useWAWebABPropConfigValue").useABPropConfigValue("web_ui_refresh_m1")===!0||d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),q=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_roboto_flex_font")===!0&&c("WAWebEnvironment").isWindows===!1,r=(b("cr:23046")==null?void 0:b("cr:23046").isWindowsHybridEnabled())===!0;a=x(!1);var s=a[0],B=a[1],ja=function(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] Opening UI Refresh Nux modal for the user"]))),d("WAWebModalManager").ModalManager.open(t.jsx(c("WAWebUiRefreshNuxModal.react"),{onOkOrDismiss:function(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] Nux acknowledged by the user"]))),d("WAWebUserPrefsUiRefresh").incrementNuxViewCount(),d("WAWebUserPrefsUiRefresh").setUiRefreshNuxAcked(!0)}}))};v(function(){if(b("cr:17163")!=null&&b("cr:17163").shouldShowBrokenHybrid2559Modal()){b("cr:17163")==null||b("cr:17163").showBrokenHybrid2559Modal();return}if(b("cr:17163")!=null&&b("cr:17163").shouldShowHybridNux()){b("cr:17163")==null||b("cr:17163").showHybridNux();return}if(b("cr:17194")!=null&&b("cr:17163")!=null&&b("cr:17163").shouldShowHybridRateTheAppPrompt()){d("WAWebModalManager").ModalManager.open(t.jsx(b("cr:17194"),{}));return}if(d("WAWebUIRefreshGatingUtils").isFirstPairedDeviceWithin5Minutes()){d("WAWebUserPrefsUiRefresh").getNuxViewCount()===0&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] first paired device, incrementing view count once"]))),d("WAWebUserPrefsUiRefresh").incrementNuxViewCount());B(!0);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] first paired device, skipping NUX"])));return}if(d("WAWebUIRefreshGatingUtils").checkIfShouldBeEnabledInWindowsEnv()||!g||!d("WAWebUIRefreshGatingUtils").isUiRefreshNuxEnabledOnPlatform())return;var a=d("WAWebUserPrefsUiRefresh").getUiRefreshNuxAcked();if(a){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] Nux already acknowledged by the user as per local storage, showing new UI"])));B(!0);return}if(!s){a=d("WAWebUserPrefsUiRefresh").getNuxViewCount();if(a===0)d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] Marking the nux as visited on startup & showing nux"]))),d("WAWebUserPrefsUiRefresh").incrementNuxViewCount(),B(!0),ja();else if(a===1)d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] Showing nux to user"]))),B(!0),ja();else if(a>0){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] User should already be seeing new UI"])));return}}},[s]);var C=g&&d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),D=d("WAWebUIRefreshGatingUtils").expandableSideNavEnabled(),ka=w(null),E=w(null),la=w(null),ma=w(null),F=w(null),G=w(null),H=w(!1),I=w(null),na=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){if(document.activeElement!==document.body)return;var a=d("WAWebUim").UIM.Manager.getTop();a==null||a.requestFocus()})});a=x(!1);var J=a[0],K=a[1];a=x(!1);var L=a[0],M=a[1];a=function(){na.current.debounce(10)};var oa=function(a){var b,c,d;b=(b=E.current)==null?void 0:b.clientWidth;if(b==null)return!1;c=(c=ka.current)==null?void 0:c.clientWidth;if(c==null)return!1;if(!F.current)return!1;d=(d=ma.current)==null?void 0:d.clientWidth;return F.current.animatePanel(c,b,d,a)},N=x(!1),O=N[0],pa=N[1];N=d("WAWebuseAdjustableChatListWidth").useAdjustableChatListWidth();var P=N.leftDrawerStyle,Q=N.rightDrawerStyle,qa=N.resizeHandle;N=x(d("WAWebNavBarTypes").NavBarItems.Chats);var R=N[0],ra=N[1],S=u(function(a){R===d("WAWebNavBarTypes").NavBarItems.Communities&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),ra(a)},[R]);N=x(!1);var T=N[0],sa=N[1];N=u(function(){if(!D)return;sa(!T)},[D,T]);var U=function(){S(d("WAWebNavBarTypes").NavBarItems.Chats)},ta=u(function(){return pa(!0)},[]),V=u(function(){return pa(!1)},[]);d("useWAWebListener").useListener(d("WAWebDrawerManager").DrawerManager,"drawer_left_closed",U);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"set_active_nav_bar",function(a){S(a)});U=x(0);var ua=U[0];U=U[1];d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"rerender_app",function(){});U=function(){H.current=!1,d("WAWebCmd").Cmd.onPanesWillChange(3),K(!0),M(!0),d("WAWebCmd").Cmd.onPanesDidChange(3),oa(!0)};var W=function(){H.current=!0;M(!0);var a=oa(!1);a?(d("WAWebCmd").Cmd.onPanesWillChange(2),K(!1),d("WAWebCmd").Cmd.onPanesDidChange(2)):K(!1)},X=function(){M(!1),J&&H.current&&K(!1)},va=function(a){var b=!1;d("WAWebDrawerManager").DrawerManager.existsDrawerLeft(function(c){var d=la.current;b=b||c&&Boolean(d==null?void 0:d.containsDOMNode(a))});d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(c){var d=F.current;b=b||c&&Boolean(d==null?void 0:d.containsDOMNode(a))});return b},wa=function(){switch(d("WAWebConnModel").Conn.tos){case 1:case 2:d("WAWebModalManager").ModalManager.open(t.jsx(c("WAWebTosModal.react"),{}),{blockClose:!0});break;case 3:d("WALogger").LOG(ba||(ba=babelHelpers.taggedTemplateLiteralLoose(["TOS (terms of service) stage number 3, logging out"])));d("WAWebSocketModel").Socket.logout();break;default:break}},xa=function(){d("WAWebConnModel").Conn.smbTos&&d("WAWebModalManager").ModalManager.open(t.jsx(c("WAWebBizSmbTosModal.react"),{}),{blockClose:!0})},ya=function(){d("isNonZeroNumber").isNonZeroNumber(c("WAWebNoticeModel").noticeId)&&c("WAWebNoticeModel").blocking===!0&&d("WAWebModalManager").ModalManager.open(t.jsx(c("WAWebUserNoticeModal.react"),{notice:c("WAWebNoticeModel")}),{blockClose:!0})},za=function(a){var b=a.target,e=function(a){return a instanceof HTMLElement&&a.getAttribute("contentEditable")||a instanceof HTMLInputElement};for(var f=0;f<5;f++){if(e(b))return;b=b.parentNode}c("WAWebKeyboardShortcutsPopup.react")&&d("WAWebModalManager").ModalManager.open(t.jsx(c("WAWebKeyboardShortcutsPopup.react"),{}));a.preventDefault()},Aa=function(a){var c=a?ia:0;G.current=new AbortController();var e=G.current.signal;d("WAPromiseLoop").promiseLoop(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("WAPromiseDelays").delayMs(c);if(e.aborted)throw new(d("WAAbortError").AbortError)();d("WAWebStreamModel").Stream.markUnavailable(30*1e3);yield new(da||(da=b("Promise")))(function(a){I.current=a});if(e.aborted)throw new(d("WAAbortError").AbortError)();document.hasFocus()&&d("WAWebStreamModel").Stream.markAvailable();c=ia}catch(b){if(b.name===d("WAAbortError").ABORT_ERROR)a();else throw b}});return function(b){return a.apply(this,arguments)}}())["finally"](function(){G.current=null})},Ba=function(){var a;(a=G.current)==null||a.abort()};d("WAWebLoggerImpl").Logger.setSkipLoggingForProdLowEndDevice();v(function(){var a=["color-refresh"];d("WAWebConnModel").Conn.isSMB&&a.push("smb-colors");if(C){var b;(b=document.body)==null||(b=b.classList).add.apply(b,a);if(!d("WAWebAssetLoaderSingleton").AssetLoader.isAssetLoaded("bg-chat-beige")){b=d("WAWebThemeContext").THEME_ASSETS.lightRefreshed.find(function(a){a=a.id;return a==="bg-chat-beige"});if(b==null){d("WALogger").DEV(ca||(ca=babelHelpers.taggedTemplateLiteralLoose(["[UI Refresh] bg-chat-beige asset not found in lightRefreshed array"])));return}void d("WAWebAssetLoaderSingleton").AssetLoader.loadAsset(b,d("WAWebAssetLoader").LOAD_PRIORITY.THEME_ASSET_LOAD,!1)}}else{(b=document.body)==null||(b=b.classList).remove.apply(b,a)}d("WAWebThemeContext").resetPwaTitlebarColor()},[C]);v(function(){if(q){var a;void d("WAWebRobotoVariableFontLoadable").requireRobotoVariableFont();(a=document.body)==null||a.classList.add("roboto-font")}else{(a=document.body)==null||a.classList.remove("roboto-font")}},[q]);v(function(){var a;d("WAWebStreamModel").Stream.uiActive=!0;var b=d("WAWebABProps").getABPropConfigValue("web_dau_overreporting_fix");b?document.hasFocus()&&d("WAWebStreamModel").Stream.markAvailable():document.visibilityState!=="hidden"&&d("WAWebStreamModel").Stream.markAvailable();b=d("WAWebConnModel").Conn.platform;c("WAWebEmojiSetup")(d("WAWebEmojiAssetLoader").getEmojiTypeFromPlatform(b));d("WAWebAssetLoaderSingleton").AssetLoader.setPlatform(b);c("WAWebKeyboardManager").menuBatchRenderWith(function(){c("WAWebKeyboardManager").trigger(c("WAWebKeyboardEventConstants").Event+":"+c("WAWebKeyboardEventConstants").Events.LOGGED_IN)});Aa(!0);d("WAWebAnimatedEmojiGatingUtils").isAnimatedEmojiEnabled()&&void d("WAWebAnimatedEmojiAssetLoader").initAnimatedEmojiAssets(b);d("WAWebConnModel").Conn.isSMB&&xa();wa();ya();d("WAWebUA").UA.isSafari&&!d("WAGetUserMedia").getUserMedia&&(d("WAWebUserPrefsNuxPreferences").shouldShowNUX(d("WAWebNux").NUX.SAFARI_LIMITED_SUPPORT)&&(self.setTimeout(function(){d("WAWebModalManager").ModalManager.open(t.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:aa._(/*BTDS*/"OK, got it"),children:t.jsx(d("WAWebSafariLimited").SafariLimitedText,{})}))},250),d("WAWebUserPrefsNuxPreferences").setNUX(d("WAWebNux").NUX.SAFARI_LIMITED_SUPPORT,{views:1})));b=c("WAWebChatPreferenceCollection").get(d("WAWebChatPreferenceModel").DEFAULT_PREFERENCE);if(b&&d("WAWebWallpaper").DEFAULT_CHAT_WALLPAPER!==b.wallpaper){var e=f.theme;if(!d("WAWebWallpaper").colorExistsInTheme(b.wallpaper,e)){e=e==="light"?"dark":"light";if(d("WAWebWallpaper").colorExistsInTheme(b.wallpaper,e)){e=d("WAWebWallpaper").toggleWallpaperColor(b.wallpaper,e);b.set("wallpaper",e)}}}void d("WAWebOpenNotificationsSetting").handleOpenNotificationsSettingDeeplink();z==null||(a=z.appActivationBridge)==null||a.initialize()},[]);v(function(){var a,e;(a=d("WAWebWamAppLaunchReporter").getAppLaunchReporter())==null||a.commitAppLaunchWamEvent();z==null||(e=z.getDebugFeatures())==null||e.startHangsMonitor();d("WAWebPageLoadLogging").endPageLoadQpl(!1);b("cr:21198")==null||b("cr:21198").initPerformanceObserver({longtask:{enabled:c("justknobx")._("4665")},longAnimationFrame:{enabled:c("justknobx")._("5015")}})},[]);v(function(){d("WAWebABProps").getABPropConfigValue("web_rating_and_review_contextual_prompt_enabled")&&!c("gkx")("4112")&&(d("WAWebAppRatingActiveUsageDays").updateActiveUsageDaysSinceDialogOpened(),d("WAWebAppRatingDialogTrigger").checkAndTriggerAppRatingDialog())},[]);c("useWAWebOnUnmount")(function(){na.current.cancel(),c("WAWebKeyboardManager").menuBatchRenderWith(function(){c("WAWebKeyboardManager").trigger(c("WAWebKeyboardEventConstants").Event+":"+c("WAWebKeyboardEventConstants").Events.LOGGED_OUT)}),c("WAWebURLUtils").canMuckHistory()&&window.history.back(),d("WAWebStreamModel").Stream.uiActive=!1,Ba()});var Ca=c("WAWebURLUtils").canMuckHistory();d("useWAWebListener").useListener(Ca?window:null,"popstate",ha);v(function(){Ca&&ha()},[]);d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:tos",wa);d("useWAWebListener").useListener(d("WAWebConnModel").Conn.isSMB?d("WAWebConnModel").Conn:null,"change:smbTos",xa);d("useWAWebListener").useListener(c("WAWebNoticeModel"),["change:blocking","change:noticeId"],ya);d("useWAWebListener").useListener(document,"wheel",d("WAWebMouseManager").mouseWheelListener);var Y=d("useWAWebChatLockSettings").useChatLockSettings(),Z=function(){I.current==null||I.current(),I.current=null};d("useWAWebListener").useListener(document,["mousemove","scroll","keydown"],Z);d("useWAWebListener").useListener(window,["focus","resize"],Z);v(function(){void d("WAWebDeviceCapabilitiesBootstrap").bootstrapDeviceCapabilities()},[]);v(function(){d("WAWebEligibilityLogging").eligibilityLogger.init()},[]);L=d("WAWebClassnames").classnamesConvertMeToStylexPlease((Z={three:J,two:!J,"app-animating":L},Z[c("WAWebMain.scss").app]=!0,Z[c("WAWebMain.scss").skipGlobalPaneStyles]=C,Z),(p||(p=c("stylex")))([A.app,!e&&A.appNoAnimation]));var Da,Ea;b("cr:593")!=null&&r&&(Ea=t.jsx(b("cr:593"),{}));d("useWAWebExternalBetaOptIn").useExternalBetaValidator();Z=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);Z=Z[0];var $=d("WAWebAppRootInteractionContext.react").useInteractionWithAppRootContext(c("WAWebInteractionTracePolicy").NAVIGATION_CHATS_OPEN_CHAT,!1,!0);$=$.startInteraction;var Fa=t.jsx(d("WAWebChatlistPanel.react").ChatlistPanel,{ref:la,showArchiveV2:Z,mode:c("WAWebChatlistPanelMode").Chatlist,selectable:O,endMultiSelect:V,multiSelectEntryPoint:O?d("WAWebMultiSelectEntryPointConstants").MultiSelectEntryPoint.ChatListHeaderDropdown:null,hideLockedChats:Y.hideLockedChats,startChatInteraction:$},O?"inMultiSelectMode":"inNonSelectableMode");Z=t.jsxs("div",{className:"x10l6tqk x13vifvy x1o0tod x78zum5 xh8yej3 x5yr21d x6ikm8r x10wlt62 x47corl",children:[t.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebMain.scss").paneOne,C&&c("WAWebMain.scss").skipGlobalPaneStyles,r&&c("WAWebMain.scss").skipPaneWidthStyles,p([A.paneOneDrawerWithNavBar,D&&T&&A.paneOneDrawerWithNavBarExpanded,A.pane,A.paneOne,C&&A.sidePaneMaxWidth,A.paneOneDrawer,r&&[A.paneWindowsHybrid,A.paneOneWindowsHybrid,A.sidePaneWidthWindowsHybrid],A.navbarBorder])),style:P,"data-testid":void 0,children:y?t.jsx(y,{name:"Left Drawer Manager",observeTextMutation:!0,children:function(a,b){return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:a,children:t.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.LEFT})}),t.jsx(b,{})]})}}):t.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.LEFT})}),t.jsx("div",babelHelpers["extends"]({},{0:{className:"x9f619 x1n2onr6 x5yr21d x6ikm8r x10wlt62 x17dzmu4 x1i1dayz x2ipvbc x1w8yi2h xyyilfv x1iyjqo2 x12xzxwr"},1:{className:"x9f619 x1n2onr6 x5yr21d x6ikm8r x10wlt62 x17dzmu4 x1i1dayz x2ipvbc x1w8yi2h xyyilfv x1iyjqo2 x12xzxwr x178xt8z x13fuv20 x10vq5hr"}}[!!r<<0],{"data-testid":void 0,children:y?t.jsx(y,{name:"Mid Drawer Manager",observeTextMutation:!0,children:function(a,b){return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:a,children:t.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.MID})}),t.jsx(b,{})]})}}):t.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.MID})}))]});V=u(function(a){d("WAWebCmd").Cmd.closeActiveChat(),S(a)},[S]);Y=t.jsx(d("WAWebExpandableNavBar.react").ExpandableNavBar,{headerRef:E,activeNavBarItem:R,updateActiveNavBarItem:V,isNavBarExpanded:T,onToggleNavBarExpansion:N});V=y?t.jsx(y,{name:"Chat List Panel",children:function(a,b){var e;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebMain.scss").paneOne]=!0,e[c("WAWebMain.scss").skipGlobalPaneStyles]=C,e[c("WAWebMain.scss").skipPaneWidthStyles]=r,e),(p||(p=c("stylex")))(A.pane,A.paneOne,C&&A.sidePaneMaxWidth,d("WAWebUISpacing").uiPadding.start1,r&&A.sidePaneWidthWindowsHybrid)),style:P,ref:a,children:[c("WAWebSettingsModel")&&t.jsx(d("WAWebChatlistHeaderV2.react").WAWebChatlistHeaderV2,{headerRef:E,onSelectChatClick:ta,isMultiSelectMode:O,updateActiveNavBarItem:S}),Fa,qa]}),t.jsx(b,{})]})}}):t.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(($={},$[c("WAWebMain.scss").paneOne]=!0,$[c("WAWebMain.scss").skipGlobalPaneStyles]=C,$[c("WAWebMain.scss").skipPaneWidthStyles]=r,$),(p||(p=c("stylex")))(A.pane,A.paneOne,C&&A.sidePaneMaxWidth,d("WAWebUISpacing").uiPadding.start1,r&&A.sidePaneWidthWindowsHybrid)),style:P,children:[c("WAWebSettingsModel")&&t.jsx(d("WAWebChatlistHeaderV2.react").WAWebChatlistHeaderV2,{headerRef:E,onSelectChatClick:ta,isMultiSelectMode:O,updateActiveNavBarItem:S}),Fa,qa]});N=y?t.jsx(y,{name:"Conversation Panel",observeTextMutation:!0,children:function(a,b){return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"x9f619 x1n2onr6 xupqr0c x5yr21d x6ikm8r x10wlt62 x17dzmu4 x1i1dayz x2ipvbc x1w8yi2h xyyilfv x1iyjqo2 xpilrb4 x1t7ytsu x1m2ixmg",ref:a,children:t.jsx(d("WAWebConversation.react").WAWebConversation,{animate:e,ref:F})}),t.jsx(b,{})]})}}):t.jsx("div",{className:"x9f619 x1n2onr6 xupqr0c x5yr21d x6ikm8r x10wlt62 x17dzmu4 x1i1dayz x2ipvbc x1w8yi2h xyyilfv x1iyjqo2 xpilrb4 x1t7ytsu x1m2ixmg",children:t.jsx(d("WAWebConversation.react").WAWebConversation,{animate:e,ref:F})});$=t.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(($={},$[c("WAWebMain.scss").paneThree]=!0,$[c("WAWebMain.scss").skipGlobalPaneStyles]=C,$[c("WAWebMain.scss").skipPaneWidthStyles]=r,$[c("WAWebMain.scss").paneThreeWithNavBarExpanded]=D&&T,$),p([A.pane,A.paneBorderLeft,J&&C&&A.rightDrawerIn,J&&r&&A.sidePane3WidthWindowsHybrid,J&&r&&D&&T&&A.sidePane3WidthWindowsHybridWithNavBarExpanded])),style:Q,ref:ma,"data-testid":void 0,children:t.jsx(d("WAWebDrawerManager.react").DrawerManagerComponent,{direction:d("WAWebDrawerManager.react").Dir.RIGHT,onDrawerIn:U,onDrawerOut:W,onDrawerAnimationComplete:X,animationDisabled:C})});Q=fa?t.jsx(fa,{}):null;U=ga?t.jsx(ga,{}):null;W=b("cr:21265")?t.jsx(b("cr:21265"),{}):null;X=b("cr:21419")?t.jsx(b("cr:21419"),{}):null;var Ga=b("cr:22855")?t.jsx(b("cr:22855"),{}):null;return t.jsx(d("WAWebActiveAccountInfoContext.react").ActiveAccountInfoProvider,{children:t.jsx(d("WAWebAppContext.react").AppContextProvider,{rightDrawerOpen:J,activeNavBarItem:R,children:t.jsxs("div",{className:"x78zum5 xdt5ytf x5yr21d",children:[Ea,t.jsx(d("WAWebUimUie.react").UIE,{uimState:d("WAWebUim").UIMState.INACTIVE,displayName:"Main",children:t.jsxs(c("WAWebKeyboardTopLevelHotKeys.react"),{className:L,onBlur:a,ref:ka,onShowKeyboardShortcuts:za,skipNode:va,children:[t.jsx(c("WAWebNotificationManager.react"),{}),Q,U,t.jsx(c("WAWebActionListener"),{}),t.jsx(d("WAWebPipManager.react").PiPManager,{}),t.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"time-spent-logger",sendLogs:!0,children:t.jsx(c("WAWebWamTimeSpentLogger"),{})}),t.jsx(c("WAWebInternDogfoodingModal.react"),{}),Da,Y,Z,V,N,$,W,X,Ga]})})]})},ua)})}e.displayName=e.name+" [from "+f.id+"]";g.hasPendingActions=a;g.MainComponent=e}),226);
__d("WAWebPrefetchLoadables",["Promise","WALogger","WAWebAddContactToGroupFlowLoadable","WAWebArchivedFlowLoadable","WAWebAttachMediaFlowLoadable","WAWebAttachProductModalLoadable","WAWebAttachVcardsFlowLoadable","WAWebBizCtwaPreviewFlowLoadable","WAWebCaptureMediaDrawerLoadable","WAWebCartFlowLoadable","WAWebCommunityAdminPromotionNotificationFlowLoadable","WAWebCommunityFlowLoadable","WAWebCommunityGatingUtils","WAWebContactMsgInfoFlowLoadable","WAWebContextualBannerWrapperLoadable","WAWebEditCaptureFlowLoadable","WAWebEnvironment","WAWebForwardMessageModalLoadable","WAWebGroupInviteLinkDrawerLoadable","WAWebGroupMsgInfoFlowLoadable","WAWebGroupsV4InviteFlowLoadable","WAWebInfoFlowLoadable","WAWebLabelFlowLoadable","WAWebLottieAnimationLoadable","WAWebManageCommunityGroupsFlowLoadable","WAWebManageLabelFlowLoadable","WAWebMediaViewerFlowLoadable","WAWebNewChatFlowLoadable","WAWebNewGroupFlowLoadable","WAWebPhotoPickerLoadable.react","WAWebProductDetailsFlowLoadable","WAWebProfileDrawerLoadable","WAWebSendGroupInviteFlowLoadable","WAWebSendLogsPopupLoadable","WAWebSendMsgMultiModalLoadable","WAWebSendPaymentRequestFlowLoadable","WAWebSendProductModalLoadable","WAWebSettingsFlowLoadable","WAWebStarredDrawerLoadable","WAWebStatusFlowLoadable","WAWebStatusQuotedFlowLoadable","WAWebVoipBackendLoadable","WAWebVoipCallButtonsLoadable","WAWebVoipGatingUtils","WAWebVoipStackInterface","WAWebVoipUiLoadable","asyncToGeneratorRuntime","cr:6003","cr:6004","gkx"],(function(a,b,c,d,e,f,g){var h,i;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=[d("WAWebMediaViewerFlowLoadable").requireBundle(),d("WAWebInfoFlowLoadable").requireBundle()];yield (i||(i=b("Promise"))).all(a);a=[d("WAWebProfileDrawerLoadable").requireBundle(),d("WAWebPhotoPickerLoadable.react").requireBundle(),d("WAWebStarredDrawerLoadable").requireBundle(),d("WAWebAttachMediaFlowLoadable").requireBundle(),d("WAWebCaptureMediaDrawerLoadable").requireBundle(),d("WAWebEditCaptureFlowLoadable").requireBundle(),d("WAWebGroupMsgInfoFlowLoadable").requireBundle(),d("WAWebNewChatFlowLoadable").requireBundle(),d("WAWebNewGroupFlowLoadable").requireBundle(),d("WAWebSendProductModalLoadable").requireBundle(),d("WAWebAttachProductModalLoadable").requireBundle(),d("WAWebSendGroupInviteFlowLoadable").requireBundle(),d("WAWebSendMsgMultiModalLoadable").requireBundle(),d("WAWebForwardMessageModalLoadable").requireBundle(),d("WAWebAttachVcardsFlowLoadable").requireBundle(),d("WAWebProductDetailsFlowLoadable").requireBundle(),d("WAWebCartFlowLoadable").requireBundle(),d("WAWebLabelFlowLoadable").requireBundle(),d("WAWebManageLabelFlowLoadable").requireBundle(),d("WAWebAddContactToGroupFlowLoadable").requireBundle(),d("WAWebSendPaymentRequestFlowLoadable").requireBundle(),d("WAWebSettingsFlowLoadable").requireBundle(),d("WAWebGroupInviteLinkDrawerLoadable").requireBundle(),d("WAWebStatusFlowLoadable").requireBundle(),d("WAWebStatusQuotedFlowLoadable").requireBundle(),d("WAWebContactMsgInfoFlowLoadable").requireBundle(),d("WAWebSendLogsPopupLoadable").requireBundle(),d("WAWebGroupsV4InviteFlowLoadable").requireBundle(),d("WAWebArchivedFlowLoadable").requireBundle(),d("WAWebLottieAnimationLoadable").requireBundle(),d("WAWebContextualBannerWrapperLoadable").requireBundle(),d("WAWebBizCtwaPreviewFlowLoadable").requireBundle()].concat(c("WAWebEnvironment").isWindows?[d("WAWebVoipCallButtonsLoadable").requireBundle(),d("WAWebVoipBackendLoadable").requireVoipJsBackend()]:[],c("WAWebEnvironment").isWeb&&d("WAWebVoipGatingUtils").isCallingEnabled()?[d("WAWebVoipCallButtonsLoadable").requireBundle(),d("WAWebVoipBackendLoadable").requireVoipJsBackend(),d("WAWebVoipUiLoadable").requireBundle(),d("WAWebVoipStackInterface").getVoipStackInterface()]:[]);c("gkx")("26258")||a.push(b("cr:6004")==null?void 0:b("cr:6004").requireBundle(),b("cr:6003")==null?void 0:b("cr:6003").requireBundle());a.push(d("WAWebManageCommunityGroupsFlowLoadable").requireBundle(),d("WAWebCommunityFlowLoadable").requireBundle());d("WAWebCommunityGatingUtils").communityAdminPromotionOneTimePromptEnabled()&&a.push(d("WAWebCommunityAdminPromotionNotificationFlowLoadable").requireBundle());yield i.all(a)}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error prefetching loadables: ",""])),a.stack)}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebWebcLoginWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcLogin:[1664,{webcBrowserNetworkType:[14,a.TYPES.STRING],webcBrowserStorageQuotaBytes:[15,a.TYPES.INTEGER],webcBrowserStorageQuotaUsedBytes:[16,a.TYPES.INTEGER],webcLoginT:[3,a.TYPES.TIMER],webcPersistentLoginEnabled:[17,a.TYPES.BOOLEAN],webcQrCodes:[1,a.TYPES.INTEGER],webcQrLoadT:[2,a.TYPES.TIMER],webcSyncChatCount:[8,a.TYPES.INTEGER],webcSyncChatSize:[10,a.TYPES.INTEGER],webcSyncChatT:[9,a.TYPES.TIMER],webcSyncContactCount:[11,a.TYPES.INTEGER],webcSyncContactSize:[13,a.TYPES.INTEGER],webcSyncContactT:[12,a.TYPES.TIMER],webcSyncMessageCount:[5,a.TYPES.INTEGER],webcSyncMessageSize:[7,a.TYPES.INTEGER],webcSyncMessageT:[6,a.TYPES.TIMER],webcSyncT:[4,a.TYPES.TIMER]},[1,1,1],"regular"]},{WebcLogin:[]});g.WebcLoginWamEvent=b}),98);
__d("WAWebWamLoginReporter",["WALogger","WAStorageEstimator","WAWebChatCollection","WAWebCmd","WAWebCollectionConstants","WAWebContactCollection","WAWebEventEmitter","WAWebMsgCollection","WAWebNetworkType","WAWebStreamModel","WAWebWamQrCodeCount","WAWebWebcLoginWamEvent"],(function(a,b,c,d,e,f,g){var h,i;function j(){return Math.floor(window.performance.now())}var k=function(a){function b(){var b,c;c=a.call(this)||this;c.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0};c.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0};if(!((b=window.performance)!=null&&b.now))return babelHelpers.assertThisInitialized(c);c.init();return c}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.init=function(){this.timings.startSync=d("WAWebStreamModel").Stream.lastSyncStart,this.listenTo(d("WAWebStreamModel").Stream,"change:mode",this.changeStreamMode),this.listenTo(d("WAWebChatCollection").ChatCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,this._handleChatSync),this.listenTo(d("WAWebContactCollection").ContactCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,this._handleContactSync),this.listenTo(d("WAWebMsgCollection").MsgCollection,d("WAWebCollectionConstants").COLLECTION_HAS_SYNCED,this._handleMsgSync),this.listenTo(d("WAWebMsgCollection").MsgCollection,"handle:msg_history",this._handleMsgHistory)};e.changeStreamMode=function(){d("WAWebStreamModel").Stream.mode===d("WAWebStreamModel").StreamMode.SYNCING&&(this.timings.startSync=j(),this.data.webcPersistentLoginEnabled=!0),d("WAWebStreamModel").Stream.mode===d("WAWebStreamModel").StreamMode.MAIN&&(this.timings.endSync=j(),this.maybeLogToWam())};e._handleChatSync=function(a){a.timing!=null?this.data.webcSyncChatT=a.timing:this.timings.chatSync=j(),this.data.webcSyncChatCount=a.count,this.data.webcSyncChatSize=10,this.maybeLogToWam()};e._handleMsgSync=function(a){a&&(this.timings.msgSync=j(),this.data.webcSyncMessageCount+=a.count),this.maybeLogToWam()};e._handleContactSync=function(a){a.timing!=null?this.data.webcSyncContactT=a.timing:this.timings.contactSync=j(),this.data.webcSyncContactCount=a.count,this.maybeLogToWam()};e._handleMsgHistory=function(a){this.data.webcSyncMessageSize+=a.binarySize,this.data.webcSyncMessageCount+=a.count,this.timings.msgSync!=null&&(this.timings.msgSync=j())};e.maybeLogToWam=function(){var a=this,b=this.timings,c=b.contactSync,e=b.msgSync;b=b.chatSync;b=b!=null&&Number.isFinite(b||this.data.webcSyncChatT);c=c!=null&&Number.isFinite(c||this.data.webcSyncContactT);e=Number.isFinite(e);if(!b||!c||!e)return;else if(this._commitPromise)return;this._commitPromise=d("WAStorageEstimator").estimateStorage().then(function(b){b.success?a._commitEvent(b.value):d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[wam] Error committing login event"]))).devConsole(b.error,a.data)}).then(function(){return a.reset()})};e._commitEvent=function(a){var b=this.timings,e=b.startSync,f=b.endSync,g=b.contactSync,h=b.msgSync;b=b.chatSync;var j=c("WAWebWamQrCodeCount").initialDisplayDate;if(j!=null&&j!==0&&e!=null&&f!=null&&h!=null&&b!=null&&g!=null&&Number.isFinite(j)&&Number.isFinite(e)&&Number.isFinite(f)){this.data.webcQrLoadT=j;this.data.webcQrCodes=c("WAWebWamQrCodeCount").get();this.data.webcLoginT=e-j;this.data.webcSyncT=f-e;this.data.webcSyncMessageT=h-e;this.data.webcSyncChatT||(this.data.webcSyncChatT=b-e);this.data.webcSyncContactT||(this.data.webcSyncContactT=g-e);this.data.webcBrowserNetworkType=d("WAWebNetworkType").getEffectiveNetworkType();a&&(this.data.webcBrowserStorageQuotaBytes=a.quota,this.data.webcBrowserStorageQuotaUsedBytes=a.usage);j=new(d("WAWebWebcLoginWamEvent").WebcLoginWamEvent)(this.data);j.commit()}else d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["One or more of the login timings was not logged: "]))).devConsole(this.timings)};e.reset=function(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this._commitPromise=void 0,this.listenToOnce(d("WAWebCmd").Cmd,"logout",this.init)};return b}(c("WAWebEventEmitter"));a=function(){return new k()};g.initialize=a}),98);
__d("WAWebMainWrapper",["FBLogger","WALogger","WAWebEmojiAssetLoader","WAWebEmojiSetup","WAWebExecApiCmd","WAWebFeatureDetectionSwSupport","WAWebMain.react","WAWebNoop","WAWebNotificationBackend","WAWebPrefetchLoadables","WAWebProfilePicThumbCollection","WAWebSWBus","WAWebSWBusActions","WAWebUserPrefsGeneral","WAWebWamLoginReporter","cr:13598","cr:2015","cr:8752","cr:8753","getErrorSafe","gkx","justknobx"],(function(a,b,c,d,e,f,g){var h;function a(a){if(!c("gkx")("26258")){window.Store=b("cr:8753");try{window.Debug=Object.assign(b("cr:8752"),window.Debug),b("cr:8752")==null||b("cr:8752").initialize()}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to initialize WAWebDebug"]))).devConsole(a)}b("cr:2015")==null||b("cr:2015").init()}d("WAWebWamLoginReporter").initialize();c("WAWebFeatureDetectionSwSupport").supported&&d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.on("change:tag",function(a){var b=navigator.serviceWorker;b!=null&&b.controller&&!a.tag&&c("WAWebSWBus").request(b.controller,c("WAWebSWBusActions").REMOVE_PP,a.id)["catch"](c("WAWebNoop"))});d("WAWebUserPrefsGeneral").initDailyStatsStartTime();c("WAWebEmojiSetup")(d("WAWebEmojiAssetLoader").getEmojiTypeFromPlatform(a));void c("WAWebPrefetchLoadables")();i();a=b("WAWebMain.react");return{MainComponent:a.MainComponent,hasPendingActions:a.hasPendingActions,notificationBackend:b("WAWebNotificationBackend"),execApiCmd:c("WAWebExecApiCmd")}}function i(){if(b("cr:13598")==null||!c("justknobx")._("4085"))return;var a=c("justknobx")._("3988");window.setTimeout(function(){try{void (b("cr:13598")==null?void 0:b("cr:13598").init("wa.idle"))}catch(a){c("FBLogger")("JSSelfProfiler").catching(c("getErrorSafe")(a)).warn("failed to initialize JSSP idle trace runner")}},a)}g["default"]=a}),98);
__d("WAWebMemberLabelBridgeApi",["WALogger","WAWebMemberLabelCollection","WAWebMemberLabelKey"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c,d){return{type:a,data:{chatId:b,member:c,memberLabel:d}}}b={updateMemberLabelCollection:function(a){a=a.updates;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[updateMemberLabelsModel] processing "," updates"])),a.length);var b=[],e=[];a.forEach(function(a){var f=a.type;a=a.data;var g=a.chatId,h=a.member;a=a.memberLabel;g=new(c("WAWebMemberLabelKey"))({chatId:g,member:h});switch(f){case"UPSERT":if(a==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[updateMemberLabelsModel] memberLabel is null for upsert operation"])));return}b.push({id:g,label:a.label,lastEditTimestamp:a.lastEditTimestamp});break;case"DELETE":e.push(g);break}});b.length>0&&c("WAWebMemberLabelCollection").add(b,{merge:!0});e.length>0&&c("WAWebMemberLabelCollection").remove(e)}};g.createUpdate=a;g.MemberLabelBridgeApi=b}),98);
__d("WAWebMemoryInfoBridgeApi",["WAWebChatCollection","WAWebContactCollection","WAWebMsgCollection"],(function(a,b,c,d,e,f,g){a={getCollectionSizes:function(){return{chat:d("WAWebChatCollection").ChatCollection.length,contact:d("WAWebContactCollection").ContactCollection.length,message:d("WAWebMsgCollection").MsgCollection.length}}};g.MemoryInfoBridgeApi=a}),98);
__d("WAWebUpdateEditedMessagesAction",["WALogger","WATimeUtils","WAWebBotFrontendUtils","WAWebBotGating","WAWebBotTypes","WAWebChatMessageSearch","WAWebDBProcessEditProtocolMsgs","WAWebFrontendMsgGetters","WAWebGroupUnreadMessageType","WAWebMessageEditGatingUtils","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgType","WAWebMuteGetters","WAWebNotificationController","WAWebNotificationsMsgNotification","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){var h;function a(a){for(var b of a){var c=b.parentMsg,e=b.editedMsgData,f=b.protocolMsg,g=b.mentionOfMe;c=d("WAWebMsgCollection").MsgCollection.get(c.id);if(!c)return;var k=e.mediaKey!==c.mediaKey;k&&(c.thumbnailHQ="");(d("WAWebBotGating").shouldAnimateAsBotStream(c)||c.botEditType!=null)&&(e.lastBotEditBodyLength=d("WAWebBotFrontendUtils").getBotMsgBodyLength(c));k=new(d("WAWebNotificationsMsgNotification").WAMsgNotification)({msg:c}).buildKey();c.set(e);d("WAWebChatMessageSearch").clearFtsCache(d("WAWebFrontendMsgGetters").getChat(c));i(c,k,g);d("WAWebMsgGetters").getIsSentByMe(f)||(d("WAWebFrontendMsgGetters").getChat(c).unreadEditTimestampMs=d("WATimeUtils").unixTimeMs());g&&j(c,g);c.clearRawLinks();c.clearRawPhoneNumbers();e=d("WAWebMsgCollection").MsgCollection.get(f.id);e&&e.type===d("WAWebMsgType").MSG_TYPE.CIPHERTEXT&&e["delete"]();d("WAWebMsgInfoCollection").MsgInfoCollection.remove(c.id);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[message-edit] updated Msg model"]))).devConsole({msg:c})}d("WAWebMsgCollection").MsgCollection.processEditedMessages(a.map(function(a){a=a.parentMsg;return d("WAWebMsgCollection").MsgCollection.get(a.id)}))}function i(a,b,c){b=d("WAWebNotificationController").WANotificationController.getNotification(b);var e=new(d("WAWebNotificationsMsgNotification").WAMsgNotification)({msg:a});if(b&&d("WAWebMsgGetters").getIsMetaBotResponse(a)){a.botEditType===d("WAWebBotTypes").BotMsgEditType.LAST&&void d("WAWebNotificationController").WANotificationController.triggerNotification(e);return}b&&d("WAWebNotificationController").WANotificationController.triggerNotification(e);var f=d("WAWebFrontendMsgGetters").getChat(a);if(d("WAWebMuteGetters").getIsMuted(f.mute)&&c)switch(c){case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Added:f.isUnreadMsg(a)&&d("WAWebNotificationController").WANotificationController.triggerNotification(e);break;case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Removed:b==null||b.closeBanner();break}}function j(a,b){if(!d("WAWebMessageEditGatingUtils").receiveCaptionEditEnabled())return;var e=d("WAWebFrontendMsgGetters").getChat(a);switch(b){case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Added:if(e.isUnreadMsg(a)){var f;b=new(c("WAWebUnreadMentionModel"))({id:a.id,timestamp:a.latestEditSenderTimestampMs});(f=e.groupMetadata)==null||f.unreadMentionMetadata.addUnreadMentions([b],d("WAWebGroupUnreadMessageType").UnreadMessageType.NEW_MESSAGE)}break;case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Removed:(f=e.groupMetadata)==null||f.unreadMentionMetadata.removeUnreadMentions(a.id.toString());break}}g.updateEditedMessagesAction=a}),98);
__d("WAWebUpdateMsgAcksAction",["Promise","WALogger","WAWebAckMsgAction","WAWebHandleMsgReceiptCommon","WAWebMsgCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=[];a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a));b&&f.push(d("WAWebAckMsgAction").updateMsgAck(a,b,{from:b.from,to:b.to,ack:c,t:e}))});return function(b){return a.apply(this,arguments)}}());yield (i||(i=b("Promise"))).all(f)});return j.apply(this,arguments)}function c(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=[],g=[];a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a));b?g.push(d("WAWebAckMsgAction").updateMsgAck(a,b,{from:b.from,to:b.to,ack:c,t:e})):(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["updateMsgPeerAcks: no message found for incoming ack, with msgKey: ",""])),a),a.fromMe||f.push(a))});return function(b){return a.apply(this,arguments)}}());f.length>0&&d("WAWebHandleMsgReceiptCommon").updateOrphanPeerReceipt(f,c,e);yield (i||(i=b("Promise"))).all(g)});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;return(b=d("WAWebMsgCollection").MsgCollection.get(a))!=null?b:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(a)});return m.apply(this,arguments)}g.updateMsgOtherAcks=a;g.updateMsgPeerAcks=c}),98);
__d("WAWebUpdateReactionMessageUIAction",["Promise","WALogger","WAWebDBGetReactions","WAWebReactionDataUtils","WAWebReactionsCollection","WAWebReactionsMsgAction","WAWebReactionsUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebReactionsUtils").createReactionsRow(a));if(c==null)return;b=!b;a="reaction "+String(a.id)+" received to: "+String(a.reactionParentKey);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["processReactionMsg: ",""])),a).tags("messaging");a=(yield d("WAWebDBGetReactions").existsReactionAddressingModeInsensitive({parentMsgKey:c.parentMsgKey,senderUserJid:c.senderUserJid}));if(a&&a.msgKey===c.msgKey){c=a;yield d("WAWebReactionsMsgAction").addOrUpdateReactionsModelCollection(c,{allowNotify:b})}});return j.apply(this,arguments)}function k(a){a=new Set(a);for(var b of d("WAWebReactionsCollection").ReactionsCollection.toArray())for(var c of b.reactions.toArray())for(var e of a){var f=c.senders.get(e);if(f!=null){c.senders.remove(e);a["delete"](e);if(a.size===0)return}}}function c(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (i||(i=b("Promise"))).all(a.map(function(a){return d("WAWebReactionsMsgAction").addOrUpdateReactionsModelCollection(d("WAWebReactionDataUtils").reactionMsgDataToReactionRow(a),e)})),c.length>0&&k(c)});return l.apply(this,arguments)}g.updateReactionUI=a;g.updateReactionCollection=c}),98);
__d("WAWebUpdateReplyApi",["WAWebMsgCollection","WAWebMsgKey","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(a of a.entries()){var b=a[0],e=a[1];b=d("WAWebMsgCollection").MsgCollection.get(c("WAWebMsgKey").fromString(b));b!=null&&(b.replyCount=b.replyCount!=null?b.replyCount+e:e)}});return h.apply(this,arguments)}g.updateReplyCount=a}),98);
__d("WAWebMsgBridgeApi",["WAWebAckMsgAction","WAWebBizAgentAction","WAWebEphemeralSyncResponse","WAWebExternalBetaEvents","WAWebGalaxyDisableCTACollection","WAWebHandleDeferredMessages","WAWebHistorySyncOnDemandAction","WAWebKeepInChatMsgAction","WAWebLinkDeviceAction","WAWebMsgCollection","WAWebUpdateEditedMessagesAction","WAWebUpdateMessageUIAction","WAWebUpdateMsgAcksAction","WAWebUpdateReactionMessageUIAction","WAWebUpdateReplyApi"],(function(a,b,c,d,e,f,g){a={processMultipleMessages:function(a){var b=a.chatId,c=a.msgObjs,e=a.meta,f=a.processMessagesOrigin,g=a.chatMsgsCollection;a=a.preserveOrder;return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(b,c,e,f,g,a)},addInitialBotTypingIndicatorToChat:function(a){var b=a.chatId;a=a.msgKey;return d("WAWebMsgCollection").MsgCollection.addInitialBotTypingIndicatorToChat(b,a)},msgCollectionTrigger:function(a){a=a.name;d("WAWebMsgCollection").MsgCollection.trigger(a)},processKeepInChatMessages:function(a){var b=a.keepInChatMessages;a=a.allowNotification;return d("WAWebKeepInChatMsgAction").processKeepInChatMessages(b,a)},updateUnattributedMessages:function(a){var b=a.messageInfo;a=a.messages;return d("WAWebBizAgentAction").updateUnattributedMessages(b,a)},processKeepInChatMessage:function(a){var b=a.keepInChatMessage;a=a.allowNotification;return d("WAWebKeepInChatMsgAction").processKeepInChatMessage(b,{allowNotification:a})},updateEditedMessagesAction:function(a){a=a.messageEdits;d("WAWebUpdateEditedMessagesAction").updateEditedMessagesAction(a)},updateMessageUI:function(a){var b=a.chatId,c=a.msg,e=a.messageOverwriteOption,f=a.preserveOrder;a=a.isOffline;return d("WAWebUpdateMessageUIAction").updateUI(b,c,e,f,a)},updateMsgModelAcks:function(a){a=a.updates;a.forEach(function(a){var b=d("WAWebMsgCollection").MsgCollection.get(a.id);if(b==null)return;b.ack=a.ack})},updateReactionUI:function(a){var b=a.msg;a=a.reparsing;return d("WAWebUpdateReactionMessageUIAction").updateReactionUI(b,a)},updateReactionCollection:function(a){var b=a.msgs,c=a.removeReactions;a=a.allowNotifications;return d("WAWebUpdateReactionMessageUIAction").updateReactionCollection(b,c,{allowNotify:a})},processOrphanReadReceipts:function(a){a=a.msgIds;return d("WAWebAckMsgAction").processOrphanReadReceipts(a)},updateMsgPeerAcks:function(a){var b=a.msgKeys,c=a.ack;a=a.t;return d("WAWebUpdateMsgAcksAction").updateMsgPeerAcks(b,c,a)},updateMsgOtherAcks:function(a){var b=a.msgKeys,c=a.ack;a=a.t;return d("WAWebUpdateMsgAcksAction").updateMsgOtherAcks(b,c,a)},handleDeferredMessages:function(){return c("WAWebHandleDeferredMessages")()},processEphemeralSyncResponse:function(a){a=a.msg;return d("WAWebEphemeralSyncResponse").processEphemeralSyncResponse(a)},refreshAltLinkingCode:function(a){a=a.ref;return d("WAWebLinkDeviceAction").refreshAltLinkingCode(a)},forceManualRefresh:function(a){a=a.ref;return d("WAWebLinkDeviceAction").forceManualRefresh(a)},errorAltLinking:function(){return d("WAWebLinkDeviceAction").errorAltLinking()},primaryHelloReceivedAltLinking:function(){return d("WAWebLinkDeviceAction").primaryHelloReceivedAltLinking()},changeOptInStatusForExternalWebBeta:function(){d("WAWebExternalBetaEvents").WAWebExternalBetaEvents.triggerBetaOptInStatusChanges()},successHistorySyncOd:function(a){a=a.chatId;return d("WAWebHistorySyncOnDemandAction").successHistorySyncOd(a)},errorHistorySyncOd:function(a){a=a.chatId;return d("WAWebHistorySyncOnDemandAction").errorHistorySyncOd(a)},hasMsgsInCollection:function(a){a=a.msgKeys;return a.map(function(a){return Boolean(d("WAWebMsgCollection").MsgCollection.get(a))})},deleteAssociatedBotCarouselMsgs:function(a){a=a.msgKeys;a.forEach(function(a){a=d("WAWebMsgCollection").MsgCollection.get(a);if(!a)return;a["delete"]();d("WAWebMsgCollection").MsgCollection.remove(a)})},removePlaceholder:function(a){a=a.msg;return d("WAWebUpdateMessageUIAction").removePlaceholder(a)},updateReplyCount:function(a){a=a.replyCountMap;return d("WAWebUpdateReplyApi").updateReplyCount(a)},updateMsgModelHostedBizEncStateMismatchFlagToTrue:function(a){a=a.msgId;a=d("WAWebMsgCollection").MsgCollection.get(a);if(a==null)return;a.hostedBizEncStateMismatch=!0},updateViewModeForMsgs:function(a){a=a.msgIdsViewModeMap;a.forEach(function(a,b){b=d("WAWebMsgCollection").MsgCollection.get(b);if(b==null)return;b.set({viewMode:a})})},detachAssociatedMsgsForever:function(a){a=a.msgIds;a.forEach(function(a){a=d("WAWebMsgCollection").MsgCollection.get(a);if(a==null)return;a.detachAssociatedMsg()})},addGalaxyDisableCTAMessageId:function(a){a=a.messageId;d("WAWebGalaxyDisableCTACollection").GalaxyDisableCTACollection.addMessageId(a)}};g.MsgBridgeApi=a}),98);
__d("WAWebMsgInfoBridgeApi",["WAWebMsgCollection","WAWebMsgInfoAction","WAWebMsgInfoCollection"],(function(a,b,c,d,e,f,g){a={updateMsgInfo:function(a){a=a.updates;for(a of a){var b,c=a.msgKey,e=a.ack,f=a.participant,g=a.ts;b=(b=d("WAWebMsgCollection").MsgCollection.get(c))!=null?b:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(c);if(b==null)continue;c=d("WAWebMsgInfoCollection").MsgInfoCollection.get(b.id);if(c==null)continue;d("WAWebMsgInfoAction").updateMsgInfo(c,e,f,g)}}};g.MsgInfoBridgeApi=a}),98);
__d("WAWebNoteBridgeApi",["WAWebNoteAction"],(function(a,b,c,d,e,f,g){a={updateNoteJidAction:function(a){var b=a.oldJid;a=a.newJid;void d("WAWebNoteAction").updateNoteJidAction(b,a)}};g.NoteBridgeApi=a}),98);
__d("WAWebNuxBridgeApi",["WAWebNuxAction"],(function(a,b,c,d,e,f,g){a={resetNux:function(a){a=a.key;return d("WAWebNuxAction").resetNux(a)}};g.NuxBridgeApi=a}),98);
__d("WAWebODSObserver",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("BaseEventEmitter"))();b=a;g["default"]=b}),98);
__d("WAWebODSImpl",["ODS","WAWebODSObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i="whatsapp_web";a={addListener:function(a){c("WAWebODSObserver").addListener("event",a)},incr:function(a,b){b===void 0&&(b=1),(h||(h=d("ODS"))).bumpEntityKey(2363,i,a,b),c("WAWebODSObserver").emit("event",{count:b,key:a})}};b=a;g["default"]=b}),98);
__d("WAWebPaymentInfo",["WAWebEventEmitter","WAWebUserPrefsPaymentInfo"],(function(a,b,c,d,e,f,g){var h="cpi_info_change";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.setCPIInfo=function(a){var b=d("WAWebUserPrefsPaymentInfo").getCPIInfo();b!==a&&(d("WAWebUserPrefsPaymentInfo").setCPIInfo(a),this.trigger(h))};return b}(c("WAWebEventEmitter"));b=new a();g.CPI_INFO_CHANGE_EVENT=h;g.PaymentInfo=b}),98);
__d("WAWebPaymentInfoSyncBridgeApi",["WAWebPaymentInfo"],(function(a,b,c,d,e,f,g){a={setCPIInfo:function(a){a=a.cpiInfo;d("WAWebPaymentInfo").PaymentInfo.setCPIInfo(a)}};g.PaymentInfoSyncBridgeApi=a}),98);
__d("WAWebPerformanceObserver",["WAWebLongAnimationFrameObserver","WAWebLongTaskObserver","WAWebNoop"],(function(a,b,c,d,e,f,g){function a(a){var b=a.longtask;a=a.longAnimationFrame;var e=[],f=null,g=null;b.enabled&&(f=new(d("WAWebLongTaskObserver").WAWebLongTaskObserver)(),f.isSupported()&&e.push("longtask"));a.enabled&&(g=new(d("WAWebLongAnimationFrameObserver").WAWebLongAnimationFrameObserver)(),g.isSupported()&&e.push("long-animation-frame"));if(e.length===0)return c("WAWebNoop");var h=new window.PerformanceObserver(function(a){f&&e.includes("longtask")&&f.handle(a.getEntriesByType("longtask"));if(g&&e.includes("long-animation-frame")){a=a.getEntriesByType("long-animation-frame");g.handle(a)}});h.observe({entryTypes:e});f&&f.documentVisibilityObserver.observe();return function(){h.disconnect()}}g.initPerformanceObserver=a}),98);
__d("WAWebPrimaryFeaturesBridgeApi",["WAWebPrimaryFeaturesModel"],(function(a,b,c,d,e,f,g){a={setPrimaryFeatures:function(a){a=a.primaryFeatures;d("WAWebPrimaryFeaturesModel").PrimaryFeatures.setPrimaryFeatures(a)}};g.PrimaryFeaturesBridgeApi=a}),98);
__d("WAWebPrivacyBridgeApi",["WAWebUserDisclosureCollection","WAWebUserDisclosureModel"],(function(a,b,c,d,e,f,g){a={updateUserDisclosures:function(a){a=a.userDisclosures;var b=[];a.map(function(a){a=new(c("WAWebUserDisclosureModel"))({id:a.id,accepted:a.accepted,lastUpdated:new Date()});b.push(a)});void d("WAWebUserDisclosureCollection").UserDisclosureCollection.add(b,{merge:!0})}};g.PrivacyBridgeApi=a}),98);
__d("WAWebProfilePicThumbBridgeApi",["WAWebProfilePicThumbCollection"],(function(a,b,c,d,e,f,g){a={removeProfilePicThumb:function(a){a=a.wid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.gadd(a);a.set({tag:void 0,eurl:void 0,previewEurl:void 0,previewDirectPath:void 0,fullDirectPath:void 0,filehash:void 0})},markProfilePicStale:function(a){a=a.profilePicThumbWid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a);if(!a)return;a.markStale()}};g.ProfilePicThumbBridgeApi=a}),98);
__d("WAWebReachoutTimelockUnrestrictedModalLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebReachoutTimelockUnrestrictedModal.react").__setRef("WAWebReachoutTimelockUnrestrictedModalLoadable").load());return a.ReachoutTimelockUnrestrictedModal}),"ReachoutTimelockUnrestrictedModal");d=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingModal.react"),{error:Boolean(a.error)})}});g.ReachoutTimelockUnrestrictedModalLoadable=d}),98);
__d("WAWebReachoutTimelockBridgeApi",["WAWebCmd","WAWebContactCollection","WAWebModalManager","WAWebReachoutTimelockUnrestrictedModalLoadable","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a={reachoutTimelockEnforcementLifted:function(a){a=a.shouldPresentRestrictionsLiftedModal;a&&d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebReachoutTimelockUnrestrictedModalLoadable").ReachoutTimelockUnrestrictedModalLoadable,{}));d("WAWebCmd").Cmd.reachoutTimelockStateChange();d("WAWebContactCollection").ContactCollection.forEach(function(a){a.set("canSendMsgWhileTimelocked",!0)})},reachoutTimelockEnforcementSet:function(){d("WAWebCmd").Cmd.reachoutTimelockStateChange()}};g.ReachoutTimelockBridgeApi=a}),98);
__d("WAWebReactionsFrontendUtils",["WAWebReactionsCollection"],(function(a,b,c,d,e,f,g){function a(a){return a.map(function(a){return Boolean(d("WAWebReactionsCollection").ReactionsCollection.getSenderByMsgKey(a))})}g.hasReactionsInCollection=a}),98);
__d("WAWebUpdateOrphanReactionsMsgAction",["WALogger","WAWebReactionsCollection"],(function(a,b,c,d,e,f,g){var h;function a(a){a.forEach(function(a){var b=d("WAWebReactionsCollection").ReactionsCollection.get(a.parentMsgKey);b?d("WAWebReactionsCollection").ReactionsCollection.addOrUpdateReaction(a):d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["actions:checkUpdateForOrphanReactions Reaction Model does not exist for this parentMsg"])))})}g.checkUpdateForOrphanReactions=a}),98);
__d("WAWebReactionsBridgeApi",["WAWebReactionsFrontendUtils","WAWebUpdateLastAddOnPreviewChatAction","WAWebUpdateOrphanReactionsMsgAction"],(function(a,b,c,d,e,f,g){a={checkUpdateForOrphanReactions:function(a){a=a.updatedRecords;d("WAWebUpdateOrphanReactionsMsgAction").checkUpdateForOrphanReactions(a)},deleteModelsForLastAddOnPreview:function(a){a=a.messagesIds;return d("WAWebUpdateLastAddOnPreviewChatAction").deleteModelsForLastAddOnPreview(a)},hasReactionsInCollection:function(a){a=a.msgKeys;return d("WAWebReactionsFrontendUtils").hasReactionsInCollection(a)}};g.ReactionsBridgeApi=a}),98);
__d("WAWebResendGroupMsgMainThreadOnly",["WAWebCreateSendMsgRecord","WAWebGroupMsgSendUtils","WAWebOutgoingMessage","WAWebResendGroupMsg","WAWebSendMsgMetricReporter","WAWebSendMsgTypes","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c,d,e,f,g,i,j){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k){h=h.map(function(a){return d("WAWebWidFactory").createWid(a)});a=(yield d("WAWebCreateSendMsgRecord").createMsgRecord(a,b,e));if(a==null)throw c("err")("resendUserGroupMsgJob failed to deserialize msg from db");b=(yield d("WAWebGroupMsgSendUtils").getParticipantRecord(f));e=(yield d("WAWebGroupMsgSendUtils").getGroupData(f.toString(),b,a));f=a.type===d("WAWebSendMsgTypes").SendMessageRecordType.Message?d("WAWebSendMsgMetricReporter").createMsgModelMetricReporter(a.data):d("WAWebSendMsgMetricReporter").createAddonMetricReporter(a.data);f.sendReporter=f.createSendReporter({isResend:!0,originalMessage:a.type==="message"?a.data:void 0});b=d("WAWebOutgoingMessage").createOutgoingMessageProtobuf(d("WAWebOutgoingMessage").OutgoingMessageOriginType.ChatResend,a);return d("WAWebResendGroupMsg").resendGroupMsg({isDirect:g,msgRecord:a,msgProtobuf:b,groupData:e,ackTime:j,oldList:h,phash:i,metricReporter:f,serverAddressingMode:k})});return h.apply(this,arguments)}g.resendGroupMsgMainThreadOnly=a}),98);
__d("WAWebResendUserMsgMainThreadOnly",["WAWebCreateSendMsgRecord","WAWebOutgoingMessage","WAWebResendUserMsg","WAWebSendMsgMetricReporter","WAWebSendMsgTypes","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){f=f.map(function(a){return d("WAWebWidFactory").createWid(a)});a=(yield d("WAWebCreateSendMsgRecord").createMsgRecord(a,b,e));if(a==null)throw c("err")("resendUserMsgJob failed to deserialize msg from db");b=a.type===d("WAWebSendMsgTypes").SendMessageRecordType.Message?d("WAWebSendMsgMetricReporter").createMsgModelMetricReporter(a.data):d("WAWebSendMsgMetricReporter").createAddonMetricReporter(a.data);b.sendReporter=b.createSendReporter({isResend:!0,originalMessage:a.type==="message"?a.data:void 0});e=d("WAWebOutgoingMessage").createOutgoingMessageProtobuf(d("WAWebOutgoingMessage").OutgoingMessageOriginType.ChatResend,a);return d("WAWebResendUserMsg").resendUserMsg(a,e,f,g,b)});return h.apply(this,arguments)}g.resendUserMsgMainThreadOnly=a}),98);
__d("WAWebVerifiedBusinessNameCopyPnDataToLidRows",["WALogger","WAWebBizGatingUtils","WAWebLidMigrationUtils","WAWebModelStorageUtils","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebBizGatingUtils").isLidMigrationForVnameEnabled()||d("WAWebUserPrefsKeys").UserPrefs.VerifiedBusinessNameLidTableMigrationComplete)return;var e=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["verified-business-name"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["copyVerifiedNamePnDataToLidRows: start migration"])));var c=a.map(function(a){if(a==null)return null;var b=d("WAWebWidFactory").createUserWid(a==null?void 0:a.id);if(b.isLid())return null;var c=d("WAWebLidMigrationUtils").toPn(b);b=d("WAWebLidMigrationUtils").toLid(b);return b==null||(c==null?void 0:c.user)==null?null:{id:b.toString(),name:(c=a.name)!=null?c:a.name,isApi:(b=a.isApi)!=null?b:a.isApi,isSmb:(c=a.isSmb)!=null?c:a.isSmb,level:(b=a.level)!=null?b:a.level,privacyMode:(c=a.privacyMode)!=null?c:a.privacyMode,serial:(b=a.serial)!=null?b:a.serial}}).filter(Boolean);yield b.bulkCreateOrMerge(c);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["copyVerifiedNamePnDataToLidRows: end migration"])));e=!0}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["copyVerifiedNamePnDataToLidRows: error ",""])),a).sendLogs("verified-business-name-lid-migration"),e=!1}});return function(a){return c.apply(this,arguments)}}());c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.VerifiedBusinessNameLidTableMigrationComplete,e)});return k.apply(this,arguments)}g.copyVerifiedNamePnDataToLidRows=a}),98);
__d("WAWebRestoreBusinessInfo",["WALogger","WAWebApiBusinessProfile","WAWebBusinessProfileCollection","WAWebBusinessProfileCopyPnDataToLidRows","WAWebBusinessProfileTypes","WAWebChatCollection","WAWebSchemaBusinessProfile","WAWebSchemaVerifiedBusinessName","WAWebVerifiedBusinessNameCopyPnDataToLidRows","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaVerifiedBusinessName").getVerifiedBusinessNameTable().all());yield d("WAWebVerifiedBusinessNameCopyPnDataToLidRows").copyVerifiedNamePnDataToLidRows(a);a.forEach(function(a){var b;try{b=d("WAWebWidFactory").createUserWid(a.id)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["restore-business-info: invalid wid"]))).sendLogs("restore-business-info: invalid wid");return}var c=d("WAWebChatCollection").ChatCollection.get(b);if(c){a={isBusiness:!0,isEnterprise:a.isApi,verifiedName:a.name,verifiedLevel:j(a.level),privacyMode:a.privacyMode};c.contact.set(a)}});a=(yield d("WAWebSchemaBusinessProfile").getBusinessProfileTable().all());yield d("WAWebBusinessProfileCopyPnDataToLidRows").copyBusinessProfilePnDataToLidRows(a);a.forEach(function(a){a=d("WAWebApiBusinessProfile").businessProfileFromDbRow(a);d("WAWebBusinessProfileCollection").BusinessProfileCollection.gadd(babelHelpers["extends"]({},a,{dataSource:"db"}))})});return i.apply(this,arguments)}function j(a){switch(a){case"unknown":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.UNKNOWN;case"low":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.LOW;case"high":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH}return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.UNKNOWN}g.restoreBusinessInfo=a}),98);
__d("WAWebRestoreChatsAndMessages",["Promise","WAJobOrchestratorTypes","WALogger","WATimeUtils","WAWebABProps","WAWebApiChat","WAWebApiHydrateWidsUtil","WAWebBackendApi","WAWebChatCollection","WAWebChatComparator","WAWebChatGetters","WAWebChatMsgsCollection","WAWebDBAddOnProviders","WAWebDBMessageSerialization","WAWebDBMessageStoreUtils","WAWebDBMessageUtils","WAWebDbEncryptionKey","WAWebEventsWaitForOfflineDeliveryEnd","WAWebModelStorageInitialize","WAWebMsgCollection","WAWebMsgKey","WAWebNewsletterCollection","WAWebNewsletterGatingUtils","WAWebOrchestratorNonPersistedJob","WAWebPerformanceUtils","WAWebPromiseQueue","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRestoreBusinessInfo","WAWebSchemaMessage","WAWebThreadMetadata","WAWebThreadMetadataUtil","WAWebWamOfflineResumeReporter","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=20,D=5,E=100;function F(a,b){return a.reduce(function(a,c){c=d("WAWebApiHydrateWidsUtil").hydrateWids(babelHelpers["extends"]({},c,{pendingInitialLoading:!0,isReadOnly:(c=c.isReadOnly)!=null?c:!1}));var e=d("WAWebThreadMetadataUtil").getOfflineMetaPreviewForChat({chatTimestamp:b==null?void 0:b.chatTimestamp,chatId:c.id,accountLid:c.accountLid});e!=null&&(c.previewT=e);c.id.isNewsletter()?a.newsletters.push(c):a.chats.push(c);return a},{chats:[],newsletters:[]})}function a(){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessages_start");yield d("WAWebDbEncryptionKey").DbEncKeyStore.waitForFinalDbMsgEncKey();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] load DbEncKeyStore key"])));return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChats_start");d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] start load all chats"])));d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMGetChats_start");var a=(yield d("WAWebApiChat").getAllChatsDeserialized());d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMGetChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMPopulateMatCache_start");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMPopulateMatCache_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMFilterChats_start");var b=d("WAWebThreadMetadata").getOfflineThreadMetaPreview();b=F(a,b);var e=b.chats;b=b.newsletters;d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineChatThreadCount(a.length);d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] complete load all chats from storage"])));e.sort(c("WAWebChatComparator"));d("WAWebChatCollection").ChatCollection.add(e,{merge:!0});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMFilterChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessagesFirstChunk_start");a=d("WAWebABProps").getABPropConfigValue("web_init_chat_batch_size")||E;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,{"int":{web_init_chat_batch_size:a}});d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&(b.sort(c("WAWebChatComparator")),c("WAWebNewsletterCollection")==null||c("WAWebNewsletterCollection").add(b,{merge:!0}),H(b,a));d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] complete add all chats to collection"])));b=(yield H(e,a));d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessagesFirstChunk_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMUpdateDuplicatedLidThread_start");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMUpdateDuplicatedLidThread_end");return b})).then(d("WAWebRestoreBusinessInfo").restoreBusinessInfo).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessages_end")})["catch"](function(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["restoreChatsAndMessages: failed with error: ",""])),a);throw a})});return G.apply(this,arguments)}function H(a,e){var f=(B||(B=b("Promise"))).resolve(),g=new(d("WAWebPromiseQueue").PromiseQueue)(),l=function(l){var m=a.slice(l,l+e),n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreChatsAndMessagesChunked start load "," - ",""])),l,l+e);var a=self.performance.now();l===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMChatMetadata_start");var b=(yield I(m));l===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMChatMetadata_end");d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] updateKeyMetadataForChats: ",", finish chat "," - ",""])),d("WAWebPerformanceUtils").getElapsedTimeMs(a),l,l+e);l===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMRestoreMessages_start");yield J(b);l===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMRestoreMessages_end");d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] restoreMessagesForChats: ",", finish chat "," - ",""])),d("WAWebPerformanceUtils").getElapsedTimeMs(a),l,l+e);var f=[];b.forEach(function(a){var b;a=a.chat;b=d("WAWebNewsletterGatingUtils").isNewsletterEnabled!=null&&d("WAWebNewsletterGatingUtils").isNewsletterEnabled()?(b=d("WAWebChatCollection").ChatCollection.get(a.id))!=null?b:c("WAWebNewsletterCollection")==null?void 0:c("WAWebNewsletterCollection").get(a.id):d("WAWebChatCollection").ChatCollection.get(a.id);b&&(b.set({pendingInitialLoading:!1}),d("WAWebChatGetters").getIsGroup(b)&&f.push(String(a.id)))});yield d("WAWebBackendApi").frontendSendAndReceive("restoreGroupParticipantsForChats",{chatIds:f});d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreChatsAndMessagesChunked ",", finish load "," - ",""])),d("WAWebPerformanceUtils").getElapsedTimeMs(a),l,l+e)});return function(){return a.apply(this,arguments)}}();l===0?f=g.enqueue(function(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("initialChatLoad",n,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted()}):g.enqueue(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd();return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("initialChatLoad",n).waitUntilCompleted()}))};for(var m=0;m<a.length;m+=e)l(m);return f}function I(a){return(B||(B=b("Promise"))).all(a.map(function(a){var b=K(a);return d("WAWebDBMessageStoreUtils").getKeyMsgsFromChatHistory(a,b).then(function(c){var d=c.anchor,e=c.previewMsg;c=c.lastReceivedKey;d=babelHelpers["extends"]({},a,{unreadMsgAnchorId:b?d:void 0});return{chat:d,previewMsg:e,lastReceivedKey:c}})}))}function J(a){a=L(a);var c=a.tasks;a=a.lastMessageKeys;c.push(S(a));return(B||(B=b("Promise"))).all(c)}function K(a){return a.t!=null&&d("WATimeUtils").happenedWithin(d("WATimeUtils").castToUnixTime(a.t),d("WATimeUtils").DAY_SECONDS)||a.pin!=null&&a.pin>0}function L(a){var b=[],e=[];a.forEach(function(a){var f=a.chat,g=a.previewMsg;a=a.lastReceivedKey;if(K(f)||g&&g.id!==a){var h=self.performance.now();b.push(M(f,g).then(function(){d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] restoreMessagesForChat, id: ",", ",""])),f.id,d("WAWebPerformanceUtils").getElapsedTimeMs(h));if(f.unreadMsgAnchorId){var a=c("WAWebMsgKey").fromString(f.unreadMsgAnchorId);a=d("WAWebMsgCollection").MsgCollection.get(a);if(!a){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Unread anchor message is not in message collection."]))).devConsole("anchor id: "+f.unreadMsgAnchorId);return}var b=d("WAWebChatCollection").ChatCollection.get(d("WAWebWidFactory").createWidFromWidLike(f.id));b&&(b.unreadMsgAnchor=a)}}))}else e.push(String(a))});return{tasks:b,lastMessageKeys:e}}function M(a,b){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!K(a)||a.unreadCount===0)return O(a,b);if(a.unreadCount>=C){yield O(a,b);return Q(a)}d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["restoreMessagesForChat: restoring last "," messages."])),a.unreadCount+D);var c=[];if(b){var e=d("WAWebDBMessageSerialization").messageFromDbRow(b),f=d("WAWebDBAddOnProviders").getAddOnProviderForFutureproofMsg(e);f!=null&&f.canRenderInUi(e)&&c.push(b.id.toString())}f=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(a.id+"_/",a.id+"_g",{reverse:!0},a.unreadCount+D,c));yield d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),f.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a)}).reverse(),{pendingMsgsDone:!0,resume:!1,add:"last",isHistory:!0},"restoreMessagesForChat")});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[];if(b!=null&&b.internalId!=null){var e=b.internalId,f=d("WAWebDBMessageSerialization").messageFromDbRow(b),g=d("WAWebDBAddOnProviders").getAddOnProviderForFutureproofMsg(f);b&&g!=null&&g.canRenderInUi(f)&&c.push(b.id.toString());g=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(e,a.id+"_g",{lowerInclusive:!0},void 0,c))}else{f=1;g=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(a.id+"_/",a.id+"_g",{reverse:!0},f))}d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["processPreviewMessageInChat: restoring "," message."])),g.length);d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["additional data: chat ",""])),a.id);d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),g.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0})}),{pendingMsgsDone:!1,resume:!1,add:"last",isHistory:!0},"processPreviewMessageInChat")});return P.apply(this,arguments)}function Q(a){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a.unreadMsgAnchorId){d("WALogger").WARN(x||(x=babelHelpers.taggedTemplateLiteralLoose(["unreadMsgAnchorId is not defined"])));d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["chat: ",""])),a.id);return(B||(B=b("Promise"))).resolve()}yield d("WAWebSchemaMessage").getMessageTable().equals(["id"],a.unreadMsgAnchorId).then(function(e){if(e.length===0){d("WALogger").WARN(z||(z=babelHelpers.taggedTemplateLiteralLoose(["Unread anchor message does not exist in message table"])));d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["anchor id: ",""])),a.unreadMsgAnchorId||"");return}e=d("WAWebDBMessageUtils").getInChatMsgId(e[0].internalId||"");var f=T(a,e,D);e=U(a,e,D);f=(B||(B=b("Promise"))).all([f,e]).then(function(a){var b=a[0];a=a[1];return[].concat(b,a)});return f.then(function(b){var e=b.length-D;if(e<0)return;e=b[b.length-D].id;b=b.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0})});return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),b,{pendingMsgsDone:!0,resume:!1,add:"unread",isHistory:!0,firstUnreadKey:c("WAWebMsgKey").fromString(e)},"processUnreadMessage",new(d("WAWebChatMsgsCollection").ChatMsgsCollection)())})})});return R.apply(this,arguments)}function S(a){var c=self.performance.now();return d("WAWebSchemaMessage").getMessageTable().bulkGet(a).then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield (B||(B=b("Promise"))).all(e.map(function(a){if(!a)return(B||(B=b("Promise"))).resolve();a=d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0});return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(a.id.remote,[a],{pendingMsgsDone:!1,resume:!1,add:"last",isHistory:!0},"loadLastMessagesFromDb")})),d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] loadLastMessagesFromDB, ",", load "," messages"])),d("WAWebPerformanceUtils").getElapsedTimeMs(c),a.length)});return function(a){return e.apply(this,arguments)}}())["catch"](function(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["loadLastMessagesFromDB: failed with error: ",""])),a);throw a})}function T(a,b,c){c={lowerInclusive:!0,upperInclusive:!1};var e=d("WAWebDBMessageUtils").beginningOfChat(d("WAWebWidFactory").createWid(a.id));a=d("WAWebDBMessageUtils").craftInternalId(a.id,b);return d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(e,a,babelHelpers["extends"]({},c,{reverse:!0}),D).then(function(a){return a.reverse()})}function U(a,b,c){c={lowerInclusive:!0,upperInclusive:!1};return d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(d("WAWebDBMessageUtils").craftInternalId(a.id,b),d("WAWebDBMessageUtils").endOfChat(d("WAWebWidFactory").createWid(a.id)),c,D)}g.restoreChatsAndMessages=a}),98);
__d("WAWebRestoreGroupsAndContacts",["Promise","WALogger","WAWebApiContact","WAWebApiHydrateWidsUtil","WAWebChatCollection","WAWebContactCollection","WAWebGroupMetadataCollection","WAWebGroupQueryBridge","WAWebLidAwareContactsDB","WAWebModelStorageInitialize","WAWebPerformanceUtils","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSchemaGroupMetadata","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroupsAndContacts_start");return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=self.performance.now();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContactsReadByLid_start");var e=c("WAWebLidAwareContactsDB").all().then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["warming up lid/pn cache"])));d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"WarmupAllLidMappings_start");yield d("WAWebApiContact").warmUpAllLidPnMappings(b);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"WarmupAllLidMappings_end");d("WAWebContactCollection").ContactCollection.add(b.map(d("WAWebApiHydrateWidsUtil").hydrateWids),{silent:!0,merge:!0});d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreContactsPromise: ",", restore "," contacts"])),d("WAWebPerformanceUtils").getElapsedTimeMs(a),b.length);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContactsReadByLid_end");return b});return function(a){return c.apply(this,arguments)}}());d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroups_start");var f=d("WAWebSchemaGroupMetadata").getGroupMetadataTable().all().then(function(b){c("WAWebGroupMetadataCollection").add(b.map(d("WAWebApiHydrateWidsUtil").hydrateWids),{merge:!0}),b.forEach(function(a){var b=d("WAWebWidFactory").createWidFromWidLike(a.id);a.isParentGroup===!0&&d("WAWebChatCollection").ChatCollection.gadd({id:b,isReadOnly:!1});d("WAWebGroupQueryBridge").updateSubject(b,a.subject)}),d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupMetadataPromise: ",", restore "," groups"])),d("WAWebPerformanceUtils").getElapsedTimeMs(a),b.length),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroups_end")});return(k||(k=b("Promise"))).all([e,f])})).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroupsAndContacts_end")})}g.restoreGroupsAndContacts=a}),98);
__d("WAWebRestoreProfilePictures",["WALogger","WAWebApiHydrateWidsUtil","WAWebPerformanceUtils","WAWebProfilePicThumbCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSchemaProfilePicThumb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=self.performance.now();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreProfilePictures_start");var b=(yield d("WAWebSchemaProfilePicThumb").getProfilePicThumbTable().all()),c=[],e=[];b.forEach(function(a){var b=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);b!=null||d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.isProfilePicRefreshNeeded(a.timestamp)?e.push(a.id):c.push(a)});e.length>0&&d("WAWebSchemaProfilePicThumb").getProfilePicThumbTable().bulkRemove(e);b=c.map(function(a){return babelHelpers["extends"]({},d("WAWebApiHydrateWidsUtil").hydrateWids(a),{stale:!1,eurlStale:!1})});d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.add(b,{silent:!0,merge:!1});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreProfilePictures_end");d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreProfilePics: ",", restore "," picture urls"])),d("WAWebPerformanceUtils").getElapsedTimeMs(a),b.length)});return i.apply(this,arguments)}g.restoreProfilePictures=a}),98);
__d("WAWebSocketBridgeApi",["WAWebCmd","WAWebCurrentUser","WAWebEnvironment","WAWebSocketModel"],(function(a,b,c,d,e,f,g){a={socketLogout:function(a){a=a.reason;c("WAWebEnvironment").isWindows&&d("WAWebCurrentUser").isEmployee()?d("WAWebCmd").Cmd.unexpectedLogoutModal(a):d("WAWebSocketModel").Socket.logout(a)},addStartingLogoutListener:function(a){d("WAWebCmd").Cmd.on("starting_logout",a)},removeStartingLogoutListener:function(a){d("WAWebCmd").Cmd.off("starting_logout",a)}};g.SocketBridgeApi=a}),98);
__d("WAWebStatusBridgeApi",["WAWebStatusCollection"],(function(a,b,c,d,e,f,g){a={handleStatusUpdate:function(a){var b=a.rawMsg;a=a.isMsgUpdate;return d("WAWebStatusCollection").StatusCollection.handleUpdate(b,a)},handleReadStatus:function(a){a=a.msgKeys;for(a of a){var b=a.participant;b=b&&d("WAWebStatusCollection").StatusCollection.get(b);b&&b.handleReadStatus(a)}}};g.StatusBridgeApi=a}),98);
__d("WAWebSyncdBridgeApi",["WAWebSyncdDbCallbacksApi","WAWebSyncdKeyCallbacksApi","WAWebSyncdOrphan","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a={checkOrphanMutations:function(a){var b=a.msgIds;a=a.chatIds;return d("WAWebSyncdOrphan").checkOrphanMutations(b,a)},handleSyncdFatal:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebSyncdDbCallbacksApi").handleSyncdFatal()});function c(){return a.apply(this,arguments)}return c}(),getDeviceFingerprint:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebSyncdKeyCallbacksApi").getDeviceFingerprint()});function c(){return a.apply(this,arguments)}return c}()};g.SyncdBridgeApi=a}),98);
__d("WAWebTextStatusBridgeApi",["WAWebTextStatusCollection","WAWebUserPrefsMeUser","WAWebWidFactory"],(function(a,b,c,d,e,f,g){a={setMyStatus:function(a){a=a.status;var b=d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow();d("WAWebTextStatusCollection").TextStatusCollection.assertGet(d("WAWebWidFactory").asUserWidOrThrow(b)).status=a!=null?a:d("WAWebTextStatusCollection").getDefaultTextStatus()}};g.TextStatusBridgeApi=a}),98);
__d("WAWebUnreadMentionMetadataBridgeApi",["WAWebChatCollection","WAWebGroupUnreadMessageType","WAWebMsgGetters","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){a={processAndGetUnreadMentionsInfo:function(a){a=a.filteredMsgs;var b=new Map(),c=new Map();a.forEach(function(a){if(d("WAWebMsgGetters").getIsImportantMessage(a)){var e=a.id.remote.toString(),f=0;if(!c.has(e)){var g,h=d("WAWebChatCollection").ChatCollection.get(e);f=(h=h==null||(g=h.groupMetadata)==null?void 0:g.unreadMentionMetadata.pendingUnreadMentionCount)!=null?h:0;c.set(e,f)}else{f=(h=c.get(e))!=null?h:0}if(f>0){c.set(e,f-1);h={id:a.id.toString(),timestamp:a.t};if(b.has(e)){(f=b.get(e))==null||f.push(h)}else b.set(e,[h])}}});return{unreadMentionsToAdd:b,pendingUnreadMentionsMap:c}},getChatIdsNeedToBeDeletedFromUnreadMentionInfo:function(a){var b=a.unreadMentionsToAdd,e=a.pendingUnreadMentionsMap,f=[];b.forEach(function(a,b){var g,h,i=d("WAWebChatCollection").ChatCollection.get(b);g=(g=e.get(b))!=null?g:0;var j=i==null||(h=i.groupMetadata)==null?void 0:h.unreadMentionMetadata;if((j==null?void 0:j.pendingUnreadMentionCount)===0||i!=null&&i.hasChatBeenOpened){f.push(b);return}if(j&&j.pendingUnreadMentionCount>0){j.pendingUnreadMentionCount=g;i=a.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id.toString(),timestamp:a.timestamp})});j.addUnreadMentions(i,d("WAWebGroupUnreadMessageType").UnreadMessageType.HISTORYC_SYNC_CHUNK)}});return f},updateUnreadMentionMetadataByAdding:function(a){var b,e=a.chatId,f=a.newUnreadMentions;a=a.pendingUnreadMentionCount;e=d("WAWebChatCollection").ChatCollection.get(e);e=e==null||(b=e.groupMetadata)==null?void 0:b.unreadMentionMetadata;f=f.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id.toString(),timestamp:a.timestamp})});e&&e.pendingUnreadMentionCount>0&&(e.pendingUnreadMentionCount=a,e.addUnreadMentions(f,d("WAWebGroupUnreadMessageType").UnreadMessageType.HISTORYC_SYNC_CHUNK))}};g.UnreadMentionMetadataBridgeApi=a}),98);
__d("WAWebVerifiedNameBridgeApi",["WAWebBizCreateBizStateChangeNotificationMsgsAction"],(function(a,b,c,d,e,f,g){a={generateAndUpdatePrivacySystemMessages:function(a){var b=a.wid,c=a.previousState,e=a.currentState;a=a.shouldRunMATonWid;return d("WAWebBizCreateBizStateChangeNotificationMsgsAction").createBizStateChangeNotificationMsgs(b,c,e,a)}};g.VerifiedNameBridgeApiType=a}),98);
__d("WAWebVoipActionWriteCallLogOfferNotice",["WATimeUtils","WAWebCallLogUtils","WAWebMsgKey","WAWebMsgType","WAWebUserPrefsMeUser","WAWebViewMode.flow","WAWebVoipActionWriteCallLogImpl","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.callCreatorWid,e=a.callOutcome,f=a.offerTime,g=a.isVideo,h=a.silenceReason,i=a.isGroup,j=a.groupJid,k=a.callId;a=a.isOffline;var l=(yield d("WAWebCallLogUtils").getCallLogTargetDetails({callCreatorWid:b,callId:k,groupJid:j})),m=l.msgKeyId,n=l.fromMe,o=l.callCreatorUserWid;l=l.chatId;var p=a===!0||f==null||!d("WATimeUtils").sameDay(d("WATimeUtils").castToUnixTime(f),d("WATimeUtils").unixTime()),q;p={type:d("WAWebMsgType").MSG_TYPE.CALL_LOG,viewMode:p?d("WAWebViewMode.flow").ViewModeType.CALL_LOG_OFFLINE_RESUME:d("WAWebViewMode.flow").ViewModeType.VISIBLE,kind:d("WAWebMsgType").MsgKind.CallLog,from:o,callOutcome:e,callSilenceReason:h,isVideoCall:g,callCreator:b,t:f!=null?f:d("WATimeUtils").unixTime()};e={type:d("WAWebMsgType").MSG_TYPE.UNKNOWN,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,kind:d("WAWebMsgType").MsgKind.Unknown,from:o,futureproofType:d("WAWebMsgType").MSG_TYPE.CALL_LOG,t:f!=null?f:d("WATimeUtils").unixTime()};g=i&&j?j:l;i&&k!=null?j&&(h==="vc_wave_all"?q=babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({remote:g,fromMe:n,id:m,participant:b}),to:j,author:b},e):q=babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({remote:l,fromMe:n,id:m}),to:j,author:b},p)):h==="vc_wave_all"?q=babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({remote:g,fromMe:n,id:m}),to:d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow()},e):q=babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({remote:l,fromMe:n,id:m}),to:d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow()},p);q!=null&&(yield d("WAWebVoipActionWriteCallLogImpl").writeVoipCallLogMessageImpl(g,q,a===!0))});return h.apply(this,arguments)}g.generateCallLogOfferNotice=a}),98);
__d("WAWebVoipActionWebHandleIncomingSignalingMessage",["WALogger","WAWebCallCollection","WAWebCallLogMsgData.flow","WAWebVoipActionWriteCallLogOfferNotice","WAWebVoipSignalingEnums","WAWebVoipWaCallEnums"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var e=d("WAWebVoipSignalingEnums").TYPE_NAME[a.type];d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(['voip:handleIncomingSignalingMsg: type: "','" msg: '])),e).devConsole(a);e=c("WAWebCallCollection").processIncomingCall(a.call_id,a.peer_jid,{isVideo:a.isVideoCall,offerTime:a.t,isSilenced:!!a.silence_reason,offerReceivedWhileOffline:a.is_offline,groupWid:a.group_jid});if(!e){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip:voip_common_disabled: Received signaling msg type "," but could not find call for call ID"])),a.type).devConsole(a.call_id);return}switch(a.type){case d("WAWebVoipSignalingEnums").TYPE.OFFER:a.t!=null&&(e.offerTime=a.t);e.isVideo=!!a.isVideoCall;e.setState(d("WAWebVoipWaCallEnums").CallState.ReceivedCall);e.isVoiceChat=a.silence_reason==="vc_init"||a.silence_reason==="vc_wave_all";e.silenceReason=a.silence_reason;if(a.silence_reason==="vc_wave_all"){var f=e.isGroup?{isGroup:!0,groupJid:e.groupJid}:{isGroup:!1};void d("WAWebVoipActionWriteCallLogOfferNotice").generateCallLogOfferNotice(babelHelpers["extends"]({callCreatorWid:a.peer_jid,offerTime:e.offerTime,isVideo:e.isVideo,silenceReason:a.silence_reason,callId:a.call_id,isOffline:a.is_offline,callOutcome:d("WAWebCallLogMsgData.flow").CallOutcome.Missed},f))}break;case d("WAWebVoipSignalingEnums").TYPE.TERMINATE:if(e.isVoiceChat){a.silence_reason=(f=e.silenceReason)!=null?f:""}e.setState(d("WAWebVoipWaCallEnums").CallState.CallStateEnding);f=b.maybeAttrString("reason");b=f==="group_call_ended";b=b?{isGroup:!0,groupJid:e.groupJid}:{isGroup:!1};var g;switch(f){case"group_call_ended":case"timeout":case void 0:case null:g=d("WAWebCallLogMsgData.flow").CallOutcome.Missed;break;case"accepted_elsewhere":g=d("WAWebCallLogMsgData.flow").CallOutcome.AcceptedElsewhere;break;case"rejected_elsewhere":g=d("WAWebCallLogMsgData.flow").CallOutcome.Rejected;break}g&&void d("WAWebVoipActionWriteCallLogOfferNotice").generateCallLogOfferNotice(babelHelpers["extends"]({callCreatorWid:a.call_creator,offerTime:e.offerTime,isVideo:e.isVideo,silenceReason:a.silence_reason,callId:a.call_id,isOffline:a.is_offline,callOutcome:g},b));break}}g.handleVoipWebIncomingSignalingMessageAction=a}),98);
__d("WAWebVoipActionWriteCallLogCallStateChanged",["WALogger","WATimeUtils","WAWebCallLogMsgData.flow","WAWebCallLogUtils","WAWebMsgCollection","WAWebMsgKey","WAWebMsgType","WAWebVoipActionWriteCallLogImpl","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(!c("isStringNullOrEmpty")(a.link_token)){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["voip: skipping call log for call link, token: ",""])),a.link_token);return}var b=(yield d("WAWebCallLogUtils").getCallLogTargetDetails({callCreatorWid:a.creator_jid,callId:a.call_id,groupJid:a.group_jid,participants:a.participants.map(function(a){return a.jid})})),e=b.msgKeyId,f=b.fromMe,g=b.callCreatorUserWid,j=b.chatId,k=b.participant;b=b.viewMode;k=new(c("WAWebMsgKey"))({remote:j,participant:k,fromMe:f,id:e});var l=d("WAWebMsgCollection").MsgCollection.get(k);k={id:k,type:d("WAWebMsgType").MSG_TYPE.CALL_LOG,kind:d("WAWebMsgType").MsgKind.CallLog,viewMode:b,callOutcome:function(b,c){return b===null||b===void 0||b===d("WAWebCallLogMsgData.flow").CallOutcome.Unknown?d("WAWebCallLogUtils").getCallOutcomeFromCallState(a.call_state):(c=l==null?void 0:l.callOutcome)!=null?c:d("WAWebCallLogUtils").getCallOutcomeFromCallState(a.call_state)}(l==null?void 0:l.callOutcome),isVideoCall:a.video_enabled,callCreator:a.creator_jid,from:g,to:j,t:(f=l==null?void 0:l.t)!=null?f:d("WATimeUtils").unixTime(),callDuration:(e=l==null?void 0:l.callDuration)!=null?e:0,callParticipants:a.participants.map(function(a){return{participant:a.jid,outcome:a.state}})};return d("WAWebVoipActionWriteCallLogImpl").writeVoipCallLogMessageImpl(j,k,!1)}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip: writeCallLog: callStateChanged: ",""])),a).tags("voip").devConsole(a).sendLogs("voip: writeCallLog: callStateChanged")}});return j.apply(this,arguments)}g.generateCallLogFromCallStateChangedEvent=a}),98);
__d("WAWebVoipActionWriteCallLogEventCallEnding",["WALogger","WAWebCallLogUtils","WAWebMsgKey","WAWebMsgType","WAWebUserPrefsMeUser","WAWebViewMode.flow","WAWebVoipActionWriteCallLogImpl","WAWebVoipOngoingCallCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=a.peerJid,e=a.fromMe,f=a.groupJid,g=a.callId,i=a.callLinkToken,j=a.isCallLink,k=a.startTime,l=a.connectTime,m=a.result,n=a.videoCall,o=a.participantEntries;a=a.callCreatorJid;var p=d("WAWebVoipOngoingCallCollection").WAWebVoipOngoingCallCollection.getByCallId(g);a=a!=null?a:e?d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow():b;b=(yield d("WAWebCallLogUtils").getCallLogTargetDetails({callCreatorWid:a,peerWid:b,callId:g,groupJid:f,participants:o.map(function(a){return a.jid}).filter(Boolean)}));g=b.msgKeyId;var q=b.callCreatorUserWid,r=b.chatId;b=b.participant;if(p!=null){p=babelHelpers["extends"]({},p.toJSON(),{callDuration:l==null?p.callDuration:l,finalCallOutcome:d("WAWebCallLogUtils").getCallOutcomeFromCallResultNative(m)});yield d("WAWebVoipActionWriteCallLogImpl").writeVoipCallLogMessageImpl(r,p,!1)}else{if(f!=null)return;p={id:new(c("WAWebMsgKey"))({remote:r,participant:b,fromMe:e,id:g}),type:d("WAWebMsgType").MSG_TYPE.CALL_LOG,kind:d("WAWebMsgType").MsgKind.CallLog,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,callOutcome:d("WAWebCallLogUtils").getCallOutcomeFromCallResultNative(m),isVideoCall:n!=null?n:!1,callCreator:a,callDuration:l==null?void 0:l,from:q,t:k,callParticipants:o.map(function(a){return{participant:a.jid,outcome:a.result}}),to:r,isCallLink:j!=null?j:!1,callLinkToken:i!=null?i:void 0,finalCallOutcome:d("WAWebCallLogUtils").getCallOutcomeFromCallResultNative(m)};yield d("WAWebVoipActionWriteCallLogImpl").writeVoipCallLogMessageImpl(r,p,!1)}}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["generateCallLogFromCallSyncRecord: failed to generate call log message from syncd: ",""])),a).tags("nexus-voip").devConsole(a).sendLogs("generate-call-log-message-syncd-failed")}});return i.apply(this,arguments)}g.generateCallLogFromNativeCallEndingEvent=a}),98);
__d("WAWebVoipActionWriteCallLogEventCallMissed",["WALogger","WATimeUtils","WAWebCallLogMsgData.flow","WAWebCallLogUtils","WAWebMsgKey","WAWebMsgType","WAWebUserPrefsMeUser","WAWebVoipActionWriteCallLogImpl","WAWebVoipOngoingCallCollection","WAWebVoipWaCallEnums","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=a.CallId,e=a.PeerUserJid,f=a.GroupJid,g=a.IsVideoCall,j=a.CallParticipantInfos;a=a.TimeElapsedSinceCallOffer;var k=e!=null?d("WAWebUserPrefsMeUser").isMeAccount(e):!1,l=k?d("WAWebCallLogMsgData.flow").CallOutcome.Completed:d("WAWebCallLogMsgData.flow").CallOutcome.Missed,m=d("WAWebVoipOngoingCallCollection").WAWebVoipOngoingCallCollection.getByCallId(b),n;if(m!=null)m=babelHelpers["extends"]({},m.toJSON(),{callOutcome:l,isVideoCall:g}),n=m.to,d("WAWebVoipOngoingCallCollection").WAWebVoipOngoingCallCollection.remove(m.id);else if(e!=null){b=(yield d("WAWebCallLogUtils").getCallLogTargetDetails({callId:b,peerWid:e,groupJid:f,callCreatorWid:e}));f=b.msgKeyId;var o=b.participant,p=b.viewMode;b=b.chatId;n=b;m={id:new(c("WAWebMsgKey"))({remote:n,participant:o,fromMe:k,id:f}),type:d("WAWebMsgType").MSG_TYPE.CALL_LOG,kind:"callLog",callOutcome:l,isVideoCall:g,callParticipants:j!=null&&j.length>0?j.map(function(a){return{participant:a.jid,outcome:a.result}}):[{participant:e,outcome:d("WAWebVoipWaCallEnums").CallParticipantState.Terminated}],to:n,from:e,t:d("WATimeUtils").castToUnixTime(a!=null?(Date.now()-a)/1e3:Date.now()/1e3),viewMode:p}}else{d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["generateCallLogFromEventCallMissed: Cannot create call log entry without PeerUserJid"]))).tags("nexus-voip").sendLogs("generate-call-log-event=call-missed-no-peer");return}yield d("WAWebVoipActionWriteCallLogImpl").writeVoipCallLogMessageImpl(n,m,!1)}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["generateCallLogFromEventCallMissed: failed to generate call log message for call missed event: ",""])),a).tags("nexus-voip").devConsole(a).sendLogs("generate-call-log-event=call-missed")}});return j.apply(this,arguments)}g.generateCallLogFromEventCallMissed=a}),98);
__d("WAWebVoipActionWriteCallLogEventGroupInfoChanged",["WALogger","WASemaphore","WAWebCallLogMsgData.flow","WAWebVoipActionWriteCallLogImpl","WAWebVoipOngoingCallCollection","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("WASemaphore").Semaphore)(1);function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield i.acquire());try{var e=a.CallId;a=a.CallParticipants;e=d("WAWebVoipOngoingCallCollection").WAWebVoipOngoingCallCollection.getByCallId(e);if(e==null)throw c("err")("generateCallLogFromEventGroupInfoChanged: Expected to find existing ongoing call");a=babelHelpers["extends"]({},e.toJSON(),{callOutcome:d("WAWebCallLogMsgData.flow").CallOutcome.Ongoing,callParticipants:(a=a==null?void 0:a.map(function(a){return{participant:a.participant,outcome:a.outcome}}))!=null?a:e.callParticipants});e=a.to;e=(yield d("WAWebVoipActionWriteCallLogImpl").writeVoipCallLogMessageImpl(e,a,!1));e&&d("WAWebVoipOngoingCallCollection").WAWebVoipOngoingCallCollection.add(e,{merge:!0})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["generateCallLogFromEventGroupInfoChanged: failed to generate call log message for group info changed event: ",""])),a).tags("nexus-voip").devConsole(a).sendLogs("generate-call-log-event-group-info-changed-failed")}finally{b.release()}});return j.apply(this,arguments)}g.generateCallLogFromEventGroupInfoChanged=a}),98);
__d("WAWebVoipActionWriteCallLogEventUpdate1to1",["WALogger","WATimeUtils","WAWebCallLogMsgData.flow","WAWebCallLogUtils","WAWebMsgKey","WAWebMsgType","WAWebUserPrefsMeUser","WAWebVoipActionWriteCallLogImpl","WAWebVoipWaCallEnums","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a===d("WAWebVoipWaCallEnums").CallLogResult.AcceptedElsewhere?d("WAWebCallLogMsgData.flow").CallOutcome.AcceptedElsewhere:a===d("WAWebVoipWaCallEnums").CallLogResult.Rejected||a===d("WAWebVoipWaCallEnums").CallLogResult.Unavailable||a===d("WAWebVoipWaCallEnums").CallLogResult.Canceled||a===d("WAWebVoipWaCallEnums").CallLogResult.Missed?d("WAWebCallLogMsgData.flow").CallOutcome.Missed:a===d("WAWebVoipWaCallEnums").CallLogResult.Failed?d("WAWebCallLogMsgData.flow").CallOutcome.Failed:d("WAWebCallLogMsgData.flow").CallOutcome.Completed}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=a.CallId,e=a.Result;a=a.PeerJid;var f=d("WAWebUserPrefsMeUser").isMeAccount(a);b=(yield d("WAWebCallLogUtils").getCallLogTargetDetails({callId:b,peerWid:a,groupJid:null,callCreatorWid:a}));var g=b.msgKeyId,j=b.participant,k=b.viewMode;b=b.chatId;e=i(e);j={id:new(c("WAWebMsgKey"))({remote:b,participant:j,fromMe:f,id:g}),type:d("WAWebMsgType").MSG_TYPE.CALL_LOG,kind:"callLog",callOutcome:e,isVideoCall:!1,to:b,from:a,t:d("WATimeUtils").castToUnixTime(Date.now()/1e3),viewMode:k};yield d("WAWebVoipActionWriteCallLogImpl").writeVoipCallLogMessageImpl(b,j,!1)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["generateCallLogFromEventUpdate1to1: failed to generate call log message for update 1to1 call event: ",""])),a).tags("nexus-voip").devConsole(a).sendLogs("generate-call-log-event=update-1to1")}});return j.apply(this,arguments)}g.generateCallLogFromEventUpdate1to1=a}),98);
__d("WAWebVoipUiManager",["WALogger","WAWebCallCollection","WAWebPipController"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){c("WAWebCallCollection").on("change:activeCall",j)}function j(){c("WAWebCallCollection").activeCall==null?(c("WAWebPipController").closePiP(),c("WAWebCallCollection").off("change:activeCall",j)):c("WAWebCallCollection").activeCall.msg?(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["voip: Active call changed, opening PiP window"]))),c("WAWebPipController").openVoipUiPiP(c("WAWebCallCollection").activeCall.msg)):(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip: Active call changed, but msg not ready. Waiting to open PiP window"]))),c("WAWebCallCollection").activeCall.on("change:msg",j))}g.setupVoipActiveCallChangeListener=a}),98);
__d("WAWebVoipWebLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=null;a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(h!=null)return h;var a=(yield c("JSResourceForInteraction")("WAWebVoipWebWasmLoader").__setRef("WAWebVoipWebLoadable").load());h=a();return h}),"voipWebWasmLoader");g.requireVoip=a}),98);
__d("WAWebVoipWebBridgeApi",["WALogger","WAWebABProps","WAWebCallCollection","WAWebCallLogUtils","WAWebCallModel","WAWebChatCollection","WAWebEnvironment","WAWebVoipAcquireMediaStream","WAWebVoipActionRequestOpenChat","WAWebVoipActionWebHandleIncomingSignalingMessage","WAWebVoipActionWriteCallLogCallStateChanged","WAWebVoipActionWriteCallLogEventCallEnding","WAWebVoipActionWriteCallLogEventCallMissed","WAWebVoipActionWriteCallLogEventGroupInfoChanged","WAWebVoipActionWriteCallLogEventUpdate1to1","WAWebVoipActionWriteCallLogEventUpdateJoinable","WAWebVoipActionWriteCallLogOfferNotice","WAWebVoipStartCall","WAWebVoipUiManager","WAWebVoipWaCallEnums","WAWebVoipWebLoadable","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;a={initializeVoipWasm:function(){if(!d("WAWebABProps").getABPropConfigValue("enable_web_calling"))throw c("err")("VoipWebBridgeApi: VoipWebWasm should not be loaded");return d("WAWebVoipWebLoadable").requireVoip()},handleVoipWebIncomingSignalingMessageAction:function(a){var b=a.msg;a=a.voipNode;return d("WAWebVoipActionWebHandleIncomingSignalingMessage").handleVoipWebIncomingSignalingMessageAction(b,a)},startVoipCallByWid:function(a){var b=a.peerJid;a=a.isVideo;return d("WAWebVoipStartCall").startWAWebVoipCall(b,a)},generateCallLog:function(a){a=a.props;return d("WAWebVoipActionWriteCallLogOfferNotice").generateCallLogOfferNotice(a)},generateCallLogOfferNotice:function(a){return d("WAWebVoipActionWriteCallLogOfferNotice").generateCallLogOfferNotice(a)},generateCallLogFromNativeCallEndingEvent:function(a){a=a.callEndingData;return d("WAWebVoipActionWriteCallLogEventCallEnding").generateCallLogFromNativeCallEndingEvent(a)},generateCallLogFromEventUpdateJoinable:function(a){a=a.joinableCallLogData;return d("WAWebVoipActionWriteCallLogEventUpdateJoinable").generateCallLogFromEventUpdateJoinable(a)},generateCallLogFromEventCallMissed:function(a){a=a.callMissedData;return d("WAWebVoipActionWriteCallLogEventCallMissed").generateCallLogFromEventCallMissed(a)},generateCallLogFromEventUpdate1to1:function(a){a=a.call1to1LogData;return d("WAWebVoipActionWriteCallLogEventUpdate1to1").generateCallLogFromEventUpdate1to1(a)},generateCallLogFromEventGroupInfoChanged:function(a){a=a.groupInfoChangedData;return d("WAWebVoipActionWriteCallLogEventGroupInfoChanged").generateCallLogFromEventGroupInfoChanged(a)},requestOpenChat:function(a){a=a.chatJid;a=d("WAWebWidFactory").createWid(a);return d("WAWebVoipActionRequestOpenChat").requestOpenChat(a)},getTcToken:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.wid;var b=(yield d("WAWebCallLogUtils").get1x1CallLidOrPnDestination({callDestinationWid:a}));b=d("WAWebChatCollection").ChatCollection.get(b);b==null&&d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["voip: getTcToken: chat not found, chat domain: ",""])),a.server);return{tcToken:b==null?void 0:b.tcToken}});function c(b){return a.apply(this,arguments)}return c}(),setCallState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.callState;a=a.callInfo;c("WAWebEnvironment").isWindows||d("WAWebVoipUiManager").setupVoipActiveCallChangeListener();if(c("WAWebCallCollection").activeCall==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip: Creating new call model for call state"]))).devConsole(b);var e=new(c("WAWebCallModel"))();e.id=a.call_id;e.peerJid=a.peer_jid;e.isVideo=a.video_enabled;e.isGroup=a.is_group_call;e.groupJid=a.group_jid;e.outgoing=a.is_caller;a.is_group_call&&a.participants&&(e.groupCallParticipants=a.participants.map(function(a){return a.jid}));a.video_enabled?(e.selfVideoState=d("WAWebVoipWaCallEnums").VideoState.Enabled,e.peerVideoState=d("WAWebVoipWaCallEnums").VideoState.Enabled):(e.selfVideoState=d("WAWebVoipWaCallEnums").VideoState.Disabled,e.peerVideoState=d("WAWebVoipWaCallEnums").VideoState.Disabled);c("WAWebCallCollection").setActiveCall(e)}d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["voip: Setting call state to ",""])),b);(e=c("WAWebCallCollection").activeCall)==null||e.setState(b);c("WAWebCallCollection").setIsInConnectedCall(b===d("WAWebVoipWaCallEnums").CallState.CallActive||b===d("WAWebVoipWaCallEnums").CallState.ConnectedLonely);(b===d("WAWebVoipWaCallEnums").CallState.CallStateEnding||b===d("WAWebVoipWaCallEnums").CallState.None)&&(c("WAWebCallCollection").setActiveCall(null),c("WAWebCallCollection").setIsInConnectedCall(!1),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["voip: Call ended, clearing active call model"]))));e=(yield d("WAWebVoipActionWriteCallLogCallStateChanged").generateCallLogFromCallStateChangedEvent(a));e&&c("WAWebCallCollection").activeCall&&(c("WAWebCallCollection").activeCall.msg=e)});function e(b){return a.apply(this,arguments)}return e}(),handleVideoStateChange:function(a){a=a.videoStateData;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: [A/V switch] Video state change event received at frontend:\n      videoState: ",",\n      isSelf: ",",\n      callMediaStateChanged: ",""])),a.videoState,a.isSelf,a.callMediaStateChanged);var b=c("WAWebCallCollection").activeCall;if(!b){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: [A/V switch] handleVideoStateChange: No active call, ignoring\n        video state change"])));return}var e=a.isSelf!=null&&a.isSelf;e?b.selfVideoState=a.videoState:(b.peerVideoState=a.videoState,a.userJid&&(b.peerVideoJid=a.userJid));if(a.callMediaStateChanged===!0){e=b.shouldShowVideoUI();d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: [A/V switch] Call media state changed,\n        shouldShowVideo: ",""])),e);b.set("isVideo",e)}b.trigger("change:videoState")},voipAcquireMediaStream:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebVoipAcquireMediaStream").acquireVoipMediaStream(a));return a});function c(b){return a.apply(this,arguments)}return c}()};g.VoipWebBridgeApi=a}),98);
__d("WAWebWamBridgeApi",["WAWebEphemeralKeepInChatWamUtils","WAWebOTPLoggingHelper"],(function(a,b,c,d,e,f,g){a={logTieBreakIgnoredKicWam:function(a){a=a.keepInChatMessage;return d("WAWebEphemeralKeepInChatWamUtils").logTieBreakIgnoredKic(a)},logOTPMessageReceivedActions:function(a){a=a.msgData;void d("WAWebOTPLoggingHelper").logOTPMessageReceived(a)},logOTPMessageReadActions:function(a){a=a.msgRow;void d("WAWebOTPLoggingHelper").logOTPMessageRead(a)}};g.WamBridgeApi=a}),98);
__d("WAWebSetFrontendHandlerApi",["WAWebAbPropsBridgeApi","WAWebAddOnsBridgeApi","WAWebBizAiBridgeApi","WAWebBlocklistBridgeApi","WAWebBusinessProfileBridgeApi","WAWebCTWABridgeApi","WAWebChatBridgeApi","WAWebClockBridgeApi","WAWebContactBridgeApi","WAWebCustomPaymentMethodsSyncBridgeApi","WAWebDebugBridgeApi","WAWebDeviceSwitchingBridgeApi","WAWebGroupBridgeApi","WAWebGroupMetadataBridgeApi","WAWebHistorySyncApi","WAWebIdentityBridgeApi","WAWebIndividualNewChatMessageCappingBridgeApi","WAWebL10nHelpersBridgeApi","WAWebLabelsBridgeApi","WAWebMemberLabelBridgeApi","WAWebMemoryInfoBridgeApi","WAWebMsgBridgeApi","WAWebMsgInfoBridgeApi","WAWebNewsletterBridgeApi","WAWebNoteBridgeApi","WAWebNuxBridgeApi","WAWebPaymentInfoSyncBridgeApi","WAWebPrimaryFeaturesBridgeApi","WAWebPrivacyBridgeApi","WAWebProfilePicThumbBridgeApi","WAWebReachoutTimelockBridgeApi","WAWebReactionsBridgeApi","WAWebSocketBridgeApi","WAWebStatusBridgeApi","WAWebSyncdBridgeApi","WAWebTextStatusBridgeApi","WAWebUnreadMentionMetadataBridgeApi","WAWebVerifiedNameBridgeApi","WAWebVoipWebBridgeApi","WAWebWamBridgeApi"],(function(a,b,c,d,e,f,g){function a(a){a.setHandlers("event",babelHelpers["extends"]({},d("WAWebMsgBridgeApi").MsgBridgeApi,d("WAWebLabelsBridgeApi").LabelsBridgeApi,d("WAWebMemberLabelBridgeApi").MemberLabelBridgeApi,d("WAWebContactBridgeApi").ContactBridgeApi,d("WAWebChatBridgeApi").ChatBridgeApi,d("WAWebClockBridgeApi").ClockBridgeApi,d("WAWebCTWABridgeApi").CTWABridgeApi,d("WAWebStatusBridgeApi").StatusBridgeApi,d("WAWebNuxBridgeApi").NuxBridgeApi,d("WAWebTextStatusBridgeApi").TextStatusBridgeApi,d("WAWebMsgInfoBridgeApi").MsgInfoBridgeApi,d("WAWebGroupBridgeApi").GroupBridgeApi,d("WAWebHistorySyncApi").HistorySyncBridgeApi,d("WAWebIdentityBridgeApi").IdentityBridgeApi,d("WAWebSocketBridgeApi").SocketBridgeApi,d("WAWebAbPropsBridgeApi").AbPropsBridgeApi,d("WAWebWamBridgeApi").WamBridgeApi,d("WAWebReactionsBridgeApi").ReactionsBridgeApi,d("WAWebAddOnsBridgeApi").AddOnsBridgeApi,d("WAWebGroupMetadataBridgeApi").GroupMetadataBridgeApi,d("WAWebNewsletterBridgeApi").NewsletterBridgeApi,d("WAWebPrimaryFeaturesBridgeApi").PrimaryFeaturesBridgeApi,d("WAWebProfilePicThumbBridgeApi").ProfilePicThumbBridgeApi,d("WAWebDeviceSwitchingBridgeApi").DeviceSwitchingBridgeApi,d("WAWebPrivacyBridgeApi").PrivacyBridgeApi,d("WAWebPaymentInfoSyncBridgeApi").PaymentInfoSyncBridgeApi,d("WAWebCustomPaymentMethodsSyncBridgeApi").CustomPaymentMethodsSyncBridgeApi,d("WAWebUnreadMentionMetadataBridgeApi").UnreadMentionMetadataBridgeApi,d("WAWebL10nHelpersBridgeApi").L10nHelpersBridgeApi,d("WAWebNoteBridgeApi").NoteBridgeApi,d("WAWebBizAiBridgeApi").BizAiBridgeApi,d("WAWebVoipWebBridgeApi").VoipWebBridgeApi,d("WAWebVerifiedNameBridgeApi").VerifiedNameBridgeApiType,d("WAWebMemoryInfoBridgeApi").MemoryInfoBridgeApi,d("WAWebSyncdBridgeApi").SyncdBridgeApi,d("WAWebDebugBridgeApi").DebugBridgeApi,d("WAWebReachoutTimelockBridgeApi").ReachoutTimelockBridgeApi,d("WAWebBusinessProfileBridgeApi").BusinessProfileBridgeApi,d("WAWebBlocklistBridgeApi").BlocklistBridgeApi,d("WAWebIndividualNewChatMessageCappingBridgeApi").IndividualNewChatMessageCappingBridgeApi))}g.setFrontendHandlers=a}),98);
__d("WAWebUpdateMsgBizPrivacyStatusAction",["WALogger","WAWebPrivacyModeSystemMsg","WAWebProtobufsWeb.pb","WAWebSchemaMessage","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;if(!c("WAWebWid").isUser(a.id.remote))return;if(a.id.remote.isBot()||(e=a.invokedBotWid)!=null&&e.isBot())return;e=a.privacyModeWhenSent;if(e==null&&b==null)return;if(e!=null&&b!=null&&e.privacyModeTs>=b.privacyModeTs)return;b=d("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(b);e=d("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(e);if(b===e)return;if(a.bizPrivacyStatus!=null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["msg.bizPrivacyStatus exist already, we can not assign a new value anymore"])));return}e=j(b);a.bizPrivacyStatus=e;yield d("WAWebSchemaMessage").getMessageTable().merge(a.id.toString(),{bizPrivacyStatus:e})});return i.apply(this,arguments)}function j(a){switch(a){case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.E2EE:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.E2EE;case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.BSP:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.BSP;case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.FB:case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.HOSTED_GROUP:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.FB}}g["default"]=a}),98);
__d("WAWebWorkerSafeBridgeApi",["JSResourceForInteraction","Promise","WALogger","WATaskScheduler","WAWebCTWASuggestionInitFromStorage","WAWebChatCollection","WAWebContactCollection","WAWebEphemeralityResolver","WAWebFetchAdEntryPointsConfiguration","WAWebFetchQuickPromotions","WAWebFtsClient","WAWebGetOrQueryUsyncInfoContactAction","WAWebGroupCreationKeyDistribution","WAWebHandleHistorySyncNotification","WAWebHandleMessageHistoryBundle","WAWebJobLoadQuickPromotions","WAWebKeyManagementHandleKeyRequestApi","WAWebKeyManagementHandleKeyShareApi","WAWebKeyManagementSendKeyShareApi","WAWebMsgCollection","WAWebNonMessageDataRequestHandler","WAWebOptOutListCollection","WAWebPaymentNotificationHandler","WAWebPrivacyMode_WORKER_INCOMPATIBLE","WAWebProfilePicThumbCollection","WAWebResendGroupMsgMainThreadOnly","WAWebResendUserMsgMainThreadOnly","WAWebRestoreChatsAndMessages","WAWebRestoreGroupsAndContacts","WAWebRestoreProfilePictures","WAWebSyncContactJob","WAWebSyncdOrphan","WAWebTasksTaskType","WAWebTosCountryGating","WAWebTosGating","WAWebUpdateMsgBizPrivacyStatusAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j=c("JSResourceForInteraction")("WAWebOptOutSyncJob").__setRef("WAWebWorkerSafeBridgeApi");a={setProfilePicThumb:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.wid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.gadd(a);yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.update(a.id)});function c(b){return a.apply(this,arguments)}return c}(),getPrivacyMode:function(a){a=a.id;return d("WAWebPrivacyMode_WORKER_INCOMPATIBLE").getPrivacyModeFromModel(a)},updateBizPrivacyStatus:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.msgIds,f=a.privacyMode;yield (i||(i=b("Promise"))).all(e.map(function(a){return d("WAWebMsgCollection").MsgCollection.get(a)}).filter(Boolean).map(function(a){return c("WAWebUpdateMsgBizPrivacyStatusAction")(a,f)}))});function e(b){return a.apply(this,arguments)}return e}(),getChatPrivacyInfoOnNewMsg:function(a){a=a.chatId;var b=d("WAWebChatCollection").ChatCollection.get(a);return{verifiedLevel:b==null?void 0:b.contact.verifiedLevel,privacyMode:d("WAWebPrivacyMode_WORKER_INCOMPATIBLE").getPrivacyModeFromModel(a)}},getContactData:function(a){a=a.ids;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getContactData"])));return new Map(a.map(function(a){var b=d("WAWebContactCollection").ContactCollection.get(a),c=d("WAWebEphemeralityResolver").getEphemeralDurationForUser(b);return[a.toJid(),{ephemeralDuration:c,shouldBlockByCountry:function(){return b==null?!1:d("WAWebTosCountryGating").shouldBlockByCountry(b)},shouldBlockByTos:function(){return b==null?!1:d("WAWebTosGating").shouldBlockByTos(b)}}]}))},getBizBotData:function(a){a=a.chatIds;return new Map(a.map(function(a){var b=d("WAWebChatCollection").ChatCollection.get(a);return[a.toJid(),{bizBotSystemMsgType:b==null?void 0:b.bizBotSystemMsgType}]}))},handleHistorySyncNotification:function(a){var b=a.historySyncMetaData,c=a.from;a=a.externalId;return d("WAWebHandleHistorySyncNotification").handleHistorySyncNotification(b,c,a)},handleAppStateSyncKeyShare:function(a){var b=a.keyShare;a=a.from;return d("WAWebKeyManagementHandleKeyShareApi").handleAppStateSyncKeyShare(b,a)},sendAppStateSyncKeyShare:function(a){a=a.keyShare;return d("WAWebKeyManagementSendKeyShareApi").sendAppStateSyncKeyShare(a)},restoreChatsAndMessages:function(){return d("WAWebRestoreChatsAndMessages").restoreChatsAndMessages()},restoreGroupsAndContacts:function(){return d("WAWebRestoreGroupsAndContacts").restoreGroupsAndContacts()},restoreProfilePictures:function(){return d("WAWebRestoreProfilePictures").restoreProfilePictures()},processAllOrphanPaymentNotifications:function(){return d("WAWebPaymentNotificationHandler").processAllOrphanPaymentNotifications()},handleAppStateSyncKeyRequest:function(a){var b=a.keyRequest;a=a.from;return d("WAWebKeyManagementHandleKeyRequestApi").handleAppStateSyncKeyRequest(b,a)},handlePeerDataOperationRequestResponse:function(a){var b=a.stanzaId;a=a.response;return d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequestResponse(b,a)},handlePeerDataOperationRequest:function(a){var b=a.stanzaId;a=a.request;return d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequest(b,a)},getFtsClientInstance:function(){return d("WAWebFtsClient").ftsClient},getOrQueryUsyncInfo:function(a){a=a.wid;return d("WAWebGetOrQueryUsyncInfoContactAction").getOrQueryUsyncInfo(a)},maybeSendKeyDistributionMsgToNewGroup:function(a){a=a.groupId;return d("WAWebGroupCreationKeyDistribution").maybeSendKeyDistributionMsgToNewGroup(a)},processOrphanPaymentNotifications:function(a){a=a.msgs;return d("WAWebPaymentNotificationHandler").processOrphanPaymentNotifications(a)},processLastMsgs:function(a){var c=a.chatId,e=a.msgObjs,f=a.meta,g=a.processMessagesOrigin,h=a.chatMsgsCollection;a=a.preserveOrder;var j=d("WAWebChatCollection").ChatCollection.get(c);return j&&j.msgs.length===0&&!j.pendingInitialLoading?d("WAWebMsgCollection").MsgCollection.processMultipleMessages(c,e,f,g,h,a):(i||(i=b("Promise"))).resolve([])},loadQuickPromotions:function(a){a=a.trigger;return d("WAWebJobLoadQuickPromotions").loadQuickPromotions(a)},fetchQuickPromotionsNow:function(){void d("WAWebFetchQuickPromotions").fetchQuickPromotions().then(function(){d("WATaskScheduler").rescheduleNow(d("WAWebTasksTaskType").TaskType.FETCH_QUICK_PROMOTIONS)})},fetchAdEntryPointsConfiguration:function(a){a=a.trigger;return d("WAWebFetchAdEntryPointsConfiguration").fetchAdEntryPointsConfiguration(a)},restoreCTWASuggestions:function(){return d("WAWebCTWASuggestionInitFromStorage").restoreCTWASuggestions()},resendUserMsg:function(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.excludeList;a=a.ackTime;return d("WAWebResendUserMsgMainThreadOnly").resendUserMsgMainThreadOnly(b,c,e,f,a)},resendGroupMsg:function(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.groupId,g=a.isDirect,h=a.oldList,i=a.phash,j=a.ackTime;a=a.serverAddressingMode;return d("WAWebResendGroupMsgMainThreadOnly").resendGroupMsgMainThreadOnly(b,c,e,f,g,h,i,j,a)},updateOptOutList:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield j.load());a=a.updateOptOutList;return a()});function c(){return a.apply(this,arguments)}return c}(),updateOptOutListCollection:function(a){a=a.wids;d("WAWebOptOutListCollection").OptOutListCollection.replaceAllWith(a)},updateOptOutListModelInCollection:d("WAWebOptOutListCollection").OptOutListCollection.updateOptOutListInCollectionAndDb,syncContactListJob:function(a){var b=a.contactIds,c=a.shouldSyncDevice;a=a.mode;return d("WAWebSyncContactJob").syncContactListJob(b,c,a)},handleMessageHistoryBundle:function(a){var b=a.msg;a=a.downloadOptions;return d("WAWebHandleMessageHistoryBundle").handleMessageHistoryBundle(b,a)},checkOrphanFavoriteStickers:function(){return d("WAWebSyncdOrphan").checkOrphanFavoriteStickers()}};g.WorkerSafeBridgeApi=a}),98);
__d("WAWebSetWorkerSafeHandlerApi",["WAWebWorkerSafeBridgeApi"],(function(a,b,c,d,e,f,g){function a(a){a.setHandlers("workerSafeEvent",babelHelpers["extends"]({},d("WAWebWorkerSafeBridgeApi").WorkerSafeBridgeApi))}g.setWorkerSafeHandlers=a}),98);
__d("useWAWebNoop",[],(function(a,b,c,d,e,f){"use strict";function a(){return}f["default"]=a}),66);