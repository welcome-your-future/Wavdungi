;/*FB_PKG_DELIM*/

__d("WAWeb-easeljs",[],(function(b,c,d,e,f,g){var h=h||{};h.extend=function(b,c){"use strict";function d(){this.constructor=b}return d.prototype=c.prototype,b.prototype=new d},h=h||{},h.promote=function(b,c){"use strict";var d=b.prototype,e=Object.getPrototypeOf&&Object.getPrototypeOf(d)||d.__proto__;if(e){d[(c+="_")+"constructor"]=e.constructor;for(var f in e)d.hasOwnProperty(f)&&"function"==typeof e[f]&&(d[c+f]=e[f])}return b},h=h||{},h.indexOf=function(b,c){"use strict";for(var d=0,e=b.length;e>d;d++)if(c===b[d])return d;return-1},h=h||{},(function(){"use strict";function b(b,c,d){this.type=b,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!c,this.cancelable=!!d,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},c.stopPropagation=function(){this.propagationStopped=!0},c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},c.remove=function(){this.removed=!0},c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)},c.set=function(b){for(var c in b)this[c]=b[c];return this},c.toString=function(){return"[Event (type="+this.type+")]"},h.Event=b})(),h=h||{},(function(){"use strict";function b(){this._listeners=null,this._captureListeners=null}var c=b.prototype;b.initialize=function(b){b.addEventListener=c.addEventListener,b.on=c.on,b.removeEventListener=b.off=c.removeEventListener,b.removeAllEventListeners=c.removeAllEventListeners,b.hasEventListener=c.hasEventListener,b.dispatchEvent=c.dispatchEvent,b._dispatchEvent=c._dispatchEvent,b.willTrigger=c.willTrigger},c.addEventListener=function(b,c,d){var e;e=d?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var f=e[b];return f&&this.removeEventListener(b,c,d),f=e[b],f?f.push(c):e[b]=[c],c},c.on=function(b,c,d,e,f,g){return c.handleEvent&&(d=d||c,c=c.handleEvent),d=d||this,this.addEventListener(b,function(b){c.call(d,b,f),e&&b.remove()},g)},c.removeEventListener=function(b,c,d){d=d?this._captureListeners:this._listeners;if(d){var e=d[b];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==c){1==g?delete d[b]:e.splice(f,1);break}}},c.off=c.removeEventListener,c.removeAllEventListeners=function(b){b?(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null},c.dispatchEvent=function(b,c,d){if("string"==typeof b){var e=this._listeners;if(!(c||e&&e[b]))return!0;b=new h.Event(b,c,d)}else b.target&&b.clone&&(b=b.clone());try{b.target=this}catch(b){}if(b.bubbles&&this.parent){for(e=this,c=[e];e.parent;)c.push(e=e.parent);d=c.length;for(e=d-1;e>=0&&!b.propagationStopped;e--)c[e]._dispatchEvent(b,1+(0==e));for(e=1;d>e&&!b.propagationStopped;e++)c[e]._dispatchEvent(b,3)}else this._dispatchEvent(b,2);return!b.defaultPrevented},c.hasEventListener=function(b){var c=this._listeners,d=this._captureListeners;return!!(c&&c[b]||d&&d[b])},c.willTrigger=function(b){for(var c=this;c;){if(c.hasEventListener(b))return!0;c=c.parent}return!1},c.toString=function(){return"[EventDispatcher]"},c._dispatchEvent=function(b,c){var d,e=1==c?this._captureListeners:this._listeners;if(b&&e){e=e[b.type];if(!e||!(d=e.length))return;try{b.currentTarget=this}catch(b){}try{b.eventPhase=c}catch(b){}b.removed=!1,e=e.slice();for(var f=0;d>f&&!b.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(b):g(b),b.removed&&(this.off(b.type,g,1==c),b.removed=!1)}}},h.EventDispatcher=b})(),h=h||{},(function(){"use strict";function b(){throw"Ticker cannot be instantiated."}b.RAF_SYNCHED="synched",b.RAF="raf",b.TIMEOUT="timeout",b.useRAF=!1,b.timingMode=null,b.maxDelta=0,b.paused=!1,b.removeEventListener=null,b.removeAllEventListeners=null,b.dispatchEvent=null,b.hasEventListener=null,b._listeners=null,h.EventDispatcher.initialize(b),b._addEventListener=b.addEventListener,b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)},b._inited=!1,b._startTime=0,b._pausedTime=0,b._ticks=0,b._pausedTicks=0,b._interval=50,b._lastTime=0,b._times=null,b._tickTimes=null,b._timerId=null,b._raf=!0,b.setInterval=function(c){b._interval=c,b._inited&&b._setupTick()},b.getInterval=function(){return b._interval},b.setFPS=function(c){b.setInterval(1e3/c)},b.getFPS=function(){return 1e3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(b){}b.init=function(){b._inited||(b._inited=!0,b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)},b.reset=function(){if(b._raf){var c=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;c&&c(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick"),b._timerId=b._times=b._tickTimes=null,b._startTime=b._lastTime=b._ticks=0,b._inited=!1},b.getMeasuredTickTime=function(d){var c=0,e=b._tickTimes;if(!e||e.length<1)return-1;d=Math.min(e.length,d||0|b.getFPS());for(var f=0;d>f;f++)c+=e[f];return c/d},b.getMeasuredFPS=function(d){var c=b._times;return!c||c.length<2?-1:(d=Math.min(c.length-1,d||0|b.getFPS()),1e3/((c[0]-c[d])/d))},b.setPaused=function(c){b.paused=c},b.getPaused=function(){return b.paused},b.getTime=function(c){return b._startTime?b._getTime()-(c?b._pausedTime:0):-1},b.getEventTime=function(c){return b._startTime?(b._lastTime||b._startTime)-(c?b._pausedTime:0):-1},b.getTicks=function(c){return b._ticks-(c?b._pausedTicks:0)},b._handleSynch=function(){b._timerId=null,b._setupTick(),b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()},b._handleRAF=function(){b._timerId=null,b._setupTick(),b._tick()},b._handleTimeout=function(){b._timerId=null,b._setupTick(),b._tick()},b._setupTick=function(){if(null==b._timerId){var d=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(d==b.RAF_SYNCHED||d==b.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return b._timerId=c(d==b.RAF?b._handleRAF:b._handleSynch),void (b._raf=!0)}b._raf=!1,b._timerId=setTimeout(b._handleTimeout,b._interval)}},b._tick=function(){var d=b.paused,c=b._getTime(),e=c-b._lastTime;if(b._lastTime=c,b._ticks++,d&&(b._pausedTicks++,b._pausedTime+=e),b.hasEventListener("tick")){var f=new h.Event("tick"),g=b.maxDelta;f.delta=g&&e>g?g:e,f.paused=d,f.time=c,f.runTime=c-b._pausedTime,b.dispatchEvent(f)}for(b._tickTimes.unshift(b._getTime()-c);b._tickTimes.length>100;)b._tickTimes.pop();for(b._times.unshift(c);b._times.length>100;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime},h.Ticker=b})(),h=h||{},(function(){"use strict";function b(){throw"UID cannot be instantiated"}b._nextID=0,b.get=function(){return b._nextID++},h.UID=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h,i,j,k,l){this.Event_constructor(b,c,d),this.stageX=e,this.stageY=f,this.rawX=null==j?e:j,this.rawY=null==k?f:k,this.nativeEvent=g,this.pointerID=h,this.primary=!!i,this.relatedTarget=l}var c=h.extend(b,h.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},c._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(c,{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(b){}c.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},h.MouseEvent=h.promote(b,"Event")})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g){this.setValues(b,c,d,e,f,g)}var c=b.prototype;b.DEG_TO_RAD=Math.PI/180,b.identity=null,c.setValues=function(b,c,d,e,f,g){return this.a=null==b?1:b,this.b=c||0,this.c=d||0,this.d=null==e?1:e,this.tx=f||0,this.ty=g||0,this},c.append=function(b,c,d,e,f,g){var h=this.a,i=this.b,j=this.c,k=this.d;return(1!=b||0!=c||0!=d||1!=e)&&(this.a=h*b+j*c,this.b=i*b+k*c,this.c=h*d+j*e,this.d=i*d+k*e),this.tx=h*f+j*g+this.tx,this.ty=i*f+k*g+this.ty,this},c.prepend=function(b,c,d,e,f,g){var h=this.a,i=this.c,j=this.tx;return this.a=b*h+d*this.b,this.b=c*h+e*this.b,this.c=b*i+d*this.d,this.d=c*i+e*this.d,this.tx=b*j+d*this.ty+f,this.ty=c*j+e*this.ty+g,this},c.appendMatrix=function(b){return this.append(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.prependMatrix=function(b){return this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.appendTransform=function(c,d,e,f,g,h,i,j,k){if(g%360)var g=g*b.DEG_TO_RAD,l=Math.cos(g),g=Math.sin(g);else l=1,g=0;return h||i?(h*=b.DEG_TO_RAD,i*=b.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(h),Math.cos(h),c,d),this.append(l*e,g*e,-g*f,l*f,0,0)):this.append(l*e,g*e,-g*f,l*f,c,d),(j||k)&&(this.tx-=j*this.a+k*this.c,this.ty-=j*this.b+k*this.d),this},c.prependTransform=function(c,d,e,f,g,h,i,j,k){if(g%360)var g=g*b.DEG_TO_RAD,l=Math.cos(g),g=Math.sin(g);else l=1,g=0;return(j||k)&&(this.tx-=j,this.ty-=k),h||i?(h*=b.DEG_TO_RAD,i*=b.DEG_TO_RAD,this.prepend(l*e,g*e,-g*f,l*f,0,0),this.prepend(Math.cos(i),Math.sin(i),-Math.sin(h),Math.cos(h),c,d)):this.prepend(l*e,g*e,-g*f,l*f,c,d),this},c.rotate=function(c){c*=b.DEG_TO_RAD;var d=Math.cos(c);c=Math.sin(c);var e=this.a,f=this.b;return this.a=e*d+this.c*c,this.b=f*d+this.d*c,this.c=-e*c+this.c*d,this.d=-f*c+this.d*d,this},c.skew=function(c,d){return c*=b.DEG_TO_RAD,d*=b.DEG_TO_RAD,this.append(Math.cos(d),Math.sin(d),-Math.sin(c),Math.cos(c),0,0),this},c.scale=function(b,c){return this.a*=b,this.b*=b,this.c*=c,this.d*=c,this},c.translate=function(b,c){return this.tx+=this.a*b+this.c*c,this.ty+=this.b*b+this.d*c,this},c.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},c.invert=function(){var b=this.a,c=this.b,d=this.c,e=this.d,f=this.tx,g=b*e-c*d;return this.a=e/g,this.b=-c/g,this.c=-d/g,this.d=b/g,this.tx=(d*this.ty-e*f)/g,this.ty=-(b*this.ty-c*f)/g,this},c.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},c.equals=function(b){return this.tx===b.tx&&this.ty===b.ty&&this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d},c.transformPoint=function(b,c,d){return d=d||{},d.x=b*this.a+c*this.c+this.tx,d.y=b*this.b+c*this.d+this.ty,d},c.decompose=function(c){null==c&&(c={}),c.x=this.tx,c.y=this.ty,c.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),c.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var d=Math.atan2(-this.c,this.d),e=Math.atan2(this.b,this.a),f=Math.abs(1-d/e);return 1e-5>f?(c.rotation=e/b.DEG_TO_RAD,this.a<0&&this.d>=0&&(c.rotation+=c.rotation<=0?180:-180),c.skewX=c.skewY=0):(c.skewX=d/b.DEG_TO_RAD,c.skewY=e/b.DEG_TO_RAD),c},c.copy=function(b){return this.setValues(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)},c.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},b.identity=new b,h.Matrix2D=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f){this.setValues(b,c,d,e,f)}var c=b.prototype;c.setValues=function(b,c,d,e,f){return this.visible=null==b?!0:!!b,this.alpha=null==c?1:c,this.shadow=d,this.compositeOperation=e,this.matrix=f||this.matrix&&this.matrix.identity()||new h.Matrix2D,this},c.append=function(b,c,d,e,f){return this.alpha*=c,this.shadow=d||this.shadow,this.compositeOperation=e||this.compositeOperation,this.visible=this.visible&&b,f&&this.matrix.appendMatrix(f),this},c.prepend=function(b,c,d,e,f){return this.alpha*=c,this.shadow=this.shadow||d,this.compositeOperation=this.compositeOperation||e,this.visible=this.visible&&b,f&&this.matrix.prependMatrix(f),this},c.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},c.clone=function(){return new b(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},h.DisplayProps=b})(),h=h||{},(function(){"use strict";function b(b,c){this.setValues(b,c)}var c=b.prototype;c.setValues=function(b,c){return this.x=b||0,this.y=c||0,this},c.copy=function(b){return this.x=b.x,this.y=b.y,this},c.clone=function(){return new b(this.x,this.y)},c.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},h.Point=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.setValues(b,c,d,e)}var c=b.prototype;c.setValues=function(b,c,d,e){return this.x=b||0,this.y=c||0,this.width=d||0,this.height=e||0,this},c.extend=function(b,c,d,e){return d=d||0,e=e||0,b+d>this.x+this.width&&(this.width=b+d-this.x),c+e>this.y+this.height&&(this.height=c+e-this.y),b<this.x&&(this.width+=this.x-b,this.x=b),c<this.y&&(this.height+=this.y-c,this.y=c),this},c.pad=function(b,c,d,e){return this.x-=c,this.y-=b,this.width+=c+e,this.height+=b+d,this},c.copy=function(b){return this.setValues(b.x,b.y,b.width,b.height)},c.contains=function(b,c,d,e){return d=d||0,e=e||0,b>=this.x&&b+d<=this.x+this.width&&c>=this.y&&c+e<=this.y+this.height},c.union=function(b){return this.clone().extend(b.x,b.y,b.width,b.height)},c.intersection=function(c){var d=c.x,e=c.y,f=d+c.width;c=e+c.height;return this.x>d&&(d=this.x),this.y>e&&(e=this.y),this.x+this.width<f&&(f=this.x+this.width),this.y+this.height<c&&(c=this.y+this.height),d>=f||e>=c?null:new b(d,e,f-d,c-e)},c.intersects=function(b){return b.x<=this.x+this.width&&this.x<=b.x+b.width&&b.y<=this.y+this.height&&this.y<=b.y+b.height},c.isEmpty=function(){return this.width<=0||this.height<=0},c.clone=function(){return new b(this.x,this.y,this.width,this.height)},c.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},h.Rectangle=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h){b.addEventListener&&(this.target=b,this.overLabel=null==d?"over":d,this.outLabel=null==c?"out":c,this.downLabel=null==e?"down":e,this.play=f,this._isPressed=!1,this._isOver=!1,this._enabled=!1,b.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),g&&(h&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(h)),b.hitArea=g))}var c=b.prototype;c.setEnabled=function(b){if(b!=this._enabled){var c=this.target;this._enabled=b,b?(c.cursor="pointer",c.addEventListener("rollover",this),c.addEventListener("rollout",this),c.addEventListener("mousedown",this),c.addEventListener("pressup",this),c._reset&&(c.__reset=c._reset,c._reset=this._reset)):(c.cursor=null,c.removeEventListener("rollover",this),c.removeEventListener("rollout",this),c.removeEventListener("mousedown",this),c.removeEventListener("pressup",this),c.__reset&&(c._reset=c.__reset,delete c.__reset))}},c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(b){}c.toString=function(){return"[ButtonHelper]"},c.handleEvent=function(b){var c,d=this.target;b=b.type;"mousedown"==b?(this._isPressed=!0,c=this.downLabel):"pressup"==b?(this._isPressed=!1,c=this._isOver?this.overLabel:this.outLabel):"rollover"==b?(this._isOver=!0,c=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,c=this._isPressed?this.overLabel:this.outLabel),this.play?d.gotoAndPlay&&d.gotoAndPlay(c):d.gotoAndStop&&d.gotoAndStop(c)},c._reset=function(){var b=this.paused;this.__reset(),this.paused=b},h.ButtonHelper=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.color=b||"black",this.offsetX=c||0,this.offsetY=d||0,this.blur=e||0}var c=b.prototype;b.identity=new b("transparent",0,0,0),c.toString=function(){return"[Shadow]"},c.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)},h.Shadow=b})(),h=h||{},(function(){"use strict";function b(b){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(b)}var c=h.extend(b,h.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(b){}c.getNumFrames=function(b){if(null==b)return this._frames?this._frames.length:this._numFrames||0;b=this._data[b];return null==b?0:b.frames.length},c.getAnimation=function(b){return this._data[b]},c.getFrame=function(b){var c;return this._frames&&(c=this._frames[b])?c:null},c.getFrameBounds=function(b,c){b=this.getFrame(b);return b?(c||new h.Rectangle).setValues(-b.regX,-b.regY,b.rect.width,b.rect.height):null},c.toString=function(){return"[SpriteSheet]"},c.clone=function(){throw"SpriteSheet cannot be cloned."},c._parseData=function(b){var c,d,e;if(null!=b){if(this.framerate=b.framerate||0,b.images&&(d=b.images.length)>0)for(e=this._images=[],c=0;d>c;c++){var f=b.images[c];if("string"==typeof f){var g=f;f=document.createElement("img"),f.src=g}e.push(f),f.getContext||f.naturalWidth||(this._loadCount++,this.complete=!1,function(b,c){f.onload=function(){b._handleImageLoad(c)}}(this,g),function(b,c){f.onerror=function(){b._handleImageError(c)}}(this,g))}if(!(null==b.frames))if(Array.isArray(b.frames))for(this._frames=[],e=b.frames,c=0,d=e.length;d>c;c++){var i=e[c];this._frames.push({image:this._images[i[4]?i[4]:0],rect:new h.Rectangle(i[0],i[1],i[2],i[3]),regX:i[5]||0,regY:i[6]||0})}else i=b.frames,this._frameWidth=i.width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._spacing=i.spacing||0,this._margin=i.margin||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(i=b.animations)){this._data={};for(b in i){var j={name:b},k=i[b];if("number"==typeof k)e=j.frames=[k];else if(Array.isArray(k))if(1==k.length)j.frames=[k[0]];else for(j.speed=k[3],j.next=k[2],e=j.frames=[],c=k[0];c<=k[1];c++)e.push(c);else{j.speed=k.speed,j.next=k.next;k=k.frames;e=j.frames="number"==typeof k?[k]:k.slice(0)}(j.next===!0||void 0===j.next)&&(j.next=b),(j.next===!1||e.length<2&&j.next==b)&&(j.next=null),j.speed||(j.speed=1),this._animations.push(b),this._data[b]=j}}}},c._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},c._handleImageError=function(b){var c=new h.Event("error");c.src=b,this.dispatchEvent(c),0==--this._loadCount&&this.dispatchEvent("complete")},c._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var b=this._numFrames||1e5,c=0,d=this._frameWidth,e=this._frameHeight,f=this._spacing,g=this._margin;a:for(var i=0,j=this._images;i<j.length;i++)for(var k=j[i],l=k.width,m=k.height,n=g;m-g-e>=n;){for(var o=g;l-g-d>=o;){if(c>=b)break a;c++,this._frames.push({image:k,rect:new h.Rectangle(o,n,d,e),regX:this._regX,regY:this._regY}),o+=d+f}n+=e+f}this._numFrames=c}},h.SpriteSheet=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var c=b.prototype,d=b;b.getRGB=function(b,c,d,e){return null!=b&&null==d&&(e=c,d=255&b,c=b>>8&255,b=b>>16&255),null==e?"rgb("+b+","+c+","+d+")":"rgba("+b+","+c+","+d+","+e+")"},b.getHSL=function(b,c,d,e){return null==e?"hsl("+b%360+","+c+"%,"+d+"%)":"hsla("+b%360+","+c+"%,"+d+"%,"+e+")"},b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},b.STROKE_CAPS_MAP=["butt","round","square"],b.STROKE_JOINTS_MAP=["miter","round","bevel"];var e=h.createCanvas?h.createCanvas():document.createElement("canvas");e.getContext&&(b._ctx=e.getContext("2d"),e.width=e.height=1),c.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(c,{instructions:{get:c.getInstructions}})}catch(b){}c.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},c.draw=function(b,c){this._updateInstructions();for(var d=this._instructions,e=this._storeIndex,f=d.length;f>e;e++)d[e].exec(b,c)},c.drawAsPath=function(b){this._updateInstructions();for(var c,d=this._instructions,e=this._storeIndex,f=d.length;f>e;e++)(c=d[e]).path!==!1&&c.exec(b)},c.moveTo=function(b,c){return this.append(new d.MoveTo(b,c),!0)},c.lineTo=function(b,c){return this.append(new d.LineTo(b,c))},c.arcTo=function(b,c,e,f,g){return this.append(new d.ArcTo(b,c,e,f,g))},c.arc=function(b,c,e,f,g,h){return this.append(new d.Arc(b,c,e,f,g,h))},c.quadraticCurveTo=function(b,c,e,f){return this.append(new d.QuadraticCurveTo(b,c,e,f))},c.bezierCurveTo=function(b,c,e,f,g,h){return this.append(new d.BezierCurveTo(b,c,e,f,g,h))},c.rect=function(b,c,e,f){return this.append(new d.Rect(b,c,e,f))},c.closePath=function(){return this._activeInstructions.length?this.append(new d.ClosePath):this},c.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},c.beginFill=function(b){return this._setFill(b?new d.Fill(b):null)},c.beginLinearGradientFill=function(b,c,e,f,g,h){return this._setFill((new d.Fill).linearGradient(b,c,e,f,g,h))},c.beginRadialGradientFill=function(b,c,e,f,g,h,i,j){return this._setFill((new d.Fill).radialGradient(b,c,e,f,g,h,i,j))},c.beginBitmapFill=function(b,c,e){return this._setFill(new d.Fill(null,e).bitmap(b,c))},c.endFill=function(){return this.beginFill()},c.setStrokeStyle=function(b,c,e,f,g){return this._updateInstructions(!0),this._strokeStyle=this.command=new d.StrokeStyle(b,c,e,f,g),this._stroke&&(this._stroke.ignoreScale=g),this._strokeIgnoreScale=g,this},c.setStrokeDash=function(b,c){return this._updateInstructions(!0),this._strokeDash=this.command=new d.StrokeDash(b,c),this},c.beginStroke=function(b){return this._setStroke(b?new d.Stroke(b):null)},c.beginLinearGradientStroke=function(b,c,e,f,g,h){return this._setStroke((new d.Stroke).linearGradient(b,c,e,f,g,h))},c.beginRadialGradientStroke=function(b,c,e,f,g,h,i,j){return this._setStroke((new d.Stroke).radialGradient(b,c,e,f,g,h,i,j))},c.beginBitmapStroke=function(b,c){return this._setStroke((new d.Stroke).bitmap(b,c))},c.endStroke=function(){return this.beginStroke()},c.curveTo=c.quadraticCurveTo,c.drawRect=c.rect,c.drawRoundRect=function(b,c,d,e,f){return this.drawRoundRectComplex(b,c,d,e,f,f,f,f)},c.drawRoundRectComplex=function(b,c,e,f,g,h,i,j){return this.append(new d.RoundRect(b,c,e,f,g,h,i,j))},c.drawCircle=function(b,c,e){return this.append(new d.Circle(b,c,e))},c.drawEllipse=function(b,c,e,f){return this.append(new d.Ellipse(b,c,e,f))},c.drawPolyStar=function(b,c,e,f,g,h){return this.append(new d.PolyStar(b,c,e,f,g,h))},c.append=function(b,c){return this._activeInstructions.push(b),this.command=b,c||(this._dirty=!0),this},c.decodePath=function(c){for(var d=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],e=[2,2,4,6,0],f=0,g=c.length,h=[],i=0,j=0,k=b.BASE_64;g>f;){var l=c.charAt(f),m=k[l],n=m>>3,o=d[n];if(!o||3&m)throw"bad path data (@"+f+"): "+l;l=e[n];n||(i=j=0),h.length=0,f++;for(n=(m>>2&1)+2,m=0;l>m;m++){var a=k[c.charAt(f)],p=a>>5?-1:1;a=(31&a)<<6|k[c.charAt(f+1)],3==n&&(a=a<<6|k[c.charAt(f+2)]),a=p*a/10,m%2?i=a+=i:j=a+=j,h[m]=a,f+=n}o.apply(this,h)}return this},c.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},c.unstore=function(){return this._storeIndex=0,this},c.clone=function(){var c=new b;return c.command=this.command,c._stroke=this._stroke,c._strokeStyle=this._strokeStyle,c._strokeDash=this._strokeDash,c._strokeIgnoreScale=this._strokeIgnoreScale,c._fill=this._fill,c._instructions=this._instructions.slice(),c._commitIndex=this._commitIndex,c._activeInstructions=this._activeInstructions.slice(),c._dirty=this._dirty,c._storeIndex=this._storeIndex,c},c.toString=function(){return"[Graphics]"},c.mt=c.moveTo,c.lt=c.lineTo,c.at=c.arcTo,c.bt=c.bezierCurveTo,c.qt=c.quadraticCurveTo,c.a=c.arc,c.r=c.rect,c.cp=c.closePath,c.c=c.clear,c.f=c.beginFill,c.lf=c.beginLinearGradientFill,c.rf=c.beginRadialGradientFill,c.bf=c.beginBitmapFill,c.ef=c.endFill,c.ss=c.setStrokeStyle,c.sd=c.setStrokeDash,c.s=c.beginStroke,c.ls=c.beginLinearGradientStroke,c.rs=c.beginRadialGradientStroke,c.bs=c.beginBitmapStroke,c.es=c.endStroke,c.dr=c.drawRect,c.rr=c.drawRoundRect,c.rc=c.drawRoundRectComplex,c.dc=c.drawCircle,c.de=c.drawEllipse,c.dp=c.drawPolyStar,c.p=c.decodePath,c._updateInstructions=function(c){var d=this._instructions,e=this._activeInstructions,f=this._commitIndex;if(this._dirty&&e.length){d.length=f,d.push(b.beginCmd);f=e.length;var g=d.length;d.length=g+f;for(var h=0;f>h;h++)d[h+g]=e[h];this._fill&&d.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,d.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,d.push(this._strokeStyle)),d.push(this._stroke)),this._dirty=!1}c&&(e.length=0,this._commitIndex=d.length)},c._setFill=function(b){return this._updateInstructions(!0),this.command=this._fill=b,this},c._setStroke=function(b){return this._updateInstructions(!0),(this.command=this._stroke=b)&&(b.ignoreScale=this._strokeIgnoreScale),this},(d.LineTo=function(b,c){this.x=b,this.y=c}).prototype.exec=function(b){b.lineTo(this.x,this.y)},(d.MoveTo=function(b,c){this.x=b,this.y=c}).prototype.exec=function(b){b.moveTo(this.x,this.y)},(d.ArcTo=function(b,c,d,e,f){this.x1=b,this.y1=c,this.x2=d,this.y2=e,this.radius=f}).prototype.exec=function(b){b.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(d.Arc=function(b,c,d,e,f,g){this.x=b,this.y=c,this.radius=d,this.startAngle=e,this.endAngle=f,this.anticlockwise=!!g}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(d.QuadraticCurveTo=function(b,c,d,e){this.cpx=b,this.cpy=c,this.x=d,this.y=e}).prototype.exec=function(b){b.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(d.BezierCurveTo=function(b,c,d,e,f,g){this.cp1x=b,this.cp1y=c,this.cp2x=d,this.cp2y=e,this.x=f,this.y=g}).prototype.exec=function(b){b.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(d.Rect=function(b,c,d,e){this.x=b,this.y=c,this.w=d,this.h=e}).prototype.exec=function(b){b.rect(this.x,this.y,this.w,this.h)},(d.ClosePath=function(){}).prototype.exec=function(b){b.closePath()},(d.BeginPath=function(){}).prototype.exec=function(b){b.beginPath()},c=(d.Fill=function(b,c){this.style=b,this.matrix=c}).prototype,c.exec=function(b){if(this.style){b.fillStyle=this.style;var c=this.matrix;c&&(b.save(),b.transform(c.a,c.b,c.c,c.d,c.tx,c.ty)),b.fill(),c&&b.restore()}},c.linearGradient=function(c,d,e,f,g,h){for(var i=this.style=b._ctx.createLinearGradient(e,f,g,h),j=0,k=c.length;k>j;j++)i.addColorStop(d[j],c[j]);return i.props={colors:c,ratios:d,x0:e,y0:f,x1:g,y1:h,type:"linear"},this},c.radialGradient=function(c,d,e,f,g,h,i,j){for(var k=this.style=b._ctx.createRadialGradient(e,f,g,h,i,j),l=0,m=c.length;m>l;l++)k.addColorStop(d[l],c[l]);return k.props={colors:c,ratios:d,x0:e,y0:f,r0:g,x1:h,y1:i,r1:j,type:"radial"},this},c.bitmap=function(c,d){if(c.naturalWidth||c.getContext||c.readyState>=2){var e=this.style=b._ctx.createPattern(c,d||"");e.props={image:c,repetition:d,type:"bitmap"}}return this},c.path=!1,c=(d.Stroke=function(b,c){this.style=b,this.ignoreScale=c}).prototype,c.exec=function(b){this.style&&(b.strokeStyle=this.style,this.ignoreScale&&(b.save(),b.setTransform(1,0,0,1,0,0)),b.stroke(),this.ignoreScale&&b.restore())},c.linearGradient=d.Fill.prototype.linearGradient,c.radialGradient=d.Fill.prototype.radialGradient,c.bitmap=d.Fill.prototype.bitmap,c.path=!1,c=(d.StrokeStyle=function(b,c,d,e,f){this.width=b,this.caps=c,this.joints=d,this.miterLimit=e,this.ignoreScale=f}).prototype,c.exec=function(c){c.lineWidth=null==this.width?"1":this.width,c.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:b.STROKE_CAPS_MAP[this.caps],c.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:b.STROKE_JOINTS_MAP[this.joints],c.miterLimit=null==this.miterLimit?"10":this.miterLimit,c.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale},c.path=!1,(d.StrokeDash=function(b,c){this.segments=b,this.offset=c||0}).prototype.exec=function(b){b.setLineDash&&(b.setLineDash(this.segments||d.StrokeDash.EMPTY_SEGMENTS),b.lineDashOffset=this.offset||0)},d.StrokeDash.EMPTY_SEGMENTS=[],(d.RoundRect=function(b,c,d,e,f,g,h,i){this.x=b,this.y=c,this.w=d,this.h=e,this.radiusTL=f,this.radiusTR=g,this.radiusBR=h,this.radiusBL=i}).prototype.exec=function(b){var c=(k>j?j:k)/2,d=0,e=0,f=0,g=0,h=this.x,i=this.y,j=this.w,k=this.h,l=this.radiusTL,m=this.radiusTR,n=this.radiusBR,o=this.radiusBL;0>l&&(l*=d=-1),l>c&&(l=c),0>m&&(m*=e=-1),m>c&&(m=c),0>n&&(n*=f=-1),n>c&&(n=c),0>o&&(o*=g=-1),o>c&&(o=c),b.moveTo(h+j-m,i),b.arcTo(h+j+m*e,i-m*e,h+j,i+m,m),b.lineTo(h+j,i+k-n),b.arcTo(h+j+n*f,i+k+n*f,h+j-n,i+k,n),b.lineTo(h+o,i+k),b.arcTo(h-o*g,i+k+o*g,h,i+k-o,o),b.lineTo(h,i+l),b.arcTo(h-l*d,i-l*d,h+l,i,l),b.closePath()},(d.Circle=function(b,c,d){this.x=b,this.y=c,this.radius=d}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,0,2*Math.PI)},(d.Ellipse=function(b,c,d,e){this.x=b,this.y=c,this.w=d,this.h=e}).prototype.exec=function(b){var c=this.x,d=this.y,e=this.w,f=this.h,g=.5522848,h=e/2*g;g=f/2*g;var i=c+e,j=d+f;e=c+e/2;f=d+f/2;b.moveTo(c,f),b.bezierCurveTo(c,f-g,e-h,d,e,d),b.bezierCurveTo(e+h,d,i,f-g,i,f),b.bezierCurveTo(i,f+g,e+h,j,e,j),b.bezierCurveTo(e-h,j,c,f+g,c,f)},(d.PolyStar=function(b,c,d,e,f,g){this.x=b,this.y=c,this.radius=d,this.sides=e,this.pointSize=f,this.angle=g}).prototype.exec=function(b){var c=this.x,d=this.y,e=this.radius,f=(this.angle||0)/180*Math.PI,g=this.sides,h=1-(this.pointSize||0),i=Math.PI/g;b.moveTo(c+Math.cos(f)*e,d+Math.sin(f)*e);for(var j=0;g>j;j++)f+=i,1!=h&&b.lineTo(c+Math.cos(f)*e*h,d+Math.sin(f)*e*h),f+=i,b.lineTo(c+Math.cos(f)*e,d+Math.sin(f)*e);b.closePath()},b.beginCmd=new d.BeginPath,h.Graphics=b})(),h=h||{},(function(){"use strict";function b(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=h.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new h.DisplayProps,this._rectangle=new h.Rectangle,this._bounds=null}var c=h.extend(b,h.EventDispatcher);b._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],b.suppressCrossDomainErrors=!1,b._snapToPixelEnabled=!1;var d=h.createCanvas?h.createCanvas():document.createElement("canvas");d.getContext&&(b._hitTestCanvas=d,b._hitTestContext=d.getContext("2d"),d.width=d.height=1),b._nextCacheID=1,c.getStage=function(){for(var b=this,c=h.Stage;b.parent;)b=b.parent;return b instanceof c?b:null};try{Object.defineProperties(c,{stage:{get:c.getStage}})}catch(b){}c.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},c.draw=function(b,c){var d=this.cacheCanvas;if(c||!d)return!1;c=this._cacheScale;return b.drawImage(d,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,d.width/c,d.height/c),!0},c.updateContext=function(c){var d=this,e=d.mask,f=d._props.matrix;e&&e.graphics&&!e.graphics.isEmpty()&&(e.getMatrix(f),c.transform(f.a,f.b,f.c,f.d,f.tx,f.ty),e.graphics.drawAsPath(c),c.clip(),f.invert(),c.transform(f.a,f.b,f.c,f.d,f.tx,f.ty)),this.getMatrix(f);e=f.tx;var g=f.ty;b._snapToPixelEnabled&&d.snapToPixel&&(e=e+(0>e?-.5:.5)|0,g=g+(0>g?-.5:.5)|0),c.transform(f.a,f.b,f.c,f.d,e,g),c.globalAlpha*=d.alpha,d.compositeOperation&&(c.globalCompositeOperation=d.compositeOperation),d.shadow&&this._applyShadow(c,d.shadow)},c.cache=function(b,c,d,e,f){f=f||1,this.cacheCanvas||(this.cacheCanvas=h.createCanvas?h.createCanvas():document.createElement("canvas")),this._cacheWidth=d,this._cacheHeight=e,this._cacheOffsetX=b,this._cacheOffsetY=c,this._cacheScale=f,this.updateCache()},c.updateCache=function(c){var d=this.cacheCanvas;if(!d)throw"cache() must be called before updateCache()";var e=this._cacheScale,f=this._cacheOffsetX*e,g=this._cacheOffsetY*e,h=this._cacheWidth,i=this._cacheHeight,j=d.getContext("2d"),k=this._getFilterBounds();f+=this._filterOffsetX=k.x,g+=this._filterOffsetY=k.y,h=Math.ceil(h*e)+k.width,i=Math.ceil(i*e)+k.height,h!=d.width||i!=d.height?(d.width=h,d.height=i):c||j.clearRect(0,0,h+1,i+1),j.save(),j.globalCompositeOperation=c,j.setTransform(e,0,0,e,-f,-g),this.draw(j,!0),this._applyFilters(),j.restore(),this.cacheID=b._nextCacheID++},c.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},c.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},c.localToGlobal=function(b,c,d){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(b,c,d||new h.Point)},c.globalToLocal=function(b,c,d){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(b,c,d||new h.Point)},c.localToLocal=function(b,c,d,e){return e=this.localToGlobal(b,c,e),d.globalToLocal(e.x,e.y,e)},c.setTransform=function(b,c,d,e,f,g,h,i,j){return this.x=b||0,this.y=c||0,this.scaleX=null==d?1:d,this.scaleY=null==e?1:e,this.rotation=f||0,this.skewX=g||0,this.skewY=h||0,this.regX=i||0,this.regY=j||0,this},c.getMatrix=function(b){var c=this;b=b&&b.identity()||new h.Matrix2D;return c.transformMatrix?b.copy(c.transformMatrix):b.appendTransform(c.x,c.y,c.scaleX,c.scaleY,c.rotation,c.skewX,c.skewY,c.regX,c.regY)},c.getConcatenatedMatrix=function(b){for(var c=this,b=this.getMatrix(b);c=c.parent;)b.prependMatrix(c.getMatrix(c._props.matrix));return b},c.getConcatenatedDisplayProps=function(b){b=b?b.identity():new h.DisplayProps;var c=this,d=c.getMatrix(b.matrix);do b.prepend(c.visible,c.alpha,c.shadow,c.compositeOperation),c!=this&&d.prependMatrix(c.getMatrix(c._props.matrix));while(c=c.parent);return b},c.hitTest=function(c,d){var e=b._hitTestContext;e.setTransform(1,0,0,1,-c,-d),this.draw(e);c=this._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),c},c.set=function(b){for(var c in b)this[c]=b[c];return this},c.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var b=this.cacheCanvas;if(b){var c=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,b.width/c,b.height/c)}return null},c.getTransformedBounds=function(){return this._getBounds()},c.setBounds=function(b,c,d,e){null==b&&(this._bounds=b),this._bounds=(this._bounds||new h.Rectangle).setValues(b,c,d,e)},c.clone=function(){return this._cloneProps(new b)},c.toString=function(){return"[DisplayObject (name="+this.name+")]"},c._cloneProps=function(b){return b.alpha=this.alpha,b.mouseEnabled=this.mouseEnabled,b.tickEnabled=this.tickEnabled,b.name=this.name,b.regX=this.regX,b.regY=this.regY,b.rotation=this.rotation,b.scaleX=this.scaleX,b.scaleY=this.scaleY,b.shadow=this.shadow,b.skewX=this.skewX,b.skewY=this.skewY,b.visible=this.visible,b.x=this.x,b.y=this.y,b.compositeOperation=this.compositeOperation,b.snapToPixel=this.snapToPixel,b.filters=null==this.filters?null:this.filters.slice(0),b.mask=this.mask,b.hitArea=this.hitArea,b.cursor=this.cursor,b._bounds=this._bounds,b},c._applyShadow=function(b,c){c=c||Shadow.identity,b.shadowColor=c.color,b.shadowOffsetX=c.offsetX,b.shadowOffsetY=c.offsetY,b.shadowBlur=c.blur},c._tick=function(b){var c=this._listeners;c&&c.tick&&(b.target=null,b.propagationStopped=b.immediatePropagationStopped=!1,this.dispatchEvent(b))},c._testHit=function(c){try{var d=c.getImageData(0,0,1,1).data[3]>1}catch(c){if(!b.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return d},c._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,c=this.cacheCanvas.getContext("2d"),d=this.cacheCanvas.width,e=this.cacheCanvas.height,f=0;b>f;f++)this.filters[f].applyFilter(c,0,0,d,e)},c._getFilterBounds=function(){var b,c=this.filters,d=this._rectangle.setValues(0,0,0,0);if(!c||!(b=c.length))return d;for(c=0;b>c;c++){var e=this.filters[c];e.getBounds&&e.getBounds(d)}return d},c._getBounds=function(b,c){return this._transformBounds(this.getBounds(),b,c)},c._transformBounds=function(b,c,d){if(!b)return b;var e=b.x,f=b.y,g=b.width,h=b.height,i=this._props.matrix;i=d?i.identity():this.getMatrix(i),(e||f)&&i.appendTransform(0,0,1,1,0,0,0,-e,-f),c&&i.prependMatrix(c);d=g*i.a;c=g*i.b;g=h*i.c;h=h*i.d;var j=i.tx;i=i.ty;var k=j,l=j,m=i,n=i;return(e=d+j)<k?k=e:e>l&&(l=e),(e=d+g+j)<k?k=e:e>l&&(l=e),(e=g+j)<k?k=e:e>l&&(l=e),(f=c+i)<m?m=f:f>n&&(n=f),(f=c+h+i)<m?m=f:f>n&&(n=f),(f=h+i)<m?m=f:f>n&&(n=f),b.setValues(k,m,l-k,n-m)},c._hasMouseEventListener=function(){for(var c=b._MOUSE_EVENTS,d=0,e=c.length;e>d;d++)if(this.hasEventListener(c[d]))return!0;return!!this.cursor},h.DisplayObject=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var c=h.extend(b,h.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(b){}c.initialize=b,c.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;for(var c=this.children.slice(),d=0,e=c.length;e>d;d++){var f=c[d];f.isVisible()&&(b.save(),f.updateContext(b),f.draw(b),b.restore())}return!0},c.addChild=function(b){if(null==b)return b;var c=arguments.length;if(c>1){for(var d=0;c>d;d++)this.addChild(arguments[d]);return arguments[c-1]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.push(b),b.dispatchEvent("added"),b},c.addChildAt=function(b,c){var d=arguments.length,e=arguments[d-1];if(0>e||e>this.children.length)return arguments[d-2];if(d>2){for(var f=0;d-1>f;f++)this.addChildAt(arguments[f],e+f);return arguments[d-2]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.splice(c,0,b),b.dispatchEvent("added"),b},c.removeChild=function(b){var c=arguments.length;if(c>1){for(var d=!0,e=0;c>e;e++)d=d&&this.removeChild(arguments[e]);return d}return this.removeChildAt(h.indexOf(this.children,b))},c.removeChildAt=function(b){var c=arguments.length;if(c>1){for(var d=[],e=0;c>e;e++)d[e]=arguments[e];d.sort(function(b,c){return c-b});for(var f=!0,e=0;c>e;e++)f=f&&this.removeChildAt(d[e]);return f}if(0>b||b>this.children.length-1)return!1;var g=this.children[b];return g&&(g.parent=null),this.children.splice(b,1),g.dispatchEvent("removed"),!0},c.removeAllChildren=function(){for(var b=this.children;b.length;)this.removeChildAt(0)},c.getChildAt=function(b){return this.children[b]},c.getChildByName=function(b){for(var c=this.children,d=0,e=c.length;e>d;d++)if(c[d].name==b)return c[d];return null},c.sortChildren=function(b){this.children.sort(b)},c.getChildIndex=function(b){return h.indexOf(this.children,b)},c.swapChildrenAt=function(b,c){var d=this.children,e=d[b],f=d[c];e&&f&&(d[b]=f,d[c]=e)},c.swapChildren=function(b,c){for(var d,e,f=this.children,g=0,h=f.length;h>g&&(f[g]==b&&(d=g),f[g]==c&&(e=g),null==d||null==e);g++);g!=h&&(f[d]=c,f[e]=b)},c.setChildIndex=function(b,c){var d=this.children,e=d.length;if(!(b.parent!=this||0>c||c>=e)){for(var f=0;e>f&&d[f]!=b;f++);f!=e&&f!=c&&(d.splice(f,1),d.splice(c,0,b))}},c.contains=function(b){for(;b;){if(b==this)return!0;b=b.parent}return!1},c.hitTest=function(b,c){return null!=this.getObjectUnderPoint(b,c)},c.getObjectsUnderPoint=function(b,c,d){var e=[];b=this.localToGlobal(b,c);return this._getObjectsUnderPoint(b.x,b.y,e,d>0,1==d),e},c.getObjectUnderPoint=function(b,c,d){b=this.localToGlobal(b,c);return this._getObjectsUnderPoint(b.x,b.y,null,d>0,1==d)},c.getBounds=function(){return this._getBounds(null,!0)},c.getTransformedBounds=function(){return this._getBounds()},c.clone=function(c){var d=this._cloneProps(new b);return c&&this._cloneChildren(d),d},c.toString=function(){return"[Container (name="+this.name+")]"},c._tick=function(b){if(this.tickChildren)for(var c=this.children.length-1;c>=0;c--){var d=this.children[c];d.tickEnabled&&d._tick&&d._tick(b)}this.DisplayObject__tick(b)},c._cloneChildren=function(b){b.children.length&&b.removeAllChildren();for(var c=b.children,d=0,e=this.children.length;e>d;d++){var f=this.children[d].clone(!0);f.parent=b,c.push(f)}},c._getObjectsUnderPoint=function(c,d,e,f,g,i){if(i=i||0,!i&&!this._testMask(this,c,d))return null;var j,k=h.DisplayObject._hitTestContext;g=g||f&&this._hasMouseEventListener();for(var l=this.children,m=l.length,m=m-1;m>=0;m--){var n=l[m],o=n.hitArea;if(n.visible&&(o||n.isVisible())&&(!f||n.mouseEnabled)&&(o||this._testMask(n,c,d)))if(!o&&n instanceof b){var a=n._getObjectsUnderPoint(c,d,e,f,g,i+1);if(!e&&a)return f&&!this.mouseChildren?this:a}else{if(f&&!g&&!n._hasMouseEventListener())continue;a=n.getConcatenatedDisplayProps(n._props);if(j=a.matrix,o&&(j.appendMatrix(o.getMatrix(o._props.matrix)),a.alpha=o.alpha),k.globalAlpha=a.alpha,k.setTransform(j.a,j.b,j.c,j.d,j.tx-c,j.ty-d),(o||n).draw(k),!this._testHit(k))continue;if(k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,2,2),!e)return f&&!this.mouseChildren?this:n;e.push(n)}}return null},c._testMask=function(b,c,d){var e=b.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var f=this._props.matrix;b=b.parent;f=b?b.getConcatenatedMatrix(f):f.identity(),f=e.getMatrix(e._props.matrix).prependMatrix(f);b=h.DisplayObject._hitTestContext;return b.setTransform(f.a,f.b,f.c,f.d,f.tx-c,f.ty-d),e.graphics.drawAsPath(b),b.fillStyle="#000",b.fill(),this._testHit(b)?(b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,2,2),!0):!1},c._getBounds=function(b,c){var d=this.DisplayObject_getBounds();if(d)return this._transformBounds(d,b,c);var e=this._props.matrix;e=c?e.identity():this.getMatrix(e),b&&e.prependMatrix(b);for(var c=this.children.length,b=null,f=0;c>f;f++){var g=this.children[f];g.visible&&(d=g._getBounds(e))&&(b?b.extend(d.x,d.y,d.width,d.height):b=d.clone())}return b},h.Container=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof b?document.getElementById(b):b,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var c=h.extend(b,h.Container);c._get_nextStage=function(){return this._nextStage},c._set_nextStage=function(b){this._nextStage&&(this._nextStage._prevStage=null),b&&(b._prevStage=this),this._nextStage=b};try{Object.defineProperties(c,{nextStage:{get:c._get_nextStage,set:c._set_nextStage}})}catch(b){}c.update=function(b){if(this.canvas&&(this.tickOnUpdate&&this.tick(b),this.dispatchEvent("drawstart",!1,!0)!==!1)){h.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;b=this.drawRect;var c=this.canvas.getContext("2d");c.setTransform(1,0,0,1,0,0),this.autoClear&&(b?c.clearRect(b.x,b.y,b.width,b.height):c.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),c.save(),this.drawRect&&(c.beginPath(),c.rect(b.x,b.y,b.width,b.height),c.clip()),this.updateContext(c),this.draw(c,!1),c.restore(),this.dispatchEvent("drawend")}},c.tick=function(b){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var c=new h.Event("tick");if(b)for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);this._tick(c),this.dispatchEvent("tickend")}},c.handleEvent=function(b){"tick"==b.type&&this.update(b)},c.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},c.toDataURL=function(b,c){var d,e=this.canvas.getContext("2d"),f=this.canvas.width,g=this.canvas.height;if(b){d=e.getImageData(0,0,f,g);var h=e.globalCompositeOperation;e.globalCompositeOperation="destination-over",e.fillStyle=b,e.fillRect(0,0,f,g)}f=this.canvas.toDataURL(c||"image/png");return b&&(e.putImageData(d,0,0),e.globalCompositeOperation=h),f},c.enableMouseOver=function(b){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==b&&this._testMouseOver(!0)),null==b)b=20;else if(0>=b)return;var c=this;this._mouseOverIntervalID=setInterval(function(){c._testMouseOver()},1e3/Math.min(50,b))},c.enableDOMEvents=function(b){null==b&&(b=!0);var c,d,e=this._eventListeners;if(!b&&e){for(c in e)d=e[c],d.t.removeEventListener(c,d.f,!1);this._eventListeners=null}else if(b&&!e&&this.canvas){b=window.addEventListener?window:document;var f=this;e=this._eventListeners={},e.mouseup={t:b,f:function(b){f._handleMouseUp(b)}},e.mousemove={t:b,f:function(b){f._handleMouseMove(b)}},e.dblclick={t:this.canvas,f:function(b){f._handleDoubleClick(b)}},e.mousedown={t:this.canvas,f:function(b){f._handleMouseDown(b)}};for(c in e)d=e[c],d.t.addEventListener(c,d.f,!1)}},c.clone=function(){throw"Stage cannot be cloned."},c.toString=function(){return"[Stage (name="+this.name+")]"},c._getElementRect=function(b){var c;try{c=b.getBoundingClientRect()}catch(d){c={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0);b=window.getComputedStyle?getComputedStyle(b,null):b.currentStyle;var f=parseInt(b.paddingLeft)+parseInt(b.borderLeftWidth),g=parseInt(b.paddingTop)+parseInt(b.borderTopWidth),h=parseInt(b.paddingRight)+parseInt(b.borderRightWidth);b=parseInt(b.paddingBottom)+parseInt(b.borderBottomWidth);return{left:c.left+d+f,right:c.right+d-h,top:c.top+e+g,bottom:c.bottom+e-b}},c._getPointerData=function(b){var c=this._pointerData[b];return c||(c=this._pointerData[b]={x:0,y:0}),c},c._handleMouseMove=function(b){b||(b=window.event),this._handlePointerMove(-1,b,b.pageX,b.pageY)},c._handlePointerMove=function(b,c,d,e,f){if((!this._prevStage||void 0!==f)&&this.canvas){f=this._nextStage;var g=this._getPointerData(b),h=g.inBounds;this._updatePointerPosition(b,c,d,e),(h||g.inBounds||this.mouseMoveOutside)&&(-1===b&&g.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,b,g,c),this._dispatchMouseEvent(this,"stagemousemove",!1,b,g,c),this._dispatchMouseEvent(g.target,"pressmove",!0,b,g,c)),f&&f._handlePointerMove(b,c,d,e,null)}},c._updatePointerPosition=function(b,c,d,e){var f=this._getElementRect(this.canvas);d-=f.left,e-=f.top;var g=this.canvas.width,h=this.canvas.height;d/=(f.right-f.left)/g,e/=(f.bottom-f.top)/h;f=this._getPointerData(b);(f.inBounds=d>=0&&e>=0&&g-1>=d&&h-1>=e)?(f.x=d,f.y=e):this.mouseMoveOutside&&(f.x=0>d?0:d>g-1?g-1:d,f.y=0>e?0:e>h-1?h-1:e),f.posEvtObj=c,f.rawX=d,f.rawY=e,(b===this._primaryPointerID||-1===b)&&(this.mouseX=f.x,this.mouseY=f.y,this.mouseInBounds=f.inBounds)},c._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)},c._handlePointerUp=function(b,c,d,e){var f=this._nextStage,g=this._getPointerData(b);if(!this._prevStage||void 0!==e){var h=null,i=g.target;e||!i&&!f||(h=this._getObjectsUnderPoint(g.x,g.y,null,!0)),g.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,b,g,c,h),g.down=!1),h==i&&this._dispatchMouseEvent(i,"click",!0,b,g,c),this._dispatchMouseEvent(i,"pressup",!0,b,g,c),d?(b==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[b]):g.target=null,f&&f._handlePointerUp(b,c,d,e||h&&this)}},c._handleMouseDown=function(b){this._handlePointerDown(-1,b,b.pageX,b.pageY)},c._handlePointerDown=function(b,c,d,e,f){this.preventSelection&&c.preventDefault(),(null==this._primaryPointerID||-1===b)&&(this._primaryPointerID=b),null!=e&&this._updatePointerPosition(b,c,d,e);var g=null,h=this._nextStage,i=this._getPointerData(b);f||(g=i.target=this._getObjectsUnderPoint(i.x,i.y,null,!0)),i.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,b,i,c,g),i.down=!0),this._dispatchMouseEvent(g,"mousedown",!0,b,i,c),h&&h._handlePointerDown(b,c,d,e,f||g&&this)},c._testMouseOver=function(b,c,d){if(!this._prevStage||void 0!==c){var e=this._nextStage;if(!this._mouseOverIntervalID)return void (e&&e._testMouseOver(b,c,d));var f=this._getPointerData(-1);if(f&&(b||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var g,h=f.posEvtObj,i=d||h&&h.target==this.canvas,j=null,k=-1,l="";!c&&(b||this.mouseInBounds&&i)&&(j=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var m=this._mouseOverTarget||[],n=m[m.length-1],o=this._mouseOverTarget=[];for(g=j;g;)o.unshift(g),l||(l=g.cursor),g=g.parent;for(this.canvas.style.cursor=l,!c&&d&&(d.canvas.style.cursor=l),g=0,l=o.length;l>g&&o[g]==m[g];g++)k=g;for(n!=j&&this._dispatchMouseEvent(n,"mouseout",!0,-1,f,h,j),g=m.length-1;g>k;g--)this._dispatchMouseEvent(m[g],"rollout",!1,-1,f,h,j);for(g=o.length-1;g>k;g--)this._dispatchMouseEvent(o[g],"rollover",!1,-1,f,h,n);n!=j&&this._dispatchMouseEvent(j,"mouseover",!0,-1,f,h,n),e&&e._testMouseOver(b,c||j&&this,d||i&&this)}}},c._handleDoubleClick=function(b,c){var d=null,e=this._nextStage,f=this._getPointerData(-1);c||(d=this._getObjectsUnderPoint(f.x,f.y,null,!0),this._dispatchMouseEvent(d,"dblclick",!0,-1,f,b)),e&&e._handleDoubleClick(b,c||d&&this)},c._dispatchMouseEvent=function(b,c,d,e,f,g,i){if(b&&(d||b.hasEventListener(c))){c=new h.MouseEvent(c,d,!1,f.x,f.y,g,e,e===this._primaryPointerID||-1===e,f.rawX,f.rawY,i);b.dispatchEvent(c)}},h.Stage=h.promote(b,"Container")})(),h=h||{},(function(){function b(b){this.DisplayObject_constructor(),"string"==typeof b?(this.image=document.createElement("img"),this.image.src=b):this.image=b,this.sourceRect=null}var c=h.extend(b,h.DisplayObject);c.initialize=b,c.isVisible=function(){var b=this.image;b=this.cacheCanvas||b&&(b.naturalWidth||b.getContext||b.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c)||!this.image)return!0;c=this.image;var d=this.sourceRect;if(d){var e=d.x,f=d.y,g=e+d.width;d=f+d.height;var h=0,i=0,j=c.width,k=c.height;0>e&&(h-=e,e=0),g>j&&(g=j),0>f&&(i-=f,f=0),d>k&&(d=k),b.drawImage(c,e,f,g-e,d-f,h,i,g-e,d-f)}else b.drawImage(c,0,0);return!0},c.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;b=this.image;var c=this.sourceRect||b;b=b&&(b.naturalWidth||b.getContext||b.readyState>=2);return b?this._rectangle.setValues(0,0,c.width,c.height):null},c.clone=function(){var c=new b(this.image);return this.sourceRect&&(c.sourceRect=this.sourceRect.clone()),this._cloneProps(c),c},c.toString=function(){return"[Bitmap (name="+this.name+")]"},h.Bitmap=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=b,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=c&&this.gotoAndPlay(c)}var c=h.extend(b,h.DisplayObject);c.initialize=b,c.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;this._normalizeFrame();c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return d.width&&d.height&&b.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0},c.play=function(){this.paused=!1},c.stop=function(){this.paused=!0},c.gotoAndPlay=function(b){this.paused=!1,this._skipAdvance=!0,this._goto(b)},c.gotoAndStop=function(b){this.paused=!0,this._goto(b)},c.advance=function(b){var c=this.framerate||this.spriteSheet.framerate;b=c&&null!=b?b/(1e3/c):1;this._normalizeFrame(b)},c.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},c.clone=function(){return this._cloneProps(new b(this.spriteSheet))},c.toString=function(){return"[Sprite (name="+this.name+")]"},c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.currentFrame=this.currentFrame,b.currentAnimation=this.currentAnimation,b.paused=this.paused,b.currentAnimationFrame=this.currentAnimationFrame,b.framerate=this.framerate,b._animation=this._animation,b._currentFrame=this._currentFrame,b._skipAdvance=this._skipAdvance,b},c._tick=function(b){this.paused||(this._skipAdvance||this.advance(b&&b.delta),this._skipAdvance=!1),this.DisplayObject__tick(b)},c._normalizeFrame=function(b){b=b||0;var c,d=this._animation,e=this.paused,f=this._currentFrame;if(d){var g=d.speed||1,h=this.currentAnimationFrame;if(c=d.frames.length,h+b*g>=c){var i=d.next;if(this._dispatchAnimationEnd(d,f,e,i,c-1))return;if(i)return this._goto(i,b-(c-h)/g);this.paused=!0,h=d.frames.length-1}else h+=b*g;this.currentAnimationFrame=h,this._currentFrame=d.frames[0|h]}else if(f=this._currentFrame+=b,c=this.spriteSheet.getNumFrames(),f>=c&&c>0&&!this._dispatchAnimationEnd(d,f,e,c-1)&&(this._currentFrame-=c)>=c)return this._normalizeFrame();f=0|this._currentFrame,this.currentFrame!=f&&(this.currentFrame=f,this.dispatchEvent("change"))},c._dispatchAnimationEnd=function(b,c,d,e,f){var g=b?b.name:null;if(this.hasEventListener("animationend")){var i=new h.Event("animationend");i.name=g,i.next=e,this.dispatchEvent(i)}g=this._animation!=b||this._currentFrame!=c;return g||d||!this.paused||(this.currentAnimationFrame=f,g=!0),g},c._goto=function(b,c){if(this.currentAnimationFrame=0,isNaN(b)){var d=this.spriteSheet.getAnimation(b);d&&(this._animation=d,this.currentAnimation=b,this._normalizeFrame(c))}else this.currentAnimation=this._animation=null,this._currentFrame=b,this._normalizeFrame()},h.Sprite=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b){this.DisplayObject_constructor(),this.graphics=b?b:new h.Graphics}var c=h.extend(b,h.DisplayObject);c.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){return this.DisplayObject_draw(b,c)?!0:(this.graphics.draw(b,this),!0)},c.clone=function(c){c=c&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new b(c))},c.toString=function(){return"[Shape (name="+this.name+")]"},h.Shape=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c,d){this.DisplayObject_constructor(),this.text=b,this.font=c,this.color=d,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var c=h.extend(b,h.DisplayObject),d=h.createCanvas?h.createCanvas():document.createElement("canvas");d.getContext&&(b._workingContext=d.getContext("2d"),d.width=d.height=1),b.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},b.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},c.isVisible=function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;c=this.color||"#000";return this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):b.fillStyle=c,this._drawText(this._prepContext(b)),!0},c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},c.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},c.getMeasuredHeight=function(){return this._drawText(null,{}).height},c.getBounds=function(){var c=this.DisplayObject_getBounds();if(c)return c;if(null==this.text||""===this.text)return null;c=this._drawText(null,{});var d=this.maxWidth&&this.maxWidth<c.width?this.maxWidth:c.width,e=d*b.H_OFFSETS[this.textAlign||"left"],f=this.lineHeight||this.getMeasuredLineHeight();f=f*b.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,f,d,c.height)},c.getMetrics=function(){var c={lines:[]};return c.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),c.vOffset=c.lineHeight*b.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,c,c.lines)},c.clone=function(){return this._cloneProps(new b(this.text,this.font,this.color))},c.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.textAlign=this.textAlign,b.textBaseline=this.textBaseline,b.maxWidth=this.maxWidth,b.outline=this.outline,b.lineHeight=this.lineHeight,b.lineWidth=this.lineWidth,b},c._prepContext=function(b){return b.font=this.font||"10px sans-serif",b.textAlign=this.textAlign||"left",b.textBaseline=this.textBaseline||"top",b},c._drawText=function(c,d,e){var f=!!c;f||(c=b._workingContext,c.save(),this._prepContext(c));for(var g=this.lineHeight||this.getMeasuredLineHeight(),h=0,i=0,j=String(this.text).split(/(?:\r\n|\r|\n)/),k=0,l=j.length;l>k;k++){var m=j[k],n=null;if(null!=this.lineWidth&&(n=c.measureText(m).width)>this.lineWidth){var o=m.split(/(\s)/);m=o[0],n=c.measureText(m).width;for(var a=1,p=o.length;p>a;a+=2){var q=c.measureText(o[a]+o[a+1]).width;n+q>this.lineWidth?(f&&this._drawTextLine(c,m,i*g),e&&e.push(m),n>h&&(h=n),m=o[a+1],n=c.measureText(m).width,i++):(m+=o[a]+o[a+1],n+=q)}}f&&this._drawTextLine(c,m,i*g),e&&e.push(m),d&&null==n&&(n=c.measureText(m).width),n>h&&(h=n),i++}return d&&(d.width=h,d.height=i*g),f||c.restore(),d},c._drawTextLine=function(b,c,d){this.outline?b.strokeText(c,0,d,this.maxWidth||65535):b.fillText(c,0,d,this.maxWidth||65535)},c._getMeasuredWidth=function(c){var d=b._workingContext;d.save();c=this._prepContext(d).measureText(c).width;return d.restore(),c},h.Text=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c){this.Container_constructor(),this.text=b||"",this.spriteSheet=c,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var c=h.extend(b,h.Container);b.maxPoolSize=100,b._spritePool=[],c.draw=function(b,c){this.DisplayObject_draw(b,c)||(this._updateText(),this.Container_draw(b,c))},c.getBounds=function(){return this._updateText(),this.Container_getBounds()},c.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&b)},c.clone=function(){return this._cloneProps(new b(this.text,this.spriteSheet))},c.addChild=c.addChildAt=c.removeChild=c.removeChildAt=c.removeAllChildren=function(){},c._cloneProps=function(b){return this.Container__cloneProps(b),b.lineHeight=this.lineHeight,b.letterSpacing=this.letterSpacing,b.spaceWidth=this.spaceWidth,b},c._getFrameIndex=function(b,c){var d,e=c.getAnimation(b);return e||(b!=(d=b.toUpperCase())||b!=(d=b.toLowerCase())||(d=null),d&&(e=c.getAnimation(d))),e&&e.frames[0]},c._getFrame=function(b,c){b=this._getFrameIndex(b,c);return null==b?b:c.getFrame(b)},c._getLineHeight=function(b){b=this._getFrame("1",b)||this._getFrame("T",b)||this._getFrame("L",b)||b.getFrame(0);return b?b.rect.height:1},c._getSpaceWidth=function(b){b=this._getFrame("1",b)||this._getFrame("l",b)||this._getFrame("e",b)||this._getFrame("a",b)||b.getFrame(0);return b?b.rect.width:1},c._updateText=function(){var c,d=0,e=0,f=this._oldProps,g=!1,i=this.spaceWidth,j=this.lineHeight,k=this.spriteSheet,l=b._spritePool,m=this.children,n=0,o=m.length;for(var a in f)f[a]!=this[a]&&(f[a]=this[a],g=!0);if(g){f=!!this._getFrame(" ",k);f||i||(i=this._getSpaceWidth(k)),j||(j=this._getLineHeight(k));for(a=0,g=this.text.length;g>a;a++){var p=this.text.charAt(a);if(" "!=p||f)if("\n"!=p&&"\r"!=p){var q=this._getFrameIndex(p,k);null!=q&&(o>n?c=m[n]:(m.push(c=l.length?l.pop():new h.Sprite),c.parent=this,o++),c.spriteSheet=k,c.gotoAndStop(q),c.x=d,c.y=e,n++,d+=c.getBounds().width+this.letterSpacing)}else"\r"==p&&"\n"==this.text.charAt(a+1)&&a++,d=0,e+=j;else d+=i}for(;o>n;)l.push(c=m.pop()),c.parent=null,o--;l.length>b.maxPoolSize&&(l.length=b.maxPoolSize)}},h.BitmapText=h.promote(b,"Container")})(),h=h||{},(function(){"use strict";function b(c,d,e,f){this.Container_constructor(),!b.inited&&b.init(),this.mode=c||b.INDEPENDENT,this.startPosition=d||0,this.loop=e,this.currentFrame=0,this.timeline=new h.Timeline(null,f,{paused:!0,position:d,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function c(){throw"MovieClipPlugin cannot be instantiated."}var d=h.extend(b,h.Container);b.INDEPENDENT="independent",b.SINGLE_FRAME="single",b.SYNCHED="synched",b.inited=!1,b.init=function(){b.inited||(c.install(),b.inited=!0)},d.getLabels=function(){return this.timeline.getLabels()},d.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},d.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(d,{labels:{get:d.getLabels},currentLabel:{get:d.getCurrentLabel},totalFrames:{get:d.getDuration},duration:{get:d.getDuration}})}catch(b){}d.initialize=b,d.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},d.draw=function(b,c){return this.DisplayObject_draw(b,c)?!0:(this._updateTimeline(),this.Container_draw(b,c),!0)},d.play=function(){this.paused=!1},d.stop=function(){this.paused=!0},d.gotoAndPlay=function(b){this.paused=!1,this._goto(b)},d.gotoAndStop=function(b){this.paused=!0,this._goto(b)},d.advance=function(c){var d=b.INDEPENDENT;if(this.mode==d){for(var e=this,f=e.framerate;(e=e.parent)&&null==f;)e.mode==d&&(f=e._framerate);this._framerate=f;d=null!=f&&-1!=f&&null!=c?c/(1e3/f)+this._t:1;e=0|d;for(this._t=d-e;!this.paused&&e--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},d.clone=function(){throw"MovieClip cannot be cloned."},d.toString=function(){return"[MovieClip (name="+this.name+")]"},d._tick=function(b){this.advance(b&&b.delta),this.Container__tick(b)},d._goto=function(b){b=this.timeline.resolve(b);null!=b&&(-1==this._prevPos&&(this._prevPos=0/0),this._prevPosition=b,this._t=0,this._updateTimeline())},d._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},d._updateTimeline=function(){var c=this.timeline,d=this.mode!=b.INDEPENDENT;c.loop=null==this.loop?!0:this.loop;var e=d?this.startPosition+(this.mode==b.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition;d=d||!this.actionsEnabled?h.Tween.NONE:null;if(this.currentFrame=c._calcPosition(e),c.setPosition(e,d),this._prevPosition=c._prevPosition,this._prevPos!=c._prevPos){this.currentFrame=this._prevPos=c._prevPos;for(e in this._managed)this._managed[e]=1;for(d=c._tweens,e=0,c=d.length;c>e;e++){var f=d[e],g=f._target;if(g!=this&&!f.passive){f=f._stepPosition;g instanceof h.DisplayObject?this._addManagedChild(g,f):this._setState(g.state,f)}}g=this.children;for(e=g.length-1;e>=0;e--){f=g[e].id;1==this._managed[f]&&(this.removeChildAt(e),delete this._managed[f])}}},d._setState=function(b,c){if(b)for(var d=b.length-1;d>=0;d--){var e=b[d],f=e.t;e=e.p;for(var g in e)f[g]=e[g];this._addManagedChild(f,c)}},d._addManagedChild=function(c,d){c._off||(this.addChildAt(c,0),c instanceof b&&(c._synchOffset=d,c.mode==b.INDEPENDENT&&c.autoReset&&!this._managed[c.id]&&c._reset()),this._managed[c.id]=2)},d._getBounds=function(b,c){var d=this.DisplayObject_getBounds();return d||(this._updateTimeline(),this.frameBounds&&(d=this._rectangle.copy(this.frameBounds[this.currentFrame]))),d?this._transformBounds(d,b,c):this.Container__getBounds(b,c)},h.MovieClip=h.promote(b,"Container"),c.priority=100,c.install=function(){h.Tween.installPlugin(c,["startPosition"])},c.init=function(b,c,d){return d},c.step=function(){},c.tween=function(c,d,e,f,g,h){return c.target instanceof b?1==h?g[d]:f[d]:e}})(),h=h||{},(function(){"use strict";function b(){throw"SpriteSheetUtils cannot be instantiated"}var c=h.createCanvas?h.createCanvas():document.createElement("canvas");c.getContext&&(b._workingCanvas=c,b._workingContext=c.getContext("2d"),c.width=c.height=1),b.addFlippedFrames=function(c,d,e,f){if(d||e||f){var g=0;d&&b._flip(c,++g,!0,!1),e&&b._flip(c,++g,!1,!0),f&&b._flip(c,++g,!0,!0)}},b.extractFrame=function(c,d){isNaN(d)&&(d=c.getAnimation(d).frames[0]);c=c.getFrame(d);if(!c)return null;d=c.rect;var e=b._workingCanvas;e.width=d.width,e.height=d.height,b._workingContext.drawImage(c.image,d.x,d.y,d.width,d.height,0,0,d.width,d.height);c=document.createElement("img");return c.src=e.toDataURL("image/png"),c},b.mergeAlpha=function(b,c,d){d||(d=h.createCanvas?h.createCanvas():document.createElement("canvas")),d.width=Math.max(c.width,b.width),d.height=Math.max(c.height,b.height);var e=d.getContext("2d");return e.save(),e.drawImage(b,0,0),e.globalCompositeOperation="destination-in",e.drawImage(c,0,0),e.restore(),d},b._flip=function(c,d,e,f){for(var g=c._images,h=b._workingCanvas,i=b._workingContext,j=g.length/d,k=0;j>k;k++){var l=g[k];l.__tmp=k,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,h.width+1,h.height+1),h.width=l.width,h.height=l.height,i.setTransform(e?-1:1,0,0,f?-1:1,e?l.width:0,f?l.height:0),i.drawImage(l,0,0);var m=document.createElement("img");m.src=h.toDataURL("image/png"),m.width=l.width,m.height=l.height,g.push(m)}h=c._frames;i=h.length/d;for(k=0;i>k;k++){l=h[k];var n=l.rect.clone();m=g[l.image.__tmp+j*d];var o={image:m,rect:n,regX:l.regX,regY:l.regY};e&&(n.x=m.width-n.x-n.width,o.regX=n.width-l.regX),f&&(n.y=m.height-n.y-n.height,o.regY=n.height-l.regY),h.push(o)}m="_"+(e?"h":"")+(f?"v":"");n=c._animations;o=c._data;g=n.length/d;for(k=0;g>k;k++){j=n[k];l=o[j];e={name:j+m,speed:l.speed,next:l.next,frames:[]};l.next&&(e.next+=m),h=l.frames;for(f=0,c=h.length;c>f;f++)e.frames.push(h[f]+i*d);o[e.name]=e,n.push(e.name)}},h.SpriteSheetUtils=b})(),h=h||{},(function(){"use strict";function b(b){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=b||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var c=h.extend(b,h.EventDispatcher);b.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",b.ERR_RUNNING="a build is already running",c.addFrame=function(c,d,e,f,g){if(this._data)throw b.ERR_RUNNING;d=d||c.bounds||c.nominalBounds;return!d&&c.getBounds&&(d=c.getBounds()),d?(e=e||1,this._frames.push({source:c,sourceRect:d,scale:e,funct:f,data:g,index:this._frames.length,height:d.height*e})-1):null},c.addAnimation=function(c,d,e,f){if(this._data)throw b.ERR_RUNNING;this._animations[c]={frames:d,next:e,speed:f}},c.addMovieClip=function(c,d,e,f,g,h){if(this._data)throw b.ERR_RUNNING;var i=c.frameBounds;d=d||c.bounds||c.nominalBounds;if(!d&&c.getBounds&&(d=c.getBounds()),d||i){var j,k=this._frames.length,l=c.timeline.duration;for(j=0;l>j;j++){var m=i&&i[j]?i[j]:d;this.addFrame(c,m,e,this._setupMovieClipFrame,{i:j,f:f,d:g})}m=c.timeline._labels;e=[];for(f in m)e.push({index:m[f],label:f});if(e.length)for(e.sort(function(b,c){return b.index-c.index}),j=0,g=e.length;g>j;j++){for(var i=e[j].label,d=k+e[j].index,m=k+(j==g-1?l:e[j+1].index),f=[],n=d;m>n;n++)f.push(n);(!h||(i=h(i,c,d,m)))&&this.addAnimation(i,f,!0)}}},c.build=function(){if(this._data)throw b.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},c.buildAsync=function(c){if(this._data)throw b.ERR_RUNNING;this.timeSlice=c,this._startBuild();var d=this;this._timerID=setTimeout(function(){d._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},c.stopAsync=function(){clearTimeout(this._timerID),this._data=null},c.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},c.toString=function(){return"[SpriteSheetBuilder]"},c._startBuild=function(){var c=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var d=[];this._data={images:[],frames:d,framerate:this.framerate,animations:this._animations};var e=this._frames.slice();if(e.sort(function(b,c){return b.height<=c.height?-1:1}),e[e.length-1].height+2*c>this.maxHeight)throw b.ERR_DIMENSIONS;for(var f=0,g=0,i=0;e.length;){var j=this._fillRow(e,f,i,d,c);if(j.w>g&&(g=j.w),f+=j.h,!j.h||!e.length){var k=h.createCanvas?h.createCanvas():document.createElement("canvas");k.width=this._getSize(g,this.maxWidth),k.height=this._getSize(f,this.maxHeight),this._data.images[i]=k,j.h||(g=f=0,i++)}}},c._setupMovieClipFrame=function(b,c){var d=b.actionsEnabled;b.actionsEnabled=!1,b.gotoAndStop(c.i),b.actionsEnabled=d,c.f&&c.f(b,c.d,c.i)},c._getSize=function(b,c){for(var d=4;Math.pow(2,++d)<b;);return Math.min(c,Math.pow(2,d))},c._fillRow=function(c,d,e,f,g){var i=this.maxWidth,j=this.maxHeight;d+=g;for(var j=j-d,k=g,l=0,m=c.length-1;m>=0;m--){var n=c[m],o=this._scale*n.scale,a=n.sourceRect,p=n.source,q=Math.floor(o*a.x-g),r=Math.floor(o*a.y-g),s=Math.ceil(o*a.height+2*g);a=Math.ceil(o*a.width+2*g);if(a>i)throw b.ERR_DIMENSIONS;s>j||k+a>i||(n.img=e,n.rect=new h.Rectangle(k,d,a,s),l=l||s,c.splice(m,1),f[n.index]=[k,d,a,s,e,Math.round(-q+o*p.regX-g),Math.round(-r+o*p.regY-g)],k+=a)}return{w:k,h:l}},c._endBuild=function(){this.spriteSheet=new h.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},c._run=function(){for(var b=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),c=(new Date).getTime()+b,d=!1;c>(new Date).getTime();)if(!this._drawNext()){d=!0;break}if(d)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-b)}c=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){d=new h.Event("progress");d.progress=c,this.dispatchEvent(d)}},c._drawNext=function(){var b=this._frames[this._index],c=b.scale*this._scale,d=b.rect,e=b.sourceRect,f=this._data.images[b.img];f=f.getContext("2d");return b.funct&&b.funct(b.source,b.data),f.save(),f.beginPath(),f.rect(d.x,d.y,d.width,d.height),f.clip(),f.translate(Math.ceil(d.x-e.x*c),Math.ceil(d.y-e.y*c)),f.scale(c,c),b.source.draw(f),f.restore(),++this._index<this._frames.length},h.SpriteSheetBuilder=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(b){this.DisplayObject_constructor(),"string"==typeof b&&(b=document.getElementById(b)),this.mouseEnabled=!1;var c=b.style;c.position="absolute",c.transformOrigin=c.WebkitTransformOrigin=c.msTransformOrigin=c.MozTransformOrigin=c.OTransformOrigin="0% 0%",this.htmlElement=b,this._oldProps=null}var c=h.extend(b,h.DisplayObject);c.isVisible=function(){return null!=this.htmlElement},c.draw=function(){return!0},c.cache=function(){},c.uncache=function(){},c.updateCache=function(){},c.hitTest=function(){},c.localToGlobal=function(){},c.globalToLocal=function(){},c.localToLocal=function(){},c.clone=function(){throw"DOMElement cannot be cloned."},c.toString=function(){return"[DOMElement (name="+this.name+")]"},c._tick=function(b){var c=this.getStage();c&&c.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(b)},c._handleDrawEnd=function(){var b=this.htmlElement;if(b){b=b.style;var c=this.getConcatenatedDisplayProps(this._props),d=c.matrix,e=c.visible?"visible":"hidden";if(e!=b.visibility&&(b.visibility=e),c.visible){e=this._oldProps;var f=e&&e.matrix,g=1e4;if(!f||!f.equals(d)){f="matrix("+(d.a*g|0)/g+","+(d.b*g|0)/g+","+(d.c*g|0)/g+","+(d.d*g|0)/g+","+(d.tx+.5|0);b.transform=b.WebkitTransform=b.OTransform=b.msTransform=f+","+(d.ty+.5|0)+")",b.MozTransform=f+"px,"+(d.ty+.5|0)+"px)",e||(e=this._oldProps=new h.DisplayProps(!0,0/0)),e.matrix.copy(d)}e.alpha!=c.alpha&&(b.opacity=""+(c.alpha*g|0)/g,e.alpha=c.alpha)}}},h.DOMElement=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(){}var c=b.prototype;c.getBounds=function(b){return b},c.applyFilter=function(b,c,d,e,f,g,h,i){g=g||b,null==h&&(h=c),null==i&&(i=d);try{var j=b.getImageData(c,d,e,f)}catch(b){return!1}return this._applyFilter(j)?(g.putImageData(j,h,i),!0):!1},c.toString=function(){return"[Filter]"},c.clone=function(){return new b},c._applyFilter=function(){return!0},h.Filter=b})(),h=h||{},(function(){"use strict";function b(b,c,d){(isNaN(b)||0>b)&&(b=0),(isNaN(c)||0>c)&&(c=0),(isNaN(d)||1>d)&&(d=1),this.blurX=0|b,this.blurY=0|c,this.quality=0|d}var c=h.extend(b,h.Filter);b.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],b.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],c.getBounds=function(b){var c=0|this.blurX,d=0|this.blurY;if(0>=c&&0>=d)return b;var e=Math.pow(this.quality,.2);return(b||new h.Rectangle).pad(c*e+1,d*e+1,c*e+1,d*e+1)},c.clone=function(){return new b(this.blurX,this.blurY,this.quality)},c.toString=function(){return"[BlurFilter]"},c._applyFilter=function(c){var d=this.blurX>>1;if(isNaN(d)||0>d)return!1;var e=this.blurY>>1;if(isNaN(e)||0>e)return!1;if(0==d&&0==e)return!1;var f=this.quality;(isNaN(f)||1>f)&&(f=1),f|=0,f>3&&(f=3),1>f&&(f=1);var g=c.data,h,i,j,k,l,m,n,o,a,p,q,r,s,t=d+d+1|0,u=e+e+1|0,v=0|c.width;c=0|c.height;var w=v-1|0,x=c-1|0,y=d+1|0,z=e+1|0,A={r:0,b:0,g:0,a:0},B=A;for(i=1;t>i;i++)B=B.n={r:0,b:0,g:0,a:0};B.n=A;t={r:0,b:0,g:0,a:0};var C=t;for(i=1;u>i;i++)C=C.n={r:0,b:0,g:0,a:0};C.n=t;for(var u=null,D=0|b.MUL_TABLE[d],E=0|b.SHG_TABLE[d],F=0|b.MUL_TABLE[e],G=0|b.SHG_TABLE[e];f-->0;){l=k=0;var H=D,I=E;for(h=c;--h>-1;){for(m=y*(p=g[0|k]),n=y*(q=g[k+1|0]),o=y*(r=g[k+2|0]),a=y*(s=g[k+3|0]),B=A,i=y;--i>-1;)B.r=p,B.g=q,B.b=r,B.a=s,B=B.n;for(i=1;y>i;i++)j=k+((i>w?w:i)<<2)|0,m+=B.r=g[j],n+=B.g=g[j+1],o+=B.b=g[j+2],a+=B.a=g[j+3],B=B.n;for(u=A,B=0;v>B;B++)g[k++]=m*H>>>I,g[k++]=n*H>>>I,g[k++]=o*H>>>I,g[k++]=a*H>>>I,j=l+((j=B+d+1)<w?j:w)<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n;l+=v}for(H=F,I=G,B=0;v>B;B++){for(k=B<<2|0,m=z*(p=g[k])|0,n=z*(q=g[k+1|0])|0,o=z*(r=g[k+2|0])|0,a=z*(s=g[k+3|0])|0,C=t,i=0;z>i;i++)C.r=p,C.g=q,C.b=r,C.a=s,C=C.n;for(l=v,i=1;e>=i;i++)k=l+B<<2,m+=C.r=g[k],n+=C.g=g[k+1],o+=C.b=g[k+2],a+=C.a=g[k+3],C=C.n,x>i&&(l+=v);if(k=B,u=t,f>0)for(h=0;c>h;h++)j=k<<2,g[j+3]=s=a*H>>>I,s>0?(g[j]=m*H>>>I,g[j+1]=n*H>>>I,g[j+2]=o*H>>>I):g[j]=g[j+1]=g[j+2]=0,j=B+((j=h+z)<x?j:x)*v<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n,k+=v;else for(h=0;c>h;h++)j=k<<2,g[j+3]=s=a*H>>>I,s>0?(s=255/s,g[j]=(m*H>>>I)*s,g[j+1]=(n*H>>>I)*s,g[j+2]=(o*H>>>I)*s):g[j]=g[j+1]=g[j+2]=0,j=B+((j=h+z)<x?j:x)*v<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n,k+=v}}return!0},h.BlurFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b){this.alphaMap=b,this._alphaMap=null,this._mapData=null}var c=h.extend(b,h.Filter);c.clone=function(){var c=new b(this.alphaMap);return c._alphaMap=this._alphaMap,c._mapData=this._mapData,c},c.toString=function(){return"[AlphaMapFilter]"},c._applyFilter=function(b){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var b=b.data,c=this._mapData,d=0,e=b.length;e>d;d+=4)b[d+3]=c[d]||0;return!0},c._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var b,c=this._alphaMap=this.alphaMap,d=c;c instanceof HTMLCanvasElement?b=d.getContext("2d"):(d=h.createCanvas?h.createCanvas():document.createElement("canvas"),d.width=c.width,d.height=c.height,b=d.getContext("2d"),b.drawImage(c,0,0));try{var e=b.getImageData(0,0,c.width,c.height)}catch(b){return!1}return this._mapData=e.data,!0},h.AlphaMapFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b){this.mask=b}var c=h.extend(b,h.Filter);c.applyFilter=function(b,c,d,e,f,g,h,i){return this.mask?(g=g||b,null==h&&(h=c),null==i&&(i=d),g.save(),b!=g?!1:(g.globalCompositeOperation="destination-in",g.drawImage(this.mask,h,i),g.restore(),!0)):!0},c.clone=function(){return new b(this.mask)},c.toString=function(){return"[AlphaMaskFilter]"},h.AlphaMaskFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h,i){this.redMultiplier=null!=b?b:1,this.greenMultiplier=null!=c?c:1,this.blueMultiplier=null!=d?d:1,this.alphaMultiplier=null!=e?e:1,this.redOffset=f||0,this.greenOffset=g||0,this.blueOffset=h||0,this.alphaOffset=i||0}var c=h.extend(b,h.Filter);c.toString=function(){return"[ColorFilter]"},c.clone=function(){return new b(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},c._applyFilter=function(b){for(var b=b.data,c=b.length,d=0;c>d;d+=4)b[d]=b[d]*this.redMultiplier+this.redOffset,b[d+1]=b[d+1]*this.greenMultiplier+this.greenOffset,b[d+2]=b[d+2]*this.blueMultiplier+this.blueOffset,b[d+3]=b[d+3]*this.alphaMultiplier+this.alphaOffset;return!0},h.ColorFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.setColor(b,c,d,e)}var c=b.prototype;b.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],b.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],b.LENGTH=b.IDENTITY_MATRIX.length,c.setColor=function(b,c,d,e){return this.reset().adjustColor(b,c,d,e)},c.reset=function(){return this.copy(b.IDENTITY_MATRIX)},c.adjustColor=function(b,c,d,e){return this.adjustHue(e),this.adjustContrast(c),this.adjustBrightness(b),this.adjustSaturation(d)},c.adjustBrightness=function(b){return 0==b||isNaN(b)?this:(b=this._cleanValue(b,255),this._multiplyMatrix([1,0,0,0,b,0,1,0,0,b,0,0,1,0,b,0,0,0,1,0,0,0,0,0,1]),this)},c.adjustContrast=function(c){if(0==c||isNaN(c))return this;c=this._cleanValue(c,100);var d;return 0>c?d=127+c/100*127:(d=c%1,d=0==d?b.DELTA_INDEX[c]:b.DELTA_INDEX[c<<0]*(1-d)+b.DELTA_INDEX[(c<<0)+1]*d,d=127*d+127),this._multiplyMatrix([d/127,0,0,0,.5*(127-d),0,d/127,0,0,.5*(127-d),0,0,d/127,0,.5*(127-d),0,0,0,1,0,0,0,0,0,1]),this},c.adjustSaturation=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);b=1+(b>0?3*b/100:b/100);var c=.3086,d=.6094,e=.082;return this._multiplyMatrix([c*(1-b)+b,d*(1-b),e*(1-b),0,0,c*(1-b),d*(1-b)+b,e*(1-b),0,0,c*(1-b),d*(1-b),e*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this},c.adjustHue=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,180)/180*Math.PI;var c=Math.cos(b);b=Math.sin(b);var d=.213,e=.715,f=.072;return this._multiplyMatrix([d+c*(1-d)+b*-d,e+c*-e+b*-e,f+c*-f+b*(1-f),0,0,d+c*-d+.143*b,e+c*(1-e)+.14*b,f+c*-f+b*-.283,0,0,d+c*-d+b*-(1-d),e+c*-e+b*e,f+c*(1-f)+b*f,0,0,0,0,0,1,0,0,0,0,0,1]),this},c.concat=function(c){return c=this._fixMatrix(c),c.length!=b.LENGTH?this:(this._multiplyMatrix(c),this)},c.clone=function(){return(new b).copy(this)},c.toArray=function(){for(var c=[],d=0,e=b.LENGTH;e>d;d++)c[d]=this[d];return c},c.copy=function(c){for(var d=b.LENGTH,e=0;d>e;e++)this[e]=c[e];return this},c.toString=function(){return"[ColorMatrix]"},c._multiplyMatrix=function(b){var c,d,e,f=[];for(c=0;5>c;c++){for(d=0;5>d;d++)f[d]=this[d+5*c];for(d=0;5>d;d++){var g=0;for(e=0;5>e;e++)g+=b[d+5*e]*f[e];this[d+5*c]=g}}},c._cleanValue=function(b,c){return Math.min(c,Math.max(-c,b))},c._fixMatrix=function(c){return c instanceof b&&(c=c.toArray()),c.length<b.LENGTH?c=c.slice(0,c.length).concat(b.IDENTITY_MATRIX.slice(c.length,b.LENGTH)):c.length>b.LENGTH&&(c=c.slice(0,b.LENGTH)),c},h.ColorMatrix=b})(),h=h||{},(function(){"use strict";function b(b){this.matrix=b}var c=h.extend(b,h.Filter);c.toString=function(){return"[ColorMatrixFilter]"},c.clone=function(){return new b(this.matrix)},c._applyFilter=function(b){for(var c,d,e,f,b=b.data,g=b.length,h=this.matrix,i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=h[5],o=h[6],a=h[7],p=h[8],q=h[9],r=h[10],s=h[11],t=h[12],u=h[13],v=h[14],w=h[15],x=h[16],y=h[17],z=h[18],h=h[19],A=0;g>A;A+=4)c=b[A],d=b[A+1],e=b[A+2],f=b[A+3],b[A]=c*i+d*j+e*k+f*l+m,b[A+1]=c*n+d*o+e*a+f*p+q,b[A+2]=c*r+d*s+e*t+f*u+v,b[A+3]=c*w+d*x+e*y+f*z+h;return!0},h.ColorMatrixFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(){throw"Touch cannot be instantiated"}b.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},b.enable=function(c,d,e){return c&&c.canvas&&b.isSupported()?c.__touch?!0:(c.__touch={pointers:{},multitouch:!d,preventDefault:!e,count:0},"ontouchstart"in window?b._IOS_enable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_enable(c),!0):!1},b.disable=function(c){c&&("ontouchstart"in window?b._IOS_disable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_disable(c),delete c.__touch)},b._IOS_enable=function(c){var d=c.canvas,e=c.__touch.f=function(d){b._IOS_handleEvent(c,d)};d.addEventListener("touchstart",e,!1),d.addEventListener("touchmove",e,!1),d.addEventListener("touchend",e,!1),d.addEventListener("touchcancel",e,!1)},b._IOS_disable=function(b){var c=b.canvas;if(c){b=b.__touch.f;c.removeEventListener("touchstart",b,!1),c.removeEventListener("touchmove",b,!1),c.removeEventListener("touchend",b,!1),c.removeEventListener("touchcancel",b,!1)}},b._IOS_handleEvent=function(b,c){if(b){b.__touch.preventDefault&&c.preventDefault&&c.preventDefault();for(var d=c.changedTouches,e=c.type,f=0,g=d.length;g>f;f++){var h=d[f],i=h.identifier;h.target==b.canvas&&("touchstart"==e?this._handleStart(b,i,c,h.pageX,h.pageY):"touchmove"==e?this._handleMove(b,i,c,h.pageX,h.pageY):("touchend"==e||"touchcancel"==e)&&this._handleEnd(b,i,c))}}},b._IE_enable=function(c){var d=c.canvas,e=c.__touch.f=function(d){b._IE_handleEvent(c,d)};void 0===window.navigator.pointerEnabled?(d.addEventListener("MSPointerDown",e,!1),window.addEventListener("MSPointerMove",e,!1),window.addEventListener("MSPointerUp",e,!1),window.addEventListener("MSPointerCancel",e,!1),c.__touch.preventDefault&&(d.style.msTouchAction="none")):(d.addEventListener("pointerdown",e,!1),window.addEventListener("pointermove",e,!1),window.addEventListener("pointerup",e,!1),window.addEventListener("pointercancel",e,!1),c.__touch.preventDefault&&(d.style.touchAction="none")),c.__touch.activeIDs={}},b._IE_disable=function(b){var c=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",c,!1),window.removeEventListener("MSPointerUp",c,!1),window.removeEventListener("MSPointerCancel",c,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",c,!1)):(window.removeEventListener("pointermove",c,!1),window.removeEventListener("pointerup",c,!1),window.removeEventListener("pointercancel",c,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",c,!1))},b._IE_handleEvent=function(b,c){if(b){b.__touch.preventDefault&&c.preventDefault&&c.preventDefault();var d=c.type,e=c.pointerId,f=b.__touch.activeIDs;if("MSPointerDown"==d||"pointerdown"==d){if(c.srcElement!=b.canvas)return;f[e]=!0,this._handleStart(b,e,c,c.pageX,c.pageY)}else f[e]&&("MSPointerMove"==d||"pointermove"==d?this._handleMove(b,e,c,c.pageX,c.pageY):("MSPointerUp"==d||"MSPointerCancel"==d||"pointerup"==d||"pointercancel"==d)&&(delete f[e],this._handleEnd(b,e,c)))}},b._handleStart=function(b,c,d,e,f){var g=b.__touch;if(g.multitouch||!g.count){var h=g.pointers;h[c]||(h[c]=!0,g.count++,b._handlePointerDown(c,d,e,f))}},b._handleMove=function(b,c,d,e,f){b.__touch.pointers[c]&&b._handlePointerMove(c,d,e,f)},b._handleEnd=function(b,c,d){var e=b.__touch,f=e.pointers;f[c]&&(e.count--,b._handlePointerUp(c,d,!0),delete f[c])},h.Touch=b})(),h=h||{},(function(){"use strict";var b=h.EaselJS=h.EaselJS||{};b.version="0.8.2",b.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"})();g.Easel=h}),null);
__d("WAWebAccountBoxIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="account-box";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=25;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 25 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M3.5 5V19C3.5 20.1 4.39 21 5.5 21H19.5C20.6 21 21.5 20.1 21.5 19V5C21.5 3.9 20.6 3 19.5 3H5.5C4.39 3 3.5 3.9 3.5 5ZM15.5 9C15.5 10.66 14.16 12 12.5 12C10.84 12 9.5 10.66 9.5 9C9.5 7.34 10.84 6 12.5 6C14.16 6 15.5 7.34 15.5 9ZM6.5 17C6.5 15 10.5 13.9 12.5 13.9C14.5 13.9 18.5 15 18.5 17V18H6.5V17Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AccountBoxIcon=a}),98);
__d("WAWebAddContactToGroupFlow.react",["fbt","$InternalEnum","WANullthrows","WAWebApiContact","WAWebChatCollection","WAWebCmd","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebContactGetters","WAWebEmojiText.react","WAWebFocusTracer","WAWebFrontendContactGetters","WAWebGroupsModal.react","WAWebModifyParticipantsGroupAction","WAWebNoop","WAWebWidFactory","fbs","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useRef,m=e.useState,n=b("$InternalEnum").Mirrored(["SelectGroup","Confirm"]);function a(a){var b=a.contact;a=d("useWAWebFlow").useFlow(n.SelectGroup);var e=a[0],f=a[1];a=m();var g=a[0],i=a[1];a=function(a){var e=a.groupMetadata;if(!d("WAWebContactGetters").getIsGroup(a)||d("WAWebContactGetters").getIsGroup(a)&&!(e!=null&&e.participants.iAmMember()))return!1;a=(e==null?void 0:e.isLidAddressingMode)===!0?d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").asUserWidOrThrow(b.id)):b.id;if(a!=null&&e!=null&&e.participants.get(a))return h._(/*BTDS*/"Already added to group").toString();return!(e!=null&&e.participants.iAmAdmin())?c("fbs")._(/*BTDS*/"You are not an admin").toString():!0};var j=function(a){d("WAWebModifyParticipantsGroupAction").addParticipants(a,[b]).then(function(){d("WAWebCmd").Cmd.openChatFromUnread(a).then(function(b){b&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)})})["catch"](c("WAWebNoop")),f.end()},o=l(null),p=function(){if(!o.current)return;var a=o.current;if(!a||a.contains(document.activeElement))return;c("WAWebFocusTracer").focus(a)},q=function(a){p(),i(a),f.push(n.Confirm)};if(f.step==null)return null;var r=null;switch(f.step){case n.SelectGroup:r=k.jsx(c("WAWebGroupsModal.react"),{chats:d("WAWebChatCollection").ChatCollection.filter(function(a){return d("WAWebContactGetters").getIsGroup(a)}),filter:a,onCancel:function(){return f.pop()},onGroup:q});break;case n.Confirm:r=k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cancelText:h._(/*BTDS*/"Cancel"),okText:h._(/*BTDS*/"Add member"),onOK:function(){return j(c("WANullthrows")(g))},onCancel:function(){return f.pop()},children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._(/*BTDS*/"Add {participant} to \"{subject}\" group?",[h._param("participant",d("WAWebFrontendContactGetters").getFormattedName(b)),h._param("subject",c("WANullthrows")(g).contact.name)])})});break}return k.jsx(e,{ref:o,flow:f,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebArchivedDrawer.react",["fbt","WALogger","WAWebApiChat","WAWebChat.react","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityGatingUtils","WAWebComposeBoxActions","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmptyState.react","WAWebFlatList.react","WAWebFlatListController","WAWebFocusTracer","WAWebFrontendChatGetters","WAWebKeyboardHotKeys.react","WAWebSettingsGetters","WAWebSingleSelection","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","react","stylex","useLazyRef","useWAWebListener","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g,h){var i,j=["ref"],k,l,m;b=m||d("react");var n=k||(k=c("react")),o=b.useEffect,p=b.useRef,q=b.useState,r=d("WAWebChat.react").ChatFactory(),s=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,j);var e=a.onClose,f=function(){return d("WAWebChatCollection").ChatCollection.filter(function(a){return a.archive&&d("WAWebFrontendChatGetters").getShouldAppearInList(a)})};a=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2,d("WAWebSettingsGetters").getArchive]);var g=a[0],k=a[1];a=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});var m=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})}),t=p(null),u=q(f),v=u[0],w=u[1];u=function(a){var b=m.current.getVal();a===b&&m.current.unset()};var x=function(){return g};d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,[x()?"sort":null,"change:archive","add","remove"].filter(Boolean),function(){w(f())});var y=function(a){m.current.setVal(a,!1)};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_chat",u);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"update_chatlist_selection",y);u=function(){var a=d("WAWebChatCollection").ChatCollection.some(function(a){return a.archive});return a};var z=function(){return d("WAWebChatCollection").ChatCollection.toArray().find(function(a){return a.active&&a.archive})};o(function(){if(x()){var a=f(),b=new Map();a.forEach(function(a){a.archiveAtMentionViewedInDrawer=!0,b.set(a.id.toString(),!0)});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebArchivedDrawer: will mark chats for archive"])));d("WAWebApiChat").updateChatArchiveDrawer(b)}t.current&&c("WAWebFocusTracer").focus(t.current);a=z();a&&y(a)},[]);var A=function(){e()},B=function(a,b){d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)}),k.enabled||A()},C=function(a){a.preventDefault(),a.stopPropagation(),m.current.setNext(!0)},D=function(a){a.preventDefault(),a.stopPropagation(),m.current.setPrev(!0)},E=function(a){a=d("WAWebCommunityGatingUtils").shouldShowNewSubgroupIdentity(a.groupMetadata)?d("WAWebChatCommunityUtils").SUBGROUP_V2_CHAT_CELL_HEIGHT:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT;return d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?a+4:a},F=function(){return v.map(function(a){return{itemKey:a.id.toString(),chat:a,height:E(a)}})};m.current.init(v,!0);var G;if(u()){u=h._(/*BTDS*/"These chats stay archived when new messages are received. To change this experience, go to {=m2} on your phone.",[h._implicitParam("=m2",n.jsx("span",{className:"x117nqv4",children:h._(/*BTDS*/"Settings > Chats")}))]);var H=h._(/*BTDS*/"These chats are unarchived when new messages are received. To change this experience, go to {=m2} on your phone.",[h._implicitParam("=m2",n.jsx("span",{className:"x117nqv4",children:h._(/*BTDS*/"Settings > Chats")}))]);G=n.jsx("div",{className:"x1xnncb0",children:n.jsx("div",babelHelpers["extends"]({},(l||(l=c("stylex"))).props([d("WAWebUISpacing").uiPadding.horiz20,d("WAWebUISpacing").uiPadding.bottom10]),{children:n.jsx("div",{className:"x1yc453h",children:n.jsx(d("WAWebText.react").WAWebTextMuted,{as:"p",children:g?u:H})})}))})}if(v.length>0){u={down:C,up:D};H=n.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:t,handlers:u,children:[G,n.jsx("div",{className:"x889kno x1xnnf8n x1a8lsjc x106a9eq",children:n.jsx("div",{className:"xjm9jq1 xkh2ocl x1uew315"})}),n.jsx(s,{className_DONOTUSE:"x6ikm8r x10wlt62",data:F(),testid:void 0,flatListController:a.current,direction:"vertical",renderItem:function(a){return n.jsx(r,{chat:a.chat,mode:d("WAWebChat.react").Mode.LAST,active:m.current,onClick:B,hideArchivedIcon:k.enabled,hideMuteIcon:x(),hideMuteOption:x(),ephemeralIcon:"chat-list",showCommunityInfo:!0})}})]})}else H=n.jsx(d("WAWebEmptyState.react").Archived,{});C=k.enabled?h._(/*BTDS*/"Archived"):h._(/*BTDS*/"Archived chats");D=d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL;d("WAWebUIRefreshGatingUtils").sideNavSecondarySectionEnabled()&&(D=d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB);return n.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"archived",tsNavigationData:{surface:"archived-chats-drawer"},children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:C,onBack:A,type:D,menu:null}),n.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[a.current],children:H})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebArchivedFlow.react",["$InternalEnum","WAWebArchivedDrawer.react","WAWebSettingsModel","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["Chats"]);function a(a){a=a.onEnd;a=d("useWAWebFlow").useFlow(j.Chats,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:a});var b=a[0],e=a[1];if(e.step==null)return null;var f;switch(e.step){case j.Chats:f=i.jsx(c("WAWebArchivedDrawer.react"),{settings:c("WAWebSettingsModel"),onClose:function(){e.pop()}});break}return i.jsx(b,{flow:e,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAttachMediaFlow.react",["WALogger","WAWebApiPrepareCtwaContextSend","WAWebAttachMediaModel","WAWebAttachMenuGatingUtils","WAWebBizBotTosUtils","WAWebChatGetters","WAWebCmd","WAWebComposeBoxActions","WAWebComposeBoxUtils","WAWebDrawerManager","WAWebMediaEditorEnumsThemes","WAWebMediaEditorForChatLoadable.react","WAWebMediaGatingUtils","WAWebPrepareMessageSendingAction","WAWebQuestions.flow","WAWebUA","WAWebUim","WAWebUimUie.react","WAWebWamEnumThreadType","asyncToGeneratorRuntime","once","react"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef;function a(a){var e=a.chat,f=a.initCaption,g=a.isQuestion,i=a.mediaCollection,j=a.onCancel,o=a.onComplete,p=a.onDismiss,q=a.onRender,r=a.onSend,s=a.openTrigger,t=a.questionReplyQuotedMessage;a=a.sendAsSticker;var u=n();m(function(){d("WAWebCmd").Cmd.closeContextMenu();d("WAWebCmd").Cmd.closeTooltip();d("WAWebDrawerManager").DrawerManager.closeDrawerRight();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(e);return function(){d("WAWebUA").UA.isGecko?self.setTimeout(function(){return d("WAWebComposeBoxActions").ComposeBoxActions.focus(e)},1):d("WAWebComposeBoxActions").ComposeBoxActions.focus(e)}},[]);var v=l(function(){e==null||e.setAttachMediaContents(null)},[e]),w=l(function(a){var b;a===void 0&&(a=!0);var c=[];(b=e.attachMediaContents)==null||b.forEach(function(a){a=(a=a.caption)==null?void 0:a.trim();a!=null&&a.length>0&&c.push(a)});a&&v();o==null||o(!1);j==null||j(c);i.mediaPickerStatsLogger.logCancel();p()},[e.attachMediaContents,v,i.mediaPickerStatsLogger,j,o,p]),x=function(a){var b;if(!((b=u.current)!=null&&b.handleRequestDismiss(a)))return;a===d("WAWebUim").DismissReason.UIM_INTERACTION&&w(!1)},y=c("once")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(e);b=b;var c=b.initCaptionUsed,j=b.isViewOnce,k=b.isWamoSub;d("WAWebCmd").Cmd.once("ui_idle",function(){a.forEach(function(a,b){var c=a.media,i={};b===0&&(i.quotedMsg=e.composeQuotedMsg,e.composeQuotedMsg=null);i.type=c.type;i.isViewOnce=j;i.mentionedJidList=a.mentionedJidList;i.groupMentions=a.groupMentions;i.caption=c.caption;i.addEvenWhilePreparing=c.previewable&&c.state===d("WAWebAttachMediaModel").ATTACH_MEDIA_STATE.PROCESSING;i.isWamoSub=k;i.isQuestion=g;i.questionReplyQuotedMessage=t;if(f!=null&&f.ctwaContextLinkData){b=f.ctwaContextLinkData;a=f.ctwaContext;i.ctwaContext=d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(b,a)}d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["AttachMediaFlow: before sendToChat"])));c.sendToChat(e,i)}),v()});o==null||o(!0,{initCaptionUsed:c});r==null||r();i.mediaPickerStatsLogger.logSend({isViewOnce:!!j});d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()&&d("WAWebCmd").Cmd.closeExpressionPanels();p()});return function(b,c){return a.apply(this,arguments)}}()),z=c("once")(function(a){a!=null&&d("WAWebCmd").Cmd.once("ui_idle",function(){d("WAWebComposeBoxActions").ComposeBoxActions.paste(e,a)}),p()}),A;d("WAWebChatGetters").getIsNewsletter(e)&&(A={surface:"channel-producer-media-editor",extras:{channelWid:e.id,threadType:d("WAWebWamEnumThreadType").THREAD_TYPE.CHANNEL}});var B;g===!0?B=d("WAWebQuestions.flow").QuestionType.Question:t!=null&&(B=d("WAWebQuestions.flow").QuestionType.Reply);return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"AttachMediaFlow",escapable:!0,requestDismiss:x,children:k.jsx(d("WAWebMediaEditorForChatLoadable.react").MediaEditorForChatLoadable,{theme:d("WAWebMediaEditorEnumsThemes").MediaTheme.ATTACH,ref:u,chat:e,onClose:w,onRender:q,initCaption:f,onSendMedia:y,mediaCollection:i,onDropText:z,sendAsSticker:a,tsNavigationData:A,openTrigger:s,allowMultipleMedia:g!==!0&&t==null&&d("WAWebMediaGatingUtils").supportsMultipleUploads(e.id),placeholderText:d("WAWebComposeBoxUtils").getComposeBoxPlaceholderText({chat:e,questionType:B})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebVcardConfirmModal.react",["fbt","WAWebChatFlowTypes","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFocusTracer","WAWebFrontendChatGetters","WAWebFrontendVcardUtils","WAWebKeyboardHotKeys.react","WAWebKeyboardTabUtils","WAWebModal.react","WAWebRound.react","WAWebUIRefreshGatingUtils","WAWebVcardModalDetails.react","WAWebVcardParsingUtils","WAWebWdsIcSendFilledIcon.react","react","useMergeRefs","useWAWebChatValues"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useEffect,n=b.useRef,o={sendButtonRefresh:{color:"x1pse0pq",backgroundColor:"xfn3atn",$$css:!0}};function p(a){a=a.contact;a=d("WAWebVcardParsingUtils").parseVcard(a.vcard);return!a?null:l.jsx("div",{className:"x1n2onr6 xyorhqc x150wa6m x1bnvlk4",children:l.jsx(c("WAWebVcardModalDetails.react"),{parsedVcard:a,thumbnail:d("WAWebVcardParsingUtils").vcardThumbnail(a)})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=n(null);b=c("useMergeRefs")(b,e);var f=a.contactList,g=a.onSend,j=a.onBack;a=a.chat;m(function(){var a=e.current;if(a==null)return;a=d("WAWebKeyboardTabUtils").getNextTabbableElement(a,d("WAWebKeyboardTabUtils").TabDirection.FORWARD,d("WAWebKeyboardTabUtils").FocusType.CUSTOM);if(a==null)return;c("WAWebFocusTracer").focus(a)},[]);var k=d("useWAWebChatValues").useChatValues(a.id,[d("WAWebFrontendChatGetters").getKind]);k=k[0];var q;if(k!=null)switch(k){case d("WAWebChatFlowTypes").ChatKindType.Chat:q=h._(/*BTDS*/"_j{\"*\":\"Send {count} contacts to \\\"{chat}\\\"?\",\"_1\":\"Send 1 contact to \\\"{chat}\\\"?\"}",[h._plural(f.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Group:q=h._(/*BTDS*/"_j{\"*\":\"Send {count} contacts to \\\"{chat}\\\"?\",\"_1\":\"Send 1 contact to \\\"{chat}\\\"?\"}",[h._plural(f.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Broadcast:q=h._(/*BTDS*/"_j{\"*\":\"Send {count} contacts to \\\"{chat}\\\"?\",\"_1\":\"Send 1 contact to \\\"{chat}\\\"?\"}",[h._plural(f.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Community:case d("WAWebChatFlowTypes").ChatKindType.Newsletter:break}k=q!=null?l.jsx(d("WAWebEmojiText.react").EmojiText,{text:q,direction:"auto",titlify:!0,ellipsify:!0}):null;return l.jsx(d("WAWebModal.react").Modal,{ref:b,type:d("WAWebModal.react").ModalTheme.Box,children:l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onBack:j,children:k}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{children:l.jsx("div",{className:"x889kno",children:f.map(function(a,b){return l.jsx(p,{contact:d("WAWebFrontendVcardUtils").vcardFromContactModel(a)},b.toString())})})})}),l.jsx("div",{className:"x1n2onr6 x12xzxwr x1x0gksc x11doyns",children:l.jsx("div",{className:"x10l6tqk x145d82y x3h4tne",children:l.jsxs(d("WAWebRound.react").Round,{label:h._(/*BTDS*/"Send contacts"),large:!0,onClick:g,xstyle:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&o.sendButtonRefresh,children:[l.jsx(d("WAWebWdsIcSendFilledIcon.react").WdsIcSendFilledIcon,{directional:!0})," "]})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebAttachVcardsFlow.react",["fbt","$InternalEnum","WAWebABProps","WAWebBizBotTosUtils","WAWebContactCollection","WAWebSelectModal.react","WAWebSendContactsAction","WAWebUsernameGatingUtils","WAWebVcardConfirmModal.react","asyncToGeneratorRuntime","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef,m=b("$InternalEnum").Mirrored(["Select","Confirm"]);function a(a){var e=d("useWAWebFlow").useFlow(m.Select),f=e[0],g=e[1],i=l([]);if(g.step==null)return null;var j;switch(g.step){case m.Select:e=d("WAWebContactCollection").ContactCollection.getFilteredContacts({});var n=function(a){g.push(m.Confirm),i.current=a},o=function(){return i.current},p=d("WAWebABProps").getABPropConfigValue("group_size_limit");j=k.jsx(d("WAWebSelectModal.react").SelectModal,{title:h._(/*BTDS*/"Send contacts"),onCancel:function(){a.onCancel(),g.pop()},contacts:e,onConfirm:n,getInitialItems:o,listType:d("WAWebSelectModal.react").ListType.ContactSelectModal,maxItems:p,includeYouSection:d("WAWebUsernameGatingUtils").phoneNumberSharingFlowEnabled(),allowBlockedContacts:!0,allowUnknownUsernameContactSearch:!1});break;case m.Confirm:var q=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e;g.end();var f=a.chat;yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(f);var h=f.composeQuotedMsg;f.composeQuotedMsg=null;e=((e=f.getComposeContents())==null?void 0:e.ctwaContext)||void 0;void c("WAWebSendContactsAction")(b,f,h,e);a.onContactsSent()});return function(a){return e.apply(this,arguments)}}();j=k.jsx(c("WAWebVcardConfirmModal.react"),{contactList:i.current,onSend:function(){return void q(i.current)},onBack:function(){g.pop()},chat:a.chat});break}return k.jsx(f,{flow:g,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebAvatarOverlay.react",["$InternalEnum","WAWebUIRefreshGatingUtils","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useMemo,m=b("$InternalEnum").Mirrored(["DEFAULT","COMMUNITY"]),n={overlay:{position:"x10l6tqk",top:"x13vifvy",insetInlineStart:"x1o0tod",zIndex:"xfo81ep",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",height:"x5yr21d",fontSize:"x1nxh6w3",lineHeight:"x1u7k74",color:"x1j16vfr",textTransform:"xtvhhri",backgroundColor:"x146q241",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},overlayRefreshed:{position:"x10l6tqk",top:"x13vifvy",zIndex:"x16uhe5s",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",height:"x5yr21d",backgroundColor:"x219wg1",$$css:!0},overlayInnerRefreshed:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",flexDirection:"xdt5ytf",rowGap:"x129bwdz",boxSizing:"x9f619",width:"x29ncy0",height:"x17j7krd",$$css:!0},noBorderRadius:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0},text:{width:"x1exxlbk",textAlign:"x2b8uid",overflowWrap:"x1mzt3pk",$$css:!0},textRefreshed:{width:"xh8yej3",textAlign:"x2b8uid",overflowWrap:"x1mzt3pk",color:"x1awj2ng",fontSize:"x1nxh6w3",lineHeight:"x1d3mw78",$$css:!0}};function a(a){var b=a.icon,e=a.ref,f=a.text;a=a.theme;var g=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),h=l(function(){var a=k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({},{0:{className:"x7o08j2"},1:{className:"x1awj2ng"}}[!!g<<0],{children:b})),k.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(i||(i=c("stylex"))).props(g?n.textRefreshed:n.text,!g&&d("WAWebUISpacing").uiMargin.top10),{children:f}))]});g&&(a=k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.overlayInnerRefreshed,d("WAWebUISpacing").uiPadding.all8),{children:a})));return a},[b,g,f]);return k.createElement("div",babelHelpers["extends"]({ref:e},(i||(i=c("stylex"))).props([g?n.overlayRefreshed:[n.overlay,d("WAWebUISpacing").uiPadding.top15],a===m.COMMUNITY&&n.noBorderRadius]),{key:"avatar-overlay"}),h)}a.displayName=a.name+" [from "+f.id+"]";g.AvatarOverlayTheme=m;g.AvatarOverlay=a}),98);
__d("WAWebBizProductMessageSendQpl",["WAQplTypes","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(e,{annotations:{string:{EntryPoint:a}}});b!==void 0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(e,{"int":{ProductCount:b}});c!==void 0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(e,{"int":{ContactCount:c}})}function b(a){var b=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;a.then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(b,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(b,d("WAQplTypes").QuickLogActionType.FAIL)})}g.qplStartProductSendMessage=a;g.qplEndProductMessageSend=b}),98);
__d("WAWebProductCatalogMessage",["fbt","WALogger","WANullthrows","WAWebAttachMediaCollection","WAWebAttachMediaModel","WAWebMsgType","WAWebProductCatalogLogQplEvents","WAWebProductSelectors","WAWebToast.react","WAWebToastManager","WAWebWamEnumMediaPickerOriginType","asyncToGeneratorRuntime","err","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=c("WANullthrows")(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:b}));d("WAWebProductCatalogLogQplEvents").qplPointProductMessageSend("image_upload_start");yield b.processAttachmentsForChat([{file:a}],d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,e);d("WAWebProductCatalogLogQplEvents").qplPointProductMessageSend("image_upload_end");if(!b.canSend())return;a=b.getPreviewableMedias();if(a.length!==1)return;e=a[0];c("isStringNullOrEmpty")(e.caption)&&(e.caption=void 0);return e});return m.apply(this,arguments)}function n(a){return babelHelpers["extends"]({businessOwnerJid:a.catalogWid.toString({legacy:!0}),productId:a.id.toString(),url:a.url,productImageCount:a.getProductImageCollectionCount(),title:a.name,description:a.description},a.priceAmount1000===0?{priceAmount1000:null,currencyCode:null}:{currencyCode:a.currency,priceAmount1000:a.priceAmount1000},{salePriceAmount1000:d("WAWebProductSelectors").isSalePriceActive(a)?a.salePriceAmount1000:null})}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=b.getHeadImageFile();if(!f){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Can not send product before media is ready")}));throw c("err")("Tried to send product message. Media file is not available.")}var g=a.getParticipantCount();f=(yield l(f,g,a));if(!f){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Can not send product before media is ready")}));throw c("err")("Tried to send product message. Media data is not available.")}g={quotedMsg:e,caption:f.caption,addEvenWhilePreparing:f.previewable&&f.state===d("WAWebAttachMediaModel").ATTACH_MEDIA_STATE.PROCESSING,useBasePropsType:!0};return f.sendToChat(a,babelHelpers["extends"]({},g,{type:d("WAWebMsgType").MSG_TYPE.PRODUCT,productMsgOptions:n(b)}))["catch"](function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Failed to send product")}));d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to send Catalog product"]))).tags("messaging").sendLogs("catalog-product-send-failed",{sampling:.01});throw c("err")("Failed to send product")})});return o.apply(this,arguments)}g.createProductMsgSnapshot=n;g.sendProductMessage=a}),226);
__d("WAWebCatalogIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="catalog";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{id:"catalog_web",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[k.jsx("path",{d:"M3.25,15 L3.25,19 C3.25,19.9664983 4.03350169,20.75 5,20.75 L15,20.75 C15.9664983,20.75 16.75,19.9664983 16.75,19 L16.75,15 C16.75,14.5857864 16.4142136,14.25 16,14.25 C15.5857864,14.25 15.25,14.5857864 15.25,15 L15.25,19 C15.25,19.1380712 15.1380712,19.25 15,19.25 L5,19.25 C4.86192881,19.25 4.75,19.1380712 4.75,19 L4.75,15 C4.75,14.5857864 4.41421356,14.25 4,14.25 C3.58578644,14.25 3.25,14.5857864 3.25,15 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),k.jsx("path",{d:"M20.75,20 L20.75,15 C20.75,14.5857864 20.4142136,14.25 20,14.25 C19.5857864,14.25 19.25,14.5857864 19.25,15 L19.25,20 C19.25,20.4142136 19.5857864,20.75 20,20.75 C20.4142136,20.75 20.75,20.4142136 20.75,20 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),k.jsx("path",{d:"M19.0596875,4 L5.51793438,4 C4.40802085,4 3.43383032,4.73889996 3.13458536,5.80771262 L2.05872453,9.65036257 C1.82420376,10.488 2.31312637,11.3571559 3.15076375,11.5916766 C3.2889905,11.6303772 3.43185897,11.65 3.57540118,11.65 L21.0022207,11.65 C21.8720692,11.65 22.5772207,10.9448485 22.5772207,10.075 C22.5772207,9.93145779 22.557598,9.78858932 22.5188974,9.65036257 L21.4430366,5.80771262 C21.1437916,4.73889996 20.1696011,4 19.0596875,4 Z M19.0596875,5.35 C19.5641937,5.35 20.0070076,5.68586362 20.143028,6.17168755 L21.2188888,10.0143375 C21.2244175,10.0340842 21.2272207,10.054494 21.2272207,10.075 C21.2272207,10.1992641 21.1264848,10.3 21.0022207,10.3 L3.57540118,10.3 C3.55489515,10.3 3.53448537,10.2971967 3.51473869,10.2916681 C3.39507621,10.2581651 3.32523012,10.134 3.35873309,10.0143375 L4.43459391,6.17168755 C4.57061435,5.68586362 5.01342823,5.35 5.51793438,5.35 L19.0596875,5.35 Z",id:"Path",fill:"#000000",fillRule:"nonzero"}),k.jsx("path",{d:"M22.188811,10.975 L22.188811,11.3296105 C22.188811,12.1278748 21.2949411,13.225 20.1923038,13.225 C19.1592556,13.225 18.3198702,12.2052018 18.2168352,11.4776253 C18.1127212,12.2052018 17.2733358,13.225 16.2408271,13.225 C15.2072395,13.225 14.3683936,12.2052018 14.264819,11.4776253 C14.1612445,12.2052018 13.3218591,13.225 12.288811,13.225 C11.2552233,13.225 10.4163774,12.2052018 10.3128029,11.4776253 C10.2097678,12.2052018 9.369843,13.225 8.33679483,13.225 C7.30374666,13.225 6.46490076,12.2052018 6.36132621,11.4776253 C6.25775167,12.2052018 5.41782687,13.225 4.38531815,13.225 C3.28268083,13.225 2.38881096,12.1278748 2.38881096,11.3296105 L2.38881096,10.975 L22.188811,10.975 Z",id:"Fill-9",fill:"#000000"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CatalogIcon=a}),98);
__d("WAWebProductCatalogSendCatalogButton.react",["fbt","WAWebCatalogIcon.react","WAWebCellFrame.react","WAWebRoundShape.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.disabled;a=a.onClick;var e=b?"xt0e3qv":"",f=b?"x40yjcy":"";a=b?null:a;f=j.jsx("span",{className:f,children:h._(/*BTDS*/"Send catalog")});b=j.jsx(c("WAWebRoundShape.react"),{theme:"compact",disabled:b,children:j.jsx(d("WAWebCatalogIcon.react").CatalogIcon,{})});return j.jsx(c("WAWebCellFrame.react"),{image:b,onClick:a,primary:f,theme:"list-button-compact",className:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogSelectProductsModal.react",["fbt","WANullthrows","WAWebCatalogCollection","WAWebProductCatalogSendCatalogButton.react","WAWebSelectModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var b=a.onCancel,e=a.onConfirm,f=a.onShare;a=a.ref;var g=l(!1),i=g[0],j=g[1];g=l([]);var m=g[0],n=g[1];g=function(a,b,c){j(c.length===0)};var o=function(a){a=a;n(a);j(a.length>0)},p=function(){var a;a=c("WANullthrows")((a=m[0])==null?void 0:a.catalogWid);a=c("WANullthrows")(d("WAWebCatalogCollection").CatalogCollection.get(a));f(a)};i=k.jsx(c("WAWebProductCatalogSendCatalogButton.react"),{disabled:!i,onClick:p});return k.jsx(d("WAWebSelectModal.react").SelectModal,{ref:a,title:h._(/*BTDS*/"Send products"),onCancel:b,onConfirm:e,listType:d("WAWebSelectModal.react").ListType.ProductSelectModal,enableSearchBox:!1,customHeader:i,onSelectionChanged:g,onDataLoaded:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizAttachProductModal.react",["fbt","Promise","WAWebBizProductMessageSendQpl","WAWebCatalogShortLinkUtils","WAWebComposeBoxActions","WAWebModalManager","WAWebProductCatalogLogEvents","WAWebProductCatalogMessage","WAWebProductCatalogSelectProductsModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a){var e=function(c){var e=a.chat,f=a.onSend,g=a.sessionId;d("WAWebBizProductMessageSendQpl").qplStartProductSendMessage("Attachment",c.length);c=c.map(function(a,b){b=b===0?e.composeQuotedMsg:null;return d("WAWebProductCatalogMessage").sendProductMessage(e,a,b).then(function(){d("WAWebProductCatalogLogEvents").logProductMessageSent({catalogSessionId:g,product:a})})});d("WAWebBizProductMessageSendQpl").qplEndProductMessageSend((i||(i=b("Promise"))).all(c));e.composeQuotedMsg=null;f==null||f();d("WAWebModalManager").ModalManager.close()},f=function(b){var c=a.chat,e=a.sessionId,f=d("WAWebCatalogShortLinkUtils").createCatalogLink(b.id.user);f=h._(/*BTDS*/"Follow this link to view our catalog on WhatsApp: {catalogUrl}",[h._param("catalogUrl",f)]).toString();d("WAWebComposeBoxActions").ComposeBoxActions.paste(c,f);d("WAWebProductCatalogLogEvents").logSendCatalogClick({catalogOwnerWid:b.id,catalogSessionId:e});d("WAWebModalManager").ModalManager.close()},g=function(){a.onCancel==null||a.onCancel(),d("WAWebModalManager").ModalManager.close()};return k.jsx(c("WAWebProductCatalogSelectProductsModal.react"),{onCancel:g,onConfirm:e,onShare:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizBusinessComplianceAddressRequiredModal",["WAWebComplianceInfo.react","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=function(){d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsx(d("WAWebComplianceInfo.react").ComplianceInfoHelpCenterBanner,{})}))};b=a;g["default"]=b}),98);
__d("WAWebBizClearCartAction",["WAWebBizSyncCartAction"],(function(a,b,c,d,e,f,g){function a(a){a.cartItemCollection.reset(),a.set("message",void 0),a.trigger("change:cartItemCollection"),c("WAWebBizSyncCartAction")(a)}g["default"]=a}),98);
__d("WAWebBizMatchCartItemsToProductsAction",["fbt","WATypeUtils","WAWebBizClearCartAction","WAWebBizProductCatalogBridge","WAWebBizSyncCartAction","WAWebCatalogCollection","WAWebConfirmPopup.react","WAWebModalManager","WAWebProductModel","WAWebProductSelectors","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a,b){return a.priceAmount1000===d("WAWebProductSelectors").getActivePrice(b)&&a.currency===b.currency&&a.name===b.name&&a.imageHash===b.imageHash&&a.maxAvailable===b.maxAvailable}function l(a,b){var c=d("WAWebProductSelectors").getActivePrice(q(b));return s(a.priceAmount1000,c)&&(!d("WATypeUtils").isString(a.currency)&&!d("WATypeUtils").isString(b.currency)||a.currency===b.currency)&&a.name===b.name&&a.imageHash===((c=b.media)==null||(c=c.image)==null?void 0:c.id)}function m(a,b){var c=k(a,b);if(!c){a.set({priceAmount1000:d("WAWebProductSelectors").getActivePrice(b),currency:b.currency,name:b.name,imageHash:b.imageHash,maxAvailable:b.maxAvailable,variantProperties:(a=b.variantInfo)==null?void 0:a.variant_properties},{silent:!0})}return c}function n(a,b){var c=b?l(a,b):!0;if(!c&&b){b=q(b);a.set({priceAmount1000:d("WAWebProductSelectors").getActivePrice(b),currency:b.currency,name:b.name,imageHash:b.imageHash,maxAvailable:b.maxAvailable,variantProperties:(a=b.variantInfo)==null?void 0:a.variant_properties},{silent:!0})}return c}function o(a,b){if(a&&a.status==="deleted"){b.productCollection.remove(a.id);return void 0}return a}function p(){d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"One or more items in your cart have been updated")}))}function q(a){var b;return{id:a.id,name:(b=a.name)!=null?b:"",imageCdnUrl:(b=a.media)==null||(b=b.image)==null?void 0:b.request_image_url,imageHash:(b=a.media)==null||(b=b.image)==null?void 0:b.id,currency:a.currency,priceAmount1000:r(a.price),salePriceAmount1000:r((b=a.sale_price)==null?void 0:b.price),salePriceStartDate:d("WAWebBizProductCatalogBridge").parseDateValue((b=a.sale_price)==null?void 0:b.start_date),salePriceEndDate:d("WAWebBizProductCatalogBridge").parseDateValue((b=a.sale_price)==null?void 0:b.end_date),maxAvailable:a.max_available,variantInfo:{availability:void 0,listing_details:void 0,types:[],variant_properties:(b=a.variantProperties)!=null?b:[]}}}function r(a){return typeof a==="string"?a.length>0?parseInt(a,10):null:a}function s(a,b){a=r(a);b=r(b);if(d("WATypeUtils").isNumber(a)&&d("WATypeUtils").isNumber(b))return a===b;else if(!d("WATypeUtils").isNumber(a)&&!d("WATypeUtils").isNumber(b))return!0;return!1}function t(a,b){return new(d("WAWebProductModel").Product)(babelHelpers["extends"]({},q(a),{catalogWid:d("WAWebWidFactory").createWid(b),productMsgMediaData:null,imageCount:1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1}))}function a(a,b){var e=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebWidFactory").createWid(a.id)),f=[],g=[],h=!0;e&&a.cartItemCollection.forEach(function(c){var d=e.productCollection.get(c.id),i=b&&b.products.find(function(a){return a.id===c.id});i=o(i,e);if(!b&&d){var j=m(c,d);h=h&&j;f.push({product:d,cartItem:c})}else if(i){j=n(c,i);h=h&&j;f.push({product:t(i,a.id),cartItem:c})}else h=!1,g.push(c.id)});e||c("WAWebBizClearCartAction")(a);h||(g.length&&a.cartItemCollection.remove(g),a.trigger("change:cartItemCollection"),p());c("WAWebBizSyncCartAction")(a);return f}function b(a){return a.reduce(function(a,b){return a+b.cartItem.quantity*d("WAWebProductSelectors").getSavings(b.product)},0)}g.parsePrice=r;g.isPriceMatch=s;g.createProductFromRefreshCartItem=t;g.matchCartItemsToProducts=a;g.getSavingsFromCartItemsAndProducts=b}),226);
__d("WAWebBizPullCartUpdateAction",["Promise","WAWebBizCartBridge","WAWebCartCollection","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h;function a(a,c){if(a.cartItemCollection.length===0)return(h||(h=b("Promise"))).resolve({products:[],price:{}});var e=a.cartItemCollection.map(function(a){return a.id});return d("WAWebBizCartBridge").refreshCart(d("WAWebWidFactory").createWid(a.id),e,d("WAWebCartCollection").CartCollection.imageWidth,d("WAWebCartCollection").CartCollection.imageHeight,c)}g["default"]=a}),98);
__d("WAWebSendOrderChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebBizGatingUtils","WAWebMsgKey","WAWebNoop","WAWebProtobufsE2E.pb","WAWebSendMsgChatAction","WAWebSendMsgResultAction","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j){b=(yield k(a,b,e,f,g,j));if(d("WAWebUserPrefsMeUser").isMeAccount(a.id))return d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[0].then(c("WAWebNoop"))["catch"](function(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Order message send to chat failure: ",""])),a);throw a});try{e=(yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[1]);if(!e||e.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)throw c("err")("Order message SendMsgResult failure status")}catch(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Order message send to chat failure: ",""])),a);throw a}});return j.apply(this,arguments)}function k(a,b,c,d,e,f){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),j=b.price.total;i={type:"order",ack:d("WAWebAck").ACK.CLOCK,from:i,id:new(c("WAWebMsgKey"))({from:i,to:a.id,id:yield c("WAWebMsgKey").newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,t:d("WATimeUtils").unixTime(),to:a.id,orderId:b.id,token:b.token,orderTitle:a.name||a.formattedTitle,sellerJid:a.id.toString({legacy:!0}),status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.INQUIRY,messageVersion:d("WAWebBizGatingUtils").isBuyerOrderRevampEnabled()?2:1,thumbnail:f,itemCount:e,message:g,totalAmount1000:j!=null&&j.length>0?parseInt(j,10):void 0,totalCurrencyCode:b.price.currency!=null&&b.price.currency.length>0?b.price.currency:void 0,catalogType:h?h:void 0};return i});return l.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizSubmitOrderAction",["WAWebBizOrderAction","WAWebBizSyncCartAction","WAWebCatalogCollection","WAWebMediaOpaqueData","WAWebSendOrderChatAction","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a){var b,e=a.cartItemCollection.at(0);if(e==null)return"";a=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebWidFactory").createWid(a.id));a=a==null?void 0:a.productCollection.get(e.id);e=a==null||(b=a.getProductImageCollectionHead())==null?void 0:b.mediaData;return e==null?"":e.preview instanceof c("WAWebMediaOpaqueData")?(a=e.preview.getBase64())!=null?a:"":""}function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("WAWebBizOrderAction").createOrder(b.id,a.cartItemCollection.toArray()));yield c("WAWebSendOrderChatAction")(b,f,a.itemCount,h(a),a.message,e==null?void 0:e.getCatalogType());void c("WAWebBizSyncCartAction")(a);return f.id});return i.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizUpdateCartMessageAction",["WAWebBizSyncCartAction"],(function(a,b,c,d,e,f,g){function a(a,b){a.set("message",b),c("WAWebBizSyncCartAction")(a)}g["default"]=a}),98);
__d("WAWebCartDetailDrawerFooter.react",["fbt","WAWebABProps","WAWebBizGatingUtils","WAWebButton.react","WAWebCurrencyUtils","WAWebDirectConnectionGatingUtils","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebText.react","WAWebUISpacing","WAWebVelocityTransitionGroup","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={footerBorder:{borderTopColor:"xyj1x25",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},footerPrice:{width:"xh8yej3",$$css:!0}};function l(){return j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"By continuing, you agree to share your cart and phone number with the business so it can confirm your order and total price, including any tax, fees and discounts.")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getJioMartPostcodeChangeLearnMoreLink(),children:h._(/*BTDS*/"Learn more")})]})}l.displayName=l.name+" [from "+f.id+"]";function m(){return h._(/*BTDS*/"By continuing, you agree to share your cart, profile name and phone number with the business so it can confirm your order and total price, including any tax, fees and discounts")}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.isDirectConnection;a=a&&d("WAWebDirectConnectionGatingUtils").supportsDirectConnection()&&d("WAWebABProps").getABPropConfigValue("share_phone_number_on_cart_send_to_direct_connection_biz_enabled");return a?j.jsx(l,{}):j.jsx(m,{})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.currency;a=a.savings;return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"baseline",justify:"all",xstyle:[d("WAWebUISpacing").uiMargin.bottom8,k.footerPrice],children:[j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",color:"secondary",children:h._(/*BTDS*/"You save")}),j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",color:"teal",children:h._(/*BTDS*/"{cart-savings}",[h._param("cart-savings",d("WAWebCurrencyUtils").formatAmount1000(b,a))])})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.currency,c=a.savings;a=a.total;return j.jsxs(j.Fragment,{children:[c>0?j.jsx(o,{currency:b,savings:c}):null,j.jsxs(d("WAWebFlex.react").FlexRow,{align:"baseline",justify:"all",xstyle:[d("WAWebUISpacing").uiMargin.bottom8,k.footerPrice],children:[j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",weight:"medium",children:h._(/*BTDS*/"Estimated total")}),j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:h._(/*BTDS*/"{cart-total-price}",[h._param("cart-total-price",d("WAWebCurrencyUtils").formatAmount1000(b,a))])})]})]})}p.displayName=p.name+" [from "+f.id+"]";function q(){return j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",weight:"medium",children:h._(/*BTDS*/"Business will provide total price")})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.currency,c=a.savings;a=a.total;return a!=null&&b!=null?j.jsx(p,{currency:b,savings:c,total:a}):j.jsx(q,{})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.cart,e=a.isDirectConnection,f=a.onSend;a=a.savings;return j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[k.footerBorder,d("WAWebUISpacing").uiPadding.all16],children:[j.jsx(r,{total:b.total,currency:b.currency,savings:a}),j.jsx(d("WAWebText.react").WAWebTextMuted,{color:"secondaryLighter",xstyle:d("WAWebUISpacing").uiMargin.bottom15,children:j.jsx(n,{isDirectConnection:e})}),j.jsx(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"btn",children:j.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:f,children:d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._(/*BTDS*/"Send order request"):h._(/*BTDS*/"Send to business")})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CartDrawerContentFooter=a}),226);
__d("WAWebCartDeleteIcon.react",["fbt","WAWebDeleteIcon.react","WAWebSvgButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={deleteIcon:{color:"xfect85",":hover_color":"x1fumy",$$css:!0}};function a(a){a=a.onClick;return j.jsx(c("WAWebSvgButton.react"),{"aria-label":h._(/*BTDS*/"Remove from cart"),Icon:d("WAWebDeleteIcon.react").DeleteIcon,title:h._(/*BTDS*/"Remove from cart"),xstyle:k.deleteIcon,onClick:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCartProductQuantity.react",["WAWebBizCartConstants","WAWebStopEvent","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={selectComponent:{fontFamily:"xjb2p0i",$$css:!0}};function l(){var a=[];for(var b=1;b<=d("WAWebBizCartConstants").CART_ITEM_MAX_QUANTITY;b++)a.push(j.jsx("option",{value:b,children:b},b));return a}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.onChange,e=a.quantity;a=a.testid;function f(a){a=a.target;a instanceof HTMLSelectElement&&b(parseInt(a.value,10))}return j.jsxs("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1n2onr6 x1pju0fl","data-testid":void 0,children:[j.jsx("span",{className:"xiy17q3 x40yjcy x1lliihq x1c3i2sq xmix8c7 x11dcrhx xo5v014 x47corl x10l6tqk x1atx4j1 x11uqc5h",children:"\u25be"}),j.jsx("select",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.selectComponent,d("WAWebUISpacing").uiPadding.horiz10),{onClick:d("WAWebStopEvent").stopEvent,value:e,onChange:f,children:j.jsx(l,{})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartProductListItem.react",["WAWebBizDeleteProductFromCartAction","WAWebBizGatingUtils","WAWebBizUpdateProductQuantityCartAction","WAWebCartDeleteIcon.react","WAWebCartLogEvents","WAWebCartProductQuantity.react","WAWebCartQuantityControls.react","WAWebCellFrame.react","WAWebDrawerContext","WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebProductCatalogContext","WAWebProductCatalogProductPriceInfoText.react","WAWebProductCatalogProductThumb.react","WAWebStopEvent","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex","useHoverState"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useContext,m={deleteIconHidden:{visibility:"xlshs6z",$$css:!0},deleteIconVisible:{visibility:"xnpuxes",$$css:!0}};function n(a){var b=a.cartId,e=a.cartProduct,f=a.isHovered;a=a.quantity;var g=l(d("WAWebDrawerContext").DrawerContext),h=d("WAWebProductCatalogContext").getProductCatalogContext(g);function j(a,b){c("WAWebBizUpdateProductQuantityCartAction")(e,a),d("WAWebCartLogEvents").logEditProduct(e,b,a)}function n(a,f){var g=c("WAWebBizDeleteProductFromCartAction")(b,e.id.toString());c("WAWebBizDeleteProductFromCartAction")(b,e.id.toString());d("WAWebCartLogEvents").logDeleteProduct(e,f);g===0&&d("WAWebCartLogEvents").logCartAbandon(e.catalogWid.toString(),f);d("WAWebStopEvent").stopEvent(a)}f=(i||(i=c("stylex")))(f?[m.deleteIconVisible,d("WAWebUISpacing").uiPadding.top5]:m.deleteIconHidden);a=k.jsxs(k.Fragment,{children:[k.jsx(c("WAWebCartProductQuantity.react"),{testid:void 0,quantity:a,onChange:function(a){return j(a,h)}}),k.jsx("div",{className:f,children:k.jsx(c("WAWebCartDeleteIcon.react"),{onClick:function(a){return n(a,h)}})})]});f=k.jsx(d("WAWebCartQuantityControls.react").WAWebCartQuantityControls,{product:e,context:g});return k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.end5,children:d("WAWebBizGatingUtils").isQuantityControlsFeatureEnabled()?f:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b,e,f=a.cartId,g=a.onClick,h=a.product;a=a.quantity;var i=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:h.name,ellipsify:!0,titlify:!0});b=(b=h.getPreviewImage())==null?void 0:b.mediaData;b=b?k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{theme:"cart-list",mediaData:b}):null;var j=c("useHoverState")(),l=j.isHovered,m=j.onMouseEnter;j=j.onMouseLeave;var o=k.jsx(c("WAWebProductCatalogProductPriceInfoText.react"),{className:"x6s0dn4 x78zum5",showTotalPrice:!0,product:h}),p=[];(e=h.variantInfo)==null||(e=e.variant_properties)==null||e.forEach(function(a){var b=a.name;a=a.value;p.push(k.jsxs(d("WAWebFlex.react").FlexRow,{children:[k.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{children:[b,":\xa0"]}),k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:a})]}))});e=k.jsxs(d("WAWebFlex.react").FlexColumn,{children:[p.length>0&&k.jsx(d("WAWebFlex.react").FlexColumn,{children:p}),k.jsx(n,{isHovered:l,cartId:f,cartProduct:h,quantity:a})]});return k.jsx(c("WAWebCellFrame.react"),{onMouseEnter:m,onMouseLeave:j,image:b,customImage:!0,primary:i,secondary:e,theme:"cart-product",onClick:g,detail:o},h.id.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartProductList.react",["WAWebCartProductListItem.react","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebProductCatalogCatalogConstants","react","uniqueID"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.cartProductItems,e=a.onProductDetail,f=a.sellerJid;return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b.map(function(a){return{cartItem:a.cartItem,contentKey:c("uniqueID")("cartItem"),itemKey:a.cartItem.id,product:a.product}}),renderItem:function(a){return i.jsx(c("WAWebCartProductListItem.react"),{cartId:f,product:a.product,quantity:a.cartItem.quantity,onClick:function(){return e({businessOwnerJid:f,productId:a.cartItem.id})}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").CART_PRODUCT_LIST_ITEM_HEIGHT})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebShoppingCartEmptyIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="shopping-cart-empty";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=90;o=90;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{fillRule:"nonzero",fill:"currentColor",children:[k.jsx("path",{d:"M36.6666667 55C34.8333333 55 33.35 56.5 33.35 58.3333333 33.35 60.1666667 34.8333333 61.6666667 36.6666667 61.6666667 38.5 61.6666667 40 60.1666667 40 58.3333333 40 56.5 38.5 55 36.6666667 55zM26.6666667 30C26.6666667 30.9166667 27.4166667 31.6666667 28.3333333 31.6666667L30 31.6666667 36 44.3166667 33.75 48.3833333C32.5333333 50.6166667 34.1333333 53.3333333 36.6666667 53.3333333L55 53.3333333C55.9166667 53.3333333 56.6666667 52.5833333 56.6666667 51.6666667 56.6666667 50.75 55.9166667 50 55 50L36.6666667 50 38.5 46.6666667 50.9166667 46.6666667C52.1666667 46.6666667 53.2666667 45.9833333 53.8333333 44.95L59.8 34.1333333C60.4166667 33.0333333 59.6166667 31.6666667 58.35 31.6666667L33.6833333 31.6666667 32.5666667 29.2833333C32.3 28.7 31.7 28.3333333 31.0666667 28.3333333L28.3333333 28.3333333C27.4166667 28.3333333 26.6666667 29.0833333 26.6666667 30zM53.3333333 55C51.5 55 50.0166667 56.5 50.0166667 58.3333333 50.0166667 60.1666667 51.5 61.6666667 53.3333333 61.6666667 55.1666667 61.6666667 56.6666667 60.1666667 56.6666667 58.3333333 56.6666667 56.5 55.1666667 55 53.3333333 55z"}),k.jsx("path",{d:"M44.957,2 C21.221,2 2,21.264 2,45 C2,68.736 21.221,88 44.957,88 C68.736,88 88,68.736 88,45 C88,21.264 68.736,2 44.957,2 Z M45,90 C20.1375,90 0,69.8625 0,45 C0,20.1375 20.1375,0 45,0 C69.8625,0 90,20.1375 90,45 C90,69.8625 69.8625,90 45,90 Z"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShoppingCartEmptyIcon=a}),98);
__d("WAWebShowGenericErrorToastAction",["fbt","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Something went wrong"),duration:6e3}))}g["default"]=a}),226);
__d("WAWebCartDetailDrawer.react",["fbt","$InternalEnum","Promise","WALogger","WAQplTypes","WATimeUtils","WAWebBizClearCartAction","WAWebBizGatingUtils","WAWebBizMatchCartItemsToProductsAction","WAWebBizPullCartUpdateAction","WAWebBizSubmitOrderAction","WAWebBizUpdateCartMessageAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCartCollection","WAWebCartDetailDrawerFooter.react","WAWebCartLogEvents","WAWebCartProductList.react","WAWebChatThreadLogging","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebFbtCommon","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFlex.react","WAWebModalManager","WAWebOrderLogEvents","WAWebProductCatalogContext","WAWebPromiseQueue","WAWebShoppingCartEmptyIcon.react","WAWebShowGenericErrorToastAction","WAWebText.react","WAWebText_DONOTUSE.react","WAWebThemeContext","WAWebUISpacing","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","useLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=["ref"],l,m,n;e=n||d("react");var o=m||(m=c("react")),p=e.useContext,q=e.useEffect,r=e.useMemo,s=e.useRef,t=e.useState,u={contentBackground:{backgroundColor:"x150wa6m",$$css:!0},emptyCardText:{textAlign:"x2b8uid",$$css:!0}};function v(a){a=a.cart;a=a.itemCount;return a==null||a===0?null:o.jsx(d("WAWebText.react").WAWebTextTitle,{children:h._(/*BTDS*/"_j{\"*\":\"{cart-number-of-items} items\",\"_1\":\"1 item\"}",[h._plural(a,"cart-number-of-items")])})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.cart,e=a.cartFlatListController,f=a.cartProductItems,g=a.isDarkTheme,h=a.isDirectConnection,i=a.onProductCatalog,j=a.onProductDetail,k=a.onSend;a=a.sellerJid;var l=d("WAWebBizMatchCartItemsToProductsAction").getSavingsFromCartItemsAndProducts(f);return o.jsxs(o.Fragment,{children:[o.jsx(y,{cart:b,onProductCatalog:i}),o.jsx(c("WAWebCartProductList.react"),{flatListController:e,onProductDetail:j,cart:b,sellerJid:a,cartProductItems:f}),o.jsx("div",babelHelpers["extends"]({},{0:{className:"x150wa6m x9f619 x1n2onr6 xhtitgo"},1:{className:"x9f619 x1n2onr6 xhtitgo x1m8r95a"}}[!!g<<0],{children:o.jsx(d("WAWebCartDetailDrawerFooter.react").CartDrawerContentFooter,{savings:l,cart:b,onSend:k,isDirectConnection:h})}))]})}w.displayName=w.name+" [from "+f.id+"]";function x(a){a=a.onProductCatalog;return o.jsx(d("WAWebButton.react").WAWebButtonSecondary,{testid:void 0,onClick:a,children:h._(/*BTDS*/"Add more")})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.cart;a=a.onProductCatalog;return o.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",xstyle:[d("WAWebUISpacing").uiPadding.all16,u.contentBackground],children:[o.jsx(v,{cart:b}),o.jsx(x,{onProductCatalog:a})]})}y.displayName=y.name+" [from "+f.id+"]";function z(a){var b=a.businessProfile;a=a.onProductCatalog;return o.jsxs("div",{className:"x6s0dn4 x150wa6m x78zum5 xdt5ytf x5yr21d x13crsa5 xx281p9 x1rxj1xn x67w97k",children:[o.jsx(d("WAWebShoppingCartEmptyIcon.react").ShoppingCartEmptyIcon,{}),o.jsx(d("WAWebText.react").WAWebTextLarge,{xstyle:[d("WAWebUISpacing").uiMargin.top30,d("WAWebUISpacing").uiMargin.bottom15],children:h._(/*BTDS*/"Add items to your cart")}),o.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{xstyle:[u.emptyCardText,d("WAWebUISpacing").uiPadding.bottom30],theme:"plain",children:h._(/*BTDS*/"Collect all the items you're interested in here and then send them to the business. Use your cart to ask about buying, customizing, delivery, or anything you want.")}),d("WAWebBusinessProfileUtils").hasCatalog(b)&&o.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,children:h._(/*BTDS*/"View catalog")})]})}z.displayName=z.name+" [from "+f.id+"]";var A=b("$InternalEnum")({LOADING:"loading",READY_EMPTY:"readyEmpty",READY_CONTENT:"readyContent"});function B(a){var b=a.children,d=a.drawerState;a=a.emptyContent;switch(d){case A.READY_EMPTY:return a;case A.READY_CONTENT:return b;case A.LOADING:return o.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})}}B.displayName=B.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,k);var f=a.canLogQpl,g=f===void 0?!0:f,m=a.chat,n=a.closeDrawerRightOnSend,u=a.onBack;f=a.onProductCatalog;var v=a.onProductDetail,x=a.sellerJid,y=p(d("WAWebDrawerContext").DrawerContext);a=d("WAWebThemeContext").useIsDarkTheme();var C=r(function(){return d("WAWebCartCollection").CartCollection.findCart(x)},[x]),D=s(null),E=c("useLazyRef")(function(){return new(d("WAWebPromiseQueue").PromiseQueue)()}),F=r(function(){return new(c("WAWebFlatListController"))()},[]),G=t(!0),H=G[0],I=G[1];G=t(void 0);var J=G[0],K=G[1];G=t([]);var L=G[0],M=G[1];G=t(C.message);var N=G[0],O=G[1],P=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield (l||(l=b("Promise"))).all([a?c("WAWebBizPullCartUpdateAction")(C,g):(l||(l=b("Promise"))).resolve(),d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(m.id)]));var e=a[0];a=a[1];e&&(D.current=e);e=d("WAWebBizMatchCartItemsToProductsAction").matchCartItemsToProducts(C,D.current);I(!1);K(a);M(e)});return function(b){return a.apply(this,arguments)}}();d("useWAWebListener").useListener(C,"change:cartItemCollection",function(){E.current.enqueue(function(){return P()})});q(function(){var a=!0;g&&d("WAWebUtilsLogQplEvents").qplAnnotateCartView(C.id.toString()!==x,C.itemCount);P(!0,g).then(function(b){a=!1,g&&d("WAWebUtilsLogQplEvents").qplEndCartView(d("WAQplTypes").QuickLogActionType.SUCCESS),d("WAWebCartLogEvents").logCartListImpression(C.id.toString(),d("WAWebProductCatalogContext").getProductCatalogContext(y))})["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unable to open the cart"]))).verbose().devConsole(a).sendLogs("openCart: failed to open the cart"),c("WAWebShowGenericErrorToastAction")(),c("WAWebBizClearCartAction")(C)})["finally"](function(){a&&g&&d("WAWebUtilsLogQplEvents").qplEndCartView(d("WAQplTypes").QuickLogActionType.FAIL),I(!1)})},[]);var Q=function(){d("WAWebDrawerManager").DrawerManager.existsDrawerRight(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()})};G=function(){I(!0),d("WAWebUtilsLogQplEvents").qplStartOrderCreate(L.length),c("WAWebBizSubmitOrderAction")(C,m,J).then(function(a){var b=Boolean(C.message);d("WAWebOrderLogEvents").logSendOrderMessage({catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(y),catalogOwnerJid:C.id.toString(),isOrderMsgAttached:b,orderId:a,quantity:C.itemCount});d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"ordersSent",chatId:m.id,ts:d("WATimeUtils").unixTime()}]);u();c("WAWebBizClearCartAction")(C);C.message=void 0;n&&Q();d("WAWebUtilsLogQplEvents").qplEndOrderCreate(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Unable to create catalog order"]))).verbose().devConsole(a).sendLogs("submitOrder: order creation or order message send error"),c("WAWebShowGenericErrorToastAction")(),P(!0),d("WAWebUtilsLogQplEvents").qplEndOrderCreate(d("WAQplTypes").QuickLogActionType.FAIL)})["finally"](function(){I(!1)})};var R=function(a){O(a),c("WAWebBizUpdateCartMessageAction")(C,a)},S=function(){d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Message too long"),onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"The message you're pasting is too long. Try shortening it or sending it as a separate message.")}))},T=r(function(){if(H)return A.LOADING;return!C.itemCount?A.READY_EMPTY:A.READY_CONTENT},[H,C.itemCount]),U=o.jsx(z,{onProductCatalog:f,businessProfile:J}),V=d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._(/*BTDS*/"Your order request"):h._(/*BTDS*/"Your cart");return o.jsxs(c("WAWebDrawer.react"),{ref:e,onDrop:u,theme:"striped",children:[o.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:V,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:u}),o.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[F],children:o.jsx(B,{drawerState:T,emptyContent:U,children:o.jsx(w,{cart:C,chat:m,onSend:G,onChange:R,onMaxPasteExceeded:S,cartMessage:N,cartFlatListController:F,onProductDetail:v,onProductCatalog:f,sellerJid:x,cartProductItems:L,isDarkTheme:a,isDirectConnection:Boolean(J==null?void 0:J.isBusinessDirectConnection())})})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CartDetailDrawer=a}),226);
__d("WAWebBizCartFlow",["$InternalEnum","WAWebCartDetailDrawer.react","WAWebDrawerContext","WAWebDrawerManager","WAWebProductCatalogContext","WAWebProductDetailsFlowLoadable","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUtilsLogQplEvents","WAWebWamEnumCatalogEntryPoint","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useContext,m=e.useEffect,n=e.useState,o=b("$InternalEnum").Mirrored(["CartDetails","ProductCatalog","ProductDetails"]);function a(a){var b=d("useWAWebFlow").useFlow(o.CartDetails),c=b[0],e=b[1];b=a.chat;a=a.sellerJid;var f=n(null),g=f[0],h=f[1];f=n(!0);var i=f[0],j=f[1];m(function(){d("WAWebDrawerManager").DrawerManager.existsDrawerLeft(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}),d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerMid()})},[]);if(e.step==null)return null;f=function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Cart"}}}),j(!1),e.push(o.ProductCatalog)};var l=function(a){d("WAWebUtilsLogQplEvents").qplStartProductView("Cart"),j(!1),h(a),e.push(o.ProductDetails)},q=function(){e.pop()},r;switch(e.step){case o.CartDetails:r=k.jsx(p,{chat:b,sellerJid:a,onProductDetail:l,onProductCatalog:f,onBack:function(){return e.end()},canLogQpl:i});break;case o.ProductCatalog:r=k.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{chat:b,catalogOwnerJid:a});break;case o.ProductDetails:g!=null&&(r=k.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:b,productInfo:g,onEnd:q}));break}return k.jsx(c,{flow:e,children:r})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var c=l(d("WAWebDrawerContext").DrawerContext);c=d("WAWebProductCatalogContext").getProductCatalogContext(c);c=c.entryPoint;return k.jsx(d("WAWebCartDetailDrawer.react").CartDetailDrawer,babelHelpers["extends"]({ref:b,closeDrawerRightOnSend:c===d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE},a))}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizCtwaAdPreview.react",["WABidi","WAWebBizCtwaAGMUtils","WAWebBizCtwaThumbnailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEmojiText.react","WAWebFlexBox.react","WAWebFlexItem.react","WAWebGroupInfoSeparator.react","WAWebL10N","WAWebMsgGetters","WAWebUISpacing","react","useWAWebUIM"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m={adContainer:{borderStartStartRadius:"x1rgw4pv",borderStartEndRadius:"x1vjm0to",borderEndEndRadius:"xnqoqkk",borderEndStartRadius:"x16lu3ki",overflowX:"xw2csxc",overflowY:"x1odjw0f",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x1wpzk8y",borderInlineEndColor:"xts9ub1",borderBottomColor:"xhl97hz",borderInlineStartColor:"x16gmtct",$$css:!0},thumbnail:{objectFit:"xl1xv1r",width:"xh8yej3",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",minHeight:"x16ctwrx",$$css:!0},container:{width:"x1t0p1hu",$$css:!0},body:{marginInlineStart:"x1o1p3th",marginInlineEnd:"x1trhqq4",$$css:!0}},n=1e3;function a(a){var b,e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=a.ctwaContext,g=a.onClose;a=a.automatedGreetingMessage;var i=c("useWAWebUIM")();b=(b=f.sourceApp)!=null?b:d("WAWebBizCtwaAGMUtils").getHostnameLabel(f);var o=b!=null?b.charAt(0).toUpperCase()+b.slice(1):null,p=k(function(){g(),i==null||i.requestDismiss()},[g,i]);b=l(function(){return o!=null?j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizCtwaAGMUtils").getAdSourceLabel(o),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onCancel:p,focusBackOrCancel:!0}):null},[o,p]);var q=l(function(){return o!=null?d("WAWebBizCtwaAGMUtils").getAdImageAlt(o).toString():""},[o]),r=l(function(){if(f.description!=null&&f.isSuspiciousLink!==!0){var a=f.description;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"xso031l x1q0q8m5 xhl97hz"}),j.jsx("div",{title:f.description,className:"x1cy8zhl xkh2ocl x1y1aw1k xf159sx xwib8y2 xmzvs34 x1mzt3pk x126k92a",children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a,textLimit:n,dirMismatch:d("WABidi").dir(a)==="rtl"!==c("WAWebL10N").isRTL(),direction:d("WABidi").dir(a),inferLinesDirection:!0})})]})}return null},[f.description,f.isSuspiciousLink]);return j.jsxs(c("WAWebDrawer.react"),{theme:"striped",ref:e,xstyle:d("WAWebUISpacing").uiPadding.horiz0,testid:void 0,children:[b,j.jsxs(c("WAWebDrawerBody.react"),{xstyle:m.body,children:[j.jsx(c("WAWebDrawerSection.react"),{animation:!1,shadow:!1,theme:"padding-no-margin",xstyle:[m.container,d("WAWebUISpacing").uiPadding.vert48,d("WAWebUISpacing").uiPadding.horiz48],children:j.jsx(c("WAWebFlexItem.react"),{justify:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz20,m.container],children:j.jsxs(d("WAWebFlexBox.react").FlexColumn,{justify:"center",xstyle:m.adContainer,testid:void 0,children:[j.jsx(c("WAWebBizCtwaThumbnailImage.react"),{context:f,xstyle:m.thumbnail,alt:q,businessWid:a.from,fromMe:d("WAWebMsgGetters").getIsSentByMe(a)}),r]})})}),j.jsx(d("WAWebGroupInfoSeparator.react").GroupInfoDrawerSeparator,{})]})]},"ctwa-ad-details-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizCtwaAdPreviewFlow.react",["$InternalEnum","WAWebBizCtwaAdPreview.react","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["AdPreview"]);function a(a){var b=a.msg;a=a.onClose;var e=d("useWAWebFlow").useFlow(j.AdPreview,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),f=e[0];e=e[1];return e.step==null||b.ctwaContext==null?null:i.jsx(f,{flow:e,children:i.jsx(c("WAWebBizCtwaAdPreview.react"),{automatedGreetingMessage:b,ctwaContext:b.ctwaContext,onClose:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizLinkedCatalogErrorPopup.react",["fbt","WAWebConfirmPopup.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a,b,c){var e;b?(b=h._(/*BTDS*/"Connected catalogs aren't supported on WhatsApp Web yet. You can view this catalog with a WhatsApp mobile app."),a?e=h._(/*BTDS*/"Item can't be displayed"):e=h._(/*BTDS*/"Catalog can't be displayed")):a?(e=h._(/*BTDS*/"Item can't be displayed on web"),b=h._(/*BTDS*/"To view items in this business's catalog, use WhatsApp on your mobile device.")):(e=h._(/*BTDS*/"Catalog can't be viewed on web"),b=h._(/*BTDS*/"To view this business's catalog, use WhatsApp on your mobile device."));c&&d("WAWebModalManager").ModalManager.once("close_modal",c);d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:e,onOK:function(){d("WAWebModalManager").ModalManager.close()},children:b}))}g.showConnectedCatalogDisabledPopup=a}),226);
__d("WAWebCustomLabel3pdEventQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"custom_labels"},{defaultValue:null,kind:"LocalArgument",name:"expt_group"}],b=[{alias:null,args:[{kind:"Variable",name:"custom_labels",variableName:"custom_labels"},{kind:"Variable",name:"expt_group",variableName:"expt_group"}],concreteType:"XWACustomLabelTo3PDEvent",kind:"LinkedField",name:"xwa_get_3pd_event",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"custom_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ctwa_3pd_conversion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ctwa_3pd_conversion_subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ctwa_3pd_conversion_metadata",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebCustomLabel3pdEventQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebCustomLabel3pdEventQuery",selections:b},params:{id:"24247439618185103",metadata:{},name:"WAWebCustomLabel3pdEventQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebCustomLabel3pdEventQuery",["WALogger","WAWebCustomLabel3pdEventQuery.graphql","WAWebGraphQLServerError","WAWebNetworkStatus","WAWebRelayClient","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k={type:"error"},l=h!==void 0?h:h=b("WAWebCustomLabel3pdEventQuery.graphql");function a(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield c("WAWebNetworkStatus").waitIfOffline();try{a=(yield d("WAWebRelayClient").fetchQuery(l,{custom_labels:a,expt_group:b}));if(a==null)return k;b=a.xwa_get_3pd_event;if(b==null)return k;a={type:"success",events:b.map(function(a){var b;return{custom_label:(b=a.custom_label)!=null?b:"",ctwa_3pd_conversion_type:a.ctwa_3pd_conversion_type,ctwa_3pd_conversion_subtype:a.ctwa_3pd_conversion_subtype,ctwa_3pd_conversion_metadata:a.ctwa_3pd_conversion_metadata}})};d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["getCustomLabel3pdEvent: success"])));return a}catch(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["getCustomLabel3pdEvent: failed with error"]))).devConsole(a);return a instanceof d("WAWebGraphQLServerError").GraphQLServerError?{type:"graphql-error",error:a}:k}});return m.apply(this,arguments)}g.getCustomLabel3pdEvent=a}),98);
__d("WAWebDataSharingOptOutOrUpsell",["fbt","WASmaxInBizSettingsEnums","WAWebCTWADataSharingModel","WAWebCheckBox.react","WAWebCopyPasteSelectable.react","WAWebDataSharingUpsellModel","WAWebDrawerManager","WAWebFlex.react","WAWebModalManager","WAWebSMBDataSharingDrawer.react","WAWebSMBDataSharingSettingAction","WAWebText.react","WAWebUISpacing","WAWebWamEnumSmbDataSharingConsentSettingEntryPoint","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState,n={themeOrderCreate:{backgroundColor:"x1pl83jw",$$css:!0},themeLabelsOptOut:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xog00wb",$$css:!0}},o=function(a){d("WAWebModalManager").ModalManager.close(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebSMBDataSharingDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},entrypoint:a}))};function p(a){var b=a.children,c=a.entryPoint;return k.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{className:"x1ypdohk",id:"data-sharing-learn-more-link",selectable:!0,onClick:function(){return o(c)},children:b})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.checkboxValue,c=a.entryPoint,e=a.onCheckboxToggle;a=a.theme;a=a==="labels-opt-out"?h._(/*BTDS*/"Share this label update with Meta. {=m1}",[h._implicitParam("=m1",k.jsx(p,{entryPoint:c,children:h._(/*BTDS*/"Learn more")}))]):h._(/*BTDS*/"Share this order status with Meta. {=m1}",[h._implicitParam("=m1",k.jsx(p,{entryPoint:c,children:h._(/*BTDS*/"Learn more")}))]);return k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebCheckBox.react").CheckBox,{checked:b,onChange:e}),k.jsx(d("WAWebText.react").WAWebTextSmall,{color:"secondary",xstyle:d("WAWebUISpacing").uiMargin.start16,children:a})]})}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.entryPoint;return k.jsx(d("WAWebText.react").WAWebTextSmall,{color:"secondary",children:h._(/*BTDS*/"Enabling Ads Data Sharing can help you reach the right audience on Facebook and Instagram. {=m1}",[h._implicitParam("=m1",k.jsx(p,{entryPoint:a,children:h._(/*BTDS*/"Go to settings")}))])})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.checkboxValue,e=a.onCheckboxToggle;a=a.theme;var f=c("useWAWebUnmountSignal")(),g=m(null),h=g[0],i=g[1];l(function(){void d("WAWebSMBDataSharingSettingAction").getSMBDataSharingSettingAction().then(function(a){f.aborted||(i(a),d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(i))});return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(i)}},[f.aborted]);if(h==null||h===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE.notset)return null;var j;a==="order-create"?j=[n.themeOrderCreate,d("WAWebUISpacing").uiPadding.start16,d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.bottom32]:a==="order-update"?j=[d("WAWebUISpacing").uiPadding.start28,d("WAWebUISpacing").uiPadding.top48,d("WAWebUISpacing").uiPadding.bottom16]:a==="labels-opt-out"&&(j=[n.themeLabelsOptOut,d("WAWebUISpacing").uiMargin.top24,d("WAWebUISpacing").uiPadding.top12,d("WAWebUISpacing").uiPadding.start30]);g=h===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];h=h===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]&&c("WAWebDataSharingUpsellModel").isUpsellEnabled();var o;a==="labels-opt-out"?o=d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_LABELS_SCREEN:(a,o=d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_ORDER_SCREEN);return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:j,children:[h?k.jsx(r,{entryPoint:o}):null,g?k.jsx(q,{theme:a,entryPoint:o,checkboxValue:b,onCheckboxToggle:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.OptOutText=q;g.UpsellText=r;g.DataSharingOptOutOrUpsell=a}),226);
__d("WAWebCtwa3pdConversionWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ctwa3pdConversion:[5138,{ctwa3pdConversionMetadata:[1,a.TYPES.STRING],ctwa3pdConversionSubtype:[2,a.TYPES.STRING],ctwa3pdConversionType:[3,a.TYPES.STRING],ctwa3pdSchemaVersion:[4,a.TYPES.INTEGER],ctwa3pdSurfaceType:[5,a.TYPES.STRING],ctwaConversationDepth:[8,a.TYPES.INTEGER],ctwaSignals:[7,a.TYPES.STRING],ctwaTrackingPayload:[6,a.TYPES.STRING]},[1,1,1],"regular"]},{Ctwa3pdConversion:[]});g.Ctwa3pdConversionWamEvent=b}),98);
__d("WAWebSmb3pdConversionSignalAction",["WALogger","WASmaxInBizSettingsEnums","WATimeUtils","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebChatModel","WAWebCommonCTWADataSharing","WAWebCtwa3pdConversionWamEvent","WAWebDownloads3PDSignalsDatabaseApi","WAWebFrontendMsgGetters","WAWebLabelCollection","WAWebMsgModel","WAWebOrderStatus"],(function(a,b,c,d,e,f,g){var h,i=function(a,b){if(b==="order_created"||a==null)return"processing";b;switch(a){case d("WAWebOrderStatus").OrderStatus.Shipped:return"shipped";case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return"completed";case d("WAWebOrderStatus").OrderStatus.Canceled:return"canceled";case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:case d("WAWebOrderStatus").OrderStatus.Refunded:return"processing"}},j=function(a,b){var e=a.chat,f=a.surface,g=a.type,j=a.subType,k=a.orderStatus;a=a.paidData;var l=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(e);e=c("WAWebCommonCTWADataSharing").getCTWASignalsValueFromChat(e);if(l==null)return;if(d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()!==d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"])return;k=j==null?i(k!=null?k:null,g):j;j=JSON.stringify(a);a={ctwa3pdSchemaVersion:2,ctwa3pdSurfaceType:f,ctwa3pdConversionType:g,ctwa3pdConversionSubtype:k,ctwa3pdConversionMetadata:j,ctwaSignals:e!=null?e:void 0};l.data!=null&&(a.ctwaTrackingPayload=l.data);if(d("WAWebBizGatingUtils").isDownload3PDSignalsEnabled()){d("WAWebDownloads3PDSignalsDatabaseApi").addOrEdit3PDSignal({clickId:(f=a.ctwaTrackingPayload)!=null?f:"",ctwa3pdConversionType:g,ctwa3pdConversionSubtype:k,ctwa3pdConversionMetadata:j,timestamp:d("WATimeUtils").unixTimeMs()})["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["addOrEdit3PDSignal: failed to add 3PD signal to the database"]))).devConsole(a);return null})}b&&new(d("WAWebCtwa3pdConversionWamEvent").Ctwa3pdConversionWamEvent)(a).commit()},k=function(a,b,c,e){a=d("WAWebLabelCollection").LabelCollection.get(a);if(a==null)return;a=a.predefinedId;if(a==null)return;if(!d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS_SET.has(a)&&!(a===d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdSignalNewCustomerEnabled()||(a===d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID||a===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID)&&d("WAWebBizGatingUtils").is3pdLeadOptimisationLabelSignalsEnabled()||a===d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdImportantLabelSignalsEnabled()))return;var f;a===d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID||a===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID||a===d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID?f="lead_created":a===d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER||a===d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID?f="order_created":f="order_updated";var g,h={};switch(a){case d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID:g="new_customer";h={paid:!1};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.ORDER_COMPLETE:g="order_complete";h={paid:!1};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER:g="new_order";h={paid:!1};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.PAID:g="paid";h={paid:!0};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.PENDING_PAYMENT:g="pending_payment";h={paid:!1};break;case d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID:g="follow_up";break;case d("WAWebCTWAConstants").LEAD_PREDEFINED_ID:g="lead";break;case d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID:g="important";h={paid:!1};break}j({paidData:h,chat:b,surface:c,type:f,subType:g},e)};a=function(a,b){var c=a.chat,e=a.type,f=a.orderStatus,g=a.paidData;a=a.isPaidStateChanged;if(!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;c={surface:"order",chat:c,type:e,orderStatus:f,paidData:g};a===!0&&(c.subType="paid_change");j(c,b)};var l=function(a,b,c){var d="label_chat";a.forEach(function(a){b.forEach(function(b){k(b,a,d,c)})})},m=function(a,b,c){var d="label_chat";a.forEach(function(a){b.forEach(function(b){var e=b.ctwa_3pd_conversion_subtype,f=b.ctwa_3pd_conversion_type;if(!f||!e)return;b=JSON.parse(b.ctwa_3pd_conversion_metadata);j({paidData:b,chat:a,surface:d,type:f,subType:e},c)})})},n=function(a,b,c){var e="label_message";a.forEach(function(a){var f=d("WAWebFrontendMsgGetters").getChat(a);b.forEach(function(a){k(a,f,e,c)})})};b=function(a,b,c,e){if(a.length===0)return;a=a.reduce(function(a,b){b instanceof d("WAWebChatModel").Chat?a.chats.push(b):b instanceof d("WAWebMsgModel").Msg&&a.messages.push(b);return a},{chats:[],messages:[]});var f=a.chats;a=a.messages;b!=null&&b.length>0&&(f.length>0&&d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForChats()&&l(f,b,c),a.length>0&&d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForMessages()&&n(a,b,c));e!=null&&e.length>0&&(f.length>0&&d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForChats()&&m(f,e,c))};g.log3pdConversionSignalForOrders=a;g.log3pdConversionSignalForChatsOrMessages=b}),98);
__d("WAWebWamEnumCtwaLabelTarget",[],(function(a,b,c,d,e,f){a=Object.freeze({CHAT:0,MESSAGE:1});f.CTWA_LABEL_TARGET=a}),66);
__d("WAWebWamEnumCustomerAdsSharingSettingEnabled",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,TRUE:1,FALSE:2});f.CUSTOMER_ADS_SHARING_SETTING_ENABLED=a}),66);
__d("WAWebCtwaLabelSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCtwaLabelTarget","WAWebWamEnumCtwaLabelType","WAWebWamEnumCustomerAdsSharingSettingEnabled"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaLabelSignal:[4662,{ctwaConversationDepth:[11,a.TYPES.INTEGER],ctwaLabelSignalVersion:[1,a.TYPES.INTEGER],ctwaLabelTarget:[2,d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET],ctwaLabelType:[3,d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE],ctwaSignalMetadata:[9,a.TYPES.STRING],customerAdsSharingSettingEnabled:[10,d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED],deepLinkConversionData:[4,a.TYPES.STRING],deepLinkConversionSource:[5,a.TYPES.STRING],eventSharingSettingEnabled:[6,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[7,a.TYPES.BOOLEAN],threadIdHmac:[8,a.TYPES.STRING]},[1,1,1],"regular"]},{CtwaLabelSignal:[]});g.CtwaLabelSignalWamEvent=b}),98);
__d("WAWebSmbMarkAsXLabelAction",["WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebChatModel","WAWebCommonCTWADataSharing","WAWebCtwaLabelSignalWamEvent","WAWebFrontendMsgGetters","WAWebLabelCollection","WAWebLabelConstants","WAWebMsgModel","WAWebWamEnumCtwaLabelTarget","WAWebWamEnumCtwaLabelType","WAWebWamEnumCustomerAdsSharingSettingEnabled"],(function(a,b,c,d,e,f,g){var h,i=new Map([[(a=d("WAWebCTWAConstants")).ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER,(b=d("WAWebWamEnumCtwaLabelType")).CTWA_LABEL_TYPE.NEW_ORDER],[a.ALLOWED_PREDEFINED_LABEL_IDS.PENDING_PAYMENT,b.CTWA_LABEL_TYPE.PENDING_PAYMENT],[a.ALLOWED_PREDEFINED_LABEL_IDS.PAID,b.CTWA_LABEL_TYPE.PAID],[a.ALLOWED_PREDEFINED_LABEL_IDS.ORDER_COMPLETE,b.CTWA_LABEL_TYPE.ORDER_COMPLETE]]),j={globalSharingSettingEnabled:!1},k=function(a){if(a===d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.FOLLOW_UP||a===d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.LEAD)return{};else if(a===d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.PAID)return{paid:!0};return{paid:!1}},l=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();switch(b){case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]:return{globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a};case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]:return j;case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE.notset:default:return null}},m=function(a,b,e,f){var g=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(g==null||!d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForChats())return;b&&b.length!==0&&b.forEach(function(a){var b=k(a);b=JSON.stringify(b);a=babelHelpers["extends"]({ctwaLabelSignalVersion:1,ctwaLabelTarget:d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET.CHAT,ctwaLabelType:a,ctwaSignalMetadata:b,deepLinkConversionSource:g.source},l(e),{customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET});new(d("WAWebCtwaLabelSignalWamEvent").CtwaLabelSignalWamEvent)(a).commit()});f&&f.length!==0&&f.forEach(function(a){var b=a.ctwa_3pd_conversion_subtype;if(!b)return;b=babelHelpers["extends"]({ctwaLabelSignalVersion:1,ctwaLabelTarget:d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET.CHAT,ctwaLabelType:d("WAWebLabelConstants").mapCustomLabelSubtypeToCTWALabelType(b),ctwaSignalMetadata:a.ctwa_3pd_conversion_metadata,deepLinkConversionSource:g.source},l(e),{customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET});new(d("WAWebCtwaLabelSignalWamEvent").CtwaLabelSignalWamEvent)(b).commit()})},n=function(a,b,e){a=d("WAWebFrontendMsgGetters").getChat(a);if(!a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[ctwa][labels] logLabelAddedToMessageAction: chat is missing for a provided message"])));return}var f=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(f==null||!d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForMessages())return;b.forEach(function(a){var b=k(a);b=JSON.stringify(b);new(d("WAWebCtwaLabelSignalWamEvent").CtwaLabelSignalWamEvent)(babelHelpers["extends"]({ctwaLabelSignalVersion:1,ctwaLabelTarget:d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET.MESSAGE,ctwaLabelType:a,ctwaSignalMetadata:b,deepLinkConversionSource:f.source},l(e),{customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET})).commit()})};e=function(a,b,c){var e=[];b.forEach(function(a){a=d("WAWebLabelCollection").LabelCollection.get(a);a=a==null?void 0:a.predefinedId;if(a==null)return;var b=i.get(a);b!=null&&e.push(b);a===d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdSignalNewCustomerEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.NEW_CUSTOMER);a===d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdLeadOptimisationLabelSignalsEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.FOLLOW_UP);a===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdLeadOptimisationLabelSignalsEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.LEAD);a===d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdImportantLabelSignalsEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.IMPORTANT)});if(e.length===0)return;if(a[0]instanceof d("WAWebMsgModel").Msg){n(a[0],e,c);return}a.forEach(function(a){a instanceof d("WAWebChatModel").Chat&&m(a,e,c)})};g.logLabelAddedToChatAction=m;g.logLabelSignalForModels=e}),98);
__d("WAWebBizManageLabelModal.react",["fbt","WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebBizLabelUtils","WAWebButton.react","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebChatCollection","WAWebChatModel","WAWebCommonCTWADataSharing","WAWebCustomLabel3pdEventQuery","WAWebDataSharingOptOutOrUpsell","WAWebDataSharingUpsellModel","WAWebDrawerHeader.react","WAWebLabelCollection","WAWebLabelConstants","WAWebLabelsMultiSelectLabelList.react","WAWebListItemParentType","WAWebListsGatingUtils","WAWebListsLogging","WAWebListsUtil","WAWebModal.react","WAWebMultiSelection","WAWebSchemaLabel","WAWebSessionStorage","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXLabelAction","WAWebStateUtils","WAWebUserPrefsGeneral","WAWebWamEnumLabelOperations","WAWebWamEnumLabelTargets","WAWebWamEnumListAction","WAWebWamLabelEventReporter","react","useWAWebForceUpdate"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l,m,n,o,p,q;b=q||d("react");var r=p||(p=c("react")),s=b.useEffect,t=b.useMemo,u=b.useState,v="wa_custom_label_";function w(a){if(c("WAWebSessionStorage")==null)return null;try{a=v+a;a=c("WAWebSessionStorage").getItem(a);if(a!=null&&a!=="")return JSON.parse(a)}catch(a){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to get custom label from cache: ",""])),String(a))}return null}function x(a,b){if(c("WAWebSessionStorage"))try{a=v+a;c("WAWebSessionStorage").setItem(a,JSON.stringify(b))}catch(a){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to store custom label in cache: ",""])),String(a))}}var y={NONE_SELECTED:0,ALL_SELECTED:1,PARTIALLY_SELECTED:2},z=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=u(z),f=e[0],g=e[1];s(function(){return function(){c("WAWebDataSharingUpsellModel").enableUpsell()}},[]);var j=a.modelsToUpdate,k=a.onLabelUpdateComplete,p=a.entryPoint,q=t(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id})},[]),v=t(function(){return new Set()},[]),A=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),B=[],C=t(function(){var a=function(){var a,b={},c=d("WAWebListsGatingUtils").isListsEnabled()?(a=d("WAWebLabelCollection").LabelCollection.findFirst(function(a){return a.type===d("WAWebSchemaLabel").ListType.FAVORITES}))==null?void 0:a.id:null;j.forEach(function(a){a=d("WAWebStateUtils").unproxy(a);a.labels&&a.labels.forEach(function(a){b[a]=b[a]?++b[a]:1});a.isFavorite===!0&&c!=null&&(b[c]=b[c]?++b[c]:1)});return b};a=a();var b={};Object.entries(a).forEach(function(a){var c=a[0];a=a[1];if(a===j.length)b[c]=y.ALL_SELECTED;else if(a>0){b[c]=y.PARTIALLY_SELECTED;return}else b[c]=y.NONE_SELECTED});return b},[]);e=function(a){if(a==null)return;C[a]===y.PARTIALLY_SELECTED?v.add("{labelId}_changed"):v.has(a)?v["delete"](a):(C[a]==null&&d("WAWebBizGatingUtils").labelsEditingEnabled()&&(C[a]=y.ALL_SELECTED),v.add(a));A()};function D(a){switch(a){case"order_created":case"order_updated":case"lead_created":return a;default:return null}}function E(a){switch(a){case"processing":case"shipped":case"completed":case"canceled":case"new_order":case"order_complete":case"paid":case"pending_payment":case"paid_change":case"new_customer":case"follow_up":case"lead":case"important":return a;default:return null}}var F=function(){void d("WAWebListsUtil").logLabelOperationEventsForModels(j);var a=q.list,b=q.selected,c=[],e=[],g=[],h=new Map();a.forEach(function(a,f){b[f]?c.push(a.id):e.push(a.id);g.push(babelHelpers["extends"]({id:a.id,type:b[f]?"add":"remove"},a.type!=null&&{listType:a.type}));if(p!=null&&d("WAWebListsGatingUtils").isListsEnabled()){f=d("WAWebLabelCollection").LabelCollection.get(a.id);f!=null&&h.set(a.id,d("WAWebListsUtil").getAllChatsInList(f))}});d("WAWebLabelCollection").LabelCollection.addOrRemoveLabels(g,j);if(p!=null&&d("WAWebListsGatingUtils").isListsEnabled()){var i=j.map(function(a){return d("WAWebChatCollection").ChatCollection.get(a.id)}).filter(Boolean);g.forEach(function(a){var b=h.get(a.id);if(b==null)return;var c,e;a.type==="add"?c=i:a.type==="remove"&&(e=i);d("WAWebListsLogging").logListUpdate({listId:Number(a.id),listAction:d("WAWebWamEnumListAction").LIST_ACTION.UPDATE_MEMBERS,entryPoint:p,chatsBeforeUpdate:b,addedChats:c,removedChats:e})})}if(c.length>0){d("WAWebSmbMarkAsXLabelAction").logLabelSignalForModels(j,c,f);d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForChatsOrMessages(j,c,f);c.forEach(function(a){a=d("WAWebLabelCollection").LabelCollection.get(a);if(a){var b=d("WAWebLabelConstants").mapLabelNameToPredefinedId(a.name);b||B.push({custom_label:a.name});d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.ADD,void 0,d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG,void 0,b?b:void 0,b?void 0:a.name)}});if(d("WAWebBizGatingUtils").isCTWACustomLabelsSignalsEnabled()&&d("WAWebBizGatingUtils").isCTWAWebCustomLabelsSignalsEnabled()&&B.length>0){var r=[],s=[];B.forEach(function(a){var b=w(a.custom_label);b!=null?(d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Custom Label Cache Hit"]))),r.push(b)):s.push(a)});a=d("WAWebBizGatingUtils").getCTWACustomLabelAlgorithmGroup();d("WAWebCustomLabel3pdEventQuery").getCustomLabel3pdEvent(s,a).then(function(a){if(a.type==="success"){var b=a.events.map(function(a){var b;b={custom_label:a.custom_label,ctwa_3pd_conversion_type:a.ctwa_3pd_conversion_type!=null?D(a.ctwa_3pd_conversion_type.toLowerCase()):null,ctwa_3pd_conversion_subtype:a.ctwa_3pd_conversion_subtype!=null?E(a.ctwa_3pd_conversion_subtype.toLowerCase()):null,ctwa_3pd_conversion_metadata:(b=a.ctwa_3pd_conversion_metadata)!=null?b:"{}"};a.ctwa_3pd_conversion_type!=null&&x(a.custom_label,b);return b}),c=[].concat(b,r);c.length>0&&(d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForChatsOrMessages(j,[],!0,c),j.forEach(function(a){a instanceof d("WAWebChatModel").Chat&&d("WAWebSmbMarkAsXLabelAction").logLabelAddedToChatAction(a,[],f,c)}))}else d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["getCustomLabel3pdEvent: unsuccessful response: ",""])),a.type);d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["getCustomLabel3pdEvent: successful response from endpoint: ",""])),JSON.stringify(a.events))})["catch"](function(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["getCustomLabel3pdEvent: failed to call GraphQL endpoint: ",""])),String(a))})}}e.length>0&&e.forEach(function(a){a=d("WAWebLabelCollection").LabelCollection.get(a);if(a){var b=d("WAWebLabelConstants").mapLabelNameToPredefinedId(a.name);d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.DELETE,void 0,d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG,void 0,b?b:void 0,b?void 0:a.name)}});j.forEach(function(a){a=d("WAWebChatCollection").ChatCollection.get(a.id);if(a){a=a.labels||[];a=a.length+c.length-e.length;d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.UPDATE_LABEL_COUNT,a,d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG)}});k()};F=r.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",disabled:v.size===0,onClick:F,children:h._(/*BTDS*/"Save")},1);var G=r.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"secondary",onClick:a.onCancel,children:h._(/*BTDS*/"Cancel")},0);G=r.jsxs(d("WAWebButton.react").ButtonGroup,{direction:"horizontal",children:[G,F]});F=r.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebListsGatingUtils").isListsEnabled()?h._(/*BTDS*/"Choose list"):h._(/*BTDS*/"Label items"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:a.onCancel});var H=c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingLabelOptOutOrUpsell(j)?r.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{checkboxValue:f,onCheckboxToggle:function(){return g(!f)},theme:"labels-opt-out"}):null,I=t(function(){if(d("WAWebBizGatingUtils").isCTWADetectedOutcomeWS4Enabled()&&d("WAWebUserPrefsGeneral").getDetectedOutcomeOnboardingStatus()===!0&&j.length===1){var a=j[0];return d("WAWebLabelCollection").LabelCollection.filter(function(a){return a.predefinedId===d("WAWebCTWAConstants").NEW_ORDER_PREDEFINED_ID||a.predefinedId===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID}).reduce(function(b,c){c.labelItemCollection.map(function(c){if(c.parentType===d("WAWebListItemParentType").LabelItemParentType.Chat&&c.parentId===a.id.toString()&&c.detectedOutcomeOriginalLabelPredefinedId!=null){c=d("WAWebBizLabelUtils").mapDOLabelPredefinedIdToManualLabelId(c.detectedOutcomeOriginalLabelPredefinedId);c!=null&&b.push(c)}});return b},[])}return[]},[j]);return r.jsxs(d("WAWebModal.react").Modal,{ref:b,type:d("WAWebModal.react").ModalTheme.LabelList,actions:G,title:F,children:[r.jsx(c("WAWebLabelsMultiSelectLabelList.react"),{autoLabeledLabelIds:I,onNewLabelAdded:a.onNewLabelAdded,shouldScrollIntoViewAndSelect:a.shouldScrollIntoViewAndSelect,initialLabelState:C,selectedLabels:q,renderContext:"label-selection",onMultiSelect:e,entryPoint:p}),H]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizManageLabelFlow.react",["WAWebBizManageLabelModal.react","WAWebChatModel","WAWebWamEnumLabelOperations","WAWebWamEnumLabelTargets","WAWebWamLabelEventReporter","react","useLazyRef"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;function a(a){var b=a.entryPoint,e=a.modelsToUpdate,f=a.onClose,g=a.onLabelUpdateComplete,h=c("useLazyRef")(function(){return new Set()}),i=l();k(function(){var a=e.length;i.current=a===1?e[0]instanceof d("WAWebChatModel").Chat?d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG:d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_MESSAGE_DIALOG:d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_COMBINED_DIALOG;d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.VIEW,a,i.current)},[]);a=function(a){if(h.current.has(a)){h.current["delete"](a);return{shouldScrollIntoView:!0,shouldSelect:!0}}return{shouldScrollIntoView:!1,shouldSelect:!1}};var m=function(a){h.current.add(a)},n=function(){g==null||g(),f==null||f()},o=function(){i.current&&d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.CLICK_NEGATIVE,e.length,i.current),f==null||f()};return j.jsx(c("WAWebBizManageLabelModal.react"),{shouldScrollIntoViewAndSelect:a,onLabelUpdateComplete:n,onCancel:o,onNewLabelAdded:m,modelsToUpdate:e,entryPoint:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizOrderStatusLabels",["fbt","WAWebOrderStatus"],(function(a,b,c,d,e,f,g,h){function a(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:return h._(/*BTDS*/"Pending");case d("WAWebOrderStatus").OrderStatus.Processing:return h._(/*BTDS*/"Processing");case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:return h._(/*BTDS*/"Partially shipped");case d("WAWebOrderStatus").OrderStatus.Shipped:return h._(/*BTDS*/"Shipped");case d("WAWebOrderStatus").OrderStatus.Complete:return h._(/*BTDS*/"Completed");case d("WAWebOrderStatus").OrderStatus.Canceled:return h._(/*BTDS*/"Canceled");case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return h._(/*BTDS*/"Payment requested");case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return h._(/*BTDS*/"Preparing to ship");case d("WAWebOrderStatus").OrderStatus.Delivered:return h._(/*BTDS*/"Delivered");case d("WAWebOrderStatus").OrderStatus.Confirmed:return h._(/*BTDS*/"Confirmed");case d("WAWebOrderStatus").OrderStatus.Delayed:return h._(/*BTDS*/"Delayed");case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return h._(/*BTDS*/"Out for delivery");case d("WAWebOrderStatus").OrderStatus.Failed:return h._(/*BTDS*/"Failed");case d("WAWebOrderStatus").OrderStatus.Refunded:return h._(/*BTDS*/"Refunded")}}g.getWAWebBizOrderStatusLabel=a}),226);
__d("WAWebOrderDetailTextComposer",["WAWebConstantsDeprecated","WAWebRichTextField.react","WAWebRound.react","WAWebUISpacing","WAWebVelocityTransitionGroup","WAWebWdsIcSendFilledIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={btnSend:{bottom:"x1oddz9l",color:"xfect85",opacity:"xg01cxk",position:"x10l6tqk",right:"xk6ci0l",textAlign:"x2b8uid",$$css:!0},textFieldContainer:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",width:"xh8yej3",zIndex:"x11uqc5h",$$css:!0}};function a(a){var b=a.buttonTitle;a.chat;var e=a.disabled,f=a.onChange,g=a.onSubmit,h=a.placeholder,l=a.testid;l=a.textFieldTestId;l=a.value;return j.jsxs(j.Fragment,{children:[j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"media-caption",xstyle:[k.textFieldContainer,d("WAWebUISpacing").uiMargin.bottom40],children:j.jsx("div",{children:j.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:h,value:l,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:function(){e!==!0&&g()},onChange:function(a){return f(a.text)}})})}),j.jsx(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"btn",children:j.jsx("button",babelHelpers["extends"]({disabled:e,"data-testid":void 0},(i||(i=c("stylex"))).props([k.btnSend,d("WAWebUISpacing").uiMargin.all0,d("WAWebUISpacing").uiPadding.all0]),{tabIndex:-1,onClick:function(){return g()},title:b,children:j.jsx(d("WAWebRound.react").Round,{disabled:e,children:j.jsx(d("WAWebWdsIcSendFilledIcon.react").WdsIcSendFilledIcon,{width:18,directional:!0})})}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderProductListItem.react",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebFlex.react","WAWebOrderItemGetters","WAWebProductCatalogProductThumb.react","WAWebText_DONOTUSE.react","WAWebUISpacing","isNonZeroNumber","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react");function a(a){var b,e=a.onClick;a=a.product;var f=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,ellipsify:!0,titlify:!0}),g=k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:d("WAWebOrderItemGetters").getMediaData(a),theme:"list"}),i=h._(/*BTDS*/"Quantity {item-quantity}",[h._param("item-quantity",a.quantity)]),l=null;a.quantity&&(l=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:i}));i=null;d("isNonZeroNumber").isNonZeroNumber(a.price)&&(i=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:d("WAWebCurrencyUtils").formatAmount1000(a.currency,a.price)}));var m=null;i!=null&&(m=k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),{children:"\u2022"})));var n=[];(b=a.properties)==null||b.forEach(function(a){var b=a[0];a=a[1];n.push(k.jsxs(d("WAWebFlex.react").FlexRow,{children:[k.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{children:[b,":\xa0"]}),k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:a})]}))});b=k.jsxs(d("WAWebFlex.react").FlexColumn,{children:[k.jsxs(d("WAWebFlex.react").FlexRow,{children:[i,m,l]}),n.length>0&&k.jsx(d("WAWebFlex.react").FlexColumn,{children:n})]});return k.jsx(c("WAWebCellFrame.react"),{image:g,customImage:!0,primary:f,secondary:b,theme:"order-product",onClick:e},a.id.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderProductList.react",["WAWebDrawerContext","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderLogEvents","WAWebOrderProductListItem.react","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebUtilsLogQplEvents","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.onProductDetail,e=a.order,f=a.sellerJid,g=function(a){var b=e.orderItemCollection.toArray();d("WAWebOrderLogEvents").logOrderListImpression({catalogContext:a,catalogOwnerJid:f,orderId:e.id,productCount:b.length});return b.map(function(a){return{itemKey:a.id.toString(),product:a}})},h=function(c,e){c={businessOwnerJid:f,productId:c.product.id};d("WAWebUtilsLogQplEvents").qplStartProductView("Order");d("WAWebOrderLogEvents").logOrderListItemClick({catalogContext:e,catalogOwnerJid:f,orderId:a.order.id});b(c)};return i.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(b){var e=d("WAWebProductCatalogContext").getProductCatalogContext(b);return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:g(e),renderItem:function(a){return i.jsx(c("WAWebOrderProductListItem.react"),{product:a.product,onClick:function(){return h(a,e)}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartOrderDetailDrawer.react",["fbt","WAFilteredCatch","WALogger","WANullthrows","WAQplTypes","WAWebBackendErrors","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebClock","WAWebCmd","WAWebConfirmPopup.react","WAWebCurrencyUtils","WAWebDBUpdateMessageTable","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlatListController","WAWebModalManager","WAWebMsgCollection","WAWebMsgModel","WAWebOrderCollection","WAWebOrderDetailTextComposer","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderGetters","WAWebOrderProductList.react","WAWebProductCatalogFetchStateTopBar.react","WAWebProtobufsE2E.pb","WAWebSendTextMsgChatAction","WAWebText.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebWamEnumOrderDetailsCreationAction","WAWebWidFactory","react","stylex","useLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j,k=["ref"],l,m,n;b=n||d("react");var o=l||(l=c("react")),p=b.useEffect,q=b.useState,r={defaultBg:{backgroundColor:"x150wa6m",$$css:!0}};function s(a){var b=a.chat,e=a.onChange,f=a.onSubmit;a=a.value;return o.jsx("div",babelHelpers["extends"]({},(m||(m=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert0,d("WAWebUISpacing").uiPadding.horiz18),{children:o.jsx(c("WAWebOrderDetailTextComposer"),{chat:b,onChange:e,onSubmit:f,value:a,placeholder:h._(/*BTDS*/"Add a cancellation note")})}))}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.onCreateOrderClick,e=a.onDeclineOrderClick;a.order;a=a.sellerJid;a=d("WAWebWidFactory").createUserWid(a);a=d("WAWebUserPrefsMeUser").isMeUser(a);return!a?null:o.jsxs(o.Fragment,{children:[o.jsx(c("WAWebDrawerSection.react"),{children:o.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:b,children:h._(/*BTDS*/"Create order")})}),o.jsx(c("WAWebDrawerSection.react"),{children:o.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:e,children:h._(/*BTDS*/"Decline order")})})]})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.cancellationMessage,e=a.chat,f=a.fetchState,g=a.flatListController,i=a.isLoading,j=a.onOrderCancel,k=a.onOrderCreate,l=a.onProductDetail,n=a.order,p=a.ownerHasReviewed,q=a.sellerJid,u=a.sendCancelMessage;a=a.setCancellationMessage;if(i||n==null)return o.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f});i="";n.products.length>0?i=h._(/*BTDS*/"_j{\"*\":\"{count} items\",\"_1\":\"1 item\"}",[h._plural(d("WAWebOrderGetters").getTotalItemCount(n)||0,"count")]):i=h._(/*BTDS*/"No items");i=o.jsx(d("WAWebText.react").WAWebTextTitle,{children:i});var v=null,w=n.products.reduce(function(a,b){return b.price==null?a:(a||0)+b.price*b.quantity},null),x=n.products.reduce(function(a,b){return b.currency==null?a:b.currency},null);w!=null&&x!=null?v=h._(/*BTDS*/"{subtotal} (estimated)",[h._param("subtotal",d("WAWebCurrencyUtils").formatAmount1000(x,w))]):v=h._(/*BTDS*/"No price entered");x=o.jsx(d("WAWebText.react").WAWebTextSmall,{as:"div",children:v});w=null;if(n.createdAt!=null){v=d("WAWebClock").Clock.timeStr(n.createdAt);w=o.jsx(d("WAWebText.react").WAWebTextSmall,{children:""+v})}return o.jsxs(o.Fragment,{children:[o.jsxs(c("WAWebDrawerSection.react"),{children:[o.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f}),o.jsxs("div",babelHelpers["extends"]({},(m||(m=c("stylex"))).props(r.defaultBg,d("WAWebUISpacing").uiPadding.all18),{children:[i,x]})),o.jsx(c("WAWebOrderProductList.react"),{flatListController:g,onProductDetail:l,order:n,sellerJid:q}),o.jsx("div",babelHelpers["extends"]({},m.props(r.defaultBg,d("WAWebUISpacing").uiPadding.all18),{children:w})),p?o.jsx(s,{chat:e,value:b,onSubmit:u,onChange:a}):null]}),d("WAWebBizGatingUtils").orderDetailsFromCartEnabled()&&!p?o.jsx(t,{sellerJid:q,order:n,onCreateOrderClick:function(){return k(c("WANullthrows")(n))},onDeclineOrderClick:j}):null]})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,k);var e=a.chat,f=a.onOrderCancel,g=a.onOrderCreate,l=a.onProductDetail,m=a.orderId,n=a.orderMessage,r=a.ownerHasReviewed,s=a.sellerJid,t=a.token;a=a.userIsCartOwner;var v=q(!0),w=v[0],x=v[1];v=q("PENDING");var y=v[0],z=v[1];v=q(null);var A=v[0],B=v[1];v=q("");var C=v[0];v=v[1];var D=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),E=function(){d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"The seller has deleted your sent cart. Contact the seller for more information.")}))};p(function(){d("WAWebOrderCollection").OrderCollection.findOrder(m,s,t).then(function(a){x(!1),z("SUCCESS"),B(a),d("WAWebUtilsLogQplEvents").qplAnnotateOrderView((a==null?void 0:a.products.length)||0),d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){E(),x(!1),z("ERROR"),d("WAWebUtilsLogQplEvents").qplDropOrderView()}))["catch"](function(a){x(!1),z("ERROR"),d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Catalog Order Display failed"]))).verbose().devConsole(a).sendLogs("OrderDetails: failed to display"),d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.FAIL)})},[]);var F=function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},G=function(){F();if(n!=null){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);a=d("WAWebBusinessProfileUtils").hasCatalog(a);new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),hasCatalog:a,hasNote:Boolean(C),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").FROM_CART),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_DECLINE_CART}).commit();a=h._(/*BTDS*/"We have canceled your order.").toString()+"\n"+C;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["sendCancelMessage inside WAWebCartOrderDetailDrawer"])));d("WAWebSendTextMsgChatAction").sendTextMsgToChat(e,a,{quotedMsg:new(d("WAWebMsgModel").Msg)(n)});if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(n!=null){a={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.DECLINED};void d("WAWebDBUpdateMessageTable").updateMessageTable(n.id,a);var b=d("WAWebMsgCollection").MsgCollection.get(n.id);b&&b.set(a)}}d("WAWebCmd").Cmd.openChatFromUnread(e)},H=d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._(/*BTDS*/"Your order request"):h._(/*BTDS*/"Your sent cart"),I=d("WAWebBizGatingUtils").isSellerOrderRevampEnabled()?h._(/*BTDS*/"Order request"):h._(/*BTDS*/"Received cart");return o.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"striped",onDrop:F,children:[o.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a?H:I,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:F}),o.jsx(c("WAWebDrawerBody.react"),{children:o.jsx(u,{cancellationMessage:C,chat:e,fetchState:y,flatListController:D.current,isLoading:w,onOrderCancel:f,onOrderCreate:g,onProductDetail:l,ownerHasReviewed:r,order:A,sellerJid:s,sendCancelMessage:G,setCancellationMessage:v})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderIcons",["WAWebCircledPlusCustomIcon","WAWebListMsgIconIcon.react","WAWebProductCatalogProductThumb.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={addItemSVG:{borderTopWidth:"x1ktv7sr",borderInlineEndWidth:"x142x0oa",borderBottomWidth:"xv7zg05",borderInlineStartWidth:"x12dgle5",color:"xx2jlie",$$css:!0},customItemSVG:{color:"xx2jlie",$$css:!0}};function k(){return i.jsx("div",{className:"x6s0dn4 x16kknjp x1obq294 x5a5i1n xde0f50 x15x8krk xuh0odg x78zum5 xsdox4t x1useyqa",children:i.jsx(d("WAWebListMsgIconIcon.react").ListMsgIconIcon,{xstyle:[j.customItemSVG,d("WAWebUISpacing").uiMargin.allAuto]})})}k.displayName=k.name+" [from "+f.id+"]";function a(){return i.jsx("div",{className:"x6s0dn4 x16kknjp x1obq294 x5a5i1n xde0f50 x15x8krk xuh0odg x78zum5 xsdox4t x1useyqa",children:i.jsx(d("WAWebCircledPlusCustomIcon").CircledPlusCustomIcon,{wrapperStyles:[j.addItemSVG,d("WAWebUISpacing").uiMargin.allAuto],height:18})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.mediaData;a=a.useCustomIcon;return a||b==null?i.jsx(k,{}):i.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:b,theme:"orderSquareThumb"})}b.displayName=b.name+" [from "+f.id+"]";g.AddItemIcon=a;g.OrderItemIcon=b}),98);
__d("WAWebOrderAddItem",["WAWebCellFrame.react","WAWebOrderIcons","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.onClick;a=a.title;return i.jsx(c("WAWebCellFrame.react"),{testid:void 0,image:i.jsx(d("WAWebOrderIcons").AddItemIcon,{}),primary:a,theme:"add-order-item",onClick:b})}a.displayName=a.name+" [from "+f.id+"]";g.AddOrderItem=a}),98);
__d("WAWebOrderDetailErrorUtils",["fbt","WATypeUtils","WAWebCurrencyUtils","WAWebOrderDetailMath","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){l(function(){for(var b in a){var c=a[b];c!=null&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{duration:1e4,id:b+c.toString(),msg:c,action:{actionText:h._(/*BTDS*/"OK"),dismiss:!0,theme:"success"}}))}},[a])}function m(){return h._(/*BTDS*/"Enter a valid number")}m.displayName=m.name+" [from "+f.id+"]";function n(){return h._(/*BTDS*/"Enter a positive number")}n.displayName=n.name+" [from "+f.id+"]";var o=function(a){return h._(/*BTDS*/"{input_label} cannot be more than 100\u0025",[h._param("input_label",a)])},p=function(a){return h._(/*BTDS*/"{input_label} cannot be more than subtotal",[h._param("input_label",a)])};function b(a){var b=a.currency,c=a.enablePercentValueCheck,e=a.fieldType,f=a.label,g=a.maxFlatValue;a=a.value;if(!d("WAWebCurrencyUtils").validatePriceString(b,a))return m();b=d("WAWebCurrencyUtils").valueFromString(b,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(b<0)return n();if(e===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL){if(Boolean(c)&&b>100)return o(f!=null?f:"")}else if(d("WATypeUtils").isNumber(g)&&b>g)return p(f!=null?f:"");return""}g.useShowToastErrors=a;g.getOrderDetailInvalidNumberErrorMessage=m;g.getOrderDetailNegativeNumberErrorMessage=n;g.errorMessageBigPercentageValue=o;g.errorMessageBigFlatValue=p;g.additionalChargeErrorHandler=b}),226);
__d("WAWebOrderDetailAmountInput",["fbt","WAWebCurrencyUtils","WAWebOrderDetailErrorUtils","WAWebOrderDetailMath","WAWebRichTextField.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function n(a,b){if(a==null||!a.length||!d("WAWebCurrencyUtils").validatePriceString(b,a))return h._(/*BTDS*/"Enter a valid price");b=d("WAWebCurrencyUtils").valueFromString(b,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(b<0)return h._(/*BTDS*/"Enter a positive price")}var o={container:{marginTop:"xs9mwh0",overflowX:"x6ikm8r",overflowY:"x10wlt62",textAlign:"x1yc453h",width:"x1dmp6jm",$$css:!0}};function a(a){var b=a.currency,e=a.onCancel,f=a.onSave;a=a.value;var g=m(null),i=g[0],k=g[1];g=m(a);var p=g[0],q=g[1];d("WAWebOrderDetailErrorUtils").useShowToastErrors({productPriceError:i});return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([o.container,d("WAWebUISpacing").uiPadding.end2]),{children:l.jsx(d("WAWebRichTextField.react").RichTextField,{managed:!0,constrainedWidth:!0,hideFloatingLabel:!0,focusOnMount:!0,editable:!0,lockable:!0,startActive:!0,placeholder:h._(/*BTDS*/"Price"),value:p,theme:"default",maxLength:12,customStyleThemes:["disabledLabel","noErrorInfo"],testid:void 0,validate:function(a){a=n(a,b);k(a);return!a},onChange:function(a){a=a.text;q(a);k(n(a,b))},onSave:function(){f(p)},onCancel:e,error:i})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSharedStyles",[],(function(a,b,c,d,e,f,g){a={clickableText:{color:"x1a06ls3",cursor:"x1ypdohk",fontWeight:"xo1l8bm",letterSpacing:"x12oo3zp",lineHeight:"x15bjb6t",":hover_textDecoration":"xt0b8zv",$$css:!0}};g["default"]=a}),98);
__d("WAWebOrderCatalogProductPrice",["fbt","$InternalEnum","WAWebCurrencyUtils","WAWebFlex.react","WAWebOrderDetailAmountInput","WAWebOrderDetailSharedStyles","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=b("$InternalEnum").Mirrored(["Readonly","EditableBlank","EditableFilled","Editing"]);function a(a){var b=a.currency;a.onEnter;var e=a.onPriceChange,f=a.onPriceStageChange,g=a.orderItem,i=a.price;a=a.priceStage;switch(a){case l.Editing:return k.jsx("div",{role:"textbox",onClick:function(a){return a.stopPropagation()},"data-testid":void 0,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end3),{children:d("WAWebCurrencyUtils").formatAmount1000ToParts(b,0).symbol})),k.jsx(c("WAWebOrderDetailAmountInput"),{currency:b,value:i!=null?String(i/1e3):"",onSave:function(a){f(l.EditableFilled),e(d("WAWebCurrencyUtils").valueFromString(b,a))},onCancel:function(){f(i==null?l.EditableBlank:l.EditableFilled)}})]})});case l.EditableFilled:return k.jsx("div",babelHelpers["extends"]({role:"button"},(j||(j=c("stylex"))).props(c("WAWebOrderDetailSharedStyles").clickableText),{onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,Number(i))}));case l.EditableBlank:return k.jsx("span",babelHelpers["extends"]({role:"button"},(j||(j=c("stylex"))).props(c("WAWebOrderDetailSharedStyles").clickableText),{onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:h._(/*BTDS*/"Enter price")}));default:return k.jsx("div",{"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,g.price)})}}a.displayName=a.name+" [from "+f.id+"]";g.PriceStage=l;g.CatalogProductPrice=a}),226);
__d("WAWebOrderDetailItems",["fbt","WAWebBizGatingUtils","WAWebCartDeleteIcon.react","WAWebCellFrame.react","WAWebCommonQuantityControls.react","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModalManager","WAWebOrderAddItem","WAWebOrderCatalogProductPrice","WAWebOrderIcons","WAWebOrderItemGetters","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useState,o={orderItemsContainer:{marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xh3wvx0",marginInlineStart:"x1lziwak",$$css:!0}};function p(a,b){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Delete {order_item_name} from order?",[h._param("order_item_name",b)]),okText:h._(/*BTDS*/"Delete"),onOK:function(){a==null||a(),d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"Cancel"),onCancel:function(){d("WAWebModalManager").ModalManager.close()}}))}function a(a){var b=a.currency,e=a.details,f=a.items,g=a.onAddItem,i=a.onDeleteItem,k=a.onItemQuantityChange,q=a.onPriceChange,r=a.priceMap;a=n(null);var s=a[0],t=a[1];a=n({});var u=a[0],v=a[1],w=m(function(a){if(a.price!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.Readonly;else if((r==null?void 0:r[a.id])!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.EditableFilled;return d("WAWebOrderCatalogProductPrice").PriceStage.EditableBlank},[r]),x=m(function(a,b){v(function(c){return babelHelpers["extends"]({},c,(c={},c[b.id]=a,c))})},[]),y=Boolean(e),z=function(a,e){var f;return l.jsxs("div",{className:"x6s0dn4 x78zum5",children:[l.jsx(d("WAWebOrderCatalogProductPrice").CatalogProductPrice,{price:(f=r==null?void 0:r[a.id])!=null?f:null,priceStage:(f=u[a.id])!=null?f:w(a),currency:b,orderItem:a,onPriceChange:function(b){return q==null?void 0:q(b,a.id)},onPriceStageChange:function(b){x(b,a)},onEnter:function(){t(null)}}),e===s&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.start5),{children:l.jsx(c("WAWebCartDeleteIcon.react"),{onClick:function(b){b.stopPropagation(),p(function(){return i==null?void 0:i(e)},a.name)}})}))]})};return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.orderItemsContainer,children:[!y&&(d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()||d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled())&&l.jsx(d("WAWebOrderAddItem").AddOrderItem,{title:h._(/*BTDS*/"Add items"),onClick:function(){return g==null?void 0:g()}}),f.map(function(a,b){var e,f=[];(e=a.properties)==null||e.forEach(function(a){var b=a[0];a=a[1];f.push(l.jsxs(d("WAWebFlex.react").FlexRow,{children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{children:[b,":\xa0"]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:a})]}))});e=h._(/*BTDS*/"Quantity {item-quantity}",[h._param("item-quantity",a.quantity)]);e=l.jsxs(d("WAWebFlex.react").FlexColumn,{children:[y?e:l.jsx(c("WAWebCommonQuantityControls.react"),{quantity:a.quantity,onAddOneClick:function(){return k==null?void 0:k(b,a.quantity+1)},onRemoveOneClick:function(){return k==null?void 0:k(b,a.quantity-1)}}),f.length>0&&l.jsx(d("WAWebFlex.react").FlexColumn,{children:f})]});return l.jsx(c("WAWebCellFrame.react"),babelHelpers["extends"]({testid:void 0,className:(j||(j=c("stylex")))(b>0&&d("WAWebUISpacing").uiPadding.top10),disabled:!0,image:l.jsx(d("WAWebOrderIcons").OrderItemIcon,{mediaData:a.thumbnailUrl?d("WAWebOrderItemGetters").getMediaData(a):null,useCustomIcon:a.isCustomItem}),primary:l.jsx("span",{className:"xzwifym x6ikm8r x10wlt62 xlyipyv xuxw1ft",title:a.name,children:a.name}),secondary:e,theme:"add-order-item",detail:z(a,b)},y?void 0:{onMouseEnter:function(){return t(b)},onMouseLeave:function(){return t(null)}}),b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSectionContainer.react",["WAWebFlex.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).Children,l={container:{rowGap:"xgpatz3",columnGap:"x40hh3e",$$css:!0}};function a(a){a=a.children;return j.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:l.container,align:"stretch",children:k.map(a,function(a,b){return j.jsxs(j.Fragment,{children:[b!==0?j.jsx("div",{className:"xyj1x25 xlya59e x178xt8z xqtp20y"}):null,a]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailSellerProfile.react",["fbt","WAWebBizGatingUtils","WAWebContactCollection","WAWebDetailImage.react","WAWebFlex.react","WAWebName.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{columnGap:"x1amjocr",rowGap:"x1b8z93w",$$css:!0},uppercase:{textTransform:"xtvhhri",$$css:!0}};function a(a){var b=a.orderId,e=a.orderStatus,f=a.sellerWid;a=a.testid;a=d("WAWebContactCollection").ContactCollection.get(f);f=a?k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebFlex.react").FlexRow,{children:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:f,size:48})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebName.react").Name,{className:"x1wm35g x1603h9y xk50ysn x1u7k74",useDisplayName:!0,contact:a}),b!=null?k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"secondary",weight:"medium",className:(j||(j=c("stylex")))(l.uppercase,d("WAWebUISpacing").uiMargin.top4),children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"charge #{order-id}",[h._param("order-id",b)]):h._(/*BTDS*/"order #{order-id}",[h._param("order-id",b)])}):null]})]}):null;return k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[l.container,d("WAWebUISpacing").uiPadding.horiz16],testid:void 0,children:[f,e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLocalShippingIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="local-shipping";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=8;o=12;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 12 8",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2H9.75C9.905 2 10.055 2.075 10.15 2.2L11.3 3.735C11.43 3.91 11.5 4.12 11.5 4.335V6C11.5 6.275 11.275 6.5 11 6.5H10.5C10.5 7.33 9.83 8 9 8C8.17 8 7.5 7.33 7.5 6.5H4.5C4.5 7.33 3.83 8 3 8C2.17 8 1.5 7.33 1.5 6.5C0.95 6.5 0.5 6.05 0.5 5.5V1C0.5 0.45 0.95 0 1.5 0H7.5C8.05 0 8.5 0.45 8.5 1V2ZM2.5 6.5C2.5 6.775 2.725 7 3 7C3.275 7 3.5 6.775 3.5 6.5C3.5 6.225 3.275 6 3 6C2.725 6 2.5 6.225 2.5 6.5ZM9.75 2.75L10.73 4H8.5V2.75H9.75ZM8.5 6.5C8.5 6.775 8.725 7 9 7C9.275 7 9.5 6.775 9.5 6.5C9.5 6.225 9.275 6 9 6C8.725 6 8.5 6.225 8.5 6.5Z",fill:"#667781"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.LocalShippingIcon=a}),98);
__d("WAWebOrderDetailStatusPill.react",["fbt","WAWebActionCheckCircleIcon.react","WAWebAlertErrorIcon.react","WAWebLocalShippingIcon.react","WAWebOrderStatus","WAWebStatusClockIcon.react","WAWebText.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{alignItems:"x6s0dn4",backgroundColor:"xairv4b",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",display:"x3nfvp2",fontSize:"x1pg5gke",$$css:!0},currencyIcon:{backgroundColor:"xlo7ypk",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",color:"xq8ne21",fontSize:"x1xloe0n",$$css:!0},iconCipherText:{marginTop:"xdhfreh",$$css:!0}};function m(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:return h._(/*BTDS*/"Pending");case d("WAWebOrderStatus").OrderStatus.Processing:return h._(/*BTDS*/"Processing");case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:return h._(/*BTDS*/"Partially shipped");case d("WAWebOrderStatus").OrderStatus.Shipped:return h._(/*BTDS*/"Shipped");case d("WAWebOrderStatus").OrderStatus.Canceled:return h._(/*BTDS*/"Canceled");case d("WAWebOrderStatus").OrderStatus.Complete:return h._(/*BTDS*/"Complete");case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return h._(/*BTDS*/"Preparing to ship");case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return h._(/*BTDS*/"Payment requested");case d("WAWebOrderStatus").OrderStatus.Delivered:return h._(/*BTDS*/"Delivered");case d("WAWebOrderStatus").OrderStatus.Confirmed:return h._(/*BTDS*/"Confirmed");case d("WAWebOrderStatus").OrderStatus.Delayed:return h._(/*BTDS*/"Delayed");case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return h._(/*BTDS*/"Out for delivery");case d("WAWebOrderStatus").OrderStatus.Failed:return h._(/*BTDS*/"Failed");case d("WAWebOrderStatus").OrderStatus.Refunded:return h._(/*BTDS*/"Refunded")}}function n(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return;case d("WAWebOrderStatus").OrderStatus.Canceled:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:return"critical";case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:case d("WAWebOrderStatus").OrderStatus.Refunded:return"success"}}function o(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.Delayed:return k.jsx(d("WAWebStatusClockIcon.react").StatusClockIcon,{width:12,displayInline:!0,xstyle:[d("WAWebUISpacing").uiMargin.end4,l.iconCipherText]});case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return k.jsx(p,{});case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return k.jsx(d("WAWebLocalShippingIcon.react").LocalShippingIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Canceled:case d("WAWebOrderStatus").OrderStatus.Failed:return k.jsx(d("WAWebAlertErrorIcon.react").AlertErrorIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.Refunded:return k.jsx(d("WAWebActionCheckCircleIcon.react").ActionCheckCircleIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4})}}function a(a){a=a.orderStatus;a=a===void 0?d("WAWebOrderStatus").getDefaultOrderStatus():a;return k.jsxs(d("WAWebText.react").WAWebTextSmall,{color:n(a),xstyle:[l.container,d("WAWebUISpacing").uiPadding.top8,d("WAWebUISpacing").uiPadding.bottom7,d("WAWebUISpacing").uiPadding.start8,d("WAWebUISpacing").uiPadding.end8],children:[o(a),m(a)]})}a.displayName=a.name+" [from "+f.id+"]";function p(){return k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.all2,d("WAWebUISpacing").uiMargin.end3,l.currencyIcon),{children:"R$"}))}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderEphemeralExemptionPopup.react",["fbt","WAWebBizGatingUtils","WAWebCheckBox.react","WAWebConfirmPopup.react","WAWebFrontendContactGetters","WAWebModalManager","WAWebText.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsStore","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function a(a){var b=a.chat,e=a.onSubmit;a=d("WAWebFrontendContactGetters").getFormattedUser(b.contact);b=m(!1);var f=b[0],g=b[1];b=function(){g(!f)};var i=function(){f&&c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED,!0),d("WAWebModalManager").ModalManager.close(),e()},k=function(){d("WAWebModalManager").ModalManager.close()};return l.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:h._(/*BTDS*/"Disappearing messages are turned on"),onOK:i,onCancel:k,children:[l.jsx(d("WAWebText.react").WAWebTextSectionTitle,{children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Disappearing messages are turned on in your chat with {contact-name}, but this charge will not disappear.",[h._param("contact-name",a)]):h._(/*BTDS*/"Disappearing messages are turned on in your chat with {contact-name}, but this order will not disappear.",[h._param("contact-name",a)])}),l.jsx("div",{children:l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert6),{children:[l.jsx(d("WAWebCheckBox.react").CheckBox,{testid:void 0,id:"order-ephemeral-exemption-popup-skip-checkbox-id",checked:f,onChange:b}),l.jsx("label",babelHelpers["extends"]({htmlFor:"order-ephemeral-exemption-popup-skip-checkbox-id"},j.props(d("WAWebUISpacing").uiMargin.start8),{children:h._(/*BTDS*/"Don't show me this again")}))]}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderTotalPrice",["fbt","WAWebBizEntryPoint","WAWebButton.react","WAWebOrdersExpansionUtils","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={buttonWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},errorLabel:{textAlign:"x2b8uid",$$css:!0}};function m(a){var b=a.disabled,e=a.onClick,f=a.testid;f=a.title;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),{children:k.jsx(d("WAWebButton.react").Button,{type:"primary",disabled:b,onClick:e,testid:void 0,children:f})}))}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.entryPoint;b=b===void 0?null:b;a=a.onClick;a=a===void 0?null:a;return b===c("WAWebBizEntryPoint").FROM_CART&&a!=null&&d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()?k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),{children:k.jsx(d("WAWebButton.react").Button,{type:"secondary",onClick:a,testid:void 0,children:h._(/*BTDS*/"Decline cart")})})):null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.confirmTitle,c=a.disabled,e=a.entryPoint;e=e===void 0?null:e;var f=a.error;f=f===void 0?null:f;var g=a.onConfirm,h=a.onDeclineOrder;h=h===void 0?null:h;var i=a.testid;i=a.title;var j=a.totalPrice,o=a.visible;a=a.xstyle;return o?k.jsxs(d("WAWebText_DONOTUSE.react").TextDiv,{xstyle:a,children:[f==null?k.jsxs("div",{className:"x78zum5 x1q0g3np x117nqv4 x1qughib","data-testid":void 0,children:[i,k.jsx("p",{children:j})]}):k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"danger",size:"16",xstyle:l.errorLabel,children:f}),k.jsx(m,{title:b,onClick:g,disabled:c||Boolean(f),testid:void 0}),k.jsx(n,{entryPoint:e,onClick:h})]}):null}a.displayName=a.name+" [from "+f.id+"]";g.OrderApplyChangesButton=m;g.OrderTotalPrice=a}),226);
__d("WAWebWamEnumOrderSignalType",[],(function(a,b,c,d,e,f){a=Object.freeze({CREATED:0,UPDATED:1});f.ORDER_SIGNAL_TYPE=a}),66);
__d("WAWebWamEnumOrderStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PROCESSING:0,SHIPPED:1,COMPLETED:2,CANCELLED:3,PENDING:4,PARTIALLY_SHIPPED:5,PAID_CHANGE:6});f.ORDER_STATUS=a}),66);
__d("WAWebCtwaOrderSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCustomerAdsSharingSettingEnabled","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaOrderSignal:[4264,{ctwaOrderSignalVersion:[1,a.TYPES.INTEGER],ctwaSignalMetadata:[10,a.TYPES.STRING],customerAdsSharingSettingEnabled:[11,d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED],deepLinkConversionData:[2,a.TYPES.STRING],deepLinkConversionSource:[3,a.TYPES.STRING],eventSharingSettingEnabled:[4,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[5,a.TYPES.BOOLEAN],orderPaid:[8,a.TYPES.BOOLEAN],orderSignalType:[6,d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE],orderStatus:[7,d("WAWebWamEnumOrderStatus").ORDER_STATUS],threadIdHmac:[9,a.TYPES.STRING]},[1,1,1],"regular"]},{CtwaOrderSignal:[]});g.CtwaOrderSignalWamEvent=b}),98);
__d("WAWebSmbMarkAsXOrderAction",["WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebCommonCTWADataSharing","WAWebCtwaOrderSignalWamEvent","WAWebOrderStatus","WAWebWamEnumCustomerAdsSharingSettingEnabled","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){var h=function(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING;case d("WAWebOrderStatus").OrderStatus.Shipped:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.SHIPPED;case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.COMPLETED;case d("WAWebOrderStatus").OrderStatus.Canceled:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.CANCELLED;case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:case d("WAWebOrderStatus").OrderStatus.Refunded:return null}},i=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]?a={globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a}:b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]?a={globalSharingSettingEnabled:!1}:a=null;return a};a=function(a,b,e,f){e=h(e);if(e==null)return;a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;a={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:f,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.UPDATED,orderStatus:e,customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET};new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},a,i(b))).commit()};b=function(a,b){a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;a={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:!1,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.CREATED,orderStatus:d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING,customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET};new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},a,i(b))).commit()};g.markOrderAsUpdatedStatusAction=a;g.markOrderAsCreatedAction=b}),98);
__d("WAWebOrderSummaryDrawer",["fbt","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebChatEphemerality","WAWebClickableLink.react","WAWebCommonCTWADataSharing","WAWebCurrencyUtils","WAWebDataSharingOptOutOrUpsell","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebModalManager","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailSharedStyles","WAWebOrderEphemeralExemptionPopup.react","WAWebOrderExpansionNotSupportedPopup.react","WAWebOrderStatus","WAWebOrderTotalPrice","WAWebOrdersExpansionUtils","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebUserPrefsStore","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState,o={orderFieldsContainer:{columnGap:"x1mn2tih",rowGap:"x121sasi",$$css:!0},orderItemsContainer:{flexShrink:"xs83m0k",overflowY:"x1odjw0f",$$css:!0}},p=function(a,b,c,e){if(!a)return h._(/*BTDS*/"Items must all have a price").toString();a=d("WAWebBizGatingUtils").orderDetailsTotalOrderMinimumValue()*1e3;e=d("WAWebBizGatingUtils").orderDetailsTotalMaxValue(e)*1e3;if(b<a)return h._(/*BTDS*/"Total cannot be less than {order_min_allowed_amount}",[h._param("order_min_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,a))]).toString();return b>e?h._(/*BTDS*/"Total cannot be more than {order_max_allowed_amount}",[h._param("order_max_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,e))]).toString():null};function q(a){var b=a.additionalCharges,e=a.canChangeAdditionalCharges,f=a.canDisplayAdditionalCharges,g=a.currency,i=a.discount,k=a.onAdditionalCharges,m=a.shipping,n=a.subtotal;a=a.tax;var p=b!=null&&b.discountText&&b.discountType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._(/*BTDS*/"({discount_percent}\u0025)",[h._param("discount_percent",b.discountText)]):null;b=b!=null&&b.taxText&&b.taxType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._(/*BTDS*/"({tax_percent}\u0025)",[h._param("tax_percent",b.taxText)]):null;return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:[o.orderFieldsContainer,d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.bottom20],children:[l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._(/*BTDS*/"Subtotal")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,n)})]}),Boolean(f)&&l.jsxs(l.Fragment,{children:[i!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._(/*BTDS*/"Discount")," ",p]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,-i)})]}),m!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._(/*BTDS*/"Shipping")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,m)})]}),a!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._(/*BTDS*/"Tax")," ",b]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,a)})]}),Boolean(e)&&l.jsx(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",children:l.jsx(c("WAWebClickableLink.react"),{onClick:function(){return k==null?void 0:k()},testid:void 0,className:(j||(j=c("stylex")))(c("WAWebOrderDetailSharedStyles").clickableText,d("WAWebUISpacing").uiMargin.bottom0),children:l.jsx("span",{children:h._(/*BTDS*/"Add discount, shipping or tax")})})})]})]})}q.displayName=q.name+" [from "+f.id+"]";var r=function(a,b,e,f){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-create",b))return l.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{checkboxValue:e,onCheckboxToggle:f,theme:"order-create"})},s=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]},t=function(a){var b=a.amount,e=a.chat,f=a.currency,g=a.onSubmit,h=a.smbOptOut;a=!d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&d("WAWebOrdersExpansionUtils").isSellerCountrySameAsBuyer(e)||d("WAWebOrdersExpansionUtils").isContactCountrySupported(e);if(!a){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderExpansionNotSupportedPopup.react"),{chat:e}));return}a=function(){d("WAWebSmbMarkAsXOrderAction").markOrderAsCreatedAction(e,h),d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:e,orderStatus:d("WAWebOrderStatus").OrderStatus.Processing,paidData:{amount:String(b),currency:f,paid:!1},type:"order_created"},h),g()};c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED)!==!0&&d("WAWebBizGatingUtils").inOrderMessagesEphemeralExceptionEnabled()&&d("WAWebChatEphemerality").isEphemeralSettingOn(e)?d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderEphemeralExemptionPopup.react"),{chat:e,onSubmit:a})):a()};function a(a){var b=a.additionalCharges,e=a.chat,f=a.currency,g=a.entryPoint;g=g===void 0?null:g;var i=a.flatAmounts,j=a.onAddItem,k=a.onAdditionalCharges,u=a.onBack,v=a.onDeclineOrder;v=v===void 0?null:v;var w=a.onDeleteItem,x=a.onItemQuantityChange,y=a.onPriceChange,z=a.onSubmit,A=a.orderItems,B=a.orderSubtotal,C=a.priceMap;a=n(s);var D=a[0],E=a[1];m(function(){var a=function(){var a=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];E(a)};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);a=A.every(function(a){var b;return Number.isInteger((b=a.price)!=null?b:C[a.id])});var F=A.length!==0;return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Charge buyer"):h._(/*BTDS*/"Create order"),onBack:u,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsxs(c("WAWebDrawerSection.react"),{xstyle:[o.orderItemsContainer,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiMargin.bottom0],theme:"refresh-padding-title",children:[l.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[l.jsx(c("WAWebOrderDetailSellerProfile.react"),{sellerWid:d("WAWebUserPrefsMeUser").getMePnUserOrThrow()}),l.jsx(c("WAWebOrderDetailItems"),{currency:f,priceMap:C,items:A,onDeleteItem:w,onPriceChange:y,onAddItem:j,onItemQuantityChange:x}),l.jsx(q,{tax:i.tax,discount:i.discount,shipping:i.shipping,currency:f,subtotal:B,additionalCharges:b,canDisplayAdditionalCharges:F,canChangeAdditionalCharges:F,onAdditionalCharges:k})]}),r(e,A.length,D,function(){return E(!D)})]}),l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx(d("WAWebOrderTotalPrice").OrderTotalPrice,{xstyle:d("WAWebUISpacing").uiPadding.all16,visible:F,disabled:!a,testid:void 0,totalPrice:d("WAWebCurrencyUtils").formatAmount1000(f,i.total),title:h._(/*BTDS*/"Total"),onConfirm:function(){return t({amount:i.total/1e3,chat:e,currency:f,onSubmit:z,smbOptOut:D})},confirmTitle:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Send charge request"):h._(/*BTDS*/"Send order"),error:p(a,i.total,f,e),entryPoint:g,onDeclineOrder:v})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.getErrorLabel=p;g.OrderValues=q;g.getDataSharing=r;g.maybeShowDialogOnSubmit=t;g.OrderSummaryDrawer=a}),226);
__d("WAWebHooksUseCatalog",["WAWebCatalogCollection","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h;e=h||d("react");var i=e.useEffect,j=e.useState;function a(a){var e=j(function(){return d("WAWebCatalogCollection").CatalogCollection.get(a)}),f=e[0],g=e[1],h=c("useWAWebUnmountSignal")();i(function(){var c=d("WAWebCatalogCollection").CatalogCollection.get(a);c!==f&&(c!=null?g(c):b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("WAWebCatalogCollection").CatalogCollection.find(a));if(h.aborted)return;g(b)})())},[a,f,h]);return f}g["default"]=a}),98);
__d("WAWebUseOrderDetailItems",["Promise","WAWebCatalogCollection","WAWebHooksUseCatalog","WAWebOrderDetailMath","WAWebOrderItemModel","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useState;function a(a,e){var f=c("WAWebHooksUseCatalog")(e);e=l([]);var g=e[0],i=e[1];e=l(!0);var m=e[0],n=e[1],o=c("useWAWebUnmountSignal")(),p=j(function(){return f==null?new Map():f.productCollection.getProductModels().reduce(function(a,b){return a.set(b.id.toString(),(a=b.getPreviewImage())==null?void 0:a.mediaUrl)},new Map())},[f]),q=j(function(c){if(f==null)return(h||(h=b("Promise"))).resolve([]);var e=a.items.reduce(function(a,b){if(b.isCustomItem||c.get(b.id)!=null)return a;b=d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:f.id,productId:b.id});a.push(b);return a},[]);return(h||(h=b("Promise"))).all(e)},[f,a.items]),r=j(function(b,e){var f;return new(c("WAWebOrderItemModel"))(babelHelpers["extends"]({},b,{currency:a.currency,price:((f=b.amount)!=null?f:0)*d("WAWebOrderDetailMath").DEFAULT_OFFSET,thumbnailUrl:e.get(b.id)}))},[a.currency]),s=j(function(b){return a.items.map(function(a){return r(a,b)})},[a.items,r]);k(function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=p();n(!0);yield q(a);if(o.aborted)return;n(!1);a=p();i(s(a))})()},[f,o,q,p,s]);return{isLoading:m,orderItems:g}}g["default"]=a}),98);
__d("WAWebOrderDetailDrawer.react",["fbt","WAWebBizFrontendGatingUtils","WAWebBizGatingUtils","WAWebBizSendOrderAction","WAWebBrazilPaymentsGeoGating","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexItem.react","WAWebGetBrazilnteractiveActions","WAWebNoop","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailStatusPill.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrderSummaryDrawer","WAWebOrdersExpansionCountries","WAWebSpinner.react","WAWebStatusClockIcon.react","WAWebText.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUseOrderDetailItems","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","react","stylex"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l;b=l||d("react");var m=j||(j=c("react")),n=b.useEffect,o=b.useMemo,p={buttonWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,i);a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();var f=e.chat,g=e.orderInfo,j=e.sellerWid,l=g.discount,s=g.referenceId,t=g.shipping,u=g.subtotal,v=g.tax,w=g.totalAmount,x=c("WAWebUseOrderDetailItems")(g,j),y=x.isLoading;x=x.orderItems;var z=o(function(){return d("WAWebOrderStatus").findOrderStatus(f,s)},[f,s]);n(function(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a)),orderDetailEntryPoint:String(e.entryPoint),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS}).commit()},[e.entryPoint]);if(u==null)return null;var A=c("WAWebNoop"),B=function(){d("WAWebBizSendOrderAction").sendOrderPaymentMethodUpdate({chat:f,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,orderInfo:g,orderNote:null,orderStatus:z,paymentMethod:d("WAWebOrderPaymentStatus").OrderPaymentMethod.Confirm,paymentStatus:null,sellerJid:j.toJid()})["finally"](function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),A()})};return m.jsxs(c("WAWebDrawer.react"),{onDrop:e.onBack,ref:b,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Charge details"):h._(/*BTDS*/"Order details"),onBack:e.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),m.jsx(c("WAWebDrawerBody.react"),{theme:y?"center-content":void 0,children:y?m.jsx(q,{}):m.jsxs(m.Fragment,{children:[m.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.bottom15],children:m.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[m.jsx(c("WAWebOrderDetailSellerProfile.react"),{testid:void 0,orderId:g.referenceId,sellerWid:j,orderStatus:m.jsx(c("WAWebOrderDetailStatusPill.react"),{orderStatus:z})}),m.jsx(c("WAWebOrderDetailItems"),{details:!0,currency:g.currency,items:x}),m.jsx(d("WAWebOrderSummaryDrawer").OrderValues,{tax:v!=null?v*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,discount:l!=null?l*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,shipping:t!=null?t*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,subtotal:u*d("WAWebOrderDetailMath").DEFAULT_OFFSET,currency:g.currency,canDisplayAdditionalCharges:!0}),m.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",xstyle:d("WAWebUISpacing").uiPadding.horiz16,testid:void 0,children:[m.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:h._(/*BTDS*/"Total")}),m.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:d("WAWebCurrencyUtils").formatAmount(g.currency,w)})]})]})}),a.user===j.user&&((y=(b=d("WAWebOrdersExpansionCountries").getOrdersExpansionAllowedCountries())==null?void 0:b.length)!=null?y:0)>0&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsxs(d("WAWebDrawerButton.react").DrawerButtonSimple,{icon:m.jsx(d("WAWebStatusClockIcon.react").StatusClockIcon,{width:20}),testid:void 0,color:"dark",disabled:!0,onClick:c("WAWebNoop"),children:[m.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"16",children:h._(/*BTDS*/"Payment details")}),m.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{className:"x1pg5gke xk4td0m",children:h._(/*BTDS*/"To see payment details, open WhatsApp on your phone.")})]})}),[d("WAWebOrderStatus").OrderStatus.Canceled,d("WAWebOrderStatus").OrderStatus.Complete].every(function(a){return z!==a})&&a.user===j.user&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(p.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),{children:m.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:function(){e.onOrderStatusUpdateClick==null||e.onOrderStatusUpdateClick()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Update status"):h._(/*BTDS*/"Update order status")})}))}),a.user!==j.user&&z===d("WAWebOrderStatus").OrderStatus.Pending&&((v=(x=d("WAWebOrdersExpansionCountries").getConsumerOrdersExpansionAllowedCountries())==null?void 0:x.length)!=null?v:0)>0&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(p.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),{children:m.jsx(r,{sendConfirmOrderInfo:B,chat:f,orderInfo:g,interactiveMessage:e==null?void 0:e.interactiveMessage})}))})]})})]})}a.displayName=a.name+" [from "+f.id+"]";function q(){return m.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",testid:void 0,children:m.jsx(c("WAWebFlexItem.react"),{children:m.jsx(d("WAWebSpinner.react").Spinner,{})})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.chat,c=a.interactiveMessage,e=a.orderInfo;a=a.sendConfirmOrderInfo;b=s(b,c,e);c=b==null?void 0:b.Icon;return b?m.jsxs(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:b.onClick,children:[c&&m.jsx(c,{}),b.label]}):m.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:a,children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Confirm info"):h._(/*BTDS*/"Confirm order info")})}r.displayName=r.name+" [from "+f.id+"]";function s(a,b,c){if(b==null)return null;var e=[];d("WAWebBizFrontendGatingUtils").isAPICopyPixCTAEnabled()&&d("WAWebGetBrazilnteractiveActions").hasValidDynamicPix(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getCopyPixCodeInteractiveAction(c,b));d("WAWebBrazilPaymentsGeoGating").isPaymentLinkEnabled(a)&&d("WAWebGetBrazilnteractiveActions").hasValidPaymentLink(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getOpenPaymentLinkInteractiveAction(c,b));d("WAWebBrazilPaymentsGeoGating").isBoletoEnabled(a)&&d("WAWebGetBrazilnteractiveActions").hasValidBoletoCode(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getCopyBoletoCodeInteractiveAction(c,b));return e.length>=1?e[0]:null}g["default"]=a}),226);
__d("WAWebOrderDetailProductListItem",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebOrderIcons","WAWebText_DONOTUSE.react","isNonZeroNumber","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;a=a.product;var e=j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,ellipsify:!0,titlify:!0});b=j.jsx(d("WAWebOrderIcons").OrderItemIcon,{useCustomIcon:Boolean(a.mediaData)===!1,mediaData:(b=a.mediaData)!=null?b:null});var f=null;if(a.quantity){var g=h._(/*BTDS*/"Qty {quantity}",[h._param("quantity",a.quantity.toString())]);f=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g})}g=null;d("isNonZeroNumber").isNonZeroNumber(a.price)?g=d("WAWebCurrencyUtils").formatAmount1000(a.currency,a.price):g=h._(/*BTDS*/"Ask for price");a=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g});return j.jsx(c("WAWebCellFrame.react"),{image:b,customImage:!0,primary:e,secondary:f,detail:a,theme:"media"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailProductList",["WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderDetailProductListItem","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=60,k=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.productItems;b=b.map(function(a){return{itemKey:a.id.toString(),product:a}});return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(k,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b,renderItem:function(a){a=a.product;return i.jsx(c("WAWebOrderDetailProductListItem"),{product:a})},defaultItemHeight:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailProductListDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlatListController","WAWebOrderDetailProductList","WAWebUISpacing","react","useLazyRef"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k=j||c("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.productItems,f=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});return k.jsxs(c("WAWebDrawer.react"),{onDrop:a.onBack,ref:b,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Items"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),k.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[f.current],children:k.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.end3,d("WAWebUISpacing").uiPadding.start16],theme:"refresh-padding-title",children:k.jsx(c("WAWebOrderDetailProductList"),{flatListController:f.current,productItems:e})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailRadioButton.react",["WAWebCheckBoxRound.react","WAWebClickable.react","WAWebFlex.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.checked,e=a.isCanceled,f=a.label,g=a.onClick;a=a.testid;return i.jsx(d("WAWebClickable.react").Clickable,{onClick:g,dataTestId:a!=null?a:"",children:i.jsxs(d("WAWebFlex.react").FlexRow,{children:[i.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:[d("WAWebUISpacing").uiPadding.start12,d("WAWebUISpacing").uiPadding.end24],children:i.jsx(c("WAWebCheckBoxRound.react"),{checked:b,radio:!0,hover:!1,systemUncheckedColor:!0,onClick:function(){return void g()}})}),i.jsx("div",{className:e?"x1sr8853":null,children:f})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderStatusUpdateDrawer.react",["fbt","WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebBizOrderStatusLabels","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCTWADataSharingModel","WAWebCmd","WAWebCommonCTWADataSharing","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebDataSharingOptOutOrUpsell","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebOrderDetailMath","WAWebOrderDetailRadioButton.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrdersExpansionUtils","WAWebRichTextField.react","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WDSSwitch.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=["ref"],l,m,n;b=n||d("react");var o=l||(l=c("react")),p=b.useEffect,q=b.useMemo,r=b.useState,s=d("WAWebBizGatingUtils").isOrderStatusM1Enabled()?[d("WAWebOrderStatus").OrderStatus.PaymentRequested,d("WAWebOrderStatus").OrderStatus.PreparingToShip,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Delivered,d("WAWebOrderStatus").OrderStatus.Canceled]:[d("WAWebOrderStatus").OrderStatus.Processing,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Complete,d("WAWebOrderStatus").OrderStatus.Canceled],t={checkboxContainer:{rowGap:"x1na6gtj",columnGap:"x1qgv0r9",$$css:!0},spacer:{borderTopColor:"xyj1x25",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",height:"xqtp20y",$$css:!0}};function u(a){a=a.xstyle;return o.jsx("div",babelHelpers["extends"]({},(m||(m=c("stylex"))).props(t.spacer,d("WAWebUISpacing").uiMargin.top16,a)))}u.displayName=u.name+" [from "+f.id+"]";var v=function(a,b,e,f){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-update",b))return o.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{theme:"order-update",onCheckboxToggle:function(){return f(!e)},checkboxValue:e})},w=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,k);a=r(w);var f=a[0],g=a[1];a=r("");var l=a[0],n=a[1],x=q(function(){return d("WAWebOrderStatus").findOrderStatus(e.chat,e.orderInfo.referenceId)},[e.chat,e.orderInfo.referenceId]),y=q(function(){return d("WAWebOrderPaymentStatus").findLastOrderPaymentStatusInfo(e.chat,e.orderInfo.referenceId)},[e.chat,e.orderInfo.referenceId]);a=r(x);var z=a[0],A=a[1];a=r((y==null?void 0:y.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured);var B=a[0],C=a[1];p(function(){var a=function(a){return g(a===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"])};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);var D=e.chat,E=e.orderInfo,F=e.sellerJid,G="no_method_confirmed",H=function(){var a;a=(a=(a=E.externalPaymentConfigurations)==null||(a=a.at(0))==null?void 0:a.type)!=null?a:G;new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),hasNote:Boolean(l),orderDetailEntryPoint:String(e.entryPoint),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_MARK_AS_PAID,paymentStatus:!0,paymentType:a}).commit()};function I(a,b,c,e){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),a&&(K(!b,c,e),d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:D,isPaidStateChanged:!0,orderStatus:z,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:B},type:"order_updated"},f)),b&&J(c,e)}function J(a,b){var g=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();g=d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(g));new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),hasCatalog:g,hasNote:Boolean(l),orderDetailEntryPoint:String(e.entryPoint),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_ORDER_STATUS}).commit();d("WAWebBizSendOrderAction").sendOrderStatusMessageAsMerchant({chat:D,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,orderInfo:E,orderNote:l,orderStatus:a,paymentMethod:null,paymentStatus:b?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,sellerJid:F})["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error sending order status in chat"]))).verbose().devConsole(a)});d("WAWebSmbMarkAsXOrderAction").markOrderAsUpdatedStatusAction(D,f,z,B);d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:D,orderStatus:z,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:B},type:"order_updated"},f);d("WAWebCmd").Cmd.openChatFromUnread(D)["catch"](function(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Error opening chat"]))).verbose().devConsole(a)})}function K(a,b,c){d("WAWebBizSendOrderAction").sendOrderPaymentStatusMessageAsMerchant({chat:D,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,orderInfo:E,orderNote:a?l:null,orderStatus:b,paymentMethod:null,paymentStatus:c?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,sellerJid:F})["finally"](function(){H()})}function L(a){return s.findIndex(function(b){return b===a})}function M(){var a=L(z),b=L(x),e=(y==null?void 0:y.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured,f=a!==b,g=e!==B;e=!f&&!g;a=a<b;var i=z,j=B;d("WAWebBizGatingUtils").isOrderStatusM1Enabled()&&(g&&(B?z===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(i=d("WAWebOrderStatus").OrderStatus.PreparingToShip):z===d("WAWebOrderStatus").OrderStatus.PreparingToShip&&(i=d("WAWebOrderStatus").OrderStatus.PaymentRequested)),f&&(B&&z===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(j=!1)));e?d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Status already sent"),okText:c("WAWebFbtCommon")("OK"),onOK:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"You already updated this status to {originalOrderStatus}",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(x))]):h._(/*BTDS*/"You have already updated this order to {originalOrderStatus}",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(x))])})):a?d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Update sent status?"),okText:h._(/*BTDS*/"Update"),onOK:function(){I(g,f,i,j),d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"Cancel"),onCancel:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"You already marked the status as {originalOrderStatus}. Are you sure you want to update it to {orderStatus}?",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(x)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(z))]):h._(/*BTDS*/"Your customer has already seen this order marked as {originalOrderStatus}. Do you want update it to {orderStatus}?",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(x)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(z))])})):I(g,f,i,j)}a=h._(/*BTDS*/"Add a note");var N=function(){C(!B)};return o.jsxs(c("WAWebDrawer.react"),{onDrop:e.onBack,ref:b,children:[o.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Update status"):h._(/*BTDS*/"Update order status"),onBack:e.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),o.jsx(c("WAWebDrawerBody.react"),{children:o.jsxs(c("WAWebDrawerSection.react"),{children:[d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&o.jsxs(o.Fragment,{children:[o.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.horiz16],children:[o.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiPadding.end24,children:o.jsx(c("WDSSwitch.react"),{value:B,onChange:N,testid:void 0})}),o.jsx("div",{children:h._(/*BTDS*/"Paid")})]}),o.jsx(u,{xstyle:d("WAWebUISpacing").uiMargin.bottom16})]}),o.jsx("div",babelHelpers["extends"]({},(m||(m=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert4,d("WAWebUISpacing").uiPadding.horiz16),{children:o.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:t.checkboxContainer,children:s.map(function(a){return o.jsx(c("WAWebOrderDetailRadioButton.react"),{testid:void 0,label:d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(a),isCanceled:a===d("WAWebOrderStatus").OrderStatus.Canceled,checked:z===a,onClick:function(){A(a)}},a)})})})),o.jsx(u,{}),o.jsx("div",babelHelpers["extends"]({},m.props(d("WAWebUISpacing").uiPadding.horiz28),{children:o.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:a,value:l,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:M,onChange:function(a){return n(a.text)}})})),v(e.chat,E.items.length,f,g),o.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiMargin.top8,d("WAWebUISpacing").uiMargin.bottom24],children:o.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:M,children:h._(/*BTDS*/"Send update")})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductDetailsWithDeepLink.react",["fbt","WAFilteredCatch","WANullthrows","WAWebBackendErrors","WAWebCatalogCollection","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFbtCommon","WAWebModalManager","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogGetLatestProduct","WAWebProductCatalogProductDetailsDrawer.react","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useEffect,n=b.useState;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.productInfo,f=e.productId,g=e.businessOwnerJid,j=a.onBack;e=n(function(){return c("WAWebProductCatalogGetLatestProduct")({productId:f,businessOwnerJid:g})});var k=e[0],o=e[1];e=n(function(){return k?"NONE":"PENDING"});var p=e[0],q=e[1],r=function(){j(),d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"This product or service has been removed")}))},s=function(){var a=d("WAWebWidFactory").createWid(g);d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:a,productId:f}).then(function(){var b=d("WAWebCatalogCollection").CatalogCollection.get(a);o(c("WANullthrows")(b).productCollection.get(f));q("SUCCESS")})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){r(),q("ERROR")}))["catch"](function(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){q(a)})})};m(function(){k||s()},[]);return k?l.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{ref:b,chat:a.chat,product:k,onEnd:a.onEnd,onBack:a.onBack,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalog,refreshCarousel:!0,onProductLinkClick:a.onProductLinkClick,onProductMoreInformation:a.onProductMoreInformation,onCartClick:a.onCartClick}):l.jsxs(c("WAWebDrawer.react"),{ref:b,onDrop:a.onBack,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:h._(/*BTDS*/"Details"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:p})})]},"product-details-drawer")}a.displayName=a.name+" [from "+f.id+"]";g.ProductDetailsWithDeepLink=a}),226);
__d("WAWebProductCatalogProductMessageListNoProductModal",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebFbtCommon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.onConfirm;return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:c("WAWebFbtCommon")("OK"),children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._(/*BTDS*/"Items in this message are no longer available")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductMessageList.react",["WAWebDrawerContext","WAWebDrawerManager","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebModalManager","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCatalogListItem.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageListNoProductModal","WAWebSectionHeader.react","WAWebStateUtils","WAWebUISpacing","WAWebUtilsLogQplEvents","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useCallback,m=b.useEffect,n={list:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},o=d("WAWebFlatList.react").FlatListFactory();function p(a){var b=a.item,e=a.onProductDetail,f=l(function(a,b){d("WAWebProductCatalogLogEvents").logCatalogListDetailClick({product:d("WAWebStateUtils").unproxy(a),catalogContext:b});d("WAWebUtilsLogQplEvents").qplStartProductView("PLM");return e(a)},[e]);a=null;switch(b.type){case"section":var g=b.label;a=k.jsx(c("WAWebSectionHeader.react"),{header:g});break;case"product":var h=b.product;a=k.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){return k.jsx(c("WAWebProductCatalogListItem.react"),{product:h,onClick:function(){return f(h,d("WAWebProductCatalogContext").getProductCatalogContext(a))},canManageCatalog:!1})}});break}return a}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.flatListController,e=a.onProductDetail;a=a.productMessageList;var f=a.productCollection.getProductModels(),g=a.getSections(),h=a.getSectionsCount()>0,j=a.getTotalProductsFetchedOrFailed();a=a.getProductSize();var l=a===j&&f.length===0,q=[];g.forEach(function(a,b){var c=a.title;a=a.products;var e=[];a.forEach(function(a){var c=a.productId;a=f.find(function(a){return a.id===c});a!=null&&e.push({itemKey:"section-"+b+"-"+a.id.toString(),product:a,type:"product",height:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})});e.length>0&&(c!=null&&c!==""&&q.push({itemKey:"header-"+b+"-"+c,label:c,type:"section",height:72}),q.push.apply(q,e))});m(function(){l&&d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebProductCatalogProductMessageListNoProductModal"),{onConfirm:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),d("WAWebModalManager").ModalManager.close()}}))},[l]);return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.list,d("WAWebUISpacing").uiPadding.bottom8,!h&&d("WAWebUISpacing").uiMargin.top8),{children:k.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[b],children:k.jsx(o,{flatListController:b,direction:"vertical",forceConsistentRenderCount:!1,data:q,renderItem:function(a){return k.jsx(p,{item:a,onProductDetail:e})},itemEnterAnimationsEnabled:!0})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductMessageListDrawer.react",["WAQplTypes","WATypeUtils","WAWebCartCollection","WAWebCommonCartIconMenuBarItem.react","WAWebContactGetters","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFrontendConstants","WAWebProductCatalogCatalogConstants","WAWebProductCatalogCheckCartEnabled","WAWebProductCatalogContext","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageList.react","WAWebProductMessageListCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","useLazyRef","useWAWebContactValues","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useContext,m=e.useEffect,n=e.useState;function o(a){var b=a.loadingMore,d=a.onProductDetail,e=a.productListFlatListControllerRef,f=a.productMessageList;a=a.productMessageListFetchState;return!f?k.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:a}):k.jsxs("div",{children:[k.jsx(c("WAWebProductCatalogProductMessageList.react"),{productMessageList:f,flatListController:e.current,onProductDetail:d}),b&&k.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=a.productListId,g=a.setScrollOffset,i=a.onCartClick,j=a.onProductDetail,p=a.catalogWid,q=c("useWAWebUnmountSignal")(),r=l(d("WAWebDrawerContext").DrawerContext),s=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),t=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebContactGetters").getId]),u=t[0];t=n(!1);var v=t[0],w=t[1];t=n(0);var x=t[0],y=t[1];t=n(!1);var z=t[0],A=t[1];t=n(function(){return d("WAWebProductMessageListCollection").ProductMessageListCollection.get(f)});var B=t[0],C=t[1];t=n(function(){return d("WAWebCartCollection").CartCollection.findCart(u.toString())});var D=t[0];t=n(D.itemCount);var E=t[0],F=t[1];t=n(!1);var G=t[0],H=t[1];t=n(B?"SUCCESS":"NONE");var I=t[0],J=t[1],K=function(a){var b=a===!0;a=d("WAWebProductMessageListCollection").ProductMessageListCollection.assertGet(f);var c=a.getTotalProductsFetchedOrFailed();a=a.getProductSize();if(z||c===a){b&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:c}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));A(!0);return}w(!0);y(c);a=b?d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW:void 0;d("WAWebProductMessageListCollection").ProductMessageListCollection.update(f,{markerId:a}).then(function(a){if(q.aborted){b&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}w(!1);a=Array.isArray(a)?a[0]:a;a=a.getTotalProductsFetchedOrFailed();a===x&&A(!0);b&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:a}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));c*d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&K()})["catch"](function(){w(!1),A(!0),b&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)})},L=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WAWebProductMessageListCollection").ProductMessageListCollection.find(f));if(q.aborted){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}C(a);J("SUCCESS");K(!0)}catch(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){return J(a)}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)}});return function(){return a.apply(this,arguments)}}();m(function(){B?K():L(),c("WAWebProductCatalogCheckCartEnabled")(u).then(function(a){if(q.aborted)return;H(a);d("WAWebProductCatalogLogEvents").logCatalogListView({catalogOwnerWid:p,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(r),cartToggle:a})})},[]);d("useWAWebListener").useListener(D,"all",function(){F(D.itemCount)});var M=function(a){if(v)return;a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight&&K()};t=function(a){M(a.currentTarget),g==null||g(a.currentTarget.scrollTop)};var N=function(){d("WAWebUtilsLogQplEvents").qplStartCartView("PLM"),i==null||i(u.toString())};G=i!=null&&G?k.jsx(d("WAWebCommonCartIconMenuBarItem.react").CartIconMenuBarItem,{cartCountText:d("WATypeUtils").isNumber(E)&&E>0?E.toString():void 0,onClick:N,catalogOwnerJid:u.toString()}):null;return k.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"products",onDrop:a.onBack,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:k.jsx("div",{className:"x78zum5",children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:B==null?void 0:B.title,ellipsify:!0})}),titleStr:B==null?void 0:B.title,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a.onBack,menu:G}),k.jsx(c("WAWebDrawerBody.react"),{onScroll:t,flatListControllers:[s.current],scrollOffset:a.scrollOffset,children:k.jsx(o,{productMessageList:B,loadingMore:v,productMessageListFetchState:I,onProductDetail:j,productListFlatListControllerRef:s})})]})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="ProductMessageListDrawer";g.ProductMessageListDrawer=a}),98);
__d("WAWebBizProductDetailsFlow.react",["fbt","$InternalEnum","WANullthrows","WATimeUtils","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBizLinkedCatalogErrorPopup.react","WAWebBizShowCartAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCartOrderDetailDrawer.react","WAWebChatThreadLogging","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDBUpdateMessageTable","WAWebDrawerContext","WAWebFbtCommon","WAWebLidMigrationUtils","WAWebModalManager","WAWebMsgCollection","WAWebOrderCollection","WAWebOrderCreationFlowLoadable","WAWebOrderDetailDrawer.react","WAWebOrderDetailProductListDrawer.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderStatusUpdateDrawer.react","WAWebOrdersExpansionUtils","WAWebProductCatalogCatalogLinkDrawer.react","WAWebProductCatalogContext","WAWebProductCatalogLogEvents","WAWebProductCatalogProductDetailsDrawer.react","WAWebProductCatalogProductDetailsWithDeepLink.react","WAWebProductCatalogProductLinkDrawer.react","WAWebProductCatalogProductListDrawer.react","WAWebProductCatalogProductMessageListDrawer.react","WAWebProductCatalogProductMoreInformationDrawer.react","WAWebProductCollectionCatalogViewDrawer.react","WAWebProductCollectionCollectionContentDrawer.react","WAWebProtobufsE2E.pb","WAWebSmbDataSharingOptInModalDialog","WAWebToast.react","WAWebToastManager","WAWebUim","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","err","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var aa=["ref"],i,j;a=j||d("react");var k=i||(i=c("react")),ba=a.useContext,l=a.useEffect,m=a.useState,ca=function(a){if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(a!=null){var b={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.ACCEPTED};void d("WAWebDBUpdateMessageTable").updateMessageTable(a.id,b);a=d("WAWebMsgCollection").MsgCollection.get(a.id);a&&a.set(b)}},n=b("$InternalEnum").Mirrored(["Cart","CartOrderDetail","CatalogCollection","CatalogLink","CatalogView","OrderCreation","OrderDetail","OrderDetailProductList","OrderStatusUpdate","ProductDetails","ProductDetailsFlow","ProductDetailsWithDeepLink","ProductLink","ProductList","ProductMessageList","ProductMoreInformation"]);function o(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,aa);var f=a.catalogOwnerJid,g=a.chat,i=a.collection,j=a.collectionId,p=a.entryPoint,da=a.isAllItems,q=a.onEnd,r=a.orderId,s=a.orderInfo,t=a.orderMessage,u=a.product,v=a.productInfo,w=a.productListId,ea=a.refreshCarousel,x=a.sellerJid,y=a.token,z=a.userIsCartOwner;q=d("useWAWebFlow").useFlow(void 0,{onEnd:q});var fa=q[0],A=q[1];q=m();var B=q[0],C=q[1];q=m();var D=q[0],E=q[1];q=m();var F=q[0],G=q[1];q=m();var ga=q[0],ha=q[1];q=m();var ia=q[0],ja=q[1];q=m();var ka=q[0],la=q[1];q=m();var H=q[0],ma=q[1];q=m();var I=q[0],na=q[1];q=m();var J=q[0],oa=q[1];q=m();var pa=q[0],qa=q[1];q=m();var ra=q[0],sa=q[1];q=m();var ta=q[0],ua=q[1];q=m();var K=q[0],L=q[1];q=m();var M=q[0],va=q[1];q=m(0);var N=q[0];q=q[1];var O=ba(d("WAWebDrawerContext").DrawerContext),wa=function(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a);L(b);C(a);A.push(n.CatalogCollection)},xa=function(a,b){var c=d("WAWebContactCollection").ContactCollection.gadd(b);L(c);C(b);ja(a);A.push(n.ProductMessageList)},P=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a),c=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));L(b);C(a);E(c);d("WAWebBusinessProfileUtils").hasCatalog(c)?A.push(n.CatalogView):A.push(n.ProductList)});return function(b){return a.apply(this,arguments)}}(),Q=function(a,b){a=a.id.equals(d("WAWebUserPrefsMeUser").getMaybeMePnUser());d("WAWebBizLinkedCatalogErrorPopup.react").showConnectedCatalogDisabledPopup(b,a,function(){A.end()})},R=function(b,a){G(b),ma(a),A.push(n.ProductDetails)},S=function(a){ha(a),A.push(n.ProductDetailsWithDeepLink)},T=function(a,b){b===void 0&&(b=null);var e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e)),orderDetailEntryPoint:String(p!=null?p:c("WAWebBizEntryPoint").FROM_CART),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_CREATE_ORDER_DETAILS_FROM_CART}).commit();e=function(){oa(a),qa(function(){return b}),A.push(n.OrderCreation)};c("WAWebSmbDataSharingOptInModalDialog").maybeShowOrderDataSharingDialog(g,e,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.CART)},ya=function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{action:{actionText:c("WAWebFbtCommon")("OK"),dismiss:!0},msg:h._(/*BTDS*/"Something went wrong. Please try again."),id:d("WAWebToast.react").genId()}))},za=function(a){sa(a),A.push(n.CartOrderDetail)},Aa=function(){A.push(n.OrderDetail)};l(function(){d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"isCommerceViewed",chatId:g.id,ts:d("WATimeUtils").unixTime()}])},[]);l(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));E(a)});return function(b){return a.apply(this,arguments)}}();if(f!=null){if(D==null){void a(d("WAWebWidFactory").createWid(f));return}if((D==null?void 0:D.isCatalogDisabledDueToMetaLinking)===!0){Q(D,!1);return}i!=null||da===!0?wa(d("WAWebWidFactory").createWid(f)):w!=null?xa(w,d("WAWebWidFactory").createWid(f)):void P(d("WAWebWidFactory").createWid(f))}else if(u){if(D==null){void a(u.catalogWid);return}if((D==null?void 0:D.isCatalogDisabledDueToMetaLinking)===!0){Q(D,!0);return}R(u,j)}else if(v){if(D==null){void a(d("WAWebWidFactory").createWid(v.businessOwnerJid));return}if(D!=null&&D.isCatalogDisabledDueToMetaLinking){Q(D,!0);return}S(v)}else if(r!=null){if(y!=null&&x!=null&&z!=null){a=c("WAWebWid").equals.apply(c("WAWebWid"),d("WAWebLidMigrationUtils").toCommonAddressingMode(d("WAWebWidFactory").createUserWid(x),d("WAWebUserPrefsMeUser").getMaybeMePnUser()));if(a&&d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled())d("WAWebOrderCollection").OrderCollection.findOrder(r,x,y).then(function(a){T(c("WANullthrows")(a),Fa)})["catch"](function(){ya()});else{a=!1;za(a)}}}else if(s!=null&&x!=null)Aa();else throw c("err")("ProductDetailsFlow:no-product")},[D]);var Ba=function(a){na(a),A.push(n.ProductDetailsFlow)},Ca=function(a){la(a),A.push(n.OrderDetailProductList)},Da=function(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a)),orderDetailEntryPoint:String(p),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_UPDATE_ORDER_STATUS}).commit();s!=null&&x!=null&&A.push(n.OrderStatusUpdate)},Ea=function(){if(r!=null&&y!=null&&x!=null&&z!=null){var a=!0;za(a)}d("WAWebModalManager").ModalManager.close()},Fa=function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onCancel:function(){d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"Do not decline"),onOK:Ea,okText:h._(/*BTDS*/"Decline"),title:h._(/*BTDS*/"Decline this order?"),children:h._(/*BTDS*/"You can include a note with the cancellation message.")}))},U=function(b,a){void R(b,a)},Ga=function(a){G(a),A.push(n.ProductMoreInformation)},Ha=function(a){S(a)},Ia=function(a,b){d("WAWebProductCatalogLogEvents").logCarouselViewMoreClick({catalogContext:b,catalogOwnerWid:a}),void P(a)},Ja=function(a){G(a),A.push(n.ProductLink)},V=function(a,b){ua(a),L(b),A.push(n.CatalogLink)},W=function(a){var b=d("WAWebProductCatalogContext").getProductCatalogContext(O);b=c("WAWebBizShowCartAction")(a,g,b);b&&(va(a),A.push(n.Cart))},X=function(){A.pop()},Y=function(){A.end(d("WAWebUim").DismissReason.LIFECYCLE)};if(A.step==null)return null;var Z;switch(A.step){case n.Cart:var $=d("WAWebProductCatalogContext").getProductCatalogContext(O);M=c("WAWebBizShowCartAction")(c("WANullthrows")(M),g,$);Z=c("WANullthrows")(M);break;case n.CartOrderDetail:Z=k.jsx(c("WAWebCartOrderDetailDrawer.react"),{orderId:c("WANullthrows")(r),token:c("WANullthrows")(y),sellerJid:c("WANullthrows")(x),userIsCartOwner:c("WANullthrows")(z),onProductDetail:Ha,onOrderCreate:T,onOrderCancel:Fa,ownerHasReviewed:Boolean(ra),orderMessage:t,chat:g});break;case n.CatalogCollection:Z=k.jsx(d("WAWebProductCollectionCollectionContentDrawer.react").CollectionContentDrawer,{contact:c("WANullthrows")(K),onProductDetail:U,catalogId:c("WANullthrows")(B),onBack:X,onCatalogLinkClick:V,onCartClick:W,scrollOffset:N,setScrollOffset:q,collection:i});break;case n.CatalogLink:Z=k.jsx(c("WAWebProductCatalogCatalogLinkDrawer.react"),{catalog:c("WANullthrows")(ta),contact:c("WANullthrows")(K),onBack:X});break;case n.CatalogView:Z=k.jsx(c("WAWebProductCollectionCatalogViewDrawer.react"),{contact:c("WANullthrows")(K),onProductDetail:U,catalogId:c("WANullthrows")(B),onBack:X,businessProfile:D,scrollOffset:N,setScrollOffset:q,onCatalogLinkClick:V,onCartClick:W,onCollectionSeeAll:Ba});break;case n.OrderCreation:Z=k.jsx(c("WAWebOrderCreationFlowLoadable"),{entryPoint:p!=null?p:c("WAWebBizEntryPoint").FROM_CART,onBack:X,order:J!=null?J:void 0,chat:g,onDeclineOrder:pa,onSend:function(){return ca(t)}});break;case n.OrderDetail:Z=k.jsx(c("WAWebOrderDetailDrawer.react"),{entryPoint:p,onBack:X,orderInfo:c("WANullthrows")(s),sellerWid:d("WAWebWidFactory").createWid(c("WANullthrows")(x)),chat:g,onProductSummaryClick:Ca,onOrderStatusUpdateClick:Da,interactiveMessage:a.interactiveMessage});break;case n.OrderDetailProductList:Z=k.jsx(c("WAWebOrderDetailProductListDrawer.react"),{onBack:X,productItems:c("WANullthrows")(ka)});break;case n.OrderStatusUpdate:Z=k.jsx(c("WAWebOrderStatusUpdateDrawer.react"),{entryPoint:p,chat:g,onBack:X,orderInfo:c("WANullthrows")(s),sellerJid:c("WANullthrows")(x)});break;case n.ProductDetails:Z=k.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{chat:g,product:c("WANullthrows")(F),onEnd:Y,onBack:X,onProductDetail:U,onProductCatalog:Ia,onProductLinkClick:Ja,onProductMoreInformation:Ga,refreshCarousel:ea,onCartClick:W,collectionId:H!=null?H:void 0});break;case n.ProductDetailsFlow:Z=k.jsx(o,{chat:g,catalogOwnerJid:(M=($=f!=null?f:u==null?void 0:u.catalogWid.toString())!=null?$:v==null?void 0:v.businessOwnerJid)!=null?M:x,collection:I!=null?I:void 0,isAllItems:!I,interactiveMessage:a.interactiveMessage});break;case n.ProductDetailsWithDeepLink:Z=k.jsx(d("WAWebProductCatalogProductDetailsWithDeepLink.react").ProductDetailsWithDeepLink,{chat:g,productInfo:c("WANullthrows")(ga),onEnd:Y,onBack:X,onProductDetail:U,onProductCatalog:Ia,onProductLinkClick:Ja,onProductMoreInformation:Ga,onCartClick:W});break;case n.ProductLink:Z=k.jsx(c("WAWebProductCatalogProductLinkDrawer.react"),{product:c("WANullthrows")(F),onBack:X});break;case n.ProductList:Z=k.jsx(d("WAWebProductCatalogProductListDrawer.react").ProductListDrawer,{contact:c("WANullthrows")(K),onProductDetail:U,catalogId:c("WANullthrows")(B),onBack:X,businessProfile:D,setScrollOffset:q,onCatalogLinkClick:V,onCartClick:W});break;case n.ProductMessageList:Z=k.jsx(d("WAWebProductCatalogProductMessageListDrawer.react").ProductMessageListDrawer,{contact:c("WANullthrows")(K),productListId:c("WANullthrows")(ia),onProductDetail:U,onCartClick:W,onBack:X,onEnd:Y,setScrollOffset:q,catalogWid:c("WANullthrows")(B)});break;case n.ProductMoreInformation:Z=k.jsx(c("WAWebProductCatalogProductMoreInformationDrawer.react"),{product:c("WANullthrows")(F),onBack:X});break}return k.jsx(fa,{ref:e,flow:A,displayName:"ProductDetailsFlow",children:Z})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=o}),226);
__d("WAWebBusinessIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="business";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),k.jsx("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BusinessIcon=a}),98);
__d("WAWebBusinessProfileEdit",["WAWebBizLogQplEvents","WAWebBusinessProfileJob","WAWebMerchantComplianceJob"],(function(a,b,c,d,e,f,g){a=function(a){d("WAWebBizLogQplEvents").qplPointProfileSave("datasource_start");a=d("WAWebBusinessProfileJob").editBusinessProfile(a);a=a.then(function(a){d("WAWebBizLogQplEvents").qplPointProfileSave("datasource_end");return a});return a};b=function(a){return d("WAWebMerchantComplianceJob").setMerchantCompliance(a)};g.editBusinessProfile=a;g.editBusinessCompliance=b}),98);
__d("WAWebBusinessCategoryIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="business-category";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",children:[k.jsx("title",{children:"business-category"}),k.jsx("desc",{children:"Created with Sketch."}),k.jsx("defs",{}),k.jsxs("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[k.jsx("path",{d:"M5.60860827,7.15515467 C4.78378352,7.15515467 4.06206187,6.43343302 4.06206187,5.60860827 C4.06206187,4.78378352 4.78378352,4.06206187 5.60860827,4.06206187 C6.43343302,4.06206187 7.15515467,4.78378352 7.15515467,5.60860827 C7.15515467,6.43343302 6.43343302,7.15515467 5.60860827,7.15515467 M22.0020001,11.897897 L12.7227217,2.61861856 C12.4134124,2.20620619 11.897897,2 11.2792784,2 L4.06206187,2 C2.92792784,2 2,2.92792784 2,4.06206187 L2,11.2792784 C2,11.897897 2.20620619,12.4134124 2.61861856,12.7227217 L11.897897,22.0020001 C12.3103093,22.4144125 12.8258248,22.6206187 13.3413403,22.6206187 C13.9599588,22.6206187 14.4754743,22.4144125 14.7847836,22.0020001 L22.0020001,14.7847836 C22.4144125,14.3723712 22.6206187,13.8568557 22.6206187,13.3413403 C22.6206187,12.7227217 22.4144125,12.2072063 22.0020001,11.897897",id:"Page-1-Copy-2",fill:"currentColor"}),k.jsx("g",{id:"slices",transform:"translate(0.000000, -234.000000)"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BusinessCategoryIcon=a}),98);
__d("WAWebBusinessEmailIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="business-email";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",children:[k.jsx("title",{children:"business-email"}),k.jsx("desc",{children:"Created with Sketch."}),k.jsx("defs",{}),k.jsxs("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[k.jsx("path",{d:"M20.9169216,8.25409863 L12.2871787,13.5717219 L3.65743574,8.25409863 L3.65743574,6.12704932 L12.2871787,11.4446726 L20.9169216,6.12704932 L20.9169216,8.25409863 Z M20.9169216,4 L3.65743574,4 C2.47084608,4 1.51078718,4.95717219 1.51078718,6.12704932 L1.5,18.8893452 C1.5,20.0592223 2.47084608,21.0163945 3.65743574,21.0163945 L20.9169216,21.0163945 C22.1035113,21.0163945 23.0743574,20.0592223 23.0743574,18.8893452 L23.0743574,6.12704932 C23.0743574,4.95717219 22.1035113,4 20.9169216,4 L20.9169216,4 Z",fill:"currentColor"}),k.jsx("g",{id:"slices",transform:"translate(0.000000, -480.000000)"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BusinessEmailIcon=a}),98);
__d("WAWebBusinessHoursUtils",["WAWebBusinessProfileTypes","WAWebSmbUtilsTimeUtils","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h=function(a){return d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a)!==void 0};a=function(a,b){if(a===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS)for(a in b){var c=b[a],e=c.closed;c=c.hours;if(!e)for(e of c){c=e[0];var f=e[1];if(!h(c)||!h(f))return!1}}return!0};b=function(a){var b=a.dayValues,e=a.mode,f=a.note;a=a.timezone;var g={};for(var h in b){var i=b[h],j=i.closed;i=i.hours;if(!j&&d("WAWebBusinessProfileTypes").isBusinessHoursDayName(h)){j={mode:e};e===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&(j.hours=i.map(function(a){var b=a[0];a=a[1];return[d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(b)||0,d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a)||0]}));g[h]=j}}i=c("isStringNullOrEmpty")(a)?Intl.DateTimeFormat().resolvedOptions().timeZone:a;return{businessHours:{config:g,note:f,timezone:i}}};var i=540,j=1080;e=function(){return[d("WAWebSmbUtilsTimeUtils").minutesToTime(i),d("WAWebSmbUtilsTimeUtils").minutesToTime(j)]};g.isValidTime=h;g.isValidBusinessHours=a;g.convertToRawBusinessProfile=b;g.getDefaultHoursPair=e}),98);
__d("WAWebChipButton.react",["WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={container:{position:"x1n2onr6",color:"xq49mwq",backgroundColor:"xlelruc",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",$$css:!0},containerRefreshed:{color:"x1v5yvga",backgroundColor:"x4wrhlh",$$css:!0},icon:{display:"x1rg5ohu",position:"x10l6tqk",right:"x4a824z",insetInlineStart:null,insetInlineEnd:null,top:"x1jzctok",$$css:!0},iconSvg:{color:"xq49mwq",$$css:!0},iconSvgRefreshed:{color:"x1v5yvga",$$css:!0},prefixIcon:{left:"x1rvfpmx",insetInlineStart:null,insetInlineEnd:null,$$css:!0},paddedSvg:{paddingTop:"x4p5aij",paddingInlineEnd:"x1ccui7m",paddingBottom:"x1j85h84",paddingInlineStart:"x18pi947",$$css:!0}};function a(a){var b=a.onClick,e=a.label,f=a.PrefixIcon,g=a.PostfixIcon,h=a.xstyle,k=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),l=a.iconTheme==="padded-svg",m=[j.iconSvg,k&&j.iconSvgRefreshed,l?j.paddedSvg:d("WAWebUISpacing").uiPadding.all4];l={width:l?20:16,height:l?20:16};return i.jsxs(c("WAWebUnstyledButton.react"),{xstyle:[j.container,k&&j.containerRefreshed,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.horiz12,f!=null&&d("WAWebUISpacing").uiPadding.start36,g!=null&&d("WAWebUISpacing").uiPadding.end36,h],onClick:b,"aria-label":a["aria-label"],children:[f&&i.jsx(f,babelHelpers["extends"]({xstyle:[j.icon,j.prefixIcon,d("WAWebUISpacing").uiMargin.start5],iconXstyle:m},l)),i.jsx("div",{className:"x1rg5ohu",children:e}),g&&i.jsx(g,babelHelpers["extends"]({xstyle:[j.icon,d("WAWebUISpacing").uiMargin.start5],iconXstyle:m},l))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBusinessHoursDayEdit.react",["fbt","$InternalEnum","WAWebBusinessHoursUtils","WAWebBusinessProfileTypes","WAWebCheckBox.react","WAWebChipButton.react","WAWebRichTextField.react","WAWebSmbUtilsTimeUtils","WAWebStatusClockIcon.react","WAWebSvgButton.react","WAWebUISpacing","WAWebXAltIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={dayInfo:{flexGrow:"x1iyjqo2",$$css:!0},hoursAnd:{color:"x16zc8z2",$$css:!0},timeWrapper:{display:"x1rg5ohu",$$css:!0}},m=b("$InternalEnum").Mirrored(["START","END"]),n=2,o=" ",p=function(a){a=a.dayKey;return a+"_business_hours"};function q(a){var b=a.day;a=a.onChange;var e=b.closed;b=p(b);return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert20,d("WAWebUISpacing").uiPadding.horiz24),{children:k.jsx(d("WAWebCheckBox.react").CheckBox,{id:b,checked:!e,onChange:a})}))}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.onClick;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.timeWrapper,d("WAWebUISpacing").uiMargin.start20]),{children:k.jsx(c("WAWebSvgButton.react"),{title:h._(/*BTDS*/"Remove"),"aria-label":h._(/*BTDS*/"Remove"),Icon:d("WAWebXAltIcon.react").XAltIcon,onClick:a})}))}r.displayName=r.name+" [from "+f.id+"]";function s(a){a=a.onClick;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.timeWrapper,d("WAWebUISpacing").uiMargin.start20]),{children:k.jsx(c("WAWebChipButton.react"),{"aria-label":h._(/*BTDS*/"Add additional hours"),label:h._(/*BTDS*/"Add set of hours"),onClick:a,PrefixIcon:d("WAWebStatusClockIcon.react").StatusClockIcon,iconTheme:"padded-svg"})}))}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.isFirst,e=a.onBlur,f=a.onChange;a=a.value;var g=d("WAWebBusinessHoursUtils").isValidTime(a)?null:o;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.timeWrapper,d("WAWebUISpacing").uiMargin.start20,b===!0&&d("WAWebUISpacing").uiMargin.start0]),{children:k.jsx(d("WAWebRichTextField.react").RichTextField,{managed:!0,value:a,theme:"small",maxLength:15,customStyleThemes:["desaturated","noErrorInfo"],error:g,onChange:function(a){a=a.text;f(a)},onBlur:e})}))}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.hours,e=a.onHoursChange,f=function(a,c,d){var e=[].concat(b);d=d===m.START?0:1;var f=[].concat(e[c]);f[d]=a;e[c]=f;return e},g=function(a,c){var e=[].concat(b),f=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a[0]);a=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a[1]);e[c]=[f!==void 0?d("WAWebSmbUtilsTimeUtils").minutesToTime(f):e[c][0],a!==void 0?d("WAWebSmbUtilsTimeUtils").minutesToTime(a):e[c][1]];return e},i=function(a,c){var e=[].concat(b),f=[].concat(e[a]),h=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(f[0]),i=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(f[1]);if(h!==void 0&&i!==void 0&&h>i){h=c===m.START?0:1;i=c===m.START?1:0;f[i]=f[h]}e[a]=f;return g(e[a],a)},o=function(){return[].concat(b,[d("WAWebBusinessHoursUtils").getDefaultHoursPair()])},p=function(){return b.slice(0,-1)},q=[];a=b.length>=n?k.jsx(r,{onClick:function(){e(p())}}):k.jsx(s,{onClick:function(){e(o())}});b.forEach(function(a,b){var g=a[0];a=a[1];b>0&&q.push(k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.hoursAnd,d("WAWebUISpacing").uiMargin.horiz20),{children:h._(/*BTDS*/"and")}),"AND-"+b));q.push(k.jsx(t,{value:g,onChange:function(a){e(f(a,b,m.START))},onBlur:function(){var a=i(b,m.START);a&&e(a)},isFirst:!0},m.START+"-"+b),k.jsx(t,{value:a,onChange:function(a){e(f(a,b,m.END))},onBlur:function(){var a=i(b,m.END);a&&e(a)}},m.END+"-"+b))});return k.jsxs("div",{className:"x6s0dn4 x78zum5",children:[q,a]})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.textContent;return k.jsx("div",{className:"x16cd2qt",children:a})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.day,c=a.mode;a=a.onHoursChange;var e=b.closed;b=b.hours;if(e)return k.jsx(v,{textContent:h._(/*BTDS*/"Closed")});if(c===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.APPOINTMENT_ONLY)return k.jsx(v,{textContent:h._(/*BTDS*/"By appointment only")});if(c===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.OPEN_24H)return k.jsx(v,{textContent:h._(/*BTDS*/"Open 24 hours")});return d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&!e?k.jsx(u,{hours:b,onHoursChange:a}):null}w.displayName=w.name+" [from "+f.id+"]";function a(a){var b=a.day,e=a.mode,f=a.updateDayValue,g=b.closed;a=b.dayKey;var h=b.dayName,i=p(b);return k.jsxs("div",{className:"x78zum5",children:[k.jsx(q,{day:b,onChange:function(){f({closed:!g})}}),k.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.dayInfo,d("WAWebUISpacing").uiPadding.vert13),{children:[k.jsx("label",{htmlFor:i,children:h}),k.jsx(w,{day:b,mode:e,onHoursChange:function(a){f({hours:a})}})]}))]},"day-"+a)}a.displayName=a.name+" [from "+f.id+"]";g.DayEdit=a}),226);
__d("WAWebBusinessHours",["fbt","WAWebBusinessHoursDayEdit.react","WAWebBusinessHoursUtils","WAWebBusinessProfileTypes","WAWebModal.react","WAWebSavePopup.react","WAWebTabs.react","WAWebUISpacing","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={editMain:{borderBottomColor:"x1v2jjsl",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",height:"x1jxig9j",overflowY:"x1odjw0f",width:"xvue9z",$$css:!0}};function o(a){var b=a.onSelect;a=a.selectedMode;return l.jsx(c("WAWebTabs.react"),{onSelect:b,selectedId:a,tabConfigs:[{id:d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS,title:h._(/*BTDS*/"Selected hours")},{id:d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.OPEN_24H,title:h._(/*BTDS*/"Always open")},{id:d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.APPOINTMENT_ONLY,title:h._(/*BTDS*/"By appointment")}]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.days,e=a.daysOrder,f=a.onDayValuesChange,g=a.onModeChange,h=a.selectedMode,i=function(a,c){var d,e=b[a];a=babelHelpers["extends"]({},b,(d={},d[a]=babelHelpers["extends"]({},e,c),d));f(a)};return l.jsxs("div",{children:[l.jsx(o,{selectedMode:h,onSelect:g}),l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(n.editMain,d("WAWebUISpacing").uiPadding.all6),{children:e.map(function(a){var c=b[a];return l.jsx(d("WAWebBusinessHoursDayEdit.react").DayEdit,{day:c,mode:h,updateDayValue:function(b){return i(a,b)}},a)})}))]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.businessHours,f=e.days,g=e.note,i=e.timezone;e=m(a.businessHours.mode||d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS);var j=e[0];e=e[1];var k=m(function(){var a={};for(var b of f){var c=b.closed,e=b.dayKey,g=b.dayName,h=b.hours;a[e]={closed:c,dayKey:e,dayName:g,hours:h||[d("WAWebBusinessHoursUtils").getDefaultHoursPair()]}}return a}),n=k[0];k=k[1];var o=f.map(function(a){return a.dayKey});return l.jsx(c("WAWebSavePopup.react"),{title:h._(/*BTDS*/"Edit business hours"),modalConfig:{type:d("WAWebModal.react").ModalTheme.BusinessHours},isValid:d("WAWebBusinessHoursUtils").isValidBusinessHours(j,n),doSave:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebUtilsLogQplEvents").qplStartProfileSave("bizHours"),yield a.saveBusinessProfile(d("WAWebBusinessHoursUtils").convertToRawBusinessProfile({dayValues:n,mode:j,note:g,timezone:i}))}),afterSave:a.afterSave,onCancel:a.onCancel,children:l.jsx(p,{selectedMode:j,onModeChange:e,days:n,onDayValuesChange:k,daysOrder:o})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBusinessProfilePhoneSection.react",["fbt","WAWebBusinessProfileIconSection.react","WAWebCallRefreshedIcon.react","WAWebCopyPasteSelectable.react","WAWebFlex.react","WAWebPhoneIcon.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWidFormat","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.isProfileLocked;a=a===void 0?!1:a;return j.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebCallRefreshedIcon.react").CallRefreshedIcon:d("WAWebPhoneIcon.react").PhoneIcon,type:"container",disabled:a,content:j.jsxs("div",{children:[j.jsx(d("WAWebCopyPasteSelectable.react").SelectableDiv,{selectable:!0,children:d("WAWebWidFormat").widToFormattedUser(d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow())}),a===!0?null:j.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top20,className:"x1grh1yo x1pg5gke x37zpob",children:h._(/*BTDS*/"Name and phone number will be visible to your WhatsApp customers and can be edited from the app on your mobile device.")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebChipSelectorFooter.react",["fbt","WAWebChipButton.react","WAWebFlex.react","WAWebL10N","WAWebRoundXInvIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={chip:{marginTop:"x1380le5",marginInlineEnd:"xqf2s3x",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0}};function a(a){var b=c("WAWebL10N").isRTL();return j.jsx("div",{className:"x1xrf6ya xcldk2z xa0aww2 x1phvje8 x178xt8z x13fuv20 x1nfbk4f",children:j.jsx(d("WAWebFlex.react").FlexRow,{align:"start",justify:"start",wrap:"wrap",children:a.categories.map(function(e){var f=function(){return a.onRemoveItem(e.id)};return j.jsx(c("WAWebChipButton.react"),{"aria-label":h._(/*BTDS*/"Unselect category"),onClick:f,label:e.localized_display_name,PostfixIcon:b?void 0:d("WAWebRoundXInvIcon.react").RoundXInvIcon,PrefixIcon:b?d("WAWebRoundXInvIcon.react").RoundXInvIcon:void 0,xstyle:k.chip},e.id.toString())})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCategories",["fbt","WAQplTypes","WAWebBusinessCategoriesResultModel","WAWebBusinessProfileModel","WAWebChatListSearch.react","WAWebCheckBox.react","WAWebChipSelectorFooter.react","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFlex.react","WAWebModal.react","WAWebSavePopup.react","WAWebSpinner.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useMemo,o=e.useState,p={editMain:{height:"x15om8nw",width:"xvue9z",$$css:!0},loadingSpinner:{height:"x5yr21d",$$css:!0},rowLabel:{cursor:"x1ypdohk",flexBasis:"x1t1x2f9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},rowLabelDisabled:{color:"x54l9or",$$css:!0},rowMain:{fontSize:"x1jchvi3",$$css:!0}},q=d("WAWebFlatList.react").FlatListFactory(),r=48;function a(a){var e=a.afterSave,f=a.initialCategories,g=a.onCancel,i=a.saveBusinessProfile,j=a.searchCategories;a=o(f);var k=a[0],n=a[1];f=o(!1);var q=f[0],r=f[1];a=o(!1);var s=a[0],t=a[1];f=o([]);var v=f[0],w=f[1];a=o("");var x=a[0],y=a[1],z=function(){d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"You cannot select categories when you have selected \"Not a business\"")}))},A=function(a){for(var b=0;b<k.length;b++)if(k[b].id===a)return!0;return!1};f=function(a){return a.not_a_biz!==!0&&!A(a.id)&&k.length>=d("WAWebBusinessProfileModel").MAX_BUSINESS_CATEGORIES};var B=function(a){var b=k.find(function(a){return a.id===x}),c=k;k.length>0&&(a.not_a_biz===!0&&!b?(c=[],z()):a.not_a_biz!==!0&&b&&(c=k.filter(function(a){return a.id!==b.id}),z()));A(a.id)?n(c.filter(function(b){return b.id!==a.id})):n([].concat(c,[a]))};a=function(a){var b=k.filter(function(b){return b.id===a})[0];if(!b)return;B(b)};var C=function(a){var b=v.filter(function(b){return b.id===a})[0];if(!b)return;B(b)},D=function(a){t(!0),j(a||d("WAWebBusinessCategoriesResultModel").BUSINESS_CATEGORY_EMPTY_STR_ID).then(function(b){var c=b.categories;a!==""&&(c=c.filter(function(a){return!a.not_a_biz}));t(!1);w(c);y(b.notABizId);d("WAWebUtilsLogQplEvents").qplAnnotateProfileCatsView(c.length);d("WAWebUtilsLogQplEvents").qplEndProfileCatsView(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Something went wrong.")})),t(!1),w([]),y(""),d("WAWebUtilsLogQplEvents").qplEndProfileCatsView(d("WAQplTypes").QuickLogActionType.FAIL)})};m(function(){D("")},[]);var E=function(a){!s&&!q&&(d("WAWebUtilsLogQplEvents").qplStartProfileCatsView("Search"),D(a))};return l.jsxs(c("WAWebSavePopup.react"),{title:h._(/*BTDS*/"Choose up to three categories"),modalConfig:{type:d("WAWebModal.react").ModalTheme.BusinessCategories},isValid:k.length>0,doSave:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebUtilsLogQplEvents").qplStartProfileSave("categories"),yield i({categories:k})}),afterSave:function(){r(!0),e()},onCancel:function(){r(!0),g()},children:[l.jsx("div",{className:"x1bmpntp xvue9z",children:l.jsx(d("WAWebChatListSearch.react").ListSearch,{onSearch:E,placeholder:h._(/*BTDS*/"Search categories")})}),l.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[p.editMain,d("WAWebUISpacing").uiPadding.all6],children:[l.jsx("div",{className:"x1iyjqo2 x1odjw0f xvue9z",children:l.jsx(u,{isLoading:s,results:v,isSelected:A,isDisabled:f,toggleResultById:C})}),k&&l.jsx(c("WAWebChipSelectorFooter.react"),{categories:k,onRemoveItem:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";function s(a){var b=a.category,e=a.toggleResultById;a=function(){b.disabled||e(b.id)};return l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:p.rowMain,children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert18,d("WAWebUISpacing").uiPadding.horiz24),{children:l.jsx(d("WAWebCheckBox.react").CheckBox,{id:""+b.id,onChange:a,checked:b.selected,disabled:b.disabled})})),l.jsx("label",babelHelpers["extends"]({"data-testid":void 0},j.props(p.rowLabel,d("WAWebUISpacing").uiPadding.vert13,b.disabled&&p.rowLabelDisabled),{htmlFor:b.id,children:b.localized_display_name}))]})}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.label;return l.jsxs("div",{className:"x1jchvi3",children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert18,d("WAWebUISpacing").uiPadding.horiz24))),a]})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.isDisabled,e=a.isLoading,f=a.isSelected,g=a.results,i=a.toggleResultById;a=n(function(){return new(c("WAWebFlatListController"))()},[]);if(e)return l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[p.loadingSpinner,d("WAWebUISpacing").uiPadding.all0],children:l.jsx(d("WAWebSpinner.react").Spinner,{color:"highlight",size:44,stroke:6})});if(!g||g.length===0)return l.jsx(t,{label:h._(/*BTDS*/"No categories found")});e=g.map(function(a){return babelHelpers["extends"]({},a,{disabled:b(a),id:a.id,itemKey:a.id.toString(),selected:f(a.id)})});return l.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a],children:l.jsx(q,{data:e,flatListController:a,direction:"vertical",renderItem:function(a){return l.jsx(s,{category:a,toggleResultById:i})},defaultItemHeight:r})})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCategoryRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="category-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M7.425 9.47505L11.15 3.40005C11.25 3.23338 11.375 3.11255 11.525 3.03755C11.675 2.96255 11.8333 2.92505 12 2.92505C12.1667 2.92505 12.325 2.96255 12.475 3.03755C12.625 3.11255 12.75 3.23338 12.85 3.40005L16.575 9.47505C16.675 9.64172 16.725 9.81672 16.725 10C16.725 10.1834 16.6833 10.35 16.6 10.5C16.5167 10.65 16.4 10.7709 16.25 10.8625C16.1 10.9542 15.925 11 15.725 11H8.275C8.075 11 7.9 10.9542 7.75 10.8625C7.6 10.7709 7.48333 10.65 7.4 10.5C7.31667 10.35 7.275 10.1834 7.275 10C7.275 9.81672 7.325 9.64172 7.425 9.47505ZM17.5 22C16.25 22 15.1875 21.5625 14.3125 20.6875C13.4375 19.8125 13 18.75 13 17.5C13 16.25 13.4375 15.1875 14.3125 14.3125C15.1875 13.4375 16.25 13 17.5 13C18.75 13 19.8125 13.4375 20.6875 14.3125C21.5625 15.1875 22 16.25 22 17.5C22 18.75 21.5625 19.8125 20.6875 20.6875C19.8125 21.5625 18.75 22 17.5 22ZM3 20.5V14.5C3 14.2167 3.09583 13.9792 3.2875 13.7875C3.47917 13.5959 3.71667 13.5 4 13.5H10C10.2833 13.5 10.5208 13.5959 10.7125 13.7875C10.9042 13.9792 11 14.2167 11 14.5V20.5C11 20.7834 10.9042 21.0209 10.7125 21.2125C10.5208 21.4042 10.2833 21.5 10 21.5H4C3.71667 21.5 3.47917 21.4042 3.2875 21.2125C3.09583 21.0209 3 20.7834 3 20.5ZM17.5 20C18.2 20 18.7917 19.7584 19.275 19.275C19.7583 18.7917 20 18.2 20 17.5C20 16.8 19.7583 16.2084 19.275 15.725C18.7917 15.2417 18.2 15 17.5 15C16.8 15 16.2083 15.2417 15.725 15.725C15.2417 16.2084 15 16.8 15 17.5C15 18.2 15.2417 18.7917 15.725 19.275C16.2083 19.7584 16.8 20 17.5 20ZM5 19.5H9V15.5H5V19.5ZM10.05 9.00005H13.95L12 5.85005L10.05 9.00005Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CategoryRefreshedIcon=a}),98);
__d("WAWebEditFormBusinessProfileFormField.react",["WAWebEditFormLogEvents","WAWebEditFormTypes","WAWebRichTextField.react","WAWebUtilsLogQplEvents","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.activeField,c=a.blockFocusOnLock,e=a.disabled,f=a.emojiBtnPosition,g=a.error,h=a.fieldKey,j=a.fieldMetric,k=a.formatForSave,l=a.lowProfile,m=a.maxLength,n=a.onActive,o=a.onCancel,p=a.onChange,q=a.onError,r=a.onSaveBusinessProfile,s=a.originalValue,t=a.placeholder,u=a.rawBusinessProfile,v=a.sessionId,w=a.startActive,x=a.validate;a=a.value;var y=(b==null?void 0:b.fieldKey)===h,z=a==null||a===""?t:void 0;return i.jsx(d("WAWebRichTextField.react").RichTextField,{value:a,editable:(!b||y)&&e!==!0,pending:y&&(b==null?void 0:b.editType)===d("WAWebEditFormTypes").EditType.PENDING,showRemaining:!0,onBeginEdit:function(){v!=null&&d("WAWebEditFormLogEvents").logProfileFieldOpen(j,u,v),n({editType:d("WAWebEditFormTypes").EditType.EDITING,fieldKey:h})},onChange:function(a){a=a.text;return p(a)},onSave:function(){d("WAWebUtilsLogQplEvents").qplStartProfileSave(h),v!=null&&d("WAWebEditFormLogEvents").logProfileFieldSave(j,u,v),n({editType:d("WAWebEditFormTypes").EditType.PENDING,fieldKey:h}),r(k()).then(function(){n()},function(){n()})},onCancel:function(){v!=null&&d("WAWebEditFormLogEvents").logProfileFieldDiscard(j,u,v),p(s),n(),o==null||o()},lockable:!0,lowProfile:l,multiline:!0,inputPlaceholder:z,theme:"text-input",validate:x,onError:q,error:g,testid:void 0,fieldName:t,startActive:w,blockFocusOnLock:c,maxLength:m,emojiBtnPosition:f})}a.displayName=a.name+" [from "+f.id+"]";g.BusinessProfileFormField=a}),98);
__d("WAWebEditFormBusinessAddressField.react",["fbt","WAWebBusinessProfileTypes","WAWebEditFormBusinessProfileFormField.react","WAWebMap.react","WAWebUISpacing","WAWebWamEnumBusinessProfileField","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=96,m=312,n={businessMap:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},overlayHint:{backgroundColor:"x1109wk8",borderTopColor:"x1nfbk4f",borderInlineEndColor:"x8r6oga",borderBottomColor:"xa93pmm",borderInlineStartColor:"xicjxj5",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",color:"x6k43r8",fontSize:"x1f6kntn",textTransform:"xtvhhri",$$css:!0}};function a(a){var b=a.activeField,c=a.businessProfile,e=a.disabled,f=a.error,g=a.lowProfile;g=g===void 0?!0:g;var i=a.onActive,j=a.onCancel,l=a.onChange,m=a.onError,n=a.onSaveBusinessProfile,p=a.rawBusinessProfile,q=a.sessionId,r=a.validate,s=a.value;a=k.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:b,fieldKey:"address",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.ADDRESS,formatForSave:function(){return{address:s}},lowProfile:g,originalValue:c.address,placeholder:h._(/*BTDS*/"Business address"),rawBusinessProfile:p,sessionId:q,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.ADDRESS,value:s,validate:r,error:f,onActive:i,onChange:l,onSaveBusinessProfile:n,onError:m,onCancel:j,disabled:e});g=c.latitude;p=c.longitude;q=g!=null&&p!=null?k.jsx(o,{activeField:b,value:s,latitude:g,longitude:p}):null;return k.jsxs(k.Fragment,{children:[a,q]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.activeField,e=a.latitude,f=a.longitude;a=a.value;b=(b==null?void 0:b.fieldKey)==="address"?k.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy",children:k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(n.overlayHint,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.horiz30),{children:h._(/*BTDS*/"Edit map on mobile")}))}):null;return k.jsxs("div",{style:{height:l},className:(j||(j=c("stylex")))(n.businessMap,d("WAWebUISpacing").uiPadding.vert2,d("WAWebUISpacing").uiMargin.top10),children:[b,k.jsx(c("WAWebMap.react"),{lat:e,lng:f,name:a,width:m,height:l})]})}o.displayName=o.name+" [from "+f.id+"]";g.BusinessAddressField=a}),226);
__d("WAWebEditFormParsers",["WAWebSmbUtils"],(function(a,b,c,d,e,f,g){a=function(a){var b=a.address,c=a.businessHours,e=a.categories,f=a.description,g=a.email,h=a.latitude,i=a.longitude,j=a.memberSinceText,k=a.profileOptions;a=a.website;a=a||[];var l=a[0];a=a[1];return{address:b,categories:e||[],description:f,email:g,hours:d("WAWebSmbUtils").getBusinessHoursForEdit(c),latitude:h,longitude:i,memberSinceText:j,primaryWebsite:l==null?void 0:l.url,profileOptions:k,secondaryWebsite:a==null?void 0:a.url}};g.convertRawBusinessProfile=a}),98);
__d("WAWebMailRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="mail-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V18C22 18.55 21.8042 19.0208 21.4125 19.4125C21.0208 19.8042 20.55 20 20 20H4ZM20 8L12.525 12.675C12.4417 12.725 12.3542 12.7625 12.2625 12.7875C12.1708 12.8125 12.0833 12.825 12 12.825C11.9167 12.825 11.8292 12.8125 11.7375 12.7875C11.6458 12.7625 11.5583 12.725 11.475 12.675L4 8V18H20V8ZM12 11L20 6H4L12 11ZM4 8.25V6.775V6.8V6.7875V8.25Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MailRefreshedIcon=a}),98);
__d("WAWebValidationUtils",["WAWebURLUtils"],(function(a,b,c,d,e,f,g){var h=new RegExp(/^[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/),i=new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i);a=function(a){return a==null||a===""||h.test(a)};b=function(a){return a==null||a===""||c("WAWebURLUtils").URL_REGEX.test(a)};d=function(a){return a==null||a.trim()!==""&&i.test(a.trim())};g.validateEmail=a;g.validateURL=b;g.validateUUID=d}),98);
__d("WAWebEditFormEditFieldsForm.react",["fbt","WAWebAccountBoxIcon.react","WAWebBizBusinessComplianceAddressRequiredModal","WAWebBizComplianceUtil","WAWebBizGatingUtils","WAWebBusinessAddressIcon.react","WAWebBusinessCategoriesResultCollection","WAWebBusinessCategoryIcon.react","WAWebBusinessDescriptionIcon.react","WAWebBusinessEmailIcon.react","WAWebBusinessHours","WAWebBusinessHoursIcon.react","WAWebBusinessProfileIconSection.react","WAWebBusinessProfileModel","WAWebBusinessProfilePhoneSection.react","WAWebBusinessProfileTypes","WAWebBusinessWebsiteIcon.react","WAWebCategories","WAWebCategoryRefreshedIcon.react","WAWebCheckmarkInfoModal.react","WAWebCheckmarkInfoModalLogEvents","WAWebClockRefreshedIcon.react","WAWebConfirmPopup.react","WAWebConnModel","WAWebContactCollection","WAWebContactGetters","WAWebDescriptionRefreshedIcon.react","WAWebDrawerSection.react","WAWebEditFormBusinessAddressField.react","WAWebEditFormBusinessProfileFormField.react","WAWebEditFormLogEvents","WAWebEditFormParsers","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFbtIntlList","WAWebFlex.react","WAWebGlobeRefreshedIcon.react","WAWebLocationRefreshedOutlineIcon.react","WAWebMailRefreshedIcon.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebName.react","WAWebStorefrontIcon.react","WAWebUISpacing","WAWebURLUtils","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebValidationUtils","WAWebWamEnumBusinessProfileField","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useEffect,o=b.useState,p={businessHoursSection:{display:"x78zum5",$$css:!0},infoText:{color:"x1grh1yo",fontSize:"x1pg5gke",lineHeight:"x37zpob",$$css:!0},verifiedNameIcon:{marginTop:"x1kgmq87",$$css:!0}};function q(a){a=a.hours;var b=a.days,e=a.mode;return e==null?null:l.jsx("div",{children:b.map(function(a,b){var f=a.closed,g=a.dayKey,h=a.dayName;a=a.hours;return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(p.businessHoursSection,b!==0&&d("WAWebUISpacing").uiMargin.top28),{"data-testid":void 0,children:[l.jsx("div",{className:"x1r8uery x1ikap7u xs83m0k xn80e1m",children:h}),l.jsx("div",{className:"x1r8uery x1bhwmg6 xs83m0k",children:l.jsx(r,{mode:e,closed:f,hours:a})})]}),g)})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.closed,e=a.hours;a=a.mode;if(b)return h._(/*BTDS*/"Closed");switch(a){case d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return l.jsx(l.Fragment,{children:e&&e.map(function(a,b){var e=a[0];a=a[1];return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(b!==0&&d("WAWebUISpacing").uiMargin.top16),{"data-testid":void 0,children:[e," - ",a]}),b)})});case d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return h._(/*BTDS*/"By appointment only");case d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.OPEN_24H:return h._(/*BTDS*/"Open 24 hours");default:return null}}r.displayName=r.name+" [from "+f.id+"]";function s(a){a=a.categories;return a.length===0?null:l.jsx("div",{"data-testid":void 0,children:c("WAWebFbtIntlList")(a.map(function(a){return a.localized_display_name}),c("WAWebFbtIntlList").CONJUNCTIONS.NONE,c("WAWebFbtIntlList").DELIMITERS.COMMA)})}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.config;return l.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,babelHelpers["extends"]({},a))}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.isRefreshed;var b=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);b=b.pushname;return b==null?null:l.jsx(t,{config:{Icon:a?d("WAWebStorefrontIcon.react").StorefrontIcon:d("WAWebAccountBoxIcon.react").AccountBoxIcon,content:l.jsxs("div",{children:[l.jsx("div",{children:b}),d("WAWebMiscGatingUtils").isBlueLockingEnabled()===!1&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(p.infoText,d("WAWebUISpacing").uiMargin.top24),{children:h._(/*BTDS*/"This name will be visible to your WhatsApp customers and can be edited from the app on your mobile device.")}))]}),theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMargin,xstyle:p.verifiedNameIcon}})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.categories;var b=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);b=b.pushname;var e=d("WAWebContactCollection").ContactCollection.getMeContact(),f=function(){if(!d("WAWebMiscGatingUtils").isBlueEducationEnabled())return;e&&d("WAWebCheckmarkInfoModalLogEvents").logClickProfileBadge(e);d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCheckmarkInfoModal.react"),{}))};if(e!=null){var g=d("WAWebContactGetters").getShowBusinessCheckmarkInChatlist(e);g=l.jsx(d("WAWebName.react").Name,{contact:e,useVerifiedName:!0,showBusinessCheckmark:g,makeCheckmarkClickable:!0,checkmarkLarge:!0,onClick:g&&d("WAWebMiscGatingUtils").isBlueEducationEnabled()?f:null})}else g=b;return l.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"center",align:"center",children:[l.jsx(d("WAWebFlex.react").FlexItem,{paddingBottom:8,xstyle:d("WAWebUISpacing").uiMargin.bottom2,className:"xngnso2 x1o2sk6j",children:g}),l.jsx(d("WAWebFlex.react").FlexItem,{className:"xhgddhk x1jchvi3 x1o2sk6j",children:l.jsx(s,{categories:a})})]})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.isProfileLocked,e=a.isRefreshed;a=a.url;return a==null?null:l.jsx(t,{config:{Icon:e?d("WAWebGlobeRefreshedIcon.react").GlobeRefreshedIcon:d("WAWebBusinessWebsiteIcon.react").BusinessWebsiteIcon,content:l.jsx("div",{className:"x1yn0g08",children:a}),fieldName:h._(/*BTDS*/"Custom URL"),onEdit:b===!1?function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"This URL will be visible to your WhatsApp customers and can be edited from the app on your mobile device.")}))}:void 0,testid:"biz-profile-custom-url-input",xstyle:p.verifiedNameIcon}})}w.displayName=w.name+" [from "+f.id+"]";function x(a){return a!=null&&a!==""}function a(a){var b=a.businessProfile,e=a.isRefreshed,f=a.saveBusinessProfile,g=a.sessionId;a=o();var i=a[0],j=a[1];a=o();var k=a[0],p=a[1];a=o();var r=a[0],y=a[1];a=o();var z=a[0],A=a[1];a=o();var B=a[0],C=a[1];a=o();var D=a[0],E=a[1];a=o();var F=a[0],G=a[1];a=o();var H=a[0],I=a[1];a=o();var J=a[0],K=a[1];a=o(!1);var L=a[0],M=a[1];a=o(!1);var N=a[0],O=a[1],P=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),Q=d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney(P);a=o();var R=a[0];a=a[1];n(function(){var a=d("WAWebEditFormParsers").convertRawBusinessProfile(b);j(a.description);y(a.email);p(a.address);A(a.primaryWebsite);C(a.secondaryWebsite);E(x(a.primaryWebsite)&&!a.secondaryWebsite);O(d("WAWebMiscGatingUtils").isBlueLockingEnabled()&&((a=a.profileOptions)==null?void 0:a.isProfileEditDisabled)===!0)},[b]);n(function(){d("WAWebValidationUtils").validateEmail(r)&&G(null)},[r]);n(function(){d("WAWebValidationUtils").validateURL(z)&&I(null)},[z]);n(function(){d("WAWebValidationUtils").validateURL(B)&&K(null)},[B]);var S=function(){var a=[];x(z)&&a.push(z);x(B)&&a.push(B);return{website:a.map(function(a,b){if(!c("WAWebURLUtils").isHttps(a)&&!c("WAWebURLUtils").isHttp(a)){var d="https://"+a;b===0?A(d):C(d);return{url:d}}return{url:a}})}},T=m(function(){return Q?c("WAWebBizBusinessComplianceAddressRequiredModal")():void 0},[Q]),U=d("WAWebEditFormParsers").convertRawBusinessProfile(b),V;b.customUrlPath!=null&&(V=l.jsx(w,{url:""+d("WAWebBusinessProfileModel").BUSINESS_URL_DOMAIN+b.customUrlPath,isProfileLocked:N===!0,isRefreshed:e}));D=x(B)||!D;var W=N?l.jsx(v,{categories:U.categories}):l.jsx(u,{isRefreshed:e}),X=l.jsx(c("WAWebBusinessProfilePhoneSection.react"),{isProfileLocked:N}),Y=l.jsx(t,{config:{Icon:e?d("WAWebDescriptionRefreshedIcon.react").DescriptionRefreshedIcon:d("WAWebBusinessDescriptionIcon.react").BusinessDescriptionIcon,content:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,fieldKey:"description",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.DESCRIPTION,formatForSave:function(){return{description:i}},lowProfile:!0,originalValue:U.description,placeholder:h._(/*BTDS*/"Business description"),rawBusinessProfile:b,sessionId:g,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.DESCRIPTION,emojiBtnPosition:"side",value:i,onActive:a,onChange:j,onSaveBusinessProfile:f,blockFocusOnLock:!0})}}),Z=l.jsx(t,{config:{Icon:e?d("WAWebCategoryRefreshedIcon.react").CategoryRefreshedIcon:d("WAWebBusinessCategoryIcon.react").BusinessCategoryIcon,content:U.categories.length===0?null:l.jsx(s,{categories:U.categories}),emptyText:h._(/*BTDS*/"Categories"),fieldName:h._(/*BTDS*/"Categories"),onEdit:function(){d("WAWebUtilsLogQplEvents").qplStartProfileCatsView("Profile"),d("WAWebEditFormLogEvents").logProfileFieldOpen(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.CATEGORY,b,g),d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCategories"),{initialCategories:U.categories,saveBusinessProfile:f,searchCategories:function(a){return d("WAWebBusinessCategoriesResultCollection").BusinessCategoriesResultCollection.find(a)},afterSave:function(){return d("WAWebEditFormLogEvents").logProfileFieldSave(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.CATEGORY,b,g)},onCancel:function(){d("WAWebEditFormLogEvents").logProfileFieldDiscard(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.CATEGORY,b,g)}}))},testid:"biz-profile-category-input",type:"container"}});k=l.jsx(t,{config:{Icon:e?d("WAWebLocationRefreshedOutlineIcon.react").LocationRefreshedOutlineIcon:d("WAWebBusinessAddressIcon.react").BusinessAddressIcon,content:l.jsx(d("WAWebEditFormBusinessAddressField.react").BusinessAddressField,{businessProfile:U,activeField:R,rawBusinessProfile:b,sessionId:g,value:k,onActive:a,onChange:p,onSaveBusinessProfile:f,validate:function(a){return d("WAWebBizComplianceUtil").existsField(a,P)},onError:T,disabled:N}),disabled:N}});T=l.jsx(t,{config:{Icon:e?d("WAWebClockRefreshedIcon.react").ClockRefreshedIcon:d("WAWebBusinessHoursIcon.react").BusinessHoursIcon,content:U.hours.mode==null?null:l.jsx(q,{hours:U.hours}),emptyText:h._(/*BTDS*/"Business hours"),fieldName:h._(/*BTDS*/"Business hours"),onEdit:function(){d("WAWebEditFormLogEvents").logProfileFieldOpen(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.HOURS,b,g),d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebBusinessHours"),{businessHours:U.hours,saveBusinessProfile:f,onCancel:function(){d("WAWebEditFormLogEvents").logProfileFieldDiscard(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.HOURS,b,g)},afterSave:function(){return d("WAWebEditFormLogEvents").logProfileFieldSave(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.HOURS,b,g)}}))},testid:"biz-profile-hours-input",type:"container"}});F=l.jsx(t,{config:{Icon:e?d("WAWebMailRefreshedIcon.react").MailRefreshedIcon:d("WAWebBusinessEmailIcon.react").BusinessEmailIcon,content:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,error:F,fieldKey:"email",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.EMAIL,formatForSave:function(){return{email:r}},lowProfile:!1,originalValue:U.email,placeholder:h._(/*BTDS*/"Email address"),rawBusinessProfile:b,sessionId:g,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.EMAIL,validate:function(a){return d("WAWebValidationUtils").validateEmail(a)},value:r,onActive:a,onChange:y,onError:function(){G(h._(/*BTDS*/"Incorrect email address format"))},onSaveBusinessProfile:f,disabled:N}),disabled:N}});e=e?d("WAWebGlobeRefreshedIcon.react").GlobeRefreshedIcon:d("WAWebBusinessWebsiteIcon.react").BusinessWebsiteIcon;H=l.jsx(t,{config:{Icon:e,content:l.jsx("div",{children:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,error:H,fieldKey:"primaryWebsite",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.WEBSITE,formatForSave:S,lowProfile:!1,originalValue:U.primaryWebsite,placeholder:h._(/*BTDS*/"Website"),rawBusinessProfile:b,sessionId:g,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE,validate:d("WAWebValidationUtils").validateURL,value:z,onActive:a,onChange:A,onError:function(){I(h._(/*BTDS*/"URL is incorrect"))},onSaveBusinessProfile:f,disabled:N})}),disabled:N,theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.SmallMargin}});var $;U.primaryWebsite!==void 0&&(D?$=l.jsx(t,{config:{Icon:e,content:l.jsx("div",{children:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,error:J,fieldKey:"secondaryWebsite",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.WEBSITE,formatForSave:S,lowProfile:!1,originalValue:U.secondaryWebsite,placeholder:h._(/*BTDS*/"Website"),rawBusinessProfile:b,sessionId:g,startActive:L,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE,validate:d("WAWebValidationUtils").validateURL,value:B,onActive:a,onChange:C,onError:function(){K(h._(/*BTDS*/"URL is incorrect"))},onSaveBusinessProfile:f,disabled:N})}),disabled:N,theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMargin}}):(!d("WAWebMiscGatingUtils").isBlueLockingEnabled()||!N)&&($=l.jsx(t,{config:{Icon:e,content:l.jsx("div",{children:l.jsx("button",{className:"x1uw8iul x1f6kntn xtvhhri",onClick:function(){E(!1),M(!0)},children:h._(/*BTDS*/"Add another website")})}),theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMargin}})));if(d("WAWebMiscGatingUtils").isBlueLockingEnabled()){if(N){d("WAWebBizGatingUtils").isMetaVerifiedLockedProfileEditingV1Enabled()?D=h._(/*BTDS*/"To make changes to verified business details, log into the WhatsApp mobile app. {=m2}",[h._implicitParam("=m2",l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getBlueFaqUrl(),children:h._(/*BTDS*/"Learn more")}))]):D=h._(/*BTDS*/"Verified business details cannot be edited. {=m2}",[h._implicitParam("=m2",l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getBlueFaqUrl(),children:h._(/*BTDS*/"Learn more")}))]);R=l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top10,className:"x1grh1yo x1nxh6w3 x37zpob",children:l.jsx(d("WAWebFlex.react").FlexItem,{children:D})});J=l.jsxs(l.Fragment,{children:[W,X,k,F,H,$,R,T,Y]})}else J=l.jsxs(l.Fragment,{children:[W,X,Z,k,F,H,$,T,Y]})}else J=l.jsxs(l.Fragment,{children:[W,V,Y,Z,k,T,F,H,$]});return l.jsx(c("WAWebDrawerSection.react"),{theme:"refresh",xstyle:d("WAWebUISpacing").uiPadding.top0,animation:!1,children:J})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEditFormUiErrorUtils",["WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=function(a){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:a,duration:6e3}))};g.showError=a}),98);
__d("WAWebEditForm.react",["fbt","WALogger","WAQplTypes","WAWebBusinessProfileCollection","WAWebBusinessProfileEdit","WAWebButton.react","WAWebDrawerSection.react","WAWebEditFormEditFieldsForm.react","WAWebEditFormLogEvents","WAWebEditFormTypes","WAWebEditFormUiErrorUtils","WAWebFlex.react","WAWebFlexItem.react","WAWebSpinner.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","fbs","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;e=l||d("react");var m=j||(j=c("react")),n=e.useEffect,o=e.useMemo,p=e.useState,q={loadingSpinner:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",$$css:!0},retryButton:{height:"xc9qbxq",$$css:!0}},r=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),b=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);b&&b.markStale();b=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));return b.serialize()});return function(){return a.apply(this,arguments)}}(),s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();a=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.update(a));a=Array.isArray(a)?a[0]:a;return a.serialize()});return function(){return a.apply(this,arguments)}}();function a(a){a=a.isRefreshed;var e=p(d("WAWebEditFormTypes").LoadType.PENDING),f=e[0],g=e[1];e=p();var j=e[0],l=e[1],t=o(function(){return Math.floor(2147483648*Math.random()).toString()},[]),u=function(){g(d("WAWebEditFormTypes").LoadType.PENDING),r().then(function(a){l(a),g(d("WAWebEditFormTypes").LoadType.DONE),d("WAWebEditFormLogEvents").logProfileOpen(a,t)})["catch"](function(){g(d("WAWebEditFormTypes").LoadType.ERROR)})};n(function(){u()},[]);if(f===d("WAWebEditFormTypes").LoadType.PENDING)return m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(q.loadingSpinner,d("WAWebUISpacing").uiPadding.all0),{children:m.jsx(d("WAWebSpinner.react").Spinner,{color:"default",size:24,stroke:6})}));if(f===d("WAWebEditFormTypes").LoadType.ERROR)return m.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"Business information"),theme:"refresh",animation:!1,children:m.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:[m.jsx(c("WAWebFlexItem.react"),{children:h._(/*BTDS*/"Something went wrong")}),m.jsx(c("WAWebFlexItem.react"),{xstyle:[q.retryButton,d("WAWebUISpacing").uiMargin.start16],children:m.jsx(d("WAWebButton.react").Button,{onClick:function(){u()},type:"simplified",children:h._(/*BTDS*/"Retry")})})]})});return f===d("WAWebEditFormTypes").LoadType.DONE&&j?m.jsx(c("WAWebEditFormEditFieldsForm.react"),{isRefreshed:a,sessionId:t,businessProfile:j,saveBusinessProfile:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("WAWebBusinessProfileEdit").editBusinessProfile(a)}catch(a){d("WAWebEditFormUiErrorUtils").showError(c("fbs")._(/*BTDS*/"An error occurred while saving. Please try again.").toString());d("WAWebUtilsLogQplEvents").qplEndProfileSave(d("WAQplTypes").QuickLogActionType.FAIL);d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["business_profile:edit_form save failed"]))).sendLogs("businessProfile edit handled server error - "+a.status);throw a}try{a=(yield s());l(a);d("WAWebUtilsLogQplEvents").qplEndProfileSave(d("WAQplTypes").QuickLogActionType.SUCCESS);return a}catch(a){d("WAWebEditFormUiErrorUtils").showError(c("fbs")._(/*BTDS*/"Something went wrong").toString());d("WAWebUtilsLogQplEvents").qplEndProfileSave(d("WAQplTypes").QuickLogActionType.FAIL);throw a}});return function(b){return a.apply(this,arguments)}}()}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogDrawerSection",["fbt","WAWebBusinessProfileUtils","WAWebCatalogManagementFlowLoadable","WAWebProductCatalogCatalogDrawerSection.react","WAWebShopsLog","WAWebWamEnumCatalogEntryPoint","WAWebWamEnumShopsManagementAction","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function m(a){d("WAWebCatalogManagementFlowLoadable").openCatalogManagementFlow({product:a,entryPoint:d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,isInitialStep:!1})}function a(a){var b=a.animation;b=b===void 0?!0:b;var e=a.businessProfile,f=a.catalog;a=a.openCatalog;var g=a===void 0?m:a;a=d("WAWebBusinessProfileUtils").hasShop(e);var i=!1;l(function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE,{shouldLogJid:!1,isShopsProductPreviewVisible:i})},[i]);return a?null:k.jsx(c("WAWebProductCatalogCatalogDrawerSection.react"),{catalog:f,onProductDetail:g,onProductCatalog:function(){g()},productsToShow:3,catalogEntryLabel:f==null?h._(/*BTDS*/"Add catalog"):h._(/*BTDS*/"View or edit catalog"),showProductPlaceholders:!0,seeMoreOverlay:!0,sectionTheme:"refresh",animation:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGetMeUsernameQueryAction",["WAWebContactCollection","WAWebGetUsernameQueryJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebContactCollection").ContactCollection.getMeContact();if(a==null)throw c("err")("Failed to retrieve self contact");a=(yield d("WAWebGetUsernameQueryJob").getUsernameJob());return a});return h.apply(this,arguments)}g.getMeUsername=a}),98);
__d("WAWebProfileDrawerUsername.react",["fbt","WAWebChevronRightRefreshedIcon.react","WAWebDrawerBlock.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebGetMeUsernameQueryAction","WAWebKeyOutlineIcon.react","WAWebMentionsRefreshedIcon.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WDSFont.react","asyncToGeneratorRuntime","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect,m={mentionIcon:{color:"xhslqc4",$$css:!0},chevronIcon:{color:"xhslqc4",$$css:!0},usernameKeyContainer:{backgroundColor:"x6egj2d",paddingTop:"x4p5aij",paddingInlineEnd:"x1icxu4v",paddingBottom:"x1j85h84",paddingInlineStart:"x25sj25",borderStartStartRadius:"xbrszos",borderStartEndRadius:"xea3l6g",borderEndEndRadius:"x18isctg",borderEndStartRadius:"x2q3nzr",$$css:!0},usernameKeyIcon:{color:"xhslqc4",$$css:!0},createUsernameWithKey:{marginTop:"x1ci5j9l",$$css:!0}};function a(a){a=a.onClick;var b=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();b=d("useWAWebContactValues").useContactValues(b,[d("WAWebFrontendContactGetters").getUsername,d("WAWebFrontendContactGetters").getUsernameKey]);var e=b[0];b=b[1];l(function(){void n()},[]);var f=e!=null&&d("WAWebUsernameGatingUtils").usernameChangeEnabled()||e==null&&d("WAWebUsernameGatingUtils").usernameSupported,g=h._(/*BTDS*/"Create username"),i=h._(/*BTDS*/"Username"),j=b!=null;a=k.jsx(c("WAWebDrawerBlock.react"),{xstyle:j&&d("WAWebUISpacing").uiPadding.bottom30,onClick:f?a:void 0,side:f&&k.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",children:k.jsx(d("WAWebChevronRightRefreshedIcon.react").ChevronRightRefreshedIcon,{xstyle:m.chevronIcon,directional:!0,height:24,width:24})}),children:k.jsxs(d("WAWebFlex.react").FlexRow,{gap:24,align:"center",children:[k.jsx(d("WAWebMentionsRefreshedIcon.react").MentionsRefreshedIcon,{xstyle:m.mentionIcon}),k.jsxs(d("WAWebFlex.react").FlexColumn,{gap:8,xstyle:j&&m.createUsernameWithKey,children:[k.jsx(d("WDSFont.react").WDSTextBody1,{colorName:e!=null?"contentDefault":"contentActionEmphasized",children:e!=null?e:g}),j&&k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",gap:8,xstyle:m.usernameKeyContainer,children:[k.jsx(d("WAWebKeyOutlineIcon.react").KeyOutlineIcon,{xstyle:m.usernameKeyIcon}),k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:b})]})]})]})});return k.jsxs(c("WAWebDrawerSection.react"),{theme:"no-padding",animation:!1,children:[k.jsx(d("WAWebFlex.react").FlexRow,{align:"start",xstyle:d("WAWebUISpacing").uiMargin.start30,children:k.jsx(d("WDSFont.react").WDSTextBody2Emphasized,{colorName:"contentDeemphasized",children:i})}),a]})}a.displayName=a.name+" [from "+f.id+"]";function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebUsernameGatingUtils").usernameSupported()&&(yield d("WAWebGetMeUsernameQueryAction").getMeUsername())});return o.apply(this,arguments)}g["default"]=a}),226);
__d("WAWebEphemeralAboutDurationsUtils",["WATimeUtils","WAWebABProps","WAWebEphemeralConstants","fbs"],(function(a,b,c,d,e,f,g){var h=[(b=d("WATimeUtils")).DAY_SECONDS,3*b.DAY_SECONDS,b.WEEK_SECONDS,2*b.WEEK_SECONDS];function i(a){a=d("WAWebEphemeralConstants").getDurationForString(a,!0);var b=a.duration;a=a.unit;switch(a){case d("WAWebEphemeralConstants").DurationUnit.Seconds:return c("fbs")._(/*BTDS*/"_j{\"*\":\"{duration} seconds\",\"_1\":\"1 second\"}",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Minutes:return c("fbs")._(/*BTDS*/"_j{\"*\":\"{duration} minutes\",\"_1\":\"1 minute\"}",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Hours:return c("fbs")._(/*BTDS*/"_j{\"*\":\"{duration} hours\",\"_1\":\"1 hour\"}",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Days:return c("fbs")._(/*BTDS*/"_j{\"*\":\"{duration} days\",\"_1\":\"1 day\"}",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Weeks:return c("fbs")._(/*BTDS*/"_j{\"*\":\"{duration} weeks\",\"_1\":\"1 week\"}",[c("fbs")._plural(b,"duration")])}}function j(a,b){return{type:b,value:a,label:i(a)}}function a(){var a=h,b=d("WAWebABProps").getABPropConfigValue("text_status_ttl_seconds_allowlist").split(",");b.length!==0&&(a=b.map(function(a){return Number(a)}).filter(function(a){return!Number.isNaN(a)}));b=a.map(function(a){return j(a,"default")});b.sort(function(a,b){a=a.value;b=b.value;return a-b});return b}g.defaultTextStatusEphemeralDuration=b.DAY_SECONDS;g.getTextStatusEphemeralityDurations=a}),226);
__d("WAWebSelect.react",["WAWebDropdownV2.react","WAWebMenuSearch.react","WAWebSelectButton.react","WAWebSelectMenuItem.react","WAWebToArray","react","useMergeRefs"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.Children,m=b.useRef,n=b.useState;function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),f=e.defaultLabel,g=e.customLabel;a=e.children;var i=e.popoverControllerRef,j=e.menuMinWidth,o=e.menuMaxHeight,p=e.ariaRoleDescription,q=e.width,r=e.includeSearchInput,s=e.testid,t=new Map(l.toArray(a).map(function(a){return[a.props.optionId,{optionId:a.props.optionId,label:a.props.primary}]})),u=function(a){var b;g!=null&&(b=g(a));if(b==null&&a!=null&&a.size){a=Array.from(a).map(function(a){a=(a=t.get(a))==null?void 0:a.label;return a!=null?[a,", "]:null}).filter(Boolean).flat().slice(0,-1);b=a.length?a:null}return(a=b!=null?b:f)!=null?a:""};s=m(null);b=c("useMergeRefs")(b,s);var v=d("WAWebToArray").toArray(e.initialSelection),w=n(v),x=w[0],y=w[1];w=n(u(new Set(v)));v=w[0];var z=w[1];w=function(a,b,c){b=u(c);z(b);y(Array.from(c));e.multiselect===!0?e.onChange==null||e.onChange(a,c.has(a),new Set(c)):e.onChange==null||e.onChange(a)};var A=e.multiselect===!0?{multiselect:!0,initialSelection:x}:{multiselect:!1,initialSelection:x[0]};return k.jsx(d("WAWebSelectButton.react").WDSSelectButton,{ref:b,ariaRoleDescription:p,label:v,width:q,testid:void 0,children:k.jsxs(d("WAWebDropdownV2.react").DropdownV2Menu,{target:s,controllerRef:i,position:d("WAWebDropdownV2.react").PopoverPosition.Bottom,alignment:d("WAWebDropdownV2.react").PopoverAlignment.Start,maxHeight:o,minWidth:j!=null?Math.max(j,q):q,initHandling:"click",initialActiveOptionId:x[0],children:[r===!0?k.jsx(d("WAWebMenuSearch.react").MenuSearchInput,{}):null,k.jsx(d("WAWebSelectMenuItem.react").SelectMenuItemGroup,babelHelpers["extends"]({},A,{onSelect:w,children:a}))]})})}a.displayName=a.name+" [from "+f.id+"]";g.Select=a}),98);
__d("WAWebExpandedTextStatusSection.react",["fbt","WAWebButton.react","WAWebContactCollection","WAWebDeleteIcon.react","WAWebDrawerSection.react","WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react","WAWebEmoji","WAWebEmoji.react","WAWebEphemeralAboutDurationsUtils","WAWebFlex.react","WAWebFrontendContactGetters","WAWebRadio.react","WAWebRichTextField.react","WAWebSelect.react","WAWebSelectMenuItem.react","WAWebSvgComponentBase","WAWebText.react","WAWebTextStatusAction","WAWebTextStatusGatingUtils","WAWebTimerIcon.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsMeUser","WAWebXAltIcon.react","WDSIconIcMood.react","asyncToGeneratorRuntime","fbs","react","stylex","useWAWebContactValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useRef,o=e.useState,p=60,q=[{emoji:"\ud83d\udc4b",text:c("fbs")._(/*BTDS*/"Free to talk").toString()},{emoji:"\ud83d\udcbc",text:c("fbs")._(/*BTDS*/"Working").toString()},{emoji:"\ud83c\udf0f",text:c("fbs")._(/*BTDS*/"Traveling").toString()},{emoji:"\ud83e\udd29",text:c("fbs")._(/*BTDS*/"Feeling excited").toString()},{emoji:"\ud83c\udfb6",text:c("fbs")._(/*BTDS*/"Listening to music").toString()}],r={textEmojiContainer:{width:"xh8yej3",$$css:!0},textStatusContainer:{width:"xh8yej3",$$css:!0},deleteColor:{color:"xhslqc4",$$css:!0},moodIcon:{color:"x1v5yvga",$$css:!0}};function s(a){var b=a.emoji,e=a.onSave,f;a=o(!1);var g=a[0],h=a[1];a=n();var i=function(){h(!0)};if(b!=null){b=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(b);b!=null&&(f=l.jsx(c("WAWebEmoji.react"),{emoji:b},"low-res"))}return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end10),{children:[l.jsx("button",{ref:a,onClick:i,children:f?f:l.jsx(c("WDSIconIcMood.react"),{xstyle:r.moodIcon})}),g&&a.current&&l.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").EmojiPanelPopup,{anchor:a.current,onSelect:function(a){e(a),h(!1)},onClose:function(){h(!1)}})]}))}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.onSave;a=a.text;var e={ellipsify:!0,multiline:!0,direction:"auto",inferLinesDirection:!0},f=function(a){b(a)};return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(r.textStatusContainer,d("WAWebUISpacing").uiPadding.horiz10),{children:l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:a!=null?a:"",managed:!0,editable:!0,inputPlaceholder:h._(/*BTDS*/"What are you up to?"),showRemaining:!0,maxLength:p,onChange:function(a){a=a.text;return f(a)},theme:"text-input",fieldName:h._(/*BTDS*/"Status"),lowProfile:!0,emojiTextSettingsInLockMode:e,focusOnMount:!0})}))}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.onSave;a=a.duration;var c=d("WAWebEphemeralAboutDurationsUtils").getTextStatusEphemeralityDurations();return l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.top30,children:[l.jsx(d("WAWebTimerIcon.react").TimerIcon,{height:24,width:24,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL_LIGHTER,xstyle:d("WAWebUISpacing").uiPadding.end10}),l.jsx(d("WAWebSelect.react").Select,{width:180,defaultLabel:h._(/*BTDS*/"Select expiry duration"),initialSelection:a.toString(),onChange:function(a){return b(Number(a))},testid:void 0,children:c.map(function(a){return l.jsx(d("WAWebSelectMenuItem.react").SelectMenuItem,{optionId:""+a.value,primary:a.label.toString()})})})]})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.emoji,e=a.handleDeleteSuggestion,f=a.onSave,g=a.suggestions;a=a.text;var i=function(a,b){return a+" "+b.trim()};b=l.jsx(d("WAWebRadio.react").RadioGroup,{name:"suggestions",theme:d("WAWebRadio.react").RadioWithLabelThemeEnum.NORMAL,checkedValue:i(b!=null?b:"",a!=null?a:""),options:g.map(function(a,b){var g=a.emoji,h=a.text;a=i(g!=null?g:"",h!=null?h:"");var k=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(g!=null?g:"");return{value:a,label:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k!=null?l.jsx(c("WAWebEmoji.react"),{emoji:k},"low-res"):l.jsx(c("WDSIconIcMood.react"),{xstyle:r.moodIcon,height:20,width:20}),l.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.start7),{children:h}))]}),hoverIcon:l.jsx(c("WAWebUnstyledButton.react"),{onClick:function(){return e(b)},children:l.jsx(d("WAWebDeleteIcon.react").DeleteIcon,{iconXstyle:r.deleteColor})}),onChange:function(){return f(g,h)}}})});return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.top30),{children:[l.jsx(d("WAWebText.react").WAWebTextSmall,{xstyle:d("WAWebUISpacing").uiPadding.bottom10,children:h._(/*BTDS*/"Suggestions")}),b]}))}v.displayName=v.name+" [from "+f.id+"]";function a(a){var e=a.onClose,f=c("useWAWebUnmountSignal")();a=o([]);var g=a[0],i=a[1],k=function(a){i(a!=null&&a.length?a:q)};a=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());a=d("useWAWebContactValues").useContactValues(a.id,[d("WAWebFrontendContactGetters").getTextStatusString,d("WAWebFrontendContactGetters").getTextStatusEmoji,d("WAWebFrontendContactGetters").getTextStatusEphemeralDuration]);var n=a[0],p=a[1],w=a[2];a=o(n);var x=a[0],y=a[1];a=o(p);var z=a[0],A=a[1];a=d("WAWebEphemeralAboutDurationsUtils").getTextStatusEphemeralityDurations();a=a.find(function(a){return a.value===w});a=o((a=a==null?void 0:a.value)!=null?a:d("WAWebEphemeralAboutDurationsUtils").defaultTextStatusEphemeralDuration);var B=a[0],C=a[1];m(function(){void b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()||f.aborted)return;var a=(yield d("WAWebTextStatusAction").getSuggestions());if(f.aborted)return;k(a)})()},[f.aborted]);a=o(!1);a[0];a[1];a=function(a){y(a)};var D=function(a){A(a)},E=function(){y(null),A(null)},F=function(a){C(a)},G=function(){return g==null?void 0:g.some(function(a){return a.emoji===z&&a.text===x})},H=function(a,b){A(a),y(b)},I=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(x===n&&z===p&&B===w){e();return}yield d("WAWebTextStatusAction").setMyTextStatus(x,z,B).then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){(Boolean(x)||Boolean(z))&&!G()&&(yield d("WAWebTextStatusAction").setSuggestions([{emoji:z,text:x}].concat(g!=null?g:[])))}));e()});return function(){return a.apply(this,arguments)}}(),J=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null||g==null)return;var b=[].concat(g);b.splice(a,1);try{yield d("WAWebTextStatusAction").setSuggestions(b),k(b)}catch(a){}});return function(b){return a.apply(this,arguments)}}(),K=h._(/*BTDS*/"Status");I=l.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:I,children:h._(/*BTDS*/"Save")},1);var L=l.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"secondary",onClick:e,children:h._(/*BTDS*/"Cancel")},0);L=l.jsxs(d("WAWebButton.react").ButtonGroup,{direction:"horizontal",children:[L,I]});I=l.jsx(c("WAWebUnstyledButton.react"),{"aria-label":h._(/*BTDS*/"Clear text status and emoji"),testid:void 0,onClick:E,children:l.jsx(d("WAWebXAltIcon.react").XAltIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.GRAY})});return l.jsxs(c("WAWebDrawerSection.react"),{title:K,animation:!1,theme:"padding",children:[l.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:r.textEmojiContainer,align:"center",children:[l.jsx(s,{emoji:z,onSave:D}),l.jsx(t,{text:x,onSave:a}),I]}),l.jsx(u,{duration:B,onSave:F}),l.jsx(v,{text:x,emoji:z,suggestions:g,handleDeleteSuggestion:J,onSave:H}),l.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.vert30),children:L})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebTextStatusSection",["fbt","WATimeUtils","WAWebClock","WAWebContactCollection","WAWebDrawerSection.react","WAWebEmoji","WAWebEmoji.react","WAWebExpandedTextStatusSection.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebPencilIcon.react","WAWebText.react","WAWebTextStatusGatingUtils","WAWebTextStatusUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsMeUser","WDSIconIcMood.react","react","stylex","useWAWebContactValues","useWAWebTextStatus"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={editIconUnset:{color:"xhslqc4",fill:"xvt3oi1",$$css:!0},editIconSet:{color:"xhslqc4",fill:"xvt3oi1",$$css:!0},moodIcon:{color:"x1v5yvga",$$css:!0}};function a(){var a=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMePnUserOrThrow()),b=m(!1),e=b[0],f=b[1];c("useWAWebTextStatus")({contact:a});var g,i;b=d("useWAWebContactValues").useContactValues(a.id,[(b=d("WAWebFrontendContactGetters")).getTextStatusString,b.getTextStatusEmoji,b.getTextStatusLastUpdateTime,b.getTextStatusExpiryTs,b.getTextStatusEphemeralDuration]);var k=b[0],o=b[1],p=b[2],q=b[3];b=b[4];var r=d("WAWebTextStatusUtils").hasTextStatusSet(k,o,p,q,b);if(!d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()||!a)return null;if(!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&!r)return null;if(p===d("WAWebTextStatusUtils").TEXT_STATUS_NOT_FETCHED)i=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end5),{children:h._(/*BTDS*/"Loading...")}));else if(!r)g=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end10),{children:l.jsx(c("WDSIconIcMood.react"),{xstyle:n.moodIcon})})),i=l.jsx("div",babelHelpers["extends"]({},j.props(d("WAWebUISpacing").uiPadding.end5),{children:h._(/*BTDS*/"What are you up to?")}));else{if(o!=null){a=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(o);a!=null&&(g=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end7),{children:l.jsx(c("WAWebEmoji.react"),{emoji:a,size:"small"},"low-res")})))}Boolean(k)&&(i=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end5),{children:k})))}o=l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[g,i]});a=h._(/*BTDS*/"Status");k=l.jsx(d("WAWebPencilIcon.react").PencilIcon,{directional:!0,iconXstyle:r?n.editIconSet:n.editIconUnset});r=function(){f(!0)};var s=function(){f(!1)};p=d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&p!==d("WAWebTextStatusUtils").TEXT_STATUS_NOT_FETCHED?l.jsx(c("WAWebUnstyledButton.react"),{"aria-label":h._(/*BTDS*/"Edit button for text status creation"),xstyle:d("WAWebUISpacing").uiMargin.startAuto,testid:void 0,onClick:r,children:k}):null;return e?l.jsx(c("WAWebExpandedTextStatusSection.react"),{onClose:s}):l.jsxs("div",{children:[l.jsx(c("WAWebDrawerSection.react"),{title:a,animation:!1,theme:"padding",children:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",children:o}),p]})}),l.jsxs("div",babelHelpers["extends"]({"data-testid":void 0},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.start30,d("WAWebUISpacing").uiMargin.top4,d("WAWebUISpacing").uiMargin.bottom28,d("WAWebUISpacing").uiMargin.end20),{children:[b!==d("WAWebTextStatusUtils").TEXT_STATUS_DURATION_INFINITE&&q!=null&&l.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:d("WAWebClock").Clock.textStatusExpiryStr(d("WATimeUtils").castToUnixTime(q))}),b===d("WAWebTextStatusUtils").TEXT_STATUS_DURATION_INFINITE&&l.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:h._(/*BTDS*/"Until I change it")})]}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizProfileDrawer.react",["fbt","WAWebBizGatingUtils","WAWebBusinessIcon.react","WAWebBusinessProfileCoverPhoto.react","WAWebBusinessProfileIconSection.react","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCatalogLoadError.react","WAWebCatalogLoadErrorLoadable","WAWebChevronIcon.react","WAWebContactInfoLinkedSocialAccounts.react","WAWebCopyPasteSelectable.react","WAWebDrawerSection.react","WAWebEditForm.react","WAWebFlex.react","WAWebFlexItem.react","WAWebHooksUseSelfCatalogRecovery","WAWebInfoIcon.react","WAWebInfoRefreshedIcon.react","WAWebMiscGatingUtils","WAWebPhoneIcon.react","WAWebProductCatalogDrawerSection","WAWebProductCatalogMetaLinkingGatingUtils","WAWebProfileDrawerUsername.react","WAWebTextStatusGatingUtils","WAWebTextStatusSection","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWidFormat","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k={businessComplianceIconWrapper:{paddingInlineEnd:"x1djn7hi",color:"xq22nx5",$$css:!0},businessComplianceText:{flexGrow:"x1iyjqo2",color:"xzwifym",$$css:!0},businessComplianceRightAltIcon:{color:"xt16idv",$$css:!0}};function l(a){a=a.onTitleClick;return j.jsx(c("WAWebDrawerSection.react"),{title:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[j.jsx(c("WAWebFlexItem.react"),{xstyle:k.businessComplianceIconWrapper,children:j.jsx(d("WAWebBusinessIcon.react").BusinessIcon,{})}),j.jsx(c("WAWebFlexItem.react"),{xstyle:k.businessComplianceText,children:h._(/*BTDS*/"Business details")}),j.jsx(c("WAWebFlexItem.react"),{children:j.jsx(d("WAWebChevronIcon.react").ChevronIcon,{xstyle:k.businessComplianceRightAltIcon,directional:!0,height:21})})]}),theme:"refresh-padding-title",titleOnClick:a,animation:!1})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.contact;a=a.profilePicThumb;b=b.businessProfile?j.jsx(c("WAWebBusinessProfileCoverPhoto.react"),{contact:b,businessProfile:b.businessProfile,editable:!0,profilePicThumb:a}):null;return j.jsx(c("WAWebDrawerSection.react"),{theme:"padding-no-margin",animation:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.contact;return!d("WAWebBizGatingUtils").bizLinkedAccountsEnabled()||!a.businessProfile?null:j.jsx(c("WAWebContactInfoLinkedSocialAccounts.react"),{businessProfile:a.businessProfile,sectionTheme:"refresh-padding-title",showEditHint:!0})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.businessProfile,e=a.catalogResult;a=a.openCatalogDetailsForm;var f=d("WAWebHooksUseSelfCatalogRecovery").useCatalogRecovery();function g(){d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").goToCommerceManager(b)}var i=d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").hasShop(b)&&d("WAWebBusinessProfileUtils").isShopBanned(b);if(i)return j.jsx(c("WAWebDrawerSection.react"),{theme:"padding-large",animation:!1,children:j.jsxs("div",{className:"x2b8uid",children:[j.jsx("div",{className:"x1sgpng x14z9mp x91k8ka x1lziwak x1pg5gke x37zpob x1grh1yo",children:h._(/*BTDS*/"This shop has been disabled for not complying with our Business or Commerce policies.")}),j.jsx(d("WAWebButton.react").Button,{type:"primary",onClick:g,children:h._(/*BTDS*/"Commerce Manager")})]})});if(f)return j.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"Products"),theme:"refresh",animation:!0,children:j.jsx(d("WAWebCatalogLoadError.react").CatalogLoadError,{ctaDisplayType:d("WAWebCatalogLoadErrorLoadable").CTADisplayType.BUTTON})});return(e==null?void 0:e.catalogError)===!0?j.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"Products"),theme:"refresh",animation:!0,children:j.jsx(d("WAWebCatalogLoadError.react").CatalogLoadError,{ctaDisplayType:d("WAWebCatalogLoadErrorLoadable").CTADisplayType.NONE,shouldShowHeader:!1})}):j.jsx(c("WAWebProductCatalogDrawerSection"),{businessProfile:b,catalog:e==null?void 0:e.catalog,openCatalog:a,animation:!1})}n.displayName=n.name+" [from "+f.id+"]";function b(a){return d("WAWebMiscGatingUtils").isBlueLockingEnabled()?j.jsx(q,babelHelpers["extends"]({},a)):j.jsx(p,babelHelpers["extends"]({},a))}b.displayName=b.name+" [from "+f.id+"]";function o(a){if(d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(a.businessProfile))return!1;return d("WAWebProductCatalogMetaLinkingGatingUtils").shouldDisableCatalogDueToMetaLinkingForSelf()?!1:!0}function p(a){var b=a.contact,e=a.openMerchantDetailsForm,f=a.businessProfile,g=a.openCatalogDetailsForm,i=a.catalogResult,k=a.aboutInput,p=a.openCreateUsernameDrawer,q=a.openEditUsernameDrawer;a=a.isRefreshed;k=j.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebInfoIcon.react").InfoIcon,content:k});var r=j.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebPhoneIcon.react").PhoneIcon,type:"container",content:j.jsxs("div",{children:[j.jsx(d("WAWebCopyPasteSelectable.react").SelectableDiv,{className:"xdod15v",selectable:!0,children:d("WAWebWidFormat").widToFormattedUser(d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow())}),j.jsx("div",{className:"x1sgpng x1pg5gke x37zpob x1grh1yo",children:h._(/*BTDS*/"Your phone number can be edited from the app on your mobile device.")})]})});k=d("WAWebMiscGatingUtils").isBlueLockingEnabled()?j.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"About"),theme:"refresh",animation:!1,children:k}):j.jsxs(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"About and phone number"),theme:"refresh",animation:!1,children:[k,r]});r=j.jsx(c("WAWebProfileDrawerUsername.react"),{onClick:(b==null?void 0:b.username)!=null?q:p});return j.jsxs("div",{children:[j.jsx(c("WAWebEditForm.react"),{isRefreshed:a}),d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&j.jsx(c("WAWebTextStatusSection"),{}),d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(b.id)&&j.jsx(l,{onTitleClick:e}),o(b)&&j.jsx(n,{businessProfile:f,openCatalogDetailsForm:g,catalogResult:i}),j.jsx(m,{contact:b}),!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&k,d("WAWebUsernameGatingUtils").usernameSupported()&&r]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.contact,e=a.openMerchantDetailsForm,f=a.businessProfile,g=a.openCatalogDetailsForm,i=a.catalogResult,k=a.aboutInput,p=a.openCreateUsernameDrawer,q=a.openEditUsernameDrawer;a=a.isRefreshed;k=j.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:a?d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon:d("WAWebInfoIcon.react").InfoIcon,content:k});k=j.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"About"),theme:"refresh",animation:!1,children:k});q=j.jsx(c("WAWebProfileDrawerUsername.react"),{onClick:(b==null?void 0:b.username)!=null?q:p});return j.jsxs("div",{children:[j.jsx(c("WAWebEditForm.react"),{isRefreshed:a}),d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&j.jsx(c("WAWebTextStatusSection"),{}),d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(b.id)&&j.jsx(l,{onTitleClick:e}),o(b)&&j.jsx(n,{businessProfile:f,openCatalogDetailsForm:g,catalogResult:i}),j.jsx(m,{contact:b}),!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&k,d("WAWebUsernameGatingUtils").usernameSupported()&&q]})}q.displayName=q.name+" [from "+f.id+"]";g.CoverPhotoDrawerSection=a;g.EditBizProfileEditSection=b}),226);
__d("WAWebBizSendProductModal.react",["fbt","Promise","WAWebBizProductMessageSendQpl","WAWebBlockContactAction","WAWebChatGetters","WAWebCmd","WAWebDrawerManager","WAWebFrontendConstants","WAWebModalManager","WAWebProductCatalogMessage","WAWebSelectModal.react","WAWebServerPropConstants","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(j||(j=d("react"))).useEffect;function a(a){m(function(){d("WAWebCmd").Cmd.closeContextMenu(),d("WAWebCmd").Cmd.closeTooltip()},[]);var c=function(c){var e=a.product;return new(i||(i=b("Promise")))(function(a,b){d("WAWebCmd").Cmd.once("ui_idle",function(){d("WAWebProductCatalogMessage").sendProductMessage(c,e).then(function(){return a()})["catch"](function(a){return b(a)})})})},e=function(e){d("WAWebBizProductMessageSendQpl").qplStartProductSendMessage("Forward",void 0,e.length);var f=e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebChatGetters").getIsUser(a)&&a.contact.isContactBlocked&&(yield d("WAWebBlockContactAction").unblockContact(a.contact));return c(a)});return function(b){return a.apply(this,arguments)}}());d("WAWebBizProductMessageSendQpl").qplEndProductMessageSend((i||(i=b("Promise"))).all(f));d("WAWebModalManager").ModalManager.close();e.length===1&&(d("WAWebCmd").Cmd.openChatFromUnread(e[0]),window.innerWidth<=d("WAWebFrontendConstants").LAYOUT_2COLUMNS_MAX_WIDTH&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight());a.onSend==null||a.onSend()},f=function(){d("WAWebModalManager").ModalManager.close()};return l.jsx(d("WAWebSelectModal.react").SelectModal,{onConfirm:e,maxItems:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,title:h._(/*BTDS*/"Send message to"),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,onCancel:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCameraIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="camera";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M21.317,4.381H10.971L9.078,2.45C8.832,2.199,8.342,1.993,7.989,1.993H4.905 c-0.352,0-0.837,0.211-1.078,0.468L1.201,5.272C0.96,5.529,0.763,6.028,0.763,6.38v1.878c0,0.003-0.002,0.007-0.002,0.01v11.189 c0,1.061,0.86,1.921,1.921,1.921h18.634c1.061,0,1.921-0.86,1.921-1.921V6.302C23.238,5.241,22.378,4.381,21.317,4.381z  M12.076,18.51c-3.08,0-5.577-2.497-5.577-5.577s2.497-5.577,5.577-5.577s5.577,2.497,5.577,5.577 C17.654,16.013,15.157,18.51,12.076,18.51z M12.076,9.004c-2.17,0-3.929,1.759-3.929,3.929s1.759,3.929,3.929,3.929 s3.929-1.759,3.929-3.929C16.004,10.763,14.245,9.004,12.076,9.004z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CameraIcon=a}),98);
__d("WAWebReturnIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="return";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M19.77,11.73c0,1.64-0.5,2.95-1.48,3.89c-1.38,1.32-3.26,1.41-3.75,1.41c-0.07,0-0.11,0-0.12,0l-5.41,0v-2.1 h5.46c0.05,0,1.47,0.04,2.38-0.84c0.55-0.53,0.82-1.32,0.82-2.37c0-1.27-0.33-2.23-0.99-2.84c-0.98-0.92-2.43-0.85-2.44-0.85 l-4.23,0v3.1L4,7.07L10.01,3v2.93h4.16c0.03,0,2.29-0.13,3.95,1.42C19.21,8.38,19.77,9.85,19.77,11.73z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ReturnIcon=a}),98);
__d("WAWebCaptureDrawer.react",["fbt","WAFilteredCatch","WALogger","WANullthrows","WAShiftTimer","WAWebAttachMediaCollection","WAWebBizBotTosUtils","WAWebCameraIcon.react","WAWebCanvasUtils","WAWebComposeBoxUtils","WAWebDataUrlToBlob","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFileUtils","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMediaEditorEnumsThemes","WAWebMediaEditorForChatLoadable.react","WAWebMediaOpaqueData","WAWebMiscErrors","WAWebModalManager","WAWebNoop","WAWebObjectFit.react","WAWebReturnIcon.react","WAWebRound.react","WAWebSpinner.react","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","WAWebVideo.react","WAWebWamEnumMediaPickerOriginType","WAWebWamMediaPickerStatsLogger","asyncToGeneratorRuntime","react","useLazyRef","useWAWebStableCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m=["ref"],n,o;e=o||d("react");var p=n||(n=c("react")),q=e.useEffect,r=e.useImperativeHandle,s=e.useRef,t=e.useState,u={retakeBtn:{display:"x78zum5",alignItems:"x6s0dn4",cursor:"x1ypdohk",$$css:!0},videoContainer:{zIndex:"xhtitgo",width:"xh8yej3",height:"x5yr21d",$$css:!0}},v="CAPTURE_MEDIA",w={ANIMATING:"ANIMATING",LOADING:"LOADING",RECORDING:"RECORDING",SENDING:"SENDING"},x=function(a){if(a.current==null)return;window.URL.revokeObjectURL(a.current);a.current=null};function a(a){var e=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,m),g=f.chat,n=f.disposeStream,o=f.onCaptured,y=f.onBack,z=f.onSend;a=h._(/*BTDS*/"Take photo");var A=s(null),B=s(null),C=s(null),D=s(null),E=t(void 0),F=E[0],G=E[1];E=t(void 0);var H=E[0],I=E[1];E=t(w.ANIMATING);var J=E[0],K=E[1];E=t(void 0);var L=E[0],M=E[1],N=c("useWAWebStableCallback")(function(a,b){if(!a){J===w.ANIMATING&&K(w.LOADING);return}B.current==null||B.current();B.current=b;K(w.LOADING);M(a);d("WAWebMediaCapture").isSrcObjectInVideoElement()||(a?(x(C),C.current=window.URL.createObjectURL(a)):x(C))}),O=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(a){var b=a.stream;a=a.disposeStream;N(b,a)})}),P=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(a){var b=a.stream;a=a.disposeStream;b&&a&&(B.current==null||B.current());d("WAWebMediaCapture").isSrcObjectInVideoElement()||x(C)})}),Q=function(){g&&g.setAttachMediaContents(null)},R=c("useWAWebUnmountSignal")();q(function(){O.current.onOrBefore(300,{stream:f.stream,disposeStream:f.disposeStream});return function(){O.current.cancel(),x(C),n==null||n(),A.current&&A.current.logCancel(),Q()}},[]);var S=function(a,b){O.current.forceRunNow({stream:a,disposeStream:b})};r(e,function(){return{loadNewStreamTimerUpdate:S,loadNewStream:N}});E=function(){var a;a=(a=D.current)==null?void 0:a.underlyingVideo();if(!a)return;var b=document.createElement("canvas");b.height=a.videoHeight;b.width=a.videoWidth;var e=b.getContext("2d");if(!e){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["CaptureDrawer:onCapture can not get 2d context"])));return}e.translate(b.width,0);e.scale(-1,1);e.drawImage(a,0,0,a.videoWidth,a.videoHeight);if(o)void d("WAWebCanvasUtils").canvasToBlob(b).then(function(a){if(R.aborted)return;o(a)});else{P.current.onOrBefore(500,{stream:L,disposeStream:n});e=new(d("WAWebWamMediaPickerStatsLogger").MediaPickerStatsLogger)();e.logAdd(v,"image",d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE);e.chatRecipients=g!=null&&g.groupMetadata?g.groupMetadata.participants.length:1;A.current=e;a=b.toDataURL("image/jpeg");e=d("WAWebDataUrlToBlob").dataURLtoBlob(a);if(g){g.attachMediaContents||g.setAttachMediaContents(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:g.getParticipantCount()}));b=c("WANullthrows")(g.attachMediaContents);b.processAttachmentsForChat([{file:d("WAWebFileUtils").createFile([e],"",{type:"image/jpeg"})}],void 0,g)}G(a);K(w.SENDING);M(void 0)}};e=function(a){K(w.RECORDING),I({width:a.videoWidth,height:a.videoHeight})};var T=function(){K(w.LOADING);Q();var a=d("WAWebMediaCapture").start({type:"camera",featureSurface:d("WAWebGuidePopup.react").FeatureSurface.PHOTO_CAPTURE}),b=a.asyncStream;a=a.disposeStream;B.current=a;b.then(function(a){a&&(d("WAWebMediaCapture").isSrcObjectInVideoElement()||(C.current=window.URL.createObjectURL(a)),M(a))})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){var a;y();d("WAWebModalManager").ModalManager.open(p.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.CAMERA_FAIL,type:a.GuidePopupType.GUIDE_UNBLOCK,featureSurface:a.FeatureSurface.PHOTO_CAPTURE}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){var a;y();d("WAWebModalManager").ModalManager.open(p.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.CAMERA_MISSING,type:a.GuidePopupType.GUIDE_NONE,featureSurface:a.FeatureSurface.PHOTO_CAPTURE}))}))},U=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){g&&(yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(g));var e=(b==null?void 0:b.isViewOnce)===!0;b=(b==null?void 0:b.isWamoSub)===!0;if(!z)d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]))).sendLogs("capture-drawer-no-onSend");else if(a.length===0)d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]))).sendLogs("capture-drawer-no-img");else{a=c("WANullthrows")(a[0]);var f=a.media,h=a.mentionedJidList;a=a.groupMentions;var i=f.file;if(i instanceof Blob){z({getImg:c("WAWebMediaOpaqueData").createFromData(i,i.type),caption:(i=f.caption)!=null?i:void 0,isViewOnce:!!e,mentionedJidList:h,groupMentions:a,isWamoSub:b});(f=A.current)==null||f.logSend({isViewOnce:!!e})}Q()}});return function(b,c){return a.apply(this,arguments)}}(),V,W,X,Y,Z=f.theme==="capture-cover"?"cover":"contain";switch(J){case w.ANIMATING:case w.LOADING:Y=p.jsx(d("WAWebSpinner.react").Spinner,{stroke:4,size:50});if(J===w.ANIMATING)break;case w.RECORDING:var $={0:"xh8yej3 x5yr21d x1hc1fzr x19991ni x1d8287x x1j7uda5 xpk2tj9 x1bndym7",1:"xh8yej3 x5yr21d x19991ni x1d8287x x1j7uda5 xpk2tj9 x1bndym7 xg01cxk"}[!!(L&&J===w.LOADING)<<0];e=L?p.jsx(c("WAWebVideo.react"),{autoPlay:!0,ref:D,onPlay:e,src:C.current!=null?C.current:void 0,srcObject:C.current!=null?void 0:L}):null;X=L?p.jsx("div",{className:"xh8yej3 x5yr21d",children:p.jsx(c("WAWebObjectFit.react"),{type:Z,size:H,children:p.jsx("div",{className:$,"data-animage-capture-webcam":!0,children:e})})},"webcam"):null;V=J===w.RECORDING?p.jsx("div",{className:"x10l6tqk x2rgi xbudbmw xbx705l xg01cxk",children:p.jsx(d("WAWebRound.react").Round,{large:!0,label:a,onClick:E,children:p.jsx(d("WAWebCameraIcon.react").CameraIcon,{})})},"btn-capture"):null;break;case w.SENDING:X=p.jsx(c("WAWebObjectFit.react"),{type:Z,size:H,children:p.jsx("img",{alt:"",className:"x10l6tqk xh8yej3 x5yr21d xqcmdr3 xxkxylk","data-animate-capture-snapshot":!0,src:F})});if(g){$=c("WANullthrows")(g.attachMediaContents);X=p.jsx(d("WAWebMediaEditorForChatLoadable.react").MediaEditorForChatLoadable,{theme:d("WAWebMediaEditorEnumsThemes").MediaTheme.CAPTURE,chat:g,initCaption:null,mediaCollection:$,onDropText:c("WAWebNoop"),onSendMedia:U,placeholderText:d("WAWebComposeBoxUtils").getComposeBoxPlaceholderText({chat:g,questionType:f.questionType})})}W=p.jsxs(c("WAWebUnstyledButton.react"),{xstyle:u.retakeBtn,onClick:T,children:[p.jsx("div",{className:"x2lah0s xbelrpt x7o08j2",children:p.jsx(d("WAWebReturnIcon.react").ReturnIcon,{"aria-hidden":!0})}),h._(/*BTDS*/"Retake")]});break;default:d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["captureDrawer:render Unhandled video capture state ",""])),J)}e=p.jsx("div",{className:"x1n2onr6 xhtitgo x9f619 x78zum5 x6s0dn4 xl56j7k x5sx7kw xexx8yu x1xnnf8n x10b6aqq x106a9eq x1m8r95a",children:p.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop_delay",children:V})});return p.jsxs(c("WAWebDrawer.react"),{theme:f.theme,tsNavigationData:{surface:"camera"},children:[p.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.OFFSET,focusBackOrCancel:!0,onCancel:f.onBack,children:W}),p.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[p.jsxs("div",{className:"x1n2onr6 x78zum5 x1iyjqo2 x6s0dn4 xl56j7k xh8yej3",children:[Y,p.jsx("div",{className:"x10l6tqk x13vifvy x1o0tod x78zum5 xdt5ytf x6s0dn4 xh8yej3 x5yr21d",children:p.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"capture",xstyle:u.videoContainer,children:X})})]}),e]})]},"attach-capture-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCaptureMediaDrawer.react",["WALogger","WAWebCaptureDrawer.react","WAWebMedia","WAWebQuestions.flow","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react");function a(a){var b=a.chat,e=a.disposeStream,f=a.onCancel,g=a.onCaptureSent,i=a.onClose,k=a.questionReplyQuotedMessage,l=a.questionType;a=a.stream;var m=function(a){var c,e=a.getImg,f=a.caption,j=a.isViewOnce,m=a.mentionedJidList;a=a.isWamoSub;var n=b,o=n.composeQuotedMsg;n.composeQuotedMsg=null;c=((c=n.getComposeContents())==null?void 0:c.ctwaContext)||void 0;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WAWebCaptureMediaDrawer: before prepRawMedia"])));d("WAWebMedia").prepRawMedia(e,{}).sendToChat(n,{caption:f,mentionedJidList:m,quotedMsg:o,ctwaContext:c,isViewOnce:j,isWamoSub:a,isQuestion:l===d("WAWebQuestions.flow").QuestionType.Question,questionReplyQuotedMessage:k});g();i()};return j.jsx(c("WAWebCaptureDrawer.react"),{onBack:function(){i(),f()},chat:b,caption:!0,theme:"capture-contain",onSend:m,stream:a,disposeStream:e,questionType:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatAgentMsgInfoCell.react",["WAWebChatCell.react","WAWebClock","WAWebDetailImage.react","WAWebEmojiText.react","WAWebMsgGetters","react","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.agentName,e=a.msg;a=a.theme;e=d("useWAWebMsgValues").useMsgValues(e.id,[d("WAWebMsgGetters").getFrom,d("WAWebMsgGetters").getT]);var f=e[0];e=e[1];e=d("WAWebClock").Clock.relativeDateAndTimeStr(e);var g=d("WAWebDetailImage.react").getSize(d("WAWebDetailImage.react").DetailImageSize.Small);return i.jsx(c("WAWebChatCell.react"),{contextEnabled:function(){return!1},image:i.jsx("div",{className:"x1n2onr6",style:{height:g,width:g},children:i.jsx(d("WAWebDetailImage.react").DefaultIcon,{id:f})}),primary:i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:b,titlify:!0,ellipsify:!0}),secondary:i.jsx("span",{title:e,children:e}),className:"x1sqbtui x1bnvlk4",theme:a,idle:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatContactMsgInfoCell.react",["WAWebCellFrame.react","WAWebClock","WAWebEmojiText.react","WAWebFlex.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.icon,e=a.t;a=a.title;e=e!=null?d("WAWebClock").Clock.relativeDateAndTimeStr(e):"-";b=i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:"x6ikm8r x10wlt62 xlyipyv xeaf4i8",testid:void 0,children:[b,i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:a,titlify:!0,ellipsify:!0})]});return i.jsx(c("WAWebCellFrame.react"),{primary:b,secondary:e,theme:"plain",idle:!0,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebGeneratePollVotesSnapshotFromPoll",["WAWebMsgGetters","WAWebNewsletterPollVotesModelCollection","WAWebNewsletterPollsUtils","WAWebPollsPollVoteCollection","WAWebPollsUseResults"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("WAWebMsgGetters").getIsNewsletterMsg(a);return b?h(a):i(a)}function h(a){var b=a.id;a=a.pollOptions;b=d("WAWebNewsletterPollVotesModelCollection").NewsletterPollVotesModelCollection.get(b);b=d("WAWebNewsletterPollsUtils").aggregateNewsletterVotes(b,a);return j(b)}function i(a){var b=a.id;a=a.pollOptions;b=d("WAWebPollsPollVoteCollection").PollVoteCollection.getForParentAddressingModeInsensitive([b]);b=b[0];b=b.toArray();b=d("WAWebPollsUseResults").aggregateVotes(b,a);return j(b)}function j(a){a=Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return{option:b,optionVoteCount:a.count}});return{pollVotes:a}}g.generatePollVotesSnapshotFromPoll=a}),98);
__d("WAWebChatForwardMessage",["Promise","WALogger","WAWebBotProfileCollection","WAWebBotUtils","WAWebChatEphemerality","WAWebContactBlockedErrorAction","WAWebContactGetters","WAWebCryptoRandomMediaKey","WAWebFileUtils","WAWebFrontendMsgGetters","WAWebGeneratePollVotesSnapshotFromPoll","WAWebGetNewsletterContextForForwardedMsg","WAWebMedia","WAWebMediaConstants","WAWebMediaGetUploadOriginForChat","WAWebMediaOpaqueData","WAWebMediaUploadMmsThumbnail","WAWebMessagingGatingUtils","WAWebMmsMediaTypes","WAWebMsgDataUtils","WAWebMsgGetters","WAWebMsgModelFromData","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebSendMsgChatAction","WAWebWid","asyncToGeneratorRuntime","lodash","nullthrows"],(function(a,b,c,d,e,f,g){var h,i=["type"],j,k="\n \u0336 \u0336 \u0336 \u0336 \u0336 \u0336\n";function l(a){return Boolean(d("WAWebFrontendMsgGetters").getAsMms(a)&&!a.ctwaContext)}function m(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){f===void 0&&(f=!1);g===void 0&&(g=!1);if(l(e)||d("WAWebFileUtils").isDocument(e))return d("WAWebMedia").forwardMediaMsg(e,a,f,g);g=s(e,a);if(d("WAWebBotUtils").isMetaAiBot(a.id)&&h!=null&&h!==""){var m=g.body||"";m===""?g.body=h:g.body=m+k+h}m=(yield d("WAWebMsgDataUtils").genOutgoingMsgData(a,e.type));m.type;h=babelHelpers.objectWithoutPropertiesLoose(m,i);m=Object.assign(g,babelHelpers["extends"]({},h,{participant:void 0,star:!1,isForwarded:d("WAWebMsgGetters").getShouldDisplayAsForwarded(e),forwardedFromWeb:!0,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:f,messageSecret:d("WAWebMessagingGatingUtils").isReportingTokenSendingEnabled()&&self.crypto.getRandomValues(new Uint8Array(32))}));if(c("WAWebWid").isNewsletter(a.id))return d("WAWebNewsletterSendMsgAction").forwardNewsletterMessage(a,d("WAWebGetNewsletterContextForForwardedMsg").maybeStripNewsletterForwardMetadata({isQuestionOrQuestionReply:e.isQuestion||e.questionReplyQuotedMessage!=null,forwardable:m,destination:a.id,source:e.id.remote,isOriginalMsgForwarded:e.isForwarded}));g=(yield o(m));d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,g);return(j||(j=b("Promise"))).resolve()});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebFrontendMsgGetters").getAsUrl(d("WAWebMsgModelFromData").msgModelFromMsgData(a));if(b==null)return a;var e=b.thumbnailHQ,f=b.mediaKeyTimestamp;if(e==null)return a;if(f!=null)return a;try{f=(yield c("WAWebMediaUploadMmsThumbnail")({thumbnail:yield c("WAWebMediaOpaqueData").createFromBase64Jpeg(e),mediaType:d("WAWebMmsMediaTypes").MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:c("WAWebCryptoRandomMediaKey")(),uploadOrigin:c("WAWebMediaGetUploadOriginForChat")(d("WAWebFrontendMsgGetters").getChat(b.unsafe())),forwardedFromWeb:!0,timeout:d("WAWebMediaConstants").MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}));e=f.filehash;b=f.mediaEntry;return(b==null?void 0:b.getMediaKey())==null?q(a):babelHelpers["extends"]({},a,{thumbnailDirectPath:b==null?void 0:b.directPath,thumbnailSha256:e,thumbnailEncSha256:(f=b==null?void 0:b.getEncfilehash())!=null?f:void 0,mediaKey:b==null?void 0:b.getMediaKey(),mediaKeyTimestamp:b==null?void 0:b.getMediaKeyTimestamp()})}catch(b){return q(a)}});return p.apply(this,arguments)}function q(a){return babelHelpers["extends"]({},a,{thumbnailHQ:void 0,thumbnailDirectPath:void 0,thumbnailSha256:void 0,thumbnailEncSha256:void 0,mediaKey:void 0,mediaKeyTimestamp:void 0,thumbnailHeight:void 0,thumbnailWidth:void 0})}function a(a,b,c,d,e){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){e===void 0&&(e=!1);f===void 0&&(f=!1);var i=a.contact;if(d("WAWebContactGetters").getIsUser(i)&&i.isContactBlocked)throw new(c("WAWebContactBlockedErrorAction"))("Forwarded to contact is blocked",i);i=[];for(b of b){var j=f||d("WAWebMsgGetters").getHasOriginatedFromNewsletter(b);try{yield m(a,b,e,j,g)}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[chat forward message] error during forwarding message"]))).devConsole(a.stack),l(b)&&i.push(b)}}return i});return r.apply(this,arguments)}function s(a,b){var e=["buttons","caption","broadcast","ephemeralDuration","ephemeralSettingTimestamp","ephemeralStartTimestamp","ephemeralOutOfSync","disappearingModeInitiatedByMe","disappearingModeTrigger","dynamicReplyButtons","replyButtons","isMdHistoryMsg","bizPrivacyStatus","kicState","kicKey","kicTimestampMs","kicNotified","rcat","latestEditMsgKey","latestEditSenderTimestampMs","invokedBotWid","botMessageSecret","botEditType","botFeedbackKind","botFeedbackText","botTargetSenderJid","bizBotType","botPersonaId","botRespOrInvocationRevokeBotWid","botResponseTargetId","botPluginType","botPluginReferenceIndex","botPluginSearchProvider","botPluginSearchUrl","botEditTargetId","lastBotEditBodyLength","botPluginMaybeParent","rowId","serverId","viewCount","messageSecret","pollOptions","pollSelectableOptionsCount","pollInvalidated","isQuestion","questionReplyQuotedMessage","questionResponsesCount","readQuestionResponsesCount"],f=a.isDynamicReplyButtonsMsg===!0&&a.type===d("WAWebMsgType").MSG_TYPE.CHAT;f||(e=["footer"].concat(e));((f=a.quotedMsg)==null?void 0:f.type)!==d("WAWebMsgType").MSG_TYPE.PRODUCT&&(e=["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID"].concat(e));f=c("lodash").omit(a.toJSON(),e);a.ctwaContext&&(f.body=a.ctwaContext.sourceUrl,f.type=d("WAWebMsgType").MSG_TYPE.CHAT,f.mediaObject=void 0);a.type===d("WAWebMsgType").MSG_TYPE.POLL_CREATION&&(f.type=d("WAWebMsgType").MSG_TYPE.POLL_RESULT_SNAPSHOT,f.pollVotesSnapshot=d("WAWebGeneratePollVotesSnapshotFromPoll").generatePollVotesSnapshotFromPoll(c("nullthrows")(d("WAWebFrontendMsgGetters").getAsPollCreation(a))));f.forwardedNewsletterMessageInfo=d("WAWebGetNewsletterContextForForwardedMsg").getNewsletterContextForForwardedMsg(a);d("WAWebChatEphemerality").isEphemeralSettingOn(b)&&(f.ephemeralDuration=d("WAWebChatEphemerality").getEphemeralSetting(b));e=d("WAWebChatEphemerality").getEphemeralSettingTimestamp(b);e!=null&&(f.ephemeralSettingTimestamp=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiator(b);e!=null&&(f.disappearingModeInitiator=e);e=d("WAWebChatEphemerality").getDisappearingModeTrigger(b);e!=null&&(f.disappearingModeTrigger=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiatedByMe(b);e!=null&&(f.disappearingModeInitiatedByMe=e);!((e=a.id.remote)!=null&&e.isBot()||((e=a.mentionedJidList)==null?void 0:e.find(function(a){return a.isBot()}))!=null)&&b.isCAGAdmin()&&Object.assign(f,{messageSecret:self.crypto.getRandomValues(new Uint8Array(32))});if(b.id.isBot()){e=(a=d("WAWebBotProfileCollection").BotProfileCollection.get(b.id))==null?void 0:a.personaId;e!=null&&(f.botPersonaId=e)}return f}g.forwardMessages=a;g.getForwardedMessageFields=s}),98);
__d("WAWebChatKeptByMsgInfoCell.react",["WAWebChatCell.react","WAWebClock","WAWebContactGetters","WAWebDetailImage.react","WAWebEmojiText.react","WAWebFrontendContactGetters","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.contact,e=a.kicTimestampMs;a=a.theme;b=d("useWAWebContactValues").useContactValues(b.id,[d("WAWebContactGetters").getId,d("WAWebContactGetters").getName,d("WAWebFrontendContactGetters").getFormattedName,d("WAWebContactGetters").getNotifyName]);var f=b[0],g=b[1],h=b[2];b=b[3];f=i.jsx(d("WAWebDetailImage.react").DetailImage,{id:f});var j;e!=null&&(j=d("WAWebClock").Clock.relativeDateAndTimeStr(e/1e3));e=i.jsx("span",{title:j,children:j});var k;!g&&b&&(k=i.jsx(d("WAWebEmojiText.react").EmojiText,{className:"xxayilr",direction:"auto",text:b}));return i.jsx(c("WAWebChatCell.react"),{contextEnabled:function(){return!1},image:f,primary:i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:h,titlify:!0,ellipsify:!0}),secondary:e,secondaryDetail:k,style:"x1sqbtui x1bnvlk4",theme:a,idle:!0,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMexUsernameAvailabilityQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"username",variableName:"input"}],concreteType:"XWA2UsernameCheckResponse",kind:"LinkedField",name:"xwa2_username_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestions",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebMexUsernameAvailabilityQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebMexUsernameAvailabilityQuery",selections:b},params:{id:"9615795045169045",metadata:{},name:"WAWebMexUsernameAvailabilityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebMexUsernameAvailability",["WALogger","WAWebMexClient","WAWebMexUsernameAvailabilityQuery.graphql","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c,e=h!==void 0?h:h=b("WAWebMexUsernameAvailabilityQuery.graphql");a={input:a};e=(yield d("WAWebMexClient").fetchQuery(e,a));d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MEX][USERNAME] Successfully checked username availability via mex"]))).tags("GQL","MEX").devConsole({response:e});a=[];if(((c=e.xwa2_username_check)==null?void 0:c.suggestions)!=null){a.push.apply(a,(c=e.xwa2_username_check)==null?void 0:c.suggestions)}return{isUsernameAvailable:((c=e.xwa2_username_check)==null?void 0:c.result)==="SUCCESS",suggestedUsernames:a}});return j.apply(this,arguments)}g.mexCheckUsernameAvailabilityQueryJob=a}),98);
__d("WAWebCheckUsernameAvailabilityJob",["WAWebMexUsernameAvailability","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebMexUsernameAvailability").mexCheckUsernameAvailabilityQueryJob(a));var b=a.isUsernameAvailable;a=a.suggestedUsernames;return{isUsernameAvailable:b,suggestedUsernames:a}});return h.apply(this,arguments)}g.getUsernameAvailability=a}),98);
__d("WAWebCheckmarkLargeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="checkmark-large";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=30;o=30;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 30 30",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 30 30",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M9.9,21.25l-6.7-6.7L1,16.75l8.9,8.9L29,6.55l-2.2-2.2L9.9,21.25z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckmarkLargeIcon=a}),98);
__d("WAWebWdsPictoCommunitiesHeartIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wds-picto-communities-heart";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=88;o=88;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 88 88",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),id:"Layer_1",x:"0",y:"0",version:"1.1",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"#25d366",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",d:"M10.9 67.9c-2.4 0-4.4-1.9-4.5-4.4 0-1.4-.1-3.8.1-5 .3-2.4 1.7-4.2 3.2-5.4 2.9-2.2 7.2-3.3 11.7-3.3 5.6 0 23.4 3.3 23.4 3.3s17.8-3.3 23.4-3.3c4.5 0 8.8 1 11.7 3.3 1.5 1.2 2.9 2.9 3.2 5.4.1 1.1.1 3.6.1 5-.1 2.5-2.1 4.4-4.5 4.4z",className:"st0"}),k.jsx("path",{fill:"#25d366",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",d:"M61.8 67.9c2.4 0 4.4-1.9 4.5-4.4.3-6.2-.3-7.8-.5-8.4-2.2-6.7-15.4-8.2-20.4-8.2S27.1 48.4 25 55.1c-.2.6-.8 2.3-.5 8.4.1 2.4 2 4.4 4.5 4.4zm6.8-21c5 0 9-4 9-9s-4-9-9-9-9 4-9 9 4 9 9 9m-23.3-3c6.6 0 12-5.4 12-12s-5.4-12-12-12-12 5.4-12 12 5.4 12 12 12m-23.2 3c5 0 9-4 9-9s-4-9-9-9-9 4-9 9 4 9 9 9",className:"st0"}),k.jsx("path",{d:"M60.2 73.6c6.6-5.7 11.1-9.4 11.1-13.3 0-4.7-4.1-5.7-5.8-5.7-3.5 0-5.3 2.7-5.3 2.7s-1.9-2.7-5.3-2.7c-1.7 0-5.8 1-5.8 5.7 0 3.9 4.5 7.6 11.1 13.3",fill:"#e6ffda",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WdsPictoCommunitiesHeartIcon=a}),98);
__d("WAWebCommunityAdminPromotionNotificationPopup.react",["fbt","WAWebButton.react","WAWebEmojiText.react","WAWebExternalLink.react","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebModal.react","WAWebWdsPictoCommunitiesHeartIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onContinue,c=a.onDemote;a=a.ref;var e=function(a){a.stopPropagation(),a.preventDefault(),c()},f=function(a){a.stopPropagation(),a.preventDefault(),b()},g={enter:f,escape:f};e=j.jsxs(d("WAWebButton.react").ButtonGroup,{direction:"horizontal",children:[j.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"secondary",onClick:e,children:h._(/*BTDS*/"Dismiss yourself as admin")},"popup-controls-demote"),j.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:f,children:h._(/*BTDS*/"Continue")},"popup-controls-continue")]});f=j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:k(),children:h._(/*BTDS*/"admin tools")});f=h._(/*BTDS*/"You can send announcements, manage the community and use {learn-more-link} to help keep it safe. Your profile is now visible to community members.",[h._param("learn-more-link",f)]);return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:a,handlers:g,children:j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Promote,actions:e,children:j.jsxs("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1v8jjaa",children:[j.jsx("div",{className:"x1yztbdb",children:j.jsx(d("WAWebWdsPictoCommunitiesHeartIcon.react").WdsPictoCommunitiesHeartIcon,{width:130})}),j.jsx("div",{className:"x1yztbdb x2b8uid",children:j.jsx(d("WAWebEmojiText.react").EmojiText,{className:"x1603h9y x1u7k74 xk50ysn",text:h._(/*BTDS*/"You're now a community admin")})}),j.jsx("div",{className:"xg0cujg",children:j.jsx("div",{className:"x1f6kntn",children:f})})]})})})}a.displayName=a.name+" [from "+f.id+"]";function k(){return m("communities/learning")}var l="https://www.whatsapp.com";function m(a){return l+"/"+a+"?lang="+c("WAWebL10N").getNormalizedLocale()}g["default"]=a}),226);
__d("WAWebCommunityAdminPromotionNotificationFlow.react",["$InternalEnum","WALogger","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCommunityAdminPromotionNotificationPopup.react","WAWebCommunityAdminSelfDemotePopup.react","WAWebCommunityLogEvents","WAWebCommunityPromoteDemotePopups.react","WAWebModalManager","WAWebModifyParticipantsGroupAction","WAWebNux","WAWebWamEnumCadminDemoteOriginType","WAWebWamEnumCadminDemoteResultType","react","useWAWebFlow","useWAWebNux"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=b("$InternalEnum").Mirrored(["PromotionNotification","Demote"]);function a(a){var b=a.communityMetadata;a=d("WAWebNux").getCommunityAdminPromotionNuxKey(b.id.toString());a=c("useWAWebNux")(a);var e=a[2];a=d("useWAWebFlow").useFlow(k.PromotionNotification);var f=a[0],g=a[1];if(g.step==null)return null;var i;switch(g.step){case k.PromotionNotification:a=function(){g.push(k.Demote)};var l=function(){e(),g.end()};i=j.jsx(c("WAWebCommunityAdminPromotionNotificationPopup.react"),{onDemote:a,onContinue:l});break;case k.Demote:var m=d("WAWebChatCommunityUtils").isCommunitySuperAdmin(d("WAWebChatCollection").ChatCollection.get(b.id)),n=function(a){d("WAWebCommunityLogEvents").logCadminDemoteEvent(d("WAWebWamEnumCadminDemoteOriginType").CADMIN_DEMOTE_ORIGIN_TYPE.PROMOTION_NOTIFICATION,a,b.participants.getAdmins().length===1||m)},o=function(a){a===void 0&&(a=!1),n(a?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_CANCEL:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.CANCEL),d("WAWebModalManager").ModalManager.close()},p=function(a){a===void 0&&(a=!1);e();var c=b.participants.getMeParticipant(),f=d("WAWebChatCollection").ChatCollection.get(b.id);c&&f&&(c.contact.pendingAction++,d("WAWebModifyParticipantsGroupAction").demoteCommunityParticipants(f,[c]).then(function(){n(a?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_SUCCESS:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.SUCCESS)})["catch"](function(b){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error sending demote community participants iq"]))).verbose().devConsole(b).sendLogs("community-admin-self-demote-failed"),n(a?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_FAILURE:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.FAILURE),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebCommunityPromoteDemotePopups.react").CommunityAdminDemoteErrorPopup,{onParticipantDemote:function(){return p(!0)},onCancel:function(){return o(!0)},isMe:!0}))})["finally"](function(){c.contact.pendingAction--}));a?d("WAWebModalManager").ModalManager.close():g.end()};a=function(){n(d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.FAILURE),g.pop()};i=j.jsx(c("WAWebCommunityAdminSelfDemotePopup.react"),{onDemote:p,onCancel:o,onFailure:a,isCommunitySuperAdmin:m,parentGroupChat:d("WAWebChatCollection").ChatCollection.get(b.id)});break}return j.jsx(f,{flow:g,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCommunityExistingGroupConfirmationPopup.react",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.communityName,e=a.groupCount,f=a.onContinue;a=b!=null?h._(/*BTDS*/"_j{\"*\":\"Anyone in the community \\\"{community-name}\\\" will be able to join these groups.\",\"_1\":\"Anyone in the community \\\"{community-name}\\\" will be able to join this group.\"}",[h._plural(e),h._param("community-name",j.jsx(d("WAWebEmojiText.react").EmojiText,{text:b}))]):h._(/*BTDS*/"_j{\"*\":\"Anyone in a community will be able to join these groups.\",\"_1\":\"Anyone in a community will be able to join this group.\"}",[h._plural(e)]);b=function(){d("WAWebModalManager").ModalManager.close()};e=function(){f(),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:e,onCancel:b,okText:c("WAWebFbtCommon")("Continue"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityExistingGroupsConfirmationDrawer.react",["fbt","WAWebButton.react","WAWebChat.react","WAWebChatCollection","WAWebCommunityAddGroupConfirmationPopup.react","WAWebCommunityExistingGroupConfirmationPopup.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModalManager","WAWebSettingsIcon.react","WAWebText.react","WAWebToastbar.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k=j||c("react"),l={header:{maxWidth:"x55n99s",textAlign:"x2b8uid",lineHeight:"x1evy7pa",$$css:!0},section:{maxWidth:"x13qrzjo",$$css:!0},disclaimerText:{textAlign:"x2b8uid",lineHeight:"x16h55sf",$$css:!0},toastbar:{position:"xixxii4",justifyContent:"xl56j7k",$$css:!0},row:{width:"xh8yej3",justifyContent:"x1qughib",$$css:!0},column:{width:"xh8yej3",$$css:!0}};function m(a){a=a.onClick;return k.jsx(d("WAWebToastbar.react").WAWebToastbar,{dismissible:!1,wrapperXstyle:l.toastbar,children:k.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,testid:void 0,children:h._(/*BTDS*/"Add to community")})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.isCommunityAdmin;a=a.selectedGroups;var e=null;b?e=a.length===1?h._(/*BTDS*/"People in this group will become community members and can join other community groups. You can review group permissions:"):h._(/*BTDS*/"People in these groups will become community members and can join other community groups. You can review group permissions:"):e=a.length===1?h._(/*BTDS*/"If approved by community admins, people in this group will become community members and can join other community groups. You can review group permissions:"):h._(/*BTDS*/"If approved by community admins, people in these groups will become community members and can join other community groups. You can review group permissions:");return k.jsx(c("WAWebFlexItem.react"),{align:"center",xstyle:[l.section,d("WAWebUISpacing").uiMargin.top8,d("WAWebUISpacing").uiPadding.bottom30,d("WAWebUISpacing").uiPadding.top10],children:k.jsxs(d("WAWebText.react").WAWebTextSmall,{color:"secondary",xstyle:l.disclaimerText,children:[e," "]})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.communityName,f=a.isCommunityAdmin,g=a.isParentGroupClosed,j=a.onBack,o=a.onGroupPermissions,p=a.onSubmit,q=a.parentGroupId,r=a.selectedGroups;a=function(){return k.jsx(d("WAWebFlex.react").FlexColumn,{align:"start",xstyle:[d("WAWebUISpacing").uiMargin.bottom16,l.column],children:r.map(function(a){return k.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:l.row,align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{grow:0,children:k.jsx(d("WAWebChat.react").ChatOrContact,{theme:"plain",chat:d("WAWebChatCollection").ChatCollection.assertGet(a.id),mode:d("WAWebChat.react").Mode.INFO,noContext:!0,doNotBoldUnread:!0})}),k.jsx(d("WAWebButton.react").WAWebButtonPlainWhite,{icon:d("WAWebSettingsIcon.react").SettingsIcon,onClick:function(){return o(a.id)},ariaLabel:h._(/*BTDS*/"Edit group permissions button")})]},a.id.toString())})})};var s=function(){void p(r)},t=function(){!f?d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebCommunityAddGroupConfirmationPopup.react"),{selectedGroups:r,onOK:function(){d("WAWebModalManager").ModalManager.close(),s()},onCancel:function(){return d("WAWebModalManager").ModalManager.close()}})):g?s():d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebCommunityExistingGroupConfirmationPopup.react"),{onContinue:s,communityName:e,groupCount:r.length}))},u=h._(/*BTDS*/"_j{\"*\":\"Add {group-count} groups to \\u201c{community-name}\\u201d?\",\"_1\":\"Add 1 group to \\u201c{community-name}\\u201d?\"}",[h._plural(r.length,"group-count"),h._param("community-name",e)]);return k.jsxs(c("WAWebDrawer.react"),{children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:j}),k.jsx(c("WAWebDrawerBody.react"),{ref:b,children:k.jsx(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[(j=d("WAWebUISpacing")).uiMargin.horiz40,j.uiMargin.bottom40],children:[k.jsx(c("WAWebFlexItem.react"),{align:"center",xstyle:j.uiMargin.top30,children:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:q,size:104,quality:d("WAWebDetailImage.react").DetailImageQuality.High,shape:d("WAWebDetailImage.react").DetailImageShape.Squircle})}),k.jsx(d("WAWebText.react").WAWebTextLarge,{xstyle:[j.uiMargin.top20,j.uiMargin.horizAuto,j.uiMargin.bottom0,l.header],children:u}),k.jsx(n,{isCommunityAdmin:f,selectedGroups:r}),a()]})})}),k.jsx(m,{onClick:t})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityExistingGroupsDrawer.react",["fbt","WAAbortError","WALogger","WANullthrows","WAPromiseRaceAbort","WAWebArrowForwardIcon.react","WAWebChatCollection","WAWebChatModel","WAWebChatParticipantList.react","WAWebCommunityGatingUtils","WAWebCommunitySubgroupsLimitReachedPopup.react","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFocusIndicator","WAWebGroupGatingUtils","WAWebGroupMetadataCollection","WAWebGroupType","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebModalManager","WAWebMultiSelectChatList.react","WAWebMultiSelection","WAWebNameGroupModal.react","WAWebNoop","WAWebRichTextField.react","WAWebRound.react","WAWebSetSubjectGroupAction","WAWebSingleSelection","WAWebSpinner.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","asyncToGeneratorRuntime","lodash","react","stylex","useLazyRef","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j=["ref"],k,l,m;e=m||d("react");var n=k||(k=c("react")),o=e.useEffect,p=e.useRef,q=e.useState,r={drawerSection:{zIndex:"xhtitgo",display:"x78zum5",justifyContent:"x1l1ennw",paddingBottom:"x1ci70gm",marginTop:"xevwqry",textAlign:"x2b8uid",$$css:!0},paragraph:{paddingTop:"xl7twdi",paddingInlineEnd:"xyo0t3i",paddingBottom:"xvg22vi",paddingInlineStart:"xb0esv5",fontSize:"x1f6kntn",lineHeight:"x37zpob",textAlign:"x2b8uid",color:"x16cd2qt",backgroundColor:"x150wa6m",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"xcsjwe9",overflowWrap:"x1mzt3pk",$$css:!0},createNewGroupText:{color:"x1eqckd8",$$css:!0}};function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,j);var f=a.onBack,g=a.onContinue,k=a.onCreateNewGroup,m=a.addedExistingGroups,s=a.groupsSuggestedByMeToCommunity,t=a.currentSubgroupCount,u=a.isCommunityAdmin,v=a.isCommunityCreation,w=a.isParentGroupClosed,x=a.flowSelectedGroups,y=a.setFlowSelectedGroups,z=v===!0?d("WAWebCommunityGatingUtils").getParentGroupLinkLimitCommunityCreation():d("WAWebCommunityGatingUtils").getParentGroupLinkLimit(),A=z-t,B=Array.from(m!=null?m:[]);a=q("");t=a[0];var C=a[1],D=c("useLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})}),E=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})});a=p(null);var F=q(x),G=F[0],H=F[1];F=q([]);var I=F[0],J=F[1];F=q(!0);var K=F[0],L=F[1];F=p(new(c("WAWebFlatListController"))());var M=p(null);o(function(){var a;(a=M.current)==null||a.triggerFocus()},void 0);var N=function(){L(!0);var a=d("WAWebContactCollection").ContactCollection.getGroupContacts();a=a.filter(function(a){var b,c=d("WAWebChatCollection").ChatCollection.get(a.id.toString());c=c==null||(b=c.groupMetadata)==null?void 0:b.participants;return c!=null&&c.iAmAdmin()&&!(m!=null&&m.has(a.id))});a=a.filter(function(a){a=c("WAWebGroupMetadataCollection").get(a.id.toString());return(a==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.DEFAULT||(a==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP});J(a);L(!1)};o(function(){N(),x.forEach(function(a){D.current.setVal(a,!0)})},[]);var O=function(){var a;c("WAWebFocusIndicator").shouldIndicateFocus();(a=M.current)==null||a.triggerFocus()},P=function(){y(G),g()},Q=function(){var a;C("");(a=M.current)==null||a.clearTextInput()},R=function(a){D.current.setVal(a,!1),H(D.current.getSelected()),Q()},S=function(a,b){R(b)},T=function(a){a==null||a.preventDefault(),E.current.setFirst(!0)},U=function(a){E.current.unset();(a=M.current)==null||a.triggerFocus()},V=c("useWAWebUnmountSignal")(),W=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a;yield c("WAPromiseRaceAbort")(d("WAWebSetSubjectGroupAction").setGroupSubject(b,a),V)["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["name_group_modal:onSetSubject failed"]))).devConsole(a)});d("WAWebModalManager").ModalManager.close();H(D.current.getSelected());Q()});return function(b,c){return a.apply(this,arguments)}}(),aa=function(){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"Only admins can edit this group's info")}))},X=function(a,b){if(G.length>=A&&b)d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebCommunitySubgroupsLimitReachedPopup.react"),{maxSubgroups:z,isCommunityCreation:v}));else{b=c("WAWebGroupMetadataCollection").get(a.id);var e=(b==null?void 0:b.isUnnamed)===!0;if(e){e=c("WANullthrows")(d("WAWebChatCollection").ChatCollection.get(a.id.toString()));var f=c("WANullthrows")(D.current.list.find(function(b){return b.id.toString()===a.id.toString()})),g=h._(/*BTDS*/"This group was created without a name. Give it a name to add it to a community.");d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebNameGroupModal.react"),{chat:e,subtext:g,onCancel:function(){R(f),d("WAWebModalManager").ModalManager.close()},onOK:W,editable:b==null?void 0:b.canSetSubject(),editRestrictionInfo:b!=null&&b.restrict?aa:void 0}))}else H(D.current.getSelected()),Q()}},Y=function(){var a=c("lodash").differenceWith(I,B,function(a,b){return a.id.equals(b)});return a},Z;G.length>0&&(Z=n.jsx(d("WAWebRound.react").Round,{className:"x1r0gsg0 x11t971q xat24cr xvc5jky",testid:void 0,label:h._(/*BTDS*/"Continue to add existing groups to community"),onClick:P,children:n.jsx(d("WAWebArrowForwardIcon.react").ArrowForwardIcon,{directional:!0})}));P=function(a){var b=c("WAWebGroupMetadataCollection").get(a.id.toString());b=(b==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP;var e=Boolean(s==null?void 0:s.some(function(b){return b.equals(a.id)}));return b||e};var $=function(a,b){if(!b||!(a instanceof d("WAWebChatModel").Chat))return;b=c("WAWebGroupMetadataCollection").get(a.id.toString());b=(b==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP;if(b){b=(b=a.groupMetadata)==null||(b=b.getParentGroupChat())==null?void 0:b.formattedTitle;return h._(/*BTDS*/"Already added to \"{community-name}\"",[h._param("community-name",n.jsx(d("WAWebEmojiText.react").EmojiText,{text:b}))])}else if(Boolean(s==null?void 0:s.some(function(b){return b.equals(a.id)})))return h._(/*BTDS*/"Already suggested to this community")},ba=Y();Y=n.jsx(c("WAWebMultiSelectChatList.react"),{ref:a,active:E.current,selections:D.current,flatListController:F.current,onLeaveList:O,searchText:t,maxChats:A,onSelectionChanged:X,chatFilter:function(a){return ba.some(function(b){return b.id.equals(a.id)})},excludeContacts:!0,isCommunityExistingGroupsDrawer:!0,isDisabled:P,customItemSecondaryText:$});I.length>0?!u?a=h._(/*BTDS*/"If approved by community admins, everyone in the groups will be added to the community."):w?a=h._(/*BTDS*/"Everyone in the groups will be added to the community."):a=h._(/*BTDS*/"Everyone in the groups will be added to the community. Anyone in the community can join these groups."):a=n.jsxs(n.Fragment,{children:[h._(/*BTDS*/"All groups you're an admin of have already been added to other communities.")," ",n.jsx(c("WAWebUnstyledButton.react"),{xstyle:r.createNewGroupText,onClick:k,children:h._(/*BTDS*/"Create new group")})]});X=h._(/*BTDS*/"Type group name");u=(P=h._param("groupcount",G.length,[0]),$=h._param("subgroups-left-to-max",A,[0]),h._(/*BTDS*/"_j{\"*\":{\"*\":\"Add existing groups ({=m1})\"}}",[P,$,h._implicitParam("=m1",n.jsx("span",{dir:c("WAWebL10N").LR("ltr","rtl"),children:h._(/*BTDS*/"_j{\"*\":{\"*\":\"{groupcount}{=m2}{subgroups-left-to-max}\"}}",[P,$,h._implicitParam("=m2",n.jsx("span",{dir:c("WAWebL10N").LR("ltr","rtl"),children:h._(/*BTDS*/"_j{\"*\":{\"*\":\"\\\/\"}}",[P,$])}))])}))]));return n.jsxs(c("WAWebDrawer.react"),{ref:e,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:u,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:f}),n.jsxs(c("WAWebDrawerBody.react"),{children:[n.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{xstyle:r.paragraph,children:a}),K?n.jsx("div",{className:"x150wa6m x78zum5 xl56j7k x4i7bpe xyri2b x1sgudl8 x1c1uobl",children:n.jsx(d("WAWebSpinner.react").Spinner,{})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"xhig867 xscbp6u xizuyw3 x10wh9bi xpm28yp x8viiok x1o7cslx x150wa6m",children:[G.length>0&&n.jsx("div",babelHelpers["extends"]({"data-list-scroll-container":!0},(l||(l=c("stylex"))).props(d("WAWebUISpacing").uiPadding.top25),{children:n.jsx(c("WAWebChatParticipantList.react"),{theme:"list-names",contacts:G,onDelete:S,onFocusSearch:O})})),n.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{down:T},onFocus:U,children:n.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,title:X,ref:M,value:t,showRemaining:!0,onChange:function(a){a=a.text;return C(a)},placeholder:X,maxLength:d("WAWebGroupGatingUtils").getGroupMaxSubject(),focusOnMount:!0})})]}),n.jsx(c("WAWebFlatListContainer.react"),{className:"x1n2onr6 x1iyjqo2 xs83m0k x18xmwgd x6ikm8r x1odjw0f x150wa6m",flatListControllers:[F.current],children:Y})]}),n.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",xstyle:r.drawerSection,children:Z})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityGeneralChatFailedParticipantsModal.react",["fbt","WAWebConfirmPopup.react","WAWebContactCollection","WAWebFbtCommon","WAWebModalManager","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){var b;a=a.reduce(function(a,b){var c=d("WAWebContactCollection").ContactCollection.get(b);c!=null&&c.shortName?a.push(c.shortName):c!=null&&c.name?a.push(c.name):a.push(d("WAWebWidFactory").createWid(b).user);return a},[]);a.length===1?b=h._(/*BTDS*/"Couldn't add {participant_name_0} to the general member chat. You can invite them privately to join this group.",[h._param("participant_name_0",a[0])]):a.length===2?b=h._(/*BTDS*/"Couldn't add {participant_name_0} and {participant_name_1} to the general member chat. You can invite them privately to join this group.",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1])]):a.length===3?b=h._(/*BTDS*/"Couldn't add {participant_name_0}, {participant_name_1}, and {participant_name_2} to the general member chat. You can invite them privately to join this group.",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1]),h._param("participant_name_2",a[2])]):b=h._(/*BTDS*/"Couldn't add {participant_name_0}, {participant_name_1}, {participant_name_2}, and {leftover_participant_count} more to the general member chat. You can invite them privately to join this group.",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1]),h._param("participant_name_2",a[2]),h._param("leftover_participant_count",a.length-3)]);return b}function a(a){a=a.failedParticipantJids;a=k(a);return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a})}a.displayName=a.name+" [from "+f.id+"]";g.GeneralChatFailedParticipantsModal=a}),226);
__d("WAWebCommunitySubgroupComparator",[],(function(a,b,c,d,e,f){function a(a,b){if(a.announcementGroup===!0)return-1;return b.announcementGroup===!0?1:a.name.toLowerCase().localeCompare(b.name.toLowerCase())}f.SubgroupComparator=a}),66);
__d("WAWebCommunityHomeGroupsManager.react",["fbt","WANullthrows","WAWebAnnouncementSpeakerIcon.react","WAWebCellFrame.react","WAWebChatCollection","WAWebCommunityCells.react","WAWebCommunityGatingUtils","WAWebCommunityGetParticipantInfoText","WAWebCommunityRemoveSubgroup","WAWebCommunitySubgroupComparator","WAWebCommunitySubgroupsLimitReachedPopup.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEmojiText.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebGroupMetadataCollection","WAWebGroupType","WAWebL10N","WAWebModalManager","WAWebNavigableFlatList.react","WAWebReachoutTimelockRestrictedModalLoadable","WAWebReachoutTimelockUtils","WAWebRoundShape.react","WAWebSingleSelection","WAWebSpinner.react","WAWebSquircleIcon.react","WAWebText.react","WAWebUISpacing","WAWebUnjoinedSubgroupMetadataCollection","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","react","useLazyRef","useWAWebFocusOnMount","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useMemo,n=b.useState,o=d("WAWebCommunityCells.react").RemoveButtonFactory(),p={icon:{height:"x112a4uq",width:"x15jighw",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},announcementIcon:{backgroundColor:"x13vkxft",$$css:!0},announcementSpeaker:{color:"xzqyxu6",$$css:!0},communitySettingsButton:{color:"x1n68mz9",$$css:!0},communitySettingsSection:{backgroundColor:"x15g3fpr",$$css:!0}},q=l.jsx(c("WAWebSquircleIcon.react"),{xstyle:[p.icon,p.announcementIcon],transparent:!0,children:l.jsx(d("WAWebAnnouncementSpeakerIcon.react").AnnouncementSpeakerIcon,{directional:!0,height:40,width:40,iconXstyle:p.announcementSpeaker})}),r=function(a){var b,e=d("WAWebChatCollection").ChatCollection.get(a.toString());e?(b=c("WANullthrows")(e.groupMetadata),e=e.title()):(b=c("WAWebUnjoinedSubgroupMetadataCollection").assertGet(a.toString()),e=b.subject);return[b,e]};function s(a){var b,e=a.data,f=e.itemKey,g=e.parentId,i=e.name,j=e.icon,k=e.secondary,m=e.showRemove,p=e.subgroupWid;e=n(!1);var q=e[0],r=e[1];e=d("WAWebChatCollection").ChatCollection.get(f);f=d("useWAWebModelValues").useOptionalModelValues(e,["formattedTitle"]);var s=(f=f==null?void 0:f.formattedTitle)!=null?f:i;(e==null||(b=e.groupMetadata)==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&(s=h._(/*BTDS*/"Announcements").toString());f=function(){d("WAWebCommunityRemoveSubgroup").handleRemoveSubgroup({parentId:g,removedSubgroupWid:p,removedSubgroupTitle:s,setLoading:r})};return l.jsx(c("WAWebCellFrame.react"),{primary:l.jsx(d("WAWebEmojiText.react").EmojiText,{text:s,ellipsify:!0}),image:j,secondary:k,detail:m&&(q?l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:l.jsx(d("WAWebSpinner.react").Spinner,{size:18,stroke:6,color:"highlight"})}):l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:l.jsx(o,{onClick:f,active:a.active,subgroup:p,groupName:s})}))})}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e,f,e,f,g=a.joinedSubgroups,j=a.unjoinedSubgroups,k=a.currentSubgroupCount,n=a.onNewGroupFlow,o=a.onExistingGroupFlow,t=a.onCommunitySettingsClick,u=a.onBack,v=a.parentId,w=d("WAWebCommunityGatingUtils").getParentGroupLinkLimit(),x=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.itemKey})});a=c("useWAWebFocusOnMount")();var y=d("useWAWebModelValues").useOptionalModelValues(c("WAWebGroupMetadataCollection").get(v),["allowNonAdminSubGroupCreation","participants"]),z=function(){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCommunitySubgroupsLimitReachedPopup.react"),{maxSubgroups:w}))},A=function(){k>=w?z():o()},B=function(){if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}k>=w?z():n()},C=m(function(){return[].concat(g,j).map(function(a){var b=r(a),e=b[0];b=b[1];if(e.defaultSubgroup===!0)return{itemKey:a.toString(),subgroupWid:a,parentId:v,name:b,icon:q,secondary:null,announcementGroup:!0,showRemove:!1};var f=l.jsx(d("WAWebDetailImage.react").DetailImage,{size:40,shape:d("WAWebDetailImage.react").DetailImageShape.Circle,id:a,hiddenSubgroupIcon:"chat-list"}),g;!e.participants.iAmMember()?g=h._(/*BTDS*/"You are not a member of this group"):e.participants!=null?g=d("WAWebCommunityGetParticipantInfoText").getParticipantInfoText(e.participants):g=h._(/*BTDS*/"You created group {subject}",[h._param("subject",b)]);return{name:b,subgroupWid:a,parentId:v,itemKey:a.toString(),icon:l.jsx(c("WAWebRoundShape.react"),{xstyle:p.icon,transparent:!0,children:f}),secondary:g,announcementGroup:!1,showRemove:(e=y==null?void 0:y.participants.iAmAdmin())!=null?e:!1}}).sort(d("WAWebCommunitySubgroupComparator").SubgroupComparator)},[g,j,v,y==null?void 0:y.participants]),D=m(function(){return C.map(function(a){var b=a.showRemove;a=a.subgroupWid;if(b)return{itemKey:"remove-button-"+a.toString()}}).filter(Boolean)},[C]);x.current.init(D);D=(D=y==null?void 0:y.participants.iAmAdmin())!=null?D:!1;var E=c("WAWebL10N").getNormalizedLocale();E=E==="ar"||E==="fa"?"rtl":"ltr";E=D?(e=h._param("groupcount",k,[0]),f=h._param("maxsubgroups",w,[0]),h._(/*BTDS*/"_j{\"*\":{\"*\":\"Manage groups ({=m1})\"}}",[e,f,h._implicitParam("=m1",l.jsx("span",{dir:E,children:h._(/*BTDS*/"_j{\"*\":{\"*\":\"{groupcount}{=m2}{maxsubgroups}\"}}",[e,f,h._implicitParam("=m2",l.jsx("span",{dir:E,children:h._(/*BTDS*/"_j{\"*\":{\"*\":\"\\\/\"}}",[e,f])}))])}))])):(e=h._param("groupcount",k,[0]),f=h._param("maxsubgroups",w,[0]),h._(/*BTDS*/"_j{\"*\":{\"*\":\"Add groups ({=m1})\"}}",[e,f,h._implicitParam("=m1",l.jsx("span",{dir:E,children:h._(/*BTDS*/"_j{\"*\":{\"*\":\"{groupcount}{=m2}{maxsubgroups}\"}}",[e,f,h._implicitParam("=m2",l.jsx("span",{dir:E,children:h._(/*BTDS*/"_j{\"*\":{\"*\":\"\\\/\"}}",[e,f])}))])}))]));e=(y==null?void 0:y.allowNonAdminSubGroupCreation)===!0;f=l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getMemberAddedGroupsUrl(),children:c("WAWebFbtCommon")("Learn more")});D?D=e?h._(/*BTDS*/"Members can suggest existing groups for admin approval and add new groups directly. View in {=m2}",[h._implicitParam("=m2",l.jsx(c("WAWebUnstyledButton.react"),{onClick:t,xstyle:p.communitySettingsButton,children:h._(/*BTDS*/"Community settings")}))]):h._(/*BTDS*/"Members can suggest groups for admin approval. Admins can add groups directly. View in {=m2}",[h._implicitParam("=m2",l.jsx(c("WAWebUnstyledButton.react"),{onClick:t,xstyle:p.communitySettingsButton,children:h._(/*BTDS*/"Community settings")}))]):D=e?h._(/*BTDS*/"Based on this community's settings, members can add new groups directly and suggest existing groups for admin approval. {learn-more}",[h._param("learn-more",f)]):h._(/*BTDS*/"Based on this community's settings, members can suggest groups for admin approval. {learn-more}",[h._param("learn-more",f)]);t=d("WAWebCommunityGatingUtils").memberAddedGroupsM1Enabled()?l.jsx(c("WAWebDrawerSection.react"),{xstyle:[p.communitySettingsSection,d("WAWebUISpacing").uiMargin.all30,d("WAWebUISpacing").uiMargin.top0],shadow:!1,children:l.jsx(d("WAWebText.react").WAWebTextMuted,{children:D})}):null;return l.jsx("div",{role:"complementary",ref:a,tabIndex:-1,"aria-label":h._(/*BTDS*/"Manage community groups drawer"),children:l.jsxs(c("WAWebDrawer.react"),{ref:b,testid:void 0,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:E,titleStr:E,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:u}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsxs(c("WAWebDrawerSection.react"),{children:[l.jsx(d("WAWebCommunityCells.react").CreateNewGroupCell,{onClick:B}),l.jsx(d("WAWebCommunityCells.react").AddExistingGroupsCell,{onClick:A})]}),t,l.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"Groups in this community"),testid:void 0,children:l.jsx(d("WAWebNavigableFlatList.react").NavigableFlatList,{selection:x.current,ariaLabel:h._(/*BTDS*/"Community subgroups list"),listData:C,onRenderItem:function(a){return l.jsx(s,{data:a,active:x.current})},rotateList:!0})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g.CommunityHomeGroupsManager=a}),226);
__d("WAWebMultiDeviceIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="multi-device";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=16;o=22;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 22 16",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M3.66667 2.49984H20.1667V0.666504H3.66667C2.65833 0.666504 1.83333 1.4915 1.83333 2.49984V12.5832H0V15.3332H12.8333V12.5832H3.66667V2.49984ZM21.0833 4.33317H15.5833C15.0792 4.33317 14.6667 4.74567 14.6667 5.24984V14.4165C14.6667 14.9207 15.0792 15.3332 15.5833 15.3332H21.0833C21.5875 15.3332 22 14.9207 22 14.4165V5.24984C22 4.74567 21.5875 4.33317 21.0833 4.33317ZM20.1667 12.5832H16.5V6.1665H20.1667V12.5832Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MultiDeviceIcon=a}),98);
__d("WAWebContactMsgInfoDrawer.react",["fbt","WAQplTypes","WAWebAgentCollection","WAWebBizAgentAction","WAWebBizGatingUtils","WAWebChatContactMsgInfoCell.react","WAWebChatPreferenceCollection","WAWebDisplayType","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEphemeralFbtKic","WAWebFrontendMsgGetters","WAWebKeepInChatIcon.react","WAWebLabelsInfoDrawerLabelWell.react","WAWebMessagePosition","WAWebMessageWrapper.react","WAWebMicIcon.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgPreview.react","WAWebMsgType","WAWebMultiDeviceIcon.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSpinner.react","WAWebStatusDblcheckIcon.react","WAWebStatusPttIcon.react","WAWebStatusVideoIcon.react","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","WAWebUiActionWamEvent","WAWebUseIsFeatureEnabled","WAWebViewOnceViewedIcon.react","WAWebWamEnumUiActionType","WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE","WAWebWamMsgUtils","WAWebWamPrivateStatsUtils","react","useLazyRef","useWAWebForceUpdate","useWAWebListener","useWAWebMsgValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useEffect,n=b.useRef,o=b.useState,p={svg:{width:"x1xp8n7a",height:"xmix8c7",$$css:!0},statusBlue:{color:"xy5zui7",$$css:!0},ack:{color:"x1q15gih",$$css:!0}};function a(a){var b,e,f=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var g=a.msg;e=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(e=d("WAWebMsgGetters")).getId,e.getStar,e.getType,e.getIsGif,e.getIsViewOnce,e.getLabels,e.getNumTimesForwarded,e.getIsFrequentlyForwarded,e.getAgendId,e.getT,e.getIsMdHistoryMsg,e.getKicSender,e.getKicTimestampMs,e.getIsKept,e.getLatestEditMsgKey]);var j=e[0];e[1];var k=e[2];e[3];var q=e[4],r=e[5];e[6];e[7];var s=e[8],t=e[9],u=e[10],v=e[11],w=e[12],x=e[13];e=e[14];var y=d("WAWebFrontendMsgGetters").getChat(g),z=c("useWAWebUIM")(),A=c("useWAWebUnmountSignal")(),B=n(null),C=n(null);b=Boolean((b=y.groupMetadata)==null?void 0:b.isLidAddressingMode);var D=d("WAWebWamMsgUtils").msgIsLid(g,y.id,b),E=c("useLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:D})});b=o(void 0);var F=b[0],G=b[1];b=o(!1);var H=b[0],I=b[1];b=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(F==null?void 0:F.played,["add","remove"],b);d("useWAWebListener").useListener(F==null?void 0:F.read,["add","remove"],b);d("useWAWebListener").useListener(F==null?void 0:F.delivery,["add","remove"],b);d("useWAWebListener").useListener(g,"revoked",function(){z==null||z.requestDismiss()});d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,"remove",function(a){a.id.equals(j)&&(z==null||z.requestDismiss())});d("useWAWebListener").useListener(g,"change:latestEditMsgKey",function(){return z==null?void 0:z.requestDismiss()});var J=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");m(function(){var a;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,{annotations:{bool:{is_premium_subscriber:J}}});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_start");d("WAWebMsgInfoCollection").MsgInfoCollection.find(j).then(function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_end");if(A.aborted){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.CANCEL);return}G(a);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.FAIL),I(!0),d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Couldn't display message info. Try again later."),id:d("WAWebToast.react").genId("msg_info_failed")}))});a=(a=B.current)==null?void 0:a.getContainer();k===d("WAWebMsgType").MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight)},[e]);m(function(){var a=E.current;a&&(Object.assign(a,d("WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE").getGroupCountMetricsFromChatWid(y==null?void 0:y.id)),a.markUiActionT(),a.commit(),E.current=void 0);d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents();d("WAWebBizAgentAction").logMessageInfo(s)},[]);b=function(a,b){b===void 0&&(b=!1);return a===j&&(b?!0:(a=C.current)==null?void 0:a.getMsgComponentRef())};e=function(){z==null||z.requestDismiss()};var K,L;if(F){var M=[];if(x&&v!=null&&w!=null){x=w/1e3;w=d("WAWebEphemeralFbtKic").getKeptByString(v);v=l.jsx("span",{className:"x1rg5ohu x1xp8n7a xqf2s3x xq22nx5 x2b8uid xmziwt1",children:l.jsx(d("WAWebKeepInChatIcon.react").KeepInChatIcon,{iconXstyle:p.svg})});M.push(l.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:w,t:x,icon:v},"keep-in-chat"))}if(!u){w=d("WAWebMsgGetters").getIsAckPlayable(g);if(w||q){L=w?h._(/*BTDS*/"Seen"):h._(/*BTDS*/"Seen");x=F.played.head();v=x==null?void 0:x.t;u=l.jsx(d("WAWebViewOnceViewedIcon.react").ViewOnceViewedIcon,{xstyle:p.statusBlue,iconXstyle:p.svg});w&&!q&&(g.type===d("WAWebMsgType").MSG_TYPE.PTT?u=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?l.jsx(d("WAWebMicIcon.react").MicIcon,{xstyle:p.statusBlue,iconXstyle:p.svg}):l.jsx(d("WAWebStatusPttIcon.react").StatusPttIcon,{xstyle:p.statusBlue,iconXstyle:p.svg}):g.type===d("WAWebMsgType").MSG_TYPE.PTV&&(u=l.jsx(d("WAWebStatusVideoIcon.react").StatusVideoIcon,{xstyle:p.statusBlue,iconXstyle:p.svg})));x=l.jsx("span",{className:"x1rg5ohu x1xp8n7a xqf2s3x xq22nx5 x2b8uid xmziwt1",children:u});M.push(l.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:w&&!q?h._(/*BTDS*/"Played"):h._(/*BTDS*/"Opened"),t:v,icon:x},"played"))}u=F.read.head();w=u==null?void 0:u.t;q=l.jsx("span",{className:"x1rg5ohu x1xp8n7a xqf2s3x xq22nx5 x2b8uid xmziwt1",children:l.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{xstyle:p.ack,iconXstyle:p.svg})});L=L!=null?L:h._(/*BTDS*/"Read");M.push(l.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:L,t:w,icon:q},"read"));v=F.delivery.head();x=v==null?void 0:v.t;u=l.jsx("span",{className:"x1rg5ohu x1xp8n7a xqf2s3x xq22nx5 x2b8uid xmziwt1",children:l.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{iconXstyle:p.svg})});M.push(l.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:h._(/*BTDS*/"Delivered"),t:x,icon:u},"delivery"))}if(J&&d("WAWebBizGatingUtils").isMultiDeviceMessageAttributionEnabled()&&s!=null){v=(q=(w=d("WAWebAgentCollection").AgentCollection.get(s))==null?void 0:w.name)!=null?q:"";x=t;M.push(l.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:v,t:x,icon:l.jsx("span",{className:"x1rg5ohu x1xp8n7a xqf2s3x xq22nx5 x2b8uid xmziwt1",children:l.jsx(d("WAWebMultiDeviceIcon.react").MultiDeviceIcon,{iconXstyle:p.svg})})},"agent"))}K=l.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:M})}var N;!F&&!H&&(N=l.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xvv2zd5",children:l.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4})},"spinner"));u=null;r&&r.length>0&&d("WAWebBizGatingUtils").canDisplayLabel()&&(u=l.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:l.jsx(c("WAWebLabelsInfoDrawerLabelWell.react"),{labels:r})}));return l.jsxs(c("WAWebDrawer.react"),{ref:f,theme:"striped",children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Message info"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,focusBackOrCancel:!0,onCancel:e}),l.jsx(c("WAWebMsgPreview.react"),{ref:B,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),children:l.jsx(c("WAWebMessageWrapper.react"),{msg:g,ref:C,displayType:d("WAWebDisplayType").DISPLAY_TYPE.MSG_INFO,isMsgVisible:b,position:d("WAWebMessagePosition").MsgPosition.END,onProductClick:a.onProductClick,errorBoundaryName:"contact-msg-info-drawer"})}),l.jsxs(c("WAWebDrawerBody.react"),{children:[u,l.jsxs("div",{className:"x2lah0s x889kno x1w3bhph",children:[N,K]})]})]},"message-info-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebContactMsgInfoFlow.react",["$InternalEnum","WANullthrows","WAWebContactMsgInfoDrawer.react","WAWebFrontendMsgGetters","WAWebProductDetailsFlowLoadable","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["MessageInfo","ProductDetails"]);function a(a){a=a.msg;var b=d("useWAWebFlow").useFlow(l.MessageInfo,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),e=b[0],f=b[1];b=k();var g=b[0],h=b[1];if(f.step==null)return null;var i;switch(f.step){case l.MessageInfo:b=function(a){h(a),f.push(l.ProductDetails)};i=j.jsx(c("WAWebContactMsgInfoDrawer.react"),{msg:a,onProductClick:b});break;case l.ProductDetails:i=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:d("WAWebFrontendMsgGetters").getChat(a),product:c("WANullthrows")(g),onEnd:function(){return f.pop()}});break}return j.jsx(e,{flow:f,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebContextualBanner.react",["WAWebActionLinkButterbar.react","WAWebExperimentIcon.react","WAWebFbtCommon","WAWebFlex.react","WAWebIcLightbulbIcon.react","WAWebSvgButton.react","WAWebUISpacing","WAWebXIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k=i||c("react"),l=30,m={action:{cursor:"x1ypdohk",$$css:!0},icon:{minWidth:"x17s4nb9",$$css:!0},bannerWrapper:{flex:"x1okw0bk",overflowX:"x6ikm8r",overflowY:"x10wlt62",transformOrigin:"x1dp6rp6",backgroundColor:"x13x2ugz",$$css:!0},banner:{minHeight:"x1wjjzik",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xk1nh2v",borderInlineEndColor:"xjm5g7b",borderBottomColor:"xsbzixq",borderInlineStartColor:"x134z7cn",backgroundColor:"xjp690a",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",$$css:!0},dismiss:{color:"x197um1m",minWidth:"xnei2rj",$$css:!0},text:{fontSize:"x1f6kntn",lineHeight:"x17fgdl5",color:"xzwifym",$$css:!0}};function n(a){a=a.name;switch(a){case"experiment":return k.jsx(d("WAWebExperimentIcon.react").ExperimentIcon,{width:l});default:return k.jsx(d("WAWebIcLightbulbIcon.react").IcLightbulbIcon,{width:l,height:l})}}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.onClick,f=a.onDismiss,g=a.canShow;a=a.config;var i=a.actionText,l=a.dismissable,o=a.iconName,p=a.showIcon;a=a.title;var q=function(){e()},r=function(){f()};r=k.jsx(c("WAWebSvgButton.react"),{"aria-label":c("WAWebFbtCommon")("Close"),Icon:d("WAWebXIcon.react").XIcon,onClick:r});o=p?k.jsx(n,{name:o}):null;a=a!=null?k.jsx("div",{className:"x6prxxf xdod15v xzwifym",children:a}):null;i=i!=null?k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(m.text,d("WAWebUISpacing").uiMargin.top5),{children:k.jsx(c("WAWebActionLinkButterbar.react"),{children:i})})):null;return!g?null:k.jsx("div",babelHelpers["extends"]({ref:b},(j||(j=c("stylex"))).props(m.bannerWrapper,d("WAWebUISpacing").uiPadding.horiz25,d("WAWebUISpacing").uiPadding.vert10),{children:k.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[m.banner,d("WAWebUISpacing").uiPadding.all12],children:[k.jsx(d("WAWebFlex.react").FlexItem,{grow:0,xstyle:[m.action,p&&m.icon,d("WAWebUISpacing").uiPadding.end10],children:o&&k.jsx("div",{onClick:q,"aria-hidden":!0,children:o})}),k.jsx(d("WAWebFlex.react").FlexItem,{grow:1,xstyle:[m.action,d("WAWebUISpacing").uiMargin.end10],children:k.jsxs("div",{onClick:q,tabIndex:0,role:"button",children:[a,i]})}),l&&k.jsx(d("WAWebFlex.react").FlexItem,{grow:0,xstyle:m.dismiss,children:r})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebUserPrefsContextualBanner",["$InternalEnum","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({VIEWED:0,DISMISSED:1,CLICKED:2,SYNCED:9});function a(a){var b=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES);if(b==null||typeof b!=="object")return null;b=b[String(a)];a=typeof b==="object"?b==null?void 0:b.state:null;return typeof a==="number"?h.cast(a):null}function i(a,b){var e=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES);if(e==null||typeof e!=="object"){var f;c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES,(f={},f[String(a)]={state:b},f))}c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES,babelHelpers["extends"]({},e,(f={},f[String(a)]={state:b},f)))}function e(a){i(a,null)}g.BannerState=h;g.getBannerState=a;g.setBannerState=i;g.clearBannerState=e}),98);
__d("useWAWebContextualBanner",["WALogger","WATimeUtils","WAWebBannerEventWamEvent","WAWebContextualBannerConfig","WAWebNuxSync","WAWebUserPrefsContextualBanner","WAWebUserPrefsNuxPreferences","WAWebWamEnumBannerOperations","react"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useMemo;function m(a){var b=a.id,c=a.startT;a=a.endT;var e=d("WATimeUtils").convertISO8601DateFormatToUnixTime(c),f=d("WATimeUtils").convertISO8601DateFormatToUnixTime(a);if(e!=null&&!d("WATimeUtils").isInFuture(e)&&f!=null&&d("WATimeUtils").isInFuture(f))return!0;e==null&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[banner] invalid start time for "," in config: ",""])),b,c);f==null&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[banner] invalid end time for "," in config: ",""])),b,a);return!1}function n(a){var b=d("WAWebUserPrefsContextualBanner").getBannerState(a);if(b===d("WAWebUserPrefsContextualBanner").BannerState.SYNCED||b===d("WAWebUserPrefsContextualBanner").BannerState.CLICKED||b===d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED)return!0;b=d("WAWebUserPrefsNuxPreferences").getNuxSyncList();b=b.includes(String(a));if(b){d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.SYNCED);return!0}return!1}var o=function(a){var b=!0;(a==null?void 0:a.condition)!=null&&(b=a.condition());return a!=null&&m(a)&&!n(a.id)&&b};function p(a){switch(a){case d("WAWebUserPrefsContextualBanner").BannerState.CLICKED:return d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.CLICK;case d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED:return d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.DISMISS;case d("WAWebUserPrefsContextualBanner").BannerState.VIEWED:return d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.SHOWN;case d("WAWebUserPrefsContextualBanner").BannerState.SYNCED:return null}}function q(a,b){if(!a)return;b=p(b);if(a.metricField&&b){a={bannerType:a.metricField,bannerOperation:b};new(d("WAWebBannerEventWamEvent").BannerEventWamEvent)(a).commit()}}function a(a){var b=l(function(){return new Map(a.map(function(a){return[String(a),d("WAWebContextualBannerConfig").getContextualBannerConfig(a)]}))},[a]),e=k(function(a){return o(b.get(String(a)))},[b]),f=k(function(a){var c=b.get(String(a));c&&(d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.VIEWED),q(c,d("WAWebUserPrefsContextualBanner").BannerState.VIEWED))},[b]),g=k(function(a){var e=b.get(String(a));(e==null?void 0:e.syncEnabled)===!0&&void c("WAWebNuxSync").acknowledgeNux(a);d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.CLICKED);q(e,d("WAWebUserPrefsContextualBanner").BannerState.CLICKED)},[b]),h=k(function(a){var e=b.get(String(a));(e==null?void 0:e.syncEnabled)===!0&&void c("WAWebNuxSync").acknowledgeNux(a);d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED);q(e,d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED)},[b]),i=k(function(a){var e;((e=b.get(String(a)))==null?void 0:e.syncEnabled)===!0&&void c("WAWebNuxSync").unAcknowledgeNux(a);d("WAWebUserPrefsContextualBanner").clearBannerState(a)},[b]);return[e,f,g,h,i]}g["default"]=a}),98);
__d("WAWebContextualBannerWrapper.react",["WAWebContextualBanner.react","WAWebContextualBannerConfig","WAWebVelocityTransitionGroup","react","useVisibility","useWAWebCallbackOnce","useWAWebContextualBanner"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useState;function a(a){var b=a.bannerListOrderedByPriority;a=c("useWAWebContextualBanner")(b.map(function(a){return a.id}));var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4],m=k(function(){return b.find(function(a){a=a.id;return e(a)})},[b,e]);a=l(m);var n=a[0],o=a[1],p=c("useWAWebCallbackOnce")(f,[n]);a=c("useVisibility")({onVisible:function(){n&&p(n.id)}});f=a[0];var q=k(function(){o(m())},[m]);if(n==null)return;a=j.jsx(c("WAWebContextualBanner.react"),{ref:f,canShow:e(n.id),config:d("WAWebContextualBannerConfig").getContextualBannerConfig(n.id),onClick:function(){g(n.id),n.onClick==null||n.onClick(),q()},onDismiss:function(){h(n.id),q()},onReset:function(){i(n.id)}});return j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"butterbar",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebEditUsernameDrawer.react",["fbt","WAWebDrawerManager","WAWebSetUsernameDrawer.react","WAWebUsernameManagementDrawer.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.contactId,e=a.contactUsername;a=a.ref;var f=h._(/*BTDS*/"Change username"),g=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:e,contactId:b}))};return j.jsx(c("WAWebSetUsernameDrawer.react"),{contactId:b,contactUsername:e,ref:a,onBack:g,headerText:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSetContactUsernameAction",["WAWebContactCollection","WAWebSetUsernameJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebContactCollection").ContactCollection.getMeContact();if(b==null)throw c("err")("Failed to retrieve self contact");b=(yield d("WAWebSetUsernameJob").setUsernameQueryJob(a));return b});return h.apply(this,arguments)}g.setMyUsername=a}),98);
__d("WAWebUsernameStringUtils",["fbt"],(function(a,b,c,d,e,f,g,h){f=/^[A-Za-z0-9_]+$/;function a(){return h._(/*BTDS*/"You can only use a-z and 0-9.")}function b(){return h._(/*BTDS*/"This username is available.")}function c(){return h._(/*BTDS*/"Username is not available.")}function d(){return h._(/*BTDS*/"You can't make changes to your username right now. Try again later.")}function e(){return h._(/*BTDS*/"We couldn\u2019t complete your request.")}g.USERNAME_AVAILABILITY_REGEX=f;g.getUsernameInvalidCharAvailabilityMessage=a;g.getUsernameAvailableMessage=b;g.getUsernameUnavailableMessage=c;g.getUsernameChangeNotAllowedMessage=d;g.getUsernameGenericErrorMessage=e}),226);
__d("WAWebUsernameErrorUtils",["$InternalEnum","WAWebFbtCommon","WAWebToast.react","WAWebToastManager","WAWebUsernameStringUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j=b("$InternalEnum")({BAD_REQUEST:400,FORBIDDEN:403,NOT_FOUND:404,NOT_ACCEPTABLE:406,RATE_OVER_LIMIT:429,INTERNAL_SERVER_ERROR:500,USERNAME_NOT_AVAILABLE:40601,USERNAME_SET_OVER_LIMIT:40602,USERNAME_CHANGE_BLOCKED:40603});a=function(a,b){switch(a.statusCode){case j.USERNAME_CHANGE_BLOCKED:k(d("WAWebUsernameStringUtils").getUsernameChangeNotAllowedMessage(),b);break;default:k(d("WAWebUsernameStringUtils").getUsernameGenericErrorMessage(),b);break}};var k=function(a,b){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:a,action:b?{actionText:c("WAWebFbtCommon")("Try again"),onAction:function(){void b()}}:null}))};g.handleErrorBasedOnErrorCode=a}),98);
__d("WAWebSetUsernameDrawer.react",["fbt","WAWebButton.react","WAWebCheckUsernameAvailabilityJob","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebMentionsRefreshedIcon.react","WAWebModalManager","WAWebRichTextField.react","WAWebSetContactUsernameAction","WAWebText.react","WAWebUISpacing","WAWebUsernameChangedModal.react","WAWebUsernameErrorUtils","WAWebUsernameKeyInfoDrawer.react","WAWebUsernameStringUtils","WDSFont.react","asyncToGeneratorRuntime","react","useLazyRef","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={iconSection:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"x1nhvcw1",alignItems:"x6s0dn4",color:"x16cd2qt",$$css:!0},description:{width:"xthe8de",marginInlineStart:"x1olwjlq",$$css:!0}};function a(a){var e=a.contactId,f=a.contactUsername,g=a.headerText,i=a.onBack;a=a.ref;var j=l(f),n=j[0],o=j[1];j=l(null);var p=j[0],q=j[1];j=l(!1);var r=j[0],s=j[1];j=l(!1);var t=j[0],u=j[1],v=c("useLazyRef")(function(){return new AbortController()});j=l(!1);var w=j[0],x=j[1],y=c("useWAWebUnmountSignal")(),z=function(a){var b=a.isAvailable;a=a.isPending;b!=null&&s(b);a!=null&&u(a)},A=function(a){o(a);if(a===f){q(null);z({isAvailable:!1,isPending:!1});return}v.current.abort();v.current=new AbortController();u(!0);q(null);var b=v.current.signal;window.setTimeout(function(){return void B(a,b)},750)},B=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a.length===0){z({isAvailable:!1,isPending:!1});return}if(!d("WAWebUsernameStringUtils").USERNAME_AVAILABILITY_REGEX.test(a)){z({isAvailable:!1,isPending:!1});q(d("WAWebUsernameStringUtils").getUsernameInvalidCharAvailabilityMessage());return}if(b.aborted)return;try{b=(yield d("WAWebCheckUsernameAvailabilityJob").getUsernameAvailability(a));a=b.isUsernameAvailable;z({isAvailable:a});a||q(d("WAWebUsernameStringUtils").getUsernameUnavailableMessage())}catch(a){z({isAvailable:!1}),q(d("WAWebUsernameStringUtils").getUsernameUnavailableMessage())}z({isPending:!1})});return function(b,c){return a.apply(this,arguments)}}(),C=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){x(!0),yield d("WAWebSetContactUsernameAction").setMyUsername(n).then(function(a){if(y.aborted)return;if(a){u(!1);if(n==null)return;f!=null?d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebUsernameChangedModal.react"),{username:n,contactId:e})):d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebUsernameKeyInfoDrawer.react"),{username:n,contactId:e,fromUsernameCreation:!0}))}})["catch"](function(a){if(y.aborted)return;d("WAWebUsernameErrorUtils").handleErrorBasedOnErrorCode(a,C)})["finally"](function(){if(y.aborted)return;x(!1)})});return function(){return a.apply(this,arguments)}}();j=h._(/*BTDS*/"People will be able to find you with this username.");var D=h._(/*BTDS*/"People in your conversations will see your new username after you change it.");D=f!=null?D:j;j=k.jsxs(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.start12,grow:1,shrink:1,children:[k.jsx(d("WAWebText.react").WAWebTextSmall,{color:p==null?"teal":"critical",children:h._(/*BTDS*/"Username")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{pending:t,testid:void 0,onChange:function(a){a=a.text;A(a)},theme:"text-input",focusOnMount:!0,value:n,maxLength:30,showRemaining:!0,charLimit:4,spellCheck:!1,error:p!=null&&t===!1?p:null,showValidateIcon:n!==f,showSuccessIcon:n!=null&&(n==null?void 0:n.length)>0,contextMsg:r===!0&&t===!1&&n!==f?d("WAWebUsernameStringUtils").getUsernameAvailableMessage():null})]});return k.jsxs(c("WAWebDrawer.react"),{ref:a,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:g,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:i}),k.jsxs(c("WAWebDrawerBody.react"),{children:[k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebFlex.react").FlexItem,{margin:32,align:"center",xstyle:m.description,children:k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",textAlign:"center",children:D})}),k.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiPadding.horiz24,children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:m.iconSection,children:k.jsx(d("WAWebMentionsRefreshedIcon.react").MentionsRefreshedIcon,{width:26,height:26,xstyle:d("WAWebUISpacing").uiMargin.top28})}),j]})]}),k.jsx(c("WAWebDrawerSection.react"),{animation:!1,children:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:d("WAWebUISpacing").uiPadding.all32,children:k.jsx(d("WAWebButton.react").WAWebButtonPrimary,{stretch:!0,onClick:C,spinner:w,disabled:n==null||(n==null?void 0:n.length)===0||r!==!0||n===f||w,children:h._(/*BTDS*/"Save")})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebShareUsernameDrawer.react",["fbt","WALogger","WAWebCheckBox.react","WAWebCopyToClipboard","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerItem.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUsernameManagementDrawer.react","WDSFont.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(j||(j=d("react"))).useState,n={drawerItem:{width:"xh8yej3",$$css:!0},usernameLinkContainer:{background:"xh5507f",borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"xt1ryeb",$$css:!0},textualLink:{fontWeight:"x1xlr1w8",":hover_textDecoration":"xt0b8zv",":focus-visible_textDecoration":"xbvygy2",":focus-visible_color":"x17f7hit",":focus-visible_backgroundColor":"xp30eni",":focus-visible_textUnderlineOffset":"xhmieyt",$$css:!0}};function a(a){var b=a.contactId,e=a.ref,f=a.username,g=a.usernameKey;a=m(g!=null);var j=a[0],k=a[1];a=g!=null&&j?"#"+g:null;a="wa.me/"+f+(a!=null?a:"");a=m(a);var o=a[0],p=a[1];a=h._(/*BTDS*/"Share username");var q=h._(/*BTDS*/"Include my username key"),r=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{contactId:b,username:f}))},s=function(){var a=!j;k(a);a=a&&g!=null?"#"+g:null;p("wa.me/"+f+(a!=null?a:""))},t=function(){d("WAWebCopyToClipboard").copyTextToClipboard(o).then(function(a){a&&d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Link copied to clipboard.")}))})["catch"](function(){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[username] Failed to copy username link to clipboard in share username drawer"]))).sendLogs("failed-to-copy-username-link")})};return l.jsxs(c("WAWebDrawer.react"),{ref:e,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:r}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.start30,d("WAWebUISpacing").uiMargin.end30,d("WAWebUISpacing").uiMargin.top20],children:l.jsx(d("WAWebFlex.react").FlexItem,{xstyle:n.drawerItem,children:g!=null?l.jsx(c("WAWebDrawerItem.react"),{icon:l.jsx(d("WAWebCheckBox.react").CheckBox,{checked:j,onChange:s}),theme:"privacy",isLastItem:!0,children:l.jsx(d("WAWebFlex.react").FlexColumn,{align:"start",marginStart:4,children:l.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:q})})}):null})}),l.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[d("WAWebUISpacing").uiMargin.start30,d("WAWebUISpacing").uiMargin.end30,d("WAWebUISpacing").uiMargin.top5,n.usernameLinkContainer],children:l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top20,children:l.jsx(d("WDSFont.react").WDSTextBody2Emphasized,{textAlign:"center",colorName:"contentDefault",children:o})}),l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top15,children:l.jsx(d("WAWebText.react").WAWebClickableText,{xstyle:n.textualLink,highlightOnHover:!0,onClick:t,"aria-label":h._(/*BTDS*/"Click to copy share username link"),children:l.jsx(d("WDSFont.react").WDSTextBody2Emphasized,{textAlign:"center",colorName:"contentActionEmphasized",children:h._(/*BTDS*/"Copy link")})})})]})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ShareUsernameDrawer=a}),226);
__d("WAWebUsernameChangedModal.react",["fbt","WAWebConfirmPopup.react","WAWebDrawerManager","WAWebFbtCommon","WAWebModalManager","WAWebUsernameManagementDrawer.react","WDSFont.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={content:{marginTop:"xevwqry",$$css:!0}};function a(a){var b=a.contactId,e=a.username;a=j.jsx(d("WDSFont.react").WDSTextHeadline1,{colorName:"contentDefault",textAlign:"center",children:h._(/*BTDS*/"You changed your username to \u0040{username}",[h._param("username",e)])});var f=h._(/*BTDS*/"People who saved you as a contact or have your username will see this update."),g=c("WAWebFbtCommon")("Continue"),i=function(){d("WAWebModalManager").ModalManager.close(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{contactId:b,username:e}))};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:a,okButtonType:"secondary",onOK:i,okText:g,children:j.jsx(d("WDSFont.react").WDSTextBody2,{textAlign:"start",colorName:"contentDeemphasized",xstyle:k.content,children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameCreationSuccessDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebSvgComponentBase","WAWebUISpacing","WAWebUsernameManagementDrawer.react","WAWebWdsPictoSucessCelebrationTickIcon.react","WDSButton.react","WDSFont.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={container:{width:"x1rfehsz",paddingInlineStart:"xjwn8et",$$css:!0},content:{marginTop:"xevwqry",$$css:!0}};function l(a){a=a.description;return j.jsx(d("WDSFont.react").WDSTextBody2,{textAlign:"center",colorName:"contentDeemphasized",xstyle:k.content,children:a})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.contactId,e=a.username;a=a.usernameKey;var f=h._(/*BTDS*/"Username"),g=j.jsx(d("WDSFont.react").WDSTextLargeTitle2,{colorName:"contentDefault",textAlign:"center",children:h._(/*BTDS*/"You\u2019re \u0040{username}",[h._param("username",e)])}),i=j.jsx(d("WDSFont.react").WDSTextHeadline1,{colorName:"contentDefault",textAlign:"center",children:h._(/*BTDS*/"You\u2019re \u0040{username} and your key is {username-key}",[h._param("username",e),h._param("username-key",a)])});a=a!=null;i=a?i:g;g=h._(/*BTDS*/"Now you can share your username and key instead of your phone number when telling someone how to contact you for the first time.");var m=h._(/*BTDS*/"Now you can share your username instead of your phone number when telling someone how to contact you for the first time."),n=h._(/*BTDS*/"You can add a key from Settings to reduce unwanted messages."),o=h._(/*BTDS*/"Done"),p=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{contactId:b,username:e}))};return j.jsxs(c("WAWebDrawer.react"),{children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:p}),j.jsxs(c("WAWebDrawerBody.react"),{children:[j.jsx(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",xstyle:k.container,children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",alignSelf:"center",children:[j.jsx(d("WAWebFlex.react").FlexItem,{align:"center",marginTop:40,children:j.jsx(d("WAWebWdsPictoSucessCelebrationTickIcon.react").WdsPictoSucessCelebrationTickIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SUCCESS})}),j.jsx(d("WAWebFlex.react").FlexItem,{marginTop:40,align:"center",children:j.jsx(d("WDSFont.react").WDSTextLargeTitle2,{colorName:"contentDefault",textAlign:"center",children:i})}),a?j.jsx(l,{description:g}):j.jsxs(d("WAWebFlex.react").FlexItem,{align:"center",children:[j.jsx(l,{description:m}),j.jsx(l,{description:n})]})]})}),j.jsx(c("WAWebDrawerSection.react"),{animation:!1,children:j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz32,d("WAWebUISpacing").uiPadding.vert16,d("WAWebUISpacing").uiMargin.bottom32],children:j.jsx(c("WDSButton.react"),{widthMode:"flexible",onPress:p,size:"medium",variant:"filled",type:"default",label:o})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameDeleteModal.react",["fbt","WAWebConfirmPopup.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebSetContactUsernameAction","WAWebSvgComponentBase","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUsernameErrorUtils","WAWebWarningOutlineIcon.react","WDSFont.react","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var e=a.onDeleteUsername;a=l(!1);var f=a[0],g=a[1],i=c("useWAWebUnmountSignal")();a=h._(/*BTDS*/"If you continue, your phone number will show in existing chats and calls instead of your username.");var j=k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFaqUrl(),children:c("WAWebFbtCommon")("Learn more")});j=h._(/*BTDS*/"Deleted usernames may be available for others to use. {link to learn more}",[h._param("link to learn more",j)]);var m=h._(/*BTDS*/"Delete your username?");m=k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{align:"center",marginBottom:20,children:k.jsx(d("WAWebWarningOutlineIcon.react").WarningOutlineIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.CRITICAL})}),k.jsx(d("WDSFont.react").WDSTextHeadline2,{textAlign:"center",colorName:"contentDefault",children:m})]});var n=h._(/*BTDS*/"Username deleted"),o=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){g(!0),yield d("WAWebSetContactUsernameAction").setMyUsername().then(function(a){if(i.aborted)return;a&&(e&&e(),d("WAWebModalManager").ModalManager.close(),d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:n})))})["catch"](function(a){if(i.aborted)return;d("WAWebUsernameErrorUtils").handleErrorBasedOnErrorCode(a);d("WAWebModalManager").ModalManager.close()})["finally"](function(){if(i.aborted)return;g(!1)})});return function(){return a.apply(this,arguments)}}(),p=function(){d("WAWebModalManager").ModalManager.close()};return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:m,okButtonType:"warning",onOK:o,okText:h._(/*BTDS*/"Delete"),okDisabled:f,okSpinner:f,onCancel:p,children:[k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",xstyle:d("WAWebUISpacing").uiMargin.vert24,children:a}),k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:j})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameEditDropdown.react",["fbt","$InternalEnum","WAWebDrawerManager","WAWebDropdownItem.react","WAWebEditUsernameDrawer.react","WAWebFlex.react","WAWebModalManager","WAWebText.react","WAWebUISpacing","WAWebUsernameDeleteModal.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=b("$InternalEnum")({CHANGE:"change",DELETE:"delete"}),m={option:{boxSizing:"x9f619",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",color:"xzwifym",cursor:"x1ypdohk",whiteSpace:"xuxw1ft",$$css:!0}};function n(a){var b=a.contactId,e=a.dropdownItem,f=a.label,g=a.onBack,h=a.optionId,i=a.username;return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){e===l.CHANGE?d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebEditUsernameDrawer.react"),{contactUsername:i,contactId:b})):d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebUsernameDeleteModal.react"),{onDeleteUsername:g}))},children:k.jsx(d("WAWebFlex.react").FlexRow,{className:(j||(j=c("stylex")))([d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.end32,d("WAWebUISpacing").uiPadding.start24,m.option]),children:k.jsx(d("WAWebText.react").WAWebTextSmall,{color:e===l.DELETE?"critical":"primary",xstyle:d("WAWebUISpacing").uiMargin.start8,children:f})})},h)}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.contactId,c=a.onBack;a=a.username;return k.jsxs(k.Fragment,{children:[k.jsx(n,{contactId:b,onBack:c,username:a,optionId:"option_change_username",dropdownItem:l.CHANGE,label:h._(/*BTDS*/"Change username")}),k.jsx(n,{contactId:b,onBack:c,username:a,dropdownItem:l.DELETE,optionId:"option_delete_username",label:h._(/*BTDS*/"Delete username")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameManagementDrawer.react",["fbt","WAWebClickable.react","WAWebConnModel","WAWebContactCollection","WAWebCreateUsernameKeyDrawer.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebDropdown.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebKeyOutlineIcon.react","WAWebLinkIcon.react","WAWebMenuBar.react","WAWebProfileDrawerLoadable","WAWebProfilePicThumbCollection","WAWebShareUsernameDrawer.react","WAWebSvgComponentBase","WAWebText.react","WAWebTextStatusCollection","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUseIsKeyboardUser","WAWebUserPrefsMeUser","WAWebUsernameEditDropdown.react","WAWebUsernameKeyInfoDrawer.react","WAWebVelocityTransitionGroup","WAWebWdsPictoPrivateMentionIcon.react","WDSFont.react","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react")),l=a.useRef,m=a.useState,n={badge:{marginTop:"xotjm27",$$css:!0},editText:{fontSize:"x1f6kntn",$$css:!0},drawerTitleContainer:{justifyContent:"x1qughib",width:"xh8yej3",$$css:!0},drawerIcon:{minWidth:"xg3ba1e",marginInlineEnd:"xviac27",$$css:!0},sidePadding:{marginInlineStart:"xlese2p",marginInlineEnd:"xviac27",$$css:!0},divider:{marginTop:"x1380le5",marginBottom:"xefnzgg",marginInlineStart:"x6pxu1d",marginInlineEnd:"xd6izgl",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderTopColor:"xx42vgk",borderInlineEndColor:"xbogo7e",borderBottomColor:"x120ee7l",borderInlineStartColor:"x1vb5itz",$$css:!0}};function o(a){var b=a.contactId,e=a.username,f=a.usernameKey,g=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(q,{username:e,contactId:b}))};a=function(){f!=null?d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebCreateUsernameKeyDrawer.react"),{handleBack:g,contactId:b})):d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebUsernameKeyInfoDrawer.react"),{username:e,contactId:b}))};var i=f!=null?h._(/*BTDS*/"{key}",[h._param("key",f)]):h._(/*BTDS*/"Off");return k.jsx(d("WAWebClickable.react").Clickable,{role:"button",onClick:a,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{align:"center",xstyle:n.drawerIcon,children:k.jsx(d("WAWebKeyOutlineIcon.react").KeyOutlineIcon,{directional:!0,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY,height:21})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{grow:1,children:[k.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:n.drawerTitleContainer,children:[k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDefault",children:h._(/*BTDS*/"Key")}),k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:i})]}),k.jsx(d("WAWebFlex.react").FlexItem,{children:k.jsx(d("WDSFont.react").WDSTextBody3,{colorName:"contentDeemphasized",children:h._(/*BTDS*/"Share your username and key when telling someone how to contact you.")})})]})]})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.contactId,d=a.username;a=a.usernameKey;return k.jsx(c("WAWebDrawerSection.react"),{xstyle:n.sidePadding,shadow:!1,animation:!1,children:k.jsx(o,{username:d,usernameKey:a,contactId:b})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.contactId,e=a.onBack,f=a.ref,g=a.username;a=m(null);var i=a[0],j=a[1];a=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());a=d("useWAWebContactValues").useContactValues(a.id,[d("WAWebFrontendContactGetters").getUsernameKey]);var o=a[0];a=c("WAWebUseIsKeyboardUser")();var q=a.isKeyboardUser,r=l(null);a=h._(/*BTDS*/"Username");var s=function(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),b=d("WAWebTextStatusCollection").TextStatusCollection.assertGet(a),c=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.assertGet(a);a=d("WAWebContactCollection").ContactCollection.assertGet(a);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebProfileDrawerLoadable").ProfileDrawerFlowLoadable,{status:b,profilePicThumb:c,contact:a,conn:d("WAWebConnModel").Conn,isInitialStep:!0}))},t=function(){j({DirX:d("WAWebDropdown.react").DirX.CENTER,DirY:d("WAWebDropdown.react").DirY.BOTTOM,menu:k.jsx(c("WAWebUsernameEditDropdown.react"),{contactId:b,onBack:s,username:g}),anchor:r.current,autoFocus:q})},u=function(){j(null)};t=k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebText.react").WAWebClickableText,{ref:r,onClick:t,color:"green",xstyle:[n.editText,d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom16],children:h._(/*BTDS*/"Edit")}),k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop-fast",children:i==null?null:k.jsx(d("WAWebUimUie.react").UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:u,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:i})})})]});return k.jsxs(c("WAWebDrawer.react"),{ref:f,testid:void 0,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:e!=null?e:s,children:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{onClick:function(){return d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebShareUsernameDrawer.react").ShareUsernameDrawer,{username:g,usernameKey:o,contactId:b}))},testid:void 0,icon:k.jsx(d("WAWebLinkIcon.react").LinkIcon,{}),title:h._(/*BTDS*/"Share Username")})}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:n.badge,children:k.jsx(d("WAWebWdsPictoPrivateMentionIcon.react").WdsPictoPrivateMentionIcon,{height:65,width:65})}),k.jsx(d("WAWebText.react").WAWebTextLarge,{textAlign:"center",xstyle:[d("WAWebUISpacing").uiMargin.top32,d("WAWebUISpacing").uiMargin.bottom16],children:g}),k.jsx(d("WAWebFlex.react").FlexItem,{children:t})]})}),k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:n.divider}),k.jsx(p,{username:g,usernameKey:o,contactId:b})]})})]})}q.displayName=q.name+" [from "+f.id+"]";g.UsernameManagementDrawer=q}),226);
__d("WAWebSetUsernameKeyAction",["WAWebSetUsernameKeyQueryJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSetUsernameKeyQueryJob").setUsernameKeyQueryJob(a));return a});return h.apply(this,arguments)}g.setMyUsernameKey=a}),98);
__d("WAWebCreateUsernameKeyDrawer.react",["fbt","WAWebButton.react","WAWebClickable.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlex.react","WAWebFrontendContactGetters","WAWebModalManager","WAWebRefreshIcon.react","WAWebSetUsernameKeyAction","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUsernameCreationSuccessDrawer.react","WAWebUsernameKeyDeleteModal.react","WAWebUsernameManagementDrawer.react","WAWebUsernameUtils","WDSButton.react","WDSFont.react","react","useWAWebContactValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={keySuggestionContainer:{rowGap:"x1f0uite",columnGap:"xs2akgl",paddingTop:"x16ovd2e",paddingBottom:"x12xbjc7",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",$$css:!0},keySection:{width:"xycev2y",height:"x1jjfqgs",background:"xh5507f",borderStartStartRadius:"xlr9sxt",borderStartEndRadius:"xvvg52n",borderEndEndRadius:"xwd4zgb",borderEndStartRadius:"xq8v1ta",rowGap:"x121sasi",columnGap:"x1mn2tih",paddingTop:"xl7twdi",paddingBottom:"xvpt6g3",$$css:!0},descriptionContainer:{rowGap:"x1j3ira4",columnGap:"xrdqr27",paddingTop:"xl7twdi",paddingBottom:"xvg22vi",paddingInlineStart:"xdx6fka",paddingInlineEnd:"xvtqlqk",paddingLeft:null,paddingRight:null,$$css:!0},usernameKeyContainer:{justifyContent:"xl56j7k",alignItems:"x6s0dn4",rowGap:"x121sasi",columnGap:"x1mn2tih",$$css:!0},refreshIcon:{color:"xo1mcw5",$$css:!0}};function a(a){var b=a.contactId,e=a.fromUsernameCreation;a=a.handleBack;var f=d("useWAWebContactValues").useContactValues(b,[d("WAWebFrontendContactGetters").getUsername,d("WAWebFrontendContactGetters").getUsernameKey]),g=f[0];f=f[1];var i=l(f!=null?null:d("WAWebUsernameUtils").generateUsernameKeySuggestion()),j=i[0],n=i[1];i=l(!1);var o=i[0],p=i[1],q=c("useWAWebUnmountSignal")();if(g==null)return null;var r=f!=null;i=j!=null;f=(f=j!=null?j:f)==null?void 0:f.split("").join(" ");var s=h._(/*BTDS*/"Username key"),t=h._(/*BTDS*/"Suggest a different key"),u=h._(/*BTDS*/"People will be able to find you with this username."),v=h._(/*BTDS*/"Save key"),w=h._(/*BTDS*/"Remove key"),x=h._(/*BTDS*/"Username key changed"),y=h._(/*BTDS*/"Username key added"),z=function(){var a=d("WAWebUsernameUtils").generateUsernameKeySuggestion();n(a)},A=function(){p(!0),d("WAWebSetUsernameKeyAction").setMyUsernameKey(j).then(function(a){if(q.aborted)return;if(!a)return;if(!e){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{contactId:b,username:g}));a=r?x:y;d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:a}))}else j!=null&&d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebUsernameCreationSuccessDrawer.react"),{contactId:b,username:g,usernameKey:j}))})["catch"](function(){if(q.aborted)return;d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"We couldn\u2019t complete your request."),action:{actionText:c("WAWebFbtCommon")("Try again"),onAction:A}}))})["finally"](function(){if(q.aborted)return;p(!1)})},B=function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebUsernameKeyDeleteModal.react").UsernameKeyDeleteModal,{contactId:b,username:g}))};return k.jsxs(c("WAWebDrawer.react"),{children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:s,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a}),k.jsxs(c("WAWebDrawerBody.react"),{children:[k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:m.keySuggestionContainer,marginTop:32,children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:m.keySection,children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:m.usernameKeyContainer,children:k.jsx(d("WDSFont.react").WDSTextLargeTitle1,{colorName:"contentDefault",children:f})}),k.jsx(d("WAWebClickable.react").Clickable,{onClick:z,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",gap:8,children:[k.jsx(d("WAWebFlex.react").FlexItem,{children:k.jsx(d("WAWebRefreshIcon.react").RefreshIcon,{xstyle:m.refreshIcon,width:18,height:18})}),k.jsx(d("WDSFont.react").WDSTextBody2Emphasized,{colorName:"contentActionEmphasized",children:t})]})})]})}),k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:m.descriptionContainer,children:k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:u})})]}),k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,children:[k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[r?d("WAWebUISpacing").uiPadding.bottom10:d("WAWebUISpacing").uiPadding.bottom40,d("WAWebUISpacing").uiPadding.horiz32],children:k.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:A,stretch:!0,disabled:!i||o,spinner:o,children:v})}),r&&k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[d("WAWebUISpacing").uiPadding.bottom16,d("WAWebUISpacing").uiPadding.horiz32],children:k.jsx(c("WDSButton.react"),{widthMode:"flexible",onPress:B,size:"medium",variant:"borderless",type:"destructive",label:w})})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameKeyDeleteModal.react",["fbt","WAWebConfirmPopup.react","WAWebDrawerManager","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebSetUsernameKeyAction","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUsernameManagementDrawer.react","WDSFont.react","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m=function(){d("WAWebModalManager").ModalManager.close()};function a(a){var e=a.contactId,f=a.username;a=l(!1);var g=a[0],i=a[1],j=c("useWAWebUnmountSignal")();a=c("WAWebFbtCommon")("Cancel");var n=h._(/*BTDS*/"Remove"),o=h._(/*BTDS*/"Are you sure you want to remove your username key?"),p=k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Username key removed")}),q=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i(!0),yield d("WAWebSetUsernameKeyAction").setMyUsernameKey(null).then(function(a){if(j.aborted)return;a&&(d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{contactId:e,username:f})),d("WAWebModalManager").ModalManager.close(),d("WAWebToastManager").ToastManager.open(p))})["catch"](function(){if(j.aborted)return;d("WAWebModalManager").ModalManager.close();d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"We couldn\u2019t complete your request."),action:{actionText:c("WAWebFbtCommon")("Try again"),onAction:function(){void q()}}}))})["finally"](function(){if(j.aborted)return;i(!1)})});return function(){return a.apply(this,arguments)}}();return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:n,okSpinner:g,okDisabled:g,onOK:q,cancelText:a,onCancel:m,okButtonType:"warning",cancelButtonType:"plain-white",children:k.jsx(d("WAWebFlex.react").FlexColumn,{align:"start",children:k.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",xstyle:[d("WAWebUISpacing").uiMargin.top18,d("WAWebUISpacing").uiMargin.start18],children:o})})})}a.displayName=a.name+" [from "+f.id+"]";g.UsernameKeyDeleteModal=a}),226);
__d("WAWebShareIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="share";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M16.5 20C15.8056 20 15.2153 19.7569 14.7292 19.2708C14.2431 18.7847 14 18.1944 14 17.5C14 17.375 14.0278 17.1736 14.0833 16.8958L9.14583 13.875C8.92361 14.0694 8.67326 14.2222 8.39479 14.3333C8.11646 14.4444 7.81819 14.5 7.5 14.5C6.80556 14.5 6.21528 14.2569 5.72917 13.7708C5.24306 13.2847 5 12.6944 5 12C5 11.3056 5.24306 10.7153 5.72917 10.2292C6.21528 9.74306 6.80556 9.5 7.5 9.5C7.81944 9.5 8.11806 9.55556 8.39583 9.66667C8.67361 9.77778 8.92361 9.93056 9.14583 10.125L14.0833 7.10417C14.0556 7.00694 14.0347 6.91104 14.0208 6.81646C14.0069 6.72188 14 6.61639 14 6.5C14 5.80556 14.2431 5.21528 14.7292 4.72917C15.2153 4.24306 15.8056 4 16.5 4C17.1944 4 17.7847 4.24306 18.2708 4.72917C18.7569 5.21528 19 5.80556 19 6.5C19 7.19444 18.7569 7.78472 18.2708 8.27083C17.7847 8.75694 17.1944 9 16.5 9C16.1806 9 15.8819 8.94444 15.6042 8.83333C15.3264 8.72222 15.0764 8.56944 14.8542 8.375L9.91667 11.3958C9.94444 11.4931 9.96528 11.589 9.97917 11.6835C9.99306 11.7781 10 11.8836 10 12C10 12.1164 9.99306 12.2219 9.97917 12.3165C9.96528 12.411 9.94444 12.5069 9.91667 12.6042L14.8542 15.625C15.0764 15.4306 15.3267 15.2778 15.6052 15.1667C15.8835 15.0556 16.1818 15 16.5 15C17.1944 15 17.7847 15.2431 18.2708 15.7292C18.7569 16.2153 19 16.8056 19 17.5C19 18.1944 18.7569 18.7847 18.2708 19.2708C17.7847 19.7569 17.1944 20 16.5 20ZM16.5 18.5C16.7833 18.5 17.0208 18.4042 17.2125 18.2125C17.4042 18.0208 17.5 17.7833 17.5 17.5C17.5 17.2167 17.4042 16.9792 17.2125 16.7875C17.0208 16.5958 16.7833 16.5 16.5 16.5C16.2167 16.5 15.9792 16.5958 15.7875 16.7875C15.5958 16.9792 15.5 17.2167 15.5 17.5C15.5 17.7833 15.5958 18.0208 15.7875 18.2125C15.9792 18.4042 16.2167 18.5 16.5 18.5ZM7.5 13C7.78333 13 8.02083 12.9042 8.2125 12.7125C8.40417 12.5208 8.5 12.2833 8.5 12C8.5 11.7167 8.40417 11.4792 8.2125 11.2875C8.02083 11.0958 7.78333 11 7.5 11C7.21667 11 6.97917 11.0958 6.7875 11.2875C6.59583 11.4792 6.5 11.7167 6.5 12C6.5 12.2833 6.59583 12.5208 6.7875 12.7125C6.97917 12.9042 7.21667 13 7.5 13ZM16.5 7.5C16.7833 7.5 17.0208 7.40417 17.2125 7.2125C17.4042 7.02083 17.5 6.78333 17.5 6.5C17.5 6.21667 17.4042 5.97917 17.2125 5.7875C17.0208 5.59583 16.7833 5.5 16.5 5.5C16.2167 5.5 15.9792 5.59583 15.7875 5.7875C15.5958 5.97917 15.5 6.21667 15.5 6.5C15.5 6.78333 15.5958 7.02083 15.7875 7.2125C15.9792 7.40417 16.2167 7.5 16.5 7.5Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShareIcon=a}),98);
__d("WAWebWdsPictoSecurePrivateMentionKeyIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wds-picto-secure-private-mention-key";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=88;o=133;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"#25D366",stroke:"#111B21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M90.41 76.5c5.13 0 10.09-.61 13.3-1.67 2.36-.73 3.67-2.18 3.67-4.07 0-1.9-1.4-3.24-3.28-3.24-.45 0-1.13.17-1.74.33a45.66 45.66 0 0 1-10.99 1.39c-16.56 0-26.93-9.93-26.93-25.88s10.42-26.67 25.8-26.67 25.12 9.32 25.12 23.32c0 8.65-2.81 14.17-6.92 14.17-2.71 0-4.06-1.4-4.06-4.07V29.52c0-2.29-1.47-3.85-3.78-3.85-2.08 0-3.5 1.67-3.5 3.01v1.12a12.4 12.4 0 0 0-9.12-4.13c-8.63 0-14.77 7.31-14.77 17.57 0 10.26 6.14 17.74 14.93 17.74 4.22 0 7.82-1.95 10.03-5.36 1.57 3.29 5.01 5.36 9.46 5.36 9.06 0 15.1-8.6 15.1-21.2 0-17.96-13.25-30.28-32.45-30.28-19.2 0-33.56 13.72-33.56 33.7 0 19.98 13.52 33.3 33.69 33.3Zm-.96-22.98c-4.79 0-7.77-3.96-7.77-10.43s3.04-10.43 7.82-10.43c4.79 0 7.95 3.9 7.95 10.26 0 6.36-3.15 10.6-8 10.6Z"}),k.jsx("path",{fill:"#E6FFDA",stroke:"#111B21",strokeLinejoin:"round",strokeWidth:1.5,d:"M30.73 64.62a20.41 20.41 0 0 1-20.31-20.5c0-11.3 9.11-20.5 20.31-20.5 8.59 0 15.93 5.38 18.9 13.01h21.6l6.19 7.49-10.57 11.76-6.46-4.27-5.03 4.27-5.76-4.27a20.31 20.31 0 0 1-18.9 13h.03Zm-5.48-20.5a5.48 5.48 0 1 0 10.96 0 5.48 5.48 0 1 0-10.96 0Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WdsPictoSecurePrivateMentionKeyIcon=a}),98);
__d("WAWebUsernameKeyInfoDrawer.react",["fbt","WAWebCreateUsernameKeyDrawer.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebIcVisibilityIcon.react","WAWebPersonRefreshedIcon.react","WAWebShareIcon.react","WAWebSvgComponentBase","WAWebUISpacing","WAWebUsernameCreationSuccessDrawer.react","WAWebUsernameManagementDrawer.react","WAWebWdsPictoSecurePrivateMentionKeyIcon.react","WDSButton.react","WDSFont.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={title:{width:"xm6i5cn",$$css:!0},section:{columnGap:"x6mw3hq",paddingTop:"x123j3cw",paddingInlineEnd:"xyri2b",paddingBottom:"xs9asl8",paddingInlineStart:"x12w63v0",width:"xktia5q",$$css:!0},badge:{marginTop:"x1r0gsg0",$$css:!0},learnMoreLink:{color:"xo1mcw5",$$css:!0}};function l(a){var b=a.description;a=a.icon;return j.jsxs(d("WAWebFlex.react").FlexRow,{gap:24,align:"center",xstyle:[k.section,d("WAWebUISpacing").uiMargin.top18],children:[a,j.jsx(d("WDSFont.react").WDSTextBody1,{colorName:"contentDefault",children:b})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.contactId,e=a.username,f=a.fromUsernameCreation;a=h._(/*BTDS*/"Username key");var g=h._(/*BTDS*/"Add a key to reduce unwanted messages sent to your username"),i=h._(/*BTDS*/"Share your username and key when telling someone how to contact you for the first time."),n=h._(/*BTDS*/"People in existing conversations or those who have your number won\u2019t need your key."),o=j.jsx(d("WAWebExternalLink.react").ExternalLink,{xstyle:k.learnMoreLink,href:d("WAWebFaqUrl").getFaqUrl(),children:h._(/*BTDS*/"More about username keys")});o=h._(/*BTDS*/"Find, edit or remove your key at any time in Settings. {learnMoreLink}",[h._param("learnMoreLink",o)]);var p=h._(/*BTDS*/"Add key"),q=h._(/*BTDS*/"Skip"),r=30;n=[[i,j.jsx(d("WAWebShareIcon.react").ShareIcon,{DEPRECATED_color:(i=d("WAWebSvgComponentBase")).DEPRECATED_SvgColorProp.SECONDARY,height:r,width:r},1)],[n,j.jsx(d("WAWebPersonRefreshedIcon.react").PersonRefreshedIcon,{DEPRECATED_color:i.DEPRECATED_SvgColorProp.SECONDARY,height:r,width:r},2)],[o,j.jsx(d("WAWebIcVisibilityIcon.react").IcVisibilityIcon,{DEPRECATED_color:i.DEPRECATED_SvgColorProp.SECONDARY,height:r,width:r},3)]];o=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:e,contactId:b}))};var s=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(m,{username:e,contactId:b}))};r=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebCreateUsernameKeyDrawer.react"),{handleBack:s,contactId:b,fromUsernameCreation:f}))};var t=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebUsernameCreationSuccessDrawer.react"),{contactId:b,username:e}))};return j.jsxs(c("WAWebDrawer.react"),{children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:o}),j.jsxs(c("WAWebDrawerBody.react"),{children:[j.jsx(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:k.badge,children:j.jsx(d("WAWebWdsPictoSecurePrivateMentionKeyIcon.react").WdsPictoSecurePrivateMentionKeyIcon,{DEPRECATED_color:i.DEPRECATED_SvgColorProp.SUCCESS,width:132,height:88})}),j.jsx(d("WDSFont.react").WDSTextLargeTitle2,{colorName:"contentDefault",textAlign:"center",xstyle:[(a=d("WAWebUISpacing")).uiMargin.top48,a.uiMargin.bottom16,k.title],children:g}),n.map(function(a,b){var c=a[0];a=a[1];return j.jsx(l,{description:c,icon:a},b)})]})}),j.jsxs(c("WAWebDrawerSection.react"),{animation:!1,children:[j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[a.uiPadding.horiz32,a.uiPadding.vert16],children:j.jsx(c("WDSButton.react"),{widthMode:"flexible",onPress:r,size:"medium",variant:"filled",type:"default",label:p})}),f&&j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[d("WAWebUISpacing").uiPadding.bottom16,d("WAWebUISpacing").uiPadding.horiz32],children:j.jsx(c("WDSButton.react"),{widthMode:"flexible",onPress:t,size:"medium",variant:"borderless",type:"default",label:q})})]})]})]})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=m}),226);
__d("WAWebCreateUsernameDrawer.react",["fbt","WAWebSetUsernameDrawer.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.contactId,d=a.onBack;a=a.ref;var e=h._(/*BTDS*/"Create username");return j.jsx(c("WAWebSetUsernameDrawer.react"),{contactId:b,ref:a,onBack:d,headerText:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDialerPadGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("dialer_pad_for_new_chats")}g.isDialerPadForNewChatEnabled=a}),98);
__d("WAWebEditedMedia",["WAWebFileUtils","WAWebURLUtils","lodash"],(function(a,b,c,d,e,f,g){a=function a(b,e,f,g){var h=this;this.updateEditData=function(a){h.saveEdits(),h.editData=c("lodash").merge({},h.editData,a)};this.updateEditItems=function(a,b){h.saveEdits();var c=[];h.editData.items&&h.editData.items.forEach(function(a){a!==b&&c.push(a)});c.push(a);h.editData.items=c};this.saveEdits=function(){var b=new a(h.media,h.originalImage,h.editData,h.previous);h.previous=b};this.revertEdit=function(){h.previous&&(h.editData=h.previous.editData,h.previous=h.previous.previous)};this.saveEditsFromCanvas=function(a){a=a.toDataURL();h.editedImage||(h.editedImage=new Image());h.editedImage.src=a};this.exportEditedMedia=function(){if(h.hasEdits()&&h.editedImage){var a=h.editedImage.src;return c("WAWebURLUtils").dataURLtoFile(a)}else if(h.media instanceof File)return h.media;return d("WAWebFileUtils").createFile([h.media],"",{type:h.media.type})};this.hasEdits=function(){return!!h.previous&&h.editedImage};this.cleanUp=function(){window.URL.revokeObjectURL(h.originalImage.src)};this.media=b;e?this.originalImage=e:(this.originalImage=new Image(),this.originalImage.src=window.URL.createObjectURL(b));this.previous=g;this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null};c("lodash").merge(this.editData,f)};g["default"]=a}),98);
__d("WAWebStaticCanvas.react",["react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react");b=(h||(h=d("react"))).memo;function a(a){var b=a.className;a=a.ref;return j.jsx("canvas",{className:b,ref:a})}a.displayName=a.name+" [from "+f.id+"]";e=b(a,function(a,b){return a.className===b.className});g["default"]=e}),98);
__d("WAWebMediaEditCanvas.react",["WAWeb-easeljs","WAWebObjectFit.react","WAWebStaticCanvas.react","isNonZeroNumber","react","useWAWebForceUpdate","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=b.useState;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.mediaEditController,f=a.editedMedia,g=a.mediaPickerStatsLogger,i=a.activeMediaId,j=n(null),p=n(null),q=n(null),r=n(null),s=o({height:1,width:1}),t=s[0],u=s[1];s=o(null);var v=s[0],w=s[1],x=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),y=function(a){var b;v?b=v:(b=new(d("WAWeb-easeljs").Easel.Stage)(a),b.enableMouseOver());e.stage=b;return b},z=function(a,b){if(!j.current)return;var c=j.current;b&&g&&i!=null&&g.logChange(i,b);b=f.editData;var e=y(c);a&&(c.width=b.width,c.height=b.height);e.removeAllChildren();b.baseItem!=null&&e.addChild(b.baseItem);b.items&&e.addChild.apply(e,b.items);a=f.originalImage.naturalWidth;var h=f.originalImage.naturalHeight;e.regX=a/2;e.regY=h/2;e.rotation=b.rotation;d("isNonZeroNumber").isNonZeroNumber(b.width)&&d("isNonZeroNumber").isNonZeroNumber(b.height)&&(e.x=b.width/2+b.scale*b.offsetX,e.y=b.height/2+b.scale*b.offsetY);e.scaleX=b.scale;e.scaleY=b.scale;e.update();u({width:c.width,height:c.height});w(e)},A=function(){var a=f.editData;f.editedImage=null;var b=f.originalImage;!a.width&&!a.height&&(a.width=b.naturalWidth,a.height=b.naturalHeight);if(!a.baseItem){b=new(d("WAWeb-easeljs").Easel.Bitmap)(b);a.baseItem=b}z(!0)},B=function(){var a=f.originalImage;!a.complete?a.onload=A:A()},C=function(){z(!0);var a=j.current;a&&f.saveEditsFromCanvas(a)},D=function(a){if(!a)return;a.children.forEach(function(a){a.removeAllEventListeners()});a.removeAllEventListeners();a.removeAllChildren();a.enableMouseOver(0);a.clear()};l(function(){B(),x,r.current=new(d("WAWeb-easeljs").Easel.Stage)(q.current),r.current.autoClear=!1,r.current.enableMouseOver(),p.current&&(e.mediaContainer=p.current),e.cropOverlay=r.current},[]);c("useWAWebOnUnmount")(function(){var a=f.originalImage;a.complete||(a.onload=void 0);C();D(v);D(r.current)});var E=function(a,b){u({width:a,height:b})};m(b,function(){return{saveCanvas:C,drawCanvas:z,updateCanvasSize:E}});s=k.jsx("canvas",{ref:q,className:"x10l6tqk xzkaem6 x1s85apg x1qrby5j x3igimt"});b=k.jsx("div",{className:a.className,ref:p,children:k.jsxs(c("WAWebObjectFit.react"),{type:a.fitType||"scaleDown",size:t,children:[s,k.jsx(c("WAWebStaticCanvas.react"),{ref:j,className:"xhtitgo xh8yej3 x5yr21d"})]})});return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditControllerGetters",["WAWebGetters","WAWebGettersCaches"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories({createCache:d("WAWebGettersCaches").createMediaEditControllerCache});b=a.field;c=a.computed;e=b("stage");f=b("cropOverlay");d=b("mediaContainer");a=c(function(a){var b=a[0],c=a[1];a=a[2];return!!b&&!!c&&!!a},[e,f,d]);g.getIsInitialized=a}),98);
__d("WAWebMediaEditControllerModel",["WAWebBaseModel"],(function(a,b,c,d,e,f,g){a=function(a){function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.id=d("WAWebBaseModel").prop(),b.stage=d("WAWebBaseModel").prop(),b.cropOverlay=d("WAWebBaseModel").prop(),b.mediaContainer=d("WAWebBaseModel").prop(),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.clearStage=function(a){if(!a)return;a.children.forEach(function(a){a.removeAllEventListeners()});a.removeAllEventListeners();a.removeAllChildren();a.clear()};return b}(d("WAWebBaseModel").BaseModel);b=d("WAWebBaseModel").defineModel(a);g["default"]=b}),98);
__d("WAWebMinusIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="minus";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=28;o=28;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 28 28",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 28 28",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M8.381,14.803v-1.605h11.237v1.605C19.618,14.803,8.381,14.803,8.381,14.803z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MinusIcon=a}),98);
__d("WAWebProfileCropConstants",[],(function(a,b,c,d,e,f){a=192;b=640;c=96;f.PROF_PIC_MIN_SIDE=a;f.PROF_PIC_MAX_SIDE=b;f.PROF_PIC_THUMB_SIDE=c}),66);
__d("WAWebProfileCropTool.react",["fbt","$InternalEnum","WAWeb-easeljs","WAWebAccessibility.react","WAWebImageUtils","WAWebKeyboardHotKeys.react","WAWebMinusIcon.react","WAWebPlusIcon.react","WAWebProfileCropConstants","WAWebUnstyledButton.react","WDSFocusStateStyles","asyncToGeneratorRuntime","err","intlNumUtils","isStringNullOrEmpty","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useEffect,n=e.useImperativeHandle,o=e.useRef,p=e.useState,q={scalerButton:{color:"xt16idv",cursor:"x1ypdohk",width:"xgd8bvy",height:"x1fgtraw",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0}},r="rgba(0, 0, 0, 0.5)",s=1.1,t=1.02,u=361,v=500,w=9/16,x=2+w,y="M90 0C0 0 0 0 0 90s0 90 90 90 90 0 90-90 0-90-90-90Z",z=b("$InternalEnum").Mirrored(["CIRCLE","RECT","SQUIRCLE"]),A=b("$InternalEnum").Mirrored(["ENLARGE","REDUCE"]),B=b("$InternalEnum").Mirrored(["DOWN","LEFT","RIGHT","UP"]);function a(a){var e=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,i),g=f.editedMedia,j=f.cropOverlay,k=f.drawCanvas,C=o(0);a=p("");var D=a[0],E=a[1];a=p(null);var F=a[0],G=a[1],H=function(a,b){var c=g.editData,d=C.current*x,e=(a-c.width/2)*c.scale;a=(a+c.width/2)*c.scale;var f=(b+c.height/2)*c.scale;b=(b-c.height/2)*c.scale;var h=d/2;d=d/2*w;return{overlapLeft:Math.min(0,-h-e)/c.scale,overlapRight:Math.min(0,a-h)/c.scale,overlapTop:Math.min(0,-d-b)/c.scale,overlapBottom:Math.min(0,f-d)/c.scale,x:e<-h&&a>h,y:b<-d&&f>d}},I=function(a,b){var c=g.editData,d=C.current,e=(a-c.width/2)*c.scale;a=(a+c.width/2)*c.scale;var f=(b+c.height/2)*c.scale;b=(b-c.height/2)*c.scale;return{x:e<-d&&a>d,y:b<-d&&f>d}},J=function(a,b){var c=g.editData,d=c.offsetX+a/c.scale,e=c.offsetY+b/c.scale,h=f.cropShape===z.RECT?H(d,e):I(d,e);h.x&&(c.offsetX=d);h.y&&(c.offsetY=e);k();V(a,b,h)},K=function(a,b){var c=a.stageX-b.x,d=a.stageY-b.y;J(c,d);b.x=a.stageX;b.y=a.stageY;return},L=function(a){var b=C.current,c=g.editData;b=b*x;b=Math.max(a,b/c.width);a=Math.max(a,b);c.scale=a;b=H(c.offsetX,c.offsetY);return{scale:c.scale,offsetX:c.offsetX+b.overlapLeft-b.overlapRight,offsetY:c.offsetY+b.overlapTop-b.overlapBottom}},M=function(a){var b=C.current,c=g.editData,d=Math.max(2*b/c.width,2*b/c.height);d=Math.max(a,d);if(c.width*a<b||c.height*a<b)return!1;a=-b/d+c.width/2;var e=b/d-c.width/2,f=-b/d+c.height/2;b=b/d-c.height/2;return{scale:d,offsetX:Math.min(Math.max(c.offsetX,e),a),offsetY:Math.min(Math.max(c.offsetY,b),f)}},N=function(a){return f.cropShape===z.RECT?L(a):M(a)},O=function(a){a===void 0&&(a=s);var b=g.editData,c=a!==0?a:s;c=N(b.scale*c);c&&(b.scale=c.scale,b.offsetX=c.offsetX,b.offsetY=c.offsetY,k());U(a,A.ENLARGE)},P=function(a){a===void 0&&(a=s);var b=g.editData,c=a!==0?a:s;c=N(b.scale/c);c&&(b.scale=c.scale,b.offsetX=c.offsetX,b.offsetY=c.offsetY,k());U(a,A.REDUCE)};d("useWAWebListener").useListener(j.canvas,"mousewheel",function(a){a.deltaY>0?O(t):P(t)});m(function(){g.saveEdits();var a=g.editData,b=j.canvas;a.baseItem?a=a.baseItem.getBounds():a={width:0,height:0};b.style.display="block";b.width=a.width;b.height=a.height;var c=new(d("WAWeb-easeljs").Easel.Shape)();c.graphics.beginFill("rgba(0, 0, 0, 0.1)");c.graphics.drawRect(0,0,a.width,a.height);c.regX=a.width/2;c.regY=a.height/2;c.x=a.width/2;c.y=a.height/2;c.on("mousedown",function(a){a={x:a.stageX,y:a.stageY};var b=c.on("pressmove",K,null,!1,a);c.on("pressup",function(){c.off("pressmove",b)},null,!0)});c.cursor="move";a=b.getContext("2d");var e=b.width;b=b.height;var h=e/b>v/u?b/u:e/v;C.current=Math.min(u,v)/2*.9*h;var i=C.current,k;a.fillStyle=r;a.fillRect(0,0,e,b);a.globalCompositeOperation="destination-out";a.beginPath();if(f.cropShape===z.CIRCLE)a.arc(e/2,b/2,i,0,2*Math.PI,!0);else if(f.cropShape===z.RECT){var l=i*x,m=i*x*w;a.fillRect(e/2-l/2,b/2-m/2,l,m)}else if(f.cropShape===z.SQUIRCLE){k=new Path2D(y);a.translate(e/2-i,b/2-i);l=h*2*.9;a.scale(l,l)}a.fillStyle="#ffffff";k?a.fill(k):a.fill();j.addChild(c);j.update()},[]);var Q=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=g.editData;a=(a=g.editedImage)==null?void 0:a.src;var e=C.current;if(c("isStringNullOrEmpty")(a))throw c("err")("empty image");var f=e*2,h=f;f>d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE?h=d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE:f<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE&&(h=d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE);f=e*x;e=e*x*w;a=(yield d("WAWebImageUtils").crop(a,b.width/2-f/2,b.height/2-e/2,f,e,h,h*w,d("WAWebImageUtils").DATA_URL|d("WAWebImageUtils").CANVAS));b=a;f=a.images.dataUrl;return{thumb:b.images.dataUrl,full:f}});return function(){return a.apply(this,arguments)}}(),R=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=g.editData;a=(a=g.editedImage)==null?void 0:a.src;var e=C.current;if(c("isStringNullOrEmpty")(a))throw c("err")("empty image");e=e*2;var f=e;e>d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE?f=d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE:e<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE&&(f=d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE);a=(yield d("WAWebImageUtils").crop(a,(b.width-e)/2,(b.height-e)/2,e,e,f,f,d("WAWebImageUtils").DATA_URL|d("WAWebImageUtils").CANVAS));b=(yield d("WAWebImageUtils").crop(a.images.canvas,0,0,d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE,d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE));e=a.images.dataUrl;return{thumb:b.images.dataUrl,full:e}});return function(){return a.apply(this,arguments)}}(),S=function(){return f.cropShape===z.RECT?Q():R()};n(e,function(){return{crop:S}});var T=o(null);function U(a,b){a=1-a;var c=F!=null?F:1;b===A.ENLARGE?c+=a:c-=a;G(c);X(c,b)}function V(a,b,c){a<0?W(B.RIGHT,c):a>0?W(B.LEFT,c):b<0?W(B.DOWN,c):b>0&&W(B.UP,c)}function W(a,b){switch(a){case B.DOWN:if(!b.y){E(h._(/*BTDS*/"Image aligned down as far as possible"));return}E(h._(/*BTDS*/"Image moved down"));break;case B.LEFT:if(!b.x){E(h._(/*BTDS*/"Image aligned left as far as possible"));return}E(h._(/*BTDS*/"Image moved left"));break;case B.RIGHT:if(!b.x){E(h._(/*BTDS*/"Image aligned right as far as possible"));return}E(h._(/*BTDS*/"Image moved right"));break;case B.UP:if(!b.y){E(h._(/*BTDS*/"Image aligned up as far as possible"));return}E(h._(/*BTDS*/"Image moved up"));break}}function X(a,b){a=Math.round(Math.abs(a)*100);b===A.ENLARGE?E(h._(/*BTDS*/"Zoomed in {zoom_percentage}\u0025",[h._param("zoom_percentage",d("intlNumUtils").formatNumber(a))])):E(h._(/*BTDS*/"Zoomed out {zoom_percentage}\u0025",[h._param("zoom_percentage",d("intlNumUtils").formatNumber(a))]))}a=function(a){if(!T.current)return;a=a?a.target:document.activeElement;if(a!==T.current)return};e={pageup:function(){return O()},pagedown:function(){return P()},down:function(){return J(0,-10)},up:function(){return J(0,10)},left:function(){return J(10,0)},right:function(){return J(-10,0)}};return l.jsxs("div",{className:"x10l6tqk x1inkcgm xoegz02 xgd8bvy x14ju556 x150wa6m xadg8h5 xjlgbav x22tq4u x1taic9k x1ctnl55",children:[l.jsx(d("WAWebAccessibility.react").InvisibleAnnouncement,{assertive:!0,text:D,startWithText:!0}),l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{component:"button",handlers:e,onFocus:a,ref:T,"aria-label":h._(/*BTDS*/"Photo editor canvas widget: arrow keys move crop window, Page Up and Page Down enlarge or shrink the crop area"),tabIndex:0}),l.jsx(c("WAWebUnstyledButton.react"),{xstyle:[q.scalerButton,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus],onClick:function(){return O()},"aria-label":h._(/*BTDS*/"Zoom in or shrink area of photo to be cropped"),testid:void 0,children:l.jsx(d("WAWebPlusIcon.react").PlusIcon,{})}),l.jsx(c("WAWebUnstyledButton.react"),{xstyle:[q.scalerButton,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus],onClick:function(){return P()},"aria-label":h._(/*BTDS*/"Zoom out or enlarge area of photo to be cropped"),testid:void 0,children:l.jsx(d("WAWebMinusIcon.react").MinusIcon,{})})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.CropShapeType=z;g.WrappedProfileCropTool=e}),226);
__d("useWAWebMediaEditControllerValues",["useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useModelGetterValues(a,b)}g.useMediaEditControllerValues=a}),98);
__d("WAWebEditImageDrawer.react",["fbt","WARandomHex","WAWebCheckmarkLargeIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEditedMedia","WAWebExternalLink.react","WAWebMediaEditCanvas.react","WAWebMediaEditControllerGetters","WAWebMediaEditControllerModel","WAWebObjectFit.react","WAWebProfileCropTool.react","WAWebReturnIcon.react","WAWebRound.react","WAWebTosUrl","WAWebUISpacing","WAWebURLUtils","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","WDSFocusStateStyles","react","stylex","useLazyRef","useWAWebMediaEditControllerValues"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l;b=l||d("react");var m=j||(j=c("react")),n=b.useRef,o=b.useState,p=361,q=500,r={NONE:"none",RETAKE:"retake",RESTART:"restart"},s={retake:{display:"x78zum5",alignItems:"x6s0dn4",color:"x1heor9g",cursor:"x1ypdohk",$$css:!0},retakeIcon:{flex:"x1okw0bk",color:"x7o08j2",$$css:!0},attribution:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",maxHeight:"x1wb0a4p",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1nxh6w3",lineHeight:"x17fgdl5",textAlign:"x2b8uid",$$css:!0},footer:{position:"x1n2onr6",zIndex:"xzkaem6",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",minHeight:"x5sx7kw",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,i);a=e.attributionUrl;var f=e.onRetake,g=e.retryText,j=e.onFinished,l=e.cropShape,t=n(),u=n(null),v=c("useLazyRef")(function(){return new(c("WAWebMediaEditControllerModel"))({id:d("WARandomHex").randomHex(8)})}),w=d("useWAWebMediaEditControllerValues").useMediaEditControllerValues(v.current,[d("WAWebMediaEditControllerGetters").getIsInitialized]);w=w[0];var x=o(!1),y=x[0],z=x[1];x=o({width:q,height:p});var A=x[0],B=x[1];x=o(function(){return new(c("WAWebEditedMedia"))(e.img)});var C=x[0],D=function(){var a;(a=t.current)==null||a.saveCanvas()};x=function(){var a;D();(a=u.current)==null||a.crop().then(function(a){var b=a.thumb;a=a.full;j(b,a);C.cleanUp()})};var E=function(a){if(a==null||!(a instanceof HTMLElement))return;A&&(A.width!==a.clientWidth||A.height!==a.clientHeight)&&B({width:a.clientWidth,height:a.clientHeight});y||z(!0)},F=function(a,b){var c;(c=t.current)==null||c.drawCanvas(a,b)};x=y?m.jsx("div",{className:"x10l6tqk x13vifvy x1g9hn12 xhi6v0a xhtitgo xzbmw64",children:m.jsx(d("WAWebRound.react").Round,{large:!0,onClick:x,label:h._(/*BTDS*/"Submit image"),children:m.jsx(d("WAWebCheckmarkLargeIcon.react").CheckmarkLargeIcon,{})})},"btn-send"):null;var G;w&&(G=m.jsx(d("WAWebProfileCropTool.react").WrappedProfileCropTool,{editedMedia:C,stage:v.current.stage,cropOverlay:v.current.cropOverlay,mediaContainer:v.current.mediaContainer,drawCanvas:F,ref:u,cropShape:l||d("WAWebProfileCropTool.react").CropShapeType.CIRCLE}));w=m.jsx(c("WAWebMediaEditCanvas.react"),{className:"x78zum5 x6s0dn4 xl56j7k xiy17q3 xztyhrg x1tbiz1a x10l6tqk x13vifvy xtijo5x x1ey2m1c x1o0tod",editedMedia:C,mediaEditController:v.current,fitType:"cover",ref:t});var H;if(f){var I;switch(g){case r.NONE:I=null;break;case r.RETAKE:I=h._(/*BTDS*/"Retake");break;case r.RESTART:default:I=h._(/*BTDS*/"Upload")}H=m.jsxs(c("WAWebUnstyledButton.react"),{xstyle:[s.retake,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus],onClick:f,title:I!=null?I.toString():"",children:[m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(s.retakeIcon,d("WAWebUISpacing").uiMargin.end4),{children:m.jsx(d("WAWebReturnIcon.react").ReturnIcon,{})})),I]})}F=a?m.jsxs("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(s.attribution,d("WAWebUISpacing").uiMargin.top6),{children:[m.jsx(d("WAWebExternalLink.react").ExternalLink,{className:"x1okw0bk x1jkqq1h x6ikm8r x10wlt62 xlyipyv xuxw1ft",href:a,children:c("WAWebURLUtils").hostname(a)}),m.jsxs("span",{children:[h._(/*BTDS*/"Image may be subject to copyright."),m.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebTosUrl").getTosUrl(),children:h._(/*BTDS*/"Terms of Service")})]})]})):null;v=l===d("WAWebProfileCropTool.react").CropShapeType.RECT?m.jsx("div",{className:"x98rzlu x1yc453h",children:h._(/*BTDS*/"Hint: Use 16:9 ratio images (eg. 1920 x 1020 or its multiples)")}):void 0;g=m.jsxs("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(s.footer,d("WAWebUISpacing").uiPadding.top0,d("WAWebUISpacing").uiPadding.bottom6,d("WAWebUISpacing").uiPadding.horiz20),{children:[m.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",children:x}),F,v]}));a=(f=e.imageSize)!=null?f:{width:q,height:p};return m.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"edit",children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Drag the image to adjust"),type:"offset",onCancel:e.onCancel,focusBackOrCancel:!0,children:H}),m.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[m.jsxs("div",{className:"x1n2onr6 x78zum5 x98rzlu x6s0dn4 xl56j7k xh8yej3",children:[G,m.jsx("div",{className:"x10l6tqk x13vifvy x1o0tod x78zum5 xdt5ytf xuk3077 xl56j7k xh8yej3 x5yr21d x1m8r95a",children:m.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"capture",children:m.jsx(c("WAWebObjectFit.react"),{type:"cover",size:a,onObjectLoad:E,children:w})})})]}),g]})]},"attach-edit-modal")}a.displayName=a.name+" [from "+f.id+"]";g.RETRY_OPTIONS=r;g.EditImageDrawer=a}),226);
__d("WAWebEditCaptureFlow.react",["fbt","$InternalEnum","WAFilteredCatch","WANullthrows","WAWebCaptureDrawer.react","WAWebEditImageDrawer.react","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMiscErrors","WAWebModal.react","WAWebModalManager","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Capture","Guide","EditImage"]);function a(a){var b=n(null),e=b[0],f=b[1],g=m(null),i=m();b=d("useWAWebFlow").useFlow(o.Capture);var j=b[0],p=b[1],q=function(){i.current==null||i.current();var a=d("WAWebMediaCapture").start({type:"camera",timeoutCallback:function(){return p.push(o.Guide,"modal")},timeoutLimit:5e3,featureSurface:d("WAWebGuidePopup.react").FeatureSurface.PHOTO_CAPTURE}),b=a.asyncStream,c=a.disposeStream;i.current=c;b.then(function(a){g.current||p.pop("modal"),a&&g.current&&g.current.loadNewStream(a,c)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){var a;p.end();d("WAWebModalManager").ModalManager.open(k.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.CAMERA_FAIL,type:a.GuidePopupType.GUIDE_UNBLOCK,featureSurface:a.FeatureSurface.PHOTO_CAPTURE}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){var a;p.end();d("WAWebModalManager").ModalManager.open(k.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.CAMERA_MISSING,type:a.GuidePopupType.GUIDE_NONE,featureSurface:a.FeatureSurface.PHOTO_CAPTURE}))}))};l(function(){q();return function(){i.current==null||i.current()}},[]);if(p.step==null)return null;var r;switch(p.step){case o.Capture:b=function(a){f(a),p.push(o.EditImage,"flow-transition-box-size-drawer-push")};r=k.jsx(d("WAWebModal.react").Modal,{type:a.modalTheme||d("WAWebModal.react").ModalTheme.Box,ariaLabel:h._(/*BTDS*/"Take photo"),testid:void 0,children:k.jsx(c("WAWebCaptureDrawer.react"),{ref:g,stream:void 0,disposeStream:void 0,caption:!1,theme:"capture-cover",onBack:function(){return p.end()},onSend:null,onCaptured:b,chat:void 0})});break;case o.Guide:r=k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_ALLOW,onConfirm:function(){return p.pop("modal")},featureSurface:d("WAWebGuidePopup.react").FeatureSurface.PHOTO_CAPTURE});break;case o.EditImage:b=function(){p.pop("flow-transition-box-size-drawer-pop"),q()};var s=function(b,c){a.onFinished(b,c),p.end()};r=k.jsx(d("WAWebModal.react").Modal,{type:a.modalTheme||d("WAWebModal.react").ModalTheme.Box,children:k.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onRetake:b,retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.RETAKE,onFinished:s,onCancel:function(){return p.end()},img:c("WANullthrows")(e),cropShape:a.editCropShape})})}return k.jsx(j,{flow:p,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUtilsGetColor",["WANullthrows","err"],(function(a,b,c,d,e,f,g){var h=new Map([["sand-200","rgb(234, 224, 214)"],["sand-300","rgb(170, 148, 125)"],["sand-600","rgb(94, 83, 72)"]]),i=function(a){return getComputedStyle(c("WANullthrows")(document.body)).getPropertyValue(a)};function a(a,b){var d=a==="sand"?c("WANullthrows")(h.get(a+"-"+b)):i("--wds-"+a+"-"+b);if(d==="")throw c("err")("Get color failed (color="+a+" depth="+b+"). Please check whether wds color changed or there is a typo in color name.");return d}g["default"]=a}),98);
__d("WAWebUtilsSharpenFilter",[],(function(a,b,c,d,e,f){function a(a){var b=[0,-1,0,-1,5,-1,0,-1,0],c=Math.round(Math.sqrt(b.length)),d=c*.5|0,e=a.data,f=a.width;a=a.height;var g=new Uint8ClampedArray(e);for(var h=0;h<a;h++)for(var i=0;i<f;i++){var j=i,k=h,l=(h*f+i)*4,m=[0,0,0];for(var n=0;n<c;n++)for(var o=0;o<c;o++){var p=k+n-d,q=j+o-d;if(p>=0&&p<a&&q>=0&&q<f){p=(p*f+q)*4;q=b[n*c+o];m[0]+=g[p]*q;m[1]+=g[p+1]*q;m[2]+=g[p+2]*q}}e[l]=m[0];e[l+1]=m[1];e[l+2]=m[2]}}f["default"]=a}),66);
__d("WAWebEditGroupProfileDrawer.react",["fbt","$InternalEnum","ReactKonva","WANullthrows","WAWebCheckmarkLargeIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEditGroupProfileDrawerColorPanel.react","WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react","WAWebFlex.react","WAWebFlexItem.react","WAWebIcMoodIcon.react","WAWebIconTabs.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebNoop","WAWebProfileCropConstants","WAWebRound.react","WAWebToast.react","WAWebToastManager","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","WAWebWdsIcStickerIcon.react","asyncToGeneratorRuntime","err","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=64,p=b("$InternalEnum").Mirrored(["EMOJI","STICKER"]),q={body:{flexGrow:"x1iyjqo2",$$css:!0},footer:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",height:"xwvwv9b",zIndex:"xhtitgo",alignItems:"x7a106z",justifyContent:"xl56j7k",backgroundColor:"x1sapvj0",$$css:!0}},r={emojiIcon:{width:"x17z2i9w",height:"x17rw0jw",$$css:!0},stickerIcon:{width:"x1ig0tib",height:"x1pwvq5b",$$css:!0}},s=[["purple","sky-blue","green","yellow","orange","pink"],["cool-gray","cobalt","teal","red","sand"]],t=(e=[]).concat.apply(e,s),u=160,v=104,w={width:90,height:48},x=770;function y(a){var b=[];a=a.split(" ");for(var c=0;c<a.length;c++)a[c].length>0&&b.push(a[c]);return b}function z(a,b){var c="";for(var d=0;d<b.length;d++)c+=(d===0?"":" ")+b[d].text;d=y(c);if(a.length!==d.length)return!0;for(b=0;b<a.length;b++)if(a[b]!==d[b])return!0;return!1}function A(a){switch(a){case"purple":return h._(/*BTDS*/"purple");case"sky-blue":return h._(/*BTDS*/"sky blue");case"green":return h._(/*BTDS*/"green");case"yellow":return h._(/*BTDS*/"yellow");case"orange":return h._(/*BTDS*/"orange");case"pink":return h._(/*BTDS*/"pink");case"cool-gray":return h._(/*BTDS*/"cool gray");case"cobalt":return h._(/*BTDS*/"cobalt");case"teal":return h._(/*BTDS*/"teal");case"red":return h._(/*BTDS*/"red");case"sand":return h._(/*BTDS*/"sand")}}function a(a){var e=a.onCancel,f=a.onFinished,g=a.sendEmojiStickerPanelOpenLoggingEvent;a=a.title;var i=n(null),j=i[0],B=i[1];i=n(null);var C=i[0],D=i[1];i=n(null);var E=i[0],F=i[1];i=n(0);var G=i[0],H=i[1];i=n(null);var I=i[0],J=i[1];i=n([]);var K=i[0],L=i[1],M=m(null),N=m(null),O=m(!1),P={EMOJI:0,STICKER:1},Q=m((i={},i[P.EMOJI]=c("WAWebNoop"),i[P.STICKER]=c("WAWebNoop"),i));i=m([]);var R=m(null),S=h._(/*BTDS*/"Choose an emoji or sticker");l(function(){var a;(a=N.current)==null||a.cache()},[j]);l(function(){var a=R.current;if(a==null)return;var b=y(S.toString()),c=z(b,a.textArr);while(a.getHeight()>w.height||c)a.fontSize(a.fontSize()-1),c=z(b,a.textArr)},[S]);var T=k.jsx(d("ReactKonva").Stage,{width:u,height:u,className:"xqui205 xpwdb9g x1hq5gj4 xefazk8 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x6ikm8r x10wlt62 xc8icb0",ref:M,onClick:function(){j==null&&E==null&&F(0)},children:k.jsxs(d("ReactKonva").Layer,{children:[k.jsx(d("ReactKonva").Rect,{width:u,height:u,fill:c("WAWebUtilsGetColor")(t[G],200)}),j==null?k.jsx(d("ReactKonva").Text,{ref:R,x:u/2,y:u/2,width:w.width,height:w.height,offset:{x:w.width/2,y:w.height/2},lineHeight:1.14,align:"center",verticalAlign:"middle",text:S.toString(),fontSize:14,fontFamily:'"SF Pro Text", "SF Pro Icons", system, -apple-system, system-ui, "system-ui", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "Kohinoor Devanagari", sans-serif',fill:c("WAWebUtilsGetColor")("cool-gray-alpha",50)}):k.jsx(d("ReactKonva").Image,{ref:N,width:v,height:v,offset:{x:v/2,y:v/2},x:u/2,y:u/2,image:j,filters:C===p.EMOJI&&O.current?[c("WAWebUtilsSharpenFilter")]:[]})]})});Object.values(P).forEach(function(a){typeof a==="number"&&(Q.current[a]=function(){E===a&&F(null)})});var U=function(a){g!=null&&g(a)},V=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var e=window.innerHeight<x;if(a!=null)L(null),J(a);else if(b!=null){var f;J(null);L((f=b==null?void 0:b.mediaData.emojis)!=null?f:[])}if(a!=null){f=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(a));f&&(B(f),O.current=f.naturalWidth<=o&&f.naturalHeight<=o,D(p.EMOJI),e&&Q.current[P.EMOJI]())}else if(b!=null){a=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromSticker(b));B(a);D(p.STICKER);e&&Q.current[P.STICKER]()}else throw c("err")("Neither emoji nor sticker is provided in handleEmojiStickerSelect()")}catch(a){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Failed to add image")}))}});return function(b,c){return a.apply(this,arguments)}}(),W=function(){if(j==null)d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Choose an emoji or sticker to continue"),id:"ChooseAnEmojiOrStickerToContinueToast"}),d("WAWebToastManager").ToastPosition.CENTER);else{var a,b;a=(a=(a=M.current)==null?void 0:a.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/u,quality:0,width:u,height:u}))!=null?a:"";b=(b=(b=M.current)==null?void 0:b.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/u,quality:1,width:u,height:u}))!=null?b:"";f(a,b,c("WANullthrows")(C))}};W=k.jsx("div",{className:"x1cb1t30",children:k.jsx(d("WAWebRound.react").Round,{large:!0,onClick:W,theme:j==null?d("WAWebRound.react").RoundTheme.Disabled:void 0,label:h._(/*BTDS*/"Submit picture"),children:k.jsx(d("WAWebCheckmarkLargeIcon.react").CheckmarkLargeIcon,{})})},"btn-submit");I=I!=null?h._(/*BTDS*/"Group photo showing the \"{emoji name}\" emoji on a {color name} background",[h._param("emoji name",I),h._param("color name",A(t[G]))]):null;var X=null;if(Array.isArray(K))if(K.length>0){var Y;X=h._(/*BTDS*/"_j{\"*\":\"Group photo showing a sticker represented as the \\\"{emoji name}\\\" emojis on a {color name} background\",\"_1\":\"Group photo showing a sticker represented as the \\\"{emoji name}\\\" emoji on a {color name} background\"}",[h._plural((Y=K==null?void 0:K.length)!=null?Y:0),h._param("emoji name",K==null?void 0:K.join(" ")),h._param("color name",A(t[G]))])}else X=h._(/*BTDS*/"Group photo showing a sticker on a {color name} background",[h._param("color name",A(t[G]))]);K=(Y=I!=null?I:X)!=null?Y:S;return k.jsxs(c("WAWebDrawer.react"),{theme:"products",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:e}),k.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[k.jsxs(d("WAWebFlex.react").FlexColumn,{className:"x16w0wmm x1n2onr6 xh8yej3 x5yr21d",align:"center",justify:"center",children:[k.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:q.body,children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{role:"img","aria-label":K,children:T}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebIconTabs.react").IconTabs,{refs:i.current,selectedIndex:E,onSelect:function(a){a!==E&&(F(a),U(a===P.EMOJI?p.EMOJI:p.STICKER))},tabConfigs:[{Icon:d("WAWebIcMoodIcon.react").IcMoodIcon,iconStyle:r.emojiIcon,ariaLabel:h._(/*BTDS*/"Emojis selector")},{Icon:d("WAWebWdsIcStickerIcon.react").WdsIcStickerIcon,iconStyle:r.stickerIcon,ariaLabel:h._(/*BTDS*/"Stickers selector")}],popupAtLaunch:!0})}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(c("WAWebEditGroupProfileDrawerColorPanel.react"),{className:"x1yl842u",colors:s,selectedIndex:G,onSelect:function(a){H(a)}})})]})}),k.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:q.footer,children:W})]}),E===P.EMOJI&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").EmojiPanelPopup,{anchor:c("WANullthrows")((I=i.current[P.EMOJI])==null?void 0:I.current),onSelect:V,onClose:function(){return Q.current[P.EMOJI]()}}),E===P.STICKER&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").StickerPanelPopup,{anchor:c("WANullthrows")((X=i.current[P.STICKER])==null?void 0:X.current),onSelect:function(a){return V(null,a)},onClose:function(){return Q.current[P.STICKER]()}})]})]},"attach-edit-group-profile-modal")}a.displayName=a.name+" [from "+f.id+"]";g.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=o;g.ImageType=p;g.COLOR_OPTIONS=t;g.PHOTO_SIZE=u;g.IMAGE_SIZE=v;g.getFbtColorString=A;g.EditGroupProfileDrawer=a}),226);
__d("WAWebEditGroupProfileDrawerColorPanel.react",["WAWebClassnames","WAWebEditGroupProfileDrawer.react","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebThemeContext","WAWebUnstyledButton.react","WAWebUtilsGetColor","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useRef,m={btn:{width:"x1td3qas",height:"x10w6t97",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",":focus_borderStartStartRadius":"x13345yd",":focus_borderStartEndRadius":"x1kqiigx",":focus_borderEndEndRadius":"x1iy4mvq",":focus_borderEndStartRadius":"x1nrmj05",$$css:!0},btnSelected:{width:"x1ksvffz",height:"xqaafxp",$$css:!0}};function a(a){var b=a.className,e=a.colors,f=a.onSelect,g=a.selectedIndex;a=k(d("WAWebThemeContext").ThemeContext);var h=a.theme,i=l(g),n=l([]),o={rows:e,getNum:function(){return o.rows.reduce(function(a,b){return a+b.length},0)}};a={right:function(){var a=i.current===o.getNum()-1?0:i.current+1;(a=n.current[a])==null||a.focus()},left:function(){var a=i.current===0?o.getNum()-1:i.current-1;(a=n.current[a])==null||a.focus()}};var p=0;return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{role:"tablist",handlers:a,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(b),children:o.rows.map(function(a,b){return j.jsx(d("WAWebFlex.react").FlexRow,{className:"xzbgwbi",justify:"center",children:a.map(function(a){var b=p++,e=g===b;return j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",children:j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",className:"x9f619 x1n7h9c3 x1s1d1n7 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1s7rqsx xavaexc",style:{border:e?"1.5px solid "+c("WAWebUtilsGetColor")(a,h==="light"?600:300):""},children:j.jsx(c("WAWebUnstyledButton.react"),{role:"tab",ref:function(a){return n.current[b]=a},tabIndex:e?0:-1,"aria-label":d("WAWebEditGroupProfileDrawer.react").getFbtColorString(a),"aria-selected":e,onClick:function(){return f(b)},onFocus:function(){i.current=b},children:j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[m.btn,e&&m.btnSelected],style:{backgroundColor:c("WAWebUtilsGetColor")(a,200)}})})})},b)})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebEditImageModal.react",["fbt","WAWebEditImageDrawer.react","WAWebModal.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.cropShape,c=a.img,e=a.onFinished,f=a.onRetake;a=a.theme;var g=function(){d("WAWebModalManager").ModalManager.close()},i=function(a,b){e(a,b),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebModal.react").Modal,{type:a,ariaLabel:h._(/*BTDS*/"Drag the image to adjust"),testid:void 0,children:j.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onCancel:g,onFinished:i,onRetake:f,retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.RESTART,img:c,cropShape:b||void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebExpressionsRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="expressions-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{opacity:.9,children:[k.jsx("path",{d:"M8.49893 10.2521C9.32736 10.2521 9.99893 9.5805 9.99893 8.75208C9.99893 7.92365 9.32736 7.25208 8.49893 7.25208C7.6705 7.25208 6.99893 7.92365 6.99893 8.75208C6.99893 9.5805 7.6705 10.2521 8.49893 10.2521Z",fill:"currentColor"}),k.jsx("path",{d:"M17.0011 8.75208C17.0011 9.5805 16.3295 10.2521 15.5011 10.2521C14.6726 10.2521 14.0011 9.5805 14.0011 8.75208C14.0011 7.92365 14.6726 7.25208 15.5011 7.25208C16.3295 7.25208 17.0011 7.92365 17.0011 8.75208Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8221 19.9799C15.5379 21.2537 13.8087 21.9781 12 22H9.27273C5.25611 22 2 18.7439 2 14.7273V9.27273C2 5.25611 5.25611 2 9.27273 2H14.7273C18.7439 2 22 5.25611 22 9.27273V11.8141C22 13.7532 21.2256 15.612 19.8489 16.9776L16.8221 19.9799ZM14.7273 4H9.27273C6.36068 4 4 6.36068 4 9.27273V14.7273C4 17.6393 6.36068 20 9.27273 20H11.3331C11.722 19.8971 12.0081 19.5417 12.0058 19.1204L11.9935 16.8564C11.9933 16.8201 11.9935 16.784 11.9941 16.7479C11.0454 16.7473 10.159 16.514 9.33502 16.0479C8.51002 15.5812 7.84752 14.9479 7.34752 14.1479C7.24752 13.9479 7.25585 13.7479 7.37252 13.5479C7.48919 13.3479 7.66419 13.2479 7.89752 13.2479L13.5939 13.2479C14.4494 12.481 15.5811 12.016 16.8216 12.0208L19.0806 12.0296C19.5817 12.0315 19.9889 11.6259 19.9889 11.1248V9.07648H19.9964C19.8932 6.25535 17.5736 4 14.7273 4ZM14.0057 19.1095C14.0066 19.2605 13.9959 19.4089 13.9744 19.5537C14.5044 19.3124 14.9926 18.9776 15.4136 18.5599L18.4405 15.5576C18.8989 15.1029 19.2653 14.5726 19.5274 13.996C19.3793 14.0187 19.2275 14.0301 19.0729 14.0295L16.8138 14.0208C15.252 14.0147 13.985 15.2837 13.9935 16.8455L14.0057 19.1095Z",fill:"currentColor"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ExpressionsRefreshedIcon=a}),98);
__d("WAWebFolderOpenRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="folder-open-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H9.175C9.44167 4 9.69583 4.05 9.9375 4.15C10.1792 4.25 10.3917 4.39167 10.575 4.575L12 6H21C21.2833 6 21.5208 6.09583 21.7125 6.2875C21.9042 6.47917 22 6.71667 22 7C22 7.28333 21.9042 7.52083 21.7125 7.7125C21.5208 7.90417 21.2833 8 21 8H11.175L9.175 6H4V18L5.975 11.425C6.10833 10.9917 6.35417 10.6458 6.7125 10.3875C7.07083 10.1292 7.46667 10 7.9 10H20.8C21.4833 10 22.0208 10.2708 22.4125 10.8125C22.8042 11.3542 22.9083 11.9417 22.725 12.575L20.925 18.575C20.7917 19.0083 20.5458 19.3542 20.1875 19.6125C19.8292 19.8708 19.4333 20 19 20H4ZM6.1 18H19L20.8 12H7.9L6.1 18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.FolderOpenRefreshedIcon=a}),98);
__d("WAWebFormatForwardErrorChatAction",["fbt","WAWebChatGetters","WAWebStringsWithMultiplePluralParts"],(function(a,b,c,d,e,f,g,h){function a(a){var b=a.chat,c=a.undelivered,e=a.canForward;a=a.cannotForward;e=e.length-c.length;var f=a.length+c.length;if(e>0)return c.length?a.length?d("WAWebStringsWithMultiplePluralParts").getCannotForwardFileMissingAndCapabilityContactString(f,b.formattedTitle):h._(/*BTDS*/"_j{\"*\":\"{count} messages couldn't be forwarded because the file is missing.\",\"_1\":\"1 message couldn't be forwarded because the file is missing.\"}",[h._plural(f,"count")]):d("WAWebStringsWithMultiplePluralParts").getCannotForwardCapabilityContactString(f,b.formattedTitle);if(c.length)return a.length?!d("WAWebChatGetters").getIsUser(b)?h._(/*BTDS*/"No messages could be forwarded because the file is missing or {contact} is on a version of WhatsApp that doesn't support them.",[h._param("contact",b.formattedTitle)]):h._(/*BTDS*/"No messages could be forwarded because the file is missing or {contact} is on a version of WhatsApp that doesn't support them.",[h._param("contact",b.formattedTitle)]):h._(/*BTDS*/"No messages could be forwarded because the file is missing.");return!d("WAWebChatGetters").getIsUser(b)?h._(/*BTDS*/"No messages could be forwarded because {contact} is on a version of WhatsApp that doesn't support them.",[h._param("contact",b.formattedTitle)]):h._(/*BTDS*/"No messages could be forwarded because {contact} is on a version of WhatsApp that doesn't support them.",[h._param("contact",b.formattedTitle)])}g["default"]=a}),226);
__d("WAWebForwardErrorChatAction",["WACustomError"],(function(a,b,c,d,e,f,g){a=function(a){function b(b){var c;c=a.call(this)||this;c.reasons=b;return c}babelHelpers.inheritsLoose(b,a);return b}(d("WACustomError").customError("ForwardError"));g["default"]=a}),98);
__d("WAWebForwardMediaWithCaptionPopupNux.react",["fbt","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModal.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={featureDescriptionParagraph:{textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.onOk;a=function(){b()};var e=h._(/*BTDS*/"Media and captions are now forwarded together. You can always remove the caption before you forward.");return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:a,type:d("WAWebModal.react").ModalTheme.ForwardMediaWithCaption,children:j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{xstyle:[k.featureDescriptionParagraph,d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom32],children:e})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamEnumChannelForwardContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({UPDATE:0,UPDATE_CARD:1});f.CHANNEL_FORWARD_CONTENT_TYPE=a}),66);
__d("WAWebPsChannelPostForwardWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelForwardContentType","WAWebWamEnumMediaType","WAWebWamEnumMessageChatType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({PsChannelPostForward:[4746,{channelForwardContentType:[6,d("WAWebWamEnumChannelForwardContentType").CHANNEL_FORWARD_CONTENT_TYPE],channelForwardGroupType:[1,d("WAWebWamEnumMessageChatType").MESSAGE_CHAT_TYPE],cid:[2,a.TYPES.STRING],destinationChannelId:[7,a.TYPES.STRING],destinationPostId:[8,a.TYPES.STRING],mediaType:[3,d("WAWebWamEnumMediaType").MEDIA_TYPE],postId:[4,a.TYPES.STRING]},[1,1,1],"private",0]},{PsChannelPostForward:[]});g.PsChannelPostForwardWamEvent=b}),98);
__d("WAWebLogNewsletterMessageForward",["WAWebGetMessageChatTypeFromWid","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebPsChannelPostForwardWamEvent"],(function(a,b,c,d,e,f,g){function a(a,b){var c,e;c=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.id.remote:(c=a.forwardedNewsletterMessageInfo)==null?void 0:c.newsletterId;var f=a.getWamMediaType();e=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.serverId:(e=a.forwardedNewsletterMessageInfo)==null?void 0:e.serverMessageId;for(b of b){var g={channelForwardGroupType:d("WAWebGetMessageChatTypeFromWid").getMessageChatTypeFromWid(b.id),mediaType:f};h({origin:a.id.remote,destination:b})&&Object.assign(g,{cid:c==null?void 0:c.user,postId:e==null?void 0:e.toString(),destinationChannelId:b.id.user});new(d("WAWebPsChannelPostForwardWamEvent").PsChannelPostForwardWamEvent)(g).commit()}}function h(a){var b=a.origin;a=a.destination;return b.isNewsletter()&&a.id.isNewsletter()&&d("WAWebNewsletterGatingUtils").isNewsletterForwardToChannelLoggingEnabled()}g.logNewsletterMessageForward=a}),98);
__d("WAWebForwardMessagesToChat",["Promise","WAPromiseProps","WAWebBlockContactAction","WAWebChatForwardMessage","WAWebChatGetters","WAWebFormatForwardErrorChatAction","WAWebForwardErrorChatAction","WAWebLogNewsletterMessageForward","WAWebMsgActionCapability","WAWebMsgCollection","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebWamChatPSALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.msgs,f=a.chats,g=a.includeCaption,i=g===void 0?!1:g,j=a.appendedText,k=(h||(h=b("Promise"))).all(e.map(function(a){d("WAWebMsgGetters").getIsPSA(a)&&d("WAWebWamChatPSALogger").logChatPSAForward(a);d("WAWebNewsletterGatingUtils").isNewsletterMessageForwardLoggingEnabled()&&d("WAWebMsgGetters").getHasOriginatedFromNewsletter(a)&&d("WAWebLogNewsletterMessageForward").logNewsletterMessageForward(a,f);return d("WAPromiseProps").promiseProps({message:a,canForward:d("WAWebMsgActionCapability").canForwardMsg(a)&&(d("WAWebMsgCollection").MsgCollection.get(a.id)!=null||d("WAWebMsgGetters").getIsEphemeral(a))})}));g=(yield h.all(f.filter(function(a){return a.canSend}).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=d("WAWebChatGetters").getIsUser(a)&&a.contact.isContactBlocked?d("WAWebBlockContactAction").unblockContact(a.contact):(h||(h=b("Promise"))).resolve(!0);c=(yield (h||(h=b("Promise"))).all([k,c]));c=c[0];var e=c.filter(function(a){return a.canForward===!0}).map(function(a){return a.message});c=c.filter(function(a){return a.canForward===!1}).map(function(a){return a.message});return d("WAPromiseProps").promiseProps({chat:a,undelivered:d("WAWebChatForwardMessage").forwardMessages(a,e,!0,i,j),msgsThatCanBeforwarded:e,msgsThatCannotBeForwarded:c})});return function(b){return a.apply(this,arguments)}}())));a=g.map(function(a){var b=a.chat,d=a.undelivered,e=a.msgsThatCanBeforwarded;a=a.msgsThatCannotBeForwarded;var f=null;(d.length||a.length)&&(f=c("WAWebFormatForwardErrorChatAction")({chat:b,undelivered:d,canForward:e,cannotForward:a}));return f!=null&&f!==""?{chat:b,reason:f}:null}).filter(Boolean);if(a.length)throw new(c("WAWebForwardErrorChatAction"))(a);else return!0});return i.apply(this,arguments)}g.forwardMessagesToChats=a}),98);
__d("WAWebForwardWithCaptionPreview.react",["fbt","WAWebChatMsgSymbol.react","WAWebChatPreferenceCollection","WAWebClickable.react","WAWebClock","WAWebDocumentRefreshedIcon.react","WAWebEmojiPickerPlugin","WAWebEmojiSuggestions.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFormatConfiguration","WAWebFormatMsgText","WAWebFrontendMsgGetters","WAWebImageIcon.react","WAWebMediaThumbnail.react","WAWebMediaUrlProvider","WAWebMsgType","WAWebRichTextInput.react","WAWebStatusDocumentIcon.react","WAWebSuggestionsPanelContainer.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVideoPlaceholderIcon.react","WAWebWamEnumWebcRmrReasonCode","WAWebXIcon.react","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={wrapper:{position:"x1n2onr6",height:"xcbkimw",width:"x3p9ev8",backgroundColor:"xtl5do8",$$css:!0},textContainer:{position:"x1n2onr6",height:"x5yr21d",width:"xh8yej3",$$css:!0},container:{position:"x1n2onr6",height:"x5yr21d",width:"x86nts4",backgroundColor:"x1bu39yj",$$css:!0},containerFullWidth:{position:"x1n2onr6",height:"x5yr21d",width:"x3p9ev8",backgroundColor:"x1bu39yj",$$css:!0},captionPreviewContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",$$css:!0},composerContainer:{cursor:"x1ed109x",opacity:"xg01cxk",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},composerWrapper:{display:"x78zum5",$$css:!0},composerInput:{height:"x1plxi8p",alignItems:"x6s0dn4",$$css:!0},composerFont:{fontSize:null,$$css:!0},mediaThumbContainer:{minWidth:"xculje8",height:"x5yr21d",$$css:!0},placeholderIcon:{width:"xh8yej3",height:"x5yr21d",$$css:!0},documentIcon:{height:"xng8ra",width:"x1247r65",$$css:!0},thumbContainer:{width:"x46vnbo",height:"x11daxxc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x14rkfp4",borderInlineEndColor:"x1ykej3n",borderBottomColor:"xolcn3t",borderInlineStartColor:"xskrr25",$$css:!0},thumb:{overflowX:"x6ikm8r",overflowY:"x10wlt62",backgroundRepeat:"xiy17q3",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",$$css:!0},quotedCaption:{flexGrow:"x1iyjqo2",width:"xh8yej3",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",fontWeight:"xo1l8bm",position:"x1n2onr6",color:"xyvbeiw",$$css:!0},xButton:{position:"x1n2onr6",top:"xfr5jun",insetInlineEnd:"x11dcrhx",left:null,right:null,$$css:!0},xDimensions:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},xIconColor:{color:"x1szdls9",$$css:!0},captionTextContainer:{width:"xh8yej3",$$css:!0},captionTextSpacing:{whiteSpace:"xti2ec1",$$css:!0},composerContainerAnimate:{animationName:"x127lhb5",animationDuration:"x4afe7t",animationDelay:"x1k0bccz",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",$$css:!0}};function a(a){var b=a.displayCaptionText,e=a.msg,g=a.onAppendMessage,i=a.onRemoveCaptionSelect;a=d("useWAWebModelValues").useModelValues(c("WAWebChatPreferenceCollection").getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]);var k=function(a){a.stopPropagation(),a.preventDefault(),i()},o=function(){var b=null,a=null;switch(e.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:b=h._(/*BTDS*/"Photo");break;case d("WAWebMsgType").MSG_TYPE.VIDEO:e.isGif?b=h._(/*BTDS*/"GIF"):(b=h._(/*BTDS*/"Video"),a=d("WAWebClock").Clock.durationStr(Number(e.duration))+" ");break;case d("WAWebMsgType").MSG_TYPE.DOCUMENT:b=e.filename;break}b=l.jsxs("span",{className:"xk50ysn",children:[" ",b," "]});return[a,b]},p=function(a){g(a.text)},q=l.jsx(c("WAWebChatMsgSymbol.react"),{msg:e.unsafe()},"msg-symbol");o=o();var r=o[0];o=o[1];var s=c("WAWebFormatMsgText")({msg:e.unsafe(),options:{unformat:!1}}),t=d("WAWebFormatConfiguration").QuotedMention({mentions:e.mentionMap(),groupMentions:e.groupMentionMap()});q=l.jsxs(d("WAWebFlex.react").FlexColumn,{className:(j||(j=c("stylex")))([n.quotedCaption,d("WAWebUISpacing").uiPadding.all8]),align:"start",justify:"center",children:[l.jsxs(c("WAWebFlexItem.react"),{children:[q,r,o]}),l.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiMargin.vert5,n.captionTextContainer],children:l.jsx(d("WAWebEmojiText.react").EmojiText,{xstyle:n.captionTextSpacing,className:"x1evy7pa x104kibb x6ikm8r x10wlt62 xlyipyv x1h7i4cw x1ua5tub",direction:d("WAWebFrontendMsgGetters").getDir(e),text:s,formatters:t,ellipsify:!0,testid:void 0},"status")})]});r=h._(/*BTDS*/"Remove caption");o=b?l.jsxs(c("WAWebFlexItem.react"),{grow:1,xstyle:[n.container,n.captionPreviewContainer],children:[l.jsx("span",{className:"x2lah0s x51ohtg x1rr48d"}),q,l.jsx(c("WAWebUnstyledButton.react"),{xstyle:[n.xButton,n.xDimensions],onClick:k,title:r,"aria-label":r,testid:void 0,children:l.jsx(d("WAWebXIcon.react").XIcon,{xstyle:n.xDimensions,iconXstyle:n.xIconColor,height:20,width:20})})]}):null;s=m();var u=s[0];t=s[1];q=u==null?void 0:u.editor;k=q&&!d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.jsx("div",{className:"x1n2onr6 xh8yej3",children:l.jsx(d("WAWebEmojiSuggestions.react").EmojiSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:q})});r=h._(/*BTDS*/"Add a message...");s=function(){u==null||u.focus()};function v(a){switch(a.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:return d("WAWebImageIcon.react").ImageIcon;case d("WAWebMsgType").MSG_TYPE.VIDEO:return d("WAWebVideoPlaceholderIcon.react").VideoPlaceholderIcon;default:return d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebDocumentRefreshedIcon.react").DocumentRefreshedIcon:d("WAWebStatusDocumentIcon.react").StatusDocumentIcon}}function w(a){var b=v(a);return a.type===d("WAWebMsgType").MSG_TYPE.DOCUMENT?l.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d",children:l.jsx(b,{iconXstyle:n.documentIcon})},"default"):l.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d",children:l.jsx(b,{iconXstyle:n.placeholderIcon})},"default")}w.displayName=w.name+" [from "+f.id+"]";var x=w(e);function y(a){switch(a.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:return l.jsx(c("WAWebMediaUrlProvider"),{mediaData:a.mediaData,placeholderRenderer:function(){return x},downloadMedia:function(){return a.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.OTHER,isUserInitiated:!1})},renderProgressively:!1,children:function(a){return l.jsx("div",{className:(j||(j=c("stylex")))([n.thumbContainer,n.thumb,d("WAWebUISpacing").uiMargin.end8]),style:{backgroundImage:"url("+a+")"}})}});case d("WAWebMsgType").MSG_TYPE.STICKER_PACK:return l.jsx(c("WAWebMediaThumbnail.react"),{msg:a,thumbnailPlaceholder:x,containerClassName:"x46vnbo x11daxxc x1obq294 x5a5i1n xde0f50 x15x8krk x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x14rkfp4 x1ykej3n xolcn3t xskrr25"});default:return null}}q=y(e);w=b?null:l.jsx(d("WAWebClickable.react").Clickable,{onClick:s,children:l.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:[q?n.container:n.containerFullWidth,n.composerContainer,n.composerContainerAnimate],children:l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.all12,n.composerWrapper),{children:l.jsx(d("WAWebRichTextInput.react").RichTextInput,{ref:t,xstyle:n.composerInput,textXstyle:n.composerFont,multiline:!0,textFormatEnabled:!0,readOnly:!1,placeholder:q?r:h._(/*BTDS*/"Ask a question"),title:r,maxVisibleLines:3,onChange:p,testid:void 0,bulletPointsEnabled:!0,numberedListEnabled:!0,inlineCodeEnabled:!0,blockQuoteEnabled:!0,spellCheck:a.spellcheck,transformTextEmoji:a.transformTextEmoji,enterIsNewLine:!a.enterIsSend,children:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.jsx(d("WAWebEmojiPickerPlugin").EmojiPickerPlugin,{})})}))})});y=q?l.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:n.mediaThumbContainer,children:q}):null;return l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebFlex.react").FlexRow,{children:k}),l.jsx("div",babelHelpers["extends"]({},j.props([n.wrapper,d("WAWebUISpacing").uiPadding.all8]),{children:l.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:n.textContainer,align:"center",justify:"start",children:[y,o,w]})}))]})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebForwardWithCaptionPreview=a}),226);
__d("WAWebHighlyForwardedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="highly-forwarded";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=16;o=20;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 20 16",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M13.6059557,5.26308901 C13.6220086,5.26163419 13.6302968,5.26102868 13.6302968,5.26102868 L13.6666317,3.82396292 C13.6881611,2.97246613 14.1900805,2.77489995 14.7806307,3.3754967 L18.4132486,7.06991365 C18.7126057,7.37436354 18.7160739,7.87287893 18.4230266,8.18124118 L14.7679628,12.0273223 C14.1812438,12.6447038 13.7056141,12.4510723 13.7056141,11.6045324 L13.7056141,9.93754567 L14.8701549,8.71214475 C15.4496567,8.10235763 15.441656,7.13001879 14.8512575,6.52957627 L13.6059557,5.26308901 L13.6059557,5.26308901 Z",fillOpacity:.25,fill:"currentColor"}),k.jsx("path",{d:"M9.55511091,3.82396292 C9.57664026,2.97246613 10.0785597,2.77489995 10.6691099,3.3754967 L14.3017278,7.06991365 C14.6010849,7.37436354 14.6045531,7.87287893 14.3115058,8.18124118 L10.656442,12.0273223 C10.069723,12.6447038 9.59409325,12.4510723 9.59409325,11.6045324 L9.59409325,9.87219486 C9.59409325,9.87219486 5.03474338,9.49878283 2.43099409,12.3846575 C1.83824676,12.8974744 1.66218866,12.9568393 1.47026458,12.8572726 C1.32851376,12.7423664 1.28325362,12.3846575 1.73218749,11.260453 C3.56459895,5.69602505 9.51877595,5.26102868 9.51877595,5.26102868 L9.55511091,3.82396292 Z",fillOpacity:.4,fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.HighlyForwardedIcon=a}),98);
__d("WAWebFrequentlyForwardedWarning.react",["fbt","WAWebCellFrame.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebHighlyForwardedIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.frequentlyForwardedCount;a=a.totalCount;b=j.jsxs("span",{children:[b===1&&a===1?h._(/*BTDS*/"This message will be marked as forwarded many times."):h._(/*BTDS*/"One or more messages will be marked as forwarded many times.")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFrequentlyForwardedFaqUrl(),children:h._(/*BTDS*/"Learn more")})]});return j.jsxs("div",{className:"x78zum5 x150wa6m xso031l x1q0q8m5 xcsjwe9",children:[j.jsx("div",{className:"x78zum5 x6s0dn4 x14iifvp xyxtwap x1wm35g",children:j.jsx(d("WAWebHighlyForwardedIcon.react").HighlyForwardedIcon,{width:24,height:24})}),j.jsx(c("WAWebCellFrame.react"),{theme:"plain",primary:b,idle:!0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterForwardConfirmationModal.react",["fbt","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState;function m(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.forwardToChat,e=a.handleConfirm;a=l(!1);var f=a[0],g=a[1];a=k(function(){g(!0),e()["finally"](function(){g(!1)})},[e]);return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okSpinner:f,okDisabled:f,cancelDisabled:f,onOK:a,okText:n.okText(),title:n.title(b.name),onCancel:m,cancelText:c("WAWebFbtCommon")("Cancel"),children:n.body()})}a.displayName=a.name+" [from "+f.id+"]";var n={title:function(a){return h._(/*BTDS*/"Forward to the channel '{channel-name}'?",[h._param("channel-name",a)])},body:function(){return h._(/*BTDS*/"This will be visible to the channel's followers and anyone else who views the channel.")},okText:function(){return h._(/*BTDS*/"Forward to channel")}};g.NewsletterForwardConfirmationModal=a}),226);
__d("WAWebForwardMessageModal.react",["fbt","Keys","Promise","WAFilteredCatch","WALogger","WAWebBotGating","WAWebBotUtils","WAWebChatGetters","WAWebChatModel","WAWebCmd","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebContactGetters","WAWebFbtCommon","WAWebForwardErrorChatAction","WAWebForwardMediaWithCaptionPopupNux.react","WAWebForwardMessagesToChat","WAWebForwardWithCaptionPreview.react","WAWebFrequentlyForwardedWarning.react","WAWebFrontendMsgGetters","WAWebMessageAssociationGatingUtils","WAWebMessageAssociationUIUtils","WAWebMessageYourselfMetricUtils","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgModelUtils","WAWebNewsletterForwardConfirmationModal.react","WAWebNewsletterGatingUtils","WAWebNewsletterSendMsgAction","WAWebNux","WAWebSelectModal.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","WAWebUim","WAWebUimUie.react","WAWebViewMode.flow","asyncToGeneratorRuntime","react","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m;e=m||d("react");var n=l||(l=c("react")),o=e.useMemo,p=e.useState,q=1;function a(a){var e=a.getAnnouncementSummary,f=a.msgs,g=a.onBack,h=a.onClose,i=a.onForward,j=[];!d("WAWebMessageAssociationGatingUtils").isMessageAssociationInfraEnabled()?j.push.apply(j,f):f==null||f.forEach(function(a){var b=d("WAWebFrontendMsgGetters").getAsAlbum(a);if(b){b=d("WAWebMessageAssociationUIUtils").getHiddenAssociatedMessages(a.id,d("WAWebViewMode.flow").ViewModeSurface.CHAT);j.push.apply(j,b)}else j.push(a)});a=j[0];f=d("WAWebFrontendMsgGetters").getChat(a);var k=j.some(d("WAWebMsgGetters").getIsFrequentlyForwarded),l=j.some(function(a){return a.isForwarded}),m=j.filter(function(a){return!d("WAWebMsgGetters").getIsFrequentlyForwarded(a)&&a.getForwardingScoreWhenForwarded()===c("WAWebConstantsDeprecated").FREQUENTLY_FORWARDED_SENTINEL});m=m.length?n.jsx(c("WAWebFrequentlyForwardedWarning.react"),{frequentlyForwardedCount:m.length,totalCount:j.length}):void 0;var x=k?q:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,y=j.every(function(a){return!d("WAWebMsgGetters").getIsMedia(a)}),z=d("WAWebMsgModelUtils").getMediaMsgWithCaptionForForwarding(j),A=p(!!z),B=A[0],C=A[1];A=c("useWAWebNux")(d("WAWebNux").NUX.FORWARD_MEDIA_WITH_CAPTION);var D=A[0],E=A[1];A=p(!1);var F=A[0],G=A[1];A=function(){C(!1)};var H=p(null),I=H[0],J=H[1];H=function(a){J(a)};function K(a,b){b===void 0&&(b=!1);var c=a.find(function(a){return d("WAWebChatGetters").getIsNewsletter(a)});return c!=null?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebNewsletterForwardConfirmationModal.react").NewsletterForwardConfirmationModal,{forwardToChat:c,handleConfirm:function(){return L(a,b)}})):L(a,b)}function L(a,b){return M.apply(this,arguments)}function M(){M=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=!1);if(B&&D&&!a.some(v)){G(!0);return}var e=a[0],f=a.length===1&&d("WAWebBotUtils").isMetaAiBot(e.id);if(f)d("WAWebForwardMessagesToChat").forwardMessagesToChats({msgs:j,chats:a,includeCaption:B,appendedText:I})["catch"](d("WAFilteredCatch").filteredCatch(c("WAWebForwardErrorChatAction"),function(a){return u(a.reasons)}));else{f=d("WAWebForwardMessagesToChat").forwardMessagesToChats({msgs:j,chats:a,includeCaption:B})["catch"](d("WAFilteredCatch").filteredCatch(c("WAWebForwardErrorChatAction"),function(a){return u(a.reasons)}))["finally"](function(){return t(I,a)});d("WAWebChatGetters").getIsNewsletter(e)&&(yield f)}h();i==null||i(j);return d("WAWebCmd").Cmd.openChatFromUnread(a[0]).then(function(c){c&&d("WAWebContactGetters").getIsMe(a[0].contact)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(a[0],b)})});return M.apply(this,arguments)}var N=o(function(){return j.some(function(a){return(a=a.interactiveAnnotations)==null?void 0:a.some(function(a){return((a=a.embeddedContent)==null?void 0:a.embeddedMusic)!=null})})},[j]),O={hasMusicAnnotations:N};N={onBack:g,hasFrequentlyForwarded:k,hasForwarded:l,onConfirm:K,maxItems:x,isDisabled:function(a){return j.some(function(b){return!d("WAWebMsgActionCapability").canForwardMsgToChat(b,a)})},customItemSecondaryText:w,excludeBroadcast:!0,title:s.title(j.length,a),includeNewsletters:d("WAWebNewsletterGatingUtils").isForwardToNewsletterEnabled(f.id),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,customHeader:m,ephemeralIcon:"chat-list",hasDirtyAppendMsgComposeBox:I!=null&&I!=="",includeMetaAi:d("WAWebBotGating").isAiWebForwardEnabled(),isNonMediaForward:y,chatFilter:function(a){return d("WAWebMsgActionCapability").allowedChatOrContactForForwarding(a,j,O)},contactFilter:function(a){return d("WAWebMsgActionCapability").allowedChatOrContactForForwarding(a,j,O)},previewComponent:n.jsx(r,{includeCaption:B,handleAppendMessage:H,handleRemoveCaption:A,msgs:j,mediaMsgWithCaption:z})};return n.jsxs(n.Fragment,{children:[n.jsx(d("WAWebUimUie.react").UIE,{displayName:"MessageForwardModal",escapable:!0,requestDismiss:function(a,b){var e=g!=null?g:h;a===d("WAWebUim").DismissReason.UIM_INTERACTION&&b instanceof KeyboardEvent&&b.keyCode===c("Keys").ESC&&(e==null||e())},children:n.jsx(d("WAWebSelectModal.react").SelectModal,babelHelpers["extends"]({},N,{tsNavigationData:d("WAWebChatGetters").getIsNewsletter(f)?{surface:"channel-forward",extras:{channelWid:f.id}}:{surface:"forward-selection-modal"},getAnnouncementSummary:e}))}),F&&n.jsx(c("WAWebForwardMediaWithCaptionPopupNux.react"),{onOk:function(){E(),G(!1)}})]})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.handleAppendMessage,c=a.handleRemoveCaption,e=a.includeCaption,f=a.mediaMsgWithCaption;a=a.msgs;var g=a.length===1&&d("WAWebMsgGetters").getIsMedia(a[0])&&!a[0].caption,h=d("WAWebMsgActionCapability").canForwardMsgToMetaAi(a);a=a[0];if(d("WAWebChatGetters").getIsNewsletter(d("WAWebFrontendMsgGetters").getChat(a)))return null;if(f)return n.jsx("div",{className:"x11uqc5h xv32h1t xh8yej3 xtl5do8 x9f619 xpx74rz",children:n.jsx(d("WAWebForwardWithCaptionPreview.react").WAWebForwardWithCaptionPreview,{msg:f,displayCaptionText:e,onRemoveCaptionSelect:c,onAppendMessage:b})});return g||h?n.jsx("div",{className:"x11uqc5h xv32h1t xh8yej3 xtl5do8 x9f619 xpx74rz",children:n.jsx(d("WAWebForwardWithCaptionPreview.react").WAWebForwardWithCaptionPreview,{msg:a,displayCaptionText:e,onRemoveCaptionSelect:c,onAppendMessage:b})}):null}r.displayName=r.name+" [from "+f.id+"]";var s={title:function(a,b){return d("WAWebMsgGetters").getIsNewsletterMsg(b)?h._(/*BTDS*/"_j{\"*\":\"Forward updates to\",\"_1\":\"Forward update to\"}",[h._plural(a)]):h._(/*BTDS*/"_j{\"*\":\"Forward messages to\",\"_1\":\"Forward message to\"}",[h._plural(a)])}};function t(a,c){if(a==null||a==="")return;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["sendAppendedText inside WAWebForwardMessageModal"])));c=c.map(function(b){return d("WAWebChatGetters").getIsNewsletter(b)?d("WAWebNewsletterSendMsgAction").sendNewsletterTextMsg(b,a,{}):d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a)});return(k||(k=b("Promise"))).all(c)["catch"](function(a){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[FMC][handleForwardConfirmed] failed to append message with forwarded media"]))).devConsole({error:a})})}function u(a){a=a.map(function(a){var b=a.chat;a=a.reason;return n.jsxs("p",{children:[b.formattedTitle," : ",a]},b.id.toString())});d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:a}),void 0)}function v(a){return a instanceof d("WAWebChatModel").Chat&&d("WAWebChatGetters").getIsNewsletter(a)}function w(a,b){if(!b||!v(a))return;return h._(/*BTDS*/"Message type not supported.")}g["default"]=a}),226);
__d("WAWebGroupInviteRevokeModal.react",["fbt","WAWebConfirmPopup.react","WAWebGroupType","WAWebModalManager","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={confirmationText:{display:"x1lliihq",fontSize:"x6prxxf",lineHeight:"x1fc57z9",color:"xzwifym",$$css:!0}};function a(a){var b=a.onConfirm;a=a.chat;var e=function(){d("WAWebModalManager").ModalManager.close()},f=function(){b(),d("WAWebModalManager").ModalManager.close()};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Reset link"),onOK:f,okText:h._(/*BTDS*/"Reset link"),onCancel:e,cancelText:h._(/*BTDS*/"Cancel"),children:k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.confirmationText,d("WAWebUISpacing").uiPadding.top4,d("WAWebUISpacing").uiPadding.bottom5,d("WAWebUISpacing").uiPadding.horiz0),{children:((f=a.groupMetadata)==null?void 0:f.groupType)===d("WAWebGroupType").GroupType.COMMUNITY?h._(/*BTDS*/"Are you sure you want to reset the invite link for \"{community}\"? If you reset the link, no one will be able to use it to join this community.",[h._param("community",a.contact.name)]):h._(/*BTDS*/"Are you sure you want to reset the invite link for \"{group}\"? If you reset the link, no one will be able to use it to join this group.",[h._param("group",a.contact.name)])}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebRevokeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="revoke";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",enableBackground:"new    ",d:"M7.7,11.1v1.8h8.7v-1.8H7.7z M12,3.3c-4.7,0-8.7,3.8-8.7,8.7 s3.8,8.7,8.7,8.7s8.7-3.9,8.7-8.7S16.7,3.3,12,3.3z M12,18.9c-3.9,0-6.9-3.1-6.9-6.9s3-6.9,6.9-6.9s6.9,3.1,6.9,6.9 S15.9,18.9,12,18.9z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RevokeIcon=a}),98);
__d("WAWebGroupInviteLinkDrawer.react",["fbt","WAAbortError","WAFilteredCatch","WALogger","WAPromiseDelays","WAPromiseRaceAbort","WAWebABProps","WAWebBackendErrors","WAWebCellFrame.react","WAWebCommunityGatingUtils","WAWebCommunityRestrictedGroupActionModal.react","WAWebCopyLinkButton.react","WAWebCopyPasteSelectable.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebEmptyState.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFocusTracer","WAWebGroupInviteAction","WAWebGroupInviteRevokeModal.react","WAWebGroupInviteUtils.react","WAWebGroupQueryJob","WAWebGroupType","WAWebMiscErrors","WAWebModalManager","WAWebNoop","WAWebPendingParticipantsIcon.react","WAWebRevokeIcon.react","WAWebSendGroupInviteFlowLoadable","WAWebSendLinkButton.react","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUnstyledButton.react","react","useWAWebFocusOnMount","useWAWebListener","useWAWebModelValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k=["ref"],l,m;b=m||d("react");var n=l||(l=c("react")),o=b.useEffect,p=b.useState,q={groupInfo:{backgroundColor:"x15g3fpr",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},groupInfoAvatar:{minWidth:"x900493",$$css:!0},groupInfoName:{fontSize:"x1jchvi3",lineHeight:"x1xet1wb",color:"xzwifym",$$css:!0},groupInfoLink:{maxWidth:"x193iq5w",$$css:!0},link:{color:"x1eqckd8",lineHeight:"x37zpob",$$css:!0},descText:{fontSize:"x1f6kntn",lineHeight:"x37zpob",$$css:!0},icon:{color:"xt16idv",$$css:!0},iconContainer:{minWidth:"xnei2rj",$$css:!0},linkButton:{color:"x1n68mz9",$$css:!0}},r="group-invite-link-anchor",s={LOADING:0,REVOKING:1,SUCCESS:2};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,k);var e=a.onBack,f=a.chat,g=a.isCommunity,l=a.onGroupSettings,m=p(s.LOADING),t=m[0],u=m[1],v=c("useWAWebUnmountSignal")(),w=c("useWAWebFocusOnMount")();d("useWAWebListener").useListener(d("WAWebModalManager").ModalManager,["close_modal"],function(){return c("WAWebFocusTracer").focus(w.current)});var x=d("useWAWebModelValues").useModelValues(a.groupMetadata,["inviteCode","groupInviteLink","groupType","membershipApprovalMode","participants"]);g&&x.groupType!==d("WAWebGroupType").GroupType.COMMUNITY&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected group of type community, found: ",""])),x.groupType).sendLogs("group-invite-link-drawer-invalid-group-type");var y=function(a){switch(a){case 401:return h._(/*BTDS*/"You can't view this group's invite link because you're not an admin.");case 403:return h._(/*BTDS*/"You can't view this group's invite link because you're no longer a participant.");case 404:return h._(/*BTDS*/"You can't view this group's invite link because this group has ended.");case 416:return h._(/*BTDS*/"This action is not available");case 436:return h._(/*BTDS*/"Invite via link is temporarily unavailable for this group.");default:return h._(/*BTDS*/"This invite link doesn't match any WhatsApp groups.")}},z=function(a){var b=y(a);e();a===436?(d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:f.id}),d("WAWebGroupInviteUtils.react").openGrowthLockedModal(!0)):a===416&&d("WAWebCommunityGatingUtils").isCommunitySuspendAppealEnabled()&&d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebCommunityRestrictedGroupActionModal.react").CommunityRestrictedGroupActionModal,{chat:f}));d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:b}))};o(function(){if(!x.participants.iAmAdmin()){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected admin"]))).sendLogs("group-invite-link-drawer-user-not-admin");var a=401;z(a,f);return}c("WAPromiseRaceAbort")(d("WAWebGroupInviteAction").queryGroupInviteCode(x),v).then(function(){u(s.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){z(a.statusCode,f)}))["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))},[]);var A=function(a){a=y(a);e();d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:a}))},B=function(){u(s.REVOKING);var a=d("WAWebGroupInviteAction").revokeGroupInvite(x);d("WAPromiseDelays").delayMs(500).then(function(){return a}).then(function(){d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"The previous invite link is now reset and a new invite link has been created.")})),u(s.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){A(a.statusCode)}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,c("WAWebNoop")))};m=function(){d("WAWebModalManager").ModalManager.open(n.jsx(c("WAWebGroupInviteRevokeModal.react"),{chat:f,onConfirm:B}),{transition:"modal-flow"})};g=function(){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebSendGroupInviteFlowLoadable").SendGroupInviteFlowLoadable,{chat:f}),{transition:"modal-flow"})};var C=x.groupType===d("WAWebGroupType").GroupType.COMMUNITY?h._(/*BTDS*/"Invite to community via link"):h._(/*BTDS*/"Invite to group via link"),D;if(t===s.LOADING)D=n.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._(/*BTDS*/"Checking invite link")});else if(t===s.REVOKING)D=n.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._(/*BTDS*/"Resetting the invite link for {groupName}.",[h._param("groupName",f.contact.name)])});else{t=x.groupInviteLink;var E=null;document.queryCommandSupported("copy")&&(E=n.jsx(c("WAWebCopyLinkButton.react"),{elementId:r,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}));var F=x.groupType===d("WAWebGroupType").GroupType.COMMUNITY||x.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP,G=n.jsx(d("WAWebDetailImage.react").DetailImage,{id:f.id,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?48:82,quality:d("WAWebDetailImage.react").DetailImageQuality.High,shape:F?d("WAWebDetailImage.react").DetailImageShape.Squircle:d("WAWebDetailImage.react").DetailImageShape.Circle});t=n.jsx("span",{className:"x1vvkbs xeaf4i8",children:n.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{id:r,href:t,selectable:!0,children:n.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{xstyle:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")&&q.link,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"13":"15",color:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"link":void 0,children:t})})});if(d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){var H,I;I=n.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[q.groupInfo,(I=d("WAWebUISpacing")).uiMargin.top16,I.uiMargin.horiz16,I.uiPadding.vert12,I.uiPadding.horiz8],align:"center",children:[n.jsx(H=c("WAWebFlexItem.react"),{xstyle:[q.groupInfoAvatar,I.uiPadding.horiz8],children:G}),n.jsx(H,{xstyle:I.uiPadding.horiz8,children:n.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"start",children:[n.jsx(H,{children:n.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto",xstyle:q.groupInfoName})}),n.jsx(H,{xstyle:q.groupInfoLink,children:t})]})})]})}else I=n.jsx(c("WAWebCellFrame.react"),{image:G,primary:n.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto"}),theme:"identity",secondary:t});var J;F?H=n.jsx("div",{className:"xevwqry x7vsco6 xdqhqc9 xoud76o x1f6kntn x37zpob",children:h._(/*BTDS*/"Anyone with WhatsApp can follow this link to join this community. Only share it with people you trust.")}):d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?(H=n.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.vert16,children:[n.jsx(c("WAWebFlexItem.react"),{xstyle:[q.iconContainer,d("WAWebUISpacing").uiPadding.horiz25],children:n.jsx(d("WAWebPendingParticipantsIcon.react").PendingParticipantsIcon,{xstyle:q.icon})}),n.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end24,children:n.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"dark",xstyle:q.descText,children:x.membershipApprovalMode?h._(/*BTDS*/"Members need approval from an admin to join this group. Edit in {=m2}",[h._implicitParam("=m2",n.jsx(c("WAWebUnstyledButton.react"),{onClick:l,xstyle:q.linkButton,children:h._(/*BTDS*/"group permissions.")}))]):h._(/*BTDS*/"Members do not need approval from an admin to join this group. Edit in {=m2}",[h._implicitParam("=m2",n.jsx(c("WAWebUnstyledButton.react"),{onClick:l,xstyle:q.linkButton,children:h._(/*BTDS*/"group permissions.")}))])})})]}),J=n.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz24],children:n.jsx("div",{className:"xh8yej3 xjm9jq1 xxnau4b"})})):H=n.jsx("div",{className:"xevwqry x7vsco6 xdqhqc9 xoud76o x1f6kntn x37zpob",children:h._(/*BTDS*/"Anyone with WhatsApp can follow this link to join this group. Only share it with people you trust.")});D=n.jsxs(c("WAWebDrawerBody.react"),{children:[I,H,J,n.jsx(c("WAWebSendLinkButton.react"),{onClick:g,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}),E,n.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,icon:n.jsx(d("WAWebRevokeIcon.react").RevokeIcon,{xstyle:q.icon}),onClick:m,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3"),children:h._(/*BTDS*/"Reset link")})]})}return n.jsxs(c("WAWebDrawer.react"),{ref:b,theme:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"invite":void 0,testid:void 0,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:C,onBack:a.onBack,rtlFixIfOnDarwin:!0,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),n.jsx("div",{ref:w,tabIndex:-1,children:D})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoSections",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["DELIVERED_FOOTER","DELIVERED_HEADER","FORWARD_COUNT","PLAYED_FOOTER","PLAYED_HEADER","READ_FOOTER","READ_HEADER","SEEN_FOOTER","SEEN_HEADER","VIEWED_FOOTER","VIEWED_HEADER","AGENT_HEADER","KEEP_IN_CHAT_HEADER"]);f.Sections=a}),66);
__d("useWAWebMsgInfoValues",["WAWebMsgInfoCollection","useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useCollectionValues(d("WAWebMsgInfoCollection").MsgInfoCollection,a,b)}g.useMsgInfoValues=a}),98);
__d("WAWebGroupMsgInfoSectionFooter.react",["fbt","WALogger","WAWebGroupMsgInfoSections","WAWebMsgInfoGetters","WAWebText.react","react","useWAWebMsgInfoValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a){var b=a.msgInfo;a=a.section;b=d("useWAWebMsgInfoValues").useMsgInfoValues(b.id,[d("WAWebMsgInfoGetters").getPlayedRemaining,d("WAWebMsgInfoGetters").getReadRemaining,d("WAWebMsgInfoGetters").getDeliveryRemaining]);var c=b[0],e=b[1];b=b[2];var f,g;switch(a){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_FOOTER:case d("WAWebGroupMsgInfoSections").Sections.VIEWED_FOOTER:f=c;g=c;break;case d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER:case d("WAWebGroupMsgInfoSections").Sections.SEEN_FOOTER:f=e;g=e;break;case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER:f=b;g=b;break;default:d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Invalid SECTION for group message info section footer"])));return null}if(f==null||f===0)return null;a=h._(/*BTDS*/"_j{\"*\":\"{count} remaining\",\"_1\":\"1 remaining\"}",[h._plural(g,"count")]);return k.jsx("div",{"data-testid":void 0,className:"x1yrsyyn x5zjp28 x1g2khh7 x162tt16 x150wa6m x1bnvlk4",children:k.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoDrawer.react",["fbt","WALogger","WANullthrows","WAWebAgentCollection","WAWebBizAgentAction","WAWebBizGatingUtils","WAWebChatAgentMsgInfoCell.react","WAWebChatGroupMsgInfoCell.react","WAWebChatKeptByMsgInfoCell.react","WAWebChatPreferenceCollection","WAWebContactCollection","WAWebDisplayType","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebElevatedPushNamesFlag","WAWebFlatList.react","WAWebFlatListController","WAWebFrontendMsgGetters","WAWebGroupMetadataCollection","WAWebGroupMsgInfoSectionFooter.react","WAWebGroupMsgInfoSections","WAWebKeepInChatIcon.react","WAWebL10N","WAWebLabelsInfoDrawerLabelWell.react","WAWebMessagePosition","WAWebMessageWrapper.react","WAWebMicIcon.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgPreview.react","WAWebMsgType","WAWebMultiDeviceIcon.react","WAWebRow.react","WAWebSpinner.react","WAWebStatusDblcheckIcon.react","WAWebStatusPttIcon.react","WAWebStatusVideoIcon.react","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUiActionWamEvent","WAWebUseIsFeatureEnabled","WAWebUserPrefsMeUser","WAWebViewOnceViewedIcon.react","WAWebWamAddressingModeUtils","WAWebWamEnumUiActionType","WAWebWamGroupMetricUtils","WAWebWamMsgUtils","WAWebWamPrivateStatsUtils","react","stylex","useLazyRef","useWAWebForceUpdate","useWAWebListener","useWAWebMsgValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l,m;b=m||d("react");var n=k||(k=c("react")),o=b.useEffect,p=b.useRef,q=b.useState,r={svg:{width:"x1xp8n7a",height:"xmix8c7",$$css:!0},statusBlue:{color:"xy5zui7",$$css:!0},ack:{color:"x1q15gih",$$css:!0},titleRefreshed:{display:"x78zum5",$$css:!0}},s=50,t=50,u=d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT+10,v=d("WAWebFlatList.react").FlatListFactory();function w(a){var b=a.chat,d=a.elevatedPushNamesEnabled;a=a.participant;return n.jsx(c("WAWebChatGroupMsgInfoCell.react"),{msgInfoParticipant:a,chat:b,contact:a.contact,elevatedPushNamesEnabled:d,theme:"drawer-list"})}w.displayName=w.name+" [from "+f.id+"]";function x(a){var b=a.agentName;a=a.msg;return n.jsx(c("WAWebChatAgentMsgInfoCell.react"),{msg:a,agentName:b,theme:"drawer-list"})}x.displayName=x.name+" [from "+f.id+"]";function y(a){return d("WAWebContactCollection").ContactCollection.assertGet(a)}function z(a){a=a.msg;var b=d("WAWebMsgGetters").getKicSender(a);if(b!=null){b=y(b);return n.jsx(c("WAWebChatKeptByMsgInfoCell.react"),{kicTimestampMs:a.kicTimestampMs,contact:b,theme:"drawer-list"})}return}z.displayName=z.name+" [from "+f.id+"]";function A(a){var b=a.msg;a=a.section;var e,f;switch(a){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:b.type===d("WAWebMsgType").MSG_TYPE.PTV?f=n.jsx(d("WAWebStatusVideoIcon.react").StatusVideoIcon,{xstyle:r.statusBlue,iconXstyle:r.svg}):d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?f=n.jsx(d("WAWebMicIcon.react").MicIcon,{xstyle:r.statusBlue,iconXstyle:r.svg}):f=n.jsx(d("WAWebStatusPttIcon.react").StatusPttIcon,{xstyle:r.statusBlue,iconXstyle:r.svg});e=h._(/*BTDS*/"Played by");break;case d("WAWebGroupMsgInfoSections").Sections.READ_HEADER:f=n.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{xstyle:r.ack,iconXstyle:r.svg});e=h._(/*BTDS*/"Read by");break;case d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:f=n.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{xstyle:r.ack,iconXstyle:r.svg});e=b.isViewOnce?h._(/*BTDS*/"Seen by"):h._(/*BTDS*/"Seen by");break;case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER:f=n.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{iconXstyle:r.svg});e=h._(/*BTDS*/"Delivered to");break;case d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER:f=n.jsx(d("WAWebViewOnceViewedIcon.react").ViewOnceViewedIcon,{xstyle:r.statusBlue,iconXstyle:r.svg});e=h._(/*BTDS*/"Opened by");break;case d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER:f=n.jsx(d("WAWebMultiDeviceIcon.react").MultiDeviceIcon,{iconXstyle:r.svg});e=h._(/*BTDS*/"Sent from");break;case d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER:f=n.jsx(d("WAWebKeepInChatIcon.react").KeepInChatIcon,{iconXstyle:r.svg});e=h._(/*BTDS*/"Kept by");break;default:d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Invalid SECTION for group message info section header"])));return null}if(d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled())return n.jsxs("div",babelHelpers["extends"]({"data-testid":void 0,dir:c("WAWebL10N").LR()},(l||(l=c("stylex"))).props(r.titleRefreshed,d("WAWebUISpacing").uiPadding.all20,d("WAWebUISpacing").uiPadding.top0),{children:[f,n.jsx(d("WAWebText.react").WAWebTextMutedRefreshed,{as:"span",xstyle:d("WAWebUISpacing").uiPadding.horiz10,textWrap:"ellipsis",children:e})]}));f=n.jsx("div",{className:"x1rg5ohu x1xp8n7a x1qx5ct2 xq22nx5 x2b8uid x16dsc37",children:f});return n.jsx("div",{"data-testid":void 0,className:"xyinxu5 x5zjp28 x1l90r2v x162tt16 x150wa6m",children:n.jsx(c("WAWebRow.react"),{side:f,ellipsify:!0,children:n.jsx(d("WAWebText.react").WAWebTextSectionTitle,{as:"span",children:e})})})}A.displayName=A.name+" [from "+f.id+"]";function B(a){var b=a.data,e=a.msg;a=a.msgInfo;if(b.kind==="contact-row")return n.jsx(w,{participant:b.participant,chat:d("WAWebFrontendMsgGetters").getChat(e),elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(d("WAWebFrontendMsgGetters").getChat(e))});if(b.kind==="agent-row")return n.jsx(x,{msg:e,agentName:b.agentName});if(b.kind==="kept-by-row")return n.jsx(z,{msg:e});switch(b.type){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.READ_HEADER:case d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER:case d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER:return n.jsx(A,{msg:e,section:b.type});default:return n.jsx(c("WAWebGroupMsgInfoSectionFooter.react"),{section:b.type,msgInfo:c("WANullthrows")(a)})}}B.displayName=B.name+" [from "+f.id+"]";function a(a){var b,e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var f=a.msg;b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(b=d("WAWebMsgGetters")).getId,b.getStar,b.getType,b.getIsGif,b.getIsViewOnce,b.getLabels,b.getNumTimesForwarded,b.getIsFrequentlyForwarded,b.getAgendId,b.getKicSender,b.getKicTimestampMs,b.getIsKept,b.getLatestEditMsgKey]);var g=b[0];b[1];var j=b[2];b[3];var k=b[4],l=b[5];b[6];b[7];var m=b[8],r=b[9];b[10];var w=b[11];b[12];var x=d("WAWebFrontendMsgGetters").getChat(f);b=Boolean((b=x.groupMetadata)==null?void 0:b.isLidAddressingMode);var y=d("WAWebWamMsgUtils").msgIsLid(f,x.id,b),z=c("useWAWebUnmountSignal")(),A=c("useWAWebUIM")(),C=c("useLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:y})});b=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});var D=p(null),E=p(null),F=q(void 0),G=F[0],H=F[1];F=q(!1);var I=F[0],J=F[1];o(function(){var a;d("WAWebMsgInfoCollection").MsgInfoCollection.find(g).then(function(a){if(z.aborted)return;H(a)})["catch"](function(){J(!0),d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Couldn't display message info. Try again later."),id:d("WAWebToast.react").genId("msg_info_failed")}))});a=(a=D.current)==null?void 0:a.getContainer();j===d("WAWebMsgType").MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight)},[]);o(function(){var a=C.current;if(a){var b=c("WAWebGroupMetadataCollection").get(x.id),e=b==null?void 0:b.cachedDeviceSizeBucket;e!=null&&(a.sizeBucket=e);b!=null&&Object.assign(a,d("WAWebWamGroupMetricUtils").getGroupCountMetricsFromGroupMetadata(b),d("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(b));a.markUiActionT();a.commit();C.current=void 0}d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents();d("WAWebBizAgentAction").logMessageInfo(m)},[]);var K=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");F=function(a,b){b===void 0&&(b=!1);return a===g&&(b?!0:(a=E.current)==null?void 0:a.getMsgComponentRef())};var L=function(){A==null||A.requestDismiss()},M=function(){var a=[];G&&w&&r!=null&&(a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER,height:t}),a.push({kind:"kept-by-row",itemKey:"kept-by-"+r.user,height:u}));if(K&&d("WAWebBizGatingUtils").isMultiDeviceMessageAttributionEnabled()&&m!=null){var b;b=(b=(b=d("WAWebAgentCollection").AgentCollection.get(m))==null?void 0:b.name)!=null?b:"";a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER,height:t});a.push({kind:"agent-row",agentName:b,itemKey:"agent-"+b.toString(),height:u})}b=d("WAWebMsgGetters").getIsAckPlayable(f);var c=b||k;if(G&&c){var e=b&&!k?d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER;a.push({kind:"section",type:e,itemKey:e,height:t});a.push.apply(a,G.played.map(function(a){return{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}));G.playedRemaining>0&&(e=b&&!k?d("WAWebGroupMsgInfoSections").Sections.PLAYED_FOOTER:d("WAWebGroupMsgInfoSections").Sections.VIEWED_FOOTER,a.push({kind:"section",type:e,itemKey:e,height:s}))}G&&(G.read.length>0||G.playedRemaining>0)&&(a.push({kind:"section",type:c?d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:d("WAWebGroupMsgInfoSections").Sections.READ_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.READ_HEADER,height:t}),a.push.apply(a,G.read.map(function(a){var b;return(b=f.invokedBotWid)!=null&&b.isBot()&&d("WAWebUserPrefsMeUser").isMeAccount(a.id)?null:{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}).filter(Boolean)),G.readRemaining>0&&a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER,itemKey:c?d("WAWebGroupMsgInfoSections").Sections.SEEN_FOOTER:d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER,height:s}));G&&(G.delivery.length>0||G.deliveryRemaining>0)&&(a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER,height:t}),a.push.apply(a,G.delivery.map(function(a){var b;return(b=f.invokedBotWid)!=null&&b.isBot()&&d("WAWebUserPrefsMeUser").isMeAccount(a.id)?null:{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}).filter(Boolean)),G.deliveryRemaining>0&&a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER,itemKey:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER,height:s}));return a},N=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(G==null?void 0:G.played,["add","remove"],N);d("useWAWebListener").useListener(G==null?void 0:G.read,["add","remove"],N);d("useWAWebListener").useListener(G==null?void 0:G.delivery,["add","remove"],N);d("useWAWebListener").useListener(f,"revoked",function(){A==null||A.requestDismiss()});d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,"remove",function(a){a.id.equals(g)&&(A==null||A.requestDismiss())});d("useWAWebListener").useListener(f,"change:latestEditMsgKey",function(){return A==null?void 0:A.requestDismiss()});var O;!G&&!I&&(O=n.jsx("div",{className:"x78zum5 x6s0dn4 xl56j7k xvv2zd5",children:n.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4})}));N=M();I=N.length?n.jsx(v,{flatListController:b.current,direction:"vertical",forceConsistentRenderCount:!1,data:N,renderItem:function(a){return n.jsx(B,{data:a,msg:f,msgInfo:G})}}):null;M=null;l&&l.length>0&&d("WAWebBizGatingUtils").canDisplayLabel()&&(M=n.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:n.jsx(c("WAWebLabelsInfoDrawerLabelWell.react"),{labels:l})}));return n.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"striped",children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Message info"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:L,focusBackOrCancel:!0}),n.jsx(c("WAWebMsgPreview.react"),{ref:D,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),children:n.jsx(c("WAWebMessageWrapper.react"),{msg:f,ref:E,displayType:d("WAWebDisplayType").DISPLAY_TYPE.MSG_INFO,isMsgVisible:F,position:d("WAWebMessagePosition").MsgPosition.END,onProductClick:a.onProductClick,errorBoundaryName:"group-msg-info-drawer"})}),n.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[b.current],children:[M,O,n.jsx("div",{className:"x889kno x1t4gjm",children:I})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoFlow.react",["$InternalEnum","WANullthrows","WAWebFrontendMsgGetters","WAWebGroupMsgInfoDrawer.react","WAWebProductDetailsFlowLoadable","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["GroupMessageInfo","ProductDetails"]);function a(a){a=a.msg;var b=d("useWAWebFlow").useFlow(l.GroupMessageInfo,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),e=b[0],f=b[1];b=k();var g=b[0],h=b[1];if(f.step==null)return null;var i;switch(f.step){case l.GroupMessageInfo:b=function(a){h(a),f.push(l.ProductDetails)};i=j.jsx(c("WAWebGroupMsgInfoDrawer.react"),{msg:a,onProductClick:b});break;case l.ProductDetails:i=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:d("WAWebFrontendMsgGetters").getChat(a),product:c("WANullthrows")(g),onEnd:function(){return f.pop()}});break}return j.jsx(e,{flow:f,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebGroupsV4InviteAddComment.react",["fbt","WAWebChatInviteWithCommentModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.gid;a.groupDesc;var d=a.onClose,e=a.onSend,f=a.participants,g=a.ref;a=a.subject;return j.jsx(c("WAWebChatInviteWithCommentModal.react"),{ref:g,onClose:d,onSend:e,wid:b,invitees:f.map(function(a){return a.contact}),chatName:a,initialInviteComment:h._(/*BTDS*/"Invitation to join my WhatsApp group"),chatNameSubtitle:h._(/*BTDS*/"WhatsApp group invite")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupsV4InviteFlow.react",["fbt","$InternalEnum","Promise","WALogger","WAWebChatSendMessages","WAWebConfirmPopup.react","WAWebFbtIntlList","WAWebFindChatAction","WAWebFrontendContactGetters","WAWebGroupMetadataCollection","WAWebGroupsV4InviteAddComment.react","WAWebModalManager","WAWebName.react","WAWebSendMsgResultAction","WAWebToast.react","WAWebToastManager","asyncToGeneratorRuntime","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=b("$InternalEnum").Mirrored(["Confirm","AddComment"]);function a(a){var e=d("useWAWebFlow").useFlow(m.Confirm),f=e[0],g=e[1];e=c("WAWebGroupMetadataCollection").get(a.groupGid);e=(e==null?void 0:e.isParentGroup)===!0||(e==null?void 0:e.isCag)===!1;var k=function(a,b){b===void 0&&(b=!1);return b?d("WAWebFrontendContactGetters").getFormattedUser(a):l.jsx(d("WAWebName.react").Name,{contact:a})},n=function(a,b){b===void 0&&(b=!1);if(!Array.isArray(a))return k(a,b);a=a.map(function(a){return k(a,b)});return c("WAWebFbtIntlList")(a,c("WAWebFbtIntlList").CONJUNCTIONS.AND,c("WAWebFbtIntlList").DELIMITERS.COMMA)};n=n(a.participantNeedInvite.map(function(a){return a.contact}),!0);var o=h._(/*BTDS*/"_j{\"*\":\"Couldn't add {member}. You can invite them privately to join this group.\"}",[h._plural(a.participantNeedInvite.length),h._param("member",n)]);n=h._(/*BTDS*/"_j{\"*\":\"Couldn't add {member}. You can invite them privately to join this community.\"}",[h._plural(a.participantNeedInvite.length),h._param("member",n)]);n=e?n:o;o=function(e,f){e===void 0&&(e=""),d("WAWebModalManager").ModalManager.close(),(j||(j=b("Promise"))).all(a.participantNeedInvite.map(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.contact,h=b.invite_code;b=b.invite_code_exp;var i=(yield d("WAWebFindChatAction").findOrCreateLatestChat(g.id,"groupsV4InviteFlow"));i=i.chat;var j=a.groupGid.toString(),k=c("WAWebGroupMetadataCollection").assertGet(j);i=(yield d("WAWebChatSendMessages").sendGroupInviteMessage(i,j,a.subject,h||"",b,e,f));if(i.messageSendResult===d("WAWebSendMsgResultAction").SendMsgResult.OK){k.pendingParticipants.add({id:g.id});return!0}return!1});return function(a){return g.apply(this,arguments)}}())).then(function(a){a=a.filter(Boolean).length;d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"_j{\"*\":\"{num} invites sent\",\"_1\":\"1 invite sent\"}",[h._plural(a,"num")])}))})["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[error] handleSendInvite"]))).devConsole(a).sendLogs("groups-v4-invite-send-failed")})};var p=h._(/*BTDS*/"Invite to group"),q=h._(/*BTDS*/"Invite to community");e=e?q:p;if(g.step==null)return null;q=null;switch(g.step){case m.Confirm:q=l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return g.push(m.AddComment)},okText:e,onCancel:function(){return g.pop()},cancelText:h._(/*BTDS*/"Cancel"),children:n});break;case m.AddComment:q=l.jsx(c("WAWebGroupsV4InviteAddComment.react"),{participants:a.participantNeedInvite,gid:a.groupGid,subject:a.subject,groupDesc:a.groupDesc,onClose:function(){return g.pop()},onSend:o})}return l.jsx(f,{flow:g,children:q})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebImageRefreshedFilledIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="image-refreshed-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H19C19.55 3 20.0208 3.19583 20.4125 3.5875C20.8042 3.97917 21 4.45 21 5V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H5ZM7 17H17C17.2 17 17.35 16.9083 17.45 16.725C17.55 16.5417 17.5333 16.3667 17.4 16.2L14.65 12.525C14.55 12.3917 14.4167 12.325 14.25 12.325C14.0833 12.325 13.95 12.3917 13.85 12.525L11.25 16L9.4 13.525C9.3 13.3917 9.16667 13.325 9 13.325C8.83333 13.325 8.7 13.3917 8.6 13.525L6.6 16.2C6.46667 16.3667 6.45 16.5417 6.55 16.725C6.65 16.9083 6.8 17 7 17Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ImageRefreshedFilledIcon=a}),98);
__d("WAWebLinkSubgroupsAction",["fbt","WAFilteredCatch","WALogger","WAWebActionToast.react","WAWebBackendErrors","WAWebCommunityGeneralChatFailedParticipantsModal.react","WAWebGroupCommunityJob","WAWebModalManager","WAWebNoop","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=d("WAWebGroupCommunityJob").sendLinkSubgroups({parentGroupId:a,subgroupIds:e});a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield f);if(a.failedGroups.length>0){var b=a.failedGroups.reduce(function(a,b){return a&&b.error===406},!0);return b?new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"These groups cannot be added because the community is full.\",\"_1\":\"This group cannot be added because the community is full.\"}",[h._plural(a.failedGroups.length)])):new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"These groups were not linked.\",\"_1\":\"This group was not linked.\"}",[h._plural(a.failedGroups.length)]))}a.failedParticipantJids.length>0&&d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebCommunityGeneralChatFailedParticipantsModal.react").GeneralChatFailedParticipantsModal,{failedParticipantJids:a.failedParticipantJids}));return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Groups linked\",\"_1\":\"Group linked\"}",[h._plural(e.length)]))}catch(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Subgroup linking failed"]))).verbose().devConsole(a).sendLogs("subgroup-linking-failed");return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Subgroup could not be linked. Please try again."))}})();var g=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"_j{\"*\":\"Linking groups\",\"_1\":\"Linking group\"}",[h._plural(e.length)]));d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{initialAction:g,pendingAction:a}));try{yield f}catch(a){d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,c("WAWebNoop"))(a)}});return l.apply(this,arguments)}g["default"]=a}),226);
__d("WAWebManageCommunityGroupsFlow.react",["$InternalEnum","WANullthrows","WAWebABProps","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityExistingGroupsConfirmationDrawer.react","WAWebCommunityExistingGroupsDrawer.react","WAWebCommunityHomeGroupsManager.react","WAWebCommunitySettingsDrawer.react","WAWebComposeBoxActions","WAWebCreateSubgroupSuggestionAction","WAWebDrawerManager","WAWebExistingGroupPermissionsDrawer.react","WAWebFindChatAction","WAWebLinkSubgroupsAction","WAWebNewGroupFlow.react","WAWebNewGroupFlowLoadable","WAWebNewGroupPermissionsDrawer.react","WAWebNewSubgroupSuggestionFlowLoadable","WAWebUiActionWamEvent","WAWebUserPrefsMeUser","WAWebWamEnumUiActionType","WAWebWamPrivateStatsUtils","asyncToGeneratorRuntime","react","useWAWebCallbackOnce","useWAWebCommunitySubgroups","useWAWebFlow","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m=b("$InternalEnum").Mirrored(["GROUPS_MANAGER","NEW_GROUP","EXISTING_GROUP","COMMUNITY_SETTINGS","GROUP_PERMISSIONS_DRAWER","NEW_GROUP_PERMISSIONS_DRAWER","EXISTING_GROUPS_CONFIRMATION_DRAWER"]);function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=a.parentGroupMetadata,g=a.fromInfo;g=g===void 0?!1:g;var i=a.onBack;a=a.existingGroupsToBeLinked;a=a===void 0?[]:a;var j=c("useWAWebCommunitySubgroups")(f),n=j.joinedSubgroups,o=j.unjoinedSubgroups;j=j.subgroupCount;var p=d("WAWebChatCommunityUtils").isSubgroupSuggestionCreation(f.id),q=c("useWAWebUnmountSignal")(),r=c("useWAWebCallbackOnce")(function(){i?i():d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}),s=l(!0),t=s[0];s=s[1];var u=l(!0),v=u[0];u=u[1];var w=l(!0),x=w[0];w=w[1];var y=l(!1),z=y[0];y=y[1];var A=l(a),B=A[0],C=A[1];A=l();var D=A[0],E=A[1],F=a.length>0;A=d("useWAWebFlow").useFlow(F?m.EXISTING_GROUPS_CONFIRMATION_DRAWER:m.GROUPS_MANAGER,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:r});a=A[0];var G=A[1];function H(a){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield a);G.pop();a!=null&&!q.aborted&&d("WAWebFindChatAction").findOrCreateLatestChat(a,"communityGroupsFlow").then(function(a){var b=a.chat;d("WAWebCmd").Cmd.openChatBottom(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)})})});return I.apply(this,arguments)}function J(a){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Set([].concat(o,n));a=a.filter(function(a){return!b.has(a.id)}).map(function(a){return a.id});if(a.length)if(!f.participants.iAmAdmin())yield d("WAWebCreateSubgroupSuggestionAction").createExistingGroupsSubgroupSuggestionsAction(f.id,a,r,r);else{var e=Boolean(f.isLidAddressingMode),g=new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.COMMUNITY_LINK,uiActionPreloaded:!1,isLid:e});yield c("WAWebLinkSubgroupsAction")(f.id,a).then(function(){g.markUiActionT(),g.commit(),d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents()});r();F&&d("WAWebCmd").Cmd.openCommunityHome(f.id)}C([])});return K.apply(this,arguments)}if(G.step==null)return null;var L;switch(G.step){case m.GROUPS_MANAGER:L=k.jsx(d("WAWebCommunityHomeGroupsManager.react").CommunityHomeGroupsManager,{joinedSubgroups:n,unjoinedSubgroups:o,currentSubgroupCount:j,fromInfo:g,onBack:r,onNewGroupFlow:function(){return G.push(m.NEW_GROUP)},onExistingGroupFlow:function(){return G.push(m.EXISTING_GROUP)},onCommunitySettingsClick:function(){return G.push(m.COMMUNITY_SETTINGS)},parentId:f.id});break;case m.NEW_GROUP:p?L=k.jsx(d("WAWebNewSubgroupSuggestionFlowLoadable").NewSubgroupSuggestionFlowLoadable,{parentGroup:f.id,onBack:function(){return G.pop()},onEnd:r}):L=k.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:H,onEnd:function(){return G.pop()},parentGroupWid:f.id,initialStep:d("WAWebNewGroupFlow.react").NewGroupFlowStep.SET_GROUP_INFO_DRAWER,shortenedCreationFlow:!0});break;case m.EXISTING_GROUP:A=d("WAWebABProps").getABPropConfigValue("parent_group_no_disclaimer")&&f.isParentGroupClosed===!0;p=f==null?void 0:f.getSubgroupSuggestions().reduce(function(a,b){d("WAWebUserPrefsMeUser").isMeAccount(b.owner)&&a.push(b.groupId);return a},[]);L=k.jsx(c("WAWebCommunityExistingGroupsDrawer.react"),{onBack:function(){return G.pop()},fromInfo:g,onSubmit:J,communityName:f.subject,isCommunityAdmin:f.participants.iAmAdmin(),onContinue:function(){return G.push(m.EXISTING_GROUPS_CONFIRMATION_DRAWER)},onCreateNewGroup:function(){return G.push(m.NEW_GROUP)},currentSubgroupCount:j,isParentGroupClosed:A,groupsSuggestedByMeToCommunity:p,flowSelectedGroups:B,setFlowSelectedGroups:C});break;case m.COMMUNITY_SETTINGS:H=d("WAWebChatCollection").ChatCollection.assertGet(f.id);L=k.jsx(c("WAWebCommunitySettingsDrawer.react"),{chat:H,onBack:function(){return G.pop()}});break;case m.GROUP_PERMISSIONS_DRAWER:g=d("WAWebChatCollection").ChatCollection.assertGet(c("WANullthrows")(D));L=k.jsx(c("WAWebExistingGroupPermissionsDrawer.react"),{chat:g,groupLinkingFlow:!0,groupMetadata:c("WANullthrows")(g.groupMetadata),onClose:function(){return G.pop()}});break;case m.NEW_GROUP_PERMISSIONS_DRAWER:L=k.jsx(c("WAWebNewGroupPermissionsDrawer.react"),{onBack:function(){return G.pop()},restrict:t,setRestrict:s,announce:v,setAnnounce:u,membershipApprovalMode:z,setMembershipApprovalMode:y,memberAddMode:x,setMemberAddMode:w});break;case m.EXISTING_GROUPS_CONFIRMATION_DRAWER:j=d("WAWebABProps").getABPropConfigValue("parent_group_no_disclaimer")&&f.isParentGroupClosed===!0;L=k.jsx(c("WAWebCommunityExistingGroupsConfirmationDrawer.react"),{onBack:function(){return G.pop()},onGroupPermissions:function(a){E(a),G.push(m.GROUP_PERMISSIONS_DRAWER)},isParentGroupClosed:j,isCommunityAdmin:f.participants.iAmAdmin(),onSubmit:J,selectedGroups:B,communityName:f.subject,parentGroupId:f.id})}return k.jsx(a,{flow:G,ref:e,children:L})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMerchantDetailsFormFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizMerchantDetailsFormFlow.react").__setRef("WAWebMerchantDetailsFormFlowLoadable").load());return a}),"MerchantDetailsFormFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.MerchantDetailsFormFlowLoadable=d}),98);
__d("WAWebWamEnumWebContactListStartNewChatType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,GROUP:2,CONTACTLESS:3});f.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=a}),66);
__d("WAWebWebContactListStartNewChatWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebContactListStartNewChatType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebContactListStartNewChat:[4560,{webContactListStartNewChatSearch:[1,d("WAWebWamCodegenUtils").TYPES.BOOLEAN],webContactListStartNewChatType:[2,d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE]},[1,1,1],"regular"]},{WebContactListStartNewChat:[]});g.WebContactListStartNewChatWamEvent=a}),98);
__d("WAWebNewChatMetricUtils",["WATimeUtils","WAWebChatConstants","WAWebChatThreadLogging","WAWebWebContactListStartNewChatWamEvent"],(function(a,b,c,d,e,f,g){function a(a){var b=a.isSearchResult;a=a.chatType;new(d("WAWebWebContactListStartNewChatWamEvent").WebContactListStartNewChatWamEvent)({webContactListStartNewChatSearch:b,webContactListStartNewChatType:a}).commit()}function b(a){var b=!(a.msgs.some(function(a){return a.isRealMessage()})||a.endOfHistoryTransferType===d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.INCOMPLETE);b&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"viaContactlessChats",ts:d("WATimeUtils").unixTime(),chatId:a.id,boolValue:!0}])}g.logContactListStartNewChatAction=a;g.logInitiatedContactlessChat=b}),98);
__d("WAWebNewChatDrawer.react",["fbt","WAWebAccountTakeOverBanner.react","WAWebBox.react","WAWebCallDialerRefreshedIcon.react","WAWebCellBorder.react","WAWebCellV2.react","WAWebChatContactList.react","WAWebChatListSearch.react","WAWebCmd","WAWebCommunityGatingUtils","WAWebComposeBoxActions","WAWebContactCollection","WAWebContactGetters","WAWebContactManagementGating","WAWebContactlessChatUtils","WAWebDefaultAddProfilePicture.react","WAWebDialerPadGatingUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerViewType","WAWebEmptyState.react","WAWebFbtCommon","WAWebFindChatAction","WAWebFlatListController","WAWebFocusIndicator","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebMenuBar.react","WAWebModalManager","WAWebNewChatMetricUtils","WAWebPhoneNumberSearch","WAWebReachoutTimelockActions","WAWebReachoutTimelockButterBarLoadable.react","WAWebReachoutTimelockRestrictedModalLoadable","WAWebReachoutTimelockUtils","WAWebTabOrder","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnknownContactSection.react","WAWebUseContactManagementAvailability","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebUsernameKeyVerificationFlow","WAWebWamEnumWebContactListStartNewChatType","WDSMenuBarItem.react","asyncToGeneratorRuntime","react","useLazyRef","useWAWebABPropConfigValue","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebListener","useWAWebStableCallback","useWAWebUnknownContact"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,n=e.useRef,o=e.useState,p={atoBanner:{paddingTop:"x1cnzs8",paddingBottom:"x1a8lsjc",marginTop:"x1kgmq87",marginBottom:"xmgb6t1",backgroundColor:"x150wa6m",zIndex:"xupqr0c",position:"x1n2onr6",$$css:!0}};function q(a){var b=a.image,e=a.onClick,f=a.primary,g=a.ref;a=a.testid;a=h._(/*BTDS*/"{item-title}",[h._param("item-title",f.toString())]);return l.jsxs(d("WAWebBox.react").Box,{padding:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?[0,8]:null,children:[l.jsx(d("WAWebCellV2.react").CellV2,{ref:g,size:"medium",material:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),detailLeft:b,detailLeftXStyle:[d("WAWebUISpacing").uiPadding.start13],primary:l.jsxs(d("WAWebText.react").WAWebTextTitle,{children:[f," "]}),onClick:e,ariaLabel:a,testid:void 0}),!d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.jsx(c("WAWebCellBorder.react"),{})]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var f=a.title,g=a.onBack,j=a.onClick,k=a.onNewGroup,r=a.onNewCommunity,s=a.onNewContact,t=a.onDialerPad;a=a.viewType;var u=o(""),v=u[0],w=u[1];u=o(d("WAWebReachoutTimelockUtils").isUserReachoutTimelockedAndVisible());var x=u[0],y=u[1];u=n();var z=n(),A=n(),B=Boolean(v),C=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),D=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button"),E=d("WAWebUsernameGatingUtils").usernameContactlessChatEnabled(),F=h._(/*BTDS*/"Search contacts"),G=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(d("WAWebContactCollection").ContactCollection,"change:name",G);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"reachout_timelock_state_change",function(){y(d("WAWebReachoutTimelockUtils").isUserReachoutTimelockedAndVisible())});G=d("WAWebUseContactManagementAvailability").useAccountIntegrityState();E?F=c("WAWebFbtCommon")("Search name, number or username"):F=c("WAWebFbtCommon")("Search name or number");var H=m(function(a){d("WAWebContactCollection").ContactCollection.ensureSorted();a=typeof a==="string"?a:v;if(!a)return d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:!!a});var b=d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:!!a}).concat(d("WAWebContactCollection").ContactCollection.filter(function(a){return a.name&&!d("WAWebContactGetters").getIsMe(a)&&!d("WAWebContactGetters").getIsPSA(a)&&!d("WAWebContactGetters").getIsWAContact(a)&&!d("WAWebContactGetters").getIsNewsletter(a)&&!d("WAWebContactGetters").getIsBot(a)})),e=c("WAWebL10N").accentFold(a),f=d("WAWebPhoneNumberSearch").numberSearch(e);return b.filter(function(a){return a.searchMatch(e,f)})},[v]);E=H();d("WAWebReachoutTimelockActions").maybeSetCanSendMsgWhileTimelockedProp(E);var I=c("useWAWebUnknownContact")({phoneOrUsername:v,searchPhoneNumber:!0,searchUsername:!0}),J=I.unknownContactInfo,K=I.loading,L=I.error;I=I.onRetry;var M=c("useWAWebDebouncedCallback")(function(a){return w(a)},100),N=m(function(a){A.current=a,M(a)},[M]),O=m(function(a,b,d){c("WAWebFocusIndicator").shouldIndicateFocus(),j(a,b,void 0,d)},[j]),P=c("useWAWebStableCallback")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a.preventDefault();a.stopPropagation();if(J==null)return;if((J==null?void 0:J.wid)==null){J;a=(yield d("WAWebUsernameKeyVerificationFlow").usernameKeyVerificationFlow(J.username,{initWithError:J.triedKey}));if(a==null)return}else a=J.wid;b=(b=J==null?void 0:J.chat)!=null?b:(yield d("WAWebFindChatAction").findOrCreateLatestChat(a,"newChatFlow")).chat;if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()&&!d("WAWebReachoutTimelockUtils").canSendMsgWhileTimelocked({chat:b,contact:b.contact})){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();a=(yield d("WAWebCmd").Cmd.openChatFromUnread(b));if(!a)return;d("WAWebNewChatMetricUtils").logInitiatedContactlessChat(b);d("WAWebNewChatMetricUtils").logContactListStartNewChatAction({chatType:d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACTLESS,isSearchResult:!0});d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)});return function(b){return a.apply(this,arguments)}}()),Q=m(function(a){a.preventDefault();a.stopPropagation();if(!B){var b=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());O(a,b);return}b=H(A.current)[0];if(b){O(a,b);return}else J&&void P(a)},[B,H,J,O,P]),R=[];if(!v){var S=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"group",size:48});R.push({image:S,id:h._(/*BTDS*/"New group"),onClick:k,testid:"new-chat-drawer-new-group-cell"});if(d("WAWebContactManagementGating").contactManagementEnabled()){S=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"contact",size:48});k=h._(/*BTDS*/"New contact");R.push({image:S,id:k,onClick:s,testid:"new-chat-drawer-new-contact-cell"})}if(d("WAWebCommunityGatingUtils").communitiesCreationEnabled()){S=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"community",size:48});R.push({image:S,id:h._(/*BTDS*/"New community"),onClick:r,testid:"new-chat-drawer-new-community-cell"})}}k=null;G===d("WAWebUseContactManagementAvailability").AccountIntegrityState.TIMELOCK&&(k=l.jsx(d("WAWebAccountTakeOverBanner.react").AccountTakeOverBanner,{entryPoint:"new-chat",xstyle:p.atoBanner}));s=[];S=E.length>0;S&&s.push(l.jsx(c("WAWebChatContactList.react"),{ref:z,contacts:E,flatListController:C.current,onClick:j,showMe:!B,showBot:!B,showPersonGroupDivisionHeader:!0,showHeaderSpinner:G===d("WAWebUseContactManagementAvailability").AccountIntegrityState.PENDING},"contact-list"));if(v){r=!E.some(function(a){return a.id.equals(J==null?void 0:J.wid)||a.username===(J==null?void 0:J.username)});K?s.push(l.jsx(d("WAWebEmptyState.react").SearchingNonContactWithSpinner,{},"spinner")):L?s.push(l.jsx(d("WAWebEmptyState.react").SearchingNonContactError,{error:d("WAWebContactlessChatUtils").getErrorStr(L),onClick:I},"error")):J&&r&&s.push(l.jsx(c("WAWebUnknownContactSection.react"),{contactInfo:J,onUnknownContactClick:P,searchText:v},"unknown-contact"));s.length===0&&s.push(l.jsx(d("WAWebEmptyState.react").SearchWithKeyword,{keyword:v},"search"))}S=a===c("WAWebDrawerViewType").FLYOUT?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.FLYOUT:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL;var T=n(null),U=n([]),V=function(a,b){U.current[b]=a};z=function(a){if(a.target!==T.current)return;X(0)};var W=function(){var a=U.current.findIndex(function(a){return a===document.activeElement});return a!==-1?a:null},X=function(a){a=U.current[a];a&&a.focus()},Y=function(a){a.preventDefault();a=W();if(a==null){X(0);return}a=Math.min(a+1,R.length-1);X(a)},Z=function(a){a.preventDefault();a=W();if(a==null){X(0);return}a=Math.max(0,a-1);X(a)};G={up:function(a){return Z(a)},down:function(a){return Y(a)}};E=null;if(d("WAWebDialerPadGatingUtils").isDialerPadForNewChatEnabled())if(D){L=h._(/*BTDS*/"Phone number");E=l.jsx(c("WDSMenuBarItem.react"),{testid:void 0,icon:d("WAWebCallDialerRefreshedIcon.react").CallDialerRefreshedIcon,onClick:t,title:L,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER},"btn-dialer-pad")}else{I=h._(/*BTDS*/"Call");E=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:l.jsx(d("WAWebCallDialerRefreshedIcon.react").CallDialerRefreshedIcon,{}),title:I,onClick:t},"btn-dialer-pad")}return l.jsxs(c("WAWebDrawer.react"),{ref:e,testid:void 0,viewType:a,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:S,onBack:a===c("WAWebDrawerViewType").FLYOUT?void 0:g,menu:[E]}),l.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:u,onSearch:N,onEnter:Q,placeholder:F,type:d("WAWebChatListSearch.react").ListSearchType.NEW_CHAT_CONTACT_SEARCH,loading:K,showPlaceholderUntilType:!0,focusOnMount:!0}),l.jsxs(c("WAWebDrawerBody.react"),{backgroundColor:"default",flatListControllers:[C.current],children:[x&&l.jsx(d("WAWebReachoutTimelockButterBarLoadable.react").ReachoutTimelockButterBarLoadable,{}),l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:T,handlers:G,tabIndex:0,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_LIST_FILTER,onFocus:z,children:R.map(function(a,b){var c=a.image,d=a.id,e=a.onClick;a=a.testid;return l.jsx(q,{ref:function(a){return V(a,b)},image:c,primary:d,onClick:e,testid:void 0},b)})}),k,l.jsx(l.Fragment,{children:s})]})]},"contact-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewChatFlowTypes",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["NewChatDrawer","NewCommunityFlow","NewGroupFlow","NewContactFlow","DialerPadFlow"]);f.NewChatFlowStep=a}),66);
__d("WAWebNewChatFlow.react",["fbt","WAWebChatGetters","WAWebCmd","WAWebCommunityCreationFlowMetricUtils","WAWebComposeBoxActions","WAWebContactCollection","WAWebContactEditDrawer.react","WAWebContactEditUtils","WAWebContactGetters","WAWebContactLogging","WAWebDialerPadFlowLoadable","WAWebDrawerViewType","WAWebFindChatAction","WAWebMessageYourselfMetricUtils","WAWebModal.react","WAWebModalManager","WAWebNativeContactsNuxPopup.react","WAWebNewChatDrawer.react","WAWebNewChatFlowTypes","WAWebNewChatMetricUtils","WAWebNewCommunityInfoDrawer.react","WAWebNewGroupFlowLoadable","WAWebReachoutTimelockRestrictedModalLoadable","WAWebReachoutTimelockUtils","WAWebWamEnumCommunityCreationCurrentScreenType","WAWebWamEnumCommunityCreationEntrypointType","WAWebWamEnumWebContactListStartNewChatType","asyncToGeneratorRuntime","react","useWAWebFlow","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef;function a(a){var e=a.onEnd,f=a.ref,g=a.viewType;d("WAWebContactCollection").ContactCollection.ensureSorted();var i=l();a=d("useWAWebFlow").useFlow(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewChatDrawer,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:e});e=a[0];var j=a[1];a=function(){j.end()};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"end_flow",a);var m=function(a,b,c){c===void 0&&(c=!1);var e={};a.isEnterprise&&a.privacyMode!=null&&(e.nextPrivacyMode=a.privacyMode);void d("WAWebFindChatAction").findOrCreateLatestChat(a.id,b!=null?b:"newChatFlow",e).then(function(b){var e=b.chat;if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()&&!d("WAWebReachoutTimelockUtils").canSendMsgWhileTimelocked({chat:e,contact:e.contact})){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}d("WAWebCmd").Cmd.openChatFromUnread(e).then(function(b){if(!b)return;b=d("WAWebChatGetters").getIsGroup(e)?d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.GROUP:d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACT;d("WAWebNewChatMetricUtils").logContactListStartNewChatAction({chatType:b,isSearchResult:d("WAWebChatGetters").getIsGroup(e)||c});d("WAWebContactGetters").getIsMe(a)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.logMessageYourselfOpenedEvent(e,c);d("WAWebComposeBoxActions").ComposeBoxActions.focus(e)});j.end()})};a=function(a,b,c,d){c===void 0&&(c=!1),m(b,d,c)};var n=function(a){a=d("WAWebContactCollection").ContactCollection.assertGet(a);m(a,"createContact");g===c("WAWebDrawerViewType").FLYOUT?d("WAWebModalManager").ModalManager.close():j.end()},o=function(a){if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}g===c("WAWebDrawerViewType").FLYOUT?(j.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a,d("WAWebModalManager").ModalManager.close()});return function(b){return a.apply(this,arguments)}}(),onEnd:function(){d("WAWebModalManager").ModalManager.close()},viewType:c("WAWebDrawerViewType").MODAL})}))):j.push(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewGroupFlow)},p=function(a){g===c("WAWebDrawerViewType").FLYOUT?(j.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(c("WAWebNewCommunityInfoDrawer.react"),{onCreateCommunity:function(){d("WAWebModalManager").ModalManager.close()},viewType:c("WAWebDrawerViewType").MODAL,onCancel:function(){d("WAWebModalManager").ModalManager.close()}})}))):j.push(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewCommunityFlow),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.startSession(d("WAWebWamEnumCommunityCreationEntrypointType").COMMUNITY_CREATION_ENTRYPOINT_TYPE.CHATS_TAB),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.enter(d("WAWebWamEnumCommunityCreationCurrentScreenType").COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.CHATS_TAB)},q=function(a){if(d("WAWebContactEditUtils").shouldShowNativeContactsNux()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebNativeContactsNuxPopup.react").NativeContactsNuxPopup,{source:d("WAWebContactLogging").ContactSourceType.NewChat}));return}g===c("WAWebDrawerViewType").FLYOUT?(j.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(c("WAWebContactEditDrawer.react"),{ref:i,origin:d("WAWebContactLogging").ContactSourceType.NewChat,onSave:n,viewType:c("WAWebDrawerViewType").MODAL,onCancel:function(){d("WAWebModalManager").ModalManager.close()}})}))):j.push(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewContactFlow)},r=function(a){if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}g===c("WAWebDrawerViewType").FLYOUT?(j.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(d("WAWebDialerPadFlowLoadable").WAWebDialerPadFlowLoadable,{onEnd:function(){d("WAWebModalManager").ModalManager.close()},viewType:c("WAWebDrawerViewType").MODAL})}))):j.push(d("WAWebNewChatFlowTypes").NewChatFlowStep.DialerPadFlow)},s=function(){if(j.step===d("WAWebNewChatFlowTypes").NewChatFlowStep.NewContactFlow){var a;(a=i.current)==null||a.handleDismiss()}j.pop()};if(j.step==null)return null;var t=null;switch(j.step){case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewChatDrawer:t=k.jsx(c("WAWebNewChatDrawer.react"),{title:h._(/*BTDS*/"New chat"),onBack:function(){return j.end()},onClick:a,onNewGroup:o,onNewCommunity:p,onNewContact:q,onDialerPad:r,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break;case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewGroupFlow:t=k.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a,j.end()});return function(b){return a.apply(this,arguments)}}(),onEnd:j.pop,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break;case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewCommunityFlow:t=k.jsx(c("WAWebNewCommunityInfoDrawer.react"),{onBack:j.pop,onCreateCommunity:g===c("WAWebDrawerViewType").MODAL?j.end:void 0,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break;case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewContactFlow:t=k.jsx(c("WAWebContactEditDrawer.react"),{ref:i,origin:d("WAWebContactLogging").ContactSourceType.NewChat,onSave:n,onBack:j.pop,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break;case d("WAWebNewChatFlowTypes").NewChatFlowStep.DialerPadFlow:t=k.jsx(d("WAWebDialerPadFlowLoadable").WAWebDialerPadFlowLoadable,{onEnd:j.pop,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break}return k.jsx(e,{ref:f,flow:j,requestDismiss:s,children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebTakePhotoMenuItem.react",["fbt","WAWebDropdownItem.react","WAWebEditCaptureFlowLoadable","WAWebModal.react","WAWebModalManager","WAWebProfileCropTool.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onImageTake,c=a.editCropShape,e=a.modalTheme,f=a.icon,g=function(f){a.action!=null&&a.action(f),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebEditCaptureFlowLoadable").EditCaptureFlowLoadable,{onFinished:b,editCropShape:c||d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,modalTheme:e||d("WAWebModal.react").ModalTheme.Box}))};return j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:g,testid:void 0,disabled:a.disabled,icon:f,children:h._(/*BTDS*/"Take photo")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebPhotoPicker.react",["fbt","ReactKonva","WAGetUserMedia","WALogger","WAWebAnnouncementSpeakerIcon.react","WAWebAvatarOverlay.react","WAWebAvatarSpinner.react","WAWebCameraIcon.react","WAWebCameraOutlineRefreshedIcon.react","WAWebCommunityGeneralChatImage.react","WAWebCommunitySquircleIcon.react","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDataTransfer","WAWebDefaultGroupIcon.react","WAWebDefaultGroupRefreshedIcon.react","WAWebDefaultNewsletterIcon.react","WAWebDefaultUserIcon.react","WAWebDeleteRefreshedIcon.react","WAWebDropdownItem.react","WAWebEditGroupProfileDrawer.react","WAWebEditImageModal.react","WAWebExpressionsRefreshedIcon.react","WAWebFileUtils","WAWebFocusTracer","WAWebFolderOpenRefreshedIcon.react","WAWebIcVisibilityIcon.react","WAWebIcVisibilityOffIcon.react","WAWebImageRefreshedFilledIcon.react","WAWebImg.react","WAWebKeyboardHotKeys.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebMediaLoad","WAWebMiscGatingUtils","WAWebModal.react","WAWebModalManager","WAWebNonEmptyString","WAWebObjectFit.react","WAWebPhotoPickType","WAWebPhotoPickerConstants","WAWebPhotoPickerStyle","WAWebPhotoViewerModal.react","WAWebProfileCropConstants","WAWebProfileCropTool.react","WAWebRefreshIcon.react","WAWebRoundShape.react","WAWebShape.react","WAWebSpinner.react","WAWebTakePhotoMenuItem.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnstyledButton.react","WAWebUseIsKeyboardUser","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","WAWebVelocityTransitionGroup","WAWebWamEnumGroupProfileActionType","WAWebWamEnumProfilePictureType","WDSFocusStateStyles","WDSTooltip.react","asyncToGeneratorRuntime","cr:5981","react","stylex","useWAWebABPropConfigValue","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var aa,i,j,k;e=k||d("react");var l=i||(i=c("react")),ba=e.useEffect,ca=e.useMemo,m=e.useRef,n=e.useState,da=b("cr:5981")==null?void 0:b("cr:5981").InternalStatusWarningImageOverlay,ea={iconBg:{backgroundColor:"x1q3ci2r",$$css:!0}};function o(){return l.jsx("hr",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([d("WAWebPhotoPickerStyle").styles.separator,d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz1])))}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.HoverIcon,f=a.attachToChat,g=a.dataTab,i=a.dimmed;i=i===void 0?!1:i;var k=a.editImageButtonRef,p=a.id,ga=a.onImageSet,q=a.pending;q=q===void 0?!1:q;var r=a.readOnly,s=r===void 0?!1:r,t=a.sendGroupProfilePictureLoggingEvent;r=a.showAddIconOverlay;r=r===void 0?!0:r;var u=a.showHiddenSubgroupIcon;u=u===void 0?!1:u;var v=a.showOutline;v=v===void 0?!1:v;var w=a.size,x=a.startImage,y=x===void 0?"":x;a.tabIndex;x=a.testid;var z=a.theme,A=a.type;x=n(y!=null?y:"");var B=x[0],C=x[1];a=n(!1);x=a[0];var D=a[1];a=n(null);var E=a[0],F=a[1];a=n();var G=a[0],H=a[1];a=n();var I=a[0],ha=a[1],ia=c("useWAWebUIM")();a=c("WAWebUseIsKeyboardUser")();a=a.isKeyboardUser;var ja=m(null),ka=m(null),J=h._(/*BTDS*/"View group profile photo"),K=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),la=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_tooltip"),L=m(),M=m([].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()));(y!=null?y:"")!==B&&(C(y!=null?y:""),F(y===""?null:E));var N=!q&&(E!=null||B===""&&!s),O=function(a){A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&(t==null||t(a,!!y))},P=function(a){A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&t!=null&&t(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.PROFILE_PIC_UPDATED,!!y,a)},ma=function(a){if(A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&t!=null){a=fa(a);t(a,!!y)}},na=function(a){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_UPLOAD_PHOTO);a=ka.current;if(!a)return;a.click();return!0},Q=function(){H(null)},R=function(a){var b=a.currentTarget.clientWidth;a=a.currentTarget.clientHeight;F({width:b,height:a})},oa=function(a){D(!1)},pa=function(a){D(!0)},qa=function(a){D(!0)},S=function(a,b,c){var e=d("WAWebNonEmptyString").asMaybeNonEmptyString(a),f=d("WAWebNonEmptyString").asMaybeNonEmptyString(b);if(e==null||f==null){C("");F(null);return}d("WAWebMediaLoad").loadImage(e).then(function(a){C(e),ga(e,f,c)})["catch"](function(b){d("WALogger").WARN(aa||(aa=babelHelpers.taggedTemplateLiteralLoose(["PhotoPicker:onImageReceived failed to load image: ",""])),String(b));var a;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"Couldn't set channel icon.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"Couldn't set group icon.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"Couldn't set community icon.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"Couldn't set profile photo.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})},ra=function(a){var b=URL.createObjectURL(a);d("WAWebMediaLoad").loadImage(b).then(function(b){if(b&&(b.width<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE||b.height<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE))d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"_j{\"*\":\"This photo is too small. Please select a photo with height and width of at least {number_of_pixels} pixels.\",\"_1\":\"This photo is too small. Please select a photo with height and width of at least 1 pixel.\"}",[h._plural(d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE,"number_of_pixels")])}));else{b=A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;var e;A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?e=d("WAWebProfileCropTool.react").CropShapeType.RECT:A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?e=d("WAWebProfileCropTool.react").CropShapeType.SQUIRCLE:e=d("WAWebProfileCropTool.react").CropShapeType.CIRCLE;d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebEditImageModal.react"),{img:a,onFinished:function(a,b){P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_UPLOAD),S(a,b,d("WAWebPhotoPickType").PhotoPickType.Gallery)},onRetake:na,cropShape:e,theme:b}))}})["catch"](function(){var a;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"Couldn't set channel icon.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"Couldn't set group icon.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"Couldn't set community icon.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"Couldn't set profile photo.");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:a=h._(/*BTDS*/"Couldn't set cover photo.");break}d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})["finally"](function(){URL.revokeObjectURL(b)})},T=function(){return k?k:ja},sa=function(){var a=T();a.current&&c("WAWebFocusTracer").focus(a.current)},ta=function(a){Q();var b=a.target.files[0];if(!b)return!1;ra(b);a.target.value="";sa()},U=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=Math.floor(Math.random()*M.current.length);ha({color:c("WAWebUtilsGetColor")(d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS[Math.floor(Math.random()*d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS.length)],200),emoji:yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(M.current[a])});M.current.splice(a,1);M.current.length===0&&(M.current=[].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()))});return function(){return a.apply(this,arguments)}}(),ua=function(a){if(!G)return;var b=new(c("WAWebDataTransfer"))(a.clipboardData);b=b.getFiles().filter(function(a){return d("WAWebFileUtils").typeFromMimetype(a.type)==="image"});if(!b.length)return;a.preventDefault();a.stopPropagation();Q();a=b[0];ra(a)},V=function(){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_VIEW_PHOTO);var a=T().current;if(!a||!p)return;var b=function(b){b(a)},e=d("WAWebContactCollection").ContactCollection.assertGet(p),g={transition:"profile-viewer"};f&&(g.uim=ia);d("WAWebModalManager").ModalManager.openMedia(l.jsx(c("WAWebPhotoViewerModal.react"),{contact:e,profilePicThumb:e.getProfilePicThumb(),animateBorderRadius:A!==d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,animateSquircle:A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,getZoomNode:b}),g)},va=function(){ga(void 0,void 0,d("WAWebPhotoPickType").PhotoPickType.None),d("WAWebModalManager").ModalManager.close(),P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.REMOVE_PHOTO)},wa=function(b){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_REMOVE_PHOTO);var a;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"Remove this channel's icon?");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"Remove this group's icon?");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"Remove this community's icon?");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"Remove your profile photo?");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:a=h._(/*BTDS*/"Remove your cover photo?");break}d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:va,okText:h._(/*BTDS*/"Remove"),onCancel:function(){return d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"Cancel"),children:a}))},xa=function(a){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_EMOJI_STICKER);a=h._(/*BTDS*/"Emoji and sticker");d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,ariaLabel:a,testid:void 0,children:l.jsx(d("WAWebEditGroupProfileDrawer.react").EditGroupProfileDrawer,{title:a,onCancel:function(){return d("WAWebModalManager").ModalManager.close()},onFinished:function(a,b,c){P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE[String(c)]),S(a,b,c===d("WAWebEditGroupProfileDrawer.react").ImageType.EMOJI?d("WAWebPhotoPickType").PhotoPickType.Emoji:d("WAWebPhotoPickType").PhotoPickType.Sticker),d("WAWebModalManager").ModalManager.close()},sendEmojiStickerPanelOpenLoggingEvent:ma})}))},ya=function(){var a=[];p!=null&&B!==""&&a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebIcVisibilityIcon.react").IcVisibilityIcon,{}),testid:void 0,action:V,children:h._(/*BTDS*/"View photo")},"view"));if(d("WAGetUserMedia").getUserMedia){var b=A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebProfileCropTool.react").CropShapeType.RECT:d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,e=A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;a.push(l.jsx(c("WAWebTakePhotoMenuItem.react"),{icon:l.jsx(d("WAWebCameraOutlineRefreshedIcon.react").CameraOutlineRefreshedIcon,{}),onImageTake:function(a,b){P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_CAMERA),S(a,b,d("WAWebPhotoPickType").PhotoPickType.Camera)},editCropShape:b,modalTheme:e,action:function(){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_TAKE_PHOTO)}},"take"))}a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebFolderOpenRefreshedIcon.react").FolderOpenRefreshedIcon,{}),testid:void 0,action:na,children:h._(/*BTDS*/"Upload photo")},"upload"));d("WAWebMiscGatingUtils").groupProfileEditorEnabled()&&(A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP||A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||A===d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER)&&a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebExpressionsRefreshedIcon.react").ExpressionsRefreshedIcon,{}),testid:void 0,action:xa,children:h._(/*BTDS*/"Emoji & sticker")},"edit"));B!==""&&(a.push(l.jsx(o,{},"separator")),a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebDeleteRefreshedIcon.react").DeleteRefreshedIcon,{}),testid:void 0,action:wa,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Remove photo")},"remove")));return a},za=function(a){if(!N)return;if(s){B!==""&&V();return}a.stopPropagation();a.preventDefault();var b=ya();H({menu:b,event:a});A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&t!=null&&t(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.CHANGE_PROFILE_PHOTO,!!y)},Aa=function(a){if(!N)return;if(s){B!==""&&V();return}a.stopPropagation();a.preventDefault();a=ya();H({menu:a,anchor:T().current})},Ba=function(){return w!=null?{width:w,height:w}:void 0},W;B!==""&&(W=l.jsx(c("WAWebObjectFit.react"),{type:"cover",size:E,children:l.jsx(c("WAWebImg.react"),{src:B,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:R})}));var X;(q||B!==""&&!E)&&(A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?X=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebPhotoPickerStyle").styles.loadingBg),{children:l.jsx("div",babelHelpers["extends"]({},j.props(d("WAWebPhotoPickerStyle").styles.cornerSpinner),{children:l.jsx(d("WAWebSpinner.react").Spinner,{size:24,stroke:3,color:"solidwhite"})}))})):X=l.jsx(c("WAWebAvatarSpinner.react"),{}));R=null;if(!q&&!s&&(B===""||E)&&(B===""||G||x)){var Y="";switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:Y=B!==""?h._(/*BTDS*/"Change channel icon"):h._(/*BTDS*/"Add channel icon");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:Y=B!==""?h._(/*BTDS*/"Change group icon"):h._(/*BTDS*/"Add group icon");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:Y=B!==""?h._(/*BTDS*/"Change community icon"):h._(/*BTDS*/"Add community icon");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:Y=B!==""?h._(/*BTDS*/"Change profile photo"):h._(/*BTDS*/"Add profile photo");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}A!==d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO&&r&&(R=l.jsx(d("WAWebAvatarOverlay.react").AvatarOverlay,{icon:K?l.jsx(d("WAWebImageRefreshedFilledIcon.react").ImageRefreshedFilledIcon,{height:24,width:24}):l.jsx(d("WAWebCameraIcon.react").CameraIcon,{"aria-hidden":!0}),text:Y,theme:A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?d("WAWebAvatarOverlay.react").AvatarOverlayTheme.COMMUNITY:d("WAWebAvatarOverlay.react").AvatarOverlayTheme.DEFAULT}));J=Y}ba(function(){if(z===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS&&I){var a,b,c={mimeType:"image/jpeg",width:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,height:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE};a=(a=(a=L.current)==null?void 0:a.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:0})))!=null?a:"";c=(b=(b=L.current)==null?void 0:b.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:1})))!=null?b:"";S(a,c,d("WAWebPhotoPickType").PhotoPickType.Emoji)}},[I]);var Ca,Da;if(z===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS){r=I||{};Y=r.color;r=r.emoji;Ca=l.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,xstyle:[d("WAWebPhotoPickerStyle").styles.bottomEndFloater,d("WAWebPhotoPickerStyle").styles.newSuggestion,K&&d("WAWebPhotoPickerStyle").styles.bottomEndFloaterRefreshed],onClick:U,"aria-label":h._(/*BTDS*/"Set random picture"),children:l.jsx(c("WAWebRoundShape.react"),{xstyle:K&&d("WAWebPhotoPickerStyle").styles.roundRefreshedSize,children:l.jsx(d("WAWebRefreshIcon.react").RefreshIcon,{width:30,height:30})})});if(Y!=null&&r){Da=l.jsx(d("ReactKonva").Stage,{ref:L,width:(U=d("WAWebEditGroupProfileDrawer.react")).PHOTO_SIZE,height:U.PHOTO_SIZE,className:(j||(j=c("stylex")))(d("WAWebPhotoPickerStyle").styles.hidden),children:l.jsxs(d("ReactKonva").Layer,{children:[l.jsx(d("ReactKonva").Rect,{width:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,height:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,fill:Y}),l.jsx(d("ReactKonva").Image,{width:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE,height:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE,offset:{x:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE/2,y:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE/2},x:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE/2,y:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE/2,image:r,filters:r.naturalWidth<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD&&r.naturalHeight<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD?[c("WAWebUtilsSharpenFilter")]:[]})]})})}}U=u?l.jsx(c("WAWebRoundShape.react"),{xstyle:[d("WAWebPhotoPickerStyle").styles.bottomEndFloater,d("WAWebPhotoPickerStyle").styles.hiddenSubgroupContainer,K&&[d("WAWebPhotoPickerStyle").styles.roundRefreshedSize,d("WAWebPhotoPickerStyle").styles.bottomEndFloaterRefreshed]],children:l.jsx(d("WAWebIcVisibilityOffIcon.react").IcVisibilityOffIcon,{iconXstyle:d("WAWebPhotoPickerStyle").styles.hiddenSubgroupIcon,width:K?30:46,height:K?30:46})}):null;var Ea;G&&(Ea=l.jsx(d("WAWebUimUie.react").UIE,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Q,children:l.jsx(c("WAWebUimUieMenu.react"),{contextMenu:G})}));Y=ca(function(){var a=[d("WAWebPhotoPickerStyle").styles.svgSize];A===d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER?a.push(d("WAWebPhotoPickerStyle").styles.newsletterAvatar):A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY&&a.push(d("WAWebPhotoPickerStyle").styles.communitySquircle);A===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP&&d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIcon&&a.push(d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIconSvg);return{innerStyles:{primary:d("WAWebPhotoPickerStyle").styles.primaryFill,background:d("WAWebPhotoPickerStyle").styles.backgroundFill},"aria-hidden":!0,iconXstyle:a}},[A]);var Z;if(q||B===""||!E){var $;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:$=l.jsx(d("WAWebDefaultUserIcon.react").DefaultUserIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:$=l.jsx(d("WAWebCommunitySquircleIcon.react").CommunitySquircleIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:$=l.jsx(d("WAWebDefaultNewsletterIcon.react").DefaultNewsletterIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:$=l.jsx(d("WAWebAnnouncementSpeakerIcon.react").AnnouncementSpeakerIcon,babelHelpers["extends"]({directional:!0},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:Z=l.jsx(d("WAWebCommunityGeneralChatImage.react").CommunityGeneralChatImage,{});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:$=null;break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:K?$=l.jsx(d("WAWebShape.react").Shape,{shape:"circle",xstyle:ea.iconBg,children:l.jsx(d("WAWebDefaultGroupRefreshedIcon.react").DefaultGroupRefreshedIcon,babelHelpers["extends"]({},Y))}):$=l.jsx(d("WAWebDefaultGroupIcon.react").DefaultGroupIcon,babelHelpers["extends"]({},Y));break}$!=null&&(Z=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(A===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP&&d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIcon),{children:$})))}r=document.activeElement===T().current?{space:Aa,enter:Aa}:{};u=[d("WAWebPhotoPickerStyle").styles.body,N&&d("WAWebPhotoPickerStyle").styles.clickable,d("WAWebUISpacing").uiMargin.horizAuto,a&&N&&d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus];(A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||A===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP)&&u.push(d("WAWebPhotoPickerStyle").styles.squircleBackground);A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO&&u.push(d("WAWebPhotoPickerStyle").styles.rectBackground);q=l.jsxs(c("WAWebUnstyledButton.react"),{xstyle:u,onClick:za,onMouseOver:qa,onMouseEnter:pa,onMouseLeave:oa,onPaste:ua,onFocus:pa,onBlur:oa,ref:T(),title:la?void 0:J,dir:"ltr",tabIndex:N?0:-1,dataTab:g,role:N?"button":"none",testid:void 0,children:[l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebPhotoPickerStyle").styles.imageContainer,i&&d("WAWebPhotoPickerStyle").styles.dimmed),{role:"img","aria-label":J.toString(),children:[W,da&&p?l.jsx(da,{id:p}):null,Z,Da]})),l.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[X,R]})]});E=la&&s;Y=E?l.jsx(c("WDSTooltip.react"),{label:h._(/*BTDS*/"View photo"),children:q}):q;return l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{className:j(K?d("WAWebPhotoPickerStyle").styles.containerRefreshed:d("WAWebPhotoPickerStyle").styles.container,z===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.COVER_PHOTO&&d("WAWebPhotoPickerStyle").styles.coverPhoto,x&&B!==""&&s&&d("WAWebPhotoPickerStyle").styles.dimmed,v&&W!=null&&d("WAWebPhotoPickerStyle").styles.imageBorder,d("WAWebUISpacing").uiMargin.horizAuto),style:Ba(),handlers:r,"aria-label":J.toString(),children:[Y,e!=null&&!s&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebPhotoPickerStyle").styles.icon),{children:l.jsx(e,{width:16,height:16})})),l.jsx("input",{ref:ka,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:ta}),Ea,Ca,U]})}a.displayName=a.name+" [from "+f.id+"]";var fa=function(a){switch(a){case d("WAWebEditGroupProfileDrawer.react").ImageType.EMOJI:return d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.EMOJI_PANEL_OPEN;case d("WAWebEditGroupProfileDrawer.react").ImageType.STICKER:return d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.STICKER_PANEL_OPEN}};g["default"]=a}),226);
__d("WAWebProfileDrawerPhoneNumber.react",["fbt","WAWebCopyRefreshedIcon.react","WAWebCopyToClipboard","WAWebDrawerBlock.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebPhoneIcon.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWidFormat","WDSButton.react","WDSFont.react","WDSTooltip.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={phoneIcon:{color:"xhslqc4",$$css:!0},selectableText:{userSelect:"x1hx0egp",$$css:!0}};function a(){var a,b=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),e=d("WAWebWidFormat").widToFormattedUser(b);b=h._(/*BTDS*/"Phone");var f=function(){void d("WAWebCopyToClipboard").copyTextToClipboard(e).then(function(a){a&&d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Phone number copied")}))})},g=h._(/*BTDS*/"Copy");f=j.jsx(c("WAWebDrawerBlock.react"),{side:j.jsx((a=d("WAWebFlex.react")).FlexRow,{justify:"end",children:j.jsx(c("WDSTooltip.react"),{label:g,children:j.jsx(c("WDSButton.react"),{Icon:d("WAWebCopyRefreshedIcon.react").CopyRefreshedIcon,variant:"borderless",onPress:f,"aria-label":g})})}),children:j.jsxs(a.FlexRow,{gap:24,align:"center",children:[j.jsx(d("WAWebPhoneIcon.react").PhoneIcon,{xstyle:k.phoneIcon}),j.jsx(a.FlexColumn,{gap:8,children:j.jsx(d("WDSFont.react").WDSTextBody1,{colorName:"contentDefault",xstyle:k.selectableText,children:e})})]})});return j.jsxs(c("WAWebDrawerSection.react"),{theme:"no-padding",animation:!1,children:[j.jsx(a.FlexRow,{align:"start",xstyle:d("WAWebUISpacing").uiMargin.start30,children:j.jsx(d("WDSFont.react").WDSTextBody2Emphasized,{colorName:"contentDeemphasized",children:b})}),f]})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebProfileDrawerPhoneNumber=a}),226);
__d("WAWebProfileQuickPromotionSurface.react",["WAWebCTWAConstants","WAWebDrawerSection.react","WAWebPrivacyTipBanner.react","WAWebQuickPromotionGating","WAWebUserPrefsGeneral","react","useWAWebPrivacyTipQuickPromotion"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a=d("useWAWebPrivacyTipQuickPromotion").usePrivacyTipQuickPromotion({surfaceId:d("WAWebCTWAConstants").QP_SURFACE_ID_PROFILE},[d("WAWebUserPrefsGeneral").getLastProfilePicThumbUpdate()]);if(a==null||!d("WAWebQuickPromotionGating").profilePrivacyTipsEnabled())return;var b=a.promotion,e=a.sanitizedText,f=a.image,g=a.dismiss,h=a.primaryActionClick;a=a.settingStep;b=b.promotion.data.primaryAction;return i.jsx(c("WAWebDrawerSection.react"),{theme:"padding-no-vertical",children:i.jsx(d("WAWebPrivacyTipBanner.react").PrivacyTipBanner,{text:e,image:f,actionText:b==null?void 0:b.text,onDismiss:g,onAction:h,settingStep:a})})}a.displayName=a.name+" [from "+f.id+"]";g.ProfileQPSurface=a}),98);
__d("WAWebPushNameBridge",["Promise","WASendPresenceStatusProtocol","WATimeUtils","WAWebPushNameSync","WAWebSyncdCoreApi"],(function(a,b,c,d,e,f,g){var h;function a(a){if(a){var e=d("WATimeUtils").unixTimeMs();e=c("WAWebPushNameSync").getPushnameMutation(e,a);void d("WASendPresenceStatusProtocol").sendPresenceStatusProtocol({name:a});return d("WAWebSyncdCoreApi").lockForSync([],[e],function(){return(h||(h=b("Promise"))).resolve()})}return(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("WAWebSetPushnameConnAction",["fbt","WAFilteredCatch","WALogger","WAWebActionToast.react","WAWebBackendErrors","WAWebConnModel","WAWebPushNameBridge","WAWebSetPushnameLocallyConnAction","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a,b){return l(a,b)}function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e===void 0&&(e=d("WAWebActionToast.react").genId());f===void 0&&(f=!1);var g=c("WAWebPushNameBridge")(a),j=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Changing your name")),m=d("WAWebConnModel").Conn.pushname,n=g.then(function(){var a;!f&&m!=null&&(a={actionText:h._(/*BTDS*/"Undo"),actionHandler:function(){return l(m,b,e,!0)}});return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Your name changed"),a)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){if(a.status>=400)return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Couldn't change your name."))}))["catch"](function(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["models:conn:setPushname dropped"]))).devConsole(a);throw new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"Couldn't change your name."),{actionText:h._(/*BTDS*/"Try again."),actionHandler:function(){return l(a.status,b,e)}})});d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{id:e,initialAction:j,onDismiss:b,pendingAction:n}));yield g;d("WAWebSetPushnameLocallyConnAction").setPushnameLocally(a)});return m.apply(this,arguments)}g.setPushname=a}),226);
__d("WAWebUsernameCreationInfoDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebPersonRefreshedIcon.react","WAWebShareIcon.react","WAWebSvgComponentBase","WAWebUISpacing","WAWebWdsPictoPrivateMentionIcon.react","WDSButton.react","WDSFont.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={container:{width:"xktia5q",marginInlineStart:"x1315kfy",$$css:!0},section:{$$css:!0}};function l(){var a=h._(/*BTDS*/"More about usernames");a=j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFaqUrl(),children:a});return j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",marginTop:32,marginBottom:20,children:j.jsxs(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",textAlign:"center",children:[h._(/*BTDS*/"People who don\u2019t have your number saved will see your username.")," ",a]})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.description;a=a.icon;return j.jsxs(d("WAWebFlex.react").FlexRow,{gap:24,align:"center",xstyle:k.section,marginTop:20,children:[a,j.jsx(d("WDSFont.react").WDSTextBody1,{colorName:"contentDefault",children:b})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.onBack,e=a.onContinue;a=a.ref;var f=h._(/*BTDS*/"Username"),g=h._(/*BTDS*/"Create a username for phone number privacy"),i=h._(/*BTDS*/"Create username"),n=h._(/*BTDS*/"You can share your username instead of your number when telling someone how to contact you."),o=h._(/*BTDS*/"People you\u2019re already talking to will see that you created a username."),p=30;n=[[n,j.jsx(d("WAWebShareIcon.react").ShareIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY,height:p,width:p},1)],[o,j.jsx(d("WAWebPersonRefreshedIcon.react").PersonRefreshedIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY,height:p,width:p},2)]];return j.jsxs(c("WAWebDrawer.react"),{ref:a,testid:void 0,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:b}),j.jsxs(c("WAWebDrawerBody.react"),{children:[j.jsx(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:k.container,children:[j.jsx(d("WAWebFlex.react").FlexItem,{marginTop:40,children:j.jsx(d("WAWebWdsPictoPrivateMentionIcon.react").WdsPictoPrivateMentionIcon,{width:87.36,height:87.01})}),j.jsx(d("WAWebFlex.react").FlexItem,{marginTop:40,children:j.jsx(d("WDSFont.react").WDSTextLargeTitle2,{colorName:"contentDefault",textAlign:"center",children:g})}),j.jsx(l,{}),n.map(function(a,b){var c=a[0];a=a[1];return j.jsx(m,{description:c,icon:a},b)})]})}),j.jsx(c("WAWebDrawerSection.react"),{animation:!1,children:j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:d("WAWebUISpacing").uiPadding.all32,children:j.jsx(c("WDSButton.react"),{widthMode:"flexible",onPress:e,size:"medium",variant:"filled",type:"default",label:i})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProfileDrawer.react",["fbt","$InternalEnum","WAFilteredCatch","WAWebBackendErrors","WAWebBizProfileDrawer.react","WAWebCatalogCollection","WAWebCatalogManagementFlowLoadable","WAWebConfirmPopup.react","WAWebConnModel","WAWebConstantsDeprecated","WAWebContactGetters","WAWebCreateUsernameDrawer.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFrontendContactGetters","WAWebKeyboardHotKeys.react","WAWebMerchantDetailsFormFlowLoadable","WAWebModalManager","WAWebProductCatalogContext","WAWebProductCatalogSession","WAWebProfileDrawerPhoneNumber.react","WAWebProfileDrawerUsername.react","WAWebProfilePicPicker.react","WAWebProfileQuickPromotionSurface.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebQuickPromotionGating","WAWebRichTextField.react","WAWebSetPushnameConnAction","WAWebStatusContactAction","WAWebTextStatusGatingUtils","WAWebTextStatusSection","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUsernameCreationInfoDrawer.react","WAWebUsernameGatingUtils","WAWebUsernameManagementDrawer.react","WAWebWamEnumBizPlatform","WAWebWamEnumCatalogEntryPoint","WDSFont.react","react","stylex","useWAWebContactValues","useWAWebFlow","useWAWebFocusOnMount","useWAWebModelValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l;e=l||d("react");var m=j||(j=c("react")),n=e.useContext,o=e.useEffect,p=e.useRef,q=e.useState,r=139,s=256,t=b("$InternalEnum").Mirrored(["Profile","MerchantDetails","CatalogManagement","UsernameCreationInfo","CreateUsername","EditUsername"]),u={photoPickerWrapper:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.conn,e=a.contact,f=a.isInitialStep,g=a.onClose,h=a.profilePicThumb,i=a.ref;a=a.status;var j=q(),k=j[0],l=j[1];j=q();var n=j[0],o=j[1];j=c("useWAWebFocusOnMount")();g=d("useWAWebFlow").useFlow(t.Profile,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:g});var p=g[0],r=g[1];if(r.step==null)return null;var s;switch(r.step){case t.Profile:g=function(){r.push(t.MerchantDetails)};var u=function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Profile"}}}),d("WAWebCatalogManagementFlowLoadable").createCatalogManagementFlowObject(function(b,c,e){e===!0&&!c?d("WAWebCatalogManagementFlowLoadable").showSelfCatalogLoadErrorToast():(l(b),o(a),r.push(t.CatalogManagement))})},v=function(){r.push(t.UsernameCreationInfo)},w=function(){r.push(t.EditUsername)};s=m.jsx(y,{openMerchantDetailsForm:g,openCatalogDetailsForm:u,openCreateUsernameDrawer:v,openEditUsernameDrawer:w,conn:b,contact:e,profilePicThumb:h,status:a,onClose:function(){return r.pop()},isInitialStep:f});break;case t.MerchantDetails:g=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();s=m.jsx(d("WAWebMerchantDetailsFormFlowLoadable").MerchantDetailsFormFlowLoadable,{contactId:g,onBack:function(){return r.pop()}});break;case t.CatalogManagement:if(!k)return null;s=m.jsx(d("WAWebCatalogManagementFlowLoadable").CatalogManagementFlowLoadable,{catalogId:k,product:n,onBack:function(){return r.pop()},isInitialStep:!1});break;case t.UsernameCreationInfo:s=m.jsx(c("WAWebUsernameCreationInfoDrawer.react"),{onContinue:function(){return r.push(t.CreateUsername)},onBack:function(){return r.pop()},ref:i});break;case t.CreateUsername:s=m.jsx(c("WAWebCreateUsernameDrawer.react"),{contactId:e.id,ref:i,onBack:function(){return r.pop()}});break;case t.EditUsername:s=(e==null?void 0:e.username)!=null?m.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{contactId:e.id,username:e.username,onBack:function(){return r.pop()}}):null}return m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:j,children:m.jsx(p,{ref:i,flow:r,children:s})})}a.displayName=a.name+" [from "+f.id+"]";var v={ellipsify:!0,multiline:!0,direction:"auto",inferLinesDirection:!0};function w(a){var b=a.unmountSignal,e=a.aboutInput,f=a.contact,g=a.openCreateUsernameDrawer,i=a.openEditUsernameDrawer,j=p(null),l=p(!1),n=d("useWAWebModelValues").useModelValues(a.conn,["pushname"]);a=q(n.pushname);var o=a[0],r=a[1];a=q(!1);var s=a[0],t=a[1];a=function(){l.current=!0};var u=function(a){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:a}))},w=function(){var a,b=o,c=/[\u2714\u2705\u2611]/g;b=(b||"").trim();if(!b)a=h._(/*BTDS*/"Your name can't be empty.");else if(c.test(b))a=h._(/*BTDS*/"That emoji isn't allowed in your name.");else if(b.startsWith("@")&&d("WAWebUsernameGatingUtils").pushnameValidationForUsernamesEnabled())a=h._(/*BTDS*/"Your name can't start with \u0040.");else{a;return!0}u(a);return!1},x=function(){l.current=!1;if(!d("WAWebConnModel").Conn.canSetMyPushname())return;var a=o;a=(a||"").trim();var c=n.pushname;if(a===c)return;c=function(){var a;(a=j.current)==null||a.focusEditBtn()};t(!0);d("WAWebSetPushnameConnAction").setPushname(a,c).then(function(){if(b.aborted)return;t(!1)})},y=function(a){r(a)},z=function(){l.current=!1,r(n.pushname)},A=l.current||s?o:n.pushname,B;d("WAWebConnModel").Conn.isSMB?B=h._(/*BTDS*/"This is your business name. It will be visible to your WhatsApp customers."):d("WAWebUsernameGatingUtils").usernameSupported()?B=h._(/*BTDS*/"This is not your username or key. This name will be visible to your WhatsApp contacts."):B="";f=m.jsx(c("WAWebProfileDrawerUsername.react"),{onClick:(f==null?void 0:f.username)!=null?i:g});i=m.jsx(c("WAWebDrawerSection.react"),{titleTestId:"about-section",title:h._(/*BTDS*/"About"),theme:"padding",animation:!1,children:e});g=h._(/*BTDS*/"Name");return m.jsxs(m.Fragment,{children:[d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&m.jsx(c("WAWebTextStatusSection"),{}),m.jsx(c("WAWebDrawerSection.react"),{titleTestId:"pushname-section",title:h._(/*BTDS*/"Name"),theme:"padding",animation:!1,children:m.jsx(d("WAWebRichTextField.react").RichTextField,{ref:j,testid:void 0,value:A,editable:d("WAWebConnModel").Conn.canSetMyPushname(),pending:s,showRemaining:!0,validate:w,maxLength:c("WAWebConstantsDeprecated").MAX_PUSHNAME_LENGTH,onBeginEdit:a,onChange:function(a){a=a.text;return y(a)},onSave:x,onCancel:z,emojiBtnPosition:"side",lockable:!0,lowProfile:!0,constrainedWidth:!0,emojiTextSettingsInLockMode:v,ariaLabel:g,fieldName:g,blockFocusOnLock:!0})}),m.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(k||(k=c("stylex"))).props([d("WAWebUISpacing").uiMargin.top4,d("WAWebUISpacing").uiMargin.end20,d("WAWebUISpacing").uiMargin.start30]),{children:m.jsx(d("WDSFont.react").WDSTextBody2,{colorName:"contentDeemphasized",children:B})})),!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&i,d("WAWebUsernameGatingUtils").usernameSupported()&&f,m.jsx(d("WAWebProfileDrawerPhoneNumber.react").WAWebProfileDrawerPhoneNumber,{})]})}w.displayName=w.name+" [from "+f.id+"]";function x(a){a=a.profilePicThumb;return m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props([d("WAWebUISpacing").uiMargin.vert28,u.photoPickerWrapper]),{children:m.jsx(c("WAWebProfilePicPicker.react"),{profilePicThumb:a})}))}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.contact,f=a.onClose,g=a.openCatalogDetailsForm,j=a.openMerchantDetailsForm,k=a.openCreateUsernameDrawer,l=a.openEditUsernameDrawer,t=a.isInitialStep,u=c("useWAWebUIM")(),y=p(null),z=d("useWAWebModelValues").useModelValues(a.status,["status"]),A=q(z.status),B=A[0],C=A[1];A=q(!1);var D=A[0],E=A[1],F=p(!1);A=n(d("WAWebDrawerContext").DrawerContext);var G=c("useWAWebUnmountSignal")(),H=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebFrontendContactGetters").getBusinessProfile,d("WAWebContactGetters").getId,d("WAWebContactGetters").getStatusMute]),I=H[0];H[1];H[2];H=d("useWAWebModelValues").useModelValues(a.profilePicThumb,["imgFull","id"]);var J=q(null),K=J[0],L=J[1];J=d("WAWebConnModel").Conn.isSMB?d("WAWebProductCatalogContext").getProductCatalogContext(A):{};var M=J.session;o(function(){if(!d("WAWebConnModel").Conn.isSMB)return;d("WAWebCatalogCollection").CatalogCollection.findCarouselCatalog(d("WAWebUserPrefsMeUser").getMePnUserOrThrow()).then(function(a){a=Array.isArray(a)?a[0]:a;L({catalog:a,catalogError:!1})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){a.status==="not_found"||a.status===404?L({catalog:null,catalogError:!1}):L({catalog:null,catalogError:!0})}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").AdAccountRecoveryRequiredError,function(a){L({catalog:null,catalogError:!1})}))["catch"](function(a){L({catalog:null,catalogError:!1})});M!=null&&M.isAccidental()&&d("WAWebDrawerManager").DrawerManager.setDrawerContext("left",d("WAWebProductCatalogContext").buildProductCatalogContext(new(d("WAWebProductCatalogSession").ProductCatalogSession)(),d("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS))},[]);if(d("WAWebConnModel").Conn.isSMB&&M!=null&&M.isAccidental())return null;A=function(){f?f():u==null||u.requestDismiss()};J=function(a){return!!(a||"").trim()};var N=function(){F.current=!0},O=function(){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"About can't be empty")}))},P=function(){F.current=!1,C(z.status)},Q=function(){if(B==null){P();return}F.current=!1;var a=z.status,b=B;if(b===a)return;b=function(){var a;(a=y.current)==null||a.focusEditBtn()};E(!0);void d("WAWebStatusContactAction").setMyStatus(B,b).then(function(){if(G.aborted)return;E(!1)})},R=function(a){C(a)},S=F.current||D?B:z.status,T=h._(/*BTDS*/"About");S=m.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:S,editable:!0,pending:D,showRemaining:!0,validate:J,maxLength:r,maxCodeUnits:s,onBeginEdit:N,onChange:function(a){a=a.text;return R(a)},onSave:Q,onError:O,onCancel:P,theme:"text-input",fieldName:T,ariaLabel:T,emojiBtnPosition:"side",lockable:!0,lowProfile:!0,constrainedWidth:!0,emojiTextSettingsInLockMode:v,blockFocusOnLock:!0,ref:y});D=d("WAWebConnModel").Conn.isSMB?m.jsx(d("WAWebBizProfileDrawer.react").CoverPhotoDrawerSection,{contact:e,profilePicThumb:H}):m.jsx(x,{profilePicThumb:H});J=d("WAWebConnModel").Conn.isSMB?m.jsx(d("WAWebBizProfileDrawer.react").EditBizProfileEditSection,{contact:e,openMerchantDetailsForm:j,businessProfile:I,openCatalogDetailsForm:g,catalogResult:K,aboutInput:S,openCreateUsernameDrawer:k,openEditUsernameDrawer:l,isRefreshed:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()}):m.jsx(w,{conn:a.conn,aboutInput:S,contact:e,unmountSignal:G,openCreateUsernameDrawer:k,openEditUsernameDrawer:l});N=h._(/*BTDS*/"Profile");Q=t?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL;return m.jsxs(c("WAWebDrawer.react"),{ref:b,testid:void 0,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:N,onBack:A,type:Q,focusBackOrCancel:!0}),m.jsxs(c("WAWebDrawerBody.react"),{children:[D,J,d("WAWebQuickPromotionGating").profilePrivacyTipsEnabled()&&m.jsx(d("WAWebProfileQuickPromotionSurface.react").ProfileQPSurface,{}),d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&m.jsx("div",{className:"xexx8yu xyri2b xefzj8c x1c1uobl"})]})]})}y.displayName=y.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSendGroupInviteFlow.react",["fbt","WANullthrows","WAWebGroupType","WAWebSendTextFlow.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;a=a.chat;b=c("WANullthrows")((b=a.groupMetadata)==null?void 0:b.groupInviteLink);a=((a=a.groupMetadata)==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.COMMUNITY;a=a?h._(/*BTDS*/"Follow this link to join my WhatsApp community:").toString()+" "+b:h._(/*BTDS*/"Follow this link to join my WhatsApp group:").toString()+" "+b;return j.jsx(c("WAWebSendTextFlow.react"),{title:h._(/*BTDS*/"Send link to"),text:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUploadUserReport",["WALogger","WAWebCrashlog","WAWebCrashlogConstants","WAWebLoggerDebugInfo","WAWebXHR","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function a(a,b,c,d,e,f,g){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,m,n){try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport uploading"])));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport description: ",""])),f).verbose();var o=(yield d("WAWebCrashlog").upload({reason:d("WAWebCrashlog").USER_REPORT,immediate:!1,isHighPri:!0,logType:d("WAWebCrashlog").LogType.SUPPORT})),p=new FormData();a!=null&&p.append("user",String(a));p.append("email",b);o&&p.append("crashlog",o);p.append("desc",f);g.map(function(a,b){p.append("screenshot-"+b,a)});a=(yield d("WAWebLoggerDebugInfo").getDebugInfo({supportTag:m,entityId:n}));b=babelHelpers["extends"]({},a,{subject:e});p.append("info",JSON.stringify(b));d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport submitting"])));yield c("WAWebXHR").post(d("WAWebCrashlogConstants").TICKET_URL,p);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport succeeded"])))}catch(a){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport failed ",""])),String(a))}});return m.apply(this,arguments)}g.uploadUserReport=a}),98);
__d("WAWebSendLogsPopup.react",["fbt","WALinkify","WAPhoneUtils","WAWebABPropsSaga","WAWebConfirmPopup.react","WAWebConnModel","WAWebEventFiles","WAWebExternalLink.react","WAWebFaqUrl","WAWebKeyboardHotKeys.react","WAWebModalManager","WAWebRichTextField.react","WAWebSupportChatStrings","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUploadUserReport","WAWebUserPrefsMeUser","WAWebXAltIcon.react","asyncToGeneratorRuntime","fbs","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=320,p=50,q=10,r=500,s=3,t=10485760;function u(){return d("WAWebConnModel").Conn.isSMB?h._(/*BTDS*/"Question about WhatsApp Business for Web"):h._(/*BTDS*/"Question about WhatsApp for Web")}function v(a){var b=a.onDeleteScreenshot;a=a.screenshots;a=a.map(function(a,c){if(a.url==null)return null;var e="url("+a.url+")";a=a.url+"-"+c;return k.jsx("div",{className:"x1n2onr6 x1faq86j x1vtj31x x1t79jtt xav9cv8 x7g7pl8 x4tpdpg x1wbi8v6 x1oreiyq x1vwr25l x18d0r48 x1e7nkc8",style:{backgroundImage:e},children:k.jsx("button",{className:"x10l6tqk xnfr1j x1h1655f x7o08j2",onClick:function(){b(c)},children:k.jsx(d("WAWebXAltIcon.react").XAltIcon,{})})},a)}).filter(Boolean);return a.length!==0?k.jsx("div",{className:"x78zum5 x1tiyuxx x1uc92m x1nbhmlj x181vq82 x1q7yeco",children:a}):null}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.isDragging,c=a.onAttachClick;a=a.reachedMaxScreenshots;if(a){a=s;return k.jsx("div",{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu xyri2b x18d9i69 x1c1uobl x98l61r x1pg5gke x2b8uid xtvhhri xlwc9sh xpw2u0k xt0e3qv",children:h._(/*BTDS*/"_j{\"*\":\"{number} screenshots maximum\",\"_1\":\"1 screenshot maximum\"}",[h._plural(a,"number")])})}else if(b)return k.jsx("div",{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu xyri2b x18d9i69 x1c1uobl x98l61r x1pg5gke x1jrnqrx x2b8uid xtvhhri x1ypdohk xlwc9sh",children:h._(/*BTDS*/"Release to add...")});return k.jsx("div",{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu xyri2b x18d9i69 x1c1uobl x98l61r x1pg5gke x1jrnqrx x2b8uid xtvhhri x1ypdohk xlwc9sh",onClick:c,children:h._(/*BTDS*/"Add screenshots")})}w.displayName=w.name+" [from "+f.id+"]";function a(a){var e=a.onCancel,f=a.supportTag,g=a.onSend,i=a.entityId,j=n(""),x=j[0],y=j[1];j=n(void 0);var z=j[0],A=j[1];j=n("");var B=j[0],C=j[1];j=n(void 0);var D=j[0],E=j[1];j=n(u().toString());var F=j[0],G=j[1];j=n(void 0);var H=j[0],I=j[1];a=n((j=a.description)!=null?j:"");var J=a[0],K=a[1];j=n(void 0);a=j[0];var L=j[1];j=n([]);var M=j[0],N=j[1];j=n(!1);var O=j[0],P=j[1];j=n(!1);var Q=j[0],R=j[1],S=m(null),T=m(null);l(function(){var a;(a=S.current)==null||a.restoreFocus();R(d("WAWebABPropsSaga").getIsSagaV1Enabled());return function(){M.map(function(a){a=a.url;return URL.revokeObjectURL(a)})}},[]);var U=function(a){return a.length>q},V=function(a){return x===a},W=function(){return M.length>=s};j=function(){e&&e(),d("WAWebModalManager").ModalManager.close()};var X=function(a){a.stopPropagation()},Y=function(a,b){P(a)},aa=function(){var a=B.trim();B&&!V(a)&&E(h._(/*BTDS*/"The email addresses do not match"));C(a)},ba=function(){var a=x.trim();x&&!d("WALinkify").validateEmail(a)&&A(h._(/*BTDS*/"Please enter a valid email address"));y(a)},ca=function(a){d("WALinkify").validateEmail(a)&&A(void 0),y(a)},da=function(){J&&!U(J)&&L(h._(/*BTDS*/"Please add more to your description"))},ea=function(a){if(!W()){(a=T.current)==null||a.click()}},Z=function(a){a.preventDefault();a.stopPropagation();if(W())return;d("WAWebEventFiles").getFiles(a,"image/*").then(function(a){T.current&&(T.current.value="");var b=a.filter(function(a){return a.size<=t});b.length<a.length&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Please upload images 10 MB or smaller")}));if(W())return;a=s-M.length;b=b.slice(0,a);a=b.map(function(a){return{file:a,url:URL.createObjectURL(a)}});N(M.concat(a))})},fa=function(a){C(a),V(a)&&E(void 0)},ga=function(a){K(a),U(a)&&L(void 0)},ha=function(a){G(a),I(void 0)},ia=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=0,b=x.trim(),e=B.trim();y(b);C(e);d("WALinkify").validateEmail(b)||(A(h._(/*BTDS*/"Please enter a valid email address")),a+=1);V(e)||(E(h._(/*BTDS*/"The email addresses do not match")),a+=1);U(J)||(L(h._(/*BTDS*/"Please add more to your description")),a+=1);if(a===0){A(void 0);E(void 0);I(void 0);L(void 0);e=M.map(function(a){URL.revokeObjectURL(a.url);return a.file});N([]);a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();a=d("WAPhoneUtils").formatPhone(a.user);var j=F.trim()||c("fbs")._(/*BTDS*/"Feedback\/question about WhatsApp").toString();d("WAWebUploadUserReport").uploadUserReport(a,b,j,J,e,f,i);g&&g({subject:j,description:J,numScreenshots:e.length});d("WAWebModalManager").ModalManager.close();d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Feedback sent")}))}});return function(){return a.apply(this,arguments)}}(),$=function(a){var b=M.slice();a=b.splice(a,1);a=a[0];URL.revokeObjectURL(a.url);N(b)};$=k.jsxs("div",{children:[k.jsx(v,{screenshots:M,onDeleteScreenshot:$}),k.jsx(w,{reachedMaxScreenshots:W(),isDragging:O,onAttachClick:ea}),k.jsx("input",{className:"x1s85apg",accept:"image/*",type:"file",multiple:!0,onClick:X,onChange:Z,ref:T,disabled:W()})]});O={enter:X};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Contact us"),okText:h._(/*BTDS*/"Send"),onOK:ia,onCancel:j,onDrop:Z,onDragChange:Y,children:k.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:O,children:[k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,ref:S,value:x,error:z,maxLength:o,onChange:function(a){return ca(a.text)},onBlur:ba,placeholder:h._(/*BTDS*/"Email address")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,editable:!0,value:B,error:D,maxLength:o,onChange:function(a){return fa(a.text)},onBlur:aa,placeholder:h._(/*BTDS*/"Confirm email address")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:F,error:H,maxLength:p,onChange:function(a){return ha(a.text)},placeholder:h._(/*BTDS*/"Subject")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:J,error:a,maxLength:r,onChange:function(a){return ga(a.text)},onBlur:da,placeholder:h._(/*BTDS*/"Tell us about your issue"),multiline:!0}),$,Q&&k.jsxs(d("WAWebText.react").WAWebTextMuted,{marginTop:20,children:[d("WAWebSupportChatStrings").SupportChatDeviceInfoDisclaimer()," ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getSupportChatFaqUrl(),children:h._(/*BTDS*/"Learn more")})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSendMsgMultiModal.react",["fbt","Promise","WALogger","WATimeUtils","WAWebAttachMediaCollection","WAWebBlockContactAction","WAWebChatGetters","WAWebCmd","WAWebComposeBoxActions","WAWebModalManager","WAWebNoop","WAWebSelectModal.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","asyncToGeneratorRuntime","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react");function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebChatGetters").getIsUser(a)&&a.contact.isContactBlocked)return d("WAWebBlockContactAction").unblockContact(a.contact)});return n.apply(this,arguments)}function a(a){var e=a.attachments,f=a.msgText,g=a.urlText;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var h=f;if(a.length===1){var k=a[0];yield m(k).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=function(){c("isStringNullOrEmpty")(h)||d("WAWebComposeBoxActions").ComposeBoxActions.paste(k,h),e!=null&&e.length>0&&d("WAWebComposeBoxActions").ComposeBoxActions.pasteFiles(k,e)};var f=function(){if(e!=null&&e.length>0){var a=new(c("WAWebAttachMediaCollection"))({chatParticipantCount:k.getParticipantCount()}),b=e.map(function(a){return{file:a,filename:a.name,mimetype:a.type}});a.processAttachmentsForChat(b,void 0,k)["catch"](c("WAWebNoop"));k.setAttachMediaContents(a)}},i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebCmd").Cmd.openChatFromUnread(k));a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(k)});return function(){return a.apply(this,arguments)}}();c("isStringNullOrEmpty")(h)||(k.urlText=g);if(k.active){a();return}c("isStringNullOrEmpty")(h)||k.setComposeContents({text:h,timestamp:d("WATimeUtils").unixTime()});f();yield i()});return function(b){return a.apply(this,arguments)}}())}else void (j||(j=b("Promise"))).all(a.map(function(a){return m(a).then(function(b){a.urlText=g;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleConfirmed inside WAWebSendMsgMultiModal"])));return d("WAWebSendTextMsgChatAction").sendTextMsgToChat(a,h)})})),yield d("WAWebCmd").Cmd.openChatFromUnread(a[0]);d("WAWebModalManager").ModalManager.close()});return function(b){return a.apply(this,arguments)}}();return l.jsx(d("WAWebSelectModal.react").SelectModal,{onConfirm:a,maxItems:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,title:h._(/*BTDS*/"Send message to"),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUnstarAllPopup.react",["fbt","WAWebChatCollection","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=function(){d("WAWebModalManager").ModalManager.close()};function a(a){var b=a.chat,c=a.msgs;a=function(){b&&b.pendingAction++,d("WAWebChatCollection").ChatCollection.unstarAllMessages(c,b)["finally"](function(){b&&b.pendingAction--}),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:h._(/*BTDS*/"Unstar"),onCancel:k,children:j.jsx("div",{children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._(/*BTDS*/"Unstar all messages?")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStarredHeaderDropdown.react",["fbt","WAWebDropdownItem.react","WAWebModalManager","WAWebUIRefreshGatingUtils","WAWebUnstarAllPopup.react","WAWebUnstarRefreshedIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.msgs,e=a.chat,f;if(b.length>0)f=b;else{f=(a=e==null?void 0:e.getStarredMsgs().toArray())!=null?a:[]}b=function(){d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebUnstarAllPopup.react"),{msgs:f,chat:e}))};return j.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebUnstarRefreshedIcon.react").UnstarRefreshedIcon,{}):null,testid:void 0,action:b,disabled:f.length===0,children:h._(/*BTDS*/"Unstar all")})}a.displayName=a.name+" [from "+f.id+"]";g.StarredHeaderDropdown=a}),226);
__d("WAWebStarredDrawerV2.react",["fbt","WAWebDisplayType","WAWebDropdown.react","WAWebEmptyState.react","WAWebHistorySyncComponents.react","WAWebMenuBar.react","WAWebMenuIcon.react","WAWebMessageComponentContext.react","WAWebMoreRefreshedIcon.react","WAWebMsgDrawer.react","WAWebStarredHeaderDropdown.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l=k||c("react"),m=(j||(j=d("react"))).useMemo;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.starredMsgs,f=a.onClose,g=a.chat,j=a.headerType,k=a.onSaveContact;a=h._(/*BTDS*/"Starred messages");var n=l.jsx(d("WAWebEmptyState.react").StarredMsgs,{}),o=g!=null?l.jsx(d("WAWebHistorySyncComponents.react").HistorySyncChatStarredMsgsPlaceholderText,{}):l.jsx(d("WAWebHistorySyncComponents.react").HistorySyncStarredMsgsPlaceholderText,{}),p=l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?l.jsx(d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,{}):l.jsx(d("WAWebMenuIcon.react").MenuIcon,{}),title:h._(/*BTDS*/"Menu"),dropdownMenu:{menu:l.jsx(d("WAWebStarredHeaderDropdown.react").StarredHeaderDropdown,{chat:g,msgs:e.toArray()}),type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT}}),q=m(function(){return{onSaveContact:k}},[k]);return l.jsx(d("WAWebMessageComponentContext.react").MessageComponentContext.Provider,{value:q,children:l.jsx(c("WAWebMsgDrawer.react"),{ref:b,msgCollection:e,onClose:f,chat:g,title:a,emptyListText:n,footerText:o,headerMenu:p,headerType:j,displayType:d("WAWebDisplayType").DISPLAY_TYPE.STARRED_MSGS,tsNavigationSurface:"starred-messages-drawer"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStatusListPanel.react",["WAWebStatusList.react","WAWebStatusListHeader.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.onOpenStatus;return i.jsxs("div",{className:"x10l6tqk x13vifvy x1o0tod x78zum5 xdt5ytf x5yr21d x160y1p1 x1yewgqm xshg5ix x1wejiyj xtbbw2h x15i9xf3",children:[i.jsx(d("WAWebStatusListHeader.react").StatusListHeader,{onOpenStatus:a}),i.jsx(d("WAWebStatusList.react").StatusList,{onOpenStatus:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStatusPlaceholderIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="status-placeholder";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=80;o=80;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 80 80",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",id:"Layer_1",x:"0px",y:"0px",enableBackground:"new 0 0 80 80",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M30.566,78.982c-0.222,0-0.447-0.028-0.672-0.087C12.587,74.324,0.5,58.588,0.5,40.631 c0-3.509,0.459-6.989,1.363-10.343c0.377-1.399,1.814-2.23,3.217-1.851c1.399,0.377,2.228,1.818,1.851,3.217 c-0.784,2.909-1.182,5.929-1.182,8.977c0,15.578,10.48,29.226,25.485,33.188c1.401,0.37,2.237,1.806,1.867,3.209 C32.79,78.204,31.728,78.982,30.566,78.982z M49.921,78.875C67.336,74.364,79.5,58.611,79.5,40.563c0-3.477-0.452-6.933-1.345-10.27 c-0.374-1.401-1.812-2.232-3.213-1.858c-1.4,0.375-2.233,1.813-1.858,3.214c0.773,2.896,1.166,5.895,1.166,8.914 c0,15.655-10.545,29.319-25.646,33.23c-1.403,0.363-2.246,1.796-1.883,3.199c0.306,1.182,1.371,1.967,2.539,1.967 C49.478,78.959,49.699,78.932,49.921,78.875z M15.482,16.5C21.968,9.901,30.628,6.267,39.867,6.267 c9.143,0,17.738,3.569,24.202,10.05c1.024,1.026,2.686,1.028,3.712,0.004c1.026-1.024,1.028-2.685,0.005-3.712 C60.329,5.135,50.413,1.018,39.867,1.018c-10.658,0-20.648,4.191-28.128,11.802c-1.016,1.034-1.002,2.696,0.032,3.711 c0.511,0.503,1.175,0.753,1.84,0.753C14.289,17.284,14.968,17.022,15.482,16.5z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StatusPlaceholderIcon=a}),98);
__d("WAWebStatusOutStatusPanel.react",["fbt","WAFilteredCatch","WALogger","WAWebBackendErrors","WAWebClock","WAWebDetailImage.react","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebNoop","WAWebStatusPlaceholderIcon.react","WAWebStatusSeenCount.react","WAWebStatusThumbnail.react","WAWebWamEnumStatusRowSection","react","useWAWebForceUpdate","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useEffect,n=b.useState;function a(a){var b=a.onOpenStatus;a=a.status;a=l.jsx(o,{status:a,onOpenStatus:b});return l.jsx("div",{className:"x10l6tqk x13vifvy x78zum5 xdt5ytf x6s0dn4 xl56j7k x5yr21d x1le9d6u xxojkh6 xdmsrq2 x8yky9h x1aa9wjk xfmyhe5 x13inm7x xtdeawk",children:a})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.status,c=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();m(function(){b==null||b.loadMore(b.totalCount)["catch"](function(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while loading all out status: ",""])),String(a))})},[]);d("useWAWebListener").useListener(b,"change:msgsChanged",c);if(b&&b.msgs.length>0){c=b.msgs.map(function(c){return l.jsx(p,{msg:c,status:b,onOpenStatus:a.onOpenStatus},c.id.toString())});return l.jsxs("div",{className:"x78zum5 xdt5ytf xmz0i5r","data-testid":void 0,children:[l.jsx("div",{className:"x1coevs8 x14ler8 xngnso2 xk50ysn x2b8uid",children:h._(/*BTDS*/"View your updates")}),l.jsx("div",{className:"x9f619 x78zum5 x1q0g3np x1a02dak xl56j7k x1ap80js xexx8yu xx281p9 x1rxj1xn x67w97k x1odjw0f",children:c})]})}return l.jsxs("div",{className:"x78zum5 xdt5ytf xmz0i5r",children:[l.jsx("div",{className:"x78zum5 x1q0g3np xl56j7k x14ler8 x5q6gb4 x47corl",children:l.jsx(d("WAWebStatusPlaceholderIcon.react").StatusPlaceholderIcon,{})}),l.jsx("div",{"data-testid":void 0,className:"xzl6hoh x88nbbm x2b8uid",children:h._(/*BTDS*/"Click on a contact to view their status updates")})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.msg,e=a.status,f=c("useWAWebUnmountSignal")(),g=n(null),i=g[0],j=g[1];g=n(null);var k=g[0],o=g[1];m(function(){d("WAWebMsgInfoCollection").MsgInfoCollection.find(b.id).then(function(a){if(f.aborted)return;o(a);j(a.read.length)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").EphemeralDrop,c("WAWebNoop")))},[]);d("useWAWebListener").useListener(k==null?void 0:k.read,["add","remove"],function(){j(k==null?void 0:k.read.length)});g=l.jsx(d("WAWebDetailImage.react").DetailImage,{id:d("WAWebMsgGetters").getSender(b),theme:"status",size:80});return l.jsxs("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1sa5p1d x1hq5gj4 x1hm9lzh","data-testid":void 0,children:[l.jsx(c("WAWebStatusThumbnail.react"),{tabIndex:0,ariaLabel:h._(/*BTDS*/"View your updates"),id:e.id,msg:b,onClick:function(){return a.onOpenStatus(e,b,0,d("WAWebWamEnumStatusRowSection").STATUS_ROW_SECTION.MY_STATUS)},contact:e.contact,role:"button",theme:"status-panel",thumbnailPlaceholder:g}),l.jsx("div",{className:"xcxhlts xu06os2",children:l.jsx(c("WAWebStatusSeenCount.react"),{seenCount:i})}),l.jsx("div",{className:"x1nxh6w3 x88nbbm",children:d("WAWebClock").Clock.relativeDateAndTimeStr(b.t)})]})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStatusMain.react",["fbt","WAWebCmd","WAWebFocusTracer","WAWebStatusCollection","WAWebStatusListPanel.react","WAWebStatusOutStatusPanel.react","WAWebSvgButton.react","WAWebTimeSpentLoggingNavigation","WAWebUserPrefsGeneral","WAWebXViewerIcon.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useEffect,n=b.useRef,o=b.useState,p={closeIcon:{position:"x10l6tqk",top:"xoyzfg9",insetInlineEnd:"x1i4sgur",left:null,right:null,zIndex:"xhtitgo",color:"x1fpc5dy",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,i);a=e.onOpenStatus;var f=e.sessionId,g=e.closeStatusViewer,j=n(null),k=o(function(){return d("WAWebStatusCollection").StatusCollection.getMyStatus()}),q=k[0],r=k[1];m(function(){d("WAWebUserPrefsGeneral").setLastStatusUsage(),f!=null&&d("WAWebStatusCollection").StatusCollection.logMetrics({type:"session",sessionId:f}),d("WAWebCmd").Cmd.onStatusViewerOpen(),j.current&&c("WAWebFocusTracer").focus(j.current)},[]);k=function(){r(d("WAWebStatusCollection").StatusCollection.getMyStatus())};d("useWAWebListener").useListener(d("WAWebStatusCollection").StatusCollection,["add","remove"],k);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,["dismiss_status_viewer"],function(){g(!0)});d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"status"});return l.jsx("div",{ref:b,className:"x10l6tqk x1oyvh86 x9f619 x78zum5 xdt5ytf xh8yej3 x5yr21d x66m237","data-animate-status-modal-background":!0,"data-testid":void 0,children:l.jsxs("div",{ref:j,tabIndex:-1,className:"x1n2onr6 x1vjfegm x78zum5 xdt5ytf xh8yej3 x5yr21d x1fpc5dy xf32nbf xvlrot x1s14duo xwlbkn7 xc6c13",children:[l.jsx(c("WAWebStatusListPanel.react"),{onOpenStatus:a}),l.jsx(c("WAWebStatusOutStatusPanel.react"),{status:q,onOpenStatus:a}),l.jsx(c("WAWebSvgButton.react"),{"aria-label":h._(/*BTDS*/"Close"),xstyle:p.closeIcon,Icon:d("WAWebXViewerIcon.react").XViewerIcon,onClick:function(){return e.closeStatusViewer(!0)}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStatusFlow.react",["invariant","$InternalEnum","WAWebCmd","WAWebStatusMain.react","WAWebStatusViewer.react","react","useLazyRef","useWAWebFlow","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m=b("$InternalEnum").Mirrored(["StatusMain","StatusViewer"]);function a(){var a=d("useWAWebFlow").useFlow(m.StatusMain),b=a[0],e=a[1];a=l(null);var f=a[0],g=a[1];a=l(null);var i=a[0],j=a[1];a=l(void 0);var n=a[0],o=a[1];a=l(void 0);var p=a[0],q=a[1];a=c("useLazyRef")(function(){return Math.round(Math.random()*1e9)});var r=function(a){a?e.end():e.pop()},s=function(a,b,c,d){g(a),j(b),o(c),q(d),e.push(m.StatusViewer,"none")};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_status_viewer",function(){r(!0)});if(e.step==null)return null;var t=null;switch(e.step){case m.StatusMain:t=k.jsx(c("WAWebStatusMain.react"),{onOpenStatus:s,closeStatusViewer:r,sessionId:a.current});break;case m.StatusViewer:f!=null||h(0,62962);t=k.jsx(c("WAWebStatusViewer.react"),{initialStatus:f,initialStatusMsg:i,closeStatusViewer:r,sessionId:a.current,rowIdx:n,rowSection:p,continuousPlay:!0});break}return k.jsx(b,{flow:e,children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStatusQuotedFlow.react",["WAWebStatusViewer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.status,d=a.msgKey,e=a.onMsgNotFound,f=a.onClose,g=a.rowSection;a=a.rowIndex;return i.jsx(c("WAWebStatusViewer.react"),{initialStatus:b,quotedMsgKey:d,closeStatusViewer:f,onMsgNotFound:e,rowSection:g,rowIdx:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);