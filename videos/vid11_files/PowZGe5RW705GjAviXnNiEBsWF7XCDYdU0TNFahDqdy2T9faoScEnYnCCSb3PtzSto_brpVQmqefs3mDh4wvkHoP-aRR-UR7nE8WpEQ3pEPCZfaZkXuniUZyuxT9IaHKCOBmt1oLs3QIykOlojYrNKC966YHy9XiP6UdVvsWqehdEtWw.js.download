;/*FB_PKG_DELIM*/

__d("WABackendHandleError",["Promise","WADeprecatedWapParser","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k={SMAX_INVALID:479},l=new(c("WADeprecatedWapParser"))("errorParser",function(a){a.assertTag("error");a=a.attrInt("code");switch(a){case k.SMAX_INVALID:return m();default:return n(a)}});function a(a){l.parse(a);return(j||(j=b("Promise"))).resolve("NO_ACK")}function m(){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid stanza sent (smax-invalid)"]))).devConsole("check tracelogs for more info").sendLogs("smax-invalid")}function n(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unknown error code: ",""])),a).sendLogs("unknown-error-code")}g.backendErrorParser=l;g.handleError=a}),98);
__d("WAWebWamEnumBrowserEngineName",[],(function(a,b,c,d,e,f){a=Object.freeze({BLINK:0,GECKO:1,WEBKIT:2,UNKNOWN:3});f.BROWSER_ENGINE_NAME=a}),66);
__d("WAWebWamEnumPlatformName",[],(function(a,b,c,d,e,f){a=Object.freeze({WINDOWS:0,MAC:1,LINUX:2,ANDROID:3,CHROME_OS:4,IOS:5,UNKNOWN:6});f.PLATFORM_NAME=a}),66);
__d("WAFPUtils",["$InternalEnum","WAWebWamEnumBrowserEngineName","WAWebWamEnumPlatformName"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=[].constructor;try{(-1).toFixed(-1)}catch(b){a=b.message.length+(a+"").split(a.name).join("").length;switch(a){case 80:return d("WAWebWamEnumBrowserEngineName").BROWSER_ENGINE_NAME.BLINK;case 58:return d("WAWebWamEnumBrowserEngineName").BROWSER_ENGINE_NAME.GECKO;case 77:return d("WAWebWamEnumBrowserEngineName").BROWSER_ENGINE_NAME.WEBKIT;default:return d("WAWebWamEnumBrowserEngineName").BROWSER_ENGINE_NAME.UNKNOWN}}return d("WAWebWamEnumBrowserEngineName").BROWSER_ENGINE_NAME.UNKNOWN}var h=b("$InternalEnum").Mirrored(["WINDOWS","MAC","LINUX","ANDROID","CHROME_OS","IOS","UNKNOWN"]);function c(a){switch(a){case h.WINDOWS:return d("WAWebWamEnumPlatformName").PLATFORM_NAME.WINDOWS;case h.MAC:return d("WAWebWamEnumPlatformName").PLATFORM_NAME.MAC;case h.LINUX:return d("WAWebWamEnumPlatformName").PLATFORM_NAME.LINUX;case h.ANDROID:return d("WAWebWamEnumPlatformName").PLATFORM_NAME.ANDROID;case h.CHROME_OS:return d("WAWebWamEnumPlatformName").PLATFORM_NAME.CHROME_OS;case h.IOS:return d("WAWebWamEnumPlatformName").PLATFORM_NAME.IOS;default:return d("WAWebWamEnumPlatformName").PLATFORM_NAME.UNKNOWN}}e=a();f=new RegExp("(^|\\.)whatsapp\\.(net|com)","i");g.Platforms=h;g.castPlatformNameToWamEnum=c;g.DETECTED_BROWSER_ENGINE=e;g.waUrlRegex=f}),98);
__d("WAExternalInjectedSources",["WAFPUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.startsWith("data:")}function i(a){return a===""||h(a)?!1:!d("WAFPUtils").waUrlRegex.test(a)}function j(a){var b=new Set(),c=new Set();a.forEach(function(a){var d=a.match(/chrome-extension:\/\/([a-z0-9]+)\//i);d?b.add(a):c.add(a)});return[Array.from(b),Array.from(c)]}function k(){var a=Array.from(document.querySelectorAll("link"));a=a.reduce(function(a,b){b.href&&i(b.href)&&a.push(b.href);return a},[]);return j(a)}function l(){var a=Array.from(document.querySelectorAll("script"));a=a.reduce(function(a,b){b.src&&i(b.src)&&a.push(b.src);return a},[]);return j(a)}function a(){try{var a=l(),b=a[0];a=a[1];var c=k(),d=c[0];c=c[1];return{extensionIds:Array.from(new Set(b.concat(d))).join(","),externalSources:Array.from(new Set(a.concat(c))).join(",")}}catch(a){return{extensionIds:"error",externalSources:Math.random()<.1?a.stack:""}}}g["default"]=a}),98);
__d("WAPlatformEstimate",["WAFPUtils","WAWebWamEnumBrowserEngineName","WAWebWamEnumPlatformName"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,c,e,f,g;if(d("WAFPUtils").DETECTED_BROWSER_ENGINE!==d("WAWebWamEnumBrowserEngineName").BROWSER_ENGINE_NAME.BLINK)return d("WAWebWamEnumPlatformName").PLATFORM_NAME.UNKNOWN;var h="getVideoPlaybackQuality"in HTMLVideoElement.prototype;a=(a=CSS)==null?void 0:a.supports("color-scheme: initial");b=(b=CSS)==null?void 0:b.supports("appearance: initial");var i="DisplayNames"in Intl;c=(c=CSS)==null?void 0:c.supports("aspect-ratio: initial");e=(e=CSS)==null?void 0:e.supports("border-end-end-radius: initial");var j="randomUUID"in crypto;f="downlinkMax"in(((f=navigator.connection)==null?void 0:f.prototype)||{});var k="setAppBadge"in Navigator.prototype,l=function(a){return a in window},m=function(a,b){return a?b:!1},n=(g={},g[d("WAFPUtils").Platforms.ANDROID]=[m(c,l("BarcodeDetector")),m(b,l("ContentIndex")),m(h,l("ContactsManager")),f,m(j,!l("EyeDropper")),m(i,!l("FileSystemWritableFileStream")),m(e,!(l("HID")&&l("HIDDevice"))),m(e,!(l("Serial")&&l("SerialPort"))),!l("SharedWorker"),l("ontouchstart")&&l("TouchEvent"),m(a,!k)],g[d("WAFPUtils").Platforms.CHROME_OS]=[m(c,l("BarcodeDetector")),m(b,!l("ContentIndex")),m(h,!l("ContactsManager")),f,m(j,l("EyeDropper")),m(i,l("FileSystemWritableFileStream")),m(e,l("HID")&&l("HIDDevice")),m(e,l("Serial")&&l("SerialPort")),l("SharedWorker"),m(a,!k)],g[d("WAFPUtils").Platforms.WINDOWS]=[m(c,!l("BarcodeDetector")),m(b,!l("ContentIndex")),m(h,!l("ContactsManager")),!f,m(j,l("EyeDropper")),m(i,l("FileSystemWritableFileStream")),m(e,l("HID")&&l("HIDDevice")),m(e,l("Serial")&&l("SerialPort")),l("SharedWorker"),m(a,k)],g[d("WAFPUtils").Platforms.MAC]=[m(c,l("BarcodeDetector")),m(b,!l("ContentIndex")),m(h,!l("ContactsManager")),!f,m(j,l("EyeDropper")),m(i,l("FileSystemWritableFileStream")),m(e,l("HID")&&l("HIDDevice")),m(e,l("Serial")&&l("SerialPort")),l("SharedWorker"),!(l("ontouchstart")&&l("TouchEvent")),m(a,k)],g[d("WAFPUtils").Platforms.LINUX]=[m(c,!l("BarcodeDetector")),m(b,!l("ContentIndex")),m(h,!l("ContactsManager")),!f,m(j,l("EyeDropper")),m(i,l("FileSystemWritableFileStream")),m(e,l("HID")&&l("HIDDevice")),m(e,l("Serial")&&l("SerialPort")),l("SharedWorker"),!(l("ontouchstart")&&l("TouchEvent")),m(a,!k)],g[d("WAFPUtils").Platforms.UNKNOWN]=[!1],g),o=Object.keys(n).reduce(function(a,b){var c;c=n[(c=d("WAFPUtils").Platforms.cast(b))!=null?c:d("WAFPUtils").Platforms.UNKNOWN];c=+(c.filter(function(a){return a}).length/c.length).toFixed(2);a[b]=c;return a},{});c=Object.keys(o).reduce(function(a,b){return o[a]>o[b]?a:b});return d("WAFPUtils").castPlatformNameToWamEnum((b=d("WAFPUtils").Platforms.cast(c))!=null?b:d("WAFPUtils").Platforms.UNKNOWN)}g["default"]=a}),98);
__d("WASmaxInBizCtwaActionEnums",[],(function(a,b,c,d,e,f){a={"false":"false","true":"true"};b={info:"info",warning:"warning"};f.ENUM_FALSE_TRUE=a;f.ENUM_INFO_WARNING=b}),66);
__d("WASmaxInBizCtwaActionLocalisationMetadataMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"parameter");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"name");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"value");return!a.success?a:d("WAResultOrError").makeResult({name:b.value,value:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"localisation_metadata");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"uid");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"translation_project");if(!c.success)return c;a=d("WASmaxParseUtils").mapChildrenWithTag(a,"parameter",0,20,h);return!a.success?a:d("WAResultOrError").makeResult({uid:b.value,translationProject:c.value,parameter:a.value})}g.parseLocalisationMetadataParameter=h;g.parseLocalisationMetadataMixin=a}),98);
__d("WASmaxInBizCtwaActionNativeActionsMixinMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"native_action");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"platform");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"min_app_version");if(!c.success)return c;var e=d("WASmaxParseUtils").attrString(a,"local_link");if(!e.success)return e;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"universal_link");return!a.success?a:d("WAResultOrError").makeResult({platform:b.value,minAppVersion:c.value,localLink:e.value,universalLink:a.value})}function a(a){a=d("WASmaxParseUtils").mapChildrenWithTag(a,"native_action",0,50,h);return!a.success?a:d("WAResultOrError").makeResult({nativeAction:a.value})}g.parseNativeActionsMixinNativeAction=h;g.parseNativeActionsMixinMixin=a}),98);
__d("WASmaxInBizCtwaActionServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInBizCtwaActionBannerSuggestionRequest",["WAResultOrError","WASmaxInBizCtwaActionEnums","WASmaxInBizCtwaActionLocalisationMetadataMixin","WASmaxInBizCtwaActionNativeActionsMixinMixin","WASmaxInBizCtwaActionServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"action");if(!b.success)return b;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"deep_link");if(!b.success)return b;var c=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"local_link");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"local_android_link");return!a.success?a:d("WAResultOrError").makeResult({deepLink:b.value,localLink:c.value,localAndroidLink:a.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"localised_heading");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"localisation_metadata");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"value");if(!a.success)return a;b=d("WASmaxInBizCtwaActionLocalisationMetadataMixin").parseLocalisationMetadataMixin(b.value);return!b.success?b:d("WAResultOrError").makeResult({value:a.value,localisationMetadataLocalisationMetadataMixin:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"localised_body");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"localisation_metadata");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"value");if(!a.success)return a;b=d("WASmaxInBizCtwaActionLocalisationMetadataMixin").parseLocalisationMetadataMixin(b.value);return!b.success?b:d("WAResultOrError").makeResult({value:a.value,localisationMetadataLocalisationMetadataMixin:b.value})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"localised_highlight");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"localisation_metadata");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"value");if(!a.success)return a;b=d("WASmaxInBizCtwaActionLocalisationMetadataMixin").parseLocalisationMetadataMixin(b.value);return!b.success?b:d("WAResultOrError").makeResult({value:a.value,localisationMetadataLocalisationMetadataMixin:b.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"banner");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"config");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(a,"content");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"heading");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"body");if(!f.success)return f;var g=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"highlight");if(!g.success)return g;var l=d("WASmaxParseUtils").optionalChildWithTag(a,"action",h);if(!l.success)return l;var m=d("WASmaxParseUtils").optionalChildWithTag(c.value,"localised_heading",i);if(!m.success)return m;var n=d("WASmaxParseUtils").optionalChildWithTag(c.value,"localised_body",j);if(!n.success)return n;var o=d("WASmaxParseUtils").optionalChildWithTag(c.value,"localised_highlight",k);if(!o.success)return o;var p=d("WASmaxParseUtils").attrIntRange(b.value,"expires_at",1,void 0);if(!p.success)return p;var q=d("WASmaxParseUtils").attrStringEnum(b.value,"display",d("WASmaxInBizCtwaActionEnums").ENUM_INFO_WARNING);if(!q.success)return q;b=d("WASmaxParseUtils").attrStringEnum(b.value,"revoked",d("WASmaxInBizCtwaActionEnums").ENUM_FALSE_TRUE);if(!b.success)return b;c=d("WASmaxParseUtils").attrString(c.value,"locale");if(!c.success)return c;e=d("WASmaxParseUtils").contentString(e.value);if(!e.success)return e;f=d("WASmaxParseUtils").contentString(f.value);if(!f.success)return f;g=d("WASmaxParseUtils").contentString(g.value);if(!g.success)return g;a=d("WASmaxInBizCtwaActionNativeActionsMixinMixin").parseNativeActionsMixinMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({configExpiresAt:p.value,configDisplay:q.value,configRevoked:b.value,contentLocale:c.value,contentHeadingElementValue:e.value,contentBodyElementValue:f.value,contentHighlightElementValue:g.value},a.value,{action:l.value,contentLocalisedHeading:m.value,contentLocalisedBody:n.value,contentLocalisedHighlight:o.value}))}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"ctwa_suggestion");if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(b.value,"banner",l);if(!c.success)return c;var e=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!e.success)return e;var f=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!f.success)return f;var g=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","business");if(!g.success)return g;b=d("WASmaxParseUtils").attrString(b.value,"target_entity_id");if(!b.success)return b;a=d("WASmaxInBizCtwaActionServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:e.value,to:f.value,type:g.value,ctwaSuggestionTargetEntityId:b.value},a.value,{ctwaSuggestionBanner:c.value}))}g.parseBannerSuggestionRequestCtwaSuggestionBannerAction=h;g.parseBannerSuggestionRequestCtwaSuggestionBannerContentLocalisedHeading=i;g.parseBannerSuggestionRequestCtwaSuggestionBannerContentLocalisedBody=j;g.parseBannerSuggestionRequestCtwaSuggestionBannerContentLocalisedHighlight=k;g.parseBannerSuggestionRequestCtwaSuggestionBanner=l;g.parseBannerSuggestionRequest=a}),98);
__d("WASmaxBizCtwaActionBannerSuggestionRPC",["WASmaxInBizCtwaActionBannerSuggestionRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInBizCtwaActionBannerSuggestionRequest").parseBannerSuggestionRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("BannerSuggestion",{Request:a}));return{parsedRequest:a.value}}g.receiveBannerSuggestionRPC=a}),98);
__d("WASmaxInBizCtwaAdAccountServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountNonceNotificationRequest",["WAResultOrError","WASmaxInBizCtwaAdAccountServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"wa_ad_account_nonce");if(!b.success)return b;var c=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","business");if(!f.success)return f;b=d("WASmaxParseUtils").contentString(b.value);if(!b.success)return b;a=d("WASmaxInBizCtwaAdAccountServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:c.value,to:e.value,type:f.value,waAdAccountNonceElementValue:b.value},a.value))}g.parseNonceNotificationRequest=a}),98);
__d("WASmaxBizCtwaAdAccountNonceNotificationRPC",["WASmaxInBizCtwaAdAccountNonceNotificationRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInBizCtwaAdAccountNonceNotificationRequest").parseNonceNotificationRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("NonceNotification",{Request:a}));return{parsedRequest:a.value}}g.receiveNonceNotificationRPC=a}),98);
__d("WASmaxInBizSettingsServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInBizSettingsSyncPrivacySettingRequest",["WAResultOrError","WASmaxInBizSettingsServerNotificationMixin","WASmaxInBizSettingsSmbDataSharingSettingMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"privacy");if(!b.success)return b;var c=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","business");if(!f.success)return f;b=d("WASmaxInBizSettingsSmbDataSharingSettingMixin").parseSmbDataSharingSettingMixin(b.value);a=d("WASmaxInBizSettingsServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:c.value,to:e.value,type:f.value,privacySmbDataSharingSettingMixin:b.success?b.value:null},a.value))}g.parseSyncPrivacySettingRequest=a}),98);
__d("WASmaxBizSettingsSyncPrivacySettingRPC",["WASmaxInBizSettingsSyncPrivacySettingRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInBizSettingsSyncPrivacySettingRequest").parseSyncPrivacySettingRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("SyncPrivacySetting",{Request:a}));return{parsedRequest:a.value}}g.receiveSyncPrivacySettingRPC=a}),98);
__d("WASmaxInBotIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInBotIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInBotIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInBotIQErrorNotAllowedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","not-allowed");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",405);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorNotAllowedMixin=a}),98);
__d("WASmaxInBotBotListErrors",["WAResultOrError","WASmaxInBotIQErrorBadRequestMixin","WASmaxInBotIQErrorForbiddenMixin","WASmaxInBotIQErrorInternalServerErrorMixin","WASmaxInBotIQErrorNotAllowedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInBotIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:b.value});var c=d("WASmaxInBotIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorForbidden",value:c.value});var e=d("WASmaxInBotIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:e.value});var f=d("WASmaxInBotIQErrorNotAllowedMixin").parseIQErrorNotAllowedMixin(a);return f.success?d("WAResultOrError").makeResult({name:"IQErrorNotAllowed",value:f.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorInternalServerError","IQErrorForbidden","IQErrorBadRequest","IQErrorNotAllowed"],[b,c,e,f])}g.parseBotListErrors=a}),98);
__d("WASmaxInBotIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInBotBotListResponseError",["WAResultOrError","WASmaxInBotBotListErrors","WASmaxInBotIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInBotIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInBotBotListErrors").parseBotListErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorBotListErrors:b.value}))}g.parseBotListResponseError=a}),98);
__d("WASmaxInBotEnums",[],(function(a,b,c,d,e,f){a={all:"all",category:"category",featured:"featured"};b={dark:"dark",light:"light"};c={hidden:"hidden",hscroll:"hscroll",hscroll_icebreakers:"hscroll_icebreakers",hscroll_large:"hscroll_large",hscroll_small:"hscroll_small",listview:"listview"};f.ENUM_ALL_CATEGORY_FEATURED=a;f.ENUM_DARK_LIGHT=b;f.ENUM_HIDDEN_HSCROLL_HSCROLLICEBREAKERS_HSCROLLLARGE_HSCROLLSMALL_LISTVIEW=c}),66);
__d("WASmaxInBotIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInBotBotListResponseSuccessV2",["WAResultOrError","WASmaxInBotEnums","WASmaxInBotIQResultResponseMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"theme");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"background");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(a,"primary_text");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(a,"secondary_text");if(!e.success)return e;a=d("WASmaxParseUtils").attrStringEnum(a,"mode",d("WASmaxInBotEnums").ENUM_DARK_LIGHT);if(!a.success)return a;b=d("WASmaxParseUtils").contentString(b.value);if(!b.success)return b;c=d("WASmaxParseUtils").contentString(c.value);if(!c.success)return c;e=d("WASmaxParseUtils").contentString(e.value);return!e.success?e:d("WAResultOrError").makeResult({mode:a.value,backgroundElementValue:b.value,primaryTextElementValue:c.value,secondaryTextElementValue:e.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"bot");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"jid");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"persona_id");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrInt,a,"count");if(!e.success)return e;a=d("WASmaxParseUtils").mapChildrenWithTag(a,"theme",0,2,h);return!a.success?a:d("WAResultOrError").makeResult({jid:b.value,personaId:c.value,count:e.value,theme:a.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"section");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"name");if(!b.success)return b;var c=d("WASmaxParseUtils").attrStringEnum(a,"type",d("WASmaxInBotEnums").ENUM_ALL_CATEGORY_FEATURED);if(!c.success)return c;a=d("WASmaxParseUtils").mapChildrenWithTag(a,"bot",0,Infinity,i);return!a.success?a:d("WAResultOrError").makeResult({name:b.value,type:c.value,bot:a.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"bot");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"default");if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"v","2");if(!f.success)return f;var g=d("WASmaxParseJid").attrUserJid(e.value,"jid");if(!g.success)return g;e=d("WASmaxParseUtils").attrString(e.value,"persona_id");if(!e.success)return e;a=d("WASmaxInBotIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"section",1,Infinity,j);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({botV:f.value,botDefaultJid:g.value,botDefaultPersonaId:e.value},a.value,{botSection:b.value}))}g.parseBotListResponseSuccessV2BotSectionBotTheme=h;g.parseBotListResponseSuccessV2BotSectionBot=i;g.parseBotListResponseSuccessV2BotSection=j;g.parseBotListResponseSuccessV2=a}),98);
__d("WASmaxInBotBotListResponseSuccessV3",["WAResultOrError","WASmaxInBotEnums","WASmaxInBotIQResultResponseMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"bot");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"jid");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"persona_id");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"card_title");if(!e.success)return e;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrInt,a,"count");return!a.success?a:d("WAResultOrError").makeResult({jid:b.value,personaId:c.value,cardTitle:e.value,count:a.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"section");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"name");if(!b.success)return b;var c=d("WASmaxParseUtils").attrStringEnum(a,"type",d("WASmaxInBotEnums").ENUM_ALL_CATEGORY_FEATURED);if(!c.success)return c;var e=d("WASmaxParseUtils").attrStringEnum(a,"display_type",d("WASmaxInBotEnums").ENUM_HIDDEN_HSCROLL_HSCROLLICEBREAKERS_HSCROLLLARGE_HSCROLLSMALL_LISTVIEW);if(!e.success)return e;a=d("WASmaxParseUtils").mapChildrenWithTag(a,"bot",0,Infinity,h);return!a.success?a:d("WAResultOrError").makeResult({name:b.value,type:c.value,displayType:e.value,bot:a.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"default");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"jid");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"persona_id");return!a.success?a:d("WAResultOrError").makeResult({jid:b.value,personaId:a.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"bot");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(c.value,"default",j);if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"v","3");if(!f.success)return f;var g=d("WASmaxParseUtils").attrString(c.value,"bhash");if(!g.success)return g;a=d("WASmaxInBotIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"section",0,Infinity,i);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({botV:f.value,botBhash:g.value},a.value,{botDefault:e.value,botSection:b.value}))}g.parseBotListResponseSuccessV3BotSectionBot=h;g.parseBotListResponseSuccessV3BotSection=i;g.parseBotListResponseSuccessV3BotDefault=j;g.parseBotListResponseSuccessV3=a}),98);
__d("WASmaxOutBotBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutBotBotListIQMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutBotBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxOutBotBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"bot"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotListIQMixin=a}),98);
__d("WASmaxOutBotBotListRequest",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxOutBotBotListIQMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.botJid;a=d("WASmaxJsx").smax("bot",{jid:d("WAWap").JID(a)});return a}function a(a){var b=a.botArgs,c=a.botV;a=a.botBhash;c=d("WASmaxOutBotBotListIQMixin").mergeBotListIQMixin(d("WASmaxJsx").smax("iq",null,d("WASmaxJsx").smax("bot",{v:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,c),bhash:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)},d("WASmaxChildren").REPEATED_CHILD(h,b,0,Infinity))));return c}g.makeBotListRequestBotBot=h;g.makeBotListRequest=a}),98);
__d("WASmaxBotBotListRPC",["WAComms","WASmaxInBotBotListResponseError","WASmaxInBotBotListResponseSuccessV2","WASmaxInBotBotListResponseSuccessV3","WASmaxOutBotBotListRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutBotBotListRequest").makeBotListRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInBotBotListResponseSuccessV2").parseBotListResponseSuccessV2(b,a);if(c.success)return{name:"BotListResponseSuccessV2",value:c.value};var e=d("WASmaxInBotBotListResponseSuccessV3").parseBotListResponseSuccessV3(b,a);if(e.success)return{name:"BotListResponseSuccessV3",value:e.value};b=d("WASmaxInBotBotListResponseError").parseBotListResponseError(b,a);if(b.success)return{name:"BotListResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("BotList",{SuccessV2:c,SuccessV3:e,Error:b}))});return h.apply(this,arguments)}g.sendBotListRPC=a}),98);
__d("WASmaxInCoexistenceEnums",[],(function(a,b,c,d,e,f){a={ai_from_meta:"ai_from_meta",automation:"automation",business_platform:"business_platform"};b={completed:"completed",failed:"failed"};f.ENUM_AIFROMMETA_AUTOMATION_BUSINESSPLATFORM=a;f.ENUM_COMPLETED_FAILED=b}),66);
__d("WASmaxInCoexistenceProviderInfoMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"logo_url");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"name");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"id");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"provider_info");if(!a.success)return a;var b=d("WASmaxParseUtils").optionalChildWithTag(a.value,"logo_url",h);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a.value,"name",i);if(!c.success)return c;a=d("WASmaxParseUtils").optionalChildWithTag(a.value,"id",j);return!a.success?a:d("WAResultOrError").makeResult({providerInfoLogoUrl:b.value,providerInfoName:c.value,providerInfoId:a.value})}g.parseProviderInfoProviderInfoLogoUrl=h;g.parseProviderInfoProviderInfoName=i;g.parseProviderInfoProviderInfoId=j;g.parseProviderInfoMixin=a}),98);
__d("WASmaxInCoexistenceServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInCoexistenceOffboardingNotificationRequest",["WAResultOrError","WASmaxInCoexistenceEnums","WASmaxInCoexistenceProviderInfoMixin","WASmaxInCoexistenceServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"offboarding");if(!b.success)return b;var c=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","hosted");if(!e.success)return e;var f=d("WASmaxParseUtils").attrStringEnum(b.value,"product_surface",d("WASmaxInCoexistenceEnums").ENUM_AIFROMMETA_AUTOMATION_BUSINESSPLATFORM);if(!f.success)return f;b=d("WASmaxInCoexistenceProviderInfoMixin").parseProviderInfoMixin(b.value);if(!b.success)return b;a=d("WASmaxInCoexistenceServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:c.value,type:e.value,offboardingProductSurface:f.value,offboardingProviderInfoMixin:b.value},a.value))}g.parseOffboardingNotificationRequest=a}),98);
__d("WASmaxCoexistenceOffboardingNotificationRPC",["WASmaxInCoexistenceOffboardingNotificationRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInCoexistenceOffboardingNotificationRequest").parseOffboardingNotificationRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("OffboardingNotification",{Request:a}));return{parsedRequest:a.value}}g.receiveOffboardingNotificationRPC=a}),98);
__d("WASmaxInCoexistenceProductSurfaceMixin",["WAResultOrError","WASmaxInCoexistenceEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrStringEnum(a,"product_surface",d("WASmaxInCoexistenceEnums").ENUM_AIFROMMETA_AUTOMATION_BUSINESSPLATFORM);return!a.success?a:d("WAResultOrError").makeResult({productSurface:a.value})}g.parseProductSurfaceMixin=a}),98);
__d("WASmaxInCoexistenceOnboardingStatusNotificationRequest",["WAResultOrError","WASmaxInCoexistenceEnums","WASmaxInCoexistenceProductSurfaceMixin","WASmaxInCoexistenceProviderInfoMixin","WASmaxInCoexistenceServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"onboarding_status");if(!b.success)return b;var c=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","hosted");if(!e.success)return e;var f=d("WASmaxParseUtils").attrStringEnum(b.value,"status",d("WASmaxInCoexistenceEnums").ENUM_COMPLETED_FAILED);if(!f.success)return f;var g=d("WASmaxInCoexistenceProductSurfaceMixin").parseProductSurfaceMixin(b.value);if(!g.success)return g;b=d("WASmaxInCoexistenceProviderInfoMixin").parseProviderInfoMixin(b.value);if(!b.success)return b;a=d("WASmaxInCoexistenceServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:c.value,type:e.value,onboardingStatusStatus:f.value,onboardingStatusProductSurfaceMixin:g.value,onboardingStatusProviderInfoMixin:b.value},a.value))}g.parseOnboardingStatusNotificationRequest=a}),98);
__d("WASmaxCoexistenceOnboardingStatusNotificationRPC",["WASmaxInCoexistenceOnboardingStatusNotificationRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInCoexistenceOnboardingStatusNotificationRequest").parseOnboardingStatusNotificationRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("OnboardingStatusNotification",{Request:a}));return{parsedRequest:a.value}}g.receiveOnboardingStatusNotificationRPC=a}),98);
__d("WASmaxInGroupsServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInGroupsGroupsDirtyNotificationRequest",["WAResultOrError","WASmaxInGroupsServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxParseJid").attrGroupJid(a,"jid");return!b.success?b:d("WAResultOrError").makeResult({jid:b.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"groups_dirty");if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","w:gp2");if(!c.success)return c;var e=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","g.us");if(!e.success)return e;a=d("WASmaxInGroupsServerNotificationMixin").parseServerNotificationMixin(a);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(b.value,"group",1,1e4,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({type:c.value,from:e.value},a.value,{groupsDirtyGroup:b.value}))}g.parseGroupsDirtyNotificationRequestGroupsDirtyGroup=h;g.parseGroupsDirtyNotificationRequest=a}),98);
__d("WASmaxOutGroupsNotificationClientAckMixin",["WASmaxInGroupsEnums","WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);var c=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrJidEnum,a,["from"],d("WASmaxInGroupsEnums").DOMAINJID_GROUPJID);if(!c.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(c.error);a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrString,a,["type"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);b=d("WASmaxJsx").smax("ack",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").JID(c.value),"class":"notification",type:d("WAWap").CUSTOM_STRING(a.value)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNotificationClientAckMixin=a}),98);
__d("WASmaxOutGroupsGroupsDirtyNotificationResponseAck",["WASmaxJsx","WASmaxOutGroupsNotificationClientAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutGroupsNotificationClientAckMixin").mergeNotificationClientAckMixin(d("WASmaxJsx").smax("ack",null),a);return a}g.makeGroupsDirtyNotificationResponseAck=a}),98);
__d("WASmaxGroupsGroupsDirtyNotificationRPC",["WASmaxInGroupsGroupsDirtyNotificationRequest","WASmaxOutGroupsGroupsDirtyNotificationResponseAck","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsGroupsDirtyNotificationRequest").parseGroupsDirtyNotificationRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GroupsDirtyNotification",{Request:b}));return{parsedRequest:b.value,makeGroupsDirtyNotificationResponseAck:function(){return d("WASmaxOutGroupsGroupsDirtyNotificationResponseAck").makeGroupsDirtyNotificationResponseAck(a)}}}g.receiveGroupsDirtyNotificationRPC=a}),98);
__d("WASmaxInMdAESEncryptionMetadataMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").flattenedChildWithTag(a,"encrypted_key");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(a,"nonce");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(a,"encrypted_data");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(a,"auth_tag");if(!f.success)return f;var g=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"version","1");if(!g.success)return g;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"algorithm","aes-256-gcm");if(!a.success)return a;b=d("WASmaxParseUtils").contentBytesRange(b.value,1,2048);if(!b.success)return b;c=d("WASmaxParseUtils").contentBytesRange(c.value,1,128);if(!c.success)return c;e=d("WASmaxParseUtils").contentBytesRange(e.value,1,8192);if(!e.success)return e;f=d("WASmaxParseUtils").contentBytesRange(f.value,1,128);return!f.success?f:d("WAResultOrError").makeResult({version:g.value,algorithm:a.value,encryptedKeyElementValue:b.value,nonceElementValue:c.value,encryptedDataElementValue:e.value,authTagElementValue:f.value})}g.parseAESEncryptionMetadataMixin=a}),98);
__d("WASmaxInMdBaseIQSetRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"iq");if(!b.success)return b;b=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","set");return!a.success?a:d("WAResultOrError").makeResult({id:b.value,type:a.value})}g.parseBaseIQSetRequestMixin=a}),98);
__d("WASmaxInMdIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInMdIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInMdCompanionFinishErrors",["WAResultOrError","WASmaxInMdIQErrorBadRequestMixin","WASmaxInMdIQErrorInternalServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:b.value});var c=d("WASmaxInMdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorInternalServerError","IQErrorBadRequest"],[b,c])}g.parseCompanionFinishErrors=a}),98);
__d("WASmaxInMdIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInMdCompanionFinishResponseError",["WAResultOrError","WASmaxInMdCompanionFinishErrors","WASmaxInMdIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInMdIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInMdCompanionFinishErrors").parseCompanionFinishErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorCompanionFinishErrors:b.value}))}g.parseCompanionFinishResponseError=a}),98);
__d("WASmaxInMdIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInMdCompanionFinishResponseSuccess",["WASmaxInMdIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInMdIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseCompanionFinishResponseSuccess=a}),98);
__d("WASmaxInMdIQErrorFeatureNotAvailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-available");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",452);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotAvailableMixin=a}),98);
__d("WASmaxInMdIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInMdIQErrorRateOverlimitMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","rate-overlimit");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",429);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorRateOverlimitMixin=a}),98);
__d("WASmaxInMdIqMixinErrors",["WAResultOrError","WASmaxInMdIQErrorBadRequestMixin","WASmaxInMdIQErrorFeatureNotAvailableMixin","WASmaxInMdIQErrorForbiddenMixin","WASmaxInMdIQErrorInternalServerErrorMixin","WASmaxInMdIQErrorRateOverlimitMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:b.value});var c=d("WASmaxInMdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:c.value});var e=d("WASmaxInMdIQErrorFeatureNotAvailableMixin").parseIQErrorFeatureNotAvailableMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorFeatureNotAvailable",value:e.value});var f=d("WASmaxInMdIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:f.value});var g=d("WASmaxInMdIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(a);return g.success?d("WAResultOrError").makeResult({name:"IQErrorForbidden",value:g.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorInternalServerError","IQErrorBadRequest","IQErrorFeatureNotAvailable","IQErrorRateOverlimit","IQErrorForbidden"],[b,c,e,f,g])}g.parseIqMixinErrors=a}),98);
__d("WASmaxInMdCompanionHelloResponseError",["WAResultOrError","WASmaxInMdIQErrorResponseMixin","WASmaxInMdIqMixinErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInMdIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInMdIqMixinErrors").parseIqMixinErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorIqMixinErrors:b.value}))}g.parseCompanionHelloResponseError=a}),98);
__d("WASmaxInMdCompanionHelloResponseNotifyCompanion",["WAResultOrError","WASmaxInMdIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"link_code_companion_reg");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"link_code_pairing_ref");if(!e.success)return e;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"stage","companion_hello");if(!c.success)return c;e=d("WASmaxParseUtils").contentBytes(e.value);if(!e.success)return e;a=d("WASmaxInMdIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({linkCodeCompanionRegStage:c.value,linkCodeCompanionRegLinkCodePairingRefElementValue:e.value},a.value))}g.parseCompanionHelloResponseNotifyCompanion=a}),98);
__d("WASmaxInMdEnums",[],(function(a,b,c,d,e,f){a={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m"};b={"false":"false","true":"true"};f.ENUM_0_1_2_3_4_5_6_7_8_9_A_B_C_D_E_F_G_H_I_J_K_L_M=a;f.ENUM_FALSE_TRUE=b}),66);
__d("WASmaxInMdServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInMdPrimaryHelloNotifyCompanionRequest",["WAResultOrError","WASmaxInMdServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"link_code_companion_reg");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"link_code_pairing_wrapped_primary_ephemeral_pub");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"primary_identity_pub");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"link_code_pairing_ref");if(!f.success)return f;var g=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","link_code_companion_reg");if(!g.success)return g;var h=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!h.success)return h;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"stage","primary_hello");if(!b.success)return b;c=d("WASmaxParseUtils").contentBytes(c.value);if(!c.success)return c;e=d("WASmaxParseUtils").contentBytes(e.value);if(!e.success)return e;f=d("WASmaxParseUtils").contentBytes(f.value);if(!f.success)return f;a=d("WASmaxInMdServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({type:g.value,from:h.value,linkCodeCompanionRegStage:b.value,linkCodeCompanionRegLinkCodePairingWrappedPrimaryEphemeralPubElementValue:c.value,linkCodeCompanionRegPrimaryIdentityPubElementValue:e.value,linkCodeCompanionRegLinkCodePairingRefElementValue:f.value},a.value))}g.parsePrimaryHelloNotifyCompanionRequest=a}),98);
__d("WASmaxInMdRefreshCodeNotifyCompanionRequest",["WAResultOrError","WASmaxInMdEnums","WASmaxInMdServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"link_code_companion_reg");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"link_code_pairing_ref");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","link_code_companion_reg");if(!e.success)return e;var f=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!f.success)return f;var g=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"stage","refresh_code");if(!g.success)return g;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,b.value,"force_manual_refresh",d("WASmaxInMdEnums").ENUM_FALSE_TRUE);if(!b.success)return b;c=d("WASmaxParseUtils").contentBytes(c.value);if(!c.success)return c;a=d("WASmaxInMdServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({type:e.value,from:f.value,linkCodeCompanionRegStage:g.value,linkCodeCompanionRegForceManualRefresh:b.value,linkCodeCompanionRegLinkCodePairingRefElementValue:c.value},a.value))}g.parseRefreshCodeNotifyCompanionRequest=a}),98);
__d("WASmaxInMdSetRegRequest",["WAResultOrError","WASmaxInMdAESEncryptionMetadataMixin","WASmaxInMdBaseIQSetRequestMixin","WASmaxInMdEnums","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"biz");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"name");return!b.success?b:d("WAResultOrError").makeResult({name:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"client-props");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"encryption-metadata");if(!b.success)return b;b=d("WASmaxInMdAESEncryptionMetadataMixin").parseAESEncryptionMetadataMixin(a);return!b.success?b:b}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"iq");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"pair-success");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"device-identity");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"device");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"platform");if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(b.value,"biz",h);if(!g.success)return g;var k=d("WASmaxParseUtils").optionalChildWithTag(b.value,"client-props",i);if(!k.success)return k;b=d("WASmaxParseUtils").optionalChildWithTag(b.value,"encryption-metadata",j);if(!b.success)return b;var l=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!l.success)return l;var m=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"xmlns","md");if(!m.success)return m;c=d("WASmaxParseUtils").contentBytesRange(c.value,1,500);if(!c.success)return c;var n=d("WASmaxParseJid").attrDeviceJid(e.value,"jid");if(!n.success)return n;var o=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrDeviceJid,e.value,"lid");if(!o.success)return o;e=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,e.value,"beta",d("WASmaxInMdEnums").ENUM_FALSE_TRUE);if(!e.success)return e;f=d("WASmaxParseUtils").attrString(f.value,"name");if(!f.success)return f;a=d("WASmaxInMdBaseIQSetRequestMixin").parseBaseIQSetRequestMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:l.value,xmlns:m.value,pairSuccessDeviceIdentityElementValue:c.value,pairSuccessDeviceJid:n.value,pairSuccessDeviceLid:o.value,pairSuccessDeviceBeta:e.value,pairSuccessPlatformName:f.value},a.value,{pairSuccessBiz:g.value,pairSuccessClientProps:k.value,pairSuccessEncryptionMetadata:b.value}))}g.parseSetRegRequestPairSuccessBiz=h;g.parseSetRegRequestPairSuccessClientProps=i;g.parseSetRegRequestPairSuccessEncryptionMetadata=j;g.parseSetRegRequest=a}),98);
__d("WASmaxInMdSetToCompanionRequest",["WAResultOrError","WASmaxInMdBaseIQSetRequestMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"ref");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"iq");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"pair-device");if(!b.success)return b;var c=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"xmlns","md");if(!e.success)return e;a=d("WASmaxInMdBaseIQSetRequestMixin").parseBaseIQSetRequestMixin(a);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(b.value,"ref",6,6,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:c.value,xmlns:e.value},a.value,{pairDeviceRef:b.value}))}g.parseSetToCompanionRequestPairDeviceRef=h;g.parseSetToCompanionRequest=a}),98);
__d("WASmaxInMessageDeliverAdminEditMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","3");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseAdminEditMixin=a}),98);
__d("WASmaxInMessageDeliverAdminRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","8");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseAdminRevokeMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypeMediaMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","media");return!b.success?b:d("WAResultOrError").makeResult({type:b.value})}g.parseContentTypeMediaMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypePollCreationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","poll");if(!a.success)return a;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"polltype","creation");if(!c.success)return c;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,b.value,"contenttype");return!b.success?b:d("WAResultOrError").makeResult({type:a.value,metaPolltype:c.value,metaContenttype:b.value})}g.parseContentTypePollCreationMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypePollResultSnapshotMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","poll");if(!a.success)return a;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"polltype","result_snapshot");return!b.success?b:d("WAResultOrError").makeResult({type:a.value,metaPolltype:b.value})}g.parseContentTypePollResultSnapshotMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypePollVoteMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","poll");if(!a.success)return a;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"polltype","vote");if(!c.success)return c;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,b.value,"contenttype");return!b.success?b:d("WAResultOrError").makeResult({type:a.value,metaPolltype:c.value,metaContenttype:b.value})}g.parseContentTypePollVoteMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypeQuizCreationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","poll");if(!a.success)return a;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"polltype","quiz_creation");if(!c.success)return c;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,b.value,"contenttype");return!b.success?b:d("WAResultOrError").makeResult({type:a.value,metaPolltype:c.value,metaContenttype:b.value})}g.parseContentTypeQuizCreationMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypeReactionMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","reaction");return!b.success?b:d("WAResultOrError").makeResult({type:b.value})}g.parseContentTypeReactionMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypeTextMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","text");return!b.success?b:d("WAResultOrError").makeResult({type:b.value})}g.parseContentTypeTextMixin=a}),98);
__d("WASmaxInMessageDeliverContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup",["WAResultOrError","WASmaxInMessageDeliverContentTypeMediaMixin","WASmaxInMessageDeliverContentTypePollCreationMixin","WASmaxInMessageDeliverContentTypeQuizCreationMixin","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"ContentTypeText",value:b.value});var c=d("WASmaxInMessageDeliverContentTypeMediaMixin").parseContentTypeMediaMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"ContentTypeMedia",value:c.value});var e=d("WASmaxInMessageDeliverContentTypePollCreationMixin").parseContentTypePollCreationMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"ContentTypePollCreation",value:e.value});var f=d("WASmaxInMessageDeliverContentTypeQuizCreationMixin").parseContentTypeQuizCreationMixin(a);return f.success?d("WAResultOrError").makeResult({name:"ContentTypeQuizCreation",value:f.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["ContentTypeText","ContentTypeMedia","ContentTypePollCreation","ContentTypeQuizCreation"],[b,c,e,f])}g.parseContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup=a}),98);
__d("WASmaxInMessageDeliverEnums",["WAJids"],(function(a,b,c,d,e,f,g){a={0:"0",1:"1"};b={"1p_sticker":"1p_sticker",audio:"audio",avatar_sticker:"avatar_sticker",buttons_response:"buttons_response",cataloglink:"cataloglink",collection:"collection",contact:"contact",contact_array:"contact_array",document:"document",feed_reshare:"feed_reshare",genai_sticker:"genai_sticker",gif:"gif",group_history:"group_history",history:"history",image:"image",list_response:"list_response",location:"location",motion_photo:"motion_photo",motion_video:"motion_video",native_flow_response:"native_flow_response",order:"order",product:"product",productlink:"productlink",ptt:"ptt",ptv:"ptv",sticker:"sticker",sticker_pack:"sticker_pack",story_reply:"story_reply",url:"url",user_created_sticker:"user_created_sticker",vcard:"vcard",video:"video",xma:"xma"};c={"1p_sticker":"1p_sticker",audio:"audio",avatar_sticker:"avatar_sticker",cataloglink:"cataloglink",collection:"collection",document:"document",genai_sticker:"genai_sticker",gif:"gif",image:"image",motion_photo:"motion_photo",motion_video:"motion_video",productlink:"productlink",ptt:"ptt",ptv:"ptv",sticker:"sticker",sticker_pack:"sticker_pack",url:"url",user_created_sticker:"user_created_sticker",vcard:"vcard",video:"video"};e={1:"1",2:"2"};f={1:"1",3:"3"};var h={ACCEPT:"ACCEPT",REJECT:"REJECT",UNKNOWN:"UNKNOWN"},i={account_authentication_request:"account_authentication_request",address_message:"address_message",call_permission_request:"call_permission_request",form_message:"form_message",galaxy_message:"galaxy_message",menu_options:"menu_options"},j={address_message:"address_message",galaxy_message:"galaxy_message"},k={ads_manager:"ads_manager",graph_api:"graph_api",maiba:"maiba",maiba_ai_hub:"maiba_ai_hub",marketing_messages_with_optimizations:"marketing_messages_with_optimizations",unified_inbox:"unified_inbox"},l={ads_manager:"ads_manager",maiba:"maiba",maiba_ai_hub:"maiba_ai_hub",marketing_messages_with_optimizations:"marketing_messages_with_optimizations",third_party:"third_party",unified_inbox:"unified_inbox"},m={allowlist:"allowlist",contacts:"contacts",denylist:"denylist"},n={allow:"allow",bypass:"bypass",deny:"deny",error:"error"},o={ASPRESENTED:"ASPRESENTED",BIMONTHLY:"BIMONTHLY",DAILY:"DAILY",FORTNIGHTLY:"FORTNIGHTLY",HALFYEARLY:"HALFYEARLY",MONTHLY:"MONTHLY",ONETIME:"ONETIME",QUARTERLY:"QUARTERLY",UNKNOWN:"UNKNOWN",WEEKLY:"WEEKLY",YEARLY:"YEARLY"},p={audio:"audio",avatar_sticker:"avatar_sticker",buttons_response:"buttons_response",cataloglink:"cataloglink",contact:"contact",contact_array:"contact_array",document:"document",feed_reshare:"feed_reshare",gif:"gif",history:"history",image:"image",list_response:"list_response",location:"location",native_flow_response:"native_flow_response",order:"order",product:"product",productlink:"productlink",ptt:"ptt",ptv:"ptv",sticker:"sticker",story_reply:"story_reply",url:"url",vcard:"vcard",video:"video",xma:"xma"},q={br:"br",incentive:"incentive",p2m:"p2m",p2p:"p2p",payout:"payout",upi:"upi",upi_lite:"upi_lite"},r={buyer:"buyer",seller:"seller"},s={card:"card","net-banking":"net-banking",upi:"upi",wallet:"wallet"},t={creation:"creation",edit:"edit",response:"response"},u={"default":"default",group_history:"group_history",history:"history",member_tag:"member_tag"},v={delivery:"delivery",impressions:"impressions",link_clicks:"link_clicks",no_optimization:"no_optimization",offsite_conversions:"offsite_conversions",replies:"replies"},w={DEREGISTER:"DEREGISTER",INIT_TOP_UP:"INIT_TOP_UP",PAY:"PAY",TOP_UP:"TOP_UP"},x={ds:"ds",fc:"fc",ge:"ge"},y={EXACT:"EXACT",MAX:"MAX"},z={FAILED:"FAILED",PAID:"PAID",PENDING:"PENDING"},A={FAILURE:"FAILURE",INIT:"INIT",SUCCESS:"SUCCESS"},B={"false":"false","true":"true"},C={FBPAY:"FBPAY",UPI:"UPI"},D={first:"first",full:"full",inner:"inner",last:"last"},E={FULL:"FULL",MISSING_FIELD_NOT_PARTIAL:"MISSING_FIELD_NOT_PARTIAL",PARTIAL:"PARTIAL"},F={group:"group",sender:"sender"},G={guest:"guest",wa:"wa"},H={hd_image_dual_upload:"hd_image_dual_upload",hd_video_dual_upload:"hd_video_dual_upload",hevc_video_dual_upload:"hevc_video_dual_upload",media_poll:"media_poll",motion_photo:"motion_photo",sticker_annotation:"sticker_annotation"},I={high:"high",high_force:"high_force",low:"low"},J={high:"high",low:"low",unknown:"unknown"},K={hosted:"hosted",view_once:"view_once"},L={hpp_payment_link:"hpp_payment_link",upi:"upi"},M={lid:"lid",pn:"pn"},N={matched:"matched",unmatched:"unmatched"},O={message_limit_reached:"message_limit_reached",under_limit:"under_limit"},P={msg:"msg",pkmsg:"pkmsg"},Q={new_member:"new_member",rereg_recovery_request:"rereg_recovery_request",rereg_recovery_response:"rereg_recovery_response",user_delete:"user_delete",user_update:"user_update"},R={on_demand:"on_demand",scheduled:"scheduled"},S={p2m:"p2m",p2p:"p2p"},T={request:"request",send:"send"},U={smb_mm:"smb_mm",smb_promo:"smb_promo"},V={tier3:"tier3",tier6_matched:"tier6_matched",tier6_unmatched:"tier6_unmatched"},W={"":"",call_permission_request:"call_permission_request",catalog_message:"catalog_message",menu_options:"menu_options",order_details:"order_details",order_status:"order_status",otp:"otp",payment_info:"payment_info",payment_key_info:"payment_key_info",payment_method:"payment_method",payment_status:"payment_status",voice_call:"voice_call"},X={validators:[(d=d("WAJids")).validateDeviceJid,d.validateBroadcastJid,d.validateDeviceJid,d.validateGroupJid,d.validateInteropDeviceJid,d.validateInteropDeviceJid,d.validateStatusJid],typeName:"DeviceJid|BroadcastJid|DeviceJid|GroupJid|InteropDeviceJid|InteropDeviceJid|StatusJid"},Y={validators:[d.validateDeviceJid,d.validateDeviceJid],typeName:"DeviceJid|DeviceJid"},Z={validators:[d.validateDeviceJid,d.validateDeviceJid,d.validateInteropDeviceJid,d.validateInteropDeviceJid],typeName:"DeviceJid|DeviceJid|InteropDeviceJid|InteropDeviceJid"},$={validators:[d.validateDeviceJid,d.validateDeviceJid,d.validateUserJid,d.validateUserJid,d.validateDeviceJid,d.validateUserJid],typeName:"DeviceJid|DeviceJid|UserJid|UserJid|DeviceJid|UserJid"},aa={validators:[d.validateDeviceJid,d.validateDeviceJid,d.validateUserJid,d.validateUserJid,d.validateUserJid],typeName:"DeviceJid|DeviceJid|UserJid|UserJid|UserJid"},ba={validators:[d.validateGroupJid,d.validateUserJid],typeName:"GroupJid|UserJid"};d={validators:[d.validateUserJid,d.validateUserJid],typeName:"UserJid|UserJid"};g.ENUM_0_1=a;g.ENUM_1PSTICKER_AUDIO_AVATARSTICKER_BUTTONSRESPONSE_CATALOGLINK_COLLECTION_CONTACT_CONTACTARRAY_DOCUMENT_FEEDRESHARE_GENAISTICKER_GIF_GROUPHISTORY_HISTORY_IMAGE_LISTRESPONSE_LOCATION_MOTIONPHOTO_MOTIONVIDEO_NATIVEFLOWRESPONSE_ORDER_PRODUCT_PRODUCTLINK_PTT_PTV_STICKER_STICKERPACK_STORYREPLY_URL_USERCREATEDSTICKER_VCARD_VIDEO_XMA=b;g.ENUM_1PSTICKER_AUDIO_AVATARSTICKER_CATALOGLINK_COLLECTION_DOCUMENT_GENAISTICKER_GIF_IMAGE_MOTIONPHOTO_MOTIONVIDEO_PRODUCTLINK_PTT_PTV_STICKER_STICKERPACK_URL_USERCREATEDSTICKER_VCARD_VIDEO=c;g.ENUM_1_2=e;g.ENUM_1_3=f;g.ENUM_ACCEPT_REJECT_UNKNOWN=h;g.ENUM_ACCOUNTAUTHENTICATIONREQUEST_ADDRESSMESSAGE_CALLPERMISSIONREQUEST_FORMMESSAGE_GALAXYMESSAGE_MENUOPTIONS=i;g.ENUM_ADDRESSMESSAGE_GALAXYMESSAGE=j;g.ENUM_ADSMANAGER_GRAPHAPI_MAIBA_MAIBAAIHUB_MARKETINGMESSAGESWITHOPTIMIZATIONS_UNIFIEDINBOX=k;g.ENUM_ADSMANAGER_MAIBA_MAIBAAIHUB_MARKETINGMESSAGESWITHOPTIMIZATIONS_THIRDPARTY_UNIFIEDINBOX=l;g.ENUM_ALLOWLIST_CONTACTS_DENYLIST=m;g.ENUM_ALLOW_BYPASS_DENY_ERROR=n;g.ENUM_ASPRESENTED_BIMONTHLY_DAILY_FORTNIGHTLY_HALFYEARLY_MONTHLY_ONETIME_QUARTERLY_UNKNOWN_WEEKLY_YEARLY=o;g.ENUM_AUDIO_AVATARSTICKER_BUTTONSRESPONSE_CATALOGLINK_CONTACT_CONTACTARRAY_DOCUMENT_FEEDRESHARE_GIF_HISTORY_IMAGE_LISTRESPONSE_LOCATION_NATIVEFLOWRESPONSE_ORDER_PRODUCT_PRODUCTLINK_PTT_PTV_STICKER_STORYREPLY_URL_VCARD_VIDEO_XMA=p;g.ENUM_BR_INCENTIVE_P2M_P2P_PAYOUT_UPI_UPILITE=q;g.ENUM_BUYER_SELLER=r;g.ENUM_CARD_NETBANKING_UPI_WALLET=s;g.ENUM_CREATION_EDIT_RESPONSE=t;g.ENUM_DEFAULTP_GROUPHISTORY_HISTORY_MEMBERTAG=u;g.ENUM_DELIVERY_IMPRESSIONS_LINKCLICKS_NOOPTIMIZATION_OFFSITECONVERSIONS_REPLIES=v;g.ENUM_DEREGISTER_INITTOPUP_PAY_TOPUP=w;g.ENUM_DS_FC_GE=x;g.ENUM_EXACT_MAX=y;g.ENUM_FAILED_PAID_PENDING=z;g.ENUM_FAILURE_INIT_SUCCESS=A;g.ENUM_FALSE_TRUE=B;g.ENUM_FBPAY_UPI=C;g.ENUM_FIRST_FULL_INNER_LAST=D;g.ENUM_FULL_MISSINGFIELDNOTPARTIAL_PARTIAL=E;g.ENUM_GROUP_SENDER=F;g.ENUM_GUEST_WA=G;g.ENUM_HDIMAGEDUALUPLOAD_HDVIDEODUALUPLOAD_HEVCVIDEODUALUPLOAD_MEDIAPOLL_MOTIONPHOTO_STICKERANNOTATION=H;g.ENUM_HIGH_HIGHFORCE_LOW=I;g.ENUM_HIGH_LOW_UNKNOWN=J;g.ENUM_HOSTED_VIEWONCE=K;g.ENUM_HPPPAYMENTLINK_UPI=L;g.ENUM_LID_PN=M;g.ENUM_MATCHED_UNMATCHED=N;g.ENUM_MESSAGELIMITREACHED_UNDERLIMIT=O;g.ENUM_MSG_PKMSG=P;g.ENUM_NEWMEMBER_REREGRECOVERYREQUEST_REREGRECOVERYRESPONSE_USERDELETE_USERUPDATE=Q;g.ENUM_ONDEMAND_SCHEDULED=R;g.ENUM_P2M_P2P=S;g.ENUM_REQUEST_SEND=T;g.ENUM_SMBMM_SMBPROMO=U;g.ENUM_TIER3_TIER6MATCHED_TIER6UNMATCHED=V;g.ENUM__CALLPERMISSIONREQUEST_CATALOGMESSAGE_MENUOPTIONS_ORDERDETAILS_ORDERSTATUS_OTP_PAYMENTINFO_PAYMENTKEYINFO_PAYMENTMETHOD_PAYMENTSTATUS_VOICECALL=W;g.DEVICEJID_BROADCASTJID_DEVICEJID_GROUPJID_INTEROPDEVICEJID_INTEROPDEVICEJID_STATUSJID=X;g.DEVICEJID_DEVICEJID=Y;g.DEVICEJID_DEVICEJID_INTEROPDEVICEJID_INTEROPDEVICEJID=Z;g.DEVICEJID_DEVICEJID_USERJID_USERJID_DEVICEJID_USERJID=$;g.DEVICEJID_DEVICEJID_USERJID_USERJID_USERJID=aa;g.GROUPJID_USERJID=ba;g.USERJID_USERJID=d}),98);
__d("WASmaxInMessageDeliverMessageAssociationTypeMixin",["WAResultOrError","WASmaxInMessageDeliverEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").attrStringEnum(b.value,"message_association_type",d("WASmaxInMessageDeliverEnums").ENUM_HDIMAGEDUALUPLOAD_HDVIDEODUALUPLOAD_HEVCVIDEODUALUPLOAD_MEDIAPOLL_MOTIONPHOTO_STICKERANNOTATION);return!a.success?a:d("WAResultOrError").makeResult({metaMessageAssociationType:a.value})}g.parseMessageAssociationTypeMixin=a}),98);
__d("WASmaxInMessageDeliverPayloadMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,1,1048576);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}g.parsePayloadMixin=a}),98);
__d("WASmaxInMessageDeliverWAMOSubMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"is_wamo_sub","true");return!a.success?a:d("WAResultOrError").makeResult({metaIsWamoSub:a.value})}g.parseWAMOSubMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterMediaMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeMediaMixin","WASmaxInMessageDeliverEnums","WASmaxInMessageDeliverMessageAssociationTypeMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;var c=d("WASmaxParseUtils").attrStringEnum(b.value,"mediatype",d("WASmaxInMessageDeliverEnums").ENUM_1PSTICKER_AUDIO_AVATARSTICKER_CATALOGLINK_COLLECTION_DOCUMENT_GENAISTICKER_GIF_IMAGE_MOTIONPHOTO_MOTIONVIDEO_PRODUCTLINK_PTT_PTV_STICKER_STICKERPACK_URL_USERCREATEDSTICKER_VCARD_VIDEO);if(!c.success)return c;b=d("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(b.value);if(!b.success)return b;var e=d("WASmaxInMessageDeliverContentTypeMediaMixin").parseContentTypeMediaMixin(a);if(!e.success)return e;var f=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);a=d("WASmaxInMessageDeliverMessageAssociationTypeMixin").parseMessageAssociationTypeMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({plaintextMediatype:c.value,plaintextPayloadMixin:b.value},e.value,{wAMOSubMixin:f.success?f.value:null,messageAssociationTypeMixin:a.success?a.value:null}))}g.parseNewsletterMediaMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterTextMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(b.value);if(!b.success)return b;var c=d("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(a);if(!c.success)return c;a=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({plaintextPayloadMixin:b.value},c.value,{wAMOSubMixin:a.success?a.value:null}))}g.parseNewsletterTextMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup",["WAResultOrError","WASmaxInMessageDeliverNewsletterMediaMixin","WASmaxInMessageDeliverNewsletterTextMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMessageDeliverNewsletterTextMixin").parseNewsletterTextMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"NewsletterText",value:b.value});var c=d("WASmaxInMessageDeliverNewsletterMediaMixin").parseNewsletterMediaMixin(a);return c.success?d("WAResultOrError").makeResult({name:"NewsletterMedia",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["NewsletterText","NewsletterMedia"],[b,c])}g.parseNewsletterTextOrMediaMixinGroup=a}),98);
__d("WASmaxInMessageDeliverQuestionTypeReplyMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"questiontype","reply");return!a.success?a:d("WAResultOrError").makeResult({metaQuestiontype:a.value})}g.parseQuestionTypeReplyMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionReplyMixin",["WAResultOrError","WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup","WASmaxInMessageDeliverQuestionTypeReplyMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxInMessageDeliverQuestionTypeReplyMixin").parseQuestionTypeReplyMixin(a);if(!b.success)return b;var c=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);a=d("WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup").parseNewsletterTextOrMediaMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{wAMOSubMixin:c.success?c.value:null,newsletterTextOrMediaMixinGroup:a.value}))}g.parseNewsletterQuestionReplyMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionReplyOrTextOrMediaMixinGroup",["WAResultOrError","WASmaxInMessageDeliverNewsletterMediaMixin","WASmaxInMessageDeliverNewsletterQuestionReplyMixin","WASmaxInMessageDeliverNewsletterTextMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMessageDeliverNewsletterQuestionReplyMixin").parseNewsletterQuestionReplyMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"NewsletterQuestionReply",value:b.value});var c=d("WASmaxInMessageDeliverNewsletterTextMixin").parseNewsletterTextMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"NewsletterText",value:c.value});var e=d("WASmaxInMessageDeliverNewsletterMediaMixin").parseNewsletterMediaMixin(a);return e.success?d("WAResultOrError").makeResult({name:"NewsletterMedia",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["NewsletterQuestionReply","NewsletterText","NewsletterMedia"],[b,c,e])}g.parseNewsletterQuestionReplyOrTextOrMediaMixinGroup=a}),98);
__d("WASmaxInMessageDeliverNewsletterEditMixin",["WAResultOrError","WASmaxInMessageDeliverAdminEditMixin","WASmaxInMessageDeliverNewsletterQuestionReplyOrTextOrMediaMixinGroup","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxInMessageDeliverAdminEditMixin").parseAdminEditMixin(a);if(!b.success)return b;var c=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);a=d("WASmaxInMessageDeliverNewsletterQuestionReplyOrTextOrMediaMixinGroup").parseNewsletterQuestionReplyOrTextOrMediaMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{wAMOSubMixin:c.success?c.value:null,newsletterQuestionReplyOrTextOrMediaMixinGroup:a.value}))}g.parseNewsletterEditMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterPollCreationMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypePollCreationMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(b.value);if(!b.success)return b;var c=d("WASmaxInMessageDeliverContentTypePollCreationMixin").parseContentTypePollCreationMixin(a);if(!c.success)return c;a=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({plaintextPayloadMixin:b.value},c.value,{wAMOSubMixin:a.success?a.value:null}))}g.parseNewsletterPollCreationMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterPollResultSnapshotMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypePollResultSnapshotMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(b.value);if(!b.success)return b;var c=d("WASmaxInMessageDeliverContentTypePollResultSnapshotMixin").parseContentTypePollResultSnapshotMixin(a);if(!c.success)return c;a=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({plaintextPayloadMixin:b.value},c.value,{wAMOSubMixin:a.success?a.value:null}))}g.parseNewsletterPollResultSnapshotMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterPollVoteMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypePollVoteMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"vote");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,32,32);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"votes");if(!b.success)return b;a=d("WASmaxInMessageDeliverContentTypePollVoteMixin").parseContentTypePollVoteMixin(a);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(b.value,"vote",0,1e3,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{votesVote:b.value}))}g.parseNewsletterPollVoteVotesVote=h;g.parseNewsletterPollVoteMixin=a}),98);
__d("WASmaxInMessageDeliverQuestionTypeQuestionMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"questiontype","question");return!a.success?a:d("WAResultOrError").makeResult({metaQuestiontype:a.value})}g.parseQuestionTypeQuestionMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionMixin",["WAResultOrError","WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup","WASmaxInMessageDeliverQuestionTypeQuestionMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxInMessageDeliverQuestionTypeQuestionMixin").parseQuestionTypeQuestionMixin(a);if(!b.success)return b;var c=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);a=d("WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup").parseNewsletterTextOrMediaMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{wAMOSubMixin:c.success?c.value:null,newsletterTextOrMediaMixinGroup:a.value}))}g.parseNewsletterQuestionMixin=a}),98);
__d("WASmaxInMessageDeliverQuestionTypeResponseMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"questiontype","response");return!a.success?a:d("WAResultOrError").makeResult({metaQuestiontype:a.value})}g.parseQuestionTypeResponseMixin=a}),98);
__d("WASmaxInMessageDeliverResponseServerIDMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(b.value,"response_server_id");return!a.success?a:d("WAResultOrError").makeResult({metaResponseServerId:a.value})}g.parseResponseServerIDMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionResponseMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverQuestionTypeResponseMixin","WASmaxInMessageDeliverResponseServerIDMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(b.value);if(!b.success)return b;var c=d("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(a);if(!c.success)return c;var e=d("WASmaxInMessageDeliverQuestionTypeResponseMixin").parseQuestionTypeResponseMixin(a);if(!e.success)return e;a=d("WASmaxInMessageDeliverResponseServerIDMixin").parseResponseServerIDMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({plaintextPayloadMixin:b.value},c.value,e.value,a.value))}g.parseNewsletterQuestionResponseMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterQuizCreationMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeQuizCreationMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(b.value);if(!b.success)return b;var c=d("WASmaxInMessageDeliverContentTypeQuizCreationMixin").parseContentTypeQuizCreationMixin(a);if(!c.success)return c;a=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({plaintextPayloadMixin:b.value},c.value,{wAMOSubMixin:a.success?a.value:null}))}g.parseNewsletterQuizCreationMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterReactionMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeReactionMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"reaction");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(b.value,"code");if(!b.success)return b;a=d("WASmaxInMessageDeliverContentTypeReactionMixin").parseContentTypeReactionMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({reactionCode:b.value},a.value))}g.parseNewsletterReactionMixin=a}),98);
__d("WASmaxInMessageDeliverRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","7");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseRevokeMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterReactionRevokeMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeReactionMixin","WASmaxInMessageDeliverRevokeMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"reaction");if(!b.success)return b;b=d("WASmaxInMessageDeliverRevokeMixin").parseRevokeMixin(a);if(!b.success)return b;a=d("WASmaxInMessageDeliverContentTypeReactionMixin").parseContentTypeReactionMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,a.value))}g.parseNewsletterReactionRevokeMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterRevokeMixin",["WAResultOrError","WASmaxInMessageDeliverAdminRevokeMixin","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxInMessageDeliverAdminRevokeMixin").parseAdminRevokeMixin(a);if(!b.success)return b;var c=d("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(a);if(!c.success)return c;a=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,c.value,{wAMOSubMixin:a.success?a.value:null}))}g.parseNewsletterRevokeMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterWAMOEmptyMixin",["WAResultOrError","WASmaxInMessageDeliverAdminEditMixin","WASmaxInMessageDeliverAdminRevokeMixin","WASmaxInMessageDeliverContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;b=d("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(a);if(!b.success)return b;var c=d("WASmaxInMessageDeliverAdminRevokeMixin").parseAdminRevokeMixin(a),e=d("WASmaxInMessageDeliverAdminEditMixin").parseAdminEditMixin(a);a=d("WASmaxInMessageDeliverContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup").parseContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{adminRevokeMixin:c.success?c.value:null,adminEditMixin:e.success?e.value:null,contentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup:a.value}))}g.parseNewsletterWAMOEmptyMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterMessageFanoutContent",["WAResultOrError","WASmaxInMessageDeliverNewsletterEditMixin","WASmaxInMessageDeliverNewsletterMediaMixin","WASmaxInMessageDeliverNewsletterPollCreationMixin","WASmaxInMessageDeliverNewsletterPollResultSnapshotMixin","WASmaxInMessageDeliverNewsletterPollVoteMixin","WASmaxInMessageDeliverNewsletterQuestionMixin","WASmaxInMessageDeliverNewsletterQuestionReplyMixin","WASmaxInMessageDeliverNewsletterQuestionResponseMixin","WASmaxInMessageDeliverNewsletterQuizCreationMixin","WASmaxInMessageDeliverNewsletterReactionMixin","WASmaxInMessageDeliverNewsletterReactionRevokeMixin","WASmaxInMessageDeliverNewsletterRevokeMixin","WASmaxInMessageDeliverNewsletterTextMixin","WASmaxInMessageDeliverNewsletterWAMOEmptyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMessageDeliverNewsletterQuestionMixin").parseNewsletterQuestionMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"NewsletterQuestion",value:b.value});var c=d("WASmaxInMessageDeliverNewsletterQuestionResponseMixin").parseNewsletterQuestionResponseMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"NewsletterQuestionResponse",value:c.value});var e=d("WASmaxInMessageDeliverNewsletterEditMixin").parseNewsletterEditMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"NewsletterEdit",value:e.value});var f=d("WASmaxInMessageDeliverNewsletterQuestionReplyMixin").parseNewsletterQuestionReplyMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"NewsletterQuestionReply",value:f.value});var g=d("WASmaxInMessageDeliverNewsletterRevokeMixin").parseNewsletterRevokeMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"NewsletterRevoke",value:g.value});var h=d("WASmaxInMessageDeliverNewsletterTextMixin").parseNewsletterTextMixin(a);if(h.success)return d("WAResultOrError").makeResult({name:"NewsletterText",value:h.value});var i=d("WASmaxInMessageDeliverNewsletterMediaMixin").parseNewsletterMediaMixin(a);if(i.success)return d("WAResultOrError").makeResult({name:"NewsletterMedia",value:i.value});var j=d("WASmaxInMessageDeliverNewsletterReactionMixin").parseNewsletterReactionMixin(a);if(j.success)return d("WAResultOrError").makeResult({name:"NewsletterReaction",value:j.value});var k=d("WASmaxInMessageDeliverNewsletterReactionRevokeMixin").parseNewsletterReactionRevokeMixin(a);if(k.success)return d("WAResultOrError").makeResult({name:"NewsletterReactionRevoke",value:k.value});var l=d("WASmaxInMessageDeliverNewsletterPollCreationMixin").parseNewsletterPollCreationMixin(a);if(l.success)return d("WAResultOrError").makeResult({name:"NewsletterPollCreation",value:l.value});var m=d("WASmaxInMessageDeliverNewsletterQuizCreationMixin").parseNewsletterQuizCreationMixin(a);if(m.success)return d("WAResultOrError").makeResult({name:"NewsletterQuizCreation",value:m.value});var n=d("WASmaxInMessageDeliverNewsletterPollVoteMixin").parseNewsletterPollVoteMixin(a);if(n.success)return d("WAResultOrError").makeResult({name:"NewsletterPollVote",value:n.value});var o=d("WASmaxInMessageDeliverNewsletterPollResultSnapshotMixin").parseNewsletterPollResultSnapshotMixin(a);if(o.success)return d("WAResultOrError").makeResult({name:"NewsletterPollResultSnapshot",value:o.value});var p=d("WASmaxInMessageDeliverNewsletterWAMOEmptyMixin").parseNewsletterWAMOEmptyMixin(a);return p.success?d("WAResultOrError").makeResult({name:"NewsletterWAMOEmpty",value:p.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["NewsletterQuestion","NewsletterQuestionResponse","NewsletterEdit","NewsletterQuestionReply","NewsletterRevoke","NewsletterText","NewsletterMedia","NewsletterReaction","NewsletterReactionRevoke","NewsletterPollCreation","NewsletterQuizCreation","NewsletterPollVote","NewsletterPollResultSnapshot","NewsletterWAMOEmpty"],[b,c,e,f,g,h,i,j,k,l,m,n,o,p])}g.parseNewsletterMessageFanoutContent=a}),98);
__d("WASmaxInMessageDeliverNewsletterMessageLastEditTimestampMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(b.value,"msg_edit_t",15778656e5,41024736e5);return!a.success?a:d("WAResultOrError").makeResult({metaMsgEditT:a.value})}g.parseNewsletterMessageLastEditTimestampMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterMessageOriginalTimestampMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"meta");if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(b.value,"original_msg_t",1577865600,4102473600);return!a.success?a:d("WAResultOrError").makeResult({metaOriginalMsgT:a.value})}g.parseNewsletterMessageOriginalTimestampMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterMessageFanoutMixin",["WAResultOrError","WASmaxInMessageDeliverNewsletterMessageFanoutContent","WASmaxInMessageDeliverNewsletterMessageLastEditTimestampMixin","WASmaxInMessageDeliverNewsletterMessageOriginalTimestampMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!b.success)return b;var c=d("WASmaxParseUtils").attrIntRange(a,"server_id",99,2147476647);if(!c.success)return c;var e=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalLiteral(d("WASmaxParseUtils").attrString,a,"is_sender","true");if(!f.success)return f;var g=d("WASmaxInMessageDeliverNewsletterMessageOriginalTimestampMixin").parseNewsletterMessageOriginalTimestampMixin(a),h=d("WASmaxInMessageDeliverNewsletterMessageLastEditTimestampMixin").parseNewsletterMessageLastEditTimestampMixin(a);a=d("WASmaxInMessageDeliverNewsletterMessageFanoutContent").parseNewsletterMessageFanoutContent(a);return!a.success?a:d("WAResultOrError").makeResult({id:b.value,serverId:c.value,t:e.value,isSender:f.value,newsletterMessageOriginalTimestampMixin:g.success?g.value:null,newsletterMessageLastEditTimestampMixin:h.success?h.value:null,newsletterMessageFanoutContent:a.value})}g.parseNewsletterMessageFanoutMixin=a}),98);
__d("WASmaxInMessageDeliverOfflineMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrIntRange(a,"offline",0,12);return!a.success?a:d("WAResultOrError").makeResult({offline:a.value})}g.parseOfflineMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterMessageWithJIDMixin",["WAResultOrError","WASmaxInMessageDeliverNewsletterMessageFanoutMixin","WASmaxInMessageDeliverOfflineMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseJid").attrNewsletterJid(a,"from");if(!b.success)return b;var c=d("WASmaxInMessageDeliverNewsletterMessageFanoutMixin").parseNewsletterMessageFanoutMixin(a);if(!c.success)return c;a=d("WASmaxInMessageDeliverOfflineMixin").parseOfflineMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({from:b.value},c.value,{offlineMixin:a.success?a.value:null}))}g.parseNewsletterMessageWithJIDMixin=a}),98);
__d("WASmaxInMessageDeliverReceiverContentTypeMediaRCATMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeMediaMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"plaintext");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(a,"rcat");if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,b.value,"mediatype","url");if(!b.success)return b;c=d("WASmaxParseUtils").contentBytes(c.value);if(!c.success)return c;a=d("WASmaxInMessageDeliverContentTypeMediaMixin").parseContentTypeMediaMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({plaintextMediatype:b.value,rcatElementValue:c.value},a.value))}g.parseReceiverContentTypeMediaRCATMixin=a}),98);
__d("WASmaxInMessageDeliverNewsletterRequest",["WAResultOrError","WASmaxInMessageDeliverNewsletterMessageWithJIDMixin","WASmaxInMessageDeliverReceiverContentTypeMediaRCATMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"message");if(!b.success)return b;b=d("WASmaxInMessageDeliverNewsletterMessageWithJIDMixin").parseNewsletterMessageWithJIDMixin(a);if(!b.success)return b;a=d("WASmaxInMessageDeliverReceiverContentTypeMediaRCATMixin").parseReceiverContentTypeMediaRCATMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{receiverContentTypeMediaRCATMixin:a.success?a.value:null}))}g.parseNewsletterRequest=a}),98);
__d("WASmaxInMessageFallbackEnums",["WAJids"],(function(a,b,c,d,e,f,g){b={validators:[(a=d("WAJids")).validateBroadcastJid,a.validateCallJid,a.validateDeviceJid,a.validateDomainJid,a.validateGroupJid,a.validateStatusJid,a.validateUserJid],typeName:"BroadcastJid|CallJid|DeviceJid|DomainJid|GroupJid|StatusJid|UserJid"};g.BROADCASTJID_CALLJID_DEVICEJID_DOMAINJID_GROUPJID_STATUSJID_USERJID=b}),98);
__d("WASmaxInNewslettersServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInNewslettersCommonNotificationMixin",["WAResultOrError","WASmaxInNewslettersServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseJid").attrNewsletterJid(a,"from");if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","newsletter");if(!c.success)return c;a=d("WASmaxInNewslettersServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:b.value,type:c.value},a.value))}g.parseCommonNotificationMixin=a}),98);
__d("WASmaxInNewslettersLiveUpdatesNotificationRequest",["WAResultOrError","WASmaxInNewslettersCommonNotificationMixin","WASmaxInNewslettersNewsletterMessageResponsePayloadMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"live_updates");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(b.value,"messages");if(!b.success)return b;b=d("WASmaxInNewslettersNewsletterMessageResponsePayloadMixin").parseNewsletterMessageResponsePayloadMixin(b.value);if(!b.success)return b;a=d("WASmaxInNewslettersCommonNotificationMixin").parseCommonNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({liveUpdatesMessagesNewsletterMessageResponsePayloadMixin:b.value},a.value))}g.parseLiveUpdatesNotificationRequest=a}),98);
__d("WASmaxInPresenceEnums",["WAJids"],(function(a,b,c,d,e,f,g){a={deny:"deny",error:"error",none:"none"};b={validators:[d("WAJids").validateGroupJid,d("WAJids").validateUserJid],typeName:"GroupJid|UserJid"};g.ENUM_DENY_ERROR_NONE=a;g.GROUPJID_USERJID=b}),98);
__d("WASmaxInPresenceAvailableMixin",["WAResultOrError","WASmaxInPresenceEnums","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"presence");if(!b.success)return b;b=d("WASmaxParseJid").attrJidEnum(a,"from",d("WASmaxInPresenceEnums").GROUPJID_USERJID);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalLiteral(d("WASmaxParseUtils").attrString,a,"type","available");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"last");return!a.success?a:d("WAResultOrError").makeResult({from:b.value,type:c.value,last:a.value})}g.parseAvailableMixin=a}),98);
__d("WASmaxInPresenceGroupAvailableMixin",["WAResultOrError","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"presence");if(!b.success)return b;b=d("WASmaxParseJid").attrGroupJid(a,"from");if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"count",1,1024);return!a.success?a:d("WAResultOrError").makeResult({from:b.value,count:a.value})}g.parseGroupAvailableMixin=a}),98);
__d("WASmaxInPresenceGroupUnavailableMixin",["WAResultOrError","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"presence");if(!b.success)return b;b=d("WASmaxParseJid").attrGroupJid(a,"from");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","unavailable");return!a.success?a:d("WAResultOrError").makeResult({from:b.value,type:a.value})}g.parseGroupUnavailableMixin=a}),98);
__d("WASmaxInPresenceLastSeenWithOtherValueMixin",["WAResultOrError","WASmaxInPresenceEnums","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"presence");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"from");if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","unavailable");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,a,"last",d("WASmaxInPresenceEnums").ENUM_DENY_ERROR_NONE);return!a.success?a:d("WAResultOrError").makeResult({from:b.value,type:c.value,last:a.value})}g.parseLastSeenWithOtherValueMixin=a}),98);
__d("WASmaxInPresenceUserUnavailableMixin",["WAResultOrError","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"presence");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"from");if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","unavailable");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"last");return!a.success?a:d("WAResultOrError").makeResult({from:b.value,type:c.value,last:a.value})}g.parseUserUnavailableMixin=a}),98);
__d("WASmaxInPresencePresenceUpdates",["WAResultOrError","WASmaxInPresenceAvailableMixin","WASmaxInPresenceGroupAvailableMixin","WASmaxInPresenceGroupUnavailableMixin","WASmaxInPresenceLastSeenWithOtherValueMixin","WASmaxInPresenceUserUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInPresenceGroupAvailableMixin").parseGroupAvailableMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"GroupAvailable",value:b.value});var c=d("WASmaxInPresenceGroupUnavailableMixin").parseGroupUnavailableMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"GroupUnavailable",value:c.value});var e=d("WASmaxInPresenceLastSeenWithOtherValueMixin").parseLastSeenWithOtherValueMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"LastSeenWithOtherValue",value:e.value});var f=d("WASmaxInPresenceUserUnavailableMixin").parseUserUnavailableMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"UserUnavailable",value:f.value});var g=d("WASmaxInPresenceAvailableMixin").parseAvailableMixin(a);return g.success?d("WAResultOrError").makeResult({name:"Available",value:g.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["GroupAvailable","GroupUnavailable","LastSeenWithOtherValue","UserUnavailable","Available"],[b,c,e,f,g])}g.parsePresenceUpdates=a}),98);
__d("WASmaxInPresenceServerUpdateRequest",["WAResultOrError","WASmaxInPresencePresenceUpdates","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"presence");if(!b.success)return b;b=d("WASmaxInPresencePresenceUpdates").parsePresenceUpdates(a);return!b.success?b:d("WAResultOrError").makeResult({presenceUpdates:b.value})}g.parseServerUpdateRequest=a}),98);
__d("WASmaxInPsaServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInPsaResetSmbLastQpPrefetchTimestampRequest",["WAResultOrError","WASmaxInPsaServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"reset_smb_last_qp_prefetch_timestamp");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"from");if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","psa");if(!c.success)return c;a=d("WASmaxInPsaServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:b.value,type:c.value},a.value))}g.parseResetSmbLastQpPrefetchTimestampRequest=a}),98);
__d("WASmaxInQpSurfacesEnums",[],(function(a,b,c,d,e,f){a={"false":"false","true":"true"};f.ENUM_FALSE_TRUE=a}),66);
__d("WASmaxInQpSurfacesQPSurfacesMixin",["WAResultOrError","WASmaxInQpSurfacesEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"trigger");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"name");return!b.success?b:d("WAResultOrError").makeResult({name:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"header");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"title");return!b.success?b:d("WAResultOrError").makeResult({title:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"light");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"dark");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"image");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"light",j);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"dark",k);if(!c.success)return c;a=d("WASmaxParseUtils").attrString(a,"description");return!a.success?a:d("WAResultOrError").makeResult({description:a.value,light:b.value,dark:c.value})}function m(a){var b=d("WASmaxParseUtils").assertTag(a,"primary_action");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"text");if(!b.success)return b;var c=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"universal_link");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"deep_link");return!a.success?a:d("WAResultOrError").makeResult({text:b.value,universalLink:c.value,deepLink:a.value})}function n(a){var b=d("WASmaxParseUtils").assertTag(a,"secondary_action");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"text");if(!b.success)return b;var c=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"universal_link");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"deep_link");return!a.success?a:d("WAResultOrError").makeResult({text:b.value,universalLink:c.value,deepLink:a.value})}function o(a){var b=d("WASmaxParseUtils").assertTag(a,"colors");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"light");if(!b.success)return b;a=d("WASmaxParseUtils").flattenedChildWithTag(a,"dark");if(!a.success)return a;var c=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,b.value,"background");if(!c.success)return c;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,b.value,"highlight");if(!b.success)return b;var e=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a.value,"background");if(!e.success)return e;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a.value,"highlight");return!a.success?a:d("WAResultOrError").makeResult({lightBackground:c.value,lightHighlight:b.value,darkBackground:e.value,darkHighlight:a.value})}function p(a){var b=d("WASmaxParseUtils").assertTag(a,"attribute");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"key");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"value");return!a.success?a:d("WAResultOrError").makeResult({key:b.value,value:a.value})}function q(a){var b=d("WASmaxParseUtils").assertTag(a,"content_attributes");if(!b.success)return b;b=d("WASmaxParseUtils").mapChildrenWithTag(a,"attribute",0,50,p);return!b.success?b:d("WAResultOrError").makeResult({attribute:b.value})}function r(a){var b=d("WASmaxParseUtils").assertTag(a,"filter_rules");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function s(a){var b=d("WASmaxParseUtils").assertTag(a,"instance_log_data");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytes(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function t(a){var b=d("WASmaxParseUtils").assertTag(a,"promotion_config");if(!b.success)return b;b=d("WASmaxParseUtils").attrInt(a,"max_impressions");if(!b.success)return b;var c=d("WASmaxParseUtils").attrInt(a,"max_primary_clicks");if(!c.success)return c;var e=d("WASmaxParseUtils").attrInt(a,"max_secondary_clicks");if(!e.success)return e;a=d("WASmaxParseUtils").attrInt(a,"max_dismisses");return!a.success?a:d("WAResultOrError").makeResult({maxImpressions:b.value,maxPrimaryClicks:c.value,maxSecondaryClicks:e.value,maxDismisses:a.value})}function u(a){var b=d("WASmaxParseUtils").assertTag(a,"user_info");if(!b.success)return b;b=d("WASmaxParseUtils").attrInt(a,"impression_count");if(!b.success)return b;var c=d("WASmaxParseUtils").attrInt(a,"primary_click_count");if(!c.success)return c;var e=d("WASmaxParseUtils").attrInt(a,"secondary_click_count");if(!e.success)return e;a=d("WASmaxParseUtils").attrInt(a,"dismiss_click_count");return!a.success?a:d("WAResultOrError").makeResult({impressionCount:b.value,primaryClickCount:c.value,secondaryClickCount:e.value,dismissClickCount:a.value})}function v(a){var b=d("WASmaxParseUtils").assertTag(a,"pacing");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"promotion_config",t);if(!b.success)return b;a=d("WASmaxParseUtils").optionalChildWithTag(a,"user_info",u);return!a.success?a:d("WAResultOrError").makeResult({promotionConfig:b.value,userInfo:a.value})}function w(a){var b=d("WASmaxParseUtils").assertTag(a,"promotion");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"title");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(a,"text");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(a,"qp_config");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(e.value,"triggers");if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(a,"header",i);if(!g.success)return g;var j=d("WASmaxParseUtils").optionalChildWithTag(a,"image",l);if(!j.success)return j;var k=d("WASmaxParseUtils").optionalChildWithTag(a,"primary_action",m);if(!k.success)return k;var p=d("WASmaxParseUtils").optionalChildWithTag(a,"secondary_action",n);if(!p.success)return p;var t=d("WASmaxParseUtils").optionalChildWithTag(a,"colors",o);if(!t.success)return t;var u=d("WASmaxParseUtils").optionalChildWithTag(a,"content_attributes",q);if(!u.success)return u;var w=d("WASmaxParseUtils").optionalChildWithTag(e.value,"filter_rules",r);if(!w.success)return w;var x=d("WASmaxParseUtils").optionalChildWithTag(e.value,"instance_log_data",s);if(!x.success)return x;var y=d("WASmaxParseUtils").optionalChildWithTag(e.value,"pacing",v);if(!y.success)return y;var z=d("WASmaxParseUtils").attrString(a,"id");if(!z.success)return z;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"instance_id");if(!a.success)return a;b=d("WASmaxParseUtils").contentString(b.value);if(!b.success)return b;c=d("WASmaxParseUtils").contentString(c.value);if(!c.success)return c;var A=d("WASmaxParseUtils").attrString(e.value,"template_name");if(!A.success)return A;var B=d("WASmaxParseUtils").attrInt(e.value,"start_time_seconds");if(!B.success)return B;var C=d("WASmaxParseUtils").attrInt(e.value,"end_time_seconds");if(!C.success)return C;var D=d("WASmaxParseUtils").attrInt(e.value,"ttl_seconds");if(!D.success)return D;var E=d("WASmaxParseUtils").attrStringEnum(e.value,"dismissable",d("WASmaxInQpSurfacesEnums").ENUM_FALSE_TRUE);if(!E.success)return E;var F=d("WASmaxParseUtils").attrStringEnum(e.value,"force_pass",d("WASmaxInQpSurfacesEnums").ENUM_FALSE_TRUE);if(!F.success)return F;var G=d("WASmaxParseUtils").attrInt(e.value,"surface_delay_time_seconds");if(!G.success)return G;var H=d("WASmaxParseUtils").attrStringEnum(e.value,"deterministic",d("WASmaxInQpSurfacesEnums").ENUM_FALSE_TRUE);if(!H.success)return H;var I=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,e.value,"experiment_key");if(!I.success)return I;var J=d("WASmaxParseUtils").attrStringEnum(e.value,"exposure_holdout",d("WASmaxInQpSurfacesEnums").ENUM_FALSE_TRUE);if(!J.success)return J;var K=d("WASmaxParseUtils").attrInt(e.value,"max_impressions");if(!K.success)return K;var L=d("WASmaxParseUtils").attrInt(e.value,"impression_cooldown");if(!L.success)return L;var M=d("WASmaxParseUtils").attrInt(e.value,"eligibility_duration_ms");if(!M.success)return M;var N=d("WASmaxParseUtils").attrInt(e.value,"priority");if(!N.success)return N;e=d("WASmaxParseUtils").attrStringEnum(e.value,"log_eligibility_waterfall",d("WASmaxInQpSurfacesEnums").ENUM_FALSE_TRUE);if(!e.success)return e;f=d("WASmaxParseUtils").mapChildrenWithTag(f.value,"trigger",1,50,h);return!f.success?f:d("WAResultOrError").makeResult({id:z.value,instanceId:a.value,titleElementValue:b.value,textElementValue:c.value,qpConfigTemplateName:A.value,qpConfigStartTimeSeconds:B.value,qpConfigEndTimeSeconds:C.value,qpConfigTtlSeconds:D.value,qpConfigDismissable:E.value,qpConfigForcePass:F.value,qpConfigSurfaceDelayTimeSeconds:G.value,qpConfigDeterministic:H.value,qpConfigExperimentKey:I.value,qpConfigExposureHoldout:J.value,qpConfigMaxImpressions:K.value,qpConfigImpressionCooldown:L.value,qpConfigEligibilityDurationMs:M.value,qpConfigPriority:N.value,qpConfigLogEligibilityWaterfall:e.value,header:g.value,image:j.value,primaryAction:k.value,secondaryAction:p.value,colors:t.value,contentAttributes:u.value,qpConfigFilterRules:w.value,qpConfigInstanceLogData:x.value,qpConfigPacing:y.value,qpConfigTriggersTrigger:f.value})}function x(a){var b=d("WASmaxParseUtils").assertTag(a,"surface");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;a=d("WASmaxParseUtils").mapChildrenWithTag(a,"promotion",0,100,w);return!a.success?a:d("WAResultOrError").makeResult({id:b.value,promotion:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"surfaces");if(!b.success)return b;b=d("WASmaxParseUtils").mapChildrenWithTag(a,"surface",0,100,x);return!b.success?b:d("WAResultOrError").makeResult({surface:b.value})}g.parseQPSurfacesSurfacePromotionQpConfigTriggersTrigger=h;g.parseQPSurfacesSurfacePromotionHeader=i;g.parseQPSurfacesSurfacePromotionImageLight=j;g.parseQPSurfacesSurfacePromotionImageDark=k;g.parseQPSurfacesSurfacePromotionImage=l;g.parseQPSurfacesSurfacePromotionPrimaryAction=m;g.parseQPSurfacesSurfacePromotionSecondaryAction=n;g.parseQPSurfacesSurfacePromotionColors=o;g.parseQPSurfacesSurfacePromotionContentAttributesAttribute=p;g.parseQPSurfacesSurfacePromotionContentAttributes=q;g.parseQPSurfacesSurfacePromotionQpConfigFilterRules=r;g.parseQPSurfacesSurfacePromotionQpConfigInstanceLogData=s;g.parseQPSurfacesSurfacePromotionQpConfigPacingPromotionConfig=t;g.parseQPSurfacesSurfacePromotionQpConfigPacingUserInfo=u;g.parseQPSurfacesSurfacePromotionQpConfigPacing=v;g.parseQPSurfacesSurfacePromotion=w;g.parseQPSurfacesSurface=x;g.parseQPSurfacesMixin=a}),98);
__d("WASmaxInQpSurfacesServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInQpSurfacesQPNotificationRequest",["WAResultOrError","WASmaxInQpSurfacesQPSurfacesMixin","WASmaxInQpSurfacesServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"surfaces");if(!b.success)return b;var c=d("WASmaxParseJid").attrUserJid(a,"from");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","psa");if(!e.success)return e;b=d("WASmaxInQpSurfacesQPSurfacesMixin").parseQPSurfacesMixin(b.value);if(!b.success)return b;a=d("WASmaxInQpSurfacesServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:c.value,type:e.value,surfacesQPSurfacesMixin:b.value},a.value))}g.parseQPNotificationRequest=a}),98);
__d("WASmaxInWaffleEnums",[],(function(a,b,c,d,e,f){a={"false":"false","true":"true"};f.ENUM_FALSE_TRUE=a}),66);
__d("WASmaxInWaffleIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInWaffleIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInWaffleIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInWaffleIQErrorNotAllowedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","not-allowed");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",405);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorNotAllowedMixin=a}),98);
__d("WASmaxInWaffleIQErrorRateOverlimitMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","rate-overlimit");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",429);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorRateOverlimitMixin=a}),98);
__d("WASmaxInWaffleIQErrorRequestTimeoutMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","request-timeout");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",408);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorRequestTimeoutMixin=a}),98);
__d("WASmaxInWaffleIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInWaffleGetCertificateErrors",["WAResultOrError","WASmaxInWaffleIQErrorBadRequestMixin","WASmaxInWaffleIQErrorFeatureNotImplementedMixin","WASmaxInWaffleIQErrorInternalServerErrorMixin","WASmaxInWaffleIQErrorNotAllowedMixin","WASmaxInWaffleIQErrorRateOverlimitMixin","WASmaxInWaffleIQErrorRequestTimeoutMixin","WASmaxInWaffleIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInWaffleIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInWaffleIQErrorRequestTimeoutMixin").parseIQErrorRequestTimeoutMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorRequestTimeout",value:c.value});var e=d("WASmaxInWaffleIQErrorNotAllowedMixin").parseIQErrorNotAllowedMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAllowed",value:e.value});var f=d("WASmaxInWaffleIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:f.value});var g=d("WASmaxInWaffleIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:g.value});var h=d("WASmaxInWaffleIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);if(h.success)return d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:h.value});var i=d("WASmaxInWaffleIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);return i.success?d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:i.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorRequestTimeout","IQErrorNotAllowed","IQErrorInternalServerError","IQErrorRateOverlimit","IQErrorServiceUnavailable","IQErrorFeatureNotImplemented"],[b,c,e,f,g,h,i])}g.parseGetCertificateErrors=a}),98);
__d("WASmaxInWaffleIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInWaffleGetCertificateResponseError",["WAResultOrError","WASmaxInWaffleGetCertificateErrors","WASmaxInWaffleIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInWaffleIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInWaffleGetCertificateErrors").parseGetCertificateErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorGetCertificateErrors:b.value}))}g.parseGetCertificateResponseError=a}),98);
__d("WASmaxInWaffleGetCertificateResponseMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"encryption_pem");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"ttl",1,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").contentBytesRange(a,1,4092);return!a.success?a:d("WAResultOrError").makeResult({ttl:b.value,elementValue:a.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"signature_pem");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"ttl",1,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").contentBytesRange(a,1,4092);return!a.success?a:d("WAResultOrError").makeResult({ttl:b.value,elementValue:a.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"password_pem");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"ttl",1,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrIntRange(a,"key_id",1,void 0);if(!c.success)return c;a=d("WASmaxParseUtils").contentBytesRange(a,1,4092);return!a.success?a:d("WAResultOrError").makeResult({ttl:b.value,keyId:c.value,elementValue:a.value})}function a(a){var b=d("WASmaxParseUtils").optionalChildWithTag(a,"encryption_pem",h);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"signature_pem",i);if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"password_pem",j);if(!e.success)return e;a=d("WASmaxParseUtils").attrIntRange(a,"timestamp",1,void 0);return!a.success?a:d("WAResultOrError").makeResult({timestamp:a.value,encryptionPem:b.value,signaturePem:c.value,passwordPem:e.value})}g.parseGetCertificateResponseEncryptionPem=h;g.parseGetCertificateResponseSignaturePem=i;g.parseGetCertificateResponsePasswordPem=j;g.parseGetCertificateResponseMixin=a}),98);
__d("WASmaxInWaffleIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInWaffleGetCertificateResponseSuccess",["WAResultOrError","WASmaxInWaffleGetCertificateResponseMixin","WASmaxInWaffleIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"reply");if(!c.success)return c;c=d("WASmaxInWaffleGetCertificateResponseMixin").parseGetCertificateResponseMixin(c.value);if(!c.success)return c;a=d("WASmaxInWaffleIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({replyGetCertificateResponseMixin:c.value},a.value))}g.parseGetCertificateResponseSuccess=a}),98);
__d("WASmaxInWaffleIQErrorConflictMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","conflict");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",409);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorConflictMixin=a}),98);
__d("WASmaxInWaffleIQErrorNotAuthorizedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","not-authorized");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",401);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorNotAuthorizedMixin=a}),98);
__d("WASmaxInWaffleIQErrorPayloadEncDecMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","payload-enc-dec-failed");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",480);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorPayloadEncDecMixin=a}),98);
__d("WASmaxInWaffleIQErrorWFNotAuthorizedInvalidPasswordMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","wf-not-authorized-invalid-password");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",416);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorWFNotAuthorizedInvalidPasswordMixin=a}),98);
__d("WASmaxInWaffleIQErrorWFNotFoundMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","wf-not-found");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",483);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorWFNotFoundMixin=a}),98);
__d("WASmaxInWaffleIQErrorWFStateMismatchMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","wf-state-mismatch");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",485);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorWFStateMismatchMixin=a}),98);
__d("WASmaxInWaffleIQErrorWFSuspendedMixin",["WAResultOrError","WASmaxInWaffleEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","wf-suspended");if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",484);if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,a,"ndc",d("WASmaxInWaffleEnums").ENUM_FALSE_TRUE);if(!e.success)return e;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,a,"npr",d("WASmaxInWaffleEnums").ENUM_FALSE_TRUE);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:c.value,ndc:e.value,npr:a.value})}g.parseIQErrorWFSuspendedMixin=a}),98);
__d("WASmaxInWaffleRSAEncryptionMetadataMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").flattenedChildWithTag(a,"encrypted_key");if(!b.success)return b;var c=d("WASmaxParseUtils").flattenedChildWithTag(a,"nonce");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(a,"encrypted_data");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(a,"auth_tag");if(!f.success)return f;var g=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"version","1");if(!g.success)return g;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"algorithm","rsa2048");if(!a.success)return a;b=d("WASmaxParseUtils").contentBytesRange(b.value,1,2048);if(!b.success)return b;c=d("WASmaxParseUtils").contentBytesRange(c.value,1,128);if(!c.success)return c;e=d("WASmaxParseUtils").contentBytesRange(e.value,1,8192);if(!e.success)return e;f=d("WASmaxParseUtils").contentBytesRange(f.value,1,128);return!f.success?f:d("WAResultOrError").makeResult({version:g.value,algorithm:a.value,encryptedKeyElementValue:b.value,nonceElementValue:c.value,encryptedDataElementValue:e.value,authTagElementValue:f.value})}g.parseRSAEncryptionMetadataMixin=a}),98);
__d("WASmaxInWaffleRefreshAccessTokensErrors",["WAResultOrError","WASmaxInWaffleIQErrorBadRequestMixin","WASmaxInWaffleIQErrorConflictMixin","WASmaxInWaffleIQErrorInternalServerErrorMixin","WASmaxInWaffleIQErrorNotAllowedMixin","WASmaxInWaffleIQErrorNotAuthorizedMixin","WASmaxInWaffleIQErrorPayloadEncDecMixin","WASmaxInWaffleIQErrorRateOverlimitMixin","WASmaxInWaffleIQErrorRequestTimeoutMixin","WASmaxInWaffleIQErrorServiceUnavailableMixin","WASmaxInWaffleIQErrorWFNotAuthorizedInvalidPasswordMixin","WASmaxInWaffleIQErrorWFNotFoundMixin","WASmaxInWaffleIQErrorWFStateMismatchMixin","WASmaxInWaffleIQErrorWFSuspendedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInWaffleIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInWaffleIQErrorRequestTimeoutMixin").parseIQErrorRequestTimeoutMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorRequestTimeout",value:c.value});var e=d("WASmaxInWaffleIQErrorPayloadEncDecMixin").parseIQErrorPayloadEncDecMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorPayloadEncDec",value:e.value});var f=d("WASmaxInWaffleIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:f.value});var g=d("WASmaxInWaffleIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:g.value});var h=d("WASmaxInWaffleIQErrorNotAuthorizedMixin").parseIQErrorNotAuthorizedMixin(a);if(h.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAuthorized",value:h.value});var i=d("WASmaxInWaffleIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);if(i.success)return d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:i.value});var j=d("WASmaxInWaffleIQErrorNotAllowedMixin").parseIQErrorNotAllowedMixin(a);if(j.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAllowed",value:j.value});var k=d("WASmaxInWaffleIQErrorConflictMixin").parseIQErrorConflictMixin(a);if(k.success)return d("WAResultOrError").makeResult({name:"IQErrorConflict",value:k.value});var l=d("WASmaxInWaffleIQErrorWFNotFoundMixin").parseIQErrorWFNotFoundMixin(a);if(l.success)return d("WAResultOrError").makeResult({name:"IQErrorWFNotFound",value:l.value});var m=d("WASmaxInWaffleIQErrorWFSuspendedMixin").parseIQErrorWFSuspendedMixin(a);if(m.success)return d("WAResultOrError").makeResult({name:"IQErrorWFSuspended",value:m.value});var n=d("WASmaxInWaffleIQErrorWFStateMismatchMixin").parseIQErrorWFStateMismatchMixin(a);if(n.success)return d("WAResultOrError").makeResult({name:"IQErrorWFStateMismatch",value:n.value});var o=d("WASmaxInWaffleIQErrorWFNotAuthorizedInvalidPasswordMixin").parseIQErrorWFNotAuthorizedInvalidPasswordMixin(a);return o.success?d("WAResultOrError").makeResult({name:"IQErrorWFNotAuthorizedInvalidPassword",value:o.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorRequestTimeout","IQErrorPayloadEncDec","IQErrorInternalServerError","IQErrorServiceUnavailable","IQErrorNotAuthorized","IQErrorRateOverlimit","IQErrorNotAllowed","IQErrorConflict","IQErrorWFNotFound","IQErrorWFSuspended","IQErrorWFStateMismatch","IQErrorWFNotAuthorizedInvalidPassword"],[b,c,e,f,g,h,i,j,k,l,m,n,o])}g.parseRefreshAccessTokensErrors=a}),98);
__d("WASmaxInWaffleRefreshAccessTokensResponseError",["WAResultOrError","WASmaxInWaffleIQErrorResponseMixin","WASmaxInWaffleRefreshAccessTokensErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInWaffleIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInWaffleRefreshAccessTokensErrors").parseRefreshAccessTokensErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRefreshAccessTokensErrors:b.value}))}g.parseRefreshAccessTokensResponseError=a}),98);
__d("WASmaxInWaffleRefreshAccessTokensResponseSuccess",["WAResultOrError","WASmaxInWaffleIQResultResponseMixin","WASmaxInWaffleRSAEncryptionMetadataMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"encryption_metadata");if(!c.success)return c;c=d("WASmaxInWaffleRSAEncryptionMetadataMixin").parseRSAEncryptionMetadataMixin(c.value);if(!c.success)return c;a=d("WASmaxInWaffleIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({encryptionMetadataRSAEncryptionMetadataMixin:c.value},a.value))}g.parseRefreshAccessTokensResponseSuccess=a}),98);
__d("WASmaxInWaffleServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrStanzaId(a,"id");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"offline",0,1024);return!a.success?a:d("WAResultOrError").makeResult({t:b.value,id:c.value,offline:a.value})}g.parseServerNotificationMixin=a}),98);
__d("WASmaxInWaffleStateExistsErrors",["WAResultOrError","WASmaxInWaffleIQErrorBadRequestMixin","WASmaxInWaffleIQErrorInternalServerErrorMixin","WASmaxInWaffleIQErrorNotAllowedMixin","WASmaxInWaffleIQErrorRateOverlimitMixin","WASmaxInWaffleIQErrorRequestTimeoutMixin","WASmaxInWaffleIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInWaffleIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInWaffleIQErrorRequestTimeoutMixin").parseIQErrorRequestTimeoutMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorRequestTimeout",value:c.value});var e=d("WASmaxInWaffleIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:e.value});var f=d("WASmaxInWaffleIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:f.value});var g=d("WASmaxInWaffleIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:g.value});var h=d("WASmaxInWaffleIQErrorNotAllowedMixin").parseIQErrorNotAllowedMixin(a);return h.success?d("WAResultOrError").makeResult({name:"IQErrorNotAllowed",value:h.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorRequestTimeout","IQErrorInternalServerError","IQErrorServiceUnavailable","IQErrorRateOverlimit","IQErrorNotAllowed"],[b,c,e,f,g,h])}g.parseStateExistsErrors=a}),98);
__d("WASmaxInWaffleStateExistsResponseError",["WAResultOrError","WASmaxInWaffleIQErrorResponseMixin","WASmaxInWaffleStateExistsErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInWaffleIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInWaffleStateExistsErrors").parseStateExistsErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorStateExistsErrors:b.value}))}g.parseStateExistsResponseError=a}),98);
__d("WASmaxInWaffleStateExistsResponseSuccess",["WAResultOrError","WASmaxInWaffleEnums","WASmaxInWaffleIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"suspended_state");if(!b.success)return b;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,a,"npr",d("WASmaxInWaffleEnums").ENUM_FALSE_TRUE);return!b.success?b:d("WAResultOrError").makeResult({npr:b.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"wf_state");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"suspended_state",h);if(!e.success)return e;c=d("WASmaxParseUtils").contentInt(c.value);if(!c.success)return c;a=d("WASmaxInWaffleIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({wfStateElementValue:c.value},a.value,{suspendedState:e.value}))}g.parseStateExistsResponseSuccessSuspendedState=h;g.parseStateExistsResponseSuccess=a}),98);
__d("WASmaxInWaffleWFNotificationRequest",["WAResultOrError","WASmaxInWaffleEnums","WASmaxInWaffleServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"notification");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"notification_metadata");if(!b.success)return b;var c=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","waffle");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(b.value,"event",1,7);if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,b.value,"show_user_notif",d("WASmaxInWaffleEnums").ENUM_FALSE_TRUE);if(!g.success)return g;var h=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,b.value,"type",0,0);if(!h.success)return h;var i=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,b.value,"client_resync",d("WASmaxInWaffleEnums").ENUM_FALSE_TRUE);if(!i.success)return i;var j=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,b.value,"sync_delay",0,void 0);if(!j.success)return j;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,b.value,"npr",d("WASmaxInWaffleEnums").ENUM_FALSE_TRUE);if(!b.success)return b;a=d("WASmaxInWaffleServerNotificationMixin").parseServerNotificationMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({from:c.value,type:e.value,notificationMetadataEvent:f.value,notificationMetadataShowUserNotif:g.value,notificationMetadataType:h.value,notificationMetadataClientResync:i.value,notificationMetadataSyncDelay:j.value,notificationMetadataNpr:b.value},a.value))}g.parseWFNotificationRequest=a}),98);
__d("WASmaxInWaffleWfPingErrors",["WAResultOrError","WASmaxInWaffleIQErrorBadRequestMixin","WASmaxInWaffleIQErrorConflictMixin","WASmaxInWaffleIQErrorInternalServerErrorMixin","WASmaxInWaffleIQErrorNotAllowedMixin","WASmaxInWaffleIQErrorNotAuthorizedMixin","WASmaxInWaffleIQErrorPayloadEncDecMixin","WASmaxInWaffleIQErrorRateOverlimitMixin","WASmaxInWaffleIQErrorRequestTimeoutMixin","WASmaxInWaffleIQErrorServiceUnavailableMixin","WASmaxInWaffleIQErrorWFNotFoundMixin","WASmaxInWaffleIQErrorWFStateMismatchMixin","WASmaxInWaffleIQErrorWFSuspendedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInWaffleIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInWaffleIQErrorRequestTimeoutMixin").parseIQErrorRequestTimeoutMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorRequestTimeout",value:c.value});var e=d("WASmaxInWaffleIQErrorPayloadEncDecMixin").parseIQErrorPayloadEncDecMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorPayloadEncDec",value:e.value});var f=d("WASmaxInWaffleIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:f.value});var g=d("WASmaxInWaffleIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:g.value});var h=d("WASmaxInWaffleIQErrorNotAuthorizedMixin").parseIQErrorNotAuthorizedMixin(a);if(h.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAuthorized",value:h.value});var i=d("WASmaxInWaffleIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);if(i.success)return d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:i.value});var j=d("WASmaxInWaffleIQErrorNotAllowedMixin").parseIQErrorNotAllowedMixin(a);if(j.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAllowed",value:j.value});var k=d("WASmaxInWaffleIQErrorConflictMixin").parseIQErrorConflictMixin(a);if(k.success)return d("WAResultOrError").makeResult({name:"IQErrorConflict",value:k.value});var l=d("WASmaxInWaffleIQErrorWFNotFoundMixin").parseIQErrorWFNotFoundMixin(a);if(l.success)return d("WAResultOrError").makeResult({name:"IQErrorWFNotFound",value:l.value});var m=d("WASmaxInWaffleIQErrorWFSuspendedMixin").parseIQErrorWFSuspendedMixin(a);if(m.success)return d("WAResultOrError").makeResult({name:"IQErrorWFSuspended",value:m.value});var n=d("WASmaxInWaffleIQErrorWFStateMismatchMixin").parseIQErrorWFStateMismatchMixin(a);return n.success?d("WAResultOrError").makeResult({name:"IQErrorWFStateMismatch",value:n.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorRequestTimeout","IQErrorPayloadEncDec","IQErrorInternalServerError","IQErrorServiceUnavailable","IQErrorNotAuthorized","IQErrorRateOverlimit","IQErrorNotAllowed","IQErrorConflict","IQErrorWFNotFound","IQErrorWFSuspended","IQErrorWFStateMismatch"],[b,c,e,f,g,h,i,j,k,l,m,n])}g.parseWfPingErrors=a}),98);
__d("WASmaxInWaffleWFPingResponseError",["WAResultOrError","WASmaxInWaffleIQErrorResponseMixin","WASmaxInWaffleWfPingErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInWaffleIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInWaffleWfPingErrors").parseWfPingErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorWfPingErrors:b.value}))}g.parseWFPingResponseError=a}),98);
__d("WASmaxInWaffleWFPingResponseSuccess",["WAResultOrError","WASmaxInWaffleIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"ping_interval");if(!c.success)return c;c=d("WASmaxParseUtils").contentInt(c.value);if(!c.success)return c;a=d("WASmaxInWaffleIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({pingIntervalElementValue:c.value},a.value))}g.parseWFPingResponseSuccess=a}),98);
__d("WASmaxOutMdBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQSetRequestMixin=a}),98);
__d("WASmaxOutMdCompanionFinishRequest",["WASmaxJsx","WASmaxOutMdBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b,c=a.linkCodeCompanionRegJid,e=a.linkCodePairingWrappedKeyBundleElementValue,f=a.companionIdentityPublicElementValue;a=a.linkCodePairingRefElementValue;c=d("WASmaxOutMdBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin((b=d("WASmaxJsx")).smax("iq",{xmlns:"md",to:d("WAWap").S_WHATSAPP_NET},b.smax("link_code_companion_reg",{jid:d("WAWap").USER_JID(c),stage:"companion_finish"},b.smax("link_code_pairing_wrapped_key_bundle",null,e),b.smax("companion_identity_public",null,f),b.smax("link_code_pairing_ref",null,a))));return c}g.makeCompanionFinishRequest=a}),98);
__d("WASmaxMdCompanionFinishRPC",["WAComms","WASmaxInMdCompanionFinishResponseError","WASmaxInMdCompanionFinishResponseSuccess","WASmaxOutMdCompanionFinishRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutMdCompanionFinishRequest").makeCompanionFinishRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInMdCompanionFinishResponseSuccess").parseCompanionFinishResponseSuccess(b,a);if(c.success)return{name:"CompanionFinishResponseSuccess",value:c.value};b=d("WASmaxInMdCompanionFinishResponseError").parseCompanionFinishResponseError(b,a);if(b.success)return{name:"CompanionFinishResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("CompanionFinish",{Success:c,Error:b}))});return h.apply(this,arguments)}g.sendCompanionFinishRPC=a}),98);
__d("WASmaxOutMdCompanionPlatformDisplayElMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.companionPlatformDisplayElementValue;a=d("WASmaxJsx").smax("companion_platform_display",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeCompanionPlatformDisplayElMixin=a}),98);
__d("WASmaxOutMdCompanionPlatformIdElMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.companionPlatformIdElementValue;a=d("WASmaxJsx").smax("companion_platform_id",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeCompanionPlatformIdElMixin=a}),98);
__d("WASmaxOutMdCompanionHelloRequest",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxOutMdBaseIQSetRequestMixin","WASmaxOutMdCompanionPlatformDisplayElMixin","WASmaxOutMdCompanionPlatformIdElMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.linkCodePairingNonceElementValue;a=d("WASmaxJsx").smax("link_code_pairing_nonce",null,a);return a}function a(a){var b,c=a.linkCodePairingNonceArgs,e=a.linkCodeCompanionRegJid,f=a.linkCodeCompanionRegShouldShowPushNotification,g=a.linkCodePairingWrappedCompanionEphemeralPubElementValue,i=a.companionServerAuthKeyPubElementValue,j=a.companionPlatformIdElMixinArgs;a=a.companionPlatformDisplayElMixinArgs;e=d("WASmaxOutMdBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin((b=d("WASmaxJsx")).smax("iq",{xmlns:"md",to:d("WAWap").S_WHATSAPP_NET},b.smax("link_code_companion_reg",{jid:d("WAWap").USER_JID(e),stage:"companion_hello",should_show_push_notification:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,f)},b.smax("link_code_pairing_wrapped_companion_ephemeral_pub",null,g),b.smax("companion_server_auth_key_pub",null,i),d("WASmaxOutMdCompanionPlatformIdElMixin").mergeCompanionPlatformIdElMixin(b.smax("companion_platform_id",null),j),d("WASmaxOutMdCompanionPlatformDisplayElMixin").mergeCompanionPlatformDisplayElMixin(b.smax("companion_platform_display",null),a),d("WASmaxChildren").OPTIONAL_CHILD(h,c))));return e}g.makeCompanionHelloRequestLinkCodeCompanionRegLinkCodePairingNonce=h;g.makeCompanionHelloRequest=a}),98);
__d("WASmaxMdCompanionHelloRPC",["WAComms","WASmaxInMdCompanionHelloResponseError","WASmaxInMdCompanionHelloResponseNotifyCompanion","WASmaxOutMdCompanionHelloRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutMdCompanionHelloRequest").makeCompanionHelloRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInMdCompanionHelloResponseNotifyCompanion").parseCompanionHelloResponseNotifyCompanion(b,a);if(c.success)return{name:"CompanionHelloResponseNotifyCompanion",value:c.value};b=d("WASmaxInMdCompanionHelloResponseError").parseCompanionHelloResponseError(b,a);if(b.success)return{name:"CompanionHelloResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("CompanionHello",{NotifyCompanion:c,Error:b}))});return h.apply(this,arguments)}g.sendCompanionHelloRPC=a}),98);
__d("WASmaxOutMdNotificationClientAckMixin",["WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);var c=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrDomainJid,a,["from"]);if(!c.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(c.error);a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrString,a,["type"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);b=d("WASmaxJsx").smax("ack",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").DOMAIN_JID(c.value),"class":"notification",type:d("WAWap").CUSTOM_STRING(a.value)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNotificationClientAckMixin=a}),98);
__d("WASmaxOutMdPrimaryHelloNotifyCompanionResponseAck",["WASmaxJsx","WASmaxOutMdNotificationClientAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutMdNotificationClientAckMixin").mergeNotificationClientAckMixin(d("WASmaxJsx").smax("ack",null),a);return a}g.makePrimaryHelloNotifyCompanionResponseAck=a}),98);
__d("WASmaxMdPrimaryHelloNotifyCompanionRPC",["WASmaxInMdPrimaryHelloNotifyCompanionRequest","WASmaxOutMdPrimaryHelloNotifyCompanionResponseAck","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdPrimaryHelloNotifyCompanionRequest").parsePrimaryHelloNotifyCompanionRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("PrimaryHelloNotifyCompanion",{Request:b}));return{parsedRequest:b.value,makePrimaryHelloNotifyCompanionResponseAck:function(){return d("WASmaxOutMdPrimaryHelloNotifyCompanionResponseAck").makePrimaryHelloNotifyCompanionResponseAck(a)}}}g.receivePrimaryHelloNotifyCompanionRPC=a}),98);
__d("WASmaxOutMdRefreshCodeNotifyCompanionResponseAck",["WASmaxJsx","WASmaxOutMdNotificationClientAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutMdNotificationClientAckMixin").mergeNotificationClientAckMixin(d("WASmaxJsx").smax("ack",null),a);return a}g.makeRefreshCodeNotifyCompanionResponseAck=a}),98);
__d("WASmaxMdRefreshCodeNotifyCompanionRPC",["WASmaxInMdRefreshCodeNotifyCompanionRequest","WASmaxOutMdRefreshCodeNotifyCompanionResponseAck","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdRefreshCodeNotifyCompanionRequest").parseRefreshCodeNotifyCompanionRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RefreshCodeNotifyCompanion",{Request:b}));return{parsedRequest:b.value,makeRefreshCodeNotifyCompanionResponseAck:function(){return d("WASmaxOutMdRefreshCodeNotifyCompanionResponseAck").makeRefreshCodeNotifyCompanionResponseAck(a)}}}g.receiveRefreshCodeNotifyCompanionRPC=a}),98);
__d("WASmaxOutMdRegularCompanionSetRegResponseBundleMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.keyAttestationKeyId;a=a.keyAttestationElementValue;b=d("WASmaxJsx").smax("key_attestation",{key_id:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b)},a);return b}function i(a){a=a.gpiaElementValue;a=d("WASmaxJsx").smax("gpia",null,a);return a}function j(a){var b=a.keyAttestationArgs,c=a.gpiaArgs,e=a.deviceIdentityKeyIndex;a=a.deviceIdentityElementValue;e=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("pair-device-sign",null,d("WASmaxJsx").smax("device-identity",{"key-index":d("WAWap").INT(e)},a),d("WASmaxChildren").OPTIONAL_CHILD(h,b),d("WASmaxChildren").OPTIONAL_CHILD(i,c)));return e}function a(a,b){b=j(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeRegularCompanionSetRegResponseBundlePairDeviceSignKeyAttestation=h;g.makeRegularCompanionSetRegResponseBundlePairDeviceSignGpia=i;g.mergeRegularCompanionSetRegResponseBundleMixin=a}),98);
__d("WASmaxOutMdSetRegResponseClientResponse",["WASmaxJsx","WASmaxOutMdRegularCompanionSetRegResponseBundleMixin","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function a(a,b){b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,b,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);b=d("WASmaxOutMdRegularCompanionSetRegResponseBundleMixin").mergeRegularCompanionSetRegResponseBundleMixin(d("WASmaxJsx").smax("iq",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").S_WHATSAPP_NET,type:"result"}),a);return b}g.makeSetRegResponseClientResponse=a}),98);
__d("WASmaxOutMdIQErrorNotAuthorizedMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("error",{text:"not-authorized",code:d("WAWap").INT(401)});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIQErrorNotAuthorizedMixin=a}),98);
__d("WASmaxOutMdSetRegResponseError",["WASmaxJsx","WASmaxOutMdIQErrorNotAuthorizedMixin","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);a=d("WASmaxJsx").smax("iq",{id:d("WAWap").STANZA_ID(a.value),to:d("WAWap").S_WHATSAPP_NET,type:"error"},d("WASmaxOutMdIQErrorNotAuthorizedMixin").mergeIQErrorNotAuthorizedMixin(d("WASmaxJsx").smax("error",null)));return a}g.makeSetRegResponseError=a}),98);
__d("WASmaxOutMdHostedCompanionSetRegResponseBundleMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.deviceIdentityElementValue;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("hosted-pair-set",null,d("WASmaxJsx").smax("device-identity",null,a)));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeHostedCompanionSetRegResponseBundleMixin=a}),98);
__d("WASmaxOutMdSetRegResponseHostedClientResponse",["WASmaxJsx","WASmaxOutMdHostedCompanionSetRegResponseBundleMixin","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function a(a,b){b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,b,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);b=d("WASmaxOutMdHostedCompanionSetRegResponseBundleMixin").mergeHostedCompanionSetRegResponseBundleMixin(d("WASmaxJsx").smax("iq",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").S_WHATSAPP_NET,type:"result"}),a);return b}g.makeSetRegResponseHostedClientResponse=a}),98);
__d("WASmaxMdSetRegRPC",["WASmaxInMdSetRegRequest","WASmaxOutMdSetRegResponseClientResponse","WASmaxOutMdSetRegResponseError","WASmaxOutMdSetRegResponseHostedClientResponse","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdSetRegRequest").parseSetRegRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("SetReg",{Request:b}));return{parsedRequest:b.value,makeSetRegResponseClientResponse:function(b){return d("WASmaxOutMdSetRegResponseClientResponse").makeSetRegResponseClientResponse(b,a)},makeSetRegResponseHostedClientResponse:function(b){return d("WASmaxOutMdSetRegResponseHostedClientResponse").makeSetRegResponseHostedClientResponse(b,a)},makeSetRegResponseError:function(){return d("WASmaxOutMdSetRegResponseError").makeSetRegResponseError(a)}}}g.receiveSetRegRPC=a}),98);
__d("WASmaxOutMdSetToCompanionResponseClientResponse",["WASmaxJsx","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrDomainJid,a,["from"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);b=d("WASmaxJsx").smax("iq",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").DOMAIN_JID(a.value),type:"result"});return b}g.makeSetToCompanionResponseClientResponse=a}),98);
__d("WASmaxMdSetToCompanionRPC",["WASmaxInMdSetToCompanionRequest","WASmaxOutMdSetToCompanionResponseClientResponse","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdSetToCompanionRequest").parseSetToCompanionRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("SetToCompanion",{Request:b}));return{parsedRequest:b.value,makeSetToCompanionResponseClientResponse:function(){return d("WASmaxOutMdSetToCompanionResponseClientResponse").makeSetToCompanionResponseClientResponse(a)}}}g.receiveSetToCompanionRPC=a}),98);
__d("WASmaxOutMessageDeliverCommonAckMixin",["WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrNewsletterJid,a,["from"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);var c=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!c.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(c.error);a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrString,a,["type"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);b=d("WASmaxJsx").smax("ack",{to:d("WAWap").JID(b.value),"class":"message",id:d("WAWap").STANZA_ID(c.value),type:d("WAWap").CUSTOM_STRING(a.value)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeCommonAckMixin=a}),98);
__d("WASmaxOutMessageDeliverNewsletterResponseError",["WASmaxJsx","WASmaxOutMessageDeliverCommonAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutMessageDeliverCommonAckMixin").mergeCommonAckMixin(d("WASmaxJsx").smax("ack",{error:"406"}),a);return a}g.makeNewsletterResponseError=a}),98);
__d("WASmaxOutMessageDeliverNewsletterResponseSuccess",["WASmaxJsx","WASmaxOutMessageDeliverCommonAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutMessageDeliverCommonAckMixin").mergeCommonAckMixin(d("WASmaxJsx").smax("ack",null),a);return a}g.makeNewsletterResponseSuccess=a}),98);
__d("WASmaxMessageDeliverNewsletterRPC",["WASmaxInMessageDeliverNewsletterRequest","WASmaxOutMessageDeliverNewsletterResponseError","WASmaxOutMessageDeliverNewsletterResponseSuccess","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMessageDeliverNewsletterRequest").parseNewsletterRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Newsletter",{Request:b}));return{parsedRequest:b.value,makeNewsletterResponseError:function(){return d("WASmaxOutMessageDeliverNewsletterResponseError").makeNewsletterResponseError(a)},makeNewsletterResponseSuccess:function(){return d("WASmaxOutMessageDeliverNewsletterResponseSuccess").makeNewsletterResponseSuccess(a)}}}g.receiveNewsletterRPC=a}),98);
__d("WASmaxOutNewslettersNotificationClientAckMixin",["WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);var c=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrNewsletterJid,a,["from"]);if(!c.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(c.error);a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrString,a,["type"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);b=d("WASmaxJsx").smax("ack",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").JID(c.value),"class":"notification",type:d("WAWap").CUSTOM_STRING(a.value)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNotificationClientAckMixin=a}),98);
__d("WASmaxOutNewslettersLiveUpdatesNotificationResponseAck",["WASmaxJsx","WASmaxOutNewslettersNotificationClientAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutNewslettersNotificationClientAckMixin").mergeNotificationClientAckMixin(d("WASmaxJsx").smax("ack",null),a);return a}g.makeLiveUpdatesNotificationResponseAck=a}),98);
__d("WASmaxNewslettersLiveUpdatesNotificationRPC",["WASmaxInNewslettersLiveUpdatesNotificationRequest","WASmaxOutNewslettersLiveUpdatesNotificationResponseAck","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInNewslettersLiveUpdatesNotificationRequest").parseLiveUpdatesNotificationRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("LiveUpdatesNotification",{Request:b}));return{parsedRequest:b.value,makeLiveUpdatesNotificationResponseAck:function(){return d("WASmaxOutNewslettersLiveUpdatesNotificationResponseAck").makeLiveUpdatesNotificationResponseAck(a)}}}g.receiveLiveUpdatesNotificationRPC=a}),98);
__d("WASmaxOutMessageFallbackDeliverResponseBadStanza",["WASmaxAttrs","WASmaxInMessageFallbackEnums","WASmaxJsx","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function a(a,b){a=a.ackError;var c=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,b,["id"]);if(!c.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(c.error);var e=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrJidEnum,b,["from"],d("WASmaxInMessageFallbackEnums").BROADCASTJID_CALLJID_DEVICEJID_DOMAINJID_GROUPJID_STATUSJID_USERJID);if(!e.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(e.error);var f=d("WASmaxParseReference").optionalAttrFromReference(d("WASmaxParseJid").attrJidEnum,b,["participant"],d("WASmaxInMessageFallbackEnums").BROADCASTJID_CALLJID_DEVICEJID_DOMAINJID_GROUPJID_STATUSJID_USERJID);if(!f.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(f.error);b=d("WASmaxParseReference").optionalAttrFromReference(d("WASmaxParseUtils").attrString,b,["type"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);c=d("WASmaxJsx").smax("ack",{"class":"message",id:d("WAWap").STANZA_ID(c.value),to:d("WAWap").JID(e.value),participant:d("WASmaxAttrs").OPTIONAL(d("WAWap").JID,f.value),type:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b.value),error:d("WAWap").INT(a)});return c}g.makeDeliverResponseBadStanza=a}),98);
__d("WASmaxOutPsaNotificationClientAckMixin",["WASmaxInPsaEnums","WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);var c=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrJidEnum,a,["from"],d("WASmaxInPsaEnums").STATUSJID_USERJID);if(!c.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(c.error);a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrString,a,["type"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);b=d("WASmaxJsx").smax("ack",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").JID(c.value),"class":"notification",type:d("WAWap").CUSTOM_STRING(a.value)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNotificationClientAckMixin=a}),98);
__d("WASmaxOutPsaResetSmbLastQpPrefetchTimestampResponseAck",["WASmaxJsx","WASmaxOutPsaNotificationClientAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutPsaNotificationClientAckMixin").mergeNotificationClientAckMixin(d("WASmaxJsx").smax("ack",null),a);return a}g.makeResetSmbLastQpPrefetchTimestampResponseAck=a}),98);
__d("WASmaxOutQpSurfacesNotificationClientAckMixin",["WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrStanzaId,a,["id"]);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(b.error);var c=d("WASmaxParseReference").attrFromReference(d("WASmaxParseJid").attrUserJid,a,["from"]);if(!c.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(c.error);a=d("WASmaxParseReference").attrFromReference(d("WASmaxParseUtils").attrString,a,["type"]);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(a.error);b=d("WASmaxJsx").smax("ack",{id:d("WAWap").STANZA_ID(b.value),to:d("WAWap").USER_JID(c.value),"class":"notification",type:d("WAWap").CUSTOM_STRING(a.value)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNotificationClientAckMixin=a}),98);
__d("WASmaxOutQpSurfacesQPNotificationResponseAck",["WASmaxJsx","WASmaxOutQpSurfacesNotificationClientAckMixin"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutQpSurfacesNotificationClientAckMixin").mergeNotificationClientAckMixin(d("WASmaxJsx").smax("ack",null),a);return a}g.makeQPNotificationResponseAck=a}),98);
__d("WASmaxOutWaffleBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutWaffleGetCertificateRequest",["WASmaxChildren","WASmaxJsx","WASmaxOutWaffleBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("payload_enc_certificates",null);return a}function i(){var a=d("WASmaxJsx").smax("password_pem",null);return a}function a(a){var b=a.hasPayloadEncCertificates,c=a.hasPasswordPem;a=a.timestampElementValue;a=d("WASmaxOutWaffleBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"waffle",smax_id:d("WAWap").INT(51),to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("timestamp",null,d("WAWap").INT(a)),d("WASmaxChildren").HAS_OPTIONAL_CHILD(h,b),d("WASmaxChildren").HAS_OPTIONAL_CHILD(i,c)));return a}g.makeGetCertificateRequestPayloadEncCertificates=h;g.makeGetCertificateRequestPasswordPem=i;g.makeGetCertificateRequest=a}),98);
__d("WASmaxOutWaffleRSAEncryptionMetadataMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.encryptedKeyElementValue,e=a.nonceElementValue,f=a.encryptedDataElementValue;a=a.authTagElementValue;c=(b=d("WASmaxJsx")).smax("smax$any",{version:"1",algorithm:"rsa2048"},b.smax("encrypted_key",null,c),b.smax("nonce",null,e),b.smax("encrypted_data",null,f),b.smax("auth_tag",null,a));return c}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeRSAEncryptionMetadataMixin=a}),98);
__d("WASmaxOutWaffleRefreshAccessTokensRequest",["WASmaxJsx","WASmaxOutWaffleBaseIQGetRequestMixin","WASmaxOutWaffleRSAEncryptionMetadataMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b,c=a.rSAEncryptionMetadataMixinArgs,e=a.timestampElementValue;a=a.fbidElementValue;c=d("WASmaxOutWaffleBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin((b=d("WASmaxJsx")).smax("iq",{xmlns:"waffle",smax_id:d("WAWap").INT(46),to:d("WAWap").S_WHATSAPP_NET},d("WASmaxOutWaffleRSAEncryptionMetadataMixin").mergeRSAEncryptionMetadataMixin(b.smax("encryption_metadata",null),c),b.smax("timestamp",null,d("WAWap").INT(e)),b.smax("fbid",null,a)));return c}g.makeRefreshAccessTokensRequest=a}),98);
__d("WASmaxOutWaffleStateExistsRequest",["WASmaxJsx","WASmaxOutWaffleBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a.timestampElementValue;a=d("WASmaxOutWaffleBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"waffle",smax_id:d("WAWap").INT(142),to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("timestamp",null,d("WAWap").INT(a))));return a}g.makeStateExistsRequest=a}),98);
__d("WASmaxOutWaffleWFPingRequest",["WASmaxJsx","WASmaxOutWaffleBaseIQGetRequestMixin","WASmaxOutWaffleRSAEncryptionMetadataMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b,c=a.rSAEncryptionMetadataMixinArgs,e=a.timestampElementValue;a=a.fbidElementValue;c=d("WASmaxOutWaffleBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin((b=d("WASmaxJsx")).smax("iq",{xmlns:"waffle",smax_id:d("WAWap").INT(83),to:d("WAWap").S_WHATSAPP_NET},d("WASmaxOutWaffleRSAEncryptionMetadataMixin").mergeRSAEncryptionMetadataMixin(b.smax("encryption_metadata",null),c),b.smax("timestamp",null,d("WAWap").INT(e)),b.smax("fbid",null,a)));return c}g.makeWFPingRequest=a}),98);
__d("WASmaxPresenceServerUpdateRPC",["WASmaxInPresenceServerUpdateRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInPresenceServerUpdateRequest").parseServerUpdateRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("ServerUpdate",{Request:a}));return{parsedRequest:a.value}}g.receiveServerUpdateRPC=a}),98);
__d("WASmaxPsaResetSmbLastQpPrefetchTimestampRPC",["WASmaxInPsaResetSmbLastQpPrefetchTimestampRequest","WASmaxOutPsaResetSmbLastQpPrefetchTimestampResponseAck","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInPsaResetSmbLastQpPrefetchTimestampRequest").parseResetSmbLastQpPrefetchTimestampRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("ResetSmbLastQpPrefetchTimestamp",{Request:b}));return{parsedRequest:b.value,makeResetSmbLastQpPrefetchTimestampResponseAck:function(){return d("WASmaxOutPsaResetSmbLastQpPrefetchTimestampResponseAck").makeResetSmbLastQpPrefetchTimestampResponseAck(a)}}}g.receiveResetSmbLastQpPrefetchTimestampRPC=a}),98);
__d("WASmaxQpSurfacesQPNotificationRPC",["WASmaxInQpSurfacesQPNotificationRequest","WASmaxOutQpSurfacesQPNotificationResponseAck","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInQpSurfacesQPNotificationRequest").parseQPNotificationRequest(a);if(!b.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("QPNotification",{Request:b}));return{parsedRequest:b.value,makeQPNotificationResponseAck:function(){return d("WASmaxOutQpSurfacesQPNotificationResponseAck").makeQPNotificationResponseAck(a)}}}g.receiveQPNotificationRPC=a}),98);
__d("WASmaxWaffleGetCertificateRPC",["WAComms","WASmaxInWaffleGetCertificateResponseError","WASmaxInWaffleGetCertificateResponseSuccess","WASmaxOutWaffleGetCertificateRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutWaffleGetCertificateRequest").makeGetCertificateRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInWaffleGetCertificateResponseSuccess").parseGetCertificateResponseSuccess(b,a);if(c.success)return{name:"GetCertificateResponseSuccess",value:c.value};b=d("WASmaxInWaffleGetCertificateResponseError").parseGetCertificateResponseError(b,a);if(b.success)return{name:"GetCertificateResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetCertificate",{Success:c,Error:b}))});return h.apply(this,arguments)}g.sendGetCertificateRPC=a}),98);
__d("WASmaxWaffleRefreshAccessTokensRPC",["WAComms","WASmaxInWaffleRefreshAccessTokensResponseError","WASmaxInWaffleRefreshAccessTokensResponseSuccess","WASmaxOutWaffleRefreshAccessTokensRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutWaffleRefreshAccessTokensRequest").makeRefreshAccessTokensRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInWaffleRefreshAccessTokensResponseSuccess").parseRefreshAccessTokensResponseSuccess(b,a);if(c.success)return{name:"RefreshAccessTokensResponseSuccess",value:c.value};b=d("WASmaxInWaffleRefreshAccessTokensResponseError").parseRefreshAccessTokensResponseError(b,a);if(b.success)return{name:"RefreshAccessTokensResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RefreshAccessTokens",{Success:c,Error:b}))});return h.apply(this,arguments)}g.sendRefreshAccessTokensRPC=a}),98);
__d("WASmaxWaffleStateExistsRPC",["WAComms","WASmaxInWaffleStateExistsResponseError","WASmaxInWaffleStateExistsResponseSuccess","WASmaxOutWaffleStateExistsRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutWaffleStateExistsRequest").makeStateExistsRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInWaffleStateExistsResponseSuccess").parseStateExistsResponseSuccess(b,a);if(c.success)return{name:"StateExistsResponseSuccess",value:c.value};b=d("WASmaxInWaffleStateExistsResponseError").parseStateExistsResponseError(b,a);if(b.success)return{name:"StateExistsResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("StateExists",{Success:c,Error:b}))});return h.apply(this,arguments)}g.sendStateExistsRPC=a}),98);
__d("WASmaxWaffleWFPingRPC",["WAComms","WASmaxInWaffleWFPingResponseError","WASmaxInWaffleWFPingResponseSuccess","WASmaxOutWaffleWFPingRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutWaffleWFPingRequest").makeWFPingRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInWaffleWFPingResponseSuccess").parseWFPingResponseSuccess(b,a);if(c.success)return{name:"WFPingResponseSuccess",value:c.value};b=d("WASmaxInWaffleWFPingResponseError").parseWFPingResponseError(b,a);if(b.success)return{name:"WFPingResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("WFPing",{Success:c,Error:b}))});return h.apply(this,arguments)}g.sendWFPingRPC=a}),98);
__d("WAWebAPIParser",["WALogger"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){var b=a.encryptedKeyElementValue,c=a.nonceElementValue,d=a.authTagElementValue;a=a.encryptedDataElementValue;return{key:b,nonce:c,tag:d,data:a}}function k(a){var b;a={is_eligible_to_link_to_linked_fb:(b=a.is_eligible_to_link_to_linked_fb)!=null?b:!1,is_eligible_to_link_to_linked_ig:(b=a.is_eligible_to_link_to_linked_ig)!=null?b:!1,is_eligible_to_link_to_linked_rl:(b=a.is_eligible_to_link_to_linked_rl)!=null?b:!1,is_eligible_to_link_to_unlinked_fb:(b=a.is_eligible_to_link_to_unlinked_fb)!=null?b:!1,is_eligible_to_link_to_unlinked_ig:(b=a.is_eligible_to_link_to_unlinked_ig)!=null?b:!1,is_eligible_to_link_to_unlinked_rl:(b=a.is_eligible_to_link_to_unlinked_rl)!=null?b:!1};return a}function l(a){var b=null,c=null;for(a of a)a.waffle_da==="F"&&(b=a.waffle_di),a.waffle_da==="I"&&(c=a.waffle_di);return{fbCrosspostingDestinationId:b,igCrosspostingDestinationId:c}}function b(a){a=(a=a.waffle_fx_service_data)==null?void 0:a.services;var b=a==null?void 0:a.foa_to_wa_link_eligibility;if(b==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] foAToWALinkEligibility is null"])));return}b=k(babelHelpers["extends"]({},b));a=a==null?void 0:a.waffle_sxs;if(a==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] destinationList is null"])));return}a=l(a);var c=a.fbCrosspostingDestinationId;a=a.igCrosspostingDestinationId;if(c==null||a==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Parsing service data failed"])));return}return{fbCrosspostingDestinationId:c,igCrosspostingDestinationId:a,foAToWALinkEligibility:b}}g.parseRSAEncryptionMetadataMixin=a;g.parseServiceData=b}),98);
__d("WAWebAccountLinkingConstants",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["Active","Paused","Unlinked","Unknown"]);c="AccountLinkKey";d="MIIEfTCCA2WgAwIBAgIUTRB3DSS1IoPy5PHlIVftCO3ytEswDQYJKoZIhvcNAQEL\nBQAweTEoMCYGA1UEAwwfRmFjZWJvb2sgUm9vdGNhbmFsIFByb2QgUm9vdCBDQTEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExEzARBgNVBAcMCk1lbmxv\nIFBhcmsxFjAUBgNVBAoMDUZhY2Vib29rIEluYy4wHhcNMTgwMjIxMDAwNjQzWhcN\nNDgwMjIxMDAwNjQzWjB5MSgwJgYDVQQDDB9GYWNlYm9vayBSb290Y2FuYWwgUHJv\nZCBSb290IENBMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTETMBEG\nA1UEBwwKTWVubG8gUGFyazEWMBQGA1UECgwNRmFjZWJvb2sgSW5jLjCCASIwDQYJ\nKoZIhvcNAQEBBQADggEPADCCAQoCggEBAO04IfUs0M4IPVwJHLAFSTulY1/R/cEk\nhDlIKmpRA3IiSG7eAgBxWuvUZti2zm4G0ftPVUJOqjhavu+EOW9iT6WBZojtRNsF\nkJKJIBrfwg3A9i2BMF7PUsDNMRkRnUmiZeQ5HY/sPLYCwp6rYLaUHC5E+73y9ByS\nssnmlJCPTsv+OgdFpFHJaSf0YOL33xheHDrdElYAibh4dOtg4v7lWh/D1vpLi4Y1\ngFD8BICeUIZe622gRnj84hCkkbE6kJyCqO3l2FXMPYZjhlUa8vRE4qsUUCAZmamW\nNDGKDH5z2EuC3glVU9B5NJdfn3FXh7/Pv49sV70hs+pGkOwwuhsJ1dUCAwEAAaOB\n/DCB+TAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBT6a6rC4jjPN1kw0KTesLkl\nsYoajDCBtgYDVR0jBIGuMIGrgBT6a6rC4jjPN1kw0KTesLklsYoajKF9pHsweTEo\nMCYGA1UEAwwfRmFjZWJvb2sgUm9vdGNhbmFsIFByb2QgUm9vdCBDQTELMAkGA1UE\nBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExEzARBgNVBAcMCk1lbmxvIFBhcmsx\nFjAUBgNVBAoMDUZhY2Vib29rIEluYy6CFE0Qdw0ktSKD8uTx5SFX7Qjt8rRLMA4G\nA1UdDwEB/wQEAwIBhjANBgkqhkiG9w0BAQsFAAOCAQEAW9EUmvvxgcxEPfxB7G7R\nwxwk6m4xPBTc0UArnWCLZRmRBmaKYPovC0brhKF7Dfn9IcXEhhmsLRnBy/1xtbWG\nW1kQzQeIUaDgXymE+dmnmorhuwepwELcsX7UB1RM0HoES3Z0Y2EvS4/iz5Q3GMEb\n/J5FVduXkm+NClL+6qAn4xHGpwGsa2Prpe8f9UZTCCiwwfT9IxvRpe/oTeE9G3VK\nUIb2ZHo1/PQSXAAxcyYAjVBHpiSW/C0iI5qqy9Lie27rkaShHA4X8xEkX0VfRRQF\n40UYnDkeEcv4yUiVBDTefvTzBpB2WihYr/FzBBkKF/9PBE+5uM8458vAmItA8vrr\nWA==\n";e=b("$InternalEnum")({ACCOUNT_LINKED:1,ACCOUNT_UNLINKED:2,SETTINGS_CHANGED:3,STATE_DELETED:4,STATE_SUSPENDED:5,CLIENT_RESYNC:6,CROSSPOST_FB_FAILED:7});b=b("$InternalEnum")({UNLINKED:1,ACTIVE:2,PAUSED:3});f.AccountLinkState=a;f.AccountLinkKey=c;f.ProdRootCertificatePem=d;f.AccountLinkingNotificationEvent=e;f.AccountLinkingStateExists=b}),66);
__d("WAWebAccountLinkingCryptoUtils",["WALogger","WAWebAccountLinkingConstants","WAWebDirectConnectionX509","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h,i,j;function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield self.crypto.subtle.generateKey({name:"RSA-OAEP",hash:"SHA-1",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"])),b=a.privateKey;a=a.publicKey;return{privateKey:b,publicKey:a}});return k.apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])});return m.apply(this,arguments)}function e(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];var e,f;if(c("lodash").isEqual(b.subject,a.issuer))e=b,f=a;else if(c("lodash").isEqual(a.subject,b.issuer))e=a,f=b;else{d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Certificate Chain Validation Failed"])));return null}a=(yield o());b=(yield d("WAWebDirectConnectionX509").validateCertificates([e,f],[a]));return b.result?f:null});return n.apply(this,arguments)}function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a="-----BEGIN CERTIFICATE-----",b="-----END CERTIFICATE-----";a=a+"\n"+d("WAWebAccountLinkingConstants").ProdRootCertificatePem+"\n"+b;b=(yield d("WAWebDirectConnectionX509").extractCertificates(a));b.length!==1&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Root certificate failed extraction"])));return b[0]});return p.apply(this,arguments)}function f(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new TextEncoder();b=b.encode(a);a=self.crypto.getRandomValues(new Uint8Array(12));var c=(yield l());b=(yield self.crypto.subtle.encrypt({name:"AES-GCM",iv:a,length:256},c,b));b=new Uint8Array(b);var d=b.slice(-16);b=b.slice(0,-16);return{key:c,cipherText:b,tag:d,iv:a}});return q.apply(this,arguments)}function r(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=new Uint8Array(b.length+d.length);e.set(b);e.set(d,b.length);d=(yield self.crypto.subtle.decrypt({name:"AES-GCM",iv:c,length:256},a,e));return d});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return self.crypto.subtle.encrypt({name:"RSA-OAEP",padding:"OAEP"},a,b)});return u.apply(this,arguments)}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return self.crypto.subtle.decrypt({name:"RSA-OAEP",padding:"OAEP"},a,b)});return w.apply(this,arguments)}function x(a,b){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=!1);a=(yield self.crypto.subtle.exportKey("spki",a));a=new Uint8Array(a);a=btoa(Array.from(a).map(function(a){return String.fromCharCode(a)}).join(""));return b?"-----BEGIN PUBLIC KEY-----\n"+a+"\n-----END PUBLIC KEY-----\n":"-----BEGIN PUBLIC KEY-----"+a+"-----END PUBLIC KEY-----"});return y.apply(this,arguments)}function z(a,b,c){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=["encrypt","decrypt"]);var e=b?"-----BEGIN PRIVATE KEY-----":"-----BEGIN PUBLIC KEY-----",f=b?"-----END PRIVATE KEY-----":"-----END PUBLIC KEY-----",g=a;a.includes(e)&&(g=a.substring(a.indexOf(e)+e.length,a.indexOf(f)));g=g.replace(/\s/g,"");try{e=atob(g);a=new Uint8Array(e.length);for(f=0;f<e.length;f++)a[f]=e.charCodeAt(f);g=b?"pkcs8":"spki";return self.crypto.subtle.importKey(g,a,{name:"RSA-OAEP",hash:"SHA-1"},!0,c)}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Error converting PEM to CryptoKey: ",""])),String(a));throw a}});return A.apply(this,arguments)}function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield z(a,!1,["encrypt"]));b=(yield z(b,!0,["decrypt"]));return{publicKey:a,privateKey:b}});return C.apply(this,arguments)}function D(a){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield self.crypto.subtle.exportKey("raw",a));return new Uint8Array(a)});return E.apply(this,arguments)}function F(a){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield self.crypto.subtle.importKey("raw",a,"AES-GCM",!0,["encrypt","decrypt"]));return a});return G.apply(this,arguments)}g.generateRSAKeys=a;g.generateAESKey=l;g.validateCertificateChain=e;g.encryptWithAES=f;g.decryptWithAES=r;g.encryptWithRSA=t;g.decryptWithRSA=v;g.cryptoKeyToPem=x;g.convertTestKeys=B;g.cryptoKeyToBinary=D;g.binaryToCryptoKey=F}),98);
__d("WAWebProtobufsMdStorageAccountLinkingOpaqueData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.name="AccountLinkingOpaqueData";a.internalSpec={accesstoken:[1,d("WAProtoConst").TYPES.STRING],fbid:[2,d("WAProtoConst").TYPES.STRING],nonce:[3,d("WAProtoConst").TYPES.STRING]};g.AccountLinkingOpaqueDataSpec=a}),98);
__d("WAWebOpaqueDataEncryption",["WAWebProtobufsMdStorageAccountLinkingOpaqueData.pb","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){var h=new Set(["accesstoken","fbid","nonce"]);function a(a){var b={};Object.keys(a).forEach(function(c){h.has(c)&&(b[c]=a[c],delete a[c])});var c=d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsMdStorageAccountLinkingOpaqueData.pb").AccountLinkingOpaqueDataSpec,b);return c.readBuffer()}function b(a){a=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsMdStorageAccountLinkingOpaqueData.pb").AccountLinkingOpaqueDataSpec,a);return a}g.moveEncFieldToOpaqueData=a;g.moveOpaqueDataToEncField=b}),98);
__d("WAWebAccountLinkingDBOperations",["WAWebAccountLinkingConstants","WAWebAccountLinkingSchema","WAWebOpaqueDataEncryption","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebAccountLinkingSchema").getTable().createOrReplace(a)}function c(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebAccountLinkingSchema").getTable().get(d("WAWebAccountLinkingConstants").AccountLinkKey));b=babelHelpers["extends"]({},b,{linkState:a});return d("WAWebAccountLinkingSchema").getTable().createOrReplace(b)});return h.apply(this,arguments)}function e(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebAccountLinkingSchema").getTable().get(d("WAWebAccountLinkingConstants").AccountLinkKey));if(c==null)return;c=babelHelpers["extends"]({},c,{nonce:a,fbid:b});c.accountLinkingOpaqueData=d("WAWebOpaqueDataEncryption").moveEncFieldToOpaqueData(c);return d("WAWebAccountLinkingSchema").getTable().createOrReplace(c)});return i.apply(this,arguments)}function f(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield m());if(b==null)return;b=babelHelpers["extends"]({},b,{accesstoken:a});b.accountLinkingOpaqueData=d("WAWebOpaqueDataEncryption").moveEncFieldToOpaqueData(b);return d("WAWebAccountLinkingSchema").getTable().createOrReplace(b)});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebAccountLinkingSchema").getTable().get(d("WAWebAccountLinkingConstants").AccountLinkKey));a=a+Date.now()/1e3;b=babelHelpers["extends"]({},b,{pingInterval:a});return d("WAWebAccountLinkingSchema").getTable().createOrReplace(b)});return l.apply(this,arguments)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=(yield d("WAWebAccountLinkingSchema").getTable().get("AccountLinkKey"));if(((a=b)==null?void 0:a.accountLinkingOpaqueData)!=null){a=d("WAWebOpaqueDataEncryption").moveOpaqueDataToEncField((a=b)==null?void 0:a.accountLinkingOpaqueData);b=babelHelpers["extends"]({},b,{accesstoken:a.accesstoken,fbid:a.fbid,nonce:a.nonce})}return b});return n.apply(this,arguments)}function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield m());return a==null||a.pingInterval==null?0:a.pingInterval});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebAccountLinkingSchema").getTable().get(d("WAWebAccountLinkingConstants").AccountLinkKey)),c=a.fbCrosspostingDestinationId,e=a.igCrosspostingDestinationId;b=babelHelpers["extends"]({},b,{fbCrosspostingDestinationId:c,igCrosspostingDestinationId:e,foAToWALinkEligibility:a.foAToWALinkEligibility});return d("WAWebAccountLinkingSchema").getTable().createOrReplace(b)});return r.apply(this,arguments)}function s(){return d("WAWebAccountLinkingSchema").getTable().clear()}g.createOrUpdateAccountLinkingState=a;g.updateAccountLinkingState=c;g.updateAccountLinkingData=e;g.updateAccesstoken=f;g.updatePingInterval=k;g.getAccountLinkingData=m;g.getPingExpirationTime=o;g.updateServiceData=q;g.purgeWaffleData=s}),98);
__d("WAWebAccountLinkingGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_waffle")}g.accountLinkingEnabled=a}),98);
__d("WAWebAccountLinkingUtils",["WAWebAccountLinkingConstants"],(function(a,b,c,d,e,f,g){function a(a){switch(a){case 0:return d("WAWebAccountLinkingConstants").AccountLinkState.Active;case 1:return d("WAWebAccountLinkingConstants").AccountLinkState.Paused;case 2:return d("WAWebAccountLinkingConstants").AccountLinkState.Unlinked;default:return d("WAWebAccountLinkingConstants").AccountLinkState.Unknown}}function b(){var a=navigator.globalPrivacyControl;return a!=null?a:!1}g.mapToAccountLinkState=a;g.checkGPCSetting=b}),98);
__d("WAWebWaffleFXServiceDataQueryV2Mutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"WaffleFXServiceDataResponse",kind:"LinkedField",name:"waffle_fx_service_data",plural:!1,selections:[{alias:null,args:null,concreteType:"WaffleFXServiceData",kind:"LinkedField",name:"services",plural:!1,selections:[{alias:null,args:null,concreteType:"WaffleCAL",kind:"LinkedField",name:"waffle_sxs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"waffle_di",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"waffle_da",storageKey:null},{alias:null,args:null,concreteType:"WaffleXSetting",kind:"LinkedField",name:"waffle_xss",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"waffle_iaxe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"waffle_x_surface",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WaffleAfsEligibility",kind:"LinkedField",name:"waffle_afs",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"waffle_wes",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WhatsAppFoaToWaLinkEligibility",kind:"LinkedField",name:"foa_to_wa_link_eligibility",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_link_to_unlinked_fb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_link_to_linked_fb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_link_to_unlinked_ig",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_link_to_linked_ig",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_link_to_unlinked_rl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_link_to_linked_rl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WAWebWaffleFXServiceDataQueryV2Mutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"WAWebWaffleFXServiceDataQueryV2Mutation",selections:a},params:{id:"9475021792620702",metadata:{},name:"WAWebWaffleFXServiceDataQueryV2Mutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WAWebWaffleFXServiceDataQueryV2Mutation",["WAWebWaffleFXServiceDataQueryV2Mutation.graphql"],(function(a,b,c,d,e,f,g){var h;a=h!==void 0?h:h=b("WAWebWaffleFXServiceDataQueryV2Mutation.graphql");c=a;g["default"]=c}),98);
__d("WAWebWaffleFXWAMOUpdateUOOMMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"xfb_waffle_fx_wamo_update_uoom",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WAWebWaffleFXWAMOUpdateUOOMMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"WAWebWaffleFXWAMOUpdateUOOMMutation",selections:a},params:{id:"10031635203620145",metadata:{},name:"WAWebWaffleFXWAMOUpdateUOOMMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WAWebWaffleFXWAMOUpdateUOOMMutation",["WAWebWaffleFXWAMOUpdateUOOMMutation.graphql"],(function(a,b,c,d,e,f,g){var h;a=h!==void 0?h:h=b("WAWebWaffleFXWAMOUpdateUOOMMutation.graphql");c=a;g["default"]=c}),98);
__d("WAWebAccountLinkingAPI",["WALogger","WASmaxWaffleGetCertificateRPC","WASmaxWaffleRefreshAccessTokensRPC","WASmaxWaffleStateExistsRPC","WASmaxWaffleWFPingRPC","WAWebAPIParser","WAWebAccountLinkingConstants","WAWebAccountLinkingCryptoUtils","WAWebAccountLinkingDBOperations","WAWebAccountLinkingGatingUtils","WAWebAccountLinkingUtils","WAWebDirectConnectionX509","WAWebProtobufsE2E.pb","WAWebRelayClient","WAWebSendNonMessageDataRequest","WAWebUserPrefsGeneral","WAWebWaffleFXServiceDataQueryV2Mutation","WAWebWaffleFXWAMOUpdateUOOMMutation","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=Math.floor(Date.now()/1e3);try{a=(yield d("WASmaxWaffleGetCertificateRPC").sendGetCertificateRPC({hasPasswordPem:!0,hasPayloadEncCertificates:!0,timestampElementValue:a}));if(a.name==="GetCertificateResponseSuccess"){a=a.value.replyGetCertificateResponseMixin;a=(a=a.encryptionPem)==null?void 0:a.elementValue;if(a!=null){a=String.fromCharCode.apply(null,a);a=(yield d("WAWebDirectConnectionX509").extractCertificates(a));a=(yield d("WAWebAccountLinkingCryptoUtils").validateCertificateChain(a));if(a!=null)return a.getPublicKey({algorithm:{algorithm:{name:"RSA-OAEP",hash:{name:"SHA-1"}},usages:["encrypt"]}});d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Fetching valid certificate failed"])));return null}return null}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["fetchValidCertificate failed: ",""])),a)}});return y.apply(this,arguments)}function a(){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSendNonMessageDataRequest").sendPeerDataOperationRequest(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.WAFFLE_LINKING_NONCE_FETCH,{})});return z.apply(this,arguments)}function e(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebAccountLinkingDBOperations").getAccountLinkingData());if(a==null)return;var b=a.nonce;a=a.fbid;var c=(yield d("WAWebAccountLinkingCryptoUtils").generateRSAKeys()),e=c.publicKey;c=c.privateKey;e=(yield d("WAWebAccountLinkingCryptoUtils").cryptoKeyToPem(e,!0));b={version:1,timestamp:Date.now(),nonce:b,client_pub_key:e,client_pub_key_type:"RSA 2048"};e=(yield x());if(e==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] fetchValidCertificate failed"])));return}b=(yield d("WAWebAccountLinkingCryptoUtils").encryptWithAES(JSON.stringify(b)));var f=b.tag,g=b.iv,h=b.cipherText;b=b.key;b=(yield d("WAWebAccountLinkingCryptoUtils").cryptoKeyToBinary(b));e=(yield d("WAWebAccountLinkingCryptoUtils").encryptWithRSA(e,b));if(a!=null){b=(yield d("WASmaxWaffleRefreshAccessTokensRPC").sendRefreshAccessTokensRPC({rSAEncryptionMetadataMixinArgs:{encryptedKeyElementValue:e,nonceElementValue:g,encryptedDataElementValue:h,authTagElementValue:f},timestampElementValue:Date.now(),fbidElementValue:a}));if(b.name==="RefreshAccessTokensResponseSuccess"){e=d("WAWebAPIParser").parseRSAEncryptionMetadataMixin(b.value.encryptionMetadataRSAEncryptionMetadataMixin);g=e.key;h=e.nonce;f=e.tag;a=e.data;b=(yield d("WAWebAccountLinkingCryptoUtils").decryptWithRSA(c,g));e=(yield d("WAWebAccountLinkingCryptoUtils").binaryToCryptoKey(b));c=(yield d("WAWebAccountLinkingCryptoUtils").decryptWithAES(e,a,h,f));g=new TextDecoder("utf-8");b=g.decode(c);e=JSON.parse(b);a=e.data;h=JSON.parse(a);yield d("WAWebAccountLinkingDBOperations").updateAccesstoken(h.access_token)}}});return A.apply(this,arguments)}function f(){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebAccountLinkingDBOperations").getAccountLinkingData());if(a==null)return;var b=a.fbid;a=a.accesstoken;if(a==null)return;a={version:1,timestamp:Date.now(),access_token:a};var c=(yield x());if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] fetchValidCertificate failed"])));return}a=(yield d("WAWebAccountLinkingCryptoUtils").encryptWithAES(JSON.stringify(a)));var e=a.tag,f=a.iv,g=a.cipherText;a=a.key;a=(yield d("WAWebAccountLinkingCryptoUtils").cryptoKeyToBinary(a));c=(yield d("WAWebAccountLinkingCryptoUtils").encryptWithRSA(c,a));if(b!=null){a=(yield d("WASmaxWaffleWFPingRPC").sendWFPingRPC({rSAEncryptionMetadataMixinArgs:{encryptedKeyElementValue:c,nonceElementValue:f,encryptedDataElementValue:g,authTagElementValue:e},timestampElementValue:Date.now(),fbidElementValue:b}));d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Ping Response: ",""])),a);if(a.name==="WFPingResponseSuccess"){c=a.value.pingIntervalElementValue;yield d("WAWebAccountLinkingDBOperations").updatePingInterval(c)}else d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Ping failed"])))}else d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Ping failed due to null waEntFbid"])))});return B.apply(this,arguments)}function C(){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WASmaxWaffleStateExistsRPC").sendStateExistsRPC({timestampElementValue:Date.now()}));d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["State Exists Response: ",""])),a);if(a.name==="StateExistsResponseSuccess"){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] State exists response success"])));a=d("WAWebAccountLinkingConstants").AccountLinkingStateExists.cast(a.value.wfStateElementValue);if(a!=null)return a;d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Failed to parse state exists response"])))}});return D.apply(this,arguments)}function E(){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Fetching service data"])));var a=(yield d("WAWebAccountLinkingDBOperations").getAccountLinkingData());if(a==null)return;a=a.accesstoken;a=(yield d("WAWebRelayClient").commitMutation(c("WAWebWaffleFXServiceDataQueryV2Mutation"),{},{accessToken:a}));if(a==null){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Fetching service data result"])));return}a=d("WAWebAPIParser").parseServiceData(a);if(a==null){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Fetching service data failed"])));return}yield d("WAWebAccountLinkingDBOperations").updateServiceData(a)});return F.apply(this,arguments)}function G(){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Updating UOOM data"])));var a=(yield d("WAWebAccountLinkingDBOperations").getAccountLinkingData());if(a==null)return;a=a.accesstoken;a=(yield d("WAWebRelayClient").commitMutation(c("WAWebWaffleFXWAMOUpdateUOOMMutation"),{},{accessToken:a}));if(a==null){d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Updating UOOM data result"])));return}a.xfb_waffle_fx_wamo_update_uoom===!0&&(d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Updating UOOM data success"]))),d("WAWebUserPrefsGeneral").setGPCcompleted(!0))});return H.apply(this,arguments)}function I(){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){!d("WAWebUserPrefsGeneral").getGPCCompleted()&&d("WAWebAccountLinkingUtils").checkGPCSetting()&&d("WAWebAccountLinkingGatingUtils").accountLinkingEnabled()&&(yield G())});return J.apply(this,arguments)}g.fetchValidCertificate=x;g.requestNonceFromPrimary=a;g.refreshAccessToken=e;g.ping=f;g.stateExists=C;g.fetchServiceData=E;g.updateUOOMData=G;g.checkAndTriggerUOOMMutation=I}),98);
__d("WAWebAccountLinkingHandler",["WAWebAccountLinkingAPI","WAWebAccountLinkingConstants","WAWebAccountLinkingDBOperations","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){return d("WAWebAccountLinkingDBOperations").updateAccountLinkingState(d("WAWebAccountLinkingConstants").AccountLinkState.Paused)}function a(){return d("WAWebAccountLinkingDBOperations").purgeWaffleData()}function c(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebAccountLinkingDBOperations").getAccountLinkingData());if(a!=null){a.linkState===d("WAWebAccountLinkingConstants").AccountLinkState.Active&&(yield d("WAWebAccountLinkingAPI").ping(),yield d("WAWebAccountLinkingAPI").fetchServiceData());if(a.linkState===d("WAWebAccountLinkingConstants").AccountLinkState.Paused){a=(yield d("WAWebAccountLinkingAPI").stateExists());if(a!=null)switch(a){case d("WAWebAccountLinkingConstants").AccountLinkingStateExists.UNLINKED:yield d("WAWebAccountLinkingDBOperations").purgeWaffleData();break;case d("WAWebAccountLinkingConstants").AccountLinkingStateExists.ACTIVE:yield d("WAWebAccountLinkingAPI").requestNonceFromPrimary();break;case d("WAWebAccountLinkingConstants").AccountLinkingStateExists.PAUSED:break}}}else{a=(yield d("WAWebAccountLinkingAPI").stateExists());if(a!=null)switch(a){case d("WAWebAccountLinkingConstants").AccountLinkingStateExists.UNLINKED:break;case d("WAWebAccountLinkingConstants").AccountLinkingStateExists.ACTIVE:yield d("WAWebAccountLinkingAPI").requestNonceFromPrimary();break;case d("WAWebAccountLinkingConstants").AccountLinkingStateExists.PAUSED:yield h();break}}});return i.apply(this,arguments)}g.handlePausedState=h;g.handleUnlinkedState=a;g.handleResyncState=c}),98);
__d("WAWebAccountLinkingNotificationHandler",["WALogger","WASmaxInWaffleWFNotificationRequest","WAWebAccountLinkingConstants","WAWebAccountLinkingGatingUtils","WAWebAccountLinkingHandler","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebAccountLinkingGatingUtils").accountLinkingEnabled()){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] account linking is not enabled"])));return}a=d("WASmaxInWaffleWFNotificationRequest").parseWFNotificationRequest(a);if(a.success){a=d("WAWebAccountLinkingConstants").AccountLinkingNotificationEvent.cast(a.value.notificationMetadataEvent);if(a==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Failed to parse account linking notification"])));return}d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Succesfully parsed account linking notification"])));switch(a){case d("WAWebAccountLinkingConstants").AccountLinkingNotificationEvent.STATE_SUSPENDED:d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Account is in paused state"])));yield d("WAWebAccountLinkingHandler").handlePausedState();break;case d("WAWebAccountLinkingConstants").AccountLinkingNotificationEvent.STATE_DELETED:d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Account is unlinked"])));yield d("WAWebAccountLinkingHandler").handleUnlinkedState();break;case d("WAWebAccountLinkingConstants").AccountLinkingNotificationEvent.CLIENT_RESYNC:d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Client Resync"])));yield d("WAWebAccountLinkingHandler").handleResyncState();break;default:d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Unhandled account linking notification event"])));break}}else d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Failed to parse account linking notification"])))});return p.apply(this,arguments)}g.handleAccountLinkingNotification=a}),98);
__d("WAWebAccountLinkingScheduledJobs",["WALogger","WAWebAccountLinkingAPI","WAWebAccountLinkingDBOperations","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebAccountLinkingDBOperations").getPingExpirationTime()),b=Date.now()/1e3;b>a?(yield d("WAWebAccountLinkingAPI").ping(),yield d("WAWebAccountLinkingAPI").fetchServiceData()):d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WAFFLE] Cannot ping yet"])))});return i.apply(this,arguments)}g.scheduledWaffleJobs=a}),98);
__d("WAWebAdvStoredTimestampExpiredWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({AdvStoredTimestampExpired:[3036,{advExpireTimeInHours:[1,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,1,1],"regular"]},{AdvStoredTimestampExpired:[]});g.AdvStoredTimestampExpiredWamEvent=a}),98);
__d("WAWebAdvDeviceInfoCheckJob",["Promise","WAJids","WALogger","WATimeUtils","WAWebABProps","WAWebAdvStoredTimestampExpiredWamEvent","WAWebApiDeviceList","WAWebApiPendingDeviceSync","WAWebApiTasksScheduledTime","WAWebIdentityUpdateDeviceTableApi","WAWebLastADVCheckTimeApi","WAWebLogoutReasonConstants","WAWebSocketLogoutJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=25*d("WATimeUtils").HOUR_SECONDS,r=function(){function a(a){this.advToSystemBridge=a}var c=a.prototype;c.run=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["adv: running device info check with t=",""])),a).tags("automated-device-verification");var b=this.advToSystemBridge,c=(yield b.getUsersForExpiration(a)),e=c.usersExpired;c=c.usersCloseToExpiration;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["adv: removing companions: ",""])),Array.from(e.entries()).map(function(a){var b=a[0];a=a[1];return"\n\t"+b.toString()+" (t="+a.timestamp+")"})).tags("automated-device-verification");b.removeCompanions(e);b.sendADVStoredTimestampExpiredEvents(e,a);a=Array.from(e.keys()).concat(Array.from(c.keys())).filter(function(a){return!b.canRemoveUserDevices(a)});b.sendOrQueueDeviceUsyncQuery(a)["catch"](function(a){return d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["adv: error sending usync query: ",""])),a).tags("automated-device-verification")});return b.recordLocalTimestamp()});function c(b){return a.apply(this,arguments)}return c}();return a}(),s=function(){function a(){}var c=a.prototype;c.getNumDaysKeyIndexListExpiration=function(){return d("WAWebABProps").getABPropConfigValue("num_days_key_index_list_expiration")};c.getNumDaysBeforeDeviceExpiryCheck=function(){return d("WAWebABProps").getABPropConfigValue("num_days_before_device_expiry_check")};c.getUsersForExpiration=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,c=(yield d("WAWebApiDeviceList").getAllDeviceLists()),e=(yield d("WAWebLastADVCheckTimeApi").getLastADVDeviceInfoCheckTime()),f=this.getNumDaysKeyIndexListExpiration()*d("WATimeUtils").DAY_SECONDS,g=new Map(),h=new Map();c.forEach(function(c){if(c.deleted||z(c))return;else A(a,f,c,e)?g.set(d("WAWebWidFactory").createUserWid(c.id),c):B(a,f-b.getNumDaysBeforeDeviceExpiryCheck()*d("WATimeUtils").DAY_SECONDS,c)&&h.set(d("WAWebWidFactory").createUserWid(c.id),c)});return{usersExpired:g,usersCloseToExpiration:h}});function c(b){return a.apply(this,arguments)}return c}();c.sendADVStoredTimestampExpiredEvents=function(a,b){var c=this;a.forEach(function(a){a=b-(a.timestamp+c.getNumDaysKeyIndexListExpiration()*d("WATimeUtils").DAY_SECONDS);if(a<0)return;a=Math.round(a/d("WATimeUtils").HOUR_SECONDS);new(d("WAWebAdvStoredTimestampExpiredWamEvent").AdvStoredTimestampExpiredWamEvent)({advExpireTimeInHours:a}).commit()})};c.sendOrQueueDeviceUsyncQuery=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["adv_device_info_check: sending usync query"])));yield d("WAWebApiPendingDeviceSync").addUserToPendingDeviceSync(a.map(function(a){return a.toString()}));return d("WAWebApiPendingDeviceSync").doPendingDeviceSync()});function c(b){return a.apply(this,arguments)}return c}();c.canRemoveUserDevices=function(a){return!1};c.removeCompanions=function(a){var c=Array.from(a.entries());c=c.some(function(a){var b=a[0];a[1];return b.user===d("WAWebUserPrefsMeUser").getMePnUserOrThrow().user});if(c&&d("WAWebABProps").getABPropConfigValue("web_adv_logout_on_self_device_list_expired")){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Logging out due to own expired device"])));void d("WAWebSocketLogoutJob").socketLogout(d("WAWebLogoutReasonConstants").LogoutReason.InvalidAdvStatus);return(p||(p=b("Promise"))).resolve()}return(p||(p=b("Promise"))).all(Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return d("WAWebIdentityUpdateDeviceTableApi").clearDeviceRecord(b,a.devices)}))};c.recordLocalTimestamp=function(){return(p||(p=b("Promise"))).resolve()};return a}(),t="advDeviceInfoCheck",u;function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){u!=null&&(self.clearTimeout(u),u=null);var a=d("WATimeUtils").unixTimeWithoutClockSkewCorrection(),c=(yield d("WAWebLastADVCheckTimeApi").getLastADVDeviceInfoCheckTime()),e=0,f=function(){return(p||(p=b("Promise"))).resolve()};c!=null?(e=Math.max(d("WATimeUtils").DAY_SECONDS-(a-c),0),f=function(){return y()},d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["scheduled in "," seconds"])),e).tags("automated-device-verification")):d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["skip first run"]))).tags("automated-device-verification");u=self.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield f()}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["error running the adv device check job"]))).tags("automated-device-verification")}u=null;var a=d("WATimeUtils").unixTimeWithoutClockSkewCorrection();d("WAWebLastADVCheckTimeApi").setLastADVDeviceInfoCheckTime(a);d("WAWebApiTasksScheduledTime").updateTaskScheduledTime(t,d("WATimeUtils").castToUnixTime(a));v()}),e*1e3)});return w.apply(this,arguments)}var x;function y(){x==null&&(x=new r(new s()));return x.run(d("WATimeUtils").unixTimeWithoutClockSkewCorrection())}function z(a){return a.devices.length===1&&a.devices[0].id===d("WAJids").DEFAULT_DEVICE_ID}function A(a,b,c,d){if(a-c.timestamp>=b)return!0;return c.expectedTsUpdateTs!=null?a-c.expectedTsUpdateTs>=q&&c.expectedTsLastDeviceJobTs!==d:!1}function B(a,b,c){if(a-c.timestamp>=b)return!0;return c.expectedTs!=null?c.expectedTs>c.timestamp:!1}g.AdvToSystemBridgeImpl=s;g.scheduleAdvDeviceInfoCheck=v;g.runAdvDeviceInfoCheck=y}),98);
__d("WAWebAgentSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebAgentCollection","WAWebAgentModelUtils","WAWebMsgCollection","WAWebSchemaAgent","WAWebSyncdIndexUtils","WAWebUnattributedMessageCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function n(){(m||(m=b("Promise"))).resolve()["finally"](function(){d("WAWebUnattributedMessageCollection").UnattributedMessageCollection.getModelsArray().forEach(function(a){var b=a.id;a=a.deviceId;var c=d("WAWebMsgCollection").MsgCollection.get(b);if(c==null){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["agent:delayed-attribution: couldn't find message id::",""])),b);return}var e=d("WAWebAgentCollection").AgentCollection.getByDeviceId(a);if(e==null){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["agent:delayed-attribution: couldn't find Agent for message id::"," with device id::",""])),b,a);return}c.agentId=String(e.id);d("WAWebUnattributedMessageCollection").UnattributedMessageCollection.remove(b)})})}a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.Agent};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[],c=[];a=a.map(function(a){try{var e=a.indexParts;e=e[1];e||d("WAWebSyncdIndexUtils").throwInvalidActionIndex();if(a.operation==="remove"){c.push(e);return{actionState:d("WASyncdConst").SyncActionState.Success}}if(a.operation==="set"){var f;a=a.value.agentAction;if(!a){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["agent:syncd: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}f=d("WAWebAgentModelUtils").getFormattedAgentName((f=a.name)!=null?f:"",(f=a.deviceID)!=null?f:-1);f===""&&d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["agent:syncd: agentAction.name is empty"])));b.push({id:e,name:f,deviceId:(e=a.deviceID)!=null?e:-1,isDeleted:Boolean(a.isDeleted)});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["agent:syncd: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield d("WAWebSchemaAgent").getAgentTable().bulkCreateOrMerge(b);d("WAWebAgentCollection").AgentCollection.add(b.map(function(a){return babelHelpers["extends"]({},a)}),{merge:!0});yield d("WAWebSchemaAgent").getAgentTable().bulkRemove(c);d("WAWebAgentCollection").AgentCollection.remove(c);n();return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebAltDeviceLinkingBase32Encode",[],(function(a,b,c,d,e,f){var g="123456789ABCDEFGHJKLMNPQRSTVWXYZ";function a(a){a=new DataView(a.buffer,a.byteOffset,a.byteLength);var b=0,c=0,d="";for(var e=0;e<a.byteLength;e++){c=c<<8|a.getUint8(e);b+=8;while(b>=5)d+=g[c>>>b-5&31],b-=5}b>0&&(d+=g[c<<5-b&31]);return d}f.bytesToCrockford=a}),66);
__d("WAWebAltDeviceLinkingAlgorithm",["WAArrayBufferUtils","WABinary","WAByteArray","WACryptoHkdf","WALogger","WAWebAltDeviceLinkingApi","WAWebAltDeviceLinkingBase32Encode","WAWebCryptoCurve25519","WAWebSignalStoreApi","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function m(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: generate random code"])));var a=new Uint8Array(5);self.crypto.getRandomValues(a);return d("WAWebAltDeviceLinkingBase32Encode").bytesToCrockford(a)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{return yield a()}catch(c){(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null||a.addPoint(b);throw c}});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c===void 0&&(c=!1);b=new(d("WABinary").Binary)(b);b=(yield self.crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-256",salt:b.readBuffer(),iterations:2<<16},a,{name:"AES-CTR",length:256},c,["encrypt","decrypt"]));return b});return q.apply(this,arguments)}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: encrypt companion hello"])));b={name:"AES-CTR",length:64,counter:b};b=(yield self.crypto.subtle.encrypt(b,c,a));return b});return s.apply(this,arguments)}function t(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: decrypt primary hello"])));var e={name:"AES-CTR",length:64,counter:b};b=(yield n(function(){return self.crypto.subtle.decrypt(e,c,a)},"fail decrypt primary ephemeral pub"));return b});return u.apply(this,arguments)}function a(){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=m(),b=(yield d("WAWebCryptoCurve25519").keyPair()),c=new Uint8Array(32);self.crypto.getRandomValues(c);var e=new Uint8Array(16);self.crypto.getRandomValues(e);b=(yield w(a,b,c,e));return babelHelpers["extends"]({},b,{linkCodePairingSecret:a})});return v.apply(this,arguments)}function w(a,b,c,d){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=(yield self.crypto.subtle.importKey("raw",new TextEncoder().encode(a),{name:"PBKDF2"},!1,["deriveKey"]));var f=(yield p(a,c)),g=(yield n(function(){return r(b.pubKey,e,f)},"fail encrypt companion hello")),h=new(d("WABinary").Binary)();h.writeByteArray(c);h.writeByteArray(e);h.writeByteArray(new Uint8Array(g));c=h.readBuffer();return{linkCodePairingWrappedCompanionEphemeralPub:c,linkCodeKey:a,linkCodePairingCompanionADVEphemeralKeyPair:b}});return x.apply(this,arguments)}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WACryptoHkdf").extractWithSaltAndExpand(a,b,"link_code_pairing_key_bundle_encryption_key",32));return a});return z.apply(this,arguments)}function A(a,b,c){return d("WAArrayBufferUtils").concatBuffers([a,b,d("WAByteArray").uint8ArrayToBuffer(c)])}function B(a,b,c){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: encrypt key bundle"])));var e=(yield self.crypto.subtle.importKey("raw",a,{name:"AES-GCM"},!1,["encrypt"])),f={name:"AES-GCM",iv:b};a=(yield n(function(){return self.crypto.subtle.encrypt(f,e,c)},"fail encrypt wrapped key bundle"));return a});return C.apply(this,arguments)}function e(a,b,c){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: create adv secret material"])));a=d("WAArrayBufferUtils").concatBuffers([a,b,d("WAByteArray").uint8ArrayToBuffer(c)]);return a}function f(a){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WACryptoHkdf").extractWithSaltAndExpand(a,null,"adv_secret",32));return a});return D.apply(this,arguments)}function E(a,b,c,d){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=(yield d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo());if(g==null)throw c("err")("alt pairing: Did not find registration info");var h=new Uint8Array(32);self.crypto.getRandomValues(h);var i=new Uint8Array(32);self.crypto.getRandomValues(i);var j=new Uint8Array(12);self.crypto.getRandomValues(j);return G(a,b,e,f,g.identityKeyPair.pubKey,g.identityKeyPair.privKey,h,i,j)});return F.apply(this,arguments)}function G(a,b,c,d,e,f,g,h,i){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k){a=new(d("WABinary").Binary)(a);var l=a.readByteArrayView(32),m=a.readByteArrayView(16),o=a.readByteArrayView(),q=(yield p(e,l)),r=(yield n(function(){return t(o,m,q)},"fail decrypt primary ephemeral pub"));if(r.byteLength===0)throw c("err")("alt pairing: linkCodePairingDecryptedPrimaryEphemeralPub is an empty buffer");a=(yield n(function(){return d("WAWebCryptoCurve25519").sharedSecret(r,f.privKey)},"fail generate ephemeral shared secret"));e=(yield y(a,j));l=A(g,b,i);e=(yield B(e,k,l));l=new(d("WABinary").Binary)();l.writeByteArray(j);l.writeByteArray(k);l.writeBuffer(e);j=(yield n(function(){return d("WAWebCryptoCurve25519").sharedSecret(b,h)},"fail generate identity shared secret"));k=d("WAArrayBufferUtils").concatBuffers([a,j,d("WAByteArray").uint8ArrayToBuffer(i)]);e=(yield d("WACryptoHkdf").extractWithSaltAndExpand(k,null,"adv_secret",32));a=l.readBuffer();return{companionIdentityPublic:g,linkCodePairingWrappedKeyBundle:a,advSecret:e}});return H.apply(this,arguments)}g.generateRandomCode=m;g.deriveKey=p;g.encryptCompanionHello=r;g.decryptPrimaryHello=t;g.companionHello=a;g.companionHelloInternal=w;g.getBundleEncryptionKey=y;g.getKeyBundle=A;g.encryptKeyBundle=B;g.createAdvSecretMaterial=e;g.createAdvSecret=f;g.companionFinish=E;g.companionFinishInternal=G}),98);
__d("WAWebCompanionRegClientUtils",["$InternalEnum","WAWebMiscBrowserUtils"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({UNKNOWN:0,CHROME:1,EDGE:2,FIREFOX:3,IE:4,OPERA:5,SAFARI:6,ELECTRON:7,UWP:8,OTHER_WEB_CLIENT:9});e=(d={},d[h.UNKNOWN]="0",d[h.CHROME]="1",d[h.EDGE]="2",d[h.FIREFOX]="3",d[h.IE]="4",d[h.OPERA]="5",d[h.SAFARI]="6",d[h.ELECTRON]="7",d[h.UWP]="8",d[h.OTHER_WEB_CLIENT]="9",d);f=e[a()];function a(){var a=c("WAWebMiscBrowserUtils").info().name;if(!a)return h.UNKNOWN;switch(a){case"Chrome":return h.CHROME;case"Firefox":return h.FIREFOX;case"IE":return h.IE;case"Opera":return h.OPERA;case"Safari":return h.SAFARI;case"Edge":return h.EDGE;default:return h.OTHER_WEB_CLIENT}}g.DEVICE_PLATFORM=f}),98);
__d("WAWebAltDeviceLinkingIq",["WASmaxMdCompanionFinishRPC","WASmaxMdCompanionHelloRPC","WAWebCompanionRegClientUtils","WAWebMiscBrowserUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=function(a){function b(b,c){b=a.call(this,b)||this;b.name="CompanionHelloError";b.type=c;return b}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),i=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="CompanionFinishError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));function a(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){a=(yield d("WASmaxMdCompanionHelloRPC").sendCompanionHelloRPC({linkCodePairingNonceArgs:{linkCodePairingNonceElementValue:new Uint8Array(1)},linkCodeCompanionRegJid:a,linkCodePairingWrappedCompanionEphemeralPubElementValue:new Uint8Array(b),companionServerAuthKeyPubElementValue:new Uint8Array(e),companionPlatformIdElMixinArgs:{companionPlatformIdElementValue:d("WAWebCompanionRegClientUtils").DEVICE_PLATFORM},companionPlatformDisplayElMixinArgs:{companionPlatformDisplayElementValue:c("WAWebMiscBrowserUtils").info().name+" ("+c("WAWebMiscBrowserUtils").info().os+")"},linkCodeCompanionRegShouldShowPushNotification:f?"true":"false"}));if(a.name==="CompanionHelloResponseNotifyCompanion")return a.value.linkCodeCompanionRegLinkCodePairingRefElementValue;else if(a.name==="CompanionHelloResponseError")throw new h("alt pairing: Got an error from alt paring: companion hello: "+a.value.errorIqMixinErrors.name,a.value.errorIqMixinErrors);throw new h("alt pairing: Got an unknown error from alt paring: companion hello")});return j.apply(this,arguments)}function e(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){e=(yield d("WASmaxMdCompanionFinishRPC").sendCompanionFinishRPC({linkCodeCompanionRegJid:e,linkCodePairingWrappedKeyBundleElementValue:new Uint8Array(a),companionIdentityPublicElementValue:new Uint8Array(b),linkCodePairingRefElementValue:c}));if(e.name==="CompanionFinishResponseSuccess")return;throw new i("alt pairing: Got an error from alt paring: companion finish")});return k.apply(this,arguments)}g.CompanionHelloError=h;g.CompanionFinishError=i;g.sendCompanionHello=a;g.sendCompanionFinish=e}),98);
__d("WAWebAltDeviceLinkingApi",["invariant","$InternalEnum","Promise","WABase64","WAByteArray","WACryptoUtils","WAJids","WALogger","WAQplTypes","WATimeUtils","WAWebAdvSignatureApi","WAWebAltDeviceLinkingAlgorithm","WAWebAltDeviceLinkingIq","WAWebBackendApi","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUserPrefsInfoStore","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="MissingCachedRefError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),u=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="NoiseInfoIsNullError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),v=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="InvalidRefError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),w=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="OldCodeError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),x=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="MaxPrimaryHelloError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),y=b("$InternalEnum").Mirrored(["QR_CODE","ALT_DEVICE_LINKING"]),z=b("$InternalEnum").Mirrored(["NotStarted","Initialized","AfterSendCompanionHello","AfterSendCompanionFinish"]),A=function(){function a(){this.clear()}var b=a.prototype;b.clear=function(){this.helloCached=null,this.ref=null,this.phone=null,this.stage=z.NotStarted,this.codeGenerationTs=null,this.primaryHelloAttemptCount=0,this.marker!=null&&(this.marker.end(d("WAQplTypes").QuickLogActionType.ABORTED),this.marker=null)};return a}(),B=180,C=3,D=new A(),E=y.QR_CODE;function F(){return E}function G(a){E=a}function a(){return D.ref}function H(){return D.marker}function e(){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: initialize alt linking"]))),D.clear(),D.marker=d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.ALTERNATIVE_DEVICE_LINKING),yield d("WAWebUserPrefsMultiDevice").setADVSecretKey(),D.stage=z.Initialized,G(y.ALT_DEVICE_LINKING)});return I.apply(this,arguments)}function f(){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: initialize QR linking"])));if(F()===y.ALT_DEVICE_LINKING){var a;(a=H())==null||a.addPoint("switch_to_qr")}D.clear();yield d("WAWebAdvSignatureApi").generateADVSecretKey();D.stage=z.NotStarted;G(y.QR_CODE)});return J.apply(this,arguments)}function K(a,b){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: start linking flow"])));var c=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());if(c==null)throw new u("alt pairing: noise info is null");D.phone=a;D.codeGenerationTs=d("WATimeUtils").unixTime();return M(D,c,b)});return L.apply(this,arguments)}function M(a,b,c){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;if(!c("gkx")("26258")){var g;(g=D.marker)==null||g.annotate({string:{phone:a.phone}})}a.stage===z.Initialized||h(0,75727,a.stage);(g=D.marker)==null||g.addPoint("generate_code_start");g=(yield d("WAWebAltDeviceLinkingAlgorithm").companionHello());a.helloCached=g;(f=D.marker)==null||f.addPoint("generate_code_end");d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: completed companion hello generation"])));(f=D.marker)==null||f.addPoint("send_companion_hello_start");a.phone!=null||h(0,67482);a.ref=(yield d("WAWebAltDeviceLinkingIq").sendCompanionHello(d("WAJids").toPhoneUserJid(a.phone),g.linkCodePairingWrappedCompanionEphemeralPub,b.staticKeyPair.pubKey,e));(f=D.marker)==null||f.addPoint("send_companion_hello_end");d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: sent companion hello"])));if(a.ref==null)throw new t("alt pairing:could not get ref from companion hello");c("gkx")("26258")||d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: companion hello ref received: ",""])),a.ref);a.stage=z.AfterSendCompanionHello;return g.linkCodePairingSecret});return N.apply(this,arguments)}function O(a){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: handling primary hello"])));d("WAWebBackendApi").frontendFireAndForget("primaryHelloReceivedAltLinking",{});try{return yield S(a,D,d("WATimeUtils").unixTime())}catch(a){d("WAWebBackendApi").frontendFireAndForget("errorAltLinking",{});return(s||(s=b("Promise"))).reject(a)}});return P.apply(this,arguments)}function Q(a){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebAdvSignatureApi").generateADVSecretKey(),a.stage=z.AfterSendCompanionHello});return R.apply(this,arguments)}function S(a,b,c){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;(f=D.marker)==null||f.addPoint("handle_primary_hello_start");b.primaryHelloAttemptCount++;if(b.stage===z.AfterSendCompanionFinish)if(b.primaryHelloAttemptCount<=C)yield Q(b);else throw new x("alt pairing: reached max allowed primary hello attempts per code");b.stage===z.AfterSendCompanionHello||h(0,75728,b.stage);c("gkx")("26258")||d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: cached companion hello ref: ",""])),b.ref);if(b.ref==null)throw new t("alt pairing:could not get ref from companion hello");if(!d("WACryptoUtils").uint8ArraysEqual(b.ref,a.linkCodeCompanionRegLinkCodePairingRefElementValue))throw new v("alt pairing: handle primary hello: received unexpected ref");if(b.helloCached==null)throw c("err")("alt pairing: cannot find cached hello data");if(b.codeGenerationTs==null)throw c("err")("alt pairing: cannot find codeGenerationTs");if(e-b.codeGenerationTs>B)throw new w("alt pairing: cannot process primaryHello for an old code");f=b.helloCached;e=(yield d("WAWebAltDeviceLinkingAlgorithm").companionFinish(d("WAByteArray").uint8ArrayToBuffer(a.linkCodeCompanionRegLinkCodePairingWrappedPrimaryEphemeralPubElementValue),d("WAByteArray").uint8ArrayToBuffer(a.linkCodeCompanionRegPrimaryIdentityPubElementValue),f.linkCodeKey,f.linkCodePairingCompanionADVEphemeralKeyPair));d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: completed companion finish local algorithm"])));yield d("WAWebUserPrefsMultiDevice").setADVSecretKey(d("WABase64").encodeB64(e.advSecret));a=b.ref;if(a==null)throw new t("alt pairing: cannot find cached ref");f=b.phone;if(f==null)throw new t("alt pairing: phone is empty");yield d("WAWebAltDeviceLinkingIq").sendCompanionFinish(e.linkCodePairingWrappedKeyBundle,e.companionIdentityPublic,a,d("WAJids").toPhoneUserJid(f));d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: sent companion finish to server"])));b.stage=z.AfterSendCompanionFinish;(e=D.marker)==null||e.addPoint("handle_primary_hello_end")});return T.apply(this,arguments)}g.InvalidRefError=v;g.OldCodeError=w;g.MaxPrimaryHelloError=x;g.PairingType=y;g.AltPairingStage=z;g.PairingState=A;g.getPairingType=F;g.setPairingType=G;g.getCurrentRef=a;g.getCurrentMarker=H;g.initializeAltDeviceLinking=e;g.initializeQRLinking=f;g.startAltLinkingFlow=K;g.handlePrimaryHello=O;g.handlePrimaryHelloInternal=S}),98);
__d("WAWebAltDeviceLinkingHandleNotification",["WACryptoUtils","WASmaxMdPrimaryHelloNotifyCompanionRPC","WASmaxMdRefreshCodeNotifyCompanionRPC","WASmaxOutMessageFallbackDeliverResponseBadStanza","WAWebAltDeviceLinkingApi","WAWebBackendApi","err"],(function(a,b,c,d,e,f,g){var h;function a(){return h}function b(a){var b=a.content;if(!Array.isArray(b)||!b.length)return d("WASmaxOutMessageFallbackDeliverResponseBadStanza").makeDeliverResponseBadStanza({ackError:487},a);b=b[0].attrs;if(b.stage==="primary_hello")return i(a);else if(b.stage==="refresh_code")return j(a);return d("WASmaxOutMessageFallbackDeliverResponseBadStanza").makeDeliverResponseBadStanza({ackError:487},a)}function i(a){a=d("WASmaxMdPrimaryHelloNotifyCompanionRPC").receivePrimaryHelloNotifyCompanionRPC(a);var b=a.parsedRequest;a=a.makePrimaryHelloNotifyCompanionResponseAck;if(!b){d("WAWebBackendApi").frontendFireAndForget("errorAltLinking",{});throw c("err")("alt pairing: could not parse primary hello")}try{h=d("WAWebAltDeviceLinkingApi").handlePrimaryHello(b);return a()}catch(a){(b=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null||b.addPoint("primary_hello_error");throw a}}function j(a){a=d("WASmaxMdRefreshCodeNotifyCompanionRPC").receiveRefreshCodeNotifyCompanionRPC(a);var b=a.parsedRequest;a=a.makeRefreshCodeNotifyCompanionResponseAck;if(!b)throw c("err")("alt pairing: could not parse refresh code");var e=d("WAWebAltDeviceLinkingApi").getCurrentRef();if(e!=null&&d("WACryptoUtils").uint8ArraysEqual(e,b.linkCodeCompanionRegLinkCodePairingRefElementValue))if(b.linkCodeCompanionRegForceManualRefresh==="true"){(e=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null||e.addPoint("receive_force_refresh_code");d("WAWebBackendApi").frontendFireAndForget("forceManualRefresh",{ref:b.linkCodeCompanionRegLinkCodePairingRefElementValue})}else{(e=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null||e.addPoint("receive_refresh_code");d("WAWebBackendApi").frontendFireAndForget("refreshAltLinkingCode",{ref:b.linkCodeCompanionRegLinkCodePairingRefElementValue})}return a()}g.getPrimaryHello=a;g.handleAltDeviceLinkingNotification=b}),98);
__d("WAWebLinkDeviceApiCmdTooltip.react",["fbt","WAWebApi","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={tooltip:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",display:"x1rg5ohu",position:"x1n2onr6",zIndex:"x1vjfegm",top:"xu5yr9u",maxWidth:"x65f84u",textWrap:"xk4td0m",backgroundColor:"x1l6jbk0",color:"xbkck4w",fontSize:"x1f6kntn",textAlign:"x2b8uid","::before_position":"x1hmns74","::before_display":"x1fgarty","::before_width":"xk9ib7f","::before_height":"x1943h6x","::before_content":"x1cpjm7i","::before_borderInlineStartWidth":"x1c3l08f","::before_borderInlineEndWidth":"xb1m30w","::before_borderInlineStartStyle":"x1rovbrg","::before_borderInlineEndStyle":"x1v3rft4","::before_borderInlineStartColor":"x16dwbfg","::before_borderInlineEndColor":"x18ylnmp","::before_borderBottomWidth":"x1bsu2cp","::before_borderBottomStyle":"x1opv7go","::before_borderBottomColor":"x1eusqyq","::before_top":"x9cv1sk","::before_bottom":"x1ncvqdy","::before_insetInlineStart":"xfbisj7","::before_marginInlineStart":"x1gtk6dz","::before_transform":"x1p0xrc1",$$css:!0}};function m(a){return k.jsx("div",{className:"x10l6tqk x10w3d4m xbudbmw xvue9z xo5owp6 x1plvlek xryxfnj x2b8uid",children:k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.tooltip,d("WAWebUISpacing").uiPadding.vert15,d("WAWebUISpacing").uiPadding.horiz20),{children:a.tip}))})}m.displayName=m.name+" [from "+f.id+"]";function a(a){a=a.apiCmd;if(a)switch(a.resultType){case d("WAWebApi").APICmd.GROUP_INVITE:return k.jsx(m,{tip:h._(/*BTDS*/"Log into WhatsApp Web to join this WhatsApp group")});case d("WAWebApi").APICmd.MSG_SEND:return k.jsx(m,{tip:h._(/*BTDS*/"Log into WhatsApp Web to share")})}return k.jsx(k.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g.LinkDeviceApiCmdTooltip=a}),226);
__d("WAWebLinkDeviceAutoLogoutToggle.react",["fbt","WAWebCheckBox.react","WAWebFlex.react","WAWebInfoRefreshedIcon.react","WDSTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||d("react"),l={autoLogoutToggleM1:{position:"x1n2onr6",$$css:!0},infoRefreshedIcon:{color:"x14ug900",$$css:!0}};function a(a){var b=a.autoLogoutEnabled,e=a.onAutoLogoutToggle;a=a.xstyle;return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",dir:"auto",columnGap:12,className:(i||(i=c("stylex")))([l.autoLogoutToggleM1,a]),children:[k.jsx(d("WAWebFlex.react").FlexColumn,{margin:4,children:k.jsx(d("WAWebCheckBox.react").CheckBox,{id:"auto-logout-toggle",checked:!b,onChange:e,theme:d("WAWebCheckBox.react").CheckboxTheme.AUTO_LOGOUT})}),k.jsx(d("WAWebFlex.react").FlexColumn,{marginTop:4,marginBottom:4,children:k.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:4,align:"center",children:[k.jsx(d("WAWebFlex.react").FlexColumn,{children:k.jsx("label",{className:"xt0psk2 xk50ysn",htmlFor:"auto-logout-toggle",children:h._(/*BTDS*/"Stay logged in on this browser")})}),k.jsx(d("WAWebFlex.react").FlexColumn,{children:k.jsx(m,{})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";function m(){return k.jsx(c("WDSTooltip.react"),{label:h._(/*BTDS*/"If selected, you'll stay logged into WhatsApp Web after closing the browser tab."),children:k.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{width:16,height:16,iconXstyle:l.infoRefreshedIcon},"info_icon")})}m.displayName=m.name+" [from "+f.id+"]";g.LinkDeviceAutoLogoutToggle=a}),226);
__d("WAWebLinkDeviceCommonComponents.react",["WAWebClickable.react","WAWebEnvironment","WAWebUISpacing","WDSVars.stylex","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react");({position:"inherit",width:"unset",height:"unset",color:"var(--secondary)",fontSize:"16px",marginBottom:d("WDSVars.stylex").WDSVars.spacingQuad,lineHeight:"21px"});var k={subtitle:{color:"x1hql6x6",fontSize:"x1c3i2sq",lineHeight:"xdod15v",$$css:!0}};function a(a){a=a.value;return j.jsx("div",babelHelpers["extends"]({},{0:{className:"x579bpy xo1l8bm xggjnk3 x1hql6x6"},1:{className:"x579bpy xggjnk3 x1hql6x6 x1s688f"}}[!!c("WAWebEnvironment").isWindows<<0],{children:a}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.value;return a==null?j.jsx("div",{className:"x1fgtraw"}):j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.subtitle,d("WAWebUISpacing").uiMargin.bottom32),{children:a}))}b.displayName=b.name+" [from "+f.id+"]";function e(a){a=a.config;if(a==null)return null;var b=a.onClick,c=a.shouldShow;a=a.text;return!c?null:j.jsx(d("WAWebClickable.react").Clickable,{onClick:b,className:"xrwxeff x10l6tqk x80663w x1i1rx1s xjm9jq1 x6ikm8r x10wlt62 x8o5u1m x162dhgo xm14bv4 x1p9y9v0 x1ot2rpl x1ayw9wz xlsgc75 x2iotq7 x1kpoq75 xcjmxlc xvjdqlt x1at3e3p x1ip307p x1qoaid1 x19byxu8",children:j.jsx("div",{className:"x1n68mz9",children:a})})}e.displayName=e.name+" [from "+f.id+"]";g.Title=a;g.Subtitle=b;g.ScreenReaderSubtitle=e}),98);
__d("WAWebLinkDeviceCodeView.react",["$InternalEnum","WAWebAutoLogoutGating","WAWebEnvironment","WAWebFlex.react","WAWebLinkDeviceApiCmdTooltip.react","WAWebLinkDeviceAutoLogoutToggle.react","WAWebLinkDeviceCommonComponents.react","WAWebLinkDeviceInstructions.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k=b("$InternalEnum").Mirrored(["QR","PHONE_NUMBER_LINK_CODE"]),l={banner:{width:"xh8yej3",$$css:!0},phoneCodeWrapper:{width:"xh8yej3",backgroundColor:"x1ndca9r",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"x10wjd1d",$$css:!0},centerAlignOnSmallScreen:{width:"xh8yej3",alignItems:"x1cy8zhl xob9gl2",textAlign:"x1yc453h x1nj6vil",justifyItems:"x1eyeirb x8gkquz",$$css:!0}};function a(a){var b=a.codeType,e=a.screenReaderSubtitleConfig,f=a.alternativeLinkDeviceMethodHint,g=function(){a.onAutoLogoutToggle&&void a.onAutoLogoutToggle()},h=null;if(d("WAWebAutoLogoutGating").isAutoLogoutEnabled()){var m;h=j.jsx(d("WAWebLinkDeviceAutoLogoutToggle.react").LinkDeviceAutoLogoutToggle,{autoLogoutEnabled:(m=a.autoLogoutEnabled)!=null?m:!1,onAutoLogoutToggle:g})}if(b===k.QR){return j.jsxs(j.Fragment,{children:[j.jsx((m=d("WAWebFlex.react")).FlexItem,{xstyle:l.banner,children:a.banners}),j.jsxs(m.FlexColumn,{rowGap:40,children:[j.jsxs(m.FlexRow,{wrap:"nowrap",className:"xkh2ocl x6s0dn4 x1qughib xi32cqo x1qgv0r9 x18t01z2 xr3inr3",children:[j.jsxs(m.FlexColumn,{grow:c("WAWebEnvironment").isWindows?void 0:1,rowGap:40,shrink:2,align:"start",alignSelf:"center",children:[j.jsxs(d("WAWebFlex.react").FlexItem,{xstyle:l.centerAlignOnSmallScreen,children:[j.jsx(d("WAWebLinkDeviceCommonComponents.react").Title,{value:a.title}),j.jsx(d("WAWebLinkDeviceCommonComponents.react").ScreenReaderSubtitle,{config:e})]}),a.subtitle!=null&&j.jsx(d("WAWebFlex.react").FlexItem,{children:j.jsx(d("WAWebLinkDeviceCommonComponents.react").Subtitle,{value:a.subtitle})}),j.jsx(d("WAWebFlex.react").FlexItem,{children:j.jsx(c("WAWebLinkDeviceInstructions.react"),{codeType:b})})]}),j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",grow:0,shrink:0,className:"x1n2onr6 x1y8v6su x1eq81zi",children:[j.jsx(d("WAWebLinkDeviceApiCmdTooltip.react").LinkDeviceApiCmdTooltip,{apiCmd:a.apiCmd}),a.children]})]}),j.jsxs(d("WAWebFlex.react").FlexItem,{className:"x78zum5 x1qughib xkh2ocl x1cy8zhl x1q0g3np xnlzww4 xozqiw3 x198rtga xxs79tx x1ewqh72",children:[j.jsx(d("WAWebFlex.react").FlexItem,{children:h}),j.jsx(d("WAWebFlex.react").FlexItem,{children:f})]})]})]})}return j.jsxs(d("WAWebFlex.react").FlexColumn,{children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:l.banner,children:a.banners}),j.jsxs(d("WAWebFlex.react").FlexItem,{children:[j.jsx(d("WAWebLinkDeviceCommonComponents.react").Title,{value:a.title}),j.jsx(d("WAWebLinkDeviceCommonComponents.react").ScreenReaderSubtitle,{config:e})]}),j.jsx(d("WAWebFlex.react").FlexItem,{children:j.jsx(d("WAWebLinkDeviceCommonComponents.react").Subtitle,{value:a.subtitle})}),j.jsx(d("WAWebFlex.react").FlexItem,{align:"center",justify:"center",grow:0,className:(i||(i=c("stylex")))(l.phoneCodeWrapper,d("WAWebUISpacing").uiMargin.bottom24,d("WAWebUISpacing").uiPadding.vert24),children:a.children}),j.jsx(d("WAWebFlex.react").FlexItem,{children:j.jsx(c("WAWebLinkDeviceInstructions.react"),{codeType:b})}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.top20,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g.LinkDeviceCodeViewCodeType=k;g.LinkDeviceCodeView=a}),98);
__d("WAWebSettingsIphoneIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="settings-iphone";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=20;o=20;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 20 20",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6288 18.226L10.6289 18.226L10.6818 18.2213L11.1525 19.1073C11.2424 19.3011 11.4155 19.391 11.6508 19.3564C11.8723 19.3218 12.0038 19.1765 12.0315 18.955L12.1769 17.9652C12.6129 17.8475 13.0421 17.6814 13.4574 17.5014L14.1911 18.1521C14.3503 18.3113 14.5441 18.332 14.7587 18.2213C14.9386 18.1175 15.0078 17.9375 14.9732 17.7091L14.7656 16.7331C15.1324 16.477 15.4923 16.1863 15.8177 15.861L16.7244 16.2417C16.9321 16.3317 17.1189 16.2901 17.2851 16.0963C17.4304 15.9371 17.4443 15.7364 17.3197 15.5495L16.7936 14.6982C17.0566 14.3313 17.2712 13.9298 17.465 13.5145L18.4687 13.563C18.6902 13.5768 18.8632 13.4661 18.9324 13.2515C19.0016 13.0439 18.9393 12.8501 18.7663 12.7116L17.9911 12.0956C18.1018 11.6665 18.1918 11.2165 18.2264 10.7459L19.1678 10.4482C19.3823 10.3721 19.5 10.2198 19.5 9.99141C19.5 9.76992 19.3823 9.61764 19.1678 9.5415L18.2264 9.24387C18.1918 8.7732 18.1018 8.33021 17.9911 7.89414L18.7663 7.27119C18.9393 7.1466 18.9947 6.95972 18.9324 6.74515C18.8632 6.5375 18.6902 6.41983 18.4687 6.43367L17.465 6.4752C17.2712 6.05298 17.0566 5.65844 16.7936 5.29159L17.3197 4.44023C17.4443 4.26026 17.4304 4.05954 17.2851 3.90034C17.1189 3.70653 16.9321 3.665 16.7244 3.75498L15.8177 4.12875C15.4923 3.81036 15.1324 3.51272 14.7656 3.25662L14.9732 2.29451C15.0078 2.05917 14.9386 1.87229 14.7587 1.77538C14.5679 1.67079 14.3936 1.67557 14.2454 1.78974L13.4574 2.48832C13.0421 2.30143 12.6129 2.14915 12.1769 2.03149L12.0315 1.04861C12.0038 0.820192 11.8654 0.674837 11.6508 0.640228C11.4155 0.612542 11.2424 0.695602 11.1525 0.875565L10.6818 1.76846L10.2265 1.74488C10.1511 1.74231 10.075 1.74077 9.99654 1.74077C9.79063 1.74077 9.59596 1.75203 9.38212 1.76438L9.31129 1.76846L8.84754 0.875565C8.75756 0.695602 8.5776 0.612542 8.34226 0.640228C8.12769 0.674837 7.98925 0.820192 7.96157 1.04861L7.82313 2.02456C7.38015 2.14915 6.951 2.29451 6.5357 2.48832L5.80893 1.8446C5.64281 1.6854 5.449 1.66464 5.24135 1.77538C5.05446 1.87229 4.98525 2.05917 5.02678 2.29451L5.23443 3.25662C4.86066 3.51272 4.50073 3.81036 4.18233 4.12875L3.26867 3.75498C3.06794 3.665 2.88106 3.70653 2.71494 3.90034C2.56958 4.05954 2.55574 4.26026 2.67341 4.44023L3.20638 5.29159C2.94335 5.65844 2.72878 6.05298 2.52805 6.4752L1.53133 6.43367C1.30984 6.41983 1.13679 6.5375 1.06758 6.74515C0.991439 6.95972 1.04681 7.1466 1.2337 7.27119L2.00893 7.89414C1.89818 8.33021 1.8082 8.7732 1.78051 9.23695L0.83224 9.5415C0.610747 9.61764 0.5 9.763 0.5 9.99141C0.5 10.2198 0.610747 10.3721 0.83224 10.4482L1.78051 10.7459C1.8082 11.2165 1.89126 11.6665 2.00893 12.0956L1.2337 12.7116C1.05373 12.8431 0.998361 13.0369 1.06758 13.2515C1.13679 13.4661 1.30984 13.5768 1.53133 13.563L2.52805 13.5145C2.72186 13.9298 2.94335 14.3313 3.19945 14.6982L2.67341 15.5495C2.54882 15.7364 2.56266 15.9371 2.71494 16.0963C2.88106 16.2901 3.06794 16.3317 3.26867 16.2417L4.18233 15.861C4.50073 16.1863 4.86066 16.477 5.23443 16.7331L5.02678 17.7091C4.98525 17.9375 5.05446 18.1175 5.24135 18.2282C5.45592 18.332 5.64281 18.3113 5.80893 18.1521L6.5357 17.5014C6.951 17.6814 7.38015 17.8475 7.82313 17.9652L7.96157 18.955C7.98925 19.1765 8.12769 19.3218 8.34918 19.3634C8.5776 19.391 8.75756 19.3011 8.84754 19.1073L9.31129 18.2213C9.53971 18.242 9.76812 18.2628 9.99654 18.2628C10.2141 18.2628 10.4139 18.2451 10.6288 18.226ZM12.0869 9.48613C11.7408 8.4548 10.9448 7.85262 9.9827 7.85262C9.81658 7.85262 9.64353 7.87338 9.38051 7.9426L6.86794 3.63039C7.80237 3.16664 8.86138 2.90362 9.99654 2.90362C13.7689 2.90362 16.7313 5.78303 16.9805 9.48613H12.0869ZM5.95428 4.17721C4.15464 5.45772 3.00565 7.57575 3.00565 9.99833C3.00565 12.4071 4.1408 14.5113 5.91967 15.7918L8.50146 11.5557C8.03078 11.092 7.80929 10.5867 7.80929 10.0329C7.80929 9.47229 8.0377 8.95316 8.48761 8.50325L5.95428 4.17721ZM8.90291 10.026C8.90291 9.42384 9.4082 8.94624 9.98962 8.94624C10.5987 8.94624 11.0971 9.42384 11.0971 10.026C11.0971 10.6282 10.5987 11.1196 9.98962 11.1196C9.41512 11.1196 8.90291 10.6282 8.90291 10.026ZM6.83333 16.3455C7.77468 16.8231 8.84754 17.0931 9.99654 17.0931C13.7619 17.0931 16.7175 14.2206 16.9805 10.5244H12.0869C11.7546 11.5834 10.9587 12.2133 9.9827 12.2133C9.81658 12.2133 9.64353 12.1925 9.39435 12.1302L6.83333 16.3455Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SettingsIphoneIcon=a}),98);
__d("WAWebWaBrandArrowOutIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wa-brand-arrow-out";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=16;o=16;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 16 16",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("g",{clipPath:"url(#a)",children:k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.764 3.447a.75.75 0 0 0-.006 1.5l5.713.023-6.276 6.275a.75.75 0 1 0 1.06 1.06l6.277-6.275.022 5.713a.75.75 0 0 0 1.5-.006l-.03-7.487a.75.75 0 0 0-.78-.774z",fill:"currentColor"})}),k.jsx("defs",{children:k.jsx("clipPath",{id:"a",children:k.jsx("path",{fill:"#fff",d:"M.5 0h16v16H.5z"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WaBrandArrowOutIcon=a}),98);
__d("WAWebWaBrandArrowOutIconWrapper.react",["WAWebL10N","WAWebWaBrandArrowOutIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={flip:{transform:"xpk2tj9",$$css:!0}};function a(){return i.jsx(d("WAWebWaBrandArrowOutIcon.react").WaBrandArrowOutIcon,{xstyle:c("WAWebL10N").isRTL()&&j.flip})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceCommonInstructions.react",["fbt","WAWebClickable.react","WAWebExternalLink.react","WAWebFlex.react","WAWebLinkDeviceScreenGatedUtils","WAWebMenuIcon.react","WAWebSettingsIphoneIcon.react","WAWebUISpacing","WAWebWaBrandArrowOutIcon.react","WAWebWaBrandArrowOutIconWrapper.react","WAWebWaSquareIconIcon.react","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={icon:{opacity:"x1ks1olk",color:"x1hql6x6",$$css:!0},iconContainer:{alignItems:"x6s0dn4",display:"x1rg5ohu",verticalAlign:"x16dsc37",backgroundColor:"x9fbagp",borderTopColor:"x13g9yo",borderInlineEndColor:"xru437e",borderBottomColor:"x1808543",borderInlineStartColor:"x1yl2oxq",borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",height:"xxk0z11",boxSizing:"x9f619",$$css:!0},moreHelpText:{display:"x1rg5ohu",textDecorationLine:"xujl8zx",textDecorationColor:"xopvzan",textDecorationThickness:"xewurvo",textUnderlineOffset:"x3pynha",color:"x1hql6x6",fontWeight:"xk50ysn",":hover_color":"x1xnyc8c",":focus-visible_color":"x42e3j",$$css:!0},tcText:{color:"xhslqc4",textAlign:"x2b8uid",fontSize:"x1pg5gke",fontWeight:"xo1l8bm",lineHeight:"xetkqiv",letterSpacing:"xqhqf4p",":hover_textDecoration":"xt0b8zv",$$css:!0},waLogo:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",$$css:!0},waLogoFill:{fill:"xl0owvu",$$css:!0}};function m(a){a=a.children;return k.jsx("strong",{className:"x1rg5ohu xk50ysn x1o2sk6j",children:a})}m.displayName=m.name+" [from "+f.id+"]";function a(){return h._(/*BTDS*/"Open {=m2} on your phone",[h._implicitParam("=m2",k.jsx(m,{children:h._(/*BTDS*/"WhatsApp {=m2}",[h._implicitParam("=m2",k.jsx("div",{className:"x6s0dn4 x1rg5ohu x16dsc37 xxk0z11",children:h._(/*BTDS*/"{=m1}",[h._implicitParam("=m1",k.jsx(d("WAWebWaSquareIconIcon.react").WaSquareIconIcon,{width:24,height:24,iconXstyle:l.waLogo,innerStyles:{background:l.waLogoFill},children:h._(/*BTDS*/"")}))])}))])}))])}a.displayName=a.name+" [from "+f.id+"]";function e(){return h._(/*BTDS*/"On Android tap {=m1} \u00b7 On iPhone tap {=m5}",[h._implicitParam("=m1",k.jsx(m,{children:h._(/*BTDS*/"Menu {=m1}",[h._implicitParam("=m1",k.jsx(q,{children:h._(/*BTDS*/"")}))])})),h._implicitParam("=m5",k.jsx(m,{children:h._(/*BTDS*/"Settings {=m1}",[h._implicitParam("=m1",k.jsx(r,{children:h._(/*BTDS*/"")}))])}))])}e.displayName=e.name+" [from "+f.id+"]";function n(){return h._(/*BTDS*/"Tap {=m1}, then {=m3}",[h._implicitParam("=m1",k.jsx(m,{children:h._(/*BTDS*/"Linked devices")})),h._implicitParam("=m3",k.jsx(m,{children:h._(/*BTDS*/"Link device")}))])}n.displayName=n.name+" [from "+f.id+"]";function o(){return h._(/*BTDS*/"Scan the QR code to confirm")}o.displayName=o.name+" [from "+f.id+"]";function p(){return h._(/*BTDS*/"Tap {=m1} and enter this code on your phone",[h._implicitParam("=m1",k.jsx(m,{children:h._(/*BTDS*/"Link with phone number instead")}))])}p.displayName=p.name+" [from "+f.id+"]";function q(){return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.iconContainer,d("WAWebUISpacing").uiPadding.vert2]),{children:k.jsx(d("WAWebMenuIcon.react").MenuIcon,{iconXstyle:l.icon,width:18,height:20})}))}q.displayName=q.name+" [from "+f.id+"]";function r(){return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.iconContainer,d("WAWebUISpacing").uiPadding.all2]),{children:k.jsx(d("WAWebSettingsIphoneIcon.react").SettingsIphoneIcon,{iconXstyle:l.icon,width:18,height:18})}))}r.displayName=r.name+" [from "+f.id+"]";function s(a){var e=a.onClick,f=a.showArrow;f=f===void 0?!0:f;var g=a.text,h=a.url;return k.jsx(d("WAWebClickable.react").Clickable,{xstyle:l.moreHelpText,as:"div",dataTestId:"link-device-qrcode-alt-linking-help",onClick:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){e&&(yield e()),h!=null&&d("WAWebExternalLink.react").openExternalLink(h)}),children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",columnGap:4,children:[k.jsx(d("WAWebFlex.react").FlexColumn,{children:g}),f&&k.jsx(d("WAWebFlex.react").FlexColumn,{children:d("WAWebLinkDeviceScreenGatedUtils").getLocalizationFixVariant()==="test"?k.jsx(c("WAWebWaBrandArrowOutIconWrapper.react"),{}):k.jsx(d("WAWebWaBrandArrowOutIcon.react").WaBrandArrowOutIcon,{})})]})})}s.displayName=s.name+" [from "+f.id+"]";function t(){return k.jsx(d("WAWebClickable.react").Clickable,{xstyle:l.tcText,as:"div",dataTestId:"link-device-qrcode-alt-linking-tc",onClick:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebExternalLink.react").openExternalLink("https://www.whatsapp.com/legal/")}),children:h._(/*BTDS*/"Terms & Privacy Policy")})}t.displayName=t.name+" [from "+f.id+"]";g.LinkDeviceInstructionOpenWhatsAppOnPhone=a;g.LinkDeviceInstructionNavigateToSettings=e;g.LinkDeviceInstructionsTapLinkedDevices=n;g.LinkDeviceInstructionsScanQRCode=o;g.LinkDeviceInstructionsLinkWithPhoneNumberInstead=p;g.ExternalHelpLink=s;g.TCLink=t}),226);
__d("WAWebLinkDeviceInstructionsList.react",["WAWebFlex.react","WAWebRoundShape.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={list:{listStyleType:"x3yw8vx",lineHeight:"xgif2c7",display:"x78zum5",flexDirection:"xdt5ytf",rowGap:"x1kb72lq",position:"x1n2onr6",$$css:!0},listLineHeightOverride:{lineHeight:"x1o2sk6j",$$css:!0},stepperContainer:{width:"xvy4d1p",height:"xxk0z11",boxShadow:"x1gnnqk1",backgroundColor:"x12peec7",color:"x1mqxbix",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xpypsur",borderInlineEndColor:"x1fe0zbt",borderBottomColor:"x249io5",borderInlineStartColor:"xtq6bvn",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function l(a){a=a.step;return j.jsx(c("WAWebRoundShape.react"),{xstyle:k.stepperContainer,children:j.jsx("div",{className:"x1f6kntn x1k70j0n x2fvf9 xzueoph xdwrcjd",children:a})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.instructions,e=a.instructionSource;a=b.map(function(a,b){return j.jsxs("li",{className:"x1c3i2sq x1yc453h x78zum5 x1aj3ljl x1jxy7q1 xoegz02 x1hql6x6",children:[j.jsx(d("WAWebFlex.react").FlexItem,{align:"start",children:j.jsx(l,{step:b+1})}),j.jsx(d("WAWebFlex.react").FlexItem,{children:a})]},e+"_i#"+b)});return j.jsxs("ol",babelHelpers["extends"]({id:"link-device-instructions-list"},(h||(h=c("stylex"))).props(k.list,k.listLineHeightOverride,d("WAWebUISpacing").uiMargin.all0),{children:[a,j.jsx("div",{className:"x10l6tqk x1i1rx1s x1vpr2pd x42x0ya x6s0dn4 xdj266r xsb47vp xat24cr x1gpu1cy x1vjfegm"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceInstructions.react",["WAWebLinkDeviceCodeView.react","WAWebLinkDeviceCommonInstructions.react","WAWebLinkDeviceInstructionsList.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(){var a;return[i.jsx((a=d("WAWebLinkDeviceCommonInstructions.react")).LinkDeviceInstructionOpenWhatsAppOnPhone,{},"step1"),i.jsx(a.LinkDeviceInstructionNavigateToSettings,{},"step2"),i.jsx(a.LinkDeviceInstructionsTapLinkedDevices,{},"step3"),i.jsx(a.LinkDeviceInstructionsScanQRCode,{},"step4")]}function k(){var a;return[i.jsx((a=d("WAWebLinkDeviceCommonInstructions.react")).LinkDeviceInstructionOpenWhatsAppOnPhone,{},"step1"),i.jsx(a.LinkDeviceInstructionNavigateToSettings,{},"step2"),i.jsx(a.LinkDeviceInstructionsTapLinkedDevices,{},"step3"),i.jsx(a.LinkDeviceInstructionsLinkWithPhoneNumberInstead,{},"step4")]}function a(a){a=a.codeType;var b=[];switch(a){case d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.QR:b=j();break;case d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.PHONE_NUMBER_LINK_CODE:b=k();break}return i.jsx(c("WAWebLinkDeviceInstructionsList.react"),{instructions:b,instructionSource:String(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebWaBrandArrowRightIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wa-brand-arrow-right";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=16;o=16;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 16 16",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.778 2.23a.783.783 0 0 1 1.107 0l5.217 5.217a.783.783 0 0 1 0 1.106l-5.217 5.218a.783.783 0 0 1-1.107-1.107L10.442 8 5.778 3.336a.783.783 0 0 1 0-1.107",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WaBrandArrowRightIcon=a}),98);
__d("WAWebWaBrandArrowRightIconWrapper.react",["WAWebL10N","WAWebWaBrandArrowRightIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={flip:{transform:"xpk2tj9",$$css:!0}};function a(){return i.jsx(d("WAWebWaBrandArrowRightIcon.react").WaBrandArrowRightIcon,{xstyle:c("WAWebL10N").isRTL()&&j.flip})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAlternateDeviceLinkingLink.react",["fbt","WAWebClickable.react","WAWebEnvironment","WAWebFlex.react","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceScreenGatedUtils","WAWebWaBrandArrowRightIcon.react","WAWebWaBrandArrowRightIconWrapper.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||d("react"),l={alternateLinkingMethod:{textDecorationLine:"xujl8zx",textDecorationColor:"xopvzan",textDecorationThickness:"xewurvo",textUnderlineOffset:"x3pynha",color:"x1hql6x6",fontWeight:"xk50ysn",":hover_color":"x1xnyc8c",":focus-visible_color":"x42e3j",$$css:!0},alternateLinkingMethodWindows:{textDecorationLine:"xkrqix3",color:"xo1mcw5",$$css:!0}};function m(){return h._(/*BTDS*/"Log in with phone number")}m.displayName=m.name+" [from "+f.id+"]";function n(){return h._(/*BTDS*/"Log in with QR code")}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.codeType,e=a.enabled;e=e===void 0?!0:e;a=a.onClick;b=b===d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.PHONE_NUMBER_LINK_CODE?n():m();b=k.jsxs(d("WAWebFlex.react").FlexRow,{paddingTop:4,columnGap:4,align:"start",children:[k.jsx(d("WAWebFlex.react").FlexColumn,{children:b}),k.jsx(d("WAWebFlex.react").FlexColumn,{children:d("WAWebLinkDeviceScreenGatedUtils").getLocalizationFixVariant()==="test"?k.jsx(c("WAWebWaBrandArrowRightIconWrapper.react"),{}):k.jsx(d("WAWebWaBrandArrowRightIcon.react").WaBrandArrowRightIcon,{})})]});return!e?k.jsx("span",babelHelpers["extends"]({},{0:{className:"xujl8zx xopvzan xewurvo x3pynha x1hql6x6 xk50ysn x42e3j xbyyjgo xvv1gim"},1:{className:"xopvzan xewurvo x3pynha xk50ysn x42e3j xkrqix3 xo1mcw5 xbyyjgo xvv1gim"}}[!!c("WAWebEnvironment").isWindows<<0],{children:b})):k.jsx(d("WAWebClickable.react").Clickable,{as:"div",dataTestId:"link-device-qrcode-alt-linking-hint",className:(i||(i=c("stylex")))([l.alternateLinkingMethod,c("WAWebEnvironment").isWindows&&l.alternateLinkingMethodWindows]),onClick:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.AlternateDeviceLinkingLink=a}),226);
__d("WAWebApiTextStatus",["Promise","WATimeUtils","WAWebLidAwareContactsDB","WAWebModelStorageUtils","WAWebTextStatusGatingUtils","WAWebTextStatusUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){var a=d("WATimeUtils").unixTime();return!d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()?(h||(h=b("Promise"))).resolve():d("WAWebModelStorageUtils").getStorage().lock(["contact"],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield c("WAWebLidAwareContactsDB").lessThan(["textStatusExpiryTs"],a));if(!b||b.length===0)return;b=b.map(function(a){return{id:a.id,textStatusString:void 0,textStatusEmoji:void 0,textStatusExpiryTs:void 0,textStatusEphemeralDuration:void 0,textStatusLastUpdateTime:d("WAWebTextStatusUtils").CLEAR_TEXT_STATUS_LAST_UPDATE_TIME_VAL}});return c("WAWebLidAwareContactsDB").bulkCreateOrMerge(b,"ApiTextStatus.updateExpiredTextStatusOfContact")}))}g.updateExpiredTextStatusOfContact=a}),98);
__d("WAWebArchiveSettingSync",["Promise","WALogger","WASyncAction.pb","WASyncdAction","WASyncdConst","WAWebAndroidUnsupportedActionsSync","WAWebApiActiveMessageRanges","WAWebChatCollection","WAWebMessageRangeUtils","WAWebModelStorageUtils","WAWebSchemaActiveMessageRanges","WAWebSchemaChat","WAWebSettingsGetters","WAWebSettingsModel","WAWebSyncdDb","WAWebSyncdGetChat","WAWebUserPrefsMultiDevice","WAWebWidFactory","asyncToGeneratorRuntime","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 4};f.getAction=function(){return d("WASyncdConst").Actions.UnarchiveChatsSetting};f.decodeValue=function(a){if(a.binarySyncData){var b=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,a.binarySyncData);if(b.value)return b.value}else{if(!a.binarySyncAction){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["binarySyncAction should not be null"]))).tags("syncd").sendLogs("syncd binarySyncAction should not be null");throw c("err")("binarySyncAction should not be null")}return d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionValueSpec,a.binarySyncAction)}};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;c("WAWebAndroidUnsupportedActionsSync").updatePrimaryAllowsAllMutationsFlag("other mutation");var g=e.setMutationsPendingToPersist;if(a.length>0){e=a[a.length-1];try{a=[];if(e.operation==="set"){e=e.value;e=e.unarchiveChatsSetting;if((e==null?void 0:e.unarchiveChats)==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["archive setting sync: malformed mutation"])));return[{actionState:d("WASyncdConst").SyncActionState.Malformed}]}var h=e.unarchiveChats;e=(yield d("WAWebUserPrefsMultiDevice").getArchiveV2EnabledSetting());e||(yield d("WAWebUserPrefsMultiDevice").setArchiveV2EnabledSetting(!0),c("WAWebSettingsModel").archive=babelHelpers["extends"]({},d("WAWebSettingsGetters").getArchive(c("WAWebSettingsModel")),{enabled:!0}),d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set ArchiveV2Enabled to true"]))));yield d("WAWebUserPrefsMultiDevice").setUnarchiveChatsSetting(h);c("WAWebSettingsModel").archive=babelHelpers["extends"]({},d("WAWebSettingsGetters").getArchive(c("WAWebSettingsModel")),{classic:h});d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set unarchiveChatsSetting to ",""])),h);yield d("WAWebModelStorageUtils").getStorage().lock(["message","chat","sync-actions","active-message-ranges"],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a=(yield f.updateSideEffectOnChats(h,g)),d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["applyMutations: update chat table"]))),yield d("WAWebSchemaChat").getChatTable().bulkCreateOrMerge(a)}));a.forEach(function(a){if(a.id!=null){var b=d("WAWebWidFactory").createWid(a.id);b=d("WAWebChatCollection").ChatCollection.get(b);b&&(b.archive=a.archive===!0)}});return[{actionState:d("WASyncdConst").SyncActionState.Success}]}d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["archive setting sync: operation not supported"])));return[{actionState:d("WASyncdConst").SyncActionState.Unsupported}]}catch(a){return[{actionState:d("WASyncdConst").SyncActionState.Failed}]}}d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["archive setting sync: no mutations"])));return[{actionState:d("WASyncdConst").SyncActionState.Failed}]});function e(b,c){return a.apply(this,arguments)}return e}();f.$ArchiveSettingSync$p_1=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=this,e=[];d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Updating chats side effects for setting 'on'"])));var f=self.performance.now(),g=(yield d("WAWebSchemaChat").getChatTable().all());g=g.filter(function(a){return a.archive}).map(function(a){return a.id});var h=(yield (v||(v=b("Promise"))).all(g.map(function(a){return d("WAWebApiActiveMessageRanges").getActiveMessageRanges(a)}))),i=h.flat().filter(function(a){return a.action===d("WAWebSchemaActiveMessageRanges").ActiveRangeAction.Archive}).map(function(a){return a.chatId});h=g.filter(function(a){return!i.includes(a)});g=(yield v.all(h.map(function(c){c=d("WAWebWidFactory").createWid(c);var e=JSON.stringify([d("WASyncdConst").Actions.Archive,c.toString({legacy:!0})]);c=a.find(function(a){return a.index===e});return c?(v||(v=b("Promise"))).resolve(c):d("WAWebSyncdDb").getSyncAction(e)})));h=g.filter(function(a){var b;if(!a)return!1;b=(b=c.decodeValue(a))==null?void 0:b.archiveChatAction;return[d("WASyncdConst").SyncActionState.Success,d("WASyncdConst").SyncActionState.Orphan].includes(a.actionState)&&(b==null?void 0:b.archived)===!0&&b.messageRange}).map(function(a){var b;b=a&&((b=c.decodeValue(a))==null?void 0:b.archiveChatAction);a=a?JSON.parse(a.index)[1]:"";return[a,b==null?void 0:b.messageRange]});var j=new Map(h);g=Array.from(j.keys());var k=(yield v.all(g.map(function(a){return d("WAWebMessageRangeUtils").constructMessageRange(d("WAWebWidFactory").createWid(a),{forOutgoingMutation:!1})})));g.forEach(function(a,b){b=k[b];var c=j.get(a);if(c){b=d("WAWebMessageRangeUtils").compareMessageRanges(b,c);if(b===d("WAWebMessageRangeUtils").MessageRangeEncloseType.RangeAEnclosesRangeB||b===d("WAWebMessageRangeUtils").MessageRangeEncloseType.RangesNotEnclosing){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["unarchive "," as ",""])),a,b);c=d("WAWebWidFactory").createWid(a);e.push({id:c.toString({legacy:!1}),archive:!1})}else d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Unsupported rangeEnclosedType ",""])),b).sendLogs("ArchiveSettingSync setting true rangeEnclosedType unsupported")}});h=self.performance.now();d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Update chats side effects for setting 'on': Iteration took ","ms"])),h-f);e.length>0&&d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Update some chats as side effects for setting 'on'"])));return e});function c(b){return a.apply(this,arguments)}return c}();f.$ArchiveSettingSync$p_2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=this,e=[];d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Updating chats side effects for setting 'off'"])));var f=(yield d("WAWebSyncdDb").getSyncActionsRows(["action"],[d("WASyncdConst").Actions.Archive]));a=a.filter(function(a){return a.action===d("WASyncdConst").Actions.Archive});var g=a.map(function(a){return a.index});f=f.filter(function(a){return!g.includes(a.index)});f=[].concat(f,a);a=f.filter(function(a){if(a.actionState===d("WASyncdConst").SyncActionState.Success){var b;a=c.decodeValue(a);return(a==null||(b=a.archiveChatAction)==null?void 0:b.archived)===!0}return!1});f=a.map(function(a){a=JSON.parse(a.index)[1];return d("WAWebWidFactory").createWid(a)});a=f.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSyncdGetChat").resolveChatForMutationIndex(a));if(a.success)return d("WAWebWidFactory").createWid(a.chat.id)});return function(b){return a.apply(this,arguments)}}());f=(yield (v||(v=b("Promise"))).all(a));f.filter(Boolean).forEach(function(a){e.push({id:a.toString({legacy:!1}),archive:!0})});e.length>0&&d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Update some chats as side effects for setting 'off'"])));return e});function c(b){return a.apply(this,arguments)}return c}();f.updateSideEffectOnChats=function(a,b){return a?this.$ArchiveSettingSync$p_1(b):this.$ArchiveSettingSync$p_2(b)};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebBootstrapPremiumMessages",["Promise","WAWebDebounce","WAWebMiscGatingUtils","WAWebMsgCollection","WAWebPremiumMessageCollection","WAWebPremiumMessageSchema","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=250;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebMiscGatingUtils").isRambutanEnabled())return(h||(h=b("Promise"))).resolve();var a=(yield d("WAWebPremiumMessageSchema").getPremiumMessageTable().all());d("WAWebPremiumMessageCollection").PremiumMessageCollection.initializeFromCache(a)});return j.apply(this,arguments)}function e(){if(!d("WAWebMiscGatingUtils").isRambutanEnabled())return;d("WAWebMsgCollection").MsgCollection.listenTo(d("WAWebMsgCollection").MsgCollection,"add",c("WAWebDebounce")(k,i,{leading:!0}));d("WAWebPremiumMessageCollection").PremiumMessageCollection.listenTo(d("WAWebPremiumMessageCollection").PremiumMessageCollection,"add",function(a){return a.hydrateMessages()})}function k(){d("WAWebPremiumMessageCollection").PremiumMessageCollection.getModelsArray().forEach(function(a){a.hydrateMessages()})}g.restorePremiumMessages=a;g.bindPremiumMessageListeners=e}),98);
__d("WAWebBroadcastSync",["Promise","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WAWebSyncdActionUtils"],(function(a,b,c,d,e,f,g){var h,i;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 1};e.getAction=function(){return d("WASyncdConst").Actions.Broadcast};e.applyMutations=function(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["BroadcastSync: applyMutations - incoming mutations: ",""])),JSON.stringify(a));return(i||(i=b("Promise"))).resolve([])};e.getBroadcastMutation=function(a,b){var c={};return d("WAWebSyncdActionUtils").buildPendingMutation({action:this.getAction(),indexArgs:[a],collection:d("WASyncdConst").CollectionName.Regular,value:c,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:b})};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebBrowserFeatures",["WAMd5","WAPlatformEstimate"],(function(a,b,c,d,e,f,g){"use strict";function h(){return navigator.plugins.length}function i(){var a;return(a=(a=navigator.mimeTypes)==null?void 0:a.length)!=null?a:0}function j(){return"Notification"in window&&Notification.permission!=="denied"}function k(){return"pdfViewerEnabled"in navigator&&navigator.pdfViewerEnabled===!0}function l(){var a;return screen.height!==((a=screen)==null?void 0:a.availHeight)||screen.width!==((a=screen)==null?void 0:a.availWidth)}function m(){return"share"in navigator&&"canShare"in navigator}function n(){return"chrome"in window}function o(){return window.history.length}function p(){return window.innerWidth+"x"+window.innerHeight}function q(){try{var a=document.createElement("canvas"),b=a.getContext("2d");if(b==null)return"";a.width=120;a.height=20;b.font="14px 'Arial'";b.fillStyle="#fff";b.fillRect(0,0,120,20);b.fillStyle="rgba(102, 204, 0, 0.7)";b.fillText("whatsapp web",2,15);return c("WAMd5")(a.toDataURL())}catch(a){return""}}function a(){return{pluginCount:h(),mimeTypeCount:i(),hasNotificationPermission:j(),isPDFViewerEnabled:k(),hasTaskbar:l(),hasWebShare:m(),hasChrome:n(),platformEstimate:c("WAPlatformEstimate")(),historyLength:o(),viewPortSize:p(),canvasFingerprint:q()}}g["default"]=a}),98);
__d("WAWebCTWADetectedOutcomeOnboardingStatusNotification",["WAWebBackendApi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WAWebBackendApi").frontendFireAndForget("ctwaDetectedOutcomeOnboardingStatusUpdate",{onboardingStatus:a})}g.handleCTWADetectedOutcomeOnboardingStatusNotification=a}),98);
__d("WAWebCTWAParsePrivacy",["WALogger","WASmaxBizSettingsSyncPrivacySettingRPC"],(function(a,b,c,d,e,f,g){var h;function a(a){try{a=d("WASmaxBizSettingsSyncPrivacySettingRPC").receiveSyncPrivacySettingRPC(a.node());a=a.parsedRequest;a=(a=a.privacySmbDataSharingSettingMixin)==null?void 0:a.value;return a==null?null:{smbDataSharingSetting:a}}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["parseCTWAPrivacy: Could not parse RPC response"])));return null}}g.parseCTWAPrivacy=a}),98);
__d("WAWebWamEnumPreferredLinkType",[],(function(a,b,c,d,e,f){a=Object.freeze({LOCAL:0,UNIVERSAL:1});f.PREFERRED_LINK_TYPE=a}),66);
__d("WAWebCtwaActionBannerUnderstandWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumPreferredLinkType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaActionBannerUnderstand:[3586,{bannerIdentifier:[1,a.TYPES.STRING],bannerLocale:[2,a.TYPES.STRING],clientLocale:[3,a.TYPES.STRING],hasLocalLink:[4,a.TYPES.BOOLEAN],hasUniversalLink:[5,a.TYPES.BOOLEAN],invalidLink:[6,a.TYPES.STRING],lwiFlowIdentifier:[7,a.TYPES.STRING],preferredLink:[8,d("WAWebWamEnumPreferredLinkType").PREFERRED_LINK_TYPE],validLocale:[9,a.TYPES.BOOLEAN],validNotification:[10,a.TYPES.BOOLEAN]},[1,1,1],"private",0]},{CtwaActionBannerUnderstand:[]});g.CtwaActionBannerUnderstandWamEvent=b}),98);
__d("WAWebCTWAParseSuggestion",["WALogger","WASmaxBizCtwaActionBannerSuggestionRPC","WATimeUtils","WAWebApiParse","WAWebBizGatingUtils","WAWebCtwaActionBannerUnderstandWamEvent","WAWebL10N","WAWebUpdaterVersion"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r="recreate_ad",s="manage_ads",t="parseCTWASuggestion: missing action link";function u(a){if(!d("WAWebBizGatingUtils").adsActionBannersLoggingEnabled())return;var b=new(d("WAWebCtwaActionBannerUnderstandWamEvent").CtwaActionBannerUnderstandWamEvent)();b.bannerIdentifier=a.bannerIdentifier;b.validNotification=a.validNotification;a.clientLocale!=null&&(b.clientLocale=a.clientLocale);a.bannerLocale!=null&&(b.bannerLocale=a.bannerLocale);a.validLocale!=null&&(b.validLocale=a.validLocale);b.commitAndWaitForFlush()["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: metric failed"]))).devConsole(a)})}function v(a){a=a.split("-");return a[1]}function a(a){a=d("WASmaxBizCtwaActionBannerSuggestionRPC").receiveBannerSuggestionRPC(a.node());a=a.parsedRequest;var b=a.ctwaSuggestionTargetEntityId,e=a.ctwaSuggestionBanner;a=a.t;var f=v(b);if(e==null){u({bannerIdentifier:b,validNotification:!1});d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: missing banner data (",")"])),f).sendLogs("parseCTWASuggestion-missing-banner-data-"+f);return}if(e.configRevoked==="true")return{type:"revokedBanner",id:b};var g=e.contentLocale,h=c("WAWebL10N").getNormalizedLocale(),w=function(a){var c=a.validNotification;a=a.validLocale;u({bannerIdentifier:b,validNotification:c,clientLocale:h,bannerLocale:g,validLocale:a})};if(c("WAWebL10N").normalizeLocaleToWajsLocale(g)!==h){w({validNotification:!1,validLocale:!1});d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: locale mismatch (",")"])),f);return}var x=e.configExpiresAt,y=e.contentHeadingElementValue,z=e.contentBodyElementValue,A=e.contentHighlightElementValue,B=e.configDisplay;e=e.nativeAction;e=e.filter(function(a){return a.platform==="web"});if(e.length===0){w({validNotification:!1,validLocale:!0});b.endsWith(r)||b.includes(s)?d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose([""," (",")"])),t,f).sendLogs("parseCTWASuggestion-missing-action-link-${bannerType}"):d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose([""," (",")"])),t,f);return}else if(e.length>1){w({validNotification:!1,validLocale:!0});d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: too many actions (",")"])),f).sendLogs("parseCTWASuggestion-too-many-actions-${bannerType}");return}e=e[0];var C=e.minAppVersion;C=new(d("WAWebUpdaterVersion").Version)(C);var D=new(d("WAWebUpdaterVersion").Version)(d("WAWebUpdaterVersion").SANITIZED_VERSION_STR);if(D.lt(C)){d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: app version too old (",")"])),f);return}D=e.localLink;C=d("WAWebApiParse").parseAPICmd(D);if(C.resultType==="INVALID"){if(!D.startsWith("https://")){w({validNotification:!1,validLocale:!0});d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: invalid link (",")"])),f).sendLogs("parseCTWASuggestion-invalid-link-${bannerType}");return}}else if(C.resultType==="MANAGE_ADS"){if(!d("WAWebBizGatingUtils").adsActionManageAdsBannerEnabled()){w({validNotification:!1,validLocale:!0});d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: manage ads not enabled (",")"])),f);return}}else{C.resultType;w({validNotification:!1,validLocale:!0});d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["parseCTWASuggestion: invalid deep link (",", ",")"])),f,C.resultType).sendLogs("parseCTWASuggestion-invalid-deep-link-${bannerType}");return}w({validNotification:!0,validLocale:!0});return{type:"banner",id:b,expiresAt:d("WATimeUtils").castToUnixTime(x),heading:y,body:z,highlight:A,actionLink:D,display:B,ts:d("WATimeUtils").castToUnixTime(a)}}g.parseCTWASuggestion=a}),98);
__d("WAWebCartDbLidMigration",["WALogger","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebModelStorageUtils","WAWebUserPrefsCartLidMigration","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function a(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()||d("WAWebUserPrefsCartLidMigration").isCartLidMigrationComplete())return;try{yield d("WAWebModelStorageUtils").getStorage().lock(["cart"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["cartDbLidMigration: start migration"])));var b=(yield a.all()),c=[];b=b.map(function(a){var b=a.id,e=d("WAWebWidFactory").createUserWid(b);if(e.isLid())return null;var f=d("WAWebLidMigrationUtils").toPn(e);e=d("WAWebLidMigrationUtils").toLid(e);if(e==null||(f==null?void 0:f.user)==null)return null;a.id=e.toString();c.push(b.toString());return{id:e.toString(),message:a.message,total:a.total,currency:a.currency,itemCount:a.itemCount,products:a.products}}).filter(Boolean);if(b.length===0){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["cartDbLidMigration: end migration with no records"])));d("WAWebUserPrefsCartLidMigration").setCartLidMigrationValue(!0);return}d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["cartDbLidMigration: updated records: ",""])),b.length);yield a.bulkCreateOrReplace(b);yield a.bulkRemove(c);d("WAWebUserPrefsCartLidMigration").setCartLidMigrationValue(!0);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["cartDbLidMigration: migration success"])))});return function(b){return a.apply(this,arguments)}}())}catch(a){d("WAWebUserPrefsCartLidMigration").setCartLidMigrationValue(!1),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[LID] Failed to migrate cart db : ",""])),a).sendLogs("lid-cart-migration")}});return m.apply(this,arguments)}g.migrateCartDbLid=a}),98);
__d("WAWebChatLockSettingsSync",["WALogger","WAProtobufsUserPassword.pb","WASyncdAction","WASyncdConst","WAWebChatLockSettings","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.ChatLockSettings};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: operation not supported: ",""])),a.operation);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=a.value.chatLockSettings;if(a==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: settings is null"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var c=a.secretCode;a=a.hideLockedChats;if(a==null){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: hideLockedChats is null"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b={hideLockedChats:a,secretCode:null};if(c!=null){a=c.transformedData;var e=c.transformer,f=c.transformerArg;c=c.encoding;if(f==null||e==null||a==null||c==null){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: secret data missing"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(e!==d("WAProtobufsUserPassword.pb").UserPassword$Transformer.PBKDF2_HMAC_SHA512){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: transformer type incompatible"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}f=f.reduce(function(a,b){if(b.value==null)return a;b.key==="iterations"?a.iterations=b.value.asUnsignedInteger:b.key==="salt"&&(a.salt=b.value.asBlob);return a},{});if(f.iterations==null||f.salt==null){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: transformer args missing"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b.secretCode={iterations:f.iterations,encoding:c,salt:f.salt,transformer:e,data:a}}return{actionState:d("WASyncdConst").SyncActionState.Success}});if(b!=null){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: saving chatlock settings"]))).devConsole({chatlockSettings:b,mutations:a});var e=d("WAWebChatLockSettings").getChatLockSettings();e.updateAndSave(b)}else d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: received mutations but could not parse"]))).devConsole(a);return c});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebCleanUtmJob",["WAJobOrchestratorTypes","WAPromiseCallSync","WAWebOrchestratorNonPersistedJob","WAWebUtmBizPrefs","WAWebUtmBizUtils"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("cleanExpiredUtm",function(){return h()},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT}).waitUntilCompleted()}function h(){return d("WAPromiseCallSync").promiseCallSync(function(){var a=d("WAWebUtmBizPrefs").getAllUtmsFromLocalStorage();Object.keys(a).forEach(function(b){var c=a[b];d("WAWebUtmBizUtils").hasUtmExpired(c)&&d("WAWebUtmBizPrefs").removeUtmFromLocalStorage(b)})})}g.cleanExpiredUtmJob=a}),98);
__d("WAWebClearDirtyBitsJob",["WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j=new(c("WADeprecatedWapParser"))("cleanDirtyReplyParser",function(a){a.assertAttr("type","result");return{}});function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.length===0)return;var b=a.map(function(a){return d("WAWap").wap("clean",{type:d("WAWap").CUSTOM_STRING(a.type),timestamp:d("WAWap").INT(a.timestamp)})});b=d("WAWap").wap("iq",{to:d("WAWap").S_WHATSAPP_NET,type:"set",xmlns:"urn:xmpp:whatsapp:dirty",id:d("WAWap").generateId()},b);try{yield d("WADeprecatedSendIq").deprecatedSendIq(b,j),d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["clearDirtyBits: success for type: ",""])),a.map(function(a){return a.type}).join(","))}catch(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["clearDirtyBits: failed with error"]))).devConsole(a)}});return k.apply(this,arguments)}g.clearDirtyBits=a}),98);
__d("WAWebDBFavoriteDatabaseMigrationToLid",["WALogger","WAWebApiContact","WAWebLid1X1MigrationGating","WAWebModelStorageUtils","WAWebUserPrefsFavoritesLidMigration","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;function a(){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebUserPrefsFavoritesLidMigration").isFavoritesMigrationComplete()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: migration already complete"])));return}if(!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: 1-1 threads are not migrated to lid"]))).sendLogs("migrateFavoritesDatabaseToLid-1-1-not-migrated");return}var a=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["favorite","chat"],function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=b[0];b=b[1];e=e;b=b;try{d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: start migration"])));var f=(yield e.all()),g=[],h=new Set();d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: loaded "," favorites"])),f.length);f.forEach(function(a){var b=a.id,c=d("WAWebWidFactory").createWid(b);if(!c.isRegularUser())return;if(c.isLid()){h.add(b);return}g.push(a)});if(g.length===0){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: no favorites to migrate"])));a=!0;return}d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: found "," favorites to migrate"])),g.length);var i=g.map(function(a){return a.id}),y=(yield b.bulkGet(i)),z=0,A=0,B=0,C=[],D=[];g.forEach(function(a,b){var c=null,e=y[b];e!=null?c=e.accountLid:z++;if(c==null){c=(b=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").createUserWid(i[b])))==null?void 0:b.toString();if(c==null){e!=null&&A++;return}}if(h.has(c)){B++;C.push(a.id);return}C.push(a.id);D.push(babelHelpers["extends"]({},a,{id:c}))});d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: not found chat rows: ",""])),z);d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: deduped favourites: ",""])),B);A>0&&d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: not found account lids: ",""])),A).sendLogs("migrateFavoritesDatabaseToLid-not-found-account-lids");yield e.bulkRemove(C);b=(yield e.bulkGet(D.map(function(a){return a.id}))).filter(Boolean);if(b.length>0){var E=b.filter(function(a){return h.has(a.id)});d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: existing favorites that are not expected to be in the database: ",". In Lid set: ",""])),b.length,E.length).sendLogs("migrateFavoritesDatabaseToLid-existing-favorites");var F=new Set(b.map(function(a){return a.id}));D=D.filter(function(a){return!F.has(a.id)})}else d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: no existing favorites that are not expected to be in the database"])));E=new Map(D.map(function(a){return[a.id,a]}));E.size!==D.length?(d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: duplicate favorites in favoritesToAdd array: ",""])),D.length-E.size).sendLogs("migrateFavoritesDatabaseToLid-duplicate-favorites"),D=Array.from(E.values())):d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: no duplicate favorites in favoritesToAdd array"])));d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: adding "," favorites"])),D.length);yield e.bulkCreate(D);b=(yield e.count());d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: all favorites after migration: ",""])),b);if(b!==f.length-B){d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: all favorites after migration: "," does not match all favorites: "," minus deduped ",""])),b,f.length,B).sendLogs("migrateFavoritesDatabaseToLid-all-favorites-after-migration-mismatch");throw c("err")("migrateFavoritesDatabaseToLid: mismatch after migration")}a=A===0}catch(a){d("WALogger").ERROR(x||(x=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: migration error: ",""])),a.message).sendLogs("migrateFavoritesDatabaseToLid-error");throw a}});return function(a){return e.apply(this,arguments)}}());a&&(d("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["migrateFavoritesDatabaseToLid: migration complete, success"]))),d("WAWebUserPrefsFavoritesLidMigration").setFavoritesMigrationAsComplete())});return z.apply(this,arguments)}g.migrateFavoritesDatabaseToLid=a}),98);
__d("WAWebDBLabelAssociationDatabaseMigrationToLid",["WALogger","WAWebApiContact","WAWebLid1X1MigrationGating","WAWebModelStorageUtils","WAWebSchemaLabelAssociation","WAWebUserPrefsLabelAssociationsLidMigration","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t;function a(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebUserPrefsLabelAssociationsLidMigration").isLabelAssociationsMigrationComplete()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: migration already complete"])));return}if(!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: 1-1 threads are not migrated to lid"]))).sendLogs("migrateLabelAssociationsDatabaseToLid-1-1-not-migrated");return}var a=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["label-association","chat"],function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=b[0];b=b[1];e=e;b=b;try{d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: start migration"])));var f=(yield e.all()),g=[],h=new Set();d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: loaded "," associations"])),f.length);f.forEach(function(a){var b=a.associationId,c=a.type;if(c!==d("WAWebSchemaLabelAssociation").LabelAssociationType.Jid)return;c=d("WAWebWidFactory").createWid(b);if(!c.isRegularUser())return;if(c.isLid()){h.add(b);return}g.push(a)});if(g.length===0){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: no associations to migrate"])));a=!0;return}d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: found "," associations to migrate"])),g.length);var i=g.map(function(a){return a.associationId}),t=(yield b.bulkGet(i)),u=0,v=0,w=0,x=[],y=[];g.forEach(function(a,b){var c=null,e=t[b];e!=null?c=e.accountLid:u++;if(c==null){c=(b=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").createUserWid(i[b])))==null?void 0:b.toString();if(c==null){e!=null&&v++;return}}if(h.has(c)){w++;x.push(d("WAWebSchemaLabelAssociation").createLabelAssociationPrimaryKey(a));return}x.push(d("WAWebSchemaLabelAssociation").createLabelAssociationPrimaryKey(a));y.push(babelHelpers["extends"]({},a,{associationId:c}))});d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: not found chat rows: ",""])),u);d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: deduped associations: ",""])),w);v>0&&d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: not found account lids: ",""])),v).sendLogs("migrateLabelAssociationsDatabaseToLid-not-found-account-lids");yield e.bulkRemove(x);yield e.bulkCreate(y);b=(yield e.count());d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: all associations after migration: ",""])),b);if(b!==f.length-w){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: all associations after migration: "," does not match all LabelAssociations: "," minus deduped ",""])),b,f.length,w).sendLogs("migrateLabelAssociationsDatabaseToLid-all-associations-after-migration-mismatch");throw c("err")("migrateLabelAssociationsDatabaseToLid: mismatch after migration")}a=v===0}catch(a){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: migration error: ",""])),a.message).sendLogs("migrateLabelAssociationsDatabaseToLid-error");throw a}});return function(a){return e.apply(this,arguments)}}());a&&(d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["migrateLabelAssociationsDatabaseToLid: migration complete, success"]))),d("WAWebUserPrefsLabelAssociationsLidMigration").setLabelAssociationsMigrationAsComplete())});return u.apply(this,arguments)}g.migrateLabelAssociationsDatabaseToLid=a}),98);
__d("WAWebDBPnhThreadMigrationToGeneralLid",["Promise","WALogger","WAWebBackendApi","WAWebContactSystemMsg","WAWebHandleSingleMsg","WAWebLid1X1MigrationGating","WAWebLidAwareContactsDB","WAWebModelStorageUtils","WAWebMsgType","WAWebPrivacyGatingUtils","WAWebUserPrefsPhoneNumberHidingThreadPromotionMigration","WAWebUsernameTypes","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;function z(a){return d("WAWebContactSystemMsg").genNotificationMsg(a,{type:"notification_template",kind:d("WAWebMsgType").MsgKind.NotificationTemplate,subtype:"pnh_thread_promotion",templateParams:[]})}function a(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebPrivacyGatingUtils").isPhoneNumberHidingThreadPromotionToGeneralLidEnabled()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: feature not enabled"])));return}if(d("WAWebUserPrefsPhoneNumberHidingThreadPromotionMigration").isPhoneNumberHidingThreadPromotionMigrationComplete()){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: migration already complete"])));return}if(!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: 1-1 threads are not migrated to lid"]))).sendLogs("migratePhoneNumberHidingThreadsToGeneralLid-1-1-not-migrated");return}var a=!1,e=[],f=[];yield d("WAWebModelStorageUtils").getStorage().lock(["chat","contact"],function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b[0];b[1];b=g;try{d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: start migration"])));g=(yield b.all());d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: loaded "," chats"])),g.length);g=g.filter(function(a){return a.lidOriginType===d("WAWebUsernameTypes").LidOriginType.PNH_CTWA});if(g.length===0){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: no chats found with CTWA lidOriginType"])));a=!0;return}d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: found "," chats to migrate from CTWA to GENERAL"])),g.length);var h=g.map(function(a){return babelHelpers["extends"]({},a,{lidOriginType:d("WAWebUsernameTypes").LidOriginType.GENERAL})});yield b.bulkCreateOrMerge(h);d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: successfully updated "," chats from CTWA to GENERAL"])),h.length);e=g.map(function(a){return a.id});d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: checking shareOwnPn status for "," affected chats"])),e.length);var i=(yield c("WAWebLidAwareContactsDB").bulkGet(e));f=e.filter(function(a,b){a=i[b];return(a==null?void 0:a.shareOwnPn)!==!0});d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: filtered to "," chats where shareOwnPn is not true"])),f.length);a=!0}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: migration error: ",""])),String(a)).sendLogs("migratePhoneNumberHidingThreadsToGeneralLid-error");throw a}});return function(a){return g.apply(this,arguments)}}());if(a){if(e.length>0){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: propagating lid origin type changes to frontend for "," chats"])),e.length);var g=e.map(function(a){return{id:d("WAWebWidFactory").createWid(a),lidOriginType:d("WAWebUsernameTypes").LidOriginType.GENERAL}});d("WAWebBackendApi").frontendFireAndForget("chatCollectionUpdate",{updates:g});d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: frontend propagation complete"])))}if(f.length>0){d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: generating system messages for "," chats where shareOwnPn is not true"])),f.length);g=f.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=d("WAWebWidFactory").createWid(a),c=z(b);yield d("WAWebHandleSingleMsg").handleSingleMsg({chatId:b,newMsg:c,handleSingleMsgOrigin:"generatePhnThreadPromotionMessage"})}catch(b){d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: failed to generate system message for chat ",": ",""])),a,String(b)).sendLogs("migratePhoneNumberHidingThreadsToGeneralLid-system-msg-error")}});return function(b){return a.apply(this,arguments)}}());yield (y||(y=b("Promise"))).all(g);d("WALogger").LOG(w||(w=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: system message generation complete"])))}d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["migratePhoneNumberHidingThreadsToGeneralLid: migration complete, success"])));d("WAWebUserPrefsPhoneNumberHidingThreadPromotionMigration").setPhoneNumberHidingThreadPromotionMigrationAsComplete()}});return A.apply(this,arguments)}g.migratePhoneNumberHidingThreadsToGeneralLid=a}),98);
__d("WAWebDeleteStatusAction",["WALogger","WAWebContactGetters","WAWebDBMessageDelete","WAWebGroupMetadataCollection","WAWebStatusCollection","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){var h;function a(){var a=d("WAWebStatusCollection").StatusCollection.filter(function(a){var b;return!d("WAWebUserPrefsMeUser").isMeAccount(a.contact.id)&&!d("WAWebContactGetters").getIsMyContact(a.contact)&&(!d("WAWebContactGetters").getIsGroup(a.contact)||(c("WAWebGroupMetadataCollection")==null||(b=c("WAWebGroupMetadataCollection").get(a.contact.id))==null||(b=b.participants)==null?void 0:b.iAmMember())!==!0)&&!d("WAWebContactGetters").getIsPSA(a.contact)});a=a.reduce(function(a,b){a=a.concat(b.msgs.map(function(a){return String(a.id)}));b["delete"]();return a},[]);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["clearStatusForNonAddressBook: remove "," status "])),a.length);return d("WAWebDBMessageDelete").removeStatusMessage(a)}g.clearStatusForRemovedContact=a}),98);
__d("WAWebEventsWaitForMain",["Promise","WAWebCmd","WAWebEventsWaitForBbEvent"],(function(a,b,c,d,e,f,g){var h;function a(){return d("WAWebCmd").Cmd.isMainLoaded?(h||(h=b("Promise"))).resolve():c("WAWebEventsWaitForBbEvent")(d("WAWebCmd").Cmd,"main_loaded")}g["default"]=a}),98);
__d("WAWebInitFavoritesFromStorage",["WAWebDBFavoriteDatabaseApi","WAWebFavoriteCollection"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebDBFavoriteDatabaseApi").getAllFavorites().then(function(a){d("WAWebFavoriteCollection").FavoriteCollection.initializeFromCache([].concat(a))})}g.restoreFavorites=a}),98);
__d("WAWebRequestBotList",["WALogger","WASmaxBotBotListRPC","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WASmaxBotBotListRPC").sendBotListRPC({botV:"2"}));switch(a.name){case"BotListResponseSuccessV2":var b=a.value,e=b.botDefaultJid;b=b.botSection;var f=[];b.forEach(function(a){a.bot.forEach(function(a){var b=a.jid;a=a.personaId;f.push({id:d("WAWebWidFactory").createWid(b),isDefault:b===e,personaId:a})})});return f;case"BotListResponseSuccessV3":throw c("err")(a.name+" is not implemented");case"BotListResponseError":b=a.value.errorBotListErrors.value;a=b.code;b=b.text;d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[bot] requestBotList failed"]))).devConsole("[bot] requestBotList failed with code "+a+", "+b);return[]}});return j.apply(this,arguments)}function e(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxBotBotListRPC").sendBotListRPC({botV:"3",botBhash:a}));switch(a.name){case"BotListResponseSuccessV3":var b=a.value,e=b.botDefault,f=b.botSection;b=b.botBhash;var g=[];f.forEach(function(a){a.bot.forEach(function(a){var b=a.jid;a=a.personaId;g.push({id:d("WAWebWidFactory").createWid(b),isDefault:b===(e==null?void 0:e.jid),personaId:a})})});return{botList:g,botBhash:b};case"BotListResponseSuccessV2":throw c("err")(a.name+" is not implemented");case"BotListResponseError":f=a.value.errorBotListErrors.value;b=f.code;a=f.text;d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[bot] requestBotList failed"]))).devConsole("[bot] requestBotList failed with code "+b+", "+a);return null}});return k.apply(this,arguments)}g.requestBotList=a;g.requestUgcBotList=e}),98);
__d("WAWebRestoreBotProfilesFromDb",["WALogger","WAWebBotProfileCollection","WAWebSchemaBotProfile","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=["id","prompts","commands"];function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaBotProfile").getBotProfileTable().all());a.forEach(function(a){var b=a.id,c=a.prompts,e=a.commands;a=babelHelpers.objectWithoutPropertiesLoose(a,m);var f;try{f=d("WAWebWidFactory").createUserWid(b)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["restore-bot-profiles: invalid id"]))).sendLogs("restore-bot-profiles: invalid id");return}b=[];if(c)try{b=JSON.parse(c),Array.isArray(b)||(b=[],d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["restore-bot-profiles: prompts are not an array"]))).sendLogs("restore-bot-profiles: prompts are not an array"))}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["restore-bot-profiles: prompts parsing failed"]))).sendLogs("restore-bot-profiles: prompts parsing failed")}c=[];if(e!=null)try{c=JSON.parse(e),Array.isArray(c)||(c=[],d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["restore-bot-profiles: commands are not an array"]))).sendLogs("restore-bot-profiles: commands are not an array"))}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["restore-bot-profiles: commands parsing failed"]))).sendLogs("restore-bot-profiles: commands parsing failed")}d("WAWebBotProfileCollection").BotProfileCollection.gadd(babelHelpers["extends"]({id:f,commands:c,prompts:b},a))})});return n.apply(this,arguments)}g.restoreBotProfilesFromDb=a}),98);
__d("WAWebInitializeBots",["WALogger","WATimeUtils","WAWebABProps","WAWebBotGating","WAWebCmd","WAWebPersistBotProfiles","WAWebRequestBotList","WAWebRequestBotProfiles","WAWebRestoreBotProfilesFromDb","WAWebRuntimeEnvironmentUtils","WAWebUserPrefsBot","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebRuntimeEnvironmentUtils").isWorker()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[bot] skipping bot initialization in worker"])));return}if(!d("WAWebBotGating").isBotEnabled()){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[bot] not initializing bots due to feature being disabled"])));return}var a=s(),c=d("WATimeUtils").unixTime(),e=d("WAWebABProps").getABPropConfigValue("bonsai_update_interval"),f;a+e<c?(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[bot] requesting bots from server"]))),yield q(),f=e):(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[bot] restoring bots from DB"]))),yield d("WAWebRestoreBotProfilesFromDb").restoreBotProfilesFromDb(),f=a+e-c);self.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield n()}),f*1e3);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[bot] initializing bots complete, next fetch at ",""])),c+f)});return o.apply(this,arguments)}var p=500;function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[];if(d("WAWebBotGating").isUgcBotEnabled()){var b=(yield d("WAWebRequestBotList").requestUgcBotList(d("WAWebUserPrefsBot").getUgcBotListLastBhash()));if(b){var c=b.botList.length;if(c>p){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["getBotProfilesFromServer: exceed max number of UGC bot: ",""])),c).sendLogs("exceed-max-ugc-bots");t();return}d("WAWebUserPrefsBot").setUgcBotListLastBhash(b.botBhash);a=b.botList}}else a=(yield d("WAWebRequestBotList").requestBotList());c=(yield d("WAWebRequestBotProfiles").requestBotProfiles(a));yield d("WAWebPersistBotProfiles").persistBotProfiles(c);t()});return r.apply(this,arguments)}d("WAWebCmd").Cmd.on("on_ab_props_update",function(){void n()});d("WAWebCmd").Cmd.on("ab_props_loaded",function(){void n()});function s(){return d("WAWebBotGating").isUgcBotEnabled()?d("WAWebUserPrefsBot").getUgcBotListLastRequestedTimestamp():d("WAWebUserPrefsBot").getBotListLastRequestedTimestamp()}function t(){d("WAWebBotGating").isUgcBotEnabled()?d("WAWebUserPrefsBot").setUgcBotListLastRequestedTimestamp(d("WATimeUtils").unixTime()):d("WAWebUserPrefsBot").setBotListLastRequestedTimestamp(d("WATimeUtils").unixTime())}g.initializeBots=n}),98);
__d("WAWebLid1x1MigrationManager",["Promise","WALogger","WAWebLid1X1MigrationGating","WAWebLid1X1ThreadAccountMigrations","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;a=function(){function a(){this.$1=[]}var c=a.prototype;c.addDependentMigrationTask=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Lid1x1ThreadMigrationManager: register dependant migration task"]))),this.$1.push(a)};c.executeMigrationIfNeeded=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebLid1X1ThreadAccountMigrations").shouldMigrateNow()&&!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&(yield d("WAWebLid1X1ThreadAccountMigrations").migrate1x1Chats());if(this.$1.length===0){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Lid1x1ThreadMigrationManager: no dependant migration tasks"])));return}var a=d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated();try{a&&(yield (l||(l=b("Promise"))).all(this.$1.map(function(a){return a()})),d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Lid1x1ThreadMigrationManager: executed all {","} dependent migration tasks"])),this.$1.length))}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Lid1x1ThreadMigrationManager: executeMigrationTasks failed: error: ",""])),a)}});function c(){return a.apply(this,arguments)}return c}();return a}();c=new a();g.ThreadMigrationManager=c}),98);
__d("WAWebLid1x1MigrationTimeoutUtils",["WALogger","WASyncAction.pb","WASyncdConst","WATimeUtils","WAWebABProps","WAWebLid1X1MigrationGating","WAWebLid1X1ThreadAccountMigrations","WAWebLid1X1ThreadAccountMigrations.flow","WAWebSyncdDb","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a='["'+d("WASyncdConst").Actions.DeviceCapabilities+'","'+d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().user+':0@s.whatsapp.net"]';a=(yield d("WAWebSyncdDb").getSyncAction(a));if((a==null?void 0:a.binarySyncData)==null)return null;a=(a=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,a.binarySyncData).value)==null||(a=a.deviceCapabilities)==null||(a=a.lidMigration)==null?void 0:a.chatDbMigrationTimestamp;return a==null?null:d("WATimeUtils").castLongIntToUnixTime(a)});return n.apply(this,arguments)}function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] checking if we need to logout due to missing peer message"])));var a=d("WAWebABProps").getABPropConfigValue("lid_one_on_one_migration_peer_sync_timeout_in_seconds");if(a===0)return{shouldScheduleTimeout:!1};if(d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] already migrated"])));return{shouldScheduleTimeout:!1}}var b=d("WAWebLid1X1ThreadAccountMigrations").getLidThreadMigrationStatus().state;if([d("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.COMPLETE,d("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.IN_PROGRESS,d("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.READY].includes(b)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] already got peer mapping"])));return{shouldScheduleTimeout:!1}}var c=(yield m());if(c==null){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] primary did not migrate"])));return{shouldScheduleTimeout:!1}}var e=d("WATimeUtils").unixTime(),f=d("WATimeUtils").timeoutForAt(e,c,a);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] logout should be in "," seconds.\n      allowed delay: "," primary migration time: "," local time: ","\n      migration state: ","\n  "])),f/1e3,a,c,e,b);return{shouldScheduleTimeout:!0,timeoutUntilLogout:f}});return o.apply(this,arguments)}g.getPrimaryMigrationTime=m;g.shouldScheduleTimeoutForMissingPeerMessage=a}),98);
__d("WAWebLid1x1MigrationTimeout",["WAAsyncSleep","WALogger","WAWebEventsWaitForOfflineDeliveryEnd","WAWebLid11MigrationLifecycleWamEvent","WAWebLid1x1MigrationTimeoutUtils","WAWebLogoutReasonConstants","WAWebSocketLogoutJob","WAWebWamEnumMigrationStageEnum","WAWebWamEnumStageFailureReasonEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=null;function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(o!=null){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] already scheduled logout. is offline: ",""])),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd());return}d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] start check lid migration timeout. source: ",". is offline: ",""])),a,d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd());a=(yield d("WAWebLid1x1MigrationTimeoutUtils").shouldScheduleTimeoutForMissingPeerMessage());var c=a.shouldScheduleTimeout;a=a.timeoutUntilLogout;if(!c)return;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] setting logout timeout. is offline: ",""])),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd());o=self.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] running logout check. is offline: ",""])),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd());var a=(yield d("WAWebLid1x1MigrationTimeoutUtils").shouldScheduleTimeoutForMissingPeerMessage());a=a.shouldScheduleTimeout;d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] should logout in second check: ",". is offline: ",""])),a,d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd());a&&(d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] logging out since did not receive peer mappings"]))).sendLogs("lid-migration-did-not-receive-mapping"),yield d("WAAsyncSleep").asyncSleep(5e3),d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[lid][timeout] will logout. is offline: ",""])),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()),yield new(d("WAWebLid11MigrationLifecycleWamEvent").Lid11MigrationLifecycleWamEvent)({migrationStage:d("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_LOCAL_MIGRATION_FAILED,stageFailureReason:d("WAWebWamEnumStageFailureReasonEnum").STAGE_FAILURE_REASON_ENUM.COMPANION_TIMEOUT_BASED_ON_DEVICE_CAPABILITY}).commitAndWaitForFlush(!0),yield d("WAWebSocketLogoutJob").socketLogout(d("WAWebLogoutReasonConstants").LogoutReason.LidMigrationPeerMappingsNotReceived))}),a)});return p.apply(this,arguments)}g.scheduleLogoutIfNeeded=a}),98);
__d("WAWebMergeContactRecordsById",["WALogger","WAWebLidAwareContactsDB","WAWebModelStorageUtils","WAWebUserPrefsIndexedDBStorage","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebModelStorageUtils").getStorage().lock(["contact","user-prefs"],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get("WAContactMigrationIdComplete2")){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["mergeContactRecordsById: migration already complete"])));return}d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["mergeContactRecordsById: start migration"])));var a=(yield c("WAWebLidAwareContactsDB").all()).filter(function(a){return a.id.endsWith("@c.us")});yield c("WAWebLidAwareContactsDB").bulkCreateOrMerge(a.map(function(a){var b=a.id;a=a.pushname;return{id:d("WAWebWidFactory").createWid(b).toJid(),pushname:a}}),"MergeContactRecordsById.mergeContactRecordsById");yield c("WAWebLidAwareContactsDB").bulkRemove(a.map(function(a){a=a.id;return a}));yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set("WAContactMigrationIdComplete2",!0);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["mergeContactRecordsById: end migration"])))}))});return k.apply(this,arguments)}g.mergeContactRecordsById=a}),98);
__d("WAWebNewsletterMessageDeliveryUpdateToModelUtils",["Promise","WALogger","WAWebNewsletterDBUtils","WAWebNewsletterGetMessagesJob","WAWebNewsletterUpdateMsgsRecordsJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=(yield d("WAWebNewsletterDBUtils").bulkGetMessagesByServerIds(c.map(function(a){return a.id}),a)),g=[];c=c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.id,e=f.get(b.id);if(e==null){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][getMessageDeliveryUpdatesModelToUpdate] Local DB doesn't contain message, we fetch from server."])));c=(yield d("WAWebNewsletterGetMessagesJob").getNewsletterMessages(a,1,{after:c-1}));c=c.msgs[0];if(c==null){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][getMessageDeliveryUpdatesModelToUpdate] couldn't retrieve message"])));return null}e=c;g.push(e)}return babelHelpers["extends"]({},b,{msgData:e,serverId:b.id,id:e.id})});return function(a){return c.apply(this,arguments)}}());g.length>0&&(yield d("WAWebNewsletterUpdateMsgsRecordsJob").addNewsletterMsgsRecords(g));var k=(yield d("WAWebNewsletterDBUtils").bulkGetMessagesByServerIds(e,a));e=e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=k.get(a);return a==null?null:a.id});return function(b){return a.apply(this,arguments)}}());return{modelUpdatesToAdd:(yield (j||(j=b("Promise"))).all(c)).filter(Boolean),modelUpdatesToRemove:(yield j.all(e)).filter(Boolean)}});return k.apply(this,arguments)}g.getMessageDeliveryUpdatesModelToUpdate=a}),98);
__d("WAWebNewsletterMetadataInitFromStorage",["WAJids","WALinkify","WALogger","WAWebBackendApi","WAWebCommonNewsletterEnums","WAWebNewsletterMessageDeliveryUpdateToModelUtils","WAWebNewsletterMetadataCollection","WAWebSchemaNewsletterMetadata","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a){switch(a){case 0:return d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Subscriber;case 1:return d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Admin;case 3:return d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Owner;case 2:default:return d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Guest}}function l(a){switch(a){case 0:return d("WAWebCommonNewsletterEnums").NewsletterReactionCodesSetting.All;case 3:return d("WAWebCommonNewsletterEnums").NewsletterReactionCodesSetting.None;case 2:return d("WAWebCommonNewsletterEnums").NewsletterReactionCodesSetting.Blocklist;case 1:default:return d("WAWebCommonNewsletterEnums").NewsletterReactionCodesSetting.Basic}}function m(a){switch(a){case 0:return d("WAWebCommonNewsletterEnums").NewsletterCapability.Insights;case 1:return d("WAWebCommonNewsletterEnums").NewsletterCapability.PhotoPolls;default:d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Encountered unexpected newsletter capability in DB: ",""])),a).tags("newsletter-capabilities").sendLogs("Unexpected newsletter capability in DB");return null}}function n(a){switch(a){case 1:return d("WAWebCommonNewsletterEnums").NewsletterPrivacy.Private;case 0:default:return d("WAWebCommonNewsletterEnums").NewsletterPrivacy.Public}}function o(a){switch(a){case 0:return d("WAWebCommonNewsletterEnums").WamoSubStatus.ACTIVE;case 1:default:return d("WAWebCommonNewsletterEnums").WamoSubStatus.INACTIVE}}function a(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreNewsletterMetadata: start restoring newsletter metadata"])));try{var a=(yield d("WAWebSchemaNewsletterMetadata").getNewsletterMetadataTable().all());a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebWidFactory").createWid(a.id),e={id:b,creationTime:a.creationTime,name:a.name,nameUpdateTime:a.nameUpdateTime,description:a.description,descriptionUpdateTime:a.descriptionUpdateTime,handle:a.handle,inviteCode:a.inviteCode,size:a.size,verified:a.verified,membershipType:k(a.membershipType),reactionCodesSetting:l(a.reactionCodesSetting),privacy:n(a.privacy),website:a.website!=null?d("WALinkify").findLink(a.website):null,adminCount:a.adminCount,capabilities:a.capabilities!=null?new Set(Array.from(a.capabilities).map(m).filter(Boolean)):new Set(),suspended:a.suspended,geosuspended:a.geosuspended,terminated:a.terminated,wamoSubPlanId:a.wamoSubPlanId,wamoSubStatus:o(a.wamoSubStatus)};c("WAWebNewsletterMetadataCollection")==null||c("WAWebNewsletterMetadataCollection").add(e,{merge:!0});if(a.messageDeliveryUpdates!=null){var f=[];a.messageDeliveryUpdates.forEach(function(a,b){return f.push({id:b,code:a.code})});e=(yield d("WAWebNewsletterMessageDeliveryUpdateToModelUtils").getMessageDeliveryUpdatesModelToUpdate(d("WAJids").toNewsletterJid(a.id),f,[]));a=e.modelUpdatesToAdd;yield d("WAWebBackendApi").frontendFireAndForget("updateNewsletterMessageDeliveryUpdate",{id:b,modelUpdatesToAdd:a,modelUpdatesToRemove:[]})}});return function(b){return a.apply(this,arguments)}}())}finally{d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreNewsletterMetadata: complete restoring newsletter metadata"])))}});return p.apply(this,arguments)}g.restoreNewsletterMetadata=a}),98);
__d("WAWebQplAbpropsConfigValueProvider",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("qpl_enabled")}function b(){return d("WAWebABProps").getABPropConfigValue("qpl_upload_delay")*60}function c(){return d("WAWebABProps").getABPropConfigValue("qpl_sampling_as_string")}function e(){return d("WAWebABProps").getABPropConfigValue("qpl_initial_upload_delay")*60}g.isQplEnabled=a;g.getUploadIntervalInSeconds=b;g.getEventSampling=c;g.getInitialUploadDelayInSeconds=e}),98);
__d("WAWebQplConfig",["WALogger","WAQplConfigTypes","WAWebQplHealthLogger","WAWebQplQuickPerformanceLoggerModule","gkx"],(function(a,b,c,d,e,f,g){var h,i={sampleRate:0,samplingMethod:d("WAQplConfigTypes").QplSampleMethod.EVENT_BASED_SAMPLING},j={sampleRate:1,samplingMethod:d("WAQplConfigTypes").QplSampleMethod.EVENT_BASED_SAMPLING},k,l,m;function n(){return m.isQplEnabled()}function o(){return m.getUploadIntervalInSeconds()}function p(){return m.getInitialUploadDelayInSeconds()}function q(a){if(c("gkx")("26256"))return j;a=d("WAWebQplQuickPerformanceLoggerModule").convertMarkerIdOrEvent(a);a=k.get(a);return a?a:i}function r(){try{var a=m.getEventSampling();a.indexOf("json:")===0&&(a=a.slice(5));a=JSON.parse(a);a=a.sampling;a.forEach(function(a){var b=a[0],c=a[1];a=Math.max(a[2],0);k.set(b,{sampleRate:a,samplingMethod:c})})}catch(a){d("WAWebQplHealthLogger").errorParsingConfig(a)}}function a(a,b){b===void 0&&(b=!1);!l||b===!0?(k=new Map(),m=a,r(),l={isQplEnabled:n,uploadInterval:o,getEventDetails:q,uploadDelay:p}):d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["QPL Config has already been initialized"]))).tags("qpl");return l}g.config=a}),98);
__d("WAWebQplInitMd",["Promise","WALogger","WAQplNetwork","WAQplUploader","WAWebApiQplEvents","WAWebQplAbpropsConfigValueProvider","WAWebQplConfig","WAWebQplHealthLogger","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebQplStorageApi","WAWebQplValuesConfig","WAWebWaUlCookieUtils","WAWebXHR","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l={post:c("WAWebXHR").post};function a(){d("WAQplNetwork").defaultQplNetwork({restInterface:l,isDev:0,qplAccessToken:d("WAWebQplValuesConfig").qplConfigs.accessToken,qplAppId:d("WAWebQplValuesConfig").qplConfigs.appId,qplEndpoint:d("WAWebQplValuesConfig").qplConfigs.endpoint,waul_cookie:d("WAWebWaUlCookieUtils").getWaUlCookieIfLoggedOut()});var a=d("WAWebQplConfig").config(d("WAWebQplAbpropsConfigValueProvider"));if(a.isQplEnabled()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["QPL is being initialized"])));if(c("gkx")("26256")){var e=new URLSearchParams(window.location.search).get("e2etestname");void d("WAQplUploader").start({sendEvents:function(a){a.forEach(function(a){e!=null&&(a.annotations?a.annotations.e2etestname=e:a.annotations={e2etestname:e})});var b=window.__je2e_recordQPLMarker;b!=null&&typeof b==="function"&&a.forEach(b);return d("WAQplNetwork").defaultQplNetwork().sendEventsOverNetwork(a)},isQplEnabled:function(){return!0},intervalInSeconds:a.uploadInterval(),startDelayInSeconds:a.uploadDelay()},{storageApi:new(d("WAWebQplStorageApi").QplStorageApi)(),healthLogger:d("WAWebQplHealthLogger")})}else d("WAQplUploader").start({isQplEnabled:a.isQplEnabled,sendEvents:function(a){return d("WAQplNetwork").defaultQplNetwork().sendEventsOverNetwork(a)},intervalInSeconds:a.uploadInterval(),startDelayInSeconds:a.uploadDelay()},{storageApi:new(d("WAWebQplStorageApi").QplStorageApi)(),healthLogger:d("WAWebQplHealthLogger")});d("WAWebQplQuickPerformanceLoggerModule").QPL.init(function(a,c){d("WAWebApiQplEvents").add([a]);return(k||(k=b("Promise"))).resolve()},a.getEventDetails,a.isQplEnabled)}else d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["QPL is disabled, throwing Killswitch, will clear database"]))),d("WAWebQplQuickPerformanceLoggerModule").QPL.throwKillswitch(!0),d("WAWebQplQuickPerformanceLoggerModule").QPL.clearStorage()}g.startQPL=a}),98);
__d("WAWebFetchSubscriptionsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29753057770976041"}),null);
__d("WAWebFetchSubscriptionsQuery.graphql",["WAWebFetchSubscriptionsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"data"}],concreteType:"XWAGetSubscriptionsResponse",kind:"LinkedField",name:"xwa_get_subscriptions",plural:!1,selections:[{alias:null,args:null,concreteType:"XWASubscriptionInfoType",kind:"LinkedField",name:"subscriptions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebFetchSubscriptionsQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebFetchSubscriptionsQuery",selections:c},params:{id:b("WAWebFetchSubscriptionsQuery_facebookRelayOperation"),metadata:{},name:"WAWebFetchSubscriptionsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebFetchSubscriptions",["Promise","WACustomError","WALogger","WAPromiseTimeout","WAWebBizGatingUtils","WAWebFetchAdAccountToken","WAWebFetchSubscriptionsQuery.graphql","WAWebGraphQLServerError","WAWebNetworkStatus","WAWebRelayClient","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l={type:"error"},m=h!==void 0?h:h=b("WAWebFetchSubscriptionsQuery.graphql");function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebBizGatingUtils").isGetSubscriptionsGraphqlMigrationEnabled()===!1)return(k||(k=b("Promise"))).resolve({type:"not-enabled"});var a=(yield o());if(a.type==="success"){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["fetchSubscriptions: success"])));return a}a.type;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(['fetchSubscriptions: failed as "','"'])),a.type);return a});return n.apply(this,arguments)}function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WAPromiseTimeout").promiseTimeout(d("WAWebFetchAdAccountToken").fetchToken(),d("WAWebBizGatingUtils").adAccountTokenNoncePushWaitTimeoutSeconds()*1e3));if(a.type==="success"){var b=(yield q(a.token));b.type!=="success"?b.type==="auth-failure"?d("WAWebFetchAdAccountToken").markTokenAsInvalid():b.type:b.type;return b}a.type;return a}catch(a){return a instanceof d("WACustomError").TimeoutError?{type:"timeout"}:{type:"error"}}});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;yield c("WAWebNetworkStatus").waitIfOffline();a=(yield d("WAWebRelayClient").fetchQuery(m,{data:{platform:"UNKNOWN"}},{environmentType:"facebook",accessToken:a})["catch"](function(a){if(d("WAWebFetchAdAccountToken").hasGraphQLAuthError(a))return{type:"auth-failure"};if(a instanceof d("WAWebGraphQLServerError").GraphQLServerError)return{type:"graphql-error",error:a}}));a=a==null||(b=a.xwa_get_subscriptions)==null?void 0:b.subscriptions;return a==null?l:{type:"success",subscriptions:a.map(function(a){var b;return{expirationDate:(b=a.end_time)!=null?b:null,id:(b=a.id)!=null?b:"",status:s(a.status)}})}});return r.apply(this,arguments)}function s(a){if(a==null)return;a=a;switch(a){case"STATUS_ACTIVE":return"ACTIVE";case"STATUS_CANCELED":return"CANCELED";case"STATUS_DISCOUNT_TRIAL":return"DISCOUNT_TRIAL";case"STATUS_EXPIRED":return"EXPIRED";case"STATUS_FREE_TRIAL":return"FREE_TRIAL";case"STATUS_IN_GRACE_PERIOD":return"IN_GRACE_PERIOD";case"STATUS_ON_HOLD":return"ON_HOLD"}}g.fetchSubscriptions=a}),98);
__d("WAWebSubscriptionJob",["WADeprecatedSendIq","WADeprecatedWapParser","WAWap","WAWapDeprecatedSmaxID","WAWebBackendErrors","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=new(c("WADeprecatedWapParser"))("subscriptionsParser",function(a){a.assertTag("iq");a.assertFromServer();a=a.child("subscriptions");var b=[];a.forEachChildWithTag("subscription",function(a){var c=a.attrString("status"),d=a.maybeAttrInt("subscription_end_time");a=a.attrString("id");b.push({id:a,status:c,expirationDate:d})});return b});function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(a=d("WAWap")).wap("iq",{xmlns:"fb:thrift_iq",id:a.generateId(),type:"get",smax_id:a.SMAX_ID(c("WAWapDeprecatedSmaxID").QuerySubscription),to:a.S_WHATSAPP_NET});a=(yield d("WADeprecatedSendIq").deprecatedSendIq(a,h));if(a.success)return a.result;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(a.errorCode,a.errorText)});return i.apply(this,arguments)}g.querySubscriptions=a}),98);
__d("WAWebSubscriptions",["WAExponentialBackoff","WALogger","WAPromiseDelays","WAWebBackendErrors","WAWebBizGatingUtils","WAWebFetchSubscriptions","WAWebPremiumAccessEngine","WAWebSchemaSubscription","WAWebSubscriptionCollection","WAWebSubscriptionJob","WAWebUserPrefsMeUser","WAWebUserPrefsSubscription","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u={minTimeout:1e3,maxTimeout:16e3,retries:5,signal:new AbortController().signal},v=86400*1e3;function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebBizGatingUtils").subscriptionFetchEnabled())return;var a=d("WAWebUserPrefsSubscription").getNextSubscriptionQuery();if(a){a=a-Date.now();a>0&&(d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager found scheduled query, not due yet, sleeping for "," sec"])),a/1e3),yield d("WAPromiseDelays").delayMs(a))}try{yield d("WAExponentialBackoff").exponentialBackoff(u,function(a,b){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager, run"])));return A()["catch"](function(c){if(c instanceof d("WAWebBackendErrors").ServerStatusCodeError)switch(c.statusCode){case 500:d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager query failed, retriable error: ",", failCount ",""])),c.message,b);return a(c)}throw c})})}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager pull failed, error: ",""])),a).verbose().devConsole(a).sendLogs("Subscriptions manager run failed");if(a instanceof d("WAWebBackendErrors").ServerStatusCodeError&&a.statusCode===500)d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager, will retry in "," ms"])),v);else{d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager, non recoverable error, exiting"])));return}}d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager, sleeping for "," sec"])),v/1e3);d("WAWebUserPrefsSubscription").setNextSubscriptionQuery(Date.now()+v);yield d("WAPromiseDelays").delayMs(v);d("WAWebUserPrefsMeUser").getMaybeMePnUser()&&void w()});return x.apply(this,arguments)}function y(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebBizGatingUtils").subscriptionFetchEnabled()){if(a.length===0){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager, no subscriptions found"])));d("WAWebSubscriptionCollection").SubscriptionCollection.reset();try{d("WAWebPremiumAccessEngine").update()}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["subscription sync: error PremiumAccessEngine ",""])),a).sendLogs("PremiumAccessEngine")}return}var b=["ACTIVE","FREE_TRIAL","IN_GRACE_PERIOD"];a=a.map(function(a){var c={id:a.id,isAutoRenewing:a.status==="ACTIVE",isDeactivated:!b.includes(a.status),expirationDate:a.expirationDate!==void 0?parseInt(a.expirationDate,10):void 0};a.status==="CANCELED"&&(c.expirationDate||0)>new Date().getTime()/1e3&&(c.isDeactivated=!1);return c});d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager, got subscriptions: ",""])),JSON.stringify(a));yield d("WAWebSchemaSubscription").getSubscriptionTable().bulkCreateOrMerge(a);d("WAWebSubscriptionCollection").SubscriptionCollection.add(a.map(function(a){return babelHelpers["extends"]({},a)}),{merge:!0});try{d("WAWebPremiumAccessEngine").update()}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["subscription sync: error PremiumAccessEngine ",""])),a).sendLogs("PremiumAccessEngine")}}});return z.apply(this,arguments)}function A(){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebUserPrefsMeUser").getMaybeMePnUser())return;d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Subscriptions manager, fetch state"])));if(d("WAWebBizGatingUtils").isGetSubscriptionsGraphqlMigrationEnabled()){var a=(yield d("WAWebFetchSubscriptions").fetchSubscriptions());if(a.type==="success"&&a.subscriptions!=null)void y(a.subscriptions);else return c()}else{d("WALogger").WARN(t||(t=babelHelpers.taggedTemplateLiteralLoose(["subscription sync: Subscriptions graphql fetch failed, falling back to IQ"]))).sendLogs("PremiumAccessEngine",{sampling:.01});return c()}function c(){return e.apply(this,arguments)}function e(){e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSubscriptionJob").querySubscriptions());return y(a)});return e.apply(this,arguments)}});return B.apply(this,arguments)}g.runSubscriptionsManager=w;g.applySubscriptions=y}),98);
__d("WAWebSyncContactsJob",["WALogger","WANullthrows","WAShiftTimer","WAWebContactSyncApi","WAWebLidAwareContactsDB","WAWebLocalStorage","WAWebUserPrefsAppStateSync","WAWebUserPrefsKeys","WAWebUserPrefsMultiDevice","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k=86400,l=2e4,m=1e3,n=60,o=null,p=[];function a(a){p.push(a),!o?(o=new(d("WAShiftTimer").ShiftTimer)(function(){if(!d("WAWebUserPrefsMultiDevice").isRegistered())return;var a=p;p=[];o=null;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["start new contact sync for "," contacts"])),a.length).tags("contact-sync");d("WAWebContactSyncApi").syncContactListInChunks({contactIds:a,shouldDelayBetweenChunks:!0,mode:"query"})["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncNewContact: contact sync failed, error: ",""])),a).verbose().tags("non-sad","contact-sync").sendLogs("syncNewContact: contact sync failed")})}),o.onOrBefore(l)):o.debounce(m)}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebLidAwareContactsDB").equals(["isContactSyncCompleted"],0));a=a.map(function(a){return d("WAWebWidFactory").createWid(a.id)});d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["sync dirty contacts, found "," contacts to sync"])),a.length).tags("contact-sync");return d("WAWebContactSyncApi").syncContactListInChunks({contactIds:a,shouldDelayBetweenChunks:!0,mode:"query"})});return r.apply(this,arguments)}function e(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){(yield d("WAWebUserPrefsMultiDevice").getShouldCheckContactSyncStatus())&&self.setTimeout(function(){q()},n*1e3),yield d("WAWebUserPrefsAppStateSync").setShouldCheckContactSyncStatus()});return s.apply(this,arguments)}function f(){var a;a=(a=c("WANullthrows")(c("WAWebLocalStorage")).getItem(d("WAWebUserPrefsKeys").KEYS.CONTACT_SYNC_REFRESH))!=null?a:k;return parseInt(a,10)}g.syncNewContact=a;g.runSyncDirtyContactsJob=e;g.getContactSyncRefreshSeconds=f}),98);
__d("WAWebContactSyncBridge",["WAWebLidAwareContactsDB","WAWebSyncContactJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebLidAwareContactsDB").all());if(b.length>0){b=b.map(function(a){return d("WAWebWidFactory").createWid(a.id)}).filter(function(a){return a.isEligibleForUSync()});return d("WAWebSyncContactJob").syncContactListInChunksJob(b,a,"full")}});return h.apply(this,arguments)}g.doFullContactSync=a}),98);
__d("WAWebDBPurgeExpiredRecords",["Promise","WAWeb-moment","WAWebDBMapOrphansToProviders","WAWebDBOrphanDbSerialization","WAWebMsgType","WAWebSchemaMessage","WAWebSchemaMessageOrphans","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=c("WAWeb-moment")().subtract(a,"days").unix();var f=c("WAWeb-moment")().subtract(e,"days").unix();e=(yield d("WAWebSchemaMessageOrphans").getMessageOrphanTable().between(["t"],0,a));a=new Set(e.map(function(a){return a.parentMsgKey}));a=(yield d("WAWebSchemaMessage").getMessageTable().bulkGet(Array.from(a)));var g=new Set(a.filter(function(a){return a&&a.type===d("WAWebMsgType").MSG_TYPE.UNKNOWN}).map(function(a){return a==null?void 0:a.id}));a=e.filter(function(a){return!g.has(a.parentMsgKey)||a.t<f}).map(d("WAWebDBOrphanDbSerialization").orphanFromDbRow);e=(yield d("WAWebDBMapOrphansToProviders").mapOrphansToProviders(a));var i=[];for(e of e.entries()){var j=e[0],k=e[1];j.onRecordsPurged!=null&&i.push(j.onRecordsPurged(k))}yield (h||(h=b("Promise"))).all(i);j=a.map(function(a){return a.msgKey});return d("WAWebSchemaMessageOrphans").getMessageOrphanTable().bulkRemove(j)});return i.apply(this,arguments)}g.purgeExpiredOrphanRecords=a}),98);
__d("WAWebFalcoStorageClearJob",["WAJobOrchestratorTypes","WAWebClearFalcoBufferApi","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("clearFalcoBuffer",function(a){return d("WAWebClearFalcoBufferApi").maybeClearFalcoBuffer()},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT}).waitUntilCompleted()}g.clearFalcoBufferJob=a}),98);
__d("WAWebWamEnumWebcWindowNavigatorWebdriverType",[],(function(a,b,c,d,e,f){a=Object.freeze({FALSE:0,TRUE:1,UNDEFINED:2});f.WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE=a}),66);
__d("WAWebDeviceFeatures",["WAWebSessionStorage"],(function(a,b,c,d,e,f,g){"use strict";function h(){return navigator.platform}function i(){return navigator.deviceMemory===void 0?"undefined":""+navigator.deviceMemory}function j(){var a=window.devicePixelRatio;return a==null||a===void 0?"undefined":a*window.outerWidth+"x"+a*window.outerHeight}function k(){var a;return(a=(a=navigator)==null||(a=a.connection)==null?void 0:a.rtt)!=null?a:-1}function l(){var a;return(a=c("WAWebSessionStorage")==null?void 0:c("WAWebSessionStorage").length)!=null?a:-1}function m(){return"ontouchstart"in window&&"TouchEvent"in window}function a(){return{cpuPlatform:h(),deviceMemory:i(),screenResolution:j(),connectionRoundTripTime:k(),sessionStorageLength:l(),touchPresence:m()}}g["default"]=a}),98);
__d("WAWebWamFingerprint",["WAExternalInjectedSources","WAFPUtils","WAWebBrowserFeatures","WAWebDeviceFeatures"],(function(a,b,c,d,e,f,g){function a(){return babelHelpers["extends"]({webdriver:self.navigator.webdriver,browserEngine:d("WAFPUtils").DETECTED_BROWSER_ENGINE},c("WAWebBrowserFeatures")(),c("WAExternalInjectedSources")(),c("WAWebDeviceFeatures")())}g["default"]=a}),98);
__d("WAWebWebcFingerprintWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumBrowserEngineName","WAWebWamEnumPlatformName","WAWebWamEnumWebcWindowNavigatorWebdriverType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcFingerprint:[1704,{browserEngine:[26,d("WAWebWamEnumBrowserEngineName").BROWSER_ENGINE_NAME],connectionRtt:[37,a.TYPES.INTEGER],cpuMake:[38,a.TYPES.STRING],deviceMemory:[39,a.TYPES.STRING],extentionIds:[27,a.TYPES.STRING],externalSources:[36,a.TYPES.STRING],gpuMake:[40,a.TYPES.STRING],hasChrome:[28,a.TYPES.BOOLEAN],hasTaskbar:[29,a.TYPES.BOOLEAN],hasWebShare:[30,a.TYPES.BOOLEAN],historyLength:[41,a.TYPES.INTEGER],mimeTypeCount:[31,a.TYPES.INTEGER],notificationPermission:[32,a.TYPES.BOOLEAN],pdfViewerEnabled:[33,a.TYPES.BOOLEAN],peripherals:[42,a.TYPES.STRING],platformEstimate:[34,d("WAWebWamEnumPlatformName").PLATFORM_NAME],pluginCount:[35,a.TYPES.INTEGER],screenResolution:[43,a.TYPES.STRING],sessionStorageLength:[44,a.TYPES.INTEGER],timezone:[45,a.TYPES.STRING],touchPresence:[46,a.TYPES.BOOLEAN],viewportSize:[47,a.TYPES.STRING],webcCanvasFingerprint:[25,a.TYPES.STRING],webcWebglFingerprint:[24,a.TYPES.STRING],webcWebglRenderer:[23,a.TYPES.STRING],webcWebglVendor:[22,a.TYPES.STRING],webcWindowNavigatorWebdriver:[21,d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE]},[1,1,1],"regular"]},{WebcFingerprint:[]});g.WebcFingerprintWamEvent=b}),98);
__d("WAWebWamFingerprintReporter",["WAWebWamEnumWebcWindowNavigatorWebdriverType","WAWebWamFingerprint","WAWebWebcFingerprintWamEvent"],(function(a,b,c,d,e,f,g){function a(){var a=c("WAWebWamFingerprint")();a={webcWindowNavigatorWebdriver:a.webdriver===!0?d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE.TRUE:a.webdriver===!1?d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE.FALSE:d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE.UNDEFINED,browserEngine:a.browserEngine,hasChrome:a.hasChrome,hasTaskbar:a.hasTaskbar,hasWebShare:a.hasWebShare,mimeTypeCount:a.mimeTypeCount,notificationPermission:a.hasNotificationPermission,pdfViewerEnabled:a.isPDFViewerEnabled,pluginCount:a.pluginCount,platformEstimate:a.platformEstimate,extentionIds:a.extensionIds,externalSources:a.externalSources,historyLength:a.historyLength,viewportSize:a.viewPortSize,cpuMake:a.cpuPlatform,deviceMemory:a.deviceMemory,screenResolution:a.screenResolution,connectionRtt:a.connectionRoundTripTime,touchPresence:a.touchPresence,sessionStorageLength:a.sessionStorageLength,webcCanvasFingerprint:a.canvasFingerprint};a=new(d("WAWebWebcFingerprintWamEvent").WebcFingerprintWamEvent)(a);a.commit()}g.logFingerprintToWam=a}),98);
__d("WAWebFingerprintJob",["Promise","WAJobOrchestratorTypes","WAWebOrchestratorNonPersistedJob","WAWebWamFingerprintReporter"],(function(a,b,c,d,e,f,g){var h;function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("collectWebFingerprints",function(){d("WAWebWamFingerprintReporter").logFingerprintToWam();return(h||(h=b("Promise"))).resolve()},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW}).waitUntilCompleted()}g.sendWamFingerprintJob=a}),98);
__d("WAWebLogDailyStatsJob",["WAJobOrchestratorTypes","WAWebOrchestratorNonPersistedJob","WAWebTasksDailyStatsTask"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("logDailyStats",function(a){return d("WAWebTasksDailyStatsTask").logDailyStats()},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT}).waitUntilCompleted()}g.logDailyStatsJob=a}),98);
__d("WAWebWamEnumActiveTimeAfterPairing",[],(function(a,b,c,d,e,f){a=Object.freeze({MINS_10:1,MINS_20:2,MINS_40:3,MINS_60:4,MINS_5:5});f.ACTIVE_TIME_AFTER_PAIRING=a}),66);
__d("WAWebWamEnumMdHistorySyncStatusResult",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:1,UNFINISHED:2,FAIL_TO_DOWNLOAD:3,MISSING_CHUNK:4,PROTOBUF_ERROR:5,FAIL_TO_STORE:6,OTHER_ERROR:7,IN_PROGRESS:8,FAIL_TO_RECEIVE:9,FAIL_TO_STORE_CHUNK:10,FAIL_TO_FETCH:11,FAIL_TO_PREPROCESS:12,FAIL_TO_ENCRYPT:13});f.MD_HISTORY_SYNC_STATUS_RESULT=a}),66);
__d("WAWebMdBootstrapHistorySyncStatusAfterPairingWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumActiveTimeAfterPairing","WAWebWamEnumMdBootstrapHistoryPayloadType","WAWebWamEnumMdHistorySyncStatusResult"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdBootstrapHistorySyncStatusAfterPairing:[4652,{activeTimeAfterPairing:[1,d("WAWebWamEnumActiveTimeAfterPairing").ACTIVE_TIME_AFTER_PAIRING],isLoopRunning:[12,a.TYPES.BOOLEAN],lastProcessedNotificationChunkOrder:[2,a.TYPES.INTEGER],lastProcessedNotificationChunkProgress:[3,a.TYPES.INTEGER],mdBootstrapHistoryPayloadType:[4,d("WAWebWamEnumMdBootstrapHistoryPayloadType").MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE],mdHistorySyncStatusResult:[5,d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT],mdSessionId:[6,a.TYPES.STRING],mdTimestamp:[7,a.TYPES.INTEGER],missingNotificationCount:[8,a.TYPES.INTEGER],nextNotificationChunkOrder:[9,a.TYPES.INTEGER],totalProcessedMessageCount:[10,a.TYPES.INTEGER],unprocessedNotificationCount:[11,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MdBootstrapHistorySyncStatusAfterPairing:[]});g.MdBootstrapHistorySyncStatusAfterPairingWamEvent=b}),98);
__d("WAWebLogHistorySyncStatusAfterPairingJob",["Promise","WAJobOrchestratorTypes","WALogger","WATimeUtils","WAWebApiHistorySyncNotification","WAWebHistorySyncNotificationUtils","WAWebMdBootstrapHistorySyncStatusAfterPairingWamEvent","WAWebOrchestratorNonPersistedJob","WAWebSyncBootstrap","WAWebSyncdMdSyncFieldstatMeta","WAWebUserPrefsHistorySync","WAWebUserPrefsTypes","WAWebWamEnumActiveTimeAfterPairing","WAWebWamEnumMdBootstrapHistoryPayloadType","WAWebWamEnumMdHistorySyncStatusResult","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q;function a(a,c){a=(d("WATimeUtils").unixTime()-a)/60;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[history sync] log history sync status with time after pairing "," mins and logging count ",""])),a,c);if(a<5){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[history sync] skip sync status logging as it's too soon after pairing"])));return(q||(q=b("Promise"))).resolve()}return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("logHistorySyncStatusAfterPairing",function(a){return r(a.timeAfterPairingMins,a.loggingCount)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW}).waitUntilCompleted({timeAfterPairingMins:a,loggingCount:c})}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b>=5){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[history sync] skip sync status logging as we've logged for more than 5 times"])));return}if(a>=60){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[history sync] log status for 60 minutes after pairing"])));yield t(d("WAWebWamEnumActiveTimeAfterPairing").ACTIVE_TIME_AFTER_PAIRING.MINS_60);void d("WAWebUserPrefsHistorySync").setHistorySyncStatusAfterPairingLoggingCount(5);return}if(b<4&&a>=40){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[history sync] log status for 40 minutes after pairing"])));yield t(d("WAWebWamEnumActiveTimeAfterPairing").ACTIVE_TIME_AFTER_PAIRING.MINS_40);void d("WAWebUserPrefsHistorySync").setHistorySyncStatusAfterPairingLoggingCount(4);return}if(b<3&&a>=20){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[history sync] log status for 20 minutes after pairing"])));yield t(d("WAWebWamEnumActiveTimeAfterPairing").ACTIVE_TIME_AFTER_PAIRING.MINS_20);void d("WAWebUserPrefsHistorySync").setHistorySyncStatusAfterPairingLoggingCount(3);return}if(b<2&&a>=10){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[history sync] log status for 10 minutes after pairing"])));yield t(d("WAWebWamEnumActiveTimeAfterPairing").ACTIVE_TIME_AFTER_PAIRING.MINS_10);void d("WAWebUserPrefsHistorySync").setHistorySyncStatusAfterPairingLoggingCount(2);return}if(b<1&&a>=5){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[history sync] log status for 5 minutes after pairing"])));yield t(d("WAWebWamEnumActiveTimeAfterPairing").ACTIVE_TIME_AFTER_PAIRING.MINS_5);void d("WAWebUserPrefsHistorySync").setHistorySyncStatusAfterPairingLoggingCount(1);return}d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[history sync] do not log status as no requirment meets"])))});return s.apply(this,arguments)}function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield v(a)});return u.apply(this,arguments)}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId());b=new(d("WAWebMdBootstrapHistorySyncStatusAfterPairingWamEvent").MdBootstrapHistorySyncStatusAfterPairingWamEvent)({mdBootstrapHistoryPayloadType:d("WAWebWamEnumMdBootstrapHistoryPayloadType").MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE.RECENT_HISTORY,mdSessionId:b,mdTimestamp:d("WATimeUtils").unixTimeMs(),activeTimeAfterPairing:a,isLoopRunning:c("WAWebSyncBootstrap").getIsHistorySyncRunning()});a=(yield d("WAWebUserPrefsHistorySync").getLastHistoryRecentSyncedChunk());var e=a!=null?a.chunkOrder:-1,f=a!=null?a.progress:-1;b.lastProcessedNotificationChunkOrder=e;b.lastProcessedNotificationChunkProgress=f;f=(f=(yield d("WAWebUserPrefsHistorySync").getHistorySyncTotalProcessedMessageCount()))!=null?f:0;b.totalProcessedMessageCount=f;f=(yield d("WAWebUserPrefsHistorySync").getHistorySyncStatus());if((f==null?void 0:f.recentCompleted)===!0){b.mdHistorySyncStatusResult=d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.SUCCESS;b.commit();return}f=(yield d("WAWebHistorySyncNotificationUtils").getUnprocessedRecentSyncNotifications());var g=f.length;b.unprocessedNotificationCount=g;f=g>0?(g=f[0].chunkOrder)!=null?g:0:-1;b.nextNotificationChunkOrder=f;if(d("WAWebApiHistorySyncNotification").inFlightChunk.size>0){b.mdHistorySyncStatusResult=d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.IN_PROGRESS;b.commit();return}g=a?e+1:1;f=(yield d("WAWebUserPrefsHistorySync").getRecentSyncSingleChunkStatus());a=x(f,g);b.mdHistorySyncStatusResult=a;b.commit()});return w.apply(this,arguments)}function x(a,b){if(a==null||a[b]==null)return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.FAIL_TO_RECEIVE;switch(a[b]){case d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.RECEIVED:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.FAIL_TO_STORE_CHUNK;case d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.NOTIFICATION_STORED:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.FAIL_TO_FETCH;case d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADING:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.FAIL_TO_DOWNLOAD;case d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADED:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.PROTOBUF_ERROR;case d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DECODED:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.FAIL_TO_PREPROCESS;case d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.MESSAGE_PREPROCESSED:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.FAIL_TO_ENCRYPT;case d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.ENCRYPTED:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.FAIL_TO_STORE;default:return d("WAWebWamEnumMdHistorySyncStatusResult").MD_HISTORY_SYNC_STATUS_RESULT.OTHER_ERROR}}g.logHistorySyncStatusAfterPairingJob=a;g.logHistorySyncStatusAfterPairing=r;g.commitHistorySyncStatusData=t}),98);
__d("WAWebNewsletterCleanupTasks",["WAWebBackendApi","WAWebCommonNewsletterEnums","WAWebNewsletterDeleteChatJob","WAWebNewsletterStorageUtils","WAWebSchemaNewsletterMetadata","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=d("WAWebNewsletterStorageUtils").mapNewsletterMembershipTypeForStorage(d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Guest);function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebBackendApi").frontendSendAndReceive("getActiveNewsletter")),b=a==null?void 0:a.toJid();a=(yield d("WAWebSchemaNewsletterMetadata").getNewsletterMetadataTable().all());a=a.filter(function(a){return a.membershipType===h&&a.id!==b}).map(function(a){return a.id});yield d("WAWebNewsletterDeleteChatJob").bulkDeleteNewsletterChats(a.map(d("WAWebWidFactory").createWid))});return i.apply(this,arguments)}g.deletePreviewNewsletters=a}),98);
__d("WAWebWebDbVersionNonAnonymousWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebDbNameType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebDbVersionNonAnonymous:[4816,{webDbName:[1,d("WAWebWamEnumWebDbNameType").WEB_DB_NAME_TYPE],webDbVersionNumber:[2,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,1,20],"regular"]},{WebDbVersionNonAnonymous:[]});g.WebDbVersionNonAnonymousWamEvent=a}),98);
__d("WAWebReportDbVerionsJob",["WAJobOrchestratorTypes","WAWebLocalSchemaVersions","WAWebOrchestratorNonPersistedJob","WAWebSchemaVersions","WAWebWebDbVersionNonAnonymousWamEvent","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("reportDbVersions",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebLocalSchemaVersions").getLocalSchemaVersions());a.forEach(function(a,b){new(d("WAWebWebDbVersionNonAnonymousWamEvent").WebDbVersionNonAnonymousWamEvent)({webDbName:d("WAWebSchemaVersions").convertDBName(b),webDbVersionNumber:a}).commit()})}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,maxTimeoutMs:1e3*30}).waitUntilCompleted()}g.reportDbVersionsJob=a}),98);
__d("WAWebRestartRecentSyncJob",["Promise","WAJobOrchestratorTypes","WALogger","WAWebHistorySyncNotificationUtils","WAWebOrchestratorNonPersistedJob","WAWebProtobufsHistorySync.pb","WAWebSchemaHistorySyncNotification","WAWebSyncBootstrap","WAWebSyncGatingUtils","WAWebUserPrefsHistorySync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function a(){return!d("WAWebSyncGatingUtils").isHistorySyncHandlingRestartV2Enabled()?(m||(m=b("Promise"))).resolve():d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("restartRecentSyncJob",function(){return n()},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW}).waitUntilCompleted()}function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("WAWebSyncBootstrap").getIsHistorySyncRunning()){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[history sync] History sync is running, skip restart recent sync job"])));return}var a=(yield d("WAWebUserPrefsHistorySync").getHistorySyncStatus());if((a==null?void 0:a.recentCompleted)===!0){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Recent sync already completed, skip restart recent sync job"])));return}a=(yield d("WAWebSchemaHistorySyncNotification").getHistorySyncNotificationTable().equals(["processed"],0,{shouldDecrypt:!1}).then(function(a){return a.filter(function(a){return a.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.RECENT||a.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.FULL})}));if(a.length===0){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[history sync] No unprocessed notifications found, skip restart recent sync job"])));return}d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Unprocessed notifications length: ",""])),a.length);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Restart recent sync job"])));void c("WAWebSyncBootstrap").continueProgressiveHistorySyncProcessingV2(d("WAWebHistorySyncNotificationUtils").HistorySyncScheduleSource.ManualRestart)});return o.apply(this,arguments)}g.restartRecentSyncJob=a}),98);
__d("WAWebSyncdKeyCountWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({SyncdKeyCount:[3978,{keysUsedInSnapshotCount:[1,a.TYPES.INTEGER],p80MuationsPerKey:[2,a.TYPES.INTEGER],p95MuationsPerKey:[3,a.TYPES.INTEGER],syncdSessionLengthDays:[4,a.TYPES.INTEGER],totalKeyCount:[5,a.TYPES.INTEGER]},[1,1,1],"regular"]},{SyncdKeyCount:[]});g.SyncdKeyCountWamEvent=b}),98);
__d("WAWebWamEnumMutationCountBucket",[],(function(a,b,c,d,e,f){a=Object.freeze({ZERO:1,ONE:2,LT10:3,LT100:4,LT500:5,LT1K:6,LT5K:7,GTE5K:8});f.MUTATION_COUNT_BUCKET=a}),66);
__d("WAWebSyncdWamUtils",["WABase64","WASyncdConst","WATimeUtils","WAWebGetSyncKey","WAWebSchemaSyncActions","WAWebSyncdUtils","WAWebWamEnumMutationCountBucket","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=new Map(),b=(yield d("WAWebSchemaSyncActions").getSyncActionsTable().all());b.map(function(b){var c,e=d("WAWebSyncdUtils").getMutationNameFromIndex(b.index);c=(c=a.get(e))!=null?c:{action:e,applied:0,invalid:0,orphan:0,unsupported:0,failed:0};switch(b.actionState){case d("WASyncdConst").SyncActionState.Success:case d("WASyncdConst").SyncActionState.Skipped:c.applied++;break;case d("WASyncdConst").SyncActionState.Malformed:c.invalid++;break;case d("WASyncdConst").SyncActionState.Orphan:c.orphan++;break;case d("WASyncdConst").SyncActionState.Unsupported:c.unsupported++;break;case d("WASyncdConst").SyncActionState.Failed:c.failed++;break}a.set(e,c)});return a});return h.apply(this,arguments)}function e(a){if(a<0)throw c("err")("cannot convert negative number to a bucket");else if(a===0)return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.ZERO;else if(a===1)return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.ONE;else if(a<10)return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.LT10;else if(a<100)return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.LT100;else if(a<500)return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.LT500;else if(a<1e3)return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.LT1K;else if(a<5e3)return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.LT5K;else return d("WAWebWamEnumMutationCountBucket").MUTATION_COUNT_BUCKET.GTE5K}function i(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaSyncActions").getSyncActionsTable().get('["primary_version","session_start"]'));return a==null?void 0:a.timestamp});return j.apply(this,arguments)}function f(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebGetSyncKey").getAllSyncKeysInTransaction()),b=(yield d("WAWebSchemaSyncActions").getSyncActionsTable().all()),c=(yield i());c=c==null?void 0:Math.round((d("WATimeUtils").unixTimeMs()-c)/(1e3*3600*24));return l(a,b,c)});return k.apply(this,arguments)}function l(a,b,c){b=b.map(function(a){return d("WABase64").encodeB64(a.keyId)});var e=Array.from(new Set(b)),f=new Map();for(b of b)f.set(b,(f.get(b)||0)+1);b=Array.from(f.values()).sort();f=b.length;var g=Math.floor(f*.8)-1;f=Math.floor(f*.95)-1;return{totalKeyCount:a.length,keysUsedInSnapshotCount:e.length,p80MuationsPerKey:b[g],p95MuationsPerKey:b[f],syncdSessionLengthDays:c}}g.generateActionStatCounts=a;g.convertToBucket=e;g.getKeyStats=f;g.getKeyStatsInternal=l}),98);
__d("WAWebSyncdReportKeyStatsJob",["WAJobOrchestratorTypes","WAWebOrchestratorNonPersistedJob","WAWebSyncdKeyCountWamEvent","WAWebSyncdWamUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("reportSyncdKeyStats",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("gkx")("26258"))return;var a=(yield d("WAWebSyncdWamUtils").getKeyStats()),b={keysUsedInSnapshotCount:a.keysUsedInSnapshotCount,p80MuationsPerKey:a.p80MuationsPerKey,p95MuationsPerKey:a.p95MuationsPerKey,totalKeyCount:a.totalKeyCount};a.syncdSessionLengthDays!=null&&(b.syncdSessionLengthDays=a.syncdSessionLengthDays);new(d("WAWebSyncdKeyCountWamEvent").SyncdKeyCountWamEvent)(b).commit()}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,maxTimeoutMs:1e3*30}).waitUntilCompleted()}g.reportSyncdKeyStatsJob=a}),98);
__d("WAWebMdAppStateSyncMutationStatsWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMutationCountBucket"],(function(a,b,c,d,e,f,g){b=d("WAWebWamCodegenUtils").defineEvents({MdAppStateSyncMutationStats:[3180,{applied:[1,(a=d("WAWebWamEnumMutationCountBucket")).MUTATION_COUNT_BUCKET],failed:[2,a.MUTATION_COUNT_BUCKET],invalid:[3,a.MUTATION_COUNT_BUCKET],orphan:[4,a.MUTATION_COUNT_BUCKET],syncdAction:[5,d("WAWebWamCodegenUtils").TYPES.STRING],unsupported:[6,a.MUTATION_COUNT_BUCKET]},[1,1,100],"private",0]},{MdAppStateSyncMutationStats:[]});g.MdAppStateSyncMutationStatsWamEvent=b}),98);
__d("WAWebSyncdReportSyncdStatJob",["WAJobOrchestratorTypes","WAWebMdAppStateSyncMutationStatsWamEvent","WAWebOrchestratorNonPersistedJob","WAWebSyncdWamUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("reportSyncdStats",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSyncdWamUtils").generateActionStatCounts());for(a of a.values()){var b;new(d("WAWebMdAppStateSyncMutationStatsWamEvent").MdAppStateSyncMutationStatsWamEvent)({syncdAction:a.action,applied:(b=d("WAWebSyncdWamUtils")).convertToBucket(a.applied),invalid:b.convertToBucket(a.invalid),orphan:b.convertToBucket(a.orphan),unsupported:b.convertToBucket(a.unsupported),failed:b.convertToBucket(a.failed)}).commit()}}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,maxTimeoutMs:1e3*30}).waitUntilCompleted()});return h.apply(this,arguments)}g.reportSyncdStatsJob=a}),98);
__d("WAWebSyncdRequestAllSyncdMissingKeysJob",["WAJobOrchestratorTypes","WAWebOrchestratorNonPersistedJob","WAWebSyncdHandleMissingKeys","WAWebSyncdStoreMissingKeys","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("requestAllSyncdMissingKeys",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSyncdHandleMissingKeys").requestAllMissingKeys(),self.setTimeout(d("WAWebSyncdStoreMissingKeys").setMissingKeyTimeoutInTransaction,1e3*20)}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,maxTimeoutMs:1e3*30}).waitUntilCompleted()}g.requestAllSyncdMissingKeysJob=a}),98);
__d("WAWebSyncdSyncAllCollectionsJob",["WAJobOrchestratorTypes","WALogger","WASyncdConst","WATimeUtils","WAWebOrchestratorNonPersistedJob","WAWebSyncd","WAWebUserPrefsAppStateSync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("syncdSyncAllCollections",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: periodic sync for all collection"]))),yield d("WAWebSyncd").markCollectionsForSync([d("WASyncdConst").CollectionName.CriticalBlock,d("WASyncdConst").CollectionName.CriticalUnblockLow,d("WASyncdConst").CollectionName.Regular,d("WASyncdConst").CollectionName.RegularLow,d("WASyncdConst").CollectionName.RegularHigh]),yield d("WAWebUserPrefsAppStateSync").setLastPeriodicAppStateSyncTs(d("WATimeUtils").unixTime())}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,maxTimeoutMs:1e3*30}).waitUntilCompleted()}g.syncdSyncAllCollectionsJob=a}),98);
__d("WAWebTasksDefinitions",["Promise","WALogger","WATaskScheduler","WATimeUtils","WAWebABProps","WAWebABPropsLocalStorage","WAWebAbPropsSyncJob","WAWebAccountLinkingGatingUtils","WAWebAccountLinkingScheduledJobs","WAWebApiChat","WAWebApiParticipantStore","WAWebApiTasksScheduledTime","WAWebApiTextStatus","WAWebBizGatingUtils","WAWebCleanUtmJob","WAWebContactSyncBridge","WAWebDBPurgeExpiredRecords","WAWebDBReportingTokenUtils","WAWebDownloads3PDSignalsDatabaseApi","WAWebFalcoStorageClearJob","WAWebFetchQuickPromotions","WAWebFingerprintJob","WAWebGalaxyFlowsUtils","WAWebLogDailyStatsJob","WAWebLogHistorySyncStatusAfterPairingJob","WAWebMessagingGatingUtils","WAWebMobilePlatforms","WAWebNewsletterCleanupTasks","WAWebNonAddressBookContactsJob","WAWebNonMessageDataRequestMediaHandlingUtils","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","WAWebReportDbVerionsJob","WAWebRestartRecentSyncJob","WAWebSyncContactsJob","WAWebSyncdAntiTampering","WAWebSyncdReportKeyStatsJob","WAWebSyncdReportSyncdStatJob","WAWebSyncdRequestAllSyncdMissingKeysJob","WAWebSyncdSyncAllCollectionsJob","WAWebTasksTaskType","WAWebUserPrefsHistorySync","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime","cr:4857","cr:4940","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=[(e=d("WAWebTasksTaskType")).TaskType.CLEAN_TC_TOKENS,e.TaskType.LOG_DAILY_STATS,e.TaskType.ROTATE_KEY,e.TaskType.SYNC_AB_PROPS,e.TaskType.SYNC_CONTACTS,e.TaskType.REPORT_SYNCD_ACTION_STAT,e.TaskType.LT_HASH_CHECK,e.TaskType.REQUEST_ALL_SYNCD_MISSING_KEYS,e.TaskType.REPORT_SYNCD_KEY_STATS,e.TaskType.SYNCD_SYNC_ALL_COLLECTIONS,e.TaskType.CLEAN_ORPHAN_ADD_ONS,e.TaskType.CLEAN_EXPIRED_UTM,e.TaskType.SEND_NON_MESSAGE_DATA_REQUEST,e.TaskType.LOG_HISTORY_SYNC_STATUS_AFTER_PAIRING,e.TaskType.DELETE_NEWSLETTER_PREVIEW_CHATS,e.TaskType.REPORT_DB_VERSIONS,e.TaskType.UPDATE_EXPIRED_TEXT_STATUS,e.TaskType.RESTART_RECENT_SYNC,e.TaskType.CLEANUP_REPORTING_TABLE,e.TaskType.WAFFLE_SCHEDULED_TASKS,e.TaskType.CLEAR_GALAXY_FLOWS_CACHE,e.TaskType.CLEAR_FALCO_BUFFER,e.TaskType.SEND_WAM_FINGERPRINT],B=[e.TaskType.FETCH_QUICK_PROMOTIONS,e.TaskType.CLEANUP_3PD_SIGNALS_TABLE],C=[e.TaskType.LOG_DB_ROW_COUNTS,e.TaskType.MONITOR_DB_STORAGE];function D(a){switch(a){case d("WAWebTasksTaskType").TaskType.MONITOR_DB_STORAGE:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("gkx")("26258"))return d("WATaskScheduler").DO_NOT_RESCHEDULE;a=(yield b("cr:4857")==null?void 0:b("cr:4857").shouldMonitorDbStorageUsageJob());return a?d("WATimeUtils").HOUR_SECONDS:d("WATaskScheduler").DO_NOT_RESCHEDULE});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.CLEAN_TC_TOKENS:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a)d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["CleanTcToken skip first run"])));else try{yield d("WAWebApiChat").pruneExpiredTcTokens(),yield d("WAWebApiChat").pruneExpiredOrphanTcTokens()}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete the expired TcTokens with error: ",""])),a).verbose().devConsole(a)}return d("WATimeUtils").DAY_SECONDS});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.UPDATE_EXPIRED_TEXT_STATUS:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a)d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Update expired text status skip first run"])));else try{yield d("WAWebApiTextStatus").updateExpiredTextStatusOfContact()}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to update the expired text status of contacts with error: ",""])),a).verbose().devConsole(a)}return d("WATimeUtils").DAY_SECONDS});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.LOG_DAILY_STATS:return function(){return d("WAWebLogDailyStatsJob").logDailyStatsJob()["catch"](function(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to log daily stats: ",""])),a).verbose().devConsole(a)}).then(function(){return d("WATimeUtils").DAY_SECONDS})};case d("WAWebTasksTaskType").TaskType.LOG_DB_ROW_COUNTS:if(!c("gkx")("26258")){var e=120,f=7200;return function(){self.setTimeout(function(){b("cr:4940")==null||b("cr:4940").logStorageTableRowCounts()["catch"](function(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Failed to log table row counts from a task: ",""])),a).verbose().devConsole(a)})},e*1e3);return(z||(z=b("Promise"))).resolve(f)}}return function(){return(z||(z=b("Promise"))).resolve(d("WATaskScheduler").DO_NOT_RESCHEDULE)};case d("WAWebTasksTaskType").TaskType.ROTATE_KEY:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a?d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["RotateKeyTask skip first run"]))):yield d("WAWebPersistedJobManager").getJobManager().waitUntilCompleted(d("WAWebPersistedJobDefinitions").jobSerializers.rotateKey());return 27*d("WATimeUtils").DAY_SECONDS});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.SYNC_AB_PROPS:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a||(yield d("WAWebAbPropsSyncJob").syncABPropsTask());return d("WAWebABPropsLocalStorage").getRefresh()});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.SYNC_CONTACTS:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a){try{yield d("WAWebNonAddressBookContactsJob").getNonAddressBookContactsAndMarkAllContactsDirty()}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Failed to sync non-address book contacts with error: ",""])),a).verbose().devConsole(a)}try{yield d("WAWebContactSyncBridge").doFullContactSync()}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["syncContacts: contact sync failed, error: ",""])),a).verbose().tags("non-sad","contact-sync").sendLogs("syncContacts: contact sync failed")}}return d("WAWebSyncContactsJob").getContactSyncRefreshSeconds()});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.REPORT_SYNCD_ACTION_STAT:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a||(yield d("WAWebSyncdReportSyncdStatJob").reportSyncdStatsJob());return d("WATimeUtils").DAY_SECONDS});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.LT_HASH_CHECK:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebABProps").getABPropConfigValue("lthash_check_hours");if(b===0)return 24*d("WATimeUtils").HOUR_SECONDS;a||(yield d("WAWebSyncdAntiTampering").checkLtHash("abc"));return b*d("WATimeUtils").HOUR_SECONDS});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.REQUEST_ALL_SYNCD_MISSING_KEYS:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a||(yield d("WAWebSyncdRequestAllSyncdMissingKeysJob").requestAllSyncdMissingKeysJob());return d("WATimeUtils").HOUR_SECONDS*6});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.REPORT_SYNCD_KEY_STATS:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a||(yield d("WAWebSyncdReportKeyStatsJob").reportSyncdKeyStatsJob());return c("gkx")("26258")?d("WATimeUtils").DAY_SECONDS*3:d("WATimeUtils").DAY_SECONDS});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.SYNCD_SYNC_ALL_COLLECTIONS:return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebABProps").getABPropConfigValue("syncd_periodic_sync_days");if(b===0){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["syncd: syncdPeriodicSyncDays is 0, skipping sync"])));return d("WATimeUtils").DAY_SECONDS}a||(yield d("WAWebSyncdSyncAllCollectionsJob").syncdSyncAllCollectionsJob());return d("WATimeUtils").DAY_SECONDS*b});return function(b){return a.apply(this,arguments)}}();case d("WAWebTasksTaskType").TaskType.CLEAN_ORPHAN_ADD_ONS:var g=30,y=90;return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("WAWebDBPurgeExpiredRecords").purgeExpiredOrphanRecords(g,y)}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete the expired orphan add-on messages with error: ",""])),a).verbose().devConsole(a)}return d("WATimeUtils").DAY_SECONDS});case d("WAWebTasksTaskType").TaskType.CLEAN_PAST_PARTICIPANTS:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("WAWebApiParticipantStore").pruneExpiredPastParticipants()}catch(a){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete the expired orphan reactions with error: ",""])),a).verbose().devConsole(a)}return d("WATimeUtils").DAY_SECONDS});case d("WAWebTasksTaskType").TaskType.CLEAN_EXPIRED_UTM:return function(){return!d("WAWebBizGatingUtils").isUtmTrackingEnabled()?(z||(z=b("Promise"))).resolve(d("WATaskScheduler").DO_NOT_RESCHEDULE):d("WAWebCleanUtmJob").cleanExpiredUtmJob()["catch"](function(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Failed to clean expired UTM: ",""])),a).verbose().devConsole(a)}).then(function(){return d("WATimeUtils").DAY_SECONDS})};case d("WAWebTasksTaskType").TaskType.SEND_NON_MESSAGE_DATA_REQUEST:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebNonMessageDataRequestMediaHandlingUtils").retryNonMessageDataRequestJob();return d("WATimeUtils").HOUR_SECONDS*23});case d("WAWebTasksTaskType").TaskType.DELETE_NEWSLETTER_PREVIEW_CHATS:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebNewsletterCleanupTasks").deletePreviewNewsletters();return d("WATimeUtils").HOUR_SECONDS*4});case d("WAWebTasksTaskType").TaskType.REPORT_DB_VERSIONS:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebReportDbVerionsJob").reportDbVersionsJob();return d("WATimeUtils").DAY_SECONDS*3});case d("WAWebTasksTaskType").TaskType.LOG_HISTORY_SYNC_STATUS_AFTER_PAIRING:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebUserPrefsMultiDevice").getPairingTimestamp();if(a!=null){var b;b=(b=(yield d("WAWebUserPrefsHistorySync").getHistorySyncStatusAfterPairingLoggingCount()))!=null?b:0;if(b>=5){d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[history sync] do not schedule job for logging history sync status as we've logged for more than 4 times."])));return d("WATaskScheduler").DO_NOT_RESCHEDULE}yield d("WAWebLogHistorySyncStatusAfterPairingJob").logHistorySyncStatusAfterPairingJob(a,b);return b===0?d("WATimeUtils").MINUTE_SECONDS*5:d("WATimeUtils").MINUTE_SECONDS*10}return 10});case d("WAWebTasksTaskType").TaskType.RESTART_RECENT_SYNC:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebUserPrefsMultiDevice").getPairingTimestamp();if(a!=null){a=(d("WATimeUtils").unixTime()-a)/60;a>=5&&(yield d("WAWebRestartRecentSyncJob").restartRecentSyncJob());return d("WATimeUtils").MINUTE_SECONDS*5}return 10});case d("WAWebTasksTaskType").TaskType.CLEANUP_REPORTING_TABLE:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("WAWebDBReportingTokenUtils").cleanupReportingTable(d("WAWebMessagingGatingUtils").getReportingTagCleanupDays()),yield d("WAWebDBReportingTokenUtils").cleanupReportingTokenAndContent(d("WAWebMessagingGatingUtils").getReportingTokenCleanupDays())}catch(a){d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["Failed to cleanup reporting token table: ",""])),a).tags("messaging","wa-ice","report-token").devConsole(a)}return d("WATimeUtils").DAY_SECONDS});case d("WAWebTasksTaskType").TaskType.CLEANUP_3PD_SIGNALS_TABLE:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WAWebABProps").getABPropConfigValue("ctwa_download_3pd_signals")&&(yield d("WAWebDownloads3PDSignalsDatabaseApi").cleanup3PDSignalsTable())}catch(a){d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["Failed to cleanup 3PD Signals table: ",""])),a).tags("3pd-signals").devConsole(a)}return d("WATimeUtils").DAY_SECONDS});case d("WAWebTasksTaskType").TaskType.FETCH_QUICK_PROMOTIONS:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["fetchQuickPromotions: fetching quick promotions"])));yield d("WAWebFetchQuickPromotions").fetchQuickPromotions();return d("WAWebBizGatingUtils").qpGraphQLFetchIntervalMinutes()*d("WATimeUtils").MINUTE_SECONDS});case d("WAWebTasksTaskType").TaskType.WAFFLE_SCHEDULED_TASKS:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebAccountLinkingGatingUtils").accountLinkingEnabled()&&(yield d("WAWebAccountLinkingScheduledJobs").scheduledWaffleJobs());return d("WATimeUtils").DAY_SECONDS});case d("WAWebTasksTaskType").TaskType.CLEAR_GALAXY_FLOWS_CACHE:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebGalaxyFlowsUtils").clearGalaxyFlowsCache();return 7*d("WATimeUtils").DAY_SECONDS});case d("WAWebTasksTaskType").TaskType.CLEAR_FALCO_BUFFER:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebFalcoStorageClearJob").clearFalcoBufferJob();return d("WATimeUtils").DAY_SECONDS});case d("WAWebTasksTaskType").TaskType.SEND_WAM_FINGERPRINT:return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebFingerprintJob").sendWamFingerprintJob();return d("WATimeUtils").DAY_SECONDS*2})}}function E(){return{scheduledTimeResolver:{get:function(a){return d("WAWebApiTasksScheduledTime").getTaskScheduledTime(String(a))},set:function(a,b){return d("WAWebApiTasksScheduledTime").updateTaskScheduledTime(String(a),b)}}}}function F(a){var b=D(a);b!=null&&(d("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["maybeRegisterTask: registering task ",""])),a),d("WATaskScheduler").registerTask(a,b))}function a(){d("WATaskScheduler").startScheduler(E()),A.forEach(F),d("WAWebMobilePlatforms").isSMB()&&B.forEach(F),c("gkx")("26258")||C.forEach(F)}g.registerTasks=a}),98);
__d("WAWebGroupJoinCWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({GroupJoinC:[158,{},[1,1,1],"regular"]},{GroupJoinC:[]});g.GroupJoinCWamEvent=a}),98);
__d("WAWebMdAppStateDirtyBitsWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({MdAppStateDirtyBits:[2520,{dirtyBitsFalsePositive:[2,d("WAWebWamCodegenUtils").TYPES.BOOLEAN]},[1,20,1e3],"regular"]},{MdAppStateDirtyBits:[]});g.MdAppStateDirtyBitsWamEvent=a}),98);
__d("WAWebWamEnumMdAppStateKeyRotationReasonCode",[],(function(a,b,c,d,e,f){a=Object.freeze({APP_STATE_SYNC_KEY_EXPIRY:1,DEVICE_DEREGISTERATION:2,NO_KEYS:3});f.MD_APP_STATE_KEY_ROTATION_REASON_CODE=a}),66);
__d("WAWebMdAppStateKeyRotationWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMdAppStateKeyRotationReasonCode"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdAppStateKeyRotation:[2518,{appSessionId:[2,a.TYPES.STRING],companionSessionIds:[3,a.TYPES.STRING],mdAppStateKeyRotationReason:[1,d("WAWebWamEnumMdAppStateKeyRotationReasonCode").MD_APP_STATE_KEY_ROTATION_REASON_CODE],oldSyncdKeyhash:[6,a.TYPES.STRING],oldSyncdKeyid:[7,a.TYPES.STRING],seqNumber:[8,a.TYPES.INTEGER],syncdKeyhashAfterRotation:[9,a.TYPES.STRING],syncdKeyidAfterRotation:[10,a.TYPES.STRING]},[1,20,1e3],"regular"]},{MdAppStateKeyRotation:[]});g.MdAppStateKeyRotationWamEvent=b}),98);
__d("WAWebMdAppStateMessageRangeWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({MdAppStateMessageRange:[2522,{additionalMessagesCount:[1,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,20,1e3],"regular"]},{MdAppStateMessageRange:[]});g.MdAppStateMessageRangeWamEvent=a}),98);
__d("WAWebMdAppStateSyncDailyWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdAppStateSyncDaily:[2300,{crossIndexConflictCount:[11,a.TYPES.INTEGER],invalidActionCount:[4,a.TYPES.INTEGER],keyRotationRemoveCount:[12,a.TYPES.INTEGER],missingKeyCount:[9,a.TYPES.INTEGER],mutationCount:[1,a.TYPES.INTEGER],storedMutationCount:[7,a.TYPES.INTEGER],unsetActionCount:[8,a.TYPES.INTEGER],unsupportedActionCount:[5,a.TYPES.INTEGER],uploadConflictCount:[10,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MdAppStateSyncDaily:[]});g.MdAppStateSyncDailyWamEvent=b}),98);
__d("WAWebMdBootstrapAppStateDataDownloadedWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumApplicationState","WAWebWamEnumMdBootstrapHistoryPayloadType","WAWebWamEnumMdBootstrapPayloadType","WAWebWamEnumMdBootstrapStepResult"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdBootstrapAppStateDataDownloaded:[2294,{appContext:[14,a.TYPES.STRING],appContextBitfield:[15,a.TYPES.INTEGER],applicationState:[13,d("WAWebWamEnumApplicationState").APPLICATION_STATE],historySyncRetryRequestId:[16,a.TYPES.STRING],mdBootstrapContactsCount:[5,a.TYPES.INTEGER],mdBootstrapHistoryPayloadType:[11,d("WAWebWamEnumMdBootstrapHistoryPayloadType").MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE],mdBootstrapPayloadSize:[4,a.TYPES.INTEGER],mdBootstrapPayloadType:[2,d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE],mdBootstrapStepDuration:[6,a.TYPES.INTEGER],mdBootstrapStepResult:[7,d("WAWebWamEnumMdBootstrapStepResult").MD_BOOTSTRAP_STEP_RESULT],mdRegAttemptId:[10,a.TYPES.STRING],mdSessionId:[1,a.TYPES.STRING],mdStorageQuotaBytes:[8,a.TYPES.INTEGER],mdStorageQuotaUsedBytes:[9,a.TYPES.INTEGER],mdTimestamp:[3,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MdBootstrapAppStateDataDownloaded:[]});g.MdBootstrapAppStateDataDownloadedWamEvent=b}),98);
__d("WAWebWamEnumNotificationActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({SHOW:1,REMOVE:2});f.NOTIFICATION_ACTION_TYPE=a}),66);
__d("WAWebWamEnumNotificationDestinationType",[],(function(a,b,c,d,e,f){a=Object.freeze({INDIVIDUAL:1,GROUP:2,OTHER:3,CHANNEL:4,INTEROP:5,STATUS:6});f.NOTIFICATION_DESTINATION_TYPE=a}),66);
__d("WAWebWamEnumNotificationSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({PUSH_TRIGGERED:1,MAIN_APP:2,IN_APP:3});f.NOTIFICATION_SOURCE_TYPE=a}),66);
__d("WAWebWamEnumNotificationTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({TEXT_MESSAGE:1,VOICE_MESSAGE:2,FILE_MESSAGE:3,PHOTO_MESSAGE:4,VIDEO_MESSAGE:5,MISSED_VOICE_CALL:6,MISSED_VIDEO_CALL:7,STICKER_MESSAGE:8,REACTION_MESSAGE:9,GROUP_INVITE_MESSAGE:10,REQUEST_MEDIA_REUPLOAD:11,WEB_CLIENT_LOGIN:12,BACKUP:13,KEEP_IN_CHAT:14,PAYMENT:15,POLL_MESSAGE:16,LOCATION_MESSAGE:17,WEB_PAGE_MESSAGE:18,FAILED_UPLOAD:19,GDPR_REPORT:20,INCOMING_VOICE_CALL:21,INCOMING_VIDEO_CALL:22,VIDEO_CALL_UPGRADE:23,WAFFLE:24,XPLAT_MIGRATION:25,OTHER:26,INVITE_JOINED:27,SCHEDULED_CALL_LOCAL_REMINDER:28,PTV_MESSAGE:29,STATUS_MENTION:30,STATUS_REACTION:31,STICKER_PACK_MESSAGE:32,POLL_RESULT_SNAPSHOT_MESSAGE:33,CALL_LINK_CREATOR:34,STATUS_PROMPT_RESPONSE:35,LINK_CREATOR_CALL_STARTED:36,LINK_CREATOR_CALL_CONNECTED:37,LINK_CREATOR_CALL_MISSED:38,STATUS_POST_RESHARE:39,STATUS_QUESTION_ANSWER_POST_RESHARE:40});f.NOTIFICATION_TYPE_ENUM=a}),66);
__d("WAWebWamEnumPeripheralDeviceType",[],(function(a,b,c,d,e,f){a=Object.freeze({APPLE_WATCH:1,GRAPEVINE:6,STARFISH:7,HAMMERHEAD:8,GREATHAMMERHEAD:9,GREATWHITE:10,COLADA:11,SWIFTLET:12,MAKO:13,SILVERTIP:14,ZEBRA:15,LAGER:16,PYLADES:17,DIAMOND:18,UNKNOWN:19});f.PERIPHERAL_DEVICE_TYPE=a}),66);
__d("WAWebNotificationDeliveryWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumNotificationActionType","WAWebWamEnumNotificationDestinationType","WAWebWamEnumNotificationSourceType","WAWebWamEnumNotificationTypeEnum","WAWebWamEnumPeripheralDeviceType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({NotificationDelivery:[3748,{clientMessageId:[1,a.TYPES.STRING],notificationAction:[2,d("WAWebWamEnumNotificationActionType").NOTIFICATION_ACTION_TYPE],notificationDeliveryT:[3,a.TYPES.INTEGER],notificationDestination:[4,d("WAWebWamEnumNotificationDestinationType").NOTIFICATION_DESTINATION_TYPE],notificationId:[5,a.TYPES.STRING],notificationSource:[6,d("WAWebWamEnumNotificationSourceType").NOTIFICATION_SOURCE_TYPE],peripheralDeviceOrigin:[9,d("WAWebWamEnumPeripheralDeviceType").PERIPHERAL_DEVICE_TYPE],pushToNotifT:[10,a.TYPES.TIMER],threadId:[7,a.TYPES.STRING],uiNotificationType:[8,d("WAWebWamEnumNotificationTypeEnum").NOTIFICATION_TYPE_ENUM]},[1,1,1],"regular"]},{NotificationDelivery:[]});g.NotificationDeliveryWamEvent=b}),98);
__d("WAWebWaOldCodeWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WaOldCode:[3940,{deviceId:[1,d("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{WaOldCode:[]});g.WaOldCodeWamEvent=a}),98);
__d("WAWebWamProcessWorkerData",["WALogger","WAShiftTimer","WAWebAdvMetadataCreationFailureWamEvent","WAWebAdvStoredTimestampExpiredWamEvent","WAWebChatMessageCountsWamEvent","WAWebClockSkewDifferenceTWamEvent","WAWebCommunityHomeActionWamEvent","WAWebCommunityTabActionWamEvent","WAWebDailyWamEvent","WAWebE2eMessageRecvWamEvent","WAWebE2eMessageSendWamEvent","WAWebE2eRetryRejectWamEvent","WAWebFmxActionWamEvent","WAWebForwardSendWamEvent","WAWebGatedMessageReceivedWamEvent","WAWebGraphqlCatalogRequestWamEvent","WAWebGroupJoinCWamEvent","WAWebIncomingMessageDropWamEvent","WAWebKeepInChatNotifWamEvent","WAWebMdAppStateDirtyBitsWamEvent","WAWebMdAppStateKeyRotationWamEvent","WAWebMdAppStateMessageRangeWamEvent","WAWebMdAppStateSyncDailyWamEvent","WAWebMdAppStateSyncMutationStatsWamEvent","WAWebMdBadDeviceSentMessageWamEvent","WAWebMdBootstrapAppStateCriticalDataProcessingWamEvent","WAWebMdBootstrapAppStateDataDownloadedWamEvent","WAWebMdBootstrapDataAppliedWamEvent","WAWebMdBootstrapHistoryDataDownloadedWamEvent","WAWebMdBootstrapHistoryDataStartDownloadingWamEvent","WAWebMdBootstrapHistorySyncStatusAfterPairingWamEvent","WAWebMdCriticalEventWamEvent","WAWebMdDeviceSyncAckWamEvent","WAWebMdFatalErrorWamEvent","WAWebMdGroupParticipantMissAckWamEvent","WAWebMdRetryFromUnknownDeviceWamEvent","WAWebMdSyncdDogfoodingFeatureUsageWamEvent","WAWebMessageReceiveWamEvent","WAWebMessageSecretErrorsWamEvent","WAWebMessageSendWamEvent","WAWebMexEventV2WamEvent","WAWebMexEventWamEvent","WAWebNonMessagePeerDataMediaUploadWamEvent","WAWebNonMessagePeerDataOperationResponseWamEvent","WAWebNonMessagePeerDataRequestWamEvent","WAWebNotificationDeliveryWamEvent","WAWebNotificationEngagementWamEvent","WAWebOfflineCountTooHighWamEvent","WAWebOfflineResumeWamEvent","WAWebPlaceholderActivityWamEvent","WAWebPsBufferUploadWamEvent","WAWebReceiptStanzaReceiveWamEvent","WAWebSignCredentialWamEvent","WAWebSyncdKeyCountWamEvent","WAWebWaOldCodeWamEvent","WAWebWamStorage","WAWebWebDbLoadFromVersionFailureNonAnonymousWamEvent","WAWebWebDbTableUsageWamEvent","WAWebWebDbVersionNonAnonymousWamEvent","WAWebWebcDbOpenWamEvent","WAWebWebcJobInfoWamEvent","WAWebWebcLinkPreviewResponseHandleWamEvent","WAWebWebcOfflineNotificationProcessWamEvent","WAWebWebcPageResumeWamEvent","WAWebWebcRawPlatformsWamEvent","WAWebWebcStreamModeChangeWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j=2e4,k=1e4;function l(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["processWorkerWamData ",""])),a?"start":"run");m();var b=new(d("WAShiftTimer").ShiftTimer)(function(){c("WAWebWamStorage").processWorkerWamData().then(function(a){a&&l(!1)})["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to process worker wam data: ",""])),a).verbose().devConsole(a)})});b.onOrAfter(a?j:k)}function m(){void b("WAWebOfflineResumeWamEvent").OfflineResumeWamEvent,void b("WAWebMessageSecretErrorsWamEvent").MessageSecretErrorsWamEvent,void b("WAWebMessageSendWamEvent").MessageSendWamEvent,void b("WAWebForwardSendWamEvent").ForwardSendWamEvent,void b("WAWebMexEventV2WamEvent").MexEventV2WamEvent,void b("WAWebWaOldCodeWamEvent").WaOldCodeWamEvent,void b("WAWebChatMessageCountsWamEvent").ChatMessageCountsWamEvent,void b("WAWebNotificationDeliveryWamEvent").NotificationDeliveryWamEvent,void b("WAWebGroupJoinCWamEvent").GroupJoinCWamEvent,void b("WAWebMdAppStateDirtyBitsWamEvent").MdAppStateDirtyBitsWamEvent,void b("WAWebMdBadDeviceSentMessageWamEvent").MdBadDeviceSentMessageWamEvent,void b("WAWebPlaceholderActivityWamEvent").PlaceholderActivityWamEvent,void b("WAWebGatedMessageReceivedWamEvent").GatedMessageReceivedWamEvent,void b("WAWebMessageReceiveWamEvent").MessageReceiveWamEvent,void b("WAWebOfflineCountTooHighWamEvent").OfflineCountTooHighWamEvent,void b("WAWebReceiptStanzaReceiveWamEvent").ReceiptStanzaReceiveWamEvent,void b("WAWebMdRetryFromUnknownDeviceWamEvent").MdRetryFromUnknownDeviceWamEvent,void b("WAWebE2eRetryRejectWamEvent").E2eRetryRejectWamEvent,void b("WAWebMdBootstrapHistoryDataDownloadedWamEvent").MdBootstrapHistoryDataDownloadedWamEvent,void b("WAWebMdBootstrapHistoryDataStartDownloadingWamEvent").MdBootstrapHistoryDataStartDownloadingWamEvent,void b("WAWebClockSkewDifferenceTWamEvent").ClockSkewDifferenceTWamEvent,void b("WAWebGraphqlCatalogRequestWamEvent").GraphqlCatalogRequestWamEvent,void b("WAWebSignCredentialWamEvent").SignCredentialWamEvent,void b("WAWebMdBootstrapHistorySyncStatusAfterPairingWamEvent").MdBootstrapHistorySyncStatusAfterPairingWamEvent,void b("WAWebWebcJobInfoWamEvent").WebcJobInfoWamEvent,void b("WAWebFmxActionWamEvent").FmxActionWamEvent,void b("WAWebE2eMessageSendWamEvent").E2eMessageSendWamEvent,void b("WAWebMdDeviceSyncAckWamEvent").MdDeviceSyncAckWamEvent,void b("WAWebMdGroupParticipantMissAckWamEvent").MdGroupParticipantMissAckWamEvent,void b("WAWebMexEventWamEvent").MexEventWamEvent,void b("WAWebAdvStoredTimestampExpiredWamEvent").AdvStoredTimestampExpiredWamEvent,void b("WAWebSyncdKeyCountWamEvent").SyncdKeyCountWamEvent,void b("WAWebMdAppStateSyncMutationStatsWamEvent").MdAppStateSyncMutationStatsWamEvent,void b("WAWebNonMessagePeerDataMediaUploadWamEvent").NonMessagePeerDataMediaUploadWamEvent,void b("WAWebNonMessagePeerDataOperationResponseWamEvent").NonMessagePeerDataOperationResponseWamEvent,void b("WAWebNonMessagePeerDataRequestWamEvent").NonMessagePeerDataRequestWamEvent,void b("WAWebWebcLinkPreviewResponseHandleWamEvent").WebcLinkPreviewResponseHandleWamEvent,void b("WAWebE2eMessageRecvWamEvent").E2eMessageRecvWamEvent,void b("WAWebIncomingMessageDropWamEvent").IncomingMessageDropWamEvent,void b("WAWebAdvMetadataCreationFailureWamEvent").AdvMetadataCreationFailureWamEvent,void b("WAWebWebcRawPlatformsWamEvent").WebcRawPlatformsWamEvent,void b("WAWebWebcPageResumeWamEvent").WebcPageResumeWamEvent,void b("WAWebWebcStreamModeChangeWamEvent").WebcStreamModeChangeWamEvent,void b("WAWebPsBufferUploadWamEvent").PsBufferUploadWamEvent,void b("WAWebWebDbTableUsageWamEvent").WebDbTableUsageWamEvent,void b("WAWebWebDbVersionNonAnonymousWamEvent").WebDbVersionNonAnonymousWamEvent,void b("WAWebWebDbLoadFromVersionFailureNonAnonymousWamEvent").WebDbLoadFromVersionFailureNonAnonymousWamEvent,void b("WAWebWebcDbOpenWamEvent").WebcDbOpenWamEvent,void b("WAWebMdBootstrapAppStateCriticalDataProcessingWamEvent").MdBootstrapAppStateCriticalDataProcessingWamEvent,void b("WAWebMdCriticalEventWamEvent").MdCriticalEventWamEvent,void b("WAWebMdSyncdDogfoodingFeatureUsageWamEvent").MdSyncdDogfoodingFeatureUsageWamEvent,void b("WAWebMdAppStateMessageRangeWamEvent").MdAppStateMessageRangeWamEvent,void b("WAWebMdBootstrapDataAppliedWamEvent").MdBootstrapDataAppliedWamEvent,void b("WAWebMdBootstrapAppStateDataDownloadedWamEvent").MdBootstrapAppStateDataDownloadedWamEvent,void b("WAWebMdFatalErrorWamEvent").MdFatalErrorWamEvent,void b("WAWebMdAppStateKeyRotationWamEvent").MdAppStateKeyRotationWamEvent,void b("WAWebMdAppStateSyncDailyWamEvent").MdAppStateSyncDailyWamEvent,void b("WAWebCommunityHomeActionWamEvent").CommunityHomeActionWamEvent,void b("WAWebCommunityTabActionWamEvent").CommunityTabActionWamEvent,void b("WAWebDailyWamEvent").DailyWamEvent,void b("WAWebKeepInChatNotifWamEvent").KeepInChatNotifWamEvent,void b("WAWebNotificationEngagementWamEvent").NotificationEngagementWamEvent,void b("WAWebWebcOfflineNotificationProcessWamEvent").WebcOfflineNotificationProcessWamEvent}g.processWorkerWamData=l}),98);
__d("WAWebStartBackend",["Promise","WAComms","WAGzip","WALogger","WAPromiseTimeout","WAWebABPropsWamGlobals","WAWebAdvDeviceInfoCheckJob","WAWebApiContact","WAWebBackendApi","WAWebBackgroundSyncAction","WAWebBackgroundSyncReporter","WAWebBizAgentAction","WAWebBizChatAssignmentAction","WAWebBizGatingUtils","WAWebBizUpdateContactsWithVerifiedNamesAction","WAWebBootstrapPremiumMessages","WAWebCartDbLidMigration","WAWebChatThreadLogging","WAWebCmd","WAWebCommonCTWADataSharing","WAWebCommsConfig","WAWebCommsHandleStanza","WAWebCrashlog","WAWebDBCreateLidPnMappings","WAWebDBFavoriteDatabaseMigrationToLid","WAWebDBLabelAssociationDatabaseMigrationToLid","WAWebDBPnhThreadMigrationToGeneralLid","WAWebDbEncryptionKey","WAWebDeleteStatusAction","WAWebEventsWaitForMain","WAWebFeatureDetectionSwSupport","WAWebFtsClient","WAWebGetReachoutTimelockJob","WAWebHistorySyncNotificationUtils","WAWebHistorySyncProgress","WAWebInboxFiltersGatingUtils","WAWebInitFavoritesFromStorage","WAWebInitFromStorage","WAWebInitWaitForEvents","WAWebInitializeBots","WAWebJestE2ELogUtils","WAWebL10NCountryCodes","WAWebL10NHelpers","WAWebLid1X1ThreadAccountMigrations","WAWebLid1x1MigrationManager","WAWebLid1x1MigrationTimeout","WAWebLogoutReason","WAWebLogoutReasonConstants","WAWebMediaHosts","WAWebMergeContactRecordsById","WAWebMessageQueue","WAWebModelStorage","WAWebNewsletterGatingUtils","WAWebNewsletterMetadataInitFromStorage","WAWebOffdStorage","WAWebOfflineHandler","WAWebOfflineResumeMainThread","WAWebPageLoadLogging","WAWebPassiveModeManager","WAWebPersistedJobManager","WAWebPremiumAccessEngine","WAWebPrimaryFeatures","WAWebPushNotificationsGatingUtils","WAWebQplInitMd","WAWebRegisterPassiveTasks","WAWebSWBus","WAWebSWBusActions","WAWebSignalStoreApi","WAWebSocketModel","WAWebStatusCollection","WAWebStickerDownloadGatingUtils","WAWebStoreSpecialAbProps","WAWebSubscribePushManagerAction","WAWebSubscriptions","WAWebSyncBootstrap","WAWebSyncContactsJob","WAWebSyncdCoreApi","WAWebTasksDefinitions","WAWebTimeSpentLoggingSession","WAWebTos","WAWebUserPrefsGeneral","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsLocales","WAWebUserPrefsMeUser","WAWebUserPrefsMultiDevice","WAWebWamGlobals","WAWebWamOfflineResumeReporter","WAWebWamProcessWorkerData","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","cr:10195","cr:10196"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t;d("WAWebCmd").Cmd.once("offline_delivery_end",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[StartBackend]: start initial setup"]))),yield D(),d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[StartBackend]: complete initial setup"])))}catch(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[StartBackend] initial setup failed:"]))).devConsole(a)}}));d("WAWebCmd").Cmd.on("storage_initialization_error",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebUserPrefsMultiDevice").isRegistered()&&d("WAWebLogoutReason").getPrevLogoutReasonCode()===d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL)return;d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["storage initialization error, logging out"])));yield d("WAWebSocketModel").Socket.clearCredentialsAndStoredData(d("WAWebLogoutReasonConstants").LogoutReason.WebFailStorageInitialization);d("WAWebJestE2ELogUtils").maybeLogToJestE2eJSConsole("logging out due to storage initialization error");d("WAWebCmd").Cmd.logout()}));d("WAWebCmd").Cmd.on("open_socket_stream",function(){!d("WAWebCmd").Cmd.isOfflineDeliveryEnd?d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logSocketConnectT():(d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.resetEvent(),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logSocketConnectT())});var u=function(){void c("WAWebCommonCTWADataSharing").fetchDataSharingSettingAndUpdateModel()};function a(){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebPageLoadLogging").startPageLoadQplMeasure("startBackend");var a=(yield w());d("WAWebPageLoadLogging").endPageLoadQplMeasure("startBackend");return a});return v.apply(this,arguments)}function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo());if(!a){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["startBackendRegistered: chatd user not registered"])));return}d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[startBackend]: connected as ",""])),d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow());try{yield d("WAWebApiContact").warmUpAllLidPnMappings(),yield d("WAPromiseTimeout").promiseTimeout(d("WAWebModelStorage").initialize(),20*1e3),yield d("WAPromiseTimeout").promiseTimeout(d("WAWebOffdStorage").initialize(),20*1e3),d("WAWebCrashlog").registerCrashlogUploadIsUserInExternalBetaFunction(d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb)}catch(a){d("WAWebCmd").Cmd.storageInitializationError()}d("WAWebLid1X1ThreadAccountMigrations").checkIfMigrationEnabled();d("WAWebInitWaitForEvents").initOfflineResumeWaitForEvents();void d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.setLastPushCompleteTimestamp();void F();yield d("WAWebPrimaryFeatures").loadPrimaryFeatures();d("WAWebMediaHosts").mediaHosts.maybeLoadMediaConnFromStorage();yield H();A();d("WAWebABPropsWamGlobals").setAbPropDependingGlobalWamAttributes();d("WAWebL10NHelpers").isLocalLanguageOverrideEnabled()&&(yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER,d("WAWebUserPrefsLocales").getUserLangPref()||"en"));yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE,d("WAWebUserPrefsLocales").getPhoneLangPref()||"en");d("WAWebTimeSpentLoggingSession").restoreTimeSpentSession();yield d("WAWebChatThreadLogging").initChatThreadLogging();yield d("WAWebPersistedJobManager").startWebPersistedJobManager();d("WAWebOfflineResumeMainThread").setupMainThreadResume(d("WAWebOfflineHandler").OfflineMessageHandler);yield d("WAComms").startHandlingRequests();yield d("WAWebDbEncryptionKey").DbEncKeyStore.waitForFinalDbMsgEncKey();d("WAWebLid1x1MigrationManager").ThreadMigrationManager.addDependentMigrationTask(d("WAWebDBFavoriteDatabaseMigrationToLid").migrateFavoritesDatabaseToLid);d("WAWebLid1x1MigrationManager").ThreadMigrationManager.addDependentMigrationTask(d("WAWebDBLabelAssociationDatabaseMigrationToLid").migrateLabelAssociationsDatabaseToLid);d("WAWebLid1x1MigrationManager").ThreadMigrationManager.addDependentMigrationTask(d("WAWebCartDbLidMigration").migrateCartDbLid);d("WAWebLid1x1MigrationManager").ThreadMigrationManager.addDependentMigrationTask(d("WAWebDBPnhThreadMigrationToGeneralLid").migratePhoneNumberHidingThreadsToGeneralLid);yield d("WAWebLid1x1MigrationManager").ThreadMigrationManager.executeMigrationIfNeeded();yield d("WAWebPassiveModeManager").PassiveTaskManager.waitForPassiveTaskEnd();yield d("WAWebSyncdCoreApi").initialize();a=!(yield c("WAWebSyncBootstrap").isCriticalDataSynced());a?yield c("WAWebSyncBootstrap").syncCriticalData():d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[bootstrap] need to sync critical data: false"])));d("WAWebBackendApi").frontendFireAndForget("handleDeferredMessages",{});yield B();void d("WAWebTos").TosManager.run();d("WAWebQplInitMd").startQPL();yield d("WAWebPremiumAccessEngine").initialize(d("WAWebBizGatingUtils").getBillingPremiumAccessConfig());void d("WAWebSubscriptions").runSubscriptionsManager();void d("WAWebSubscribePushManagerAction").updatePushManager();void d("WAWebBackgroundSyncAction").updatePeriodicBackgroundSyncRegistration();void d("WAWebMergeContactRecordsById").mergeContactRecordsById();u();void d("WAWebInitializeBots").initializeBots();void d("WAWebStoreSpecialAbProps").storeSpecialAbProps()});return x.apply(this,arguments)}function y(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a={passive:!1,pull:!0});d("WAWebPageLoadLogging").startPageLoadQplMeasure("startWebComms");a=d("WAWebCommsConfig").getCommsConfig(a);yield c("WAWebEventsWaitForMain")();d("WAComms").startComms(c("WAWebCommsHandleStanza"),a,function(a){return(t||(t=b("Promise"))).resolve(d("WAGzip").inflate(a))});yield d("WAComms").waitForConnection();d("WAWebPageLoadLogging").endPageLoadQplMeasure("startWebComms")});return z.apply(this,arguments)}function A(){var a;a=(a=d("WAWebUserPrefsMeUser").getMaybeMePnUser())==null?void 0:a.user;a!=null&&d("WAWebWamGlobals").Global.set({psCountryCode:d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(a)})}function B(){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;void d("WAWebBizUpdateContactsWithVerifiedNamesAction").applyContactBusinessProps();void (a=d("WAWebInitFromStorage")).restoreLabels();void a.restoreQuickReplies();void a.restoreLabelAssociations();void a.restoreCarts();void d("WAWebBootstrapPremiumMessages").restorePremiumMessages();d("WAWebBootstrapPremiumMessages").bindPremiumMessageListeners();yield a.restoreArchiveV2Settings();yield a.restoreAgents().then(d("WAWebBizAgentAction").initializeAgentLog);d("WAWebBizChatAssignmentAction").checkOrphanAssignments();void a.restoreChatAssignments()});return C.apply(this,arguments)}function D(){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){void d("WAWebDBCreateLidPnMappings").flushLidPnMappingsToDb(),d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[history sync][continueProgressiveHistorySyncProcessingV2] start backend"]))),void c("WAWebSyncBootstrap").continueProgressiveHistorySyncProcessingV2(d("WAWebHistorySyncNotificationUtils").HistorySyncScheduleSource.BackendStart),d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["init worker: startIndexer from initialSetup"]))),d("WAWebFtsClient").ftsClient.startIndexer()["catch"](function(a){d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["init worker: error while calling startIndexer from initialSetup: ",""])),a)}),void d("WAWebStatusCollection").StatusCollection.sync().then(function(){void d("WAWebDeleteStatusAction").clearStatusForRemovedContact()}),d("WAWebTasksDefinitions").registerTasks(),d("WAWebPushNotificationsGatingUtils").canSupportOfflineNotifications()&&(void d("WAWebBackgroundSyncReporter").setPushNotificationInteractionStatus(),d("WAWebWamProcessWorkerData").processWorkerWamData(!0)),void d("WAWebMessageQueue").waitForOnlineMessageQueue().then(function(){return d("WAWebLid1x1MigrationTimeout").scheduleLogoutIfNeeded("offline")}),yield d("WAWebSyncContactsJob").runSyncDirtyContactsJob(),void d("WAWebInitFromStorage").restoreRecentStickers(),void d("WAWebInitFromStorage").restoreFavoriteStickers(),void d("WAWebAdvDeviceInfoCheckJob").scheduleAdvDeviceInfoCheck(),void d("WAWebInitFromStorage").restoreCommunityActivity(),void d("WAWebHistorySyncProgress").updateHistorySyncProgressModel(),void d("WAWebInitFromStorage").restoreMediaUploadResult(),void d("WAWebInitFromStorage").restoreUnjoinedSubgroups(),d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&void d("WAWebNewsletterMetadataInitFromStorage").restoreNewsletterMetadata(),d("WAWebInboxFiltersGatingUtils").inboxFavoritesEnabled()&&void d("WAWebInitFavoritesFromStorage").restoreFavorites(),d("WAWebStickerDownloadGatingUtils").isStickerDownloadM1Enabled()&&void d("WAWebInitFromStorage").restoreStickerDownload(),d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("restoreCTWASuggestions"),d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("loadQuickPromotions",{trigger:"app-launch"}),d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("fetchAdEntryPointsConfiguration",{trigger:"app-launch"}),void d("WAWebGetReachoutTimelockJob").fetchReachoutTimelock()});return E.apply(this,arguments)}function F(){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebPushNotificationsGatingUtils").canSupportOfflineNotifications()&&c("WAWebFeatureDetectionSwSupport").supported){var a;(a=window.navigator.serviceWorker)!=null&&a.controller&&(yield c("WAWebSWBus").request(window.navigator.serviceWorker.controller,c("WAWebSWBusActions").STOP_COMMS)["catch"](function(a){d("WALogger").WARN(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] Failed to request stopComms for service worker, error: ",""])),a)}));(a=window.navigator.serviceWorker)==null||(a=a.ready)==null||a.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(a=(yield a==null||a.getNotifications==null?void 0:a.getNotifications()))!=null?a:[];a.forEach(function(a){return a.close()})});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){d("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] Failed to close existing notifications, error: ",""])),a)})}});return G.apply(this,arguments)}function H(){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a={pull:!0};yield d("WAWebRegisterPassiveTasks").registerPassiveTaskForStartUp();yield y(a)});return I.apply(this,arguments)}g.startBackend=a;g.startWebComms=y}),98);
__d("WAWebGroupApiConst",[],(function(a,b,c,d,e,f){a={superadmin:"superadmin",admin:"admin",participant:"participant"};f.GROUP_PARTICIPANT_TYPES=a}),66);
__d("WAWebHandleGroupCreation",["Promise","WALogger","WAWebApiChat","WAWebBackendApi","WAWebCreateChat","WAWebGroupDatabaseJob","WAWebGroupJoinCWamEvent","WAWebGroupParticipantsJob","WAWebHandleMsgTypes.flow","WAWebHandlePushnameUpdate","WAWebUserPrefsMeUser","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){e===void 0&&(e=!1);f===void 0&&(f=!1);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["inside handleGroupCreation"]))).tags("groups");var g=a.chatId,l=a.author,m=a.pushname,n=c.id,o=c.participants,p=c.subject,q=c.creation,r=c.hasCapi;(a.author==null||!a.author.equals(d("WAWebUserPrefsMeUser").getMaybeMePnUser()))&&new(d("WAWebGroupJoinCWamEvent").GroupJoinCWamEvent)().commit();l&&m&&d("WAWebHandlePushnameUpdate").updatePushname(l,m,e);yield (k||(k=b("Promise"))).all([d("WAWebGroupDatabaseJob").updateGroupMetadataTableJob([c]),d("WAWebGroupParticipantsJob").updateParticipantsJob({group:n,participants:o,isOffline:e,groupInfo:c})]);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["updated GroupMetadata and participants tables"]))).tags("groups");(yield d("WAWebApiChat").getChatRecord(g))!=null?d("WAWebBackendApi").frontendFireAndForget("updateGroupSubject",{id:g,subject:p}):(yield d("WAWebCreateChat").createChat({chatId:g},"groupCreation",babelHelpers["extends"]({t:q,pendingInitialLoading:!1,createdLocally:!1},f===!0&&{notSpam:!0}),babelHelpers["extends"]({createdOffline:e},r===!0&&{nextPrivacyMode:{actualActors:d("WAWebHandleMsgTypes.flow").ActualActorsEnumType.Capi,hostStorage:d("WAWebHandleMsgTypes.flow").HostStorageEnumType.Facebook,privacyModeTs:0}})),d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["updated chat model and table"]))).tags("groups"),d("WAWebBackendApi").frontendFireAndForget("updateGroupSubject",{id:n,subject:p}));d("WAWebBackendApi").frontendFireAndForget("setGroupMetadata",c);d("WAWebBackendApi").frontendFireAndForget("markProfilePicStale",{profilePicThumbWid:n});if(e)return;d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("maybeSendKeyDistributionMsgToNewGroup",{groupId:n})});return l.apply(this,arguments)}g.handleGroupCreation=a}),98);
__d("WAWebIsAddressingModeMismatch",[],(function(a,b,c,d,e,f){function a(a,b){return Boolean(b.isLidAddressingMode)!==Boolean(a.isLidAddressingMode)}f.isAddressingModeMismatch=a}),66);
__d("WAWebShouldTriggerQueryGroupInfo",["WAWebIsAddressingModeMismatch","WAWebSchemaGroupMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.groupWid,c=a.action;a=a.disableForCAGs;b=(yield d("WAWebSchemaGroupMetadata").getGroupMetadataTable().get(b.toString()));if(b==null)return!1;var e=(b==null?void 0:b.defaultSubgroup)===!0;return e&&a?!1:d("WAWebIsAddressingModeMismatch").isAddressingModeMismatch(b,c)});return h.apply(this,arguments)}g.shouldTriggerQueryGroupInfo=a}),98);
__d("WAWebHandleGroupNotificationV2",["Promise","WALogger","WAWap","WAWebBackendApi","WAWebCmd","WAWebCommsWapMd","WAWebGetMessageCache","WAWebGroupDatabaseJob","WAWebGroupSystemMsg","WAWebHandleGroupNotificationConst","WAWebHandleSingleMsg","WAWebLidMappingUsernameLearnUtils","WAWebMessageQueue","WAWebShouldTriggerQueryGroupInfo","WAWebUpdateDbForGroupActionApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,b){return m(a,b)!=null}function k(a){return d("WAWap").wap("ack",{to:d("WAWebCommsWapMd").GROUP_JID(a.chatId),id:d("WAWap").CUSTOM_STRING(a.externalId),"class":"notification",type:"w:gp2",participant:a.author?d("WAWebCommsWapMd").USER_JID(a.author):d("WAWap").DROP_ATTR})}function c(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield d("WAWebLidMappingUsernameLearnUtils").processParsedGroupNotificationForLidMappingAndUsernames({notification:a,flushImmediately:!c});c=m(a,c);if(c==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["no handler for group notification ",""])),a.chatId.toLogString());return k(a)}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handle_group_notification_v2: handling notification for ",""])),a.chatId.toString());yield (j||(j=b("Promise"))).all([c.writeSystemMessages(),c.writeGroupInfoUpdates()]);return k(a)});return l.apply(this,arguments)}function m(a,c){var e=[];for(var f of a.actions){var g=h(a,f);if(g==null)return null;e.push(g)}return{writeSystemMessages:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (j||(j=b("Promise"))).all(e.map(function(a){return a.writeSystemMessages()}))});function c(){return a.apply(this,arguments)}return c}(),writeGroupInfoUpdates:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (j||(j=b("Promise"))).all(e.map(function(a){return a.writeGroupInfoUpdates()}))});function c(){return a.apply(this,arguments)}return c}()};function h(e,a){return a.actionType===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE?null:{writeGroupInfoUpdates:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if((a.actionType===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD||a.actionType===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE)&&(yield d("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:e.chatId,action:a}))){d("WAWebGroupDatabaseJob").markGroupParticipantStaleJob(e.chatId);return}yield d("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(e,a,c);d("WAWebBackendApi").frontendFireAndForget("updateModelForGroupAction",{groupMeta:e,groupAction:a})});function g(){return f.apply(this,arguments)}return g}(),writeSystemMessages:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return p(e.chatId,yield n(e,a),c,function(){return d("WAWebHandleGroupNotificationConst").shouldSkipGenMsg(e,a)})});function g(){return f.apply(this,arguments)}return g}()}}}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[];if((b.actionType===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD||b.actionType===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE)&&(yield d("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:a.chatId,action:b})))return[];if(b.actionType===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD){var e=(yield d("WAWebHandleGroupNotificationConst").notAlreadyInGroup(a.chatId,b.participants));e=e.filter(function(a){a=a.id;return!a.isLid()});e.length>0&&(c=[yield d("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:a,action:babelHelpers["extends"]({},b,{participants:e})})])}else b.actionType!==d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE&&(c=[yield d("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:a,action:b})]);return c});return o.apply(this,arguments)}function p(a,c,e,f){var g=function(){return void 0},h=new(j||(j=b("Promise")))(function(a){return g=a});void d("WAWebMessageQueue").onMessageQueue({chatWid:a,isOffline:e,msgCategory:null,action:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield f()){g();return}var a=i(c).then(function(){g()});return e?(j||(j=b("Promise"))).resolve():a});function d(){return a.apply(this,arguments)}return d}()});return h;function i(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.length===0)return;if(e){d("WAWebCmd").Cmd.isMainStreamReadyMd&&a.forEach(function(a){d("WAWebBackendApi").frontendFireAndForget("updateMessageUI",{chatId:a.id.remote,msg:a})});return d("WAWebGetMessageCache").getMessageCache().addMessages(a.map(function(a){return{msg:a}}),!1)}yield (j||(j=b("Promise"))).all(a.map(function(a){return d("WAWebHandleSingleMsg").handleSingleMsg({chatId:a.from,newMsg:a,handleSingleMsgOrigin:"handleGroupNotificationV2"})}))});return k.apply(this,arguments)}}g.isGroupNotificationOptimizationEligible=a;g.handleGroupNotificationV2=c}),98);
__d("WAWebHandleGroupsDirtyNotification",["WAComms","WALogger","WASmaxGroupsGroupsDirtyNotificationRPC","WAWebEventsWaitForOfflineDeliveryEnd","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WASmaxGroupsGroupsDirtyNotificationRPC").receiveGroupsDirtyNotificationRPC(a);var b=a.makeGroupsDirtyNotificationResponseAck;a=a.parsedRequest;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleGroupsDirtyNotification: received groups dirty bit notification"])));void k(a);return b()});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=a.groupsDirtyGroup.map(function(a){return a.jid});a=(yield m(a));yield o(a)}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleGroupsDirtyNotification: failed with ",""])),a).sendLogs("handleGroupsDirtyNotificationJob")}});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebPersistedJobManager").getJobManager().accessors.maybeCreateJob(d("WAWebPersistedJobDefinitions").jobSerializers.queryAndUpdateGroupsMetadataByJids(a)));return a.id});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd();yield d("WAComms").waitForConnection();return d("WAWebPersistedJobManager").getJobManager().loadAndRunJobFromId(a)});return p.apply(this,arguments)}g.handleGroupsDirtyNotificationJob=a}),98);
__d("WAWebHandleGroupNotification",["Promise","WADeprecatedWapParser","WALogger","WANullthrows","WAWap","WAWebABProps","WAWebApiParticipantStore","WAWebBackendApi","WAWebCommsWapMd","WAWebCountriesUtils","WAWebCurrentUser","WAWebDBGroupsGroupMetadata","WAWebEphemeralityTypes","WAWebEphemeralityUtils","WAWebGetMessageCache","WAWebGroupApiConst","WAWebGroupQueryJob","WAWebGroupSystemMsg","WAWebGroupType","WAWebGroupUtils","WAWebGroupsParticipantsApi","WAWebGroupsQueryApi","WAWebHandleGroupCreation","WAWebHandleGroupNotificationConst","WAWebHandleGroupNotificationV2","WAWebHandleGroupsDirtyNotification","WAWebHandleSingleMsg","WAWebJidToWid","WAWebLidMappingUsernameLearnUtils","WAWebMessageQueue","WAWebOfflineHandler","WAWebRequestMethodType","WAWebSchemaChat","WAWebSchemaGroupMetadata","WAWebShouldTriggerQueryGroupInfo","WAWebUpdateDbForGroupActionApi","WAWebUserPrefsMeUser","WAWebUserPrefsNotifications","WAWebUsernameGatingUtils","asyncToGeneratorRuntime","cr:4533","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;function A(a){if(a.hasChild("description")){a=a.child("description");if(a.hasChild("body")){var b=a.child("body");if(b.hasContent())return{content:b.contentString(),id:a.attrString("id")}}}return null}function B(a,b){var c=a.hasAttr("creator")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("creator")):null;if(a.hasChild("ephemeral")){a=a.child("ephemeral");if(a.hasAttr("expiration")&&d("WAWebABProps").getABPropConfigValue("dm_initiator_trigger_groups")){var e;b=b?void 0:d("WAWebEphemeralityTypes").DisappearingModeTrigger.UnknownGroups;return{ephemeralDuration:a.attrInt("expiration"),disappearingModeTrigger:(e=d("WAWebEphemeralityUtils").getDisappearingModeTriggerString(a.maybeAttrString("trigger")))!=null?e:b,disappearingModeInitiatedByMe:d("WAWebUserPrefsMeUser").isMeAccount(c)}}return{ephemeralDuration:a.attrInt("expiration")}}return null}function C(a,b,c){return b.mapChildrenWithTag("participant",function(b){var e=b.attrEnumOrDefault("type",d("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES,"participant"),f=b.maybeAttrLidUserJid("lid"),g=b.maybeAttrPhoneUserJid("phone_number");e={displayName:b.maybeAttrString("display_name"),id:d("WAWebJidToWid").userJidToUserWid(b.attrUserJid("jid")),isSuperAdmin:e===d("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES.superadmin,isAdmin:e===d("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES.admin||e===d("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES.superadmin,lid:f!=null?d("WAWebJidToWid").userJidToUserWid(f):null,phoneNumber:g!=null?d("WAWebJidToWid").userJidToUserWid(g):null,username:b.maybeAttrString("username")};f=c===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE;f||D(a,e,c);return e})}function D(a,b,c){try{var e=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&b.username!=null;!e&&b.displayName==null&&b.phoneNumber==null&&b.id.isLid()&&!d("WAWebUserPrefsMeUser").isMeAccount(b.id)&&(d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[lid group] incoming group notification does not have phone mapping for lid. tag: ",",\n            sw worker: ",""])),c,d("WAWebUserPrefsNotifications").getGlobalOfflineNotifications().toString()),d("WAWebCurrentUser").isEmployee()?(d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[lid group] group id=",", lid=",""])),a.toString(),b.id.toString()),d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in parser for employee"]))).sendLogs("[lid group] missing group mapping in parser for employee")):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in action parser"]))).sendLogs("[lid group] missing group mapping in action parser"))}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[lid group] could not check missing group mapping in group action parser ",""])),a)}}function E(a){a=a.child("sub_group_suggestion");var b=d("WAWebJidToWid").groupJidToWid(a.attrGroupJid("jid")),c=d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("creator")),e=a.attrTime("creation"),f=a.child("subject");f=f.contentString();var g,h,i;if(a.hasChild("description")){var j=a.child("description");if(j.hasChild("body")){j=j.child("body");j.hasContent()&&(g=j.contentString())}}if(a.hasChild("is_existing_group")){j=a.child("is_existing_group");j.hasContent()&&(h=j.contentString()==="true")}if(a.hasChild("participant_count")){j=a.child("participant_count");j.hasContent()&&(i=j.contentInt())}return{id:b,owner:c,subject:f,description:g,t:e,isExistingGroup:h!=null?h:!1,participantCount:i}}var F={invite:(e=d("WAWebGroupType")).ADD_REASON.INVITE,linked_group_join:e.ADD_REASON.LINKED_GROUP_JOIN,auto_add:e.ADD_REASON.AUTO_ADD,default_sub_group_admin_add:e.ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD,default_sub_group_promote:e.ADD_REASON.DEFAULT_SUBGROUP_PROMOTE,invite_auto_add:e.ADD_REASON.INVITE_AUTO_ADD,general_chat_auto_add:e.ADD_REASON.GENERAL_CHAT_AUTO_ADD};function G(a){return a==="invite"?d("WAWebGroupType").ADD_REASON.INVITE:a==="linked_group_join"?d("WAWebGroupType").ADD_REASON.LINKED_GROUP_JOIN:a==="auto_add"?d("WAWebGroupType").ADD_REASON.AUTO_ADD:a==="default_sub_group_admin_add"?d("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD:a==="default_sub_group_promote"?d("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_PROMOTE:a==="invite_auto_add"?d("WAWebGroupType").ADD_REASON.INVITE_AUTO_ADD:a==="general_chat_auto_add"?d("WAWebGroupType").ADD_REASON.GENERAL_CHAT_AUTO_ADD:null}function H(a){return a==="default_sub_group_demote"?d("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE:null}function I(a){return a==="integrity_delete_parent"?d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT:a==="delete_parent"?d("WAWebGroupType").DELETE_REASON.DELETE_PARENT:null}var J={invite_link:d("WAWebRequestMethodType").RequestMethod.InviteLink,linked_group_join:d("WAWebRequestMethodType").RequestMethod.LinkedGroupJoin,non_admin_add:d("WAWebRequestMethodType").RequestMethod.NonAdminAdd},K={approved:e.RevokedSubGroupSuggestionReason.APPROVED,rejected:e.RevokedSubGroupSuggestionReason.REJECTED,cancelled:e.RevokedSubGroupSuggestionReason.CANCELLED};function L(a,b,c){var e,f=b.child("group"),g=b.hasAttr("type")&&b.attrString("type")==="new";a=C(a,f,d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE);var h=A(f);g=B(f,g);var i=d("WAWebGroupsQueryApi").extractLinkedParent(f),j=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled();h={subject:f.attrString("subject"),restrict:f.hasChild("locked"),announce:f.hasChild("announcement"),noFrequentlyForwarded:f.hasChild("no_frequently_forwarded"),ephemeralDuration:g?g.ephemeralDuration:void 0,disappearingModeTrigger:g&&g.disappearingModeTrigger!=null?g.disappearingModeTrigger:void 0,disappearingModeInitiatedByMe:g?g.disappearingModeInitiatedByMe:void 0,owner:f.hasAttr("creator")?d("WAWebJidToWid").userJidToUserWid(f.attrUserJid("creator")):void 0,creatorPn:f.hasAttr("creator_pn")?d("WAWebJidToWid").userJidToUserWid(f.attrUserJid("creator_pn")):null,creatorCountryCode:j&&f.hasAttr("creator_country_code")?d("WAWebCountriesUtils").asISOCountryCode(f.attrString("creator_country_code")):null,creatorUsername:j&&f.hasAttr("creator_username")?f.attrString("creator_username"):null,creation:f.attrTime("creation"),participants:a,desc:h?h.content:void 0,descId:h?h.id:void 0,subjectOwner:f.hasAttr("s_o")?d("WAWebJidToWid").userJidToUserWid(f.attrUserJid("s_o")):void 0,subjectOwnerPn:f.hasAttr("s_o_pn")?d("WAWebJidToWid").userJidToUserWid(f.attrUserJid("s_o_pn")):void 0,subjectOwnerUsername:j&&f.hasAttr("s_o_username")?f.attrString("s_o_username"):void 0,subjectTime:f.hasAttr("s_t")?f.attrTime("s_t"):void 0,support:f.hasChild("support"),isParentGroup:f.hasChild("parent"),isParentGroupClosed:((g=f.maybeChild("parent"))==null?void 0:g.maybeAttrString("default_membership_approval_mode"))==="request_required",parentGroup:i?i.parentGroup:void 0,defaultSubgroup:f.hasChild("default_sub_group"),generalSubgroup:f.hasChild("general_chat"),size:f.hasAttr("size")?f.attrInt("size"):void 0,incognito:f.hasChild("incognito"),membershipApprovalMode:(f==null||(e=f.maybeChild("membership_approval_mode"))==null||(e=e.maybeChild("group_join"))==null?void 0:e.maybeAttrString("state"))==="on",allowNonAdminSubGroupCreation:f==null?void 0:f.hasChild("allow_non_admin_sub_group_creation"),generalChatAutoAddDisabled:(a=b.hasChild("auto_add_disabled"))!=null?a:void 0,hiddenSubgroup:f==null?void 0:f.hasChild("hidden_group"),groupSafetyCheck:f==null?void 0:f.hasChild("group_safety_check"),groupAdder:c?c:void 0,hasCapi:f==null?void 0:f.hasChild("capi"),limitSharingEnabled:f.hasChild("limit_sharing_enabled")};return{actionType:d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE,reason:b.hasAttr("reason")?b.attrEnumOrNullIfUnknown("reason",F):null,contextGroupId:b.hasAttr("context_group_jid")?d("WAWebJidToWid").groupJidToWid(b.attrGroupJid("context_group_jid")):null,groupInfo:h}}var M=new(c("WADeprecatedWapParser"))("groupNotificationParser",function(a){a.assertTag("notification");a.hasAttr("to")&&a.assertAttr("to",d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());var b=d("WAWebJidToWid").groupJidToWid(a.attrGroupJid("from")),e=a.hasAttr("participant")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("participant")):null,f=null;try{var g=a.maybeAttrPhoneUserJid("participant_pn");f=g!=null?d("WAWebJidToWid").userJidToUserWid(g):null}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Known error T150827746: ",""])),a.toString())}var h=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),i=a.attrTime("t"),j=a.hasAttr("addressing_mode")?a.attrString("addressing_mode")==="lid":!1;g=a.hasAttr("participant_username")&&h?a.attrString("participant_username"):null;var k=a.hasAttr("participant_country_code")&&h?d("WAWebCountriesUtils").asISOCountryCode(a.attrString("participant_country_code")):null;function l(a){return{jid:a.hasAttr("jid")?d("WAWebJidToWid").groupJidToWid(a.attrGroupJid("jid")):void 0}}var n,o=a.mapChildren(function(f){var g,k=f.tag();switch(k){case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE:return L(b,f,e);case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ADD,participants:C(b,f,k),reason:f.hasAttr("reason")?G(f.attrString("reason")):null,isLidAddressingMode:j};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DELETE:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.DELETE,reason:f.hasAttr("reason")?I(f.attrString("reason")):null,groupDatas:[{id:b,subject:""}]};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE:return{actionType:d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE,participants:C(b,f,k),reason:f.hasAttr("reason")?H(f.attrString("reason")):null,isLidAddressingMode:j};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.PROMOTE:return{actionType:d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.PROMOTE,participants:C(b,f,k)};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DEMOTE:return{actionType:d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DEMOTE,participants:C(b,f,k)};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_PROMOTE:return babelHelpers["extends"]({actionType:d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_PROMOTE,participants:C(b,f,k)},l(f));case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_DEMOTE:return babelHelpers["extends"]({actionType:d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_DEMOTE,participants:C(b,f,k)},l(f));case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MODIFY:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.MODIFY,participants:C(b,f,k)};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.SUBJECT:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.SUBJECT,subject:f.attrString("subject"),s_o:f.hasAttr("s_o")?d("WAWebJidToWid").userJidToUserWid(f.attrUserJid("s_o")):null,subjectOwnerPn:f.hasAttr("s_o_pn")?d("WAWebJidToWid").userJidToUserWid(f.attrUserJid("s_o_pn")):null,subjectOwnerUsername:f.hasAttr("s_o_username")?f.attrString("s_o_username"):null,s_t:f.hasAttr("s_t")?f.attrTime("s_t"):null};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DESC:return f.hasChild("delete")?{actionType:d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE,descId:f.attrString("id")}:{actionType:d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD,descId:f.attrString("id"),desc:f.hasChild("body")?f.child("body").contentString():null,descTime:i};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.SUSPENDED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.SUSPEND,value:!0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.UNSUSPENDED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.SUSPEND,value:!1};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LOCKED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.RESTRICT,value:!0,threshold:(g=f.maybeAttrString("threshold"))!=null?g:void 0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.UNLOCKED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.RESTRICT,value:!1};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ANNOUNCE:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE,value:!0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_ANNOUNCE:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE,value:!1};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NO_FREQUENTLY_FORWARDED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD,value:!0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.FREQUENTLY_FORWARDED_OK:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD,value:!1};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.INVITE:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE,code:f.attrString("code")};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.EPHEMERAL:return d("WAWebABProps").getABPropConfigValue("dm_initiator_trigger_groups")?{actionType:d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL,duration:f.attrInt("expiration"),trigger:f.hasAttr("trigger")?f.attrInt("trigger"):void 0,initiatedByMe:d("WAWebUserPrefsMeUser").isMeAccount(e)}:{actionType:d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL,duration:f.attrInt("expiration")};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_EPHEMERAL:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL,duration:0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REVOKE_INVITE:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.REVOKE_INVITE,participants:f.mapChildrenWithTag("participant",function(a){return{id:d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("jid")),expiration:a.attrInt("expiration")}})};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.GROWTH_UNLOCKED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.GROWTH_UNLOCKED};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.GROWTH_LOCKED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED,expiration:f.attrInt("expiration"),type:f.attrString("type")};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINK:var m=f.attrString("link_type");g={sub_group:d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK,parent_group:d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK,sibling_group:d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK};return{actionType:g[m],groupDatas:f.mapChildrenWithTag("group",function(a){return{id:d("WAWebJidToWid").groupJidToWid(a.attrGroupJid("jid")),subject:a.attrString("subject"),subjectTime:a.attrInt("s_t"),hiddenSubgroup:m!=="parent_group"?a.hasChild("hidden_group"):void 0}})};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.UNLINK:g=f.attrString("unlink_type");var o=f.hasAttr("unlink_reason")?f.attrString("unlink_reason"):null,p=f.mapChildrenWithTag("group",function(a){return{id:d("WAWebJidToWid").groupJidToWid(a.attrGroupJid("jid")),subject:a.attrString("subject"),subjectTime:a.attrInt("s_t")}});if(g==="parent_group"){if(o===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT)return{actionType:d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK,groupDatas:p};if(o===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT)return{actionType:d("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK,groupDatas:p}}else if(g==="sub_group")if(o===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT)return{actionType:d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK,groupDatas:p};else if(o===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT)return{actionType:d("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_SUB_GROUP_UNLINK,groupDatas:p};o={sub_group:d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK,parent_group:d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK,sibling_group:d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK};return{actionType:o[g],groupDatas:p};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MEMBERSHIP_APPROVAL_MODE:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE,value:((o=f.child("group_join"))==null?void 0:o.attrString("state"))==="on",triggered:f.hasAttr("triggered")?f.attrString("triggered"):void 0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MEMBERSHIP_APPROVAL_REQUEST:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST,requestMethod:(g=J[f.attrString("request_method")])!=null?g:d("WAWebRequestMethodType").RequestMethod.InviteLink,parentGroupId:f.hasAttr("parent_group_jid")?d("WAWebJidToWid").groupJidToWid(f.attrGroupJid("parent_group_jid")):void 0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ALLOW_ADMIN_REPORTS:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS,shouldSkipGenMsg:!d("WAWebABProps").getABPropConfigValue("report_to_admin_kill_switch"),value:!0,author:e,triggered:f.hasAttr("triggered")?f.attrString("triggered"):void 0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_ALLOW_ADMIN_REPORTS:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS,shouldSkipGenMsg:!d("WAWebABProps").getABPropConfigValue("report_to_admin_kill_switch"),value:!1,author:e,triggered:f.hasAttr("triggered")?f.attrString("triggered"):void 0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REPORTS:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ADMIN_REPORT_RECIEVED,shouldSkipGenMsg:!0,value:i};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATED_MEMBERSHIP_REQUESTS:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS,requestMethod:(p=J[f.attrString("request_method")])!=null?p:d("WAWebRequestMethodType").RequestMethod.InviteLink,parentGroupId:f.hasAttr("parent_group_jid")?d("WAWebJidToWid").groupJidToWid(f.attrGroupJid("parent_group_jid")):void 0,requests:f.hasChildren()?f.mapChildrenWithTag("requested_user",function(a){return{wid:d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("jid")),username:h&&a.hasAttr("username")?a.attrString("username"):void 0,phoneNumber:a.hasAttr("phone_number")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("phone_number")):void 0}}):[{wid:c("WANullthrows")(e)}],skipGenMsg:f.maybeAttrString("suppress_sys_msg")==="true"};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REVOKED_MEMBERSHIP_REQUESTS:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS,requests:f.mapChildrenWithTag("participant",function(a){return d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("jid"))})};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION,value:!0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_ALLOW_NON_ADMIN_SUB_GROUP_CREATION:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION,value:!1};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATED_SUBGROUP_SUGGESTION:return babelHelpers["extends"]({actionType:d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION,parentGroupId:b},E(f));case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REVOKED_SUB_GROUP_SUGGESTIONS:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS,parentGroupId:b,subgroupSuggestions:f.mapChildrenWithTag("sub_group_suggestion",function(a){return{id:d("WAWebJidToWid").groupJidToWid(a.attrGroupJid("jid")),owner:d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("creator")),reason:a.hasAttr("reason")?K[a.attrString("reason")]:void 0}})};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CHANGE_NUMBER:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER,subgroupSuggestions:f.mapChildrenWithTag("sub_group_suggestion",function(a){return d("WAWebJidToWid").groupJidToWid(a.attrGroupJid("jid"))}),parentGroupId:b,oldOwner:d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("participant")),newOwner:d("WAWebJidToWid").userJidToUserWid(f.attrUserJid("jid"))};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MEMBER_ADD_MODE:if(d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled"))return{actionType:d("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE,memberAddMode:d("WAWebSchemaGroupMetadata").MemberAddMode.cast(f.contentString())};throw a.createParseError("Unrecognized group action "+k);case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.AUTO_ADD_DISABLED:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.GROUP_SAFETY_CHECK:return{actionType:d("WAWebGroupType").GROUP_ACTIONS.GROUP_SAFETY_CHECK,value:!0};case d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MISSING_PARTICIPANT_IDENTIFICATION:n=!0;return;default:throw a.createParseError("Unrecognized group action "+k)}}).filter(Boolean);return{externalId:a.attrString("id"),chatId:b,isLidAddressingMode:j,author:e,authorPhoneNumber:f,authorUsername:g,authorUsernameCountryCode:k,ts:a.attrTime("t"),pushname:a.hasAttr("notify")?a.attrString("notify"):null,offline:a.hasAttr("offline")?a.attrString("offline"):null,actions:o,hasIncompleteParticipantInformation:h&&n===!0}});function N(a){return O.apply(this,arguments)}function O(){O=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield (z||(z=b("Promise"))).all([d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a),d("WAWebSchemaChat").getChatTable().get(a.toString(),!1)]));var c=a[0];a=a[1];return!!c||!!a&&!!a.t});return O.apply(this,arguments)}function P(a){return Q.apply(this,arguments)}function Q(){Q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.meta,c=a.action;a=a.actionShouldBeHiddenFromNonAdmins;var e=(yield d("WAWebHandleGroupNotificationConst").getIsCagById(b.chatId))===!0;if(e&&a){e=(yield d("WAWebGroupsParticipantsApi").getParticipants(b.chatId));a=e?d("WAWebGroupUtils").amIGroupAdmin(e.admins):!1;return a?c.participants:[]}return c.participants});return Q.apply(this,arguments)}function R(a,b,c){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0&&(f=!1);if(!e)return;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["handle action ",""])),e.actionType).tags("groups");var g=[];try{yield d("WAWebLidMappingUsernameLearnUtils").processParsedGroupNotificationForLidMappingAndUsernames({notification:a,flushImmediately:!f});if(e.actionType===d("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE){var h=babelHelpers["extends"]({},e.groupInfo,{id:a.chatId,isLidAddressingMode:a.isLidAddressingMode}),i=W(a,e,h),j=(yield N(h.id));d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["group id "," exists in storage = ",""])),h.id,j).tags("groups");yield U(a,h,f,i,e.reason==="invite");d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation done for group id ",""])),h.id).tags("groups");h=(yield d("WAWebGroupSystemMsg").genMsgsForGroupCreation(a,h,j,i));g.push.apply(g,h)}else if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD){if(!c("gkx")("26258")){i=(j=b("cr:4533")==null?void 0:b("cr:4533").getDebugIgnoreParticipantAdd())!=null?j:0;if(i>0){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handleGroupNotification debug: ignoring participant add for "," times"])),i);b("cr:4533")==null||b("cr:4533").setDebugIgnoreParticipantAdd(i-1);return}}h=(yield d("WAWebHandleGroupNotificationConst").notAlreadyInGroup(a.chatId,e.participants));j=(yield d("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:a.chatId,action:e}));j?yield d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:a.chatId,actionType:d("WAWebGroupType").GROUP_ACTIONS.ADD}):(yield d("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(a,e,f),void T(a,e),d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["updateDBForGroupAction done for ",""])),JSON.stringify(e)).tags("groups"));if(h.length||e.reason){i=(yield P({meta:a,action:e,actionShouldBeHiddenFromNonAdmins:!0}));i.length>0&&g.push(yield d("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:a,action:babelHelpers["extends"]({},e,{participants:i})}))}}else if(!(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_SUB_GROUP_UNLINK))if(!(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_SUB_GROUP_UNLINK))if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DELETE&&e.reason===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT){j=(yield d("WAWebGroupSystemMsg").genIntegrityDeleteParentNotificationMsgs(a,e));j.forEach(function(a){g.push(a)});yield d("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(a,e,f);void T(a,e);d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["updateDBForGroupAction done for ",""])),JSON.stringify(e)).tags("groups")}else if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE)g.push(yield d("WAWebGroupSystemMsg").genDescriptionNotificationMsg(a,e)),yield d("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(a,e,f),void T(a,e),d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["updateDBForGroupAction done for ",""])),JSON.stringify(e)).tags("groups");else if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DELETE&&e.reason===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT){h=(yield d("WAWebGroupSystemMsg").generateDeleteParentNotificationMessages(a));if(h.length===0)return;h.forEach(function(a){g.push(a)});yield d("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(a,e,f);void T(a,e);d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["updateDBForGroupAction done for ",""])),JSON.stringify(e)).tags("groups")}else{i=!1;if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.REMOVE){j=(yield d("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:a.chatId,action:e,disableForCAGs:!0}));j&&(i=!0,void d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:a.chatId,actionType:d("WAWebGroupType").GROUP_ACTIONS.REMOVE}))}if(!i){h=(yield d("WAWebHandleGroupNotificationConst").shouldSkipGenMsg(a,e));yield d("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(a,e,f);void T(a,e);d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["updateDBForGroupAction done for ",""])),JSON.stringify(e)).tags("groups");if(!h){j=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(a.chatId.toString()));if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.REMOVE){i=(yield P({meta:a,action:e,actionShouldBeHiddenFromNonAdmins:!0}));i.length>0&&g.push(yield d("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:babelHelpers["extends"]({},a,{isAdmin:j}),action:babelHelpers["extends"]({},e,{participants:i})}))}else if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION){h=(yield d("WAWebGroupSystemMsg").genCreatedSubgroupSuggestionNotificationMsg(a,e));h&&g.push(h)}else if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.MODIFY||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE){i=e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE;h=(yield P({meta:a,action:e,actionShouldBeHiddenFromNonAdmins:i}));h.length>0&&g.push(yield d("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:babelHelpers["extends"]({},a,{isAdmin:j}),action:babelHelpers["extends"]({},e,{participants:h})}))}else if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION){i=(yield d("WAWebGroupSystemMsg").genAllowNonAdminSubGroupCreationNotificationMsg(a,e));i&&g.push(i)}else if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE){h=(yield d("WAWebGroupSystemMsg").genCommunityOwnerUpdateNotificationMsg(a,e));h&&g.push(h)}else g.push(yield d("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:babelHelpers["extends"]({},a,{isAdmin:j}),action:e}))}}}f?void d("WAWebGetMessageCache").getMessageCache().addMessages(g.map(function(a){return{msg:a}}),!1):yield (z||(z=b("Promise"))).all(g.map(function(a){return d("WAWebHandleSingleMsg").handleSingleMsg({chatId:a.from,newMsg:a,handleSingleMsgOrigin:"handleGroupNotification"})}))}catch(a){d("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["handleGroupNotification: failed with ",""])),a)}});return S.apply(this,arguments)}function T(a,b){return d("WAWebBackendApi").frontendSendAndReceive("updateModelForGroupAction",{groupMeta:a,groupAction:b})}function U(a,b,c,d,e){return V.apply(this,arguments)}function V(){V=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){c===void 0&&(c=!1),f===void 0&&(f=!1),yield d("WAWebHandleGroupCreation").handleGroupCreation(a,b,c,f),e!=null&&(yield d("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(a,e,c),void T(a,e))});return V.apply(this,arguments)}function W(a,b,c){var e=c.defaultSubgroup===!0&&c.incognito===!0||c.isLidAddressingMode===!0?d("WAWebUserPrefsMeUser").getMeLidUserOrThrow():d("WAWebUserPrefsMeUser").getMePnUserOrThrow();if((!d("WAWebUserPrefsMeUser").isMeAccount(a.author)||b.reason===d("WAWebGroupType").ADD_REASON.INVITE_AUTO_ADD)&&e!=null){a=d("WAWebGroupUtils").amIGroupAdminGivenParticipants(c.participants);return{actionType:d("WAWebGroupType").GROUP_ACTIONS.ADD,participants:[{id:e,isAdmin:a,isSuperAdmin:!1}],reason:b.reason,parentGroupId:c.parentGroup,isParentGroup:c.isParentGroup,contextGroupId:b.contextGroupId,groupName:c.subject,defaultSubgroup:c.defaultSubgroup,generalSubgroup:c.generalSubgroup,hiddenSubgroup:c.hiddenSubgroup}}}function a(a){var c=a.content;if(c!=null&&Array.isArray(c)&&c.length>0){c=c[0];c=c.tag;if(c==="groups_dirty")return(z||(z=b("Promise"))).resolve(d("WAWebHandleGroupsDirtyNotification").handleGroupsDirtyNotificationJob(a))}c=M.parse(a);if(c.error){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(z||(z=b("Promise"))).reject(c.error)}return X(c.success)}function X(a){var c=Boolean(a.offline)&&!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();return d("WAWebHandleGroupNotificationV2").isGroupNotificationOptimizationEligible(a,c)&&c?d("WAWebHandleGroupNotificationV2").handleGroupNotificationV2(a,c):d("WAWebMessageQueue").onMessageQueue({chatWid:a.chatId,isOffline:c,msgCategory:null,action:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (z||(z=b("Promise"))).all(a.actions.map(function(b){return R(a,b,c)}));return d("WAWap").wap("ack",{to:d("WAWebCommsWapMd").GROUP_JID(a.chatId),id:d("WAWap").CUSTOM_STRING(a.externalId),"class":"notification",type:"w:gp2",participant:a.author?d("WAWebCommsWapMd").USER_JID(a.author):d("WAWap").DROP_ATTR})});function f(){return e.apply(this,arguments)}return f}()})}g.handleAction=R;g.handleGroupNotification=a;g.handleParsedGroupNotification=X}),98);
__d("WAWebHandleIdentityChange",["Promise","WADeprecatedWapParser","WAJids","WALogger","WAWap","WAWebBackendApi","WAWebCommsWapMd","WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob","WAWebIdentityChangeApi","WAWebJidToWid","WAWebManageE2ESessionsJob","WAWebMessageQueue","WAWebOfflineHandler","WAWebSecurityCodeApi","WAWebSendTcTokenWhenDeviceIdentityChange","WAWebSignal","WAWebSignalCommonUtils","WAWebSignalProtocolStore","WAWebUserPrefsMeUser","WAWebUserPrefsStatus","WAWebWidFactory","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=new(c("WADeprecatedWapParser"))("identityChange",function(a){a.assertTag("notification");a.assertAttr("type","encrypt");a.child("identity");var b=parseInt(a.maybeAttrString("delay"),10);return{wid:d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("from")),stanzaId:a.attrString("id"),delay:Number.isFinite(b)&&b>0?b:null,displayName:a.maybeAttrString("display_name"),lid:a.hasAttr("lid")?d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("lid")):null,offline:a.hasAttr("offline")?a.attrString("offline"):null}});function a(a){var e=m.parse(a);if(e.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),e.error.toString());return(l||(l=b("Promise"))).reject(e.error)}a=e.success;var f=a.wid;e=a.stanzaId;var g=a.displayName,n=a.delay,o=a.lid,p=a.offline,q=d("WAWap").wap("ack",{to:d("WAWebCommsWapMd").DEVICE_JID(f),id:d("WAWap").CUSTOM_STRING(e),"class":"notification"});if(f.device!=null&&f.device!==d("WAJids").DEFAULT_DEVICE_ID){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleNewIdentity: ignore identity change from companion device"])));return(l||(l=b("Promise"))).resolve(q)}if(d("WAWebUserPrefsMeUser").isMePrimary(f)){d("WAWebBackendApi").frontendFireAndForget("handleSelfPrimaryIdentityChange",{});return(l||(l=b("Promise"))).resolve(q)}var r=!c("isStringNullOrEmpty")(p)&&!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();return d("WAWebMessageQueue").onMessageQueue({chatWid:f,isOffline:r,msgCategory:null,action:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=o?d("WAWebWidFactory").asUserLidOrThrow(o):null;yield d("WAWebIdentityChangeApi").clearDeviceRecordForIdentityChange({wid:f,stanzaLid:a,offline:r});var b=(yield d("WAWebSignalProtocolStore").getSignalProtocolStore().loadIdentityKey(d("WAWebSignalCommonUtils").createSignalAddress(f).toString())),e=d("WAWebWidFactory").asUserWidOrThrow(f);c("isStringNullOrEmpty")(b)||(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["handleE2eIdentityChange: "," has old identity, establishing new session"])),f.toString()),yield d("WAWebSignal").Session.deleteRemoteInfo(f),d("WAWebSecurityCodeApi").addSecurityCodeChangedNotifications({user:e,stanzaLid:a,offline:r}),void d("WAWebSendTcTokenWhenDeviceIdentityChange").sendTcTokenWhenDeviceIdentityChange(e),void c("WAWebUserPrefsStatus").markStatusSenderKeyRotate([f]),r||(n!=null?d("WAWebManageE2ESessionsJob").ensureE2ESessionsWithDelay([f],n,!0):d("WAWebManageE2ESessionsJob").ensureE2ESessions([f],!0)),yield d("WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob").createOrReplaceDisplayNamesAndLidPnMappings([{id:e,lid:a,displayName:g}],!p));return q});function e(){return a.apply(this,arguments)}return e}()})}g.handleE2eIdentityChange=a}),98);
__d("WAWebHandleNewsletterMsgAddOns",["Promise","WAAckLevel","WAWebBackendApi","WAWebCRUDOperationsNewsletterMyVotes","WAWebDBCreateOrUpdateReactions","WAWebNewsletterDBUtils","WAWebPollOptionHashUtils","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,c){switch(a.type){case"reaction":return i(a);case"poll_update":return k(a,c);default:return(h||(h=b("Promise"))).resolve()}}function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.reactionText,c=a.id,e=a.serverId,f=a.from;a=a.t;if(e==null||a==null||f==null||b==null)return;c={msgKey:c.toString(),parentMsgKey:d("WAWebNewsletterDBUtils").craftNewsletterMsgKeyFromServerId(e,f).toString(),senderUserJid:d("WAWebUserPrefsMeUser").getMePnUserOrThrow().toString(),reactionText:b,timestamp:a*1e3,orphan:0,read:!0,ack:d("WAAckLevel").ACK.SENT};yield d("WAWebDBCreateOrUpdateReactions").createOrUpdateReactions([c]);b=(yield d("WAWebNewsletterDBUtils").getMessageByServerId(e,f.toJid()));b!=null&&(yield d("WAWebBackendApi").frontendFireAndForget("updateChatPreviewFromReaction",{reactionMsgObj:c,parentMsgKey:b.id}))});return j.apply(this,arguments)}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.id,e=a.serverId,f=a.from,g=a.t,h=a.selectedOptionLocalIds;b=b.pollVotes;if(e==null||g==null||f==null||b==null)return;c={chatJid:c.remote.toJid(),msgServerId:e,msgKey:a.id.toString(),serverTimestampMs:g*1e3,t:g,votes:b.map(d("WAWebPollOptionHashUtils").bufferToHex)};yield d("WAWebCRUDOperationsNewsletterMyVotes").createOrUpdateMyVote(c);b=(yield d("WAWebNewsletterDBUtils").getMessageByServerId(e,f.toJid()));b!=null&&(yield d("WAWebBackendApi").frontendFireAndForget("updateChatPreviewFromVote",{voteMsgObj:{ack:d("WAAckLevel").ACK.SENT,read:!0,msgKey:a.id,parentMsgKey:b.id,selectedOptionLocalIds:h!=null?h:[],sender:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),senderTimestampMs:g*1e3,t:g},parentMsgKey:b.id}))});return l.apply(this,arguments)}g.maybeHandleNewsletterMsgAddOns=a}),98);
__d("WAWebHandleNewsletterMsgLogger",["WASmaxMessageDeliverNewsletterRPC","WAWebHandleMsgError","WAWebIncomingMessageDropWamEvent","WAWebWamEnumE2eDestination","WAWebWamEnumMediaType","WAWebWamEnumMessageDropReasonType","WAWebWamEnumRevokeType"],(function(a,b,c,d,e,f,g){function h(a){try{return d("WASmaxMessageDeliverNewsletterRPC").receiveNewsletterRPC(a)}catch(a){return null}}function a(a,b){b=h(b.stanza);a instanceof d("WAWebHandleMsgError").MessageValidationError&&i(b,a)}function i(a,b){var c;b=new(d("WAWebIncomingMessageDropWamEvent").IncomingMessageDropWamEvent)({messageDropReason:d("WAWebWamEnumMessageDropReasonType").MESSAGE_DROP_REASON_TYPE.INVALID_PROTOBUF,e2eDestination:d("WAWebWamEnumE2eDestination").E2E_DESTINATION.CHANNEL,offline:(a==null||(c=a.parsedRequest)==null||(c=c.offlineMixin)==null?void 0:c.offline)!=null,e2eFailureReason:b==null?void 0:b.e2eFailureReason,messageMediaType:j(a),revokeType:(a==null?void 0:a.parsedRequest.newsletterMessageFanoutContent.name)==="NewsletterRevoke"?d("WAWebWamEnumRevokeType").REVOKE_TYPE.ADMIN:void 0});b.commit()}function j(a){a=a==null?void 0:a.parsedRequest.newsletterMessageFanoutContent;if(a==null)return d("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;switch(a.name){case"NewsletterReaction":return d("WAWebWamEnumMediaType").MEDIA_TYPE.REACTION;case"NewsletterMedia":return k(a.value.plaintextMediatype);case"NewsletterEdit":var b,c=a.value.newsletterQuestionReplyOrTextOrMediaMixinGroup;return((b=c.value.newsletterTextOrMediaMixinGroup)==null?void 0:b.value.type)==="media"?k(c.value.newsletterTextOrMediaMixinGroup.value.plaintextMediatype):d("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterText":return d("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterRevoke":case"NewsletterReactionRevoke":case"NewsletterWAMOEmpty":return d("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterPollCreation":return d("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_CREATE;case"NewsletterPollVote":return d("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_VOTE;case"NewsletterPollResultSnapshot":return d("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_RESULT_SNAPSHOT;case"NewsletterQuestion":case"NewsletterQuestionReply":return a.value.newsletterTextOrMediaMixinGroup.value.type==="media"?k(a.value.newsletterTextOrMediaMixinGroup.value.plaintextMediatype):d("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterQuestionResponse":return d("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterQuizCreation":return d("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_CREATE;default:a.name;return d("WAWebWamEnumMediaType").MEDIA_TYPE.NONE}}function k(a){switch(a){case"video":return d("WAWebWamEnumMediaType").MEDIA_TYPE.VIDEO;case"vcard":return d("WAWebWamEnumMediaType").MEDIA_TYPE.CONTACT;case"url":return d("WAWebWamEnumMediaType").MEDIA_TYPE.URL;case"sticker":case"genai_sticker":case"1p_sticker":case"avatar_sticker":case"user_created_sticker":return d("WAWebWamEnumMediaType").MEDIA_TYPE.STICKER;case"ptt":return d("WAWebWamEnumMediaType").MEDIA_TYPE.PTT;case"ptv":return d("WAWebWamEnumMediaType").MEDIA_TYPE.PUSH_TO_VIDEO;case"productlink":return d("WAWebWamEnumMediaType").MEDIA_TYPE.PRODUCT_LINK;case"image":return d("WAWebWamEnumMediaType").MEDIA_TYPE.PHOTO;case"gif":return d("WAWebWamEnumMediaType").MEDIA_TYPE.GIF;case"document":return d("WAWebWamEnumMediaType").MEDIA_TYPE.DOCUMENT;case"cataloglink":return d("WAWebWamEnumMediaType").MEDIA_TYPE.CATALOG_LINK;case"sticker_pack":return d("WAWebWamEnumMediaType").MEDIA_TYPE.STICKER_PACK;case"collection":return d("WAWebWamEnumMediaType").MEDIA_TYPE.MEDIA_ALBUM;case"motion_photo":return d("WAWebWamEnumMediaType").MEDIA_TYPE.MOTION_PHOTO;case"motion_video":return d("WAWebWamEnumMediaType").MEDIA_TYPE.MOTION_VIDEO;default:a;return d("WAWebWamEnumMediaType").MEDIA_TYPE.AUDIO}}g.handleNewsletterMsgError=a}),98);
__d("WAWebNewsletterMsgParser",["WASmaxMessageDeliverNewsletterRPC","WASmaxParsingFailure","WAWebJidToWid","WAWebNewsletterGatingUtils","WAWebReactionsBEUtils","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){function a(a){var b,c;a=d("WASmaxMessageDeliverNewsletterRPC").receiveNewsletterRPC(a);var e=a.parsedRequest;a=a.makeNewsletterResponseSuccess;b={id:e.id,t:e.t,isSender:e.isSender==="true",serverId:e.serverId,offline:(b=e.offlineMixin)==null?void 0:b.offline,from:d("WAWebJidToWid").jidWithTypeToWid({jidType:"newsletter",newsletterJid:e.from}),to:d("WAWebUserPrefsMeUser").getMePnUserOrThrow()};c=(c=e.newsletterMessageFanoutContent.value.wAMOSubMixin)==null?void 0:c.metaIsWamoSub;c!=null&&d("WAWebNewsletterGatingUtils").isWamoSubMessagesProcessingEnabled()&&(b.isWamoSub=c==="true");return{ack:a(),msg:k(b,e)}}function h(a){return a.reactionCode}function i(a){return a.votesVote.map(function(a){a=a.elementValue;return a})}function j(a){return a.plaintextPayloadMixin.elementValue}function k(a,b){var c=b.newsletterMessageFanoutContent;switch(c.name){case"NewsletterPollVote":return babelHelpers["extends"]({},a,{type:"NewsletterPollVote",pollVote:i(c.value)});case"NewsletterReaction":return babelHelpers["extends"]({},a,{type:"NewsletterReaction",reactionCode:h(c.value)});case"NewsletterReactionRevoke":return babelHelpers["extends"]({},a,{type:"NewsletterReactionRevoke",reactionCode:d("WAWebReactionsBEUtils").REVOKED_REACTION_TEXT});case"NewsletterRevoke":return babelHelpers["extends"]({},a,{type:"NewsletterRevoke"});case"NewsletterMedia":return babelHelpers["extends"]({},a,{type:c.name,payload:j(c.value)});case"NewsletterQuestion":case"NewsletterQuestionReply":var e=babelHelpers["extends"]({},a,{payload:j(c.value.newsletterTextOrMediaMixinGroup.value)});return c.value.newsletterTextOrMediaMixinGroup.name==="NewsletterText"?babelHelpers["extends"]({},e,{type:"NewsletterText"}):babelHelpers["extends"]({},e,{type:"NewsletterMedia"});case"NewsletterQuestionResponse":case"NewsletterText":return babelHelpers["extends"]({},a,{type:"NewsletterText",payload:j(c.value)});case"NewsletterPollCreation":return babelHelpers["extends"]({},a,{type:"NewsletterPollCreation",payload:j(c.value)});case"NewsletterEdit":e=c.value.newsletterQuestionReplyOrTextOrMediaMixinGroup;var f;switch(e.name){case"NewsletterQuestionReply":f=j(e.value.newsletterTextOrMediaMixinGroup.value);break;case"NewsletterText":case"NewsletterMedia":f=j(e.value);break;default:e.name;throw new(d("WASmaxParsingFailure").SmaxParsingFailure)("unrecognized-newsletter-edit-type")}return babelHelpers["extends"]({},a,{type:"NewsletterEdit",payload:f,msgEditT:(e=b.newsletterMessageLastEditTimestampMixin)==null?void 0:e.metaMsgEditT,msgOriginalT:(e=b.newsletterMessageOriginalTimestampMixin)==null?void 0:e.metaOriginalMsgT});case"NewsletterPollResultSnapshot":return babelHelpers["extends"]({},a,{type:"NewsletterPollResultSnapshot",payload:j(c.value)});case"NewsletterWAMOEmpty":return babelHelpers["extends"]({},a,{type:"NewsletterWAMOEmpty"});case"NewsletterQuizCreation":return babelHelpers["extends"]({},a,{type:"NewsletterPollCreation",payload:j(c.value)});default:c.name;throw new(d("WASmaxParsingFailure").SmaxParsingFailure)("unrecognized-newsletter-message-type")}}g["default"]=a}),98);
__d("WAWebNewsletterMsgProcessor",["WATimeUtils","WAWebApiFilterAndReplaceMessages","WAWebNewsletterBackendMsgUtils","WAWebNewsletterDBUtils","WAWebNewsletterGatingUtils","WAWebPollsCreateOptionLocalIdMap","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.offline!=null,c=a.type==="NewsletterRevoke",e=a.serverId,f=i(a.type),g=f&&e!=null?yield d("WAWebNewsletterDBUtils").getMessageByServerId(e,a.from.toJid()):null,h=f&&g==null,l=(yield k(g,a.pollVote));b={isNewMsg:!b&&!c,addOnParentKey:f?j({addOnParentMsg:g,serverId:e,remote:a.from}):void 0,pollVotesAsLocalIds:l,latestEditSenderTimestampMs:a.msgEditT!=null?d("WATimeUtils").castToMillisTime(a.msgEditT):null};a.isWamoSub!=null&&d("WAWebNewsletterGatingUtils").isWamoSubMessagesProcessingEnabled()&&(b.isWamoSub=a.isWamoSub);c=d("WAWebNewsletterBackendMsgUtils").mapMsgStanzaToMsgData({msg:a,msgContext:b},"relay");f=(yield d("WAWebApiFilterAndReplaceMessages").filterAndReplaceMessages([c]));g=f.newMsgs;e=g[0];return{msgData:e,isOrphan:h}});return h.apply(this,arguments)}function i(a){switch(a){case"NewsletterReaction":case"NewsletterReactionRevoke":case"NewsletterPollVote":return!0;default:return!1}}function j(a){var b=a.addOnParentMsg,c=a.serverId;a=a.remote;return b!=null?b.id:d("WAWebNewsletterDBUtils").craftNewsletterMsgKeyFromServerId(c,a.toJid())}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a==null?void 0:a.pollOptions;if(a==null||b==null)return;var c=(yield d("WAWebPollsCreateOptionLocalIdMap").createOptionLocalIdMap(a));return b.map(function(a){return c.getLocalIdForHash(a.slice().buffer)})});return l.apply(this,arguments)}g.preprocessNewsletterMsg=a;g.isAddOnType=i}),98);
__d("WAWebHandleNewsletterMsg",["Promise","WALogger","WATimeUtils","WAWebBackendApi","WAWebCmd","WAWebHandleMsgTypes.flow","WAWebHandleNewsletterMsgAddOns","WAWebHandleNewsletterMsgLogger","WAWebLogReceivedMessages","WAWebMessageProcessorCache","WAWebMessageQueue","WAWebNewsletterGatingUtils","WAWebNewsletterMsgParser","WAWebNewsletterMsgProcessor","WAWebOfflineHandler","WAWebWamWorkerOfflineProcessReporter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][message] Message received, parsing and decoding"])));var e=c("WAWebNewsletterMsgParser")(a),f=e.msg,g=e.ack;if(!d("WAWebNewsletterGatingUtils").isNewsletterEnabled()){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][message] Newsletter not enabled, drop & ack"])));return g}var p=d("WATimeUtils").unixTimeMs(),q=f.offline!=null;q&&(d("WAWebOfflineHandler").OfflineMessageHandler.addOfflinePendingMessage(),d("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete());d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()&&(f.offline=null,q=!1);var r=!d("WAWebNewsletterMsgProcessor").isAddOnType(f.type);return yield d("WAWebMessageQueue").onMessageQueue({chatWid:f.from,isOffline:q,msgCategory:null,action:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WATimeUtils").unixTimeMs(),c=(yield d("WAWebNewsletterMsgProcessor").preprocessNewsletterMsg(f)),e=c.msgData;c=c.isOrphan;var h=r?d("WAWebMessageProcessorCache").messageProcessorCache.addMessages([{msg:e}],!q).then(function(){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][message] Message stored to DB"]))),d("WAWebWamWorkerOfflineProcessReporter").WorkerOfflineResumeReporter.updateProcessedMessageCount(),d("WAWebLogReceivedMessages").logReceivedMessagesInWAM({msgs:[e],offline:f.offline,tsMillis:f.t*1e3,clientReceivedTsMillis:p,msgProcessStartTsMillis:a,serverAddressingMode:null,localAddressingMode:null})})["catch"](function(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to handle newsletter message"]))).tags("newsletter").devConsole(a).sendLogs("newsletter-failed-to-store-incoming-message")}):(o||(o=b("Promise"))).resolve();yield d("WAWebHandleNewsletterMsgAddOns").maybeHandleNewsletterMsgAddOns(e,{pollVotes:f.pollVote});d("WAWebCmd").Cmd.isMainStreamReadyMd&&(d("WAWebCmd").Cmd.isOfflineDeliveryEnd&&(yield h),d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][message] Message decoded, UI update started"]))),d("WAWebBackendApi").frontendFireAndForget("updateNewsletterMessageUI",{chatID:f.from,msg:e,isOrphan:c}));if(q){d("WAWebOfflineHandler").OfflineMessageHandler.processMessageDecryptResult(d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS);d("WAWebMessageProcessorCache").messageProcessorCache.addMessages([{receiptInfo:{externalId:f.id,from:f.from,author:f.from}}])["catch"](function(a){var b=a instanceof Error?a:{},c=b.name;b=b.message;d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to handle newsletter offline ack ","-",""])),c,b).tags("newsletter").devConsole(a).sendLogs("newsletter-failed-to-store-offline-ack")});return null}return g});function c(){return a.apply(this,arguments)}return c}()})}catch(b){d("WAWebHandleNewsletterMsgLogger").handleNewsletterMsgError(b,{stanza:a});d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to handle newsletter message ","-",""])),b.name,b.message).tags("newsletter").devConsole(b).sendLogs("failed-handle-newsletter-message");throw b}});return p.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleVoipCallReceipt",["Promise","WADeprecatedWapParser","WALogger","WAParsableWapNode","WAWap","WAWebBackendApi","WAWebCommsWapMd","WAWebJidToWid","WAWebUserPrefsMeUser","WAWebVoipStackInterface","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k=new(c("WADeprecatedWapParser"))("callReceiptParser",function(a){a.assertTag("receipt");var b=a.maybeChild("offer")||a.maybeChild("accept")||a.maybeChild("reject");if(!b)throw a.createParseError("Unrecognized call stanza");return{stanzaId:a.attrString("id"),type:a.hasAttr("type")?a.attrString("type"):null,from:d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from"))}});function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=k.parse(a);if(c.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["voip: error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(j||(j=b("Promise"))).reject(c.error)}c=c.success;var e=c.stanzaId,f=c.type;c=c.from;var g=(yield (j||(j=b("Promise"))).all([d("WAWebVoipStackInterface").getVoipStackInterface(),d("WAWebBackendApi").frontendSendAndReceive("getTcToken",{wid:c})])),l=g[0];g=g[1].tcToken;yield l==null?void 0:l.handleIncomingSignalingReceipt(new(d("WAParsableWapNode").ParsableWapNode)("receipt",a),c.toString({legacy:!0,formatIncludeDevice:!0}),g);return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(e),to:d("WAWebCommsWapMd").JID(c),from:d("WAWebCommsWapMd").JID(d("WAWebUserPrefsMeUser").getMePnUserOrThrow()),"class":"receipt",type:d("WAWap").MAYBE_CUSTOM_STRING(f)})});return l.apply(this,arguments)}g.handleCallReceipt=a}),98);
__d("WAWebCommsHandleWorkerCompatibleStanza",["WAParsableWapNode","WAWebCommsHandleMessagingStanza","WAWebCommsHandleStanzaUtils","WAWebCreateNackFromStanza","WAWebHandleGroupNotification","WAWebHandleIdentityChange","WAWebHandleNewsletterMsg","WAWebHandleVoipCallReceipt","WAWebPostUnknownStanzaMetric","WAWebRuntimeEnvironmentUtils","WAWebWamWorkerOfflineProcessReporter","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebRuntimeEnvironmentUtils").isWorker())return a;a=(yield a);d("WAWebWamWorkerOfflineProcessReporter").WorkerOfflineResumeReporter.updateProcessedNotificationCount();return a});return i.apply(this,arguments)}function a(a){var b=d("WAWebCommsHandleMessagingStanza").handleMessagingStanza(a);if(b!=null)return b;b=a.attrs;switch(a.tag){case"notification":switch(b.type){case"w:gp2":return h(d("WAWebHandleGroupNotification").handleGroupNotification(a))["catch"](function(b){return j(a,b)});case"encrypt":b=a.content;if(!Array.isArray(b)||!b.length)break;b=b[0].tag;switch(b){case"identity":return h(d("WAWebHandleIdentityChange").handleE2eIdentityChange(a))["catch"](function(b){return j(a,b)})}break}break;case"message":b=a.attrs.from;if(c("WAWebWid").isNewsletter(b==null?void 0:b.toString()))return c("WAWebHandleNewsletterMsg")(a)["catch"](function(b){return d("WAWebCommsHandleStanzaUtils").handleMessageParsingFailure(a,b)});break;case"receipt":try{if(d("WAWebCommsHandleStanzaUtils").isCallReceipt(a))return d("WAWebHandleVoipCallReceipt").handleCallReceipt(a)}catch(b){if(b instanceof d("WAParsableWapNode").XmppParsingFailure){d("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(a);return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.ParsingError)}return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnhandledError)}}}function j(a,b){if(b instanceof d("WAParsableWapNode").XmppParsingFailure){d("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(a);return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.ParsingError)}return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnhandledError)}g.handleWorkerCompatibleStanza=a}),98);
__d("WAWebHandleAboutNotification",["Promise","WADeprecatedWapParser","WALogger","WAWap","WAWebApiContact","WAWebCommsWapMd","WAWebJidToWid","WAWebStatusContactAction","WAWebTextStatusCollection","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=new(c("WADeprecatedWapParser"))("incomingAboutNotification",function(a){a.assertTag("notification");var b={stanzaId:a.attrString("id")},c=a.hasChild("set")&&a.child("set");if(c&&!c.hasAttr("hash"))return babelHelpers["extends"]({type:"change",from:d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("from")),pushname:a.attrString("notify"),content:c.contentString(),ts:a.attrTime("t")},b);return c&&c.hasAttr("hash")?babelHelpers["extends"]({type:"sideListChange",from:d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("from")),hash:c.attrString("hash")},b):babelHelpers["extends"]({type:"unknown",from:a.attrString("from")},b)});function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleAboutNotification: received ","\n    for ",""])),a.type,a.from.toString());switch(a.type){case"sideListChange":var b=(yield d("WAWebApiContact").getContactRecordByHash(a.hash));if(b==null)d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["could not find side contact hash for status update operation"])));else{b=d("WAWebWidFactory").createUserWid(b.id);var e=d("WAWebTextStatusCollection").TextStatusCollection.get(b);b=e==null?null:d("WAWebStatusContactAction").getStatus(b).then(function(a){e.set({status:a.status})});yield b}break;case"change":b=a.from;var f=[b];b=d("WAWebApiContact").getAlternateUserWid(d("WAWebWidFactory").asUserWidOrThrow(b));b&&f.push(b);for(b of f){f=d("WAWebTextStatusCollection").TextStatusCollection.get(b);f&&a.content!=null?f.status=a.content:d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["handleAboutNotification: get status update for unknown contact ",""])),b.toLogString())}break;default:a.type;d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleAboutNotification: unhandled notification of\n        type ",""])),a.type);break}return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),to:a.from instanceof c("WAWebWid")?d("WAWebCommsWapMd").JID(a.from):d("WAWap").CUSTOM_STRING(a.from),"class":"notification",type:"status"})});return q.apply(this,arguments)}function a(a){var c=o.parse(a);if(c.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(n||(n=b("Promise"))).reject(c.error)}return p(c.success)}g.handleAboutNotification=a}),98);
__d("WAWebHandleBusinessNameChange",["Promise","WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","WAWebApiContact","WAWebApiVerifiedBusinessName","WAWebBackendApi","WAWebBizGatingUtils","WAWebBizUpdateContactsWithVerifiedNamesAction","WAWebCommonParsersVerifiedName","WAWebCommsWapMd","WAWebContactCollection","WAWebHandleBusinessRemoval","WAWebLidMigrationUtils","WAWebModelStorageUtils","WAWebWidFactory","asyncToGeneratorRuntime","err","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i;function j(a,c,e,f,g,h){var j=d("WAWebContactCollection").ContactCollection.get(a);j!=null&&d("WAWebBizUpdateContactsWithVerifiedNamesAction").updateContactsWithVerifiedNames([{id:a,name:e,level:c,isApi:f,isSmb:g,privacyMode:h}],[j]);return(i||(i=b("Promise"))).resolve()}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebModelStorageUtils").getStorage().lock(["verified-business-name"],function(){return d("WAWebApiVerifiedBusinessName").createOrUpdateVerifiedBusinessName(a.wid,{level:a.level,serial:parseInt(a.serial||"0",10),name:a.verifiedName,isApi:a.isApi,isSmb:a.isSmb,privacyMode:a.privacyMode?{actualActors:a.privacyMode.actualActors,hostStorage:a.privacyMode.hostStorage,privacyModeTs:a.privacyMode.privacyModeTs}:null})});var c=[],e=d("WAWebContactCollection").ContactCollection.get(a.wid);e!=null&&d("WAWebBackendApi").frontendFireAndForget("generateAndUpdatePrivacySystemMessages",{wid:a.wid,previousState:{isBusiness:e.isBusiness,privacyMode:e.privacyMode},currentState:{isBusiness:!0,privacyMode:a.privacyMode},shouldRunMATonWid:!1});c.push(j(a.wid,a.level,a.verifiedName,a.isApi,a.isSmb,a.privacyMode));yield (i||(i=b("Promise"))).all(c)});return l.apply(this,arguments)}var m=new(c("WADeprecatedWapParser"))("verifiedNameParser",function(a){return c("WAWebCommonParsersVerifiedName")(a.child("verified_name"))});function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=d("WAWap")).wap("iq",{to:b.S_WHATSAPP_NET,type:"get",xmlns:"w:biz",id:b.generateId()},b.wap("verified_name",{jid:d("WAWebCommsWapMd").DEVICE_JID(a)}));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(b,m));if(!a.success){if(a.errorCode===404){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["verified name notification not found"])));return}throw c("err")("Could not send IQ in retrieveBusinessDetails")}return a.result});return o.apply(this,arguments)}function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.type!=="verified_name_hash")throw c("err")("Invalid notification type");var b=(yield d("WAWebApiContact").getContactRecordByHash(a.hash));if(b==null)return!1;b=d("WAWebWidFactory").createUserWid(b.id);var e=(yield n(b));if(e){var f=e.name,g=e.level,h=e.serial,i=e.isApi,j=e.isSmb,k=e.privacyMode;yield r({wid:b,verifiedName:f,level:g,stanzaId:a.stanzaId,ts:a.ts,serial:h,isApi:i,isSmb:j,privacyMode:k})}else e===void 0&&(yield d("WAWebHandleBusinessRemoval").handleBusinessRemoval(b,a.stanzaId,a.ts));return!0});return p.apply(this,arguments)}function e(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.jid,e=a.stanzaId,f=a.ts;a=a.verifiedName;var g=a.serial;g=g===void 0?"":g;var h=a.level,i=a.isApi,j=a.isSmb,k=a.privacyMode;a=a.name;if(c("isStringNullOrEmpty")(a)){var l;l=(l=d("WAWebContactCollection").ContactCollection.get(b))==null?void 0:l.verifiedName;if(l!=null)a=l;else{l=(yield n(b));if(!l)return;a=l.name}}return r({verifiedName:a,level:h,stanzaId:e,ts:f,wid:b,serial:g,isApi:i,isSmb:j,privacyMode:k})});return q.apply(this,arguments)}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=d("WAWebBizGatingUtils").isLidMigrationForVnameEnabled()?d("WAWebLidMigrationUtils").getPnAndLidToUpdate(a.wid):[a.wid];yield (i||(i=b("Promise"))).all(c.map(function(b){return k(babelHelpers["extends"]({},a,{wid:b}))}))});return s.apply(this,arguments)}g.handleVerifiedBusinessNameNotificationHash=a;g.handleVerifiedBusinessNameNotificationContact=e;g.processDetailsChangeLidAware=r}),98);
__d("WAWebHandleBusinessProductCatalogNotification",["Promise","WAWebCatalogCollection","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebUserPrefsMeUser").getMePnUserOrThrow().toString());if(c){var e=[];a.forEach(function(a){e.push(c.refreshProduct(a))});yield (h||(h=b("Promise"))).all(e)}});return i.apply(this,arguments)}function c(a){var c=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebUserPrefsMeUser").getMePnUserOrThrow().toString());if(c!=null&&c.collections)for(var e=0;e<a.collectionIds.length;e++){var f=c.collections.get(a.collectionIds[e]);f&&f.set(a.reviewStatuses[e])}return(h||(h=b("Promise"))).resolve()}g.handleProductNotification=a;g.handleCollectionNotification=c}),98);
__d("WAWebHandleBusinessProfile",["WAWebApiContact","WAWebBackendApi","WAWebBusinessProfileCollection","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.from;a=d("WAWebWidFactory").createWidFromWidLike(a.toString());yield j(a)});return h.apply(this,arguments)}function c(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.hash;a=(yield d("WAWebApiContact").getContactRecordByHash(a));if(a==null)return!1;a=d("WAWebWidFactory").createWid(a.id);yield j(a);return!0});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c=d("WAWebBusinessProfileCollection").BusinessProfileCollection.getValid(a),e=c==null||(b=c.profileOptions)==null?void 0:b.commerceExperience;c=Boolean(c);var f=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.update(a));f=Array.isArray(f)?f:[f];for(f of f){if(c){var g,h=f==null||(g=f.profileOptions)==null?void 0:g.commerceExperience;h!==e&&d("WAWebBackendApi").frontendFireAndForget("updatedCommerceExperience",{wid:a})}c||(f.stale=!0)}});return k.apply(this,arguments)}g.handleBusinessProfile=a;g.handleBusinessProfileHash=c}),98);
__d("WAWebHandleCTWASuggestion",["WALogger","WATimeUtils","WAWebBackendApi","WAWebBizGatingUtils","WAWebSchemaCTWASuggestion","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.type==="banner"?yield k(a):(a.type,yield m(a))});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebBizGatingUtils").adsActionBannersEnabled())return;if(!d("WATimeUtils").isInFuture(a.expiresAt)){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleCTWASuggestion: expired"]))).devConsole(a);return}try{yield d("WAWebSchemaCTWASuggestion").getCTWASuggestionTable().create(a)}catch(b){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleCTWASuggestion: suggestion de-duped"]))).devConsole(a);return}d("WAWebBackendApi").frontendFireAndForget("newCTWASuggestion",{suggestion:a})});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebSchemaCTWASuggestion").getCTWASuggestionTable().remove(a.id),d("WAWebBackendApi").frontendFireAndForget("revokeCTWASuggestion",{suggestion:a})});return n.apply(this,arguments)}g.handleCTWASuggestion=a}),98);
__d("WAWebHandlePrivacySettingsNotification",["WAWebBackendApi"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebBackendApi").frontendFireAndForget("smbDataSharingSettingUpdate",{smbDataSharingSettingValue:a})}g.handleSmbDataSharingSettingNotification=a}),98);
__d("WAWebHandleBusinessNotification",["WADeprecatedWapParser","WALogger","WASmaxBizCtwaAdAccountNonceNotificationRPC","WAWap","WAWebBackendJobsCommon","WAWebBizGatingUtils","WAWebCTWABizAccessTokenNonceManager","WAWebCTWAParsePrivacy","WAWebCTWAParseSuggestion","WAWebCommonParsersVerifiedName","WAWebHandleBusinessNameChange","WAWebHandleBusinessProductCatalogNotification","WAWebHandleBusinessProfile","WAWebHandleBusinessRemoval","WAWebHandleCTWASuggestion","WAWebHandlePrivacySettingsNotification","WAWebJidToWid","WAWebOrchestratorNonPersistedJob","WAWebProductTypes.flow","WAWebSubscriptions","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i,j,k=new(c("WADeprecatedWapParser"))("businessNotificationParser",function(a){a.assertTag("notification");var b=a.attrString("id"),e=a.attrWapJid("from"),f=a.attrTime("t");b={stanzaId:b,from:e,ts:f};if(a.hasChild("remove")){e=a.child("remove");return e.hasAttr("jid")?babelHelpers["extends"]({type:"remove_jid",jid:d("WAWebJidToWid").chatJidToChatWid(e.attrChatJid("jid"))},b):babelHelpers["extends"]({type:"remove_hash",hash:e.attrString("hash")},b)}else if(a.hasChild("verified_name")){e=a.child("verified_name");return e.hasAttr("jid")?babelHelpers["extends"]({type:"verified_name_jid",jid:d("WAWebJidToWid").chatJidToChatWid(e.attrChatJid("jid")),verifiedName:c("WAWebCommonParsersVerifiedName")(e)},b):babelHelpers["extends"]({type:"verified_name_hash",hash:e.attrString("hash")},b)}else if(a.hasChild("profile")){f=a.child("profile");e=f.maybeAttrString("hash");return!c("isStringNullOrEmpty")(e)?babelHelpers["extends"]({type:"profile_hash",hash:e},b):babelHelpers["extends"]({type:"profile"},b)}else if(a.hasChild("product_catalog")){f=a.child("product_catalog");if(f.hasChild("product")){var g=[];f.forEachChildWithTag("product",function(a){a=a.child("id").contentString();g.push(a)});return babelHelpers["extends"]({type:"product",productsIds:g},b)}else if(f.hasChild("collection")){var h=[],i=[];f.forEachChildWithTag("collection",function(a){if(a.hasChild("status_info")){var b;b={reviewStatus:(b=d("WAWebProductTypes.flow").asProductReviewType(a.child("status_info").child("status").contentString()))!=null?b:"APPROVED",rejectReason:(b=a.child("status_info").maybeChild("reject_reason"))==null?void 0:b.contentString(),commerceUrl:(b=a.child("status_info").maybeChild("commerce_url"))==null?void 0:b.contentString()};h.push(a.attrString("id"));i.push(b)}});return babelHelpers["extends"]({type:"collection",collectionIds:h,reviewStatuses:i},b)}}else if(a.hasChild("subscriptions")){e=a.child("subscriptions");var j=[];e.forEachChildWithTag("subscription",function(a){var b=a.attrString("status"),c=a.maybeAttrInt("subscription_end_time");a=a.attrString("id");j.push({id:a,status:b,expirationDate:c})});return babelHelpers["extends"]({type:"subscriptions",subscriptions:j},b)}else if(a.hasChild("ctwa_suggestion")){if(d("WAWebBizGatingUtils").adsActionBannersEnabled()){f=d("WAWebCTWAParseSuggestion").parseCTWASuggestion(a);if(f!=null)return babelHelpers["extends"]({type:"ctwa_suggestion",suggestion:f},b)}}else if(a.hasChild("privacy")){if(d("WAWebBizGatingUtils").smbDataSharingConsentEnabled()){e=d("WAWebCTWAParsePrivacy").parseCTWAPrivacy(a);if(e!=null)return babelHelpers["extends"]({type:"privacy",privacy:e},b)}}else if(a.hasChild("wa_ad_account_nonce")){f=d("WASmaxBizCtwaAdAccountNonceNotificationRPC").receiveNonceNotificationRPC(a.node());return babelHelpers["extends"]({type:"wa_ad_account_nonce",nonce:d("WAWebCTWABizAccessTokenNonceManager").castToNonce(f.parsedRequest.waAdAccountNonceElementValue)},b)}return babelHelpers["extends"]({type:"unknown"},b)});function l(a,b,c){return c?d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a),to:b,"class":"notification",type:"business"},d("WAWap").wap("user",{side_list:"out"})):d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a),to:b,"class":"notification",type:"business"})}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["business notification received, node: ",""])),a);var b=k.parse(a);if(b.error){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),b.error.toString());throw b.error}a=b.success;switch(a.type){case"verified_name_hash":b=(yield d("WAWebHandleBusinessNameChange").handleVerifiedBusinessNameNotificationHash(a));return l(a.stanzaId,a.from,!b);case"verified_name_jid":yield d("WAWebHandleBusinessNameChange").handleVerifiedBusinessNameNotificationContact(a);return l(a.stanzaId,a.from,!1);case"remove_hash":b=(yield d("WAWebHandleBusinessRemoval").handleBusinessRemovalNotificationHash(a));return l(a.stanzaId,a.from,!b);case"remove_jid":yield d("WAWebHandleBusinessRemoval").handleBusinessRemovalNotificationContact(a);return l(a.stanzaId,a.from,!1);case"profile":yield d("WAWebHandleBusinessProfile").handleBusinessProfile(a);return l(a.stanzaId,a.from,!1);case"profile_hash":b=(yield d("WAWebHandleBusinessProfile").handleBusinessProfileHash(a));return l(a.stanzaId,a.from,!b);case"product":yield d("WAWebHandleBusinessProductCatalogNotification").handleProductNotification(a.productsIds);return l(a.stanzaId,a.from,!1);case"collection":yield d("WAWebHandleBusinessProductCatalogNotification").handleCollectionNotification(a);return l(a.stanzaId,a.from,!1);case"subscriptions":yield d("WAWebSubscriptions").applySubscriptions(a.subscriptions);return l(a.stanzaId,a.from,!1);case"ctwa_suggestion":yield d("WAWebHandleCTWASuggestion").handleCTWASuggestion(a.suggestion);return l(a.stanzaId,a.from,!1);case"privacy":d("WAWebHandlePrivacySettingsNotification").handleSmbDataSharingSettingNotification(a.privacy.smbDataSharingSetting);return l(a.stanzaId,a.from,!1);case"wa_ad_account_nonce":d("WAWebCTWABizAccessTokenNonceManager").setNonceFromPushNotification(a.nonce);return l(a.stanzaId,a.from,!1);default:a.type;return l(a.stanzaId,a.from,!1)}});return n.apply(this,arguments)}function a(a){var b=d("WAWebBackendJobsCommon").getNonCriticalNotificationPriority(Boolean(a.attrs.offline));return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("handleBusinessNotification",function(a){return m(a.node)},{priority:b}).waitUntilCompleted({node:a})}g.handleBusinessNotification=m;g.handleBusinessNotificationJob=a}),98);
__d("WAWebHandleChatState",["WAWebApiChat","WAWebApiContact","WAWebChangePresenceHandlerAction","WAWebJidToWid","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.jid;a=a.status;b=d("WAWebJidToWid").userJidToUserWid(b);var e;if(d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){var f=d("WAWebLidMigrationUtils").toUserLid(b);if(f){f=(yield d("WAWebApiChat").getChatRecordByAccountLid(f));f[0]&&(e=d("WAWebWidFactory").createWid(f[0].id))}}else{e=b;if(b.isLid()&&!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){f=(yield d("WAWebApiContact").getPhoneNumber(b));f&&(yield c("WAWebChangePresenceHandlerAction")({id:f,type:a}))}}e&&(yield c("WAWebChangePresenceHandlerAction")({id:e,type:a}));return"NO_ACK"});return function(b){return a.apply(this,arguments)}}();e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.jid,e=a.status;a=a.participant;b=d("WAWebJidToWid").chatJidToChatWid(b);a=d("WAWebJidToWid").userJidToUserWid(a);yield c("WAWebChangePresenceHandlerAction")({id:b,type:e,participant:a});return"NO_ACK"});return function(b){return a.apply(this,arguments)}}();g.handleIndividualChatState=a;g.handleGroupChatState=e}),98);
__d("WAWebQrDeviceLinkingQpl",["WAQplTypes","WAWebAltDeviceLinkingApi","WAWebAutoLogoutGating","WAWebLinkDeviceExperience","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","justknobx"],(function(a,b,c,d,e,f,g){var h=(a=c("justknobx")._("4967"))!=null?a:5*60*1e3,i=function(a){window.addEventListener("beforeunload",a);return function(){window.removeEventListener("beforeunload",a)}};b=function(){function a(){}var b=a.prototype;b.$4=function(a){var b;(b=this.$1)==null||b.end(a);this.$1=null;window.clearTimeout(this.$2);(b=this.$3)==null||b.call(this)};b.initialize=function(a){var b=this;this.$1!=null&&this.$4(d("WAQplTypes").QuickLogActionType.ABORTED);c("justknobx")._("4836")&&(this.$1=d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.COMPANION_DEVICE_LINKING_SCREEN,{trackedForLoss:!0,cancelOnUnload:!0,annotations:{bool:{in_auto_logout_iframe:d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()},"int":{md_link_device_experience_id:d("WAWebLinkDeviceExperience").getWebCompanionLinkDeviceExperienceId(a)},string:{code_type:d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE}}}));this.$2=window.setTimeout(function(){var a;(a=b.$1)==null||a.addPoint("timeout_expired_2min");b.$4(d("WAQplTypes").QuickLogActionType.TIMEOUT)},h);this.$3=i(function(){var a;(a=b.$1)==null||a.addPoint("before_unload");b.$4(d("WAQplTypes").QuickLogActionType.CANCEL_UNLOAD)})};b.switchToPhoneNumber=function(){var a;(a=this.$1)==null||a.addPoint("switch_to_phone_number");this.$4(d("WAQplTypes").QuickLogActionType.ABORTED)};b.updateWhatsappToastShown=function(){var a;(a=this.$1)==null||a.addPoint("update_whatsapp_toast_shown")};b.qrCodeInitialised=function(){var a;(a=this.$1)==null||a.addPoint("qr_code_initialised")};b.qrCodeRefreshed=function(){var a;(a=this.$1)==null||a.addPoint("qr_code_refreshed")};b.qrCodeRegRefreshed=function(){var a;(a=this.$1)==null||a.addPoint("qr_code_reg_refreshed")};b.qrCodeExpired=function(){var a;(a=this.$1)==null||a.addPoint("qr_code_expired")};b.qrCodeReloaded=function(){var a;(a=this.$1)==null||a.addPoint("qr_code_reloaded")};b.regRefreshNotificationReceived=function(){var a;(a=this.$1)==null||a.addPoint("companion_reg_refresh_notification_received")};b.pairStarted=function(){var a;(a=this.$1)==null||a.addPoint("pair_started")};b.pairSuccess=function(){var a;(a=this.$1)==null||a.addPoint("pair_success");this.$4(d("WAQplTypes").QuickLogActionType.SUCCESS)};b.pairFailed=function(){var a;(a=this.$1)==null||a.addPoint("pair_failed");this.$4(d("WAQplTypes").QuickLogActionType.FAIL)};b.stayLoggedInToggleClicked=function(a){var b;(b=this.$1)==null||b.addPoint(a?"stay_logged_in_enabled":"stay_logged_in_disabled");this.$4(d("WAQplTypes").QuickLogActionType.ABORTED)};return a}();e=new b();g.companionDeviceLinkingScreenQpl=e}),98);
__d("WAWebHandleCompanionReqRefreshNotification",["Promise","WADeprecatedWapParser","WALogger","WAWap","WAWebAdvSignatureApi","WAWebQrDeviceLinkingQpl","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=new(c("WADeprecatedWapParser"))("serverNotifyCompanionRefresh",function(a){a.assertTag("notification");a.assertAttr("type","companion_reg_refresh");if(!a.hasChild("companion_reg_refresh")&&!a.hasChild("pair-device-rotate-qr"))throw a.createParseError("Server companion_reg_refresh notification should contain pair-device-rotate-qr or companion_reg_refresh");var b=a.attrString("id");a=a.attrString("from");a!==d("WAWap").S_WHATSAPP_NET.toString()&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(['handleServerSyncNotification: "from" is not domain jid "s.whatsapp.net"'])));return{type:"companion_reg_refresh",stanzaId:b}});function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.type==="companion_reg_refresh"&&(d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.regRefreshNotificationReceived(),yield d("WAWebAdvSignatureApi").generateADVSecretKey(),d("WAWebUserPrefsMultiDevice").advSecretEventEmitter.trigger("change"));return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),"class":"notification",type:"companion_reg_refresh",to:d("WAWap").S_WHATSAPP_NET})});return n.apply(this,arguments)}function a(a){var c=l.parse(a);if(c.error){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(k||(k=b("Promise"))).reject(c.error)}return m(c.success)}g.handleCompanionReqRefreshNotification=a}),98);
__d("WAWebProcessPhoneNumberChange",["WAJids","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WAJids").validateChatJid(a.toJid());b=d("WAJids").validateChatJid(b.toJid());if(a==null||b==null)return;return d("WAWebBackendApi").frontendFireAndForget("updateNoteJidAction",{oldJid:a,newJid:b})});return h.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleContactNotification",["Promise","WADeprecatedWapParser","WALogger","WANullthrows","WAWap","WAWebApiChat","WAWebBackendJobsCommon","WAWebChangeProfilePicThumb","WAWebChatCollection","WAWebContactCollection","WAWebContactGetters","WAWebContactSyncBridge","WAWebContactTextStatusBridge","WAWebDBCreateLidPnMappings","WAWebHandleSingleMsg","WAWebJidToWid","WAWebLid1X1MigrationGating","WAWebMessageProcessUtils","WAWebMsgKey","WAWebMsgType","WAWebOrchestratorNonPersistedJob","WAWebPresenceCollection","WAWebProcessPhoneNumberChange","WAWebProfilePicConstants","WAWebSchemaChat","WAWebStatusContactAction","WAWebTextStatusCollection","WAWebTextStatusGatingUtils","WAWebUpdateTextStatusForContact","WAWebUserPrefsMeUser","WAWebViewMode.flow","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=new(c("WADeprecatedWapParser"))("incomingContactsNotification",function(a){a.assertTag("notification");var b=a.attrString("id"),c=a.attrWapJid("from"),e=a.attrTime("t"),f=a.attrString("t");c={from:c,ts:e,rawTs:f,stanzaId:b};if(a.hasChild("update")){var g=a.child("update");if(g.hasAttr("jid"))return babelHelpers["extends"]({type:"update",jid:d("WAWebJidToWid").userJidToUserWid(g.attrUserJid("jid"))},c);else if(g.hasAttr("hash")){e=d("WAWebContactCollection").ContactCollection.findFirst(function(a){return((a=d("WAWebContactGetters").getUserhash(a))==null?void 0:a.slice(0,4))===g.attrString("hash")});return e==null?babelHelpers["extends"]({type:"empty",jid:null},c):babelHelpers["extends"]({type:"update",jid:e.id},c)}return babelHelpers["extends"]({type:"empty",jid:null},c)}else if(a.hasChild("add")){f=a.child("add");return babelHelpers["extends"]({type:"add",hash:f.hasContent()?f.contentBytes():null,jid:null},c)}else if(a.hasChild("remove")){b=a.child("remove");return babelHelpers["extends"]({type:"remove",jid:d("WAWebJidToWid").userJidToUserWid(b.attrUserJid("jid"))},c)}else if(a.hasChild("modify")){e=a.child("modify");return babelHelpers["extends"]({type:"modify",jid:d("WAWebJidToWid").userJidToUserWid(e.attrUserJid("new")),oldJid:d("WAWebJidToWid").userJidToUserWid(e.attrUserJid("old")),lid:e.maybeAttrUserJid("new_lid")?d("WAWebJidToWid").lidUserJidToUserLid(e.attrLidUserJid("new_lid")):null,oldLid:e.maybeAttrUserJid("old_lid")?d("WAWebJidToWid").lidUserJidToUserLid(e.attrLidUserJid("old_lid")):null},c)}else if(a.hasChild("sync")){f=a.child("sync");return babelHelpers["extends"]({type:"sync",after:f.attrTime("after"),jid:null},c)}d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(['Unexpected "contacts" notification'])));return babelHelpers["extends"]({type:"empty",jid:null},c)});function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.type!=="modify")throw c("err")("Error: genContactChangeNotificationMsg invalid type");else{var e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),f=c("WANullthrows")(b.oldJid),g=c("WANullthrows")(b.jid);if(b.lid!=null&&b.oldLid!=null){var h=b.oldLid,i=b.lid;h=[f,g,h,i]}else h=[f,g];return{id:new(c("WAWebMsgKey"))({remote:a,fromMe:!1,id:yield c("WAWebMsgKey").newId()}),from:a,subtype:"change_number",viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,t:b.ts,to:e,type:"notification_template",kind:d("WAWebMsgType").MsgKind.NotificationTemplate,templateParams:h}}});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b.oldJid!=null&&b.jid!=null&&(yield c("WAWebProcessPhoneNumberChange")(b.oldJid,b.jid));b=(yield r(a,b));yield d("WAWebHandleSingleMsg").handleSingleMsg({chatId:a,newMsg:b,handleSingleMsgOrigin:"changeNumberNotification"})});return u.apply(this,arguments)}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b&&d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){b=(yield d("WAWebMessageProcessUtils").selectChatForOneOnOneMessage({lid:b}));return b.chatId}return a});return w.apply(this,arguments)}function x(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.oldJid){var c=a.oldJid,e=a.jid,f=a.oldLid,g=a.lid;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleModifyAction: oldChatPn: ",", newChatPn: ",""])),c.toLogString(),e.toLogString());var h=[],k=(yield v(c,f)),l=(yield d("WAWebApiChat").getChatRecord(k));l&&h.push({id:l.id,changeNumberNewJid:e.toString(),changeNumberOldJid:void 0});l=(yield v(e,g));var m=(yield d("WAWebApiChat").getChatRecord(l));m&&h.push({id:m.id,changeNumberNewJid:void 0,changeNumberOldJid:c.toString()});yield d("WAWebSchemaChat").getChatTable().bulkCreateOrMerge(h).then(function(){h.forEach(function(a){var b=d("WAWebChatCollection").ChatCollection.get(a.id);if(b){var c=a.changeNumberNewJid;a=a.changeNumberOldJid;b.changeNumberNewJid=c!=null?d("WAWebWidFactory").createWid(c):void 0;b.changeNumberOldJid=a!=null?d("WAWebWidFactory").createWid(a):void 0}})});f!=null&&g!=null&&(yield d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:[{lid:f,pn:c},{lid:g,pn:e}],flushImmediately:!0,learningSource:"other"}));yield (p||(p=b("Promise"))).all([t(k,a),t(l,a)])}else d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["notification.oldJid is null"]))).devConsole(a)});return y.apply(this,arguments)}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=q.parse(a);if(c.error){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());throw c.error}a=c.success;c=a.jid;switch(a.type){case"update":if(!c){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleContactsNotification: an update command does not include jid"])));return h(a)}var e=d("WAWebPresenceCollection").PresenceCollection.get(c);e&&e.reset();var f=d("WAWebTextStatusCollection").TextStatusCollection.get(c);e=f==null?null:d("WAWebStatusContactAction").getStatus(d("WAWebWidFactory").asUserWidOrThrow(c)).then(function(a){f.set({status:a.status})});c=d("WAWebContactCollection").ContactCollection.get(c);var g;c&&d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()&&(g=d("WAWebContactTextStatusBridge").getTextStatus(c.id,c.textStatusLastUpdateTime).then(function(a){var b=a.text,c=a.emoji,e=a.ephemeralDurationSeconds,f=a.lastUpdateTime;a=a.id;return d("WAWebUpdateTextStatusForContact").updateTextStatusForContact(a,b,c,e,f!=null?Number(f):void 0)}));c=d("WAWebChangeProfilePicThumb").changeProfilePicThumb(a.jid,d("WAWebProfilePicConstants").ProfilePicCommand.Set);yield (p||(p=b("Promise"))).all([c,e,g]);return h(a);case"modify":yield x(a);return h(a);case"sync":d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["received contact sync notification"]))).tags("contact-sync");yield d("WAWebContactSyncBridge").doFullContactSync();return h(a);default:d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["handleContactsNotification: unhandled notification of type ",""])),a.type);return h(a)}function h(a,b){return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),to:a.from,"class":"notification",type:"contacts"},b)}});return A.apply(this,arguments)}function a(a){var b=d("WAWebBackendJobsCommon").getNonCriticalNotificationPriority(Boolean(a.attrs.offline));return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("handleContactNotification",function(a){return z(a.node)},{priority:b}).waitUntilCompleted({node:a})}g["default"]=a}),98);
__d("WAWebHandleDeviceNotification",["Promise","WADeprecatedWapParser","WAJids","WALogger","WAWap","WAWebAdvHandlerApi","WAWebApiContact","WAWebApiPendingDeviceSync","WAWebCommsWapMd","WAWebDBCreateLidPnMappings","WAWebJidToWid","WAWebLidMigrationUtils","WAWebOfflineDeviceCache","WAWebOfflineHandler","WAWebSyncDeviceAdvDeviceListJob","WAWebWidFactory","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r={add:"add",remove:"remove",update:"update"},s=new(c("WADeprecatedWapParser"))("incomingDevicesNotification",function(a){a.assertTag("notification");a.assertTag("notification");a.assertAttr("type","devices");var b,c,e,f=[];if(a.hasChild("remove"))c=r.remove,b=a.child("remove");else if(a.hasChild("add"))c=r.add,b=a.child("add");else if(a.hasChild("update"))c=r.update,b=a.child("update");else{d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(['Unknown Devices Notification: Devices notification without "remove" and "add" nodes'])));throw a.createParseError("Failed to parse devices notification")}if(c===r.add||c===r.remove){var g=b.maybeChild("key-index-list");if(!g)throw a.createParseError("key index node is required to handle device add or remove notification");var j=g.attrTime("ts");if(c===r.remove&&!j)throw a.createParseError("timestamp is required to handle device remove notification");e={ts:j,signedKeyIndexBytes:c===r.add?g.contentBytes():null};j=b.child("device");g=d("WAJids").extractDeviceId(j.attrDeviceJid("jid"));var k=j.hasAttr("key-index")?j.attrInt("key-index"):null;if(j.hasAttr("lid")){j=d("WAJids").extractDeviceId(j.attrDeviceJid("lid"));if(j!==g){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["device id mismatch between jid and lid attributes of add/remove device notification"])));throw a.createParseError("mismatched device jid and lid attributes")}}f=[{id:g,keyIndex:k}]}return{type:c,stanzaId:a.attrString("id"),hash:c===r.update?b.attrString("hash"):null,user:d("WAWebJidToWid").deviceJidToUserWid(a.attrDeviceJid("from")),lidUser:a.hasAttr("lid")?d("WAWebJidToWid").lidDeviceJidToUserLid(a.attrLidDeviceJid("lid")):null,deviceList:f,keyIndex:e}});function a(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=s.parse(a);if(e.error){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),e.error.toString());throw e.error}var f=e.success,g=d("WAWap").wap("ack",{to:d("WAWebCommsWapMd").USER_JID(f.user),id:d("WAWap").CUSTOM_STRING(f.stanzaId),"class":"notification"});a={wid:f.user,devices:{deviceList:f.deviceList,keyIndex:f.keyIndex},type:f.type,hash:f.hash};e=f.user.isLid()?d("WAWebLidMigrationUtils").toPn(f.user):f.lidUser;var h=null;e!=null&&(h={wid:e,devices:{deviceList:f.deviceList,keyIndex:f.keyIndex},type:f.type,hash:f.hash});e=[a,h].filter(Boolean);a=[];f.lidUser!=null&&f.user!=null&&a.push({lid:f.lidUser,pn:f.user});if(!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()){a.length>0&&(yield d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:a,flushImmediately:!1,learningSource:"other"}));e.forEach(function(a){a=a.wid;return d("WAWebOfflineDeviceCache").OfflinePendingDeviceCache.addOfflinePendingDevice(a.toString(),g)});return"NO_ACK"}a.length>0&&(yield d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:a,flushImmediately:!0,learningSource:"other"}));yield (q||(q=b("Promise"))).all(e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.wid,e=a.devices,g=a.type;a=a.hash;if(d("WAWebOfflineHandler").OfflineMessageHandler.isResumeOnSocketDisconnectInProgress())yield d("WAWebApiPendingDeviceSync").addUserToPendingDeviceSync([b.toString()]);else if(f.type===r.add)try{yield d("WAWebAdvHandlerApi").handleADVDeviceNotification({wid:b,devices:e,type:g})}catch(a){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["handleDevicesNotification - add error: ",""])),a)}else if(f.type===r.remove)try{yield d("WAWebAdvHandlerApi").handleADVDeviceNotification({wid:b,devices:e,type:g})}catch(a){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleDevicesNotification - remove error: ",""])),a)}else if(f.type===r.update){b=(yield d("WAWebApiContact").getContactRecordByHash(c("nullthrows")(a)));if(b==null)d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["could not find side contact hash for device update operation"])));else try{yield d("WAWebSyncDeviceAdvDeviceListJob").syncDeviceListJob([d("WAWebWidFactory").createWid(b.id)],"notification",null)}catch(a){d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["handleDevicesNotification - update error: ",""])),a)}}else d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["handleDevicesNotification - unknown notification type ",""])),f.type)});return function(b){return a.apply(this,arguments)}}()));return g});return t.apply(this,arguments)}g.handleDevicesNotification=a}),98);
__d("WAWebHandleDeviceSwitchingNotification",["WADeprecatedWapParser","WALogger","WATimeUtils","WAWap","WAWebABProps","WAWebBackendApi","WAWebUserPrefsMeUser","WAWebWaOldCodeWamEvent","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=new(c("WADeprecatedWapParser"))("incomingDeviceSwitchingNotificationParser",function(a){a.assertTag("notification");var b=a.attrString("id"),c=a.attrWapJid("from");a=a.child("wa_old_registration");var d=a.attrString("code"),e=a.attrTime("expiry_t"),f=a.attrTime("ts");a=a.attrString("device_id");return{stanzaId:b,from:c,code:d,expiryTime:e,ts:f,deviceId:a}});function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["DeviceSwitching notification received, node: ",""])),a);var b=l.parse(a);if(b.error){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),b.error.toString());throw b.error}a=b.success;b=d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),"class":"notification",type:"registration",to:a.from});if(!d("WAWebABProps").getABPropConfigValue("web_device_switching"))return b;var c=a.expiryTime,e=d("WATimeUtils").unixTime();if(e>c){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["OTP code has expired, expiry time: "," and current time: ",""])),c,e);return b}c=a.code;d("WAWebBackendApi").frontendFireAndForget("showDeviceSwitchOtp",{otpCode:c});e=d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().getDeviceId().toString();new(d("WAWebWaOldCodeWamEvent").WaOldCodeWamEvent)({deviceId:e}).commit();return b});return m.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleDigestKey",["Promise","WADeprecatedWapParser","WALogger","WAWap","WAWebDigestKeyJob"],(function(a,b,c,d,e,f,g){var h,i,j,k=new(c("WADeprecatedWapParser"))("digestKeyParser",function(a){a.assertTag("notification");a.assertAttr("type","encrypt");a.assertFromServer();a.child("digest").assertTag("digest");return{stanzaId:a.attrString("id")}});function a(a){var c=k.parse(a);if(c.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(j||(j=b("Promise"))).reject(c.error)}a=c.success;var e=d("WAWap").wap("ack",{to:d("WAWap").S_WHATSAPP_NET,id:d("WAWap").CUSTOM_STRING(a.stanzaId),"class":"notification"});return d("WAWebDigestKeyJob").digestKey().then(function(){return e})}g["default"]=a}),98);
__d("WAWebHandleDisappearingModeNotification",["WADeprecatedWapParser","WAJobOrchestratorTypes","WALogger","WAWap","WAWebCommsWapMd","WAWebJidToWid","WAWebOrchestratorNonPersistedJob","WAWebUpdateDisappearingModeForContact","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k=new(c("WADeprecatedWapParser"))("disappearingModeNotification",function(a){a.assertTag("notification");var b=a.child("disappearing_mode");return{stanzaId:a.attrString("id"),from:d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("from")),duration:b.attrInt("duration",0),ts:b.attrTime("t")}});function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.duration,c=a.from,e=a.stanzaId;a=a.ts;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleDisappearingModeNotification: received d=",":t=","\n    for ",""])),b,a,c.toString()).tags("DM","DDM");yield d("WAWebUpdateDisappearingModeForContact").updateDisappearingModeForContact(c,b,a);return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(e),to:d("WAWebCommsWapMd").JID(c),"class":"notification",type:"disappearing_mode"})});return m.apply(this,arguments)}function a(a){var b=d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW;return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("handleDisappearingModeNotification",function(){var b=k.parse(a);if(b.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString()).tags("DM","DDM");d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),b.error.toString());return Promise.reject(b.error)}return l(b.success)},{priority:b}).waitUntilCompleted({node:a})}g.handleDisappearingModeNotificationJob=a}),98);
__d("WAWebE2ETestPairingConstants",[],(function(a,b,c,d,e,f){a="jest_e2e_pairing_attempt_ongoing";b="jest_e2e_first_read_done";f.PAIRING_ATTEMPT_ONGOING_KEY=a;f.FIRST_QRCODE_READ_DONE=b}),66);
__d("WAWebLazyPoll",["WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;a=function(){function a(a){var b=a.name,d=a.handler;d=d===void 0?null:d;var e=a.interval;e=e===void 0?3600:e;var f=a.restingInterval;f=f===void 0?18e3:f;var g=a.sleepWhileResting;g=g===void 0?!1:g;a=a.randomIntervalExtension;a=a===void 0?0:a;this.$6=!1;this.$7=!1;this.$1=b;this.$2=e*1e3;this.$3=f*1e3;this.$4=g;this.$5=a*1e3;this.$12();if(typeof d==="function")this.poll(d);else if(d!=null)throw c("err")("Poll handler must be a function or null")}var e=a.prototype;e.$13=function(){return Math.ceil(Math.random()*this.$5)};e.$14=function(){return(this.$7?this.$3:this.$2)+this.$13()};e.$12=function(){var a=this;document.addEventListener("visibilitychange",function(){if(a.$11)return;document.hidden?a.$4?(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[","] inactive paused"])),a.$1),a.$15()):(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[","] inactive slowing down"])),a.$1),a.$7=!0):a.$9&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[","] active resuming"])),a.$1),a.$16())},!1)};e.$17=function(){if(!this.$10)return!0;var a=Date.now()-this.$10;return a>=this.$14()};e.$15=function(){self.clearTimeout(this.$8),this.$6=!1};e.$16=function(){this.$7=!1,this.$6=!0,this.$18()};e.$18=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;this.$6&&(this.$17()&&(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[","] polling"])),this.$1),yield this.$9(),this.$10=Date.now()),self.clearTimeout(this.$8),this.$8=self.setTimeout(function(){return a.$18()},this.$14()))});function c(){return a.apply(this,arguments)}return c}();e.poll=function(a){if(this.$9!=null){this.resume();return}this.$9=a;this.$6=!0;this.$18()};e.pause=function(){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[","] manually paused"])),this.$1),this.$11=!0,this.$15()};e.resume=function(){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[","] manually resumed"])),this.$1),this.$11=!1,this.$16()};return a}();g["default"]=a}),98);
__d("WAWebUpdaterUpdatePoll",["$InternalEnum","WALogger","WATimeUtils","WAWebBuildConstants","WAWebCurrentUser","WAWebEnvironment","WAWebLazyPoll","WAWebNetworkStatus","WAWebPonyfillsFetch","WAWebUIRefreshGatingUtils","WAWebUpdater","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=d("WAWebBuildConstants").DYN_ORIGIN+"spin";e=1800;f=3600;var p=e*.1,q=Date.now(),r=d("WATimeUtils").DAY_MILLISECONDS*3,s=d("WATimeUtils").DAY_MILLISECONDS*30,t=!0,u=0,v={WEB:"web",PWA:"web",WIN_HYBRID:"win_hybrid"},w=b("$InternalEnum").Mirrored(["SOFT_REFRESH","HARD_REFRESH"]);e=new(c("WAWebLazyPoll"))({name:"updater",interval:e,restingInterval:f,randomIntervalExtension:p});function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield c("WAWebNetworkStatus").checkOnline();if(!navigator.onLine||!c("WAWebNetworkStatus").online){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Update check skipped because user is offline."])));return!1}var a=d("WAWebBuildConstants").VERSION_TERTIARY;try{var b=(yield c("WAWebPonyfillsFetch")(o+"?subplatform=web&revision="+a,{headers:{Accept:"application/json","Content-Type":"application/json"}}));if(!b.ok)throw c("err")("{status: "+b.status+", message: "+b.statusText+"}");b=(yield b.json());var e=new Date().toISOString();d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Updater: Checked at ",""])),e).devConsole({spinResponse:b,revision:a});u=0;if(!(b!=null&&b.isBroken))return!1;$$gen$m0:{e=b==null?void 0:b.action;if(e===w.SOFT_REFRESH){d("WAWebUpdater").Updater.showSoftUpdateBanner();return!0;break $$gen$m0}if(e===w.HARD_REFRESH){d("WAWebUpdater").Updater.update(void 0,!1,15e3)["catch"](function(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Updater: hard update failed with ",""])),a).sendLogs("SPIN hard refresh failed")});return!0;break $$gen$m0}if(e===void 0)break $$gen$m0;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)}}catch(a){u+=1,u>=3?(d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Updater: Version check failed for "," consecutive times: ",""])),u,a).devConsole(a).sendLogs("updater-spin-version-check-failed"),u=0):d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Updater: Version check failed: ",""])),a).devConsole(a)}return!1});return y.apply(this,arguments)}function a(){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("WAWebEnvironment").isWindows){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Updater: Windows Hybrid is excluded from Web update flow"])));return!0}var a=Date.now()-q;if(a>s){d("WAWebUpdater").Updater.update(void 0,!1,15e3)["catch"](function(a){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Updater: hard update failed with ",""])),a).sendLogs("thirty day hard expiration failed")});return!0}else if(c("gkx")("18269")&&!t&&(yield x()))return!0;a>r?d("WAWebUpdater").Updater.showSoftUpdateBanner():d("WAWebCurrentUser").isEmployee()&&a>d("WATimeUtils").DAY_MILLISECONDS?d("WAWebUpdater").Updater.showSoftUpdateBanner():d("WAWebUIRefreshGatingUtils").uiRefreshM1EnabledNotUpdated()&&d("WAWebUpdater").Updater.showSoftUpdateBanner();t=!1;return!0});return z.apply(this,arguments)}g.PLATFORMS=v;g.updatePoll=e;g.checkForUpdates=a}),98);
__d("WAWebHandleFailure",["Promise","WAComms","WADeprecatedWapParser","WALogger","WAWebCmd","WAWebE2ETestPairingConstants","WAWebFailureErrorCodes","WAWebJestE2ELogUtils","WAWebL10N","WAWebLocalStorage","WAWebLogoutReasonConstants","WAWebSocketModel","WAWebUpdater","WAWebUpdaterUpdatePoll","WAWebUpdaterVersion","WAWebWamPlatform","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=new(c("WADeprecatedWapParser"))("failureParser",function(a){a.assertTag("failure");return{reason:a.attrInt("reason",400,599),location:a.attrString("location"),code:a.hasAttr("code")?a.attrInt("code"):null,expire:a.hasAttr("expire")?a.attrInt("expire"):null,message:a.maybeAttrString("message"),url:a.maybeAttrString("url"),logoutMessageHeader:a.maybeAttrString("logout_message_header"),logoutMessageSubtext:a.maybeAttrString("logout_message_subtext"),logoutMessageLocale:a.maybeAttrString("logout_message_locale")}});function a(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){c("gkx")("26256")&&(d("WAWebJestE2ELogUtils").maybeLogToJestE2eJSConsole("received failure stanza, "+a.toString()),c("WAWebLocalStorage")==null||c("WAWebLocalStorage").removeItem(d("WAWebE2ETestPairingConstants").PAIRING_ATTEMPT_ONGOING_KEY));var e=q.parse(a);if(e.error){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose([""," parsing ",""])),e.error.toString(),a.toString());return(p||(p=b("Promise"))).reject(e.error)}switch(e.success.reason){case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_LOCKED:d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["received failure stanza, reason: ",", logging out"])),e.success.reason);a=e.success;var f=a.logoutMessageHeader,g=a.logoutMessageSubtext;a=a.logoutMessageLocale;var r=null;a===c("WAWebL10N").getNormalizedLocale()&&(f!=null||g!=null)&&(r={logoutMessageHeader:f,logoutMessageSubtext:g});yield d("WAWebSocketModel").Socket.clearCredentialsAndStoredData(d("WAWebLogoutReasonConstants").LogoutReason.AccountLocked,r);d("WAWebCmd").Cmd.logout();break;case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_NOT_AUTHORIZED:case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_BANNED:d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["received failure stanza, reason: ",", logging out"])),e.success.reason);yield d("WAWebSocketModel").Socket.clearCredentialsAndStoredData();d("WAWebCmd").Cmd.logout();break;case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_CLIENT_TOO_OLD:case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_BAD_USER_AGENT:d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Client too old or bad user agent, attempting to update the app"])));a=d("WAWebUpdaterVersion").SANITIZED_VERSION_STR;f=d("WAWebUpdaterUpdatePoll").PLATFORMS[d("WAWebWamPlatform").getWamPlatform()];f==="web"?d("WAWebUpdater").Updater.update(a,!1,0):d("WAWebUpdater").Updater.update(void 0,!1,0);d("WAComms").stopComms();break;case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_TEMP_BANNED:g=e.success;r=g.code;f=g.expire;a=g.message;g=g.url;if(r!=null&&f!=null)d("WAWebCmd").Cmd.onTemporaryBan({banned:!0,code:r,message:a,url:g,expire:f});else{d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Incorrect temporary ban data "," ",""])),r,f);throw c("err")("handleFailure: wrong temp ban data")}break;case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_GENERIC_FAILURE:case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_INTERNAL_SERVER_ERROR:case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_EXPERIMENTAL:d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleFailure: got failure code ",""])),e.success.reason);break;case d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_SERVICE_UNAVAILABLE:d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["handleFailure: got failure code ",""])),e.success.reason);d("WAWebCmd").Cmd.showServiceUnavailableError();break;default:d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["failure reason "," not implemented yet"])),e.success.reason);return(p||(p=b("Promise"))).reject(c("err")("failure reason "+e.success.reason+" not implemented yet"))}});return r.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleGrowthNotification",["WADeprecatedWapParser","WALogger","WATimeUtils","WAWap","WAWebChatFindBridge","WAWebChatMessageCountsWamEvent","WAWebChatThreadLogging","WAWebCreateChat","WAWebHandleSingleMsg","WAWebJidToWid","WAWebMsgKey","WAWebMsgType","WAWebNotificationDeliveryWamEvent","WAWebUserPrefsMeUser","WAWebViewMode.flow","WAWebWamEnumNotificationTypeEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o={contacts:"contacts","w:growth":"w:growth"},p=new(c("WADeprecatedWapParser"))("incomingGrowthNotificationParser",function(a){a.assertTag("notification");var b=a.attrString("id"),c=a.attrWapJid("from"),d=a.attrEnum("type",o);b={stanzaId:b,from:c,type:d};if(a.hasChild("invite")){c=a.child("invite");if(c.hasChild("receiver")){d=c.child("receiver");return babelHelpers["extends"]({receiverId:d.hasAttr("user")?d.attrUserJid("user"):null,reason:d.hasAttr("reason")?d.attrString("reason"):""},b)}}return b});function a(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Growth notification received, node: ",""])),a);var b=p.parse(a);if(b.error){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),b.error.toString());throw b.error}a=b.success;b=a.type;if(b==="contacts"){if(!("receiverId"in a)||a.receiverId==null){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Invalid receiver id"])));d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Invalid receiver id"])));return}var c=d("WAWebJidToWid").userJidToUserWid(a.receiverId),e="reason"in a&&a.reason==="clicked_invite_link";yield r(c,e)}return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),"class":"notification",type:b,to:a.from})});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebChatFindBridge").findLocal(a.toString()));if(c==null){yield d("WAWebCreateChat").createChat({chatId:a},"createChatOnInviteAccept");c=(yield d("WAWebChatFindBridge").findLocal(a.toString()));if(c==null){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Unable to create new chat thread with receiver - {receiverId}"])));d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Unable to create new chat thread with receiver - {receiverId}"])));return}a=c.id;b=(yield t(a,b));c=(yield d("WAWebChatThreadLogging").getChatThreadID(c.id.toJid()));new(d("WAWebNotificationDeliveryWamEvent").NotificationDeliveryWamEvent)({threadId:c,uiNotificationType:d("WAWebWamEnumNotificationTypeEnum").NOTIFICATION_TYPE_ENUM.INVITE_JOINED}).commit();yield d("WAWebHandleSingleMsg").handleSingleMsg({chatId:a,newMsg:b,handleSingleMsgOrigin:"processInviteDeepLinkSenderNotification"});new(d("WAWebChatMessageCountsWamEvent").ChatMessageCountsWamEvent)({isInviteCreatedThread:!0}).commit()}return});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return{id:new(c("WAWebMsgKey"))({remote:a,fromMe:!1,id:yield c("WAWebMsgKey").newId()}),from:a,subtype:"sender_invite",to:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),type:"notification_template",kind:d("WAWebMsgType").MsgKind.NotificationTemplate,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,t:d("WATimeUtils").unixTime(),templateParams:[b.toString()]}});return u.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleHostedNotification",["WALogger","WASmaxCoexistenceOffboardingNotificationRPC","WASmaxCoexistenceOnboardingStatusNotificationRPC","WASmaxParseUtils","WASmaxParsingFailure","WAWebCTWADetectedOutcomeOnboardingStatusNotification","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WASmaxParseUtils").flattenedChildWithTag(a,"onboarding_status");if(b.success){b=d("WASmaxCoexistenceOnboardingStatusNotificationRPC").receiveOnboardingStatusNotificationRPC(a);b=b.parsedRequest;b.onboardingStatusStatus==="completed"&&b.onboardingStatusProductSurfaceMixin.productSurface==="automation"&&d("WAWebCTWADetectedOutcomeOnboardingStatusNotification").handleCTWADetectedOutcomeOnboardingStatusNotification(!0);return}b=d("WASmaxParseUtils").flattenedChildWithTag(a,"offboarding");if(b.success){b=d("WASmaxCoexistenceOffboardingNotificationRPC").receiveOffboardingNotificationRPC(a);a=b.parsedRequest;a.offboardingProductSurface==="automation"&&d("WAWebCTWADetectedOutcomeOnboardingStatusNotification").handleCTWADetectedOutcomeOnboardingStatusNotification(!1);return}d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleHostedNotification: unsupported hosted notification"])));throw new(d("WASmaxParsingFailure").SmaxParsingFailure)("handleHostedNotification: unsupported hosted notification")});return i.apply(this,arguments)}g.handleHostedNotification=a}),98);
__d("WAWebHandleMediaRetryNotification",["WABase64","WADeprecatedWapParser","WALogger","WANullthrows","WAWap","WAWebCommsWapMd","WAWebCryptoMediaRetry","WAWebProtobufsMmsRetry.pb","WAWebRequestMediaReuploadManager","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=new(c("WADeprecatedWapParser"))("mediaRetryNotification",function(a){a.assertTag("notification");var b=a.maybeChild("error"),c=a.attrWapJid("from"),e;a.hasAttr("participant")&&(e=a.attrWapJid("participant"));if(b)return{from:c,participant:e,msgId:a.attrString("id"),ciphertext:null,iv:null,errorCode:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.cast(b.attrInt("code"))};b=a.child("encrypt");return{from:c,participant:e,msgId:a.attrString("id"),ciphertext:b.child("enc_p").contentBytes(),iv:b.child("enc_iv").contentBytes(d("WAWebCryptoMediaRetry").ENC_IV_SIZE),errorCode:null}});function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=o.parse(a);if(b.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRetryNotification: error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRetryNotification: parsing error: ",""])),b.error.toString());throw b.error}a=b.success;var e=a.from,f=a.participant,g=a.msgId;a=a.errorCode;(e==null||!d("WAWebUserPrefsMeUser").isMeAccount(d("WAWebWidFactory").createDeviceWidOrThrow(e.toString())))&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRetryNotification: received from not self-primary: ",""])),e),d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRetryNotification: received from not self-primary"]))).sendLogs("media-retry-notification-not-from-self-primary"));e=d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(g),"class":"notification",type:"mediaretry",to:e!=null?e:d("WAWebCommsWapMd").USER_JID(d("WAWebUserPrefsMeUser").getMePnUserOrThrow()),participant:f||d("WAWap").DROP_ATTR});if(a!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRetryNotification: ",": received error code: ",""])),g,a);d("WAWebRequestMediaReuploadManager").RequestMediaReuploadManager.resolveMediaReupload({msgId:g,result:a});return e}f=b.success;a=f.ciphertext;b=f.iv;f=d("WAWebRequestMediaReuploadManager").RequestMediaReuploadManager.getMediaKey(g);if(!f){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRetryNotification: ",": mediaKey is not found"])),g);return e}f=(yield d("WAWebCryptoMediaRetry").decryptMediaRetryNotification(d("WABase64").decodeB64(f),g,c("WANullthrows")(b),c("WANullthrows")(a)));b=f.stanzaId;a=f.directPath;f=f.result;if(b!==g){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["handleMediaRetryNotification: ",": id mismatch"])),g);throw c("err")("handleMediaRetryNotification: msg id does not match")}d("WAWebRequestMediaReuploadManager").RequestMediaReuploadManager.resolveMediaReupload({msgId:g,result:f,directPath:a});return e});return p.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleMessageRetryRequest",["Promise","WALogger","WAWap","WAWebCommsWapMd","WAWebHandleRetryRequest","WAWebRetryRequestParser","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("WAWebRetryRequestParser").parse(a);if(a.error){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),a.error.toString());return(j||(j=b("Promise"))).reject(a.error)}a=a.success;var e=a.from,f=a.participant,g=a.stanzaId;if(g==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Received null stanzaID when handling message retry request"])));return(j||(j=b("Promise"))).reject(c("err")("Received null stanzaID when handling message retry request"))}g=d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(g),to:d("WAWebCommsWapMd").JID(e),participant:f?d("WAWebCommsWapMd").DEVICE_JID(f):d("WAWap").DROP_ATTR,"class":"receipt",type:"retry"});yield d("WAWebHandleRetryRequest").handleRetryRequest(a);return g});return k.apply(this,arguments)}g.handleMessageRetryRequest=a}),98);
__d("WAWebHandleBrigadingUpdateNotification",["WALogger","WAWebCmd","WAWebUserPrefsGeneral","WAWebUserPrefsIndexedDBStorage","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(a=b.xwa2_notify_brigading)==null?void 0:a.state;if(b==null)throw c("err")("[mex][notification][handleBrigadingNotification] state is null");try{switch(b){case"ENFORCED":case"NOT_ENFORCED":case"DETECTED":yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set("WABrigadingState",b);d("WAWebCmd").Cmd.onBrigadingStateChange(b);break;case"NOT_DETECTED":yield d("WAWebUserPrefsGeneral").clearBrigadingstate();d("WAWebCmd").Cmd.onBrigadingStateChange(null);break;default:d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][notification][handleBrigadingNotification] unhandled state: ",""])),b)}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["setWABrigadingState: failed to set to indexedDB, state: ",""])),b).devConsole(a).sendLogs("setWABrigadingState-failed")}});return j.apply(this,arguments)}g.mexHandleBrigadingNotification=a}),98);
__d("WAWebMexCommunityOwnerUpdateNotificationHandler",["WALogger","WATimeUtils","WAWebGroupType","WAWebHandleGroupNotification","WAWebWidFactory","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][community][notification][owner-update] Failed to process xwa2_notify_group_on_participants_roles_change notification, null ",""])),a).tags("mex").sendLogs("mex-communitynotification-owner-update-fail")}function l(a){if(a!=null&&a.id!=null){var b=a.id,c=a.notify_name;a=a.pn;return{authorWid:d("WAWebWidFactory").createWid(b),notifyName:c,authorPhoneNumber:a!=null?d("WAWebWidFactory").createWid(a):null}}return{authorWid:null,notifyName:null,authorPhoneNumber:null}}function a(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b.xwa2_notify_group_on_participants_roles_change;var e=b.id,f=b.update_time,g=b.updated_by;b=b.role_updates;if(e==null){k("id");return}if(f==null){k("update_time");return}g=l(g);var h=g.authorWid,m=g.notifyName;g=g.authorPhoneNumber;b=b[0];var n=b.user_jid,o=b.new_role;b=b.user;b=b==null?void 0:b.jid;e=d("WAWebWidFactory").createWid(e);n=c("isStringNullOrEmpty")(b)?n:b;b=d("WAWebWidFactory").createUserWid(n);if(o!=="SUPERADMIN_MEMBER"){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[mex][community][notification][owner-update] Community owner notification received with invalid role ",""])),o).tags("mex").sendLogs("mex-communitynotification-owner-update-fail");return}n={actionType:d("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE,oldOwner:h,newOwner:b};o={chatId:e,ts:d("WATimeUtils").castMilliSecondsToUnixTime(Number(f)),actions:[n],author:h,authorPhoneNumber:g,isLidAddressingMode:null,pushname:m,externalId:a.stanzaId,offline:a.offline,hasIncompleteParticipantInformation:!1};try{yield d("WAWebHandleGroupNotification").handleParsedGroupNotification(o)}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[mex][community][notification][owner-update] Failed to update community owner"]))).tags("mex").devConsole(a).sendLogs("mex-communitynotification-owner-update-fail")}});return m.apply(this,arguments)}g.mexHandleCommunityOwnerUpdate=a}),98);
__d("WAWebMexGroupPropertyUpdateNotificationHandler",["WALogger","WATimeUtils","WAWebGroupType","WAWebHandleGroupNotification","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;b=b.xwa2_notify_group_on_prop_change;var e=b.id,f=b.lid_migration_state,g=b.update_time,i=b.updated_by,j=i.id,k=i.pn;i=i.notify_name;b=b.properties;var l;switch(a.OperationName){case"NotificationGroupPropertyUpdate":b.allow_non_admin_sub_group_creation!=null&&(l={actionType:d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION,value:b.allow_non_admin_sub_group_creation});break;case"NotificationGroupHiddenPropertyUpdate":l={actionType:d("WAWebGroupType").GROUP_ACTIONS.HIDDEN_GROUP,value:(c=b.hidden_group)!=null?c:!1};break;case"NotificationGroupSafetyCheckPropertyUpdate":l={actionType:d("WAWebGroupType").GROUP_ACTIONS.GROUP_SAFETY_CHECK,value:(c=b.group_safety_check)!=null?c:!1};break}if(l==null)return;b={chatId:d("WAWebWidFactory").createWid(e),ts:d("WATimeUtils").castMilliSecondsToUnixTime(Number(g)),actions:[l],author:j!=null?d("WAWebWidFactory").createWid(j):null,authorPhoneNumber:k!=null?d("WAWebWidFactory").createWid(k):null,isLidAddressingMode:(f==null?void 0:f.addressing_mode)==="LID",pushname:i,externalId:a.stanzaId,offline:a.offline,hasIncompleteParticipantInformation:!1};try{yield d("WAWebHandleGroupNotification").handleParsedGroupNotification(b)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][group-property-update][notification] Failed to update group property"]))).tags("mex").devConsole(a).sendLogs("mex-group-property-update-notification-fail")}});return i.apply(this,arguments)}g.mexHandleGroupPropertyUpdate=a}),98);
__d("WAWebMexLidChangeNotificationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XWA2LidChange",kind:"LinkedField",name:"xwa2_notify_lid_change",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"old",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"new",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WAWebMexLidChangeNotificationQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"WAWebMexLidChangeNotificationQuery",selections:a},params:{id:"9892367127524985",metadata:{},name:"WAWebMexLidChangeNotificationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebMexLidChangeNotification",["WAWebMexLidChangeNotificationQuery.graphql","WAWebWidFactory","err"],(function(a,b,c,d,e,f,g){var h;h!==void 0?h:h=b("WAWebMexLidChangeNotificationQuery.graphql");function a(a){a=a.xwa2_notify_lid_change;if(a.old==null||a["new"]==null)throw c("err")("parseLidChangeNotification: missing old or new LID values");var b=a.old;a=a["new"];b=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(b));a=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(a));return{oldLid:b,newLid:a}}g.parseLidChangeNotification=a}),98);
__d("WAWebMexLidChangeNotificationHandler",["WAWebApiChat","WAWebHandleSingleMsg","WAWebMexLidChangeNotification","WAWebMsgKey","WAWebMsgType","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebViewMode.flow","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();return{id:new(c("WAWebMsgKey"))({remote:a,fromMe:!1,id:yield c("WAWebMsgKey").newId()}),from:a,subtype:"change_lid",viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,t:Date.now(),to:e,type:"notification_template",kind:d("WAWebMsgType").MsgKind.NotificationTemplate,templateParams:[b]}});return i.apply(this,arguments)}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebUsernameGatingUtils").usernameDisplayedEnabled())return;a=d("WAWebMexLidChangeNotification").parseLidChangeNotification(b);b=a.oldLid;a=a.newLid;var c=(yield d("WAWebApiChat").getChatRecordByAccountLid(b))[0];c=c!=null?d("WAWebWidFactory").createWid(c.id):b;b=(yield h(c,a.toString()));yield d("WAWebHandleSingleMsg").handleSingleMsg({chatId:c,newMsg:b,handleSingleMsgOrigin:"lid_change_notification"})});return j.apply(this,arguments)}g.mexHandleLidChangeNotification=a}),98);
__d("WAWebMexLimitSharingUpdateHandler",["WAWebLimitSharingModelUtils","WAWebLimitSharingPropMappingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;b=b.xwa2_notify_group_on_prop_change;a=(yield d("WAWebLimitSharingModelUtils").getChat(a.from.toString()));if(a==null)return;c={initiatedBy:d("WAWebWidFactory").createWid(b.updated_by.id),sharingLimited:(c=(c=b.properties.limit_sharing)==null?void 0:c.limit_sharing_enabled)!=null?c:!1,trigger:d("WAWebLimitSharingPropMappingUtils").getLimitSharingTriggerFromGroupSettingsChange((c=b.properties.limit_sharing)==null?void 0:c.limit_sharing_trigger),limitSharingSettingTimestamp:Number(b.update_time)};b=d("WAWebWidFactory").createWid(a.id);yield d("WAWebLimitSharingModelUtils").genLimitSharingSystemMessage(b,c);yield d("WAWebLimitSharingModelUtils").updateChat(b,c)});return h.apply(this,arguments)}g.mexHandleLimitSharingUpdate=a}),98);
__d("WAWebMexNewsletterAdminInviteRevokeNotificationHandler",["WAJids","WALogger","WATimeUtils","WAWebBackendApi","WAWebDBProcessMessage","WAWebJidToWid","WAWebLidMigrationDbUtils","WAWebLidMigrationUtils","WAWebNewsletterDBUtils","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_newsletter_admin_invite_revoke;b=a.id;var c=a.actor;a=a.user;a=a.id;c=c.id;if(c==null||a==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[handleNewsletterAdminInviteRevoke] actor or user is null"]))).tags("mex","newsletter").sendLogs("newsletter-mex-admin-invite-revoke-null-actor-or-user");return}b=d("WAJids").toNewsletterJid(b);b=d("WAWebJidToWid").newsletterJidToWid(b);a=d("WAWebLidMigrationUtils").toUserLid(d("WAWebWidFactory").createWid(a));c=d("WAWebLidMigrationUtils").toUserLid(d("WAWebWidFactory").createWid(c));if(!a||!c){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[handleNewsletterAdminInviteRevoke] received a non lid user or actor id"]))).tags("mex","newsletter").sendLogs("newsletter-mex-admin-invite-revoke-non-lid-user-or-actor-id");return}c=(yield d("WAWebLidMigrationDbUtils").getChatWidFromUserLid(c));a=d("WAWebUserPrefsMeUser").isMeAccount(a)?c:yield d("WAWebLidMigrationDbUtils").getChatWidFromUserLid(a);if(a==null||c==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[handleNewsletterAdminInviteRevoke] chat id not found for actor or user"]))).tags("mex","newsletter").sendLogs("newsletter-mex-admin-invite-revoke-actor-or-user-chat-id-not-found");return}b=(yield d("WAWebNewsletterDBUtils").getUnexpiredNewsletterAdminInviteMessageRecordsFromChat(d("WAWebWidFactory").asNewsletterWidOrThrow(b),a,c));b.forEach(function(a){var b;if(((b=a.newsletterAdminInviteInfo)==null?void 0:b.inviteExpiration)==null)return;a.newsletterAdminInviteInfo.inviteExpiration=d("WATimeUtils").castToUnixTime(0)});yield d("WAWebDBProcessMessage").updateExistingMessages(b,a);d("WAWebBackendApi").frontendFireAndForget("expireNewsletterAdminInvites",{expiredMsgData:b});return});return k.apply(this,arguments)}g.handleNewsletterAdminInviteRevoke=a}),98);
__d("WAWebNewsletterAdminNotificationJob",["Promise","WAJobOrchestratorTypes","WAWebOrchestratorNonPersistedJob","WAWebSchemaNewsletterMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,c,e,f){f===void 0&&(f=d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW);return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("updateGeosuspendedCountry",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var f=(yield d("WAWebSchemaNewsletterMetadata").getNewsletterMetadataTable().get(a));if(f==null)return(h||(h=b("Promise"))).resolve();var g=f.geosuspendedCountries,i=g===void 0?new Map():g;e?c.forEach(function(a){i==null||i.set(a,{geosuspended:!0})}):c.forEach(function(a){i==null||i["delete"](a)});f.geosuspendedCountries=i;return d("WAWebSchemaNewsletterMetadata").getNewsletterMetadataTable().merge(a,f)}),{priority:f}).waitUntilCompleted()}function c(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("updateProfilePictureDeletion",function(){return d("WAWebSchemaNewsletterMetadata").getNewsletterMetadataTable().merge(a,{id:a,hasProfilePictureDeletionAlerts:!0})},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}).waitUntilCompleted()}g.updateGeosuspendedCountry=a;g.updateProfilePictureDeletionAlertState=c}),98);
__d("WAWebNewsletterHandleMessageDeliveryUpdateNotification",["WAJobOrchestratorTypes","WAWebBackendApi","WAWebJidToWid","WAWebNewsletterMessageDeliveryUpdateToModelUtils","WAWebNewsletterMetadataJob","WAWebNux","WAWebUserPrefsNuxPreferences","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=d("WAWebJidToWid").newsletterJidToWid(a);b=b.reduce(function(a,b){if(b.issueCode===0)a.updatesToRemove.push(b.serverId);else{b={id:b.serverId,code:b.issueCode};a.updatesToAdd.push(b)}return a},{updatesToAdd:[],updatesToRemove:[]});var e=b.updatesToAdd;b=b.updatesToRemove;void d("WAWebNewsletterMetadataJob").updateNewsletterMessageDeliveryUpdates(a,e,b,d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH);e=(yield d("WAWebNewsletterMessageDeliveryUpdateToModelUtils").getMessageDeliveryUpdatesModelToUpdate(a,e,b));b=e.modelUpdatesToAdd;e=e.modelUpdatesToRemove;yield d("WAWebBackendApi").frontendSendAndReceive("updateNewsletterMessageDeliveryUpdate",{id:c,modelUpdatesToAdd:b,modelUpdatesToRemove:e});c=d("WAWebNux").getNewsletterAlertsBannerNuxKey(a);d("WAWebUserPrefsNuxPreferences").resetNux(c)});return h.apply(this,arguments)}g.handleNewsletterMessageDeliveryUpdateNotificationImpl=a}),98);
__d("WAWebMexNewsletterAdminNotificationHandler",["WALogger","WAWebBackendApi","WAWebCommonNewsletterEnums","WAWebCountriesUtils","WAWebJidToWid","WAWebNewsletterAdminNotificationJob","WAWebNewsletterHandleMessageDeliveryUpdateNotification","WAWebNewsletterValidationUtils","WAWebNux","WAWebUserPrefsNuxPreferences","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_newsletter_on_admin_metadata_update;b=a.id;var c=a.thread_metadata;a=a.messages;try{if(b==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["unexpected null id in xwa2_notify_newsletter_on_admin_metadata_update"]))).tags("mex","newsletter").devConsole("unexpected null id in xwa2_notify_newsletter_on_admin_metadata_update").sendLogs("newsletter-mex-admin-metadata-notification-unexpected-null-id");return}yield m(b,c);yield o(b,a)}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][admin-metadata] Failed to persist admin metadata notification information on db"]))).tags("mex","newsletter").devConsole(a).sendLogs("mex-newsletter-admin-metadata-notification-db-fail")}});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if((b==null?void 0:b.geo_states)==null)return;b=b.geo_states;a=d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(a);var c=d("WAWebJidToWid").newsletterJidToWid(a);b=b.reduce(function(a,b){var c=b.country_code!=null?d("WAWebCountriesUtils").asISOCountryCode(b.country_code):null;if(c==null)return a;d("WAWebCommonNewsletterEnums").NewsletterState.cast((b=b.state.type)==null?void 0:b.toLowerCase())===d("WAWebCommonNewsletterEnums").NewsletterState.GeoSuspended?a.countriesToAdd.push(c):a.countriesToRemove.push(c);return a},{countriesToAdd:[],countriesToRemove:[]});var e=b.countriesToAdd;b=b.countriesToRemove;try{if(e.length>0){yield d("WAWebNewsletterAdminNotificationJob").updateGeosuspendedCountry(a,e,!0);d("WAWebBackendApi").frontendFireAndForget("updateGeosuspendedCountry",{id:c,countryCodes:e,toAdd:!0});e=d("WAWebNux").getNewsletterAlertsBannerNuxKey(a);d("WAWebUserPrefsNuxPreferences").resetNux(e)}b.length>0&&(yield d("WAWebNewsletterAdminNotificationJob").updateGeosuspendedCountry(a,b,!1),d("WAWebBackendApi").frontendFireAndForget("updateGeosuspendedCountry",{id:c,countryCodes:b,toAdd:!1}))}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][geosuspension] Failed to persist metadata notification information for geosuspension on db"]))).tags("mex","newsletter").devConsole(a).sendLogs("mex-newsletter-admin-metadata-notification-geosuspension-db-fail")}});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b==null)return;try{a=d("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(a);b=b.edges.map(function(a){a=a.node;var b=a.message_delivery_update.issue.code,d;switch(b){case"NEEDS_REVIEW":d=1;break;case"NONE":d=0;break;default:throw c("err")("Unexpected mex issue code: "+b)}return{serverId:parseInt(a.server_id,10),issueCode:d}});yield d("WAWebNewsletterHandleMessageDeliveryUpdateNotification").handleNewsletterMessageDeliveryUpdateNotificationImpl(a,b)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][hide-channel] Failed to persist metadata notification information for hide channel on db"]))).tags("mex","newsletter").devConsole(a).sendLogs("mex-newsletter-admin-metadata-notification-hidechannel-db-fail")}});return p.apply(this,arguments)}g.mexHandleNewsletterAdminNotification=a}),98);
__d("WAWebMexNewsletterJoinHandler",["Promise","WALogger","WATimeUtils","WAWebBackendApi","WAWebCreateChat","WAWebMexNewsletterParseUtils","WAWebNewsletterBackendAddOnsUtils","WAWebNewsletterBackendQueues","WAWebNewsletterGatingUtils","WAWebNewsletterGetMessagesJob","WAWebNewsletterMetadataJob","WAWebNewsletterModelUtils","WAWebNewsletterStorageUtils","WAWebNewsletterSystemMessages","WAWebNewsletterUpdateMsgsRecordsJob","WAWebNewsletterUpdateNewslettersRecordsJob","WAWebViewMode.flow","WAWebViewModeUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){yield (i||(i=b("Promise"))).all([d("WAWebNewsletterBackendQueues").newsletterCreationQueue.wait(),d("WAWebNewsletterBackendQueues").newsletterSubscribeQueue.wait()]);if(!d("WAWebNewsletterGatingUtils").isNewsletterEnabled())return;var f=d("WAWebMexNewsletterParseUtils").parseMexNewsletterResponse(e.xwa2_notify_newsletter_on_join);if(f==null)throw c("err")("cannot parse xwa2_notify_newsletter_on_join response");a=d("WAWebNewsletterModelUtils").mapNewsletterToModels(f);var g=a.chat,j=a.metadata,l=a.pic;return d("WAWebNewsletterBackendQueues").newsletterJoinNotificationQueue.enqueue(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{return yield k(g,j,l,f.idJid)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][join]"]))).tags("mex","newsletter").devConsole(a).sendLogs("mex-newsletter-notification-join-fail")}}))});return j.apply(this,arguments)}function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){e=(yield m({chat:a,metadata:b,newsletterJid:e}));var f=e.msgsToStore;e=e.noEarlierMsgs;yield d("WAWebNewsletterUpdateNewslettersRecordsJob").updateNewsletterChatRecords([d("WAWebCreateChat").createNewsletterObjectForStorage(a)]);yield d("WAWebNewsletterMetadataJob").updateNewsletterMetadata(d("WAWebNewsletterStorageUtils").createNewsletterMetadataObjectForStorage(b));yield d("WAWebBackendApi").frontendSendAndReceive("joinNewsletter",{newsletter:a,metadata:b,pic:c,msgs:f,noEarlierMsgs:e})});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chat,c=a.metadata;a=a.newsletterJid;try{var e=d("WAWebNewsletterSystemMessages").genNewsletterCreationSystemMessages({id:b.id,name:b.name,t:c.creationTime,role:c.membershipType});a=(yield d("WAWebNewsletterGetMessagesJob").getNewsletterMessages(a,1));var f=a.msgs,g=f.length===0,h=f.every(function(a){return!d("WAWebViewModeUtils").isViewModeVisibleInSurface(d("WAWebViewMode.flow").ViewModeSurface.CHAT,a.viewMode)});h=f.length>0&&!h?f:[].concat(e,f);b.t=o(c.creationTime,h);f.length>0&&(yield d("WAWebNewsletterBackendAddOnsUtils").updateAddOnDbRecords(a));yield d("WAWebNewsletterUpdateMsgsRecordsJob").addNewsletterMsgsRecords(h);return{msgsToStore:h,noEarlierMsgs:g}}catch(a){return{msgsToStore:[],noEarlierMsgs:!1}}});return n.apply(this,arguments)}function o(a,b){return d("WATimeUtils").castToUnixTime(Math.min(Math.max(a!=null?a:0,Math.max.apply(Math,b.map(function(a){return(a=a.t)!=null?a:0}))),Date.now()/1e3))}g.mexHandleNewsletterJoin=a}),98);
__d("WAWebMexNewsletterLeaveHandler",["WAJids","WALogger","WAWebBackendApi","WAWebJidToWid","WAWebNewsletterDBUtils","WAWebNewsletterDeleteChatJob","WAWebNewsletterDeleteMessageAddOns","WAWebNewsletterMetadataJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_newsletter_on_leave.id;if(a==null)throw c("err")("unexpected null id in xwa2_notify_newsletter_on_leave");b=d("WAJids").toNewsletterJid(a);a=d("WAWebJidToWid").newsletterJidToWid(b);if(!(yield d("WAWebNewsletterDBUtils").doesNewsletterExistInStorage(b))){d("WAWebBackendApi").frontendFireAndForget("updateNewsletterSubscriberCount",{id:a,update:{increment:-1}});return}try{yield d("WAWebNewsletterMetadataJob").deleteNewsletterMetadata(b),yield d("WAWebNewsletterDeleteMessageAddOns").deleteNewsletterMessageAddOns(b),yield d("WAWebNewsletterDeleteChatJob").deleteNewsletterChat(a),d("WAWebBackendApi").frontendFireAndForget("deleteNewsletter",{id:a,keep:!0})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][leave]"]))).tags("mex","newsletter").devConsole(a).sendLogs("mex-newsletter-notification-leave-fail")}});return i.apply(this,arguments)}g.mexHandleNewsletterLeave=a}),98);
__d("WAWebNewsletterMetadataUpdateUtils",["WAWebBackendApi","WAWebContactProfilePicThumbBridge","WAWebDBBulkPersistProfilePic","WAWebNewsletterMetadataJob","WAWebNewsletterStorageUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield d("WAWebNewsletterMetadataJob").updateNewsletterMetadata(d("WAWebNewsletterStorageUtils").createNewsletterMetadataObjectForStorage(b));if(Object.prototype.hasOwnProperty.call(c,"eurl")){var e=d("WAWebWidFactory").createWid(c.id.toString());yield d("WAWebDBBulkPersistProfilePic").bulkPersistProfilePicChanges([d("WAWebContactProfilePicThumbBridge").mapProfilePictureToProfilePicThumbRowType(e,{id:e,tag:(e=c.tag)!=null?e:void 0,eurl:(e=c.eurl)!=null?e:void 0,previewEurl:(e=c.previewEurl)!=null?e:void 0,stale:c.stale,eurlStale:!1,timestamp:(e=c.timestamp)!=null?e:Date.now()})])}yield d("WAWebBackendApi").frontendSendAndReceive("updateNewsletterMetadata",{metadata:b,newsletter:a,pic:c})});return h.apply(this,arguments)}g.updateNewsletterMetadataAndPic=a}),98);
__d("WAWebMexNewsletterMetadataUpdateNotificationHandler",["WAJids","WALogger","WAWebApiChat","WAWebJidToWid","WAWebMexNewsletterParseUtils","WAWebNewsletterMetadataUpdateUtils","WAWebNewsletterModelUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_newsletter_on_metadata_update;b=a.id;if(b==null)throw c("err")("unexpected null id in xwa2_notify_newsletter_on_metadata_update");b=d("WAJids").toNewsletterJid(b);b=d("WAWebJidToWid").newsletterJidToWid(b);b=(yield d("WAWebApiChat").getChatRecord(b));if(b==null)return;b=d("WAWebMexNewsletterParseUtils").parseMexNewsletterResponse(a);if(b==null)throw c("err")("Unexpected null metadata for newsletter update notification");try{a=d("WAWebNewsletterModelUtils").mapNewsletterToModels(b);b=a.chat;var e=a.metadata;a=a.pic;yield d("WAWebNewsletterMetadataUpdateUtils").updateNewsletterMetadataAndPic(b,e,a)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][metadata-update] Failed to update metadata change"]))).tags("mex","newsletter").devConsole(a).sendLogs("mex-newsletter-notification-metadata-update-fail")}});return i.apply(this,arguments)}g.mexHandleNewsletterMetadataUpdate=a}),98);
__d("WAWebMexNewsletterOwnerNotificationHandler",["WAJids","WALogger","WAWebBackendApi","WAWebJidToWid","WAWebMexNewsletterParseUtils","WAWebNewsletterAdminNotificationJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_newsletter_owner_on_metadata_update;b=a.id;var c=a.thread_metadata;a=a.actor;if(c==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["no changes found in xwa2_notify_newsletter_owner_on_metadata_update"]))).tags("mex","newsletter").sendLogs("newsletter-mex-owner-metadata-notification-no-metadata-updates");return}yield o(b,c,a);a=a==null?void 0:a.id;if(a==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["no user found to be making this change in xwa2_notify_newsletter_owner_on_metadata_update"]))).tags("mex","newsletter").sendLogs("newsletter-mex-owner-metadata-notification-no-actor");return}var e=[],f=c.name,g=c.description,n=c.picture,p=c.preview;c=c.settings;(n!=null||p!=null)&&e.push({item:"profile_picture"});if(f!=null){n=f.text;n==null?d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["name did not contain updated value in xwa2_notify_newsletter_owner_on_metadata_update"]))).tags("mex","newsletter").devConsole(f).sendLogs("newsletter-mex-owner-metadata-notification-no-updated-name-value"):e.push({item:"name",value:n})}if(g!=null){p=g.text;p==null?d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["description did not contain updated value in xwa2_notify_newsletter_owner_on_metadata_update"]))).tags("mex","newsletter").devConsole(g).sendLogs("newsletter-mex-owner-metadata-notification-no-updated-name-value"):e.push({item:"description",value:p})}f=c==null?void 0:c.reaction_codes;if(c!=null&&f!=null){n=d("WAWebMexNewsletterParseUtils").toReactionCodesSettingMixin(f.value);n==null?d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["reaction setting did not contain updated value in xwa2_notify_newsletter_owner_on_metadata_update"]))).tags("mex","newsletter").devConsole(f).sendLogs("newsletter-mex-owner-metadata-notification-no-updated-name-value"):e.push({item:"reaction_setting",value:n})}if(e.length===0){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["no updates were found in xwa2_notify_newsletter_owner_on_metadata_update"]))).tags("mex","newsletter").sendLogs("newsletter-mex-owner-metadata-notification-no-updates");return}g=d("WAJids").toNewsletterJid(b);p=d("WAWebJidToWid").newsletterJidToWid(g);c=d("WAWebWidFactory").createWid(a);f={newsletterId:d("WAWebWidFactory").asNewsletterWidOrThrow(p),actorId:d("WAWebWidFactory").asUserWidOrThrow(c),updates:e};d("WAWebBackendApi").frontendFireAndForget("displayNewsletterMetadataUpdateNotification",{notification:f})});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(((b=b.preview)==null?void 0:b.direct_path)!==""||c!=null)return;b=d("WAJids").toNewsletterJid(a);c=d("WAWebJidToWid").newsletterJidToWid(b);yield d("WAWebNewsletterAdminNotificationJob").updateProfilePictureDeletionAlertState(b);d("WAWebBackendApi").frontendFireAndForget("updateProfilePictureDeletionAlertState",{newsletterWid:d("WAWebWidFactory").asNewsletterWidOrThrow(c)})});return p.apply(this,arguments)}g.mexHandleNewsletterOwnerNotification=a}),98);
__d("WAWebMexNewsletterQuestionResponseBlockedNotificationHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){a=c.xwa2_notify_newsletter_block_user;a.newsletter_id;a.server_id;a.response_server_id;return(g||(g=b("Promise"))).resolve()}f.mexHandleNewsletterQuestionsResponseBlocked=a}),66);
__d("WAWebMexNewsletterQuestionResponseStateChangeNotificationHandler",["Promise","WALogger","WAWebBackendApi"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,c){a=c.xwa2_notify_newsletter_response_state_update;if(a==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][response-state-update] unexpected null response data in xwa2_notify_newsletter_response_state_update"])));return(j||(j=b("Promise"))).resolve()}c=a.response_state;var e=a.server_id;a=a.response_server_id;if(c==="UNHIDE")return(j||(j=b("Promise"))).resolve();try{void d("WAWebBackendApi").frontendFireAndForget("hideNewsletterQuestionResponse",{questionServerId:Number(e),responseServerId:a})}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][response-state-update] Failed to handle the notification for question response state change"])))}return(j||(j=b("Promise"))).resolve()}g.mexHandleNewsletterQuestionsResponseStateChange=a}),98);
__d("WAWebMexNewsletterStateChangeHandler",["WAJids","WALogger","WAWebApiChat","WAWebBackendApi","WAWebJidToWid","WAWebNewsletterBackendQueues","WAWebNewsletterDeleteChatJob","WAWebNewsletterMetadataJob","WAWebNewsletterMetadataQueryJob","WAWebNewsletterModelUtils","WAWebNewsletterStorageUtils","WAWebNewsletterSystemMessages","WAWebNewsletterUpdateMsgsRecordsJob","WAWebNux","WAWebUserPrefsNuxPreferences","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function i(a){switch(a){case"ACTIVE":return"active";case"SUSPENDED":return"suspended";case"GEOSUSPENDED":return"geosuspended"}}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield d("WAWebNewsletterBackendQueues").newsletterJoinNotificationQueue.wait();a=b.xwa2_notify_newsletter_on_state_change;b=a.id;var e=a.is_requestor;a=a.state;if(b==null)throw c("err")("unexpected null id in xwa2_notify_newsletter_on_state_change");b=d("WAJids").toNewsletterJid(b);var f=d("WAWebJidToWid").newsletterJidToWid(b);e=e===!0;a=a==null?void 0:a.type;var g=(yield d("WAWebApiChat").getChatRecord(f));if(g==null)return;try{switch(a){case"DELETED":yield d("WAWebNewsletterBackendQueues").newsletterDeleteQueue.wait();return yield k(e,b,f,g.name);case"ACTIVE":case"SUSPENDED":case"GEOSUSPENDED":e=i(a);f=d("WAWebNewsletterMetadataQueryJob").emptyNewsletterMetadataType(b);g=babelHelpers["extends"]({},f,{newsletterStateMetadataMixin:{stateType:e}});b=d("WAWebNewsletterModelUtils").mapNewsletterToModels(g);f=b.chat;e=b.metadata;g=b.pic;yield d("WAWebNewsletterMetadataJob").updateNewsletterMetadata(d("WAWebNewsletterStorageUtils").createNewsletterMetadataObjectForStorage(e));if(e.suspended===!0){b=d("WAWebNux").getNewsletterAlertsBannerNuxKey(e.id.toString());d("WAWebUserPrefsNuxPreferences").resetNux(b)}yield d("WAWebBackendApi").frontendSendAndReceive("updateNewsletterMetadata",{metadata:e,newsletter:f,pic:g});break;default:b=a==null?"null or undefined":a;throw c("err")("Unexpected state change type: "+b)}}catch(b){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][state-change] Failed to update to "," state"])),a).tags("mex","newsletter").devConsole(b).sendLogs("mex-newsletternotification-state-change-fail")}});return j.apply(this,arguments)}function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){return a?m(b,c):o(b,c,d)});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield d("WAWebNewsletterMetadataJob").deleteNewsletterMetadata(a.toString()),yield d("WAWebNewsletterDeleteChatJob").deleteNewsletterChat(b),yield d("WAWebNewsletterMetadataJob").deleteNewsletterPicture(a.toString()),yield d("WAWebBackendApi").frontendSendAndReceive("deleteNewsletter",{id:b,keep:!0})});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=d("WAWebNewsletterSystemMessages").genNewsletterDeletionSystemMessages({id:a,name:c});yield d("WAWebNewsletterMetadataJob").updateNewsletterMetadata({id:a,terminated:!0});yield d("WAWebNewsletterUpdateMsgsRecordsJob").addNewsletterMsgsRecords(c);yield d("WAWebBackendApi").frontendSendAndReceive("terminateNewsletter",{id:b,msgs:c})});return p.apply(this,arguments)}g.mexHandleNewsletterStateChange=a}),98);
__d("WAWebMexNewsletterUserSettingChangeHandler",["WAJids","WALogger","WAWebBackendApi","WAWebCreateChat","WAWebNewsletterMetadataQueryJob","WAWebNewsletterModelUtils","WAWebNewsletterUpdateNewslettersRecordsJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_newsletter_on_user_setting_change;b=a.id;a=a.setting;if(b==null)throw c("err")("unexpected null id in xwa2_notify_newsletter_on_user_setting_change");if(a==null)throw c("err")("unexpected null setting in xwa2_notify_newsletter_on_user_setting_change");$$gen$m0:{if(a.type==="MUTE_ADMIN_ACTIVITY"){return j(b,a);break $$gen$m0}if(a.type==="MUTE_FOLLOWER_ACTIVITY"){return;break $$gen$m0}throw c("err")("unexpected setting type");break $$gen$m0}});return i.apply(this,arguments)}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=function(a){if(a==="ON")return"on";return a==="OFF"?"off":"undefined"}(b==null?void 0:b.value);a=d("WAWebNewsletterMetadataQueryJob").emptyNewsletterMetadataType(d("WAJids").toNewsletterJid(a));a=babelHelpers["extends"]({},a,{newsletterMutedMetadataMixin:{mutedState:b}});b=d("WAWebNewsletterModelUtils").mapNewsletterToModels(a);a=b.chat;var c=b.metadata;b=b.pic;try{yield d("WAWebNewsletterUpdateNewslettersRecordsJob").updateNewsletterChatRecords([d("WAWebCreateChat").createNewsletterObjectForStorage(a)]),yield d("WAWebBackendApi").frontendSendAndReceive("updateNewsletterMetadata",{metadata:c,newsletter:a,pic:b})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][mute-unmute]"]))).tags("mex","newsletter").devConsole(a).sendLogs("mex-newsletter-notification-mute-unmute-fail")}});return k.apply(this,arguments)}g.mexHandleNewsletterUserSettingChange=a}),98);
__d("WAWebMexNewsletterWamoSubStatusChangeNotificationHandler",["WAJids","WALogger","WAWebApiChat","WAWebBackendApi","WAWebCommonNewsletterEnums","WAWebJidToWid","WAWebNewsletterMetadataJob","WAWebNewsletterStorageUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_newsletter_on_wamo_sub_status_change;b=a.newsletter_id;a=a.wamo_sub_event;if(b==null)throw c("err")("unexpected null newsletter_id in xwa2_notify_newsletter_on_wamo_sub_status_change");b=d("WAJids").toNewsletterJid(b);var e=d("WAWebJidToWid").newsletterJidToWid(b);e=(yield d("WAWebApiChat").getChatRecord(e));if(e==null)return;try{var f;switch(a){case"SUBSCRIPTION_CREATED":f=d("WAWebCommonNewsletterEnums").WamoSubStatus.ACTIVE;break;case"SUBSCRIPTION_PAUSED":case"SUBSCRIPTION_ON_HOLD":case"SUBSCRIPTION_EXPIRED":f=d("WAWebCommonNewsletterEnums").WamoSubStatus.INACTIVE;break;case"SUBSCRIPTION_CANCELLED":case"SUBSCRIPTION_IN_GRACE_PERIOD":case"SUBSCRIPTION_PENDING_REVOKE":case"SUBSCRIPTION_RENEWED":case"SUBSCRIPTION_TO_RENEW_SOON":case"SUBSCRIPTION_XGRADE":break;default:e=a==null?"null or undefined":a;throw c("err")("Unexpected Wamo Sub event: "+e)}if(f==null)return;yield d("WAWebNewsletterMetadataJob").updateNewsletterMetadata({id:b,wamoSubStatus:d("WAWebNewsletterStorageUtils").mapNewsletterWamoSubStatusForStorage(f)});d("WAWebBackendApi").frontendFireAndForget("handleNewsletterWamoSubStatusChangeNotification",{jid:b,wamoSubStatus:f})}catch(b){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][newsletter][notification][wamo-sub-status-change] Failed to handle "," Wamo Sub status change"])),a).tags("mex","newsletter").devConsole(b).sendLogs("mex-newsletter-notification-wamo-sub-status-change-fail")}});return i.apply(this,arguments)}g.mexHandleNewsletterWamoSubStatusChange=a}),98);
__d("WAWebMexTextStatusUpdateNotificationHandler",["WALogger","WAWebApiContact","WAWebContactTextStatusBridge","WAWebMexFetchTextStatusListJob","WAWebTextStatusGatingUtils","WAWebUpdateTextStatusForContact","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_text_status_on_update;b=a.jid;if(!d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled())return;if(b==null)throw c("err")("unexpected null id in xwa2_notify_text_status_on_update");a=d("WAWebMexFetchTextStatusListJob").parseTextStatusServerResponse(a);try{yield d("WAWebUpdateTextStatusForContact").updateTextStatusForContact(d("WAWebWidFactory").createWid(b),a.textStatusString,a.textStatusEmoji,a.textStatusEphemeralDuration,a.textStatusLastUpdateTime)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][textStatus][notification][text-status-update] Failed to update text status change"]))).tags("mex").devConsole(a).sendLogs("mex-text-status-notification-update-fail")}});return j.apply(this,arguments)}function e(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.xwa2_notify_text_status_on_update_side_sub;b=(yield d("WAWebApiContact").getContactRecordByHash(a.hash));if(b==null)d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[mex][textStatus][notification][side-sub] Could not find side contact hash for text status update side sub operation"])));else{a=d("WAWebWidFactory").createWid(b.id);b=b.textStatusLastUpdateTime;return d("WAWebContactTextStatusBridge").getTextStatus(a,b).then(function(a){var b=a.text,c=a.emoji,e=a.ephemeralDurationSeconds,f=a.lastUpdateTime;a=a.id;return d("WAWebUpdateTextStatusForContact").updateTextStatusForContact(a,b,c,e,f)})}});return k.apply(this,arguments)}g.mexHandleTextStatusUpdate=a;g.mexHandleTextStatusUpdateSideSub=e}),98);
__d("WAWebMexUsernameAccountSyncNotificationHandler",["WALogger","WAWebGetUsernameQueryJob","WAWebSetUsernameJob","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;if(!d("WAWebUsernameGatingUtils").usernameSupported())return;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][username][notification][username-account-sync] received username account sync notification"])));a=b.xwa2_notify_wa_user;b=a.lid_jid;if(b==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[mex][username][notification][username-account-sync] lid is null"])));return}b=d("WAWebWidFactory").createUserWid(b);if(!b.equals(d("WAWebUserPrefsMeUser").getMeLidUserOrThrow())){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[mex][username][notification][username-account-sync] wrong LID is sent for self user"])));return}c=(c=a.username_info)==null?void 0:c.username;c!=null?yield d("WAWebSetUsernameJob").setUsernamesJob([{userId:b,username:c}]):a.username_info!=null&&c==null?yield d("WAWebSetUsernameJob").setUsernamesJob([{userId:b,deleteUsername:!0}]):a.username_info==null&&(yield d("WAWebGetUsernameQueryJob").getUsernameJob())});return k.apply(this,arguments)}g.mexHandleUsernameAccountSync=a}),98);
__d("WAWebMexUsernameUpdateNotificationHandler",["Promise","WALogger","WAWebApiChat","WAWebApiContact","WAWebContactSystemMsg","WAWebHandleSingleMsg","WAWebLidAwareContactsDB","WAWebQueryExistsJob","WAWebSchemaGroupMetadata","WAWebSchemaParticipant","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebUsernameGatingUtils").usernameDisplayedEnabled())return;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][username][notification][username-set] Received username change notification"])));a=b.xwa2_notify_username_on_change;b=a.username;a=a.lid;var e=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(a)),f=(yield d("WAWebSetUsernameJob").setUsernamesJob([{userId:e,username:b}]));f=f.get(e.toString());var g=(f==null?void 0:f.wasUpdated)===!0;if(g){g=(yield c("WAWebLidAwareContactsDB").get(a));a=g==null?void 0:g.displayNameLID;yield q({wid:e,oldUsername:f==null?void 0:f.oldUsername,newUsername:b,displayName:a})}});return n.apply(this,arguments)}function e(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebUsernameGatingUtils").usernameDisplayedEnabled())return;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[mex][username][notification][username-delete] Received username delete notification"])));a=b.xwa2_notify_username_delete;b=a.lid;a=(a=a.display_name)!=null?a:"";b=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(b));var c=(yield d("WAWebSetUsernameJob").deleteUsernamesJob([{userId:b,displayNameLID:a}]));c=c.get(b.toString());var e=(c==null?void 0:c.wasUpdated)===!0;e&&(yield q({wid:b,oldUsername:c==null?void 0:c.oldUsername,newUsername:"",displayName:a}))});return o.apply(this,arguments)}function f(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebUsernameGatingUtils").usernameDisplayedEnabled())return;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[mex][username][notification][username-change-side-subscriber] Received username change notification for side subscriber"])));a=b.xwa2_notify_username_on_update_side_sub.hash;b=(yield d("WAWebApiContact").getContactRecordByHash(a));if(b==null){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["could not find side contact hash for username change notification."])));return}a=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(b.id));b=(yield d("WAWebQueryExistsJob").queryWidUsernameExists(a));if(b!=null&&b.wasUpdated){yield q({wid:a,oldUsername:b.oldUsername,newUsername:(a=b.username)!=null?a:""})}});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.wid,f=a.oldUsername,g=a.newUsername,h=a.displayName;if(c("isStringNullOrEmpty")(f)&&c("isStringNullOrEmpty")(g)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[username][notification] Both old and new username are empty for user ",""])),e.toLogString()).sendLogs("generateUsernameChangeNotificationSystemMsg-usernames-empty");return}a=(yield d("WAWebApiChat").getChatRecordByAccountLid(e))[0];if(a!=null){a=d("WAWebWidFactory").createWid(a.id);var i=d("WAWebContactSystemMsg").genUsernameChangeSystemMsg({chatId:a,oldUsername:f,newUsername:g,wid:e,displayName:h});yield d("WAWebHandleSingleMsg").handleSingleMsg({chatId:a,newMsg:i,handleSingleMsgOrigin:"username_change_notification"})}a=d("WAWebSchemaParticipant").getParticipantTable();i=e.toString();var j=d("WAWebApiContact").getPhoneNumber(e);j=j==null?void 0:j.toString();a=(yield a.anyOf(["participants"],[i,j]));i=new Set(a.map(function(a){return a.groupId}));j=d("WAWebSchemaGroupMetadata").getGroupMetadataTable();a=Array.from(i);var k=(yield j.bulkGet(a));i=a.reduce(function(a,b,c){c=k[c];if((c==null?void 0:c.defaultSubgroup)===!0)return a;c=d("WAWebWidFactory").createWid(b);b=d("WAWebContactSystemMsg").genUsernameChangeSystemMsg({chatId:c,oldUsername:f,newUsername:g,wid:e,displayName:h});c=d("WAWebHandleSingleMsg").handleSingleMsg({chatId:c,newMsg:b,handleSingleMsgOrigin:"username_change_notification"});a.push(c);return a},[]);yield (m||(m=b("Promise"))).all(i)});return r.apply(this,arguments)}g.mexHandleUsernameChange=a;g.mexHandleUsernameDelete=e;g.mexHandleUsernameChangeForSideSub=f}),98);
__d("WAWebNewChatMessageCappingNotificationHandler",["WALogger","WAWebBackendApi","WAWebIndividualNewChatMessageCappingLimitUtils","WAWebMessageCappingWamEvent","WAWebUserPrefsIndexedDBStorage","WAWebWamEnumMessageCappingActionType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){new(d("WAWebMessageCappingWamEvent").MessageCappingWamEvent)({messageCappingActionType:d("WAWebWamEnumMessageCappingActionType").MESSAGE_CAPPING_ACTION_TYPE.API,userActionTarget:"capping_notification_received",extraAttributes:JSON.stringify({capping_info:b.xwa2_notify_new_chat_messages_capping_info_update})}).commit();a=b.xwa2_notify_new_chat_messages_capping_info_update;b=a.total_quota;var c=a.used_quota,e=a.cycle_start_timestamp,f=a.cycle_end_timestamp,g=a.capping_status,i=a.ote_status;a=a.mv_status;try{yield j(b,c,e,f,g,i,a),void d("WAWebBackendApi").frontendFireAndForget("individualNewChatMessageCappingStateChange",{})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][individual-new-chat-message-capping] handle individual new chat message capping notification failed"]))).devConsole(a).sendLogs("mex-handle-individual-new-chat-message-capping-notification-failed")}});return i.apply(this,arguments)}function j(a,b,c,d,e,f,g){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h){var i;yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set((i=d("WAWebIndividualNewChatMessageCappingLimitUtils")).NEW_CHAT_MESSAGE_CAPPING_IDB_KEY,{capping_status:i.getCappingStatusType(f),ote_status:i.getCappingOTEStatusType(g),mv_status:i.getCappingMVStatusType(h),total_quota:a,used_quota:Math.min(b,a),cycle_start_timestamp:Number(c),cycle_end_timestamp:Number(e)})});return k.apply(this,arguments)}g.mexHandleNewChatMessageCappingNotification=a;g.handleCapStatusUpdate=j}),98);
__d("WAWebHandleMexNotification",["Promise","WADeprecatedWapParser","WALogger","WAParsableWapNode","WAWap","WAWebHandleBrigadingUpdateNotification","WAWebMexCommunityOwnerUpdateNotificationHandler","WAWebMexGroupPropertyUpdateNotificationHandler","WAWebMexLidChangeNotificationHandler","WAWebMexLimitSharingUpdateHandler","WAWebMexNewsletterAdminInviteRevokeNotificationHandler","WAWebMexNewsletterAdminNotificationHandler","WAWebMexNewsletterJoinHandler","WAWebMexNewsletterLeaveHandler","WAWebMexNewsletterMetadataUpdateNotificationHandler","WAWebMexNewsletterOwnerNotificationHandler","WAWebMexNewsletterQuestionResponseBlockedNotificationHandler","WAWebMexNewsletterQuestionResponseStateChangeNotificationHandler","WAWebMexNewsletterRoleChangeNotificationHandler","WAWebMexNewsletterStateChangeHandler","WAWebMexNewsletterUserSettingChangeHandler","WAWebMexNewsletterWamoSubStatusChangeNotificationHandler","WAWebMexReachoutTimelockNotificationHandler","WAWebMexRelayEnvironment","WAWebMexTextStatusUpdateNotificationHandler","WAWebMexUsernameAccountSyncNotificationHandler","WAWebMexUsernameUpdateNotificationHandler","WAWebNewChatMessageCappingNotificationHandler","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=new Set(["NotificationLinkedProfilesUpdatesSideSub","NotificationAgeCollection","NotificationLinkedProfilesUpdates","NotificationGroupMemberLinkPropertyUpdate"]),n="mexNotificationParser",o=new(c("WADeprecatedWapParser"))(n,function(a){a.assertTag("notification");a.assertAttr("type","mex");var b=a.child("update"),c=a.attrString("id"),e=a.attrWapJid("from");a=a.maybeAttrString("offline");var f=b.attrString("op_name");b=b.contentString();var g;try{g=JSON.parse(b)}catch(a){throw new(d("WAParsableWapNode").XmppParsingFailure)(n,"JSON parsing error: "+a)}return{stanzaId:c,from:e,offline:a,OperationName:f,mexResponse:g}});function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=o.parseOrThrow(a);try{var c=(yield q(b));d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][notification] handled ",""])),b.OperationName).tags("mex").devConsole(c,b);return c}catch(b){if(b instanceof d("WAParsableWapNode").XmppParsingFailure)throw b;if(b instanceof r)if(m.has(b.operationName))d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleMexNotification: "," is not supported yet. Returning nack unrecognized stanza"])),b.operationName).tags("mex","notification");else{d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleMexNotification: "," is an unknown operation & unsupported. Returning nack unrecognized stanza"])),b.operationName).tags("mex","notification").sendLogs("mex-notification-error-"+b.operationName,{sampling:.01}).devConsole(a,b);throw b}throw new(d("WAParsableWapNode").XmppParsingFailure)(n,"unexpected error: "+String(b))}});return p.apply(this,arguments)}function q(a){switch(a.OperationName){case"MexNotificationEvent":return s(a,v);case"NotificationNewsletterUserSettingChange":return s(a,d("WAWebMexNewsletterUserSettingChangeHandler").mexHandleNewsletterUserSettingChange);case"NotificationNewsletterJoin":return s(a,d("WAWebMexNewsletterJoinHandler").mexHandleNewsletterJoin);case"NotificationNewsletterLeave":return s(a,d("WAWebMexNewsletterLeaveHandler").mexHandleNewsletterLeave);case"NotificationNewsletterStateChange":return s(a,d("WAWebMexNewsletterStateChangeHandler").mexHandleNewsletterStateChange);case"NotificationNewsletterAdminMetadataUpdate":return s(a,d("WAWebMexNewsletterAdminNotificationHandler").mexHandleNewsletterAdminNotification);case"NotificationNewsletterOwnerUpdate":return s(a,d("WAWebMexNewsletterOwnerNotificationHandler").mexHandleNewsletterOwnerNotification);case"NotificationNewsletterUpdate":return s(a,d("WAWebMexNewsletterMetadataUpdateNotificationHandler").mexHandleNewsletterMetadataUpdate);case"NotificationNewsletterAdminPromote":return s(a,d("WAWebMexNewsletterRoleChangeNotificationHandler").mexHandleNewsletterRoleChange);case"NotificationNewsletterAdminDemote":return s(a,d("WAWebMexNewsletterRoleChangeNotificationHandler").mexHandleNewsletterRoleChange);case"NotificationNewsletterAdminInviteRevoke":return s(a,d("WAWebMexNewsletterAdminInviteRevokeNotificationHandler").handleNewsletterAdminInviteRevoke);case"NotificationNewsletterWamoSubStatusChange":return s(a,d("WAWebMexNewsletterWamoSubStatusChangeNotificationHandler").mexHandleNewsletterWamoSubStatusChange);case"NewsletterResponseStateUpdate":return s(a,d("WAWebMexNewsletterQuestionResponseStateChangeNotificationHandler").mexHandleNewsletterQuestionsResponseStateChange);case"NotificationNewsletterBlockUser":return s(a,d("WAWebMexNewsletterQuestionResponseBlockedNotificationHandler").mexHandleNewsletterQuestionsResponseBlocked);case"TextStatusUpdateNotification":return s(a,d("WAWebMexTextStatusUpdateNotificationHandler").mexHandleTextStatusUpdate);case"TextStatusUpdateNotificationSideSub":return s(a,d("WAWebMexTextStatusUpdateNotificationHandler").mexHandleTextStatusUpdateSideSub);case"NotificationGroupPropertyUpdate":case"NotificationGroupHiddenPropertyUpdate":case"NotificationGroupSafetyCheckPropertyUpdate":return s(a,d("WAWebMexGroupPropertyUpdateNotificationHandler").mexHandleGroupPropertyUpdate);case"NotificationCommunityOwnerUpdate":return s(a,d("WAWebMexCommunityOwnerUpdateNotificationHandler").mexHandleCommunityOwnerUpdate);case"UsernameSetNotification":return s(a,d("WAWebMexUsernameUpdateNotificationHandler").mexHandleUsernameChange);case"UsernameDeleteNotification":return s(a,d("WAWebMexUsernameUpdateNotificationHandler").mexHandleUsernameDelete);case"UsernameUpdateNotification":return s(a,d("WAWebMexUsernameUpdateNotificationHandler").mexHandleUsernameChangeForSideSub);case"AccountSyncUsernameNotification":return s(a,d("WAWebMexUsernameAccountSyncNotificationHandler").mexHandleUsernameAccountSync);case"LidChangeNotification":return s(a,d("WAWebMexLidChangeNotificationHandler").mexHandleLidChangeNotification);case"NotificationUserBrigadingUpdate":return s(a,d("WAWebHandleBrigadingUpdateNotification").mexHandleBrigadingNotification);case"NotificationGroupLimitSharingPropertyUpdate":return s(a,d("WAWebMexLimitSharingUpdateHandler").mexHandleLimitSharingUpdate);case"NotificationUserReachoutTimelockUpdate":return s(a,d("WAWebMexReachoutTimelockNotificationHandler").mexHandleReachoutTimelockNotification);case"MessageCappingInfoNotification":return s(a,d("WAWebNewChatMessageCappingNotificationHandler").mexHandleNewChatMessageCappingNotification);default:return(l||(l=b("Promise"))).reject(new r(a.OperationName))}}var r=function(a){function b(c){var d;d=a.call(this,b.name+": "+c)||this;d.name="MissingMEXNotificationHandler";d.operationName=c;return d}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toString=function(){return b.name+": "+this.operationName};return b}(babelHelpers.wrapNativeSuper(Error));function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.mexResponse,e=d("WAWebMexRelayEnvironment").parseFatalExtensionError(c.errors);if(e!=null)throw new(d("WAParsableWapNode").XmppParsingFailure)(n,"errors list in parsed json has fatal error");if(c.data!=null){yield b(a,c.data);return u(a.stanzaId,a.from)}throw new(d("WAParsableWapNode").XmppParsingFailure)(n,"null data in parsed json")});return t.apply(this,arguments)}function u(a,b){return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a),to:b,"class":"notification",type:"mex"})}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[mex][notification] handle MexNotificationEvent"]))).tags("mex").devConsole(a.from,b)});return w.apply(this,arguments)}g.handleMexNotification=a;g.MissingMEXNotificationHandler=r}),98);
__d("WAWebNewsletterHandleLiveUpdatesNotification",["WALogger","WANullthrows","WASmaxNewslettersLiveUpdatesNotificationRPC","WAWebBackendApi","WAWebNewsletterBackendAddOnsUtils","WAWebNewsletterGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[liveUpdate] start"])));a=d("WASmaxNewslettersLiveUpdatesNotificationRPC").receiveLiveUpdatesNotificationRPC(a);var b=a.makeLiveUpdatesNotificationResponseAck;a=a.parsedRequest;try{if(!d("WAWebNewsletterGatingUtils").isNewsletterReactionEnabled())return b();var e=a.liveUpdatesMessagesNewsletterMessageResponsePayloadMixin.message,f=a.from;a=a.t;e=(yield d("WAWebNewsletterBackendAddOnsUtils").getMsgsAndAddOnsFromUpdates(e,d("WAWebWidFactory").createWid(c("WANullthrows")(f)),a));yield d("WAWebNewsletterBackendAddOnsUtils").updateAddOnDbRecords(babelHelpers["extends"]({},e,{timestamp:a}));d("WAWebBackendApi").frontendFireAndForget("updateNewsletterMessages",e);return b()}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][live-updates-notification] Failed to handle the notification"]))).tags("newsletter").devConsole(a).sendLogs("newsletter-live-updates-db");return b()}});return j.apply(this,arguments)}g.handleNewsletterLiveUpdatesNotification=a}),98);
__d("WAWebNewsletterNotificationQueue",["WAPromiseQueue"],(function(a,b,c,d,e,f,g){a=new(d("WAPromiseQueue").PromiseQueueMap)();g["default"]=a}),98);
__d("WAWebHandleNewsletterNotification",["$InternalEnum","WADeprecatedWapParser","WALogger","WAParsableWapNode","WAWebNewsletterHandleLiveUpdatesNotification","WAWebNewsletterNotificationQueue","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k=b("$InternalEnum")({LiveUpdates:"live_updates"}),l=new(c("WADeprecatedWapParser"))("incomingNewsletterNotificationParser",function(a){var b=a.mapFirstChild(function(a){return a.tag()}),e=k.cast(b),f=a.attrFromJid();if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][notification] Failed to cast ",""])),b).tags("newsletter").devConsole(a,b).sendLogs("newsletter-failed-to-cast-notification");throw c("err")("Failed to cast "+b)}if(f.type!=="newsletter"){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][notification] Unexpected from "]))).tags("newsletter").devConsole(f).sendLogs("newsletter-wrong-notification-sender-type-"+f.type);throw c("err")("Unexpected from "+f.type)}return{firstChildTag:e,from:f.newsletterJid}});function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=l.parseOrThrow(a),e=b.firstChildTag;b=b.from;return yield c("WAWebNewsletterNotificationQueue").enqueue(b,function(){switch(e){case k.LiveUpdates:return d("WAWebNewsletterHandleLiveUpdatesNotification").handleNewsletterLiveUpdatesNotification(a)}})}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][notification] Failed to parse notification"]))).tags("newsletter").devConsole(a).sendLogs("failed-to-parse-newsletter-notification");throw new(d("WAParsableWapNode").XmppParsingFailure)("incomingNewsletterNotificationParser",a instanceof Error?a.name:typeof a+" was thrown rather than an Error")}});return m.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandlePairDevice",["Promise","WABinary","WALogger","WAShiftTimer","WASmaxMdSetToCompanionRPC","WAWebAdvSignatureApi","WAWebConnModel","WAWebNetworkStatus","WAWebSocketConstants","WAWebSocketModel","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j=60*1e3,k=20*1e3,l=[],m=null;function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c;try{c=d("WASmaxMdSetToCompanionRPC").receiveSetToCompanionRPC(a)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handlePairDevice: error: ",""])),a.toString());return(i||(i=b("Promise"))).reject(a)}a=c;var e=a.parsedRequest;a=a.makeSetToCompanionResponseClientResponse;e=e.pairDeviceRef.map(function(a){a=new(d("WABinary").Binary)(a.elementValue);return a.readString(a.size())});void o(e);return a()});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebAdvSignatureApi").generateADVSecretKey(),l=a,m||(m=new(d("WAShiftTimer").ShiftTimer)(function(){if(d("WAWebUserPrefsMultiDevice").isRegistered()||!c("WAWebNetworkStatus").online)m&&m.cancel(),m=null;else if(!l||!l.length)m&&m.cancel(),m=null,d("WAWebSocketModel").Socket.state=d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE;else{var a=l.length===6?j:k,b=l.shift();d("WAWebConnModel").Conn.set({ref:b,refTTL:a});d("WAWebSocketModel").Socket.state=d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED;m&&m.onOrAfter(a)}})),m.forceRunNow()});return p.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebCompanionRegUtils",["WALogger","WAShiftTimer","WATimeUtils","WAWebAdvSignatureApi","WAWebAppTracker","WAWebCmd","WAWebLogoutReasonConstants","WAWebSocketLogoutJob","WAWebSocketModel","WAWebUserPrefsIsLoggedIn","WAWebWamDeviceLinkReporter","WAWebWamEnumMdLinkDeviceCompanionStage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k=!1,l=!1,m=1e3,n=6e4*3;function o(){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["logout due to initial history sync timeout"]))),d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.CriticalSync),void d("WAWebSocketLogoutJob").socketLogout(d("WAWebLogoutReasonConstants").LogoutReason.HistorySyncTimeout)}function a(){k=!1,l=!1}function c(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(k||l)return;yield d("WAWebWamDeviceLinkReporter").setDeviceLinkPairStage(d("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.FIRST_CONNECT);k=!0;yield d("WAWebAdvSignatureApi").clearADVSecretKey();d("WAWebUserPrefsIsLoggedIn").setIsConnectedAsRegistered(!0)});return p.apply(this,arguments)}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(k||l)return;l=!0;yield d("WAWebSocketModel").Socket.clearCredentialsAndStoredData();yield d("WAWebAdvSignatureApi").clearADVSecretKey()});return r.apply(this,arguments)}function e(){new(d("WAShiftTimer").ShiftTimer)(function(){q()}).onOrAfter(m)}var s;function f(){s==null&&(s=self.setTimeout(o,n),d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){self.clearTimeout(s)}))}function t(){var a=d("WATimeUtils").unixTimeMs();d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[history sync][reg] begin device pairing latency measurement"])));d("WAWebCmd").Cmd.on("on_critical_sync_done",function(){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[history sync][reg] main screen unblocked in ","ms"])),d("WATimeUtils").unixTimeMs()-a)})}g.resetCompanionReg=a;g.startLogin=c;g.startLogout=q;g.logoutAfterValidationFail=e;g.startInitialHistorySyncTimeout=f;g.initDevicePairingLatencyMeasurement=t}),98);
__d("WAWebHandlePairSuccess",["invariant","Promise","WABase64","WABinary","WACryptoHmac","WALogger","WANullthrows","WAQplTypes","WASmaxMdSetRegRPC","WATimeUtils","WAWebAdvSignatureApi","WAWebAltDeviceLinkingApi","WAWebAppTracker","WAWebBizAgentAction","WAWebBizCoexGatingUtils","WAWebCompanionRegUtils","WAWebConnModel","WAWebCryptoCurve25519","WAWebE2ETestPairingConstants","WAWebEnvironment","WAWebFtsClient","WAWebJidToWid","WAWebLid11MigrationLifecycleWamEvent","WAWebLid1X1MigrationGating","WAWebLocalStorage","WAWebLogoutReasonConstants","WAWebMobilePlatforms","WAWebProtobufsAdv.pb","WAWebProtobufsCompanionReg.pb","WAWebQrDeviceLinkingQpl","WAWebSignalCommonUtils","WAWebSignalStoreApi","WAWebSocketLogoutJob","WAWebSyncdSnapshotRecoveryGatingUtils","WAWebUserPrefsHistorySync","WAWebUserPrefsInfoStore","WAWebUserPrefsMeUser","WAWebUserPrefsMultiDevice","WAWebUserPrefsTypes","WAWebWamDeviceLinkReporter","WAWebWamEnumMdLinkDeviceCompanionStage","WAWebWamEnumMigrationStageEnum","WAWebWidFactory","asyncToGeneratorRuntime","cr:1064","cr:17219","decodeProtobuf","encodeProtobuf","gkx"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n=!1;function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){c("gkx")("26256")&&(c("WAWebLocalStorage")==null||c("WAWebLocalStorage").removeItem(d("WAWebE2ETestPairingConstants").PAIRING_ATTEMPT_ONGOING_KEY));if(n||d("WAWebUserPrefsMultiDevice").isRegistered())return;n=!0;var e=d("WATimeUtils").unixTimeWithoutClockSkewCorrection(),f=null;try{f=d("WASmaxMdSetRegRPC").receiveSetRegRPC(a)}catch(c){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.toString());n=!1;return(m||(m=b("Promise"))).reject(c)}a=f;f=a.parsedRequest;var g=a.makeSetRegResponseClientResponse;a=a.makeSetRegResponseError;try{d("WAWebCompanionRegUtils").resetCompanionReg();d("WAWebUserPrefsMultiDevice").setPairingTimestamp(e);d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.Registration);if(d("WAWebAltDeviceLinkingApi").getPairingType()===d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING){var l;(l=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null||l.addPoint("alt_linking_pair_success");(l=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null||l.end(d("WAQplTypes").QuickLogActionType.SUCCESS)}else d("WAWebAltDeviceLinkingApi").getPairingType()===d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE&&d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.pairStarted();l=f.pairSuccessDeviceJid;var o=f.pairSuccessDeviceIdentityElementValue,q=f.pairSuccessPlatformName,r=f.pairSuccessDeviceLid;f=f.pairSuccessClientProps;d("WAWebConnModel").Conn.blockStoreAdds=!1;d("WAWebConnModel").Conn.platform=q;yield d("WAWebMobilePlatforms").setMobilePlatform(q);d("WAWebUserPrefsMeUser").setMe(d("WAWebJidToWid").deviceJidToDeviceWid(l));r!=null&&d("WAWebUserPrefsMeUser").setMeLid(d("WAWebJidToWid").deviceJidToDeviceWid(r));f&&(yield p(f));q=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsAdv.pb").ADVSignedDeviceIdentityHMACSpec,o);r=q.details;f=q.hmac;r!=null&&f!=null||h(0,56299);o=new(d("WABinary").Binary)(r).readByteArrayView();d("WAWebBizCoexGatingUtils").smbHostedPrimaryPairingAllowed()&&(q.accountType===d("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED&&(yield d("WAWebUserPrefsMultiDevice").setIsHostedMeAccount(),o=d("WABinary").Binary.build(d("WAWebAdvSignatureApi").ADV_HOSTED_PREFIX_DEVICE_IDENTITY_ACCOUNT_SIGNATURE,c("WANullthrows")(r)).readByteArrayView()));q=(yield d("WAWebAdvSignatureApi").getADVSecretKey());q=(yield d("WACryptoHmac").hmacSha256(q,o));o=d("WABase64").encodeB64(q);q=d("WABase64").encodeB64(f);if(o!==q){d("WAWebCompanionRegUtils").logoutAfterValidationFail();n=!1;d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.pairFailed();return a()}f=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsAdv.pb").ADVSignedDeviceIdentitySpec,r);o=f.accountSignatureKey;o!=null||h(0,56344);q=f.accountSignature;q!=null||h(0,56295);r=(yield d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo());r!=null||h(0,56296);q=(yield d("WAWebWamDeviceLinkReporter").initDeviceLinkEvent(o,r.identityKeyPair.pubKey,e));yield d("WAWebWamDeviceLinkReporter").setDeviceLinkPairStage(d("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.PAIR_SUCCESS_RECEIVED);d("WAWebCompanionRegUtils").initDevicePairingLatencyMeasurement();var s=d("WAWebAdvSignatureApi").verifyDeviceIdentityAccountSignature(f,r.identityKeyPair.pubKey,null);if(!s){yield d("WAWebWamDeviceLinkReporter").commitDeviceLinkEvent(401);d("WAWebCompanionRegUtils").logoutAfterValidationFail();n=!1;d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.pairFailed();return a()}f.deviceSignature=(yield d("WAWebAdvSignatureApi").generateDeviceSignature(f,r.identityKeyPair,o));yield d("WAWebSignalStoreApi").waSignalStore.putIdentity(d("WAWebSignalCommonUtils").createSignalAddress(d("WAWebWidFactory").asUserWidOrThrow(d("WAWebJidToWid").deviceJidToDeviceWid(l))).toString(),d("WAWebSignalCommonUtils").bufferToStr(d("WAWebCryptoCurve25519").toSignalCurvePubKey(o)));yield d("WAWebAdvSignatureApi").setADVSignedIdentity(f);s=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsAdv.pb").ADVDeviceIdentitySpec,f.details);a=s.keyIndex;a!=null||h(0,56297);f.accountSignatureKey=void 0;r=d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsAdv.pb").ADVSignedDeviceIdentitySpec,f).readByteArrayView();l=g({deviceIdentityElementValue:r,deviceIdentityKeyIndex:a});if(c("WAWebEnvironment").isWindows){var t,u;o=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());s=o==null||(t=o.staticKeyPair)==null?void 0:t.privKey;f=s!=null?d("WABase64").encodeB64(s):"";yield b("cr:17219")==null||(u=b("cr:17219").getWindowsBridge())==null||(u=u.getClientKeyBridge())==null?void 0:u.setClientKey(f);yield d("WAWebFtsClient").ftsClient.initExternalStorage()}yield d("WAWebWamDeviceLinkReporter").setDeviceLinkPairStage(d("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.PAIR_DEVICE_SIGN_SENT);g=(yield d("WAWebUserPrefsHistorySync").getInitialHistorySyncComplete());g!==!0&&d("WAWebCompanionRegUtils").startInitialHistorySyncTimeout();n=!1;d("WAWebBizAgentAction").setShouldLogAgentLogin({loginTimestamp:e});d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.pairSuccess();b("cr:1064")==null||b("cr:1064").setMdSessionId(q);void (b("cr:1064")==null?void 0:b("cr:1064").trigger("post_pair_success"));return l}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["error in handlePairSuccess, ",""])),a).verbose().devConsole(a).sendLogs("error in handlePairSuccess"),d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.pairFailed(),yield d("WAWebWamDeviceLinkReporter").commitDeviceLinkEvent(-1),yield d("WAWebSocketLogoutJob").socketLogout(d("WAWebLogoutReasonConstants").LogoutReason.UnknownCompanion)}finally{d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.Registration)}});return o.apply(this,arguments)}function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsCompanionReg.pb").ClientPairingPropsSpec,a.elementValue);var b=a.isChatDbLidMigrated,c=a.isSyncdSnapshotRecoveryEnabled;a=a.isSyncdPureLidSession;b===!0&&(new(d("WAWebLid11MigrationLifecycleWamEvent").Lid11MigrationLifecycleWamEvent)({migrationStage:d("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_MIGRATED_ON_NEW_PAIRING}).commit(),yield d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.setIsLidMigrated(!0,d("WAWebUserPrefsTypes").LidMigrationSource.HISTORY,a));d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[syncd snapshot recovery] isSyncdSnapshotRecoveryEnabled: ",""])),c);yield d("WAWebSyncdSnapshotRecoveryGatingUtils").updatePrimaryDeviceSupportsSyncdRecovery(c===!0)});return q.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandlePreKeyLow",["WADeprecatedWapParser","WALogger","WAWap","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSignalStoreApi","WAWebUploadPreKeysJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j=new Set(),k=new(c("WADeprecatedWapParser"))("lowKeyParser",function(a){a.assertTag("notification");a.assertAttr("type","encrypt");a.assertFromServer();return{stanzaId:a.attrString("id"),numRemaining:a.child("count").attrInt("value")}});function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=k.parse(a);if(c.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handlePreKeyLow: error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handlePreKeyLow: Parsing Error: ",""])),c.error.toString());throw c.error}else{a=c.success;var e=d("WAWap").wap("ack",{to:d("WAWap").S_WHATSAPP_NET,id:d("WAWap").CUSTOM_STRING(a.stanzaId),"class":"notification"});if(j.has(b))return e;j.add(b);d("WAWebSignalStoreApi").waSignalStore.setServerHasPreKeys(!1);yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd();return d("WAWebUploadPreKeysJob").uploadPreKeys().then(function(){return e})["finally"](function(){return void j["delete"](b)})}});return l.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandlePresence",["Promise","WALogger","WASmaxPresenceServerUpdateRPC","WATimeUtils","WAWebApiContact","WAWebChangePresenceHandlerAction","WAWebChatCollection","WAWebJidToWid","WAWebLid1X1MigrationGating","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function l(a){if(a!=null){if(!["deny","none","error"].includes(a))return d("WATimeUtils").castToUnixTime(Number(a))}else return d("WATimeUtils").unixTime()}function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var e=d("WASmaxPresenceServerUpdateRPC").receiveServerUpdateRPC(a);e=e.parsedRequest.presenceUpdates;var f=d("WAWebJidToWid").chatJidToChatWid(e.value.from),g=f.isLid(),m=d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated();if(!m&&f.isLid()){var n=d("WAWebApiContact").getPhoneNumber(f);if(n==null)return;f=n}if(m&&!g){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[presence] Migrated client has a PN presence"])));return}n=f;if(m){g=d("WAWebChatCollection").ChatCollection.getChatByAccountLid(d("WAWebWidFactory").asUserLidOrThrow(f));if(!g)return;n=d("WAWebWidFactory").asChatWid(g.id)}m={id:n,type:e.value.type||"available",deny:e.value.last==="deny"||void 0,t:e.value.type==="unavailable"?l(e.value.last):void 0};return c("WAWebChangePresenceHandlerAction")(m)}catch(c){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.toString());return(k||(k=b("Promise"))).reject(c)}});return m.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebSetTcTokenChatAction",["WAArrayBufferUtils","WALogger","WAWebApiOrphanTcToken","WAWebChatCollection","WAWebChatGetExistingBridge","WAWebLidMigrationUtils","WAWebProfilePicPrivacyTokenGating","WAWebProfilePicThumbCollection","WAWebSchemaChat","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){if(e==null)return;if(!a.isRegularUser())return;b=b!=null?b:d("WAWebLidMigrationUtils").toLid(a);var f=b?yield d("WAWebChatCollection").ChatCollection.getChatByAccountLid(b):null;f==null&&(f=(yield d("WAWebChatGetExistingBridge").getExisting(a)));if(f==null){yield d("WAWebApiOrphanTcToken").createOrUpdateOrphanTcToken(b!=null?b:a,{tcToken:e,tcTokenTimestamp:c});return}if(f.tcToken!=null&&d("WAArrayBufferUtils").arrayBuffersEqualUNSAFE(f.tcToken,e)||f.tcTokenTimestamp!=null&&f.tcTokenTimestamp>c)return;b=!1;d("WAWebProfilePicPrivacyTokenGating").isProfilePicIQPrivacyTokenEnabled()&&f.tcToken==null&&d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(f.id)==null&&(b=!0);a={tcToken:e,tcTokenTimestamp:c};f.set(a);b&&(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[ProfilePicIqTC] fetch pp after tc token received"]))),void d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.find(f.id));yield d("WAWebSchemaChat").getChatTable().merge(f.id.toString(),a)});return i.apply(this,arguments)}g.handleIncomingTcToken=a}),98);
__d("WAWebHandlePrivacyTokensNotification",["Promise","WAByteArray","WADeprecatedWapParser","WALogger","WAWap","WAWebEnvironment","WAWebEventsWaitForOfflineDeliveryEnd","WAWebJidToWid","WAWebPresenceCollection","WAWebSetTcTokenChatAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=function(a){var b=d("WAByteArray").uint8ArrayToBuffer(a.contentBytes());return{type:"trusted_contact",content:b,ts:a.attrTime("t")}},m=new(c("WADeprecatedWapParser"))("incomingPrivacyTokensParser",function(a){a.assertTag("notification");var b=a.attrString("id"),c=a.attrUserJid("from"),e=a.maybeAttrLidUserJid("sender_lid");a=a.child("tokens");var f=[];a.forEachChildWithTag("token",function(a){var b=a.attrString("type");switch(b){case"trusted_contact":f.push(l(a));break;default:d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["incomingPrivacyTokensParser - receiving an unknown type: ",""])),b)}});return{id:b,from:c,senderLid:e,privacyTokens:f}});function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.ts,e=d("WAWebJidToWid").userJidToUserWid(a.from);a=a.senderLid!=null?d("WAWebJidToWid").lidUserJidToUserLid(a.senderLid):null;b.type==="trusted_contact"&&(yield d("WAWebSetTcTokenChatAction").handleIncomingTcToken(e,a,c,b.content),yield d("WAWebPresenceCollection").PresenceCollection.reSubscribeWhenActive(e))});return o.apply(this,arguments)}function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=m.parse(a);if(e.error){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),e.error.toString());throw e.error}var f=e.success;a=d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(f.id),"class":"notification",to:d("WAWap").JID(f.from),type:"privacy_token"});c("WAWebEnvironment").isGuest||(yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd(),yield (k||(k=b("Promise"))).all(f.privacyTokens.map(function(a){return n(f,a)})));return a});return p.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleProfilePicNotification",["Promise","WADeprecatedWapParser","WALogger","WAWap","WAWebApiContact","WAWebBackendJobsCommon","WAWebChangeProfilePicThumb","WAWebCommsWapMd","WAWebGroupSystemMsg","WAWebHandleSingleMsg","WAWebJidToWid","WAWebOrchestratorNonPersistedJob","WAWebProfilePicConstants","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=new(c("WADeprecatedWapParser"))("incomingProfilePicNotificationParser",function(a){a.assertTag("notification");var b,c;if(a.hasChild("delete"))b="delete",c=a.child("delete");else if(a.hasChild("set"))b="set",c=a.child("set");else if(a.hasChild("request"))b="request",c=a.child("request"),c.assertAttr("jid",d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());else if(a.hasChild("set_avatar"))b="set_avatar",c=a.child("set_avatar");else return a["throw"]("Unexpected profile picture notification type");var e=a.attrString("id");return c.hasAttr("jid")?{type:b,from:d("WAWebJidToWid").chatJidToChatWid(a.attrChatJid("from")),jid:d("WAWebJidToWid").chatJidToChatWid(c.attrChatJid("jid")),author:c.hasAttr("author")?d("WAWebJidToWid").userJidToUserWid(c.attrUserJid("author")):null,ts:a.attrTime("t"),rawTs:a.attrString("t"),stanzaId:e,picId:b==="set"?c.attrInt("id",1):0}:{from:d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("from")),jid:null,type:b,hash:c.attrString("hash"),ts:a.attrTime("t"),stanzaId:e}});function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=n.parse(a);if(c.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(m||(m=b("Promise"))).reject(c.error)}var e=c.success;a=(m||(m=b("Promise"))).resolve();if(e.jid||e.hash){var f;if(e.jid)f=e.jid;else{c=(yield d("WAWebApiContact").getContactRecordByHash(e.hash));c==null?d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["could not find side contact hash for profile pic update operation"]))):f=d("WAWebWidFactory").createWid(c.id)}switch(e.type){case"delete":case"set":var g=e.type==="delete"?d("WAWebProfilePicConstants").ProfilePicCommand.Remove:d("WAWebProfilePicConstants").ProfilePicCommand.Set;f&&(a=d("WAWebChangeProfilePicThumb").changeProfilePicThumb(f,g).then(function(){if(!f.isGroup())return;if(e.ts!=null){var a=d("WAWebGroupSystemMsg").genGroupPicChangeNotificationMsg(f,g,e.ts,e.author||d("WAWebUserPrefsMeUser").getMePnUserOrThrow());return d("WAWebHandleSingleMsg").handleSingleMsg({chatId:f,newMsg:a,handleSingleMsgOrigin:"profilePicNotification"})}}));break;case"request":break;case"set_avatar":d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["set_avatar picture notification is not implemented"])));break;default:d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Invalid type received"]))).devConsole(e.type)}}return a.then(function(){return d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(e.stanzaId),to:d("WAWebCommsWapMd").JID(e.from),"class":"notification",type:"picture"})})});return p.apply(this,arguments)}function a(a){var b=d("WAWebBackendJobsCommon").getNonCriticalNotificationPriority(Boolean(a.attrs.offline));return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("handleProfilePicNotification",function(a){return o(a.node)},{priority:b}).waitUntilCompleted({node:a})}g.handleProfilePicNotificationJob=a}),98);
__d("WAWebHandlePsa",["$InternalEnum","WAByteArray","WADeprecatedWapParser","WAJids","WALogger","WAWap","WAWebCommsWapMd","WAWebJidToWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k=b("$InternalEnum")({Image:"image",Video:"video",Text:"text"}),l=new(c("WADeprecatedWapParser"))("incomingCampaignParser",function(a){a.assertTag("notification");a.assertAttr("from",d("WAJids").STATUS_JID);var b=a.attrString("id"),c=d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("participant")),e=a.attrTime("t");a=a.child("campaign");var f=a.hasChild("revoke"),g=a.attrString("id"),h=a.maybeAttrInt("duration");a=a.mapChildrenWithTag("message",function(a){var b=a.child("media");b.attrEnumValues("mediatype",k.members());a={id:a.attrString("id"),ts:e,body:d("WAByteArray").uint8ArrayToBuffer(b.contentBytes())};return a});return{participant:c,stanzaId:b,campaignId:g,campaignDuration:h,revoke:f,ts:e,messages:a}});function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["PSA notification received, node: ",""])),a);var b=l.parse(a);if(b.error){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),b.error.toString());throw b.error}a=b.success;b=d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),participant:d("WAWebCommsWapMd").JID(a.participant),"class":"notification",type:"psa",to:d("WAWebCommsWapMd").JID(d("WAWebWidFactory").createWid(d("WAJids").STATUS_JID))});return b});return m.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleQPPrefetchTimestampNotification",["WASmaxPsaResetSmbLastQpPrefetchTimestampRPC","WAWebBizGatingUtils","WAWebWorkerSafeBackendApi"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxPsaResetSmbLastQpPrefetchTimestampRPC").receiveResetSmbLastQpPrefetchTimestampRPC(a);a=a.makeResetSmbLastQpPrefetchTimestampResponseAck;a=a();d("WAWebBizGatingUtils").qpGraphQLEnabled()&&d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("fetchQuickPromotionsNow");return a}g.handleQPPrefetchTimestampNotification=a}),98);
__d("WAWebParseQPSurfacesNotification",["WALogger","WASmaxQpSurfacesQPNotificationRPC","WATimeUtils","WAWebProtobufsQuickPromotionSurfaces.pb","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h,i=["qpConfigFilterRules"],j=["qpConfigFilterRules"];function a(a){a=d("WASmaxQpSurfacesQPNotificationRPC").receiveQPNotificationRPC(a);var b=a.parsedRequest;a=a.makeQPNotificationResponseAck;var c=b.surfacesQPSurfacesMixin;b=b.t;c=c.surface;c=c.map(function(a){var b=a.promotion.reduce(function(a,b){var c=b.qpConfigFilterRules;if(c==null){b.qpConfigFilterRules;var e=babelHelpers.objectWithoutPropertiesLoose(b,i);a.push(e);return a}try{e=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$FilterClauseSpec,c.elementValue);b.qpConfigFilterRules;c=babelHelpers.objectWithoutPropertiesLoose(b,j);b=babelHelpers["extends"]({},c,{qpConfigFilterRules:e});a.push(b)}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["loadQuickPromotions: Malformed filter rules node. Skipping the promotion"])))}return a},[]);return{id:a.id,promotions:b}});return{surfaces:c,ts:d("WATimeUtils").castToUnixTime(b),makeAck:a}}g.parseQPSurfacesNotification=a}),98);
__d("WAWebHandleQPSurfacesNotification",["WALogger","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebJobUpdateQPSurfaces","WAWebParseQPSurfacesNotification","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebParseQPSurfacesNotification").parseQPSurfacesNotification(a);var b=a.surfaces,c=a.makeAck;a=a.ts;c=c();if(d("WAWebBizGatingUtils").qpGraphQLEnabled()){var e=[];e=[];e=b.filter(function(a){a=d("WAWebCTWAConstants").KNOWN_QP_SURFACES.get(a.id);if(a==null)return!1;a=!d("WAWebBizGatingUtils").qpSurfaceIdsUsingGraphQL().has(a);return a})}else e=b;yield d("WAWebJobUpdateQPSurfaces").updateQPSurfacesFromNotification(e,a);return c});return i.apply(this,arguments)}function c(a,b){}g.handleQPSurfacesNotification=a}),98);
__d("WAWebHandleServerNotification",["$InternalEnum","Promise","WADeprecatedWapParser","WALogger","WAWap","WAWebAbPropsSyncJob","WAWebCrashlog"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=b("$InternalEnum")({LOG:"log",PROPS:"props",ABPROPS:"abprops"}),n=new(c("WADeprecatedWapParser"))("incomingServerNotificationParser",function(a){a.assertTag("notification");var b=a.attrString("id"),c=a.attrWapJid("from");if(a.hasChild(m.LOG))return{type:m.LOG,stanzaId:b,from:c};if(a.hasChild(m.PROPS))return{type:m.PROPS,stanzaId:b,from:c};return a.hasChild(m.ABPROPS)?{type:m.ABPROPS,stanzaId:b,from:c}:{type:null,stanzaId:b,from:c}});function o(a){var c=d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),"class":"notification",type:"server",to:a.from});if(a.type==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(['Unsupported notification with type "server",\n    blindly ack-ing it and doing nothing'])));return(l||(l=b("Promise"))).resolve(c)}switch(a.type){case m.LOG:void d("WAWebCrashlog").upload({reason:d("WAWebCrashlog").SERVER_REQUESTED,immediate:!0,isHighPri:!0});return(l||(l=b("Promise"))).resolve(c);case m.PROPS:d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Server props notification from server. No longer supported in Web"])));return(l||(l=b("Promise"))).resolve(c);case m.ABPROPS:return d("WAWebAbPropsSyncJob").syncABPropsTask(!1).then(function(){return c})}}function a(a){var c=n.parse(a);if(c.error){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(l||(l=b("Promise"))).reject(c.error)}return o(c.success)}g.handleServerNotification=a}),98);
__d("WAWebHandleServerSyncNotification",["Promise","WADeprecatedWapParser","WALogger","WASyncdConst","WAWap","WAWebHandleReportServerSyncNotification","WAWebSyncBootstrap","WAWebSyncd","WAWebSyncdCollectionUtils"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=new(c("WADeprecatedWapParser"))("serverSyncNotification",function(a){a.assertTag("notification");if(!a.hasChild("collection"))throw a.createParseError("Server sync notification does not contain any collections");var b=a.attrString("id"),c=new Map(a.mapChildrenWithTag("collection",function(a){return[a.attrString("name"),a.attrInt("version")]})),e=a.hasAttr("offline");a=a.attrString("from");a!==d("WAWap").S_WHATSAPP_NET.toString()&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(['handleServerSyncNotification: "from" is not domain jid "s.whatsapp.net"'])));return{changedCollections:c,stanzaId:b,offline:e}});function p(a){if(a.changedCollections){var e=new Map();for(var f of a.changedCollections){var g=f[0],h=f[1],l=d("WASyncdConst").CollectionName.cast(g);l!=null?e.set(l,h):d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: unknown collection name in notification: ",""])),g)}l=Array.from(e.keys());a.offline&&l.forEach(function(a){var b=d("WAWebHandleReportServerSyncNotification").offlineNotificationsCount.get(a);b!=null?d("WAWebHandleReportServerSyncNotification").offlineNotificationsCount.set(a,b+1):d("WAWebHandleReportServerSyncNotification").offlineNotificationsCount.set(a,1)});d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: incoming sync notification for collections\n    ",""])),Array.from(e.entries()).map(function(b){var a=b[0];b=b[1];return a+" v"+b}).join("\n"));c("WAWebSyncBootstrap").isSyncDCriticalDataSyncInProcess()&&(l=l.filter(function(a){return d("WAWebSyncdCollectionUtils").isCriticalCollection(a)}),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: filtered non critical collections during bootstrap. new collections: ",""])),l));void d("WAWebSyncd").markCollectionsForSync(l,e)}return(n||(n=b("Promise"))).resolve(d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(a.stanzaId),"class":"notification",type:"server_sync",to:d("WAWap").S_WHATSAPP_NET}))}function a(a){var c=o.parse(a);if(c.error){d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());return(n||(n=b("Promise"))).reject(c.error)}return p(c.success)}g.handleServerSyncNotification=a}),98);
__d("WAWebIncomingOfferNoticeVoipHandlerAction",["WALogger","WATimeUtils","WAWebCallCollection","WAWebCmd","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h,i,j=45;function a(a,b,e,f,g){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["voip:handleIncomingCallOfferNotice: callId ",""])),b);if(d("WATimeUtils").unixTime()-e>j){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip:handleIncomingCallOfferNotice: Ignoring stale offer_notice"])));return}c("WAWebCallCollection").add({id:b,isVideo:f,isGroup:g,offerTime:e,peerJid:a,isSilenced:!1},{merge:!0});d("WAWebCmd").Cmd.alertCall(d("WAWebWidFactory").asUserWidOrThrow(a),b,f,g,!1);self.setTimeout(function(){d("WAWebCmd").Cmd.cancelCall(a);var e=c("WAWebCallCollection").get(b);e&&c("WAWebCallCollection").remove(e)},j*1e3)}g["default"]=a}),98);
__d("WAWebHandleVoipOfferNotice",["Promise","WADeprecatedWapParser","WALogger","WAWap","WAWebCommsWapMd","WAWebIncomingOfferNoticeVoipHandlerAction","WAWebJidToWid"],(function(a,b,c,d,e,f,g){var h,i,j,k=new(c("WADeprecatedWapParser"))("callOfferNoticeParser",function(a){a.assertTag("call");var b=a.attrString("id"),c=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")),e=a.child("offer_notice"),f=d("WAWebJidToWid").deviceJidToDeviceWid(e.attrDeviceJid("call-creator")),g=e.attrString("call-id"),h=e.attrString("type");e=e.attrString("media");a=a.attrTime("t");return{stanzaId:b,fromWid:c,callCreator:f,callId:g,isGroup:h==="group",isVideo:e==="video",t:a}});function a(a){var e=k.parse(a);if(e.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),e.error.toString());return(j||(j=b("Promise"))).resolve("NO_ACK")}a=e.success;e=a.stanzaId;var f=a.fromWid,g=a.callCreator,l=a.callId,m=a.isGroup,n=a.isVideo;a=a.t;c("WAWebIncomingOfferNoticeVoipHandlerAction")(g,l,a,n,m);return(j||(j=b("Promise"))).resolve(d("WAWap").wap("ack",{to:d("WAWebCommsWapMd").JID(f),id:d("WAWap").CUSTOM_STRING(e),"class":"call",type:d("WAWap").CUSTOM_STRING("offer_notice")}))}g["default"]=a}),98);
__d("WAWebHandleVoipEncRekey",["Promise","WAWebHandleMsgTypes.flow","WAWebVoipStackInterface","WAWebVoipValidateAndDecryptEnc","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield (h||(h=b("Promise"))).all([d("WAWebVoipValidateAndDecryptEnc").validateAndDecryptEnc(c,a),d("WAWebVoipStackInterface").getVoipStackInterface()])),f=e[0],g=f.result;f=f.retryCount;e=e[1];switch(g){case d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS:yield e==null?void 0:e.handleIncomingSignalingMessage(c,a.peer_platform,a.peer_app_version,a.e,a.t,(e=a.is_offline)!=null?e:!1,a.peer_jid.toString());break;default:break}return{shouldRetry:g===d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY,retryCount:f}});return i.apply(this,arguments)}g.handleVoipEncRekey=a}),98);
__d("WAWebVoipHandleIncomingSignalingMessage",["Promise","WAWebBackendApi","WAWebHandleVoipEncRekey","WAWebVoipGatingUtils","WAWebVoipStackInterface","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebVoipStackInterface").getVoipStackInterface());if(c){var e=(yield d("WAWebBackendApi").frontendSendAndReceive("getTcToken",{wid:a.peer_jid}));e=e.tcToken;yield c.handleIncomingSignalingMessage(b,a.peer_platform,a.peer_app_version,a.e,a.t,(c=a.isContact)!=null?c:!1,a.peer_jid.toString(),e);return}d("WAWebBackendApi").frontendFireAndForget("handleVoipWebIncomingSignalingMessageAction",{msg:a,voipNode:b})});return i.apply(this,arguments)}function e(a,e){return d("WAWebVoipGatingUtils").isCallingEnabled()?d("WAWebHandleVoipEncRekey").handleVoipEncRekey(a,e):(h||(h=b("Promise"))).reject(c("err")("incoming enc rekey is not expected in web"))}g.handleVoipIncomingSignalingMessage=a;g.handleVoipIncomingEncRekey=e}),98);
__d("WAWebVoipSendGroupCallRekeyRetryReceiptJob",["WADeprecatedSendIq","WAWap","WAWebCommsWapMd","WAWebSignalStoreApi","WAWebVoipSignalingEnums","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e===void 0&&(e=0);var f=(yield d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo());if(!f)throw c("err")("No registration info found");a=d("WAWap").wap("receipt",{to:d("WAWebCommsWapMd").DEVICE_JID(b.peer_jid),id:d("WAWap").CUSTOM_STRING(a),type:d("WAWap").CUSTOM_STRING(d("WAWebVoipSignalingEnums").ENC_RETRY_RECEIPT_ATTRS.GROUP_CALL)},d("WAWap").wap("enc_rekey",{"call-creator":d("WAWebCommsWapMd").DEVICE_JID(b.call_creator),"call-id":d("WAWap").CUSTOM_STRING(b.call_id),count:d("WAWap").INT(e+1)}),d("WAWap").wap("registration",null,d("WAWap").BIG_ENDIAN_CONTENT(f.registrationId)));d("WADeprecatedSendIq").deprecatedCastStanza(a)});return h.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleVoipCall",["Promise","WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WATimeUtils","WAWap","WAWebCommsWapMd","WAWebEnvironment","WAWebHandleVoipOfferNotice","WAWebJidToWid","WAWebUserPrefsMeUser","WAWebVoipBackendLoadable","WAWebVoipGatingUtils","WAWebVoipHandleIncomingSignalingMessage","WAWebVoipLidUtils","WAWebVoipSendGroupCallRekeyRetryReceiptJob","WAWebVoipSignalingEnums","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function m(a){return d("WAWebVoipSignalingEnums").TYPE[a.tag().toUpperCase()]||d("WAWebVoipSignalingEnums").TYPE.NONE}var n=new(c("WADeprecatedWapParser"))("callParser",function(a){a.assertTag("call");var b=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")),e=a.mapFirstChild(function(a){return a});if(e){var f,g=e.attrString("call-id"),h=d("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("call-creator")),i=e.hasAttr("group-jid")?d("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("group-jid")):null,j=e.hasAttr("caller_pn")?d("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("caller_pn")):null,k=e.maybeAttrString("username"),l=e.maybeAttrString("caller_country_code"),n=e.maybeAttrString("notify");f=(f=e.maybeChild("group_info"))==null?void 0:f.mapChildren(function(a){return{jid:d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("jid")),user_pn:a.hasAttr("user_pn")?d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("user_pn")):null,username:a.maybeAttrString("username")}});b={call_id:g,call_creator:h,caller_pn:j,peer_jid:b,peer_platform:a.hasAttr("platform")?a.attrString("platform"):"",peer_app_version:a.hasAttr("version")?a.attrString("version"):"0",is_offline:a.hasAttr("offline"),type:m(e),common:{call_id:g,peer_jid:b.toString(),type:String(m(e))},group_jid:i,caller_username:k,caller_country_code:l,caller_push_name:n,isVideoCall:e.hasChild("video"),silence_reason:(g=(j=e.maybeChild("silence"))==null?void 0:j.maybeAttrString("reason"))!=null?g:void 0,t:a.hasAttr("t")?a.attrTime("t"):d("WATimeUtils").castToUnixTime(0),e:a.hasAttr("e")?d("WATimeUtils").castUnixTimeToMillisTime(a.attrTime("e")):d("WATimeUtils").castToMillisTime(0),group_info_updates:f};return{from:d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")),stanzaId:a.attrString("id"),payloadTag:e.tag(),message:b,callCreator:h,voipNode:e}}throw c("err")("Unrecognized call stanza")});function o(a){var b=n.parse(a);if(b.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),b.error.toString());return null}return b.success}function p(a,b,c,d,e,f){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i){var m=a.call_id,n=a.call_creator;switch(a.type){case d("WAWebVoipSignalingEnums").TYPE.OFFER:s(e,f,m,n,a.type);if(d("WAWebVoipGatingUtils").isCallingEnabled()){var o=(yield d("WAWebVoipBackendLoadable").requireVoipJsBackend());yield o.WAWebHandleVoipCallOffer.handleVoipCallOffer(a,g)}else yield d("WAWebVoipHandleIncomingSignalingMessage").handleVoipIncomingSignalingMessage(a,g);return"NO_ACK";case d("WAWebVoipSignalingEnums").TYPE.ENC_REKEY:try{o=(yield d("WAWebVoipHandleIncomingSignalingMessage").handleVoipIncomingEncRekey(a,g));var p=o.shouldRetry;o=o.retryCount;p?yield c("WAWebVoipSendGroupCallRekeyRetryReceiptJob")(f,a,o):s(e,f,m,n,d("WAWebVoipSignalingEnums").TYPE.ENC_REKEY)}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleVoipIncomingEncRekey: ",""])),a).devConsole(a)}return"NO_ACK";case d("WAWebVoipSignalingEnums").TYPE.ACCEPT:case d("WAWebVoipSignalingEnums").TYPE.REJECT:s(e,f,m,n,a.type);yield d("WAWebVoipHandleIncomingSignalingMessage").handleVoipIncomingSignalingMessage(a,g);return"NO_ACK";case d("WAWebVoipSignalingEnums").TYPE.OFFER_NOTICE:if(c("WAWebEnvironment").isWindows){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["handleVoipIncomingSignalingMessage: offer notice not supported on windows"])));return(l||(l=b("Promise"))).resolve("NO_ACK")}return c("WAWebHandleVoipOfferNotice")(i);default:yield d("WAWebVoipHandleIncomingSignalingMessage").handleVoipIncomingSignalingMessage(a,g);return t(e,f,h)}});return q.apply(this,arguments)}function a(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=o(a);if(c==null)return(l||(l=b("Promise"))).resolve("NO_ACK");var e=c.from,f=c.message,g=c.payloadTag,h=c.stanzaId;c=c.voipNode;yield d("WAWebVoipLidUtils").persistAttributesAndLidMappingsForCall(f);return p(f,e,h,c,g,a)});return r.apply(this,arguments)}function s(a,b,c,e,f){var g;switch(f){case d("WAWebVoipSignalingEnums").TYPE.OFFER:g=d("WAWap").wap("offer",{"call-id":d("WAWap").CUSTOM_STRING(c),"call-creator":d("WAWebCommsWapMd").JID(e)});break;case d("WAWebVoipSignalingEnums").TYPE.ENC_REKEY:g=d("WAWap").wap("enc_rekey",{"call-id":d("WAWap").CUSTOM_STRING(c),"call-creator":d("WAWebCommsWapMd").JID(e)});break;case d("WAWebVoipSignalingEnums").TYPE.ACCEPT:g=d("WAWap").wap("accept",{"call-id":d("WAWap").CUSTOM_STRING(c),"call-creator":d("WAWebCommsWapMd").JID(e)});break;case d("WAWebVoipSignalingEnums").TYPE.REJECT:g=d("WAWap").wap("reject",{"call-id":d("WAWap").CUSTOM_STRING(c),"call-creator":d("WAWebCommsWapMd").JID(e)});break}d("WADeprecatedSendIq").deprecatedCastStanza(d("WAWap").wap("receipt",{to:d("WAWebCommsWapMd").JID(a),id:d("WAWap").CUSTOM_STRING(b),from:a.isLid()?d("WAWebCommsWapMd").JID(d("WAWebUserPrefsMeUser").getMeDeviceLidOrThrow()):d("WAWebCommsWapMd").JID(d("WAWebUserPrefsMeUser").getMePnUserOrThrow())},g))}function t(a,b,c){return d("WAWap").wap("ack",{to:d("WAWebCommsWapMd").JID(a),id:d("WAWap").CUSTOM_STRING(b),"class":"call",type:d("WAWap").MAYBE_CUSTOM_STRING(c)})}g.handleCall=a}),98);
__d("WAWebHandleWaChat",["Promise","WAByteArray","WADeprecatedWapParser","WAJids","WALogger","WAWap","WAWebBackendJobs.flow","WAWebCommsWapMd","WAWebDBMessageDelete","WAWebHandleMsgProcess","WAWebHandleMsgTypes.flow","WAWebMsgCollection","WAWebMsgKey","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=new(c("WADeprecatedWapParser"))("incomingWAChatNotificationParser",function(a){a.assertTag("notification");a.assertAttr("from",d("WAJids").PSA_JID);var b=a.attrString("id"),e=a.attrTime("t");if(a.hasChild("messages")){var f=a.child("messages"),g=f.attrString("campaign_id");f=f.mapChildrenWithTag("message",function(a){var b=a.attrString("id");if(a.hasAttr("type")){var c=a.attrString("type");c=c==="text"?a:a.child("media")}else c=a;a={id:b,body:d("WAByteArray").uint8ArrayToBuffer(c.contentBytes())};return a});return{type:"messages",stanzaId:b,ts:e,campaignId:g,messages:f}}g=a.child("revoke");g.attrString("campaign_id");f=g.mapChildrenWithTag("message",function(a){a=new(c("WAWebMsgKey"))({fromMe:!1,remote:d("WAWebWidFactory").createWid(d("WAJids").PSA_JID),id:a.attrString("id")});return a.toString()});return{type:"revoke",stanzaId:b,ts:e,revokeMessageIds:f}});function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.campaignId;a=a.ts;var e=b.id;b=b.body;var f=d("WAWebWidFactory").createWid(d("WAJids").PSA_JID);e={type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS,externalId:e,ts:a,edit:-1,isHsm:!1,count:null,chat:f,author:f,pushname:null,isDirect:!1,campaignId:c};a={retryCount:0,e2eType:d("WAWebBackendJobs.flow").CiphertextType.Msg,encMediaType:d("WAWebBackendJobs.flow").EncMediaType.Image,hideFail:!1};f={nativeFlowName:null,verifiedNameSerial:null,verifiedLevel:null,verifiedNameCert:null,privacyMode:null,campaignId:null,verifiedHsmEnvelope:!0};yield d("WAWebHandleMsgProcess").processDecryptedMessageProto({decrypted:b,info:e,e2eInfo:a,bizInfo:f,hsmInfo:null,isPadded:!1})});return n.apply(this,arguments)}function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WA Chat notification received, node: ",""])),a);var c=l.parse(a);if(c.error){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),c.error.toString());throw c.error}var e=c.success;a=d("WAWap").wap("ack",{id:d("WAWap").CUSTOM_STRING(e.stanzaId),"class":"notification",type:"psa",to:d("WAWebCommsWapMd").JID(d("WAWebWidFactory").createWid(d("WAJids").PSA_JID))});switch(e.type){case"revoke":c=e.revokeMessageIds;c.length>0&&(yield d("WAWebDBMessageDelete").removeMessagesFromHistory(c),c.forEach(function(a){a=d("WAWebMsgCollection").MsgCollection.get(a);a&&a["delete"]()}));break;default:e.type;yield (k||(k=b("Promise"))).all(e.messages.map(function(a){return m(e,a)}));break}return a});return o.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebPaymentNotificationHandler",["WALogger","WANullthrows","WAWap","WAWebCommonMsgSubtypeTypes","WAWebDBMsgUtils","WAWebDBProcessMessage","WAWebHandleSingleMsg","WAWebLidMigrationUtils","WAWebMsgCollection","WAWebMsgKey","WAWebMsgModel","WAWebMsgType","WAWebPaymentNotificationParser","WAWebPaymentStatusUtils","WAWebSchemaOrphanPaymentNotification","WAWebStateUtils","WAWebUserPrefsMeUser","WAWebViewMode.flow","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebPaymentNotificationParser").paymentNotificationParser.parse(a);if(a.error!=null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handlePaymentNotification: failed: ",""])),a.error);throw a.error}var b=a.success,c=b.transaction;b=b.invite;b!=null?yield n(b):c!=null&&(yield l(c));return w(a.success)});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("WANullthrows")(a.msgKey),e=d("WAWebLidMigrationUtils").getAlternateMsgKey(b),f=x(b,e);f=f?d("WAWebStateUtils").unproxy(f):yield y(b,e);if(!f){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handlePaymentTransactionNotification: no msg found for id: ",""])),b);e=babelHelpers["extends"]({},a,{msgKey:b.toString()});yield d("WAWebSchemaOrphanPaymentNotification").getTable().createOrReplace(e);return}yield p(f,a)});return m.apply(this,arguments)}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.type!=="account-set-up")return;a=(yield u(a.from,a.timestamp));yield d("WAWebHandleSingleMsg").handleSingleMsg({chatId:a.from,newMsg:a,handleSingleMsgOrigin:"handlePaymentInviteNotification"})});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[];r(a,b);c.push(a.id.toString());b=[a instanceof d("WAWebMsgModel").Msg?a.toJSON():a];if(a.paymentRequestMessageKey!=null){var e=a.paymentRequestMessageKey,f=d("WAWebLidMigrationUtils").getAlternateMsgKey(e),g=x(e,f);g=g?d("WAWebStateUtils").unproxy(g):yield y(e,f);g&&(g.paymentStatus=a.paymentStatus,g.paymentTxnStatus=d("WAWebPaymentStatusUtils").determinePaymentRequestFulfilledStatus(a.paymentTxnStatus),b.push(g instanceof d("WAWebMsgModel").Msg?g.toJSON():g))}d("WAWebSchemaOrphanPaymentNotification").getTable().bulkRemove(c)["catch"](function(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["getOrphanPaymentNotificationTable.bulkRemove: failed for: ",", error: ",""])),c,a)});yield d("WAWebDBProcessMessage").updateExistingMessages(b)});return q.apply(this,arguments)}function r(a,b){b&&(b.status!=null&&(a.paymentStatus=d("WAWebPaymentStatusUtils").getPaymentWebStatus(b.status,b.type),a.paymentTxnStatus=d("WAWebPaymentStatusUtils").getPaymentTxnWebStatus(b.status)),a.paymentCurrency=b.currency||"",a.paymentAmount1000=c("WANullthrows")(b.amount1000),a.paymentMessageReceiverJid=b.receiver,a.paymentTransactionTimestamp=c("WANullthrows")(b.ts))}function e(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.map(function(a){return a.id.toString()});b=(yield d("WAWebSchemaOrphanPaymentNotification").getTable().bulkGet(b));var e=new Map();a.forEach(function(a){e.set(a.id.toString(),a)});b.forEach(function(a){if(a){var b=e.get(a.msgKey);if(!b)return;void p(b,{receiver:a.receiver,currency:a.currency,amount1000:a.amount1000,type:a.type,status:a.status,ts:a.ts,msgKey:c("WAWebMsgKey").fromString(a.msgKey)})}})});return s.apply(this,arguments)}function f(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaOrphanPaymentNotification").getTable().all()),b=new Map(),e=[];a.forEach(function(a){var f=a.msgKey,g=d("WAWebMsgCollection").MsgCollection.get(f);if(g==null){var h=d("WAWebLidMigrationUtils").getAlternateMsgKey(c("WAWebMsgKey").fromString(f));h!=null&&(f=h.toString(),g=d("WAWebMsgCollection").MsgCollection.get(h))}g?void p(g,{receiver:a.receiver,currency:a.currency,amount1000:a.amount1000,type:a.type,status:a.status,ts:a.ts,msgKey:c("WAWebMsgKey").fromString(f)}):(b.set(f,a),e.push(f))});if(e.length>0){a=(yield d("WAWebDBMsgUtils").getMsgsByMsgKey(e,function(a){var e=b.get(a.id.toString());e&&(a.paymentTxnStatus=d("WAWebPaymentStatusUtils").getPaymentTxnWebStatus(e.status),a.paymentCurrency=e.currency||"",a.paymentAmount1000=c("WANullthrows")(e.amount1000),a.paymentMessageReceiverJid=e.receiver,a.paymentTransactionTimestamp=c("WANullthrows")(e.ts))}));return d("WAWebDBProcessMessage").updateExistingMessages(a)}});return t.apply(this,arguments)}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return{id:new(c("WAWebMsgKey"))({remote:a,fromMe:!1,id:yield c("WAWebMsgKey").newId()}),type:d("WAWebMsgType").MSG_TYPE.NOTIFICATION_TEMPLATE,kind:d("WAWebMsgType").MsgKind.NotificationTemplate,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,subtype:d("WAWebCommonMsgSubtypeTypes").MsgSubtype.PaymentInviteAccountSetUp,from:a,to:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),recipients:[],t:b,templateParams:[a]}});return v.apply(this,arguments)}function w(a){var b=a.stanzaId;a=a.from;return d("WAWap").wap("ack",{"class":"notification",type:"pay",id:d("WAWap").CUSTOM_STRING(b),to:a})}function x(a,b){return(a=d("WAWebMsgCollection").MsgCollection.get(a))!=null?a:b!=null?d("WAWebMsgCollection").MsgCollection.get(b):null}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WAWebDBMsgUtils").getMsgByMsgKey(a));a==null&&b!=null&&(a=(yield d("WAWebDBMsgUtils").getMsgByMsgKey(b)));return a});return z.apply(this,arguments)}g.handlePaymentNotification=a;g.processOrphanPaymentNotifications=e;g.processAllOrphanPaymentNotifications=f;g.getMessageFromCollection=x;g.getMessageFromDb=y}),98);
__d("WAWebCommsHandleStanza",["WABackendHandleError","WACreateHandleChatState","WAHandleDecisionTreeResult","WAJids","WALogger","WAParsableWapNode","WAWap","WAWebABProps","WAWebAccountLinkingNotificationHandler","WAWebAltDeviceLinkingHandleNotification","WAWebBizGatingUtils","WAWebCommsHandleWorkerCompatibleStanza","WAWebCreateNackFromStanza","WAWebHandleAboutNotification","WAWebHandleAccountSyncNotification","WAWebHandleBusinessNotification","WAWebHandleChatState","WAWebHandleCompanionReqRefreshNotification","WAWebHandleContactNotification","WAWebHandleDeviceNotification","WAWebHandleDeviceSwitchingNotification","WAWebHandleDigestKey","WAWebHandleDisappearingModeNotification","WAWebHandleFailure","WAWebHandleGrowthNotification","WAWebHandleHostedNotification","WAWebHandleInfoBulletin","WAWebHandleMediaRetryNotification","WAWebHandleMessageRetryRequest","WAWebHandleMexNotification","WAWebHandleNewsletterNotification","WAWebHandlePairDevice","WAWebHandlePairSuccess","WAWebHandlePreKeyLow","WAWebHandlePresence","WAWebHandlePrivacyTokensNotification","WAWebHandleProfilePicNotification","WAWebHandlePsa","WAWebHandleQPPrefetchTimestampNotification","WAWebHandleQPSurfacesNotification","WAWebHandleServerNotification","WAWebHandleServerSyncNotification","WAWebHandleStreamError","WAWebHandleSuccess","WAWebHandleVoipCall","WAWebHandleWaChat","WAWebOfflineHandler","WAWebPaymentNotificationHandler","WAWebPostUnknownStanzaMetric","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p=d("WACreateHandleChatState").createHandleChatState({groupMessage:{handleGroupChatState:d("WAWebHandleChatState").handleGroupChatState},individualMessage:{handleIndividualChatState:d("WAWebHandleChatState").handleIndividualChatState}});function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=a.attrs;if(f.offline){var g=parseInt(f.t,10),h=parseInt(f.offline,10);d("WAWebOfflineHandler").OfflineMessageHandler.newOfflineStanza(g,e,h)}g=d("WAWebCommsHandleWorkerCompatibleStanza").handleWorkerCompatibleStanza(a);if(g!=null)return g;switch(a.tag){case"iq":return t(a);case"receipt":try{if(f.type==="retry"||f.type==="enc_rekey_retry")return yield d("WAWebHandleMessageRetryRequest").handleMessageRetryRequest(a);d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unhandled receipt stanza: type: '","', id: '","'"])),f.type,f.id);break}catch(b){if(b instanceof d("WAParsableWapNode").XmppParsingFailure){d("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(a);d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse receipt "," stanza: ",""])),f.type,b).sendLogs("failed-to-parse-receipt-stanza",{sampling:c("gkx")("26259")?1:.1});return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.ParsingError)}return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnhandledError)}case"notification":try{switch(f.type){case"server_sync":return yield d("WAWebHandleServerSyncNotification").handleServerSyncNotification(a);case"picture":return yield d("WAWebHandleProfilePicNotification").handleProfilePicNotificationJob(a);case"business":return yield d("WAWebHandleBusinessNotification").handleBusinessNotificationJob(a);case"contacts":e=a.content;if(!Array.isArray(e)||!e.length)break;h=e[0].tag;if(h==="invite")break;return yield c("WAWebHandleContactNotification")(a);case"devices":return yield d("WAWebHandleDeviceNotification").handleDevicesNotification(a);case"disappearing_mode":return yield d("WAWebHandleDisappearingModeNotification").handleDisappearingModeNotificationJob(a);case"mediaretry":g=(yield c("WAWebHandleMediaRetryNotification")(a));return g;case"encrypt":e=a.content;if(!Array.isArray(e)||!e.length)break;h=e[0].tag;switch(h){case"count":return yield c("WAWebHandlePreKeyLow")(a,b);case"digest":return yield c("WAWebHandleDigestKey")(a)}break;case"server":return yield d("WAWebHandleServerNotification").handleServerNotification(a);case"status":return yield d("WAWebHandleAboutNotification").handleAboutNotification(a);case"account_sync":return yield d("WAWebHandleAccountSyncNotification").handleAccountSyncNotification(a);case"pay":return yield d("WAWebPaymentNotificationHandler").handlePaymentNotification(a);case"psa":if(f.from!=null&&f.from.toString()===d("WAJids").PSA_JID){g=a.content;if(!Array.isArray(g)||!g.length)break;e=g[0].tag;if(e==="surfaces")return yield d("WAWebHandleQPSurfacesNotification").handleQPSurfacesNotification(a);if(e==="reset_smb_last_qp_prefetch_timestamp")return d("WAWebHandleQPPrefetchTimestampNotification").handleQPPrefetchTimestampNotification(a);if(d("WAWebABProps").getABPropConfigValue("enable_client_chat_psa"))return yield c("WAWebHandleWaChat")(a);break}return yield c("WAWebHandlePsa")(a);case"privacy_token":return yield c("WAWebHandlePrivacyTokensNotification")(a);case"link_code_companion_reg":return yield d("WAWebAltDeviceLinkingHandleNotification").handleAltDeviceLinkingNotification(a);case"newsletter":return yield c("WAWebHandleNewsletterNotification")(a);case"w:growth":return yield c("WAWebHandleGrowthNotification")(a);case"registration":return yield c("WAWebHandleDeviceSwitchingNotification")(a);case"mex":return yield d("WAWebHandleMexNotification").handleMexNotification(a);case"companion_reg_refresh":return yield d("WAWebHandleCompanionReqRefreshNotification").handleCompanionReqRefreshNotification(a);case"waffle":return yield d("WAWebAccountLinkingNotificationHandler").handleAccountLinkingNotification(a);case"hosted":if(d("WAWebBizGatingUtils").isCTWADetectedOutcomeWS3Enabled())return yield d("WAWebHandleHostedNotification").handleHostedNotification(a);break}}catch(c){if(c instanceof d("WAParsableWapNode").XmppParsingFailure){d("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(a);g=(b=(h=f.type)==null?void 0:h.toString())!=null?b:"[empty]";d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse notification "," stanza: ",""])),g,c).sendLogs("failed-to-parse-notification-stanza-"+g,{sampling:.01});return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.ParsingError)}return c instanceof d("WAWebHandleMexNotification").MissingMEXNotificationHandler?u(a):d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnhandledError)}return u(a);case"chatstate":return d("WAHandleDecisionTreeResult").handleDecisionTreeResult(a,p(a));case"presence":return c("WAWebHandlePresence")(a);case"ib":return c("WAWebHandleInfoBulletin")(a);case"stream:error":return c("WAWebHandleStreamError")(a);case"failure":return c("WAWebHandleFailure")(a);case"success":return c("WAWebHandleSuccess")(a);case"call":return d("WAWebHandleVoipCall").handleCall(a);case"error":return d("WABackendHandleError").handleError(a);case"xmlstreamend":d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Comms.handleStanza received xmlstreamend, return NO_ACK"])));return"NO_ACK"}d("WALogger").DEV_XMPP(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Comms.handleStanza unrecognized stanza ",""])),a);return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnrecognizedStanza)});return r.apply(this,arguments)}function a(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c===void 0&&(c=0);try{b=(yield q(a,b,c));if(b!=null)return b}catch(e){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[handleStanza] exception for tag:"," type:"," id:",""])),a.tag,(c=a.attrs)==null?void 0:c.type,(b=a.attrs)==null?void 0:b.id);d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[handleStanza] ",""])),e.stack).sendLogs("handle-stanza")}return"NO_ACK"});return s.apply(this,arguments)}function t(a){var b=a.attrs,e=a.content;if(b.xmlns==="urn:xmpp:ping")return d("WAWap").wap("iq",{type:"result",to:b.from});else if(b.xmlns==="md"){if(!Array.isArray(e)||!e.length)return;b=e[0].tag;switch(b){case"pair-device":return c("WAWebHandlePairDevice")(a);case"pair-success":return c("WAWebHandlePairSuccess")(a)}}else throw c("err")("handleIq unrecognized "+a.toString())}function u(a){d("WALogger").DEV_XMPP(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Comms.handleStanza unrecognized stanza ",""])),a);return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnrecognizedStanza)}g["default"]=a}),98);
__d("WAWebHandleStreamError",["Promise","WAComms","WADeprecatedWapParser","WALogger","WAWebCmd","WAWebCompanionRegUtils","WAWebJestE2ELogUtils","WAWebSocketModel","WAWebStartBackend","WAWebUserPrefsTabMutex","WAWebWamDeviceLinkReporter","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p=new(c("WADeprecatedWapParser"))("streamErrorParser",function(a){a.assertTag("stream:error");if(a.hasChild("conflict")){var b=a.child("conflict");b=b.attrString("type");switch(b){case"replaced":return{type:"replaced"};case"device_removed":default:return{type:"device_removed"}}}else if(a.hasAttr("code"))return{type:"code",code:a.attrInt("code")};else if(a.hasChild("ack"))return{type:"ack",id:a.child("ack").hasAttr("id")?a.child("ack").attrString("id"):null};else if(a.hasChild("xml-not-well-formed"))return{type:"xml-not-well-formed"};else{d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Unrecognized stream:error: ",""])),a.toString());return{type:"other"}}});function a(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=p.parse(a);if(e.error){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),e.error.toString());return(o||(o=b("Promise"))).reject(e.error)}e=e.success;if(e.type==="code"&&e.code>=500&&e.code<600){if(e.code===515){d("WAComms").stopComms();yield d("WAWebCompanionRegUtils").startLogin();void d("WAWebStartBackend").startBackend();return(o||(o=b("Promise"))).resolve("NO_ACK")}else if(e.code===516){d("WAComms").stopComms();yield d("WAWebWamDeviceLinkReporter").commitDeviceLinkEvent(516);yield d("WAWebCompanionRegUtils").startLogout();void d("WAWebStartBackend").startBackend();return(o||(o=b("Promise"))).resolve("NO_ACK")}d("WAComms").onStreamErrorReceived()}else if(e.type==="device_removed"){d("WAWebCmd").Cmd.onStartingLogout();d("WAComms").stopComms();yield d("WAWebSocketModel").Socket.clearCredentialsAndStoredData();d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["stream error due to device removed, logging out"])));d("WAWebJestE2ELogUtils").maybeLogToJestE2eJSConsole("stream error due to device removed, logging out");d("WAWebCmd").Cmd.logout();return(o||(o=b("Promise"))).resolve("NO_ACK")}else if(e.type==="replaced"){d("WAWebUserPrefsTabMutex").currentTabHasMutex()&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["handleStreamError: session replaced while we have a mutex, closing the socket"]))).sendLogs("invalid-session-replacement",{sampling:.01});d("WAComms").stopComms();return(o||(o=b("Promise"))).resolve("NO_ACK")}else e.type==="xml-not-well-formed"&&(c("gkx")("26258")?d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleStreamError: sent xml not well formed, closing the socket"]))):d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["handleStreamError: sent xml not well formed, closing the socket:"]))).devConsole(a.toString()).sendLogs("sent-xml-not-well-formed"));return(o||(o=b("Promise"))).resolve("CLOSE_SOCKET")});return q.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHandleSuccess",["Promise","WACustomError","WADeprecatedWapParser","WALogger","WAPromiseTimeout","WAWebABPropsLocalStorage","WAWebAbPropsSyncJob","WAWebCmd","WAWebCollectionHandlerActions","WAWebCryptoEncKeyHelper","WAWebDbEncryptionKey","WAWebMediaHosts","WAWebPageLoadLogging","WAWebPassiveModeManager","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSyncdGetActionHandler","WAWebUpdateClockSkewUtils","WAWebUpdateMeLidUtils","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","cr:17219","justknobx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=(e=b("cr:17219"))==null?void 0:e.getWindowsBridge(),m=new(c("WADeprecatedWapParser"))("successParser",function(a){a.assertTag("success");return{ts:a.attrTime("t"),propsVersion:a.attrInt("props"),companionEncStatic:a.maybeAttrString("companion_enc_static")||"NULL",lid:a.maybeAttrString("lid"),displayName:a.maybeAttrString("display_name"),abpropsRefreshId:a.maybeAttrInt("abprops")}});function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e;d("WAWebPageLoadLogging").addPageLoadQplPoint("success_received");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"SuccessReceived");a=m.parse(a);if(a.error){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleSuccess: failed to parse ",""])),a.error);return(k||(k=b("Promise"))).reject(a.error)}a=a.success;d("WAWebUpdateClockSkewUtils").updateClockSkew(a.ts);d("WAWebUpdateMeLidUtils").updateMeLid(a.lid!=null?d("WAWebWidFactory").createWid(a.lid):null);a.displayName!=null&&d("WAWebUserPrefsMeUser").setMeDisplayName(a.displayName);d("WAWebSyncdGetActionHandler").setActionHandlers(d("WAWebCollectionHandlerActions").ActionHandlers);d("WAWebCmd").Cmd.onTemporaryBan({banned:!1});d("WAWebPassiveModeManager").PassiveTaskManager.executePassiveTasks();void d("WAWebUserPrefsGeneral").setOfflinePushDisabled(!1);var f=a.companionEncStatic;void d("WAWebDbEncryptionKey").DbEncKeyStore.generateFinalDbEncryptionAndFtsKey(f);void d("WAWebCryptoEncKeyHelper").generateFinalDbEncryptionAndFtsKeyForInvoker(f);void (l==null||(e=l.contacts)==null?void 0:e.initialize());a=(f=a.abpropsRefreshId)!=null?f:0;f=d("WAWebABPropsLocalStorage").getRefreshId();var g=c("justknobx")._("2086"),i=d("WAWebABPropsLocalStorage").getWebRefreshId();if(f<a||i<g){i<g&&d("WAWebABPropsLocalStorage").setWebRefreshId(g);f=d("WAWebABPropsLocalStorage").isABPropsAfterFirstSync();f&&(yield d("WAWebAbPropsSyncJob").syncABPropsTask())}yield o(1e3)});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("WAPromiseTimeout").promiseTimeout(d("WAWebMediaHosts").mediaHosts.forceRefresh(new AbortController().signal),a)}catch(a){a instanceof d("WACustomError").TimeoutError?d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["fetching mms4 hosts on startup exceeded timeout"]))).sendLogs("mms4-fetch-host-timeout",{sampling:0}):d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["fetching mms4 hosts on startup failed: ",""])),a).sendLogs("mms4-fetch-host-failed")}});return p.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebExternalBetaApi",["Promise","WAComms","WALogger","WAWebAbPropsSyncJob","WAWebBackendApi","WAWebStartBackend","WAWebUserPrefsGeneral","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb());c!==a&&(yield (j||(j=b("Promise"))).all([d("WAWebUserPrefsGeneral").setWhatsAppWebExternalBetaDirtyBitIdb(!0),d("WAWebUserPrefsGeneral").setWhatsAppWebExternalBetaJoinedIdb(a)]),yield l(),d("WAWebBackendApi").frontendFireAndForget("changeOptInStatusForExternalWebBeta",{}))});return k.apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WAWebExternalBetaApi: Restarting backend"]))),d("WAComms").stopComms(),yield d("WAWebStartBackend").startWebComms(),yield d("WAComms").startHandlingRequests(),(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaDirtyBitIdb())&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebExternalBetaApi: Syncing AB Props after changing Web Beta opt-in status"]))),yield d("WAWebAbPropsSyncJob").syncABPropsTask(),yield d("WAWebUserPrefsGeneral").setWhatsAppWebExternalBetaDirtyBitIdb(!1))});return m.apply(this,arguments)}g.changeOptInStatusForExternalWebBeta=a}),98);
__d("WAWebExternalWebBetaSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebExternalBetaApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 3};e.getAction=function(){return d("WASyncdConst").Actions.ExternalWebBeta};e.applyMutations=function(a){if(d("WAWebABProps").getABPropConfigValue("external_beta_can_join")!==!0){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: action not enabled"])));return(m||(m=b("Promise"))).resolve(a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}))}return(m||(m=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.value;a=a.externalWebBetaAction;if(!a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["beta setting sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(a.isOptIn!==void 0)yield d("WAWebExternalBetaApi").changeOptInStatusForExternalWebBeta(a.isOptIn);else{d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["beta setting sync: malformed mutation value"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set web external beta opt in to ",""])),a.isOptIn);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["external beta opt in sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebContactSync",["Promise","WAJids","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebApiContact","WAWebContactCollection","WAWebContactShortName","WAWebContactsDbLidMigrationUtils","WAWebCurrentUser","WAWebDBCreateLidPnMappings","WAWebDeleteStatusAction","WAWebLidAwareContactsDB","WAWebLidMigrationUtils","WAWebSyncContactsJob","WAWebSyncdActionUtils","WAWebSyncdDbCallbacksApi","WAWebSyncdIndexUtils","WAWebSyncdOrphan","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 2};f.getAction=function(){return d("WASyncdConst").Actions.Contact};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0&&(f=!1);var g=[],t=[],u=[];e=d("WAWebUsernameGatingUtils").usernameContactSyncdEnabled();a=(yield (v||(v=b("Promise"))).all(a.map(function(a){try{var b=a.indexParts;b=b[1];b||d("WAWebSyncdIndexUtils").throwInvalidActionIndex();var c=d("WAWebWidFactory").createUserWid(b);if(a.operation==="set"){var e=a.value.contactAction;if(!e){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["contact sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(c.isLid()){d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: received lid contact: ",""])),c.toString());d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: contact sync: lid contact is not supported"]))).sendLogs("receive-lid-contact");return{actionState:d("WASyncdConst").SyncActionState.Skipped}}var f=e.firstName,l=e.fullName,m=e.saveOnPrimaryAddressbook;e=e.lidJid;f={id:b,name:l!=null?l:"",shortName:(b=f!=null?f:d("WAWebContactShortName").getShortName(l))!=null?b:"",type:"in",syncToAddressbook:m,isAddressBookContact:1,isContactSyncCompleted:0};if(c.isRegularUserPn()&&e!=null){l=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(e,"lid"));u.push({lid:l,pn:d("WAWebWidFactory").asUserWidOrThrow(c)})}g.push(f);d("WAWebContactCollection").ContactCollection.add(babelHelpers["extends"]({},f,{id:c}),{merge:!0});d("WAWebSyncContactsJob").syncNewContact(c);return{actionState:d("WASyncdConst").SyncActionState.Success}}if(a.operation==="remove"){if(c.isLid()||c.isBot())return{actionState:d("WASyncdConst").SyncActionState.Skipped};t.push(c);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["contact sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}})));d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["syncd: handler after loop"])));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["syncd: before pn job"])));yield d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:u,flushImmediately:!0,learningSource:"other"});yield d("WAWebApiContact").createOrMergeAddressBookContacts(g);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["syncd: handler after save"])));f===!0&&(yield d("WAWebSyncdDbCallbacksApi").writeSyncdLog(d("WASyncdConst").CollectionName.CriticalUnblockLow,"handler after save"));d("WAWebSyncdOrphan").checkOrphanUserStatusMutes(g.map(function(a){return a.id}))["catch"](function(){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[syncd][contact sync] Failed to check orphan user status mutes"]))).sendLogs("failed-to-check-orphan-user-status-mutes")});var w=[];if(e){e=t.map(function(a){var b=d("WAWebLidMigrationUtils").toLid(a);b||d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[syncd] contact sync mutation jid has no LID mapping"]))).sendLogs("contact-sync-jid-has-no-lid-mapping",{sampling:.01});return b?b.toString():a.toJid()});e=(yield c("WAWebLidAwareContactsDB").bulkGet(e));e.forEach(function(a,b){a&&!d("WAWebContactsDbLidMigrationUtils").isUsernameContactDB(a)&&w.push(t[b])})}else w=t;w.forEach(function(a){a=d("WAWebContactCollection").ContactCollection.get(a);a&&a.setNotMyContact()});if(w.length>0){e=w.map(function(a){return a.isLid()?d("WAJids").toLidUserJid(a.user):d("WAJids").toPhoneUserJid(a.user)});yield d("WAWebApiContact").setNotAddressBookContacts(e);d("WAWebDeleteStatusAction").clearStatusForRemovedContact()["catch"](function(){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[syncd][contact sync] Failed to clear status for removed contacts"]))).sendLogs("failed-to-clear-status-for-removed-contacts")})}d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["syncd: handler done"])));f===!0&&(yield d("WAWebSyncdDbCallbacksApi").writeSyncdLog(d("WASyncdConst").CollectionName.CriticalUnblockLow,"handler done"));d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["syncd: added "," contacts, removed "," contacts"])),g.length,w.length);return a});function e(b,c,d){return a.apply(this,arguments)}return e}();f.getContactSyncMutation=function(a,b,c,e,f,g){g===void 0&&(g=!1);a.isLid()&&(d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["syncd: sending lid contact: ",""])),a.toString()),d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["syncd: contact sync: should not send Lid contact"]))).sendLogs("send-lid-contact"));var h=d("WATimeUtils").unixTimeMs();b={contactAction:{fullName:b!=null?b:void 0,firstName:c!=null?c:void 0,lidJid:f?f.toString():void 0,saveOnPrimaryAddressbook:e!=null?e:void 0}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.CriticalUnblockLow,indexArgs:[a.toString({legacy:!0})],operation:g?d("WAServerSync.pb").SyncdMutation$SyncdOperation.REMOVE:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,version:this.getVersion(),value:b,timestamp:h,action:this.getAction()})};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebDetectedOutcomesStatusSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 1};e.getAction=function(){return d("WASyncdConst").Actions.DetectedOutcomeStatus};e.applyMutations=function(a){return(l||(l=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.value;a=a.detectedOutcomesStatusAction;if((a==null?void 0:a.isEnabled)==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["detected outcome status sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}yield d("WAWebBackendApi").frontendSendAndReceive("ctwaDetectedOutcomeOnboardingStatusUpdate",{onboardingStatus:a.isEnabled});d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set detected outcome status to ",""])),a.isEnabled);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["detected outcome status sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["detected outcome status sync: failed to set detected outcome status"])));return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebDeviceCapabilitiesSync",["Promise","WALogger","WAServerSync.pb","WASyncAction.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebABProps","WAWebCmd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebLid11MigrationLifecycleWamEvent","WAWebLid1X1MigrationGating","WAWebLid1x1MigrationTimeout","WAWebMessageQueue","WAWebSyncdActionUtils","WAWebSyncdCoreApi","WAWebSyncdDb","WAWebUserPrefsMeUser","WAWebWamEnumMigrationStageEnum","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h,i,j=!1;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.DeviceCapabilities};e.getJidIndex=function(){return d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toString({legacy:!0})};e.capabilitiesHaveChanged=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSyncdDb").getSyncActionsRows(["index"],[a.index]));b=b.reduce(function(a,b){if(b.actionState===d("WASyncdConst").SyncActionState.Success){a=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,b.binarySyncData);b=a.value;if(b!=null&&b.deviceCapabilities)return b.deviceCapabilities}},{});a=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionValueSpec,a.binarySyncAction);a=a.deviceCapabilities;return{hasChanged:JSON.stringify(b)!==JSON.stringify(a),currentCapabilities:b,newCapabilities:a}});function c(b){return a.apply(this,arguments)}return c}();e.checkLidTimeout=function(){if(j)return;d("WAWebCmd").Cmd.on(d("WAWebCmd").APP_STATE_SYNC_COMPLETED,function(a){a.some(function(a){return a.name===d("WASyncdConst").CollectionName.RegularLow})&&d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()&&void d("WAWebMessageQueue").waitForOnlineMessageQueue().then(function(){void d("WAWebLid1x1MigrationTimeout").scheduleLogoutIfNeeded("syncd")})});j=!0};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){void this.checkLidTimeout();return a.map(function(a){a.operation==="set"&&((a=a.value)==null||(a=a.deviceCapabilities)==null||(a=a.lidMigration)==null?void 0:a.chatDbMigrationTimestamp)!=null&&!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&new(d("WAWebLid11MigrationLifecycleWamEvent").Lid11MigrationLifecycleWamEvent)({migrationStage:d("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_RECEIVED_DEVICE_CAPABILITY}).commit();return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();e.getMutation=function(a,b){return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[this.getJidIndex()],value:{deviceCapabilities:babelHelpers["extends"]({},b)},version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:a,action:this.getAction()})};e.sendMutation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebABProps").getABPropConfigValue("device_capabilities_sync_enabled"))return;a=this.getMutation(d("WATimeUtils").unixTimeMs(),a);var c=(yield this.capabilitiesHaveChanged(a));if(!c.hasChanged){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["DeviceCapabilitiesSync: not syncing capabilities due to no change"]))).devConsole(c);return}yield d("WAWebSyncdCoreApi").lockForSync([],[a],function(){return(i||(i=b("Promise"))).resolve()})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebDisableLinkPreviewsSync",["Promise","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebDisableLinkPreviewsAction","WAWebSyncdActionUtils","WAWebSyncdCoreApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 8};e.getAction=function(){return d("WASyncdConst").Actions.DisableLinkPreviews};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["DisableLinkPreviewsSync: operation not supported: ",""])),a.operation);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=(a=a.value.privacySettingDisableLinkPreviewsAction)==null?void 0:a.isPreviewsDisabled;if(a==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["DisableLinkPreviewsSync: mutation value is null"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b=a;return{actionState:d("WASyncdConst").SyncActionState.Success}});b!=null&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["DisableLinkPreviewsSync: updating prefs: isPreviewsDisabled: ",""])),b),d("WAWebDisableLinkPreviewsAction").setDisableLinkPreviewsToUserPrefs(b));return a});function c(b){return a.apply(this,arguments)}return c}();e.getMutation=function(a,b){return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.Regular,indexArgs:[],value:{privacySettingDisableLinkPreviewsAction:{isPreviewsDisabled:b}},version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:a,action:this.getAction()})};e.sendMutation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebSyncdCoreApi").lockForSync([],[this.getMutation(d("WATimeUtils").unixTimeMs(),a)],function(){return(k||(k=b("Promise"))).resolve()})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebDisableLinkPreviewsAction",["WAWebDisableLinkPreviewsSync","WAWebUserPrefsGeneral"],(function(a,b,c,d,e,f,g){"use strict";function h(a){d("WAWebUserPrefsGeneral").setUserPrivacySettings(babelHelpers["extends"]({},d("WAWebUserPrefsGeneral").getUserPrivacySettings(),{disableLinkPreviews:a}))}function a(a){h(a);return c("WAWebDisableLinkPreviewsSync").sendMutation(a)}g.setDisableLinkPreviewsToUserPrefs=h;g.setDisableLinkPreviews=a}),98);
__d("WAWebLabelJidSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebApiContact","WAWebBizGatingUtils","WAWebBizLabelUtils","WAWebCTWAConstants","WAWebContactSystemMsg","WAWebDBLabelAssociationDatabaseApi","WAWebHandleSingleMsg","WAWebLid1X1MigrationGating","WAWebListItemParentType","WAWebMsgType","WAWebSchemaChat","WAWebSchemaLabel","WAWebSchemaLabelAssociation","WAWebSyncdGetChat","WAWebSyncdIndexUtils","WAWebSyncdUtils","WAWebUserPrefsGeneral","WAWebWamEnumMdSyncdCriticalEventCode","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=2,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return d("WASyncdConst").LABEL_ASSOCIATION_SYNC_VERSION};f.getAction=function(){return d("WASyncdConst").Actions.LabelJid};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=new Set(),f=[],g=[];a=(yield (j||(j=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){var b=a.indexParts;a=a.value;var j=b[1];b=b[2];(!j||!b)&&d("WAWebSyncdIndexUtils").throwInvalidActionIndex();a=(a=a.labelAssociationAction)==null?void 0:a.labeled;if(a==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["label jid sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(!c("WAWebWid").isWid(b)){d("WAWebSyncdUtils").uploadCriticalEventMetric(d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.ACTION_INVALID_INDEX_DATA);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b=d("WAWebWidFactory").createWid(b);var k=(yield d("WAWebSyncdGetChat").resolveChatForMutationIndex(b));if(k.success===!0)b=d("WAWebWidFactory").createWid(k.chat.id);else{k.success;if(d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&b.isLid()){k=d("WAWebApiContact").getPhoneNumber(b);k!=null&&(b=k)}}k=b.toString();var l={labelId:j,associationId:k,type:d("WAWebSchemaLabelAssociation").LabelAssociationType.Jid};if(a){a=e.has(k);if(!a){var m=(yield d("WAWebSchemaChat").getChatTable().get(k,!1));m&&(e.add(k),a=!0)}f.push(l);d("WAWebBizLabelUtils").addToLabelCollection(k,[j],a||!b.isUser()?d("WAWebListItemParentType").LabelItemParentType.Chat:d("WAWebListItemParentType").LabelItemParentType.Contact);m=(yield d("WAWebSchemaLabel").getLabelTable().get(j));a=m==null?void 0:m.predefinedId;if(d("WAWebUserPrefsGeneral").getDetectedOutcomeOnboardingStatus()&&(a===d("WAWebCTWAConstants").DETECTED_OUTCOME_NEW_ORDER_PREDEFINED_ID||a===d("WAWebCTWAConstants").DETECTED_OUTCOME_LEAD_PREDEFINED_ID)&&d("WAWebBizGatingUtils").isCTWADetectedOutcomeWS2Enabled()){m=d("WAWebContactSystemMsg").genNotificationMsg(b,{type:"notification_template",kind:d("WAWebMsgType").MsgKind.NotificationTemplate,subtype:"biz_automatically_labeled_chat_system_message",templateParams:[a.toString()]});yield d("WAWebHandleSingleMsg").handleSingleMsg({chatId:b,newMsg:m,handleSingleMsgOrigin:"detectedOutcomeNotification",preserveOrder:!1})}}else g.push(d("WAWebSchemaLabelAssociation").createLabelAssociationPrimaryKey(l)),d("WAWebBizLabelUtils").removeLabelFromCollection(k,j,d("WAWebListItemParentType").LabelItemParentType.Chat);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["label jid sync: unsupported operation"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}())));yield d("WAWebDBLabelAssociationDatabaseApi").removeLabelAssociations(g);yield d("WAWebDBLabelAssociationDatabaseApi").addOrEditLabelAssociations(f);return a});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebLabelMessageSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebBizLabelUtils","WAWebDBLabelAssociationDatabaseApi","WAWebListItemParentType","WAWebSchemaLabelAssociation","WAWebSchemaMessage","WAWebSyncdIndexUtils","WAWebSyncdUtils","WAWebWamEnumMdSyncdCriticalEventCode","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Set();yield d("WAWebSchemaMessage").getMessageTable().bulkGet(a.map(function(a){a=a.indexParts;var b=a[2],e=a[3],f=a[4];a=a[5];if(!b||!e||!f||!a)return null;return!c("WAWebWid").isWid(b)?null:(b=d("WAWebSyncdIndexUtils").syncKeyToMsgKey(b,e,f,a))==null?void 0:b.toString()}).filter(Boolean)).then(function(a){return a.forEach(function(a){a&&b.add(a.id)})});return b});return l.apply(this,arguments)}a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=2,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return d("WASyncdConst").LABEL_ASSOCIATION_SYNC_VERSION};e.getAction=function(){return d("WASyncdConst").Actions.LabelMessage};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=[],e=[],f=(yield k(a));a=(yield (j||(j=b("Promise"))).all(a.map(function(a){try{if(a.operation==="set"){var b=a.indexParts;a=a.value;var g=b[1],j=b[2],k=b[3],l=b[4];b=b[5];(!g||!j||!k||!l||!b)&&d("WAWebSyncdIndexUtils").throwInvalidActionIndex();a=(a=a.labelAssociationAction)==null?void 0:a.labeled;if(a==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["label message sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}j=d("WAWebSyncdIndexUtils").syncKeyToMsgKey(j,k,l,b);if(!j){d("WAWebSyncdUtils").uploadCriticalEventMetric(d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.ACTION_INVALID_INDEX_DATA);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(!f.has(j.toString()))return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:j.toString(),modelType:d("WASyncdConst").SyncModelType.Msg}};k={labelId:g,associationId:j.toString(),type:d("WAWebSchemaLabelAssociation").LabelAssociationType.Message};a?(c.push(k),d("WAWebBizLabelUtils").addToLabelCollection(j.toString(),[g],d("WAWebListItemParentType").LabelItemParentType.Msg)):(e.push(d("WAWebSchemaLabelAssociation").createLabelAssociationPrimaryKey(k)),d("WAWebBizLabelUtils").removeLabelFromCollection(j.toString(),g,d("WAWebListItemParentType").LabelItemParentType.Msg));return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["label message sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}})));yield d("WAWebDBLabelAssociationDatabaseApi").removeLabelAssociations(e);yield d("WAWebDBLabelAssociationDatabaseApi").addOrEditLabelAssociations(c);return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebDBLabelsReorder",["Promise","WALogger","WAWebModelStorageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebModelStorageUtils").getStorage().lock(["label"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=c[0],f=a.reduce(function(a,b,c){a.set(b,c);return a},new Map([]));try{c=a.map(function(a){return String(a)});c=(yield e.bulkGet(c));var g=[];c.forEach(function(a){if(a==null)return;var b=f.get(Number(a.id));b!=null&&g.push(e.merge(a.id,{orderIndex:b}))});return(i||(i=b("Promise"))).all(g)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Label] updateLabelsSortOrder: updating storage failed"]))).devConsole(a).tags("labels").sendLogs("labels-db-update-failed");throw a}});return function(a){return c.apply(this,arguments)}}())});return j.apply(this,arguments)}g.updateLabelsSortOrder=a}),98);
__d("WAWebLabelReorderingSync",["Promise","WALogger","WAPromiseEach","WASyncdAction","WASyncdConst","WAWebBackendApi","WAWebBizGatingUtils","WAWebDBLabelsReorder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 3};e.getAction=function(){return d("WASyncdConst").Actions.LabelReordering};e.applyMutations=function(a){return!d("WAWebBizGatingUtils").isLabelReorderingSyncFromPrimaryEnabled()?(l||(l=b("Promise"))).resolve([{actionState:d("WASyncdConst").SyncActionState.Skipped}]):d("WAPromiseEach").promiseEach(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.value;a=a==null?void 0:a.labelReorderingAction;if(a==null||a.sortedLabelIds==null||Array.isArray(a.sortedLabelIds)===!1||a.sortedLabelIds.length===0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}yield d("WAWebDBLabelsReorder").updateLabelsSortOrder(a.sortedLabelIds);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: operation successful"])));d("WAWebBackendApi").frontendFireAndForget("reorderLabels",{sortedLabelIds:a.sortedLabelIds});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: operation failed"]))).verbose().devConsole(a);return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}())};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebLidContactSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebApiContact","WAWebContactCollection","WAWebContactShortName","WAWebSetUsernameJob","WAWebSyncContactsJob","WAWebSyncdIndexUtils","WAWebSyncdOrphan","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 1};f.getAction=function(){return d("WASyncdConst").Actions.LidContact};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0;e=d("WAWebUsernameGatingUtils").usernameContactSyncdEnabled();var g=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),p=[],q=[];if(!e)return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}});f=(yield (o||(o=b("Promise"))).all(a.map(function(a){try{var b=a.indexParts;b=b[1];c("isStringNullOrEmpty")(b)&&d("WAWebSyncdIndexUtils").throwInvalidActionIndex();var e=d("WAWebWidFactory").createUserWid(b);if(!e.isLid()){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[syncd] lid contact sync received a non-lid jid"]))).sendLogs("lid-contact-sync-received-non-lid-jid",{sampling:.1});return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(a.operation==="set"){a=a.value.lidContactAction;if(!a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[syncd] lid contact sync mutation has no syncd action value"]))).sendLogs("lid-contact-sync-mutation-has-no-syncd-action-value",{sampling:.1});return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var f=a.firstName,m=a.fullName,n=a.username;a=a.saveOnPrimaryAddressbook;m={id:b,name:m!=null?m:"",shortName:(b=f!=null?f:d("WAWebContactShortName").getShortName(f))!=null?b:"",username:n,phoneNumber:void 0,type:"in",syncToAddressbook:a,isAddressBookContact:1,isContactSyncCompleted:0};g&&!c("isStringNullOrEmpty")(n)?q.push({userId:d("WAWebWidFactory").asUserLidOrThrow(e),username:n}):d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[syncd] lid contact sync - username not undefined"]))).sendLogs("lid-contact-sync-username-not-defined");p.push(m);d("WAWebContactCollection").ContactCollection.add(babelHelpers["extends"]({},m,{id:e}),{merge:!0});d("WAWebSyncContactsJob").syncNewContact(e);d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[syncd] lid contact sync - operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["contact sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}})));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[syncd] lid sync mutations processed"])));yield d("WAWebApiContact").createOrMergeAddressBookContacts(p);d("WAWebSyncdOrphan").checkOrphanUserStatusMutes(p.map(function(a){return a.id}))["catch"](function(){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[syncd][contact sync] Failed to check orphan user status mutes"]))).sendLogs("failed-to-check-orphan-user-status-mutes",{sampling:.1})});g&&q.length>0&&(yield d("WAWebSetUsernameJob").setUsernamesJob(q));return f});function e(b,c,d){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebLocaleSettingSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebEnvironment","WAWebL10N","WAWebL10NConstants","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 3};f.getAction=function(){return d("WASyncdConst").Actions.LocaleSetting};f.applyMutations=function(a){return(k||(k=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(c("WAWebEnvironment").isWindows)return{actionState:d("WASyncdConst").SyncActionState.Skipped};if(a.operation==="set"){a=a.value;a=a.localeSetting;if(!a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["locale setting sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var b=a.locale;yield c("WAWebL10N").setLocale(b,d("WAWebL10NConstants").L10N_PRIORITY.PHONE,!1);d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set locale to ",""])),a.locale);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["locale setting sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebUserPrefsMerchantPaymentPartner",["WASyncAction.pb","WAWebUserPrefsCustomPaymentMethods","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsTypes"],(function(a,b,c,d,e,f,g){function h(){var a=c("WAWebUserPrefsLocalStorage")==null?void 0:c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.MERCHANT_PAYMENT_PARTNER);return a}function a(){var a=h();return i(a)&&a?a:null}function i(a){if(!a)return!1;var b=a.status,c=a.country,e=a.credential_id;a=a.gateway_name;if(b===d("WAWebUserPrefsTypes").PaymentPartnerStatusType.ACTIVE)return d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(c)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(e)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(a);else if(b===d("WAWebUserPrefsTypes").PaymentPartnerStatusType.INACTIVE)return d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(c)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(e,!0)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(a,!0);return!1}function b(a){var b=a.status===d("WASyncAction.pb").SyncActionValue$MerchantPaymentPartnerAction$Status.ACTIVE?d("WAWebUserPrefsTypes").PaymentPartnerStatusType.ACTIVE:d("WAWebUserPrefsTypes").PaymentPartnerStatusType.INACTIVE;b={status:b,country:a.country,gateway_name:a.gatewayName,credential_id:a.credentialId};c("WAWebUserPrefsLocalStorage").setItemToLocalStorage(d("WAWebUserPrefsKeys").KEYS.MERCHANT_PAYMENT_PARTNER,b)}function e(){var a=h();return i(a)}f={getPaymentPartner:a,isPaymentPartnerValid:e,setMerchantPaymentPartner:b};g["default"]=f}),98);
__d("WAWebMerchantPaymentPartnerSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebMobilePlatforms","WAWebUserPrefsMerchantPaymentPartner","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.MerchantPaymentPartner};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebMobilePlatforms").isSMB()!==!0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: operation not supported, app is not SMB"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}if(d("WAWebABProps").getABPropConfigValue("payments_br_merchant_psp_account_status_sync")!==!0){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: operation not supported, user does not pass ABProp"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=a.value.merchantPaymentPartnerAction;if(a==null){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync:malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}c("WAWebUserPrefsMerchantPaymentPartner").setMerchantPaymentPartner(a);d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: successfully synced payment methods"])));return{actionState:d("WASyncdConst").SyncActionState.Success}})});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();Object.freeze(e);f=e;g["default"]=f}),98);
__d("WAWebNoteModel",["WAWebBaseModel"],(function(a,b,c,d,e,f,g){a=function(a){function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.id=d("WAWebBaseModel").prop(),b.type=d("WAWebBaseModel").prop(),b.chatJid=d("WAWebBaseModel").prop(),b.content=d("WAWebBaseModel").prop(),b.createdAt=d("WAWebBaseModel").prop(),b.modifiedAt=d("WAWebBaseModel").prop(),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.initialize=function(){a.prototype.initialize.call(this)};return b}(d("WAWebBaseModel").BaseModel);a.Proxy="note";b=d("WAWebBaseModel").defineModel(a);g.Note=b}),98);
__d("WAWebNoteCollection",["WAWebBaseCollection","WAWebNoteModel"],(function(a,b,c,d,e,f,g){a=function(a){function b(){var b;b=a.call(this)||this;b.queriedChatJids=new Set();return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.maybeGetNoteByChatJid=function(a){var b=this.findFirst(function(b){return b.chatJid===a});return b!=null?b:null};c.hasCachedQueryForChatJid=function(a){return this.queriedChatJids.has(a)};c.updateCollectionFromDB=function(a,b){this.queriedChatJids.add(a);if(b==null)return;this.add(new(d("WAWebNoteModel").Note)(b),{merge:!0})};c.purgeNotesByChatJid=function(a){var b=this.where({chatJid:a});this.remove(b);this.queriedChatJids["delete"](a)};return b}(d("WAWebBaseCollection").BaseCollection);a.model=d("WAWebNoteModel").Note;b=new a();g.NoteCollection=b}),98);
__d("WAWebNotesUtils",["WACryptoSha256","WAWebABProps","WAWebBizGatingUtils","WAWebFrontendMsgGetters","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=d("WAWebABProps").getABPropConfigValue("smb_notes_content_max_limit");function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WACryptoSha256").sha256Str(a)});return h.apply(this,arguments)}function i(a){return a!=null&&a.isUser()&&!a.isPSA()&&!a.isOfficialBizAccount()&&!a.isIAS()&&!a.isSupportAccount()&&!a.isCAPISupportAccount()&&!a.isBot()&&d("WAWebBizGatingUtils").smbNotesV1Enabled()}function c(a){if(a==null)return!1;var b=d("WAWebFrontendMsgGetters").getText(a);if(b==null||b.trim()==="")return!1;b=d("WAWebFrontendMsgGetters").getChat(a);return b==null?!1:i(b.id)}g.MAX_NOTE_LENGTH=e;g.generateNoteId=a;g.shouldEnableNotesForWid=i;g.shouldEnableNotesForMsg=c}),98);
__d("WAWebNoteSync",["Promise","WAJids","WALogger","WALongInt","WAServerSync.pb","WASyncAction.pb","WASyncdAction","WASyncdConst","WAWebNoteAction","WAWebNoteCollection","WAWebNotesUtils","WAWebSchemaNote","WAWebSyncdActionUtils","WAWebSyncdGetChat","WAWebSyncdIndexUtils","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.NoteEdit};e.applyMutations=function(a){var c=this;return(p||(p=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["note sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}try{var b=a.indexParts,e=a.value;b=b[1];b||d("WAWebSyncdIndexUtils").throwInvalidActionIndex();e=e.noteEditAction;if(!e){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["note sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(e.deleted===!0){yield d("WAWebSchemaNote").getNoteTable().remove(b);d("WAWebNoteCollection").NoteCollection.remove(b);return{actionState:d("WASyncdConst").SyncActionState.Success}}var f=e.type,g=e.chatJid,p=e.createdAt;e=e.unstructuredContent;if(f==null){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["noteEditAction.type is empty"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(g==null){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["noteEditAction.chatJid is empty"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var q=d("WAJids").validateChatJid(g);if(q==null){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["noteEditAction.chatJid is not a valid chatJid"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}p==null&&d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["noteEditAction.createdAt is empty"])));var r=d("WALongInt").maybeNumber(p);p!=null&&r==null&&d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["noteEditAction.createdAt is a non-safe integer"])));e==null&&d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["noteEditAction.unstructuredContent is empty"])));p=(yield d("WAWebSyncdGetChat").resolveChatForMutationIndex(d("WAWebWidFactory").createWid(g)));if(!p.success)return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:p.orphanModel};g=d("WAWebWidToJid").widToChatJid(d("WAWebWidFactory").createWid(p.chat.id));p=(yield c.resolveNoteId(q,g,b));q={id:p,type:f===d("WASyncAction.pb").SyncActionValue$NoteEditAction$NoteType.UNSTRUCTURED?"unstructured":"structured",chatJid:g,content:e!=null?e:"",modifiedAt:Math.floor(a.timestamp/1e3),createdAt:Math.floor((r!=null?r:0)/1e3)};yield d("WAWebNoteAction").upsertFromSyncd(q);return{actionState:d("WASyncdConst").SyncActionState.Success}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};e.resolveNoteId=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){return b===a?c:d("WAWebNotesUtils").generateNoteId(b)});function c(b,c,d){return a.apply(this,arguments)}return c}();e.getNoteMutation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSyncdGetChat").getChatJidMutationIndexForChat(d("WAWebWidFactory").createWid(a.chatJid)));b=d("WAWebWidToJid").widToChatJid(d("WAWebWidFactory").createWid(b));var c=(yield this.resolveNoteId(a.chatJid,b,String(a.id)));b={noteEditAction:{type:a.type==="unstructured"?d("WASyncAction.pb").SyncActionValue$NoteEditAction$NoteType.UNSTRUCTURED:d("WASyncAction.pb").SyncActionValue$NoteEditAction$NoteType.STRUCTURED,chatJid:b,unstructuredContent:a.content,createdAt:a.createdAt*1e3}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[c],value:b,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:a.modifiedAt*1e3,action:this.getAction()})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebDBNoteDatabaseApi",["WALogger","WAWebSchemaNote","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebSchemaNote").getNoteTable().createOrReplace(a)});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebSchemaNote").getNoteTable().equals(["chatJid"],a);return a});return k.apply(this,arguments)}function c(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j(a));b.length>1&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[getOnlyNoteByChatJid] Found more than one note for chatJid ","."])),a).devConsole(b);return b.length>0?b[0]:null});return l.apply(this,arguments)}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebSchemaNote").getNoteTable().bulkCreateOrMerge(a)});return m.apply(this,arguments)}g.addOrEditNote=a;g.getNotesByChatJid=j;g.getOnlyNoteByChatJid=c;g.bulkUpdateNotes=e}),98);
__d("WAWebGetOnlyNoteByChatJidJob",["WAJobOrchestratorTypes","WAWebDBNoteDatabaseApi","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=a.chatJid;return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getOnlyNoteByChatJid",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebDBNoteDatabaseApi").getOnlyNoteByChatJid(c)}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()});return h.apply(this,arguments)}g.getOnlyNoteByChatJidJob=a}),98);
__d("WAWebNoteAction",["invariant","WALogger","WATimeUtils","WAWebBaseModel","WAWebBizGatingUtils","WAWebDBNoteDatabaseApi","WAWebGetOnlyNoteByChatJidJob","WAWebNoteCollection","WAWebNoteModel","WAWebNoteSync","WAWebNotesUtils","WAWebSchemaNote","WAWebSyncdCoreApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){var i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebNoteCollection").NoteCollection.hasCachedQueryForChatJid(a)){var b=(yield d("WAWebGetOnlyNoteByChatJidJob").getOnlyNoteByChatJidJob({chatJid:a}));d("WAWebNoteCollection").NoteCollection.updateCollectionFromDB(a,b)}return d("WAWebNoteCollection").NoteCollection.maybeGetNoteByChatJid(a)});return j.apply(this,arguments)}function e(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield o({actionType:"add",noteType:a,chatJid:b,content:c},!0)});return k.apply(this,arguments)}function f(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){yield o({actionType:"edit",id:a,noteType:b,chatJid:c,content:d,createdAt:e},!0)});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield o({actionType:"syncdUpsert",id:d("WAWebBaseModel").idTypeToString(a.id),noteType:a.type,chatJid:a.chatJid,content:a.content,createdAt:a.createdAt,modifiedAt:a.modifiedAt},!1)});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f;d("WAWebBizGatingUtils").smbNotesV1Enabled()||h(0,79042);var g=d("WATimeUtils").unixTime(),j=a.id;j==null&&(j=(yield d("WAWebNotesUtils").generateNoteId(a.chatJid)));var k={id:j,type:a.noteType,chatJid:a.chatJid,content:a.content,createdAt:(f=a.createdAt)!=null?f:g,modifiedAt:(f=a.modifiedAt)!=null?f:g};if(e){a=(yield c("WAWebNoteSync").getNoteMutation(k));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[Notes] addOrEditNoteAction: id "," mutation generated"])),j).devConsole(a);yield d("WAWebSyncdCoreApi").lockForSync(["note"],[a],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebDBNoteDatabaseApi").addOrEditNote(k)}))}else yield d("WAWebDBNoteDatabaseApi").addOrEditNote(k);d("WAWebNoteCollection").NoteCollection.add(babelHelpers["extends"]({},k),{merge:!0})});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebDBNoteDatabaseApi").getNotesByChatJid(b));c.length>0&&(yield d("WAWebSchemaNote").getNoteTable().bulkRemove(c.map(function(a){return a.id})),d("WAWebNoteCollection").NoteCollection.purgeNotesByChatJid(b));c=(yield d("WAWebDBNoteDatabaseApi").getNotesByChatJid(a));if(c.length===0)return;c=c.map(function(a){return babelHelpers["extends"]({},a,{chatJid:b})});var e=c.map(function(a){return new(d("WAWebNoteModel").Note)(a)});d("WAWebNoteCollection").NoteCollection.purgeNotesByChatJid(a);d("WAWebNoteCollection").NoteCollection.add(e,{merge:!0});return d("WAWebDBNoteDatabaseApi").bulkUpdateNotes(c)});return r.apply(this,arguments)}g.retrieveOnlyNoteForChatJid=a;g.noteAddAction=e;g.noteEditAction=f;g.upsertFromSyncd=m;g.addOrEditNoteAction=o;g.updateNoteJidAction=q}),98);
__d("WAWebPaymentInfoSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebBackendApi","WAWebMobilePlatforms","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.PaymentInfo};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebMobilePlatforms").isSMB()!==!0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: operation not supported, app is not SMB"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}if(d("WAWebABProps").getABPropConfigValue("order_details_payment_instructions_sync_enabled")!==!0){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: operation not supported, user does not pass ABProp"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=(a=a.value.paymentInfoAction)==null?void 0:a.cpi;if(typeof a!=="string"){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["cpi payment info sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WAWebBackendApi").frontendFireAndForget("setCPIInfo",{cpiInfo:a});d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: successfully set cpi info"])));return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebPnForLidChatSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebDBCreateLidPnMappings","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 8};e.getAction=function(){return d("WASyncdConst").Actions.PnForLidChat};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebABProps").getABPropConfigValue("pnh_pn_for_lid_chat_sync")!==!0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: operation not supported"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}var b=[];a=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var c=a.indexParts[1];if(!d("WAWebWidFactory").isWidlike(c)){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: malformed mutation - invalid key"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=(a=a.value.pnForLidChatAction)==null?void 0:a.pnJid;if(a==null||!d("WAWebWidFactory").isWidlike(a)){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: malformed mutation - invalid pnJid"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=d("WAWebWidFactory").createUserWid(a);c=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(c));b.push({lid:c,pn:a});return{actionState:d("WASyncdConst").SyncActionState.Success}});yield d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:b,flushImmediately:!0,learningSource:"other"});d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: successfully updated the lidXPn mapping}"])));return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebPremiumMessageAddSendAction",["WAWebPremiumMessageCollection","WAWebPremiumMessageSchema","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];for(a of a){var c=d("WAWebPremiumMessageCollection").PremiumMessageCollection.get(a.premiumMessageId);if(c){var e=new Set(c.sentMessageIds);e.add(a.messageId);b.push(c);c.set("sentMessageIds",e)}}yield d("WAWebPremiumMessageSchema").getPremiumMessageTable().bulkCreateOrMerge(b.map(function(a){return{id:a.id,name:a.name,type:a.type,isDeleted:a.isDeleted,mediaId:a.mediaId,sentMessageIds:a.sentMessageIds}}))});return h.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebPremiumMessageBroadcastSync",["WALogger","WASyncdAction","WASyncdConst","WAWebPremiumMessageAddSendAction","WAWebPremiumMessageCollection","WAWebSyncdIndexUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.MarketingMessageBroadcast};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];a=a.map(function(a){try{var c=a.indexParts,e=c[1];c=c[2];(!e||!c)&&d("WAWebSyncdIndexUtils").throwInvalidActionIndex();if(a.operation==="set"){if(d("WAWebPremiumMessageCollection").PremiumMessageCollection.find(e)==null)return{actionState:d("WASyncdConst").SyncActionState.Orphan};b.push({messageId:c,premiumMessageId:e});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["premium_message_broadcast:syncd: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield c("WAWebPremiumMessageAddSendAction")(b);return a});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebPremiumMessageSync",["WALogger","WASyncdAction","WASyncdConst","WAWebPremiumMessageCollection","WAWebPremiumMessageSchema","WAWebSyncdIndexUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.MarketingMessage};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];a=a.map(function(a){try{var c=a.indexParts;c=c[1];c||d("WAWebSyncdIndexUtils").throwInvalidActionIndex();if(a.operation==="set"){a=a.value.marketingMessageAction;if(!a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["premium_message:syncd: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var e=a.name,f=a.type,g=a.message,k=a.isDeleted;a=a.mediaId;if(f==null){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["premium_message:syncd: malformed mutation - missing type"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b.push({id:c,name:e,type:f,isDeleted:k,message:g,mediaId:a,sentMessageIds:new Set()});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["premium_message:syncd: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield d("WAWebPremiumMessageSchema").getPremiumMessageTable().bulkCreateOrMerge(b);d("WAWebPremiumMessageCollection").PremiumMessageCollection.add(b.map(function(a){return babelHelpers["extends"]({},a)}));return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebPrimaryFeatureSync",["WALogger","WANullthrows","WASyncdAction","WASyncdConst","WAWebPrimaryFeatures","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.PrimaryFeature};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.map(function(a){var c;if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["primary feature sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}c=(c=a.value.primaryFeature)==null?void 0:c.flags;if(c==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["primary feature sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}(b==null||a.timestamp>b.timestamp)&&(b=a);return{actionState:d("WASyncdConst").SyncActionState.Success}});if(b!=null){var e;e=c("WANullthrows")((e=b.value.primaryFeature)==null?void 0:e.flags);yield d("WAWebPrimaryFeatures").setPrimaryFeatures(e);d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["primary feature sync: successfully set flags to ",""])),e)}return a});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebPrimaryVersionSync",["WALogger","WASyncdAction","WASyncdConst","WAWebSyncdIndexUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k={CURRENT:"current",SESSION_START:"session_start"};a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.PrimaryVersion};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: primary version sync, operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}var b=a.indexParts;a=a.value;b=b[1];(!b||b!==k.CURRENT&&b!==k.SESSION_START)&&d("WAWebSyncdIndexUtils").throwInvalidActionIndex();a=(a=a.primaryVersionAction)==null?void 0:a.version;if(a==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: primary version sync, malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: primary version sync, successfully get primary version ","\n      with value ",""])),b,a);return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebSetPushnameLocallyConnAction",["WAWebConnModel","WAWebUserPrefsGeneral"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebConnModel").Conn.pushname=a,d("WAWebUserPrefsGeneral").setPushname(a)}g.setPushnameLocally=a}),98);
__d("WAWebPushNameSync",["Promise","WALogger","WASendPresenceStatusProtocol","WAServerSync.pb","WASyncdAction","WASyncdConst","WAWebSetPushnameLocallyConnAction","WAWebSyncBootstrap","WAWebSyncdActionUtils","WAWebSyncdCriticalBootstrapProcessingApi","WAWebWamEnumBootstrapAppStateDataStageCode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 1};f.getAction=function(){return d("WASyncdConst").Actions.SettingPushName};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield (k||(k=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.value;a=(a=a.pushNameSetting)==null?void 0:a.name;a||(d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["push name sync: empty pushname"]))),d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.PUSHNAME_INVALID),a="");void d("WASendPresenceStatusProtocol").sendPresenceStatusProtocol({name:a});d("WAWebSetPushnameLocallyConnAction").setPushnameLocally(a);yield d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.PUSHNAME_APPLIED);c("WAWebSyncBootstrap").isSyncDCriticalDataSyncInProcess()&&(yield c("WAWebSyncBootstrap").setSyncDCriticalSynced(),yield c("WAWebSyncBootstrap").setSyncDCriticalDataSyncCompleted());d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set pushname to ",""])),a);return(k||(k=b("Promise"))).resolve({actionState:d("WASyncdConst").SyncActionState.Success})}d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["push name sync: operation not supported"])));return(k||(k=b("Promise"))).resolve({actionState:d("WASyncdConst").SyncActionState.Unsupported})}catch(a){d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.PUSHNAME_INVALID);return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}())));return a});function e(b){return a.apply(this,arguments)}return e}();f.getPushnameMutation=function(a,b){b={pushNameSetting:{name:b}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.CriticalBlock,indexArgs:[],value:b,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:a,action:this.getAction()})};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebShareOwnPnSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebUpdateLidMetadataJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 8};e.getAction=function(){return d("WASyncdConst").Actions.ShareOwnPn};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebABProps").getABPropConfigValue("share_own_pn_sync")!==!0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: operation not supported"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}var b=[];a=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=a.indexParts[1];if(!d("WAWebWidFactory").isWidlike(a)){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: malformed mutation - invalid key"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=d("WAWebWidFactory").asUserLidOrThrow(d("WAWebWidFactory").createUserWid(a));b.push({lid:a,data:{shareOwnPn:!0}});return{actionState:d("WASyncdConst").SyncActionState.Success}});yield d("WAWebUpdateLidMetadataJob").updateLidMetadataJob(b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: successfully updated shareOwnPn value}"])));return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebStickersAvatarUpdatedSyncAction",["WALogger","WASyncAction.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebAvatarGatingUtils","WAWebHasAvatar","WAWebRecentStickerCollectionMd","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.AvatarUpdated};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebAvatarGatingUtils").avatarsOnWebEnabled()){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: avatar updated sync: mutation not supported"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){var b;if(a.operation!=="set"){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: avatar updated sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}b=(b=a.value.avatarUpdatedAction)==null?void 0:b.eventType;if(b==null){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: avatar updated sync: no avatar event provided"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var c=d("WAWebUserPrefsMultiDevice").getPairingTimestamp();if(c!=null){a=d("WATimeUtils").castMilliSecondsToUnixTime(a.timestamp);if(a<=d("WATimeUtils").castToUnixTime(c)){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: avatar updated sync: event from before pairing time, skipping"])));return{actionState:d("WASyncdConst").SyncActionState.Skipped}}}switch(b){case d("WASyncAction.pb").SyncActionValue$AvatarUpdatedAction$AvatarEventType.CREATED:case d("WASyncAction.pb").SyncActionValue$AvatarUpdatedAction$AvatarEventType.UPDATED:d("WAWebHasAvatar").saveHasAvatarOnTempStorage(!0);break;case d("WASyncAction.pb").SyncActionValue$AvatarUpdatedAction$AvatarEventType.DELETED:d("WAWebHasAvatar").saveHasAvatarOnTempStorage(!1);break}d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.removeAllRecentAvatarStickers();return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebTimeFormatSync",["WALogger","WASyncdAction","WASyncdConst","WAWebClock","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.TimeFormat};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["time format sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=(a=a.value.timeFormatAction)==null?void 0:a.isTwentyFourHourFormatEnabled;if(a==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["time format sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WAWebClock").Clock.setIs24Hour(a,d("WAWebClock").TimeFormatSource.PhoneTimeFormat);d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["time format sync: successfully set time format to "," hour"])),a?"24":"12");return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebVoipRelayAllCallsSettingSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebUserPrefsGeneral","WAWebVoipStackInterface","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 1};e.getAction=function(){return d("WASyncdConst").Actions.VoipRelayAllCalls};e.applyMutations=function(a){return(l||(l=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.value;a=a.privacySettingRelayAllCalls;if(!a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["voip relay-all-calls setting sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=a.isEnabled;if(a==null)d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip relay-all-calls setting sync: mutation has null value"])));else{d("WAWebUserPrefsGeneral").setUserPrivacySettings(babelHelpers["extends"]({},d("WAWebUserPrefsGeneral").getUserPrivacySettings(),{voipRelayAllCalls:a}));var b=(yield d("WAWebVoipStackInterface").getVoipStackInterface());yield b==null?void 0:b.setHideMyIp(a!=null?a:!1)}d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: voip: set relay-all-calls setting to ",""])),a);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["voip relay-all-calls setting sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebWaffleAccountLinkStateSync",["WALogger","WANullthrows","WASyncdAction","WASyncdConst","WAWebAccountLinkingConstants","WAWebAccountLinkingDBOperations","WAWebAccountLinkingGatingUtils","WAWebAccountLinkingUtils","WAWebProtobufsE2E.pb","WAWebSendNonMessageDataRequest","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 1};f.getAction=function(){return d("WASyncdConst").Actions.WaffleAccountLinkState};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.map(function(a){var c;if(!d("WAWebAccountLinkingGatingUtils").accountLinkingEnabled())return{actionState:d("WASyncdConst").SyncActionState.Unsupported};if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["waffleaccountlinkstate sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(((c=a.value.waffleAccountLinkStateAction)==null?void 0:c.linkState)==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["waffleaccountlinkstate sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}(b==null||a.timestamp>b.timestamp)&&(b=a);return{actionState:d("WASyncdConst").SyncActionState.Success}});if(b!=null){var e,f;e=d("WAWebAccountLinkingUtils").mapToAccountLinkState(c("WANullthrows")((e=b.value.waffleAccountLinkStateAction)==null?void 0:e.linkState));f=Number(c("WANullthrows")((f=b)==null?void 0:f.value.timestamp));yield this.storeLinkState(e,f);yield d("WAWebSendNonMessageDataRequest").sendPeerDataOperationRequest(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.WAFFLE_LINKING_NONCE_FETCH,{})}return a});function e(b){return a.apply(this,arguments)}return e}();f.storeLinkState=function(a,b){return d("WAWebAccountLinkingDBOperations").createOrUpdateAccountLinkingState({accountLinkKey:d("WAWebAccountLinkingConstants").AccountLinkKey,linkState:a,linkTimestamp:b})};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebCollectionHandlerActions",["WAWebAgentSync","WAWebAndroidUnsupportedActionsSync","WAWebArchiveChatSync","WAWebArchiveSettingSync","WAWebBotWelcomeRequestSync","WAWebBroadcastSync","WAWebCallLogSync","WAWebChatAssignmentOpenedStatusSync","WAWebChatAssignmentSync","WAWebChatLockSettingsSync","WAWebClearChatSync","WAWebContactSync","WAWebCustomPaymentMethodsSync","WAWebDeleteChatSync","WAWebDeleteMessageForMeSync","WAWebDetectedOutcomesStatusSync","WAWebDeviceCapabilitiesSync","WAWebDisableLinkPreviewsSync","WAWebExternalWebBetaSync","WAWebFavoritesSync","WAWebLabelJidSync","WAWebLabelMessageSync","WAWebLabelReorderingSync","WAWebLabelSync","WAWebLidContactSync","WAWebLocaleSettingSync","WAWebLockChatSync","WAWebMarkChatAsReadSync","WAWebMerchantPaymentPartnerSync","WAWebMuteChatSync","WAWebNoteSync","WAWebNuxSync","WAWebPaymentInfoSync","WAWebPaymentTosSync","WAWebPinChatSync","WAWebPnForLidChatSync","WAWebPremiumMessageBroadcastSync","WAWebPremiumMessageSync","WAWebPrimaryFeatureSync","WAWebPrimaryVersionSync","WAWebPushNameSync","WAWebQuickRepliesSync","WAWebSentinelMutationSync","WAWebShareOwnPnSync","WAWebStarMessageSync","WAWebStatusPrivacySettingSync","WAWebStickersAvatarUpdatedSyncAction","WAWebStickersFavoriteSyncAction","WAWebStickersRemoveRecentSyncAction","WAWebTimeFormatSync","WAWebUserStatusMuteSync","WAWebVoipRelayAllCallsSettingSync","WAWebWaffleAccountLinkStateSync"],(function(a,b,c,d,e,f,g){a=[c("WAWebStarMessageSync"),c("WAWebContactSync"),c("WAWebMuteChatSync"),c("WAWebLabelSync"),c("WAWebLabelReorderingSync"),c("WAWebAgentSync"),c("WAWebLabelMessageSync"),c("WAWebLabelJidSync"),c("WAWebQuickRepliesSync"),c("WAWebLocaleSettingSync"),c("WAWebPushNameSync"),c("WAWebArchiveChatSync"),c("WAWebMarkChatAsReadSync"),c("WAWebClearChatSync"),c("WAWebDeleteMessageForMeSync"),c("WAWebSentinelMutationSync"),c("WAWebArchiveSettingSync"),d("WAWebPinChatSync").PinChatSync,c("WAWebDeleteChatSync"),c("WAWebAndroidUnsupportedActionsSync"),c("WAWebPrimaryFeatureSync"),c("WAWebNuxSync"),c("WAWebTimeFormatSync"),c("WAWebUserStatusMuteSync"),c("WAWebPrimaryVersionSync"),c("WAWebStickersRemoveRecentSyncAction"),c("WAWebChatAssignmentSync"),c("WAWebChatAssignmentOpenedStatusSync"),c("WAWebStickersFavoriteSyncAction"),c("WAWebShareOwnPnSync"),c("WAWebPnForLidChatSync"),c("WAWebExternalWebBetaSync"),c("WAWebPremiumMessageSync"),c("WAWebPremiumMessageBroadcastSync"),c("WAWebStatusPrivacySettingSync"),c("WAWebBotWelcomeRequestSync"),c("WAWebPaymentInfoSync"),c("WAWebCustomPaymentMethodsSync"),c("WAWebLockChatSync"),c("WAWebChatLockSettingsSync"),c("WAWebDisableLinkPreviewsSync"),c("WAWebNoteSync"),c("WAWebFavoritesSync"),c("WAWebMerchantPaymentPartnerSync"),c("WAWebDeviceCapabilitiesSync"),c("WAWebVoipRelayAllCallsSettingSync"),c("WAWebCallLogSync"),c("WAWebWaffleAccountLinkStateSync"),c("WAWebPaymentTosSync"),c("WAWebBroadcastSync"),c("WAWebDetectedOutcomesStatusSync"),c("WAWebStickersAvatarUpdatedSyncAction"),c("WAWebLidContactSync")];g.ActionHandlers=a}),98);
__d("WAWebPerformantSelect.react",["WAWebCheckmarkIcon.react","WAWebDropdownV2.react","WAWebLexicalWAWebMenu.react","WAWebMenuItems.react","WAWebPerformantMenu.react","WAWebSearchInput","WAWebSelectButton.react","WAWebSimpleSearch","WAWebSvgComponentBase","react","useMergeRefs"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n=b.useState;function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h);a=e.items;var f=e.defaultLabel,g=e.customLabel,i=e.popoverControllerRef,j=e.menuMinWidth,o=e.menuMaxHeight;o=o===void 0?350:o;var p=e.width,q=e.includeSearchInput,r=e.initialSelection,s=e.theme,t=e.testid;t=n();var u=t[0];t=t[1];var v=a;u!=null&&u.length&&(v=a.filter(function(a){return d("WAWebSimpleSearch").simpleSearch(u,[a.menuItem.searchCriteria])}));var w=v,x=function(a){var b;g!=null&&(b=g(a));if(b==null&&a!=null){var c=w.find(function(b){return b.itemKey===a});c!=null&&(b=c.menuItem.primary)}return(c=b!=null?b:f)!=null?c:""},y=m(null);a=c("useMergeRefs")(b,y);v=m();var z=i!=null?i:v;b=n(r);var A=b[0],B=b[1];i=n(x(r));v=i[0];var C=i[1];b=function(a){var b=x(a);C(b);B(a);e.onChange==null||e.onChange(a);(b=z.current)==null||b.hidePopover()};r=function(a){return k.jsx(d("WAWebMenuItems.react").ActionMenuItem,babelHelpers["extends"]({},a.menuItem,{detailRight:a.itemKey===A?k.jsx(d("WAWebCheckmarkIcon.react").CheckmarkIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL}):a.menuItem.detailRight}))};i=n(j);var D=i[0],E=i[1];l(function(){if(j==null){var a;E((a=y.current)==null?void 0:a.clientWidth)}},[j]);var F=m(null);i=function(){var a;(a=F.current)==null||a.focus()};r={data:w,material:!0,renderItem:r,initialActiveOptionId:A,onSelect:b,maxHeight:o,minWidth:D,reorderAnimationsEnabled:!1,setFocusRef:F};b=q===!0?k.jsx(d("WAWebSearchInput").SearchInput,{padding:[16,16,8,16],onSearch:t,colorScheme:"darker",onArrowDown:i,children:k.jsx(d("WAWebLexicalWAWebMenu.react").LexicalWAWebPerformantMenu,babelHelpers["extends"]({},r))}):k.jsx(d("WAWebPerformantMenu.react").WDSPerformantMenu,babelHelpers["extends"]({},r));return k.jsx(d("WAWebSelectButton.react").WDSSelectButton,{ref:a,label:v,width:p!=null?p:"100%",theme:s,testid:void 0,children:k.jsx(d("WAWebDropdownV2.react").DropdownV2,{material:!0,target:y,controllerRef:z,position:d("WAWebDropdownV2.react").PopoverPosition.Bottom,alignment:d("WAWebDropdownV2.react").PopoverAlignment.Start,initHandling:"click",buffer:4,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.Select=a}),98);
__d("WAWebCountrySelect.react",["fbt","invariant","WAIsoToCc","WAWebCountriesNativeCountryNames","WAWebEmoji","WAWebEmoji.react","WAWebPerformantSelect.react","WAWebText.react","react"],(function(a,b,c,d,e,f,g,h,i){var j,k,l=k||c("react"),m=(j||(j=d("react"))).useMemo;function n(a){a=a.countries;return a.map(function(a){var b=a[0];a=a[1];var e;c("WAWebCountriesNativeCountryNames")[b]!=null&&a!==c("WAWebCountriesNativeCountryNames")[b]&&(e=c("WAWebCountriesNativeCountryNames")[b]);var f=b.toUpperCase().split("").map(function(a){return String.fromCodePoint(127462+a.charCodeAt(0)-"A".charCodeAt(0))}).join(""),g=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(f),j=c("WAIsoToCc")[b];j!=null||i(0,75729,b);g={optionId:b,primary:a,secondary:e,ariaLabel:h._(/*BTDS*/"Selected country: {country}. Click to select a different country.",[h._param("country",a)]),detailLeft:g!=null?l.jsx(c("WAWebEmoji.react"),{DEPRECATED_className:"x1603h9y",selectable:!1,emoji:g}):l.jsx("span",{}),detailRight:l.jsxs(d("WAWebText.react").WAWebTextMuted,{dir:"ltr",children:["+",j]}),searchCriteria:[a,e,b,j.toString(),f].join(" ")};return{itemKey:g.optionId,menuItem:g,height:g.secondary!=null?56:40}})}function a(a){var b=a.countries,c=a.initialActiveOptionId,e=a.onChange,f=a.testid,g=a.theme;f=a.width;var i=m(function(){return n({countries:b})},[b]);a=function(a){var b=i.find(function(b){return b.itemKey===a});return b!=null?l.jsxs(d("WAWebText.react").WAWebTextMuted,{flex:!0,align:"center",gap:8,color:g==="link-devices-screen"?"primary":null,children:[b.menuItem.detailLeft," ",b.menuItem.primary]}):null};return l.jsx(d("WAWebPerformantSelect.react").Select,{width:f,menuMaxHeight:270,menuMinWidth:300,testid:void 0,initialSelection:c,defaultLabel:h._(/*BTDS*/"Select country"),onChange:e,includeSearchInput:!0,customLabel:a,items:i,theme:g})}a.displayName=a.name+" [from "+f.id+"]";g.getCountryDropdownItems=n;g.CountrySelect=a}),226);
__d("WAWebPhoneNumberInput.react",["fbt","WAIsoToCc","WANullthrows","WAWebClassnames","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebUA","WAWebUISpacing","react","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o=b.useState,p={phoneNumberText:{fontSize:"x1jchvi3",fontVariantNumeric:"xss6m8b",$$css:!0},input:{position:"x1n2onr6",color:"xy9n6vp",zIndex:"x1n327nk",width:"xh8yej3",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",backgroundColor:"xjbqb8w",":focus_outline":"x1uvtmcs",$$css:!0}};function a(a){var b=a.ariaLabel,e=a.countryCodeIso,f=a.errorMessageDOMId,g=a.errorShown,i=a.onBlur,k=a.onChange,r=a.onEnter,s=a.onFocus,t=a.phoneNumberWithoutCountryPrefix,u=a.ref;a=a.showCountryPrefix;var v=a===void 0?!0:a;a=o(null);var w=a[0],x=a[1],y=n(null);a=c("useMergeRefs")(u,y);u=o(!0);var z=u[0],A=u[1],B=e==null?null:c("WAIsoToCc")[e];u=d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").formatPhoneNumberInput({countryCodeIso:e,phoneNumberWithoutCountryCode:t!=null?t:""});u=c("WANullthrows")(u,"Unexpected null phone number format result, likely because of invalid country code");var C=u.formattedInputValue;u=u.placeholder;var D=v?d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").getFullFormattedInputValue(z,B,C):C;m(function(){var a=null;if(w!=null)if(w.shouldPositionNextToDigit){var b=Array.from(D.matchAll(/\d/g));b.length>w.selectionStart&&(a=b[w.selectionStart].index)}else a=w.selectionStart;if(a!=null){(b=y.current)==null||b.setSelectionRange(a,a)}x(null)},[w,D]);z=function(a){a=a.target;var b=a.value;a=a.selectionStart;var c=v?b:""+(B!=null?B:"")+b;c=d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").cleanPhoneNumberInputValue(c);var f=c.countryCodeIso;c=c.phoneNumberWithoutCountryCode;if(f===e&&c===t)x({selectionStart:a,shouldPositionNextToDigit:!1});else{var g;a=d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").cleanPhoneNumberInputValue(b.substr(0,a));a=a.fullRawPhoneNumber;x({selectionStart:v&&B!=null&&a.length===0?(g=B==null?void 0:B.toString().length)!=null?g:0:a.length,shouldPositionNextToDigit:!0})}f==null?A(b.includes("+")):A(!0);k(f,c)};return l.jsx("div",{className:"x1n2onr6",children:l.jsxs("form",{onSubmit:function(a){a.preventDefault(),r==null||r()},children:[l.jsx(q,{formattedInputValue:D,placeholder:u}),l.jsx("input",{ref:a,dir:"ltr","data-testid":void 0,"aria-label":b!=null?b:h._(/*BTDS*/"Type your phone number."),"aria-describedby":g?f:"","aria-required":"true","aria-invalid":g?"true":"false",className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("selectable-text",(j||(j=c("stylex")))(p.input,p.phoneNumberText,d("WAWebUISpacing").uiPadding.all0)),type:"text",value:D,onChange:z,onFocus:function(){x({selectionStart:D.length,shouldPositionNextToDigit:!1}),s==null||s()},onBlur:i})]})})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a.formattedInputValue;a=a.placeholder;a=a.split(/(_+)/).map(function(a,b){var c=b%2===1;return l.jsx("span",babelHelpers["extends"]({},{0:{},2:{className:"x1rg5ohu x1qcr5yj xahfe03"},1:{className:"x1rg5ohu xtf6cww xkivrog"},3:{className:"x1rg5ohu xtf6cww xkivrog"}}[!!(c&&d("WAWebUA").UA.os===d("WAWebUA").OS_TYPE.WINDOWS)<<1|!!(c&&d("WAWebUA").UA.os===d("WAWebUA").OS_TYPE.MAC)<<0],{children:a}),b+":"+a)});return l.jsxs("div",{className:"x10l6tqk xs7f9wi xu96u03 xiqmkuo x126k92a x87ps6o x1jchvi3 xss6m8b","aria-hidden":"true",children:[l.jsx("span",{className:"x19co3pv",children:b}),a]})}q.displayName=q.name+" [from "+f.id+"]";g.PhoneNumberInput=a}),226);
__d("WAWebLinkDevicePhoneNumberEntryInput.react",["WAWebPhoneNumberInput.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useImperativeHandle,m=b.useRef,n=b.useState,o={inputWrapper:{position:"x1n2onr6",paddingTop:"xqv4dci",paddingBottom:"x1aazizy",paddingLeft:"xd3ty66",paddingRight:"xcicffo",minWidth:"x1vktgvc",height:"x1qx5ct2",backgroundColor:"xe7vic5",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x1ditxmn",borderInlineEndColor:"x17pw8c",borderBottomColor:"xcsjwe9",borderInlineStartColor:"x1pma5q3",borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",$$css:!0},inputWrapperFocused:{borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xblo94s",borderInlineEndColor:"xen41q7",borderBottomColor:"xv0bqaz",borderInlineStartColor:"xd52tjp",$$css:!0}};function a(a){var b=a.a11yErrorMessage,e=a.countryCodeIso,f=a.onChange,g=a.onEnter,h=a.phoneNumberWithoutCountryPrefix,j=a.ref;a=a.xstyle;var p=b.errorShown;b=b.errorMessageDOMId;var q=n(!1),r=q[0],s=q[1],t=m(null);l(j,function(){return{focus:function(){var a;(a=t.current)==null||a.focus()}}});return k.jsx("div",{className:"x1n2onr6 xy9n6vp x1ed109x",onClick:function(){var a;(a=t.current)==null||a.focus()},dir:"ltr",children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.inputWrapper,a,r&&o.inputWrapperFocused),{children:k.jsx(d("WAWebPhoneNumberInput.react").PhoneNumberInput,{countryCodeIso:e,errorMessageDOMId:b,errorShown:p,onBlur:function(){s(!1)},onFocus:function(){s(!0)},onChange:f,onEnter:g,phoneNumberWithoutCountryPrefix:h,ref:t})}))})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebLinkDevicePhoneNumberEntryInput=a}),98);
__d("WAWebCountryPhoneNumberInput.react",["WAWebCountrySelect.react","WAWebFlex.react","WAWebFlexItem.react","WAWebLinkDevicePhoneNumberEntryInput.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j="link-device-phone-number-entry-screen-error",k={countrySelectWrapper:{height:"xdd8jsf",$$css:!0},borderColorOverride:{borderTopColor:"xy2seqb",borderInlineEndColor:"x12sz9sg",borderBottomColor:"xwm8nch",borderInlineStartColor:"xxkxxek",$$css:!0}};function a(a){var b=a.countries,e=a.onChangePhoneNumber,f=a.onChangeSelectedCountry,g=a.onSubmit,h=a.phoneNumberWithoutCountryCode,l=a.ref,m=a.selectedCountryId,n=a.shouldDisplayError;a=a.surface;return i.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",children:[i.jsx(c("WAWebFlexItem.react"),{isFlexContainer:!0,xstyle:[k.countrySelectWrapper,d("WAWebUISpacing").uiMargin.bottom12],children:i.jsx(d("WAWebCountrySelect.react").CountrySelect,{width:"100%",countries:b,testid:void 0,onChange:f,initialActiveOptionId:m,theme:a==="link-device-phone-number"?"link-devices-screen":"default"},m)}),i.jsx(c("WAWebFlexItem.react"),{xstyle:n||a==="link-device-phone-number"?d("WAWebUISpacing").uiMargin.bottom8:d("WAWebUISpacing").uiMargin.bottom32,children:i.jsx(d("WAWebLinkDevicePhoneNumberEntryInput.react").WAWebLinkDevicePhoneNumberEntryInput,{ref:l,countryCodeIso:m,phoneNumberWithoutCountryPrefix:h,a11yErrorMessage:{errorShown:n,errorMessageDOMId:j},onChange:e,onEnter:g,xstyle:a==="link-device-phone-number"&&k.borderColorOverride})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CountryPhoneNumberInput=a}),98);
__d("isWAWebFeatureDetectionAppleTouchscreen",["WAWebMiscBrowserUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("WAWebMiscBrowserUtils").info();return a.os.toLowerCase()!=="mac os"?!1:!!navigator.maxTouchPoints&&navigator.maxTouchPoints>2}g["default"]=a}),98);
__d("WAWebDesktopUpsellUtils",["$InternalEnum","WAWebABProps","WAWebEnvironment","WAWebMiscBrowserUtils","WAWebUA","asyncToGeneratorRuntime","isWAWebFeatureDetectionAppleTouchscreen","justknobx"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["WINDOWS","MACOS"]),i,j=b("$InternalEnum").Mirrored(["Control","Variant2","Variant3"]),k=function(){var a=d("WAWebABProps").getABPropConfigValue("wa_web_growth_empty_state_upsell_variant_m1");return a===2||a===3};function a(){var a=d("WAWebABProps").getABPropConfigValue("wa_web_growth_empty_state_upsell_variant_m1");if(a===2)return j.Variant2;return a===3?j.Variant3:j.Control}function e(){if(i!==void 0)return i;i=l();return i}function l(){var a=c("WAWebMiscBrowserUtils").info();switch(a.os.toLowerCase()){case"windows":return h.WINDOWS;case"mac os":return c("isWAWebFeatureDetectionAppleTouchscreen")()?null:h.MACOS}return null}var m="8.0.0",n=10,o="12.0.0",p=null,q=null;function f(){p==null&&void r();return p}function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b;if(c("WAWebEnvironment").isWindows)return!1;if(p!=null)return p;a=(yield (a=self.navigator)==null||(a=a.userAgentData)==null?void 0:a.getHighEntropyValues(["platformVersion"]));if((a==null?void 0:a.platformVersion)!=null&&((b=a.platform)==null?void 0:b.toLowerCase())==="windows"&&a.platformVersion!=null)p=w(m,a.platformVersion)<=0;else{b=c("WAWebMiscBrowserUtils").info();p=b.os==="Windows"&&parseInt(b.version,10)>=n}return p});return s.apply(this,arguments)}function t(){q==null&&void u();return q}function u(){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b;if(c("WAWebEnvironment").isWindows)return!1;if(d("WAWebUA").UA.isSafari&&c("justknobx")._("3037"))return!0;if(q!=null)return q;a=(yield (a=self.navigator)==null||(a=a.userAgentData)==null?void 0:a.getHighEntropyValues(["platformVersion"]));(a==null?void 0:a.platformVersion)!=null&&((b=a.platform)==null?void 0:b.toLowerCase())==="macos"&&a.platformVersion!=null&&(q=w(o,a.platformVersion)<=0);return q!=null?q:!1});return v.apply(this,arguments)}function w(a,b){return a.localeCompare(b,void 0,{numeric:!0,sensitivity:"base"})}g.UserDesktopOs=h;g.EmptyStateUpsellBannerVariantEnum=j;g.isEmptyStateUpsellBannerVariantEnabled=k;g.getEmptyStateUpsellBannerVariant=a;g.getUserDesktopOs=e;g.isWebUserOnSupportedWindowsOSForUWPSync=f;g.isWebUserOnSupportedWindowsOSForUWPAsync=r;g.isWebUserOnSupportedMacOSForCatalystSync=t;g.isWebUserOnSupportedMacOSForCatalystAsync=u}),98);
__d("WAWebDesktopUpsellCommonStrings",["fbt","WAWebDesktopUpsellUtils"],(function(a,b,c,d,e,f,g,h){function i(){return h._(/*BTDS*/"Get the app")}function a(a){var b=d("WAWebDesktopUpsellUtils").getUserDesktopOs();if(b==null)return i();var c=d("WAWebDesktopUpsellUtils").getEmptyStateUpsellBannerVariant();if(c===d("WAWebDesktopUpsellUtils").EmptyStateUpsellBannerVariantEnum.Variant2||c===d("WAWebDesktopUpsellUtils").EmptyStateUpsellBannerVariantEnum.Variant3)return h._(/*BTDS*/"Download app");switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Download");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return a===!0?h._(/*BTDS*/"Download beta app"):h._(/*BTDS*/"Get from App Store")}}function b(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs();if(a==null)return null;switch(a){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Get WhatsApp for Windows");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return h._(/*BTDS*/"Get WhatsApp for Mac")}}function c(a){var b=d("WAWebDesktopUpsellUtils").getUserDesktopOs();if(b==null)return null;switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Get WhatsApp for Windows");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return a?h._(/*BTDS*/"Download the beta Mac app"):h._(/*BTDS*/"Get WhatsApp for Mac")}}function e(a){var b=d("WAWebDesktopUpsellUtils").getUserDesktopOs();if(b==null)return null;var c=d("WAWebDesktopUpsellUtils").getEmptyStateUpsellBannerVariant();if(c===d("WAWebDesktopUpsellUtils").EmptyStateUpsellBannerVariantEnum.Variant2)switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Calling is available on the Windows app");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return h._(/*BTDS*/"Calling is available on the Mac app")}if(c===d("WAWebDesktopUpsellUtils").EmptyStateUpsellBannerVariantEnum.Variant3)switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Get more features on the Windows app");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return h._(/*BTDS*/"Get more features on the Mac app")}switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Download WhatsApp for Windows");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return a===!0?h._(/*BTDS*/"Download the beta Mac app"):h._(/*BTDS*/"Download WhatsApp for Mac")}}function f(a){var b=d("WAWebDesktopUpsellUtils").getUserDesktopOs();if(b==null)return null;var c=d("WAWebDesktopUpsellUtils").getEmptyStateUpsellBannerVariant();if(c===d("WAWebDesktopUpsellUtils").EmptyStateUpsellBannerVariantEnum.Variant2)switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Get all the features from WhatsApp Web, plus calls and screen share.");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return h._(/*BTDS*/"Get all the features from WhatsApp Web, plus calls and screen share.")}if(c===d("WAWebDesktopUpsellUtils").EmptyStateUpsellBannerVariantEnum.Variant3)switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Join calls, share your screen, and get a faster experience.");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return h._(/*BTDS*/"Join calls, share your screen, and get a faster experience.")}switch(b){case d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS:return h._(/*BTDS*/"Make calls, share your screen and get a faster experience when you download the Windows app.");case d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS:return a===!0?h._(/*BTDS*/"Be the first to try out new features, share your feedback, and help make WhatsApp even better."):h._(/*BTDS*/"Make calls and get a faster experience when you download the Mac app.")}}g.getDesktopAppDownloadBtnLabel=i;g.getDesktopAppDownloadFromStoreBtnLabel=a;g.getChatlistDropdownBtnLabel=b;g.getDesktopUpsellToastbarLabel=c;g.getDesktopUpsellDownloadWhatsAppTitle=e;g.getDesktopUpsellIntroPanelText=f}),226);
__d("WAWebDesktopUpsellPlatformAwareHooks",["WAWebDesktopUpsellUtils","WAWebMobilePlatforms","useWAWebABPropConfigValue","useWAWebAsync"],(function(a,b,c,d,e,f,g){var h={chatlist_toastbar:"desktop_upsell_win_cta_chatlist_toastbar",chatlist_dropdown:"desktop_upsell_win_cta_chatlist_dropdown",intro_panel:"desktop_upsell_win_cta_intro_panel",call_btn:"desktop_upsell_win_cta_call_btn",search_results:"desktop_upsell_win_cta_search_results_toastbar",missed_call:"desktop_upsell_win_cta_missed_call_variation_2"},i={chatlist_toastbar:"desktop_upsell_mac_cta_chatlist_toastbar",chatlist_dropdown:"desktop_upsell_mac_cta_chatlist_dropdown",intro_panel:"desktop_upsell_mac_cta_intro_panel",call_btn:"desktop_upsell_mac_cta_call_btn",search_results:"desktop_upsell_mac_cta_search_results_toastbar",missed_call:"desktop_upsell_mac_cta_missed_call"};function a(a){var b=d("WAWebDesktopUpsellUtils").getUserDesktopOs();b=d("useWAWebABPropConfigValue").useABPropConfigValue(b===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h[a]:i[a]);return b}function b(){var a=j();return!d("WAWebMobilePlatforms").isSMB()&&a}function e(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=!1;if(a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS){var c;b=(c=d("WAWebDesktopUpsellUtils").isWebUserOnSupportedWindowsOSForUWPSync())!=null?c:!1}else if(a===d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS){b=(c=d("WAWebDesktopUpsellUtils").isWebUserOnSupportedMacOSForCatalystSync())!=null?c:!1}return!d("WAWebMobilePlatforms").isSMB()&&b}function j(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=c("useWAWebAsync")(d("WAWebDesktopUpsellUtils").isWebUserOnSupportedWindowsOSForUWPAsync,[]),e=c("useWAWebAsync")(d("WAWebDesktopUpsellUtils").isWebUserOnSupportedMacOSForCatalystAsync,[]);if(a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS&&!b.loading&&!b.error)return b.value;else if(a===d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS&&!e.loading&&!e.error)return e.value;return!1}g.useWAWebDesktopUpsellAbPropCheck=a;g.useWAWebDesktopUpsellPlatformCheck=b;g.useWAWebDesktopUpsellPlatformAwareCTACheckSynchronous=e;g.useWAWebDesktopUpsellPlatformAwareOsVersionCheck=j}),98);
__d("WAWebWamEnumWebcNativeUpsellCtaEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({IMPRESSION:1,CTA_BTN_CLICK:2,CTA_DISMISS:3});f.WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE=a}),66);
__d("WAWebWamEnumWebcNativeUpsellCtaReleaseChannel",[],(function(a,b,c,d,e,f){a=Object.freeze({PRODUCTION:1,BETA:2});f.WEBC_NATIVE_UPSELL_CTA_RELEASE_CHANNEL=a}),66);
__d("WAWebWamEnumWebcNativeUpsellCtaSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({INTRO_PANEL:1,CHATLIST_DROPDOWN:2,BUTTERBAR:3,QR_BANNER:4,SEARCH_RESULTS:5,CALL_BTN_MODAL:6,CALL_BTN_MODAL_2:7,MISSED_CALL_MODAL:8,MISSED_CALL_MODAL_2:9,QR_BANNER_2:10,QR_DOWNLOAD_BUTTON:11,QR_SLIM_BANNER:12,QR_LARGE_BANNER:13,SETTINGS:14,SETTINGS_HELP:15});f.WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE=a}),66);
__d("WAWebWebcNativeUpsellCtaWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcNativeUpsellCtaEventType","WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup","WAWebWamEnumWebcNativeUpsellCtaReleaseChannel","WAWebWamEnumWebcNativeUpsellCtaSourceType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcNativeUpsellCta:[3934,{webcNativeUpsellCtaEventType:[2,d("WAWebWamEnumWebcNativeUpsellCtaEventType").WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE],webcNativeUpsellCtaIsBetaUser:[5,d("WAWebWamCodegenUtils").TYPES.BOOLEAN],webcNativeUpsellCtaQrScreenExperimentGroup:[3,d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP],webcNativeUpsellCtaReleaseChannel:[4,d("WAWebWamEnumWebcNativeUpsellCtaReleaseChannel").WEBC_NATIVE_UPSELL_CTA_RELEASE_CHANNEL],webcNativeUpsellCtaSource:[1,d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE]},[1,1,1],"regular"]},{WebcNativeUpsellCta:[]});g.WebcNativeUpsellCtaWamEvent=a}),98);
__d("WAWebDesktopUpsellStoreOpener",["WALogger","WAWebDesktopUpsellUtils","WAWebExternalLink.react","WAWebWamEnumWebcNativeUpsellCtaEventType","WAWebWamEnumWebcNativeUpsellCtaReleaseChannel","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWebcNativeUpsellCtaWamEvent","err","gkx"],(function(a,b,c,d,e,f,g){var h,i;function a(a){var b=a.ctaSource,c=a.qrScreenExperimentGroup,e=a.isBetaUpsell;a=a.isBetaUser;var f=d("WAWebDesktopUpsellUtils").getUserDesktopOs();f===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?j(b):f===d("WAWebDesktopUpsellUtils").UserDesktopOs.MACOS&&l(b,e);void new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaEventType:d("WAWebWamEnumWebcNativeUpsellCtaEventType").WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE.CTA_BTN_CLICK,webcNativeUpsellCtaSource:b,webcNativeUpsellCtaQrScreenExperimentGroup:c,webcNativeUpsellCtaReleaseChannel:e===!0?d("WAWebWamEnumWebcNativeUpsellCtaReleaseChannel").WEBC_NATIVE_UPSELL_CTA_RELEASE_CHANNEL.BETA:d("WAWebWamEnumWebcNativeUpsellCtaReleaseChannel").WEBC_NATIVE_UPSELL_CTA_RELEASE_CHANNEL.PRODUCTION,webcNativeUpsellCtaIsBetaUser:a}).commitAndWaitForFlush(!0)}function j(a){try{d("WAWebExternalLink.react").openExternalLink(k(a),{target:d("WAWebExternalLink.react").ExternalLinkTarget.DEEPLINK_IN_CURRENT_TAB})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["web-desktop-upsells: Failed to open MS Store app with error: ",""])),a)}}function k(a){switch(a){case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_SLIM_BANNER:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.qr_slim_banner;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_LARGE_BANNER:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.qr_large_banner;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_DOWNLOAD_BUTTON:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.link_device_banner_3;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.INTRO_PANEL:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.intro_panel;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.BUTTERBAR:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.chatlist_toastbar;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.SEARCH_RESULTS:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.search_results_toastbar;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CALL_BTN_MODAL_2:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.call_btn_modal_2;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CHATLIST_DROPDOWN:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.chatlist_dropdown_menu;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.MISSED_CALL_MODAL_2:return d("WAWebExternalLink.react").WINDOWS_SIDELOAD_URIS.missed_call_modal_2}throw c("err")("Invalid CTA source: "+a)}function l(a,b){try{d("WAWebExternalLink.react").openExternalLink(c("gkx")("26258")?m(a,b):d("WAWebExternalLink.react").MAC_INTERNAL_MSC_STORE_URI,{target:d("WAWebExternalLink.react").ExternalLinkTarget.DEEPLINK_IN_CURRENT_TAB})}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["web-desktop-upsells: Failed to open Mac App Store app with error: ",""])),a)}}function m(a,b){if(b===!0)return d("WAWebExternalLink.react").MAC_EXTERNAL_SIDELOAD_URI_BETA+"&src=whatsapp_beta_webclient_"+n(a);switch(a){case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_SLIM_BANNER:return d("WAWebExternalLink.react").MAC_STORE_URIS.qr_slim_banner;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_LARGE_BANNER:return d("WAWebExternalLink.react").MAC_STORE_URIS.qr_large_banner;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_DOWNLOAD_BUTTON:return d("WAWebExternalLink.react").MAC_STORE_URIS.link_device_banner_3;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.INTRO_PANEL:return d("WAWebExternalLink.react").MAC_STORE_URIS.intro_panel;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.BUTTERBAR:return d("WAWebExternalLink.react").MAC_STORE_URIS.chatlist_toastbar;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.SEARCH_RESULTS:return d("WAWebExternalLink.react").MAC_STORE_URIS.search_results_toastbar;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CALL_BTN_MODAL_2:return d("WAWebExternalLink.react").MAC_STORE_URIS.call_btn_modal_2;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CHATLIST_DROPDOWN:return d("WAWebExternalLink.react").MAC_STORE_URIS.chatlist_dropdown_menu;case d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.MISSED_CALL_MODAL_2:return d("WAWebExternalLink.react").MAC_STORE_URIS.missed_call_modal_2}throw c("err")("Invalid CTA source: "+a)}function n(a){var b=Object.entries(d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE).find(function(b){b[0];b=b[1];return b===a});return b?b[0].toLowerCase():"unknown"}g.openExternalWhatsAppDesktopDownloadUrl=a}),98);
__d("WAWebHandleDirtyBits",["Promise","WALogger","WASyncdConst","WAWebAccountSyncJob","WAWebApiPendingDeviceSync","WAWebBackendApi","WAWebClearDirtyBitsJob","WAWebCmd","WAWebDirtyBitsConsts","WAWebEventsWaitForOfflineDeliveryEnd","WAWebMdAppStateDirtyBitsWamEvent","WAWebNewsletterGatingUtils","WAWebOfflineDeviceCache","WAWebOfflineHandler","WAWebPDFNTypes","WAWebQueryAndUpdateGroupMetadataJob","WAWebQueryAndUpdateNewslettersMetadataAction","WAWebQueryBlockListJob","WAWebSyncd","WAWebTos","WAWebUserPrefsMeUser","WAWebWamoNewsletterGatingUtils","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=[]);a=a.map(function(a){return d("WAWebAccountSyncJob").AccountSyncType.cast(a)}).filter(Boolean);a.length===0&&(a=Array.from(d("WAWebAccountSyncJob").AccountSyncType.members()));yield (j||(j=b("Promise"))).all(a.map(function(a){if(a===d("WAWebAccountSyncJob").AccountSyncType.DEVICES)return o();else if(a===d("WAWebAccountSyncJob").AccountSyncType.PICTURE)return d("WAWebAccountSyncJob").getAndUpdateProfilePicture();else a===d("WAWebAccountSyncJob").AccountSyncType.PRIVACY?d("WAWebAccountSyncJob").updatePrivacySettings():a===d("WAWebAccountSyncJob").AccountSyncType.BLOCKLIST?void d("WAWebQueryBlockListJob").fetchAndUpdateBlocklist():a===d("WAWebAccountSyncJob").AccountSyncType.OPTOUTLIST?d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("updateOptOutList"):a===d("WAWebAccountSyncJob").AccountSyncType.NOTICE&&void p()}))});return l.apply(this,arguments)}function m(a){return a.patches!=null&&a.patches.length>0||a.snapshot!=null}function n(){d("WAWebCmd").Cmd.once(d("WAWebCmd").APP_STATE_SYNC_COMPLETED,function(a){a=a.some(m);new(d("WAWebMdAppStateDirtyBitsWamEvent").MdAppStateDirtyBitsWamEvent)({dirtyBitsFalsePositive:!a}).commit()});return d("WAWebSyncd").markCollectionsForSync(Array.from(d("WASyncdConst").CollectionName.members()))}function o(){if(!d("WAWebOfflineHandler").OfflineMessageHandler.hasInitOfflineResumeManager()){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleDeviceDirtyBit: offline resume manager not initialized"]))).tags("non-sad").sendLogs("handleDeviceDirtyBit: offline resume manager not initialized");return d("WAWebAccountSyncJob").getDevices("notification")}var a=String(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());if(!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()){d("WAWebOfflineDeviceCache").OfflinePendingDeviceCache.addOfflinePendingDevice(a,null);return(j||(j=b("Promise"))).resolve()}else if(d("WAWebOfflineHandler").OfflineMessageHandler.isResumeOnSocketDisconnectInProgress())return d("WAWebApiPendingDeviceSync").addUserToPendingDeviceSync([a]);return d("WAWebAccountSyncJob").getDevices("notification")}function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebTos").TosManager.run();var a=[d("WAWebNewsletterGatingUtils").getNewsletterProducerTos(),d("WAWebNewsletterGatingUtils").getNewsletterConsumerTos(),d("WAWebNewsletterGatingUtils").getNewsletterAdminInviteTos()].concat(d("WAWebWamoNewsletterGatingUtils").getWamoNotices()),b=[];a.map(function(a){a={id:a,accepted:d("WAWebTos").TosManager.getState(a)===d("WAWebPDFNTypes").NOTICE_STATUS.ACCEPTED};b.push(a)});return d("WAWebBackendApi").frontendFireAndForget("updateUserDisclosures",{userDisclosures:b})});return q.apply(this,arguments)}function a(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=a.supported,e=a.unsupported,f=a.protocols;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleDirtyBits: handle dirty bits, supported: ",", unsupported: ",""])),c.map(function(a){return a.type}).join(","),e.map(function(a){return a.type}).join(","));a=[].concat(e,c);yield (j||(j=b("Promise"))).all(c.map(function(a){a=a.type;if(a===d("WAWebDirtyBitsConsts").SUPPORTED_DIRTY_TYPE.groups)return d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd().then(function(){return d("WAWebQueryAndUpdateGroupMetadataJob").queryAndUpdateAllGroupMetadata({})});else if(a===d("WAWebDirtyBitsConsts").SUPPORTED_DIRTY_TYPE.newsletter_metadata)return d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd().then(function(){return d("WAWebQueryAndUpdateNewslettersMetadataAction").queryAndUpdateAllNewsletterMetadataAction(d("WAWebQueryAndUpdateNewslettersMetadataAction").NewsletterMetadataUpdateEntryPoint.DirtyBit,{messageCount:1})});else if(a===d("WAWebDirtyBitsConsts").SUPPORTED_DIRTY_TYPE.account_sync)return k(f);else if(a===d("WAWebDirtyBitsConsts").SUPPORTED_DIRTY_TYPE.syncd_app_state)return n()}));return d("WAWebClearDirtyBitsJob").clearDirtyBits(a)});return r.apply(this,arguments)}g.handleDirtyBits=a}),98);
__d("WAWebHistorySyncUIText",["fbt","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=function(){return h._(/*BTDS*/"Loading your chats")};b=function(a){return h._(/*BTDS*/"Syncing older messages. {=m2}",[h._implicitParam("=m2",j.jsx("button",{className:"x1a06ls3",onClick:a,children:h._(/*BTDS*/"See progress.")}))])};d=function(){return h._(/*BTDS*/"Syncing older messages. Click to see progress.")};e=function(){return h._(/*BTDS*/"Syncing older messages")};f=function(){return h._(/*BTDS*/"Keep WhatsApp open on your phone while syncing older messages. To see your full chat history, check your phone.")};c=function(a){return h._(/*BTDS*/"_j{\"*\":\"{percentage}\\u0025\"}",[h._param("percentage",a,[0])])};var k=function(){return h._(/*BTDS*/"Syncing older messages")},l=function(a){return h._(/*BTDS*/"_j{\"*\":\"{percentage}\\u0025 complete\"}",[h._param("percentage",a,[0])])},m=function(){return h._(/*BTDS*/"Syncing paused. Open WhatsApp on your phone to continue syncing.")},n=function(){return h._(/*BTDS*/"Syncing paused. Open WhatsApp on your phone to continue syncing.")},o=function(){return h._(/*BTDS*/"Syncing paused")},p=function(){return h._(/*BTDS*/"Open WhatsApp on your phone")},q=function(){return h._(/*BTDS*/"Syncing paused")},r=function(){return h._(/*BTDS*/"Syncing of older messages has paused. Open WhatsApp on your phone to continue syncing. You can still send and receive messages here.")};g.SYNC_LOADING=a;g.SYNC_IN_PROGRESS_CONTEXTUAL_DRAWER=b;g.SYNC_IN_PROGRESS_CONTEXTUAL_SYSTEM_MESSAGE_TEXT=d;g.SYNCING_OLDER_MESSAGES_MODAL_TITLE=e;g.SYNCING_OLDER_MESSAGES_MODAL_TEXT=f;g.SYNCING_OLDER_MESSAGES_MODAL_PERCENT=c;g.SYNCING_OLDER_MESSAGES_SETTINGS_TITLE=k;g.SYNCING_OLDER_MESSAGES_SETTINGS_PERCENT_COMPLETE=l;g.SYNCING_PAUSED_CONTEXTUAL_SYSTEM_MESSAGE_TEXT=m;g.SYNCING_PAUSED_CONTEXTUAL_TEXT=n;g.SYNCING_PAUSED_GLOBAL_SETTINGS_TITLE=o;g.SYNCING_PAUSED_GLOBAL_SETTINGS_SUBTITLE=p;g.SYNCING_PAUSED_POPUP_TITLE=q;g.SYNCING_PAUSED_POPUP_DESC=r}),226);
__d("WAWebLinkDeviceUtils",["Promise","WAWebAssetLoaderSingleton","WAWebEmojiAssetLoaderCompletionTracker","WAWebEmojiConst","WAWebMobilePlatforms","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("WAWebEmojiAssetLoader").__setRef("WAWebLinkDeviceUtils"),j=c("requireDeferred")("WAWebEmojiAssetLoaderConfig").__setRef("WAWebLinkDeviceUtils"),k=c("requireDeferred")("WAWebEmojiSetup").__setRef("WAWebLinkDeviceUtils");function a(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([i.load().then(function(a){return a.emojiAssetMapCreator}),j.load(),k.load()])),c=a[0],e=a[1];a=a[2];d("WAWebAssetLoaderSingleton").AssetLoader.setPlatform(d("WAWebMobilePlatforms").PLATFORMS.ANDROID);d("WAWebAssetLoaderSingleton").AssetLoader.initEmojiAsset(c(e()));d("WAWebEmojiAssetLoaderCompletionTracker").emojiCompletionTracker.beginPreloadFallback();a(d("WAWebEmojiConst").EMOJI_TYPE.WHATSAPP)});return l.apply(this,arguments)}g.genSetupEmojiForLinkDevice=a}),98);
__d("WAWebLoggedOutBanner.react",["WAWebArrowForwardIcon.react","WAWebClickable.react","WAWebExternalLink.react","WAWebFbtCommon","WAWebFlex.react","WAWebUISpacing","WAWebWarningOutlineIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={wrapper:{minHeight:"x4lt0of",boxSizing:"x9f619",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",$$css:!0},header:{lineHeight:"x1evy7pa",fontSize:"x1c3i2sq",color:"xhslqc4",$$css:!0},error:{backgroundColor:"x19lcxje",$$css:!0},errorIcon:{color:"x1tqhaal",$$css:!0},warn:{backgroundColor:"x1hxtir",$$css:!0},warningIcon:{color:"x1gnygd6",$$css:!0},moreHelpLinkIcon:{rotate:"x14ahhpt",$$css:!0},moreHelpLinkText:{color:"x1hql6x6",fontSize:"x1f6kntn",lineHeight:"x1evy7pa",fontWeight:"xk50ysn",$$css:!0}};function l(a){var b=a.link;return j.jsx(d("WAWebClickable.react").Clickable,{xstyle:k.moreHelpLinkText,as:"span",dataTestId:"link-device-qrcode-alt-linking-hint",onClick:function(){d("WAWebExternalLink.react").openExternalLink(b)},children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[c("WAWebFbtCommon")("Learn more"),j.jsx(d("WAWebArrowForwardIcon.react").ArrowForwardIcon,{width:20,height:20,iconXstyle:[k.moreHelpLinkIcon,d("WAWebUISpacing").uiMargin.start5]})]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.header,e=a.text,f=a.link;a=a.category;a=a==="error";f=f!=null?j.jsx(l,{link:f}):null;return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"start",grow:1,className:(i||(i=c("stylex")))(k.wrapper,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUISpacing").uiMargin.top0,d("WAWebUISpacing").uiMargin.bottom40,d("WAWebUISpacing").uiPadding.all15,a?k.error:k.warn),children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.top4,children:j.jsx(d("WAWebWarningOutlineIcon.react").WarningOutlineIcon,{width:28,height:28,iconXstyle:a?k.errorIcon:k.warningIcon})}),j.jsxs(d("WAWebFlex.react").FlexColumn,{className:i(d("WAWebUISpacing").uiMargin.start16),children:[j.jsx("div",babelHelpers["extends"]({},i.props(k.header,d("WAWebUISpacing").uiMargin.bottom5),{children:b})),j.jsxs("div",{className:"x1u7k74",children:[j.jsx("div",{children:e}),f]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPasswordInput.react",["fbt","WAWebClassnames","WAWebCopyPasteSelectable.react","WAWebIcVisibilityIcon.react","WAWebIcVisibilityOffIcon.react","WAWebSvgButton.react","WAWebSvgComponentBase","WAWebUISpacing","react","react-gui-use-focus","stylex","useMergeRefs","useWAWebToggle"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l;b=l||d("react");var m=j||(j=c("react")),n=b.useEffect,o=b.useRef,p=b.useState,q={inputField:{fontSize:"x1jchvi3",color:"xzwifym",flexGrow:"x1iyjqo2",borderTopWidth:"xsl91qr",borderInlineEndWidth:"x1aq9cx1",borderBottomWidth:"xe0m388",borderInlineStartWidth:"xhe8bae",borderTopStyle:"xe73qa2",borderInlineEndStyle:"xsgwwv8",borderBottomStyle:"xuhg6hn",borderInlineStartStyle:"xli3dgm",borderTopColor:"x1isl193",borderInlineEndColor:"x1e225iy",borderBottomColor:"x1bnlyaz",borderInlineStartColor:"x12ws5rt",outline:"x1a2a7pz",backgroundColor:"xe7vic5",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},inputFieldAppLockUpsell:{backgroundColor:"x1v8jjaa",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.focusOnMount,f=e===void 0?!1:e;e=a.enableShowPassword;e=e===void 0?!1:e;var g=a.showByDefault;g=g===void 0?!1:g;g=c("useWAWebToggle")(g);var j=g[0];g=g[1];var l=o(null),r=p(!1),s=r[0];r=r[1];r=d("react-gui-use-focus").useFocus({onFocusChange:r});r=c("useMergeRefs")(l,r,b);n(function(){if(f){var a;(a=l.current)==null||a.focus()}},[f]);b=j?d("WAWebIcVisibilityIcon.react").IcVisibilityIcon:d("WAWebIcVisibilityOffIcon.react").IcVisibilityOffIcon;var t=j?h._(/*BTDS*/"Hide"):h._(/*BTDS*/"Show");return m.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1n2onr6 x78zum5 xe7vic5 xt7fyls xso031l x1q0q8m5 x11dzelx x1j85h84"},1:{className:"x1n2onr6 x78zum5 xe7vic5 xt7fyls xv7zg05 x1q0q8m5 x1r079op x18d9i69"}}[!!s<<0],{children:[m.jsx("input",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(d("WAWebCopyPasteSelectable.react").SELECTABLE_CSS_CLASS,a.appLockUpsellEnabled===!0?(k||(k=c("stylex")))(q.inputField,q.inputFieldAppLockUpsell,d("WAWebUISpacing").uiPadding.top6,d("WAWebUISpacing").uiPadding.bottom6,d("WAWebUISpacing").uiPadding.end6):(k||(k=c("stylex")))(q.inputField,d("WAWebUISpacing").uiPadding.all6)),ref:r,type:j?"text":"password",value:a.value,onChange:a.onChange,onBlur:a.onBlur,onKeyDown:a.onKeyDown,required:a.required,pattern:a.pattern,title:a.title,placeholder:a.placeholder,"data-testid":void 0}),e&&m.jsx(c("WAWebSvgButton.react"),{Icon:b,"aria-label":t,xstyle:d("WAWebUISpacing").uiMargin.end8,onClick:g,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebScreenLockErrorMessages",["fbt"],(function(a,b,c,d,e,f,g,h){function a(a){var b=a.onlyOneTryRemaining,c=a.emptyInputEntered,d=a.incorrectPasscode;a=a.triesExceeded;if(a)return h._(/*BTDS*/"Incorrect password entered too many times. Please log out.");if(b){if(c==null)return h._(/*BTDS*/"Retry limit reached. You will be logged out if your next attempt fails.");else if(c===!0)return h._(/*BTDS*/"Empty password. You will be logged out if your next attempt fails.");if(d&&c===!1)return h._(/*BTDS*/"Incorrect password. You will be logged out if your next attempt fails.")}if(c===!0)return h._(/*BTDS*/"Empty password. Try again.");if(d)return h._(/*BTDS*/"Incorrect password. Try again.")}g.getErrorMessage=a}),226);
__d("useWAWebCountries",["WAWebCountriesUtils","WAWebL10N","useWAWebAsync","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){function a(a){var b=a.filterType;a=c("useWAWebEventTargetValue")(c("WAWebL10N"),"locale_change",function(){return c("WAWebL10N").getNormalizedLocale()});return c("useWAWebAsync")(function(){return d("WAWebCountriesUtils").getCountries({filter:b})},[b,a])}g.useCountries=a}),98);
__d("useWAWebDesktopUpsellWamImpression",["WAWebWamEnumWebcNativeUpsellCtaEventType","WAWebWamEnumWebcNativeUpsellCtaReleaseChannel","WAWebWebcNativeUpsellCtaWamEvent","react","useWAWebCallbackOnce"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=a.source,e=a.isCtaVisible,f=a.qrScreenExperimentGroup,g=a.isBeta,h=a.isBetaUser,j=c("useWAWebCallbackOnce")(function(){new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaEventType:d("WAWebWamEnumWebcNativeUpsellCtaEventType").WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE.IMPRESSION,webcNativeUpsellCtaSource:b,webcNativeUpsellCtaQrScreenExperimentGroup:f,webcNativeUpsellCtaReleaseChannel:g?d("WAWebWamEnumWebcNativeUpsellCtaReleaseChannel").WEBC_NATIVE_UPSELL_CTA_RELEASE_CHANNEL.BETA:d("WAWebWamEnumWebcNativeUpsellCtaReleaseChannel").WEBC_NATIVE_UPSELL_CTA_RELEASE_CHANNEL.PRODUCTION,webcNativeUpsellCtaIsBetaUser:h}).commit()});i(function(){e&&j()},[j,e])}g.useWAWebDesktopUpsellWamImpression=a}),98);
__d("useWAWebPersistentCounterAsync",["WALogger","asyncToGeneratorRuntime","react","useWAWebAsync"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function a(a,e){a=c("useWAWebAsync")(a,[]);var f=a.value,g=a.loading;a=a.error;var i=m(0),n=i[0],o=i[1],p=l(null);k(function(){!g&&f!=null&&o(f)},[g,f]);var q=j(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;(b=p.current)==null||b.abort();p.current=new AbortController();try{yield e(a,p.current.signal)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["useWAWebPersistentCounterAsync: ",""])),a)}p.current=null});return function(b){return a.apply(this,arguments)}}(),[e]);i=j(function(){o(function(a){a=a+1;void q(a);return a})},[q]);var r=j(function(){o(0),void q(0)},[q]);if(g)return[{loading:!0,error:null,count:null},i,r];return a?[{loading:!1,error:a,count:null},i,r]:[{loading:!1,error:null,count:n},i,r]}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("JSResource",["JSResourceReferenceImpl"],(function(a,b,c,d,e,f,g){var h={};function i(a,b){h[a]=b}function j(a){return h[a]}function a(a){a=a;var b=j(a);if(b)return b;b=new(c("JSResourceReferenceImpl"))(a);i(a,b);return b}a.loadAll=c("JSResourceReferenceImpl").loadAll;g["default"]=a}),98);
__d("JSResourceForInteraction",["JSResource"],(function(a,b,c,d,e,f,g){function a(a){return c("JSResource").call(null,a)}b=a;g["default"]=b}),98);
__d("WAAckLevel",[],(function(a,b,c,d,e,f){"use strict";a={SENDER_BACKFILL_SENT:-7,INACTIVE_RECEIVED:-6,CONTENT_UNUPLOADABLE:-5,CONTENT_TOO_BIG:-4,CONTENT_GONE:-3,EXPIRED:-2,FAILED:-1,CLOCK:0,SENT:1,RECEIVED:2,READ:3,PLAYED:4};f.ACK=a}),66);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){if(typeof a!=="number"){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"])),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}f=function(a){return a==null?a:k(a)};function a(a){return a==null||typeof a!=="number"?null:a}function b(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function c(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function e(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string'])),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits'])),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=f;g.maybeNumber=a;g.isBiggerLongInt=b;g.longIntToDecimalString=c;g.decimalStringToLongInt=e}),98);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAXmlParsingFailure",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.parser=a,this.reason=b}var b=a.prototype;b.toString=function(){return"XmlParsingFailure: "+this.parser+": "+this.reason};return a}();f.XmlParsingFailure=a}),66);
__d("WAParsableXmlNode",["WAHasProperty","WAXmlParsingFailure","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var c=this;this.$1=a;this.$2=b;this.$3=Array.isArray(b.content)?b.content.map(function(b){return new c.constructor(a,b)}):null}var b=a.prototype;b.name=function(){return this.$1};b.node=function(){return this.$2};b.hasAttr=function(a){return c("WAHasProperty")(this.$2.attrs,a)};b.assertTag=function(a){this.$2.tag!==a&&this["throw"]("to be <"+a+">")};b.tag=function(){return this.$2.tag};b.maybeChild=function(a){var b=this.$3;if(!b)return null;for(var c=0;c<b.length;c++)if(b[c].tag()===a)return b[c];return null};b.hasChild=function(a){return!!this.maybeChild(a)};b.child=function(a){var b=this.maybeChild(a);return!b?this["throw"]("to have child <"+a+">"):b};b.assertAttr=function(a,b){var c=this.attrString(a);c!==b&&this["throw"]('to have "'+a+'"="'+b+'", but instead has "'+c+'"')};b.attrString=function(a){return!c("WAHasProperty")(this.$2.attrs,a)?this["throw"]('to have attribute "'+a+'"'):this.decodeAsString(this.$2.attrs[a])};b.forEachAttributeKey=function(a){var b=this.$2.attrs;Object.keys(b).forEach(function(b){return a(b)})};b.maybeAttrString=function(a){return this.hasAttr(a)?this.decodeAsString(this.$2.attrs[a]):null};b.maybeAttrInt=function(a,b,c){return this.hasAttr(a)?this.attrInt(a,b,c):null};b.attrEnumValues=function(a,b,c){b=new Set(b);var d=this.attrString(a);if(!b.has(d)){if(c!=null)return c;c=Array.from(b).join("|");return this["throw"]('to have "'+a+'"={'+c+'} but has value "'+d+'"')}return d};b.attrEnum=function(a,b){var d=this.attrString(a);if(!c("WAHasProperty")(b,d)){var e=Object.keys(b).join("|");return this["throw"]('to have "'+a+'"={'+e+'} but has value "'+d+'"')}return b[d]};b.attrEnumOrNullIfUnknown=function(a,b){a=this.attrString(a);return!c("WAHasProperty")(b,a)?null:b[a]};b.attrEnumOrDefault=function(a,b,c){return this.hasAttr(a)?this.attrEnum(a,b):c};b.attrInt=function(a,b,c){var d=this.attrString(a);return this.$4(d,a,b,c)};b.$4=function(a,b,c,d){var e=parseInt(a,10);if(Number.isNaN(e))return this["throw"]('to have "'+b+'"={integer} but has value "'+a+'"');else if(c!==void 0&&e<c)return this["throw"]('to have "'+b+'"={at least '+c+"} but has value "+e);else if(d!==void 0&&e>=d)return this["throw"]('to have "'+b+'"={below '+d+"} but has value "+e);return e};b.forEachChild=function(a){var b=this.$3;if(b)b.forEach(function(b){return a(b)});else if(this.$2.content!=null)return this["throw"]("to have children")};b.forEachChildWithTag=function(a,b){this.forEachChild(function(c){c.tag()===a&&b(c)})};b.mapChildren=function(a){var b=this.$3;return!b&&this.$2.content!=null?this["throw"]("to have children"):b?b.map(function(b){return a(b)}):[]};b.mapChildrenWithTag=function(a,b){var c=this.$3;return!c&&this.$2.content!=null?this["throw"]("to have children"):c?c.filter(function(b){return b.tag()===a}).map(function(a){return b(a)}):[]};b.mapFirstChild=function(a){var b=this.$3;return!b||b.length===0?this["throw"]("to have children"):a(b[0])};b.hasContent=function(){return!this.$3&&!!this.$2.content};b.hasChildren=function(){return this.$3!=null};b.getChildren=function(){return this.$3};b.mapAttrKeys=function(a){var b=this.getAttrKeys();return b&&b.length?b.map(a):[]};b.getAttrKeys=function(){return Object.keys(this.$2.attrs)};b.hasAttrs=function(){var a=this.$2.attrs?Object.keys(this.$2.attrs):[];return a.length>0};b.getNode=function(){return this.$2};b.unsafeSetChildren=function(a){this.$3=a};b.unsafeSetNodeContent=function(a){this.$2.content=a};b.contentUint=function(a){var b=this.contentBytes(a);return h(b,a)};b.contentBytes=function(a){a===void 0&&(a=-1);if(this.$3)return this["throw"]("to have binary content, but has children instead");else if(this.$2.content!=null){var b=this.$2.content;return a!==-1&&b.length!==a?this["throw"]("to be "+a+" bytes, but got "+b.length+" instead"):b}else return this["throw"]("to have content")};b.contentString=function(){if(this.$3)return this["throw"]("to have string content, but has children instead");else if(this.$2.content!=null)return this.$2.content;else return this["throw"]("to have content")};b.contentInt=function(a,b){var c=this.contentString();return this.$4(c,"content",a,b)};b.contentEnum=function(a){var b=this.contentString();if(!c("WAHasProperty")(a,b)){var d=Object.keys(a).join("|");return this["throw"]("to have content {"+d+'} but has value "'+b+'"')}return a[b]};b.decodeAsString=function(a){if(typeof a!=="string")throw c("err")("decodeAsString: attribute is "+typeof a+" not a string: "+a);return a};b["throw"]=function(a){throw new(d("WAXmlParsingFailure").XmlParsingFailure)(this.$1,"expected <"+this.$2.tag+"> "+a)};b.toString=function(){return this.$2.toString()};return a}();function h(a,b){var c=0;for(var d=0;d<b;d++)c=c*256+a[d];return c}g.ParsableXmlNode=a;g.convertBytesToUint=h}),98);
__d("WACryptoPrimitives",["tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";b={scalarbase:(a=d("tweetnacl")).lowlevel.scalarbase,crypto_hash:a.lowlevel.crypto_hash,modL:a.lowlevel.modL,pack25519:a.lowlevel.pack25519,S:a.lowlevel.S,M:a.lowlevel.M,A:a.lowlevel.A,Z:a.lowlevel.Z,D:a.lowlevel.D,unpack25519:a.lowlevel.unpack25519,pow2523:a.lowlevel.pow2523,crypto_verify_32:a.lowlevel.crypto_verify_32,set25519:a.lowlevel.set25519,add:a.lowlevel.add,scalarmult:a.lowlevel.scalarmult};g.hash=a.hash;g.scalarMult=a.scalarMult;g.verify=a.verify;g.lowlevel=b;g.keypairFromSecretKey=a.box.keyPair.fromSecretKey;g.keyPair=a.box.keyPair;g.signDetachedVerify=a.sign.detached.verify}),98);
__d("WASignalLocalStorageProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={};a.internalSpec={sessionVersion:[1,(d=d("WAProtoConst")).TYPES.UINT32],localIdentityPublic:[2,d.TYPES.BYTES],remoteIdentityPublic:[3,d.TYPES.BYTES],rootKey:[4,d.TYPES.BYTES],previousCounter:[5,d.TYPES.UINT32],senderChain:[6,d.TYPES.MESSAGE,e],receiverChains:[7,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e],pendingKeyExchange:[8,d.TYPES.MESSAGE,c],pendingPreKey:[9,d.TYPES.MESSAGE,b],remoteRegistrationId:[10,d.TYPES.UINT32],localRegistrationId:[11,d.TYPES.UINT32],needsRefresh:[12,d.TYPES.BOOL],aliceBaseKey:[13,d.TYPES.BYTES]};b.internalSpec={preKeyId:[1,d.TYPES.UINT32],signedPreKeyId:[3,d.TYPES.INT32],baseKey:[2,d.TYPES.BYTES]};c.internalSpec={sequence:[1,d.TYPES.UINT32],localBaseKey:[2,d.TYPES.BYTES],localBaseKeyPrivate:[3,d.TYPES.BYTES],localRatchetKey:[4,d.TYPES.BYTES],localRatchetKeyPrivate:[5,d.TYPES.BYTES],localIdentityKey:[7,d.TYPES.BYTES],localIdentityKeyPrivate:[8,d.TYPES.BYTES]};e.internalSpec={senderRatchetKey:[1,d.TYPES.BYTES],senderRatchetKeyPrivate:[2,d.TYPES.BYTES],chainKey:[3,d.TYPES.MESSAGE,h],messageKeys:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f]};f.internalSpec={index:[1,d.TYPES.UINT32],cipherKey:[2,d.TYPES.BYTES],macKey:[3,d.TYPES.BYTES],iv:[4,d.TYPES.BYTES]};h.internalSpec={index:[1,d.TYPES.UINT32],key:[2,d.TYPES.BYTES]};i.internalSpec={currentSession:[1,d.TYPES.MESSAGE,a],previousSessions:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,a]};j.internalSpec={id:[1,d.TYPES.UINT32],publicKey:[2,d.TYPES.BYTES],privateKey:[3,d.TYPES.BYTES]};k.internalSpec={id:[1,d.TYPES.UINT32],publicKey:[2,d.TYPES.BYTES],privateKey:[3,d.TYPES.BYTES],signature:[4,d.TYPES.BYTES],timestamp:[5,d.TYPES.FIXED64]};l.internalSpec={publicKey:[1,d.TYPES.BYTES],privateKey:[2,d.TYPES.BYTES]};m.internalSpec={senderKeyId:[1,d.TYPES.UINT32],senderChainKey:[2,d.TYPES.MESSAGE,p],senderSigningKey:[3,d.TYPES.MESSAGE,n],senderMessageKeys:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,o]};n.internalSpec={"public":[1,d.TYPES.BYTES],"private":[2,d.TYPES.BYTES]};o.internalSpec={iteration:[1,d.TYPES.UINT32],seed:[2,d.TYPES.BYTES]};p.internalSpec={iteration:[1,d.TYPES.UINT32],seed:[2,d.TYPES.BYTES]};q.internalSpec={senderKeyStates:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m]};g.SessionStructureSpec=a;g.SessionStructure$PendingPreKeySpec=b;g.SessionStructure$PendingKeyExchangeSpec=c;g.SessionStructure$ChainSpec=e;g.SessionStructure$Chain$MessageKeySpec=f;g.SessionStructure$Chain$ChainKeySpec=h;g.RecordStructureSpec=i;g.PreKeyRecordStructureSpec=j;g.SignedPreKeyRecordStructureSpec=k;g.IdentityKeyPairStructureSpec=l;g.SenderKeyStateStructureSpec=m;g.SenderKeyStateStructure$SenderSigningKeySpec=n;g.SenderKeyStateStructure$SenderMessageKeySpec=o;g.SenderKeyStateStructure$SenderChainKeySpec=p;g.SenderKeyRecordStructureSpec=q}),98);
__d("WACryptoHkdf",["Promise","WABinary","WACryptoHmac","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=255*d("WACryptoHmac").SHA256_BYTE_LENGTH;function j(a,e,f){if(f<0||f>i)return(h||(h=b("Promise"))).reject(c("err")("HKDF::expand given bad length "+f));var g,j=Math.ceil(f/d("WACryptoHmac").SHA256_BYTE_LENGTH),k=d("WABinary").Binary.build(e).readByteArrayView(),l=new(d("WABinary").Binary)(),m=d("WACryptoHmac").encodeKeySha256(a).then(function(a){g=a;return new Uint8Array(0)});e=function(a){m=m.then(function(b){return d("WACryptoHmac").sign(g,d("WABinary").Binary.build(b,k,a).readByteArrayView())}).then(function(a){a=new Uint8Array(a);l.writeByteArray(a);return a})};for(a=1;a<=j;a++)e(a);return m.then(function(){return l.readBuffer(f)})}function a(a,b,c){return d("WACryptoHmac").extractSha256(null,a).then(function(a){return j(new Uint8Array(a),b,c)})}function e(a,b,c,e){return d("WACryptoHmac").extractSha256(b,a).then(function(a){return j(new Uint8Array(a),c,e)})}g.expand=j;g.extractAndExpand=a;g.extractWithSaltAndExpand=e}),98);
__d("WACryptoUtils",["WACryptoDependencies","WACryptoPrimitives","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(new Uint8Array(a),new Uint8Array(b))}function b(a,b){var c=new TextDecoder();return c.decode(a).toLowerCase()===c.decode(b).toLowerCase()}function h(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function e(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function f(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function i(a){if(a!==(a|0))throw c("err")("bound must be int32");if(a<=0)throw c("err")("bound must not be positive");var b=new Int32Array(1),e=-1>>>1;e=a*Math.floor(e/a);var f=-1;while(f===-1){d("WACryptoDependencies").getCrypto().getRandomValues(b);var g=b[0]>>>1;g<e&&(f=g%a)}return f}g.arrayBuffersEqual=a;g.arrayBuffersEqualCaseInsensitive=b;g.uint8ArraysEqual=h;g.rawKeysEqual=e;g.serializedPubKeysEqual=f;g.randomNumberLessThan=i}),98);
__d("WABaseProto",[],(function(a,b,c,d,e,f){"use strict";a="__tu";f.TAGGED_UNION_TAG=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long'])),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int'])),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range'])),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""])),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,h=b.oneofToFields,i=b.fieldToOneof,j=b.reservedTags,k=b.reservedFields,m=void 0;b=function(){var b=c[o],n=f[o],p=a[b],q=n&d("WAProtoConst").TYPE_MASK,r=t[q],u=(n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(n&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array'])),s(p)).color("red"),m={path:[b],error:"repeated field must be array"};else{q=g[o];for(n=0;n<p.length&&!m;n++)m=r(p[n],q),m&&m.path.push(b+"["+n+"]")}else if(u&&p!=null){n=g[o];q=n[0];u=n[1];n=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u;var v=t[q],w=t[n];if(v===void 0||w===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+n);for(n of p){var x=n[0],y=n[1];m=v(x,q);if(m){m.path.push(b+"'s key ["+x+"]");return{v:m}}m=w(y,u);if(m){m.path.push(b+"["+x+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[o]);m&&m.path.push(b);y=i[b];y&&y.forEach(function(c){var d=h[c].filter(function(a){return a!==b});d.forEach(function(d){typeof a[d]!=="undefined"&&(m={path:[c],error:"oneof '"+c+"' has fields '"+b+"' and '"+d+"' set"})})});j[e[o]]&&(m={path:[b],error:"tag "+e[o]+" is reserved"});k[b]&&(m={path:[b],error:"field "+b+" is reserved"})}};var n;for(var o=0;o<c.length&&!m;o++){n=b();if(n)return n.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("decodeProtobuf",["WABaseProto","WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function f(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e,f){var g=d("WAProtoCompile").compileSpec(a),k=g.names,l=g.fields,m=g.types,o=g.meta,p=g.oneofToFields,q=g.fieldToOneof,r=g.reservedTags,s=g.reservedFields;g=a.internalDefaults;var t=c||babelHelpers["extends"]({},g)||{};t.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(g=0;g<k.length;g++)m[g]&d("WAProtoConst").FLAGS.REPEATED?t[k[g]]=[]:m[g]===(d("WAProtoConst").TYPES.MAP&d("WAProtoConst").TYPE_MASK)&&(t[k[g]]=new Map());var u=0,v=l.length>0,w=l[0];c=function(){var a=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow),c=a&7;a=a>>>3;if(v&&a!==w){var g=u;do++u===l.length&&(u=0),w=l[u];while(a!==w&&u!==g)}if(v&&a===w){var x=k[u];g=m[u];h(c,g,x);var y=g&d("WAProtoConst").TYPE_MASK,z=o[u];if(g&d("WAProtoConst").FLAGS.PACKED){var A=b.readVarInt(d("WABinary").parseUint64OrThrow);A=b.readBinary(A);while(A.size()){var B=i(x,y,A);(y!==d("WAProtoConst").TYPES.ENUM||z[B]||(z.cast==null?void 0:z.cast(B))!==void 0)&&t[x].push(B)}}else if(y===d("WAProtoConst").TYPES.MESSAGE){B=b.readVarInt(d("WABinary").parseUint64OrThrow);A=b.readBinary(B);if(g&d("WAProtoConst").FLAGS.REPEATED)t[x].push(n(z,A,void 0,e,f));else{B=t[x];t[x]=n(z,A,B,e,f)}}else if(y===d("WAProtoConst").TYPES.MAP){A=b.readVarInt(d("WABinary").parseUint64OrThrow);B=b.readBinary(A);var C,D;for(A=0;A<o[u].length;A++){var E=j(B,0,4294967296,"map field and enc type",d("WABinary").parseInt64OrThrow),F=E&7;E=E>>>3;var G=void 0;switch(F){case d("WAProtoConst").ENC.VARINT:G=B.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:G=B.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:F=z[A];if(F===d("WAProtoConst").TYPES.BYTES||F===d("WAProtoConst").TYPES.STRING)G=i(x,F,B);else{var H=B.readVarInt(d("WABinary").parseUint64OrThrow);H=B.readBinary(H);G=n(F,H,void 0,e,f)}break;case d("WAProtoConst").ENC.BIT32:G=B.readBinary(4);break}E===1?C=G:D=G}t[x].set(C,D)}else{F=i(x,y,b);(y!==d("WAProtoConst").TYPES.ENUM||z[F]||(z.cast==null?void 0:z.cast(F))!==void 0)&&(g&d("WAProtoConst").FLAGS.REPEATED?t[x].push(F):t[x]=F)}H=q[x];H&&typeof t[x]!=="undefined"&&H.forEach(function(a){var b=p[a].filter(function(a){return a!==x});b.forEach(function(a){delete t[a]});if(f){t[a]=(b={type:x,value:t[x]},b[d("WABaseProto").TAGGED_UNION_TAG]=!0,b);delete t[x]}});(r[a]||s[x])&&delete t[x]}else{t.$$unknownFieldCount++;if(e){t.$$unsafeUnknownFields||(t.$$unsafeUnknownFields={});var I;switch(c){case d("WAProtoConst").ENC.VARINT:I=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:I=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:I=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:I=b.readBinary(4);break}t.$$unsafeUnknownFields[a]=I}else c===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):c===d("WAProtoConst").ENC.BIT64?b.advance(8):c===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):c===d("WAProtoConst").ENC.BIT32&&b.advance(4)}};while(b.size())c();return t}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithTaggedUnions=b;g.decodeProtobufWithUnknowns=e;g.getUnknownFields=f;g.assertEncType=h;g.readValue=i;g.readBoundVarInt=j}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArrayView()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else if(p===d("WAProtoConst").TYPES.MAP)for(o of l){r=o[0];var s=o[1];a.writeVarInt(k);var t=q[0],u=q[1],v=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u,w=m[t],x=m[v];if(w==null||x==null)throw new Error("Invalid encoder for map key/value");var y=new(d("WABinary").Binary)(),z=1*8|d("WAProtoUtils").typeToEncType(t);y.writeVarInt(z);w(y,r,t);z=2*8|d("WAProtoUtils").typeToEncType(v);y.writeVarInt(z);x(y,s,u);a.writeVarInt(y.size());a.writeBinary(y)}else{a.writeVarInt(k);w=m[p];w(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);
__d("WASignalOther",["WACryptoDependencies","WACryptoHkdf","WACryptoUtils","WAParsableXmlNode","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h={name:"AES-CBC"},i={name:"HMAC",hash:"SHA-256"};function j(a,b){if(a.length!==b)throw c("err")("Signal expected "+b+" bytes, given "+a.length);return a}function a(a,b){return j(new Uint8Array(a),b)}function b(a){var b=a.buffer,c=a.byteOffset;a=a.length;return c===0&&a===b.byteLength?b:b.slice(c,c+a)}function e(a,b){return a.readByteArrayView(b)}function f(a){return new Uint8Array(a)}function k(a,b,d){if(a.length-b<d)throw c("err")("Can not split off "+d+" bytes from index "+b+" of "+a.length+" bytes");return a.slice(b,b+d)}function l(a){a=a==="extendedRange"?(-1>>>1)-1:16380;return d("WACryptoUtils").randomNumberLessThan(a)+1}function m(a){return q(a)}function n(a){return d("WAParsableXmlNode").convertBytesToUint(a,4)}function o(){var a=-1>>>1;return d("WACryptoUtils").randomNumberLessThan(a)+1}function p(a){return q(a)}function q(a,b,d){b===void 0&&(b=0);d===void 0&&(d=4294967296);if(typeof a==="number"&&b<=a&&a<d&&Math.floor(a)===a)return a;else throw c("err")("Expected integer in range ["+b+", "+d+"), given "+String(a))}function r(a,b){return d("encodeProtobuf").encodeProtobuf(a,b).readByteArrayView()}function s(a,b,c){return c(d("decodeProtobuf").decodeProtobuf(a,b))}function t(a,b,c,e){return d("WACryptoHkdf").extractWithSaltAndExpand(a,b,c,e).then(function(a){return new Uint8Array(a)})}function u(a,b){var c,e;b==="hmac-sha256"?(c=i,e=["sign"]):(b,c=h,e=["encrypt","decrypt"]);return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",a,c,!1,e)}function v(a){return a}function w(a){return a}function x(a,b){return d("WACryptoUtils").arrayBuffersEqual(a,b)}g.AES_CBC=h;g.HMAC_SHA256=i;g.ensureSize=j;g.toBytes=a;g.toBuffer=b;g.readBytes=e;g.makeBytes=f;g.sliceBytes=k;g.makeRegistrationId=l;g.castRegistrationId=m;g.castRegistrationIdFromBytes=n;g.makeSenderKeyId=o;g.castSenderKeyId=p;g.ensureIntInRange=q;g.encodeSignalProto=r;g.decodeSignalProto=s;g.hkdf=t;g.makeCryptoKey=u;g.castToByteEncoded=v;g.castToSessionHash=w;g.areSessionHashesEqual=x}),98);
__d("WASignalKeys",["WACryptoDependencies","WACryptoPrimitives","WALogger","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=5,j=16777215;function k(a,b){return{publicKey:a,privateKey:b}}function a(a){a=d("WACryptoPrimitives").keypairFromSecretKey(a);var b=a.publicKey;a=a.secretKey;return k(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function b(a,b){return{publicKey:d("WASignalOther").toBytes(a,32),privateKey:d("WASignalOther").toBytes(b,32)}}function l(){var a=d("WACryptoPrimitives").keyPair(),b=a.publicKey;a=a.secretKey;a[0]&=248;a[31]=64|a[31]&63;return k(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function m(a,b){return k(d("WASignalOther").sliceBytes(b,1,32),a)}function n(a,b){return{serializedPubKey:b,privateKey:a}}function e(){var a=l();return n(a.privateKey,o(a))}function o(a){var b=d("WASignalOther").makeBytes(33);b[0]=i;b.set(a.publicKey,1);return b}function f(a){var b=d("WASignalOther").makeBytes(33);b[0]=i;b.set(d("WASignalOther").ensureSize(a,32),1);return b}function p(a){return n(a.privateKey,o(a))}function q(a,b){a=(a-1)%j;a<=0&&(a+=j);var c=[];for(var e=0;e<b;e++){var f=a===j?1:a+1,g=l(),h=d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,{id:f,publicKey:o(g),privateKey:g.privateKey});c.push({plainObject:{id:f,keyPair:g},record:h});a=f}return c}function r(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey;a=a.privateKey;return b==null||c==null||a==null?null:{id:s(b),keyPair:m(d("WASignalOther").toBytes(a,32),u(new Uint8Array(c)))}}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deserializePreKey error ",""])),a);return null}}function s(a){return d("WASignalOther").ensureIntInRange(a,1,j)}function t(a){return d("WASignalOther").ensureIntInRange(a,0,j)}function u(a){if(a.length===0||a[0]!==i)throw c("err")("Unrecognized public key type");return d("WASignalOther").ensureSize(a,33)}function v(){var a=d("WASignalOther").makeBytes(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a}function w(a,b){return d("WACryptoPrimitives").scalarMult(a,b.subarray(1)).buffer}g.KEY_TYPE=i;g.makeKeyPairFrom=a;g.makeKeyPairFromArrayBuffers=b;g.makeKeyPair=l;g.makeKeyPairFromSerialized=m;g.makeSerializedKeyPairFrom=n;g.makeSerializedKeyPair=e;g.serializePubKey=o;g.serializeIdentity=f;g.toSerializedKeyPair=p;g.makePreKeys=q;g.deserializePreKey=r;g.castToPreKeyId=s;g.castToSignedPreKeyId=t;g.castToSerializedPubKey=u;g.makeRawSenderKey=v;g.ecdh=w}),98);
__d("WATextEncoding",[],(function(a,b,c,d,e,f){"use strict";e=TextEncoder;var g=TextDecoder,h=e,i=g;function a(){return new h()}function b(){return new i()}function c(a){h=a}function d(a){i=a}f.newTextEncoder=a;f.newTextDecoder=b;f.setTextEncoderClass=c;f.setTextDecoderClass=d}),66);
__d("WAWapDict",[],(function(a,b,c,d,e,f){"use strict";a=3;b=["xmlstreamstart","xmlstreamend","s.whatsapp.net","type","participant","from","receipt","id","notification","disappearing_mode","status","jid","broadcast","user","devices","device_hash","to","offline","message","result","class","xmlns","duration","notify","iq","t","ack","g.us","enc","urn:xmpp:whatsapp:push","presence","config_value","picture","verified_name","config_code","key-index-list","contact","mediatype","routing_info","edge_routing","get","read","urn:xmpp:ping","fallback_hostname","0","chatstate","business_hours_config","unavailable","download_buckets","skmsg","verified_level","composing","handshake","device-list","media","text","fallback_ip4","media_conn","device","creation","location","config","item","fallback_ip6","count","w:profile:picture","image","business","2","hostname","call-creator","display_name","relaylatency","platform","abprops","success","msg","offline_preview","prop","key-index","v","day_of_week","pkmsg","version","1","ping","w:p","download","video","set","specific_hours","props","primary","unknown","hash","commerce_experience","last","subscribe","max_buckets","call","profile","member_since_text","close_time","call-id","sticker","mode","participants","value","query","profile_options","open_time","code","list","host","ts","contacts","upload","lid","preview","update","usync","w:stats","delivery","auth_ttl","context","fail","cart_enabled","appdata","category","atn","direct_connection","decrypt-fail","relay_id","mmg-fallback.whatsapp.net","target","available","name","last_id","mmg.whatsapp.net","categories","401","is_new","index","tctoken","ip4","token_id","latency","recipient","edit","ip6","add","thumbnail-document","26","paused","true","identity","stream:error","key","sidelist","background","audio","3","thumbnail-image","biz-cover-photo","cat","gcm","thumbnail-video","error","auth","deny","serial","in","registration","thumbnail-link","remove","00","gif","thumbnail-gif","tag","capability","multicast","item-not-found","description","business_hours","config_expo_key","md-app-state","expiration","fallback","ttl","300","md-msg-hist","device_orientation","out","w:m","open_24h","side_list","token","inactive","01","document","te2","played","encrypt","msgr","hide","direct_path","12","state","not-authorized","url","terminate","signature","status-revoke-delay","02","te","linked_accounts","trusted_contact","timezone","ptt","kyc-id","privacy_token","readreceipts","appointment_only","address","expected_ts","privacy","7","android","interactive","device-identity","enabled","attribute_padding","1080","03","screen_height"];c=["read-self","active","fbns","protocol","reaction","screen_width","heartbeat","deviceid","2:47DEQpj8","uploadfieldstat","voip_settings","retry","priority","longitude","conflict","false","ig_professional","replaced","preaccept","cover_photo","uncompressed","encopt","ppic","04","passive","status-revoke-drop","keygen","540","offer","rate","opus","latitude","w:gp2","ver","4","business_profile","medium","sender","prev_v_id","email","website","invited","sign_credential","05","transport","skey","reason","peer_abtest_bucket","America/Sao_Paulo","appid","refresh","100","06","404","101","104","107","102","109","103","member_add_mode","105","transaction-id","110","106","outgoing","108","111","tokens","followers","ig_handle","self_pid","tue","dec","thu","joinable","peer_pid","mon","features","wed","peer_device_presence","pn","delete","07","fri","audio_duration","admin","connected","delta","rcat","disable","collection","08","480","sat","phash","all","invite","accept","critical_unblock_low","group_update","signed_credential","blinded_credential","eph_setting","net","09","background_location","refresh_id","Asia/Kolkata","privacy_mode_ts","account_sync","voip_payload_type","service_areas","acs_public_key","v_id","0a","fallback_class","relay","actual_actors","metadata","w:biz","5","connected-limit","notice","0b","host_storage","fb_page","subject","privatestats","invis","groupadd","010","note.m4r","uuid","0c","8000","sun","372","1020","stage","1200","720","canonical","fb","011","video_duration","0d","1140","superadmin","012","Opening.m4r","keystore_attestation","dleq_proof","013","timestamp","ab_key","w:sync:app:state","0e","vertical","600","p_v_id","6","likes","014","500","1260","creator","0f","rte","destination","group","group_info","syncd_anti_tampering_fatal_exception_enabled","015","dl_bw","Asia/Jakarta","vp8/h.264","online","1320","fb:multiway","10","timeout","016","nse_retry","urn:xmpp:whatsapp:dirty","017","a_v_id","web_shops_chat_header_button_enabled","nse_call","inactive-upgrade","none","web","groups","2250","mms_hot_content_timespan_in_seconds","contact_blacklist","nse_read","suspended_group_deletion_notification","binary_version","018","https://www.whatsapp.com/otp/copy/","reg_push","shops_hide_catalog_attachment_entrypoint","server_sync",".","ephemeral_messages_allowed_values","019","mms_vcache_aggregation_enabled","iphone","America/Argentina/Buenos_Aires","01a","mms_vcard_autodownload_size_kb","nse_ver","shops_header_dropdown_menu_item","dhash","catalog_status","communities_mvp_new_iqs_serverprop","blocklist","default","11","ephemeral_messages_enabled","01b","original_dimensions","8","mms4_media_retry_notification_encryption_enabled","mms4_server_error_receipt_encryption_enabled","original_image_url","sync","multiway","420","companion_enc_static","shops_profile_drawer_entrypoint","01c","vcard_as_document_size_kb","status_video_max_duration","request_image_url","01d","regular_high","s_t","abt","share_ext_min_preliminary_image_quality","01e","32","syncd_key_rotation_enabled","data_namespace","md_downgrade_read_receipts2","patch","polltype","ephemeral_messages_setting","userrate","15","partial_pjpeg_bw_threshold","played-self","catalog_exists","01f","mute_v2"];d=["reject","dirty","announcement","020","13","9","status_video_max_bitrate","fb:thrift_iq","offline_batch","022","full","ctwa_first_business_reply_logging","h.264","smax_id","group_description_length","https://www.whatsapp.com/otp/code","status_image_max_edge","smb_upsell_business_profile_enabled","021","web_upgrade_to_md_modal","14","023","s_o","smaller_video_thumbs_status_enabled","media_max_autodownload","960","blocking_status","peer_msg","joinable_group_call_client_version","group_call_video_maximization_enabled","return_snapshot","high","America/Mexico_City","entry_point_block_logging_enabled","pop","024","1050","16","1380","one_tap_calling_in_group_chat_size","regular_low","inline_joinable_education_enabled","hq_image_max_edge","locked","America/Bogota","smb_biztools_deeplink_enabled","status_image_quality","1088","025","payments_upi_intent_transaction_limit","voip","w:g2","027","md_pin_chat_enabled","026","multi_scan_pjpeg_download_enabled","shops_product_grid","transaction_id","ctwa_context_enabled","20","fna","hq_image_quality","alt_jpeg_doc_detection_quality","group_call_max_participants","pkey","America/Belem","image_max_kbytes","web_cart_v1_1_order_message_changes_enabled","ctwa_context_enterprise_enabled","urn:xmpp:whatsapp:account","840","Asia/Kuala_Lumpur","max_participants","video_remux_after_repair_enabled","stella_addressbook_restriction_type","660","900","780","context_menu_ios13_enabled","mute-state","ref","payments_request_messages","029","frskmsg","vcard_max_size_kb","sample_buffer_gif_player_enabled","match_last_seen","510","4983","video_max_bitrate","028","w:comms:chat","17","frequently_forwarded_max","groups_privacy_blacklist","Asia/Karachi","02a","web_download_document_thumb_mms_enabled","02b","hist_sync","biz_block_reasons_version","1024","18","web_is_direct_connection_for_plm_transparent","view_once_write","file_max_size","paid_convo_id","online_privacy_setting","video_max_edge","view_once_read","enhanced_storage_management","multi_scan_pjpeg_encoding_enabled","ctwa_context_forward_enabled","video_transcode_downgrade_enable","template_doc_mime_types","hq_image_bw_threshold","30","body","u_aud_limit_sil_restarts_ctrl","other","participating","w:biz:directory","1110","vp8","4018","meta","doc_detection_image_max_edge","image_quality","1170","02c","smb_upsell_chat_banner_enabled","key_expiry_time_second","pid","stella_interop_enabled","19","linked_device_max_count","md_device_sync_enabled","02d","02e","360","enhanced_block_enabled","ephemeral_icon_in_forwarding","paid_convo_status","gif_provider","project_name","server-error","canonical_url_validation_enabled","wallpapers_v2","syncd_clear_chat_delete_chat_enabled","medianotify","02f","shops_required_tos_version","vote","reset_skey_on_id_change","030","image_max_edge","multicast_limit_global","ul_bw","21","25","5000","poll","570","22","031","1280","WhatsApp","032","bloks_shops_enabled","50","upload_host_switching_enabled","web_ctwa_context_compose_enabled","ptt_forwarded_features_enabled","unblocked","partial_pjpeg_enabled","fbid:devices","height","ephemeral_group_query_ts","group_join_permissions","order","033","alt_jpeg_status_quality","migrate","popular-bank","win_uwp_deprecation_killswitch_enabled","web_download_status_thumb_mms_enabled","blocking","url_text","035","web_forwarding_limit_to_groups","1600","val","1000","syncd_msg_date_enabled","bank-ref-id","max_subject","payments_web_enabled","web_upload_document_thumb_mms_enabled","size","request","ephemeral","24","receipt_agg","ptt_remember_play_position","sampling_weight","enc_rekey","mute_always","037","034","23","036","action","click_to_chat_qr_enabled","width","disabled","038","md_blocklist_v2","played_self_enabled","web_buttons_message_enabled","flow_id","clear","450","fbid:thread","bloks_session_state","America/Lima","attachment_picker_refresh","download_host_switching_enabled","1792","u_aud_limit_sil_restarts_test2","custom_urls","device_fanout","optimistic_upload","2000","key_cipher_suite","web_smb_upsell_in_biz_profile_enabled","e","039","siri_post_status_shortcut","pair-device","lg","lc","stream_attribution_url","model","mspjpeg_phash_gen","catalog_send_all","new_multi_vcards_ui","share_biz_vcard_enabled","-","clean","200","md_blocklist_v2_server","03b","03a","web_md_migration_experience","ptt_conversation_waveform","u_aud_limit_sil_restarts_test1"];e=["64","ptt_playback_speed_enabled","web_product_list_message_enabled","paid_convo_ts","27","manufacturer","psp-routing","grp_uii_cleanup","ptt_draft_enabled","03c","business_initiated","web_catalog_products_onoff","web_upload_link_thumb_mms_enabled","03e","mediaretry","35","hfm_string_changes","28","America/Fortaleza","max_keys","md_mhfs_days","streaming_upload_chunk_size","5541","040","03d","2675","03f","...","512","mute","48","041","alt_jpeg_quality","60","042","md_smb_quick_reply","5183","c","1343","40","1230","043","044","mms_cat_v1_forward_hot_override_enabled","user_notice","ptt_waveform_send","047","Asia/Calcutta","250","md_privacy_v2","31","29","128","md_messaging_enabled","046","crypto","690","045","enc_iv","75","failure","ptt_oot_playback","AIzaSyDR5yfaG7OG8sMTUj8kfQEb8T9pN8BM6Lk","w","048","2201","web_large_files_ui","Asia/Makassar","812","status_collapse_muted","1334","257","2HP4dm","049","patches","1290","43cY6T","America/Caracas","web_sticker_maker","campaign","ptt_pausable_enabled","33","42","attestation","biz","04b","query_linked","s","125","04a","810","availability","1411","responsiveness_v2_m1","catalog_not_created","34","America/Santiago","1465","enc_p","04d","status_info","04f","key_version","..","04c","04e","md_group_notification","1598","1215","web_cart_enabled","37","630","1920","2394","-1","vcard","38","elapsed","36","828","peer","pricing_category","1245","invalid","stella_ios_enabled","2687","45","1528","39","u_is_redial_audio_1104_ctrl","1025","1455","58","2524","2603","054","bsp_system_message_enabled","web_pip_redesign","051","verify_apps","1974","1272","1322","1755","052","70","050","1063","1135","1361","80","1096","1828","1851","1251","1921","key_config_id","1254","1566","1252","2525","critical_block","1669","max_available","w:auth:backup:token","product","2530","870","1022","participant_uuid","web_cart_on_off","1255","1432","1867","41","1415","1440","240","1204","1608","1690","1846","1483","1687","1749","69","url_number","053","1325","1040","365","59","Asia/Riyadh","1177","test_recommended","057","1612","43","1061","1518","1635","055","1034","1375","750","1430","event_code","1682","503","55","865","78","1309","1365","44","America/Guayaquil","535","LIMITED","1377","1613","1420","1599","1822","05a","1681","password","1111","1214","1376","1478","47","1082","4282","Europe/Istanbul","1307","46","058","1124","256","rate-overlimit","retail","u_a_socket_err_fix_succ_test","1292","1370","1388","520","861","psa","regular","1181","1766","05b","1183","1213","1304","1537"];var g=["1724","profile_picture","1071","1314","1605","407","990","1710","746","pricing_model","056","059","061","1119","6027","65","877","1607","05d","917","seen","1516","49","470","973","1037","1350","1394","1480","1796","keys","794","1536","1594","2378","1333","1524","1825","116","309","52","808","827","909","495","1660","361","957","google","1357","1565","1967","996","1775","586","736","1052","1670","bank","177","1416","2194","2222","1454","1839","1275","53","997","1629","6028","smba","1378","1410","05c","1849","727","create","1559","536","1106","1310","1944","670","1297","1316","1762","en","1148","1295","1551","1853","1890","1208","1784","7200","05f","178","1283","1332","381","643","1056","1238","2024","2387","179","981","1547","1705","05e","290","903","1069","1285","2436","062","251","560","582","719","56","1700","2321","325","448","613","777","791","51","488","902","Asia/Almaty","is_hidden","1398","1527","1893","1999","2367","2642","237","busy","065","067","233","590","993","1511","54","723","860","363","487","522","605","995","1321","1691","1865","2447","2462","NON_TRANSACTIONAL","433","871","432","1004","1207","2032","2050","2379","2446","279","636","703","904","248","370","691","700","1068","1655","2334","060","063","364","533","534","567","1191","1210","1473","1827","069","701","2531","514","prev_dhash","064","496","790","1046","1139","1505","1521","1108","207","544","637","final","1173","1293","1694","1939","1951","1993","2353","2515","504","601","857","modify","spam_request","p_121_aa_1101_test4","866","1427","1502","1638","1744","2153","068","382","725","1704","1864","1990","2003","Asia/Dubai","508","531","1387","1474","1632","2307","2386","819","2014","066","387","1468","1706","2186","2261","471","728","1147","1372","1961"],h=[c,d,e,g];f.DICT_VERSION=a;f.SINGLE_BYTE_TOKEN=b;f.DICTIONARY_0_TOKEN=c;f.DICTIONARY_1_TOKEN=d;f.DICTIONARY_2_TOKEN=e;f.DICTIONARY_3_TOKEN=g;f.DICTIONARIES=h}),66);
__d("WAWapJid",["$InternalEnum","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h={JID:0,JID_U:1,JID_AD:1,JID_FB:3,JID_INTEROP:4},i=b("$InternalEnum")({WHATSAPP:0,LID:1,HOSTED:128,HOSTED_LID:129});a=function(){function a(a){this.$1=a}a.createAD=function(b,c,d){return new a({type:h.JID_AD,user:b,device:d==null?0:d,agent:c==null?0:c,domainType:i.WHATSAPP})};a.createJidU=function(b,c,d){return new a({type:h.JID_U,user:b,device:d==null?0:d,domainType:c==null?i.WHATSAPP:c})};a.createFbJid=function(b,c){c=c==null?0:c;return new a({type:h.JID_FB,user:b,device:c})};a.createInteropJid=function(b,c,d){c=c==null?0:c;return new a({type:h.JID_INTEROP,user:b,device:c,integrator:d})};a.create=function(b,c){return new a({type:h.JID,user:b,server:c})};var b=a.prototype;b.toString=function(){if(this.$1.type===h.JID_AD||this.$1.type===h.JID_U){var a=this.$1,b=a.user,c=a.device;a=a.domainType;var e;a===i.WHATSAPP?e=d("WAJids").WA_USER_JID_SUFFIX:a===i.HOSTED?e=d("WAJids").HOSTED_SUFFIX:a===i.HOSTED_LID?e=d("WAJids").HOSTED_LID_SUFFIX:e=d("WAJids").LID_SUFFIX;return c===0?b+"@"+e:b+":"+c+"@"+e}else if(this.$1.type===h.JID_FB){a=this.$1;b=a.user;c=a.device;e=d("WAJids").MSGR_USER_JID_SUFFIX;return b+":"+c+"@"+e}else if(this.$1.type===h.JID_INTEROP){a=this.$1;b=a.user;c=a.device;e=a.integrator;a=d("WAJids").INTEROP_USER_JID_SUFFIX;return e+"-"+b+":"+c+"@"+a}else{this.$1.type;e=this.$1;b=e.user;c=e.server;return b!=null?b+"@"+c:c}};b.getInnerJid=function(){return this.$1};return a}();g.WAP_JID_SUBTYPE=h;g.DomainType=i;g.WapJid=a}),98);
__d("WAXmlFormatter",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns:/g,"~::~xmlns:").replace(/\s*xmlns=/g,"~::~xmlns=").split("~::~");var b=a.length,c=!1,d=0,e="",f=0,h=["\n"];for(f=0;f<100;f++)h.push(h[f]+"    ");var i=function(b,a){var c=/^<[\w:\-.,]+/.exec(b[a-1]);b=/^<\/[\w:\-.,]+/.exec(b[a]);return c!=null&&b!=null&&c[0]===b[0]};for(f=0;f<b;f++)a[f].search(/<!/)>-1?(e+=h[d]+a[f],c=!0,(a[f].search(/-->/)>-1||a[f].search(/\]>/)>-1||a[f].search(/!DOCTYPE/)>-1)&&(c=!1)):a[f].search(/-->/)>-1||a[f].search(/\]>/)>-1?(e+=a[f],c=!1):i(a,f)?(e+=a[f],c||d--):a[f].search(/<\w/)>-1&&a[f].search(/<\//)===-1&&a[f].search(/\/>/)===-1?(a[f]=g(a[f]),e=c?e+=a[f]:e+=h[d++]+a[f]):a[f].search(/<\w/)>-1&&a[f].search(/<\//)>-1?e=c?e+=a[f]:e+=h[d]+a[f]:a[f].search(/<\//)>-1?e=c?e+=a[f]:e+=h[d===0?d:--d]+a[f]:a[f].search(/\/>/)>-1?e=c?e+=a[f]:e+=h[d]+a[f]:a[f].search(/<\?/)>-1?e+=h[d]+a[f]:a[f].search(/xmlns:/)>-1||a[f].search(/xmlns=/)>-1?e+=h[d]+a[f]:e+=a[f];return e[0]==="\n"?e.slice(1):e}function g(a){var b=a.match(/(<query.*>|<result>)(\{.*\})/);if(b===null)return a;try{var c=b[1];b=JSON.stringify(JSON.parse(b[2]),null,2);return c+"\n"+b}catch(b){return a+"[Error formatting JSON]"}}f["default"]=a}),66);
__d("WAXmlNode",["WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h={};a=function(){function a(a,b,c){b===void 0&&(b=h),c===void 0&&(c=null),this.tag=a,this.attrs=b,this.content=c}var b=a.prototype;b.toString=function(){var a="<"+this.tag;a+=i(this.attrs);var b=this.content;Array.isArray(b)?a+=">"+b.map(String).join("")+"</"+this.tag+">":b instanceof Uint8Array?a+=">"+j(b)+"</"+this.tag+">":b!=null?a+=">"+String(b)+"</"+this.tag+">":a+=" />";return a};return a}();function i(a){var b=Object.keys(a),c="";for(var d=0;d<b.length;d++){var e=b[d];c+=" "+e+'="'+a[e].toString()+'"'}return c}function j(a){var b;a.length===0?b="<!-- empty binary -->":a.length<50?b=d("WAHex").bytesToDebugString(a):b="<!-- "+a.length+" bytes -->";return b}g.XmlNode=a;g.attrsToString=i;g.uint8ArrayToDebugString=j}),98);
__d("WAWap",["WAAssertUnreachable","WABinary","WACryptoDependencies","WAJids","WALogger","WALongInt","WATextEncoding","WAWapDict","WAWapJid","WAXmlFormatter","WAXmlNode","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k=d("WAJids")).MSGR_USER_DOMAIN.replace("@",""),aa=k.WA_USER_DOMAIN.replace("@",""),m=k.LID_DOMAIN.replace("@",""),n=k.INTEROP_DOMAIN.replace("@",""),o=k.HOSTED_DOMAIN.replace("@",""),p=2,ba=128,q=0,r=236,s=237,t=238,u=239,ca=[r,s,t,u],v=245,w=246,x=247,y=248,z=249,A=250,B=251,C=252,D=253,E=254,F=255,da=["0","1","2","3","4","5","6","7","8","9","-",".","\ufffd","\ufffd","\ufffd","\ufffd"],ea=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],G="",fa=1,H={sentinel:"DROP_ATTR"},I=(s=d("WAWapJid")).WapJid.create(null,"g.us"),J=s.WapJid.create(null,k.WA_SERVER_JID_SUFFIX);t=s.WapJid.create("status","broadcast");var K=s.WapJid.create(null,"newsletter");k=s.WapJid.create(null,"hosted");var ga=s.WapJid.create(null,"hosted.lid"),L=s.WapJid.create(null,"call"),M={},N=!1;function a(){N=!0}var ha=d("WATextEncoding").newTextEncoder(),O=function(){function a(a,b,c){b===void 0&&(b=M),c===void 0&&(c=null),this.tag=a,this.attrs=b,this.content=c}var b=a.prototype;b.toString=function(){var a="<"+this.tag;a+=d("WAXmlNode").attrsToString(this.attrs);var b=this.content;Array.isArray(b)?a+=">"+b.map(String).join("")+"</"+this.tag+">":b?a+=">"+d("WAXmlNode").uint8ArrayToDebugString(b)+"</"+this.tag+">":a+=" />";N&&(a=c("WAXmlFormatter")(a));return a};return a}();function b(a,b,e){var f=null;if(b&&b.children!=null)throw c("err")('Children should not be passed via props (see eslint check "react/no-children-props")');if(Array.isArray(e))f=e.filter(Boolean);else if(typeof e==="string")f=d("WABinary").Binary.build(e).readByteArrayView();else if(e instanceof ArrayBuffer)f=new Uint8Array(e);else if(e instanceof Uint8Array)f=e;else{var g=[];for(var h=2;h<arguments.length;h++){var i=arguments[h];i&&g.push(i)}f=g}Array.isArray(f)&&f.length===0&&(f=null);var j={};if(b){var k=b;Object.keys(k).forEach(function(b){if(["__self","__source"].includes(b))return;var d=k[b];if(d==null)throw c("err")("Attr "+b+" in <"+a+"> is null");if(d===H)return;j[b]=d})}return new O(a,j,f)}s=b;function e(a){return a instanceof d("WAWapJid").WapJid?a.toString():a}function P(a){var b=a.content;Array.isArray(b)?b=b.map(P):typeof b==="string"&&(b=d("WABinary").Binary.build(b).readByteArrayView());return new O(a.tag,a.attrs||M,b)}function f(a){a=a instanceof O?a:P(a);var b=new(d("WABinary").Binary)();Q(a,b);a=0;b=b.readByteArrayView();var c=new Uint8Array(1+b.length);c[0]=a;c.set(b,1);return c}function Q(a,b){if(a==null)b.writeUint8(q);else if(a instanceof O)R(a,b);else if(a instanceof d("WAWapJid").WapJid)ia(a,b);else if(typeof a==="string")V(a,b);else if(a instanceof Uint8Array)ka(a,b);else{a;b=typeof a;throw c("err")("Invalid payload type "+b)}}function ia(a,b){a=a.getInnerJid();if(a.type===d("WAWapJid").WAP_JID_SUBTYPE.JID_U){var c=a.user,e=a.device,f=a.domainType;b.writeUint8(x);b.writeUint8(f);b.writeUint8(e);Q(c,b)}else if(a.type===d("WAWapJid").WAP_JID_SUBTYPE.JID_FB){f=a.user;e=a.device;b.writeUint8(w);Q(f,b);b.writeUint16(e);Q(l,b)}else if(a.type===d("WAWapJid").WAP_JID_SUBTYPE.JID_INTEROP){c=a.user;f=a.device;e=a.integrator;b.writeUint8(v);Q(c,b);b.writeUint16(f);b.writeUint16(e)}else{c=a.user;f=a.server;b.writeUint8(A);c!=null?Q(c,b):b.writeUint8(q);Q(f,b)}}function R(a,b){if(a.tag===void 0){b.writeUint8(y);b.writeUint8(q);return}var c=1;a.attrs&&(c+=Object.keys(a.attrs).length*2);a.content&&c++;c<256?(b.writeUint8(y),b.writeUint8(c)):c<65536&&(b.writeUint8(z),b.writeUint16(c));Q(a.tag,b);a.attrs&&Object.keys(a.attrs).forEach(function(c){V(c,b),Q(a.attrs[c],b)});c=a.content;if(Array.isArray(c)){c.length<256?(b.writeUint8(y),b.writeUint8(c.length)):c.length<65536&&(b.writeUint8(z),b.writeUint16(c.length));for(var d=0;d<c.length;d++)R(c[d],b)}else c&&Q(c,b)}var S,T;function U(a){var b=new Map();for(var c=0;c<a.length;c++)b.set(a[c],c);return b}function V(a,b){if(a===""){b.writeUint8(C);b.writeUint8(0);return}S==null&&(S=U(d("WAWapDict").SINGLE_BYTE_TOKEN));var c=S.get(a);if(c!=null){b.writeUint8(c+1);return}if(T==null){T=[];for(c=0;c<d("WAWapDict").DICTIONARIES.length;++c)T.push(U(d("WAWapDict").DICTIONARIES[c]))}for(c=0;c<T.length;++c){var e=T[c].get(a);if(e!=null){b.writeUint8(ca[c]);b.writeUint8(e);return}}e=d("WABinary").numUtf8Bytes(a);if(e<128){c=/[^0-9.-]+?/;var f=/[^0-9A-F]+?/;if(!c.exec(a)){ja(a,F,b);return}else if(!f.exec(a)){ja(a,B,b);return}}la(e,b);b.writeString(a)}function ja(a,b,d){var e=a.length%2===1;d.writeUint8(b);var f=Math.ceil(a.length/2);e&&(f|=ba);d.writeUint8(f);e=0;for(f=0;f<a.length;f++){var g=a.charCodeAt(f),h=null;48<=g&&g<=57?h=g-48:b===F?g===45?h=10:g===46&&(h=11):b===B&&(65<=g&&g<=70&&(h=g-55));if(h==null)throw c("err")("Cannot nibble encode "+g);else f%2===0?(e=h<<4,f===a.length-1&&(e|=15,d.writeUint8(e))):(e|=h,d.writeUint8(e))}}function ka(a,b){la(a.length,b),b.writeByteArray(a)}function la(a,b){if(a<256)b.writeUint8(C),b.writeUint8(a);else if(a<1048576)b.writeUint8(D),b.writeUint8(a>>>16&255),b.writeUint8(a>>>8&255),b.writeUint8(a&255);else if(a<4294967296)b.writeUint8(E),b.writeUint32(a);else throw c("err")("Binary with length "+a+" is too big for WAP protocol")}function ma(a,b){a=new(d("WABinary").Binary)(a);var c=a.readUint8();c=c&p;if(c){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Decoding compressed stanza"])));return b(a.readByteArrayView()).then(function(a){return X(new(d("WABinary").Binary)(a))})}return Promise.resolve(X(a))}function na(a){a=new(d("WABinary").Binary)(a);var b=a.readUint8();b=b&p;if(b)throw c("err")("Cannot pass compressed stanza to decodeStanzaDebug");return X(a)}function W(a,b){var e=a.readUint8();if(e===q)return null;if(e===y)return oa(a,a.readUint8());if(e===z)return oa(a,a.readUint16());if(e===C){var f=a.readUint8();return Z(a,f,b)}if(e===D){f=a.readUint8();var g=a.readUint8(),h=a.readUint8();f=((f&15)<<16)+(g<<8)+h;return Z(a,f,b)}if(e===E){g=a.readUint32();return Z(a,g,b)}if(e===A)return qa(a);if(e===w)return ra(a);if(e===v)return sa(a);if(e===x)return ta(a);if(e===F){h=a.readUint8();f=h>>>7;g=h&127;return ua(a,da,f,g)}if(e===B){b=a.readUint8();h=b>>>7;f=b&127;return ua(a,ea,h,f)}if(e<=0||e>=240)throw c("err")("Unable to decode WAP buffer");if(e>=r&&e<=u){g=e-r;b=d("WAWapDict").DICTIONARIES[g];if(b===void 0)throw c("err")("Missing WAP dictionary "+g);h=a.readUint8();f=b[h];if(f===void 0)throw c("err")("Invalid value index "+h+" in dict "+g);return f}a=d("WAWapDict").SINGLE_BYTE_TOKEN[e-1];if(a===void 0)throw c("err")("Undefined token with index "+e);return a}function oa(a,b){var c=[];for(var d=0;d<b;d++)c.push(X(a));return c}function X(a){var b=a.readUint8(),e;if(b===y)e=a.readUint8();else if(b===z)e=a.readUint16();else throw c("err")("Failed to decode node since type byte "+String(b)+" is invalid");b=void 0;var f=null;if(e===0)throw c("err")("Failed to decode node, list cannot be empty");var g=Y(a);e-=1;while(e>1){b||(b={});var h=Y(a),i=W(a,!0);b[h]=i;e-=2}e===1&&(f=W(a,!1),f instanceof d("WAWapJid").WapJid&&(f=String(f)),typeof f==="string"&&(f=ha.encode(f)));return new O(g,b,f)}function Y(a){a=W(a,!0);if(typeof a!=="string"){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["decodeString got invalid value: ",", string expected"])),String(a));throw c("err")("WAWap:decodeString got invalid value, string expected")}return a}function pa(a){a=W(a,!0);if(a!=null&&typeof a!=="string"){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["decodeNullableString got invalid value: ",", string expected"])),String(a));throw c("err")("WAWap:decodeNullableString got invalid value, string expected")}return a}function qa(a){var b=pa(a);a=Y(a);return d("WAWapJid").WapJid.create(b,a)}function ra(a){var b=Y(a),c=a.readUint16();Y(a);return d("WAWapJid").WapJid.createFbJid(b,c)}function sa(a){var b=Y(a),c=a.readUint16(),e=a.readUint16();Y(a);return d("WAWapJid").WapJid.createInteropJid(b,c,e)}function ta(a){var b=null,e=a.readUint8();if(e===0)b=d("WAWapJid").DomainType.WHATSAPP;else if(e===1)b=d("WAWapJid").DomainType.LID;else if((1&e)===0&&(128&e)!==0)b=d("WAWapJid").DomainType.HOSTED;else if(e===129)b=d("WAWapJid").DomainType.HOSTED_LID;else throw c("err")("decodeJidU - Invalid domain type encoding "+e);e=a.readUint8();a=Y(a);return d("WAWapJid").WapJid.createJidU(a,b,e)}function Z(a,b,c){c===void 0&&(c=!1);if(c)return a.readString(b);else return a.readByteArrayView(b)}function ua(a,b,c,d){d=new Array(d*2-c);for(var e=0;e<d.length-1;e+=2){var f=a.readUint8();d[e]=b[f>>>4];d[e+1]=b[f&15]}if(c){f=a.readUint8();d[d.length-1]=b[f>>>4]}return d.join("")}function va(){if(!G){var a=new Uint16Array(2);d("WACryptoDependencies").getCrypto().getRandomValues(a);G=String(a[0])+"."+String(a[1])+"-"}return""+G+fa++}function wa(a){switch(a.type){case"group":return a.groupJid;case"status":return d("WAJids").STATUS_JID;case"device":return a.deviceJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;case"hostedLid":return a.hostedLidDeviceJid;default:a.type;return a.broadcastJid}}function xa(a){switch(a.type){case"group":return a.author;case"status":return a.author;case"broadcast":return a.author;default:a.type;return null}}function ya(a){return a.type==="status"||a.type==="group"||a.type==="broadcast"?$(a.author):H}function za(a){return $(wa(a))}function $(a){var b=d("WAJids").validateDomainJid(a);if(b!=null)return Aa(b);b=a.split("@");a=b[0];b=b[1];var e=null;if((b===aa||b===l||b===n||b===m||b===o||b===d("WAJids").HOSTED_LID_SUFFIX)&&a.indexOf(":")!==-1){var f=a.split(":");a=f[0];f=f[1];e=parseInt(f,10)}if(b===n){f=a.split("-");var g=f[0];f=f[1];return d("WAWapJid").WapJid.createInteropJid(f,e,parseInt(g,10))}else if(b===l)return d("WAWapJid").WapJid.createFbJid(a,e);f=null;if(b===m)f=d("WAWapJid").DomainType.LID;else if(b===o){if(e!==99)throw c("err")("wid unexpected deviceId");f=d("WAWapJid").DomainType.HOSTED}else if(b===d("WAJids").HOSTED_LID_SUFFIX){if(e!==99)throw c("err")("lid invalid deviceId");f=d("WAWapJid").DomainType.HOSTED_LID}else f=d("WAWapJid").DomainType.WHATSAPP;return e!=null&&e!==0?d("WAWapJid").WapJid.createJidU(a,f,e):d("WAWapJid").WapJid.create(a,b)}function Aa(a){if(a==="s.whatsapp.net")return J;else if(a==="g.us")return I;else if(a==="newsletter")return K;else if(a==="call")return L;else return c("WAAssertUnreachable")(a)}function Ba(a){return $(a)}function Ca(a){return $(a)}function Da(a){return $(a)}function Ea(a){return $(a)}function Fa(a){return $(a)}function Ga(a){return $(a)}function Ha(a){if(a.jidType==="phoneDevice")return $(a.deviceJid);else if(a.jidType==="msgrDevice")return $(a.deviceJid);else if(a.jidType==="lidDevice")return $(a.deviceJid);else if(a.jidType==="phoneUser")return $(a.userJid);else if(a.jidType==="msgrUser")return $(a.userJid);else if(a.jidType==="lidUser")return $(a.userJid);else if(a.jidType==="group")return $(a.groupJid);else if(a.jidType==="status")return $(a.statusJid);else if(a.jidType==="call")return $(a.callJid);else if(a.jidType==="interopDevice")return $(a.deviceJid);else if(a.jidType==="interopUser")return $(a.userJid);else if(a.jidType==="newsletter")return $(a.newsletterJid);else if(a.jidType==="hosted")return $(a.hostedDeviceJid);else if(a.jidType==="hostedLid")return $(a.hostedLidDeviceJid);else if(a.jidType==="bot")return $(a.botJid);else{a.jidType;return $(a.broadcastJid)}}function Ia(a){return a}function Ja(a){return a.toString()}function Ka(a){return a}function La(a){return a}function Ma(a){return a==null?H:a}function Na(a){return a.toString()}function Oa(a){return d("WALongInt").longIntToDecimalString(a)}function Pa(a,b){b===void 0&&(b=4);a=a;var c=new Uint8Array(b);for(b=b-1;b>=0;b--)c[b]=a&255,a>>>=8;return c}g.DROP_ATTR=H;g.G_US=I;g.S_WHATSAPP_NET=J;g.STATUS_BROADCAST=t;g.NEWSLETTER=K;g.HOSTED=k;g.HOSTED_LID=ga;g.CALL=L;g.enableXMLFormat=a;g.WapNode=O;g.makeWapNode=b;g.wap=s;g.decodeAsString=e;g.makeStanza=P;g.encodeStanza=f;g.decodeStanza=ma;g.decodeStanzaDebug=na;g.generateId=va;g.extractToJid=wa;g.extractParticipantJid=xa;g.PARTICIPANT_JID=ya;g.TO_JID=za;g.JID=$;g.DOMAIN_JID=Aa;g.USER_JID=Ba;g.DEVICE_JID=Ca;g.GROUP_JID=Da;g.BROADCAST_JID=Ea;g.CALL_JID=Fa;g.NEWSLETTER_JID=Ga;g.TO_WAP_JID=Ha;g.STANZA_ID=Ia;g.SMAX_ID=Ja;g.CUSTOM_STRING=Ka;g.CALL_ID=La;g.MAYBE_CUSTOM_STRING=Ma;g.INT=Na;g.LONG_INT=Oa;g.BIG_ENDIAN_CONTENT=Pa}),98);
__d("WAParsableWapNode",["WABinary","WAJids","WALogger","WALongInt","WAParsableXmlNode","WASignalKeys","WATimeUtils","WAWap","WAWapJid","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){function b(b,c){var d;d=a.call(this,"XmppParsingFailure: "+b+": "+c)||this;d.name="XmppParsingFailure";d.parser=b;d.reason=c;return d}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toString=function(){return"XmppParsingFailure: "+this.parser+": "+this.reason};return b}(babelHelpers.wrapNativeSuper(Error));a=function(a){function b(b,c){return a.call(this,b,c)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.assertFromServer=function(){var a=this.attrString("from");a!==d("WAJids").WA_SERVER_JID_SUFFIX&&this["throw"]('to have "from"="s.whatsapp.net", but instead has "'+a+'"')};e.attrUserJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);if(c.botJid!=null)return c.botJid;else if(c.userJid==null)return this["throw"]('to have "'+a+'"={UserJid}, but instead has "'+b+'"');return c.userJid};e.attrPhoneUserJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);return c.jidType==="phoneUser"?c.userJid:this["throw"]('to have "'+a+'"={PhoneUserJid}, but instead has "'+b+'"')};e.attrLidUserJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);return c.jidType==="lidUser"?c.userJid:this["throw"]('to have "'+a+'"={LidUserJid}, but instead has "'+b+'"')};e.maybeAttrUserJid=function(a){return this.hasAttr(a)?this.attrUserJid(a):null};e.maybeAttrPhoneUserJid=function(a){return this.hasAttr(a)?this.attrPhoneUserJid(a):null};e.maybeAttrLidUserJid=function(a){return this.hasAttr(a)?this.attrLidUserJid(a):null};e.attrGroupJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);return c.groupJid==null?this["throw"]('to have "'+a+'"={GroupJid}, but instead has "'+b+'"'):c.groupJid};e.maybeAttrGroupJid=function(a){return this.hasAttr(a)?this.attrGroupJid(a):null};e.attrChatJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);if(c.userJid!=null)return c.userJid;return c.groupJid!=null?c.groupJid:this["throw"]('to have "'+a+'"={ChatJid}, but instead has "'+b+'"')};e.attrPhoneChatJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);if(c.jidType==="phoneUser")return c.userJid;else if(c.jidType==="group")return c.groupJid;else return this["throw"]('to have "'+a+'"={ChatJid}, but instead has "'+b+'"')};e.attrDeviceJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);if(c.deviceJid!=null)return c.deviceJid;if(c.userJid!=null)return d("WAJids").defaultDeviceJidForUser(c.userJid);if(c.hostedDeviceJid!=null)return c.hostedDeviceJid;if(c.hostedLidDeviceJid!=null)return c.hostedLidDeviceJid;return c.botJid!=null?c.botJid:this["throw"]('to have "'+a+'"={DeviceJid}, but instead has "'+b+'"')};e.attrPhoneDeviceJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);if(c.jidType==="phoneDevice")return c.deviceJid;return c.jidType==="phoneUser"?d("WAJids").defaultPhoneDeviceJidForUser(c.userJid):this["throw"]('to have "'+a+'"={PhoneDeviceJid}, but instead has "'+b+'"')};e.attrLidDeviceJid=function(a){var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);if(c.jidType==="lidDevice")return c.deviceJid;return c.jidType==="lidUser"?d("WAJids").defaultLidDeviceJidForLidUserJid(c.userJid):this["throw"]('to have "'+a+'"={LidDeviceJid}, but instead has "'+b+'"')};e.attrDeviceId=function(a){a=this.attrInt(a);return d("WAJids").interpretAsDeviceId(a)};e.attrFromJidChat=function(){var a=this.attrJidWithType();switch(a.jidType){case"msgrUser":var b=a.userJid,e=d("WAJids").defaultDeviceJidForUser(b);return{type:"device",chat:b,deviceJid:e,author:e};case"interopUser":b=a.userJid;e=d("WAJids").defaultDeviceJidForUser(b);return{type:"device",chat:b,deviceJid:e,author:e};case"phoneUser":b=a.userJid;e=d("WAJids").defaultDeviceJidForUser(b);return{type:"device",chat:b,deviceJid:e,author:e};case"lidUser":b=a.userJid;e=d("WAJids").defaultLidDeviceJidForLidUserJid(b);return{type:"device",chat:b,deviceJid:e,author:e};case"phoneDevice":b=a.deviceJid;return{type:"device",chat:d("WAJids").extractUserJid(b),deviceJid:b,author:b};case"msgrDevice":e=a.deviceJid;return{type:"device",chat:d("WAJids").extractUserJid(e),deviceJid:e,author:e};case"interopDevice":b=a.deviceJid;return{type:"device",chat:d("WAJids").extractUserJid(b),deviceJid:b,author:b};case"lidDevice":e=a.deviceJid;return{type:"device",chat:d("WAJids").extractUserJid(e),deviceJid:e,author:e};case"group":b=this.hasAttr("participant")?this.attrDeviceJid("participant"):null;return b==null?this["throw"]("expected to have participant JID for group"):{type:"group",chat:a.groupJid,groupJid:a.groupJid,author:b};case"broadcast":e=this.hasAttr("participant")?this.attrDeviceJid("participant"):null;return e==null?this["throw"]("expected to have participant JID for group"):{type:"broadcast",broadcastJid:a.broadcastJid,chat:d("WAJids").extractUserJid(e),author:e};case"hosted":b=a.hostedDeviceJid;return{type:"device",chat:d("WAJids").extractUserJid(b),deviceJid:b,author:b};case"hostedLid":e=a.hostedLidDeviceJid;return{type:"device",chat:d("WAJids").extractUserJid(e),deviceJid:e,author:e};case"call":d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["ParsableWapNode: attrFromJid() is called with ",""])),a.callJid);throw c("err")("ParsableWapNode: attrFromJid() does not support CallJid");default:a.jidType;return this["throw"]("attrFromJidChat should not be used with jid of type "+a.jidType)}};e.attrFromJidPhoneChat=function(){var a=this.attrJidWithType();switch(a.jidType){case"phoneUser":var b=a.userJid,e=d("WAJids").defaultPhoneDeviceJidForUser(b);return{type:"device",chat:b,deviceJid:e,author:e};case"phoneDevice":b=a.deviceJid;return{type:"device",chat:d("WAJids").extractPhoneUserJid(b),deviceJid:b,author:b};case"group":e=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return e==null?this["throw"]("expected to have participant JID for group"):{type:"group",chat:a.groupJid,groupJid:a.groupJid,author:e};case"broadcast":b=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return b==null?this["throw"]("expected to have participant JID for group"):{type:"broadcast",broadcastJid:a.broadcastJid,chat:d("WAJids").extractPhoneUserJid(b),author:b};case"call":d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["ParsableWapNode: attrFromJid() is called with ",""])),a.callJid);throw c("err")("ParsableWapNode: attrFromJid() does not support CallJid");default:a.jidType;return this["throw"]("attrFromJidChat should not be used with jid of type "+a.jidType)}};e.attrFromPhoneJid=function(){var a=this.attrJidWithType();if(a.jidType==="status"){a=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return a==null?this["throw"]("to have participant for status msg"):{type:"status",author:a}}else return this.attrFromJidPhoneChat()};e.attrFromJid=function(){var a=this.attrJidWithType();if(a.jidType==="status"){var b=this.hasAttr("participant")?this.attrPhoneDeviceJid("participant"):null;return b==null?this["throw"]("to have participant for status msg"):{type:"status",author:b}}if(a.jidType==="newsletter")return{type:"newsletter",newsletterJid:a.newsletterJid};if(a.jidType==="hosted")return{type:"hosted",hostedDeviceJid:a.hostedDeviceJid};return a.jidType==="hostedLid"?{type:"hostedLid",hostedLidDeviceJid:a.hostedLidDeviceJid}:this.attrFromJidChat()};e.attrJidWithType=function(a){a===void 0&&(a="from");var b=this.attrString(a),c=d("WAJids").interpretAndValidateJid(b);return c.jidType==="unknown"?this["throw"]('to have "'+a+'"={Jid}, but instead has "'+b+'"'):c};e.attrWapJid=function(a){a===void 0&&(a="from");a=this.attrString(a);var b=d("WAJids").interpretAndValidateJid(a);return b.jidType==="unknown"?d("WAWapJid").WapJid.create(null,a):d("WAWap").JID(d("WAJids").extractFromJid(b))};e.attrLongInt=function(a){a=this.attrString(a);return d("WALongInt").decimalStringToLongInt(a)};e.attrTime=function(a){return d("WATimeUtils").castToUnixTime(this.attrInt(a))};e.attrFutureTime=function(a){a=this.attrInt(a);return d("WATimeUtils").futureUnixTime(a)};e.contentString=function(){if(this.hasChildren())return this["throw"]("to have string content, but has children instead");else if(this.hasContent()){var a=new(d("WABinary").Binary)(this.contentBytes());return a.readString(a.size())}else return this["throw"]("to have content")};e.decodeAsString=function(a){return d("WAWap").decodeAsString(a)};e.contentSerializedPubKey=function(){if(this.hasContent())return d("WASignalKeys").serializeIdentity(this.contentBytes());else return this["throw"]("to have content")};e.createParseError=function(a){return new j(this.name(),"expected <"+this.tag()+"> "+a)};e["throw"]=function(a){throw this.createParseError(a)};return b}(d("WAParsableXmlNode").ParsableXmlNode);g.XmppParsingFailure=j;g.ParsableWapNode=a}),98);
__d("WADeprecatedWapParser",["WAParsableWapNode","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.parse=function(a){a=new(d("WAParsableWapNode").ParsableWapNode)(this.$1,a);try{return{success:this.$2(a)}}catch(a){if(a instanceof d("WAParsableWapNode").XmppParsingFailure)return{error:a};else throw a}};b.parseOrThrow=function(a){a=this.parse(a);if(a.error)throw c("err")(String(a.error));return a.success};return a}();g["default"]=a}),98);
__d("WAAckParser",["WADeprecatedWapParser","WAJids"],(function(a,b,c,d,e,f,g){"use strict";b=new(c("WADeprecatedWapParser"))("ack",function(a){a.assertTag("ack");return{id:a.attrString("id"),ts:a.maybeAttrString("t"),"class":a.attrString("class"),type:a.maybeAttrString("type"),from:a.attrJidWithType(),participant:a.hasAttr("participant")?a.attrDeviceJid("participant"):null,recipient:a.hasAttr("recipient")?a.attrUserJid("recipient"):null}});function a(a,b){return a.id===b.id&&(b["class"]===void 0||a["class"]===b["class"])&&(b.type===void 0||a.type===b.type)&&(b.from===void 0||h(a.from,b.from))&&(b.participant===void 0||a.participant===b.participant)&&(b.recipient===void 0||a.recipient===b.recipient)&&(b.ts===void 0||a.ts===b.ts)}function h(a,b){if(d("WAJids").extractFromJid(a)===b)return!0;if(a.userJid!=null)return d("WAJids").defaultDeviceJidForUser(a.userJid)===b;if(a.deviceJid!=null){a=a.deviceJid;return d("WAJids").extractDeviceId(a)===0&&d("WAJids").extractUserJid(a)===b}return!1}g.AckParser=b;g.ackMatchesTemplate=a;g.fromJidsAreEqual=h}),98);
__d("WAArrayBufferUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function d(a,c){c===void 0&&(c=5e5);return new(h||(h=b("Promise")))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;setTimeout(i,0);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}setTimeout(i,16)}})}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var i=8388607;function f(a,b){a=new Uint8Array(a);if(b>i)throw c("err")("Divisor is too big");var d=0;for(var e=0;e<a.length;++e)d=((d<<8)+a[e])%b;return d}function j(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function k(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return l(a,b)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}g.stringToArrayBuffer=a;g.largeStringToArrayBuffer=d;g.arrayBufferToString=e;g.arrayBufferMod=f;g.concatBuffers=j;g.arrayBuffersEqualUNSAFE=k;g.uint8ArraysEqualUNSAFE=l}),98);
__d("WAArrayGroupBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();for(var d=0;d<a.length;d++){var e=b(a[d]),f=c.get(e);f==null?c.set(e,[a[d]]):f.push(a[d])}return Array.from(c.entries())}f.groupBy=a}),66);
__d("WAArrayUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a}function a(a,b){var c=a.pop();b<a.length&&(a[b]=c)}function* b(a,b){for(var c=0;c<a.length;c+=b)yield a.slice(c,c+b)}function c(a,b){return h(a,b,g)}function h(a,b,c){var d=new Map();for(a of a){var e,f=b(a);e=(e=d.get(f))!=null?e:[];e.push(c(a));d.set(f,e)}return d}f.removeIndexWithoutPreservingOrder=a;f.peekEvery=b;f.groupBy=c;f.groupByAndMap=h}),66);
__d("WAAsyncSleep",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b===void 0&&(b=200),c===void 0&&(c=200),a>0&&a%b===0&&(yield i(c))});return h.apply(this,arguments)}function i(a){return new(g||(g=b("Promise")))(function(b){return setTimeout(b,a)})}f.asyncSleepAfterGivenLoopIteration=a;f.asyncSleep=i}),66);
__d("WARetryPromise",["Promise","WAAbortError","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return new(h||(h=b("Promise")))(function(f,g){var i=0,j,k=!1;if(e){var l=function(){e.removeEventListener("abort",l),k=!0,j!=null&&clearTimeout(j),g(new(d("WAAbortError").AbortError)())};if(e.aborted){l();return}e.addEventListener("abort",l)}function m(){var d=!1,e=!1;j=null;try{var l=a({retry:function(a){if(k||e)return;d=!0;i++;if(a==null)return m();j=setTimeout(m,a)},failCount:i});if(!(l instanceof(h||(h=b("Promise")))))throw c("err")("TypeError: task must return a promise");l.then(function(a){if(k||d)return;e=!0;f(a)})["catch"](function(a){if(k||d)return;e=!0;g(a)})}catch(a){if(k||d)return;g(a)}}m()})}g["default"]=a}),98);
__d("WARetryableError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this,"see error at this.source")||this;c.source=b;return c}babelHelpers.inheritsLoose(b,a);return b}(d("WACustomError").customError("RetryableError"));g["default"]=a}),98);
__d("WABackoff",["Promise","WARetryPromise","WARetryableError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=Object.freeze({timeoutIncludesTaskDuration:!0});function a(a,d){a=babelHelpers["extends"]({},i,a);var e=a.signal,f=a.timeoutIterator,g=a.timeoutIncludesTaskDuration;return c("WARetryPromise")(function(a){var e=a.retry,i=a.failCount;return new(h||(h=b("Promise")))(function(a,j){var k=Date.now();try{d(l,i).then(a)["catch"](m)}catch(a){m(a);return}function l(a){return(h||(h=b("Promise"))).reject(new(c("WARetryableError"))(a))}function m(a){if(!(a instanceof c("WARetryableError")))return void j(a);var b=f.next();if(b.done)return void j(a.source);a=Date.now()-k;a=g?Math.max(b.value-a,0):b.value;e(a)}})},e)}g.defaults=i;g.backoff=a}),98);
__d("WABatcher",["Promise","WAResolvable","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,d){var e=a.delayMs,f=a.maxSize,g=null;function i(a){g&&g.args===a&&(g=null);return d(a)}var j=function(){if(g==null)return(h||(h=b("Promise"))).resolve();var a=g;g=null;clearTimeout(a.timer);a.run();return a.batchPromise};a=function(a){if(g)g.args.push(a);else{var d,k=[a];a=new(h||(h=b("Promise")))(function(a){d=function(){return void a(k)}}).then(i);var l=d;g={args:k,batchPromise:a,run:l,timer:setTimeout(l,e)}}if(g==null)throw c("err")("activeBatch should not be null here");a=g;l=a.args;a=a.batchPromise;var m=l.length-1;f!=null&&l.length>=f&&void j();return a.then(function(a){return a[m]})};return{accept:a,runActiveBatch:j}}function a(a,b){var c=i(a,b);return function(a){return c.accept(a)}}function e(a){var e=[],f=new(d("WAResolvable").Resolvable)(),g=function(c){if(e.length===0)return(h||(h=b("Promise"))).resolve(new Map());var g=e,i=f;e=[];f=new(d("WAResolvable").Resolvable)();return(h||(h=b("Promise"))).resolve(a(g,c)).then(function(a){i.resolve(a);return a})},i=function(a){e.push(a);return f.promise.then(function(b){b=b.get(a);if(b==null)throw c("err")("This should not happen because we just added it to the batch");return b})};return{accept:i,runActiveBatch:g}}g.createSimpleBatcher=i;g.batch=a;g.createBatcher=e}),98);
__d("WABitArray",["err"],(function(a,b,c,d,e,f,g){"use strict";var h=8;a=function(){function a(a){if(a<=0)throw c("err")("BitArray:numBits should be positive");this.$1=a;this.$2=new Uint8Array(Math.ceil(this.$1/h))}var b=a.prototype;b.get=function(a){a=this.$3(a);var b=a[0];a=a[1];return Boolean(this.$2[b]>>a&1)};b.set=function(a){a=this.$3(a);var b=a[0];a=a[1];this.$2[b]|=1<<a};b.unset=function(a){a=this.$3(a);var b=a[0];a=a[1];this.$2[b]&=~(1<<a)};b.toggle=function(a){a=this.$3(a);var b=a[0];a=a[1];this.$2[b]^=1<<a};b.clear=function(){this.$2=new Uint8Array(Math.ceil(this.$1/h))};b.toArray=function(){var a=[];for(var b=0;b<this.$1;b++)a.push(this.get(b));return a};b.toString=function(){return this.toArray().map(function(a){return a?"1":"0"}).join("")};b.toNumber=function(){return parseInt(this.toString(),2)};b.$3=function(a){if(a<0||a>=this.$1)throw c("err")("BitArray:index out of bounds");var b=Math.floor(a/h);a=a-b*h;return[b,a]};return a}();g["default"]=a}),98);
__d("WAByteArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b;var c=new Uint8Array(a);for(a=a-1;a>=0;a--)c[a]=b&255,b>>>=8;return c}function b(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function c(a,b){if(!a||!b)return!1;a=new Uint8Array(a);b=new Uint8Array(b);var c=a.length,d=b.length;if(c!==d)return!1;for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}f.intToBytes=a;f.uint8ArrayToBuffer=b;f.compareArrayBuffer=c}),66);
__d("WAErrors",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";b=(a=d("WACustomError")).customError("BufferTooLarge",!1);c=a.customError("Disconnected",!1);e=a.customError("Offline",!1,c);f=a.customError("MaxRetries",!1);d=a.customError("Aborted",!1);g.BufferTooLargeError=b;g.Disconnected=c;g.Offline=e;g.MaxRetries=f;g.Aborted=d}),98);
__d("WANotifyConnectionChangeFactory",[],(function(a,b,c,d,e,f){"use strict";var g=15e3;function a(a,b,c){c===void 0&&(c=g);var d={timeoutID:null,connectionStatus:"disconnected",optimismLevel:"optimist"},e=function(){var a=d.optimismLevel,e=d.connectionStatus;a==="optimist"?d.timeoutID=setTimeout(function(){d.optimismLevel="realist",b(e)},c):b(e)};return function(c){d.connectionStatus=c,c==="disconnected"?e():c==="in_handshake"?e():(c,d.timeoutID!=null&&(clearTimeout(d.timeoutID),d.timeoutID=null),b(c)),a(c)}}f.notifyConnectionChangeFactory=a}),66);
__d("WAPromiseBackoffs",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===0)return 0;var c=o(b.algo);for(var d=1;d<a;d++)c();return j(b,c())}function i(a){var b=a.relativeDelay,c=b===void 0?!1:b,d=null,e=o(a.algo);return function(){var b=d;if(b==null){d=c?Date.now():0;return 0}var f=j(a,e());if(c){var g=Date.now();b=g-b;b>0&&(f=Math.max(0,f-b));d=g}return f}}function d(a){var c=i(a);return function(a){return new(h||(h=b("Promise")))(function(b){var d=c();d>0?setTimeout(b,d,a):b(a)})}}function j(a,b){var c=a.max,d=a.min;a=a.jitter;a=a===void 0?.1:a;b=b;c!=null&&b>c&&(b=c);d!=null&&b<d&&(b=d);a!==0&&(b=Math.ceil(b*(1+a*Math.random())));return b}function k(a){var b=a.second-a.first,c=a.first-b;return function(){var a=b+c;c=b;b=a;return a}}function l(a){var b=a.base,c=b===void 0?2:b,d=a.first;return function(){var a=d;d*=c;return a}}function m(a){var b=a.delay;return function(){return b}}function n(a){var b=a.toMs;a=a.backoff;var c=o(a);return function(){return b(c())}}function o(a){switch(a.type){case"fibonacci":return k(a);case"exponential":return l(a);case"constant":return m(a);case"adjust":return n(a);default:a;throw c("err")("makeTimeFunc unrecognized backoff "+a.type)}}g.getDelay=a;g.createTimer=i;g.createPromiseTimer=d}),98);
__d("WAPromiseRetryLoop",["Promise","WALogger","WAPromiseBackoffs","WAPromiseDelays","WAResolvable","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p;a=function(){function a(a){var b=this;this.$2=new(d("WAResolvable").Resolvable)();this.$3=null;this.$4=null;this.$5=0;this.$6=new(d("WAResolvable").Resolvable)();this.endWithValue=function(a){b.$5++,b.$2.resolve(a)};this.$1=a}var e=a.prototype;e.resetTimeoutAfter=function(a){this.$4=Date.now()+a};e.cancelReset=function(){this.$4=null};e.reset=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""])),this.$1.name);this.$5++;this.$6.resolve();this.$7()};e.start=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: starting ",""])),this.$1.name);this.$5!==0&&d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop was called several times. You may have race conditions"])));this.$5++;this.$6.resolve();this.$7()};e.pauseOnNextIteration=function(){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: pause requested on next iteration"]))),this.$6.resolve(),this.$6=new(d("WAResolvable").Resolvable)()};e.unpause=function(){this.$6.resolveWasCalled()||d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: loop unpaused"]))),this.$6.resolve()};e.$7=function(){var a=this,c=this.$1,e=this.$5,f=d("WAPromiseBackoffs").createTimer(this.$1.timer);f();var g=function(){if(a.$1.isPauseEnabled!==!0)return(p||(p=b("Promise"))).resolve();a.$6.resolveWasCalled()||d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: loop paused - waiting for unpause"])));return a.$6.promise},h=function(){if(a.$2.resolveWasCalled())return;if(e!==a.$5)return;var b=Date.now();a.$3=c.code(a.endWithValue).then(function(){if(a.$2.resolveWasCalled())return;var e=c.resetDelay;(e!==void 0&&Date.now()>=b+e||a.$4!=null&&a.$4<=Date.now())&&(d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""])),c.name),f=d("WAPromiseBackoffs").createTimer(a.$1.timer));a.$4=null;e=f();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: retrying "," in ","ms"])),c.name,e);return d("WAPromiseDelays").delayMs(e).then(g).then(h)});return a.$3};this.$3=(p||(p=b("Promise"))).resolve().then(h)};e.promise=function(){var a=this;if(this.$2.resolveWasCalled())return this.$2.promise;return!this.$3?(p||(p=b("Promise"))).reject(c("err")("PromiseRetryLoop "+this.$1.name+" had promise() called before start()")):(p||(p=b("Promise"))).race([this.$2.promise,this.$3.then(function(){return a.$2.promise})])};return a}();g.PromiseRetryLoop=a}),98);
__d("WASmaxInPingsEnums",["WAJids"],(function(a,b,c,d,e,f,g){a={validators:[d("WAJids").validateDomainJid,d("WAJids").validateUserJid],typeName:"DomainJid|UserJid"};g.DOMAINJID_USERJID=a}),98);
__d("WADeepEquals",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a===b)return!0;if(!a||!b||typeof a!=="object"&&typeof b!=="object")return!1;var c=Array.isArray(a),d=Array.isArray(b);if(c!==d)return!1;d=!0;if(c){c=a.length;if(c!==b.length)return!1;for(var e=0;d&&e<c;e++)d=g(a[e],b[e]);return d}c=Object.keys(a);for(e=0;d&&e<c.length;e++){var f=c[e];d=b.propertyIsEnumerable(f)&&g(a[f],b[f])}return d&&Object.keys(b).length===c.length}f.deepEqual=g}),66);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";var g=/^[0-9A-Za-z-]{1,32}$/;function a(a){return a}function b(a){return g.test(a)?a:null}f.toStanzaId=a;f.validateCallId=b}),66);
__d("WASmaxParseUtils",["WABase64","WABinary","WACryptoUtils","WADeepEquals","WAHasProperty","WAResultOrError","WAStanzaUtils","WAWapJid","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=d("WAResultOrError").makeResult();function a(a,b){return a.tag!==b?I(a,"to be <"+b+">"):h}function i(a,b){return!J(a,b)?I(a,'to have attribute "'+b+'"'):K(a,a.attrs[b])}function j(a,b,c,e){var f=i(a,b);if(!f.success)return f;c=c(f.value);return c!=null?d("WAResultOrError").makeResult(c):I(a,'to have "'+b+'"={'+e+'}, but instead has "'+f.value+'"')}function k(a,b,c){var e=C(a);if(!e.success)return e;b=b(e.value);return b!=null?d("WAResultOrError").makeResult(b):I(a,"to have "+c+' content, but instead has "'+e.value+'"')}function b(a,b,c){var d=i(a,b);if(!d.success)return d;else if(d.value!==c)return I(a,'to have "'+b+'"="'+c+'", but instead has "'+d.value+'"');return h}function e(a,b){return j(a,b,d("WAStanzaUtils").toStanzaId,"stanzaID")}function f(a,b){return j(a,b,d("WAStanzaUtils").validateCallId,"callID")}function l(a,b){return j(a,b,L,"integer")}function m(a,b,c,e){var f=l(a,b);if(!f.success)return f;f=f.value;if(c!==void 0&&f<c)return I(a,'to have "'+b+'"={at least '+c+"} but has value "+f);else if(e!==void 0&&f>e)return I(a,'to have "'+b+'"={at most '+e+"} but has value "+f);return d("WAResultOrError").makeResult(f)}function n(a){var b=a.content;return b instanceof Uint8Array?I(a,"to have children"):d("WAResultOrError").makeResult(b)}function o(a,b){var c=n(a);if(!c.success)return c;c=c.value;if(c==null)return h;var e=null;for(var f=0;f<c.length;f++){var g=c[f];if(g.tag===b){if(e!=null)return I(a,"to have 1 child <"+b+">, but found more than 1");e=g}}return d("WAResultOrError").makeResult(e)}function p(a,b,c){a=o(a,b);if(!a.success)return a;return a.value==null?h:c(a.value)}function q(a,b,c){c=p(a,b,c);if(!c.success)return c;c=c.value;return c==null?I(a,"to have 1 child <"+b+">, but found 0"):d("WAResultOrError").makeResult(c)}function r(a,b){var c=o(a,b);if(!c.success)return c;return c.value==null?I(a,"to have 1 child <"+b+">, but found 0"):d("WAResultOrError").makeResult(c.value)}function s(a,b,c,e,f){a=M(a,b,c,e);if(!a.success)return a;b=[];for(c=0;c<a.value.length;c++){e=f(a.value[c]);if(!e.success)return e;b.push(e.value)}return d("WAResultOrError").makeResult(b)}function t(a,b,c,e,f){a=M(a,b,c,e);if(!a.success)return a;b=a.value.length;for(c=0;c<b;c++){e=f(a.value[c]);if(!e.success)return e}return d("WAResultOrError").makeResult(b)}function u(a,b,c){b=s(a,b,0,Infinity,c);if(!b.success)return b;for(c=0;c<b.value.length;c++)if(!d("WADeepEquals").deepEqual(b.value[0],b.value[c]))return I(a,"to have homogeneous children, but found two children that are not equal");return b}function v(a,b,c){a=u(a,b,c);return!a.success?a:d("WAResultOrError").makeResult(a.value.length)}function w(a,b,c,d,e){return J(b,c)?a(b,c,d,e):h}function x(a,b,c,e){if(e==null)return h;a=w(a,b,c);if(!a.success)return a;if(a.value===e)return d("WAResultOrError").makeResult(e);return a.value==null?h:I(b,'to have "'+c+'"={'+e+'}, but instead has "'+a.value+'"')}function y(a,b,c,e){a=a(b,c);if(!a.success)return a;return a.value===e?d("WAResultOrError").makeResult(e):I(b,'to have "'+c+'"={'+e+'}, but instead has "'+a.value+'"')}function z(a,b,c){a=a(b);if(!a.success)return a;return a.value===c?d("WAResultOrError").makeResult(c):I(b,'to have content "'+c+'", but instead has "'+a.value+'"')}function A(a,b,c){var e=i(a,b);if(!e.success)return e;var f=c[e.value];if(f!=null)return d("WAResultOrError").makeResult(f);f=Object.values(c).join("|");return I(a,'to have "'+b+'"={'+f+'}, but instead has "'+e.value+'"')}function B(a,b){var c=C(a);if(!c.success)return c;var e=b[c.value];if(e!=null)return d("WAResultOrError").makeResult(e);e=Object.values(b).join("|");return I(a,'to have content "'+e+'", but instead has "'+c.value+'"')}function C(a){var b=D(a);if(!b.success)return b;else try{b=new(d("WABinary").Binary)(b.value);b=b.readString(b.size());return d("WAResultOrError").makeResult(b)}catch(b){return I(a,"to have string content, but run into decoding error: "+c("getErrorSafe")(b).message)}}function D(a){var b=a.content;if(b==null)return I(a,"to have content");else if(Array.isArray(b))return I(a,"to have content, but has children instead");else return d("WAResultOrError").makeResult(b)}function E(a,b){var c=D(a);if(!c.success)return c;return d("WACryptoUtils").uint8ArraysEqual(c.value,b)?d("WAResultOrError").makeResult(b):I(a,'to have content ":binary:'+d("WABase64").encodeB64(b)+'", but instead has ":binary:'+d("WABase64").encodeB64(c.value)+'"')}function F(a,b,c){var e=a.content;if(e==null)if(b===void 0||b<1)return d("WAResultOrError").makeResult(new Uint8Array([]));else return I(a,"to have content");else if(Array.isArray(e))return I(a,"to have content, but has children instead");else{var f=e.length;if(b!==void 0&&f<b)return I(a,"to have binary content at least "+b+" bytes but has "+f+" bytes");else if(c!==void 0&&f>c)return I(a,"to have binary content at most "+c+" bytes but has "+f+" bytes");return d("WAResultOrError").makeResult(e)}}function G(a){return k(a,L,"integer")}function H(a){return a}function I(a,b){return d("WAResultOrError").makeError("expected <"+a.tag+">: "+b)}function J(a,b){return c("WAHasProperty")(a.attrs,b)}function K(a,b){if(b instanceof d("WAWapJid").WapJid)return d("WAResultOrError").makeResult(b.toString());return typeof b==="string"?d("WAResultOrError").makeResult(b):I(a,"decodeAsString: attribute is "+typeof b+" not a string: "+String(b))}function L(a){a=parseInt(a,10);return Number.isNaN(a)?null:a}function M(a,b,c,e){var f=n(a);if(!f.success)return f;f=f.value;if(f==null)if(c!==0)return I(a,"to have at least "+c+" <"+b+"> children, but found 0");else return d("WAResultOrError").makeResult([]);var g=[];for(var h=0;h<f.length;h++){var i=f[h];i.tag===b&&g.push(i)}i=g.length;if(i<c)return I(a,"to have at least "+c+" <"+b+"> children, but found "+i);else if(i>e)return I(a,"to have at most "+e+" <"+b+"> children, but found "+i);return d("WAResultOrError").makeResult(g)}var N={};function O(a,b,c){var d=b.map(function(a,b){return a+": "+c[b].error});return I(a,["to match any of following mixins: "+b.join(", ")+", but all mixins failed."].concat(d).join(" "))}g.voidSuccess=h;g.assertTag=a;g.attrString=i;g.attrValidate=j;g.contentValidate=k;g.assertAttr=b;g.attrStanzaId=e;g.attrCallId=f;g.attrInt=l;g.attrIntRange=m;g.maybeChildren=n;g.optionalChild=o;g.optionalChildWithTag=p;g.childWithTag=q;g.flattenedChildWithTag=r;g.mapChildrenWithTag=s;g.countChildrenWithTag=t;g.mapHomogeneousChildrenWithTag=u;g.countHomogeneousChildrenWithTag=v;g.optional=w;g.optionalLiteral=x;g.literal=y;g.literalContent=z;g.attrStringEnum=A;g.contentStringEnum=B;g.contentString=C;g.contentBytes=D;g.contentLiteralBytes=E;g.contentBytesRange=F;g.contentInt=G;g.identity=H;g.errorMessage=I;g.emptyObject=N;g.errorMixinDisjunction=O}),98);
__d("WASmaxParseJid",["WAJids","WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateUserJid,"UserJid")}function b(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateLidUserJid,"LidUserJid")}function c(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateDeviceJid,"DeviceJid")}function e(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateGroupJid,"GroupJid")}function f(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateCallJid,"CallJid")}function h(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateDomainJid,"DomainJid")}function i(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateBroadcastJid,"BroadcastJid")}function j(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateStatusJid,"StatusJid")}function k(a,b){return d("WASmaxParseUtils").attrValidate(a,b,d("WAJids").validateNewsletterJid,"NewsletterJid")}function l(a,b,c){var e=d("WASmaxParseUtils").attrString(a,b);if(!e.success)return e;var f=c.validators;c=c.typeName;for(var g=0;g<f.length;g++){var h=f[g](e.value);if(h!=null)return d("WAResultOrError").makeResult(h)}return d("WASmaxParseUtils").errorMessage(a,'to have "'+b+'"={'+c+'}, but instead has "'+e.value+'"')}function m(a,b,c,e){a=a(b,c);if(!a.success)return a;return a.value===e?a:d("WASmaxParseUtils").errorMessage(b,'to have "'+c+'"={'+e+'}, but instead has "'+a.value+'"')}function n(a,b,c,e){a=d("WASmaxParseUtils").optional(a,b,c);if(!a.success)return a;return a.value==null||a.value===e?a:d("WASmaxParseUtils").errorMessage(b,'to have "'+c+'"={'+e+'}, but instead has "'+a.value+'"')}g.attrUserJid=a;g.attrLidUserJid=b;g.attrDeviceJid=c;g.attrGroupJid=e;g.attrCallJid=f;g.attrDomainJid=h;g.attrBroadcastJid=i;g.attrStatusJid=j;g.attrNewsletterJid=k;g.attrJidEnum=l;g.literalJid=m;g.optionalLiteralJid=n}),98);
__d("WASmaxParseReference",["WAHasProperty","WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,d,e){b=j(b,c);if(!b.success)return l(b);a=a(b.value,c[c.length-1],d,e);return!a.success?l(a):a}function a(a,b,c,e,f){return k(b,c)?h(a,b,c,e,f):d("WASmaxParseUtils").voidSuccess}function i(a,b){return h(d("WASmaxParseUtils").attrString,a,b)}function b(a,b){return k(a,b)?i(a,b):d("WASmaxParseUtils").voidSuccess}function e(a,b){a=j(a,b);if(!a.success)return l(a);b=d("WASmaxParseUtils").contentString(a.value);return!b.success?l(b):b}function j(a,b){var c=b.length;a=a;for(var e=0;e<c-1;e++){var f=b[e];f=d("WASmaxParseUtils").flattenedChildWithTag(a,f);if(!f.success)return f;a=f.value}return d("WAResultOrError").makeResult(a)}function k(a,b){a=j(a,b);return a.success&&c("WAHasProperty")(a.value.attrs,b[b.length-1])}function l(a){return d("WAResultOrError").makeError("in the reference, "+a.error)}g.attrFromReference=h;g.optionalAttrFromReference=a;g.attrStringFromReference=i;g.optionalAttrStringFromReference=b;g.contentStringFromReference=e}),98);
__d("WASmaxInPingsClientResponseServerResponse",["WAResultOrError","WASmaxInPingsEnums","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseJid").attrJidEnum(a,"from",d("WASmaxInPingsEnums").DOMAINJID_USERJID);if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");if(!e.success)return e;b=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",b.value);if(!b.success)return b;b=d("WASmaxParseUtils").attrInt(a,"t");return!b.success?b:d("WAResultOrError").makeResult({from:c.value,type:e.value,t:b.value})}g.parseClientResponseServerResponse=a}),98);
__d("WASmaxJsx",["WAWap"],(function(a,b,c,d,e,f,g){"use strict";g.smax=d("WAWap").wap}),98);
__d("WASmaxMixins",["WAArrayBufferUtils","WAWapJid"],(function(a,b,c,d,e,f,g){"use strict";var h="smax$any";function i(a,b){j(a,b);k(a,b);b.content instanceof Uint8Array?m(a,b.content):b.content!=null&&n(a,b.content);return a}function a(a,b,c,d){return c!=null?a(b,c,d):b}function j(a,b){a=a.tag;b=b.tag;if(b===h)return;if(a!==b)throw new Error("tag mismatch: "+a+" != "+b)}function k(a,b){var c=a.attrs,d=b.attrs;Object.keys(d).forEach(function(a){var b=d[a],e=c[a];if(b!=null&&e!=null){if(l(b,e))return;throw new Error("conflict for key: "+a)}c[a]=b})}function l(a,b){if(typeof a==="string"&&typeof b==="string")return a===b;return a instanceof d("WAWapJid").WapJid&&b instanceof d("WAWapJid").WapJid?a.toString()===b.toString():!1}function m(a,b){var c=a.content;if(c instanceof Uint8Array){if(!d("WAArrayBufferUtils").uint8ArraysEqualUNSAFE(c,b))throw new Error("elementValue mismatch: bytes dose not equal");return}if(c!=null)throw new Error("elementValue mismatch: destination has children");a.content=b}function n(a,b){var c=a.content;if(c instanceof Uint8Array)throw new Error("children mismatch: destination has element value");if(c==null||c.length===0){a.content=b;return}if(!o(c,b))throw new Error("children mismatch: child counts are not compatible");var d=[],e=Array.from(c);b.forEach(function(a){var b=e.findIndex(function(b){return b.tag===a.tag});if(b===-1)d.push(a);else{b=e.splice(b,1);b=i(b[0],a);d.push(b)}});e.forEach(function(a){return d.push(a)});a.content=d}function o(a,b){b=p(b);a=p(a);var c=Object.keys(b);for(var d=0;d<c.length;d++){var e=c[d],f=b[e];e=a[e];if(f!=null&&e!=null&&f!==e)return!1}return!0}function p(a){return a.reduce(function(a,b){b=b.tag;var c=a[b];a[b]=c==null?1:c+1;return a},{})}g.mergeStanzas=i;g.optionalMerge=a}),98);
__d("WASmaxOutPingsClientWellFormedToMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeClientWellFormedToMixin=a}),98);
__d("WASmaxOutPingsClientRequest",["WASmaxJsx","WASmaxOutPingsClientWellFormedToMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutPingsClientWellFormedToMixin").mergeClientWellFormedToMixin(d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get",xmlns:"w:p"}));return a}g.makeClientRequest=a}),98);
__d("WAComms",["Promise","WAArrayUtils","WABaseGlobals","WAErrors","WALogger","WANotifyConnectionChangeFactory","WAPromiseRetryLoop","WAResolvable","WAShiftTimer","WASmaxInPingsClientResponseServerResponse","WASmaxOutPingsClientRequest","WASmaxParseUtils","WATimeUtils","WAWap","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P=null,Q=null,R=1,S=0,T=function(){function a(a,b,c){var e=this;this.nextSocketId=1;this.pendingIqs=new Map();this.ackHandlers=[];this.pendingSmaxStanzas=new Map();this.$2=new(d("WAResolvable").Resolvable)();this.socketAbortController=null;this.activePing=null;this.$3=new Set();this.socketId=S;this.socket=null;this.softCloseSocket=null;this.handleStanza=function(a,b,c){var f=d("WASmaxParseUtils").attrString(a,"id");if(f.success&&a.tag!=="receipt"){f=f.value;var g=e.pendingSmaxStanzas.get(f);if(g){e.pendingSmaxStanzas["delete"](f);g.resolve(a);e.maybeScheduleHealthCheck();return"NO_ACK"}}f=$(a);if(f!=null){g=e.pendingIqs.get(f);g?(e.pendingIqs["delete"](f),g.resolve(a),e.maybeScheduleHealthCheck()):(d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleIq no handler for iq with id ",""])),f),d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleIq no handler for iq"]))))}else if(a.tag==="ack")e.handleAck(a);else return a.tag==="failure"&&e.config.shouldBlockReceivingUntilSuccess?e.$1(a,b,c):e.$2.promise.then(function(){return e.$1(a,b,c)});return"NO_ACK"};this.healthCheckTimer=new(d("WAShiftTimer").ShiftTimer)(function(){if(!e.socketId)return;void e.sendPing()});this.deadSocketTimer=new(d("WAShiftTimer").ShiftTimer)(function(a){if(a!==e.socketId)return;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[comms] Socket "," expired"])),a);e.softCloseSocket&&e.softCloseSocket()});this.$1=a;this.onConnectionChange=d("WANotifyConnectionChangeFactory").notifyConnectionChangeFactory((a=b.handlers.onConnectionChange)!=null?a:function(){},(a=b.handlers.onOptimisticConnectionChange)!=null?a:function(){});this.gzipInflate=c;this.config=b;this.socketLoop=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"MainSocketLoop",code:W,timer:(a=b.socketReconnectBackoffAlgo)!=null?a:{jitter:.1,max:b.maxSocketLoopWaitTime,algo:{type:"fibonacci",first:1e4,second:1e4},relativeDelay:!0},resetDelay:3e4,isPauseEnabled:b.isPauseEnabled===!0})}var e=a.prototype;e.filterPending=function(a){var b=[];function c(c){a(c)&&b.push(c)}this.pendingIqs.forEach(c);this.ackHandlers.forEach(c);this.pendingSmaxStanzas.forEach(c);return b};e.sendPendingStanza=function(a){a.cleanup==null||a.cleanup(),a.cleanup=void 0,void this.callStanza(a.stanza)};e.maybeSendPendingStanza=function(a){if(a.attempt>=this.config.maxRetries){var b,c;(b=(c=this.config.handlers).onDropStanza)==null||b.call(c,a);a.cleanup==null||a.cleanup();a.cleanup=void 0;this.removeHandler(a,"max-retries")}else if(this.socket){a.attempt+=1;this.sendPendingStanza(a);return}else d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Comms has no open socket, will resend stanza when socket opens"])))};e.callStanzaAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield this.callStanza(a,b));return a});function c(b,c){return a.apply(this,arguments)}return c}();e.callStanza=function(a,b){a=this.castStanza(a,b);this.deadSocketTimer.onOrBefore(this.config.deadSocketTime,this.socketId);this.healthCheckTimer.cancel();return a};e.castStanzaAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.castStanza(a));return a});function c(b){return a.apply(this,arguments)}return c}();e.castStanza=function(a,c){var e=this;try{var f,g;f=(f=(g=this.config.handlers).onBeforeCastStanzaForE2E)==null?void 0:f.call(g,a,c);if(f!=null){d("WALogger").DEV_XMPP(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Dropping stanza since onBeforeCastStanza matched:\n",". We return mock response directly."],["Dropping stanza since onBeforeCastStanza matched:\\n",". We return mock response directly."])),a);d("WALogger").DEV_XMPP(m||(m=babelHelpers.taggedTemplateLiteralLoose(["--- Receive (via SMAX+E2E) ---\n",""],["--- Receive (via SMAX+E2E) ---\\n",""])),f);d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Dropping stanza since onBeforeCastStanza matched. We return mock response directly."])));if(Array.isArray(f))return(O||(O=b("Promise"))).all(f.map(function(a){return(O||(O=b("Promise"))).resolve(e.handleStanza(a,e.socketId,S))}));else{this.handleStanza(f,this.socketId,S);return(O||(O=b("Promise"))).resolve()}}}catch(a){d("WALogger").DEV_XMPP(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Error in onBeforeCastStanza, we consumed and continue with normal stanza sending to the server:\n",""],["Error in onBeforeCastStanza, we consumed and continue with normal stanza sending to the server:\\n",""])),a)}g=this.socketOrThrow("castStanza");try{d("WALogger").DEV_XMPP(p||(p=babelHelpers.taggedTemplateLiteralLoose(["--- Sending ---\n",""],["--- Sending ---\\n",""])),a);return g.sendFrame(d("WAWap").encodeStanza(a)).then(function(){e.config.handlers.onCastStanza==null||e.config.handlers.onCastStanza(a,c)})["catch"](function(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["castStanza async error ",""])),a).devConsole(a);if(a instanceof d("WAErrors").BufferTooLargeError)return(O||(O=b("Promise"))).reject(a)})}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["castStanza error ",""])),a).devConsole(a)}return(O||(O=b("Promise"))).resolve()};e.socketOrThrow=function(a){var b=this.socket;if(b)return b;throw c("err")("Comms."+a+" called while no socket")};e.startHandlingRequests=function(){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Comms.startHandlingRequests"])));this.$2.resolve();return this.$2.promise.then(function(){})};e.parseAndHandleStanza=function(a,b){var c=this;a===this.socketId&&(this.deadSocketTimer.cancel(),Q&&(Q.resolve(),Q=null));var e=d("WAWap").decodeStanza(b,this.gzipInflate)["catch"](function(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Failure parsing stanza!"]))).devConsole(b);throw a}).then(function(e){d("WALogger").DEV_XMPP(u||(u=babelHelpers.taggedTemplateLiteralLoose(["--- Receiving ---\n",""],["--- Receiving ---\\n",""])),e);c.config.handlers.onHandleStanza==null||c.config.handlers.onHandleStanza(e,a,b.byteLength);var f=c.activePing;if(f&&f.socketId===a&&f.stanzaId===$(e)){c.activePing=null;f.handler.resolve(e);c.maybeScheduleHealthCheck();return"NO_ACK"}return c.handleStanza(e,a,b.byteLength)}).then(function(b){if(a!==c.socketId)return;if(b==="CLOSE_SOCKET"){d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[comms] job response is CLOSE_SOCKET"])));var e=c.socket;e&&e.close()}else b==="NO_ACK"||void c.castStanza(b);return"NO_ACK"});this.$3.add(e);e["finally"](function(){return void c.$3["delete"](e)})};e.handleAck=function(a){var b=this.ackHandlers,c=-1,e=null;while(!e&&++c<b.length)e=b[c].parseAndTest(a);if(e){var f=b[c];d("WAArrayUtils").removeIndexWithoutPreservingOrder(b,c);(c=(b=this.config.handlers).onHandleAck)==null||c.call(b,a);f.resolve(e);this.maybeScheduleHealthCheck()}else d("WALogger").WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["handleAck: unrecognized ",""])),a)};e.removeHandler=function(a,c){c===void 0&&(c="disconnect");if(a.type==="iq"||a.type==="smax"){var e=a.stanza.attrs.id;if(!e||typeof e!=="string")return;if(a.type==="iq"&&!this.pendingIqs["delete"](e)||a.type==="smax"&&!this.pendingSmaxStanzas["delete"](e))return}else{a.type;e=this.ackHandlers.indexOf(a);if(e===-1)return;d("WAArrayUtils").removeIndexWithoutPreservingOrder(this.ackHandlers,e)}c==="disconnect"?a.resolve((O||(O=b("Promise"))).reject(new(d("WAErrors").Disconnected)())):c==="abort"?a.resolve((O||(O=b("Promise"))).reject(new(d("WAErrors").Aborted)())):a.resolve((O||(O=b("Promise"))).reject(new(d("WAErrors").MaxRetries)()))};e.maybeScheduleHealthCheck=function(){if(this.healthCheckTimer.isScheduled())return;if(this.activePing||this.ackHandlers.length||this.pendingIqs.size||this.pendingSmaxStanzas.size)return;var a=this.config.healthCheckInterval;a=Math.ceil(a*1e3*(1+Math.random()));this.healthCheckTimer.onOrBefore(a)};e.sendPing=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=Z("sendPing");if(!a.socketId){d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[comms] sendPing when socket dead"])));return!1}if(a.activePing&&a.activePing.socketId===a.socketId){d("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[comms] sendPing ping still pending"])));return!1}a.activePing&&a.activePing.handler.resolve();var b=d("WASmaxOutPingsClientRequest").makeClientRequest(),c=b.attrs.id;if(typeof c!=="string"){d("WALogger").ERROR(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[comms] No stanzaId in ping request stanza"])));return!1}var e=new(d("WAResolvable").Resolvable)();a.activePing={socketId:a.socketId,stanzaId:c,handler:e};c=Date.now();void a.callStanza(b);e=(yield e.promise);var f=Date.now();if(e){e=d("WASmaxInPingsClientResponseServerResponse").parseClientResponseServerResponse(e,b);if(e.success){b=f-c;f=Math.round(b/2);b=d("WATimeUtils").castToUnixTime(e.value.t);e=d("WABaseGlobals").newClockSkewCalculation()?Math.round((c+f)/1e3-b):Math.round(Date.now()/1e3-b);a.config.handlers.onClockSkewUpdate==null||a.config.handlers.onClockSkewUpdate(e);return!0}}return!1});function a(){return c.apply(this,arguments)}return a}();return a}();function a(){return P}function e(a,b,c,d){d===void 0&&(d=!0);if(P)return;P=new T(a,b,c);d&&setTimeout(U,0)}function f(){var a=Z("stopComms");a.socketLoop.endWithValue();a.socket&&X();P=null}function aa(){var a=Z("closeSocketAndPreventRetry");a.socketLoop.endWithValue();a.socket&&(d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[comms] closeSocketAndPreventRetry called"]))),X())}function ba(){var a=Z("closeSocketAndPause");a.socketLoop.pauseOnNextIteration();a.socket&&(d("WALogger").LOG(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[comms] closeSocketAndPause called"]))),X())}function ca(){var a=Z("closeSocketAndResume");a.socketLoop.unpause();a.socket&&(d("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[comms] closeSocketAndResume called"]))),X())}function U(){Z("openSocketLoop").socketLoop.start()}function da(){d("WALogger").LOG(D||(D=babelHelpers.taggedTemplateLiteralLoose(["[comms] maybeResetSocketLoop"]))),V()||Z("maybeResetSocketLoop").socketLoop.reset()}function ea(){Z("forceResetSocketLoop").socketLoop.reset()}function fa(){var a,b=Z("socketAbortController");(a=b.socketAbortController)==null||a.abort();b.softCloseSocket==null||b.softCloseSocket()}function V(){var a;return!!((a=P)!=null&&a.socket)}function W(){var a=Z("socketLoopIteration"),b=a.nextSocketId++;d("WALogger").LOG(E||(E=babelHelpers.taggedTemplateLiteralLoose(["[comms] Socket "," opening"])),b);var c=function(){a.onConnectionChange("in_handshake")};a.config.handlers.onSocketLoopIteration==null||a.config.handlers.onSocketLoopIteration(a.socketAbortController);typeof AbortController==="function"&&(a.socketAbortController=new AbortController());return a.config.openChatSocket(c,(c=a.socketAbortController)==null?void 0:c.signal).then(function(c){if(c.success){var e=c.value;a.config.handlers.onSocketOpen==null||a.config.handlers.onSocketOpen();var f=new(d("WAResolvable").Resolvable)();d("WALogger").LOG(F||(F=babelHelpers.taggedTemplateLiteralLoose(["[comms] Socket "," opened"])),b);a.socketId=b;a.socket=e;a.softCloseSocket=function(){a.softCloseSocket=null,a.socket&&a.config.shouldCloseStaleSocket&&(X(),a.socket=null),f.resolve()};a.socketLoop.resetTimeoutAfter(1e4);a.deadSocketTimer.cancel();a.maybeScheduleHealthCheck();e.setOnFrame(function(c){return a.parseAndHandleStanza(b,c)});e.setOnClose(function(){d("WALogger").LOG(G||(G=babelHelpers.taggedTemplateLiteralLoose(["[comms] Socket "," closed"])),b);a.activePing&&b===a.activePing.socketId&&(a.activePing.handler.resolve(),a.activePing=null);a.filterPending(function(a){return a.attachedToSocketId===b}).forEach(function(b){return void a.removeHandler(b)});if(b!==a.socketId)return;a.socketId=S;a.socket=null;a.onConnectionChange("disconnected");a.config.handlers.onDisconnect==null||a.config.handlers.onDisconnect();f.resolve()});a.onConnectionChange("connected");a.config.handlers.onConnect==null||a.config.handlers.onConnect();a.filterPending(function(a){return!a.attachedToSocketId}).sort(function(a,b){return a.orderedId-b.orderedId}).forEach(function(b){switch(b.type){case"smax":case"iq":a.maybeSendPendingStanza(b);break;case"ack":void a.callStanza(b.stanza);break;default:b.type;break}});return f.promise}else{e=c.error;switch(e){case"max-hunters":d("WALogger").WARN(H||(H=babelHelpers.taggedTemplateLiteralLoose(["[comms] socketLoopIteration socket closed while in noise handshake using treasureHunt strategy"])));break;case"disconnected":d("WALogger").WARN(I||(I=babelHelpers.taggedTemplateLiteralLoose(["[comms] socketLoopIteration socket disconnected while in noise handshake"])));break;default:e;return}}})["catch"](function(a){a instanceof d("WAErrors").Disconnected?d("WALogger").LOG(J||(J=babelHelpers.taggedTemplateLiteralLoose(["[comms] socketLoopIteration socket closed while in noise handshake"]))):d("WALogger").ERROR(K||(K=babelHelpers.taggedTemplateLiteralLoose(["[comms] socketLoopIteration failed ",""])),a).devConsole(a)})}function X(){var a=Z("closeSocket");a.socket&&(d("WALogger").LOG(L||(L=babelHelpers.taggedTemplateLiteralLoose(["[comms] Socket "," closed"])),a.socketId),d("WALogger").LOG(M||(M=babelHelpers.taggedTemplateLiteralLoose(["[comms] closeSocket called"]))),a.socket.close())}function ga(){Z("onStreamErrorReceived").socketLoop.cancelReset()}function ha(){void Z("waitForConnection").sendPing();Q||(Q=new(d("WAResolvable").Resolvable)());return Q.promise}function ia(a,b){var c=Z("castStanza");c.socket?void c.castStanza(a,b):d("WALogger").LOG(N||(N=babelHelpers.taggedTemplateLiteralLoose(["Comms has no open socket"])))}function ja(a){var b=Z("castStanza");return b.socketId===a}function Y(a,e,f,g,h){f===void 0&&(f=0);h===void 0&&(h="iq");return new(O||(O=b("Promise")))(function(i){var j=Z("sendIq"),k=a.attrs.id;if(!k||typeof k!=="string")throw c("err")("[comms] sendIq given iq without id: "+String(a));var l=j.socketId;if(e&&!l){i((O||(O=b("Promise"))).reject(new(d("WAErrors").Offline)()));return}var m=function(a){a===void 0&&(a="disconnect");var d=h==="iq"?j.pendingIqs.get(k):j.pendingSmaxStanzas.get(k);if(!d){i((O||(O=b("Promise"))).reject(c("err")("[comms] _sendIq unexisting stanza to be cancelled: "+k)));return}j.removeHandler(d,a)},n=null;if(f>0){var o=setTimeout(m,f*1e3);n=function(){clearTimeout(o)}}if(g!=null)if(g.aborted){i((O||(O=b("Promise"))).reject(new(d("WAErrors").Disconnected)()));return}else{var p=function(){m("abort")};g.addEventListener("abort",p);n=function(){g.removeEventListener("abort",p)}}l={resolve:i,stanza:a,attachedToSocketId:e?l:S,orderedId:R++,attempt:0,cleanup:n};if(h==="iq"){n=babelHelpers["extends"]({type:h},l);j.pendingIqs.set(k,n);j.config.handlers.onSendIq==null||j.config.handlers.onSendIq(a);j.maybeSendPendingStanza(n)}else{h;n=babelHelpers["extends"]({type:h},l);j.pendingSmaxStanzas.set(k,n);j.maybeSendPendingStanza(n)}})}function ka(a,b){var c,d;c=(c=b==null?void 0:b.withoutRetry)!=null?c:!1;d=(d=b==null?void 0:b.timeoutSeconds)!=null?d:0;b=(b=b==null?void 0:b.signal)!=null?b:null;return Y(a,c,d,b,"smax")}function la(){var a=Z("sendPing");return a.sendPing()}function ma(){return Z("startHandlingRequests").startHandlingRequests()}function na(){P&&P.deadSocketTimer.cancel()}function Z(a){if(P)return P;throw c("err")("[comms] "+a+" called before startComms")}function $(a){if(a.tag==="iq"){var b=a.attrs.type;if(b==="result"||b==="error")return d("WAWap").decodeAsString(a.attrs.id)||null}return null}function oa(){return R++}function pa(){P=null,Q=new(d("WAResolvable").Resolvable)(),R=1}g.DEFAULT_SOCKET_ID=S;g.getComms=a;g.startComms=e;g.stopComms=f;g.closeSocketAndPreventRetry=aa;g.closeSocketAndPause=ba;g.closeSocketAndResume=ca;g.openSocketLoop=U;g.maybeResetSocketLoop=da;g.forceResetSocketLoop=ea;g.forceAbortSocketConnection=fa;g.isSocketConnected=V;g.socketLoopIteration=W;g.closeSocket=X;g.onStreamErrorReceived=ga;g.waitForConnection=ha;g.castSmaxStanza=ia;g.isActiveSocket=ja;g._sendIq=Y;g.sendSmaxStanza=ka;g.sendPing=la;g.startHandlingRequests=ma;g.cancelDeadSocketTimer=na;g.singletonOrThrowIfUninitialized=Z;g.getAndIncrementNextOrderedId=oa;g.resetStateForTests=pa}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("WAJobPriorityBucket",["WAJobOrchestratorTypes","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a){this.tasks=[];this.pendingTasks=[];this.lastJobStartedTimestampMs=null;this.jobMaxConcurrency=(a=a.jobMaxConcurrencyMap)!=null?a:{}}var b=a.prototype;b.updateConfig=function(a){this.jobMaxConcurrency=(a=a.jobMaxConcurrencyMap)!=null?a:{}};b.getStats=function(){return[].concat(this.tasks,this.pendingTasks).reduce(function(a,b){var c;c=(c=a[b.jobName])!=null?c:0;a[b.jobName]=c+1;return a},{})};b.next=function(){var a=this;if(this.tasks.length===0)return null;var b=this.pendingTasks.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),c=this.tasks.filter(function(c){var e;return((e=b.get(c.jobName))!=null?e:0)<((e=a.jobMaxConcurrency[c.jobName])!=null?e:d("WAJobOrchestratorTypes").DEFAULT_CONCURRENCY)});return c.length>0?[c[0]]:null};b.add=function(a,b,c,d){c={jobId:c,jobInfo:b,jobName:a,run:d};this.tasks.push(c);return c};b.markJobTaskPending=function(a){this.pendingTasks.includes(function(b){return b.jobId===a.jobId})&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskPending found jobId: "," in pending tasks"])),a.jobId).sendLogs("JobOrchestrator::markJobTaskPending"),this.lastJobStartedTimestampMs=Date.now(),this.pendingTasks.push(a),this.tasks=this.tasks.filter(function(b){return b.jobId!==a.jobId})};b.markJobTaskDone=function(a){this.pendingTasks=this.pendingTasks.filter(function(b){return b.jobId!==a}),this.tasks.includes(function(b){return b.jobId===a})&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskDone found jobId: "," in scheduled tasks"])),a).sendLogs("JobOrchestrator::markJobTaskDone")};b.count=function(){return this.tasks.length};b.pendingCount=function(){return this.pendingTasks.length};b.clearWaitingTasks=function(){this.tasks=[]};b.clear=function(){this.tasks=[],this.pendingTasks=[]};b.getLastJobStartedTimestamp=function(){return this.lastJobStartedTimestampMs};return a}();b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.next=function(){var a=this,b,c;if(this.tasks.length===0)return null;var d=this.pendingTasks.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),e=this.tasks.filter(function(b){var c;return((c=d.get(b.jobName))!=null?c:0)<((c=a.jobMaxConcurrency[b.jobName])!=null?c:1)});if(e.length===0)return null;b=(b=this.jobMaxConcurrency[e[0].jobName])!=null?b:1;c=(c=d.get(e[0].jobName))!=null?c:0;if(b>1&&c<b){var f=e.filter(function(a){return a.jobName===e[0].jobName});b=Math.min(f.length,b-c);return f.slice(0,b)}return[e[0]]};return b}(a);g.BaseJobBucket=a;g.LowJobBucket=b}),98);
__d("WAMetrics",["Promise","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("WATimeUtils").performanceAbsoluteNow();return new(h||(h=b("Promise")))(function(b){setTimeout(function(){b(d("WATimeUtils").performanceAbsoluteNow()-a)},0)})}g.getEventLoopDelay=a}),98);
__d("WAConcurrentBucketJobQueue",["Promise","WABase64","WACryptoDependencies","WACustomError","WAJobOrchestratorTypes","WAJobPriorityBucket","WALogger","WAMetrics","WANullthrows","WAPromiseTimeout","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=30,l=new Map([[d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,5],[d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,1]]);function m(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WABase64").encodeB64(a)}a=function(){function a(){this.$1=!1,this.$2=0,this.$3=0,this.$4=0,this.$5=new Map(),this.$6=new Map(),this.$7=new Map(),this.$9=0}var e=a.prototype;e.init=function(a,b){var e,f,g;if(this.$1)throw c("err")("WAConcurrentBucketJobQueue has already initialized");this.$4=(e=a==null?void 0:a.bestEffortWaitTimeoutSec)!=null?e:k;this.$2=a.maxConcurrency;this.$3=a.maxConcurrency;this.$8=b;this.$7=this.$11(a==null?void 0:a.jobPrioritiesQuota);this.$6=new Map(this.$7);this.$5=new Map();this.$9=Date.now();b=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(e=a.maxConcurrencyPerJob)!=null?e:{}});e=new(d("WAJobPriorityBucket").LowJobBucket)({jobMaxConcurrencyMap:(e=a.maxConcurrencyPerJob)!=null?e:{}});f=new(d("WAJobPriorityBucket").LowJobBucket)({jobMaxConcurrencyMap:(f=a.maxConcurrencyPerJob)!=null?f:{}});g=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(g=a.maxConcurrencyPerJob)!=null?g:{}});a=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(a=a.maxConcurrencyPerJob)!=null?a:{}});this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION,b);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,b);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.OFFLINE,g);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.HISTORY_SYNC,a);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,e);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,f);this.$1=!0};e.updateConfig=function(a){this.$3+=a.maxConcurrency-this.$2,this.$2=a.maxConcurrency,this.$5.forEach(function(b){return b.updateConfig({jobMaxConcurrencyMap:(b=a.maxConcurrencyPerJob)!=null?b:{}})}),this.$7=this.$11(a==null?void 0:a.jobPrioritiesQuota),d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: updated WAConcurrentBucketJobQueue config"])))};e.isInitialized=function(){return this.$1};e.clearQueue=function(){if(!this.$1)throw c("err")("WAConcurrentBucketJobQueue not initialized");this.$5.forEach(function(a){return a.clear()})};e.clearQueueByPriority=function(a){if(!this.$1)throw c("err")("WAConcurrentBucketJobQueue not initialized");(a=this.$5.get(a))==null||a.clearWaitingTasks()};e.getIntStats=function(){var a=this,b=function(b){var c;b=a.$5.get(b);return((c=b==null?void 0:b.count())!=null?c:0)+((c=b==null?void 0:b.pendingCount())!=null?c:0)};return{highPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH),lowPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW),bestEffortPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT)}};e.getStringStats=function(){var a=this,b=function(b){var c=(b=(b=a.$5.get(b))==null?void 0:b.getStats())!=null?b:{};b=Object.keys(c).reduce(function(a,b){var d=a[0];a=a[1];var e=c[b];return e>d?[e,b]:[d,a]},[0,null]);b=b[1];return b};return{highPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH),lowPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW),bestEffortPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT)}};e.enqueue=function(a,e,f,g){var h,i=this;if(!this.$1)return(j||(j=b("Promise"))).reject(c("err")("WAConcurrentBucketJobQueue not initialized"));var k,l,n=new(j||(j=b("Promise")))(function(a,b){k=a,l=b}),o=babelHelpers["extends"]({priority:d("WAJobOrchestratorTypes").DEFAULT_JOB_PRIORITY},f),p=this.getJobBucketByType(o.priority);if(!p)return(j||(j=b("Promise"))).reject(c("err")("WAConcurrentBucketJobQueue no bucket for job with name "+a+" was found."));void d("WAMetrics").getEventLoopDelay().then(function(a){g!=null&&g.isActive()&&(g==null||g.addPoint("measure_event_loop_delay",{"int":{eventLoopDelay:a}}))});g==null||g.addPoint("scheduling_job",{string:babelHelpers["extends"]({},this.getStringStats(),{priority:o.priority}),"int":babelHelpers["extends"]({},this.getIntStats(),{maxTimeoutMs:(h=f==null?void 0:f.maxTimeoutMs)!=null?h:0})});var q=o.priority+"-"+a+"-"+((h=f==null?void 0:f.jobId)!=null?h:m(8));h=p.add(a,o,q,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{i.$8.logJobStarted(q);var a=(yield i.$12(e(),f==null?void 0:f.maxTimeoutMs));i.$8.logJobCompleted(q);k(a)}catch(a){a instanceof d("WACustomError").TimeoutError?i.$8.logJobTimeout(q):i.$8.logJobError(q),l(a)}}));this.$8.logJobCreated({jobId:q,jobName:a,jobPriority:o.priority,pendingJobsCount:p.count()});f&&f.priority===d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION&&void this.$13(h);this.$14();return n};e.getAvailableThreadsCount=function(){return this.$3};e.getJobQuotaConfig=function(){return this.$7};e.getRemainingJobCountMap=function(){return this.$6};e.getJobBucketByType=function(a){return this.$5.get(a)};e.getSnapshot=function(a){a=this.getJobBucketByType(a);return!a?null:a.getStats()};e.$11=function(a){var b;!a?b=new Map(l):b=new Map(a);b.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,0);return b};e.$15=function(a){return(a=this.$6.get(a))!=null?a:0};e.$16=function(){this.$6=new Map(this.$7)};e.$17=function(a){var b=this;a===void 0&&(a=!0);var c=0,e=null,f=0;this.$5.forEach(function(a,d){c+=a==null?void 0:a.count();f+=b.$15(d);if(e!=null)return;a.count()>0&&b.$15(d)>0&&(e=a)});var g=e==null||f===0;g&&this.$16();if(this.$18(c,g))return this.getJobBucketByType(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT);return e==null&&a?this.$17(!1):e};e.$18=function(a,b){var c=this;function e(a,b){var c=Date.now();return a>c?!1:c-a<b*1e3}function f(a,b){a=Math.ceil(a-Date.now())+b*1e3;return a>0?a:0}var g=this.getJobBucketByType(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT);a=a-((a=g==null?void 0:g.count())!=null?a:0);var h=g==null?void 0:g.getLastJobStartedTimestamp();if((g==null?void 0:g.count())===0)return!1;if(h==null&&e(this.$9,this.$4)){if(this.$10==null){g=f(this.$9,this.$4);this.$10=setTimeout(function(){c.$14(),c.$10=null},g)}return!1}return a>0&&h!=null&&e(h,this.$4)?!1:b};e.$19=function(a){a=this.$20(a);return c("WANullthrows")(this.$5.get(a))};e.$20=function(a){var b=a.split("-")[0];b=d("WAJobOrchestratorTypes").JOB_PRIORITY.cast(b);if(!b)throw c("err")("ConcurrentBucketQueue cannot extract known job priority type from id: "+a);return b};e.$21=function(a){a=this.$20(a);this.$15(a)>0?this.$6.set(a,this.$15(a)-1):this.$6.set(a,0)};e.$14=function(){var a=this;while(this.$3>0){var b=this.$17();b=b==null?void 0:b.next();if(b==null)break;b.forEach(function(b){a.$21(b.jobId),void a.$13(b)})}};e.$12=function(a,b){return b!==void 0?d("WAPromiseTimeout").promiseTimeout(a,b):a};e.$13=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,c=this.$19(a.jobId);this.$3--;c.markJobTaskPending(a);var e=a.run,f=a.jobId,g=a.jobName;try{yield this.$12(e(),((e=a.jobInfo)==null?void 0:e.maxTimeoutMs)===void 0?d("WAJobOrchestratorTypes").DEFAULT_JOB_TIMEOUT_MS:void 0)}catch(a){if(a instanceof d("WACustomError").TimeoutError)this.$8.logJobTimeout(f),d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: "," exceeding the timeout, release the thread."])),g);else throw a}finally{this.$3++,c.markJobTaskDone(f),this.$3>0&&setTimeout(function(){return b.$14()},0)}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WAConcurrentBucketJobQueue=a}),98);
__d("WACryptoAesGcm",["WABinary","WACryptoDependencies","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){f===void 0&&(f=16);b={name:"AES-GCM",iv:k(b),tagLength:f*8};e!=null&&(b.additionalData=k(e));return d("WACryptoDependencies").getCrypto().subtle.encrypt(b,yield j(a),c)});return h.apply(this,arguments)}function c(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){f===void 0&&(f=16);b={name:"AES-GCM",iv:k(b),tagLength:f*8};e!=null&&(b.additionalData=k(e));return d("WACryptoDependencies").getCrypto().subtle.decrypt(b,yield j(a),c)});return i.apply(this,arguments)}function j(a){return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",a,"AES-GCM",!1,["encrypt","decrypt"])}function k(a){if(a instanceof Uint8Array)return a;if(typeof a==="string"){var b=new(d("WABinary").Binary)();b.writeString(a);return b.readByteArrayView()}return new Uint8Array(a)}g.gcmEncrypt=a;g.gcmDecrypt=c}),98);
__d("WACryptoEd25519",["WACryptoPrimitives","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(a){var b=h;h=[];try{return a()}finally{(h!=null?h:[]).forEach(function(a){return void a.fill(0)}),h=b}}function j(a,b){if(h==null)throw c("err")("allocate called outside of active scope");return new a(b)}function a(a,b,c){d("WACryptoPrimitives").lowlevel.crypto_hash(a,b,c)}function b(a,b){for(var c=0;c<64;++c)b[c]=a[c],a[c]=0;l(a,b);b.fill(0)}function e(a,b){var c=[k(),k(),k(),k()];d("WACryptoPrimitives").lowlevel.scalarbase(c,b);R(a,c)}function k(a){var b=j(Float64Array,16);if(a){if(a.length>16)throw c("err")("Incorrect initialiser array provided to the fieldElement");for(var d=0;d<a.length;d++)b[d]=a[d]}return b}function l(a,b){d("WACryptoPrimitives").lowlevel.modL(a,b)}var m=function(){return k([0])},n=function(){return k([1])},o=function(){return k([2])},p=function(){return k([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])};function q(){return[k(),k(),k(),k()]}function r(){return[k(),k(),k(),k()]}function s(){return[k(),k(),k()]}function t(a,b){var c=0;b=b;while(b>0){var d=b%65536;a[c]=d;b=(b-d)/65536;c++}}function u(a,b){return T(a,b)?0:1}function v(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=j(Uint8Array,32);b(c,a);return c[0]&1}function w(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=o(),g=k();c(g,b);e(a,f,g)}function x(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.A,g=m(),h=n(),i=k(),j=k(),l=k(),o=k();t(g,486662);c(i,b);e(j,g,b);f(l,i,j);f(o,l,h);e(a,b,o)}function y(a,b,c){c===1&&a.set(b)}var z=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function A(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.unpack25519,f=c.lowlevel.pow2523,g=c.lowlevel.M;c=c.lowlevel.S;var h=k();e(h,z);e=k();f(e,b);f=k();g(f,b,e);e=k();c(e,f);c=k();g(c,f,h);y(f,c,1^u(e,b));a.set(f)}function B(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.M,g=n(),h=k(),i=k(),j=k();c(h,b,g);e(i,b,g);S(j,i);f(a,h,j)}function C(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=m();c(a,e,b)}function D(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3])}function E(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3]);c(a[3],b[0],b[1])}function F(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.Z;c(a[0],b[0]);c(a[2],b[1]);w(a[3],b[2]);e(a[1],b[0],b[1]);b=k();c(b,a[1]);e(a[1],a[2],a[0]);f(a[2],a[2],a[0]);f(a[0],b,a[1]);f(a[3],a[3],a[2])}var G=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function H(a,b,c){var e=d("WACryptoPrimitives").lowlevel.unpack25519,f=d("WACryptoPrimitives").lowlevel.M,g=k();e(g,G);e=k();B(e,b);var h=k();x(h,b);var i=k();A(i,h);h=k();f(h,b,g);b=k();S(b,i);g=k();f(g,h,b);i=k();C(i,g);y(g,i,v(g)^c);a[0].set(g);a[1].set(e);a[2].set(n());f(a[3],a[0],a[1])}function I(a,b){a[0].set(b[0]),a[1].set(b[1]),a[2].set(b[2])}function J(a,b){var c=s();I(c,b);F(a,c)}function K(a,b){var c=r(),d=s();J(c,b);D(d,c);F(c,d);D(d,c);F(c,d);E(a,c)}function L(a){var b,c=(b=d("WACryptoPrimitives")).lowlevel.S,e=b.lowlevel.M,f=b.lowlevel.pow2523;b=b.lowlevel.pack25519;var g=k(),h=k(),i=k(),j=k(),l=k();f(g,a);c(h,g);c(i,h);e(j,i,a);e(l,j,a);f=new Uint8Array(32);b(f,l);return 1&f[31]}function M(a,b){C(a[0],b[0]),a[1].set(b[1]),a[2].set(b[2]),C(a[3],b[3])}function f(a,b){var c=q();b=U(c,b);if(b!==0)return-1;M(a,c);return 0}function N(a,b){var c=d("WACryptoPrimitives").lowlevel.M,e=d("WACryptoPrimitives").lowlevel.A;b=b;var f=n(),g=m();t(g,486662);var h=k();w(h,b);b=k();e(b,h,f);h=k();S(h,b);f=k();c(f,h,g);b=k();C(b,f);c=k();x(c,b);h=L(c);f=k([0]);y(f,g,h);c=k();e(c,b,f);g=k();C(g,c);y(c,g,h);a.set(c)}function O(a){var b=d("WACryptoPrimitives").lowlevel.unpack25519;a=d("WACryptoPrimitives").hash(a);var c=(a[31]&128)>>7;a[31]&=127;var e=k();b(e,a);b=k();P(b,e);a=q();H(a,b,c);e=q();K(e,a);return e}function P(a,b){return i(function(){return N(a,b)})}function Q(a){return i(function(){return O(a)})}function R(a,b){var c=k(),e=k(),f=k(),g=d("WACryptoPrimitives").lowlevel.M,h=d("WACryptoPrimitives").lowlevel.pack25519;S(f,b[2]);g(c,b[0],f);g(e,b[1],f);h(a,e);g=new Uint8Array(32);h(g,c);a[31]^=(g[0]&1)<<7}function S(a,b){var c=k();c.set(b);var e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.S;for(var g=253;g>=0;--g)f(c,c),g!==2&&g!==4&&e(c,c,b);a.set(c)}function T(a,b){var c=d("WACryptoPrimitives").lowlevel.pack25519,e=d("WACryptoPrimitives").lowlevel.crypto_verify_32,f=new Uint8Array(32),g=new Uint8Array(32);c(f,a);c(g,b);return e(f,0,g,0)}function U(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.set25519,f=c.lowlevel.S,g=c.lowlevel.M,h=c.lowlevel.Z,i=c.lowlevel.A,j=c.lowlevel.D,l=c.lowlevel.unpack25519;c=c.lowlevel.pow2523;var o=k(),q=k(),r=k(),s=k(),t=k(),u=k(),v=k();e(a[2],n());l(a[1],b);f(r,a[1]);g(s,r,j);h(r,r,a[2]);i(s,a[2],s);f(t,s);f(u,t);g(v,u,t);g(o,v,r);g(o,o,s);c(o,o);g(o,o,r);g(o,o,s);g(o,o,s);g(a[0],o,s);f(q,a[0]);g(q,q,s);T(q,r)&&g(a[0],a[0],p());f(q,a[0]);g(q,q,s);if(T(q,r))return-1;V(a[0])===b[31]>>7&&h(a[0],m(),a[0]);g(a[3],a[0],a[1]);return 0}function V(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=new Uint8Array(32);b(c,a);return c[0]&1}g.runInAllocationScope=i;g.allocate=j;g.hashSha512=a;g.reduce=b;g.scalarmultBase=e;g.fieldElement=k;g.modL=l;g.p3Element=q;g.unpack=f;g.elligator=P;g.hashToPoint=Q;g.pack=R;g.inv25519=S;g.unpackneg=U}),98);
__d("WALock",["Promise","WAResolvable","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return{lock:function(c,e){var f=new(d("WAResolvable").Resolvable)(),g=c.map(function(a){return[a,new(d("WAResolvable").Resolvable)()]});(i||(i=b("Promise"))).all(g.map(function(b){var c=b[0],d=b[1];return a.enqueue(c,function(){d.resolve();return f.promise})}))["catch"](function(){d("WATagsLogger").TAGS(["WALock"]).ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Lock failed for ",""])),c)});return i.all(g.map(function(a){a[0];a=a[1];return a.promise})).then(function(){return e()})["finally"](function(){f.resolve()})},wait:function(b){return a.wait(b)}}}g.makeLock=a}),98);
__d("WAPromiseQueue",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a){a===void 0&&(a=-1),this.$1=(g||(g=b("Promise"))).resolve(),this.$3=0,this.$2=a}var c=a.prototype;c.wait=function(){return this.$1};c.enqueueHandlers=function(a,b,c){var d=this;this.$3++;b=this.$1.then(function(){return a}).then(b,c);c=b.then();this.$1=h(b,this.$2)["finally"](function(){d.$3--});return c};c.enqueue=function(a){var b=this;this.$3++;a=this.$1.then(a);var c=a.then();this.$1=h(a,this.$2)["finally"](function(){b.$3--});return c};c.size=function(){return this.$3};return a}();c=function(){function a(a){a===void 0&&(a=-1),this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitIfPending=function(a){return this.$1.get(a)};c.wait=function(a){return this.$1.get(a)||(g||(g=b("Promise"))).resolve()};c.enqueueHandlers=function(a,b,c,d){c=this.wait(a).then(function(){return b}).then(c,d);return this.$3(a,c)};c.enqueue=function(a,b){b=this.wait(a).then(b);return this.$3(a,b)};c.$3=function(a,b){var c=this,d=b.then(),e,f=function(){c.$1.get(a)===e&&c.$1["delete"](a)};e=h(b,this.$2).then(f,f);this.$1.set(a,e);return d};return a}();function h(a,c){if(c>=0)return new(g||(g=b("Promise")))(function(b){var d=function(){return void b()};a.then(d,d);setTimeout(d,c)});else return a.then(i,i)}function i(){}f.PromiseQueue=a;f.PromiseQueueMap=c}),66);
__d("WALockMap",["WALock","WAPromiseQueue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=-1);a=new(d("WAPromiseQueue").PromiseQueueMap)(a);return d("WALock").makeLock(a)}g.makeLockMap=a}),98);
__d("WACryptoLibraryConfig",[],(function(a,b,c,d,e,f){"use strict";var g={signalFutureMessagesMax:2e3,S508658PreventOldSessionLookupAndPromote:!1,S508658AutoAcknowledgeStaleSessions:!1};function a(){return g}function b(a){g=a}f.getCryptoLibraryConfig=a;f.setCryptoLibraryConfig=b}),66);
__d("WASignalSessions",["WABinary","WACryptoLibraryConfig","WASignalKeys","WASignalOther","err"],(function(a,b,c,d,e,f,g){"use strict";var h=3;function a(a){if(!d("WACryptoLibraryConfig").getCryptoLibraryConfig().S508658AutoAcknowledgeStaleSessions)return a;return a.initialExchangeInfo==null?a:o(a.local,a.remote,a.rootKey,a.recvChains,a.sendChain,null,a.prevSendChainHighestIndex,a.prevSessions,a.aliceBaseKey)}function b(a,b){return i(a,0,b,[])}function i(a,b,c,d){return{ratchetPubKey:a,nextMsgIndex:b,chainKey:c,unusedMsgKeys:d}}function e(a,b){return j(a,0,b)}function j(a,b,c){return{ratchetKey:a,nextMsgIndex:b,chainKey:c}}function k(a,b,c){return{remoteOneTimeId:a,remoteSignedId:b,localOneTimePubKey:c}}function f(a,b){return o(a.local,a.remote,a.rootKey,a.recvChains,a.sendChain,a.initialExchangeInfo,a.prevSendChainHighestIndex,b,a.aliceBaseKey)}function l(a,b,c){return o(a.local,a.remote,a.rootKey,b,c,a.initialExchangeInfo,a.prevSendChainHighestIndex,a.prevSessions,a.aliceBaseKey)}function m(a,b,c,d){c===void 0&&(c=a.sendChain);return o(a.local,a.remote,d,b,c,null,Math.max(a.sendChain.nextMsgIndex-1,0),a.prevSessions,a.aliceBaseKey)}function n(a,b,c,d,e,f,g){return o(a,b,c,d,e,f,0,[],g)}function o(a,b,c,d,e,f,g,h,i){return{local:a,remote:b,rootKey:c,sendChain:e,recvChains:d,initialExchangeInfo:f,prevSendChainHighestIndex:g,prevSessions:h,aliceBaseKey:i}}function p(a,b){b=new(d("WABinary").Binary)(b);var c=d("WASignalOther").readBytes(b,32),e=d("WASignalOther").readBytes(b,32);b=d("WASignalOther").readBytes(b,16);return q(a,c,e,b)}function q(a,b,c,d){return{index:a,cipherKey:b,macKey:c,iv:d}}function r(a){return{senderRatchetKey:a.ratchetPubKey,chainKey:{index:a.nextMsgIndex,key:a.chainKey},messageKeys:a.unusedMsgKeys}}function s(a){var b=a.ratchetKey;return{senderRatchetKey:b.serializedPubKey,senderRatchetKeyPrivate:b.privateKey,chainKey:{index:a.nextMsgIndex,key:a.chainKey}}}function t(a){var b=a.local,c=a.remote,d=a.initialExchangeInfo,e=void 0;if(d){var f=d.remoteOneTimeId;e={preKeyId:f!=null?f:void 0,signedPreKeyId:d.remoteSignedId,baseKey:d.localOneTimePubKey}}return{currentSession:{sessionVersion:h,localIdentityPublic:b.pubKey,remoteIdentityPublic:c.pubKey,rootKey:a.rootKey,previousCounter:a.prevSendChainHighestIndex,senderChain:s(a.sendChain),receiverChains:a.recvChains.map(r),pendingPreKey:e,remoteRegistrationId:c.regId,localRegistrationId:b.regId,aliceBaseKey:a.aliceBaseKey},previousSessions:a.prevSessions}}function u(a){var b=a.local,c=a.remote,e=a.sendChain,f=a.initialExchangeInfo,g=void 0;if(f){var i=f.remoteOneTimeId;g={preKeyId:i!=null?i:void 0,signedPreKeyId:f.remoteSignedId,baseKey:d("WASignalOther").toBuffer(f.localOneTimePubKey)}}return{sessionVersion:h,localIdentityPublic:d("WASignalOther").toBuffer(b.pubKey),remoteIdentityPublic:d("WASignalOther").toBuffer(c.pubKey),rootKey:d("WASignalOther").toBuffer(a.rootKey),previousCounter:a.prevSendChainHighestIndex,senderChain:{senderRatchetKey:d("WASignalOther").toBuffer(e.ratchetKey.serializedPubKey),senderRatchetKeyPrivate:d("WASignalOther").toBuffer(e.ratchetKey.privateKey),chainKey:{index:e.nextMsgIndex,key:d("WASignalOther").toBuffer(e.chainKey)},messageKeys:[]},receiverChains:a.recvChains.map(function(a){return{senderRatchetKey:d("WASignalOther").toBuffer(a.ratchetPubKey),chainKey:{index:a.nextMsgIndex,key:d("WASignalOther").toBuffer(a.chainKey)},messageKeys:a.unusedMsgKeys.map(function(a){return{index:a.index,cipherKey:d("WASignalOther").toBuffer(a.cipherKey),macKey:d("WASignalOther").toBuffer(a.macKey),iv:d("WASignalOther").toBuffer(a.iv)}})}}),pendingPreKey:g,remoteRegistrationId:c.regId,localRegistrationId:b.regId,aliceBaseKey:a.aliceBaseKey==null?void 0:d("WASignalOther").toBuffer(a.aliceBaseKey)}}function v(a){var b=B(a.currentSession,"currentSession");return x(b,a.previousSessions)}function w(a){return x(a,[])}function x(a,b){var e=B(a.sessionVersion,"sessionVersion");if(e!==h)throw c("err")("Signal: bad session version "+e);e=B(a.senderChain,"senderChain");var f=B(e.chainKey,"senderChain.chainKey");e=j(d("WASignalKeys").makeSerializedKeyPairFrom(A(e.senderRatchetKeyPrivate,32,"senderRatchetKeyPrivate"),z(e.senderRatchetKey,"senderRatchetKey")),B(f.index,"senderChain.chainKey.index"),A(f.key,32,"senderChain.chainKey.key"));f=B(a.receiverChains,"receiverChains").map(function(a){var b=B(a.chainKey,"receiverChains[].chainKey");return i(z(a.senderRatchetKey,"receiverChains[].senderRatchetKey"),B(b.index,"receiverChains[].chainKey.index"),A(b.key,32,"receiverChains[].chainKey.key"),y(a.messageKeys))});var g={regId:d("WASignalOther").castRegistrationId(B(a.localRegistrationId,"localRegistrationId")),pubKey:z(a.localIdentityPublic,"localIdentityPublic")},l={regId:d("WASignalOther").castRegistrationId(B(a.remoteRegistrationId,"remoteRegistrationId")),pubKey:z(a.remoteIdentityPublic,"remoteIdentityPublic")},m=a.pendingPreKey,n=null;if(m){var p=m.preKeyId;n=k(p!=null?d("WASignalKeys").castToPreKeyId(p):null,d("WASignalKeys").castToSignedPreKeyId(B(m.signedPreKeyId,"pendingPreKey.signedPreKeyId")),z(m.baseKey,"pendingPreKey.baseKey"))}p=a.aliceBaseKey==null?null:z(a.aliceBaseKey,"aliceBaseKey");return o(g,l,A(a.rootKey,32,"rootKey"),f,e,n,a.previousCounter||0,b,p)}function y(a){return a.map(function(a){return{index:B(a.index,"messageKeys[].index"),cipherKey:A(a.cipherKey,32,"messageKeys[].cipherKey"),macKey:A(a.macKey,32,"messageKeys[].macKey"),iv:A(a.iv,16,"messageKeys[].iv")}})}function z(a,b){return d("WASignalKeys").castToSerializedPubKey(new Uint8Array(B(a,b)))}function A(a,b,c){return d("WASignalOther").toBytes(B(a,c),b)}function B(a,b){if(a==null)throw c("err")("Signal: protobuf is missing "+b);return a}g.FORMAT_VERSION=h;g.maybeClearPendingPreKey=a;g.makeFreshRecvChain=b;g.makeRecvChain=i;g.makeFreshSendChain=e;g.makeSendChain=j;g.makeInitialExchangeInfo=k;g.setPrevSessions=f;g.updateChains=l;g.ratchetSession=m;g.makeFreshSession=n;g.makeSession=o;g.splitMsgKey=p;g.serializeSession=t;g.detachSession=u;g.parseSessionFromRecord=v;g.parseSession=w;g._parseSession=x;g.bytesOrThrow=A;g.definedOrThrow=B}),98);
__d("WASignalSignatures",["Promise","WACryptoDependencies","WACryptoEd25519","WACryptoPrimitives","WAHex","WALogger","WALongInt","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){return d("WACryptoEd25519").runInAllocationScope(function(){var e,f=b.length,g=a.privateKey,h=new Uint8Array(32);(e=d("WACryptoEd25519")).scalarmultBase(h,g);var i=h[31]&128,j=new Uint8Array(f+128);j[0]=254;j.fill(255,1,32);j.set(g,32);j.set(b,64);j.set(c,f+64);var k=e.allocate(Uint8Array,64);e.hashSha512(k,j,f+128);j.set(h,32);h=e.allocate(Float64Array,64);e.reduce(k,h);e.scalarmultBase(j,k);var l=e.allocate(Uint8Array,64);e.hashSha512(l,j,f+64);e.reduce(l,h);for(f=0;f<32;++f)h[f]=k[f];for(f=0;f<32;++f)for(k=0;k<32;++k)h[f+k]+=l[f]*g[k];e.modL(j.subarray(32,64),h);return{pubKeyNegative:i!==0,signedMsg:j}})}function a(a,c){return(i||(i=b("Promise"))).resolve().then(function(){var b=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(b);return k(a,c,b)})}function e(a,b,c){var e=c[63];return e&96?!1:d("WACryptoEd25519").runInAllocationScope(function(){var f,g,h=(f=d("WACryptoPrimitives")).lowlevel.A,i=f.lowlevel.M,j=f.lowlevel.Z,k=f.lowlevel.pack25519,l=f.lowlevel.unpack25519,m=(g=d("WACryptoEd25519")).allocate(Uint8Array,64);m.set(c);m[63]=e&127;var n=g.fieldElement(),o=g.fieldElement(),p=g.fieldElement(),q=g.fieldElement(),r=g.fieldElement(),s=g.allocate(Uint8Array,32),t=g.fieldElement();t[0]=1;l(n,a.subarray(1));j(o,n,t);h(p,n,t);g.inv25519(q,p);i(r,o,q);k(s,r);s[31]=s[31]&127|e&128;return f.signDetachedVerify(b,m,s)})}function k(a,b,c){a=j(a,b,c);b=d("WASignalOther").sliceBytes(a.signedMsg,0,64);b[63]=b[63]&127|(a.pubKeyNegative?128:0);return b}function l(a,b,e){var f=d("WASignalKeys").makeKeyPair(),g=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(g);e=k(e,d("WASignalKeys").serializePubKey(f),g);if(!Number.isSafeInteger(b))throw c("err")("Expected timestamp to be a safe integer, given "+String(b));return{id:d("WASignalKeys").castToPreKeyId(a),ts:b,keyPair:f,signature:e}}function f(a,b){var c=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(c);return k(a,b,c)}function m(a){var b=a.id,c=a.keyPair;return d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,{id:b,publicKey:d("WASignalKeys").serializePubKey(c),privateKey:c.privateKey,signature:a.signature,timestamp:a.ts})}function n(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey,e=a.privateKey,f=a.signature;a=a.timestamp;return b==null||c==null||e==null||f==null||a==null?null:{id:d("WASignalKeys").castToSignedPreKeyId(b),ts:d("WALongInt").numberOrThrowIfTooLarge(a),keyPair:d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalOther").toBytes(e,32),d("WASignalKeys").castToSerializedPubKey(new Uint8Array(c))),signature:d("WASignalOther").toBytes(f,64)}}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deserializeSignedPreKey error ",""])),a);return null}}function o(a){return new Uint8Array(d("WAHex").parseHex(a))}function p(a){if(a.length===33)return d("WASignalKeys").castToSerializedPubKey(a);else if(a.length===32)return d("WASignalKeys").serializeIdentity(a);else throw c("err")("verifyCertificate publicKey incorrect length")}function q(a,c,d){return(i||(i=b("Promise"))).resolve().then(function(){var b=l(a,c,d),e=m(b);return{plainObject:b,record:e}})}g.signMsg=a;g.verifyMsgSignalVariant=e;g.makeSignature=k;g.makeSignedPreKey=l;g.signSenderKeyMessage=f;g.serializeSignedPreKeyForPrivateStorage=m;g.deserializeSignedPreKey=n;g.convertPublicKeyHexToUint8Array=o;g.convertPublicKeyToSerializedPubKey=p;g.generateSignedPreKey=q}),98);
__d("WASignalWhisperTextProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={};a.internalSpec={ratchetKey:[1,(d=d("WAProtoConst")).TYPES.BYTES],counter:[2,d.TYPES.UINT32],previousCounter:[3,d.TYPES.UINT32],ciphertext:[4,d.TYPES.BYTES]};b.internalSpec={registrationId:[5,d.TYPES.UINT32],preKeyId:[1,d.TYPES.UINT32],signedPreKeyId:[6,d.TYPES.UINT32],baseKey:[2,d.TYPES.BYTES],identityKey:[3,d.TYPES.BYTES],message:[4,d.TYPES.BYTES]};c.internalSpec={id:[1,d.TYPES.UINT32],baseKey:[2,d.TYPES.BYTES],ratchetKey:[3,d.TYPES.BYTES],identityKey:[4,d.TYPES.BYTES],baseKeySignature:[5,d.TYPES.BYTES]};e.internalSpec={id:[1,d.TYPES.UINT32],iteration:[2,d.TYPES.UINT32],ciphertext:[3,d.TYPES.BYTES]};f.internalSpec={id:[1,d.TYPES.UINT32],iteration:[2,d.TYPES.UINT32],chainKey:[3,d.TYPES.BYTES],signingKey:[4,d.TYPES.BYTES]};h.internalSpec={generation:[1,d.TYPES.UINT32],signature:[2,d.TYPES.BYTES]};g.SignalMessageSpec=a;g.PreKeySignalMessageSpec=b;g.KeyExchangeMessageSpec=c;g.SenderKeyMessageSpec=e;g.SenderKeyDistributionMessageSpec=f;g.DeviceConsistencyCodeMessageSpec=h}),98);
__d("WASignalGroupSession",["WASignalKeys","WASignalSessions"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=3;function j(a){var b=d("WASignalSessions").definedOrThrow(a.senderSigningKey,"senderSigningKey"),c=d("WASignalSessions").definedOrThrow(a.senderMessageKeys,"senderMessageKeys"),e=d("WASignalSessions").definedOrThrow(a.senderChainKey,"senderChainKey");return{senderSigningKeyPublic:r(b["public"],"public"),senderSigningKeyPrivate:b["private"]?d("WASignalSessions").bytesOrThrow(b["private"],32,"private"):void 0,senderKeyId:d("WASignalSessions").definedOrThrow(a.senderKeyId,"senderKeyId"),unusedMsgKeys:c.map(function(a){return k(d("WASignalSessions").definedOrThrow(a.iteration,"iteration"),d("WASignalSessions").bytesOrThrow(a.seed,50,"seed"))}),senderKeyChainKey:l(d("WASignalSessions").definedOrThrow(e.iteration,"iteration"),d("WASignalSessions").bytesOrThrow(e.seed,32,"seed"))}}function a(a,b,c,d,e){return{senderSigningKeyPublic:a,senderSigningKeyPrivate:b,senderKeyChainKey:c,senderKeyId:d,unusedMsgKeys:e==null?[]:e}}function b(a,b){var c=a.senderKeyStates.findIndex(function(a){return a.senderKeyId===b.senderKeyId});return{senderKeyStates:a.senderKeyStates.map(function(a,d){return d===c?b:a})}}function c(a,b){a=a.senderKeyStates.slice(a.senderKeyStates.length>h-1?1:0);a.push(b);return{senderKeyStates:a}}function e(a){return{senderKeyStates:[a]}}function k(a,b){return{iteration:a,seed:b}}function l(a,b){return{nextMsgIndex:a,chainKey:b}}function f(a){a=d("WASignalSessions").definedOrThrow(a.senderKeyStates,"senderKeyStates");return m(a)}function m(a){return n(a)}function n(a){a=a.map(function(a){return j(a)});return{senderKeyStates:a}}function o(a,b){var c=a.senderKeyStates.findIndex(function(a){return a.senderKeyId===b});return c===-1?void 0:a.senderKeyStates[c]}function p(a){return{senderKeyStates:a.senderKeyStates.map(function(a){return q(a)})}}function q(a){return{senderKeyId:a.senderKeyId,senderChainKey:{iteration:a.senderKeyChainKey.nextMsgIndex,seed:a.senderKeyChainKey.chainKey},senderSigningKey:{"public":a.senderSigningKeyPublic,"private":a.senderSigningKeyPrivate},senderMessageKeys:a.unusedMsgKeys.map(function(a){var b=a.iteration;a=a.seed;return{iteration:b,seed:a}})}}function r(a,b){return d("WASignalKeys").castToSerializedPubKey(new Uint8Array(d("WASignalSessions").definedOrThrow(a,b)))}function s(a){return a}g.FORMAT_VERSION=i;g.makeSenderKeyState=a;g.updateSessionWithUpdatedSenderKeyState=b;g.updateSessionWithNewSenderKeyState=c;g.makeNewSenderKeySession=e;g.makeSenderKeyMsgKey=k;g.makeSenderKeyChainKey=l;g.parseSessionFromRecord=f;g._parseSession=m;g.makeSenderKeySessionFromRecord=n;g.findSenderKeyState=o;g.serializeSession=p;g.serializeSenderKeyState=q;g.convertFromRawToSenderKeyState=s}),98);
__d("WASignalWhitepaper",["Promise","WABinary","WACryptoDependencies","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSessions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Uint8Array(32);i.fill(255);var j=new Uint8Array([1]),k=new Uint8Array([2]);function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e,f=a.regId;a=a.staticKeyPair;var g=b.identity,h=b.signedKey.publicKey,j=c.privateKey,k=a.privateKey;e=(e=b.oneTimeKey)==null?void 0:e.publicKey;k=d("WABinary").Binary.build(i,v(k,h),v(j,g),v(j,h),e&&v(j,e)).readByteArrayView();h=(yield t(k,"WhisperText"));j=h[0];e=h[1];k=b.ratchetKey;h=d("WASignalSessions").makeFreshRecvChain(k,e);e=d("WASignalKeys").makeSerializedKeyPair();j=(yield r(j,e,k));k=d("WASignalSessions").makeInitialExchangeInfo(b.oneTimeKey==null?null:b.oneTimeKey.id,b.signedKey.id,d("WASignalKeys").serializePubKey(c));return d("WASignalSessions").makeFreshSession({regId:f,pubKey:d("WASignalKeys").serializePubKey(a)},{regId:b.regId,pubKey:g},j.rootKey,[h],d("WASignalSessions").makeFreshSendChain(e,j.chainKey),k,d("WASignalKeys").serializePubKey(c))});return l.apply(this,arguments)}function c(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f,g=a.regId;a=a.staticKeyPair;var h=a.privateKey,j=e.signed.privateKey,k=c,l=b.pubKey;f=(f=e.oneTime)==null?void 0:f.privateKey;l=d("WABinary").Binary.build(i,w(l,j),w(k,h),w(k,j),f&&w(k,f)).readByteArrayView();h=(yield t(l,"WhisperText"));j=h[0];k=h[1];f=e.ratchet;l=d("WASignalSessions").makeFreshSendChain(f,k);return d("WASignalSessions").makeSession({regId:g,pubKey:d("WASignalKeys").serializePubKey(a)},b,j,[],l,null,0,[],c)});return m.apply(this,arguments)}function e(a){a=d("WASignalGroupSession").makeSenderKeyState(d("WASignalKeys").serializePubKey(a),a.privateKey,d("WASignalGroupSession").makeSenderKeyChainKey(0,d("WASignalKeys").makeRawSenderKey()),d("WASignalOther").makeSenderKeyId(),[]);return(h||(h=b("Promise"))).resolve(d("WASignalGroupSession").makeNewSenderKeySession(a))}function f(a,c,e,f,g){e=d("WASignalGroupSession").makeSenderKeyState(e,void 0,d("WASignalGroupSession").makeSenderKeyChainKey(c,f),a,[]);c=null;g?c=d("WASignalGroupSession").updateSessionWithNewSenderKeyState(g,e):c=d("WASignalGroupSession").makeNewSenderKeySession(e);return(h||(h=b("Promise"))).resolve(c)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("WASignalOther").makeCryptoKey(c,"hmac-sha256"));c=function(a){return d("WACryptoDependencies").getCrypto().subtle.sign({name:"HMAC",hash:"SHA-256"},e,a)};var f=c(j).then(function(a){return d("WASignalOther").hkdf(new Uint8Array(a),null,"WhisperMessageKeys",80)}).then(function(b){return d("WASignalSessions").splitMsgKey(a,b)});c=c(k).then(function(a){return d("WASignalOther").toBytes(a,32)});return(h||(h=b("Promise"))).all([c,f])});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("WASignalOther").makeCryptoKey(c,"hmac-sha256"));c=function(a){return d("WACryptoDependencies").getCrypto().subtle.sign({name:"HMAC",hash:"SHA-256"},e,a)};var f=c(j).then(function(a){return d("WASignalOther").hkdf(new Uint8Array(a),null,"WhisperGroup",50)}).then(function(b){return d("WASignalGroupSession").makeSenderKeyMsgKey(a,b)});c=c(k).then(function(a){return d("WASignalOther").toBytes(a,32)});return(h||(h=b("Promise"))).all([c,f])});return q.apply(this,arguments)}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=b.privateKey;c=c;b=d("WASignalKeys").ecdh(b,c);c=(yield t(new Uint8Array(b),"WhisperRatchet",a));b=c[0];a=c[1];return{rootKey:b,chainKey:a}});return s.apply(this,arguments)}function t(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c===void 0&&(c=null);a=(yield d("WASignalOther").hkdf(a,c,b,64));return[d("WASignalOther").sliceBytes(a,0,32),d("WASignalOther").sliceBytes(a,32,32)]});return u.apply(this,arguments)}function v(a,b){return new Uint8Array(d("WASignalKeys").ecdh(a,b))}function w(a,b){return v(b,a)}g.initiateSessionOutgoing=a;g.initiateSessionIncoming=c;g.initiateSenderKeySessionOutgoing=e;g.initiateSenderKeySessionIncoming=f;g.deriveMsgKey=n;g.deriveSenderKeyMsgKey=p;g.calculateRatchet=r}),98);
__d("WASignalCipher",["Promise","WABinary","WACryptoDependencies","WACryptoLibraryConfig","WACryptoUtils","WALogger","WAResultOrError","WASignalKeys","WASignalOther","WASignalSessions","WASignalSignatures","WASignalWhisperTextProtocol.pb","WASignalWhitepaper","asyncToGeneratorRuntime","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=40,m=8,n=2e3;function a(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.sendChain,e=(yield d("WASignalWhitepaper").deriveMsgKey(c.nextMsgIndex,c.chainKey)),f=e[0];e=e[1];var g=(yield B(e)),h=g.cipherKey;g=g.macKey;h=(yield d("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-CBC",iv:e.iv},h,b));b=new(d("WABinary").Binary)();b.writeByteArray(a.local.pubKey);b.writeByteArray(a.remote.pubKey);var i=b.size();b.writeUint8(y(d("WASignalSessions").FORMAT_VERSION,d("WASignalSessions").FORMAT_VERSION));d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").SignalMessageSpec,{ratchetKey:c.ratchetKey.serializedPubKey,counter:e.index,previousCounter:a.prevSendChainHighestIndex,ciphertext:h},b);h=b.readByteArrayView();b=(yield A(g,h));g=h.subarray(i);h=d("WABinary").Binary.build(g,new Uint8Array(b,0,m)).readByteArrayView();i=a.initialExchangeInfo;if(i!=null){g=new(d("WABinary").Binary)();g.writeUint8(y(d("WASignalSessions").FORMAT_VERSION,d("WASignalSessions").FORMAT_VERSION));d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,{registrationId:a.local.regId,preKeyId:(b=i.remoteOneTimeId)!=null?b:void 0,signedPreKeyId:i.remoteSignedId,baseKey:i.localOneTimePubKey,identityKey:a.local.pubKey,message:h},g);b="pkmsg";i=g.readByteArrayView()}else b="msg",i=h;g=d("WASignalSessions").makeSendChain(c.ratchetKey,e.index+1,f);h=d("WASignalSessions").updateChains(a,a.recvChains,g);return[h,{type:b,ciphertext:i}]});return o.apply(this,arguments)}function c(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a==null)return d("WAResultOrError").makeError("errSignalNoSession");var c=(yield t(a,b));if(c.success){var e=c.value,f=e[0];e=e[1];return d("WAResultOrError").makeResult({newSessionInfo:null,updatedSession:f,plaintext:e})}else{f=a.prevSessions;e=c;for(c=0;!e.success&&c<f.length;c++){var g=d("WASignalSessions").maybeClearPendingPreKey(d("WASignalSessions").parseSession(f[c])),h=(yield t(g,b));if(h.success){h=h.value;var i=h[0];h=h[1];i=d("WASignalSessions").setPrevSessions(i,[d("WASignalSessions").detachSession(a)].concat(f.slice(0,c),f.slice(c+1)));var j=!a||!d("WACryptoUtils").serializedPubKeysEqual(i.remote.pubKey,a.remote.pubKey)?i.remote.pubKey:null;e=d("WAResultOrError").makeResult({newSessionInfo:{newIdentity:j,baseSession:g,usedPreKey:null},updatedSession:i,plaintext:h})}}return e}});return p.apply(this,arguments)}function e(a,b){if(a==null)return d("WAResultOrError").makeResult(null);a=a;if(C(a,b))return d("WAResultOrError").makeResult(a);var c=a.prevSessions;for(var e=0;e<c.length;e++){var f=d("WASignalSessions").parseSession(c[e]);if(C(f,b))return d("WACryptoLibraryConfig").getCryptoLibraryConfig().S508658PreventOldSessionLookupAndPromote===!0?d("WAResultOrError").makeError("errSignalInvalidMsg"):d("WAResultOrError").makeResult(d("WASignalSessions").setPrevSessions(f,[d("WASignalSessions").detachSession(a)].concat(c.slice(0,e),c.slice(e+1))))}return d("WAResultOrError").makeResult(null)}function f(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=e.localSignedPreKey;if(f==null)return d("WAResultOrError").makeError("errSignalInvalidSignedPreKey");f=d("WASignalSignatures").deserializeSignedPreKey(f);if(f==null)return d("WAResultOrError").makeError("errSignalSignedPreKeyDeserialization");if(f.id!==c.localSignedPreKeyId)return d("WAResultOrError").makeError("errSignalSignedPreKeyIdMismatch");var g=null;if(c.localOneTimeKeyId!=null){e=e.localOneTimeKey;if(e==null)return d("WAResultOrError").makeError("errSignalInvalidOneTimeKey");g=d("WASignalKeys").deserializePreKey(e);if(g==null)return d("WAResultOrError").makeError("errSignalOneTimeKeyDeserialization");if(g.id!==c.localOneTimeKeyId)return d("WAResultOrError").makeError("errSignalOneTimeKeyMismatch")}a=(yield d("WASignalWhitepaper").initiateSessionIncoming(a,c.remote,c.sessionBaseKey,{signed:f.keyPair,oneTime:(e=g)==null?void 0:e.keyPair,ratchet:d("WASignalKeys").toSerializedKeyPair(f.keyPair)}));g=a.remote.pubKey;e=!b||!d("WACryptoUtils").serializedPubKeysEqual(g,b.remote.pubKey)?g:null;b&&!e&&(a=d("WASignalSessions").setPrevSessions(a,[d("WASignalSessions").detachSession(b)].concat(b.prevSessions.slice(0,l-1))));f=(yield t(a,c));if(!f.success)return f;g=f.value;b=g[0];c=g[1];return d("WAResultOrError").makeResult({newIdentity:e,baseSession:a,updatedSession:b,plaintext:c})});return q.apply(this,arguments)}function r(a){var b,c,e=null;try{var f=x(a,d("WASignalSessions").FORMAT_VERSION,m);if(!f.success)return f;f=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").SignalMessageSpec,f.value);var g=f.ratchetKey;e=f.counter;c=f.ciphertext;if(g==null||e==null||c==null)return d("WAResultOrError").makeError("errSignalDeserializeInvalidProtoFormat");b=d("WASignalKeys").castToSerializedPubKey(new Uint8Array(g))}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deserializeMsg error ",""])),a);return d("WAResultOrError").makeError("errSignalDeserializeRatchetKeyBadFormat")}f={ratchetPubKey:b,counter:e,ciphertext:new Uint8Array(c),versionContentMac:a};return d("WAResultOrError").makeResult(f)}function s(a){a=x(a,d("WASignalSessions").FORMAT_VERSION,0);if(!a.success)return a;var b,c,e,f,g;try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,a.value);var h=a.registrationId,j=a.preKeyId,k=a.signedPreKeyId,l=a.baseKey,m=a.identityKey;a=a.message;if(h==null||k==null||l==null||m==null||a==null)return d("WAResultOrError").makeError("errSignalDeserializePkInvalidProtoFormat");f=d("WASignalKeys").castToSerializedPubKey(new Uint8Array(l));b={regId:d("WASignalOther").castRegistrationId(h),pubKey:d("WASignalKeys").castToSerializedPubKey(new Uint8Array(m))};e=j!=null?d("WASignalKeys").castToPreKeyId(j):null;c=d("WASignalKeys").castToSignedPreKeyId(k);g=new Uint8Array(a)}catch(a){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["deserializePkMsg error ",""])),a);return d("WAResultOrError").makeError("errSignalDeserializePkKeyBadFormat")}l=r(g);return!l.success?l:d("WAResultOrError").makeResult(babelHelpers["extends"]({},l.value,{remote:b,sessionBaseKey:f,localSignedPreKeyId:c,localOneTimeKeyId:e}))}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.ratchetPubKey,e=b.counter,f=b.ciphertext;b=b.versionContentMac;var g=a.recvChains,h=a.recvChains.findIndex(function(a){return d("WACryptoUtils").serializedPubKeysEqual(a.ratchetPubKey,c)});if(h===-1){var i=(yield d("WASignalWhitepaper").calculateRatchet(a.rootKey,a.sendChain.ratchetKey,c)),k=d("WASignalSessions").makeFreshRecvChain(c,i.chainKey);k=(yield v(k,e));if(!k.success)return k;k=k.value;var l=d("WASignalKeys").makeSerializedKeyPair();i=(yield d("WASignalWhitepaper").calculateRatchet(i.rootKey,l,c));var n=g.slice(-4);n.push(k.updatedChain);k=k.msgKey;n=d("WASignalSessions").ratchetSession(a,n,d("WASignalSessions").makeFreshSendChain(l,i.chainKey),i.rootKey)}else{l=(yield v(g[h],e));if(!l.success)return l;i=l.value;e=g.slice();e[h]=i.updatedChain;k=i.msgKey;n=d("WASignalSessions").updateChains(a,e,a.sendChain)}l=(yield B(k));g=l.cipherKey;i=l.macKey;e=d("WABinary").Binary.build(a.remote.pubKey,a.local.pubKey,b.subarray(0,-m)).readByteArrayView();l=(yield A(i,e));a=b.subarray(-m);i=!d("WACryptoUtils").uint8ArraysEqual(new Uint8Array(l,0,m),a);e=null;try{e=(yield d("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-CBC",iv:k.iv},g,f))}catch(a){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["decryptMsgFromSession error ",""])),a)}if(i&&e==null)return h===-1?d("WAResultOrError").makeError("errInvalidMacInvalidCipherKeyNewChain"):d("WAResultOrError").makeError("errInvalidMacInvalidCipherKey");if(i)return d("WAResultOrError").makeError("errInvalidMacWithDecryptedPlaintext");return e==null?d("WAResultOrError").makeError("errUnknownInvalidCipherKey"):d("WAResultOrError").makeResult([n,e])});return u.apply(this,arguments)}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b-a.nextMsgIndex,e=d("WACryptoLibraryConfig").getCryptoLibraryConfig().signalFutureMessagesMax;if(c>e)return d("WAResultOrError").makeError("errSignalTooManyMessagesInFuture");e=a.unusedMsgKeys;if(c<0){var f=e.findIndex(function(a){return a.index===b});return f===-1?d("WAResultOrError").makeError("errDuplicateMsg"):d("WAResultOrError").makeResult({msgKey:e[f],updatedChain:d("WASignalSessions").makeRecvChain(a.ratchetPubKey,a.nextMsgIndex,a.chainKey,z(e,f))})}f=a.nextMsgIndex;var g=(yield d("WASignalWhitepaper").deriveMsgKey(f,a.chainKey)),h=g[0];g=g[1];var i=null;if(c>0){c=c+e.length-n;c>0?(i=e.slice(c),c-=e.length):i=e.slice();for(f=f+1;f<=b;f++){c>0?c--:i.push(g);var j=(yield d("WASignalWhitepaper").deriveMsgKey(f,h));h=j[0];g=j[1]}}return d("WAResultOrError").makeResult({msgKey:g,updatedChain:d("WASignalSessions").makeRecvChain(a.ratchetPubKey,b+1,h,i||e)})});return w.apply(this,arguments)}function x(a,b,c){if(a.length<1)return d("WAResultOrError").makeError("errSignalEmptyVersionContentSuffix");var e=a[0]>>>4;if(e!==b)return e<b?d("WAResultOrError").makeError("errSignalLegacyMsg"):d("WAResultOrError").makeError("errSignalInvalidVersion");e=a.length-c;return e<1?d("WAResultOrError").makeError("errSignalContentExceededExpectedLength"):d("WAResultOrError").makeResult(a.subarray(1,e))}function y(a,b){return(a<<4|b)&255}function z(a,b){var c=[];for(var d=0;d<a.length;d++)d!==b&&c.push(a[d]);return c}function A(a,b){return d("WACryptoDependencies").getCrypto().subtle.sign(d("WASignalOther").HMAC_SHA256,a,b)}function B(a){return(k||(k=b("Promise"))).all([d("WASignalOther").makeCryptoKey(a.cipherKey,"aes-cbc"),d("WASignalOther").makeCryptoKey(a.macKey,"hmac-sha256")]).then(function(a){var b=a[0];a=a[1];return{cipherKey:b,macKey:a}})}function C(a,b){a=a.aliceBaseKey;return!a?!1:d("WACryptoUtils").serializedPubKeysEqual(a,b)}g.MAX_UNUSED_KEYS=n;g.encryptMsg=a;g.decryptMsg=c;g.findMatchingSession=e;g.decryptPkMsgWithNewSession=f;g.deserializeMsg=r;g.deserializePkMsg=s;g.decryptMsgFromSession=t;g.readContent=x;g.versionByte=y}),98);
__d("WASignalGroupCipher",["WABinary","WACryptoDependencies","WACryptoLibraryConfig","WALogger","WAResultOrError","WASignalCipher","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSessions","WASignalSignatures","WASignalWhisperTextProtocol.pb","WASignalWhitepaper","asyncToGeneratorRuntime","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=64;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=n(a);if(!a.success)return a;a=a.value;var c=a.senderKeyId,e=a.iteration,f=a.signingKeyPublic;a=a.chainKey;c=(yield d("WASignalWhitepaper").initiateSenderKeySessionIncoming(c,e,f,a,b));return d("WAResultOrError").makeResult(c)});return k.apply(this,arguments)}function c(a){a=d("WASignalGroupSession").serializeSenderKeyState(a);var b=new(d("WABinary").Binary)();b.writeUint8(d("WASignalCipher").versionByte(d("WASignalGroupSession").FORMAT_VERSION,d("WASignalGroupSession").FORMAT_VERSION));d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyDistributionMessageSpec,{id:a.senderKeyId,iteration:d("WASignalSessions").definedOrThrow(a.senderChainKey,"senderChainKey").iteration,chainKey:d("WASignalSessions").definedOrThrow(a.senderChainKey,"senderChainKey").seed,signingKey:d("WASignalSessions").definedOrThrow(a.senderSigningKey,"senderSigningKey")["public"]},b);return b.readByteArrayView()}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!a.senderKeyStates||a.senderKeyStates.length===0)return d("WAResultOrError").makeError("errSignalNoSession");var c=a.senderKeyStates[a.senderKeyStates.length-1],e=(yield d("WASignalWhitepaper").deriveSenderKeyMsgKey(c.senderKeyChainKey.nextMsgIndex,c.senderKeyChainKey.chainKey)),f=e[0];e=e[1];var g=(yield p(e.seed)),h=g[0];g=g[1];g=(yield d("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-CBC",iv:g},h,b));h=new(d("WABinary").Binary)();d("encodeProtobuf").encodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyMessageSpec,{id:c.senderKeyId,iteration:e.iteration,ciphertext:g},h);b=new(d("WABinary").Binary)();b.writeUint8(d("WASignalCipher").versionByte(d("WASignalGroupSession").FORMAT_VERSION,d("WASignalGroupSession").FORMAT_VERSION));b.writeBinary(h);g=d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalSessions").definedOrThrow(c.senderSigningKeyPrivate,"senderSigningKeyPrivate"),c.senderSigningKeyPublic);g=d("WASignalSignatures").signSenderKeyMessage(g,b.readByteArrayView());b=new(d("WABinary").Binary)();b.writeUint8(d("WASignalCipher").versionByte(d("WASignalGroupSession").FORMAT_VERSION,d("WASignalGroupSession").FORMAT_VERSION));b.writeBinary(h);b.writeByteArray(g);h=d("WASignalGroupSession").makeSenderKeyChainKey(e.iteration+1,f);g=d("WASignalGroupSession").updateSessionWithUpdatedSenderKeyState(a,d("WASignalGroupSession").makeSenderKeyState(c.senderSigningKeyPublic,c.senderSigningKeyPrivate,h,c.senderKeyId,c.unusedMsgKeys));return d("WAResultOrError").makeResult([g,b.readByteArrayView()])});return l.apply(this,arguments)}function f(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.senderKeyMessageId,e=b.iteration,f=b.ciphertext;b=b.versionContentMac;c=d("WASignalGroupSession").findSenderKeyState(a,c);if(c==null)return d("WAResultOrError").makeError("errSignalNoSession");var g=c.senderSigningKeyPublic;b=r(b,g);if(!b)return d("WAResultOrError").makeError("errSignalInvalidKey");g=(yield s(c,e));if(!g.success)return g;b=g.value;c=b.msgKey;e=d("WASignalGroupSession").updateSessionWithUpdatedSenderKeyState(a,b.updatedSenderKeyState);g=(yield p(c.seed));a=g[0];b=g[1];c=(yield d("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-CBC",iv:b},a,f));return d("WAResultOrError").makeResult([e,c])});return m.apply(this,arguments)}function n(a){var b,c,e,f;try{a=d("WASignalCipher").readContent(a,d("WASignalGroupSession").FORMAT_VERSION,0);if(!a.success)return a;a=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyDistributionMessageSpec,a.value);b=a.id;c=a.iteration;var g=d("WASignalSessions").bytesOrThrow(a.signingKey,33,"signingKey");e=d("WASignalKeys").castToSerializedPubKey(g);f=d("WASignalSessions").bytesOrThrow(a.chainKey,32,"chainKey");if(b==null||c==null)return d("WAResultOrError").makeError("errSignalGrpInvalidProtoFormat")}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deserializeSenderKeyDistributionMsg error ",""])),a);return d("WAResultOrError").makeError("errSignalGrpInvalidKeyFormat")}return d("WAResultOrError").makeResult({senderKeyId:b,iteration:c,signingKeyPublic:e,chainKey:f})}function o(a){if(a.length<1)return d("WAResultOrError").makeError("errSignalGrpVersionContentEmpty");var b=a[0]>>>4;if(b!==d("WASignalGroupSession").FORMAT_VERSION)return b<d("WASignalGroupSession").FORMAT_VERSION?d("WAResultOrError").makeError("errSignalLegacyMsg"):d("WAResultOrError").makeError("errSignalInvalidVersion");if(a.length<1+j)return d("WAResultOrError").makeError("errSignalGrpInvalidVersionContentLength");var c,e,f;try{b=a.subarray(1,-j);b=d("decodeProtobuf").decodeProtobuf(d("WASignalWhisperTextProtocol.pb").SenderKeyMessageSpec,b);c=b.id;e=b.iteration;f=b.ciphertext;if(c==null||e==null||f==null)return d("WAResultOrError").makeError("errSignalGrpSenderKeyInvalidProtoFormat")}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Exception caught during SenderKeyMessageSpec Proto: ",""])),a);return d("WAResultOrError").makeError("errSignalGrpSenderKeyProtoError")}return d("WAResultOrError").makeResult({senderKeyMessageId:c,iteration:e,ciphertext:new Uint8Array(f),versionContentMac:a})}function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=new(d("WABinary").Binary)(a);var b=d("WASignalOther").readBytes(a,16);a=d("WASignalOther").readBytes(a,32);return[yield d("WASignalOther").makeCryptoKey(a,"aes-cbc"),b]});return q.apply(this,arguments)}function r(a,b){var c=a.subarray(a.length-j);a=a.subarray(0,a.length-j);return d("WASignalSignatures").verifyMsgSignalVariant(b,a,d("WASignalOther").toBytes(d("WASignalOther").toBuffer(c),64))}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a,e=b-c.senderKeyChainKey.nextMsgIndex,f=d("WACryptoLibraryConfig").getCryptoLibraryConfig().signalFutureMessagesMax;if(e>f)return d("WAResultOrError").makeError("errSignalGrpTooManyMessagesInFuture");f=a.unusedMsgKeys||[];if(e<0){var g=f.findIndex(function(a){return a.iteration===b});return g===-1?d("WAResultOrError").makeError("errDuplicateMsg"):d("WAResultOrError").makeResult({msgKey:f[g],updatedSenderKeyState:d("WASignalGroupSession").makeSenderKeyState(c.senderSigningKeyPublic,c.senderSigningKeyPrivate,c.senderKeyChainKey,c.senderKeyId,u(f,g))})}g=c.senderKeyChainKey.nextMsgIndex;var h=(yield d("WASignalWhitepaper").deriveSenderKeyMsgKey(g,c.senderKeyChainKey.chainKey)),i=h[0];h=h[1];var j=null;if(e>0){e=e+f.length-d("WASignalCipher").MAX_UNUSED_KEYS;e>0?(j=f.slice(e),e-=f.length):j=f.slice();for(g=g+1;g<=b;g++){e>0?e--:j.push(h);var k=(yield d("WASignalWhitepaper").deriveSenderKeyMsgKey(g,i));i=k[0];h=k[1]}}return d("WAResultOrError").makeResult({msgKey:h,updatedSenderKeyState:d("WASignalGroupSession").makeSenderKeyState(c.senderSigningKeyPublic,c.senderSigningKeyPrivate,d("WASignalGroupSession").makeSenderKeyChainKey(b+1,i),a.senderKeyId,j||f)})});return t.apply(this,arguments)}function u(a,b){var c=[];for(var d=0;d<a.length;d++)d!==b&&c.push(a[d]);return c}g.processSenderKeyDistributionMsg=a;g.createSenderKeyDistributionProto=c;g.encryptSenderKeyMsgWithSession=e;g.decryptSenderKeyMsgFromSession=f;g.deserializeSenderKeyMsg=o}),98);
__d("WACryptoLibrary",["WACryptoUtils","WAJids","WALockMap","WALogger","WAResultOrError","WASignalCipher","WASignalGroupCipher","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSignatures","WASignalWhitepaper","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("WALockMap").makeLockMap(60*1e3),k=[],l=300;function m(a){k.push(a),k.length>=l&&k.shift()}function a(a){a(k),k=[]}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){m("createOutgoingSession");b=y(b);var c=b.signedKey;c=(yield d("WASignalSignatures").verifyMsgSignalVariant(b.identity,c.publicKey,c.signature));d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["getSessionForRecipient pkmsg signature verification result: ",""])),c);if(!c){m("createOutgoingSession: errSignalInvalidKey");return d("WAResultOrError").makeError("errSignalInvalidKey")}c=(yield d("WASignalWhitepaper").initiateSessionOutgoing(a,b,d("WASignalKeys").makeKeyPair()));return d("WAResultOrError").makeResult(c)});return o.apply(this,arguments)}function c(a,b,c,d,e){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){a=a.handleNewSession;m("establishOutgoingSession");b=(yield n(b,d));if(!b.success)return b;d=b.value;return a(c,d,d.remote.pubKey,null,e)});return p.apply(this,arguments)}function e(a,c,e,f){var g=a.loadSession,h=a.handleNewSession;m("encryptContent");return j.lock([d("WAJids").extractUserJid(c)],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=null;do{var b=(yield g(c,"cryptoLibraryEncryptContent"));if(b==null){m("encryptContent: errSignalInvalidKey");return d("WAResultOrError").makeError("errSignalInvalidKey")}if(f!=null&&!d("WACryptoUtils").uint8ArraysEqual(f,b.remote.pubKey)){m("encryptContent: identity-mismatch");return d("WAResultOrError").makeError("identity-mismatch")}b=(yield d("WASignalCipher").encryptMsg(b,e));var i=b[0];b=b[1];var j=(yield h(c,i,i.remote.pubKey));j.success?a=d("WAResultOrError").makeResult(babelHelpers["extends"]({},b,{baseKey:i.aliceBaseKey})):j.error}while(a==null);return a}))}function f(a,c,e,f,g){var h=a.loadSession,i=a.handleNewSession,k=a.loadSignedPreKey,l=a.loadOneTimePreKey;m("decryptContent");return j.lock([d("WAJids").extractUserJid(e)],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=!1,b=(yield h(e,"decryptContent"));if(f.type==="pkmsg"){var j=d("WASignalCipher").deserializePkMsg(f.ciphertext);if(!j.success){m("decryptContent: errCryptoDeserialization");return d("WAResultOrError").makeError("errCryptoDeserialization")}j=j.value;j=(yield q({loadSignedPreKey:k,loadOneTimePreKey:l},c,j,b));if(!j.success)return j;j=j.value}else{f.type;var n=d("WASignalCipher").deserializeMsg(f.ciphertext);if(!n.success){m("decryptContent: errCryptoDeserialization");return d("WAResultOrError").makeError("errCryptoDeserialization")}n=n.value;b=(yield d("WASignalCipher").decryptMsg(b,n));if(!b.success)return b;j=b.value}n=j;b=n.newSessionInfo;b&&(b.newIdentity!=null||b.usedPreKey!=null)&&(yield i(e,b.baseSession,b.newIdentity,b.usedPreKey));if(!a){n=b==null?void 0:b.baseSession.remote.pubKey;yield g(new Uint8Array(j.plaintext),n);a=!0}yield i(e,j.updatedSession,j.updatedSession.remote.pubKey);return d("WAResultOrError").makeResult()}))}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=a.loadSignedPreKey;a=a.loadOneTimePreKey;m("decryptPkMsg");var g=d("WASignalCipher").findMatchingSession(e,c.sessionBaseKey);if(!g.success)return g;g=g.value;if(g){g=(yield d("WASignalCipher").decryptMsgFromSession(g,c));if(!g.success)return g;g=g.value;var h=g[0];g=g[1];return d("WAResultOrError").makeResult({newSessionInfo:null,updatedSession:h,plaintext:g})}else{h=c.localOneTimeKeyId;g=(yield f(c.localSignedPreKeyId));f=h==null?null:yield a(h);a=(yield d("WASignalCipher").decryptPkMsgWithNewSession(b,e,c,{localSignedPreKey:g,localOneTimeKey:f}));if(!a.success)return a;b=a.value;e=b.newIdentity;c=b.baseSession;g=b.updatedSession;f=b.plaintext;return d("WAResultOrError").makeResult({newSessionInfo:{newIdentity:e,baseSession:c,usedPreKey:h},updatedSession:g,plaintext:f})}});return r.apply(this,arguments)}function s(c,e,f,g){var h=c.loadSenderKeySession,a=c.saveSenderKeySession;m("encryptGroupContent");return j.lock([e,d("WAJids").extractUserJid(f)],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){do{var b=(yield h(e,f));if(!b.success)return d("WAResultOrError").makeError(b.error);b=b.value;var c=(yield d("WASignalGroupCipher").encryptSenderKeyMsgWithSession(b,g));if(c.success){c=c.value;var i=c[0];c=c[1];yield a(e,f,i);i=b.senderKeyStates[b.senderKeyStates.length-1];b=d("WAResultOrError").makeResult({ciphertext:{ciphertext:c,type:"skmsg"},senderKeyId:i.senderKeyId,senderKeyDistributionProto:d("WASignalGroupCipher").createSenderKeyDistributionProto(d("WASignalGroupSession").convertFromRawToSenderKeyState(i))})}else{m("encryptGroupContent: sender-key-no-session");return d("WAResultOrError").makeError("sender-key-no-session")}}while(b==null);return b}))}function t(c,e,f,g,i){var k=c.loadSenderKeySession,a=c.saveSenderKeySession;m("decryptGroupContent");return j.lock([e,d("WAJids").extractUserJid(f)],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=!1,c=(yield k(e,f));if(!c.success){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WACryptoLibrary] Unable to load sender key session for group during decryptGroupContent: ",", author: ",""])),e,f);return d("WAResultOrError").makeError(c.error)}var j=d("WASignalGroupCipher").deserializeSenderKeyMsg(g);if(!j.success){m("decryptGroupContent: errCryptoDeserialization");return d("WAResultOrError").makeError("errCryptoDeserialization")}c=c.value;c=(yield d("WASignalGroupCipher").decryptSenderKeyMsgFromSession(c,j.value));if(!c.success)return c;j=c.value;c=j[0];j=j[1];b||(yield i(new Uint8Array(j)),b=!0);yield a(e,f,c);return d("WAResultOrError").makeResult()}))}function u(c,e,f,g){var h=c.loadSenderKeySession,a=c.saveSenderKeySession;m("saveSenderKeySession");return j.lock([e,d("WAJids").extractUserJid(f)],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=null;if(h){var c=(yield h(e,f));b=c.success?c.value:null}c=(yield d("WASignalGroupCipher").processSenderKeyDistributionMsg(g,b));if(!c.success)return c;b=c.value;yield a(e,f,b);return d("WAResultOrError").makeResult()}))}function v(c,e,f,g){var a=c.saveSenderKeySession;m("rotateGroupSenderKey");return j.lock([e,d("WAJids").extractUserJid(f)],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("WASignalWhitepaper").initiateSenderKeySessionOutgoing(g)),c=b.senderKeyStates[0].senderKeyId;yield a(e,f,b);return{senderKeyId:c}}))}function w(a,b,c){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=a.loadSenderKeySession;a=a.saveSenderKeySession;m("createSenderKeyDistributionMsg");var f=(yield e(b,c)),g=f.error;if(!f.success&&g==="errLoadSenderKeySession"){g=(yield d("WASignalKeys").makeKeyPair());yield v({saveSenderKeySession:a},b,c,g);f=(yield e(b,c))}if(f.success){a=f.value.senderKeyStates.slice(-1);if(a.length>0)return d("WAResultOrError").makeResult(d("WASignalGroupCipher").createSenderKeyDistributionProto(d("WASignalGroupSession").convertFromRawToSenderKeyState(a[0])))}m("createSenderKeyDistributionMsg: errGetSenderKeyProto");return d("WAResultOrError").makeError("errGetSenderKeyProto")});return x.apply(this,arguments)}function y(a){var b=a.regId,c=a.identity,e=a.signedKey;a=a.oneTimeKey;m("sanitizeInitialSessionInfo");var f=d("WASignalKeys").castToSerializedPubKey(e.publicKey);return{regId:d("WASignalOther").castRegistrationId(b),identity:d("WASignalKeys").castToSerializedPubKey(c),signedKey:{id:d("WASignalKeys").castToSignedPreKeyId(e.id),publicKey:f,signature:d("WASignalOther").ensureSize(e.signature,64)},oneTimeKey:a&&{id:d("WASignalKeys").castToPreKeyId(a.id),publicKey:d("WASignalKeys").castToSerializedPubKey(a.publicKey)},ratchetKey:f}}g.publishLogs=a;g.createOutgoingSession=n;g.establishOutgoingSession=c;g.encryptContent=e;g.decryptContent=f;g.encryptGroupContent=s;g.decryptGroupContent=t;g.saveSenderKeySession=u;g.rotateGroupSenderKey=v;g.createSenderKeyDistributionMsg=w}),98);
__d("WACryptoSha256",["WABase64","WACryptoDependencies"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return d("WACryptoDependencies").getCrypto().subtle.digest({name:"SHA-256"},a)}function i(a){return h(a).then(d("WABase64").encodeB64)}function a(a){return i(j(a))}function j(a){var b=new ArrayBuffer(a.length),c=new Uint8Array(b);for(var d=0,e=a.length;d<e;d++)c[d]=a.charCodeAt(d);return b}g.sha256=h;g.sha256Base64=i;g.sha256Str=a}),98);
__d("WARandomHex",["WACryptoDependencies","WAHex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WAHex").toHex(a)}g.randomHex=a}),98);
__d("WADefaultJobNoQueue",["WAJobOrchestratorTypes","WARandomHex","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$2=!1}var e=a.prototype;e.init=function(a,b){if(this.$2)throw c("err")("DefaultNoQueue has already initialized");this.$1=b;this.$2=!0};e.updateConfig=function(a){};e.isInitialized=function(){return this.$2};e.clearQueue=function(){};e.clearQueueByPriority=function(a){};e.getSnapshot=function(){throw c("err")("getSnapshot is not implemented for DefaultNoQueue")};e.enqueue=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e;e=(e=c==null?void 0:c.jobId)!=null?e:d("WARandomHex").randomHex(8).substr(0,64);this.$1.logJobCreated({jobId:e,jobName:a,jobPriority:(a=c==null?void 0:c.priority)!=null?a:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,pendingJobsCount:0});try{this.$1.logJobStarted(e);c=(yield b());this.$1.logJobCompleted(e);return c}catch(a){this.$1.logJobError(e);throw a}});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WADefaultJobNoQueue=a}),98);
__d("WAParseIqResponse",["WAWap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=a.content;if(e&&Array.isArray(e)&&e[0]){e=e[0];if(e.tag==="error"){var f=e.attrs||{},g;c&&(typeof c==="function"?g=c(a):g=c.parseOrThrow(e));c=g;return{success:!1,errorCode:parseInt(f.code,10),errorText:d("WAWap").decodeAsString(f.text)||"",errorType:d("WAWap").decodeAsString(f.type)||"",errorBackoff:parseInt(f.backoff,10),toString:h,customError:c}}}if(typeof b==="function")return{success:!0,result:b(a)};else return{success:!0,result:b.parseOrThrow(a)}}function h(){return"IqError "+this.errorCode+": "+this.errorText}g.parseIqResponse=a}),98);
__d("WADeprecatedSendIq",["Promise","WAAckParser","WAArrayUtils","WAComms","WALogger","WAParseIqResponse"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return d("WAComms")._sendIq(a,!1).then(function(a){return d("WAParseIqResponse").parseIqResponse(a,b)})}function c(a,b,c){return d("WAComms")._sendIq(a,!1).then(function(a){return d("WAParseIqResponse").parseIqResponse(a,b,c)})}function e(a,b,c){return d("WAComms")._sendIq(a,!1,c).then(function(a){return d("WAParseIqResponse").parseIqResponse(a,b)})}function f(a,b){return d("WAComms")._sendIq(a,!0).then(function(a){return d("WAParseIqResponse").parseIqResponse(a,b)})}function j(a,b){return k(a,b).then(function(){})}function k(a,c){return new(i||(i=b("Promise")))(function(e){var f=d("WAComms").singletonOrThrowIfUninitialized("deprecatedSendStanzaAndReturnAck"),g=function(a){var b=d("WAAckParser").AckParser.parse(a);return!b.error&&d("WAAckParser").ackMatchesTemplate(b.success,c)?a:null},j={type:"ack",parseAndTest:g,resolve:e,stanza:a,attachedToSocketId:d("WAComms").DEFAULT_SOCKET_ID,orderedId:d("WAComms").getAndIncrementNextOrderedId()};f.ackHandlers.push(j);if(!f.socket){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Comms has no open socket, will send stanza when socket opens"])));return}f.callStanza(a)["catch"](function(a){var c=f.ackHandlers.indexOf(j);if(c===-1)return;d("WAArrayUtils").removeIndexWithoutPreservingOrder(f.ackHandlers,c);j.resolve((i||(i=b("Promise"))).reject(a))})})}function l(a,b){d("WAComms").castSmaxStanza(a,b)}g.deprecatedSendIq=a;g.deprecatedSendIqErrorParser=c;g.deprecatedSendIqIfConnectedWithin=e;g.deprecatedSendIqWithoutRetry=f;g.deprecatedSendStanzaAndWaitForAck=j;g.deprecatedSendStanzaAndReturnAck=k;g.deprecatedCastStanza=l}),98);
__d("WAExponentialIterator",[],(function(a,b,c,d,e,f){"use strict";function* a(a){var b=1;while(!0)yield b,b*=a}f["default"]=a}),66);
__d("WAExponentialBackoffIterator",["WAExponentialIterator"],(function(a,b,c,d,e,f,g){"use strict";var h={factor:2,jitter:0,maxTimeout:Infinity};function* a(a){a=babelHelpers["extends"]({},h,a);var b=a.factor,d=a.jitter,e=a.maxTimeout,f=a.minTimeout;a=a.retries;var g=0;for(b of c("WAExponentialIterator")(b)){g++;if(g>a)return;var i=1+(Math.random()*d*2-d);yield Math.min(f*b*i,e)}}g.defaults=h;g.exponentialBackoffIterator=a}),98);
__d("WAExponentialBackoff",["WABackoff","WAExponentialBackoffIterator"],(function(a,b,c,d,e,f,g){"use strict";var h=["signal","timeoutIncludesTaskDuration"],i=babelHelpers["extends"]({},d("WAExponentialBackoffIterator").defaults,d("WABackoff").defaults);function a(a,b){a=babelHelpers["extends"]({},i,a);var c=a.signal,e=a.timeoutIncludesTaskDuration;a=babelHelpers.objectWithoutPropertiesLoose(a,h);a=d("WAExponentialBackoffIterator").exponentialBackoffIterator(a);return d("WABackoff").backoff({signal:c,timeoutIterator:a,timeoutIncludesTaskDuration:e},b)}g.exponentialBackoff=a}),98);
__d("WAFtsV3IndexEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return{id:a,chatId:b,timestamp:c,prefixes:d}}function b(a,b,c,d,e){return{ftsRowId:a,id:b,chatId:c,timestamp:d,prefixes:e}}f.buildEntry=a;f.buildDBEntry=b}),66);
__d("WAJobRequirement",["Promise","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=function(){function a(a){var c=this;this.$1=(i||(i=b("Promise"))).resolve();this.$2=!0;this.$3=null;this.$4=function(){var a=c.$3;if(a!=null){c.$3=null;return(i||(i=b("Promise"))).all(a).then(c.$4)}c.$2=!0};this.name=a}var c=a.prototype;c.addBlocker=function(a){var c=this;a=a["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["JobRequirement[","] blocker errored ",""])),c.name,a).sendLogs("job-blocker-rejected")});if(this.$2)this.$2=!1,this.$1=(i||(i=b("Promise"))).all([this.$1,a]).then(this.$4);else{var e=this.$3;e!=null?e.push(a):this.$3=[a]}};c.waitUntilSatisfied=function(){return this.$1};c.isSatisfied=function(){return this.$2};c.isSatisfiable=function(){return!0};return a}();e=function(a){function c(c){c=a.call(this,c)||this;a.prototype.addBlocker.call(c,new(i||(i=b("Promise")))(function(){}));return c}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.addBlocker=function(){};d.isSatisfiable=function(){return!1};return c}(c);function a(a,c){var d=a.filter(function(a){return!a.isSatisfiable()});if(d.length>0){var e=d.map(function(a){return a.name});return function(a){c==null||c("unsatisfiable",e,a);return d[0].waitUntilSatisfied()}}var f=a.map(function(){return(i||(i=b("Promise"))).resolve()}),g=(i||(i=b("Promise"))).resolve(),h=null,j=function(){if(f.every(function(b,c){return b===a[c].waitUntilSatisfied()})){h=null;return}var c=[],d=a.map(function(a){var b=a.waitUntilSatisfied();a.isSatisfied()||(c.push(a.name),void b.then(function(){var b=c.indexOf(a.name);c.splice(b,1)}));return b});f=d;h=c;return(i||(i=b("Promise"))).all(d).then(j)};return function(a){if(h==null){var b=j();b!=null&&(g=g.then(function(){return b}))}c==null||c(h==null?"satisfied":"unsatisfied",h,a);return g}}g.JobRequirement=c;g.UnsatisfiableJobRequirement=e;g.joinRequirements=a}),98);
__d("WALruCache",["WALogger","WAShiftTimer","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){this.key=a,this.value=b,this.prev=null,this.next=null};a=function(){function a(a){var b=this,e;this.$2=new Map();this.purgeNow=function(){for(var a=b.$6.prev;b.$4>b.$3&&a!==b.$5;a=a?a.prev:null){if(a==null)throw c("err")("The linked list is not constructed properly.");var d=a,e=d.key;d=d.value;if(!b.$9(e,d))continue;b["delete"](e);b.$10&&b.$10(e,d)}b.$8&&b.$8(b.$2)};this.$3=a.sizeLimit;this.$7=a.getSize;this.$8=a.onPurge;this.$9=(e=a.shouldEvict)!=null?e:function(){return!0};this.$10=a.onEvict;this.$11=a.onAdd;this.$12=a.onDelete;this.$4=0;this.$5=new i("placeholder-head",null);this.$6=new i("placeholder-tail",null);this.$5.next=this.$6;this.$6.prev=this.$5;this.$1=new(d("WAShiftTimer").ShiftTimer)(function(){return b.purgeNow()})}var b=a.prototype;b.get=function(a){if(!this.$2.has(a))return null;a=this.$2.get(a);if(a==null)return null;var b=a.prev,d=a.next;b&&(b.next=d);d&&(d.prev=b);d=this.$5.next;if(d==null)throw c("err")("The linked list is not constructed properly.");this.$5.next=a;d.prev=a;a.prev=this.$5;a.next=d;return a.value};b.has=function(a){return this.$2.has(a)};b.touch=function(a){this.get(a)};b.put=function(a,b){if(this.$3===0)return;if(this.$7(b)>this.$3){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Blob size is larger than the limit of the whole store."])));return}this["delete"](a);this.$14(a,b);this.schedulePurge()};b.$14=function(a,b){var d=new i(a,b);this.$2.set(a,d);var e=this.$5.next;if(e==null)throw c("err")("The linked list is not constructed properly.");this.$5.next=d;e.prev=d;d.prev=this.$5;d.next=e;this.$4+=this.$7(b);this.$11&&this.$11(a,b)};b["delete"]=function(a){if(!this.$2.has(a))return;var b=this.$2.get(a);if(b==null)return;this.$4-=this.$7(b.value);var c=b.prev,d=b.next;c&&(c.next=d);d&&(d.prev=c);this.$2["delete"](a);this.$12&&this.$12(a,b.value)};b.clear=function(){this.$2.clear(),this.$4=0,this.$5.next=this.$6,this.$6.prev=this.$5,this.$13&&this.$13()};b.schedulePurge=function(){this.$1.onOrBefore(1e3)};b.getCurrentSize=function(){return this.$4};b.getPlaceholderHead=function(){return this.$5};b.forEach=function(a){if(this.$4===0)return;var b=this.$6.prev;if(b==null)throw c("err")("The linked list is not constructed properly.");while(b!=null&&b!==this.$5)a(b.value),b=b.prev};return a}();g.LruCache=a}),98);
__d("WAOnceWithReset",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){var b=g,c=function(){if(b===g){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];b=a.call.apply(a,[this].concat(d))}return b};c.reset=function(){b=g};return c}f["default"]=a}),66);
__d("WAPREList",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({APP_STATE_SYNC_DAILY:"app_state_sync_daily",DECRYPT_MESSAGE_FINAL:"decrypt_message_final",DOWNLOAD_AND_DECRYPT:"download_and_decrypt",EBDB_INIT:"ebdb_init",FRANKING_VALIDATION:"franking_validation",GET_DEVICES:"get_devices",ICDC_ERROR:"icdc_error",MEDIA_DOWNLOAD:"media_download",MEDIA_UPLOAD:"media_upload",MEDIA_VALIDATE:"media_validate",MESSAGE_DECRYPTION:"message_decryption",MESSAGE_ENCRYPTION:"message_encryption",OFFLINE_QUEUE:"offline_queue",OFFLINE_RETRY:"offline_retry",ONE_QUEUE:"one_queue",QUERY_GROUP:"query_group",QUERY_GROUPS:"query_groups",RECEIVE_MESSAGE:"receive_message",SEND_MESSAGE:"send_message",STANZA_QUEUE_MESSAGE_CONSUMER:"stanza_queue_message_consumer",SYNCD:"syncd",SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:"syncd_bootstrap_app_state_download",SYNCD_BOOTSTRAP_DATA_APPLIED:"syncd_bootstrap_data_applied",SYNCD_CRITICAL_BOOTSTRAP_STAGE:"syncd_critical_bootstrap_stage",SYNCD_CRITICAL_EVENT:"syncd_critical_event",SYNCD_DECRYPT_MUTATIONS:"syncd_decrypt_mutations",SYNCD_FATAL_ERROR:"syncd_fatal_error",SYNCD_KEY_ROTATION:"syncd_key_rotation",WA_DISCONNECT:"wa_disconnect",WA_FAIL_STANZA_QUEUE_ITEM:"stanza_queue_item_failure",WA_JOB_MANAGER:"wa_job_manager",WA_JOBS_ORCHESTRATOR:"wa_jobs_orchestrator",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key"});f.PRE_METRIC=a}),66);
__d("WAPREMetrics",["WALogger","WAPREList"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;c=6e4;e=18e4;f=10*60*1e3;var k=0;function a(){var c=[];function e(a){c.push(a)}function b(){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Removing all listeners from PRE_METRICS"]))),c.length=0}function a(a){c.length===0&&d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[PRE] There are no subscribers to PRE events "," ",""])),a.name,a.stage),c.forEach(function(b){b(a)})}return{subscribe:e,notify:a,clear:b}}a=a();var l=a.notify,m=a.clear;a=a.subscribe;var n;"FinalizationRegistry"in self&&"WeakRef"in self&&(n=new FinalizationRegistry(function(a){var b=a.event;a=a.eventFlow;if(a.isActive())try{d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[PRE][","] EventFlow still active during garbage collection"])),b)}catch(a){}}));var o=new Set([d("WAPREList").PRE_METRIC.SEND_MESSAGE,d("WAPREList").PRE_METRIC.MEDIA_DOWNLOAD]);function b(a,b,c,d){c==null&&k++;var e=c!=null?c:k,f="open";c==null?l({name:a,stage:"START",instanceKey:e,annotations:b,timeoutInMs:d}):l({name:a,stage:"RESUME",instanceKey:e,annotations:b});var g;function h(){if(g!=null){var a=g.deref();if(a!=null){var b;(b=n)==null||b.unregister(a)}}}d={addPoint:function(c,b){l({name:a,stage:"POINT",reason:c,instanceKey:e,annotations:b})},addAnnotations:function(b){l({name:a,stage:"ANNOTATE",instanceKey:e,annotations:b})},endSuccess:function(b){l({name:a,stage:"SUCCESS",instanceKey:e,annotations:b}),f="closed",h()},endCancel:function(b){l({name:a,stage:"CANCEL",instanceKey:e,annotations:b}),h()},endFail:function(c,b){l({name:a,stage:"FAIL",reason:c,instanceKey:e,annotations:b}),f="closed",h()},getFlowDetails:function(){return{name:a,instanceKey:e}},isActive:function(){return f==="open"}};n&&!o.has(a)&&c==null&&(n.register(d,{event:a,eventFlow:{endCancel:d.endCancel,isActive:d.isActive}}),g=new WeakRef(d));return d}g.QPL_DEFAULT_TIMEOUT_IN_MS=c;g.QPL_RECEIVE_MESSAGE_TIMEOUT_IN_MS=e;g.QPL_MEDIA_DOWNLOAD_TIMEOUT_IN_MS=f;g.clear=m;g.subscribe=a;g.startMetric=b}),98);
__d("WAPersistedJobManager",["Promise","WAJobRequirement","WALogger","WAPromiseBackoffs","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L=1,M=function(){function a(a){this.feature=a}var b=a.prototype;b.toString=function(){return"RequiresPage: "+this.feature};return a}(),N=function(){function a(a){this.backoffOptions=a}var b=a.prototype;b.toString=function(){return"RetryOnBackoff"};return a}();a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toString=function(){return"NonRetryableError"};return b}(babelHelpers.wrapNativeSuper(Error));var O=function(a){this.result=a},P="$unstarted",Q="$finished";c=function(){function a(a){var c=this,e=a.isRestartAfterCrash,f=a.accessors,g=a.unfinishedJobEntries,j=new Map();g=g.then(function(a){var g=[],k=[];a.forEach(function(a){a.stepHardStartCountAfterTimeout>=5?g.push(a):k.push(a)});return(K||(K=b("Promise"))).all(g.map(function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",": stuck on the step ",", aborting the job"])),S(a),a.step).devConsole(R(a)).sendLogs("job-stuck-"+a.type);return f.deletePersistedJob(a.jobId)})).then(function(){k.forEach(function(a){if(j.has(a.jobId))return;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",": restarting"])),R(a));j.set(a.jobId,c.$1(a,e))})})});this.implementationLoaders=new Map();this.implementations=new Map();this.stepBlockers=new WeakMap();this.accessors=f;this.activeJobs=j;this.initialJobsPromise=g;this.listeners=a.listeners;this.deprecatedJobs=a.deprecatedJobs}var c=a.prototype;c.loadAndRunJobFromId=function(a){var b=this.activeJobs.get(a);if(b!=null)return b;b=this.$2(a);this.activeJobs.set(a,b);return b};c.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this.initialJobsPromise,c=this.accessors;yield b;b=(yield c.readPersistedJob(a));if(!b){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["No entry for job ",""])),a);d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Persisted job missing for given ID"])));return null}return this.$1(b,!1)});function c(b){return a.apply(this,arguments)}return c}();c.$3=function(a){var b=this.implementations,c=this.implementationLoaders,d=b.get(a);if(d)return d;d=c.get(a);if(!d)return null;c=d();b.set(a,c);return c};c.$4=function(a,c){if(c==null||c.length===0)return(K||(K=b("Promise"))).resolve();var e=this.stepBlockers,f=e.get(c);f==null&&(f=d("WAJobRequirement").joinRequirements(c.map(function(a){return a()}),U),e.set(c,f));return f(a)};c.$5=function(a,b,c,e){var f=this;c===void 0&&(c=!1);var g=a.step,h=b.findIndex(function(a){return a.stepName===g}),i=b[h].info(a.current,a.original,V(a,c)),j=i.requirements,k=i.code;i=this.$4(a,j);e&&(i=i.then(e));return i.then(function(){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["",": running step"])),T(a));return k(a.current,a.original,V(a,c))}).then(function(e){if(e instanceof O){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["",": InterruptJob"])),T(a));return e.result}var g=h+1;if(g>=b.length)return e;g=b[g];a.step=g.stepName;a.current=e;a.stepHardStartCountAfterTimeout=0;a.stepFirstStartTime=d("WATimeUtils").unixTime();a.stepUnexpectedErrorCount=0;a.waitUntil=null;a.backedOffCount=0;return f.accessors.updatePersistedJob(a).then(function(){return f.$5(a,b,c)})})};c.$1=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=this,f=this.accessors,g=this.activeJobs,h=this.deprecatedJobs,i=this.listeners,j=i.onJobFinished;i=i.onJobStarted;var k=(yield this.$3(a.type));h=h[a.type];if(!k){if(!h){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["No implementation for ",". Maybe it should have been put to the deprecated list?"])),a.type).sendLogs("missing-job-implementation");yield f.deletePersistedJob(a.jobId);return null}else if(h==="NOOP"){d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["No implementation for deprecated ",", job deleted"])),a.type);yield f.deletePersistedJob(a.jobId);return null}k=(yield h())}var l=k;h&&d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Running deprecated job ",""])),a.type);var m=(h=a.stepFirstStartTime)!=null?h:d("WATimeUtils").unixTime();a.stepFirstStartTime=m;a.stepUnexpectedErrorCount=a.stepUnexpectedErrorCount||0;a.backedOffCount=a.backedOffCount||0;if(a.step===Q){h=a.waitUntil;var E=d("WATimeUtils").secondsUntil(m);h!=null&&d("WATimeUtils").isInFuture(h)&&E>0&&(d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["",": skew detected, adjusting accordingly"])),R(a)),h=d("WATimeUtils").castToUnixTime(h-E),d("WATimeUtils").isInFuture(h)&&(a.stepFirstStartTime=d("WATimeUtils").castToUnixTime(m-E),a.waitUntil=h,yield this.accessors.updatePersistedJob(a)));(h==null||!d("WATimeUtils").isInFuture(h))&&(d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["",": removing completed, expired job from db"])),R(a)),yield f.deletePersistedJob(a.jobId));g["delete"](a.jobId);return a.current}E=a.step!==P?k.find(function(b){return b.stepName===a.step}):k[0];if(!E){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["No implementation for ",".",""])),a.type,a.step).sendLogs("missing-job-step");yield f.deletePersistedJob(a.jobId);return null}a.step=E.stepName;var F=function(){var f=a.waitUntil,g=(K||(K=b("Promise"))).resolve();if(f!=null){var h=d("WATimeUtils").futureUnixTime(d("WATimeUtils").DAY_SECONDS);f>h?(d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["",": trim wait from "," to ",""])),T(a),f,h),a.waitUntil=h,g=e.accessors.updatePersistedJob(a).then(function(){return d("WATimeUtils").delayUntil(h)})):(d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["",": delaying until ",""])),T(a),f),g=d("WATimeUtils").delayUntil(f))}return g.then(function(){var f=function(){a.waitUntil=null;d("WATimeUtils").happenedWithin(m,d("WATimeUtils").DAY_SECONDS)||a.stepHardStartCountAfterTimeout++;return e.accessors.updatePersistedJob(a)};return e.$5(a,l,c,f)["catch"](function(c){if(c instanceof M){d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["",": requires page"])),T(a));a.stepHardStartCountAfterTimeout>0&&(--a.stepHardStartCountAfterTimeout,e.accessors.updatePersistedJob(a));return new(K||(K=b("Promise")))(function(){})}else if(c instanceof N){d("WALogger").LOG(w||(w=babelHelpers.taggedTemplateLiteralLoose(["",": RetryOnBackoff"])),T(a));var f=d("WAPromiseBackoffs").getDelay(++a.backedOffCount,c.backoffOptions);a.waitUntil=d("WATimeUtils").futureUnixTime(Math.ceil(f/1e3));a.stepHardStartCountAfterTimeout>0&&--a.stepHardStartCountAfterTimeout;return e.accessors.updatePersistedJob(a).then(F)}else if(a.stepUnexpectedErrorCount<L){d("WALogger").WARN(x||(x=babelHelpers.taggedTemplateLiteralLoose(["",": Unhandled exception. Tried "," times"])),T(a),a.stepUnexpectedErrorCount);d("WALogger").WARN(y||(y=babelHelpers.taggedTemplateLiteralLoose(["",": Unhandled exception: ",""])),T(a),c);a.stepUnexpectedErrorCount++;return e.accessors.updatePersistedJob(a).then(F)}throw c})})},G=F();h=G.then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["",": finished job"])),T(a));var c=null;try{c=j(a.jobId,a.type,a.original,b)}catch(b){d("WALogger").ERROR(A||(A=babelHelpers.taggedTemplateLiteralLoose(["onJobFinished for "," threw exception ",""])),a.type,b).sendLogs("onJobFinished-threw")}c!=null&&c>0?(a.waitUntil=d("WATimeUtils").futureUnixTime(Math.ceil(c/1e3)),a.step=Q,a.current=b,a.stepFirstStartTime=d("WATimeUtils").unixTime(),yield e.accessors.updatePersistedJob(a)):(yield f.deletePersistedJob(a.jobId),g["delete"](a.jobId))});return function(a){return c.apply(this,arguments)}}(),function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("WALogger").ERROR(B||(B=babelHelpers.taggedTemplateLiteralLoose([""," failed with error ",""])),a.type,b).sendLogs("job-threw-exception-"+a.type);b=l.find(function(b){return b.stepName===a.step});if(!b)d("WALogger").ERROR(C||(C=babelHelpers.taggedTemplateLiteralLoose(["",": "," step not found"])),a.type,a.step);else{b=b.info(a.current,a.original,V(a,c));b.stopRetryIf!=null&&(yield b.stopRetryIf.onStopRetry(a.current,a.original,V(a,c)))}yield f.deletePersistedJob(a.jobId);g["delete"](a.jobId)});return function(a){return e.apply(this,arguments)}}());try{i(a.jobId,a.type,a.original)}catch(b){d("WALogger").ERROR(D||(D=babelHelpers.taggedTemplateLiteralLoose(["onJobStarted for "," threw exception ",""])),a.type,b).sendLogs("onJobStarted-threw")}return h.then(function(){return G})});function c(b,c){return a.apply(this,arguments)}return c}();c.addPersistedJobImplementation=function(a,b){var c=this.implementationLoaders,e=this.deprecatedJobs;if(c.has(a)){d("WALogger").ERROR(E||(E=babelHelpers.taggedTemplateLiteralLoose(["addPersistedJobImplementation called twice for ",""])),a).sendLogs("repeat-job-loader");return}e&&e[a]&&d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose([""," has been loaded and is marked as deprecated"])),a);c.set(a,b)};c.fireAndForget=function(a){var b=this;this.accessors.maybeCreateJob(a).then(function(a){a=a.id;return b.loadAndRunJobFromId(a)})};c.waitUntilPersisted=function(a){var b=this;return this.accessors.maybeCreateJob(a).then(function(a){a=a.id;b.loadAndRunJobFromId(a)})};c.waitUntilCompleted=function(a){var b=this;return this.accessors.maybeCreateJob(a).then(function(a){a=a.id;return b.loadAndRunJobFromId(a)})};c.fireAndForgetNonPersisted=function(a){d("WALogger").LOG(G||(G=babelHelpers.taggedTemplateLiteralLoose(["fireAndForgetNonPersisted not implemented in PersistedJobManager"])))};c.waitUntilCompletedNonPersisted=function(a){return(K||(K=b("Promise"))).resolve(function(){return d("WALogger").LOG(H||(H=babelHelpers.taggedTemplateLiteralLoose(["waitUntilCompletedNonPersisted not implemented in PersistedJobManager"])))})};return a}();function R(a){return"Job["+a.jobId+"] ("+a.type+")"}function S(a){return"[Job "+a.type+"] "}function T(a){return"Job["+a.jobId+"] ("+a.type+"."+a.step+")"}function U(a,b,c){a==="unsatisfiable"?d("WALogger").LOG(I||(I=babelHelpers.taggedTemplateLiteralLoose([""," halting because of ",""])),T(c),b):a==="unsatisfied"?d("WALogger").LOG(J||(J=babelHelpers.taggedTemplateLiteralLoose([""," waiting on ",""])),T(c),b):a}function V(a,b){b===void 0&&(b=!1);return{jobStartTime:a.startTime,afterCrash:b,interruptJob:W}}function W(a){return new O(a)}g.RequiresPage=M;g.RetryOnBackoff=N;g.NonRetryableError=a;g.InterruptJob=O;g.UNSTARTED_JOB=P;g.FINISHED_JOB=Q;g.PersistedJobManager=c}),98);
__d("WAPromiseEach",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[];for(var d=0;d<a.length;d++)c.push(yield b(a[d],d));return c});return function(b,c){return a.apply(this,arguments)}}();f.promiseEach=a}),66);
__d("WAPromiseMap",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve(a).then(function(a){return(g||(g=b("Promise"))).all(a.map(function(a,b){return c(a,b)}))})}f.promiseMap=a}),66);
__d("WAProtobufsUserPassword.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({NONE:0,PBKDF2_HMAC_SHA512:1,PBKDF2_HMAC_SHA384:2});c=b("$InternalEnum")({UTF8:0,UTF8_BROKEN:1});e={};f={};b={};e.name="UserPassword";e.internalSpec={encoding:[1,(d=d("WAProtoConst")).TYPES.ENUM,c],transformer:[2,d.TYPES.ENUM,a],transformerArg:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f],transformedData:[4,d.TYPES.BYTES]};f.name="UserPassword$TransformerArg";f.internalSpec={key:[1,d.TYPES.STRING],value:[2,d.TYPES.MESSAGE,b]};b.name="UserPassword$TransformerArg$Value";b.internalSpec={asBlob:[1,d.TYPES.BYTES],asUnsignedInteger:[2,d.TYPES.UINT32],__oneofs__:{value:["asBlob","asUnsignedInteger"]}};g.UserPassword$Transformer=a;g.UserPassword$Encoding=c;g.UserPasswordSpec=e;g.UserPassword$TransformerArgSpec=f;g.UserPassword$TransformerArg$ValueSpec=b}),98);
__d("WAProtobufsChatLockSettings.pb",["WAProtoConst","WAProtobufsUserPassword.pb"],(function(a,b,c,d,e,f,g){a={};a.name="ChatLockSettings";a.internalSpec={hideLockedChats:[1,d("WAProtoConst").TYPES.BOOL],secretCode:[2,d("WAProtoConst").TYPES.MESSAGE,d("WAProtobufsUserPassword.pb").UserPasswordSpec]};g.ChatLockSettingsSpec=a}),98);
__d("WAProtobufsDeviceCapabilities.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({NONE:0,MINIMAL:1,FULL:2});c={};e={};f={};b={};c.name="DeviceCapabilities";c.internalSpec={chatLockSupportLevel:[1,(d=d("WAProtoConst")).TYPES.ENUM,a],lidMigration:[2,d.TYPES.MESSAGE,b],businessBroadcast:[3,d.TYPES.MESSAGE,f],userHasAvatar:[4,d.TYPES.MESSAGE,e]};e.name="DeviceCapabilities$UserHasAvatar";e.internalSpec={userHasAvatar:[1,d.TYPES.BOOL]};f.name="DeviceCapabilities$BusinessBroadcast";f.internalSpec={importListEnabled:[1,d.TYPES.BOOL]};b.name="DeviceCapabilities$LIDMigration";b.internalSpec={chatDbMigrationTimestamp:[1,d.TYPES.UINT64]};g.DeviceCapabilities$ChatLockSupportLevel=a;g.DeviceCapabilitiesSpec=c;g.DeviceCapabilities$UserHasAvatarSpec=e;g.DeviceCapabilities$BusinessBroadcastSpec=f;g.DeviceCapabilities$LIDMigrationSpec=b}),98);
__d("WAProtocol.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({UNKNOWN:0,CHAT_SETTING:1,BIZ_SUPPORTS_FB_HOSTING:2,UNKNOWN_GROUP:3});c={};e={};c.name="MessageKey";c.internalSpec={remoteJid:[1,(f=d("WAProtoConst")).TYPES.STRING],fromMe:[2,f.TYPES.BOOL],id:[3,f.TYPES.STRING],participant:[4,f.TYPES.STRING]};e.internalDefaults={trigger:a.UNKNOWN};e.name="LimitSharing";e.internalSpec={sharingLimited:[1,f.TYPES.BOOL],trigger:[2,f.TYPES.ENUM,a],limitSharingSettingTimestamp:[3,f.TYPES.INT64],initiatedByMe:[4,f.TYPES.BOOL]};g.LimitSharing$Trigger=a;g.MessageKeySpec=c;g.LimitSharingSpec=e}),98);
__d("WASemaphore",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){a===void 0&&(a=1),this.$1=0,this.$3=[],this.$2=a}var d=a.prototype;d.acquire=function(){var a=this;return new(h||(h=b("Promise")))(function(b,c){a.$4(b,c)})};d.availablePermits=function(){return this.$2-this.$1};d.$5=function(){this.$1--,this.$6()};d.$4=function(a,b){var d=this;if(this.$1<this.$2){this.$1++;var e=!1;a({release:function(){if(e)throw c("err")("Permit has already been released");e=!0;d.$5()}})}else this.$7(a,b)};d.$7=function(a,b){this.$3.push([a,b])};d.$6=function(){if(this.$3.length===0)return;var a=this.$3.shift(),b=a[0];a=a[1];this.$4(b,a)};return a}();g.Semaphore=a}),98);
__d("WAServerSync.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({SET:0,REMOVE:1});c={};e={};f={};b={};var h={},i={},j={},k={},l={},m={},n={};c.name="SyncdVersion";c.internalSpec={version:[1,(d=d("WAProtoConst")).TYPES.UINT64]};e.name="ExitCode";e.internalSpec={code:[1,d.TYPES.UINT64],text:[2,d.TYPES.STRING]};f.name="SyncdIndex";f.internalSpec={blob:[1,d.TYPES.BYTES]};b.name="SyncdValue";b.internalSpec={blob:[1,d.TYPES.BYTES]};h.name="KeyId";h.internalSpec={id:[1,d.TYPES.BYTES]};i.name="SyncdRecord";i.internalSpec={index:[1,d.TYPES.MESSAGE,f],value:[2,d.TYPES.MESSAGE,b],keyId:[3,d.TYPES.MESSAGE,h]};j.name="ExternalBlobReference";j.internalSpec={mediaKey:[1,d.TYPES.BYTES],directPath:[2,d.TYPES.STRING],handle:[3,d.TYPES.STRING],fileSizeBytes:[4,d.TYPES.UINT64],fileSha256:[5,d.TYPES.BYTES],fileEncSha256:[6,d.TYPES.BYTES]};k.name="SyncdSnapshot";k.internalSpec={version:[1,d.TYPES.MESSAGE,c],records:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i],mac:[3,d.TYPES.BYTES],keyId:[4,d.TYPES.MESSAGE,h]};l.name="SyncdMutations";l.internalSpec={mutations:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m]};m.name="SyncdMutation";m.internalSpec={operation:[1,d.TYPES.ENUM,a],record:[2,d.TYPES.MESSAGE,i]};n.name="SyncdPatch";n.internalSpec={version:[1,d.TYPES.MESSAGE,c],mutations:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m],externalMutations:[3,d.TYPES.MESSAGE,j],snapshotMac:[4,d.TYPES.BYTES],patchMac:[5,d.TYPES.BYTES],keyId:[6,d.TYPES.MESSAGE,h],exitCode:[7,d.TYPES.MESSAGE,e],deviceIndex:[8,d.TYPES.UINT32],clientDebugData:[9,d.TYPES.BYTES]};g.SyncdMutation$SyncdOperation=a;g.SyncdVersionSpec=c;g.ExitCodeSpec=e;g.SyncdIndexSpec=f;g.SyncdValueSpec=b;g.KeyIdSpec=h;g.SyncdRecordSpec=i;g.ExternalBlobReferenceSpec=j;g.SyncdSnapshotSpec=k;g.SyncdMutationsSpec=l;g.SyncdMutationSpec=m;g.SyncdPatchSpec=n}),98);
__d("WASmaxAttrs",["WAWap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b==null)return d("WAWap").DROP_ATTR;else return a(b)}function b(a,b){if(b)return a;else return d("WAWap").DROP_ATTR}g.OPTIONAL=a;g.OPTIONAL_LITERAL=b}),98);
__d("WASmaxInBizAccessTokenIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInBizAccessTokenHackBaseIQErrorResponseMixin",["WAResultOrError","WASmaxInBizAccessTokenIQErrorResponseMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!c.success)return c;a=d("WASmaxInBizAccessTokenIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({to:c.value},a.value))}g.parseHackBaseIQErrorResponseMixin=a}),98);
__d("WASmaxInBizAccessTokenIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInBizAccessTokenIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInBizAccessTokenIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInBizAccessTokenIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInBizAccessTokenRequestSilentNonceErrors",["WAResultOrError","WASmaxInBizAccessTokenIQErrorBadRequestMixin","WASmaxInBizAccessTokenIQErrorForbiddenMixin","WASmaxInBizAccessTokenIQErrorInternalServerErrorMixin","WASmaxInBizAccessTokenIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInBizAccessTokenIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInBizAccessTokenIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorForbidden",value:c.value});var e=d("WASmaxInBizAccessTokenIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:e.value});var f=d("WASmaxInBizAccessTokenIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);return f.success?d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:f.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorForbidden","IQErrorInternalServerError","IQErrorServiceUnavailable"],[b,c,e,f])}g.parseRequestSilentNonceErrors=a}),98);
__d("WASmaxInBizAccessTokenRequestSilentNonceResponseError",["WAResultOrError","WASmaxInBizAccessTokenHackBaseIQErrorResponseMixin","WASmaxInBizAccessTokenRequestSilentNonceErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInBizAccessTokenHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInBizAccessTokenRequestSilentNonceErrors").parseRequestSilentNonceErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRequestSilentNonceErrors:b.value}))}g.parseRequestSilentNonceResponseError=a}),98);
__d("WASmaxInBizAccessTokenIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInBizAccessTokenHackBaseIQResultResponseMixin",["WAResultOrError","WASmaxInBizAccessTokenIQResultResponseMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!c.success)return c;a=d("WASmaxInBizAccessTokenIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({to:c.value},a.value))}g.parseHackBaseIQResultResponseMixin=a}),98);
__d("WASmaxInBizAccessTokenRequestSilentNonceResponseRecoveryRequired",["WAResultOrError","WASmaxInBizAccessTokenHackBaseIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"result");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"status","RecoveryRequired");if(!e.success)return e;c=d("WASmaxParseUtils").attrString(c.value,"email");if(!c.success)return c;a=d("WASmaxInBizAccessTokenHackBaseIQResultResponseMixin").parseHackBaseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({resultStatus:e.value,resultEmail:c.value},a.value))}g.parseRequestSilentNonceResponseRecoveryRequired=a}),98);
__d("WASmaxInBizAccessTokenRequestSilentNonceResponseSuccess",["WAResultOrError","WASmaxInBizAccessTokenHackBaseIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"result");if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"status","Success");if(!c.success)return c;a=d("WASmaxInBizAccessTokenHackBaseIQResultResponseMixin").parseHackBaseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({resultStatus:c.value},a.value))}g.parseRequestSilentNonceResponseSuccess=a}),98);
__d("WASmaxOutBizAccessTokenBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutBizAccessTokenHackBaseIQGetRequestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutBizAccessTokenBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.iqFrom;a=d("WASmaxOutBizAccessTokenBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{from:d("WASmaxAttrs").OPTIONAL(d("WAWap").USER_JID,a),to:d("WAWap").S_WHATSAPP_NET}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeHackBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutBizAccessTokenRequestSilentNonceRequest",["WASmaxJsx","WASmaxOutBizAccessTokenHackBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxOutBizAccessTokenHackBaseIQGetRequestMixin").mergeHackBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"fb:thrift_iq",smax_id:d("WAWap").INT(118)}),a);return a}g.makeRequestSilentNonceRequest=a}),98);
__d("WASmaxParsingFailure",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(b){var c;c=a.call(this,"SmaxParsingFailure: "+b)||this;c.name="SmaxParsingFailure";c.reason=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toString=function(){return"SmaxParsingFailure: "+this.reason};return b}(babelHelpers.wrapNativeSuper(Error));f.SmaxParsingFailure=a}),66);
__d("WASmaxRpcUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=Object.keys(b).map(function(a){var c=a==="Request"?"<request>":'<response name="'+a+'">';return"Tried "+c+", but failed with "+b[a].error+"."}).join(" ");return'Failed to parse incoming stanza of <rpc name="'+a+'">. '+c}f.errorMessageRpcParsing=a}),66);
__d("WASmaxBizAccessTokenRequestSilentNonceRPC",["WAComms","WASmaxInBizAccessTokenRequestSilentNonceResponseError","WASmaxInBizAccessTokenRequestSilentNonceResponseRecoveryRequired","WASmaxInBizAccessTokenRequestSilentNonceResponseSuccess","WASmaxOutBizAccessTokenRequestSilentNonceRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutBizAccessTokenRequestSilentNonceRequest").makeRequestSilentNonceRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInBizAccessTokenRequestSilentNonceResponseSuccess").parseRequestSilentNonceResponseSuccess(b,a);if(c.success)return{name:"RequestSilentNonceResponseSuccess",value:c.value};var e=d("WASmaxInBizAccessTokenRequestSilentNonceResponseRecoveryRequired").parseRequestSilentNonceResponseRecoveryRequired(b,a);if(e.success)return{name:"RequestSilentNonceResponseRecoveryRequired",value:e.value};b=d("WASmaxInBizAccessTokenRequestSilentNonceResponseError").parseRequestSilentNonceResponseError(b,a);if(b.success)return{name:"RequestSilentNonceResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RequestSilentNonce",{Success:c,RecoveryRequired:e,Error:b}))});return h.apply(this,arguments)}g.sendRequestSilentNonceRPC=a}),98);
__d("WASmaxInBizCtwaAdAccountIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountCommonAdAccountErrors",["WAResultOrError","WASmaxInBizCtwaAdAccountIQErrorBadRequestMixin","WASmaxInBizCtwaAdAccountIQErrorForbiddenMixin","WASmaxInBizCtwaAdAccountIQErrorInternalServerErrorMixin","WASmaxInBizCtwaAdAccountIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInBizCtwaAdAccountIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInBizCtwaAdAccountIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorForbidden",value:c.value});var e=d("WASmaxInBizCtwaAdAccountIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:e.value});var f=d("WASmaxInBizCtwaAdAccountIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);return f.success?d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:f.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorForbidden","IQErrorInternalServerError","IQErrorServiceUnavailable"],[b,c,e,f])}g.parseCommonAdAccountErrors=a}),98);
__d("WASmaxInBizCtwaAdAccountIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountHackBaseIQErrorResponseMixin",["WAResultOrError","WASmaxInBizCtwaAdAccountIQErrorResponseMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!c.success)return c;a=d("WASmaxInBizCtwaAdAccountIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({to:c.value},a.value))}g.parseHackBaseIQErrorResponseMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseError",["WAResultOrError","WASmaxInBizCtwaAdAccountCommonAdAccountErrors","WASmaxInBizCtwaAdAccountHackBaseIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInBizCtwaAdAccountHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInBizCtwaAdAccountCommonAdAccountErrors").parseCommonAdAccountErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorCommonAdAccountErrors:b.value}))}g.parseGetAccessTokenAndSessionCookiesResponseError=a}),98);
__d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseIncorrectNonce",["WAResultOrError","WASmaxInBizCtwaAdAccountHackBaseIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"code","432");if(!e.success)return e;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"text","INCORRECT_NONCE");if(!c.success)return c;a=d("WASmaxInBizCtwaAdAccountHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorCode:e.value,errorText:c.value},a.value))}g.parseGetAccessTokenAndSessionCookiesResponseIncorrectNonce=a}),98);
__d("WASmaxInBizCtwaAdAccountIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountHackBaseIQResultResponseMixin",["WAResultOrError","WASmaxInBizCtwaAdAccountIQResultResponseMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!c.success)return c;a=d("WASmaxInBizCtwaAdAccountIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({to:c.value},a.value))}g.parseHackBaseIQResultResponseMixin=a}),98);
__d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseSuccess",["WAResultOrError","WASmaxInBizCtwaAdAccountHackBaseIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"access_token");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(a,"session_cookies");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(a,"business_person");if(!f.success)return f;c=d("WASmaxParseUtils").contentString(c.value);if(!c.success)return c;e=d("WASmaxParseUtils").contentString(e.value);if(!e.success)return e;f=d("WASmaxParseUtils").attrString(f.value,"id");if(!f.success)return f;a=d("WASmaxInBizCtwaAdAccountHackBaseIQResultResponseMixin").parseHackBaseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({accessTokenElementValue:c.value,sessionCookiesElementValue:e.value,businessPersonId:f.value},a.value))}g.parseGetAccessTokenAndSessionCookiesResponseSuccess=a}),98);
__d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseTooManyAttempts",["WAResultOrError","WASmaxInBizCtwaAdAccountHackBaseIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;var e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"code","431");if(!e.success)return e;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"text","TOO_MANY_ATTEMPTS");if(!c.success)return c;a=d("WASmaxInBizCtwaAdAccountHackBaseIQErrorResponseMixin").parseHackBaseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorCode:e.value,errorText:c.value},a.value))}g.parseGetAccessTokenAndSessionCookiesResponseTooManyAttempts=a}),98);
__d("WASmaxOutBizCtwaAdAccountBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutBizCtwaAdAccountHackBaseIQGetRequestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutBizCtwaAdAccountBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.iqFrom;a=d("WASmaxOutBizCtwaAdAccountBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{from:d("WASmaxAttrs").OPTIONAL(d("WAWap").USER_JID,a),to:d("WAWap").S_WHATSAPP_NET}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeHackBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutBizCtwaAdAccountGetAccessTokenAndSessionCookiesRequest",["WASmaxJsx","WASmaxOutBizCtwaAdAccountHackBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.codeElementValue;b=d("WASmaxOutBizCtwaAdAccountHackBaseIQGetRequestMixin").mergeHackBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"fb:thrift_iq",smax_id:d("WAWap").INT(104)},d("WASmaxJsx").smax("parameters",null,d("WASmaxJsx").smax("code",null,b))),a);return b}g.makeGetAccessTokenAndSessionCookiesRequest=a}),98);
__d("WASmaxBizCtwaAdAccountGetAccessTokenAndSessionCookiesRPC",["WAComms","WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseError","WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseIncorrectNonce","WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseSuccess","WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseTooManyAttempts","WASmaxOutBizCtwaAdAccountGetAccessTokenAndSessionCookiesRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutBizCtwaAdAccountGetAccessTokenAndSessionCookiesRequest").makeGetAccessTokenAndSessionCookiesRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseSuccess").parseGetAccessTokenAndSessionCookiesResponseSuccess(b,a);if(c.success)return{name:"GetAccessTokenAndSessionCookiesResponseSuccess",value:c.value};var e=d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseTooManyAttempts").parseGetAccessTokenAndSessionCookiesResponseTooManyAttempts(b,a);if(e.success)return{name:"GetAccessTokenAndSessionCookiesResponseTooManyAttempts",value:e.value};var f=d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseIncorrectNonce").parseGetAccessTokenAndSessionCookiesResponseIncorrectNonce(b,a);if(f.success)return{name:"GetAccessTokenAndSessionCookiesResponseIncorrectNonce",value:f.value};b=d("WASmaxInBizCtwaAdAccountGetAccessTokenAndSessionCookiesResponseError").parseGetAccessTokenAndSessionCookiesResponseError(b,a);if(b.success)return{name:"GetAccessTokenAndSessionCookiesResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetAccessTokenAndSessionCookies",{Success:c,TooManyAttempts:e,IncorrectNonce:f,Error:b}))});return h.apply(this,arguments)}g.sendGetAccessTokenAndSessionCookiesRPC=a}),98);
__d("WASmaxChildren",["WADeepEquals"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b==null)return null;else return a(b)}function b(a,b){if(b==null)return null;else if(b)return a()}function c(a,b){if(b)for(var c=1;c<b.length;c++)if(!d("WADeepEquals").deepEqual(b[c],b[0]))throw new Error("expected all homogeneous children to be equal, but they were not");c=h(a,b,0,Infinity);return c}function e(a,b){return i(a,b,0,Infinity)}function h(a,b,c,d){if(b==null){if(c>0)throw new Error("expected at least "+c+" children, but none provided");return[]}var e=b.length;if(e<c)throw new Error("expected at least "+c+" children, but found "+e);else if(e>d)throw new Error("expected at most "+d+" children, but found "+e);return b.map(function(b){return a(b)})}function i(a,b,c,d){if(b===0){if(c>0)throw new Error("expected at least "+c+" children, but none provided");return[]}if(b<c)throw new Error("expected at least "+c+" children, but found "+b);else if(b>d)throw new Error("expected at most "+d+" children, but found "+b);c=[];for(d=0;d<b;d++)c.push(a());return c}g.OPTIONAL_CHILD=a;g.HAS_OPTIONAL_CHILD=b;g.HOMOGENEOUS_CHILD=c;g.HOMOGENEOUS_CHILD_COUNT=e;g.REPEATED_CHILD=h;g.REPEATED_CHILD_COUNT=i}),98);
__d("WASmaxInGroupsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInGroupsIQErrorRateOverlimitMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","rate-overlimit");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",429);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorRateOverlimitMixin=a}),98);
__d("WASmaxInGroupsBatchGetGroupInfoClientErrors",["WAResultOrError","WASmaxInGroupsIQErrorBadRequestMixin","WASmaxInGroupsIQErrorRateOverlimitMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInGroupsIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorRateOverlimit"],[b,c])}g.parseBatchGetGroupInfoClientErrors=a}),98);
__d("WASmaxInGroupsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInGroupsBatchGetGroupInfoResponseClientError",["WAResultOrError","WASmaxInGroupsBatchGetGroupInfoClientErrors","WASmaxInGroupsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInGroupsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInGroupsBatchGetGroupInfoClientErrors").parseBatchGetGroupInfoClientErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorBatchGetGroupInfoClientErrors:b.value}))}g.parseBatchGetGroupInfoResponseClientError=a}),98);
__d("WASmaxInGroupsIQErrorFallbackServerMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"text");if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"code",500,599);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFallbackServerMixin=a}),98);
__d("WASmaxInGroupsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInGroupsIQErrorPartialServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","partial-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",530);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorPartialServerErrorMixin=a}),98);
__d("WASmaxInGroupsIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInGroupsServerErrors",["WAResultOrError","WASmaxInGroupsIQErrorFallbackServerMixin","WASmaxInGroupsIQErrorInternalServerErrorMixin","WASmaxInGroupsIQErrorPartialServerErrorMixin","WASmaxInGroupsIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:b.value});var c=d("WASmaxInGroupsIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:c.value});var e=d("WASmaxInGroupsIQErrorPartialServerErrorMixin").parseIQErrorPartialServerErrorMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorPartialServerError",value:e.value});var f=d("WASmaxInGroupsIQErrorFallbackServerMixin").parseIQErrorFallbackServerMixin(a);return f.success?d("WAResultOrError").makeResult({name:"IQErrorFallbackServer",value:f.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorInternalServerError","IQErrorServiceUnavailable","IQErrorPartialServerError","IQErrorFallbackServer"],[b,c,e,f])}g.parseServerErrors=a}),98);
__d("WASmaxInGroupsBaseServerErrorMixin",["WAResultOrError","WASmaxInGroupsIQErrorResponseMixin","WASmaxInGroupsServerErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInGroupsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInGroupsServerErrors").parseServerErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorServerErrors:b.value}))}g.parseBaseServerErrorMixin=a}),98);
__d("WASmaxInGroupsBatchGetGroupInfoResponseServerError",["WASmaxInGroupsBaseServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInGroupsBaseServerErrorMixin").parseBaseServerErrorMixin(a,b);return!c.success?c:c}g.parseBatchGetGroupInfoResponseServerError=a}),98);
__d("WASmaxInGroupsEnums",["WAJids"],(function(a,b,c,d,e,f,g){a={304:"304",419:"419"};b={403:"403",404:"404",406:"406",419:"419"};c={404:"404",406:"406"};e={404:"404",419:"419"};f={406:"406",500:"500"};var h={accept:"accept",auto_add:"auto_add",default_sub_group_admin_add:"default_sub_group_admin_add",general_chat_auto_add:"general_chat_auto_add",invite:"invite",invite_auto_add:"invite_auto_add",linked_group_join:"linked_group_join",sub_group_suggestion_approved:"sub_group_suggestion_approved"},i={accept:"accept",auto_add:"auto_add",default_sub_group_promote:"default_sub_group_promote",invite:"invite",invite_auto_add:"invite_auto_add",linked_group_join:"linked_group_join"},j={admin:"admin",creator:"creator"},k={admin:"admin",superadmin:"superadmin"},l={approved:"approved",cancelled:"cancelled",rejected:"rejected"},m={deactivate_general_chat:"deactivate_general_chat",delete_capi:"delete_capi",delete_parent:"delete_parent",integrity_delete_parent:"integrity_delete_parent"},n={deactivate_group:"deactivate_group",delete_parent:"delete_parent",integrity_delete_parent:"integrity_delete_parent",unlink_group:"unlink_group"},o={e2ee_migration:"e2ee_migration",regular:"regular",rtc:"rtc"},p={"false":"false","true":"true"},q={group:"group",user:"user"},r={image:"image",preview:"preview"},s={invite_link:"invite_link",linked_group_join:"linked_group_join",non_admin_add:"non_admin_add"},t={lid:"lid",pn:"pn"},u={parent_group:"parent_group",sibling_group:"sibling_group",sub_group:"sub_group"};d={validators:[d("WAJids").validateDomainJid,d("WAJids").validateGroupJid],typeName:"DomainJid|GroupJid"};g.ENUM_304_419=a;g.ENUM_403_404_406_419=b;g.ENUM_404_406=c;g.ENUM_404_419=e;g.ENUM_406_500=f;g.ENUM_ACCEPT_AUTOADD_DEFAULTSUBGROUPADMINADD_GENERALCHATAUTOADD_INVITE_INVITEAUTOADD_LINKEDGROUPJOIN_SUBGROUPSUGGESTIONAPPROVED=h;g.ENUM_ACCEPT_AUTOADD_DEFAULTSUBGROUPPROMOTE_INVITE_INVITEAUTOADD_LINKEDGROUPJOIN=i;g.ENUM_ADMIN_CREATOR=j;g.ENUM_ADMIN_SUPERADMIN=k;g.ENUM_APPROVED_CANCELLED_REJECTED=l;g.ENUM_DEACTIVATEGENERALCHAT_DELETECAPI_DELETEPARENT_INTEGRITYDELETEPARENT=m;g.ENUM_DEACTIVATEGROUP_DELETEPARENT_INTEGRITYDELETEPARENT_UNLINKGROUP=n;g.ENUM_E2EEMIGRATION_REGULAR_RTC=o;g.ENUM_FALSE_TRUE=p;g.ENUM_GROUP_USER=q;g.ENUM_IMAGE_PREVIEW=r;g.ENUM_INVITELINK_LINKEDGROUPJOIN_NONADMINADD=s;g.ENUM_LID_PN=t;g.ENUM_PARENTGROUP_SIBLINGGROUP_SUBGROUP=u;g.DOMAINJID_GROUPJID=d}),98);
__d("WASmaxInGroupsDedupAttrsMixin",["WAResultOrError","WASmaxInGroupsEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").attrString(a,"key");if(!b.success)return b;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,a,"create_ctx",d("WASmaxInGroupsEnums").ENUM_E2EEMIGRATION_REGULAR_RTC);return!a.success?a:d("WAResultOrError").makeResult({key:b.value,createCtx:a.value})}g.parseDedupAttrsMixin=a}),98);
__d("WASmaxInGroupsGroupForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"error","403");return!a.success?a:d("WAResultOrError").makeResult({id:b.value,error:a.value})}g.parseGroupForbiddenMixin=a}),98);
__d("WASmaxInGroupsGroupAddressingModeMixin",["WAResultOrError","WASmaxInGroupsEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrStringEnum(a,"addressing_mode",d("WASmaxInGroupsEnums").ENUM_LID_PN);return!a.success?a:d("WAResultOrError").makeResult({addressingMode:a.value})}g.parseGroupAddressingModeMixin=a}),98);
__d("WASmaxInGroupsGroupCreatorCountryCodeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"creator_country_code");return!a.success?a:d("WAResultOrError").makeResult({creatorCountryCode:a.value})}g.parseGroupCreatorCountryCodeMixin=a}),98);
__d("WASmaxInGroupsGroupCreatorPhoneNumberMixin",["WAResultOrError","WASmaxParseJid"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseJid").attrUserJid(a,"creator_pn");return!a.success?a:d("WAResultOrError").makeResult({creatorPn:a.value})}g.parseGroupCreatorPhoneNumberMixin=a}),98);
__d("WASmaxInGroupsGroupCreatorUsernameMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"creator_username");return!a.success?a:d("WAResultOrError").makeResult({creatorUsername:a.value})}g.parseGroupCreatorUsernameMixin=a}),98);
__d("WASmaxInGroupsGroupCreatorIdentityMixin",["WAResultOrError","WASmaxInGroupsGroupCreatorCountryCodeMixin","WASmaxInGroupsGroupCreatorPhoneNumberMixin","WASmaxInGroupsGroupCreatorUsernameMixin"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsGroupCreatorPhoneNumberMixin").parseGroupCreatorPhoneNumberMixin(a),c=d("WASmaxInGroupsGroupCreatorUsernameMixin").parseGroupCreatorUsernameMixin(a);a=d("WASmaxInGroupsGroupCreatorCountryCodeMixin").parseGroupCreatorCountryCodeMixin(a);return d("WAResultOrError").makeResult({groupCreatorPhoneNumberMixin:b.success?b.value:null,groupCreatorUsernameMixin:c.success?c.value:null,groupCreatorCountryCodeMixin:a.success?a.value:null})}g.parseGroupCreatorIdentityMixin=a}),98);
__d("WASmaxInGroupsNamedSubjectMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"subject");return!a.success?a:d("WAResultOrError").makeResult({subject:a.value})}g.parseNamedSubjectMixin=a}),98);
__d("WASmaxInGroupsUnnamedSubjectFallbackMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"subject");return!a.success?a:d("WAResultOrError").makeResult({subject:a.value})}g.parseUnnamedSubjectFallbackMixin=a}),98);
__d("WASmaxInGroupsNamedSubjectOrUnnamedSubjectFallbackMixinGroup",["WAResultOrError","WASmaxInGroupsNamedSubjectMixin","WASmaxInGroupsUnnamedSubjectFallbackMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsNamedSubjectMixin").parseNamedSubjectMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"NamedSubject",value:b.value});var c=d("WASmaxInGroupsUnnamedSubjectFallbackMixin").parseUnnamedSubjectFallbackMixin(a);return c.success?d("WAResultOrError").makeResult({name:"UnnamedSubjectFallback",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["NamedSubject","UnnamedSubjectFallback"],[b,c])}g.parseNamedSubjectOrUnnamedSubjectFallbackMixinGroup=a}),98);
__d("WASmaxInGroupsSubjectOwnerPhoneNumberMixin",["WAResultOrError","WASmaxParseJid"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseJid").attrUserJid(a,"s_o_pn");return!a.success?a:d("WAResultOrError").makeResult({sOPn:a.value})}g.parseSubjectOwnerPhoneNumberMixin=a}),98);
__d("WASmaxInGroupsSubjectOwnerUsernameMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"s_o_username");return!a.success?a:d("WAResultOrError").makeResult({sOUsername:a.value})}g.parseSubjectOwnerUsernameMixin=a}),98);
__d("WASmaxInGroupsSubjectOwnerIdentityMixin",["WAResultOrError","WASmaxInGroupsSubjectOwnerPhoneNumberMixin","WASmaxInGroupsSubjectOwnerUsernameMixin"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsSubjectOwnerPhoneNumberMixin").parseSubjectOwnerPhoneNumberMixin(a);a=d("WASmaxInGroupsSubjectOwnerUsernameMixin").parseSubjectOwnerUsernameMixin(a);return d("WAResultOrError").makeResult({subjectOwnerPhoneNumberMixin:b.success?b.value:null,subjectOwnerUsernameMixin:a.success?a.value:null})}g.parseSubjectOwnerIdentityMixin=a}),98);
__d("WASmaxInGroupsGroupInfoAttributesMixin",["WAResultOrError","WASmaxInGroupsGroupAddressingModeMixin","WASmaxInGroupsGroupCreatorIdentityMixin","WASmaxInGroupsNamedSubjectOrUnnamedSubjectFallbackMixinGroup","WASmaxInGroupsSubjectOwnerIdentityMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChild(a,"missing_participant_identification");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"id");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"creator");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(a,"creation",0,void 0);if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"p_v_id");if(!g.success)return g;var h=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"a_v_id");if(!h.success)return h;var i=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"s_t",0,void 0);if(!i.success)return i;var j=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"s_o");if(!j.success)return j;var k=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"open_thread_id");if(!k.success)return k;var l=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"size",0,19999);if(!l.success)return l;var m=d("WASmaxInGroupsGroupAddressingModeMixin").parseGroupAddressingModeMixin(a),n=d("WASmaxInGroupsSubjectOwnerIdentityMixin").parseSubjectOwnerIdentityMixin(a),o=d("WASmaxInGroupsGroupCreatorIdentityMixin").parseGroupCreatorIdentityMixin(a);a=d("WASmaxInGroupsNamedSubjectOrUnnamedSubjectFallbackMixinGroup").parseNamedSubjectOrUnnamedSubjectFallbackMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult({id:c.value,creator:e.value,creation:f.value,pVId:g.value,aVId:h.value,sT:i.value,sO:j.value,openThreadId:k.value,size:l.value,groupAddressingModeMixin:m.success?m.value:null,subjectOwnerIdentityMixin:n.success?n.value:null,groupCreatorIdentityMixin:o.success?o.value:null,namedSubjectOrUnnamedSubjectFallbackMixinGroup:a.value,hasMissingParticipantIdentification:b.value!=null})}g.parseGroupInfoAttributesMixin=a}),98);
__d("WASmaxInGroupsParticipantPNMixin",["WAResultOrError","WASmaxParseJid"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseJid").attrUserJid(a,"participant_pn");return!a.success?a:d("WAResultOrError").makeResult({participantPn:a.value})}g.parseParticipantPNMixin=a}),98);
__d("WASmaxInGroupsParticipantUsernameMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"participant_username");return!a.success?a:d("WAResultOrError").makeResult({participantUsername:a.value})}g.parseParticipantUsernameMixin=a}),98);
__d("WASmaxInGroupsParticipantIdentityMixin",["WAResultOrError","WASmaxInGroupsParticipantPNMixin","WASmaxInGroupsParticipantUsernameMixin"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsParticipantPNMixin").parseParticipantPNMixin(a);a=d("WASmaxInGroupsParticipantUsernameMixin").parseParticipantUsernameMixin(a);return d("WAResultOrError").makeResult({participantPNMixin:b.success?b.value:null,participantUsernameMixin:a.success?a.value:null})}g.parseParticipantIdentityMixin=a}),98);
__d("WASmaxInGroupsGroupInfoDescriptionMixin",["WAResultOrError","WASmaxInGroupsParticipantIdentityMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"description");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"body");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"id");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"participant");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!f.success)return f;b=d("WASmaxParseUtils").contentString(b.value);if(!b.success)return b;a=d("WASmaxInGroupsParticipantIdentityMixin").parseParticipantIdentityMixin(a);return d("WAResultOrError").makeResult({id:c.value,participant:e.value,t:f.value,bodyElementValue:b.value,participantIdentityMixin:a.success?a.value:null})}g.parseGroupInfoDescriptionMixin=a}),98);
__d("WASmaxInGroupsDisplayNameMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"display_name");return!a.success?a:d("WAResultOrError").makeResult({displayName:a.value})}g.parseDisplayNameMixin=a}),98);
__d("WASmaxInGroupsParticipantWithJidMixin",["WAResultOrError","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"jid");return!b.success?b:d("WAResultOrError").makeResult({jid:b.value})}g.parseParticipantWithJidMixin=a}),98);
__d("WASmaxInGroupsParticipantWithJidAndDisplayNameMixin",["WAResultOrError","WASmaxInGroupsDisplayNameMixin","WASmaxInGroupsParticipantWithJidMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsParticipantWithJidMixin").parseParticipantWithJidMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsDisplayNameMixin").parseDisplayNameMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,a.value))}g.parseParticipantWithJidAndDisplayNameMixin=a}),98);
__d("WASmaxInGroupsPhoneNumberMixin",["WAResultOrError","WASmaxParseJid"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseJid").attrUserJid(a,"phone_number");return!a.success?a:d("WAResultOrError").makeResult({phoneNumber:a.value})}g.parsePhoneNumberMixin=a}),98);
__d("WASmaxInGroupsUsernameAttMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"username");return!a.success?a:d("WAResultOrError").makeResult({username:a.value})}g.parseUsernameAttMixin=a}),98);
__d("WASmaxInGroupsPhoneNumberAndUsernameAttMixin",["WAResultOrError","WASmaxInGroupsPhoneNumberMixin","WASmaxInGroupsUsernameAttMixin"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsPhoneNumberMixin").parsePhoneNumberMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsUsernameAttMixin").parseUsernameAttMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,a.value))}g.parsePhoneNumberAndUsernameAttMixin=a}),98);
__d("WASmaxInGroupsIdentityTypes",["WAResultOrError","WASmaxInGroupsPhoneNumberAndUsernameAttMixin","WASmaxInGroupsPhoneNumberMixin","WASmaxInGroupsUsernameAttMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsPhoneNumberAndUsernameAttMixin").parsePhoneNumberAndUsernameAttMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"PhoneNumberAndUsernameAtt",value:b.value});var c=d("WASmaxInGroupsPhoneNumberMixin").parsePhoneNumberMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"PhoneNumber",value:c.value});var e=d("WASmaxInGroupsUsernameAttMixin").parseUsernameAttMixin(a);return e.success?d("WAResultOrError").makeResult({name:"UsernameAtt",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["PhoneNumberAndUsernameAtt","PhoneNumber","UsernameAtt"],[b,c,e])}g.parseIdentityTypes=a}),98);
__d("WASmaxInGroupsIdentityMixin",["WAResultOrError","WASmaxInGroupsIdentityTypes"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInGroupsIdentityTypes").parseIdentityTypes(a);return!a.success?a:d("WAResultOrError").makeResult({identityTypes:a.value})}g.parseIdentityMixin=a}),98);
__d("WASmaxInGroupsParticipantWithJidAndIdentityMixin",["WAResultOrError","WASmaxInGroupsIdentityMixin","WASmaxInGroupsParticipantWithJidMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsParticipantWithJidMixin").parseParticipantWithJidMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsIdentityMixin").parseIdentityMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,a.value))}g.parseParticipantWithJidAndIdentityMixin=a}),98);
__d("WASmaxInGroupsParticipantWithLidMixin",["WAResultOrError","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxParseJid").attrLidUserJid(a,"lid");return!b.success?b:d("WAResultOrError").makeResult({lid:b.value})}g.parseParticipantWithLidMixin=a}),98);
__d("WASmaxInGroupsParticipantWithJidAndLidMixin",["WAResultOrError","WASmaxInGroupsParticipantWithJidMixin","WASmaxInGroupsParticipantWithLidMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsParticipantWithJidMixin").parseParticipantWithJidMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsParticipantWithLidMixin").parseParticipantWithLidMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,a.value))}g.parseParticipantWithJidAndLidMixin=a}),98);
__d("WASmaxInGroupsParticipantWithJidIdentityAndDisplayNameMixin",["WAResultOrError","WASmaxInGroupsDisplayNameMixin","WASmaxInGroupsParticipantWithJidAndIdentityMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsParticipantWithJidAndIdentityMixin").parseParticipantWithJidAndIdentityMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsDisplayNameMixin").parseDisplayNameMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,a.value))}g.parseParticipantWithJidIdentityAndDisplayNameMixin=a}),98);
__d("WASmaxInGroupsParticipantWithJidLidAndDisplayNameMixin",["WAResultOrError","WASmaxInGroupsDisplayNameMixin","WASmaxInGroupsParticipantWithJidAndLidMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsParticipantWithJidAndLidMixin").parseParticipantWithJidAndLidMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsDisplayNameMixin").parseDisplayNameMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,a.value))}g.parseParticipantWithJidLidAndDisplayNameMixin=a}),98);
__d("WASmaxInGroupsParticipantMixins",["WAResultOrError","WASmaxInGroupsParticipantWithJidAndDisplayNameMixin","WASmaxInGroupsParticipantWithJidAndIdentityMixin","WASmaxInGroupsParticipantWithJidAndLidMixin","WASmaxInGroupsParticipantWithJidIdentityAndDisplayNameMixin","WASmaxInGroupsParticipantWithJidLidAndDisplayNameMixin","WASmaxInGroupsParticipantWithJidMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsParticipantWithJidLidAndDisplayNameMixin").parseParticipantWithJidLidAndDisplayNameMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"ParticipantWithJidLidAndDisplayName",value:b.value});var c=d("WASmaxInGroupsParticipantWithJidIdentityAndDisplayNameMixin").parseParticipantWithJidIdentityAndDisplayNameMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"ParticipantWithJidIdentityAndDisplayName",value:c.value});var e=d("WASmaxInGroupsParticipantWithJidAndLidMixin").parseParticipantWithJidAndLidMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"ParticipantWithJidAndLid",value:e.value});var f=d("WASmaxInGroupsParticipantWithJidAndIdentityMixin").parseParticipantWithJidAndIdentityMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"ParticipantWithJidAndIdentity",value:f.value});var g=d("WASmaxInGroupsParticipantWithJidAndDisplayNameMixin").parseParticipantWithJidAndDisplayNameMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"ParticipantWithJidAndDisplayName",value:g.value});var h=d("WASmaxInGroupsParticipantWithJidMixin").parseParticipantWithJidMixin(a);return h.success?d("WAResultOrError").makeResult({name:"ParticipantWithJid",value:h.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["ParticipantWithJidLidAndDisplayName","ParticipantWithJidIdentityAndDisplayName","ParticipantWithJidAndLid","ParticipantWithJidAndIdentity","ParticipantWithJidAndDisplayName","ParticipantWithJid"],[b,c,e,f,g,h])}g.parseParticipantMixins=a}),98);
__d("WASmaxInGroupsParticipantMixin",["WAResultOrError","WASmaxInGroupsParticipantMixins","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"participant_label");if(!b.success)return b;var c=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"participant_label_mtime",0,void 0);if(!c.success)return c;a=d("WASmaxInGroupsParticipantMixins").parseParticipantMixins(a);return!a.success?a:d("WAResultOrError").makeResult({participantLabel:b.value,participantLabelMtime:c.value,participantMixins:a.value})}g.parseParticipantMixin=a}),98);
__d("WASmaxInGroupsGroupInfoParticipantAdminMixin",["WAResultOrError","WASmaxInGroupsEnums","WASmaxInGroupsParticipantMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(a,"type",d("WASmaxInGroupsEnums").ENUM_ADMIN_SUPERADMIN);if(!b.success)return b;a=d("WASmaxInGroupsParticipantMixin").parseParticipantMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({type:b.value},a.value))}g.parseGroupInfoParticipantAdminMixin=a}),98);
__d("WASmaxInGroupsGroupInfoParticipantNonAdminMixin",["WASmaxInGroupsParticipantMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsParticipantMixin").parseParticipantMixin(a);return!b.success?b:b}g.parseGroupInfoParticipantNonAdminMixin=a}),98);
__d("WASmaxInGroupsGroupInfoParticipantMixins",["WAResultOrError","WASmaxInGroupsGroupInfoParticipantAdminMixin","WASmaxInGroupsGroupInfoParticipantNonAdminMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsGroupInfoParticipantAdminMixin").parseGroupInfoParticipantAdminMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"GroupInfoParticipantAdmin",value:b.value});var c=d("WASmaxInGroupsGroupInfoParticipantNonAdminMixin").parseGroupInfoParticipantNonAdminMixin(a);return c.success?d("WAResultOrError").makeResult({name:"GroupInfoParticipantNonAdmin",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["GroupInfoParticipantAdmin","GroupInfoParticipantNonAdmin"],[b,c])}g.parseGroupInfoParticipantMixins=a}),98);
__d("WASmaxInGroupsGroupInfoParticipantMixin",["WAResultOrError","WASmaxInGroupsGroupInfoParticipantMixins","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsGroupInfoParticipantMixins").parseGroupInfoParticipantMixins(a);return!b.success?b:d("WAResultOrError").makeResult({groupInfoParticipantMixins:b.value})}g.parseGroupInfoParticipantMixin=a}),98);
__d("WASmaxInGroupsAdminAddModeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"member_add_mode");if(!b.success)return b;b=d("WASmaxParseUtils").literalContent(d("WASmaxParseUtils").contentString,a,"admin_add");return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}g.parseAdminAddModeMixin=a}),98);
__d("WASmaxInGroupsAllMembersAddModeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"member_add_mode");if(!b.success)return b;b=d("WASmaxParseUtils").literalContent(d("WASmaxParseUtils").contentString,a,"all_member_add");return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}g.parseAllMembersAddModeMixin=a}),98);
__d("WASmaxInGroupsUnknownAddModeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"member_add_mode");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}g.parseUnknownAddModeMixin=a}),98);
__d("WASmaxInGroupsMemberAddModes",["WAResultOrError","WASmaxInGroupsAdminAddModeMixin","WASmaxInGroupsAllMembersAddModeMixin","WASmaxInGroupsUnknownAddModeMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsAdminAddModeMixin").parseAdminAddModeMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"AdminAddMode",value:b.value});var c=d("WASmaxInGroupsAllMembersAddModeMixin").parseAllMembersAddModeMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"AllMembersAddMode",value:c.value});var e=d("WASmaxInGroupsUnknownAddModeMixin").parseUnknownAddModeMixin(a);return e.success?d("WAResultOrError").makeResult({name:"UnknownAddMode",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["AdminAddMode","AllMembersAddMode","UnknownAddMode"],[b,c,e])}g.parseMemberAddModes=a}),98);
__d("WASmaxInGroupsGroupMemberAddModeMixin",["WAResultOrError","WASmaxInGroupsMemberAddModes","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"member_add_mode");if(!a.success)return a;a=d("WASmaxInGroupsMemberAddModes").parseMemberAddModes(a.value);return!a.success?a:d("WAResultOrError").makeResult({memberAddModeMemberAddModes:a.value})}g.parseGroupMemberAddModeMixin=a}),98);
__d("WASmaxInGroupsAdminLinkModeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"member_link_mode");if(!b.success)return b;b=d("WASmaxParseUtils").literalContent(d("WASmaxParseUtils").contentString,a,"admin_link");return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}g.parseAdminLinkModeMixin=a}),98);
__d("WASmaxInGroupsAllMembersLinkModeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"member_link_mode");if(!b.success)return b;b=d("WASmaxParseUtils").literalContent(d("WASmaxParseUtils").contentString,a,"all_member_link");return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}g.parseAllMembersLinkModeMixin=a}),98);
__d("WASmaxInGroupsUnknownLinkModeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"member_link_mode");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}g.parseUnknownLinkModeMixin=a}),98);
__d("WASmaxInGroupsMemberLinkModes",["WAResultOrError","WASmaxInGroupsAdminLinkModeMixin","WASmaxInGroupsAllMembersLinkModeMixin","WASmaxInGroupsUnknownLinkModeMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsAdminLinkModeMixin").parseAdminLinkModeMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"AdminLinkMode",value:b.value});var c=d("WASmaxInGroupsAllMembersLinkModeMixin").parseAllMembersLinkModeMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"AllMembersLinkMode",value:c.value});var e=d("WASmaxInGroupsUnknownLinkModeMixin").parseUnknownLinkModeMixin(a);return e.success?d("WAResultOrError").makeResult({name:"UnknownLinkMode",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["AdminLinkMode","AllMembersLinkMode","UnknownLinkMode"],[b,c,e])}g.parseMemberLinkModes=a}),98);
__d("WASmaxInGroupsGroupMemberLinkModeMixin",["WAResultOrError","WASmaxInGroupsMemberLinkModes","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"member_link_mode");if(!a.success)return a;a=d("WASmaxInGroupsMemberLinkModes").parseMemberLinkModes(a.value);return!a.success?a:d("WAResultOrError").makeResult({memberLinkModeMemberLinkModes:a.value})}g.parseGroupMemberLinkModeMixin=a}),98);
__d("WASmaxInGroupsGroupJoinMembershipApprovalModeEnabledMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"group_join");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"state","on");return!b.success?b:d("WAResultOrError").makeResult({state:b.value})}g.parseGroupJoinMembershipApprovalModeEnabledMixin=a}),98);
__d("WASmaxInGroupsMembershipApprovalGroupJoinModeEnabledMixin",["WASmaxInGroupsGroupJoinMembershipApprovalModeEnabledMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"membership_approval_mode");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"group_join");if(!b.success)return b;a=d("WASmaxInGroupsGroupJoinMembershipApprovalModeEnabledMixin").parseGroupJoinMembershipApprovalModeEnabledMixin(b.value);return!a.success?a:a}g.parseMembershipApprovalGroupJoinModeEnabledMixin=a}),98);
__d("WASmaxInGroupsParentGroupDefaultMembershipApprovalModeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"parent");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"default_membership_approval_mode","request_required");return!b.success?b:d("WAResultOrError").makeResult({defaultMembershipApprovalMode:b.value})}g.parseParentGroupDefaultMembershipApprovalModeMixin=a}),98);
__d("WASmaxInGroupsParticipantNotAddressableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"addressable","false");return!b.success?b:d("WAResultOrError").makeResult({addressable:b.value})}g.parseParticipantNotAddressableMixin=a}),98);
__d("WASmaxInGroupsGroupInfoMixin",["WAResultOrError","WASmaxInGroupsGroupInfoAttributesMixin","WASmaxInGroupsGroupInfoDescriptionMixin","WASmaxInGroupsGroupInfoParticipantMixin","WASmaxInGroupsGroupMemberAddModeMixin","WASmaxInGroupsGroupMemberLinkModeMixin","WASmaxInGroupsMembershipApprovalGroupJoinModeEnabledMixin","WASmaxInGroupsParentGroupDefaultMembershipApprovalModeMixin","WASmaxInGroupsParticipantNotAddressableMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsGroupInfoParticipantMixin").parseGroupInfoParticipantMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsParticipantNotAddressableMixin").parseParticipantNotAddressableMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{participantNotAddressableMixin:a.success?a.value:null}))}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"description");if(!b.success)return b;b=d("WASmaxInGroupsGroupInfoDescriptionMixin").parseGroupInfoDescriptionMixin(a);return d("WAResultOrError").makeResult({groupInfoDescriptionMixin:b.success?b.value:null})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"parent");if(!b.success)return b;b=d("WASmaxInGroupsParentGroupDefaultMembershipApprovalModeMixin").parseParentGroupDefaultMembershipApprovalModeMixin(a);return d("WAResultOrError").makeResult({parentGroupDefaultMembershipApprovalModeMixin:b.success?b.value:null})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"ephemeral");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"expiration",0,2147483647);if(!b.success)return b;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"trigger",0,20);return!a.success?a:d("WAResultOrError").makeResult({expiration:b.value,trigger:a.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"suspended");if(!b.success)return b;b=d("WASmaxParseUtils").optionalLiteral(d("WASmaxParseUtils").attrString,a,"can_auto_file","true");return!b.success?b:d("WAResultOrError").makeResult({canAutoFile:b.value})}function m(a){var b=d("WASmaxParseUtils").assertTag(a,"growth_locked");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","invite");if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"expiration",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({type:b.value,expiration:a.value})}function n(a){var b=d("WASmaxParseUtils").assertTag(a,"membership_approval_mode");if(!b.success)return b;b=d("WASmaxInGroupsMembershipApprovalGroupJoinModeEnabledMixin").parseMembershipApprovalGroupJoinModeEnabledMixin(a);return d("WAResultOrError").makeResult({membershipApprovalGroupJoinModeEnabledMixin:b.success?b.value:null})}function o(a){var b=d("WASmaxParseUtils").assertTag(a,"linked_parent");if(!b.success)return b;b=d("WASmaxParseJid").attrGroupJid(a,"jid");return!b.success?b:d("WAResultOrError").makeResult({jid:b.value})}function p(a){var b=d("WASmaxParseUtils").assertTag(a,"evolution_version");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"value",0,100);return!b.success?b:d("WAResultOrError").makeResult({value:b.value})}function q(a){var b=d("WASmaxParseUtils").assertTag(a,"limit_sharing_enabled");if(!b.success)return b;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"trigger",0,20);return!b.success?b:d("WAResultOrError").makeResult({trigger:b.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"description",i);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChild(a,"locked");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChild(a,"announcement");if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChildWithTag(a,"parent",j);if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChild(a,"no_frequently_forwarded");if(!g.success)return g;var r=d("WASmaxParseUtils").optionalChild(a,"support");if(!r.success)return r;var s=d("WASmaxParseUtils").optionalChildWithTag(a,"ephemeral",k);if(!s.success)return s;var t=d("WASmaxParseUtils").optionalChildWithTag(a,"suspended",l);if(!t.success)return t;var u=d("WASmaxParseUtils").optionalChildWithTag(a,"growth_locked",m);if(!u.success)return u;var v=d("WASmaxParseUtils").optionalChild(a,"default_sub_group");if(!v.success)return v;var w=d("WASmaxParseUtils").optionalChildWithTag(a,"membership_approval_mode",n);if(!w.success)return w;var x=d("WASmaxParseUtils").optionalChild(a,"incognito");if(!x.success)return x;var y=d("WASmaxParseUtils").optionalChild(a,"allow_admin_reports");if(!y.success)return y;var z=d("WASmaxParseUtils").optionalChild(a,"allow_non_admin_sub_group_creation");if(!z.success)return z;var A=d("WASmaxParseUtils").optionalChild(a,"general_chat");if(!A.success)return A;var B=d("WASmaxParseUtils").optionalChild(a,"auto_add_disabled");if(!B.success)return B;var C=d("WASmaxParseUtils").optionalChild(a,"group_history");if(!C.success)return C;var D=d("WASmaxParseUtils").optionalChildWithTag(a,"linked_parent",o);if(!D.success)return D;var E=d("WASmaxParseUtils").optionalChild(a,"hidden_group");if(!E.success)return E;var F=d("WASmaxParseUtils").optionalChild(a,"capi");if(!F.success)return F;var G=d("WASmaxParseUtils").optionalChildWithTag(a,"evolution_version",p);if(!G.success)return G;var H=d("WASmaxParseUtils").optionalChild(a,"group_safety_check");if(!H.success)return H;var I=d("WASmaxParseUtils").optionalChild(a,"participant_label_enabled");if(!I.success)return I;var J=d("WASmaxParseUtils").optionalChildWithTag(a,"limit_sharing_enabled",q);if(!J.success)return J;var K=d("WASmaxParseUtils").optionalLiteral(d("WASmaxParseUtils").attrString,a,"ack","false");if(!K.success)return K;var L=d("WASmaxInGroupsGroupInfoAttributesMixin").parseGroupInfoAttributesMixin(a);if(!L.success)return L;var M=d("WASmaxInGroupsGroupMemberAddModeMixin").parseGroupMemberAddModeMixin(a),N=d("WASmaxInGroupsGroupMemberLinkModeMixin").parseGroupMemberLinkModeMixin(a);a=d("WASmaxParseUtils").mapChildrenWithTag(a,"participant",0,19999,h);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({ack:K.value},L.value,{groupMemberAddModeMixin:M.success?M.value:null,groupMemberLinkModeMixin:N.success?N.value:null,description:b.value,hasLocked:c.value!=null,hasAnnouncement:e.value!=null,parent:f.value,hasNoFrequentlyForwarded:g.value!=null,hasSupport:r.value!=null,ephemeral:s.value,suspended:t.value,growthLocked:u.value,hasDefaultSubGroup:v.value!=null,membershipApprovalMode:w.value,hasIncognito:x.value!=null,hasAllowAdminReports:y.value!=null,hasAllowNonAdminSubGroupCreation:z.value!=null,hasGeneralChat:A.value!=null,hasAutoAddDisabled:B.value!=null,hasGroupHistory:C.value!=null,linkedParent:D.value,hasHiddenGroup:E.value!=null,hasCapi:F.value!=null,evolutionVersion:G.value,hasGroupSafetyCheck:H.value!=null,hasParticipantLabelEnabled:I.value!=null,limitSharingEnabled:J.value,participant:a.value}))}g.parseGroupInfoParticipant=h;g.parseGroupInfoDescription=i;g.parseGroupInfoParent=j;g.parseGroupInfoEphemeral=k;g.parseGroupInfoSuspended=l;g.parseGroupInfoGrowthLocked=m;g.parseGroupInfoMembershipApprovalMode=n;g.parseGroupInfoLinkedParent=o;g.parseGroupInfoEvolutionVersion=p;g.parseGroupInfoLimitSharingEnabled=q;g.parseGroupInfoMixin=a}),98);
__d("WASmaxInGroupsGroupNotExistMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"error","404");return!a.success?a:d("WAResultOrError").makeResult({id:b.value,error:a.value})}g.parseGroupNotExistMixin=a}),98);
__d("WASmaxInGroupsTruncatedGroupInfoMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"truncated","true");if(!c.success)return c;a=d("WASmaxParseUtils").attrIntRange(a,"size",0,19999);return!a.success?a:d("WAResultOrError").makeResult({id:b.value,truncated:c.value,size:a.value})}g.parseTruncatedGroupInfoMixin=a}),98);
__d("WASmaxInGroupsGroupInfoOrTruncatedGroupInfoOrGroupForbiddenOrGroupNotExistMixinGroup",["WAResultOrError","WASmaxInGroupsGroupForbiddenMixin","WASmaxInGroupsGroupInfoMixin","WASmaxInGroupsGroupNotExistMixin","WASmaxInGroupsTruncatedGroupInfoMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsGroupInfoMixin").parseGroupInfoMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"GroupInfo",value:b.value});var c=d("WASmaxInGroupsTruncatedGroupInfoMixin").parseTruncatedGroupInfoMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"TruncatedGroupInfo",value:c.value});var e=d("WASmaxInGroupsGroupForbiddenMixin").parseGroupForbiddenMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"GroupForbidden",value:e.value});var f=d("WASmaxInGroupsGroupNotExistMixin").parseGroupNotExistMixin(a);return f.success?d("WAResultOrError").makeResult({name:"GroupNotExist",value:f.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["GroupInfo","TruncatedGroupInfo","GroupForbidden","GroupNotExist"],[b,c,e,f])}g.parseGroupInfoOrTruncatedGroupInfoOrGroupForbiddenOrGroupNotExistMixinGroup=a}),98);
__d("WASmaxInGroupsBatchGetGroupInfoResponseSuccess",["WAResultOrError","WASmaxInGroupsDedupAttrsMixin","WASmaxInGroupsGroupInfoOrTruncatedGroupInfoOrGroupForbiddenOrGroupNotExistMixinGroup","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxInGroupsDedupAttrsMixin").parseDedupAttrsMixin(a);a=d("WASmaxInGroupsGroupInfoOrTruncatedGroupInfoOrGroupForbiddenOrGroupNotExistMixinGroup").parseGroupInfoOrTruncatedGroupInfoOrGroupForbiddenOrGroupNotExistMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult({dedupAttrsMixin:b.success?b.value:null,groupInfoOrTruncatedGroupInfoOrGroupForbiddenOrGroupNotExistMixinGroup:a.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"groups");if(!c.success)return c;var e=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!e.success)return e;e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",e.value);if(!e.success)return e;e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");if(!e.success)return e;b=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",b.value);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"group",1,1e4,h);return!b.success?b:d("WAResultOrError").makeResult({type:e.value,groupsGroup:b.value})}g.parseBatchGetGroupInfoResponseSuccessGroupsGroup=h;g.parseBatchGetGroupInfoResponseSuccess=a}),98);
__d("WASmaxOutGroupsBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutGroupsBaseGetServerMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutGroupsBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxOutGroupsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").G_US,xmlns:"w:g2"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseGetServerMixin=a}),98);
__d("WASmaxOutGroupsBatchGetGroupInfoRequest",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxOutGroupsBaseGetServerMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.groupJid;a=d("WASmaxJsx").smax("group",{jid:d("WAWap").GROUP_JID(a)});return a}function a(a){var b=a.groupArgs;a=a.queryContext;a=d("WASmaxOutGroupsBaseGetServerMixin").mergeBaseGetServerMixin(d("WASmaxJsx").smax("iq",null,d("WASmaxJsx").smax("query",{context:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)},d("WASmaxChildren").REPEATED_CHILD(h,b,1,1e4))));return a}g.makeBatchGetGroupInfoRequestQueryGroup=h;g.makeBatchGetGroupInfoRequest=a}),98);
__d("WASmaxGroupsBatchGetGroupInfoRPC",["WAComms","WASmaxInGroupsBatchGetGroupInfoResponseClientError","WASmaxInGroupsBatchGetGroupInfoResponseServerError","WASmaxInGroupsBatchGetGroupInfoResponseSuccess","WASmaxOutGroupsBatchGetGroupInfoRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutGroupsBatchGetGroupInfoRequest").makeBatchGetGroupInfoRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInGroupsBatchGetGroupInfoResponseSuccess").parseBatchGetGroupInfoResponseSuccess(b,a);if(c.success)return{name:"BatchGetGroupInfoResponseSuccess",value:c.value};var e=d("WASmaxInGroupsBatchGetGroupInfoResponseClientError").parseBatchGetGroupInfoResponseClientError(b,a);if(e.success)return{name:"BatchGetGroupInfoResponseClientError",value:e.value};b=d("WASmaxInGroupsBatchGetGroupInfoResponseServerError").parseBatchGetGroupInfoResponseServerError(b,a);if(b.success)return{name:"BatchGetGroupInfoResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("BatchGetGroupInfo",{Success:c,ClientError:e,ServerError:b}))});return h.apply(this,arguments)}g.sendBatchGetGroupInfoRPC=a}),98);
__d("WASmaxInGroupsIQErrorFallbackClientMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"text");if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"code",400,499);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFallbackClientMixin=a}),98);
__d("WASmaxInGroupsIQErrorGoneMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","gone");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",410);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorGoneMixin=a}),98);
__d("WASmaxInGroupsIQErrorGrowthLockedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"growth_locked");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","invite");if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"expiration",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({type:b.value,expiration:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"growth_locked",h);if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","growth-locked");if(!c.success)return c;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",436);return!a.success?a:d("WAResultOrError").makeResult({text:c.value,code:a.value,growthLocked:b.value})}g.parseIQErrorGrowthLockedGrowthLocked=h;g.parseIQErrorGrowthLockedMixin=a}),98);
__d("WASmaxInGroupsIQErrorItemNotFoundMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","item-not-found");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",404);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorItemNotFoundMixin=a}),98);
__d("WASmaxInGroupsIQErrorLockedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","locked");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",423);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorLockedMixin=a}),98);
__d("WASmaxInGroupsIQErrorNotAcceptableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"field");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"name");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"reason");return!a.success?a:d("WAResultOrError").makeResult({name:b.value,reason:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"field",h);if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","not-acceptable");if(!c.success)return c;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",406);return!a.success?a:d("WAResultOrError").makeResult({text:c.value,code:a.value,field:b.value})}g.parseIQErrorNotAcceptableField=h;g.parseIQErrorNotAcceptableMixin=a}),98);
__d("WASmaxInGroupsIQErrorNotAuthorizedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","not-authorized");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",401);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorNotAuthorizedMixin=a}),98);
__d("WASmaxInGroupsIQErrorParentGroupSuspendedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","parent-group-suspended");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",416);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorParentGroupSuspendedMixin=a}),98);
__d("WASmaxInGroupsGetInviteGroupInfoClientErrors",["WAResultOrError","WASmaxInGroupsIQErrorBadRequestMixin","WASmaxInGroupsIQErrorFallbackClientMixin","WASmaxInGroupsIQErrorGoneMixin","WASmaxInGroupsIQErrorGrowthLockedMixin","WASmaxInGroupsIQErrorItemNotFoundMixin","WASmaxInGroupsIQErrorLockedMixin","WASmaxInGroupsIQErrorNotAcceptableMixin","WASmaxInGroupsIQErrorNotAuthorizedMixin","WASmaxInGroupsIQErrorParentGroupSuspendedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInGroupsIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:c.value});var e=d("WASmaxInGroupsIQErrorGoneMixin").parseIQErrorGoneMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorGone",value:e.value});var f=d("WASmaxInGroupsIQErrorNotAuthorizedMixin").parseIQErrorNotAuthorizedMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAuthorized",value:f.value});var g=d("WASmaxInGroupsIQErrorNotAcceptableMixin").parseIQErrorNotAcceptableMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAcceptable",value:g.value});var h=d("WASmaxInGroupsIQErrorLockedMixin").parseIQErrorLockedMixin(a);if(h.success)return d("WAResultOrError").makeResult({name:"IQErrorLocked",value:h.value});var i=d("WASmaxInGroupsIQErrorGrowthLockedMixin").parseIQErrorGrowthLockedMixin(a);if(i.success)return d("WAResultOrError").makeResult({name:"IQErrorGrowthLocked",value:i.value});var j=d("WASmaxInGroupsIQErrorParentGroupSuspendedMixin").parseIQErrorParentGroupSuspendedMixin(a);if(j.success)return d("WAResultOrError").makeResult({name:"IQErrorParentGroupSuspended",value:j.value});var k=d("WASmaxInGroupsIQErrorFallbackClientMixin").parseIQErrorFallbackClientMixin(a);return k.success?d("WAResultOrError").makeResult({name:"IQErrorFallbackClient",value:k.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorItemNotFound","IQErrorGone","IQErrorNotAuthorized","IQErrorNotAcceptable","IQErrorLocked","IQErrorGrowthLocked","IQErrorParentGroupSuspended","IQErrorFallbackClient"],[b,c,e,f,g,h,i,j,k])}g.parseGetInviteGroupInfoClientErrors=a}),98);
__d("WASmaxInGroupsGetInviteGroupInfoResponseClientError",["WAResultOrError","WASmaxInGroupsGetInviteGroupInfoClientErrors","WASmaxInGroupsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInGroupsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInGroupsGetInviteGroupInfoClientErrors").parseGetInviteGroupInfoClientErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorGetInviteGroupInfoClientErrors:b.value}))}g.parseGetInviteGroupInfoResponseClientError=a}),98);
__d("WASmaxInGroupsGetInviteGroupInfoResponseServerError",["WASmaxInGroupsBaseServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInGroupsBaseServerErrorMixin").parseBaseServerErrorMixin(a,b);return!c.success?c:c}g.parseGetInviteGroupInfoResponseServerError=a}),98);
__d("WASmaxInGroupsInviteLinkGroupInfoMixin",["WAResultOrError","WASmaxInGroupsGroupInfoAttributesMixin","WASmaxInGroupsGroupInfoDescriptionMixin","WASmaxInGroupsGroupInfoParticipantMixin","WASmaxInGroupsMembershipApprovalGroupJoinModeEnabledMixin","WASmaxInGroupsNamedSubjectMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"participant");if(!b.success)return b;b=d("WASmaxInGroupsGroupInfoParticipantMixin").parseGroupInfoParticipantMixin(a);return!b.success?b:b}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"parent");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"num_sub_groups",1,1e3);return!b.success?b:d("WAResultOrError").makeResult({numSubGroups:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"linked_parent");if(!b.success)return b;b=d("WASmaxParseJid").attrGroupJid(a,"jid");if(!b.success)return b;a=d("WASmaxInGroupsNamedSubjectMixin").parseNamedSubjectMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({jid:b.value},a.value))}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"membership_approval_mode");if(!b.success)return b;b=d("WASmaxInGroupsMembershipApprovalGroupJoinModeEnabledMixin").parseMembershipApprovalGroupJoinModeEnabledMixin(a);return!b.success?b:b}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"membership_approval_request");if(!b.success)return b;b=d("WASmaxParseUtils").optionalLiteral(d("WASmaxParseUtils").attrString,a,"error","304");return!b.success?b:d("WAResultOrError").makeResult({error:b.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"description");if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"parent",i);if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"linked_parent",j);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChild(a,"hidden_group");if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChild(a,"default_sub_group");if(!g.success)return g;var m=d("WASmaxParseUtils").optionalChild(a,"general_chat");if(!m.success)return m;var n=d("WASmaxParseUtils").optionalChildWithTag(a,"membership_approval_mode",k);if(!n.success)return n;var o=d("WASmaxParseUtils").optionalChildWithTag(a,"membership_approval_request",l);if(!o.success)return o;var p=d("WASmaxParseUtils").optionalChild(a,"capi");if(!p.success)return p;var q=d("WASmaxParseUtils").attrIntRange(a,"size",0,19999);if(!q.success)return q;b=d("WASmaxInGroupsGroupInfoDescriptionMixin").parseGroupInfoDescriptionMixin(b.value);var r=d("WASmaxInGroupsGroupInfoAttributesMixin").parseGroupInfoAttributesMixin(a);if(!r.success)return r;a=d("WASmaxParseUtils").mapChildrenWithTag(a,"participant",0,19999,h);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({size:q.value,descriptionGroupInfoDescriptionMixin:b.success?b.value:null},r.value,{parent:c.value,linkedParent:e.value,hasHiddenGroup:f.value!=null,hasDefaultSubGroup:g.value!=null,hasGeneralChat:m.value!=null,membershipApprovalMode:n.value,membershipApprovalRequest:o.value,hasCapi:p.value!=null,participant:a.value}))}g.parseInviteLinkGroupInfoParticipant=h;g.parseInviteLinkGroupInfoParent=i;g.parseInviteLinkGroupInfoLinkedParent=j;g.parseInviteLinkGroupInfoMembershipApprovalMode=k;g.parseInviteLinkGroupInfoMembershipApprovalRequest=l;g.parseInviteLinkGroupInfoMixin=a}),98);
__d("WASmaxInGroupsGetInviteGroupInfoResponseSuccess",["WAResultOrError","WASmaxInGroupsInviteLinkGroupInfoMixin","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"group");if(!c.success)return c;var e=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!e.success)return e;e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",e.value);if(!e.success)return e;e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");if(!e.success)return e;b=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",b.value);if(!a.success)return a;b=d("WASmaxParseUtils").attrIntRange(c.value,"size",0,19999);if(!b.success)return b;a=d("WASmaxInGroupsInviteLinkGroupInfoMixin").parseInviteLinkGroupInfoMixin(c.value);return!a.success?a:d("WAResultOrError").makeResult({type:e.value,groupSize:b.value,groupInviteLinkGroupInfoMixin:a.value})}g.parseGetInviteGroupInfoResponseSuccess=a}),98);
__d("WASmaxOutGroupsGetInviteGroupInfoRequest",["WASmaxJsx","WASmaxOutGroupsBaseGetServerMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a.inviteCode;a=d("WASmaxOutGroupsBaseGetServerMixin").mergeBaseGetServerMixin(d("WASmaxJsx").smax("iq",null,d("WASmaxJsx").smax("invite",{code:d("WAWap").CUSTOM_STRING(a)})));return a}g.makeGetInviteGroupInfoRequest=a}),98);
__d("WASmaxGroupsGetInviteGroupInfoRPC",["WAComms","WASmaxInGroupsGetInviteGroupInfoResponseClientError","WASmaxInGroupsGetInviteGroupInfoResponseServerError","WASmaxInGroupsGetInviteGroupInfoResponseSuccess","WASmaxOutGroupsGetInviteGroupInfoRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutGroupsGetInviteGroupInfoRequest").makeGetInviteGroupInfoRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInGroupsGetInviteGroupInfoResponseSuccess").parseGetInviteGroupInfoResponseSuccess(b,a);if(c.success)return{name:"GetInviteGroupInfoResponseSuccess",value:c.value};var e=d("WASmaxInGroupsGetInviteGroupInfoResponseClientError").parseGetInviteGroupInfoResponseClientError(b,a);if(e.success)return{name:"GetInviteGroupInfoResponseClientError",value:e.value};b=d("WASmaxInGroupsGetInviteGroupInfoResponseServerError").parseGetInviteGroupInfoResponseServerError(b,a);if(b.success)return{name:"GetInviteGroupInfoResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetInviteGroupInfo",{Success:c,ClientError:e,ServerError:b}))});return h.apply(this,arguments)}g.sendGetInviteGroupInfoRPC=a}),98);
__d("WASmaxInGroupsIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInGroupsGetMembershipApprovalRequestsClientErrors",["WAResultOrError","WASmaxInGroupsIQErrorBadRequestMixin","WASmaxInGroupsIQErrorFallbackClientMixin","WASmaxInGroupsIQErrorForbiddenMixin","WASmaxInGroupsIQErrorItemNotFoundMixin","WASmaxInGroupsIQErrorLockedMixin","WASmaxInGroupsIQErrorNotAuthorizedMixin","WASmaxInGroupsIQErrorRateOverlimitMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInGroupsIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:c.value});var e=d("WASmaxInGroupsIQErrorNotAuthorizedMixin").parseIQErrorNotAuthorizedMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAuthorized",value:e.value});var f=d("WASmaxInGroupsIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(a);if(f.success)return d("WAResultOrError").makeResult({name:"IQErrorForbidden",value:f.value});var g=d("WASmaxInGroupsIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);if(g.success)return d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:g.value});var h=d("WASmaxInGroupsIQErrorLockedMixin").parseIQErrorLockedMixin(a);if(h.success)return d("WAResultOrError").makeResult({name:"IQErrorLocked",value:h.value});var i=d("WASmaxInGroupsIQErrorFallbackClientMixin").parseIQErrorFallbackClientMixin(a);return i.success?d("WAResultOrError").makeResult({name:"IQErrorFallbackClient",value:i.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorItemNotFound","IQErrorNotAuthorized","IQErrorForbidden","IQErrorRateOverlimit","IQErrorLocked","IQErrorFallbackClient"],[b,c,e,f,g,h,i])}g.parseGetMembershipApprovalRequestsClientErrors=a}),98);
__d("WASmaxInGroupsGetMembershipApprovalRequestsResponseClientError",["WAResultOrError","WASmaxInGroupsGetMembershipApprovalRequestsClientErrors","WASmaxInGroupsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInGroupsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInGroupsGetMembershipApprovalRequestsClientErrors").parseGetMembershipApprovalRequestsClientErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorGetMembershipApprovalRequestsClientErrors:b.value}))}g.parseGetMembershipApprovalRequestsResponseClientError=a}),98);
__d("WASmaxInGroupsGetMembershipApprovalRequestsResponseServerError",["WASmaxInGroupsBaseServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInGroupsBaseServerErrorMixin").parseBaseServerErrorMixin(a,b);return!c.success?c:c}g.parseGetMembershipApprovalRequestsResponseServerError=a}),98);
__d("WASmaxInGroupsMembershipRequestMethodAttributeMixin",["WAResultOrError","WASmaxInGroupsEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrStringEnum(a,"request_method",d("WASmaxInGroupsEnums").ENUM_INVITELINK_LINKEDGROUPJOIN_NONADMINADD);return!a.success?a:d("WAResultOrError").makeResult({requestMethod:a.value})}g.parseMembershipRequestMethodAttributeMixin=a}),98);
__d("WASmaxInGroupsGetMembershipApprovalRequestsMembershipApprovalRequestMixin",["WAResultOrError","WASmaxInGroupsMembershipRequestMethodAttributeMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"membership_approval_request");if(!b.success)return b;b=d("WASmaxParseJid").attrUserJid(a,"jid");if(!b.success)return b;var c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"requestor");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"requestor_pn");if(!e.success)return e;var f=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"requestor_username");if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrGroupJid,a,"parent_group_jid");if(!g.success)return g;var h=d("WASmaxParseUtils").attrIntRange(a,"request_time",0,void 0);if(!h.success)return h;a=d("WASmaxInGroupsMembershipRequestMethodAttributeMixin").parseMembershipRequestMethodAttributeMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({jid:b.value,requestor:c.value,requestorPn:e.value,requestorUsername:f.value,parentGroupJid:g.value,requestTime:h.value},a.value))}g.parseGetMembershipApprovalRequestsMembershipApprovalRequestMixin=a}),98);
__d("WASmaxInGroupsGetMembershipApprovalRequestsRequestorFetchMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"requestor_fetch","true");return!a.success?a:d("WAResultOrError").makeResult({requestorFetch:a.value})}g.parseGetMembershipApprovalRequestsRequestorFetchMixin=a}),98);
__d("WASmaxInGroupsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInGroupsGetMembershipApprovalRequestsResponseSuccess",["WAResultOrError","WASmaxInGroupsGetMembershipApprovalRequestsMembershipApprovalRequestMixin","WASmaxInGroupsGetMembershipApprovalRequestsRequestorFetchMixin","WASmaxInGroupsGroupAddressingModeMixin","WASmaxInGroupsIQResultResponseMixin","WASmaxInGroupsIdentityMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"membership_approval_request");if(!b.success)return b;b=d("WASmaxInGroupsGetMembershipApprovalRequestsMembershipApprovalRequestMixin").parseGetMembershipApprovalRequestsMembershipApprovalRequestMixin(a);if(!b.success)return b;a=d("WASmaxInGroupsIdentityMixin").parseIdentityMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{identityMixin:a.success?a.value:null}))}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"membership_approval_requests");if(!c.success)return c;var e=d("WASmaxInGroupsGetMembershipApprovalRequestsRequestorFetchMixin").parseGetMembershipApprovalRequestsRequestorFetchMixin(c.value);b=d("WASmaxInGroupsIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!b.success)return b;a=d("WASmaxInGroupsGroupAddressingModeMixin").parseGroupAddressingModeMixin(a);c=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"membership_approval_request",0,19999,h);return!c.success?c:d("WAResultOrError").makeResult(babelHelpers["extends"]({membershipApprovalRequestsGetMembershipApprovalRequestsRequestorFetchMixin:e.success?e.value:null},b.value,{groupAddressingModeMixin:a.success?a.value:null,membershipApprovalRequestsMembershipApprovalRequest:c.value}))}g.parseGetMembershipApprovalRequestsResponseSuccessMembershipApprovalRequestsMembershipApprovalRequest=h;g.parseGetMembershipApprovalRequestsResponseSuccess=a}),98);
__d("WASmaxOutGroupsBaseGetGroupMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutGroupsBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.iqTo;a=d("WASmaxOutGroupsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").GROUP_JID(a),xmlns:"w:g2"}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseGetGroupMixin=a}),98);
__d("WASmaxOutGroupsGetMembershipApprovalRequestsRequestorFetchMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("smax$any",{requestor_fetch:"true"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeGetMembershipApprovalRequestsRequestorFetchMixin=a}),98);
__d("WASmaxOutGroupsGetMembershipApprovalRequestsRequest",["WASmaxJsx","WASmaxMixins","WASmaxOutGroupsBaseGetGroupMixin","WASmaxOutGroupsGetMembershipApprovalRequestsRequestorFetchMixin"],(function(a,b,c,d,e,f,g){function a(a){var b=a.hasGetMembershipApprovalRequestsRequestorFetch;b=d("WASmaxOutGroupsBaseGetGroupMixin").mergeBaseGetGroupMixin(d("WASmaxJsx").smax("iq",null,d("WASmaxMixins").optionalMerge(d("WASmaxOutGroupsGetMembershipApprovalRequestsRequestorFetchMixin").mergeGetMembershipApprovalRequestsRequestorFetchMixin,d("WASmaxJsx").smax("membership_approval_requests",null),b)),a);return b}g.makeGetMembershipApprovalRequestsRequest=a}),98);
__d("WASmaxGroupsGetMembershipApprovalRequestsRPC",["WAComms","WASmaxInGroupsGetMembershipApprovalRequestsResponseClientError","WASmaxInGroupsGetMembershipApprovalRequestsResponseServerError","WASmaxInGroupsGetMembershipApprovalRequestsResponseSuccess","WASmaxOutGroupsGetMembershipApprovalRequestsRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutGroupsGetMembershipApprovalRequestsRequest").makeGetMembershipApprovalRequestsRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInGroupsGetMembershipApprovalRequestsResponseSuccess").parseGetMembershipApprovalRequestsResponseSuccess(b,a);if(c.success)return{name:"GetMembershipApprovalRequestsResponseSuccess",value:c.value};var e=d("WASmaxInGroupsGetMembershipApprovalRequestsResponseClientError").parseGetMembershipApprovalRequestsResponseClientError(b,a);if(e.success)return{name:"GetMembershipApprovalRequestsResponseClientError",value:e.value};b=d("WASmaxInGroupsGetMembershipApprovalRequestsResponseServerError").parseGetMembershipApprovalRequestsResponseServerError(b,a);if(b.success)return{name:"GetMembershipApprovalRequestsResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetMembershipApprovalRequests",{Success:c,ClientError:e,ServerError:b}))});return h.apply(this,arguments)}g.sendGetMembershipApprovalRequestsRPC=a}),98);
__d("WASmaxInGroupsIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup",["WAResultOrError","WASmaxInGroupsIQErrorBadRequestMixin","WASmaxInGroupsIQErrorFallbackClientMixin","WASmaxInGroupsIQErrorRateOverlimitMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInGroupsIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:c.value});var e=d("WASmaxInGroupsIQErrorFallbackClientMixin").parseIQErrorFallbackClientMixin(a);return e.success?d("WAResultOrError").makeResult({name:"IQErrorFallbackClient",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorRateOverlimit","IQErrorFallbackClient"],[b,c,e])}g.parseIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup=a}),98);
__d("WASmaxInGroupsGetParticipatingGroupsResponseClientError",["WAResultOrError","WASmaxInGroupsIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup","WASmaxInGroupsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInGroupsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInGroupsIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup").parseIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup:b.value}))}g.parseGetParticipatingGroupsResponseClientError=a}),98);
__d("WASmaxInGroupsGetParticipatingGroupsResponseServerError",["WASmaxInGroupsBaseServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInGroupsBaseServerErrorMixin").parseBaseServerErrorMixin(a,b);return!c.success?c:c}g.parseGetParticipatingGroupsResponseServerError=a}),98);
__d("WASmaxInGroupsGroupInfoOrTruncatedGroupInfoGroupInfoMixinGroup",["WAResultOrError","WASmaxInGroupsGroupInfoMixin","WASmaxInGroupsTruncatedGroupInfoMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInGroupsGroupInfoMixin").parseGroupInfoMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"GroupInfo",value:b.value});var c=d("WASmaxInGroupsTruncatedGroupInfoMixin").parseTruncatedGroupInfoMixin(a);return c.success?d("WAResultOrError").makeResult({name:"TruncatedGroupInfo",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["GroupInfo","TruncatedGroupInfo"],[b,c])}g.parseGroupInfoOrTruncatedGroupInfoGroupInfoMixinGroup=a}),98);
__d("WASmaxInGroupsGetParticipatingGroupsResponseSuccess",["WAResultOrError","WASmaxInGroupsDedupAttrsMixin","WASmaxInGroupsGroupInfoOrTruncatedGroupInfoGroupInfoMixinGroup","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"group");if(!b.success)return b;b=d("WASmaxInGroupsDedupAttrsMixin").parseDedupAttrsMixin(a);a=d("WASmaxInGroupsGroupInfoOrTruncatedGroupInfoGroupInfoMixinGroup").parseGroupInfoOrTruncatedGroupInfoGroupInfoMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult({dedupAttrsMixin:b.success?b.value:null,groupInfoOrTruncatedGroupInfoGroupInfoMixinGroup:a.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"groups");if(!c.success)return c;var e=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!e.success)return e;e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",e.value);if(!e.success)return e;e=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");if(!e.success)return e;b=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",b.value);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"group",0,1e4,h);return!b.success?b:d("WAResultOrError").makeResult({type:e.value,groupsGroup:b.value})}g.parseGetParticipatingGroupsResponseSuccessGroupsGroup=h;g.parseGetParticipatingGroupsResponseSuccess=a}),98);
__d("WASmaxOutGroupsGetParticipatingGroupsRequest",["WASmaxChildren","WASmaxJsx","WASmaxOutGroupsBaseGetServerMixin"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("participants",null);return a}function i(){var a=d("WASmaxJsx").smax("description",null);return a}function a(a){var b=a.hasParticipants;a=a.hasDescription;b=d("WASmaxOutGroupsBaseGetServerMixin").mergeBaseGetServerMixin(d("WASmaxJsx").smax("iq",null,d("WASmaxJsx").smax("participating",null,d("WASmaxChildren").HAS_OPTIONAL_CHILD(h,b),d("WASmaxChildren").HAS_OPTIONAL_CHILD(i,a))));return b}g.makeGetParticipatingGroupsRequestParticipatingParticipants=h;g.makeGetParticipatingGroupsRequestParticipatingDescription=i;g.makeGetParticipatingGroupsRequest=a}),98);
__d("WASmaxGroupsGetParticipatingGroupsRPC",["WAComms","WASmaxInGroupsGetParticipatingGroupsResponseClientError","WASmaxInGroupsGetParticipatingGroupsResponseServerError","WASmaxInGroupsGetParticipatingGroupsResponseSuccess","WASmaxOutGroupsGetParticipatingGroupsRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutGroupsGetParticipatingGroupsRequest").makeGetParticipatingGroupsRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInGroupsGetParticipatingGroupsResponseSuccess").parseGetParticipatingGroupsResponseSuccess(b,a);if(c.success)return{name:"GetParticipatingGroupsResponseSuccess",value:c.value};var e=d("WASmaxInGroupsGetParticipatingGroupsResponseClientError").parseGetParticipatingGroupsResponseClientError(b,a);if(e.success)return{name:"GetParticipatingGroupsResponseClientError",value:e.value};b=d("WASmaxInGroupsGetParticipatingGroupsResponseServerError").parseGetParticipatingGroupsResponseServerError(b,a);if(b.success)return{name:"GetParticipatingGroupsResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetParticipatingGroups",{Success:c,ClientError:e,ServerError:b}))});return h.apply(this,arguments)}g.sendGetParticipatingGroupsRPC=a}),98);
__d("WASyncAction.pb",["$InternalEnum","WAProtoConst","WAProtobufsChatLockSettings.pb","WAProtobufsDeviceCapabilities.pb","WAProtocol.pb"],(function(a,b,aa,c,ba,d,e){var f;aa=(a=b("$InternalEnum"))({REGULAR:0,SCHEDULED_CALL:1,VOICE_CHAT:2});ba=a({NONE:0,SCHEDULED:1,PRIVACY:2,LIGHTWEIGHT:3});d=a({CONNECTED:0,REJECTED:1,CANCELLED:2,ACCEPTEDELSEWHERE:3,MISSED:4,INVALID:5,UNAVAILABLE:6,UPCOMING:7,FAILED:8,ABANDONED:9,ONGOING:10});b=a({UPDATED:0,CREATED:1,DELETED:2});var ca=a({ENABLED:0,ENABLED_HAS_LEARNING:1,DISABLED:2}),da=a({BR_PAY_PRIVACY_POLICY:0}),ea=a({DEFAULT_ALL_MESSAGES:0,ALL_MESSAGES:1,HIGHLIGHTS:2,DEFAULT_HIGHLIGHTS:3}),fa=a({ACTIVE:0}),ga=a({ACTIVE:0,INACTIVE:1}),ha=a({LAUNCH:1}),ia=a({UNSTRUCTURED:1,STRUCTURED:2}),ja=a({ALLOW_LIST:0,DENY_LIST:1,CONTACTS:2}),ka=a({PERSONALIZED:0}),la=a({LID:1,PN:2}),ma=a({NONE:0,UNREAD:1,GROUPS:2,FAVORITES:3,PREDEFINED:4,CUSTOM:5,COMMUNITY:6,SERVER_ASSIGNED:7});a=a({ANDROID:0,SMBA:1,IPHONE:2,SMBI:3,WEB:4,UWP:5,DARWIN:6,IPAD:7,WEAROS:8,WASG:9,WEARM:10,CAPI:11});var g={},h={},i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},X={},Y={},Z={},na={},oa={},pa={},qa={},ra={},sa={},ta={},ua={},va={},$={},wa={},xa={},ya={},za={},Aa={},Ba={},Ca={},Da={},Ea={},Fa={},Ga={},Ha={},Ia={},Ja={},Ka={},La={},Ma={},Na={},Oa={};g.name="RecentEmojiWeight";g.internalSpec={emoji:[1,(f=c("WAProtoConst")).TYPES.STRING],weight:[2,f.TYPES.FLOAT]};h.name="CallLogRecord";h.internalSpec={callResult:[1,f.TYPES.ENUM,d],isDndMode:[2,f.TYPES.BOOL],silenceReason:[3,f.TYPES.ENUM,ba],duration:[4,f.TYPES.INT64],startTime:[5,f.TYPES.INT64],isIncoming:[6,f.TYPES.BOOL],isVideo:[7,f.TYPES.BOOL],isCallLink:[8,f.TYPES.BOOL],callLinkToken:[9,f.TYPES.STRING],scheduledCallId:[10,f.TYPES.STRING],callId:[11,f.TYPES.STRING],callCreatorJid:[12,f.TYPES.STRING],groupJid:[13,f.TYPES.STRING],participants:[14,f.FLAGS.REPEATED|f.TYPES.MESSAGE,i],callType:[15,f.TYPES.ENUM,aa]};i.name="CallLogRecord$ParticipantInfo";i.internalSpec={userJid:[1,f.TYPES.STRING],callResult:[2,f.TYPES.ENUM,d]};j.name="SyncActionValue";j.internalSpec={timestamp:[1,f.TYPES.INT64],starAction:[2,f.TYPES.MESSAGE,Ma],contactAction:[3,f.TYPES.MESSAGE,La],muteAction:[4,f.TYPES.MESSAGE,Ka],pinAction:[5,f.TYPES.MESSAGE,Ja],securityNotificationSetting:[6,f.TYPES.MESSAGE,Ia],pushNameSetting:[7,f.TYPES.MESSAGE,Ha],quickReplyAction:[8,f.TYPES.MESSAGE,Fa],recentEmojiWeightsAction:[11,f.TYPES.MESSAGE,Ca],labelEditAction:[14,f.TYPES.MESSAGE,Da],labelAssociationAction:[15,f.TYPES.MESSAGE,Ea],localeSetting:[16,f.TYPES.MESSAGE,Ga],archiveChatAction:[17,f.TYPES.MESSAGE,Ba],deleteMessageForMeAction:[18,f.TYPES.MESSAGE,Aa],keyExpiration:[19,f.TYPES.MESSAGE,ua],markChatAsReadAction:[20,f.TYPES.MESSAGE,za],clearChatAction:[21,f.TYPES.MESSAGE,ya],deleteChatAction:[22,f.TYPES.MESSAGE,xa],unarchiveChatsSetting:[23,f.TYPES.MESSAGE,wa],primaryFeature:[24,f.TYPES.MESSAGE,ta],androidUnsupportedActions:[26,f.TYPES.MESSAGE,sa],agentAction:[27,f.TYPES.MESSAGE,ra],subscriptionAction:[28,f.TYPES.MESSAGE,qa],userStatusMuteAction:[29,f.TYPES.MESSAGE,pa],timeFormatAction:[30,f.TYPES.MESSAGE,oa],nuxAction:[31,f.TYPES.MESSAGE,na],primaryVersionAction:[32,f.TYPES.MESSAGE,Z],stickerAction:[33,f.TYPES.MESSAGE,X],removeRecentStickerAction:[34,f.TYPES.MESSAGE,Y],chatAssignment:[35,f.TYPES.MESSAGE,W],chatAssignmentOpenedStatus:[36,f.TYPES.MESSAGE,V],pnForLidChatAction:[37,f.TYPES.MESSAGE,U],marketingMessageAction:[38,f.TYPES.MESSAGE,S],marketingMessageBroadcastAction:[39,f.TYPES.MESSAGE,R],externalWebBetaAction:[40,f.TYPES.MESSAGE,Q],privacySettingRelayAllCalls:[41,f.TYPES.MESSAGE,O],callLogAction:[42,f.TYPES.MESSAGE,N],statusPrivacy:[44,f.TYPES.MESSAGE,M],botWelcomeRequestAction:[45,f.TYPES.MESSAGE,K],deleteIndividualCallLog:[46,f.TYPES.MESSAGE,J],labelReorderingAction:[47,f.TYPES.MESSAGE,I],paymentInfoAction:[48,f.TYPES.MESSAGE,H],customPaymentMethodsAction:[49,f.TYPES.MESSAGE,E],lockChatAction:[50,f.TYPES.MESSAGE,D],chatLockSettings:[51,f.TYPES.MESSAGE,c("WAProtobufsChatLockSettings.pb").ChatLockSettingsSpec],wamoUserIdentifierAction:[52,f.TYPES.MESSAGE,C],privacySettingDisableLinkPreviewsAction:[53,f.TYPES.MESSAGE,B],deviceCapabilities:[54,f.TYPES.MESSAGE,c("WAProtobufsDeviceCapabilities.pb").DeviceCapabilitiesSpec],noteEditAction:[55,f.TYPES.MESSAGE,z],favoritesAction:[56,f.TYPES.MESSAGE,w],merchantPaymentPartnerAction:[57,f.TYPES.MESSAGE,v],waffleAccountLinkStateAction:[58,f.TYPES.MESSAGE,u],usernameChatStartMode:[59,f.TYPES.MESSAGE,T],notificationActivitySettingAction:[60,f.TYPES.MESSAGE,t],lidContactAction:[61,f.TYPES.MESSAGE,s],ctwaPerCustomerDataSharingAction:[62,f.TYPES.MESSAGE,r],paymentTosAction:[63,f.TYPES.MESSAGE,q],privacySettingChannelsPersonalisedRecommendationAction:[64,f.TYPES.MESSAGE,A],businessBroadcastAssociationAction:[65,f.TYPES.MESSAGE,p],detectedOutcomesStatusAction:[66,f.TYPES.MESSAGE,P],maibaAiFeaturesControlAction:[68,f.TYPES.MESSAGE,m],businessBroadcastListAction:[69,f.TYPES.MESSAGE,o],musicUserIdAction:[70,f.TYPES.MESSAGE,L],statusPostOptInNotificationPreferencesAction:[71,f.TYPES.MESSAGE,l],avatarUpdatedAction:[72,f.TYPES.MESSAGE,k],galaxyFlowAction:[73,f.TYPES.MESSAGE,y]};k.name="SyncActionValue$AvatarUpdatedAction";k.internalSpec={eventType:[1,f.TYPES.ENUM,b],recentAvatarStickers:[2,f.FLAGS.REPEATED|f.TYPES.MESSAGE,X]};l.name="SyncActionValue$StatusPostOptInNotificationPreferencesAction";l.internalSpec={enabled:[1,f.TYPES.BOOL]};m.name="SyncActionValue$MaibaAIFeaturesControlAction";m.internalSpec={aiFeatureStatus:[1,f.TYPES.ENUM,ca]};n.name="SyncActionValue$BroadcastListParticipant";n.internalSpec={lidJid:[1,f.FLAGS.REQUIRED|f.TYPES.STRING],pnJid:[2,f.TYPES.STRING]};o.name="SyncActionValue$BusinessBroadcastListAction";o.internalSpec={deleted:[1,f.TYPES.BOOL],participants:[2,f.FLAGS.REPEATED|f.TYPES.MESSAGE,n],listName:[3,f.TYPES.STRING]};p.name="SyncActionValue$BusinessBroadcastAssociationAction";p.internalSpec={deleted:[1,f.TYPES.BOOL]};q.name="SyncActionValue$PaymentTosAction";q.internalSpec={paymentNotice:[1,f.FLAGS.REQUIRED|f.TYPES.ENUM,da],accepted:[2,f.FLAGS.REQUIRED|f.TYPES.BOOL]};r.name="SyncActionValue$CtwaPerCustomerDataSharingAction";r.internalSpec={isCtwaPerCustomerDataSharingEnabled:[1,f.TYPES.BOOL]};s.name="SyncActionValue$LidContactAction";s.internalSpec={fullName:[1,f.TYPES.STRING],firstName:[2,f.TYPES.STRING],username:[3,f.TYPES.STRING],saveOnPrimaryAddressbook:[4,f.TYPES.BOOL]};t.name="SyncActionValue$NotificationActivitySettingAction";t.internalSpec={notificationActivitySetting:[1,f.TYPES.ENUM,ea]};u.name="SyncActionValue$WaffleAccountLinkStateAction";u.internalSpec={linkState:[2,f.TYPES.ENUM,fa]};v.name="SyncActionValue$MerchantPaymentPartnerAction";v.internalSpec={status:[1,f.FLAGS.REQUIRED|f.TYPES.ENUM,ga],country:[2,f.FLAGS.REQUIRED|f.TYPES.STRING],gatewayName:[3,f.TYPES.STRING],credentialId:[4,f.TYPES.STRING]};w.name="SyncActionValue$FavoritesAction";w.internalSpec={favorites:[1,f.FLAGS.REPEATED|f.TYPES.MESSAGE,x]};x.name="SyncActionValue$FavoritesAction$Favorite";x.internalSpec={id:[1,f.TYPES.STRING]};y.name="SyncActionValue$GalaxyFlowAction";y.internalSpec={type:[1,f.FLAGS.REQUIRED|f.TYPES.ENUM,ha]};z.name="SyncActionValue$NoteEditAction";z.internalSpec={type:[1,f.TYPES.ENUM,ia],chatJid:[2,f.TYPES.STRING],createdAt:[3,f.TYPES.INT64],deleted:[4,f.TYPES.BOOL],unstructuredContent:[5,f.TYPES.STRING]};A.name="SyncActionValue$PrivacySettingChannelsPersonalisedRecommendationAction";A.internalSpec={isUserOptedOut:[1,f.TYPES.BOOL]};B.name="SyncActionValue$PrivacySettingDisableLinkPreviewsAction";B.internalSpec={isPreviewsDisabled:[1,f.TYPES.BOOL]};C.name="SyncActionValue$WamoUserIdentifierAction";C.internalSpec={identifier:[1,f.TYPES.STRING]};D.name="SyncActionValue$LockChatAction";D.internalSpec={locked:[1,f.TYPES.BOOL]};E.name="SyncActionValue$CustomPaymentMethodsAction";E.internalSpec={customPaymentMethods:[1,f.FLAGS.REPEATED|f.TYPES.MESSAGE,F]};F.name="SyncActionValue$CustomPaymentMethod";F.internalSpec={credentialId:[1,f.FLAGS.REQUIRED|f.TYPES.STRING],country:[2,f.FLAGS.REQUIRED|f.TYPES.STRING],type:[3,f.FLAGS.REQUIRED|f.TYPES.STRING],metadata:[4,f.FLAGS.REPEATED|f.TYPES.MESSAGE,G]};G.name="SyncActionValue$CustomPaymentMethodMetadata";G.internalSpec={key:[1,f.FLAGS.REQUIRED|f.TYPES.STRING],value:[2,f.FLAGS.REQUIRED|f.TYPES.STRING]};H.name="SyncActionValue$PaymentInfoAction";H.internalSpec={cpi:[1,f.TYPES.STRING]};I.name="SyncActionValue$LabelReorderingAction";I.internalSpec={sortedLabelIds:[1,f.FLAGS.REPEATED|f.TYPES.INT32]};J.name="SyncActionValue$DeleteIndividualCallLogAction";J.internalSpec={peerJid:[1,f.TYPES.STRING],isIncoming:[2,f.TYPES.BOOL]};K.name="SyncActionValue$BotWelcomeRequestAction";K.internalSpec={isSent:[1,f.TYPES.BOOL]};L.name="SyncActionValue$MusicUserIdAction";L.internalSpec={musicUserId:[1,f.TYPES.STRING]};M.name="SyncActionValue$StatusPrivacyAction";M.internalSpec={mode:[1,f.TYPES.ENUM,ja],userJid:[2,f.FLAGS.REPEATED|f.TYPES.STRING]};N.name="SyncActionValue$CallLogAction";N.internalSpec={callLogRecord:[1,f.TYPES.MESSAGE,h]};O.name="SyncActionValue$PrivacySettingRelayAllCalls";O.internalSpec={isEnabled:[1,f.TYPES.BOOL]};P.name="SyncActionValue$DetectedOutcomesStatusAction";P.internalSpec={isEnabled:[1,f.TYPES.BOOL]};Q.name="SyncActionValue$ExternalWebBetaAction";Q.internalSpec={isOptIn:[1,f.TYPES.BOOL]};R.name="SyncActionValue$MarketingMessageBroadcastAction";R.internalSpec={repliedCount:[1,f.TYPES.INT32]};S.name="SyncActionValue$MarketingMessageAction";S.internalSpec={name:[1,f.TYPES.STRING],message:[2,f.TYPES.STRING],type:[3,f.TYPES.ENUM,ka],createdAt:[4,f.TYPES.INT64],lastSentAt:[5,f.TYPES.INT64],isDeleted:[6,f.TYPES.BOOL],mediaId:[7,f.TYPES.STRING]};T.name="SyncActionValue$UsernameChatStartModeAction";T.internalSpec={chatStartMode:[1,f.TYPES.ENUM,la]};U.name="SyncActionValue$PnForLidChatAction";U.internalSpec={pnJid:[1,f.TYPES.STRING]};V.name="SyncActionValue$ChatAssignmentOpenedStatusAction";V.internalSpec={chatOpened:[1,f.TYPES.BOOL]};W.name="SyncActionValue$ChatAssignmentAction";W.internalSpec={deviceAgentID:[1,f.TYPES.STRING]};X.name="SyncActionValue$StickerAction";X.internalSpec={url:[1,f.TYPES.STRING],fileEncSha256:[2,f.TYPES.BYTES],mediaKey:[3,f.TYPES.BYTES],mimetype:[4,f.TYPES.STRING],height:[5,f.TYPES.UINT32],width:[6,f.TYPES.UINT32],directPath:[7,f.TYPES.STRING],fileLength:[8,f.TYPES.UINT64],isFavorite:[9,f.TYPES.BOOL],deviceIdHint:[10,f.TYPES.UINT32],isLottie:[11,f.TYPES.BOOL],imageHash:[12,f.TYPES.STRING],isAvatarSticker:[13,f.TYPES.BOOL]};Y.name="SyncActionValue$RemoveRecentStickerAction";Y.internalSpec={lastStickerSentTs:[1,f.TYPES.INT64]};Z.name="SyncActionValue$PrimaryVersionAction";Z.internalSpec={version:[1,f.TYPES.STRING]};na.name="SyncActionValue$NuxAction";na.internalSpec={acknowledged:[1,f.TYPES.BOOL]};oa.name="SyncActionValue$TimeFormatAction";oa.internalSpec={isTwentyFourHourFormatEnabled:[1,f.TYPES.BOOL]};pa.name="SyncActionValue$UserStatusMuteAction";pa.internalSpec={muted:[1,f.TYPES.BOOL]};qa.name="SyncActionValue$SubscriptionAction";qa.internalSpec={isDeactivated:[1,f.TYPES.BOOL],isAutoRenewing:[2,f.TYPES.BOOL],expirationDate:[3,f.TYPES.INT64]};ra.name="SyncActionValue$AgentAction";ra.internalSpec={name:[1,f.TYPES.STRING],deviceID:[2,f.TYPES.INT32],isDeleted:[3,f.TYPES.BOOL]};sa.name="SyncActionValue$AndroidUnsupportedActions";sa.internalSpec={allowed:[1,f.TYPES.BOOL]};ta.name="SyncActionValue$PrimaryFeature";ta.internalSpec={flags:[1,f.FLAGS.REPEATED|f.TYPES.STRING]};ua.name="SyncActionValue$KeyExpiration";ua.internalSpec={expiredKeyEpoch:[1,f.TYPES.INT32]};va.name="SyncActionValue$SyncActionMessage";va.internalSpec={key:[1,f.TYPES.MESSAGE,c("WAProtocol.pb").MessageKeySpec],timestamp:[2,f.TYPES.INT64]};$.name="SyncActionValue$SyncActionMessageRange";$.internalSpec={lastMessageTimestamp:[1,f.TYPES.INT64],lastSystemMessageTimestamp:[2,f.TYPES.INT64],messages:[3,f.FLAGS.REPEATED|f.TYPES.MESSAGE,va]};wa.name="SyncActionValue$UnarchiveChatsSetting";wa.internalSpec={unarchiveChats:[1,f.TYPES.BOOL]};xa.name="SyncActionValue$DeleteChatAction";xa.internalSpec={messageRange:[1,f.TYPES.MESSAGE,$]};ya.name="SyncActionValue$ClearChatAction";ya.internalSpec={messageRange:[1,f.TYPES.MESSAGE,$]};za.name="SyncActionValue$MarkChatAsReadAction";za.internalSpec={read:[1,f.TYPES.BOOL],messageRange:[2,f.TYPES.MESSAGE,$]};Aa.name="SyncActionValue$DeleteMessageForMeAction";Aa.internalSpec={deleteMedia:[1,f.TYPES.BOOL],messageTimestamp:[2,f.TYPES.INT64]};Ba.name="SyncActionValue$ArchiveChatAction";Ba.internalSpec={archived:[1,f.TYPES.BOOL],messageRange:[2,f.TYPES.MESSAGE,$]};Ca.name="SyncActionValue$RecentEmojiWeightsAction";Ca.internalSpec={weights:[1,f.FLAGS.REPEATED|f.TYPES.MESSAGE,g]};Da.name="SyncActionValue$LabelEditAction";Da.internalSpec={name:[1,f.TYPES.STRING],color:[2,f.TYPES.INT32],predefinedId:[3,f.TYPES.INT32],deleted:[4,f.TYPES.BOOL],orderIndex:[5,f.TYPES.INT32],isActive:[6,f.TYPES.BOOL],type:[7,f.TYPES.ENUM,ma],isImmutable:[8,f.TYPES.BOOL]};Ea.name="SyncActionValue$LabelAssociationAction";Ea.internalSpec={labeled:[1,f.TYPES.BOOL]};Fa.name="SyncActionValue$QuickReplyAction";Fa.internalSpec={shortcut:[1,f.TYPES.STRING],message:[2,f.TYPES.STRING],keywords:[3,f.FLAGS.REPEATED|f.TYPES.STRING],count:[4,f.TYPES.INT32],deleted:[5,f.TYPES.BOOL]};Ga.name="SyncActionValue$LocaleSetting";Ga.internalSpec={locale:[1,f.TYPES.STRING]};Ha.name="SyncActionValue$PushNameSetting";Ha.internalSpec={name:[1,f.TYPES.STRING]};Ia.name="SyncActionValue$SecurityNotificationSetting";Ia.internalSpec={showNotification:[1,f.TYPES.BOOL]};Ja.name="SyncActionValue$PinAction";Ja.internalSpec={pinned:[1,f.TYPES.BOOL]};Ka.name="SyncActionValue$MuteAction";Ka.internalSpec={muted:[1,f.TYPES.BOOL],muteEndTimestamp:[2,f.TYPES.INT64],autoMuted:[3,f.TYPES.BOOL]};La.name="SyncActionValue$ContactAction";La.internalSpec={fullName:[1,f.TYPES.STRING],firstName:[2,f.TYPES.STRING],lidJid:[3,f.TYPES.STRING],saveOnPrimaryAddressbook:[4,f.TYPES.BOOL],pnJid:[5,f.TYPES.STRING],username:[6,f.TYPES.STRING]};Ma.name="SyncActionValue$StarAction";Ma.internalSpec={starred:[1,f.TYPES.BOOL]};Na.name="SyncActionData";Na.internalSpec={index:[1,f.TYPES.BYTES],value:[2,f.TYPES.MESSAGE,j],padding:[3,f.TYPES.BYTES],version:[4,f.TYPES.INT32]};Oa.name="PatchDebugData";Oa.internalSpec={currentLthash:[1,f.TYPES.BYTES],newLthash:[2,f.TYPES.BYTES],patchVersion:[3,f.TYPES.BYTES],collectionName:[4,f.TYPES.BYTES],firstFourBytesFromAHashOfSnapshotMacKey:[5,f.TYPES.BYTES],newLthashSubtract:[6,f.TYPES.BYTES],numberAdd:[7,f.TYPES.INT32],numberRemove:[8,f.TYPES.INT32],numberOverride:[9,f.TYPES.INT32],senderPlatform:[10,f.TYPES.ENUM,a],isSenderPrimary:[11,f.TYPES.BOOL]};e.CallLogRecord$CallType=aa;e.CallLogRecord$SilenceReason=ba;e.CallLogRecord$CallResult=d;e.SyncActionValue$AvatarUpdatedAction$AvatarEventType=b;e.SyncActionValue$MaibaAIFeaturesControlAction$MaibaAIFeatureStatus=ca;e.SyncActionValue$PaymentTosAction$PaymentNotice=da;e.SyncActionValue$NotificationActivitySettingAction$NotificationActivitySetting=ea;e.SyncActionValue$WaffleAccountLinkStateAction$AccountLinkState=fa;e.SyncActionValue$MerchantPaymentPartnerAction$Status=ga;e.SyncActionValue$GalaxyFlowAction$GalaxyFlowActionType=ha;e.SyncActionValue$NoteEditAction$NoteType=ia;e.SyncActionValue$StatusPrivacyAction$StatusDistributionMode=ja;e.SyncActionValue$MarketingMessageAction$MarketingMessagePrototypeType=ka;e.SyncActionValue$UsernameChatStartModeAction$ChatStartMode=la;e.SyncActionValue$LabelEditAction$ListType=ma;e.PatchDebugData$Platform=a;e.RecentEmojiWeightSpec=g;e.CallLogRecordSpec=h;e.CallLogRecord$ParticipantInfoSpec=i;e.SyncActionValueSpec=j;e.SyncActionValue$AvatarUpdatedActionSpec=k;e.SyncActionValue$StatusPostOptInNotificationPreferencesActionSpec=l;e.SyncActionValue$MaibaAIFeaturesControlActionSpec=m;e.SyncActionValue$BroadcastListParticipantSpec=n;e.SyncActionValue$BusinessBroadcastListActionSpec=o;e.SyncActionValue$BusinessBroadcastAssociationActionSpec=p;e.SyncActionValue$PaymentTosActionSpec=q;e.SyncActionValue$CtwaPerCustomerDataSharingActionSpec=r;e.SyncActionValue$LidContactActionSpec=s;e.SyncActionValue$NotificationActivitySettingActionSpec=t;e.SyncActionValue$WaffleAccountLinkStateActionSpec=u;e.SyncActionValue$MerchantPaymentPartnerActionSpec=v;e.SyncActionValue$FavoritesActionSpec=w;e.SyncActionValue$FavoritesAction$FavoriteSpec=x;e.SyncActionValue$GalaxyFlowActionSpec=y;e.SyncActionValue$NoteEditActionSpec=z;e.SyncActionValue$PrivacySettingChannelsPersonalisedRecommendationActionSpec=A;e.SyncActionValue$PrivacySettingDisableLinkPreviewsActionSpec=B;e.SyncActionValue$WamoUserIdentifierActionSpec=C;e.SyncActionValue$LockChatActionSpec=D;e.SyncActionValue$CustomPaymentMethodsActionSpec=E;e.SyncActionValue$CustomPaymentMethodSpec=F;e.SyncActionValue$CustomPaymentMethodMetadataSpec=G;e.SyncActionValue$PaymentInfoActionSpec=H;e.SyncActionValue$LabelReorderingActionSpec=I;e.SyncActionValue$DeleteIndividualCallLogActionSpec=J;e.SyncActionValue$BotWelcomeRequestActionSpec=K;e.SyncActionValue$MusicUserIdActionSpec=L;e.SyncActionValue$StatusPrivacyActionSpec=M;e.SyncActionValue$CallLogActionSpec=N;e.SyncActionValue$PrivacySettingRelayAllCallsSpec=O;e.SyncActionValue$DetectedOutcomesStatusActionSpec=P;e.SyncActionValue$ExternalWebBetaActionSpec=Q;e.SyncActionValue$MarketingMessageBroadcastActionSpec=R;e.SyncActionValue$MarketingMessageActionSpec=S;e.SyncActionValue$UsernameChatStartModeActionSpec=T;e.SyncActionValue$PnForLidChatActionSpec=U;e.SyncActionValue$ChatAssignmentOpenedStatusActionSpec=V;e.SyncActionValue$ChatAssignmentActionSpec=W;e.SyncActionValue$StickerActionSpec=X;e.SyncActionValue$RemoveRecentStickerActionSpec=Y;e.SyncActionValue$PrimaryVersionActionSpec=Z;e.SyncActionValue$NuxActionSpec=na;e.SyncActionValue$TimeFormatActionSpec=oa;e.SyncActionValue$UserStatusMuteActionSpec=pa;e.SyncActionValue$SubscriptionActionSpec=qa;e.SyncActionValue$AgentActionSpec=ra;e.SyncActionValue$AndroidUnsupportedActionsSpec=sa;e.SyncActionValue$PrimaryFeatureSpec=ta;e.SyncActionValue$KeyExpirationSpec=ua;e.SyncActionValue$SyncActionMessageSpec=va;e.SyncActionValue$SyncActionMessageRangeSpec=$;e.SyncActionValue$UnarchiveChatsSettingSpec=wa;e.SyncActionValue$DeleteChatActionSpec=xa;e.SyncActionValue$ClearChatActionSpec=ya;e.SyncActionValue$MarkChatAsReadActionSpec=za;e.SyncActionValue$DeleteMessageForMeActionSpec=Aa;e.SyncActionValue$ArchiveChatActionSpec=Ba;e.SyncActionValue$RecentEmojiWeightsActionSpec=Ca;e.SyncActionValue$LabelEditActionSpec=Da;e.SyncActionValue$LabelAssociationActionSpec=Ea;e.SyncActionValue$QuickReplyActionSpec=Fa;e.SyncActionValue$LocaleSettingSpec=Ga;e.SyncActionValue$PushNameSettingSpec=Ha;e.SyncActionValue$SecurityNotificationSettingSpec=Ia;e.SyncActionValue$PinActionSpec=Ja;e.SyncActionValue$MuteActionSpec=Ka;e.SyncActionValue$ContactActionSpec=La;e.SyncActionValue$StarActionSpec=Ma;e.SyncActionDataSpec=Na;e.PatchDebugDataSpec=Oa}),98);
__d("WASyncdKeyTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}f.toSyncKeyId=a;f.fromSyncKeyId=b;f.toSyncKeyData=c;f.fromSyncKeyData=d}),66);
__d("WATrie",["WANullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this._children={},this._indices=[],a&&(this._data=a)}a.fromBackwardsStrings=function(b,c){return b.reduce(function(a,b,c){return a.addBackwardsString(b,c)},new a(c))._optimize()};var b=a.prototype;b.addBackwardsString=function(b,c){var d=b.length-1,e=this;while(d>=0){var f=b.charAt(d);e._addIndex(c);e=e.get(f)||e.set(f,new a());d--}e._addIndex(c);return this};a.fromForwardsStrings=function(b,c){return b.reduce(function(a,b,c){return a.addForwardsString(b,c)},new a(c))._optimize()};b.addForwardsString=function(b,c){var d=0,e=this;while(d<b.length){var f=b.charAt(d);e._addIndex(c);e=e.get(f)||e.set(f,new a());d++}e._addIndex(c);return this};b.set=function(a,b){this._children[a]=b;return b};b.get=function(a){return this._children[a]};b.getChildren=function(){var a=this;return Object.keys(this._children).map(function(b){return{prefix:b,node:c("WANullthrows")(a.get(b))}})};b.hasChildren=function(){return!h(this._children)};b.search=function(a){var b=this._data;if(!b)return[];var c=this;for(var d=0;d<a.length;d++){if(!c)break;var e=a[d];c=c.get(e)}if(!c)return[];e=c.getIndices();return e.map(function(a){return b[a]})};b._addIndex=function(a){this._indices.push(a)};b.getIndices=function(){var a=this._indices,b=Object.keys(this._children);return b.length===1&&this._indices.length===0?this._children[b[0]].getIndices():a};b._optimize=function(){var a=this;if(!this.hasChildren())return this;var b=Object.keys(this._children),c=this._children[b[0]]._indices;b.forEach(function(b){a._children[b]._optimize()});b.length===1&&this._indices.length===c.length&&(this._indices=[]);return this};b.testOnlyGetChildrenProperty=function(){return this._children};b.testOnlyGetIndicesProperty=function(){return this._indices};return a}();function h(a){for(a in a)return!1;return!0}g["default"]=a}),98);
__d("WAUseCaseSecret",["$InternalEnum","WABinary","WACryptoHkdf"],(function(a,b,c,d,e,f,g){"use strict";c=b("$InternalEnum")({POLL_VOTE:"Poll Vote",ENC_REACTION:"Enc Reaction",ENC_COMMENT:"Enc Comment",REPORT_TOKEN:"Report Token",EVENT_RESPONSE:"Event Response",EVENT_EDIT_ENCRYPTED:"Event Edit"});var h=32;function a(a){var b=a.messageSecret,c=a.stanzaId,e=a.parentMsgOriginalSender,f=a.modificationSender;a=a.modificationType;c=d("WABinary").Binary.build(c,e,f,a).readBuffer();return d("WACryptoHkdf").extractAndExpand(b instanceof ArrayBuffer?new Uint8Array(b):b,c,h)}g.UseCaseSecretModificationType=c;g.createUseCaseSecret=a}),98);
__d("WAWebAccountLinkingSchema",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("account-linking").version(d("WAWebModelStorageVersions").accountLinkingCreateTable(),[b("accountLinkKey"),c("linkState"),c("linkTimestamp"),c("nonce"),c("fbid"),c("accesstoken"),c("pingInterval"),c("fbCrosspostingDestinationId"),c("igCrosspostingDestinationId"),c("foAToWALinkEligibility"),c("accountLinkingOpaqueData")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("account-linking")}g.addTable=a;g.getTable=b}),98);
__d("WAWebWamEnumIqResponseType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_PARTICIPANT:1,REMOVE_PARTICIPANT:2,PROMOTE_PARTICIPANT:3,DEMOTE_PARTICIPANT:4});f.IQ_RESPONSE_TYPE=a}),66);
__d("WAWebAddressingModeMismatchWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAddressingMode","WAWebWamEnumIqResponseType","WAWebWamEnumMismatchOriginType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({AddressingModeMismatch:[4750,{iqResponse:[1,d("WAWebWamEnumIqResponseType").IQ_RESPONSE_TYPE],localAddressingMode:[2,d("WAWebWamEnumAddressingMode").ADDRESSING_MODE],mismatchOrigin:[6,d("WAWebWamEnumMismatchOriginType").MISMATCH_ORIGIN_TYPE],notificationTag:[3,d("WAWebWamCodegenUtils").TYPES.STRING],serverAddressingMode:[5,d("WAWebWamEnumAddressingMode").ADDRESSING_MODE]},[1,1,1],"regular"]},{AddressingModeMismatch:[]});g.AddressingModeMismatchWamEvent=a}),98);
__d("WAWebAnimatedEmojiGatingUtils",["WAWebABProps","gkx"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("animated_emojis_enabled")}function b(){return d("WAWebABProps").getABPropConfigValue("remove_single_emoji_bubble_background_enabled")}function e(){return d("WAWebABProps").getABPropConfigValue("animated_emoji_set_1_enabled")}function f(){return!c("gkx")("26258")&&d("WAWebABProps").getABPropConfigValue("animated_emoji_final_set_enabled")}function h(){return d("WAWebABProps").getABPropConfigValue("animated_race_mercedes_car_emoji_enabled")}g.isAnimatedEmojiEnabled=a;g.isStaticSingleEmojiUIEnabled=b;g.isAnimatedEmojiSet1Enabled=e;g.isAnimatedEmojiFinalSetEnabled=f;g.isAnimatedEmojiMercedesRacingEnabled=h}),98);
__d("WAWebSchemaMembershipApprovalRequest",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey;b=b.addIndex;a.add("pending-membership-approval-request").version(d("WAWebModelStorageVersions").membershipApprovalRequestCreateTable(),[e(["groupId","id"]),b("groupId"),c("t"),c("addedBy"),c("requestMethod"),c("parentGroupId")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("pending-membership-approval-request")}g.addTable=a;g.getMembershipApprovalRequestTable=b}),98);
__d("WAWebApiMembershipApprovalRequestStore",["WAWebSchemaMembershipApprovalRequest","WAWebWidFactory"],(function(a,b,c,d,e,f,g){a=function(a){return d("WAWebSchemaMembershipApprovalRequest").getMembershipApprovalRequestTable().equals(["groupId"],a.toString()).then(function(a){return a.map(function(a){var b=a.id,c=a.t,e=a.addedBy,f=a.requestMethod;a=a.parentGroupId;return{id:d("WAWebWidFactory").createWid(b),t:c,addedBy:d("WAWebWidFactory").createWid(e),requestMethod:f,parentGroupId:a!=null?d("WAWebWidFactory").createWid(a):void 0}})})};b=function(a,b){b=b.map(function(b){var c=b.id,d=b.t,e=b.addedBy,f=b.requestMethod;b=b.parentGroupId;return{groupId:a.toString(),id:c.toString(),t:d,addedBy:e.toString(),requestMethod:f,parentGroupId:b==null?void 0:b.toString()}});return d("WAWebSchemaMembershipApprovalRequest").getMembershipApprovalRequestTable().bulkCreateOrReplace(b)};c=function(a,b){var c=a.toString();return d("WAWebSchemaMembershipApprovalRequest").getMembershipApprovalRequestTable().bulkRemove(b.map(function(a){return[c,a.toString()]}))};e=function(a){return d("WAWebSchemaMembershipApprovalRequest").getMembershipApprovalRequestTable().bulkRemoveByIndex(["groupId"],[a.toString()])};g.getMembershipApprovalRequests=a;g.addMembershipApprovalRequests=b;g.removeMembershipApprovalRequests=c;g.removeAllMembershipApprovalRequests=e}),98);
__d("WAWebGroupConstants",[],(function(a,b,c,d,e,f){a={ANNOUNCEMENT:"announcement",RESTRICT:"restrict",NO_FREQUENTLY_FORWARDED:"no_frequently_forwarded",EPHEMERAL:"ephemeral",MEMBERSHIP_APPROVAL_MODE:"membership_approval_mode",REPORT_TO_ADMIN_MODE:"report_to_admin_mode",ALLOW_NON_ADMIN_SUB_GROUP_CREATION:"allow_non_admin_sub_group_creation",MEMBER_ADD_MODE:"member_add_mode",LIMIT_SHARING:"limit_sharing"};b=60;f.GROUP_SETTING_TYPE=a;f.PAST_PARTICIPANT_EXPIRATION_DAYS=b}),66);
__d("WAWebSchemaParticipant",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addArrayIndex;a.add("participant").version(d("WAWebModelStorageVersions").participantCreateTable(),[e("groupId"),c("senderKey"),c("participants"),c("pastParticipants"),c("admins"),c("rotateKey"),c("version"),b("participants"),c("deviceSyncComplete"),c("staleType"),c("superAdmins")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("participant")}g.addTable=a;g.getParticipantTable=b}),98);
__d("WAWebApiParticipantStore",["WALogger","WATimeUtils","WAWebApiContact","WAWebBackendApi","WAWebCurrentUser","WAWebGroupConstants","WAWebModelStorageUtils","WAWebSchemaParticipant","WAWebUserPrefsMeUser","WAWebWamGroupMetricCache","WAWebWidFactory","asyncToGeneratorRuntime","gkx","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="GroupUnSyncedError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.toString();b=(yield d("WAWebSchemaParticipant").getParticipantTable().get(b));return p(a,b)});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=[],f=[];if(!b)return{skDistribList:e,skList:f,rotateKey:!1};var g=b==null?void 0:b.participants,h=b.senderKey,i=b.rotateKey,j=0,n=new Set();h.forEach(function(a,b){if(b.includes("hosted"))return;n=n.add(b);var c=d("WAWebWidFactory").createWid(b),g=d("WAWebWidFactory").asUserWidOrThrow(c);g=(g=h.get(g.toString()))!=null?g:!1;a&&g?f.push(c):(e.push(c),c.isCompanion()&&a&&!g&&(d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["getGroupSenderKeyList: include "," because its primary doesn't have sender key"])),b),j++))});if(d("WAWebCurrentUser").isEmployee()){g=g.filter(function(a){return!n.has(a)});g.length>0&&d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["getGroupSenderKeyList: missing sender keys for "," participants: ",""])),g.length,g.join())}c("gkx")("26258")||j>0&&d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["getGroupSenderKeyList: missed "," sender key(s) for primary devices"])),j).sendLogs("missing-sender-key-on-primary");yield s(a,h.size);d("WAWebWamGroupMetricCache").cacheGroupMetrics(b);return i?{skDistribList:[].concat(e,f),skList:[],rotateKey:i}:{skDistribList:e,skList:f,rotateKey:i}});return q.apply(this,arguments)}function e(a,c){var e=a.toString();return d("WAWebModelStorageUtils").getStorage().lock(["participant"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];var b=(yield a.get(e));if(!b){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["markHasSenderKey: group participant info missing for group ",""])),e);return}yield a.createOrReplace(r(b,c,!0))});return function(b){return a.apply(this,arguments)}}())}function f(a,c){var e=a.toString();return d("WAWebModelStorageUtils").getStorage().lock(["participant"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];var b=(yield a.get(e));if(!b){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["markForgetSenderKey: group participant info missing for group ",""])),e);return}yield a.createOrReplace(r(b,c,!1))});return function(b){return a.apply(this,arguments)}}())}function r(a,b,c){var e=new Map(a.senderKey),f=!1;b.forEach(function(a){if(d("WAWebUserPrefsMeUser").isMeDevice(a))return;var b=String(a);e.has(b)?e.set(b,c):a.isLid()||(f=!0)});return{groupId:a.groupId,senderKey:e,participants:a.participants,pastParticipants:a.pastParticipants,admins:a.admins,superAdmins:a.superAdmins,rotateKey:f,deviceSyncComplete:a.deviceSyncComplete}}function s(a,b){return d("WAWebBackendApi").frontendSendAndReceive("updateCachedDeviceCount",{groupWid:a,deviceCount:b})}function t(a,b,e){if(e!=="add")return b;var f=new Set(b.map(function(a){return a.id.toString()}));a.forEach(function(a){f.has(a)&&f["delete"](a);a=d("WAWebApiContact").getAlternateUserWid(d("WAWebWidFactory").createUserWid(a));a=a==null?void 0:a.toString();!c("isStringNullOrEmpty")(a)&&f.has(a)&&f["delete"](a)});e=b.filter(function(a){return f.has(a.id.toString())});return e}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.map(function(a){return a.id.toString()}),e=(yield d("WAWebSchemaParticipant").getParticipantTable().bulkGet(c));c=a.map(function(a,c){c=e[c];if(!c)return a;var f=c.pastParticipants.map(function(a){var b=a.jid,c=a.leaveTs;a=a.leaveReason;return{id:d("WAWebWidFactory").createWid(b),leaveTs:c,leaveReason:a}});c=t(c.participants,f,b);return babelHelpers["extends"]({},a,{pastParticipants:c})});return c});return v.apply(this,arguments)}function w(){return d("WAWebModelStorageUtils").getStorage().lock(["participant"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];var b=(yield d("WAWebSchemaParticipant").getParticipantTable().all()),c=[],e=d("WATimeUtils").DAY_SECONDS*d("WAWebGroupConstants").PAST_PARTICIPANT_EXPIRATION_DAYS;b.forEach(function(a){var b=a.pastParticipants.filter(function(a){a=d("WATimeUtils").castToUnixTime(a.leaveTs);a=d("WATimeUtils").happenedWithin(a,e);return a});if(b.length!==a.pastParticipants.length){a=babelHelpers["extends"]({},a,{pastParticipants:b});c.push(a)}});c.length>0&&d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["pruneExpiredPastParticipants: Pruning expired past participants from participant DB"])));return a.bulkCreateOrReplace(c)});return function(b){return a.apply(this,arguments)}}())}var x=new Map();function y(a,b){x.set(a,b)}function z(a){a!=null?x["delete"](a):x.clear()}function A(a){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=x.get(a);if(b==null){var c=(yield d("WAWebSchemaParticipant").getParticipantTable().get(a)),e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow().toString(),f=d("WAWebUserPrefsMeUser").getMeLidUserOrThrow().toString();e=!!c&&((c==null?void 0:c.admins.includes(e))||(c==null?void 0:c.admins.includes(f)));x.set(a,e);return e}return b});return B.apply(this,arguments)}g.GroupUnSyncedError=n;g.getGroupSenderKeyList=a;g.getGroupSenderKeyListFromParticipantRecord=p;g.markHasSenderKey=e;g.markForgetSenderKey=f;g.injectPastParticipantsFromDB=u;g.pruneExpiredPastParticipants=w;g.setAdminshipCache=y;g.clearAdminshipCache=z;g.isCurrentUserGroupAdmin=A}),98);
__d("WAWebSchemaSubgroupSuggestionV2",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey;b=b.addIndex;a.add("subgroup-suggestion-v2").version(d("WAWebModelStorageVersions").subgroupSuggestionV2CreateTable(),[e(["parentGroupId","id","owner"]),b("parentGroupId"),c("subject"),c("desc"),c("t"),c("isExistingGroup"),c("participantCount"),c("hiddenSubgroup")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("subgroup-suggestion-v2")}g.addTable=a;g.getSubgroupSuggestionTable=b}),98);
__d("WAWebApiSubgroupSuggestionStore",["Promise","WABatcher","WALogger","WAWebSchemaSubgroupSuggestionV2","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;c=3e3;e=function(a){return d("WAWebSchemaSubgroupSuggestionV2").getSubgroupSuggestionTable().equals(["parentGroupId"],a.toString()).then(function(a){return a.map(function(a){var b=a.id,c=a.parentGroupId,e=a.subject,f=a.desc,g=a.owner,h=a.t,i=a.isExistingGroup,j=a.participantCount;a=a.hiddenSubgroup;return{id:d("WAWebWidFactory").createWid(b),parentGroupId:d("WAWebWidFactory").createWid(c),subject:e,desc:f,owner:d("WAWebWidFactory").createWid(g),t:h,isExistingGroup:i,participantCount:j,hiddenSubgroup:a}})})};var j=function(a,b){b=b.map(function(b){var c=b.id,d=b.subject,e=b.desc,f=b.owner,g=b.t,h=b.isExistingGroup,i=b.participantCount;b=b.hiddenSubgroup;return{id:c.toString(),parentGroupId:a.toString(),subject:d,desc:e,owner:f.toString(),t:g,isExistingGroup:h,participantCount:i,hiddenSubgroup:b}});return d("WAWebSchemaSubgroupSuggestionV2").getSubgroupSuggestionTable().bulkCreateOrReplace(b)};f=function(a,c,e,f){var g=function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield (i||(i=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("WAWebSchemaSubgroupSuggestionV2").getSubgroupSuggestionTable().get([a.toString(),b.toString(),e.toString()]));return b});return function(a){return c.apply(this,arguments)}}())));g=g.filter(Boolean);var h=g.map(function(a){return babelHelpers["extends"]({},a,{owner:f,parentGroupId:d("WAWebWidFactory").createWid(a.parentGroupId),id:d("WAWebWidFactory").createWid(a.id)})});yield k(g.map(function(b){b=b.id;return{parentGroupId:a,id:d("WAWebWidFactory").createWid(b),owner:e}}));yield j(a,h)});return function(){return g.apply(this,arguments)}}();return g()};var k=function(a){return d("WAWebSchemaSubgroupSuggestionV2").getSubgroupSuggestionTable().bulkRemove(a.map(function(a){var b=a.parentGroupId,c=a.id;a=a.owner;return[b.toString(),c.toString(),a.toString()]}))},l=function(a){return d("WAWebSchemaSubgroupSuggestionV2").getSubgroupSuggestionTable().bulkRemoveByIndex(["parentGroupId"],[a.toString()])},m=d("WABatcher").batch({delayMs:c},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeSubgroupSuggestionsBatched: aggregating "," changes"])),a.length).devConsole(a);a=a.reduce(function(a,b){a.push.apply(a,b.suggestionsRowKeys);return a},[]);yield k(a);return[]});return function(b){return a.apply(this,arguments)}}());function a(a){var b=a.subgroupSuggestions;a=a.isOffline;return a===!0?m({suggestionsRowKeys:b}):k(b)}g.getSubgroupSuggestions=e;g.addSubgroupSuggestions=j;g.updateOwnerInSubgroupSuggestions=f;g.removeSubgroupSuggestions=k;g.removeAllSubgroupSuggestions=l;g.removeSubgroupSuggestionsWithOfflineOption=a}),98);
__d("WAWebSchemaUnjoinedSubgroupMetadata",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("unjoined-subgroup-metadata").version(d("WAWebModelStorageVersions").unjoinedSubgroupMetadataCreateTable(),[e("id"),c("subject"),c("subjectTime"),c("defaultSubgroup"),c("generalSubgroup"),c("parentGroup"),c("membershipApprovalMode"),c("membershipApprovalRequest"),c("hiddenSubgroup"),c("size")]).version(d("WAWebModelStorageVersions").unjoinedSubgroupParentGroupIndex(),[b("parentGroup")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("unjoined-subgroup-metadata")}g.addTable=a;g.getUnjoinedSubgroupMetadataTable=b}),98);
__d("WAWebApiUnjoinedSubgroupMetadataStore",["WAWebSchemaUnjoinedSubgroupMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=["defaultSubgroup","generalSubgroup","parentGroupId"];function a(a){d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().remove(a.toString())}function i(a){var b={},c=a.defaultSubgroup,d=a.generalSubgroup,e=a.parentGroupId,f=babelHelpers.objectWithoutPropertiesLoose(a,h);c!=null&&(b.defaultSubgroup=c);d!=null&&(b.generalSubgroup=d);e!=null&&(b.parentGroup=e.toString());return babelHelpers["extends"]({},f,b,{id:a.id.toString(),hiddenSubgroup:(c=a.hiddenSubgroup)!=null?c:!1,membershipApprovalMode:(d=a.membershipApprovalMode)!=null?d:!1,membershipApprovalRequest:(e=a.membershipApprovalRequest)!=null?e:!1})}function c(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.unjoinedSubgroups,c=a.parentGroupId;a=a.link;if(!a){yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkRemove(b.map(function(a){return a.id.toString()}));return}a=[];var e=(yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkGet(b.map(function(a){return a.id.toString()})));a=b.map(function(a,b){b=e[b];var d={subject:a.subject,subjectTime:a.subjectTime||0};if(b){var f=b.subjectTime||0;f>d.subjectTime&&(d={subject:b.subject,subjectTime:f})}return i(babelHelpers["extends"]({},a,d,{parentGroupId:c}))});yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkCreateOrMerge(a)});return j.apply(this,arguments)}function e(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.unjoinedSubgroupIds;a=a.parentGroupId;a=(yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().equals(["parentGroup"],a.toString()));a=a.map(function(a){return a.id});var c=b.map(function(a){return a.toString()});b=a.filter(function(a){return!c.includes(a)});yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkRemoveByIndex(["id"],b)});return k.apply(this,arguments)}function f(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().get(a.toString()));if(a!=null){a=babelHelpers["extends"]({},a,{membershipApprovalRequest:b});yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkCreateOrMerge([a])}});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkGet(a.map(function(a){return a.id.toString()}))),c=[];a.forEach(function(a,d){d=b[d];d&&c.push(babelHelpers["extends"]({},d,{size:a.participantCount}))});yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkCreateOrMerge(c)});return n.apply(this,arguments)}g.removeUnjoinedSubgroupMetadataFromStorage=a;g.updateUnjoinedSubgroups=c;g.cleanUnjoinedSubgroups=e;g.updateMembershipApprovalRequestinDB=f;g.updateSizeInDB=m}),98);
__d("WAWebBizCartConstants",[],(function(a,b,c,d,e,f){a=99;f.CART_ITEM_MAX_QUANTITY=a}),66);
__d("WAWebBizCatalogManagementParseProductGraphql_product.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"WAWebBizCatalogManagementParseProductGraphql_product"};e.exports=a}),null);
__d("WAWebProductTypes.flow",["$InternalEnum"],(function(a,b,c,d,e,f){var g=b("$InternalEnum")({IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",AVAILABLE_FOR_ANOTHER_POSTCODE:"available for another postcode",UNKNOWN:"unknown"}),h=[g.OUT_OF_STOCK,g.AVAILABLE_FOR_ANOTHER_POSTCODE],i=6;b=b("$InternalEnum")({Default:"DEFAULT",CountryOriginExempt:"COUNTRY_ORIGIN_EXEMPT"});function a(a){if(a==="APPROVED"||a==="PENDING"||a==="REJECTED")return a}function c(a){if(a==null)return;switch(a){case"TRUE":return"ISHIDDEN_TRUE";case"FALSE":return"ISHIDDEN_FALSE";default:a;return a}}function d(a){if(a==null)return;switch(a){case"COUNTRY_ORIGIN_EXEMPT":return"COMPLIANCECATEGORY_COUNTRYORIGINEXEMPT";case"DEFAULT":return"COMPLIANCECATEGORY_DEFAULT";default:a;return a}}function e(a){if(a==null)return;switch(a){case"STATUS_APPROVED":return"APPROVED";case"STATUS_PENDING":return"PENDING";case"STATUS_REJECTED":return"REJECTED";default:a}}f.ProductAvailability=g;f.PRODUCT_AVAILABILITY_UNAVAILABLE_VALUES=h;f.PRODUCT_PAGE_SIZE=i;f.ProductComplianceCategory=b;f.asProductReviewType=a;f.mapIsHiddenToWASchema=c;f.mapComplianceCategoryToWASchema=d;f.mapCollectionReviewStatusToWASchema=e}),66);
__d("WAWebSignedShimmedUrl",[],(function(a,b,c,d,e,f){function a(a){return a}f.asSignedShimmedUrl=a}),66);
__d("WAWebSyntheticCountryCode",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NotApplicable:"NOT_APPLICABLE"});f.SyntheticCountryCode=a}),66);
__d("WAWebBizCatalogParseProduct",["WAWap","WAWebBizCartConstants","WAWebProductTypes.flow","WAWebSignedShimmedUrl","WAWebSyntheticCountryCode"],(function(a,b,c,d,e,f,g){b=function(a){var b,c,e,f=a.child("id").contentString(),g=a.maybeChild("url"),h="";g&&g.hasContent()&&(h=g.contentString());g=a.child("name").contentString();b=(b=a.maybeAttrString("availability"))!=null?b:d("WAWebProductTypes.flow").ProductAvailability.UNKNOWN;var j=d("WAWebBizCartConstants").CART_ITEM_MAX_QUANTITY,l=a.maybeAttrString("max_available");l!=null&&(j=Number(l));l=a.maybeChild("max_available");l=l==null?void 0:l.contentString();l!=null&&(j=Number(l));l=a.maybeChild("description");l=l?l.contentString():"";var m=a.maybeChild("belongs_to");m=(m==null?void 0:m.contentString())==="true"||!1;var n=[],o=[],p=[],q=a.child("media"),r=!0;q.forEachChildWithTag("image",function(a){if(r)r=!1,n.push({key:"requested",value:a.child("request_image_url").contentString()}),n.push({key:"full",value:a.child("original_image_url").contentString()}),p.push(a.child("id").contentString());else{var b=[];b.push({key:"requested",value:a.child("request_image_url").contentString()});b.push({key:"full",value:a.child("original_image_url").contentString()});o.push(b);p.push(a.child("id").contentString())}});var s=[];q.forEachChildWithTag("video",function(a){var b=a.maybeChild("id"),c=a.child("original_video_url").contentString();a=a.maybeChild("thumbnail_url");b=(b==null?void 0:b.contentString())||"";a=(a==null?void 0:a.contentString())||"";s.push({id:b,original_video_url:c,thumbnail_url:a})});q=a.maybeChild("status_info");var t=(q==null?void 0:q.child("status").contentString())||"APPROVED";q=q==null||(c=q.maybeChild("can_appeal"))==null?void 0:c.contentString();t=[{key:"WHATSAPP",value:t}];var u=a.maybeChild("currency");u=u?u.contentString():void 0;var v=a.maybeChild("price");v=v==null?void 0:v.contentString();var w=a.maybeChild("retailer_id");w=w?w.contentString():"";var x=a.hasAttr("is_hidden")?a.attrString("is_hidden")==="true":!1,y=a.hasAttr("compliance_category")?d("WAWebProductTypes.flow").ProductComplianceCategory.cast(a.attrString("compliance_category")):d("WAWebProductTypes.flow").ProductComplianceCategory.Default,z=a.maybeChild("sale_price");e=z?babelHelpers["extends"]({sale_price:(e=z.maybeChild("price"))==null?void 0:e.contentString()},z.hasChild("start_date")&&z.hasChild("end_date")?{sale_start_date:z.child("start_date").contentString(),sale_end_date:z.child("end_date").contentString()}:null):null;z=a.maybeAttrString("is_sanctioned")==="true";f=babelHelpers["extends"]({id:f,is_hidden:x,is_sanctioned:z,url:h,name:g,description:l,availability:b,max_available:j,additional_image_cdn_urls:o,image_cdn_urls:n,capability_to_review_status:t,whatsapp_product_can_appeal:q==="true",image_hashes_for_whatsapp:p,currency:u,price:v,retailer_id:w,checkmark:m,videos:s,variant_info:null},e);x=a.maybeChild("compliance_info");y===d("WAWebProductTypes.flow").ProductComplianceCategory.CountryOriginExempt?f.compliance_info=k():x&&(f.compliance_info=i(x));z=a.maybeChild("shimmed_url");if(z!=null){h=z.contentString();h!==""&&(f.signedShimmedUrl=d("WAWebSignedShimmedUrl").asSignedShimmedUrl(h))}return f};function a(a){var b,c,e,f=a.id?d("WAWap").wap("id",null,a.id.toString()):void 0,g=a.description?d("WAWap").wap("description",null,a.description):void 0,i=a.url?d("WAWap").wap("url",null,a.url):void 0,j=a.retailerId?d("WAWap").wap("retailer_id",null,a.retailerId):void 0,k=a.priceAmount1000!=null?d("WAWap").wap("currency",null,a.currency):void 0,l=a.priceAmount1000!=null?d("WAWap").wap("price",null,a.priceAmount1000.toString()):void 0,m=a.salePriceAmount1000!=null?d("WAWap").wap("sale_price",null,a.salePriceAmount1000.toString()):void 0;b=[d("WAWap").wap("image",null,d("WAWap").wap("url",null,a.imageCdnUrl))].concat((b=a.additionalImageCdnUrl)==null?void 0:b.map(function(a){return d("WAWap").wap("image",null,d("WAWap").wap("url",null,a))}));c=(c=a.videos)==null?void 0:c.map(function(a){return d("WAWap").wap("video",null,d("WAWap").wap("url",null,a.original_video_url))});var n=h(a.complianceInfo),o;(((e=a.complianceInfo)==null?void 0:e.countryCodeOrigin)===String(d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable)||a.importerInformationExempt)&&(o=d("WAWebProductTypes.flow").ProductComplianceCategory.CountryOriginExempt);e=babelHelpers["extends"]({is_hidden:a.isHidden?"true":"false"},o?{compliance_category:o}:void 0);return d("WAWap").wap("product",e,f,d("WAWap").wap("name",null,a.name),g,i,j,d("WAWap").wap("media",null,b.concat(c)),l,m,k,n)}function h(a){var b,c,e,f,g,h,i=j(a),k=i.isExempt,l=i.hasCountryCodeOrigin,m=i.hasImporterName;i=i.hasImporterAddress;return!k&&(l||m||i)?d("WAWap").wap("compliance_info",null,l?d("WAWap").wap("country_code_origin",null,a==null?void 0:a.countryCodeOrigin):void 0,m?d("WAWap").wap("importer_name",null,a==null?void 0:a.importerName):void 0,i?d("WAWap").wap("importer_address",null,a!=null&&(b=a.importerAddress)!=null&&b.street1?d("WAWap").wap("street1",null,a.importerAddress.street1):void 0,a!=null&&(c=a.importerAddress)!=null&&c.street2?d("WAWap").wap("street2",null,a.importerAddress.street2):void 0,a!=null&&(e=a.importerAddress)!=null&&e.city?d("WAWap").wap("city",null,a.importerAddress.city):void 0,a!=null&&(f=a.importerAddress)!=null&&f.region?d("WAWap").wap("region",null,a.importerAddress.region):void 0,a!=null&&(g=a.importerAddress)!=null&&g.postalCode?d("WAWap").wap("postal_code",null,a.importerAddress.postalCode):void 0,a!=null&&(h=a.importerAddress)!=null&&h.countryCode?d("WAWap").wap("country_code",null,a.importerAddress.countryCode):void 0):void 0):void 0}function i(a){var b,c=a.child("country_code_origin").contentString();b=(b=a.maybeChild("importer_name"))==null?void 0:b.contentString();a=a.maybeChild("importer_address");c={country_code_origin:c,importer_name:b};if(a){c.importer_address={street1:a.child("street1").contentString(),street2:(b=a.maybeChild("street2"))==null?void 0:b.contentString(),postal_code:(b=a.maybeChild("postal_code"))==null?void 0:b.contentString(),city:a.child("city").contentString(),region:(b=a.maybeChild("region"))==null?void 0:b.contentString(),country_code:a.child("country_code").contentString()}}return c}function j(a){var b=(a==null?void 0:a.countryCodeOrigin)===String(d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable),c=!b&&(a==null?void 0:a.countryCodeOrigin)!==void 0,e=!b&&(a==null?void 0:a.importerName)!==void 0;a=!b&&(a==null?void 0:a.importerAddress)!==void 0&&[a.importerAddress.street1,a.importerAddress.street2,a.importerAddress.city,a.importerAddress.region,a.importerAddress.postalCode,a.importerAddress.countryCode].some(function(a){return a});return{isExempt:b,hasImporterAddress:a,hasImporterName:e,hasCountryCodeOrigin:c}}function k(){return{country_code_origin:String(d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable)}}g.parseProductNode=b;g.productModelToNode=a;g.scanComplianceInfoForMissingData=j}),98);
__d("WAWebParseMsgKeyString",["WALogger","WATypeUtils","err"],(function(a,b,c,d,e,f,g){var h;function a(a){if(!a||!d("WATypeUtils").isString(a))throw c("err")("MsgKey fromString error: str is null or not a string");var b=a.split("_"),e=void 0;b.length<3?d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["MsgKey error: cannot create MsgKey from ",""])),a):b.length===4?b[3]!=="out"&&b[3]!=="in"&&(e=b[3]):b.length===5&&(e=b[4]);return{fromMe:b[0]==="true",remote:b[1],id:b[2],participant:e}}g["default"]=a}),98);
__d("WAWebSchemaSelfAddonMessageTypeTable",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addAutoIncrementingPrimaryKey;b=b.addIndex;a.add("self-addon-message-type").version(d("WAWebModelStorageVersions").selfMessageTypeCreateTable(),[e("rowId"),c("msgId"),c("msgType"),b("msgId")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("self-addon-message-type")}g.addTable=a;g.getSelfAddonMessageTypeTable=b}),98);
__d("WAWebCommentSchema",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey,f=b.addEncryptedColumn;b=b.addIndex;a.add("comments").version(d("WAWebModelStorageVersions").commentCreateTable(),[e("msgKey"),c("parentMsgKey"),b("parentMsgKey"),c("t"),c("ack"),c("sender"),c("read"),f("msgRowOpaqueData",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),c("isOverwrittenByRevoke"),c("revokeTimestamp"),c("protocolMessageKey"),c("subtype"),c("isPlaceholder")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("comments")}g.addTable=a;g.getTable=b}),98);
__d("WAWebEventResponsesSchema",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey,f=b.addEncryptedColumn;b=b.addIndex;a.add("event-responses").version(d("WAWebModelStorageVersions").eventsResponsesCreateTable(),[e(["parentMsgKey","sender"]),c("msgKey"),b("parentMsgKey"),c("t"),c("ack"),c("read"),c("senderTimestampMs"),f("eventResponse",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER)]).version(d("WAWebModelStorageVersions").eventResponsesAddMsgKeyIndex(),[b("msgKey")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("event-responses")}g.addTable=a;g.getTable=b}),98);
__d("WAWebPinInChatSchema",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("pinned-messages").version(d("WAWebModelStorageVersions").pinInChatCreateTable(),[e("parentMsgKey"),c("chatId"),c("msgKey"),c("senderTimestampMs"),c("ack"),c("t"),c("pinType"),c("pinExpiryDuration"),c("sender"),b("msgKey"),b("chatId")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("pinned-messages")}g.addTable=a;g.getTable=b}),98);
__d("WAWebPollsVotesSchema",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey,f=b.addEncryptedColumn;b=b.addIndex;a.add("poll-votes").version(d("WAWebModelStorageVersions").pollVotesCreateTable(),[e(["parentMsgKey","sender"]),c("msgKey"),b("parentMsgKey"),f("selectedOptionLocalIds",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),c("senderTimestampMs"),c("ack"),c("t"),c("read")]).version(d("WAWebModelStorageVersions").pollVotesAddMsgKeyIndex(),[b("msgKey")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("poll-votes")}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaReactions",["$InternalEnum","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){b("$InternalEnum").Mirrored(["ParentMsgPlaceholder","ParentMsgMissing","ParentMsgFutureproof"]);function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey,f=b.addCompositeIndex;b=b.addIndex;a.add("reactions").version(d("WAWebModelStorageVersions").reactionsCreateTable(),[e(["parentMsgKey","senderUserJid"]),c("msgKey"),c("reactionText"),c("timestamp"),c("orphan"),c("orphanReason"),c("read"),c("ack"),b("parentMsgKey"),b("orphan"),c("t")]).version(d("WAWebModelStorageVersions").addReactionTableOrphanIndex(),[f(["parentMsgKey","orphan"])]).version(d("WAWebModelStorageVersions").addReactionTableMsgKeyIndex(),[b("msgKey")]).view(function(a){return a})}function c(){return d("WAWebModelStorageUtils").getStorage().table("reactions")}g.addTable=a;g.getReactionsTable=c}),98);
__d("WAWebSchemaUnifiedAddons",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("addons-unified").version(d("WAWebModelStorageVersions").createUnifiedAddonsTable(),[e("msgKey"),c("targetMsgKey"),b("targetMsgKey"),c("arbitraryIndex"),b("arbitraryIndex"),c("rowType"),b("rowType"),c("ack"),c("t"),c("read"),c("addonProps")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("addons-unified")}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaMessage",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage();a.add_OPTIMIZED_EXPERIMENT("message",function(a,b){var c=b.addColumn,e=b.addEncryptedColumn,f=b.addUserDefinedPrimaryKey,g=b.addIndex,h=b.addUniqueIndex,i=b.addCompositeIndex,j=b.addArrayIndex;b=b.removeColumn;return a.version((a=d("WAWebModelStorageVersions")).messageCreateTable(),[f("id"),c("internalId"),h("internalId"),c("rowId"),h("rowId"),c("type"),c("subtype"),c("t"),c("notifyName"),c("from"),c("to"),c("author"),c("local"),c("ack"),c("invis"),c("isStarred"),g("isStarred"),c("mentionedJidList"),c("groupMentions"),c("count"),c("devicesAdded"),c("devicesRemoved"),c("isThisDeviceAdded"),c("recipients"),c("protocolMessageKey"),c("protocolMessageRowId"),c("templateParams"),i(["internalId","isStarred"]),c("vcardWAids"),j("vcardWAids"),c("hasLink"),c("isMediaMsg"),c("isDocMsg"),c("isEventMsg"),i(["internalId","isMediaMsg"]),i(["internalId","isDocMsg"]),i(["internalId","hasLink"]),c("ephemeralStartTimestamp"),c("ephemeralDuration"),c("ephemeralSettingTimestamp"),c("ephemeralOutOfSync"),c("ephemeralSettingUser"),c("expiredTimestamp"),g("expiredTimestamp"),c("directPath"),c("mimetype"),c("duration"),c("filehash"),c("uploadhash"),c("size"),c("filename"),c("streamingSidecar"),c("mediaKey"),c("mediaKeyTimestamp"),c("pageCount"),c("isGif"),c("gifAttribution"),c("accessibilityLabel"),c("isViewOnce"),c("width"),c("height"),c("scanLengths"),c("scansSidecar"),c("interactiveAnnotations"),c("firstFrameLength"),c("firstFrameSidecar"),c("isAnimated"),c("isLottie"),c("thumbnail"),c("richPreviewType"),c("doNotPlayInline"),c("paymentLinkMetadata"),c("broadcast"),c("broadcastParticipants"),c("bclParticipants"),c("broadcastId"),c("quotedMsg"),c("quotedStanzaID"),c("quotedRemoteJid"),c("quotedParticipant"),c("footer"),c("hydratedButtons"),c("selectedId"),c("selectedIndex"),c("selectedCarouselCardIndex"),c("vcardFormattedName"),c("isVcardOverMmsDocument"),c("isCaptionByUser"),c("hsmTag"),c("hsmCategory"),c("templateId"),c("businessOwnerJid"),c("productId"),c("currencyCode"),c("priceAmount1000"),c("retailerId"),c("url"),c("productImageCount"),c("paymentCurrency"),c("paymentMessageReceiverJid"),c("paymentTransactionTimestamp"),c("paymentStatus"),c("paymentNoteMsg"),c("paymentRequestMessageKey"),c("paymentExpiryTimestamp"),c("message"),c("orderTitle"),c("itemCount"),c("orderId"),c("surface"),c("status"),c("token"),c("textColor"),c("backgroundColor"),c("font"),c("isForwarded"),c("forwardingScore"),c("ctwaContext"),c("messageRangeIndex"),g("messageRangeIndex"),c("vcardList"),c("totalAmount1000"),c("totalCurrencyCode"),c("list"),c("listResponse"),c("isDynamicReplyButtonsMsg"),c("dynamicReplyButtons"),c("selectedButtonId"),c("sellerJid"),c("deprecatedMms3Url"),c("encFilehash"),e("msgRowOpaqueData",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),c("thumbnailDirectPath"),c("thumbnailSha256"),c("thumbnailEncSha256"),c("thumbnailHeight"),c("thumbnailWidth"),c("revokeSender"),c("isQuestion"),c("questionReplyQuotedMessage"),c("pendingReadReceipt"),i(["from","pendingReadReceipt"]),c("inviteGrpType"),c("quotedGroupSubject"),c("quotedParentGroupJid"),c("quotedType"),c("reactionParentKey"),c("reactionTimestamp"),c("reactionText"),c("lastPlaybackProgress"),c("hasReaction"),c("kicKey"),c("kicState"),c("kicTimestampMs"),c("kicNotified"),c("keptMessageKey"),c("keepType"),c("keptCount"),c("agentId"),c("revokeTimestamp"),c("futureproofParams"),c("futureproofReparsed"),c("futureproofType"),c("futureproofSubtype"),c("botFeedbackKind"),c("botFeedbackText"),c("latestEditMsgKey"),c("latestEditSenderTimestampMs"),c("editMsgType"),c("bizSource"),c("invokedBotWid"),c("botEditType"),c("botTargetSenderJid"),c("bizBotType"),c("botPersonaId"),c("viewCount"),c("questionResponsesCount"),c("readQuestionResponsesCount"),c("forwardedNewsletterMessageInfo"),c("viewed"),c("disappearingModeTrigger"),c("disappearingModeInitiatedByMe"),c("botResponseTargetId"),c("botPluginType"),c("botPluginReferenceIndex"),c("botPluginSearchProvider"),c("botPluginSearchUrl"),c("botReelPluginThumbnailCdnUrl"),c("botPluginMaybeParent"),c("carouselCardsParsed"),c("botMsgBodyType"),c("botPluginSearchQuery"),c("botMessageDisclaimerText"),c("newsletterAdminInviteInfo"),c("newsletterFollowerInviteInfo"),c("bizContentPlaceholderType"),c("hostedBizEncStateMismatch"),c("placeholderCreatedWhenAccountIsHosted"),c("senderOrRecipientAccountTypeHosted"),c("eventInvalidated"),c("replyCount"),c("associationType"),c("parentMsgKey"),c("statusMentioned"),c("viewMode"),c("stickers"),c("stickerPackId"),c("stickerPackPublisher"),c("trayIconFileName"),c("stickerPackSize"),c("isSupportAIMessage"),c("shouldShowSupportAISystemMessage"),c("supportCitations"),c("isWamoSub"),c("callSilenceReason"),c("callOutcome"),c("isVideoCall"),c("callDuration"),c("callParticipants"),c("isCallLink"),c("callLinkToken"),c("finalCallOutcome"),c("richResponse"),c("limitSharing"),c("galaxyFlowWAMMessageId"),c("galaxyFlowQPLMessageId"),c("galaxyFlowDisabled"),c("isGroupStatus"),c("faviconMMSMetadata"),c("showMmDisclosure"),c("urlTrackingMapElements"),c("groupHistoryBundleMessageKey"),c("groupHistoryBundleMetadata")]).version(a.messageAddIsSendFailureProperties(),[c("isSendFailure")]).version(a.messageAddPaymentTxnStatus(),[c("paymentTxnStatus")]).version(a.messageAddProductListPreviewInfo(),[c("productListItemCount")]).version(a.messageAddPrivacyModeFields(),[c("privacyModeWhenSent"),c("bizPrivacyStatus")]).version(a.messageAddProductListPreviewHeaderImage(),[c("productHeaderImageRejected")]).version(a.messageAddDisappearingModeInitiator(),[c("disappearingModeInitiator")]).version(a.messageAddGroupInviteV4(),[c("inviteGrp"),c("inviteGrpName"),c("comment"),c("inviteCode"),c("inviteCodeExp")]).version(a.addSupportForHSMButtons(),[c("isFromTemplate")]).version(a.messageAddPaymentRequestNFMFields(),[c("nativeFlowButtons"),c("paymentRequestHeader")]).version(a.addWaveformToAudioMessages(),[c("waveform")]).version(a.messageRemovePaymentRequestHeaderField(),[b("paymentRequestHeader")]).version(a.messageAddNativeFlowNameField(),[c("nativeFlowName")]).version(a.addStaticURLToImageVideoMessages(),[c("staticUrl")]).version(a.addRequiresDirectConnection(),[c("requiresDirectConnection")]).version(a.messageAddPaymentInviteServiceType(),[c("paymentInviteServiceType")]).version(a.addStatusPSACampaignFields(),[c("campaignId"),c("campaignDuration")]).version(a.messageAddPaymentBackground(),[c("paymentBackground")]).version(a.messageAddInteractiveMessageFields(),[c("interactiveHeader"),c("interactiveType"),c("interactivePayload")]).version(a.messageAddActionLink(),[c("actionLink")]).version(a.messageAddHeaderType(),[c("headerType")]).version(a.messageStatusPSAReadTimestamp(),[c("statusPSAReadTimestamp")]).version(a.messageAddPollInvalidated(),[c("pollInvalidated")]).version(a.messageAddRcat(),[c("rcat")]).version(a.errorCodeColumn(),[c("errorCode")]).version(a.lastUpdateTimestampColumn(),[c("lastUpdateFromServerTs")]).version(a.paidMessagingCampaignIdColumn(),[c("pmCampaignId")]).version(a.messageAddEditIndex(),[g("latestEditMsgKey")]).version(a.messageAddIsCarouselIndex(),[c("isCarouselMsg"),i(["internalId","isCarouselMsg"])]).version(a.messageAddIsEventMsgIndex(),[i(["internalId","isEventMsg"])]).version(a.messageAddVoipCallLogIndex(),[c("isCallLogMsg"),g("isCallLogMsg"),i(["internalId","isCallLogMsg"])]).version(a.messageAddVoipCallOutcomeIndex(),[g("callOutcome"),c("callCreator")]).version(a.messageAddMediaRelatedIndex(),[c("typeFlag"),i(["typeFlag","t","internalId"])]).view(function(a){return a}).enablePropFilter(!0).useDbMsgEncKeyForEncryptedCol(!0).commit()})}function b(){return d("WAWebModelStorageUtils").getStorage().table("message")}g.addTable=a;g.getMessageTable=b}),98);
__d("WAWebChatThreadLoggingBoolFlagFields",[],(function(a,b,c,d,e,f){b={isCartAddClicked:!1,isCtaOnPdpClicked:!1,isCommerceViewed:!1,viaContactlessChats:!1};var g=Object.freeze(b);c=Object.freeze(Object.keys(b));function a(a){if(!Object.prototype.hasOwnProperty.call(g,a))return null;a=a;return a}f.FLAG_FIELDS=g;f.FLAG_FIELD_NAMES=c;f.toMaybeBoolFlagActionType=a}),66);
__d("WAWebChatThreadLoggingCountFields",[],(function(a,b,c,d,e,f){b={profileViews:0,statusViews:0,statusReplies:0,groupMembershipReplies:0,groupPrivateReplies:0,profileReplies:0,chatOverflowClicks:0,pdpViews:0,ordersSent:0,repliesSent:0,commentsReceived:0};var g=Object.freeze(b);c=Object.freeze(Object.keys(b));function a(a){if(!Object.prototype.hasOwnProperty.call(g,a))return null;a=a;return a}f.COUNT_FIELDS=g;f.COUNT_FIELD_NAMES=c;f.toMaybeCountActionType=a}),66);
__d("WAWebSchemaChatThreadLoggingPendingEvents",["WAWebChatThreadLoggingBoolFlagFields","WAWebChatThreadLoggingCountFields","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){var h="chat-thread-logging-pending-events";function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey;b=b.addIndex;a.add(h).version(d("WAWebModelStorageVersions").addChatThreadLoggingTable(),[e(["chatId","startTs"]),b("chatId"),b("startTs"),c("msgsSent"),c("msgsReceived"),c("msgsRead"),c("viewOnceMsgsSent"),c("viewOnceMsgsReceived"),c("viewOnceMessagesOpened"),c("callOffersSent"),c("callOffersReceived"),c("totalCallDuration"),c("commerceMsgsSent"),c("commerceMsgsReceived"),c("pdpInquiriesSent"),c("reactionsSent"),c("reactionsReceived"),c("forwardMessagesSent"),c("forwardMessagesReceived"),c("editedMsgsSent"),c("botMessagesSent"),c("botMessagesReceived"),c("botMessagesEdited"),c("eventCreationMessagesSent"),c("eventCreationMessagesReceived"),c("eventResponseMessagesSent"),c("eventResponseMessagesReceived"),c("eventGroupStatusReplyOthersToOwn"),c("eventGroupStatusReplyOthersToOthers"),c("eventGroupStatusReplyOwnToOthers"),c("eventGroupStatusReplyOwnToOwn"),c("eventGroupStatusLikeOthersToOwn"),c("eventGroupStatusLikeOthersToOthers")].concat([].concat(d("WAWebChatThreadLoggingCountFields").COUNT_FIELD_NAMES,d("WAWebChatThreadLoggingBoolFlagFields").FLAG_FIELD_NAMES).map(function(a){return c(a)}))).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table(h)}g.addTable=a;g.getChatThreadLoggingPendingEventsTable=b}),98);
__d("WAWebSchemaVerifiedBusinessName",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.removeColumn;a.add("verified-business-name").version(d("WAWebModelStorageVersions").verifiedBusinessNameCreateTable(),[e("id"),c("serial"),c("name"),c("isApi"),c("level"),c("actualActors"),c("hostStorage"),c("privacyModeTs")]).version(d("WAWebModelStorageVersions").verifiedBusinessNameAddPrivacyMode(),[c("privacyMode"),b("actualActors"),b("hostStorage"),b("privacyModeTs")]).version(d("WAWebModelStorageVersions").verifiedBusinessNameAddSmbColumn(),[c("isSmb")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("verified-business-name")}g.addTable=a;g.getVerifiedBusinessNameTable=b}),98);
__d("WAWebProtobufsMdStorageMsgRowOpaqueData.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({UNKNOWN:0,TEXT:1,IMAGE:2});c={};e={};f={};b={};var h={},i={},j={};c.name="MsgRowOpaqueData";c.internalSpec={currentMsg:[1,(d=d("WAProtoConst")).TYPES.MESSAGE,f],quotedMsg:[2,d.TYPES.MESSAGE,f]};e.name="PollEncValue";e.internalSpec={encPayload:[1,d.TYPES.BYTES],encIv:[2,d.TYPES.BYTES]};f.name="MsgOpaqueData";f.internalSpec={body:[1,d.TYPES.STRING],caption:[3,d.TYPES.STRING],lng:[5,d.TYPES.DOUBLE],isLive:[6,d.TYPES.BOOL],lat:[7,d.TYPES.DOUBLE],paymentAmount1000:[8,d.TYPES.INT32],paymentNoteMsgBody:[9,d.TYPES.STRING],matchedText:[11,d.TYPES.STRING],title:[12,d.TYPES.STRING],description:[13,d.TYPES.STRING],futureproofBuffer:[14,d.TYPES.BYTES],clientUrl:[15,d.TYPES.STRING],loc:[16,d.TYPES.STRING],pollName:[17,d.TYPES.STRING],pollOptions:[18,d.FLAGS.REPEATED|d.TYPES.MESSAGE,j],pollSelectableOptionsCount:[20,d.TYPES.UINT32],messageSecret:[21,d.TYPES.BYTES],originalSelfAuthor:[51,d.TYPES.STRING],senderTimestampMs:[22,d.TYPES.INT64],pollUpdateParentKey:[23,d.TYPES.STRING],encPollVote:[24,d.TYPES.MESSAGE,e],isSentCagPollCreation:[28,d.TYPES.BOOL],pollContentType:[42,d.TYPES.ENUM,a],pollVotesSnapshot:[41,d.TYPES.MESSAGE,h],encReactionTargetMessageKey:[25,d.TYPES.STRING],encReactionEncPayload:[26,d.TYPES.BYTES],encReactionEncIv:[27,d.TYPES.BYTES],botMessageSecret:[29,d.TYPES.BYTES],targetMessageKey:[30,d.TYPES.STRING],encPayload:[31,d.TYPES.BYTES],encIv:[32,d.TYPES.BYTES],eventName:[33,d.TYPES.STRING],isEventCanceled:[34,d.TYPES.BOOL],eventDescription:[35,d.TYPES.STRING],eventJoinLink:[36,d.TYPES.STRING],eventStartTime:[37,d.TYPES.INT64],eventLocation:[38,d.TYPES.MESSAGE,b],eventEndTime:[40,d.TYPES.INT64],eventIsScheduledCall:[44,d.TYPES.BOOL],eventExtraGuestsAllowed:[45,d.TYPES.BOOL],plainProtobufBytes:[43,d.TYPES.BYTES]};b.name="MsgOpaqueData$EventLocation";b.internalSpec={degreesLatitude:[1,d.TYPES.DOUBLE],degreesLongitude:[2,d.TYPES.DOUBLE],name:[3,d.TYPES.STRING],address:[4,d.TYPES.STRING],url:[5,d.TYPES.STRING],jpegThumbnail:[6,d.TYPES.BYTES]};h.name="MsgOpaqueData$PollVotesSnapshot";h.internalSpec={pollVotes:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i]};i.name="MsgOpaqueData$PollVoteSnapshot";i.internalSpec={option:[1,d.TYPES.MESSAGE,j],optionVoteCount:[2,d.TYPES.INT32]};j.name="MsgOpaqueData$PollOption";j.internalSpec={name:[1,d.TYPES.STRING],hash:[2,d.TYPES.STRING]};g.MsgOpaqueData$PollContentType=a;g.MsgRowOpaqueDataSpec=c;g.PollEncValueSpec=e;g.MsgOpaqueDataSpec=f;g.MsgOpaqueData$EventLocationSpec=b;g.MsgOpaqueData$PollVotesSnapshotSpec=h;g.MsgOpaqueData$PollVoteSnapshotSpec=i;g.MsgOpaqueData$PollOptionSpec=j}),98);
__d("WAWebSchemaGroupMetadata",["$InternalEnum","WAWebModelStorageUtils","WAWebModelStorageVersions"],(function(a,b,c,d,e,f,g){e=b("$InternalEnum")({ADMIN_ADD:"admin_add",ALL_MEMBER_ADD:"all_member_add"});function a(){var a=d("WAWebModelStorageUtils").getStorage();a.add_OPTIMIZED_EXPERIMENT("group-metadata",function(a,b){var c=b.addColumn,e=b.addUserDefinedPrimaryKey,f=b.addIndex;b=b.removeColumn;return a.version((a=d("WAWebModelStorageVersions")).groupMetadataCreateTable(),[e("id"),c("subject"),c("subjectTime"),c("creation"),c("owner"),c("desc"),c("descId"),c("descTime"),c("descOwner"),c("restrict"),c("announce"),c("a_v_id"),c("noFrequentlyForwarded"),c("ephemeralDuration"),c("membershipApprovalMode"),c("size"),c("support"),c("suspended"),c("terminated"),c("notAddedByContact"),c("addedBy"),c("parentGroup"),c("subgroups"),c("isParentGroup"),c("isParentGroupClosed"),c("defaultSubgroup"),c("generalSubgroup"),c("growthLockExpiration"),c("growthLockType"),c("lastActivityTimestamp"),c("lastSeenActivityTimestamp"),c("isLidAddressingMode"),c("reportToAdminMode"),c("lastReportToAdminTimestamp"),c("allowNonAdminSubGroupCreation"),c("memberAddMode"),c("generalChatAutoAddDisabled"),c("unreadMentionMapDB"),c("pendingUnreadMentionCountDB"),c("disappearingModeTrigger"),c("disappearingModeInitiatedByMe"),c("hasCapi"),c("hiddenSubgroup"),c("groupSafetyCheck"),c("groupAdder"),c("lastCommunityPollTimestamp"),c("hasIncompleteParticipantInformation"),c("statusMute")]).version(a.migrateSubgroupsArray(),[b("subgroups"),c("unjoinedSubgroups")]).version(a.removeUnjoinedSubgroups(),[b("unjoinedSubgroups")]).version(a.removeSpamColumnsInGroupMetadata(),[b("notAddedByContact"),b("addedBy")]).version(a.addCommunityAdminPromotionColumns(),[c("displayCadminPromotion")]).version(a.renameCommunityAdminPromotionColumns(),[b("displayCadminPromotion"),c("acknowledgedCadminPromotion")]).version(a.removeCommunityAdminPromotionColumns(),[b("acknowledgedCadminPromotion")]).version(a.addIncognitoGroupMetadataColumn(),[c("incognito")]).version(a.groupMetadataAddParentIndex(),[f("parentGroup")]).version(a.addUnreadMentionMetadataColumn(),[c("unreadMentionMetadata")]).version(a.removeUnreadMentionMetadataColumn(),[b("unreadMentionMetadata")]).version(a.addEphemeralityIndexToGroupMetadataTable(),[f("ephemeralDuration")]).view(function(a){return a}).commit()})}function c(){return d("WAWebModelStorageUtils").getStorage().table("group-metadata")}g.MemberAddMode=e;g.addTable=a;g.getGroupMetadataTable=c}),98);
__d("WAWebWorkerSafeBackendApi",["WAWebBackendApi"],(function(a,b,c,d,e,f,g){function a(a,b){d("WAWebBackendApi").fireAndForgetInternalDoNotUse("workerSafeEvent",a,b)}function b(a,b){return d("WAWebBackendApi").sendAndReceiveInternalDoNotUse("workerSafeEvent",a,b)}g.workerSafeFireAndForget=a;g.workerSafeSendAndReceive=b}),98);
__d("strPretty",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];a=a.valueOf().trim();var c=!0;for(var d=0;d<a.length;d++){var e=a.charAt(d),f=d<=a.length-2?a.charAt(d+1):null;if(/^[a-zA-Z]$/.test(e)){c?(b.push(e.toUpperCase()),c=!1):b.push(e.toLowerCase());if(f!=null&&!/^[_\s]$/.test(f)){var g=e.toUpperCase()===e,h=f.toUpperCase()===f&&/^[a-zA-Z]$/.test(f);!g&&h&&(c=!0,b.push(" "))}}else if(/^[0-9]$/.test(e))b.push(e);else if(/^[!.?]$/.test(e))b.push(e),c=!0;else{if(f!=null){g=f.toUpperCase()===f;(g||/^[_]$/.test(e))&&(c=!0)}b.push(" ")}}return b.join("")}f["default"]=a}),66);
__d("snakeCase",["strPretty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("strPretty")(a).replace(/\s/g,"_").toLowerCase()}g["default"]=a}),98);
__d("WAWebSchemaBusinessProfile",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("business-profile").version(d("WAWebModelStorageVersions").businessProfileCreateTable(),[b("id"),c("commandsDescription"),c("commands"),c("prompts"),c("automatedType"),c("welcomeMsgProtocolMode")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("business-profile")}g.addTable=a;g.getBusinessProfileTable=b}),98);
__d("WAWebInteractiveMessagesNativeFlowName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ORDER_DETAILS:"order_details",ORDER_STATUS:"order_status",PAYMENT_STATUS:"payment_status",PAYMENT_METHOD:"payment_method",MESSAGE_WITH_LINK:"message_with_link",MESSAGE_WITH_LINK_STATUS:"message_with_link_status",QUICK_REPLY:"quick_reply",CTA_CALL:"cta_call",CTA_URL:"cta_url",CTA_CATALOG:"cta_catalog",PAYMENT_INFO:"payment_info",CTA_COPY_CODE:"cta_copy",MIXED:"mixed",CTA_FLOW:"galaxy_message"});c=a;f["default"]=c}),66);
__d("WAWebSchemaMessageOrphans",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey,f=b.addIndex;b=b.removeIndex;a.add("message-orphans").version(d("WAWebModelStorageVersions").messageOrphansCreateTable(),[e("msgKey"),c("parentMsgKey"),f("parentMsgKey"),c("sender"),c("parsedMsgPayload"),c("senderTimestampMs"),f("senderTimestampMs")]).version(d("WAWebModelStorageVersions").messageOrphansAddColumns(),[c("t"),f("t"),c("type"),b("senderTimestampMs"),c("read"),c("reportingTokenInfo")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("message-orphans")}g.addTable=a;g.getMessageOrphanTable=b}),98);
__d("WAWebSchemaChat",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){d("WAWebModelStorageUtils").getStorage().add_OPTIMIZED_EXPERIMENT("chat",function(a,b){var c=b.addColumn,e=b.addEncryptedColumn,f=b.addIndex,g=b.addUniqueIndex;b=b.addUserDefinedPrimaryKey;return a.version((a=d("WAWebModelStorageVersions")).chatCreateTable(),[b("id"),c("t"),c("unreadCount"),c("unreadDividerOffset"),c("archive"),c("isReadOnly"),c("isLocked"),c("isAnnounceGrpRestrict"),c("modifyTag"),c("muteExpiration"),c("isAutoMuted"),c("name"),c("notSpam"),c("pin"),c("changeNumberOldJid"),c("changeNumberNewJid"),c("ephemeralDuration"),c("ephemeralSettingTimestamp"),c("unreadMsgAnchorId"),c("endOfHistoryTransferType"),c("lastReactionPreview"),c("chatlistPreview"),c("unreadEditTimestampMs"),e("chatRowOpaqueData",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),c("ephemeralDisplayedExemptions"),c("disappearingModeTrigger"),c("disappearingModeInitiatedByMe"),c("hasOpened"),c("hasCreatedBotInvokeSystemMsg"),c("bizBotSystemMsgType"),c("lidOriginType"),c("hasRequestedWelcomeMsg"),c("wallpaper"),c("capiThreadControl"),c("createdLocally"),c("limitSharing"),c("mmSignalSharingExpirationWindow"),c("toneId")]).version(a.chatAddDisappearingModeInitiator(),[c("disappearingModeInitiator")]).version(a.addUnreadMentionToChatTable(),[c("unreadMentionsOfMe")]).version(a.addUnreadMentionCountToChatTable(),[c("unreadMentionCount")]).version(a.addTcTokenToChatTable(),[e("tcToken",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER)]).version(a.addTcTokenTimestampToChatTable(),[c("tcTokenTimestamp"),f("tcTokenTimestamp")]).version(a.addArchiveAtMentionViewedInDrawer(),[c("archiveAtMentionViewedInDrawer")]).version(a.addTcTokenSenderTimestampToChatTable(),[c("tcTokenSenderTimestamp")]).version(a.addEphemeralityIndexToChatTable(),[f("ephemeralDuration")]).version(a.chatAddAccountLidIndex(),[c("accountLid"),g("accountLid")]).view(function(a){return a}).commit()})}function b(){return d("WAWebModelStorageUtils").getStorage().table("chat")}g.addTable=a;g.getChatTable=b}),98);
__d("WAWebSchemaMessageAssociation",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey;b=b.addIndex;a.add("message-association").version(d("WAWebModelStorageVersions").messageAssociationCreateTable(),[e(["msgKey","associationType"]),c("parentMsgKey"),c("msgKeyInternalId"),b("parentMsgKey")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("message-association")}g.addTable=a;g.getMessageAssociationTable=b}),98);
__d("WAWebPremiumMessageSchema",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){c=d("WAWebStorageMutationBuilder").columnBuilder();var h=c.addColumn,i=c.addUserDefinedPrimaryKey;function a(){d("WAWebModelStorageUtils").getStorage().add("premium-message").version(d("WAWebModelStorageVersions").premiumMessageCreateTable(),[i("id"),h("name"),h("type"),h("message"),h("isDeleted"),h("mediaId"),h("sentMessageIds")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("premium-message")}g.addTable=a;g.getPremiumMessageTable=b}),98);
__d("WAWebSchemaACSTokens",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addIndex;b=b.addUserDefinedPrimaryKey;a.add("acs-tokens").version(d("WAWebModelStorageVersions").acsTokenCreateTable(),[b("tokenName"),c("project"),e("project"),c("creationTs"),c("redeemCount"),c("token")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("acs-tokens")}g.addTable=a;g.getACSTokensTable=b}),98);
__d("WAWebSchemaAbPropConfig",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("abpropConfigs").version(d("WAWebModelStorageVersions").abpropsConfigCreateTable(),[b("configCode"),c("configValue"),c("configExpoKey"),c("overriddenConfigValue")]).version(d("WAWebModelStorageVersions").addHasAccessedToAbpropsConfigTable(),[c("hasAccessed")]).view(function(a){return{configCode:a.configCode,configValue:a.configValue,configExpoKey:a.configExpoKey,hasAccessed:a.hasAccessed,overriddenConfigValue:a.overriddenConfigValue}})}function b(){return d("WAWebModelStorageUtils").getStorage().table("abpropConfigs")}g.addTable=a;g.getAbpropConfigsTable=b}),98);
__d("WAWebSchemaAbPropEventSamplingConfig",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("abprop-event-sampling-configs").version(d("WAWebModelStorageVersions").abpropEventSamplingConfigCreateTable(),[b("eventCode"),c("samplingWeight")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("abprop-event-sampling-configs")}g.addTable=a;g.getAbpropEventSamplingConfigsTable=b}),98);
__d("WAWebSchemaActiveMessageRanges",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){c=Object.freeze({Unknown:"unknown",Archive:"archive",MarkChatAsRead:"markChatAsRead",ClearChatKeepStarredKeepMedia:"clearChat_0_0",ClearChatKeepStarredDeleteMedia:"clearChat_0_1",ClearChatDeleteStarredKeepMedia:"clearChat_1_0",ClearChatDeleteStarredDeleteMedia:"clearChat_1_1",DeleteChatDeleteMedia:"deleteChat_1",DeleteChatKeepMedia:"deleteChat_0"});function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey;b=b.addIndex;a.add("active-message-ranges").version(d("WAWebModelStorageVersions").activeMessageRangesCreateTable(),[e(["chatId","action"]),b("chatId"),c("actionValue"),c("remainingMessages")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("active-message-ranges")}g.ActiveRangeAction=c;g.addTable=a;g.getActiveMessageRangesTable=b}),98);
__d("WAWebSchemaAgent",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("agent").version(d("WAWebModelStorageVersions").agentCreateTable(),[b("id"),c("deviceId"),c("name"),c("isDeleted")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("agent")}g.addTable=a;g.getAgentTable=b}),98);
__d("WAWebSchemaBlocklist",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config);b=b.addUserDefinedPrimaryKey;a.add("blocklist").version(d("WAWebModelStorageVersions").blocklistCreateTable(),[b("id")]).view(function(a){return{id:a.id}})}function b(){return d("WAWebModelStorageUtils").getStorage().table("blocklist")}g.addTable=a;g.getBlocklistTable=b}),98);
__d("WAWebSchemaBotProfile",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("bot-profile").version(d("WAWebModelStorageVersions").botProfileCreateTable(),[b("id"),c("name"),c("attrs"),c("description"),c("category"),c("isDefault"),c("prompts"),c("personaId"),c("commands"),c("commandsDescription"),c("isMetaCreated"),c("creatorName"),c("creatorProfileUrl"),c("lastUpdateTs"),c("posingAsProfessional")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("bot-profile")}g.addTable=a;g.getBotProfileTable=b}),98);
__d("WAWebSchemaCTWASuggestion",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("ctwa-suggestion").version(d("WAWebModelStorageVersions").ctwaSuggestionsCreateTable(),[e("id"),c("type"),c("expiresAt"),b("expiresAt"),c("heading"),c("body"),c("highlight"),c("actionLink"),c("display"),c("ts")]).version(d("WAWebModelStorageVersions").ctwaSuggestionsAddTrackingData(),[c("nuxData"),c("coolOffData")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("ctwa-suggestion")}g.addTable=a;g.getCTWASuggestionTable=b}),98);
__d("WAWebSchemaCart",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("cart").version(d("WAWebModelStorageVersions").cartCreateTable(),[b("id"),c("products"),c("message"),c("total"),c("currency"),c("itemCount")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("cart")}g.addTable=a;g.getCartTable=b}),98);
__d("WAWebSchemaChatAssignment",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){var h="chat-assignment";function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add(h).version(d("WAWebModelStorageVersions").chatAssignmentCreateTable(),[b("id"),c("chatId"),c("agentId"),c("chatOpenedByAgent")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table(h)}g.addTable=a;g.getChatAssignmentTable=b}),98);
__d("WAWebSchemaCollectionVersion",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("collection-version").version(d("WAWebModelStorageVersions").collectionVersionCreateTable(),[b("collection"),c("version"),c("state"),c("finiteFailureStartTime"),c("ltHash"),c("isCollectionInMacMismatchFatal")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("collection-version")}g.addTable=a;g.getCollectionVersionTable=b}),98);
__d("WAWebSchemaDeviceList",["WAWebModelStorageUtils","WAWebModelStorageVersions"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage();a.add_OPTIMIZED_EXPERIMENT("device-list",function(a,b){var c=b.addColumn;b=b.addUserDefinedPrimaryKey;return a.version(d("WAWebModelStorageVersions").deviceListCreateTable(),[b("id"),c("devices"),c("rawId"),c("timestamp"),c("validIndexes"),c("currentIndex")]).version(d("WAWebModelStorageVersions").deviceListAddDelete(),[c("deleted"),c("deletedChangedToHost")]).version(d("WAWebModelStorageVersions").deviceListAddV2Fields(),[c("expectedTs"),c("expectedTsLastDeviceJobTs"),c("expectedTsUpdateTs"),c("advAccountType")]).view(function(a){return a}).commit()})}function b(){return d("WAWebModelStorageUtils").getStorage().table("device-list")}g.addTable=a;g.getDeviceListTable=b}),98);
__d("WAWebSchemaDirectConnectionKeys",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("direct-connection-keys").version(d("WAWebModelStorageVersions").directConnectionKeysCreateTable(),[b("id"),c("certificateChain"),c("cypher"),c("cypherExpirationTimestamp")]).version(d("WAWebModelStorageVersions").directConnectionKeysAddPostcodeColumns(),[c("cypherType"),c("postcode"),c("postcodeSetByUser"),c("postcodeLocationName")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("direct-connection-keys")}g.addTable=a;g.getDirectConnectionKeysTable=b}),98);
__d("WAWebSchemaDownload3PDSignals",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addAutoIncrementingPrimaryKey,e=b.addColumn;b=b.addIndex;a.add("download-3pd-signals").version(d("WAWebModelStorageVersions").download3PDSignalsCreateTable(),[c("id"),e("clickId"),e("ctwa3pdConversionType"),e("ctwa3pdConversionSubtype"),e("ctwa3pdConversionMetadata"),e("timestamp"),b("timestamp")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("download-3pd-signals")}g.addTable=a;g.getDownload3PDSignalsTable=b}),98);
__d("WAWebSchemaEncryptedMutations",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addAutoIncrementingPrimaryKey;a.add("encrypted-mutations").version(d("WAWebModelStorageVersions").encryptedMutationsCreateTable(),[b("id"),c("collectionName"),c("keyId"),c("indexMac"),c("operation"),c("indexAndValueCipherText")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaFavorite",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addUserDefinedPrimaryKey;b=b.addColumn;a.add("favorite").version(d("WAWebModelStorageVersions").favoriteCreateTable(),[c("id"),b("orderIndex")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("favorite")}g.addTable=a;g.getFavoriteTable=b}),98);
__d("WAWebSchemaFavoriteStickers",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("favorite-stickers").version(d("WAWebModelStorageVersions").favoriteStickersCreateTable(),[b("id"),c("timestamp"),c("sticker"),c("stickerHashWithoutMeta"),c("isFavorite"),c("deviceId")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("favorite-stickers")}g.addTable=a;g.getFavoriteStickersTable=b}),98);
__d("WAWebSchemaFtsIndexingQueue",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config);b=b.addUserDefinedPrimaryKey;a.add("fts-indexing-queue").version(d("WAWebModelStorageVersions").ftsIndexingQueueCreateTable(),[b("id")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("fts-indexing-queue")}g.addTable=a;g.getFtsIndexingQueueTable=b}),98);
__d("WAWebSchemaGroupInviteV4",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addCompositeIndex;a.add("group-invite-v4").version(d("WAWebModelStorageVersions").groupInviteV4CreateTable(),[e("id"),c("from"),c("to"),c("groupId"),c("expiration"),c("expired"),b(["from","to","groupId"])]).version(d("WAWebModelStorageVersions").addGroupFromKeyToGroupInviteV4(),[b(["from","groupId"])]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("group-invite-v4")}g.addTable=a;g.getGroupInviteV4Table=b}),98);
__d("WAWebSchemaHistorySyncNotification",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage();a.add_OPTIMIZED_EXPERIMENT("history-sync-notification",function(a,b){var c=b.addColumn,e=b.addEncryptedColumn,f=b.addUserDefinedPrimaryKey,g=b.addIndex;b=b.addCompositeIndex;return a.version((a=d("WAWebModelStorageVersions")).historySyncNotificationsCreateTable(),[f("msgKey"),c("downloadOptions"),c("syncType"),e("chunkEncryptionKey",(f=d("WAWebStorageSchema")).EncryptedValueType.STRING),c("chunkOrder"),c("processed"),g("syncType"),g("chunkOrder"),g("processed"),c("isReupload"),c("historySyncStepStartedTs"),c("historySyncPayloadSize"),c("reuploadPending"),c("downloadedHistorySyncPayload")]).version(a.encryptHistorySyncDirectPath(),[e("directPath",f.EncryptedValueType.STRING)]).version(a.encryptHistorySyncFilehash(),[e("filehash",f.EncryptedValueType.STRING),e("encFilehash",f.EncryptedValueType.STRING)]).version(a.addInitialHistBootstrapInlinePayloadColumn(),[e("initialHistBootstrapInlinePayload",f.EncryptedValueType.ARRAY_BUFFER)]).version(a.addPeerDataRequestSessionIdColumn(),[c("peerDataRequestSessionId")]).version(a.addPeerDataRequestChatIdColumn(),[c("peerDataRequestChatId")]).version(a.addProgressColumn(),[c("progress")]).version(a.addProcessedAndSyncTypeCompositeIndex(),[b(["processed","syncType"]),e("encHandle",f.EncryptedValueType.STRING)]).view(function(a){return a}).useDbMsgEncKeyForEncryptedCol(!0).commit()})}function b(){return d("WAWebModelStorageUtils").getStorage().table("history-sync-notification")}g.addTable=a;g.getHistorySyncNotificationTable=b}),98);
__d("WAWebSchemaInAppBanner",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("in-app-banner").version(d("WAWebModelStorageVersions").inAppBannerCreateTable(),[b("id"),c("type"),c("surfaceId"),c("title"),c("text"),c("actionText"),c("actionLink"),c("iconDescription"),c("iconLight"),c("iconDark"),c("backgroundColor"),c("highlightColor"),c("pacing"),c("ts")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaInactiveReceipt_DEPRECATED",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("inactive-receipt").version(d("WAWebModelStorageVersions").inactiveReceiptCreateTable(),[b("msgId"),c("chatId"),c("participantId")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaLabel",["$InternalEnum","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){e=b("$InternalEnum")({NONE:0,UNREAD:1,GROUPS:2,FAVORITES:3,PREDEFINED:4,CUSTOM:5,COMMUNITY:6,SERVER_ASSIGNED:7});function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("label").version(d("WAWebModelStorageVersions").labelCreateTable(),[b("id"),c("name"),c("colorIndex"),c("predefinedId"),c("orderIndex"),c("isActive"),c("type"),c("isImmutable")]).view(function(a){return a})}function c(){return d("WAWebModelStorageUtils").getStorage().table("label")}g.ListType=e;g.addTable=a;g.getLabelTable=c}),98);
__d("WAWebSchemaLabelAssociation",["$InternalEnum","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){b=b("$InternalEnum")({Jid:"jid",Message:"message"});function a(a){var b=a.labelId,c=a.associationId;a=a.type;return[b,c,a]}function c(a){return a[1]}function e(a){return a[2]}function f(a){return{labelId:a[0],associationId:a[1],type:a[2]}}function h(a,b){return[a[0],b,a[2]]}function i(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addCompositePrimaryKey,e=b.addIndex;b=b.addCompositeIndex;a.add("label-association").version(d("WAWebModelStorageVersions").labelAssociationCreateTable(),[c(["labelId","associationId","type"]),e("labelId"),b(["associationId","type"])]).view(function(a){return a})}function j(){return d("WAWebModelStorageUtils").getStorage().table("label-association")}g.LabelAssociationType=b;g.createLabelAssociationPrimaryKey=a;g.getAssociationIdFromPrimaryKey=c;g.getAssociationTypeFromPrimaryKey=e;g.createLabelAssociationRowFromPrimaryKey=f;g.replaceAssociationIdInPrimaryKey=h;g.addTable=i;g.getLabelAssociationTable=j}),98);
__d("WAWebSchemaLidChatState",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("lid-chat-state").version(d("WAWebModelStorageVersions").lidChatStateCreateTable(),[b("id"),c("shareOwnPn"),c("requestedPnTimestamp")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaLidDisplayNameMapping",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("lid-display-name-mapping").version(d("WAWebModelStorageVersions").lidDisplayNameMappingCreateTable(),[b("id"),c("displayName")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaLidPnMapping_DEPRECATED",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey,f=b.addIndex;b=b.removeColumn;a.add("lid-pn-mapping").version(d("WAWebModelStorageVersions").lidPnMappingCreateTable(),[e("id"),c("phoneNumber"),f("phoneNumber"),c("createdAtTimestamp"),c("displayName")]).version(d("WAWebModelStorageVersions").lidPnMappingRemoveDisplayName(),[b("displayName")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaMediaPlaybackEvent",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addAutoIncrementingPrimaryKey;a.add("media-playback-event").version(d("WAWebModelStorageVersions").mediaPlaybackEventCreateTable(),[b("id"),c("event")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("media-playback-event")}g.addTable=a;g.getMediaPlaybackEventTable=b}),98);
__d("WAWebSchemaMemberLabel",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){var h="member-label";function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add(h).version(d("WAWebModelStorageVersions").memberLabelCreateTable(),[b("chatId"),c("memberLabelMap")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table(h)}g.addTable=a;g.getMemberLabelTable=b}),98);
__d("WAWebSchemaMessageHistory",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("message-history").version(d("WAWebModelStorageVersions").messageHistoryCreateTable(),[e("msgKey"),c("parentMsgKey"),b("parentMsgKey")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaMessageInfo",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositePrimaryKey;b=b.addIndex;a.add("message-info").version(d("WAWebModelStorageVersions").messageInfoCreateTable(),[e(["msgKey","receiverUserJid"]),c("delivery"),c("read"),c("played"),c("deviceDelivered"),c("deviceNotDelivered"),b("msgKey")]).version(d("WAWebModelStorageVersions").messageInfoAddDeliveryPrivacyMode(),[c("deliveryPrivacyMode")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("message-info")}g.addTable=a;g.getMessageInfoTable=b}),98);
__d("WAWebSchemaMissingKeys",["WASyncdKeyTypes","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(a){var b=a.keyHex,c=a.keyId,e=a.timestamp;a=a.deviceResponses;return{keyHex:b,keyId:d("WASyncdKeyTypes").toSyncKeyId(c),timestamp:e,deviceResponses:a}}function b(a){var b=a.keyHex,c=a.keyId,e=a.timestamp;a=a.deviceResponses;return{keyHex:b,keyId:d("WASyncdKeyTypes").fromSyncKeyId(c),timestamp:e,deviceResponses:a}}function c(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("missing-keys").version(d("WAWebModelStorageVersions").missingKeysCreateTable(),[b("keyHex"),c("keyId"),c("timestamp"),c("deviceResponses")]).view(function(a){return a})}function e(){return d("WAWebModelStorageUtils").getStorage().table("missing-keys")}g.convertToMissingKeyFromRow=a;g.convertFromMissingKeyToRow=b;g.addTable=c;g.getMissingKeysTable=e}),98);
__d("WAWebSchemaNewsletterMetadata",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("newsletter-metadata").version(d("WAWebModelStorageVersions").newsletterMetadataCreateTable(),[b("id"),c("creationTime"),c("name"),c("nameUpdateTime"),c("description"),c("descriptionUpdateTime"),c("handle"),c("inviteCode"),c("size"),c("verified"),c("membershipType"),c("privacy"),c("website"),c("reactionCodesSetting"),c("suspended"),c("geosuspended"),c("terminated"),c("adminCount"),c("capabilities"),c("messageDeliveryUpdates"),c("geosuspendedCountries"),c("hasProfilePictureDeletionAlerts"),c("wamoSubPlanId"),c("wamoSubStatus")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("newsletter-metadata")}g.addTable=a;g.getNewsletterMetadataTable=b}),98);
__d("WAWebSchemaNewsletterMyVotes",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addCompositePrimaryKey;a.add("newsletter-my-votes").version(d("WAWebModelStorageVersions").newsletterMyVotesCreateTable(),[b(["chatJid","msgServerId"]),c("serverTimestampMs"),c("votes"),c("ack"),c("t"),c("read"),c("msgKey")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("newsletter-my-votes")}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaNewsletterPollsVotes",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("newsletter-polls-votes").version(d("WAWebModelStorageVersions").newsletterPollsVotesCreateTable(),[b("parentMsgKey"),c("serverTimestamp"),c("votesMap")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("newsletter-polls-votes")}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaNewsletterReactions",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("newsletter-reactions").version(d("WAWebModelStorageVersions").newsletterReactionsCreateTable(),[b("parentMsgKey"),c("emojiCountMap"),c("serverTimestamp")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("newsletter-reactions")}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaNonMessageDataRequest",["$InternalEnum","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){e=b("$InternalEnum").Mirrored(["SEND_REQUEST","MEDIA_UPLOAD"]);function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("non-message-data-request").version(d("WAWebModelStorageVersions").nonMessageDataRequestCreateTable(),[b("id"),c("fileKey"),c("requestType"),c("operationType"),c("lastRequestTimeStampSec"),c("requestRetryCount"),c("responseError"),c("lastMediaUploadTimeStampSec"),c("lastMediaUploadSuccess"),c("mediaUploadFailureCount")]).view(function(a){return a})}function c(){return d("WAWebModelStorageUtils").getStorage().table("non-message-data-request")}g.DataRequestUploadOperationType=e;g.addTable=a;g.getNonMessageDataRequestTable=c}),98);
__d("WAWebSchemaNote",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("note").version(d("WAWebModelStorageVersions").noteCreateTable(),[e("id"),c("type"),b("type"),c("chatJid"),b("chatJid"),c("content"),c("createdAt"),c("modifiedAt")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("note")}g.addTable=a;g.getNoteTable=b}),98);
__d("WAWebSchemaOptOutList",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config);b=b.addUserDefinedPrimaryKey;a.add("optoutlist").version(d("WAWebModelStorageVersions").optOutListCreateTable(),[b("id")]).view(function(a){return{id:a.id}})}function b(){return d("WAWebModelStorageUtils").getStorage().table("optoutlist")}g.addTable=a;g.getOptOutListTable=b}),98);
__d("WAWebSchemaOrphanPaymentNotification",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("orphan-payment-notification").version(d("WAWebModelStorageVersions").orphanPaymentNotificationCreateTable(),[b("msgKey"),c("receiver"),c("currency"),c("amount1000"),c("type"),c("status"),c("ts")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("orphan-payment-notification")}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaOrphanReceipt",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("orphan-receipt").version(d("WAWebModelStorageVersions").orphanReceiptCreateTable(),[b("msgKey"),c("delivery"),c("read"),c("played")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("orphan-receipt")}g.addTable=a;g.getOrphanReceiptTable=b}),98);
__d("WAWebSchemaOrphanRevoke",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("orphan-revoke").version(d("WAWebModelStorageVersions").orphanRevokeCreateTable(),[b("msgKey"),c("sender"),c("timestamp"),c("subtype")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("orphan-revoke")}g.addTable=a;g.getOrphanRevokeTable=b}),98);
__d("WAWebSchemaOrphanTcToken",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addEncryptedColumn;b=b.addUserDefinedPrimaryKey;a.add("orphan-tc-token").version(d("WAWebModelStorageVersions").orphanTcTokenCreateTable(),[b("chatId"),e("tcToken",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),c("tcTokenTimestamp")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("orphan-tc-token")}g.addTable=a;g.getOrphanTcTokenTable=b}),98);
__d("WAWebSchemaPeerMessage",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("peer-message").version(d("WAWebModelStorageVersions").peerMessageCreateTable(),[b("id"),c("to"),c("type"),c("subtype"),c("appStateSyncKeyShare"),c("appStateSyncKeyRequest"),c("appStateFatalExceptionNotification"),c("peerDataOperationRequestMessage"),c("peerDataOperationRequestResponseMessage")]).version(d("WAWebModelStorageVersions").paymentBackgroundsRemovedTablePlaceholder(),[]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("peer-message")}g.addTable=a;g.getPeerMessageTable=b}),98);
__d("WAWebSchemaPendingMutations",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(a){var b=a.id,c=a.collection,d=a.index,e=a.binarySyncAction,f=a.version,g=a.operation,h=a.timestamp;a=a.action;return{id:b,collection:c,index:d,binarySyncAction:e,version:f,operation:g,timestamp:h,action:a}}function b(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addAutoIncrementingPrimaryKey;b=b.addIndex;a.add("pending-mutations").version(d("WAWebModelStorageVersions").pendingMutationsCreateTable(),[e("id"),c("collection"),c("index"),b("index"),c("timestamp"),b("collection"),c("version"),c("operation"),c("binarySyncAction")]).version(d("WAWebModelStorageVersions").addActionToPendingMutations(),[c("action"),b("action")]).view(function(a){return a})}function c(){return d("WAWebModelStorageUtils").getStorage().table("pending-mutations")}g.convertToPendingMutationFromRow=a;g.addTable=b;g.getPendingMutationsTable=c}),98);
__d("WAWebSchemaPrivacyDisallowedList",["$InternalEnum","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){e=b("$InternalEnum")({About:"status",GroupAdd:"groupadd",LastSeen:"last",ProfilePicture:"profile"});function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("privacy-disallowed-list").version(d("WAWebModelStorageVersions").privacyDisallowedListCreateTable(),[b("id"),c("disallowedList")]).version(d("WAWebModelStorageVersions").privacyDisallowedListAddDhashField(),[c("dhash")]).view(function(a){return{id:a.id,disallowedList:a.disallowedList,dhash:a.dhash}})}function c(){return d("WAWebModelStorageUtils").getStorage().table("privacy-disallowed-list")}g.PrivacyDisallowedListType=e;g.addTable=a;g.getPrivacyDisallowedListTable=c}),98);
__d("WAWebSchemaProfilePicThumb",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("profile-pic-thumb").version(d("WAWebModelStorageVersions").profilePicThumbCreateTable(),[b("id"),c("tag"),c("eurl"),c("previewEurl"),c("timestamp"),c("previewDirectPath"),c("fullDirectPath"),c("filehash")]).view(function(a){return{id:a.id,tag:a.tag,eurl:a.eurl,previewEurl:a.previewEurl,timestamp:a.timestamp,previewDirectPath:a.previewDirectPath,fullDirectPath:a.fullDirectPath,filehash:a.filehash}})}function b(){return d("WAWebModelStorageUtils").getStorage().table("profile-pic-thumb")}g.addTable=a;g.getProfilePicThumbTable=b}),98);
__d("WAWebSchemaQuickPromotions",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("quick-promotions").version(d("WAWebModelStorageVersions").quickPromotionsCreateTable(),[e("id"),c("surfaceId"),b("surfaceId"),c("ts"),c("data"),c("tracking"),c("locale")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("quick-promotions")}g.addTable=a;g.getQuickPromotionsTable=b}),98);
__d("WAWebSchemaQuickReply",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("quick-reply").version(d("WAWebModelStorageVersions").quickReplyCreateTable(),[b("id"),c("shortcut"),c("message"),c("count"),c("keywords")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("quick-reply")}g.addTable=a;g.getQuickReplyTable=b}),98);
__d("WAWebSchemaRecentStickers",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("recent-stickers").version(d("WAWebModelStorageVersions").recentStickersCreateTable(),[b("id"),c("timestamp"),c("sticker"),c("msgId"),c("weight"),c("isNewSticker")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("recent-stickers")}g.addTable=a;g.getRecentStickersTable=b}),98);
__d("WAWebSchemaReportingInfo",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addCompositeIndex,f=b.addIndex,g=b.addAutoIncrementingPrimaryKey;b=b.addEncryptedColumn;a.add("reporting-info").version(d("WAWebModelStorageVersions").reportingInfoTable(),[g("id"),c("msgKey"),c("stanzaId"),c("reportingTag"),c("reportingToken"),b("reportingTokenContentOpaqueData",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),c("version"),c("msgTs"),c("receivedTs"),c("reportingTokenKey"),e(["msgKey","msgTs"]),f("receivedTs")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("reporting-info")}g.addTable=a;g.getReportingInfoTable=b}),98);
__d("WAWebSchemaReportingToken",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addIndex;b=b.addUserDefinedPrimaryKey;a.add("reporting-token").version(d("WAWebModelStorageVersions").reportingTokenTable(),[b("id"),c("reportingTag"),c("reportingTokenContent"),c("version")]).version(d("WAWebModelStorageVersions").reportingTokenTableTsIndex(),[c("ts"),e("ts")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("reporting-token")}g.addTable=a;g.getReportingTokenTable=b}),98);
__d("WAWebSchemaStickerDownload",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("sticker-download").version(d("WAWebModelStorageVersions").stickerDownloadCreateTable(),[b("id"),c("timestamp")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("sticker-download")}g.addTable=a;g.getStickerDownloadTable=b}),98);
__d("WAWebSchemaSubgroupSuggestion",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("subgroup-suggestion").version(d("WAWebModelStorageVersions").subgroupSuggestionCreateTable(),[e("id"),c("parentGroupId"),b("parentGroupId"),c("subject"),c("desc"),c("owner"),c("t")]).view(function(a){return a})}g.addTable=a}),98);
__d("WAWebSchemaSubscription",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("subscription").version(d("WAWebModelStorageVersions").subscriptionCreateTable(),[b("id"),c("isDeactivated"),c("isAutoRenewing"),c("expirationDate")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("subscription")}g.addTable=a;g.getSubscriptionTable=b}),98);
__d("WAWebSyncdCollectionHandlerTypesConverter",["WAServerSync.pb","WASyncAction.pb","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionValueSpec,a);return d("encodeProtobuf").encodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,{value:a}).readBuffer()}function a(a,b){return a.map(function(a){var c=h(a.binarySyncAction);return{index:a.index,action:a.action,binarySyncData:c,actionState:b,version:a.version,keyId:a.keyId,indexMac:a.indexMac,valueMac:a.valueMac,collection:a.collection,timestamp:a.timestamp}})}function b(a,b,c,d,e){return{index:a.index,binarySyncData:a.binarySyncData,version:a.version,keyId:a.keyId,indexMac:a.indexMac,valueMac:a.valueMac,collection:a.collection,timestamp:a.timestamp,action:c,actionState:b,modelId:d,modelType:e!=null?e:void 0}}function c(a){return a.map(function(a){return{collection:a.collection,index:a.index,action:a.action,indexMac:a.indexMac,keyId:a.keyId,operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,binarySyncData:a.binarySyncData,valueMac:a.valueMac,version:a.version}})}g.syncActionToSyncData=h;g.encryptedUploadMutationsToSyncActions=a;g.setMutationToSyncAction=b;g.syncActionsToDecryptedMutation=c}),98);
__d("WAWebSchemaSyncActions",["WALogger","WASyncdKeyTypes","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder","WAWebSyncdCollectionHandlerTypesConverter","err"],(function(a,b,c,d,e,f,g){var h;function i(a){var b=a.index,e=a.binarySyncAction,f=a.actionState,g=a.version,i=a.keyId,j=a.modelId,k=a.modelType,l=a.indexMac,m=a.valueMac,n=a.collection,o=a.timestamp,p=a.action;a=a.binarySyncData;if(a==null){if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: binarySyncAction should not be null when binarySyncData is null"]))).tags("syncd").sendLogs("syncd: syncd binarySyncAction should not be null when binarySyncData is null");throw c("err")("syncd: binarySyncAction should not be null when binarySyncData is null")}a=d("WAWebSyncdCollectionHandlerTypesConverter").syncActionToSyncData(e)}return{index:b,binarySyncData:a,actionState:f,version:g,keyId:i,modelId:j,modelType:k,indexMac:l,valueMac:m,collection:n,timestamp:o,action:p}}function a(a){var b=a.keyId;return babelHelpers["extends"]({},a,{keyId:d("WASyncdKeyTypes").toSyncKeyId(b)})}function b(a){a=babelHelpers["extends"]({},a);a.keyId!=null&&(a.keyId=d("WASyncdKeyTypes").fromSyncKeyId(a.keyId));return a}function e(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addUserDefinedPrimaryKey,f=b.addIndex;b=b.addCompositeIndex;a.add("sync-actions").version(d("WAWebModelStorageVersions").syncActionsCreateTable(),[e("index"),c("keyId"),c("version"),c("actionState"),f("actionState"),c("modelId"),c("modelType"),b(["modelId","modelType","actionState"]),c("valueMac"),c("indexMac"),f("indexMac"),c("collection"),f("collection"),c("timestamp"),c("action"),f("action"),c("binarySyncAction"),c("binarySyncData")]).view(i)}function f(){return d("WAWebModelStorageUtils").getStorage().table("sync-actions")}g.convertToSyncActionFromRow=a;g.convertFromSyncActionToRow=b;g.addTable=e;g.getSyncActionsTable=f}),98);
__d("WAWebSchemaSyncKeys",["WASyncdKeyTypes","WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder","WAWebStorageSchema"],(function(a,b,c,d,e,f,g){function a(a){var b=a.keyId,c=a.keyData;return babelHelpers["extends"]({},a,{keyId:d("WASyncdKeyTypes").toSyncKeyId(b.buffer),keyData:d("WASyncdKeyTypes").toSyncKeyData(c)})}function b(a){var b=a.keyId,c=a.keyData;return babelHelpers["extends"]({},a,{keyId:new Uint8Array(d("WASyncdKeyTypes").fromSyncKeyId(b)),keyData:d("WASyncdKeyTypes").fromSyncKeyData(c)})}function c(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn,e=b.addEncryptedColumn,f=b.addUserDefinedPrimaryKey;b=b.addIndex;a.add("sync-keys").version(d("WAWebModelStorageVersions").syncKeysCreateTable(),[f("keyId"),c("timestamp"),c("fingerprint"),e("keyData",d("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),c("keyEpoch"),b("keyEpoch")]).view(function(a){return a})}function e(){return d("WAWebModelStorageUtils").getStorage().table("sync-keys")}g.convertToSyncKeyFromRow=a;g.convertFromSyncKeyToRow=b;g.addTable=c;g.getSyncKeysTable=e}),98);
__d("WAWebSchemaTasksScheduledTime",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add("tasks-scheduled-time").version(d("WAWebModelStorageVersions").tasksScheduledTimeCreateTable(),[b("taskName"),c("time")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table("tasks-scheduled-time")}g.addTable=a;g.getTasksScheduledTimeTable=b}),98);
__d("WAWebSchemaThreadsMetadata",["WAWebModelStorageUtils","WAWebModelStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){var h="thread-metadata";function a(){var a=d("WAWebModelStorageUtils").getStorage(),b=d("WAWebStorageMutationBuilder").columnBuilder(a.config),c=b.addColumn;b=b.addUserDefinedPrimaryKey;a.add(h).version(d("WAWebModelStorageVersions").threadsMetadataCreateTable(),[b("id"),c("aiThreadInfo")]).view(function(a){return a})}function b(){return d("WAWebModelStorageUtils").getStorage().table(h)}g.addTable=a;g.getThreadsMetadataTable=b}),98);
__d("WAWebUserPrefsDBSettings",["WAWebUserPrefsCacheStorage","WAWebUserPrefsKeys","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a!=null?yield d("WAWebUserPrefsCacheStorage").userPrefsCacheStorage.setItemToCacheStorage(d("WAWebUserPrefsKeys").MD_KEYS.COLUMN_PACKING_ENABLED,a):yield d("WAWebUserPrefsCacheStorage").userPrefsCacheStorage.removeItemFromCacheStorage(d("WAWebUserPrefsKeys").MD_KEYS.COLUMN_PACKING_ENABLED)});return h.apply(this,arguments)}function c(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebUserPrefsCacheStorage").userPrefsCacheStorage.getItemFromCacheStorage(d("WAWebUserPrefsKeys").MD_KEYS.COLUMN_PACKING_ENABLED));return a});return i.apply(this,arguments)}g.setColumnPackingValueToStorage=a;g.getColumnPackingValueFromStorage=c}),98);
__d("WAWebStorageGatingUtils",["WALogger","WAWebModelStorageUtils","WAWebUserPrefsDBSettings","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebModelStorageUtils").storageExists());if(b){b=(yield d("WAWebUserPrefsDBSettings").getColumnPackingValueFromStorage());if(b==null){yield d("WAWebUserPrefsDBSettings").setColumnPackingValueToStorage(!1);return!1}return b}if(!c("gkx")("26258")&&URLSearchParams){b=new URLSearchParams(window.location.search);b=b.get("pack");if(b!=null){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[column-serialization] enabled from url request"])));yield d("WAWebUserPrefsDBSettings").setColumnPackingValueToStorage(b==="true"||b==="1");return!0}}yield d("WAWebUserPrefsDBSettings").setColumnPackingValueToStorage(a);return a});return i.apply(this,arguments)}g.columnPackingEnabled=a}),98);
__d("WAWebModelStorageInitialize",["WALogger","WAWeb-dexie","WAWebAccountLinkingSchema","WAWebCommentSchema","WAWebDbRolloutUtil","WAWebDexieCastTypes","WAWebEventResponsesSchema","WAWebModelStorageUtils","WAWebPinInChatSchema","WAWebPollsVotesSchema","WAWebPremiumMessageSchema","WAWebSchemaACSTokens","WAWebSchemaAbPropConfig","WAWebSchemaAbPropEventSamplingConfig","WAWebSchemaActiveMessageRanges","WAWebSchemaAgent","WAWebSchemaBlocklist","WAWebSchemaBotProfile","WAWebSchemaBusinessProfile","WAWebSchemaCTWASuggestion","WAWebSchemaCart","WAWebSchemaChat","WAWebSchemaChatAssignment","WAWebSchemaChatThreadLoggingPendingEvents","WAWebSchemaCollectionVersion","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSchemaDeviceList","WAWebSchemaDirectConnectionKeys","WAWebSchemaDownload3PDSignals","WAWebSchemaEncryptedMutations","WAWebSchemaFavorite","WAWebSchemaFavoriteStickers","WAWebSchemaFtsIndexingQueue","WAWebSchemaGroupInviteV4","WAWebSchemaGroupMetadata","WAWebSchemaHistorySyncNotification","WAWebSchemaInAppBanner","WAWebSchemaInactiveReceipt_DEPRECATED","WAWebSchemaLabel","WAWebSchemaLabelAssociation","WAWebSchemaLidChatState","WAWebSchemaLidDisplayNameMapping","WAWebSchemaLidPnMapping_DEPRECATED","WAWebSchemaMediaPlaybackEvent","WAWebSchemaMemberLabel","WAWebSchemaMembershipApprovalRequest","WAWebSchemaMessage","WAWebSchemaMessageAssociation","WAWebSchemaMessageHistory","WAWebSchemaMessageInfo","WAWebSchemaMessageOrphans","WAWebSchemaMissingKeys","WAWebSchemaNewsletterMetadata","WAWebSchemaNewsletterMyVotes","WAWebSchemaNewsletterPollsVotes","WAWebSchemaNewsletterReactions","WAWebSchemaNonMessageDataRequest","WAWebSchemaNote","WAWebSchemaOptOutList","WAWebSchemaOrphanPaymentNotification","WAWebSchemaOrphanReceipt","WAWebSchemaOrphanRevoke","WAWebSchemaOrphanTcToken","WAWebSchemaParticipant","WAWebSchemaPeerMessage","WAWebSchemaPendingMutations","WAWebSchemaPrivacyDisallowedList","WAWebSchemaProfilePicThumb","WAWebSchemaQuickPromotions","WAWebSchemaQuickReply","WAWebSchemaReactions","WAWebSchemaRecentStickers","WAWebSchemaReportingInfo","WAWebSchemaReportingToken","WAWebSchemaSelfAddonMessageTypeTable","WAWebSchemaStickerDownload","WAWebSchemaSubgroupSuggestion","WAWebSchemaSubgroupSuggestionV2","WAWebSchemaSubscription","WAWebSchemaSyncActions","WAWebSchemaSyncKeys","WAWebSchemaSyncdLogs","WAWebSchemaTasksScheduledTime","WAWebSchemaThreadsMetadata","WAWebSchemaUnifiedAddons","WAWebSchemaUnjoinedSubgroupMetadata","WAWebSchemaUserPrefs","WAWebSchemaVerifiedBusinessName","WAWebStorage","WAWebStorageGatingUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(i==null){yield d("WAWebDbRolloutUtil").loadSchemaVersions();a=(yield d("WAWebStorageGatingUtils").columnPackingEnabled(!!(a!=null&&a.canPackColumns)));d("WAWebModelStorageUtils").createStorage({packColumns:a});d("WAWebSchemaAbPropConfig").addTable();d("WAWebSchemaAbPropEventSamplingConfig").addTable();d("WAWebSchemaActiveMessageRanges").addTable();d("WAWebSchemaAgent").addTable();d("WAWebSchemaBlocklist").addTable();d("WAWebSchemaOptOutList").addTable();d("WAWebSchemaBotProfile").addTable();d("WAWebSchemaCart").addTable();d("WAWebSchemaChat").addTable();d("WAWebSchemaChatAssignment").addTable();d("WAWebSchemaChatThreadLoggingPendingEvents").addTable();d("WAWebSchemaCollectionVersion").addTable();d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").addTable();d("WAWebSchemaDeviceList").addTable();d("WAWebSchemaDirectConnectionKeys").addTable();d("WAWebSchemaEncryptedMutations").addTable();d("WAWebSchemaFavorite").addTable();d("WAWebSchemaFavoriteStickers").addTable();d("WAWebSchemaFtsIndexingQueue").addTable();d("WAWebSchemaGroupInviteV4").addTable();d("WAWebSchemaGroupMetadata").addTable();d("WAWebSchemaHistorySyncNotification").addTable();d("WAWebSchemaInactiveReceipt_DEPRECATED").addTable();d("WAWebSchemaLabelAssociation").addTable();d("WAWebSchemaLabel").addTable();d("WAWebSchemaLidDisplayNameMapping").addTable();d("WAWebSchemaLidPnMapping_DEPRECATED").addTable();d("WAWebSchemaLidChatState").addTable();d("WAWebSchemaMessage").addTable();d("WAWebSchemaMessageHistory").addTable();d("WAWebSchemaMissingKeys").addTable();d("WAWebSchemaMessageInfo").addTable();d("WAWebSchemaOrphanPaymentNotification").addTable();d("WAWebSchemaOrphanReceipt").addTable();d("WAWebSchemaOrphanRevoke").addTable();d("WAWebSchemaOrphanTcToken").addTable();d("WAWebSchemaParticipant").addTable();d("WAWebSchemaPeerMessage").addTable();d("WAWebSchemaPendingMutations").addTable();d("WAWebPollsVotesSchema").addTable();d("WAWebSchemaPrivacyDisallowedList").addTable();d("WAWebSchemaProfilePicThumb").addTable();d("WAWebSchemaQuickReply").addTable();d("WAWebSchemaReactions").addTable();d("WAWebSchemaRecentStickers").addTable();d("WAWebSchemaSubscription").addTable();d("WAWebSchemaSyncActions").addTable();d("WAWebSchemaSyncKeys").addTable();d("WAWebSchemaTasksScheduledTime").addTable();d("WAWebSchemaUnjoinedSubgroupMetadata").addTable();d("WAWebSchemaUserPrefs").addTable();d("WAWebSchemaVerifiedBusinessName").addTable();d("WAWebSchemaMessageOrphans").addTable();d("WAWebSchemaMembershipApprovalRequest").addTable();d("WAWebSchemaNonMessageDataRequest").addTable();d("WAWebSchemaCTWASuggestion").addTable();d("WAWebPinInChatSchema").addTable();d("WAWebSchemaInAppBanner").addTable();d("WAWebSchemaNewsletterMetadata").addTable();d("WAWebPremiumMessageSchema").addTable();d("WAWebSchemaQuickPromotions").addTable();d("WAWebSchemaSubgroupSuggestion").addTable();d("WAWebSchemaNewsletterReactions").addTable();d("WAWebSchemaSelfAddonMessageTypeTable").addTable();d("WAWebSchemaSubgroupSuggestionV2").addTable();d("WAWebSchemaSyncdLogs").addTable();d("WAWebCommentSchema").addTable();d("WAWebSchemaBusinessProfile").addTable();d("WAWebSchemaNewsletterMyVotes").addTable();d("WAWebSchemaNewsletterPollsVotes").addTable();d("WAWebSchemaReportingToken").addTable();d("WAWebEventResponsesSchema").addTable();d("WAWebSchemaNote").addTable();d("WAWebSchemaUnifiedAddons").addTable();d("WAWebSchemaReportingInfo").addTable();d("WAWebSchemaMessageAssociation").addTable();d("WAWebSchemaStickerDownload").addTable();d("WAWebSchemaACSTokens").addTable();d("WAWebSchemaMediaPlaybackEvent").addTable();d("WAWebSchemaDownload3PDSignals").addTable();d("WAWebAccountLinkingSchema").addTable();d("WAWebSchemaMemberLabel").addTable();d("WAWebSchemaThreadsMetadata").addTable();i=d("WAWebModelStorageUtils").getStorage().initialize()["catch"](function(a){var b="Unknown error";a instanceof d("WAWebStorage").AlreadyInitializedError||a instanceof d("WAWebStorage").NoSuchDatabaseError?b=a.toString():a instanceof c("WAWeb-dexie").DexieError&&(b="Unknown DexieError");d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to initialize model storage: ",""])),b).verbose().devConsole(a).sendLogs("failed-to-initialize-model-storage",{sendLogsType:d("WALogger").SendLogsType.CRASH_OR_UNRECOVERABLE_ERROR_SAD});throw a})}return i});return j.apply(this,arguments)}function e(){return d("WAWebModelStorageUtils").destroyStorage()["catch"](function(){return d("WAWebDexieCastTypes").dexieCastToPromise(new(c("WAWeb-dexie"))(d("WAWebModelStorageUtils").DATABASE_NAME)["delete"]())})["finally"](function(){i=null})}function f(){i=null}g.initializeWithoutGKs=a;g.destroy=e;g.clearInitializePromise=f}),98);
__d("isPlainObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.prototype.toString.call(a)==="[object Object]"}f["default"]=a}),66);
__d("WAWebModernizr",[],(function(a,b,c,d,e,f){function a(){return self.Modernizr}f.getModernizr=a}),66);
__d("WAWebMexEventV2WamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MexEventV2:[4336,{mexEventV2DurationMs:[1,a.TYPES.TIMER],mexEventV2EndTime:[2,a.TYPES.INTEGER],mexEventV2ErrorCodes:[3,a.TYPES.STRING],mexEventV2Errors:[4,a.TYPES.STRING],mexEventV2ExperimentFlag:[12,a.TYPES.INTEGER],mexEventV2HasData:[5,a.TYPES.BOOLEAN],mexEventV2IsArgoPayload:[10,a.TYPES.BOOLEAN],mexEventV2IsMex:[6,a.TYPES.BOOLEAN],mexEventV2OperationName:[7,a.TYPES.STRING],mexEventV2QueryId:[8,a.TYPES.STRING],mexEventV2StartTime:[9,a.TYPES.INTEGER],mexFbUserType:[11,a.TYPES.STRING]},[1,1,1],"regular"]},{MexEventV2:[]});g.MexEventV2WamEvent=b}),98);
__d("WAWebMexLogging",["WALogger","WAWebMexEventV2WamEvent"],(function(a,b,c,d,e,f,g){var h;c=function(){function a(a){this.$1=!1,this.$2="",this.$3="",this.$4=-1,this.$5=-1,this.$6=-1,this.$7=!1,this.$8="",this.$9="",this.$1=a}var b=a.prototype;b.start=function(){this.$4=Date.now()};b.stop=function(){this.$5=Date.now(),this.$6=this.$5-this.$4};b.setQueryId=function(a){a!=null&&(this.$3=a)};b.setOperationName=function(a){a!=null&&(this.$2=a)};b.setHasData=function(a){this.$7=a};b.setErrors=function(a){if(a!=null){a=this.parseErrorsAndCodes(a);this.$8=a.errors;this.$9=a.errorCodes}};b.setExtensionErrors=function(a){if(a!=null){a=a.filter(function(a){return((a=a.extensions)==null?void 0:a.error_code)!=null}).map(function(a){return i(a.extensions.error_code,a.message)});this.setErrors(a)}};b.logEvent=function(){var a={mexEventV2DurationMs:this.$6,mexEventV2EndTime:this.$5,mexEventV2ErrorCodes:this.$9,mexEventV2Errors:this.$8,mexEventV2HasData:this.$7,mexEventV2IsMex:this.$1,mexEventV2OperationName:this.$2,mexEventV2QueryId:this.$3,mexEventV2StartTime:this.$4};d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[MEX][MexPerfTracker] Logging event:"]))).tags("GQL","MEX").devConsole(a);new(d("WAWebMexEventV2WamEvent").MexEventV2WamEvent)(a).commit()};b.parseErrorsAndCodes=function(a){var b=a.map(function(a){return a.code});return{errors:JSON.stringify(a),errorCodes:JSON.stringify(b)}};return a}();function i(a,b){return{code:a,detail:b,type:"EXTENSION"}}function a(a,b){return{code:a,detail:b,type:"CLIENT"}}function b(a,b){return{code:a,detail:b,type:"TRANSPORT"}}g.MexPerfTracker=c;g.createLoggingClientError=a;g.createLoggingTransportError=b}),98);
__d("WAWebMexRelayEnvironment",["WABinary","WADeprecatedSendIq","WADeprecatedWapParser","WANullthrows","WAWap","WAWebMexLogging","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a,b){var e;b!=null&&(e={query_id:d("WAWap").CUSTOM_STRING(b)});return d("WADeprecatedSendIq").deprecatedSendIq(d("WAWap").wap("iq",{id:d("WAWap").generateId(),to:d("WAWap").S_WHATSAPP_NET,type:"get",xmlns:"w:mex"},new(d("WAWap").WapNode)("query",e,d("WABinary").Binary.build(JSON.stringify(a)).readByteArrayView())),new(c("WADeprecatedWapParser"))("mexParser",function(a){return new TextDecoder("utf-8").decode(a.child("result").contentBytes())}))}var i=function(a){function b(b,c){var d;d=a.call(this)||this;d.name="MexIqError";d.code=b;d.message=c;return d}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),j=function(a){function b(b){var c;c=a.call(this)||this;c.name="MexPayloadParsingError";c.error=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),k=function(a){function b(b){var c;c=a.call(this)||this;c.name="MexFatalExtensionError";c.error=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=(e=e.metadata)==null?void 0:e.mexPerfTracker;e=e instanceof d("WAWebMexLogging").MexPerfTracker?e:null;e!=null&&(e.setQueryId(a.id),e.setOperationName(a.name));b={variables:b};b=(yield n(b,c("WANullthrows")(a.id),e));if(!b.success){e!=null&&(e.setHasData(!1),e.setErrors([d("WAWebMexLogging").createLoggingTransportError(b.errorCode,b.errorText)]));throw new i(b.errorCode,b.errorText)}a={};try{a=JSON.parse(b.result)}catch(a){e!=null&&(e.setHasData(!1),e.setErrors([d("WAWebMexLogging").createLoggingClientError(472,a.message)]));throw new j(a)}b=a;e!=null&&(e.setHasData(b.data!=null),e.setExtensionErrors(b.errors));e=m(b.errors);if(e!=null)throw new k(e);return a});return l.apply(this,arguments)}function m(a){var b;if(a==null||a.length===0)return null;b=(b=a.find(function(a){return((a=a.extensions)==null?void 0:a.is_summary)===!0}))!=null?b:a.find(function(a){return((a=a.extensions)==null?void 0:a.error_code)!=null});if(b==null){a=a[0];a.extensions.error_code=500;return a}return b}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){try{return yield h(a,b)}catch(a){c!=null&&(c.setHasData(!1),c.setErrors([d("WAWebMexLogging").createLoggingClientError(471,a.message)]));throw new i(500,a.message)}});return o.apply(this,arguments)}g.sendMexIq=h;g.MexIqError=i;g.MexPayloadParsingError=j;g.MexFatalExtensionError=k;g.fetchFunc=a;g.parseFatalExtensionError=m}),98);
__d("WAWebJobOrchestratorHelper",[],(function(a,b,c,d,e,f){function g(a,b){return b instanceof Map||b instanceof Set?Array.from(b):b}function a(a,b){var c;if(a.maxConcurrency!==b.maxConcurrency)return!0;if(((c=a.jobPrioritiesQuota)==null?void 0:c.size)!==((c=b.jobPrioritiesQuota)==null?void 0:c.size))return!0;return Object.keys((c=a.maxConcurrencyPerJob)!=null?c:{}).length!==Object.keys((c=b.maxConcurrencyPerJob)!=null?c:{}).length?!0:JSON.stringify(a,g)!==JSON.stringify(b,g)}f.hasConfigChanged=a}),66);
__d("WAWebOrchestratorJobInfoEvent",[],(function(a,b,c,d,e,f){a=function(){function a(a,b,c,d){this.jobName=a,this.scenario=d,this.pendingJobsCount=c,this.jobPriority=b}var b=a.prototype;b.logJobAdded=function(){this.webcJobAddedT=Date.now()};b.logJobStarted=function(){this.webcJobStartedT=Date.now()};b.logJobCompleted=function(a){this.webcJobCompletedT=Date.now(),this.jobResultType=a};return a}();f.JobInfoEvent=a}),66);
__d("WAWebWamEnumWebcJobResultTypeCode",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPLETED:0,ERROR:1,TIMEOUT:2,ABORTED:3});f.WEBC_JOB_RESULT_TYPE_CODE=a}),66);
__d("WAWebWebcJobInfoWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcJobResultTypeCode","WAWebWamEnumWebcScenarioType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcJobInfo:[3054,{jobName:[1,a.TYPES.STRING],jobPriority:[2,a.TYPES.STRING],jobResultType:[5,d("WAWebWamEnumWebcJobResultTypeCode").WEBC_JOB_RESULT_TYPE_CODE],pendingJobsCount:[4,a.TYPES.INTEGER],scenario:[3,d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE],webcJobAddedT:[6,a.TYPES.INTEGER],webcJobCompletedT:[8,a.TYPES.INTEGER],webcJobStartedT:[7,a.TYPES.INTEGER]},[1,1,1],"regular"]},{WebcJobInfo:[]});g.WebcJobInfoWamEvent=b}),98);
__d("WAWebOrchestratorJobStatsLogger",["WALogger","WAWebBrokerGlobalAppState","WAWebOrchestratorJobInfoEvent","WAWebWamEnumWebcJobResultTypeCode","WAWebWamEnumWebcScenarioType","WAWebWebcJobInfoWamEvent","cr:4324","gkx"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(){this.$1=new Map()}var e=a.prototype;e.logJobCreated=function(a){if(c("gkx")("26258"))return;var b=a.jobName,e=a.jobId,f=a.jobPriority;a=a.pendingJobsCount;var g=c("WAWebBrokerGlobalAppState").getCurrentScenario();b=new(d("WAWebOrchestratorJobInfoEvent").JobInfoEvent)(b,f,a,g);b.logJobAdded();this.$1.set(e,b)};e.logJobStarted=function(a){if(c("gkx")("26258"))return;a=this.$1.get(a);a==null||a.logJobStarted()};e.logJobCompleted=function(a){this.$2(a,d("WAWebWamEnumWebcJobResultTypeCode").WEBC_JOB_RESULT_TYPE_CODE.COMPLETED)};e.logJobError=function(a){this.$2(a,d("WAWebWamEnumWebcJobResultTypeCode").WEBC_JOB_RESULT_TYPE_CODE.ERROR)};e.logJobTimeout=function(a){this.$2(a,d("WAWebWamEnumWebcJobResultTypeCode").WEBC_JOB_RESULT_TYPE_CODE.TIMEOUT)};e.logJobAborted=function(a){this.$2(a,d("WAWebWamEnumWebcJobResultTypeCode").WEBC_JOB_RESULT_TYPE_CODE.ABORTED)};e.$2=function(a,b){if(c("gkx")("26258"))return;var d=this.$1.get(a);d==null||d.logJobCompleted(b);this.$3(d);this.$1["delete"](a)};e.$3=function(a){if(!a)return;var c=a.jobName,e=a.webcJobCompletedT,f=a.webcJobStartedT,g=a.webcJobAddedT,i=a.jobResultType;e=e-f;f=f-g;g=i===d("WAWebWamEnumWebcJobResultTypeCode").WEBC_JOB_RESULT_TYPE_CODE.COMPLETED;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestrator] "," execution time: "," ms, waiting time: "," ms, success: ",""])),c,e,f,g);i=new(d("WAWebWebcJobInfoWamEvent").WebcJobInfoWamEvent)({jobName:a.jobName,jobPriority:a.jobPriority,jobResultType:a.jobResultType,pendingJobsCount:a.pendingJobsCount,scenario:a.scenario,webcJobAddedT:a.webcJobAddedT,webcJobCompletedT:a.webcJobCompletedT,webcJobStartedT:a.webcJobStartedT});if(i.scenario===d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE){f=(e=b("cr:4324")==null?void 0:b("cr:4324").JOB_EVENT_SAMPLING_RATE[c])!=null?e:1;i.weight=f}i.commit()};return a}();g.JobStatsLogger=a}),98);
__d("WAWebJobOrchestrator",["WAConcurrentBucketJobQueue","WADefaultJobNoQueue","WAJobOrchestratorTypes","WALogger","WATimeUtils","WAWebBrokerGlobalAppState","WAWebJobOrchestratorHelper","WAWebOrchestratorJobStatsLogger","WAWebWamEnumWebcScenarioType"],(function(a,b,c,d,e,f,g){var h,i={maxConcurrency:1,bestEffortWaitTimeoutSec:d("WATimeUtils").FIVE_MINUTES,jobPrioritiesQuota:new Map([[(b=d("WAJobOrchestratorTypes")).JOB_PRIORITY.HIGH,5],[b.JOB_PRIORITY.LOW,1],[b.JOB_PRIORITY.OFFLINE,3],[b.JOB_PRIORITY.HISTORY_SYNC,1]])},j={maxConcurrency:1,bestEffortWaitTimeoutSec:d("WATimeUtils").FIVE_MINUTES,jobPrioritiesQuota:new Map([[b.JOB_PRIORITY.HIGH,5],[b.JOB_PRIORITY.LOW,1],[b.JOB_PRIORITY.OFFLINE,1],[b.JOB_PRIORITY.HISTORY_SYNC,1]])},k="default",l="bucket";function m(){var a=c("WAWebBrokerGlobalAppState").getCurrentScenario();if(a===d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE)return i;return a===d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.OFFLINE_RESUME?j:i}var n=i,o;function p(){o||(o=new(d("WAWebOrchestratorJobStatsLogger").JobStatsLogger)());return o}var q={};function a(a){a===void 0&&(a=!1);a=a?k:l;var b=m(),c;if(q[a]){d("WAWebJobOrchestratorHelper").hasConfigChanged(n,b)&&(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestrator] config changed "]))),n=b,q[a].updateConfig(b));return q[a]}switch(a){case"bucket":c=new(d("WAConcurrentBucketJobQueue").WAConcurrentBucketJobQueue)();break;default:c=new(d("WADefaultJobNoQueue").WADefaultJobNoQueue)();break}c.init(b,p());q[a]=c;n=b;return c}g.getInstance=a}),98);
__d("WAWebOrchestratorNonPersistedJob",["WAJobOrchestratorTypes","WAWebJobOrchestrator","err"],(function(a,b,c,d,e,f,g){function a(a,b,e){if(typeof b!=="function")throw c("err")("getNonPersistJob got invalid function param");var f=d("WAWebJobOrchestrator").getInstance((e==null?void 0:e.priority)===d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP);return{fireAndForget:function(){var c=arguments;f.enqueue(a,function(){return b.apply(null,c)},e)},waitUntilCompleted:function(){var c=arguments,d=f.enqueue(a,function(){return b.apply(null,c)},e);return d}}}g.createNonPersistedJob=a}),98);
__d("WAWebEmojiCompile",["WATrie","escapeRegex","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){function a(a){a=c("WATrie").fromForwardsStrings(a.sort(function(a,b){return b.length-a.length}).map(function(a){return""+a+i}));return h(null,a,null,0)}function h(a,b,d,e,f){var g=[],k=!1,l=f;if(l==null&&!c("isStringNullOrEmpty")(a))if(e===1){f=j.has(a);f&&(l=!0)}else!c("isStringNullOrEmpty")(d)&&e===2&&(l=j.has(d+a));b.getChildren().forEach(function(b){if(b.prefix===i){k=!0;return}g.push(h(b.prefix,b.node,a,e+1,l))});f=a===String.fromCodePoint(65039)&&d!=null&&l!==!0?String.fromCodePoint(65039)+"?":c("escapeRegex")(a||"");b=g.length===0?"":"(?:"+g.join("|")+")";b&&k&&(b+="?");return""+f+b}var i="\n",j=new Set([String.fromCodePoint(169),String.fromCodePoint(174),String.fromCodePoint(8482),String.fromCodePoint(9823),String.fromCodePoint(9854),String.fromCodePoint(12336)]);g["default"]=a}),98);
__d("filterNulls",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];for(a of a)a!=null&&b.push(a);return b}f["default"]=a}),66);
__d("WAWebVoipGatingUtils",["WAWebABProps","WAWebEnvironment","cr:9565","gkx"],(function(a,b,c,d,e,f,g){b=(b=b("cr:9565"))!=null?b:{};var h=b.getWindowsBuildType;function a(){return c("WAWebEnvironment").isWindows||d("WAWebABProps").getABPropConfigValue("enable_web_calling")&&c("gkx")("11417")}function i(){return c("WAWebEnvironment").isWindows===!0&&h!==void 0&&h()!=="RELEASE"}function e(){return d("WAWebABProps").getABPropConfigValue("calling_lid_version")===1&&d("WAWebABProps").getABPropConfigValue("enable_calling_username")}function f(){return c("WAWebEnvironment").isWindows?i():!1}g.isCallingEnabled=a;g.callLinksEnabledOnWindowsHybrid=i;g.usernameCallingEnabled=e;g.callLinksEnabled=f}),98);
__d("isEmptyObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(a in a)return!1;return!0}f["default"]=a}),66);
__d("WAWebOrderStatusButton",["WAWebMsgType"],(function(a,b,c,d,e,f,g){a=function(a){if(a.type!==d("WAWebMsgType").MSG_TYPE.INTERACTIVE)return null;a=(a=a.interactivePayload)==null||(a=a.buttons)==null?void 0:a[0];return h(a)};var h=function(a){if((a==null?void 0:a.name)!=="order_status")return null;a=a==null?void 0:a.buttonParamsJson;if(a==null)return null;try{a=JSON.parse(a);return a}catch(a){return null}};g.getOrderStatusButton=a;g.parseOrderStatusButton=h}),98);
__d("parseJSONMixed",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a==null?null:JSON.parse(a,b)}f["default"]=a}),66);
__d("tryParseJSONMixed",["parseJSONMixed"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){try{return c("parseJSONMixed")(a,b)}catch(a){return null}}g["default"]=a}),98);
__d("WAWebUserPrefsMultiDeviceDebug",["WAWebUserPrefsDebugKeys","WAWebUserPrefsStore","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(a){return typeof a==="string"?a:void 0}function i(a){return typeof a==="number"?a:void 0}function a(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_READ_RECEIPT,a)}function b(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_READ_RECEIPT)}function e(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_PASSIVE_MODE,a)}function f(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_PASSIVE_MODE)}function j(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ENABLE_OFFLINE_MOCK,a)}function k(){return!!c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ENABLE_OFFLINE_MOCK)}function l(a){return c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_OFFLINE_MOCK_TRAFFIC,a)}function m(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_OFFLINE_MOCK_TRAFFIC)}function n(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_DECRYPT_FAIL,a)}function o(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_DECRYPT_FAIL))}var p=new Map();function q(a,b){p.set(a.user,b)}function r(a){return(a=p.get(a.user))!=null?a:!1}function s(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_DO_NOT_SEND_RETRY_RECEIPT,a)}function t(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_DO_NOT_SEND_RETRY_RECEIPT))}function u(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ROUTING_TOKEN,a)}function v(){return h(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ROUTING_TOKEN))}function w(a){if(a==null){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE,null);return}var b;a.endsWith("@bot")?b=a:b=a+"@c.us";if(!((a=d("WAWebWidFactory").createWid(b))!=null&&a.isBot()))return;c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE,b)}function x(){return h(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE))}function y(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_IGNORE_PARTICIPANT_ADD,a)}function z(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_IGNORE_PARTICIPANT_ADD))}function A(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").LID_MIGRATION_DEBUG_MODE,a)}function B(){return!!c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").LID_MIGRATION_DEBUG_MODE)}g.setDebugReadReceipt=a;g.getDebugReadReceipt=b;g.setDebugPassiveMode=e;g.getDebugPassiveMode=f;g.setDebugEnableOfflineMock=j;g.getDebugEnableOfflineMock=k;g.setDebugOfflineMockTraffic=l;g.getDebugOfflineMockTraffic=m;g.setDebugDecryptFail=n;g.getDebugDecryptFail=o;g.setDebugEncryptFail=q;g.getDebugEncryptFail=r;g.setDebugDoNotSendRetryReceipt=s;g.getDebugDoNotSendRetryReceipt=t;g.setDebugRoutingTokenPref=u;g.getDebugRoutingTokenPref=v;g.setDebugDefaultBotOverride=w;g.getDebugDefaultBotOverride=x;g.setDebugIgnoreParticipantAdd=y;g.getDebugIgnoreParticipantAdd=z;g.setLidMigrationDebugMode=A;g.getLidMigrationDebugMode=B}),98);
__d("WAWebEmojiConst",["$InternalEnum","WAWebAnimatedEmojiGatingUtils","WAWebMobilePlatforms"],(function(a,b,c,d,e,f,g){c=25;e={SMILEYS_PEOPLE:"SMILEYS_PEOPLE",ANIMALS_NATURE:"ANIMALS_NATURE",FOOD_DRINK:"FOOD_DRINK",ACTIVITY:"ACTIVITY",TRAVEL_PLACES:"TRAVEL_PLACES",OBJECTS:"OBJECTS",SYMBOLS:"SYMBOLS",FLAGS:"FLAGS"};f=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS"];var h={APPLE:"APPLE",WHATSAPP:"WHATSAPP"},i={small:20,large:32};b=b("$InternalEnum").Mirrored(["MEDIUM","LARGE","XLARGE","XLARGE_60"]);var j=[].concat(f,["VARIATION"]),k=["\u2764","\u2665",String.fromCodePoint(129294),String.fromCodePoint(128150),String.fromCodePoint(128420),String.fromCodePoint(128154),String.fromCodePoint(128156),String.fromCodePoint(128151),String.fromCodePoint(128147),String.fromCodePoint(128153),String.fromCodePoint(129293),String.fromCodePoint(128155),String.fromCodePoint(128149),String.fromCodePoint(129505),String.fromCodePoint(10084,65039,8205,128293),String.fromCodePoint(129653),String.fromCodePoint(129654),String.fromCodePoint(129655)],l=[String.fromCodePoint(128536),String.fromCodePoint(10084,65039),String.fromCodePoint(128175),String.fromCodePoint(128514),String.fromCodePoint(129315),String.fromCodePoint(128525),String.fromCodePoint(128522),String.fromCodePoint(128526),String.fromCodePoint(129321),String.fromCodePoint(128149),String.fromCodePoint(128521),String.fromCodePoint(10024)],m=[String.fromCodePoint(129671),String.fromCodePoint(128148),String.fromCodePoint(128079),String.fromCodePoint(128557),String.fromCodePoint(128545),String.fromCodePoint(129318,8205,9794,65039),String.fromCodePoint(128293),String.fromCodePoint(128591),String.fromCodePoint(128556),String.fromCodePoint(128517),String.fromCodePoint(129395),String.fromCodePoint(127881),String.fromCodePoint(128532),String.fromCodePoint(128588),String.fromCodePoint(128536),String.fromCodePoint(128546),String.fromCodePoint(129392),String.fromCodePoint(128536),String.fromCodePoint(128558),String.fromCodePoint(128077),String.fromCodePoint(128075),String.fromCodePoint(127922)],n=[String.fromCodePoint(127950),String.fromCodePoint(127950,65039)],o={AnimatedAsset1FA87:"v1_Maracas_1FA87",AnimatedAsset1F494:"v1_Broken_heart_1F494",AnimatedAsset1F44F:"v2_Clapping_hands_1F44F",AnimatedAsset1F62D:"v1_Cry_1F62D",AnimatedAsset1F621:"v1_Enraged_face_1F621",AnimatedAsset1F926:"v1_Face_palm_1F926",AnimatedAsset1F618:"v1_Faceblownbyakiss_1F618",AnimatedAsset1F525:"v2_Fire_1F525",AnimatedAsset1F64F:"v2_Folded_hands_1F64F",AnimatedAsset1F62C:"v1_Grimacing_face_1F62C",AnimatedAsset1F605:"v1_Grinning_face_with_sweat_1F605",AnimatedAsset2764FE0F:"v1_Heart_2764_FE0F",AnimatedAsset1F4AF:"v1_Hundred_points_1F4AF",AnimatedAsset1F602:"v1_LOL_1F602",AnimatedAsset1F973:"v1_Party_1F973",AnimatedAsset1F389:"v2_Party_popper_1F389",AnimatedAsset1F614:"v1_Pensive_face_1F614",AnimatedAsset1F64C:"v2_Raising_hands_1F64C",AnimatedAsset1F923:"v1_ROFL_1F923",AnimatedAsset1F622:"v1_Sad_tear_1F622",AnimatedAsset1F60D:"v1_Smiling_face_with_heart_eyes_1F60D",AnimatedAsset1F970:"v1_Smiling_face_with_hearts_1F970",AnimatedAsset1F60A:"v1_Smiling_face_with_smiling_eyes_1F60A",AnimatedAsset1F60E:"v1_Smiling_face_with_sunglasses_1F60E",AnimatedAsset1F929:"v1_Star_struck_1F929",AnimatedAsset1F62E:"v1_Surprised_1F62E",AnimatedAsset1F44D:"v1_Thumbs_up_1F44D",AnimatedAsset1F495:"v1_Two_hearts_1F495",AnimatedAsset1F44B:"v1_Waving_hand_1F44B",AnimatedAsset1F609:"v1_Winking_face_1F609",AnimatedAsset1F3B2:"v1_Dice_1_1F3B2",AnimatedAsset2728:"v1_Sparkles_2728",AnimatedAsset1F3CE:"v1_race_car_1F3CE"},p={AnimatedAsset1FA87:"v1_Maracas_1FA87",AnimatedAsset1F494:"v1_Broken_heart_1F494",AnimatedAsset1F44F:"v2_iOS_clapping_hands_1F44F",AnimatedAsset1F62D:"v1_Cry_1F62D",AnimatedAsset1F621:"v2_iOS_enraged_face_1F621",AnimatedAsset1F926:"v2_iOS_face_palm_man",AnimatedAsset1F618:"v1_Faceblownbyakiss_1F618",AnimatedAsset1F525:"v1_Fire_1F525",AnimatedAsset1F64F:"v2_iOS_folded_hands_1F64F",AnimatedAsset1F62C:"v1_Grimacing_face_1F62C",AnimatedAsset1F605:"v2_iOS_grinning_face_with_sweat_1F605",AnimatedAsset2764FE0F:"v1_Heart_2764_FE0F",AnimatedAsset1F4AF:"v1_Hundred_points_1F4AF",AnimatedAsset1F602:"v1_LOL_1F602",AnimatedAsset1F973:"v2_iOS_party",AnimatedAsset1F389:"v2_iOS_party_popper_1F389",AnimatedAsset1F614:"v1_Pensive_face_1F614",AnimatedAsset1F64C:"v2_Raising_hands_1F64C",AnimatedAsset1F923:"v2_iOS_rofl_1F923",AnimatedAsset1F622:"v2_iOS_sad_tear_1F622",AnimatedAsset1F60D:"v1_Smiling_face_with_heart_eyes_1F60D",AnimatedAsset1F970:"v2_Smiling_face_with_heart_eyes_1F60D",AnimatedAsset1F60A:"v1_Smiling_face_with_smiling_eyes_1F60A",AnimatedAsset1F60E:"v1_Smiling_face_with_sunglasses_1F60E",AnimatedAsset1F929:"v3_iOS_star_struck_1F929",AnimatedAsset1F62E:"v1_Surprised_1F62E",AnimatedAsset1F44D:"v1_Thumbs_up_1F44D",AnimatedAsset1F495:"v1_Two_hearts_1F495",AnimatedAsset1F44B:"v1_Waving_hand_1F44B",AnimatedAsset1F609:"v2_iOS_winking_face_1F609",AnimatedAsset1F3B2:"v1_Dice_1_1F3B2",AnimatedAsset2728:"v1_Sparkles_2728",AnimatedAsset1F3CE:"v1_race_car_1F3CE"};function q(a){a=[d("WAWebMobilePlatforms").PLATFORMS.IPAD,d("WAWebMobilePlatforms").PLATFORMS.IPHONE,d("WAWebMobilePlatforms").PLATFORMS.SMBI].includes(a)?p:o;return[[String.fromCodePoint(128536),""+a.AnimatedAsset1F618],[String.fromCodePoint(10084,65039),""+a.AnimatedAsset2764FE0F],[String.fromCodePoint(128175),""+a.AnimatedAsset1F4AF],[String.fromCodePoint(128514),""+a.AnimatedAsset1F602],[String.fromCodePoint(129315),""+a.AnimatedAsset1F923],[String.fromCodePoint(128525),""+a.AnimatedAsset1F60D],[String.fromCodePoint(128522),""+a.AnimatedAsset1F60A],[String.fromCodePoint(128526),""+a.AnimatedAsset1F60E],[String.fromCodePoint(129321),""+a.AnimatedAsset1F929],[String.fromCodePoint(128149),""+a.AnimatedAsset1F495],[String.fromCodePoint(128521),""+a.AnimatedAsset1F609],[String.fromCodePoint(127922),""+a.AnimatedAsset1F3B2],[String.fromCodePoint(129671),""+a.AnimatedAsset1FA87],[String.fromCodePoint(128148),""+a.AnimatedAsset1F494],[String.fromCodePoint(128079),""+a.AnimatedAsset1F44F],[String.fromCodePoint(128557),""+a.AnimatedAsset1F62D],[String.fromCodePoint(128545),""+a.AnimatedAsset1F621],[String.fromCodePoint(129318,8205,9794,65039),""+a.AnimatedAsset1F926],[String.fromCodePoint(128293),""+a.AnimatedAsset1F525],[String.fromCodePoint(128591),""+a.AnimatedAsset1F64F],[String.fromCodePoint(128556),""+a.AnimatedAsset1F62C],[String.fromCodePoint(128517),""+a.AnimatedAsset1F605],[String.fromCodePoint(129395),""+a.AnimatedAsset1F973],[String.fromCodePoint(127881),""+a.AnimatedAsset1F389],[String.fromCodePoint(128532),""+a.AnimatedAsset1F614],[String.fromCodePoint(128588),""+a.AnimatedAsset1F64C],[String.fromCodePoint(128546),""+a.AnimatedAsset1F622],[String.fromCodePoint(129392),""+a.AnimatedAsset1F970],[String.fromCodePoint(128558),""+a.AnimatedAsset1F62E],[String.fromCodePoint(128077),""+a.AnimatedAsset1F44D],[String.fromCodePoint(128075),""+a.AnimatedAsset1F44B],[String.fromCodePoint(10024),""+a.AnimatedAsset2728],[String.fromCodePoint(127950),""+a.AnimatedAsset1F3CE],[String.fromCodePoint(127950,65039),""+a.AnimatedAsset1F3CE]]}function r(){var a=[];d("WAWebAnimatedEmojiGatingUtils").isAnimatedEmojiSet1Enabled()&&(a=[].concat(a,l));d("WAWebAnimatedEmojiGatingUtils").isAnimatedEmojiFinalSetEnabled()&&(a=[].concat(a,m));d("WAWebAnimatedEmojiGatingUtils").isAnimatedEmojiMercedesRacingEnabled()&&(a=[].concat(a,n));return a}function a(a){var b=r();a=q(a);a=a.filter(function(a){a=a[0];return b.includes(a)});return a}g.BUCKET_SIZE=c;g.CATEGORIES=e;g.ORDERED_CATEGORY_IDS=f;g.EMOJI_TYPE=h;g.EMOJI_WIDTH=i;g.LargeEmojiSize=b;g.CATEGORY_ORDERING=j;g.HEART_EMOJIS=k;g.getSupportedAnimatedEmojis=r;g.getSupportedAnimatedEmojisAssetIdsMapping=a}),98);
__d("WAWebGetEmojiPathExperimental",["gkx"],(function(a,b,c,d,e,f,g){d=""+window.location.origin;var h=c("gkx")("26258")?"https://web.whatsapp.com/emoji/v1":d+"/emoji/v1",i=16,j=0,k=1;function a(a,b,c){return l(a,c,b,"png")}function l(a,b,c,d){a=m(a);return n("single",c,b,a+"."+d)}function m(a){return Array.from(a).map(function(a){return a.codePointAt(0).toString(16).padStart(6,"0")}).join("_")}function b(a,b,c,d){return n("sprite",a,c,b+"."+d)}function n(a,b,c,d){return[h,i,j,k,a,b.toLowerCase().slice(0,1),c,d].join("/")}g.getGlyphExperimentalPath=a;g.getEmojiSpritesExperimentalPath=b}),98);
__d("WAWebEmoji",["invariant","WABitArray","WANullthrows","WAOnceWithReset","WAWebABProps","WAWebEmojiCompile","WAWebEmojiConst","WAWebGetEmojiPathExperimental","lodash","objectEntries"],(function(a,b,c,d,e,f,g,h){var i="\u25a1",j="\u200d",k=["\ud83c\udffb","\ud83c\udffc","\ud83c\udffd","\ud83c\udffe","\ud83c\udfff"],l=new RegExp(k.join("|"),"g");b="\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1";var m="\ud83d\udc6d",n="\ud83d\udc6c",o="\ud83d\udc6b";e=String.fromCodePoint(128105,8205,10084,65039,8205,128139,8205,128104);f=String.fromCodePoint(128105,8205,10084,65039,8205,128139,8205,128105);var p=String.fromCodePoint(128104,8205,10084,65039,8205,128139,8205,128104),q=String.fromCodePoint(129489,8205,10084,65039,8205,128139,8205,129489),r=String.fromCodePoint(128143),s=String.fromCodePoint(128105,8205,10084,65039,8205,128104),t=String.fromCodePoint(128105,8205,10084,65039,8205,128105),u=String.fromCodePoint(128104,8205,10084,65039,8205,128104),v=String.fromCodePoint(129489,8205,10084,65039,8205,129489),w=String.fromCodePoint(128145),x=String.fromCodePoint(129309),y=new Set([b,m,n,o,e,f,p,r,s,t,u,w,x]),z=d("WAWebEmojiConst").HEART_EMOJIS.map(function(a){return a}),A=new Set(["\ufe00","\ufe01","\ufe02","\ufe03","\ufe04","\ufe05","\ufe06","\ufe07","\ufe08","\ufe09","\ufe0a","\ufe0b","\ufe0c","\ufe0d","\ufe0e","\ufe0f"]),B=[127950,65039].map(function(a){return String.fromCodePoint(a)}).join(""),C=[127950,8205,128960].map(function(a){return String.fromCodePoint(a)}).join(""),D=[127950,8205,128961].map(function(a){return String.fromCodePoint(a)}).join(""),E=function(a){return a.replace(/\uFE0F/g,"")},F=c("lodash").memoize(function(a,b){function c(d){d===void 0&&(d=[]);if(d.length===b)return[d];var e=[];for(var f=0;f<a.length;f++){var g=[].concat(d);g.push(a[f]);e=e.concat(c(g))}return e}return c()},function(a,b){return a.toString()+b}),G=function(){function a(){var a=this,b;this.skinToneVariations=k;this.emojiRegex=function(){var b=a._createEmojiRegexIfNeeded();b.lastIndex=0;return b};this._createEmojiRegexIfNeeded=(b=c("WAOnceWithReset"))(function(){var b=a._getEmojiRegexSource();return new RegExp("("+b+")","g")});this.onlyEmojiRegex=function(){var b=a._createOnlyEmojiRegexIfNeeded();b.lastIndex=0;return b};this._createOnlyEmojiRegexIfNeeded=b(function(){var b=a._getEmojiRegexSource();return new RegExp("^("+b+")+$","g")});this.splitEmojis=function(b){return a.containsOnlyEmoji(b)===!1?null:b.split(a.emojiRegex()).filter(Boolean)};this.extractAllEmojis=function(b){return a.containsEmoji(b)===!1?null:Array.from(b.matchAll(a.emojiRegex())).filter(Boolean).map(function(a){return a[1]})};this.containsEmoji=function(b){return a.emojiRegex().test(b)};this.containsOnlyEmoji=function(b){return a.onlyEmojiRegex().test(b)};this.matchLargeEmojiPattern=function(b){if(b==null)return;if(b.length>50||b.includes(" "))return null;var c=a._getLargeEmojisRegex();c=c.exec(b);return c?c.filter(Boolean).slice(1):null};this.normalizeEmojiFromString=function(b){return a.normalizeEmoji(b)};this.normalizeEmoji=function(b){b=E(b);var c=a._getDerivedMaps();c=c.unqualifiedToNormalizedEmoji;return c.get(b)};this.normalizeAllEmojis=c("lodash").memoize(function(b){return b?b.replace(a.emojiRegex(),function(b,c){return A.has(c)?"":(b=a.normalizeEmoji(c))!=null?b:i}):""});this.getSkinToneVariant=function(b,c){var d=a._getBaseToSkinToneEmojis();d=d.get(b);if(d==null)return null;b=H(c);return d.get(b)};this._getDerivedMaps=b(function(){var b=a._getConfig(),d=b.orderedEmojis;b=b.legacyToEmoji;var e=new Map(),f=new Map(),g=new Map(),h=0;d.forEach(function(a,b){if(a===""||a==null)return;a=Array.isArray(a)?a:[a];a.forEach(function(a){f.set(a,b);var c=E(a);g.set(c,a)});e.set(b,h);h++});c("objectEntries")(b).forEach(function(a){var b=a[0];a=a[1];f.set(b,a);a=E(b);g.set(a,b)});return{emojiToGlyphId:f,glyphIdToIndex:e,unqualifiedToNormalizedEmoji:g}});this._getBaseToSkinToneEmojis=b(function(){var b=a._getDerivedMaps();b=b.emojiToGlyphId;var c=new Map(),d=function(){var b,d=e.replace(l,function(a){b==null&&(b=[]);b.push(a);return""});if(b==null)return 0;var f=b,g;d==="\ud83d\udc69"+j+"\ud83e\udd1d"+j+"\ud83d\udc69"?g=m:d==="\ud83d\udc68"+j+"\ud83e\udd1d"+j+"\ud83d\udc68"?g=n:d==="\ud83d\udc69"+j+"\ud83e\udd1d"+j+"\ud83d\udc68"?g=o:d===v?g=w:d===q?g=r:d===String.fromCodePoint(129777,8205,129778)?g=x:g=d;d=a.normalizeEmoji(g);if(d==null)return 0;g=c.get(d);g==null&&(g=new Map(),g.set("",d),c.set(d,g));d=H(f);g.set(d,e)};for(var e of b.keys()){b=d();if(b===0)continue}return c});this._getSkinToneEmojisToBase=b(function(){var b=new Map();for(var c of a._getBaseToSkinToneEmojis().entries()){var d=c[0],e=c[1];for(e of e.values())b.set(e,d)}return b});this._getEmojiRegexSource=b(function(){var b=a._getDerivedMaps();b=b.emojiToGlyphId;return c("WAWebEmojiCompile")([].concat(Array.from(b.keys()),Array.from(A)).filter(Boolean))});this._createLargeEmojisRegexIfNeeded=b(function(){var b=a._getEmojiRegexSource();return new RegExp("^("+b+")("+b+")?("+b+")?$")});this.getEmojisInCategory=function(b){return(b=a._getConfig().categorizedEmojis[b])!=null?b:[]};this._getEmojiToCategory=b(function(){var b=a._getConfig(),c=b.categorizedEmojis,e=new Map();Object.keys(c).forEach(function(b){var f=d("WAWebEmojiConst").CATEGORY_ORDERING.indexOf(b);c[b].forEach(function(b){b=a.normalizeEmoji(b);if(b==null)return;e.set(b,f)})});return e});this._applyGlyphTransformations=function(a){if(a===B)if(d("WAWebABProps").getABPropConfigValue("custom_racing_emoji_feb2025"))return D;else if(d("WAWebABProps").getABPropConfigValue("custom_racing_emoji"))return C;return a};this.getGlyphId=function(b){b=a.normalizeEmoji(b);if(b==null)return null;b=a._applyGlyphTransformations(b);var c=a._getDerivedMaps();c=c.emojiToGlyphId;return c.get(b)};this.getGlyphPath=function(b,c){b=a.normalizeEmojiFromString(b);if(b==null)return null;b=a._applyGlyphTransformations(b);var e=a._getDerivedMaps();e=e.emojiToGlyphId;e=e.get(b);return e==null?null:d("WAWebGetEmojiPathExperimental").getGlyphExperimentalPath(b,a._getConfig().emojiType,c)};this.getSpritesPath=function(a,b,c,e){return d("WAWebGetEmojiPathExperimental").getEmojiSpritesExperimentalPath(a,b,c,e)};this.isGlyphCached=function(b){b=a._getGlyphIndex(b);return a._getCachedGlyphs().get(b)};this.markGlyphCached=function(b){b=a._getGlyphIndex(b);a._getCachedGlyphs().set(b)};this._getCachedGlyphs=b(function(){return new(c("WABitArray"))(a._getGlyphCount())});this.getCssClasses=function(b,c){c===void 0&&(c="small");return["b"+a.getBucket(b),c==="small"?"emoji":"emojik",a._getConfig().emojiType===d("WAWebEmojiConst").EMOJI_TYPE.APPLE?"apple":"wa"].join(" ")};this.getStyle=function(b,c){c===void 0&&(c="small");b=a._getCoordinates(b,c);c=b.xpos;b=b.ypos;return{backgroundPosition:"-"+c+"px -"+b+"px"}};this.getBucket=function(b){b=a._getGlyphIndex(b);b=Math.floor(b/d("WAWebEmojiConst").BUCKET_SIZE);return""+b};this.getHeartEmojis=b(function(){return z.map(a.normalizeEmoji).filter(Boolean)});this._getLastBucketId=b(function(){var b=a._getGlyphCount();return b-b%d("WAWebEmojiConst").BUCKET_SIZE});this._getLastBucketCols=b(function(){return Math.floor(Math.sqrt(a._getGlyphCount()-a._getLastBucketId()))})}var b=a.prototype;b.configure=function(a){if(a===this._config)return;this._config=a;this.getHeartEmojis.reset();this._createEmojiRegexIfNeeded.reset();this._createLargeEmojisRegexIfNeeded.reset();this._createOnlyEmojiRegexIfNeeded.reset();this._getEmojiRegexSource.reset();this._getCachedGlyphs.reset();this._getSkinToneEmojisToBase.reset();this._getBaseToSkinToneEmojis.reset();this._getEmojiToCategory.reset();this._getLastBucketId.reset();this._getLastBucketCols.reset();this._getDerivedMaps.reset()};b._getConfig=function(){this._config!=null||h(0,56544);return this._config};b.isEmoji=function(a){return this.normalizeEmoji(a)!=null};b.getSkinToneBase=function(a){a=this.normalizeEmoji(a);return a==null?null:(a=this._getSkinToneEmojisToBase().get(a))!=null?a:null};b._getLargeEmojisRegex=function(){var a=this._createLargeEmojisRegexIfNeeded();a.lastIndex=0;return a};b._getGlyphCount=function(){var a=this._getDerivedMaps();a=a.glyphIdToIndex;return a.size};b._getCoordinates=function(a,b){a=this._getGlyphIndex(a);var c=a%d("WAWebEmojiConst").BUCKET_SIZE;a=a>=this._getLastBucketId()?this._getLastBucketCols():Math.floor(Math.sqrt(d("WAWebEmojiConst").BUCKET_SIZE));b=d("WAWebEmojiConst").EMOJI_WIDTH[b];var e=Math.floor(c/a);c=Math.floor(c%a);a=c*b;c=e*b;return{xpos:a,ypos:c,width:b}};b._getGlyphIndex=function(a){var b=this._getDerivedMaps();b=b.glyphIdToIndex;return c("WANullthrows")(b.get(a))};b.getEmojiAggregate=function(a){a=this.getNormalizedOrTofu(a);var b=this.getSkinToneBase(a);return b!=null?b:E(a)};b.getNormalizedOrTofu=function(a){var b=this.normalizeEmojiFromString(a);return!b?i:a};return a}();function H(a){return a.every(function(b){return b===a[0]})?a[0]:a.join("")}function a(a){return y.has(a)}G=new G();g.OPEN_BOX_CHAR=i;g.PEOPLE_HOLDING_HANDS=b;g.WOMEN_HOLDING_HANDS=m;g.MEN_HOLDING_HANDS=n;g.WOMAN_AND_MAN_HOLDING_HANDS=o;g.KISS_WOMAN_MAN=e;g.KISS_WOMAN_WOMAN=f;g.KISS_MAN_MAN=p;g.KISS=r;g.COUPLE_WITH_HEART_WOMAN_MAN=s;g.COUPLE_WITH_HEART_WOMAN_WOMAN=t;g.COUPLE_WITH_HEART_MAN_MAN=u;g.COUPLE_WITH_HEART=w;g.HANDSHAKE=x;g.getPermutations=F;g.isBaseMultiSkinToneEmoji=a;g.EmojiUtil=G}),98);
__d("WAWebBizParseProductGraphql_product.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"original_image_url",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"request_image_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},h=[b,g];return{argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"WAWebBizParseProductGraphql_product",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"retailer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_sanctioned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_available",storageKey:null},b,c,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shimmed_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},d,{alias:null,args:null,concreteType:"XWAProductCatalogProductStatusInfo",kind:"LinkedField",name:"status_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_appeal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductSalePrice",kind:"LinkedField",name:"sale_price",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"start_date",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_date",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaImage",kind:"LinkedField",name:"images",plural:!0,selections:[a,e,f],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaVideo",kind:"LinkedField",name:"videos",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"original_video_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"belongs_to",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"compliance_category",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductComplianceInfo",kind:"LinkedField",name:"compliance_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"country_code_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"importer_name",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductComplianceInfoImporterAddress",kind:"LinkedField",name:"importer_address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogProductVariantInfo",kind:"LinkedField",name:"variant_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XWACatalogVariantListingDetails",kind:"LinkedField",name:"listing_details",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"multi_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lowest_price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogVariantAvailability",kind:"LinkedField",name:"availability",plural:!1,selections:[{alias:null,args:null,concreteType:"XWAVariantAvailabilityListing",kind:"LinkedField",name:"listing",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_available",storageKey:null},{alias:null,args:null,concreteType:"XWAVariantAvailabilityListingOption",kind:"LinkedField",name:"options",plural:!0,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogVariantTypes",kind:"LinkedField",name:"types",plural:!0,selections:[b,{alias:null,args:null,concreteType:"XWACatalogVariantTypeOption",kind:"LinkedField",name:"options",plural:!0,selections:[g,{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaImage",kind:"LinkedField",name:"thumbnail_media",plural:!1,selections:[a,{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaImageOriginalDimensions",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},e,f],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogVariantProperties",kind:"LinkedField",name:"variant_properties",plural:!0,selections:h,storageKey:null}],storageKey:null}],type:"XWACatalogProduct",abstractKey:null}}();e.exports=a}),null);
__d("WAWebBizParseProductGraphql",["WANullthrows","WAWebBizCartConstants","WAWebBizGatingUtils","WAWebBizParseProductGraphql_product.graphql","WAWebProductTypes.flow","WAWebSignedShimmedUrl","WAWebSyntheticCountryCode"],(function(a,b,c,d,e,f,g){var h=["status_info","sale_price","product_availability","compliance_info"],i,j={AVAILABLE_FOR_ANOTHER_POSTCODE:d("WAWebProductTypes.flow").ProductAvailability.AVAILABLE_FOR_ANOTHER_POSTCODE,IN_STOCK:d("WAWebProductTypes.flow").ProductAvailability.IN_STOCK,OUT_OF_STOCK:d("WAWebProductTypes.flow").ProductAvailability.OUT_OF_STOCK};function a(a){var b,e,f=a.status_info,g=a.sale_price,i=a.product_availability,k=a.compliance_info;a=babelHelpers.objectWithoutPropertiesLoose(a,h);b=(b=(b=a.media)==null?void 0:b.images)!=null?b:[];var l=b[0];b=b.slice(1);g=babelHelpers["extends"]({id:c("WANullthrows")(a.id),retailer_id:(e=a.retailer_id)!=null?e:"",name:c("WANullthrows")(a.name),description:(e=a.description)!=null?e:"",url:(e=a.url)!=null?e:"",currency:a.currency,price:a.price,is_hidden:a.is_hidden==="ISHIDDEN_TRUE",is_sanctioned:(e=a.is_sanctioned)!=null?e:!1,max_available:(e=a.max_available)!=null?e:d("WAWebBizCartConstants").CART_ITEM_MAX_QUANTITY,availability:i&&i in j?j[i]:d("WAWebProductTypes.flow").ProductAvailability.UNKNOWN},(g==null?void 0:g.price)!=null?babelHelpers["extends"]({sale_price:g.price},g.start_date!=null&&g.end_date!=null?{sale_start_date:g.start_date,sale_end_date:g.end_date}:null):null,{checkmark:a.belongs_to==="true",image_hashes_for_whatsapp:((i=(e=a.media)==null?void 0:e.images)!=null?i:[]).map(function(a){return c("WANullthrows")(a.id)}),image_cdn_urls:l?[{key:"requested",value:c("WANullthrows")(l.request_image_url)},{key:"full",value:c("WANullthrows")(l.original_image_url)}]:[],additional_image_cdn_urls:b.map(function(a){return[{key:"requested",value:c("WANullthrows")(a.request_image_url)},{key:"full",value:c("WANullthrows")(a.original_image_url)}]}),whatsapp_product_can_appeal:(f==null?void 0:f.can_appeal)==="true",capability_to_review_status:[{key:"WHATSAPP",value:(g=f==null?void 0:f.status)!=null?g:"APPROVED"}],videos:(e=a.media)==null||(e=e.videos)==null?void 0:e.map(function(a){return{id:c("WANullthrows")(a.id),original_video_url:c("WANullthrows")(a.original_video_url),thumbnail_url:c("WANullthrows")(a.thumbnail_url)}}),variant_info:a.variant_info!=null?{listing_details:a.variant_info.listing_details?{description:a.variant_info.listing_details.description,multi_price:a.variant_info.listing_details.multi_price,lowest_price:a.variant_info.listing_details.lowest_price}:void 0,availability:a.variant_info.availability?{listing:a.variant_info.availability.listing.map(function(a){return{is_available:a.is_available,options:a.options.map(function(a){return{name:a.name,value:a.value}}),product_id:a.product_id}})}:void 0,types:(l=(i=a.variant_info)==null?void 0:i.types.map(function(a){return{name:a.name,options:a.options.map(function(a){var b;a.thumbnail_media&&(b={id:a.thumbnail_media.id,original_dimensions:a.thumbnail_media.original_dimensions?{height:a.thumbnail_media.original_dimensions.height,width:a.thumbnail_media.original_dimensions.width}:void 0,original_image_url:a.thumbnail_media.original_image_url,request_image_url:a.thumbnail_media.request_image_url});return{value:a.value,thumbnail_media:b}})}}))!=null?l:[],variant_properties:(f=(b=a.variant_info)==null?void 0:b.variant_properties.map(function(a){return{name:a.name,value:a.value}}))!=null?f:[]}:void 0});if(a.compliance_category==="COMPLIANCECATEGORY_COUNTRYORIGINEXEMPT")if(k!=null&&k.country_code_origin!=null&&k.importer_address==null&&d("WAWebBizGatingUtils").isCountryOfOriginEnabled()){g.compliance_info={country_code_origin:(e=k.country_code_origin)!=null?e:void 0};g.importer_information_exempt=!0}else k==null&&d("WAWebBizGatingUtils").isCountryOfOriginEnabled()?g.importer_information_exempt=!0:g.compliance_info={country_code_origin:d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable};else if(k!=null){i=k.importer_address;if(!i){g.compliance_info={country_code_origin:(l=k.country_code_origin)!=null?l:void 0,importer_name:(b=k.importer_name)!=null?b:void 0,importer_address:void 0}}else{g.compliance_info={country_code_origin:(f=k.country_code_origin)!=null?f:void 0,importer_name:(e=k.importer_name)!=null?e:void 0,importer_address:{street1:c("WANullthrows")(i==null?void 0:i.street1),street2:(l=i==null?void 0:i.street2)!=null?l:void 0,postal_code:(b=i==null?void 0:i.postal_code)!=null?b:void 0,city:c("WANullthrows")(i==null?void 0:i.city),region:(f=i==null?void 0:i.region)!=null?f:void 0,country_code:c("WANullthrows")(i==null?void 0:i.country_code)}}}}a.shimmed_url!=null&&(g.signedShimmedUrl=d("WAWebSignedShimmedUrl").asSignedShimmedUrl(a.shimmed_url));return g}g.parseProductGraphQL=a}),98);
__d("WAWebBizCatalogManagementParseProductGraphql",["WAWebBizCatalogManagementParseProductGraphql_product.graphql","WAWebBizCatalogParseProduct","WAWebBizGatingUtils","WAWebBizParseProductGraphql","WAWebProductTypes.flow","WAWebSyntheticCountryCode","err","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h;f=h!==void 0?h:h=b("WAWebBizCatalogManagementParseProductGraphql_product.graphql");function a(a){var b;return d("WAWebBizParseProductGraphql").parseProductGraphQL({id:a.id,name:a.name,description:a.description,url:a.url,shimmed_url:a.shimmed_url,price:a.price,currency:a.currency,retailer_id:a.retailer_id,belongs_to:a.belongs_to,status_info:{can_appeal:(b=a.status_info)==null?void 0:b.can_appeal,status:(b=a.status_info)==null?void 0:b.status},product_availability:a.availability,max_available:a.max_available,sale_price:{start_date:(b=a.sale_price)==null?void 0:b.start_date,end_date:(b=a.sale_price)==null?void 0:b.end_date,price:(b=a.sale_price)==null?void 0:b.price},media:{images:(b=(b=a.media)==null?void 0:b.images.map(function(a){return{id:a.id,original_image_url:a.original_image_url,request_image_url:a.request_image_url}}))!=null?b:[],videos:((b=(b=a.media)==null?void 0:b.videos)!=null?b:[]).map(function(a){return{id:a.id,original_video_url:a.original_video_url,thumbnail_url:a.thumbnail_url}})},compliance_info:a.compliance_info!=null?{country_code_origin:a.compliance_info.country_code_origin,importer_name:a.compliance_info.importer_name,importer_address:a.compliance_info.importer_address!=null?{street1:a.compliance_info.importer_address.street1,street2:a.compliance_info.importer_address.street2,postal_code:a.compliance_info.importer_address.postal_code,city:a.compliance_info.importer_address.city,region:a.compliance_info.importer_address.region,country_code:a.compliance_info.importer_address.country_code}:null}:null,compliance_category:d("WAWebProductTypes.flow").mapComplianceCategoryToWASchema(a.compliance_category),is_hidden:d("WAWebProductTypes.flow").mapIsHiddenToWASchema(a.is_hidden),is_sanctioned:a.is_sanctioned,variant_info:a.variant_info})}function e(a){if(a.imageCdnUrl==null)throw c("err")("productModelToGraphQLInput: imageCdnUrl is null");var b=[{url:a.imageCdnUrl}];a.additionalImageCdnUrl!=null&&b.push.apply(b,a.additionalImageCdnUrl.map(function(a){return{url:a}}));b={name:a.name,media:{image:b},is_hidden:a.isHidden};c("isStringNullOrEmpty")(a.description)||(b.description=a.description);c("isStringNullOrEmpty")(a.url)||(b.url=a.url);c("isStringNullOrEmpty")(a.retailerId)||(b.retailer_id=a.retailerId);a.priceAmount1000!=null&&(b.currency=a.currency,b.price=a.priceAmount1000.toString());a.salePriceAmount1000!=null&&(b.sale_price=a.salePriceAmount1000.toString());a.videos!=null&&(b.media.video=a.videos.map(function(a){return{url:a.original_video_url}}));var e=a.complianceInfo&&i(a.complianceInfo);e!=null&&(b.compliance_info=e);(((e=a.complianceInfo)==null?void 0:e.countryCodeOrigin)===d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable||a.importerInformationExempt&&d("WAWebBizGatingUtils").isCountryOfOriginEnabled())&&(b.compliance_category=d("WAWebProductTypes.flow").ProductComplianceCategory.CountryOriginExempt);return b}function i(a){var b=d("WAWebBizCatalogParseProduct").scanComplianceInfoForMissingData(a),e=b.isExempt,f=b.hasCountryCodeOrigin,g=b.hasImporterName;b=b.hasImporterAddress;if(e||!(f||g||b))return;e={country_code_origin:f&&a.countryCodeOrigin!=null?a.countryCodeOrigin:""};g&&(e.importer_name=a.importerName);if(b){f={country_code:(g=(f=a.importerAddress)==null?void 0:f.countryCode)!=null?g:"",city:(f=(b=a.importerAddress)==null?void 0:b.city)!=null?f:"",street1:(b=(g=a.importerAddress)==null?void 0:g.street1)!=null?b:""};c("isStringNullOrEmpty")((g=a.importerAddress)==null?void 0:g.street2)||(f.street2=a.importerAddress.street2);c("isStringNullOrEmpty")((b=a.importerAddress)==null?void 0:b.region)||(f.region=a.importerAddress.region);c("isStringNullOrEmpty")((g=a.importerAddress)==null?void 0:g.postalCode)||(f.postal_code=a.importerAddress.postalCode)}return e}g.PARSE_PRODUCT_FRAGMENT=f;g.parseProductGraphQL=a;g.productModelToGraphQLInput=e}),98);
__d("WAWebCTWABizAccessTokenNonceManager",["WACustomError","WALogger","WAPromiseRetryLoop","WAPromiseTimeout","WAQplTypes","WAResolvable","WASmaxBizAccessTokenRequestSilentNonceRPC","WAWebBizGatingUtils","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule"],(function(a,b,c,d,e,f,g){var h,i=250,j=1e3,k=null;function a(a){if(k!=null&&a!==!0)return k.promise;var b=d("WAWebBizGatingUtils").adAccountTokenNoncePushWaitTimeoutSeconds(),c=d("WAWebBizGatingUtils").adAccountTokenNonceMaxRetries();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,{"int":{fetch_nonce_timeout:b,fetch_nonce_max_retries:c}});var e=c;a=function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,{"int":{fetch_nonce_retry:c-e}});return d("WAPromiseTimeout").promiseTimeout(l(),b*1e3).then(function(b){a(b)})["catch"](function(a){var b=e>0;e--;if(!b){a instanceof d("WACustomError").TimeoutError&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,d("WAQplTypes").QuickLogActionType.ABORTED),k=null);throw a}})};a=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"fetchAdAccountNonce",timer:{algo:{type:"exponential",first:i},max:j},code:a});a.start();return a.promise()}function l(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"request_nonce_start");var a=k=new(d("WAResolvable").Resolvable)();return d("WASmaxBizAccessTokenRequestSilentNonceRPC").sendRequestSilentNonceRPC({}).then(function(b){switch(b.name){case"RequestSilentNonceResponseError":d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"request_nonce_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,d("WAQplTypes").QuickLogActionType.FAIL);k=null;return{type:"error"};case"RequestSilentNonceResponseRecoveryRequired":d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,{bool:{fetch_nonce_recovery_needed:!0}});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"request_nonce_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,d("WAQplTypes").QuickLogActionType.FAIL);k=null;return{type:"recovery-required",emailMask:b.value.resultEmail};default:b.name;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"request_nonce_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"push_nonce_start");return a.promise}})["catch"](function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"request_nonce_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,d("WAQplTypes").QuickLogActionType.FAIL);k=null;throw a})}function b(a){k==null?(d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Received a biz token nonce without asking for it"]))),k=null,d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"push_nonce_end"),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,d("WAQplTypes").QuickLogActionType.DROPPED)):(k.resolve({type:"success",nonce:a}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,"push_nonce_end"),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_NONCE,d("WAQplTypes").QuickLogActionType.SUCCESS))}function c(a){k==null&&(k=new(d("WAResolvable").Resolvable)()),k.resolve({type:"success",nonce:m(a)})}function e(){k=null}function m(a){return a}function f(){return d("WAWebBizGatingUtils").adAccountTokenNoncePushWaitTimeoutSeconds()*(d("WAWebBizGatingUtils").adAccountTokenNonceMaxRetries()+1)}g.fetchNonce=a;g.setNonceFromPushNotification=b;g.setNonceFromRecoveryCode=c;g.markNonceAsUsed=e;g.castToNonce=m;g.getMaximumNonceFetchTimeoutSeconds=f}),98);
__d("WAWebWamEnumBusinessType",[],(function(a,b,c,d,e,f){a=Object.freeze({SMB:1,API_DC:2,API:3});f.BUSINESS_TYPE=a}),66);
__d("WAWebWamEnumGraphqlCatalogEndpoint",[],(function(a,b,c,d,e,f){a=Object.freeze({GET_CATALOG:1,GET_PRODUCT:2,GET_PRODUCT_LIST:3,GET_COLLECTIONS:4,GET_SINGLE_COLLECTION:5,GET_CATEGORIES:6,GET_VARIANTS:7,GET_PROMOTIONS:8,CREATE_COLLECTION:9,GET_PUBLIC_KEY:10,VERIFY_POSTCODE:11});f.GRAPHQL_CATALOG_ENDPOINT=a}),66);
__d("WAWebWamEnumGraphqlRequestResult",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:1,FAILURE:2});f.GRAPHQL_REQUEST_RESULT=a}),66);
__d("WAWebGraphqlCatalogRequestWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumBusinessType","WAWebWamEnumGraphqlCatalogEndpoint","WAWebWamEnumGraphqlRequestResult"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({GraphqlCatalogRequest:[3206,{businessJid:[4,d("WAWebWamCodegenUtils").TYPES.STRING],businessType:[5,d("WAWebWamEnumBusinessType").BUSINESS_TYPE],graphqlCatalogEndpoint:[1,d("WAWebWamEnumGraphqlCatalogEndpoint").GRAPHQL_CATALOG_ENDPOINT],graphqlErrorCode:[3,d("WAWebWamCodegenUtils").TYPES.INTEGER],graphqlRequestResult:[2,d("WAWebWamEnumGraphqlRequestResult").GRAPHQL_REQUEST_RESULT]},[1,1,1],"private",0]},{GraphqlCatalogRequest:[]});g.GraphqlCatalogRequestWamEvent=a}),98);
__d("WAWebCatalogEventLogger",["WAWebGraphqlCatalogRequestWamEvent","WAWebWamEnumGraphqlCatalogEndpoint","WAWebWamEnumGraphqlRequestResult"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(d("WAWebGraphqlCatalogRequestWamEvent").GraphqlCatalogRequestWamEvent)({graphqlCatalogEndpoint:a});return{success:function(){b.set({graphqlErrorCode:-1,graphqlRequestResult:d("WAWebWamEnumGraphqlRequestResult").GRAPHQL_REQUEST_RESULT.SUCCESS}),b.commit()},failure:function(a){a=a[0];b.set({graphqlErrorCode:a.code,graphqlRequestResult:d("WAWebWamEnumGraphqlRequestResult").GRAPHQL_REQUEST_RESULT.FAILURE});b.commit()}}};g.GRAPHQL_CATALOG_ENDPOINT=d("WAWebWamEnumGraphqlCatalogEndpoint").GRAPHQL_CATALOG_ENDPOINT;g.createCatalogEventLogger=a}),98);
__d("WAWebChatConstants",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY:0,COMPLETE_AND_NO_MORE_MESSAGE_REMAIN_ON_PRIMARY:1,INCOMPLETE:2,NOT_INCLUDED_IN_HIST_SYNC:3,COMPLETE_ON_DEMAND_SYNC_BUT_MORE_MSG_REMAIN_ON_PRIMARY:4});c=60*5*1e3;f.ConversationEndOfHistoryTransferModelPropType=a;f.FTS_TTL=c}),66);
__d("WAWebCommonAdEntryPointsTypes",[],(function(a,b,c,d,e,f){function a(a){return a}f.asAdEntryPointContent=a}),66);
__d("WAWebCommonAdsTypes",["$InternalEnum"],(function(a,b,c,d,e,f){e=b("$InternalEnum").Mirrored(["ACTIVE","AUTHENTICATION_NEEDED","CREATING","EXTENDABLE","FINISHED","LIMITED_DELIVERY","NOT_DELIVERING","PAUSED","PENDING","REJECTED","REVIEW_NEEDED","SCHEDULED","ERROR","UNKNOWN"]);function a(a){return a}function c(a){return a}function d(a,b,c){c===void 0&&(c="WAA");return{token:a,bp_id:b,type:c}}f.BoostingStatusEnum=e;f.asAdId=a;f.asAdCampaignGroupId=c;f.asAdAccountToken=d}),66);
__d("WAWebCommunityGatingUtils",["WAWebABProps","WAWebGroupType","WAWebMobilePlatforms"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebMobilePlatforms").isSMB()?d("WAWebABProps").getABPropConfigValue("parent_group_create_enabled_for_smb_on_web"):!0}function b(){return d("WAWebABProps").getABPropConfigValue("parent_group_link_limit")+1}function c(){return d("WAWebABProps").getABPropConfigValue("parent_group_link_limit_community_creation")+1}function e(){return d("WAWebABProps").getABPropConfigValue("community_admin_promotion_one_time_prompt")}function f(){return d("WAWebABProps").getABPropConfigValue("parent_group_create_privacy")}function h(){return d("WAWebABProps").getABPropConfigValue("parent_group_subgroup_filter")}function i(){return d("WAWebABProps").getABPropConfigValue("group_mentions_in_subgroups")}function j(){return d("WAWebABProps").getABPropConfigValue("parent_group_allow_member_added_groups_m1")}function k(){return d("WAWebABProps").getABPropConfigValue("parent_group_allow_member_added_groups_m2")}function l(a){return a==null?!1:(a.groupType===d("WAWebGroupType").GroupType.LINKED_SUBGROUP||a.groupType===d("WAWebGroupType").GroupType.LINKED_GENERAL_GROUP)&&a.getParentGroupChat()!=null}function m(){return d("WAWebABProps").getABPropConfigValue("community_general_chat_UI_enabled")}function n(){return d("WAWebABProps").getABPropConfigValue("community_general_chat_create_enabled")}function o(){return d("WAWebABProps").getABPropConfigValue("parent_group_allow_member_suggest_existing_m3_receiver")}function p(){return d("WAWebABProps").getABPropConfigValue("parent_group_allow_member_suggest_existing_m3_sender")}function q(){return d("WAWebABProps").getABPropConfigValue("web_communities_general_chat_v_2")}function r(){return d("WAWebABProps").getABPropConfigValue("enable_community_suspend_and_appeals")}function s(){return d("WAWebABProps").getABPropConfigValue("improve_subgroup_activation_subgroup_poll_interval")}g.communitiesCreationEnabled=a;g.getParentGroupLinkLimit=b;g.getParentGroupLinkLimitCommunityCreation=c;g.communityAdminPromotionOneTimePromptEnabled=e;g.communityCreatePrivacyEnabled=f;g.subgroupFilterEnabled=h;g.groupMentionsInSubgroupsEnabled=i;g.memberAddedGroupsM1Enabled=j;g.memberSuggestedGroupsEnabled=k;g.shouldShowNewSubgroupIdentity=l;g.communityGeneralChatUIEnabled=m;g.communityGeneralChatCreateEnabled=n;g.memberSuggestedGroupsM3ReceiverEnabled=o;g.memberSuggestedGroupsM3SenderEnabled=p;g.communityGeneralChatV2Enabled=q;g.isCommunitySuspendAppealEnabled=r;g.communityPollIntervalTimeInSeconds=s}),98);
__d("WAWebUpdateLidMetadataApi",["WAWebApiContact","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.updates;var b=a.map(function(a){var b=a.lid;a=a.data;b={lid:b};a.shareOwnPn!=null&&(b.shareOwnPn=a.shareOwnPn);a.displayNameLID!=null&&(b.displayNameLID=a.displayNameLID);a.requestedPnTimestamp!=null&&(b.requestedPnTimestamp=a.requestedPnTimestamp);a.username!=null&&(b.username=a.username);return b});yield d("WAWebBackendApi").frontendSendAndReceive("bulkUpdateLidContactState",{lidContactDataMappings:b});yield d("WAWebApiContact").updateLidMetadata(a)});return h.apply(this,arguments)}g.updateLidMetadata=a}),98);
__d("WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob",["Promise","WAWebDBCreateLidPnMappings","WAWebEnvironment","WAWebRunInBatches","WAWebUpdateLidMetadataApi","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){c("WAWebEnvironment").isWindows?yield d("WAWebRunInBatches").runInBatches(a,function(a){return j(a,b)}):yield j(a,b)});return i.apply(this,arguments)}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=[],f=[];for(a of a){if(a==null)continue;var g=a.id,i=d("WAWebWidFactory").asUserWidOrThrow(g);if(i.isLid()){var j=a.displayName,k=a.phoneNumber;j!=null&&e.push({lid:i,data:{displayNameLID:j}});k!=null&&f.push({lid:i,pn:d("WAWebWidFactory").asUserWidOrThrow(k)})}else{j=a.lid;j!=null&&f.push({lid:d("WAWebWidFactory").asUserLidOrThrow(j),pn:d("WAWebWidFactory").asUserWidOrThrow(g)})}}yield (h||(h=b("Promise"))).all([e.length>0?d("WAWebUpdateLidMetadataApi").updateLidMetadata({updates:e}):null,f.length>0?d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:f,flushImmediately:c,learningSource:"other"}):null].filter(Boolean))});return k.apply(this,arguments)}g.createOrReplaceDisplayNamesAndLidPnMappingsInBatches=a;g.createOrReplaceDisplayNamesAndLidPnMappings=j}),98);
__d("WAWebDBBulkPersistContact",["WABatcher","WALogger","WAWebLidAwareContactsDB","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j=d("WABatcher").batch({delayMs:3e3},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l(a);return a.map(function(a){return void 0})});return function(b){return a.apply(this,arguments)}}());function a(a,b){return j(babelHelpers["extends"]({},b,{id:a.toJid()}))}function k(a){return Array.from(a.reduce(function(a,b){var c;a.set(b.id,babelHelpers["extends"]({},(c=a.get(b.id))!=null?c:{},b));return a},new Map()).values())}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["bulkPersistContactChanges: processing "," records"])),a.length);var b=k(a);d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["bulkPersistContactChanges: persisting "," records"])),a.length);yield c("WAWebLidAwareContactsDB").bulkCreateOrMerge(b,"DBBulkPersistContact.bulkPersistContactChanges")});return m.apply(this,arguments)}g.persistContactUpdateBatched=a}),98);
__d("WAWebDBCommunityTypes",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["SubGroupLink","SiblingGroupLink","SubGroupUnlink","SiblingGroupUnlink"]);f.CommunityLinkOperation=a}),66);
__d("WAWebGroupsParticipantsApi",["WAWebAdvSyncDeviceListApi","WAWebDBGroupParticipant","WAWebDBParticipantTypes","WAWebGroupType","WAWebGroupUtils","WAWebOfflineDeviceCache","WAWebPnhCagIncognito","WAWebSchemaGroupMetadata","WAWebSchemaParticipant","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.group,c=a.participants,e=a.isOffline,f=a.groupInfo;a=a.skipDeviceSync;a=a===void 0?!1:a;var g=[],h=[];c.forEach(function(a){a.isAdmin&&g.push(a.id),a.isSuperAdmin&&h.push(a.id)});var i=d("WAWebGroupUtils").amIGroupAdmin(g),j=!1;f!=null&&(j=Boolean(f.incognito)&&Boolean(f.defaultSubgroup));j=j?d("WAWebPnhCagIncognito").augmentedCagGroupParticipantList(i,c):c.map(function(a){a=a.id;return a});a?i=j:i=(yield q(j,e));return d("WAWebDBGroupParticipant").replaceParticipants({group:b,participants:c,admins:g,superAdmins:h,deviceIds:i,groupInfo:f})});return h.apply(this,arguments)}function e(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.group,e=a.participants,f=a.isOffline;a=a.reason;var g=b.toString(),h=!1,i=[],j=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),k=(yield d("WAWebSchemaGroupMetadata").getGroupMetadataTable().get(g));if(k==null)throw c("err")("addParticipants: groupMetadataRecord is null");var l=Boolean(k.defaultSubgroup),m=k.isLidAddressingMode===!0,n=e.some(function(a){return a.id.isLid()});g=(yield d("WAWebSchemaParticipant").getParticipantTable().get(g));g!=null&&(i=g.admins.map(function(a){return d("WAWebWidFactory").createWid(a)}),h=d("WAWebGroupUtils").amIGroupAdmin(i)||a===d("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_PROMOTE);if(n&&!l&&!m)return;g=e.map(function(a){a=a.id;return a});l&&(g=a===d("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_PROMOTE?[].concat(i,g,[j]):d("WAWebPnhCagIncognito").augmentedCagGroupParticipantList(h,e));n=(yield q(g,f));return d("WAWebDBGroupParticipant").updateDBParticipants(b,{action:d("WAWebDBParticipantTypes").PARTICIPANT_OPERATION.ADD,participants:e,deviceIds:n},k,f)});return i.apply(this,arguments)}function f(a){var b=a.group,c=a.participants,e=a.timestamp,f=a.author,g=a.reason,h=a.groupMetadata;a=a.isOffline;return d("WAWebDBGroupParticipant").updateDBParticipants(b,{action:d("WAWebDBParticipantTypes").PARTICIPANT_OPERATION.REMOVE,participants:c,timestamp:e,author:f,reason:g},h,a)}function j(a){var b=a.group,c=a.participants,e=a.groupMetadata;a=a.isOffline;return d("WAWebDBGroupParticipant").updateDBParticipants(b,{action:d("WAWebDBParticipantTypes").PARTICIPANT_OPERATION.DEMOTE,participants:c},e,a)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.group,c=a.participants,e=a.groupMetadata;a=a.isOffline;var f=b.toString(),g=d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),h=c.some(function(a){return g.equals(a.id)}),i;if(h){h=(yield d("WAWebSchemaParticipant").getParticipantTable().get(f));if(h!=null){f=Boolean(e.defaultSubgroup);f&&(f=h.admins.map(function(a){return d("WAWebWidFactory").createWid(a)}),i=(yield q([].concat(f,[g]),a)))}}return d("WAWebDBGroupParticipant").updateDBParticipants(b,{action:d("WAWebDBParticipantTypes").PARTICIPANT_OPERATION.PROMOTE,participants:c,deviceIds:i},e,a)});return l.apply(this,arguments)}function m(a){var b=a.group,c=a.participants;a=a.isOffline;return d("WAWebDBGroupParticipant").updateCommunityParticipants(b,{action:d("WAWebDBParticipantTypes").PARTICIPANT_OPERATION.LINKED_GROUP_PROMOTE,participants:c},a)}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.group;a=a.newSuperAdmin;return d("WAWebDBGroupParticipant").setDBGroupSuperAdmin(b,a)});return o.apply(this,arguments)}function p(a){var b=a.group,c=a.participants;a=a.isOffline;return d("WAWebDBGroupParticipant").updateCommunityParticipants(b,{action:d("WAWebDBParticipantTypes").PARTICIPANT_OPERATION.LINKED_GROUP_DEMOTE,participants:c},a)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=!1);if(b===!0){a.forEach(function(a){d("WAWebOfflineDeviceCache").OfflinePendingDeviceCache.addOfflinePendingDevice(String(a))});return a}b=(yield d("WAWebAdvSyncDeviceListApi").syncAndGetDeviceList(a));var c=[];b.forEach(function(b,e){if(!b)c.push(a[e]);else{var f=b.id;e=b.devices;c=c.concat(e.map(function(a){return d("WAWebWidFactory").createDeviceWidFromDeviceListPk(f,a.id,a.isHosted)}))}});return c});return r.apply(this,arguments)}function s(a){return d("WAWebSchemaParticipant").getParticipantTable().bulkGet(a.map(function(a){return a.toString()}))}function t(a){return d("WAWebSchemaParticipant").getParticipantTable().get(a.toString())}function u(a){a=a==null?void 0:a.participants;return a!=null&&a.some(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(d("WAWebWidFactory").createWid(a))})}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return u(yield t(a))});return w.apply(this,arguments)}function x(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield s(a)).map(u)});return y.apply(this,arguments)}g.updateParticipants=a;g.addParticipants=e;g.removeParticipants=f;g.demoteParticipants=j;g.promoteParticipants=k;g.promoteCommmunityParticipants=m;g.setGroupSuperAdmin=n;g.demoteCommmunityParticipants=p;g.bulkGetParticipants=s;g.getParticipants=t;g.checkMyMembership=v;g.bulkCheckMyMembership=x}),98);
__d("WAWebDBCommunity",["Promise","WABatcher","WALogger","WAWebDBCommunityTypes","WAWebGroupsParticipantsApi","WAWebSchemaChat","WAWebSchemaGroupMetadata","WAWebSchemaUnjoinedSubgroupMetadata","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["bulkPersistCommunityLink"]))).devConsole(a);var c=new Map(),e=new Map();a.forEach(function(a){a.subgroups.forEach(function(a){e.set(String(a.id),null)});switch(a.action){case d("WAWebDBCommunityTypes").CommunityLinkOperation.SiblingGroupLink:case d("WAWebDBCommunityTypes").CommunityLinkOperation.SiblingGroupUnlink:c.set(String(a.chatId),null);break;default:return}});(yield d("WAWebSchemaGroupMetadata").getGroupMetadataTable().bulkGet(Array.from(c.keys()))).forEach(function(a){a&&a.parentGroup!=null&&c.set(a.id,String(a.parentGroup))});(yield d("WAWebSchemaChat").getChatTable().bulkGet(Array.from(e.keys()))).forEach(function(a){a&&e.set(a.id,a)});var f=new Map(),g=new Map(),j=new Set(),k=function(a,b,c){b.forEach(function(b){var d=String(b.id),h=e.get(d);if(h!=null&&!h.isReadOnly)f.set(d,{id:d,parentGroup:c?a:void 0});else if(c){j["delete"](d);b={id:d,subject:b.subject,subjectTime:(h=b.subjectTime)!=null?h:0,parentGroup:a};h=g.get(d);h&&h.subjectTime>b.subjectTime&&(b.subject=h.subject,b.subjectTime=h.subjectTime);g.set(d,b)}else g["delete"](d),j.add(d)})};a.forEach(function(a){var b=null,e=!1;switch(a.action){case d("WAWebDBCommunityTypes").CommunityLinkOperation.SiblingGroupLink:b=c.get(String(a.chatId));e=!0;break;case d("WAWebDBCommunityTypes").CommunityLinkOperation.SiblingGroupUnlink:b=c.get(String(a.chatId));e=!1;break;case d("WAWebDBCommunityTypes").CommunityLinkOperation.SubGroupLink:b=String(a.chatId);e=!0;break;case d("WAWebDBCommunityTypes").CommunityLinkOperation.SubGroupUnlink:b=String(a.chatId),e=!1}b!=null&&k(b,a.subgroups,e)});yield (i||(i=b("Promise"))).all([d("WAWebSchemaGroupMetadata").getGroupMetadataTable().bulkCreateOrMerge(Array.from(f.values())),d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkRemove(Array.from(j)),d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkGet(Array.from(g.keys())).then(function(a){a.forEach(function(a){if(!a)return;var b=g.get(a.id);if(!b)return;a.subjectTime!=null&&a.subjectTime>b.subjectTime&&(b.subjectTime=a.subjectTime,b.subject=a.subject)});return d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkCreateOrMerge(Array.from(g.values()).map(function(a){return babelHelpers["extends"]({},a)}))})])});return k.apply(this,arguments)}var l=function(){var a=5e3;return d("WABatcher").batch({delayMs:a},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j(a);return(i||(i=b("Promise"))).resolve(a.map(function(a){return void 0}))});return function(b){return a.apply(this,arguments)}}())}();function a(a,b,c,d){d===void 0&&(d=!1);a={chatId:a,subgroups:b,action:c};return d?l(a):j([a])}function m(a){return d("WAWebSchemaGroupMetadata").getGroupMetadataTable().equals(["parentGroup"],a.toString())}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield m(a)).find(function(a){return a.defaultSubgroup===!0})});return o.apply(this,arguments)}function c(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield n(a));return a==null?null:d("WAWebWidFactory").createWid(a.id)});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield m(a));a=(yield d("WAWebGroupsParticipantsApi").bulkCheckMyMembership(b.map(function(a){a=a.id;return d("WAWebWidFactory").createWid(a)}))).map(function(a,c){return[b[c],a]});return a.filter(function(a){a=a[1];return a}).map(function(a){a=a[0];return a})});return r.apply(this,arguments)}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield q(a)).map(function(a){a=a.id;return d("WAWebWidFactory").createWid(a)})});return t.apply(this,arguments)}function e(a){return d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().equals(["parentGroup"],a.toString())}function f(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.parentGroup;if(b==null)return!1;a=d("WAWebWidFactory").createWid(a.id);b=(yield s(d("WAWebWidFactory").createWid(b)));return b.length===1&&b[0].equals(a)});return u.apply(this,arguments)}g.persistCommunityLink=a;g.getDefaultSubgroup=c;g.getJoinedSubgroupsMetadata=q;g.getJoinedSubgroups=s;g.getUnjoinedSubgroupsMetadata=e;g.isLastJoinedSubgroup=f}),98);
__d("WAWebDBRevokeInviteV4",["WAWebApiGroupInviteV4Store","WAWebBackendApi","WAWebDBMsgUtils","WAWebDBProcessMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=(yield d("WAWebApiGroupInviteV4Store").revokeGroupInvites(a,b,c,e));b=(a==null?void 0:a.map(function(a){return a.id}))||[];c=(yield d("WAWebDBMsgUtils").getMsgsByMsgKey(b,function(a){a.inviteCodeExp="0"}));for(e of c)d("WAWebBackendApi").frontendFireAndForget("expireGroupInviteV4",{inviteMsgId:e.id}),d("WAWebDBProcessMessage").updateExistingMessages([e],e.id.remote)});return h.apply(this,arguments)}g.revokeGroupInviteV4=a}),98);
__d("WAWebDirectConnectionUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}f.stringToCertificateString=a;f.certificateStringToString=b}),66);
__d("WAWebFailureErrorCodes",[],(function(a,b,c,d,e,f){a={REASON_GENERIC_FAILURE:400,REASON_NOT_AUTHORIZED:401,REASON_TEMP_BANNED:402,REASON_LOCKED:403,REASON_CLIENT_TOO_OLD:405,REASON_BANNED:406,REASON_BAD_USER_AGENT:409,REASON_INTERNAL_SERVER_ERROR:500,REASON_EXPERIMENTAL:501,REASON_SERVICE_UNAVAILABLE:503};f.FAILURE_REASON=a}),66);
__d("WAWebUserPrefsCTWA",["WATimeUtils","WAWebBizGatingUtils","WAWebCommonAdEntryPointsTypes","WAWebCommonAdsTypes","WAWebPonyfillsCryptoRandomUUID","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){function h(){var a=c("WAWebPonyfillsCryptoRandomUUID")();c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.AD_CREATION_FLOW_ID_KEY,a);return a}function a(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.AD_CREATION_FLOW_ID_KEY);(a==null||typeof a!=="string")&&(a=h());return a}function b(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.AD_CREATION_SEQUENCE_NUMBER_KEY);(a==null||typeof a!=="number")&&(a=1);c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.AD_CREATION_SEQUENCE_NUMBER_KEY,a+1);return a}function e(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.AD_CREATION_SEQUENCE_NUMBER_KEY,1)}function f(a){var b=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.AD_ENTRY_POINTS_CONFIGURATION);if(b==null||typeof b!=="object")return null;var e=b.configuration,f=b.ts;b=b.locale;if(typeof f!=="number"||typeof b!=="string")return null;f=!d("WATimeUtils").isInFuture(d("WATimeUtils").futureUnixTime(d("WAWebBizGatingUtils").adEntryPointsConfigurationFetchThreshold()/1e3,d("WATimeUtils").castToUnixTime(f)));if(b!==a)return null;if(e==null||typeof e!=="object")return null;b=Object.keys(e).reduce(function(a,b){var c=e[b];if(c==null||typeof c!=="object")return a;var f=c.shouldShow,g=c.content;c=c.subContent;if(typeof f!=="boolean")return a;f={shouldShow:f};if(g!=null){if(typeof g!=="string")return a;f.content=d("WAWebCommonAdEntryPointsTypes").asAdEntryPointContent(g)}if(c!=null){if(typeof c!=="string")return a;f.subContent=d("WAWebCommonAdEntryPointsTypes").asAdEntryPointContent(c)}a[b]=f;return a},{});return{configuration:b,isExpired:f}}function i(a,b){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.AD_ENTRY_POINTS_CONFIGURATION,{configuration:b,ts:d("WATimeUtils").unixTime(),locale:a})}function j(){if(!d("WAWebBizGatingUtils").adAccountTokenStoringEnabled())return null;var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.AD_ACCOUNT_TOKEN),b=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.AD_ACCOUNT_BP_ID);if(a==null||typeof a!=="string")return null;(b==null||typeof b!=="string")&&(b="");return d("WAWebCommonAdsTypes").asAdAccountToken(a,b)}function k(a){if(!d("WAWebBizGatingUtils").adAccountTokenStoringEnabled())return;c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.AD_ACCOUNT_TOKEN,a.token);c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.AD_ACCOUNT_BP_ID,a.bp_id)}function l(){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.AD_ACCOUNT_TOKEN,null),c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.AD_ACCOUNT_BP_ID,null)}function m(){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.FB_ACCOUNT_TOKEN,null),c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.FB_ACCOUNT_BP_ID,null)}function n(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.FB_ACCOUNT_TOKEN),b=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.FB_ACCOUNT_BP_ID);return a==null||typeof a!=="string"||b==null||typeof b!=="string"?null:d("WAWebCommonAdsTypes").asAdAccountToken(a,b,"FB")}function o(a){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.FB_ACCOUNT_TOKEN,a.token),c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.FB_ACCOUNT_BP_ID,a.bp_id)}g.generateAdCreationFlowId=h;g.getAdCreationFlowId=a;g.getAndIncrementAdCreationSequenceNumber=b;g.resetAdCreationSequenceNumber=e;g.getAdEntryPointsConfiguration=f;g.setAdEntryPointsConfiguration=i;g.getAdAccountToken=j;g.setAdAccountToken=k;g.clearAdAccountToken=l;g.clearFBIdentity=m;g.getFBIdentity=n;g.setFbIdentity=o}),98);
__d("WAWebFetchAdAccountToken",["WAQplTypes","WAResolvable","WASmaxBizCtwaAdAccountGetAccessTokenAndSessionCookiesRPC","WAWebCTWABizAccessTokenNonceManager","WAWebCommonAdsTypes","WAWebFailureErrorCodes","WAWebGraphQLServerError","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUserPrefsCTWA"],(function(a,b,c,d,e,f,g){var h=null,i=1;function a(a){if(h!=null){if(a!==!0)return h.promise;h=null}h;var b=h=new(d("WAResolvable").Resolvable)(),c=d("WAWebUserPrefsCTWA").getAdAccountToken();if(c!=null&&c.bp_id!==""&&a!==!0){b.resolve({type:"success",token:c});return b.promise}d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_TOKEN);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_TOKEN,"request_token_start");void j(i).then(function(a){a.type==="success"?d("WAWebUserPrefsCTWA").setAdAccountToken(a.token):(a.type,h=null),b.resolve(a)})["catch"](function(a){h=null,b.reject(a)});return b.promise}function b(){h=null,d("WAWebUserPrefsCTWA").clearAdAccountToken()}function c(a){if(a instanceof d("WAWebGraphQLServerError").GraphQLServerError){a=a.source.errors.some(function(a){return d("WAWebGraphQLServerError").GraphQLErrorCode.cast(a.code)===d("WAWebGraphQLServerError").GraphQLErrorCode.INVALID_ACCESS_TOKEN||a.code===d("WAWebFailureErrorCodes").FAILURE_REASON.REASON_GENERIC_FAILURE});return a}return!1}function j(a){return d("WAWebCTWABizAccessTokenNonceManager").fetchNonce().then(function(b){switch(b.type){case"error":case"recovery-required":return b;default:b.type;return k(b.nonce).then(function(b){return b.type==="incorrect-nonce"&&a>0?j(a-1).then(function(a){if(a.type==="success")return a;a.type;return b}):b})}})}function k(a){d("WAWebCTWABizAccessTokenNonceManager").markNonceAsUsed();return d("WASmaxBizCtwaAdAccountGetAccessTokenAndSessionCookiesRPC").sendGetAccessTokenAndSessionCookiesRPC({codeElementValue:a}).then(function(a){switch(a.name){case"GetAccessTokenAndSessionCookiesResponseTooManyAttempts":n();return{type:"too-many-attempts"};case"GetAccessTokenAndSessionCookiesResponseIncorrectNonce":n();return{type:"incorrect-nonce"};case"GetAccessTokenAndSessionCookiesResponseError":n();return{type:"error"};default:a.name;m();return{type:"success",token:d("WAWebCommonAdsTypes").asAdAccountToken(a.value.accessTokenElementValue,a.value.businessPersonId)}}})["catch"](function(a){n();throw a})}function l(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_TOKEN,"request_token_end"),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MANAGE_ADS_FETCH_TOKEN,a)}function m(){l(d("WAQplTypes").QuickLogActionType.SUCCESS)}function n(){l(d("WAQplTypes").QuickLogActionType.FAIL)}function e(){return d("WAWebCTWABizAccessTokenNonceManager").getMaximumNonceFetchTimeoutSeconds()*(i+1)}g.FETCH_AD_ACCOUNT_TOKEN_MAX_RETRIES=i;g.fetchToken=a;g.markTokenAsInvalid=b;g.hasGraphQLAuthError=c;g.getMaximumAdAccountFetchTimeoutSeconds=e}),98);
__d("WAWebFtsStorageConsts",[],(function(a,b,c,d,e,f){a="fts-storage";f.DATABASE_NAME=a}),66);
__d("WAWebFtsStorageUtils",["invariant","Promise","WAWebFtsStorageConsts","WAWebIdb","WAWebStorage","err"],(function(a,b,c,d,e,f,g,h){var i,j=null;function a(){var a=new(c("WAWebIdb"))(d("WAWebFtsStorageConsts").DATABASE_NAME);j=new(d("WAWebStorage").Storage)(a)}function e(){j!=null||h(0,56265);return j}function f(){return j==null?(i||(i=b("Promise"))).reject(c("err")("[fts-storage] Storage should be created first before being destroyed")):j.purge().then(function(){j=null})["catch"](function(a){j=null;throw a})}g.createStorage=a;g.getStorage=e;g.destroyStorage=f}),98);
__d("WAWebFtsStorageVersions",["WAWebFtsStorageUtils"],(function(a,b,c,d,e,f,g){var h=8;function a(){return d("WAWebFtsStorageUtils").getStorage().versions.version(0)}function b(){return d("WAWebFtsStorageUtils").getStorage().versions.version(1)}function c(){return d("WAWebFtsStorageUtils").getStorage().versions.version(2)}function e(){return d("WAWebFtsStorageUtils").getStorage().versions.version(3)}function f(){return d("WAWebFtsStorageUtils").getStorage().versions.version(4)}function i(){return d("WAWebFtsStorageUtils").getStorage().versions.version(5)}function j(){return d("WAWebFtsStorageUtils").getStorage().versions.version(6)}function k(){return d("WAWebFtsStorageUtils").getStorage().versions.version(7)}function l(){return d("WAWebFtsStorageUtils").getStorage().versions.version(8)}g.versionToRollout=h;g.ftsV1IndexCreateTable=a;g.manifestCreateTable=b;g.purgeRangeQueueCreateTable=c;g.ftsV2IndexCreateTable=e;g.ftsV2TokenToPrefixesCreateTable=f;g.ftsV3IndexCreateTable=i;g.ftsV1DeleteAndDeprecate=j;g.ftsV2Delete=k;g.ftsV2DeleteTokenPrefixes=l}),98);
__d("WAWebSchemaFtsPurgeRangeQueue",["WAWebFtsStorageUtils","WAWebFtsStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){c=d("WAWebStorageMutationBuilder").columnBuilder();var h=c.addColumn,i=c.addCompositePrimaryKey,j="fts-purge-range-queue";function a(){d("WAWebFtsStorageUtils").getStorage().add(j).version(d("WAWebFtsStorageVersions").purgeRangeQueueCreateTable(),[i(["chatId","tsOfLastMessage","startRowId","endRowId"]),h("offset")]).view(function(a){return a})}function b(){return d("WAWebFtsStorageUtils").getStorage().table(j)}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaFtsV1Index",["WAWebFtsStorageUtils","WAWebFtsStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){b=d("WAWebStorageMutationBuilder").columnBuilder();var h=b.addColumn,i=b.addUserDefinedPrimaryKey,j=b.addArrayIndex,k="fts-v1-index";function a(){d("WAWebFtsStorageUtils").getStorage().add(k).version(d("WAWebFtsStorageVersions").ftsV1IndexCreateTable(),[i("token"),h("ids"),j("ids"),h("prefixes"),j("prefixes")])["delete"](d("WAWebFtsStorageVersions").ftsV1DeleteAndDeprecate())}g.deprecateTable=a}),98);
__d("WAWebSchemaFtsV2Index",["WAWebFtsStorageUtils","WAWebFtsStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){b=d("WAWebStorageMutationBuilder").columnBuilder();var h=b.addColumn,i=b.addCompositePrimaryKey,j=b.addIndex,k=b.addCompositeIndex,l="fts-v2-index";function a(){d("WAWebFtsStorageUtils").getStorage().add(l).version(d("WAWebFtsStorageVersions").ftsV2IndexCreateTable(),[i(["id","chatId","token"]),j("id"),j("chatId"),j("token"),k(["chatId","token"]),h("timestamp"),k(["id","token"])])["delete"](d("WAWebFtsStorageVersions").ftsV2Delete())}g.addTable=a}),98);
__d("WAWebSchemaFtsV2TokenPrefixes",["WAWebFtsStorageUtils","WAWebFtsStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){var h="fts-v2-token-prefixes";b=d("WAWebStorageMutationBuilder").columnBuilder();var i=b.addColumn,j=b.addUserDefinedPrimaryKey,k=b.addArrayIndex;function a(){d("WAWebFtsStorageUtils").getStorage().add(h).version(d("WAWebFtsStorageVersions").ftsV2TokenToPrefixesCreateTable(),[j("token"),i("prefixes"),k("prefixes")])["delete"](d("WAWebFtsStorageVersions").ftsV2DeleteTokenPrefixes())}g.addTable=a}),98);
__d("WAWebSchemaFtsV3Index",["WAFtsV3IndexEntry","WAWebFtsStorageUtils","WAWebFtsStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){c=d("WAWebStorageMutationBuilder").columnBuilder();var h=c.addColumn,i=c.addAutoIncrementingPrimaryKey,j=c.addIndex,k=c.addArrayIndex,l="fts-v3-index";function a(){d("WAWebFtsStorageUtils").getStorage().add(l).version(d("WAWebFtsStorageVersions").ftsV3IndexCreateTable(),[i("ftsRowId"),h("id"),j("id"),h("chatId"),j("chatId"),h("timestamp"),h("prefixes"),k("prefixes")]).view(function(a){return a?d("WAFtsV3IndexEntry").buildDBEntry(a.ftsRowId,a.id,a.chatId,a.timestamp,a.prefixes):null})}function b(){return d("WAWebFtsStorageUtils").getStorage().table(l)}g.addTable=a;g.getTable=b}),98);
__d("WAWebSchemaManifest",["WAWebFtsStorageUtils","WAWebFtsStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){var h="manifest";c=Object.freeze({PREV_VERSION:"prev.version",CURR_VERSION:"curr.version",NEXT_VERSION:"next.version"});e=d("WAWebStorageMutationBuilder").columnBuilder();var i=e.addColumn,j=e.addUserDefinedPrimaryKey;function a(){d("WAWebFtsStorageUtils").getStorage().add(h).version(d("WAWebFtsStorageVersions").manifestCreateTable(),[j("key"),i("tokenizerVersion"),i("schemaVersion"),i("isCurrent"),i("lastMsgKeyViaFullIndexer"),i("isFullIndexingComplete")]).view(function(a){return a||null})}function b(){return d("WAWebFtsStorageUtils").getStorage().table(h)}g.ManifestKeys=c;g.addTable=a;g.getTable=b}),98);
__d("WAWebFtsStorage",["WALogger","WAWeb-dexie","WAWebDbRolloutUtil","WAWebDexieCastTypes","WAWebFtsStorageConsts","WAWebFtsStorageUtils","WAWebSchemaFtsPurgeRangeQueue","WAWebSchemaFtsV1Index","WAWebSchemaFtsV2Index","WAWebSchemaFtsV2TokenPrefixes","WAWebSchemaFtsV3Index","WAWebSchemaManifest","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i==null&&(yield d("WAWebDbRolloutUtil").loadSchemaVersions(),d("WAWebFtsStorageUtils").createStorage(),d("WAWebSchemaManifest").addTable(),d("WAWebSchemaFtsV1Index").deprecateTable(),d("WAWebSchemaFtsV2Index").addTable(),d("WAWebSchemaFtsV2TokenPrefixes").addTable(),d("WAWebSchemaFtsPurgeRangeQueue").addTable(),d("WAWebSchemaFtsV3Index").addTable(),i=d("WAWebFtsStorageUtils").getStorage().initialize()["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]))).verbose().devConsole(a).sendLogs("Failed to initialize fts storage",{sendLogsType:d("WALogger").SendLogsType.EXTREMELY_BAD_USER_EXPERIENCE_SAD});throw a}));return i});return j.apply(this,arguments)}function e(){return d("WAWebFtsStorageUtils").destroyStorage()["catch"](function(){return d("WAWebDexieCastTypes").dexieCastToPromise(new(c("WAWeb-dexie"))(d("WAWebFtsStorageConsts").DATABASE_NAME)["delete"]())})["finally"](function(){i=null;return d("WAWebDexieCastTypes").dexieCastToPromise(new(c("WAWeb-dexie"))("fts-storage-dogfooding")["delete"]())})}function f(){i=null}g.getManifestTable=d("WAWebSchemaManifest").getTable;g.getPurgeRangeQueueTable=d("WAWebSchemaFtsPurgeRangeQueue").getTable;g.getIndexV3Table=d("WAWebSchemaFtsV3Index").getTable;g.initialize=a;g.destroy=e;g.clearInitializePromise=f}),98);
__d("WAWebGroupGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("enable_group_exit_experience")}function b(){return d("WAWebABProps").getABPropConfigValue("group_description_length")}function c(){return d("WAWebABProps").getABPropConfigValue("enable_group_exit_experience_logging")}function e(){return d("WAWebABProps").getABPropConfigValue("group_max_subject")}function f(){return d("WAWebABProps").getABPropConfigValue("web_group_info_query_participants_phash_pass")}function h(){return d("WAWebABProps").getABPropConfigValue("pending_group_requests_persistent_banner")}g.isGroupExitExperienceEnabled=a;g.getGroupDescriptionLength=b;g.isGroupExitExperienceLoggingEnabled=c;g.getGroupMaxSubject=e;g.isPassingParticipantsPhashToGroupInfoQueryEnabled=f;g.isPersistentPendingJoinRequestsBannerEnabled=h}),98);
__d("WAWebGroupsQueryApi",["WALogger","WATimeUtils","WAWebCountriesUtils","WAWebJidToWid","WAWebSchemaGroupMetadata","WAWebUsernameGatingUtils","WAWebWidFactory","err"],(function(a,b,c,d,e,f,g){var h;function i(a){if(!a)return null;var b=a.bodyElementValue,c=a.id,e=a.participant,f=a.t;a=a.participantIdentityMixin;b={desc:b,descId:c,descOwner:e!=null?d("WAWebJidToWid").userJidToUserWid(e):void 0,descTime:d("WATimeUtils").castToUnixTime(f)};c=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled();if(c){var g;b.descOwnerUsername=a==null||(g=a.participantUsernameMixin)==null?void 0:g.participantUsername}e=d("WAWebUsernameGatingUtils").lidGroupMigrationNonMemberIQEnabled();if(e){var h;f=a==null||(h=a.participantPNMixin)==null?void 0:h.participantPn;b.descOwnerPn=f!=null?d("WAWebJidToWid").userJidToUserWid(f):void 0}return b}function j(a){if(!a)return null;a=a.expiration;return{ephemeralDuration:a}}function k(a){if(a==null)return null;var b=a.expiration;a=a.type;return{growthLockExpiration:b,growthLockType:a}}function l(a){return a==null?null:{parentGroup:d("WAWebJidToWid").groupJidToWid(a.jid),parentGroupSubject:a.subject}}function m(a){switch(a.name){case"PhoneNumber":case"PhoneNumberAndUsernameAtt":return d("WAWebJidToWid").userJidToUserWid(a.value.phoneNumber);default:a.name;return null}}function n(a){if(!d("WAWebUsernameGatingUtils").usernameDisplayedEnabled())return null;switch(a.name){case"UsernameAtt":case"PhoneNumberAndUsernameAtt":return a.value.username;default:a.name;return null}}function o(a){return a.map(function(a){var b;if(a.groupInfoParticipantMixins.name==="GroupInfoParticipantAdmin"){var c=a.groupInfoParticipantMixins.value.type;c;b=!0;c=c==="superadmin"}else a.groupInfoParticipantMixins.name,b=!1,c=!1;a=a.groupInfoParticipantMixins.value.participantMixins;if(a.name==="ParticipantWithJid")return{isAdmin:b,isSuperAdmin:c,id:d("WAWebJidToWid").userJidToUserWid(a.value.jid)};else if(a.name==="ParticipantWithJidAndDisplayName")return{isAdmin:b,isSuperAdmin:c,id:d("WAWebJidToWid").userJidToUserWid(a.value.jid),displayName:a.value.displayName};else if(a.name==="ParticipantWithJidLidAndDisplayName")return{isAdmin:b,isSuperAdmin:c,id:d("WAWebJidToWid").userJidToUserWid(a.value.jid),lid:d("WAWebJidToWid").userJidToUserWid(a.value.lid),displayName:a.value.displayName};else if(a.name==="ParticipantWithJidAndLid")return{isAdmin:b,isSuperAdmin:c,id:d("WAWebJidToWid").userJidToUserWid(a.value.jid),lid:d("WAWebJidToWid").userJidToUserWid(a.value.lid)};else if(a.name==="ParticipantWithJidAndIdentity")return{isAdmin:b,isSuperAdmin:c,id:d("WAWebJidToWid").userJidToUserWid(a.value.jid),phoneNumber:m(a.value.identityTypes),username:n(a.value.identityTypes)};a.name;return{isAdmin:b,isSuperAdmin:c,id:d("WAWebJidToWid").userJidToUserWid(a.value.jid),lid:null,displayName:a.value.displayName,phoneNumber:m(a.value.identityTypes),username:n(a.value.identityTypes)}})}function p(a){var b=a.creator;a=a.groupCreatorIdentityMixin;var c,e;if(d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()){var f,g;c=a==null||(f=a.groupCreatorUsernameMixin)==null?void 0:f.creatorUsername;e=a==null||(g=a.groupCreatorCountryCodeMixin)==null?void 0:g.creatorCountryCode}var h=d("WAWebUsernameGatingUtils").lidGroupMigrationNonMemberIQEnabled(),i;if(h){var j;i=a==null||(j=a.groupCreatorPhoneNumberMixin)==null?void 0:j.creatorPn}return{creator:b!=null?d("WAWebJidToWid").userJidToUserWid(b):void 0,creatorUsername:c,creatorCountryCode:e!=null?d("WAWebCountriesUtils").asISOCountryCode(e):null,creatorPn:i!=null?d("WAWebJidToWid").userJidToUserWid(i):void 0}}function q(a,b){var c;if(a==null)return{subjectOwner:void 0,subjectOwnerUsername:void 0,subjectOwnerPn:void 0};a=d("WAWebJidToWid").userJidToUserWid(a);var e=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()?b==null||(c=b.subjectOwnerUsernameMixin)==null?void 0:c.sOUsername:void 0,f=d("WAWebUsernameGatingUtils").lidGroupMigrationNonMemberIQEnabled(),g;if(f){var h;f=b==null||(h=b.subjectOwnerPhoneNumberMixin)==null?void 0:h.sOPn;g=f!=null?d("WAWebJidToWid").userJidToUserWid(f):void 0}return{subjectOwner:a,subjectOwnerUsername:e,subjectOwnerPn:g}}function a(a,b){var c=[];b.forEach(function(b){b=b.groupInfoOrTruncatedGroupInfoOrGroupForbiddenOrGroupNotExistMixinGroup;a==="per_group_dirty_recovery"&&b.name==="TruncatedGroupInfo"&&d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["parseBatchGroupInfoSmax: unexpected truncated group info received from server when querying dirty groups metadata"]))).sendLogs("unexpected-truncated-group-info-for-dirty-group-request");(b.name==="GroupInfo"||b.name==="TruncatedGroupInfo")&&c.push(r(b.value))});return c}function r(a){var b,e,f,g,h=a.groupAddressingModeMixin,m=a.creation,n=a.id,r=a.hasLocked,s=a.hasAnnouncement,t=a.hasNoFrequentlyForwarded,u=a.hasSupport,v=a.suspended,w=a.parent,x=a.hasCapi,y=a.hasDefaultSubGroup,z=a.hasGeneralChat,A=a.hasIncognito,B=a.membershipApprovalMode,C=a.membershipApprovalRequest,D=a.hasAllowAdminReports,E=a.ephemeral,F=a.growthLocked,G=a.linkedParent,H=a.description,I=a.descriptionGroupInfoDescriptionMixin,J=a.namedSubjectOrUnnamedSubjectFallbackMixinGroup,K=a.sO,L=a.subjectOwnerIdentityMixin,M=a.participant,N=a.sT,O=a.size,P=a.groupMemberAddModeMixin,Q=a.hasAllowNonAdminSubGroupCreation,R=a.hasAutoAddDisabled,S=a.hasMissingParticipantIdentification;if(n==null)throw c("err")("parseGroupSmax: invalid group id");J=J==null?void 0:J.value.subject;if(J==null)throw c("err")("parseGroupSmax: invalid group subject");M=M!=null?o(M):[];b=(b=B==null||(e=B.membershipApprovalGroupJoinModeEnabledMixin)==null?void 0:e.state)!=null?b:B==null?void 0:B.state;B=d("WAWebSchemaGroupMetadata").MemberAddMode.cast(P==null||(f=P.memberAddModeMemberAddModes)==null?void 0:f.value.elementValue);H=(P=H==null?void 0:H.groupInfoDescriptionMixin)!=null?P:I;P=p(a);I=P.creator;a=P.creatorUsername;var T=P.creatorCountryCode;P=P.creatorPn;K=q(K,L);L=K.subjectOwner;var U=K.subjectOwnerUsername;K=K.subjectOwnerPn;n=babelHelpers["extends"]({id:d("WAWebWidFactory").createWid(n+"@g.us"),owner:I,creatorPn:P,creatorUsername:a,creatorCountryCode:T,creation:m,restrict:Boolean(r),announce:Boolean(s),noFrequentlyForwarded:Boolean(t),support:u,suspended:v!=null,isParentGroup:w!=null,numSubgroups:w==null?void 0:w.numSubGroups,participants:M,isParentGroupClosed:(w==null||(g=w.parentGroupDefaultMembershipApprovalModeMixin)==null?void 0:g.defaultMembershipApprovalMode)==="request_required",defaultSubgroup:y,generalSubgroup:z,incognito:A,membershipApprovalMode:b==="on",reportToAdminMode:D,membershipApprovalRequest:C,isLidAddressingMode:(h==null?void 0:h.addressingMode)==="lid",memberAddMode:B,allowNonAdminSubGroupCreation:Q},H&&i(H),E&&j(E),k(F),l(G),{subject:J,subjectTime:N,subjectOwner:L,subjectOwnerUsername:U,subjectOwnerPn:K,size:O,generalChatAutoAddDisabled:Boolean(R),hasCapi:x,hasIncompleteParticipantInformation:S===!0});return n}function b(a){a=a.maybeChild("linked_parent");var b=a==null?void 0:a.maybeAttrGroupJid("jid");return b==null?null:{parentGroup:d("WAWebJidToWid").groupJidToWid(b),parentGroupSubject:a==null?void 0:a.maybeAttrString("subject")}}g.extractDescriptionSmax=i;g.extractUsernameFromIdentityTypes=n;g.extractGroupParticipantsSmax=o;g.parseGroupCreatorSmax=p;g.parseSubjectOwnerSmax=q;g.parseBatchGroupInfoSmax=a;g.parseGroupSmax=r;g.extractLinkedParent=b}),98);
__d("WAWebRequestMethodType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["NonAdminAdd","InviteLink","LinkedGroupJoin"]);f.RequestMethod=a}),66);
__d("WAWebGroupGetMembershipApprovalRequestsJob",["Promise","WALogger","WASmaxGroupsGetMembershipApprovalRequestsRPC","WAWebApiMembershipApprovalRequestStore","WAWebBackendApi","WAWebBackendErrors","WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob","WAWebGroupsQueryApi","WAWebJidToWid","WAWebRequestMethodType","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=["phoneNumber","username","addedByUsername","addedByPn"],i,j;function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxGroupsGetMembershipApprovalRequestsRPC").sendGetMembershipApprovalRequestsRPC({iqTo:d("WAWebWidToJid").widToGroupJid(a)}));switch(a.name){case"GetMembershipApprovalRequestsResponseSuccess":return a.value.membershipApprovalRequestsMembershipApprovalRequest.map(function(a){var b=d("WAWebJidToWid").userJidToUserWid(a.jid),c=a.requestor;c={id:b,t:a.requestTime,addedBy:c!=null?d("WAWebJidToWid").userJidToUserWid(c):b,requestMethod:m(a.requestMethod),parentGroupId:a.parentGroupJid!=null?d("WAWebJidToWid").groupJidToWid(a.parentGroupJid):void 0};if(d("WAWebUsernameGatingUtils").lidGroupMigrationNonMemberIQEnabled()){b=(b=a.identityMixin)==null?void 0:b.identityTypes.value.phoneNumber;b!=null&&(c.phoneNumber=d("WAWebJidToWid").userJidToUserWid(b));b=a.requestorPn;b!=null&&(c.addedByPn=d("WAWebJidToWid").userJidToUserWid(b))}if(d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()){b=a.requestorUsername;b!=null&&(c.addedByUsername=b);b=((b=a.identityMixin)==null?void 0:b.identityTypes)!=null?d("WAWebGroupsQueryApi").extractUsernameFromIdentityTypes(a.identityMixin.identityTypes):void 0;b!=null&&(c.username=b)}return c});case"GetMembershipApprovalRequestsResponseClientError":var b=a.value.errorGetMembershipApprovalRequestsClientErrors;return n(b.value);default:a.name;return n(a.value.errorServerErrors.value)}});return l.apply(this,arguments)}function m(a){switch(a){case"invite_link":return d("WAWebRequestMethodType").RequestMethod.InviteLink;case"linked_group_join":return d("WAWebRequestMethodType").RequestMethod.LinkedGroupJoin;case"non_admin_add":return d("WAWebRequestMethodType").RequestMethod.NonAdminAdd}}function n(a){var c=a.code;a=a.text;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["queryMembershipApprovalRequests failed: ",":",""])),c,a);return(j||(j=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(c),a))}function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield k(a)),c=b.map(function(a){a.phoneNumber;a.username;a.addedByUsername;a.addedByPn;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return a}),e=(yield d("WAWebApiMembershipApprovalRequestStore").getMembershipApprovalRequests(a));e=e.filter(function(a){return!c.some(function(b){return b.id.equals(a.id)})});yield d("WAWebApiMembershipApprovalRequestStore").removeMembershipApprovalRequests(a,e.map(function(a){return a.id}));yield d("WAWebApiMembershipApprovalRequestStore").addMembershipApprovalRequests(a,c);if(d("WAWebUsernameGatingUtils").lidGroupMigrationNonMemberIQEnabled()){var f=b.reduce(function(a,b){var c=b.id,d=b.phoneNumber,e=b.addedBy;b=b.addedByPn;a.push({id:c,lid:c.isLid()?c:null,phoneNumber:d!=null?d:null});a.push({id:e,lid:e.isLid()?e:null,phoneNumber:b!=null?b:null});return a},[]);yield d("WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob").createOrReplaceDisplayNamesAndLidPnMappingsInBatches(f,!0)}if(d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()){f=b.reduce(function(a,b){b.username!=null&&a.push({username:b.username,userId:d("WAWebWidFactory").asUserWidOrThrow(b.id)});b.addedByUsername!=null&&a.push({username:b.addedByUsername,userId:d("WAWebWidFactory").asUserWidOrThrow(b.addedBy)});return a},[]);yield d("WAWebSetUsernameJob").setUsernamesJob(f)}d("WAWebBackendApi").frontendFireAndForget("removeMembershipApprovalRequests",{groupId:a,requestIds:e.map(function(a){return a.id})});d("WAWebBackendApi").frontendFireAndForget("addMembershipApprovalRequests",{groupId:a,requests:c})});return o.apply(this,arguments)}g.queryAndUpdateGroupMembershipApprovalRequests=a}),98);
__d("WAWebMexFetchGroupInfoJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},b={defaultValue:null,kind:"LocalArgument",name:"include_username"},c={defaultValue:null,kind:"LocalArgument",name:"participants_phash"},d={defaultValue:null,kind:"LocalArgument",name:"query_context"},e=[{fields:[{kind:"Variable",name:"group_id",variableName:"id"},{kind:"Variable",name:"participants_phash",variableName:"participants_phash"},{kind:"Variable",name:"query_context",variableName:"query_context"}],kind:"ObjectValue",name:"group_input"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"lid",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"pn",storageKey:null},j={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"XWA2Username",abstractKey:null},k={condition:"include_username",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"username_info",plural:!1,selections:[j],storageKey:null}]},l={alias:null,args:null,concreteType:"XWA2User",kind:"LinkedField",name:"creator",plural:!1,selections:[f,h,i,k],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"participants_phash_match",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"total_participants_count",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"missing_participant_identification",storageKey:null},t={alias:null,args:null,concreteType:"XWA2GroupLimitSharingSetting",kind:"LinkedField",name:"limit_sharing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"limit_sharing_enabled",storageKey:null}],storageKey:null},u={alias:null,args:null,concreteType:"XWA2GroupLIDMigrationState",kind:"LinkedField",name:"lid_migration_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"addressing_mode",storageKey:null}],storageKey:null},v={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XWA2CommunityProperties",kind:"LinkedField",name:"properties",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_non_admin_sub_group_creation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed_by_membership_approval_mode",storageKey:null},t,u],storageKey:null}],type:"XWA2CommunityGroup",abstractKey:null},w={alias:null,args:null,concreteType:"XWA2GroupEphemeralSetting",kind:"LinkedField",name:"ephemeral",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_sec",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"locked",storageKey:null},y={alias:null,args:null,concreteType:"XWA2GroupGrowthLocked",kind:"LinkedField",name:"growth_locked2",plural:!1,selections:[x],storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"member_add_mode",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"parent_group_jid",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"group_safety_check",storageKey:null},C={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XWA2CommunityDefaultSubGroupProperties",kind:"LinkedField",name:"properties",plural:!1,selections:[w,y,u,z,A,B,t],storageKey:null}],type:"XWA2CommunityDefaultSubGroup",abstractKey:null},D={alias:null,args:null,kind:"ScalarField",name:"allow_admin_reports",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"announcement",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"membership_approval_mode_enabled",storageKey:null};A={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"membership_approval_request",storageKey:null},{alias:null,args:null,concreteType:"XWA2CommunitySubGroupProperties",kind:"LinkedField",name:"properties",plural:!1,selections:[D,E,w,y,u,x,z,F,A,{alias:null,args:null,kind:"ScalarField",name:"general_chat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"auto_add_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hidden_group",storageKey:null},B,t],storageKey:null}],type:"XWA2CommunitySubGroup",abstractKey:null};D={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XWA2GroupRegularGroupProperties",kind:"LinkedField",name:"properties",plural:!1,selections:[D,E,{alias:null,args:null,kind:"ScalarField",name:"capi",storageKey:null},w,y,u,x,z,F,{alias:null,args:null,kind:"ScalarField",name:"support",storageKey:null},B,t],storageKey:null}],type:"XWA2GroupRegularGroup",abstractKey:null};E={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};w={condition:"include_username",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"username_info",plural:!1,selections:[E,j],storageKey:null}]};y={alias:null,args:null,concreteType:"XWA2User",kind:"LinkedField",name:"creator",plural:!1,selections:[f,h,i,w],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d],kind:"Fragment",metadata:null,name:"WAWebMexFetchGroupInfoJobQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xwa2_group_query_by_id",plural:!1,selections:[f,g,l,m,{alias:null,args:null,concreteType:"XWA2GroupSubject",kind:"LinkedField",name:"subject",plural:!1,selections:[l,g,n],storageKey:null},{alias:null,args:null,concreteType:"XWA2GroupDescription",kind:"LinkedField",name:"description",plural:!1,selections:[f,g,l,n],storageKey:null},{alias:null,args:null,concreteType:"XWA2GroupParticipantsConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2GroupParticipantEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XWA2User",kind:"LinkedField",name:"node",plural:!1,selections:[f,h,i,o,k],storageKey:null},p],storageKey:null},q],storageKey:null},r,s,v,C,A,D],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,b,c],kind:"Operation",name:"WAWebMexFetchGroupInfoJobQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xwa2_group_query_by_id",plural:!1,selections:[E,f,g,y,m,{alias:null,args:null,concreteType:"XWA2GroupSubject",kind:"LinkedField",name:"subject",plural:!1,selections:[y,g,n],storageKey:null},{alias:null,args:null,concreteType:"XWA2GroupDescription",kind:"LinkedField",name:"description",plural:!1,selections:[f,g,y,n],storageKey:null},{alias:null,args:null,concreteType:"XWA2GroupParticipantsConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2GroupParticipantEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XWA2User",kind:"LinkedField",name:"node",plural:!1,selections:[f,h,i,o,w],storageKey:null},p],storageKey:null},q],storageKey:null},r,s,v,C,A,D],storageKey:null}]},params:{id:"10065560693498563",metadata:{},name:"WAWebMexFetchGroupInfoJobQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebMexGetTypename",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null?void 0:a.__typename}f.getTypename=a}),66);
__d("WAWebNewsletterRpcUtils",["WAExponentialBackoff","WAWebBackendErrors","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h={minTimeout:1e3,retries:3},i=new Set([429,500]);function a(a,c){c=c===void 0?{retryableErrorCodes:i}:c;var e=c.retryableErrorCodes;c=new AbortController();c=c.signal;return d("WAExponentialBackoff").exponentialBackoff(babelHelpers["extends"]({},h,{signal:c}),function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){try{return yield a()}catch(a){if(!(a instanceof d("WAWebBackendErrors").ServerStatusCodeError))throw a;var f=e.has(a.statusCode);if(f&&c<h.retries)return b(a);throw a}});return function(a,b){return c.apply(this,arguments)}}())}g.runWithBackoff=a}),98);
__d("WAWebMexFetchGroupInfoJob",["WALogger","WAWebBackendErrors","WAWebMexClient","WAWebMexFetchGroupInfoJobQuery.graphql","WAWebMexGetTypename","WAWebNewsletterRpcUtils","WAWebSchemaGroupMetadata","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j="XWA2CommunityGroup",k="XWA2CommunityDefaultSubGroup",l="XWA2CommunitySubGroup",m="LID",n=h!==void 0?h:h=b("WAWebMexFetchGroupInfoJobQuery.graphql");function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=a.groupId,e=a.queryContext,f=a.participantsPhash;return d("WAWebNewsletterRpcUtils").runWithBackoff(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebMexClient").fetchQuery(n,{id:c,query_context:e,include_username:d("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),participants_phash:f}));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MEX][GROUP] fetched get group info for ",""])),c).tags("GQL","MEX").devConsole({response:a});return a}))});return p.apply(this,arguments)}function a(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.groupId,c=a.queryContext;a=a.participantsPhash;c=t(c);b=(yield o({groupId:b,queryContext:c,participantsPhash:a}));if(b==null)return;return r(b)});return q.apply(this,arguments)}function r(a){var b,c,e,f,g,h,i,n,o,p,q,r,t,w,x,y,z,A,B,C,D,E,F,G;a=a.xwa2_group_query_by_id;if(a==null)return null;var H=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),I=a.id,J=a.creation_time,K=a.creator;b=(b=a.creator)==null?void 0:b.pn;c=H?(c=a.creator)==null||(c=c.username_info)==null?void 0:c.username:null;var L=a.description;e=H?(e=a.description)==null||(e=e.creator)==null||(e=e.username_info)==null?void 0:e.username:null;f=(f=a.participants)==null?void 0:f.edges;g=(g=a.properties)==null?void 0:g.allow_admin_reports;h=(h=a.properties)==null?void 0:h.allow_non_admin_sub_group_creation;i=(i=a.properties)==null?void 0:i.announcement;n=(n=a.properties)==null||(n=n.ephemeral)==null?void 0:n.expiration_time_in_sec;o=((o=a.properties)==null||(o=o.lid_migration_state)==null?void 0:o.addressing_mode)===m;p=(p=a.properties)==null?void 0:p.locked;q=(q=a.properties)==null?void 0:q.member_add_mode;r=(r=a.properties)==null?void 0:r.membership_approval_mode_enabled;t=(t=a.properties)==null?void 0:t.support;var M=a.state,N=a.subject;w=(w=a.subject)==null||(w=w.creator)==null?void 0:w.pn;H=H?(H=a.subject)==null||(H=H.creator)==null||(H=H.username_info)==null?void 0:H.username:null;var O=a.total_participants_count;x=((x=a.participants)==null?void 0:x.participants_phash_match)===!0;y=(y=a.properties)==null?void 0:y.closed_by_membership_approval_mode;z=(z=a.properties)==null?void 0:z.general_chat;var P=a==null||(A=a.properties)==null||(A=A.growth_locked2)==null?void 0:A.locked,Q=a==null||(B=a.properties)==null?void 0:B.auto_add_disabled,R=a==null||(C=a.properties)==null?void 0:C.parent_group_jid,S=a==null||(D=a.properties)==null?void 0:D.capi,T=a==null||(E=a.properties)==null?void 0:E.hidden_group,U=a==null||(F=a.properties)==null?void 0:F.group_safety_check,V=a==null||(G=a.properties)==null?void 0:G.limit_sharing,aa=(a==null?void 0:a.missing_participant_identification)===!0;if(I!=null&&J!=null&&(N==null?void 0:N.value)!=null){var W,X,Y,Z,$=d("WAWebMexGetTypename").getTypename(a);c={groupInfo:babelHelpers["extends"]({id:d("WAWebWidFactory").createWid(I),owner:(K==null?void 0:K.id)!=null?d("WAWebWidFactory").createWid(K==null?void 0:K.id):void 0,creatorPn:b!=null?d("WAWebWidFactory").createWid(b):void 0,creatorUsername:c,subject:N.value,creation:Number(J),participants:v(x,f),subjectTime:Number(N==null?void 0:N.creation_time),subjectOwner:(N==null||(W=N.creator)==null?void 0:W.id)!=null?d("WAWebWidFactory").createWid(N==null||(X=N.creator)==null?void 0:X.id):void 0,subjectOwnerPn:w!=null?d("WAWebWidFactory").createWid(w):void 0,subjectOwnerUsername:H,allowNonAdminSubGroupCreation:h!=null?h:!1,generalChatAutoAddDisabled:$===l&&Q!=null?Q:!1,restrict:p===!0,announce:$===k||i===!0,support:t!=null?t:!1,desc:(I=L==null?void 0:L.value)!=null?I:void 0,descId:(K=L==null?void 0:L.id)!=null?K:void 0,descOwner:(L==null||(Y=L.creator)==null?void 0:Y.id)!=null?d("WAWebWidFactory").createWid(L==null||(Z=L.creator)==null?void 0:Z.id):void 0,descOwnerUsername:e,descTime:(L==null?void 0:L.creation_time)!=null?Number(L==null?void 0:L.creation_time):void 0,size:O,noFrequentlyForwarded:!1,incognito:$===k,ephemeralDuration:n!=null?n:void 0,membershipApprovalMode:r!=null?r:!1,memberAddMode:u(q),suspended:M===s.SUSPENDED,terminated:M===s.TERMINATED?!0:void 0,isLidAddressingMode:o,reportToAdminMode:g!=null?g:!1,isParentGroupClosed:y===!0,isParentGroup:$===j,parentGroup:R!=null?d("WAWebWidFactory").createWid(R):void 0,generalSubgroup:z===!0,defaultSubgroup:$===k},($===l||$===k)&&{parentGroupSubject:null},{numSubgroups:0,membershipApprovalRequest:a.membership_approval_request===!0,growthLockType:P===!0?"invite":void 0,hasCapi:S===!0,hiddenSubgroup:T!=null?T:void 0,groupSafetyCheck:U!=null?U:void 0,limitSharingEnabled:(b=V==null?void 0:V.limit_sharing_enabled)!=null?b:void 0,hasIncompleteParticipantInformation:aa}),participantPhashMatch:x};return c}}var s={ACTIVE:"ACTIVE",TERMINATED:"NON_EXISTENT",SUSPENDED:"SUSPENDED"};function t(a){switch(a){case"interactive":return"INTERACTIVE";case"missing_participant_identification":return"MISSING_PARTICIPANT_IDENTIFICATION";default:a;return"UNKNOWN"}}function u(a){switch(a){case"ADMIN_ADD":return d("WAWebSchemaGroupMetadata").MemberAddMode.ADMIN_ADD;case"ALL_MEMBER_ADD":return d("WAWebSchemaGroupMetadata").MemberAddMode.ALL_MEMBER_ADD;default:return d("WAWebSchemaGroupMetadata").MemberAddMode.ADMIN_ADD}}function v(a,b){if(a)return[];if(b==null)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"missing participants in group info participant response");var c=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled();a=b.map(function(a){var b=a.node;a=a.role;var e,f,g;if(b.id==null)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"missing id in group info participant response");else e=d("WAWebWidFactory").createWid(b.id);b.lid!=null&&(f=d("WAWebWidFactory").createWid(b.lid));b.pn!=null&&(g=d("WAWebWidFactory").createWid(b.pn));return{id:e,lid:f,phoneNumber:g!=null?g:null,displayName:(e=b.display_name)!=null?e:null,isAdmin:a==="ADMIN_MEMBER"||a==="SUPERADMIN_MEMBER",isSuperAdmin:a==="SUPERADMIN_MEMBER",username:c?(e=b.username_info)==null?void 0:e.username:null}});return a}g.mexGetGroupInfo=a}),98);
__d("WAWebGroupQueryGroupJob",["Promise","WAJobOrchestratorTypes","WALogger","WAWebApiChat","WAWebApiParticipantStore","WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob","WAWebDBGroupParticipant","WAWebDBGroupsGroupMetadata","WAWebEnvironment","WAWebGroupGatingUtils","WAWebGroupsParticipantsApi","WAWebLimitSharingModelUtils","WAWebMexFetchGroupInfoJob","WAWebOrchestratorNonPersistedJob","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a,e){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("queryGroup",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c,f=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));if(f!=null&&f.terminated){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["groupQueryJob: group "," does not exist"])),a);return}var g=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),j={groupId:a.toString(),queryContext:e};if(d("WAWebGroupGatingUtils").isPassingParticipantsPhashToGroupInfoQueryEnabled())if((f==null?void 0:f.hasIncompleteParticipantInformation)===!0&&g)j.queryContext="missing_participant_identification";else if(e!=="out_of_sync_update"){e;f=(yield d("WAWebDBGroupParticipant").computeGroupParticipantsHash(a));f!=null&&(j.participantsPhash=f)}f=(yield d("WAWebMexFetchGroupInfoJob").mexGetGroupInfo(j));j=f==null?void 0:f.groupInfo;f=(f==null?void 0:f.participantPhashMatch)===!0;if((c=j)!=null&&c.id){c=j.participants.map(function(a){return{id:d("WAWebWidFactory").asUserWidOrThrow(a.id),lid:a.lid?d("WAWebWidFactory").asUserWidOrThrow(a.lid):null,displayName:a.displayName,phoneNumber:a.phoneNumber?d("WAWebWidFactory").asUserWidOrThrow(a.phoneNumber):null}});var k=j,l=k.owner,m=k.creatorPn,n=k.creatorUsername,o=k.descOwner,p=k.descOwnerUsername,q=k.subjectOwner,r=k.subjectOwnerPn,s=k.subjectOwnerUsername;k=k.participants;l&&m&&c.push({id:d("WAWebWidFactory").asUserWidOrThrow(l),lid:d("WAWebWidFactory").asUserWidOrThrow(l),phoneNumber:d("WAWebWidFactory").asUserWidOrThrow(m)});q&&r&&c.push({id:d("WAWebWidFactory").asUserWidOrThrow(q),lid:d("WAWebWidFactory").asUserWidOrThrow(q),phoneNumber:d("WAWebWidFactory").asUserWidOrThrow(r)});var t=[];l&&n!=null&&t.push({userId:d("WAWebWidFactory").asUserWidOrThrow(l),username:n});q&&s!=null&&t.push({userId:d("WAWebWidFactory").asUserWidOrThrow(q),username:s});o&&p!=null&&t.push({userId:d("WAWebWidFactory").asUserWidOrThrow(o),username:p});k.forEach(function(a){var b=a.username;a=a.id;b!=null&&t.push({userId:d("WAWebWidFactory").asUserWidOrThrow(a),username:b})});m=(yield d("WAWebApiChat").injectAdditionalEphemeralInfoFromDB([j]));r=m[0];l=(yield (i||(i=b("Promise"))).all([f===!0?d("WAWebDBGroupParticipant").getGroupParticipant({groupWid:a}):null,d("WAWebDBGroupsGroupMetadata").updateGroupMetadataTable({groupInfos:[r]}),f!==!0&&d("WAWebGroupsParticipantsApi").updateParticipants({group:j.id,participants:k,groupInfo:j}),d("WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob").createOrReplaceDisplayNamesAndLidPnMappings(c,!0),g&&t.length>0&&d("WAWebSetUsernameJob").setUsernamesJob(t)]));n=l[0];j!=null&&n!=null&&(j=babelHelpers["extends"]({},j,{participants:n.participants}));d("WAWebApiParticipantStore").clearAdminshipCache(j.id.toString());void d("WAWebLimitSharingModelUtils").genLimitSharingSystemMessageOnPersistedChat({chatWID:a,sharingLimited:r.limitSharingEnabled})}return j}),c("WAWebEnvironment").isWindows?{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}:null).waitUntilCompleted()}g.queryGroupJob=a}),98);
__d("WAWebGroupQueryJob",["Promise","WALogger","WASmaxGroupsBatchGetGroupInfoRPC","WASmaxGroupsGetInviteGroupInfoRPC","WASmaxGroupsGetParticipatingGroupsRPC","WAWebABProps","WAWebApiChat","WAWebApiParticipantStore","WAWebBackendApi","WAWebBackendErrors","WAWebGroupDatabaseJob","WAWebGroupGetMembershipApprovalRequestsJob","WAWebGroupQueryGroupJob","WAWebGroupsQueryApi","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q;function a(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebApiParticipantStore").clearAdminshipCache();var a=(yield d("WASmaxGroupsGetParticipatingGroupsRPC").sendGetParticipatingGroupsRPC({hasParticipants:!0,hasDescription:!0}));switch(a.name){case"GetParticipatingGroupsResponseSuccess":return a.value.groupsGroup.map(function(a){a=a.groupInfoOrTruncatedGroupInfoGroupInfoMixinGroup;a=a.value;return a.truncated?a:d("WAWebGroupsQueryApi").parseGroupSmax(a)});case"GetParticipatingGroupsResponseClientError":var c=a.value.errorIQErrorBadRequestOrRateOverlimitOrFallbackClientMixinGroup.value,e=c.code;c=c.text;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["queryAllGroups failed: ",":",""])),e,c);return(q||(q=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(e),c));case"GetParticipatingGroupsResponseServerError":e=a.value.errorServerErrors.value;c=e.code;a=e.text;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["queryAllGroups failed: ",":",""])),c,a);return(q||(q=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(c),a))}});return r.apply(this,arguments)}function c(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxGroupsGetInviteGroupInfoRPC").sendGetInviteGroupInfoRPC({inviteCode:a}));switch(a.name){case"GetInviteGroupInfoResponseSuccess":return d("WAWebGroupsQueryApi").parseGroupSmax(a.value.groupInviteLinkGroupInfoMixin);case"GetInviteGroupInfoResponseClientError":var c=a.value.errorGetInviteGroupInfoClientErrors.value,e=c.code;c=c.text;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["queryGroupInvite failed: ",":",""])),e,c);return(q||(q=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(e),c));case"GetInviteGroupInfoResponseServerError":e=a.value.errorServerErrors.value;c=e.code;a=e.text;d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["queryGroupInvite failed: ",":",""])),c,a);return(q||(q=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(c),a))}});return s.apply(this,arguments)}function e(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.id,c=a.request;a=a.actionType;c=(yield d("WAWebGroupQueryGroupJob").queryGroupJob(b,c));if(c==null){d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["queryAndUpdateGroupMetadataById: unable to query group ",""])),b);return}if(c.phashMatch){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["queryAndUpdateGroupMetadataById: skip update due to phash match"])));return}b=(yield d("WAWebApiParticipantStore").injectPastParticipantsFromDB([c],a));c=b[0];a=(yield d("WAWebApiChat").injectAdditionalEphemeralInfoFromDB([c]));b=a[0];yield d("WAWebGroupDatabaseJob").updateGroupParticipantTableWithoutDeviceSyncJob([b]);d("WAWebBackendApi").frontendFireAndForget("createOrUpdateGroupMetadataFromQuery",{groupInfo:b});yield u(b)});return t.apply(this,arguments)}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.membershipApprovalMode&&a.participants.some(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a.id)&&a.isAdmin})&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")){var b=(yield d("WAWebApiChat").getChatRecord(a.id));if(!b)return;return d("WAWebGroupGetMembershipApprovalRequestsJob").queryAndUpdateGroupMembershipApprovalRequests(a.id)}});return v.apply(this,arguments)}function f(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("WASmaxGroupsBatchGetGroupInfoRPC").sendBatchGetGroupInfoRPC({queryContext:c,groupArgs:a.map(function(a){return{groupJid:a}})}));switch(e.name){case"BatchGetGroupInfoResponseSuccess":d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["queryGroupsById: successfully received batch group info for ",""])),a.length);return d("WAWebGroupsQueryApi").parseBatchGroupInfoSmax(c,e.value.groupsGroup);case"BatchGetGroupInfoResponseClientError":a=e.value.errorBatchGetGroupInfoClientErrors.value;c=a.code;a=a.text;d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["queryGroupsById failed: ",":",""])),c,a);return(q||(q=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(c),a));case"BatchGetGroupInfoResponseServerError":c=e.value.errorServerErrors.value;a=c.code;e=c.text;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["queryGroupsById failed: ",":",""])),a,e);return(q||(q=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(a),e))}});return w.apply(this,arguments)}g.queryAllGroups=a;g.queryGroupInvite=c;g.queryAndUpdateGroupMetadataById=e;g.maybeQueryAndUpdateMembershipApprovalRequests=u;g.queryGroupsById=f}),98);
__d("WAWebGroupQueryBridge",["WALogger","WATypeUtils","WAWebBackendApi","WAWebBackendErrors","WAWebGroupQueryGroupJob","WAWebGroupQueryJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["querying server for groupMetadata of group id ",""])),a.toLogString()).tags("groups");var b=d("WAWebGroupQueryGroupJob").queryGroupJob(a,"out_of_sync_update");try{b=(yield b);if(b!=null&&b.id){var c;k(a,b.subject);l(a,(c=b.isLidAddressingMode)!=null?c:!1);return{id:b.id,owner:b.owner,creation:b.creation,subject:b.subject,desc:b.desc,descId:b.descId,descOwner:b.descOwner,descTime:b.descTime,restrict:(c=b.restrict)!=null?c:!1,announce:(c=b.announce)!=null?c:!1,noFrequentlyForwarded:(c=b.noFrequentlyForwarded)!=null?c:!1,ephemeralDuration:(c=b.ephemeralDuration)!=null?c:0,membershipApprovalMode:b.membershipApprovalMode,participants:b.participants,support:(c=b.support)!=null?c:!1,suspended:(c=b.suspended)!=null?c:!1,terminated:(c=b.terminated)!=null?c:!1,parentGroup:b.parentGroup,isParentGroup:(c=b.isParentGroup)!=null?c:!1,isParentGroupClosed:(c=b.isParentGroupClosed)!=null?c:!1,defaultSubgroup:(c=b.defaultSubgroup)!=null?c:!1,generalSubgroup:(c=b.generalSubgroup)!=null?c:!1,incognito:(c=b.incognito)!=null?c:!1,isLidAddressingMode:(c=b.isLidAddressingMode)!=null?c:!1,allowNonAdminSubGroupCreation:b.allowNonAdminSubGroupCreation,generalChatAutoAddDisabled:b.generalChatAutoAddDisabled,hiddenSubgroup:(c=b.hiddenSubgroup)!=null?c:!1,groupSafetyCheck:(c=b.groupSafetyCheck)!=null?c:!1}}d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Store:GroupMetadata Unexpected server response"]))).devConsole(b)}catch(b){if(b instanceof d("WAWebBackendErrors").ServerStatusCodeError&&b.status>=400)return{id:a,stale:!1};throw b}});return j.apply(this,arguments)}function c(a){return d("WAWebGroupQueryJob").queryGroupInvite(a).then(function(a){return{status:200,groupInfo:a}})}function k(a,b){d("WATypeUtils").isString(b)&&d("WAWebBackendApi").frontendFireAndForget("updateGroupSubject",{id:a,subject:b})}function l(a,b){d("WAWebBackendApi").frontendFireAndForget("updateGroupAddressingMode",{id:a,isLidAddressingMode:b})}g.sendQueryGroup=a;g.sendQueryGroupInvite=c;g.updateSubject=k}),98);
__d("WAWebGroupQueryBridgeOneAlreadyInFlightLogger",["WALogger","WAWebWamEnumMismatchOriginType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=Object.fromEntries(Object.entries(d("WAWebWamEnumMismatchOriginType").MISMATCH_ORIGIN_TYPE).map(function(a){var b=a[0];a=a[1];return[a,b]})),j=function(){function a(){this.$1=new Map()}var b=a.prototype;b.$2=function(a){return(a=this.$1.get(a))!=null?a:0};b.increment=function(a){a=a.toString();var b=this.$2(a)+1;this.$1.set(a,b);return b};b.decrement=function(a){a=a.toString();this.$1.set(a,Math.max(this.$2(a)-1,0))};return a}();function a(a){var c=new j();return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){c.increment(b)>1&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["lid_migration - ",""])),i[e]).sendLogs("GroupLidInfra/one_in_flight_group_info_mismatch");try{e=(yield a(b));c.decrement(b);return e}catch(a){c.decrement(b);throw a}});function f(a,b){return e.apply(this,arguments)}return f}()}g.logDuplicateRequestsWrapper=a}),98);
__d("WAWebWamAddressingModeUtils",["WAWebHandleMsgCommon","WAWebWamEnumAddressingMode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case!0:return d("WAWebWamEnumAddressingMode").ADDRESSING_MODE.LID;case!1:return d("WAWebWamEnumAddressingMode").ADDRESSING_MODE.PN}}function a(a){return a===d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.lid?d("WAWebWamEnumAddressingMode").ADDRESSING_MODE.LID:d("WAWebWamEnumAddressingMode").ADDRESSING_MODE.PN}function b(a){return a.isLidAddressingMode==null?{}:{localAddressingMode:h(a.isLidAddressingMode)}}g.getWamAddressingModeFromString=a;g.getAddressingModeMetricsFromGroupMetadata=b}),98);
__d("WAWebWamAddressingModeMismatchReporter",["WAWebAddressingModeMismatchWamEvent","WAWebWamAddressingModeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){new(d("WAWebAddressingModeMismatchWamEvent").AddressingModeMismatchWamEvent)(babelHelpers["extends"]({},a,{localAddressingMode:d("WAWebWamAddressingModeUtils").getWamAddressingModeFromString(a.localAddressingMode),serverAddressingMode:d("WAWebWamAddressingModeUtils").getWamAddressingModeFromString(a.serverAddressingMode)})).commit()}g.logAddressingModeMismatch=a}),98);
__d("WAWebGroupHandleAddressingModeMismatch",["WALogger","WANullthrows","WAWebApiMembershipApprovalRequestStore","WAWebBackendApi","WAWebDBGroupParticipant","WAWebGroupQueryBridge","WAWebGroupQueryBridgeOneAlreadyInFlightLogger","WAWebHandleMsgCommon","WAWebLidMigrationUtils","WAWebModelStorageUtils","WAWebWamAddressingModeMismatchReporter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("WAWebGroupQueryBridgeOneAlreadyInFlightLogger").logDuplicateRequestsWrapper(d("WAWebGroupQueryBridge").sendQueryGroup);function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.serverAddressingMode===d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.lid;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Migrating group "," to addressing mode ",""])),a.toString(),b.serverAddressingMode);d("WAWebWamAddressingModeMismatchReporter").logAddressingModeMismatch(b);yield m(a,c,b);yield o(a,c)});return l.apply(this,arguments)}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("WAWebDBGroupParticipant").migrateParticipantInfoAddressingMode(a,b));if(e===d("WAWebDBGroupParticipant").AddressingModeMigrationResult.Success){e=(yield d("WAWebDBGroupParticipant").getGroupParticipant({groupWid:a}));d("WAWebBackendApi").frontendFireAndForget("updateGroupAddressingMode",{id:a,isLidAddressingMode:b,groupInfoUpdate:{participants:e==null?void 0:e.participants}})}else d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unable to migrate participants in "," with local data"])),a.toString()),yield k(a,c.mismatchOrigin)});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=d("WAWebLidMigrationUtils").toAddressingModeFactory(e),g=(yield d("WAWebApiMembershipApprovalRequestStore").getMembershipApprovalRequests(a));if(g.length===0)return;try{var h=g.map(function(a){return babelHelpers["extends"]({},a,{id:c("WANullthrows")(f(a.id)),addedBy:c("WANullthrows")(f(a.addedBy))})});yield d("WAWebModelStorageUtils").getStorage().lock(["pending-membership-approval-request"],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebApiMembershipApprovalRequestStore").removeMembershipApprovalRequests(a,g.map(function(a){return a.id})),yield d("WAWebApiMembershipApprovalRequestStore").addMembershipApprovalRequests(a,h)}));d("WAWebBackendApi").frontendFireAndForget("removeMembershipApprovalRequests",{groupId:a,requestIds:g.map(function(a){return a.id})});d("WAWebBackendApi").frontendFireAndForget("addMembershipApprovalRequests",{groupId:a,requests:h})}catch(b){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Unable to migrate pending approvals in "," with local data"])),a.toString())}});return p.apply(this,arguments)}g.handleAddressingModeMismatch=a}),98);
__d("WAWebGroupParticipantsJob",["WAJobOrchestratorTypes","WAWebGroupsParticipantsApi","WAWebLidMigrationUtils","WAWebOrchestratorNonPersistedJob","WAWebSchemaParticipant","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("updateParticipants",function(a){return d("WAWebGroupsParticipantsApi").updateParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function c(a,b){a={parentGroupId:a,isParentGroupLidAddressingMode:b};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("migrateParticipantsToLIDOrPN",function(a){return m(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function e(a,b,c,e){a={group:a,participants:b,isOffline:c,reason:e};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("addParticipants",function(a){return d("WAWebGroupsParticipantsApi").addParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function f(a,b,c,e,f,g,h){a={group:a,participants:b,timestamp:c,author:e,reason:f,groupMetadata:g,isOffline:h};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("removeParticipants",function(a){return d("WAWebGroupsParticipantsApi").removeParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function h(a,b,c,e){a={group:a,participants:b,groupMetadata:c,isOffline:e};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("demoteParticipants",function(a){return d("WAWebGroupsParticipantsApi").demoteParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function i(a,b,c,e){a={group:a,participants:b,groupMetadata:c,isOffline:e};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("promoteParticipants",function(a){return d("WAWebGroupsParticipantsApi").promoteParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function j(a,b){a={group:a,newSuperAdmin:b};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("setGroupSuperAdmin",function(a){return d("WAWebGroupsParticipantsApi").setGroupSuperAdmin(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function k(a,b,c){a={group:a,participants:b,isOffline:c};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("promoteCommunityParticipants",function(a){return d("WAWebGroupsParticipantsApi").promoteCommmunityParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function l(a,b,c){a={group:a,participants:b,isOffline:c};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("demoteCommunityParticipants",function(a){return d("WAWebGroupsParticipantsApi").demoteCommmunityParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.parentGroupId;a=a.isParentGroupLidAddressingMode;var c=(yield d("WAWebSchemaParticipant").getParticipantTable().get(b));if(c==null)return;var e=a?d("WAWebLidMigrationUtils").toUserLidOrThrow:d("WAWebLidMigrationUtils").toPnOrThrow;a=function(a){return a.map(function(a){return e(d("WAWebWidFactory").createUserWid(a)).toString()})};var f=a(c.participants),g=a(c.admins);a=a((a=c==null?void 0:c.superAdmins)!=null?a:[]);c=c.pastParticipants.map(function(a){var b=e(d("WAWebWidFactory").createUserWid(a.jid)).toString();return babelHelpers["extends"]({},a,{jid:b})});yield d("WAWebSchemaParticipant").getParticipantTable().merge(b,{groupId:b,participants:f,pastParticipants:c,admins:g,superAdmins:a})});return n.apply(this,arguments)}g.updateParticipantsJob=a;g.migrateParentGroupToLIDOrFallbackToPNJob=c;g.addParticipantsJob=e;g.removeParticipantsJob=f;g.demoteParticipantsJob=h;g.promoteParticipantsJob=i;g.setGroupSuperAdminJob=j;g.promoteCommunityParticipantsJob=k;g.demoteCommunityParticipantsJob=l}),98);
__d("WAWebGroupSafetyCheckGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WAWebABProps").getABPropConfigValue("group_safety_check_enabled")}function b(){return d("WAWebABProps").getABPropConfigValue("is_group_chat_open_logging_enabled")}function c(){return d("WAWebABProps").getABPropConfigValue("is_part_of_gsc_experiment")}g.groupSafetyCheckM2Enabled=a;g.groupSafetyCheckLoggingEnabled=b;g.groupSafetyCheckIsPartOfExperiment=c}),98);
__d("WAWebHandleGroupNotificationConst",["WATimeUtils","WAWebABProps","WAWebApiParticipantStore","WAWebBackendApi","WAWebCommunityGatingUtils","WAWebDBGroupsGroupMetadata","WAWebGroupType","WAWebGroupsParticipantsApi","WAWebLidMigrationUtils","WAWebNoop","WAWebRuntimeEnvironmentUtils","WAWebUserPrefsMeUser","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=Object.freeze({REMOVE:"remove",ADD:"add",DEMOTE:"demote",DELETE:"delete",PROMOTE:"promote",MODIFY:"modify",CREATE:"create",SUBJECT:"subject",DESC:"description",LOCKED:"locked",UNLOCKED:"unlocked",ANNOUNCE:"announcement",NOT_ANNOUNCE:"not_announcement",NO_FREQUENTLY_FORWARDED:"no_frequently_forwarded",FREQUENTLY_FORWARDED_OK:"frequently_forwarded_ok",INVITE:"invite",EPHEMERAL:"ephemeral",NOT_EPHEMERAL:"not_ephemeral",REVOKE_INVITE:"revoke",SUSPENDED:"suspended",UNSUSPENDED:"unsuspended",GROWTH_LOCKED:"growth_locked",GROWTH_UNLOCKED:"growth_unlocked",LINK:"link",UNLINK:"unlink",LINKED_GROUP_PROMOTE:"linked_group_promote",LINKED_GROUP_DEMOTE:"linked_group_demote",MEMBERSHIP_APPROVAL_MODE:"membership_approval_mode",MEMBERSHIP_APPROVAL_REQUEST:"membership_approval_request",CREATED_MEMBERSHIP_REQUESTS:"created_membership_requests",REVOKED_MEMBERSHIP_REQUESTS:"revoked_membership_requests",ALLOW_NON_ADMIN_SUB_GROUP_CREATION:"allow_non_admin_sub_group_creation",NOT_ALLOW_NON_ADMIN_SUB_GROUP_CREATION:"not_allow_non_admin_sub_group_creation",ALLOW_ADMIN_REPORTS:"allow_admin_reports",NOT_ALLOW_ADMIN_REPORTS:"not_allow_admin_reports",REPORTS:"reports",CREATED_SUBGROUP_SUGGESTION:"created_sub_group_suggestion",REVOKED_SUB_GROUP_SUGGESTIONS:"revoked_sub_group_suggestions",CHANGE_NUMBER:"change_number",MEMBER_ADD_MODE:"member_add_mode",AUTO_ADD_DISABLED:"auto_add_disabled",IS_CAPI_HOSTED_GROUP:"is_capi_hosted_group",GROUP_SAFETY_CHECK:"group_safety_check",LIMIT_SHARING_ENABLED:"limit_sharing_enabled",MISSING_PARTICIPANT_IDENTIFICATION:"missing_participant_identification"});function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));return!!a&&a.growthLockType===b&&((b=a.growthLockExpiration)!=null?b:0)>d("WATimeUtils").unixTime()});return j.apply(this,arguments)}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.REVOKE_INVITE||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.SUSPEND||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.GROUP_SAFETY_CHECK)return!0;if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION&&!d("WAWebCommunityGatingUtils").memberAddedGroupsM1Enabled())return!0;if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.GROWTH_UNLOCKED){if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED){if(b.type!=="invite")return!0;var e=(yield i(a.chatId,b.type));if(e)return!0}e=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(a.chatId.toString()));return!e}if((b.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE)&&(yield m(a.chatId))===!0)return!0;if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE){e=b.participants.length===1&&d("WAWebUserPrefsMeUser").isMeAccount(b.participants[0].id);if(!e)return!0}if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE&&b.participants.length===1&&!d("WAWebUserPrefsMeUser").isMeAccount(b.participants[0].id)){e=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(a.chatId.toString()));if(!e)return!0}if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.REMOVE&&b.participants.length===1&&c("WAWebWid").equals.apply(c("WAWebWid"),d("WAWebLidMigrationUtils").toCommonAddressingMode(a.author,b.participants[0].id))){e=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(a.chatId.toString()));var f=d("WAWebUserPrefsMeUser").isMeAccount(a.author);if(!e||f)return!0}if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION){e=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(a.chatId.toString()));if(!e||b.isExistingGroup===!0&&!d("WAWebCommunityGatingUtils").memberSuggestedGroupsM3ReceiverEnabled())return!0}if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.DELETE){f=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a.chatId));e=f!=null?d("WAWebGroupType").getGroupTypeFromGroupMetadata(f):null;if(b.reason===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT&&e===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP)return!1;else if(b.reason===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT&&e===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP)return!0;return!0}if(b.actionType===(d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST:d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS))return!0;if(d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")&&b.actionType===d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS){f=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(a.chatId.toString()));if(!f)return!0}if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS&&b.skipGenMsg)return!0;if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS&&b.shouldSkipGenMsg===!0)return!0;if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADMIN_REPORT_RECIEVED&&b.shouldSkipGenMsg===!0)return!0;if((b.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.MODIFY)&&(yield m(a.chatId))===!0)return!0;if(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE){e=b.participants.every(function(a){a=a.id;return a.isLid()});f=a.isLidAddressingMode===!0;if(!f&&e)return!0}return!1});return k.apply(this,arguments)}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebRuntimeEnvironmentUtils").isWorker())return d("WAWebBackendApi").frontendSendAndReceive("notAlreadyInGroup",{groupId:a,participants:b});var c=new Set((a=(a=(yield d("WAWebGroupsParticipantsApi").getParticipants(a)))==null?void 0:a.participants)!=null?a:[]);return b.filter(function(a){a=a.id;return!c.has(String(a))})});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));return Boolean(a==null?void 0:a.defaultSubgroup)});return n.apply(this,arguments)}function f(a){var b=a.author;a=a.authorPhoneNumber;return b!=null?{id:b,phoneNumber:a}:null}function o(a){var b;b=(b=a.participants)!=null?b:(b=a.groupInfo)==null?void 0:b.participants;var d=b!=null?[].concat(b):[];$$gen$m0:{b=a;if((typeof b==="object"&&b!==null||typeof b==="function")&&"actionType"in b&&b.actionType===h.CREATE&&(typeof b.groupInfo==="object"&&b.groupInfo!==null||typeof b.groupInfo==="function")&&"owner"in b.groupInfo&&"creatorPn"in b.groupInfo&&"subjectOwner"in b.groupInfo&&"subjectOwnerPn"in b.groupInfo){a=b.groupInfo.owner;var e=b.groupInfo.creatorPn,f=b.groupInfo.subjectOwner,g=b.groupInfo.subjectOwnerPn;a!=null&&d.push({id:a,phoneNumber:e});f!=null&&d.push({id:f,phoneNumber:g});break $$gen$m0}if((typeof b==="object"&&b!==null||typeof b==="function")&&"actionType"in b&&b.actionType===h.SUBJECT&&"s_o"in b&&"subjectOwnerPn"in b){a=b.s_o;e=b.subjectOwnerPn;a!=null&&e!=null&&d.push({id:a,phoneNumber:e});break $$gen$m0}if((typeof b==="object"&&b!==null||typeof b==="function")&&"actionType"in b&&b.actionType===h.CREATED_MEMBERSHIP_REQUESTS&&"requests"in b){f=b.requests;f.forEach(function(a){var b=a.wid;a=a.phoneNumber;a!=null&&d.push({id:b,phoneNumber:a})});break $$gen$m0}c("WAWebNoop")();break $$gen$m0}return d}g.GROUP_NOTIFICATION_TAG=h;g.shouldSkipGenMsg=a;g.notAlreadyInGroup=e;g.getIsCagById=m;g.getAuthorLidPnFieldsFromMeta=f;g.getMappingsFromAction=o}),98);
__d("WAWebPairList",["lodash"],(function(a,b,c,d,e,f,g){function a(a){return c("lodash").flatten(a.map(function(a){return[a[0],a[1]]}))}function b(a){if(a.length%2!==0)throw new RangeError("Flattened pairs come in 2, invalid list size to unflatten!");var b=[];for(var c=0;c<a.length;c++)b.push([a[c],a[++c]]);return b}g.flattenPairList=a;g.unFlattenPairList=b}),98);
__d("WAWebProfilePicConstants",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["Remove","Set"]);c="pps.whatsapp.net";f.ProfilePicCommand=a;f.DEFAULT_HOSTNAME=c}),66);
__d("WAWebGroupSystemMsg",["Promise","WALogger","WATimeUtils","WAWebABProps","WAWebApiParticipantStore","WAWebCommunityGatingUtils","WAWebContactSystemMsg","WAWebDBCommunity","WAWebDBGroupsGroupMetadata","WAWebGroupType","WAWebGroupUtils","WAWebGroupsParticipantsApi","WAWebHandleGroupNotificationConst","WAWebLimitSharingModelUtils","WAWebMsgKey","WAWebMsgType","WAWebPairList","WAWebProfilePicConstants","WAWebRequestMethodType","WAWebSchemaGroupMetadata","WAWebUserPrefsMeUser","WAWebViewMode.flow","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function m(a,b){var e,f=a.chatId;e=(e=(e=b.owner)!=null?e:a.author)!=null?e:d("WAWebUserPrefsMeUser").getMaybeMePnUser();var g=d("WAWebGroupUtils").amIGroupAdminGivenParticipants(b.participants),h=f,i=!1,j=b.subject,k,l;if(b.defaultSubgroup===!0){var m;k="community_create";b.parentGroup&&(l=[b.parentGroup,b.subject]);e=(m=b.owner)!=null?m:a.author}else if(b.generalSubgroup===!0&&g&&d("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()){k="general_chat_add";l=["created",b.subject];e=(m=b.owner)!=null?m:a.author}else{e=(g=b.owner)!=null?g:a.author;m=b.membershipApprovalMode===!0?"true":"false";g=b.hiddenSubgroup===!0?"true":"false";b.parentGroup&&b.participants.length===1?(l=[b.parentGroup,b.parentGroupSubject,b.subject,m,g],k="empty_subgroup_create"):k="create"}return{id:new(c("WAWebMsgKey"))({remote:h,fromMe:i,participant:e,id:H(a,k)}),author:e,body:j,from:f,recipients:[],subtype:k,t:(m=b.creation)!=null?m:a.ts,type:"gp2",kind:d("WAWebMsgType").MsgKind.Gp2,templateParams:l}}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){var g=c.participants.find(function(a){var b=a.isAdmin;a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)&&b});return(yield (l||(l=b("Promise"))).all([i(),j(),k(),n(),p()])).flat();function i(){return!e&&!g&&c.defaultSubgroup===!0&&c.incognito===!0?[d("WAWebContactSystemMsg").genNotificationMsg(c.id,{type:"notification_template",kind:d("WAWebMsgType").MsgKind.NotificationTemplate,subtype:"cag_masked_thread_created",templateParams:[]})]:[]}function j(){return e?[]:[m(a,c)]}function k(){var b=c.ephemeralDuration;return a.author&&a.ts!=null&&b!=null&&b>0?[u(a.chatId,a.ts,a.author,b)]:[]}function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(f==null)return[];d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[CAG system message] participantAddMsg: participant add message with actionType: ",""])),f.actionType);return[yield s({meta:a,action:f})]});return o.apply(this,arguments)}function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c.limitSharingEnabled===!0){var b=(yield d("WAWebLimitSharingModelUtils").genLimitSharingSystemMessageOnPersistedChat({chatWID:a.chatId,sharingLimited:c.limitSharingEnabled}));if(b)return[b]}return[]});return q.apply(this,arguments)}});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.parentGroupId;if(!a)return!1;a=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));return!a||a!=null&&(yield d("WAWebDBCommunity").getJoinedSubgroups(d("WAWebWidFactory").createWid(a.id))).length<=b?!0:!1});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;if(a.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD||a.actionType===d("WAWebGroupType").GROUP_ACTIONS.REMOVE||a.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE||a.actionType===d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE)c=a.participants.every(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a.id)});else return;if(Boolean(c))return;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[CAG system message] logErrorIfSystemMessageIsUnexpectedForCAG: actionType: ",""])),a.actionType);c=(yield d("WAWebGroupsParticipantsApi").getParticipants(b));b=d("WAWebGroupUtils").amIGroupAdmin((a=c==null?void 0:c.admins)!=null?a:[]);b||d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[CAG] received a CAG system message for a non-admin which should not have been created"]))).sendLogs("invalid-system-message-action-for-cag-non-admin",{sampling:.01})});return r.apply(this,arguments)}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.meta,e=a.action;a=a.ts;var f=b.chatId,g=b.isAdmin;g=g===void 0?!1:g;var h=b.author&&d("WAWebWidFactory").asUserWidOrThrow(b.author)||void 0,i=f,j=!1,k=null,l=[],m=h,n=e.actionType,p=null,r,s=e.parentGroupId,t=(yield d("WAWebHandleGroupNotificationConst").getIsCagById(f));t&&(yield q(e,f));switch(e.actionType){case d("WAWebGroupType").GROUP_ACTIONS.SUBJECT:k=e.subject;break;case d("WAWebGroupType").GROUP_ACTIONS.MODIFY:l=e.participants.map(function(a){a=a.id;return a});break;case d("WAWebGroupType").GROUP_ACTIONS.ADD:if(e.reason===d("WAWebGroupType").ADD_REASON.INVITE)if(s&&e.participants.some(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)}))if(e.generalSubgroup===!0&&d("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()){n="general_chat_add";p=["linked_group_join",(t=e.groupName)!=null?t:""]}else if(e.defaultSubgroup===!0){n="community_invite_rich";p=[s,(t=e.groupName)!=null?t:""]}else{n="sub_group_invite_rich";t=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(s));p=[s,(t=t==null?void 0:t.subject)!=null?t:""]}else n="invite";else if(e.reason===d("WAWebGroupType").ADD_REASON.LINKED_GROUP_JOIN)if(e.generalSubgroup===!0&&s!=null&&e.participants.some(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})&&d("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()){n="general_chat_add";p=["linked_group_join",(t=e.groupName)!=null?t:""]}else n="linked_group_join";else if(e.reason===d("WAWebGroupType").ADD_REASON.AUTO_ADD)if(s){p=[s,(t=e.groupName)!=null?t:"",(t=e.contextGroupId)!=null?t:""];n="subgroup_admin_triggered_auto_add"}else{n="auto_add";if(yield o(e,2)){p=[e.parentGroupId,(t=e.groupName)!=null?t:""]}}else if(e.reason===d("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD)if(s){n="community_participant_add_rich";p=[s,(t=e.groupName)!=null?t:""]}else{n="default_sub_group_admin_add";if(yield o(e,1)){p=[e.parentGroupId,(t=e.groupName)!=null?t:""]}}else if(e.reason===d("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_PROMOTE)n="default_sub_group_promote";else if(e.reason===d("WAWebGroupType").ADD_REASON.INVITE_AUTO_ADD)if(s&&Boolean(e.defaultSubgroup)&&e.participants.some(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})){p=[s,(t=e.groupName)!=null?t:"",(t=e.contextGroupId)!=null?t:""];n="subgroup_admin_triggered_invite_auto_add"}else n="invite_auto_add",e.contextGroupId&&(p=[e.contextGroupId,""],(yield o(e,2))?p.push("false"):p.push("true"));else if(e.participants.some(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})&&e.reason===d("WAWebGroupType").ADD_REASON.GENERAL_CHAT_AUTO_ADD&&d("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()){n="general_chat_add";p=["general_chat_auto_add",(t=e.groupName)!=null?t:""]}else if(e.reason==null&&s&&e.participants.some(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})&&e.generalSubgroup===!0&&d("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()){n="general_chat_add";p=["",(t=e.groupName)!=null?t:""]}else if(s&&e.participants.some(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})){t=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(s));p=[s,(s=t==null?void 0:t.subject)!=null?s:""];n=e.defaultSubgroup===!0?"community_participant_add_rich":"sub_group_participant_add_rich"}case d("WAWebGroupType").GROUP_ACTIONS.PROMOTE:case d("WAWebGroupType").GROUP_ACTIONS.DEMOTE:case d("WAWebGroupType").GROUP_ACTIONS.REMOVE:case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE:case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE:if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.REMOVE&&e.reason===d("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE){n="default_sub_group_demote";break}l=e.participants.map(function(a){a=a.id;return a});l.length===1&&(m=l[0]);e.actionType===d("WAWebGroupType").GROUP_ACTIONS.REMOVE&&l.length===1&&h===m&&(n="leave");break;case d("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE:n="revoke_invite";break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD:n=e.isParentGroup===!0?"parent_group_description":"description";k=e.desc;break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE:n=e.isParentGroup===!0?"parent_group_description":"description";break;case d("WAWebGroupType").GROUP_ACTIONS.RESTRICT:p=[e.value?d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off];k=p[0];e.threshold!=null&&p.push(e.threshold);break;case d("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE:case d("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD:p=[e.value?d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off];k=p[0];break;case d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL:h&&(p=[""+e.duration,h]);break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED:p=[e.type];k=p[0];break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK:case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK:case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK:case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK:case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK:case d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK:case d("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK:p=d("WAWebPairList").flattenPairList(e.groupDatas.map(function(a){return[a.id,a.subject]}));break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK:p=d("WAWebPairList").flattenPairList(e.groupDatas.map(function(a){return[a.id,a.subject]}));n="community_link_parent_group_rich";r="parentGroupLink";break;case d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP:p=[e.communityTitle];break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE:p=[e.value?d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off,g?d("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Admin:d("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Regular];e.triggered==="server"&&(h=void 0);break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE:if(!d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled"))break;t=e.memberAddMode;t!=null&&(p=[t===d("WAWebSchemaGroupMetadata").MemberAddMode.ALL_MEMBER_ADD?d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off]);break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS:s=e.requests;e.requestMethod===d("WAWebRequestMethodType").RequestMethod.NonAdminAdd&&h!=null&&s.length>0?(p=[h.toJid()].concat(s.map(function(a){a=a.wid;return a.toJid()})),n="created_membership_requests"):n="membership_approval_request";break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS:p=[e.value?d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off];g=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(b.chatId.toString()));p.push(g?d("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Admin:d("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Regular);break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:p=[e.value?d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:d("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off];break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION:n="created_subgroup_suggestion";p=[e.subject];break;case d("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED:n="general_chat_auto_add_disabled";p=[d("WAWebGroupType").GeneralChatAutoAddDisabledReasonEnum.Full];break;case d("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE:n="community_owner_update";p=[e.newOwner.toString()];l=[e.newOwner];break;case d("WAWebGroupType").GROUP_ACTIONS.HIDDEN_GROUP:n="hidden_group";break}return{id:new(c("WAWebMsgKey"))({remote:i,fromMe:j,participant:m,id:H(b,r)}),body:k?k:void 0,author:h,from:f,to:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),recipients:l.map(d("WAWebWidFactory").asUserWidOrThrow)||[],subtype:n,t:a!=null?a:b.ts,type:"gp2",viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,kind:d("WAWebMsgType").MsgKind.Gp2,templateParams:p?p:void 0}});return t.apply(this,arguments)}function e(a,b,e,f){var g=!1;return{type:"gp2",kind:d("WAWebMsgType").MsgKind.Gp2,subtype:"picture",viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,t:e,author:f,body:b===d("WAWebProfilePicConstants").ProfilePicCommand.Set?"set":"remove",recipients:[],from:a,to:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),id:new(c("WAWebMsgKey"))({remote:a,fromMe:g,id:c("WAWebMsgKey").newId_DEPRECATED()})}}function u(a,b,e,f){return{id:new(c("WAWebMsgKey"))({remote:a,fromMe:!1,participant:e,id:c("WAWebMsgKey").newId_DEPRECATED()}),author:e,from:a,to:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),recipients:[],subtype:"ephemeral",t:b,type:"gp2",kind:d("WAWebMsgType").MsgKind.Gp2,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,templateParams:[""+f]}}function f(a,b){return{id:new(c("WAWebMsgKey"))({remote:a,fromMe:!1,id:c("WAWebMsgKey").newId_DEPRECATED()}),from:a,to:d("WAWebUserPrefsMeUser").getMePnUserOrThrow(),recipients:[],subtype:"initial_pHash_mismatch",t:b,type:"gp2",kind:d("WAWebMsgType").MsgKind.Gp2,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE}}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c,e=[],f=a.chatId,g=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(f));if(g==null||g.isParentGroup===!1)return e;var h=(yield d("WAWebDBCommunity").getDefaultSubgroup(f)),i=(c=g==null?void 0:g.subject)!=null?c:"",j=d("WATimeUtils").unixTime();h!=null&&(yield d("WAWebGroupsParticipantsApi").checkMyMembership(h))&&e.push(yield s({meta:{chatId:h,author:a.author,ts:j},action:{actionType:d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP,communityTitle:i}}));yield (l||(l=b("Promise"))).all(((c=(yield d("WAWebDBCommunity").getJoinedSubgroups(d("WAWebWidFactory").createWid(g.id))))!=null?c:[]).filter(function(a){return!(h!=null&&h.equals(a))}).map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){e.push(yield s({meta:{chatId:b,author:a.author,ts:j},action:{actionType:d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP,communityTitle:i}})),e.push(yield s({meta:{chatId:b,author:a.author,ts:j},action:{actionType:d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK,groupDatas:[{id:f,subject:i}]}}))});return function(a){return c.apply(this,arguments)}}()));return e});return w.apply(this,arguments)}function x(a,b){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=[],f=a.chatId,g=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(f));if(g==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["genIntegrityDelteteParentNotificationMsgs: missing parentGroupMetadata"])));return[]}var h=(yield d("WAWebDBCommunity").getDefaultSubgroup(f));if(h!=null&&(yield d("WAWebGroupsParticipantsApi").checkMyMembership(h))){e.push(yield s({meta:{chatId:h,author:void 0,ts:d("WATimeUtils").unixTime()},action:{actionType:d("WAWebGroupType").GROUP_ACTIONS.DELETE,reason:d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT,groupDatas:[{id:f,subject:(c=g==null?void 0:g.subject)!=null?c:""}]}}))}yield (l||(l=b("Promise"))).all(((a=(yield d("WAWebDBCommunity").getJoinedSubgroups(f)))!=null?a:[]).filter(function(a){return!(h!=null&&h.equals(a))}).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return e.push(yield s({meta:{chatId:a,author:void 0,ts:d("WATimeUtils").unixTime()},action:{actionType:d("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK,groupDatas:[{id:f,subject:(a=g==null?void 0:g.subject)!=null?a:""}]}}))});return function(b){return a.apply(this,arguments)}}()));return e});return y.apply(this,arguments)}function z(a,b){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.chatId,e=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(c));if((e==null?void 0:e.isParentGroup)===!0){e=(yield d("WAWebDBCommunity").getDefaultSubgroup(c));if(e&&(b.actionType===d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD||b.actionType===d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE))return s({meta:babelHelpers["extends"]({},a,{chatId:e}),action:babelHelpers["extends"]({},b,{isParentGroup:!0})})}return s({meta:a,action:b})});return A.apply(this,arguments)}function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.chatId;c=(yield d("WAWebDBCommunity").getDefaultSubgroup(c));if(!c)return;var e=(yield d("WAWebGroupsParticipantsApi").getParticipants(c));e=Boolean(e==null?void 0:e.participants.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(d("WAWebWidFactory").createWid(a))}));if(!e)return;return s({meta:babelHelpers["extends"]({},a,{chatId:c}),action:b})});return C.apply(this,arguments)}function D(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.chatId;c=(yield d("WAWebDBCommunity").getDefaultSubgroup(c));if(!(c&&b.actionType===d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION))return;return s({meta:babelHelpers["extends"]({},a,{chatId:c}),action:b})});return E.apply(this,arguments)}function F(a,b){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.chatId;c=(yield d("WAWebDBCommunity").getDefaultSubgroup(c));if(!c)return;var e=(yield d("WAWebGroupsParticipantsApi").getParticipants(c));e=Boolean(e==null?void 0:e.participants.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(d("WAWebWidFactory").createWid(a))}));if(!e)return;return s({meta:babelHelpers["extends"]({},a,{chatId:c}),action:b})});return G.apply(this,arguments)}function H(a,b){var d;d=(d=a.externalId)!=null?d:c("WAWebMsgKey").newId_DEPRECATED();b!=null&&(d=""+d+b);return""+d+((b=a.ts)!=null?b:"")}g.genMsgsForGroupCreation=a;g.genGroupNotificationMsg=s;g.genGroupPicChangeNotificationMsg=e;g.genInitialPhashMismatchMsg=f;g.generateDeleteParentNotificationMessages=v;g.genIntegrityDeleteParentNotificationMsgs=x;g.genDescriptionNotificationMsg=z;g.genAllowNonAdminSubGroupCreationNotificationMsg=B;g.genCreatedSubgroupSuggestionNotificationMsg=D;g.genCommunityOwnerUpdateNotificationMsg=F}),98);
__d("WAWebGroupUnjoinedSubgroupJob",["WAJobOrchestratorTypes","WAWebApiUnjoinedSubgroupMetadataStore","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a,b,c){c===void 0&&(c=!0);return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("updateUnjoinedSubgroups",function(a){return d("WAWebApiUnjoinedSubgroupMetadataStore").updateUnjoinedSubgroups(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted({unjoinedSubgroups:a,parentGroupId:b,link:c})}function b(a,b){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("cleanUnjoinedSubgroups",function(a){return d("WAWebApiUnjoinedSubgroupMetadataStore").cleanUnjoinedSubgroups(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted({unjoinedSubgroupIds:a,parentGroupId:b})}g.updateUnjoinedSubgroupsJob=a;g.cleanUnjoinedSubgroupsJob=b}),98);
__d("WAWebHandlePushnameUpdate",["WALogger","WAWebBackendApi","WAWebDBBulkPersistContact","WAWebPromiseQueue","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=new(d("WAWebPromiseQueue").PromiseQueue)();function j(a,b){return d("WAWebBackendApi").frontendSendAndReceive("updatePushname",{contactId:a,pushname:b})}function a(a,c,e){e===void 0&&(e=!1);var f=d("WAWebWidFactory").asUserWidOrThrow(a);return i.enqueue(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=void 0;e||(a=(yield j(f,c)));(a===!0||a===void 0)&&(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["updatePushName: set pushname for ",""])),f.toLogString()),void d("WAWebDBBulkPersistContact").persistContactUpdateBatched(f,{pushname:c}))}))}g.updatePushname=a}),98);
__d("WAWebLidMappingUsernameLearnUtils",["WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob","WAWebGroupType","WAWebHandleGroupNotificationConst","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),c=d("WAWebUsernameGatingUtils").lidGroupMigrationNonMemberIQEnabled(),e=[],f=[];a.forEach(function(a){var g;(g=a.participants)==null||g.forEach(function(a){var c=a.id,g=a.lid,h=a.phoneNumber,i=a.displayName;a=a.username;e.push({id:d("WAWebWidFactory").asUserWidOrThrow(c),lid:g?d("WAWebWidFactory").asUserWidOrThrow(g):null,phoneNumber:h?d("WAWebWidFactory").asUserWidOrThrow(h):null,displayName:i});b&&a!=null&&f.push({userId:d("WAWebWidFactory").asUserWidOrThrow(c),username:a})});if(c){a.subjectOwner&&e.push({id:a.subjectOwner,lid:a.subjectOwner.isLid()?a.subjectOwner:null,phoneNumber:a.subjectOwnerPn});if(a.owner){e.push({id:a.owner,lid:(g=a.owner)!=null&&g.isLid()?a.owner:null,phoneNumber:a.creatorPn})}if(a.descOwner){e.push({id:a.descOwner,lid:(g=a.descOwner)!=null&&g.isLid()?a.descOwner:null,phoneNumber:a.descOwnerPn})}}if(b){if(a.owner){g=d("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:d("WAWebWidFactory").asUserWidOrThrow(a.owner),username:a.creatorUsername,usernameCountryCode:a.creatorCountryCode});g&&f.push(g)}a.subjectOwner&&a.subjectOwnerUsername!=null&&f.push({username:a.subjectOwnerUsername,userId:d("WAWebWidFactory").asUserWidOrThrow(a.subjectOwner)});a.descOwner&&a.descOwnerUsername!=null&&f.push({username:a.descOwnerUsername,userId:d("WAWebWidFactory").asUserWidOrThrow(a.descOwner)})}});yield d("WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob").createOrReplaceDisplayNamesAndLidPnMappingsInBatches(e,!0);b&&f.length>0&&(yield d("WAWebSetUsernameJob").setUsernamesJob(f))});return h.apply(this,arguments)}function c(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.notification;a=a.flushImmediately;var c=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),e=[],f=[];b.actions.forEach(function(a){var b=d("WAWebHandleGroupNotificationConst").getMappingsFromAction(a);e.push.apply(e,b);if(c){b=(b=a.participants)!=null?b:(b=a.groupInfo)==null?void 0:b.participants;b==null||b.forEach(function(a){var b=a.id;a=a.username;a!=null&&f.push({userId:d("WAWebWidFactory").asUserWidOrThrow(b),username:a})});if(a.groupInfo){b=a.groupInfo;var g=b.owner,h=b.creatorUsername,i=b.creatorCountryCode,j=b.subjectOwner;b=b.subjectOwnerUsername;if(g!=null){g=d("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:d("WAWebWidFactory").asUserWidOrThrow(g),username:h,usernameCountryCode:i});g&&f.push(g)}j!=null&&b!=null&&f.push({username:b,userId:d("WAWebWidFactory").asUserWidOrThrow(j)})}if(a.actionType===d("WAWebGroupType").GROUP_ACTIONS.SUBJECT){h=a.s_o;i=a.subjectOwnerUsername;h!=null&&i!=null&&f.push({username:i,userId:d("WAWebWidFactory").asUserWidOrThrow(h)})}else a.actionType===d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS&&a.requests.forEach(function(a){var b=a.wid;a=a.username;a!=null&&f.push({username:a,userId:d("WAWebWidFactory").asUserWidOrThrow(b)})})}});var g=d("WAWebHandleGroupNotificationConst").getAuthorLidPnFieldsFromMeta(b);g!=null&&e.push(g);if(c){g=b.author;var h=b.authorUsername;b=b.authorUsernameCountryCode;if(g!=null){g=d("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:d("WAWebWidFactory").asUserWidOrThrow(g),username:h,usernameCountryCode:b});g&&f.push(g)}}yield d("WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob").createOrReplaceDisplayNamesAndLidPnMappingsInBatches(e,a);c&&f.length>0&&(yield d("WAWebSetUsernameJob").setUsernamesJob(f))});return i.apply(this,arguments)}g.processParsedGroupInfosForLidMappingAndUsernames=a;g.processParsedGroupNotificationForLidMappingAndUsernames=c}),98);
__d("errorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){throw new Error('errorCode("'+a+'"): This should not happen. Oh noes!')}f["default"]=a}),66);
__d("WAWebMaybeThrowCatalogErrors",["errorCode","$InternalEnum","WALogger","WAWebBackendErrors"],(function(a,b,c,d,e,f,g,h){var i,j,k=b("$InternalEnum").Mirrored(["GET_PRODUCT_CATALOG_OWNER_GRAPHQL"]);function a(a,b){var c=a.source.errors||[];c=c[0];c=c==null?void 0:c.code;if(c==null)return;d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["maybeThrowLocalErrorForCatalogQuery: error code ",""])),c);if(b===k.GET_PRODUCT_CATALOG_OWNER_GRAPHQL&&c===2498052)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(404,a.message);switch(c){case 2498052:case 2498049:case 2498050:case 2498051:case 2498053:case 2498056:throw new(d("WAWebBackendErrors").ServerStatusCodeError)(400,a.message);case 2498048:throw new(d("WAWebBackendErrors").E451)();case 2498054:throw new(d("WAWebBackendErrors").ServerStatusCodeError)(421);case 2498103:case 2498102:throw new(d("WAWebBackendErrors").CollectionReorderError)()}d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["maybeThrowLocalErrorForCatalogQuery: unknown error code ",""])),c)}g.ErrorSourceForCatalogQuery=k;g.maybeThrowLocalErrorForCatalogQuery=a}),98);
__d("WAWebMexFetchSubgroupSuggestionsJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"group_id"},b={defaultValue:null,kind:"LocalArgument",name:"query_context"},c={defaultValue:null,kind:"LocalArgument",name:"sub_group_hint_id"},d=[{fields:[{kind:"Variable",name:"group_id",variableName:"group_id"},{kind:"Variable",name:"query_context",variableName:"query_context"},{kind:"Variable",name:"sub_group_hint",variableName:"sub_group_hint_id"}],kind:"ObjectValue",name:"group_input"}],e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},g=[f],h={alias:null,args:null,concreteType:"XWA2GroupSubject",kind:"LinkedField",name:"subject",plural:!1,selections:g,storageKey:null},i={alias:null,args:null,concreteType:"XWA2User",kind:"LinkedField",name:"creator",plural:!1,selections:[e],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"total_participants_count",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_existing_group",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"hidden_group",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"WAWebMexFetchSubgroupSuggestionsJobQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"xwa2_group_query_by_id",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XWA2CommunitySubGroupSuggestionConnection",kind:"LinkedField",name:"sub_group_suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2CommunitySubGroupSuggestionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XWA2CommunitySubGroupSuggestion",kind:"LinkedField",name:"node",plural:!1,selections:[e,h,{alias:null,args:null,concreteType:"XWA2GroupDescription",kind:"LinkedField",name:"description",plural:!1,selections:g,storageKey:null},i,j,k,l,m],storageKey:null}],storageKey:null}],storageKey:null}],type:"XWA2CommunityGroup",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"WAWebMexFetchSubgroupSuggestionsJobQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"xwa2_group_query_by_id",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XWA2CommunitySubGroupSuggestionConnection",kind:"LinkedField",name:"sub_group_suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2CommunitySubGroupSuggestionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XWA2CommunitySubGroupSuggestion",kind:"LinkedField",name:"node",plural:!1,selections:[e,h,{alias:null,args:null,concreteType:"XWA2GroupDescription",kind:"LinkedField",name:"description",plural:!1,selections:[f,e],storageKey:null},i,j,k,l,m],storageKey:null}],storageKey:null}],storageKey:null}],type:"XWA2CommunityGroup",abstractKey:null}],storageKey:null}]},params:{id:"23972005349071865",metadata:{},name:"WAWebMexFetchSubgroupSuggestionsJobQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebMexFetchSubgroupSuggestionsJob",["Promise","WALogger","WAWebBackendErrors","WAWebMexClient","WAWebMexFetchSubgroupSuggestionsJobQuery.graphql","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k=h!==void 0?h:h=b("WAWebMexFetchSubgroupSuggestionsJobQuery.graphql");function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){e={group_id:a.toString(),query_context:e,sub_group_hint_id:c.toString()};try{c=(yield d("WAWebMexClient").fetchQuery(k,e));e=(e=c.xwa2_group_query_by_id)==null||(e=e.sub_group_suggestions)==null?void 0:e.edges;if(e==null)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"missing edges in response");e=e.map(function(b){b=b.node;if(b!=null)return m(a,b);throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"null node in sub_group_suggestions")});d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MEX][COMMUNITY] Fetched subgroup suggestions for ",""])),a.toString()).tags("GQL","MEX").devConsole({result:c});return e}catch(a){return a instanceof d("WAWebBackendErrors").ServerStatusCodeError?(j||(j=b("Promise"))).reject(a):(j||(j=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(a.code),a.message))}});return l.apply(this,arguments)}function m(a,b){var e,f,g;if(b.is_existing_group==null)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"missing is_existing_group in response");else g=b.is_existing_group;if(b.id==null)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"missing id in response");else e=new(c("WAWebWid"))(b.id,{intentionallyUsePrivateConstructor:!0});if(b.creator.id==null)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"missing creator.id in response");else f=new(c("WAWebWid"))(b.creator.id,{intentionallyUsePrivateConstructor:!0});return{id:e,parentGroupId:a,subject:(a=(e=b.subject)==null?void 0:e.value)!=null?a:"",desc:(e=b.description)==null?void 0:e.value,owner:f,t:parseInt(b.creation_time,10),isExistingGroup:g,participantCount:b.total_participants_count,hiddenSubgroup:b.hidden_group}}g.mexFetchSubgroupSuggestions=a}),98);
__d("WAWebProductMessageListConstant",[],(function(a,b,c,d,e,f){a="DELETED";f.INVALID_PRODUCT_TOKEN=a}),66);
__d("WAWebQueryAndUpdateSubgroupSuggestionsJob",["WAWebApiSubgroupSuggestionStore","WAWebBackendApi","WAWebCommunityGatingUtils","WAWebDBCommunity","WAWebMexFetchSubgroupSuggestionsJob","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebMexFetchSubgroupSuggestionsJob").mexFetchSubgroupSuggestions(a,b,"INTERACTIVE"));b=(yield d("WAWebApiSubgroupSuggestionStore").getSubgroupSuggestions(a));b=b.filter(function(a){return!c.some(function(b){return b.id.equals(a.id)&&b.owner.equals(a.owner)})});yield d("WAWebApiSubgroupSuggestionStore").removeSubgroupSuggestions(b.map(function(b){var c=b.id;b=b.owner;return{parentGroupId:a,id:c,owner:b}}));yield d("WAWebApiSubgroupSuggestionStore").addSubgroupSuggestions(a,c);d("WAWebBackendApi").frontendFireAndForget("createOrUpdateSubgroupSuggestions",{parentGroupId:a,subgroupSuggestions:c})});return i.apply(this,arguments)}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.isParentGroup===!0&&a.allowNonAdminSubGroupCreation===!1&&a.participants.some(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a.id)&&a.isAdmin})&&d("WAWebCommunityGatingUtils").memberSuggestedGroupsEnabled()){var b=(yield d("WAWebDBCommunity").getJoinedSubgroups(a.id));if(b.length)return h(a.id,b[0])}});return j.apply(this,arguments)}g.queryAndUpdateSubgroupSuggestions=h;g.maybeQueryAndUpdateSubgroupSuggestions=a}),98);
__d("WAWebUserPrefsModelStorage",["WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){function a(a){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.INITIAL_GROUP_PHASH,JSON.stringify(a))}function b(a){var b;return(b=h())==null?void 0:b[a]}function h(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.INITIAL_GROUP_PHASH);if(typeof a!=="string")return null;try{return JSON.parse(a)}catch(a){return null}}g.setInitialGroupPhash=a;g.getInitialGroupPhash=b;g.getInitialGroupPhashMap=h}),98);
__d("WAWebQueryAndUpdateGroupMetadataJob",["Promise","WALogger","WAPromiseEach","WATimeUtils","WAWebApiChat","WAWebApiParticipantStore","WAWebBackendApi","WAWebChatConstants","WAWebGroupDatabaseJob","WAWebGroupQueryJob","WAWebGroupSystemMsg","WAWebHandleSingleMsg","WAWebLidMappingUsernameLearnUtils","WAWebPhashUtils","WAWebQueryAndUpdateSubgroupSuggestionsJob","WAWebSchemaChat","WAWebUserPrefsModelStorage","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=5e4;function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.dirtyGroupJids;a=a.isHistorySyncInProgress;b!=null?b=(yield d("WAWebGroupQueryJob").queryGroupsById(b,"per_group_dirty_recovery")):b=(yield d("WAWebGroupQueryJob").queryAllGroups());if(b==null||b.length===0)return;var c=[],e=[];b.forEach(function(a){a.truncated?e.push(a):c.push(a)});yield q(c,a);yield o(e,a)});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(a.length===0)return;var e=[[]],f=0;a.forEach(function(a){var b=d("WAWebWidToJid").widToGroupJid(d("WAWebWidFactory").createWid(a.id+"@g.us"));a=a.size;f+a>m&&f>0&&(e.push([]),f=0);e[e.length-1].push(b);f+=a});yield d("WAPromiseEach").promiseEach(e,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=(yield d("WAWebGroupQueryJob").queryGroupsById(a,"get_participating_groups_paginated"));a&&(yield q(a,c))}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[group-info] failed to query batch group info for truncated group"]))).sendLogs("failed-to-query-batch-group-info")}});return function(b){return a.apply(this,arguments)}}())});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(a.length===0)return;a=(yield d("WAWebApiParticipantStore").injectPastParticipantsFromDB(a));a=(yield d("WAWebApiChat").injectAdditionalEphemeralInfoFromDB(a));var e=[],f=[];a.forEach(function(a){d("WAWebBackendApi").frontendFireAndForget("createOrUpdateGroupMetadataFromQuery",{groupInfo:a}),c&&void u(a),e.push(d("WAWebGroupQueryJob").maybeQueryAndUpdateMembershipApprovalRequests(a))});yield d("WAWebLidMappingUsernameLearnUtils").processParsedGroupInfosForLidMappingAndUsernames(a);yield d("WAWebGroupDatabaseJob").updateGroupMetadataTableJob(a);yield d("WAWebGroupDatabaseJob").updateGroupParticipantTableWithoutDeviceSyncJob(a);c&&(yield s(a));a.forEach(function(a){f.push(d("WAWebQueryAndUpdateSubgroupSuggestionsJob").maybeQueryAndUpdateSubgroupSuggestions(a))});yield (l||(l=b("Promise"))).all(e)});return r.apply(this,arguments)}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Start updateGroupEndOfHistorySyncFlag"]))).tags("history-sync","groups");var b=d("WAWebUserPrefsModelStorage").getInitialGroupPhashMap(),c=[];for(a of a){var e=(yield d("WAWebApiChat").getChatRecord(a.id));if(e)continue;e=b==null?void 0:b[a.id.toString()];if(e!=null)continue;c.push({unreadCount:0,muteExpiration:0,isAutoMuted:!1,id:a.id,endOfHistoryTransferType:d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC})}yield d("WAWebBackendApi").frontendSendAndReceive("chatCollectionAdd",{things:c,options:{merge:!0}});yield d("WAWebSchemaChat").getChatTable().bulkCreate(c.map(function(a){var b=a.endOfHistoryTransferType;a=a.id;b={endOfHistoryTransferType:b,id:a.toString(),unreadCount:0,muteExpiration:0,isAutoMuted:!1};return b}))["catch"](function(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["One ore more chat create failed for group not synced in initial sync with error: "," "])),a.message).tags("history-sync","groups")});d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Completed updateGroupEndOfHistorySyncFlag"]))).tags("history-sync","groups")});return t.apply(this,arguments)}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebUserPrefsModelStorage").getInitialGroupPhash(a.id.toString());if(b==null)return;var c=(yield d("WAWebPhashUtils").phashV1(a.participants.map(function(a){return a.id}))),e=c.substring(2);b!=null&&b!==c&&b!==e&&a.defaultSubgroup!==!0&&d("WAWebHandleSingleMsg").handleSingleMsg({chatId:a.id,newMsg:d("WAWebGroupSystemMsg").genInitialPhashMismatchMsg(a.id,d("WATimeUtils").unixTime()),handleSingleMsgOrigin:"pHashMismatchMsg"})});return v.apply(this,arguments)}g.queryAndUpdateAllGroupMetadata=a}),98);
__d("vulture",["ExecutionEnvironment","FBLogger","JSResource","VultureJSGating","asyncToGeneratorRuntime","clearTimeout","objectEntries","requireDeferred","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=0,j=-1,k=1e4,l=null;c("requireDeferred")("bumpVultureJSHash").__setRef("vulture").onReadyImmediately(function(a){l=a,v()});var m=!1,n=!1,o=null,p=new Map(),q=[],r=12e4;function s(a){var b=p.get(a);if(b===i||l==null)return;b==null?l(a,1):b===j?(l(a,1),d("VultureJSGating").isLowVolumeLoggingEnabled()&&c("FBLogger")("vulture_js","low_volume_"+a).addToCategoryKey(a).addMetadata("VULTURE_JS","LOW_VOLUME_HASH",a).warn("Low volume vulture with hash %s hit",a)):Math.floor(Math.random()*b)===0&&l(a,b)}function t(a){q.push(a)}function u(){o!=null&&(c("clearTimeout")(o),o=null),n=!1,m=!0,v()}function v(){if(m&&l!=null)while(q.length>0){var a=q.pop();a!=null&&s(a)}}function w(){c("JSResource")("VultureJSSampleRatesLoader").__setRef("vulture").load().then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield a.loadSampleRates());for(a of c("objectEntries")(a)){var b=a[0],d=a[1];p.set(b,d)}});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("vulture_js","sample_rate_load_timeout").catching(a).mustfix("Failed to fetch sample rates:  %s",a.getMessage())})["finally"](u)}function x(){if(n)return;n=!0;(h||(h=c("ExecutionEnvironment"))).canUseDOM?(o=c("setTimeout")(function(){u(),c("FBLogger")("vulture_js","sample_rate_load_timeout").warn("Timed out attemping to fetch VultureJS sample rates")},r),c("setTimeout")(w,k)):w()}function a(a){d("VultureJSGating").isLoggingEnabled()&&(m&&l!=null?s(a):(t(a),x()))}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("regenerator-runtime-0.13.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(a){var b=Object.prototype,c=b.hasOwnProperty,d,e=typeof Symbol==="function"?Symbol:{},g=e.iterator||"@@iterator",h=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function j(a,b,c,d){b=b&&b.prototype instanceof q?b:q;b=Object.create(b.prototype);d=new B(d||[]);b._invoke=x(a,c,d);return b}a.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}e={};e[g]=function(){return this};var t=Object.getPrototypeOf;t=t&&t(t(C([])));t&&t!==b&&c.call(t,g)&&(e=t);var u=s.prototype=q.prototype=Object.create(e);r.prototype=u.constructor=s;s.constructor=r;s[i]=r.displayName="GeneratorFunction";function v(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}a.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};a.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):(a.__proto__=s,i in a||(a[i]="GeneratorFunction"));a.prototype=Object.create(u);return a};a.awrap=function(a){return{__await:a}};function w(a,b){function d(e,f,g,h){e=k(a[e],a,f);if(e.type==="throw")h(e.arg);else{var i=e.arg;f=i.value;return f&&typeof f==="object"&&c.call(f,"__await")?b.resolve(f.__await).then(function(a){d("next",a,g,h)},function(a){d("throw",a,g,h)}):b.resolve(f).then(function(a){i.value=a,g(i)},function(a){return d("throw",a,g,h)})}}var e;function f(a,c){function f(){return new b(function(b,e){d(a,c,b,e)})}return e=e?e.then(f,f):f()}this._invoke=f}v(w.prototype);w.prototype[h]=function(){return this};a.AsyncIterator=w;a.async=function(b,c,d,e,f){f===void 0&&(f=Promise);var g=new w(j(b,c,d,e),f);return a.isGeneratorFunction(c)?g:g.next().then(function(a){return a.done?a.value:g.next()})};function x(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return D()}c.method=e;c.arg=f;while(!0){e=c.delegate;if(e){f=y(e,c);if(f){if(f===p)continue;return f}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(d===l){d=o;throw c.arg}c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);d=n;e=k(a,b,c);if(e.type==="normal"){d=c.done?o:m;if(e.arg===p)continue;return{value:e.arg,done:c.done}}else e.type==="throw"&&(d=o,c.method="throw",c.arg=e.arg)}}}function y(a,b){var c=a.iterator[b.method];if(c===void 0){b.delegate=null;if(b.method==="throw"){if(a.iterator["return"]){b.method="return";b.arg=void 0;y(a,b);if(b.method==="throw")return p}b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}c=k(c,a.iterator,b.arg);if(c.type==="throw"){b.method="throw";b.arg=c.arg;b.delegate=null;return p}c=c.arg;if(!c){b.method="throw";b.arg=new TypeError("iterator result is not an object");b.delegate=null;return p}if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0);else return c;b.delegate=null;return p}v(u);u[i]="Generator";u[g]=function(){return this};u.toString=function(){return"[object Generator]"};function z(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function A(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function B(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(z,this),this.reset(!0)}a.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function C(a){if(a){var b=a[g];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var d=-1;b=function b(){while(++d<a.length)if(c.call(a,d)){b.value=a[d];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:D}}a.values=C;function D(){return{value:void 0,done:!0}}B.prototype={constructor:B,reset:function(a){this.prev=0;this.next=0;this.sent=this._sent=void 0;this.done=!1;this.delegate=null;this.method="next";this.arg=void 0;this.tryEntries.forEach(A);if(!a)for(a in this)a.charAt(0)==="t"&&c.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function d(c,d){g.type="throw";g.arg=a;b.next=c;d&&(b.method="next",b.arg=void 0);return!!d}for(var e=this.tryEntries.length-1;e>=0;--e){var f=this.tryEntries[e],g=f.completion;if(f.tryLoc==="root")return d("end");if(f.tryLoc<=this.prev){var h=c.call(f,"catchLoc"),i=c.call(f,"finallyLoc");if(h&&i){if(this.prev<f.catchLoc)return d(f.catchLoc,!0);else if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else if(h){if(this.prev<f.catchLoc)return d(f.catchLoc,!0)}else if(i){if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d];if(e.tryLoc<=this.prev&&c.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=e;break}}f&&(a==="break"||a==="continue")&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);e=f?f.completion:{};e.type=a;e.arg=b;if(f){this.method="next";this.next=f.finallyLoc;return p}return this.complete(e)},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&b&&(this.next=b);return p},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);A(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;A(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:C(a),resultName:b,nextLoc:c};this.method==="next"&&(this.arg=void 0);return p}};return a}(typeof g==="object"?g.exports:{});try{regeneratorRuntime=a}catch(b){Function("r","regeneratorRuntime = r")(a)}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j();case"/runtime":return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("babel-runtime-7.11.2",["regenerator-runtime-0.13.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("regenerator-runtime-0.13.5"));d={};var h={exports:d};function i(){function a(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}h.exports=a}var j=!1;function k(){j||(j=!0,i());return h.exports}f={};var l={exports:f};function aa(){function a(a){var b;if(typeof Symbol!=="undefined"){if(Symbol.asyncIterator){b=a[Symbol.asyncIterator];if(b!=null)return b.call(a)}if(Symbol.iterator){b=a[Symbol.iterator];if(b!=null)return b.call(a)}}throw new TypeError("Object is not async iterable")}l.exports=a}var m=!1;function ba(){m||(m=!0,aa());return l.exports}a={};var n={exports:a};function ca(){function a(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function b(b){return function(){var c=this,d=arguments;return new Promise(function(e,f){var g=b.apply(c,d);function h(b){a(g,e,f,h,i,"next",b)}function i(b){a(g,e,f,h,i,"throw",b)}h(void 0)})}}n.exports=b}var o=!1;function da(){o||(o=!0,ca());return n.exports}b={};var p={exports:b};function ea(){function a(a){this.wrapped=a}p.exports=a}var q=!1;function r(){q||(q=!0,ea());return p.exports}d={};var s={exports:d};function fa(){var a=r();function b(b){return new a(b)}s.exports=b}var t=!1;function ga(){t||(t=!0,fa());return s.exports}f={};var u={exports:f};function ha(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}u.exports=a}var v=!1;function ia(){v||(v=!0,ha());return u.exports}a={};var w={exports:a};function ja(){function a(b,c){w.exports=a=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return a(b,c)}w.exports=a}var x=!1;function y(){x||(x=!0,ja());return w.exports}b={};var z={exports:b};function ka(){function a(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return!0}catch(a){return!1}}z.exports=a}var A=!1;function la(){A||(A=!0,ka());return z.exports}d={};var B={exports:d};function ma(){var a=y(),b=la();function c(d,e,f){b()?B.exports=c=Reflect.construct:B.exports=c=function(b,c,d){var e=[null];e.push.apply(e,c);c=Function.bind.apply(b,e);b=new c();d&&a(b,d.prototype);return b};return c.apply(null,arguments)}B.exports=c}var C=!1;function D(){C||(C=!0,ma());return B.exports}f={};var E={exports:f};function na(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}E.exports=b}var F=!1;function oa(){F||(F=!0,na());return E.exports}a={};var G={exports:a};function pa(){function a(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}G.exports=a}var H=!1;function I(){H||(H=!0,pa());return G.exports}b={};var J={exports:b};function qa(){function a(){J.exports=a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return a.apply(this,arguments)}J.exports=a}var K=!1;function ra(){K||(K=!0,qa());return J.exports}d={};var L={exports:d};function sa(){function a(b){L.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return a(b)}L.exports=a}var M=!1;function N(){M||(M=!0,sa());return L.exports}f={};var O={exports:f};function ta(){var a=N();function b(b,c){while(!Object.prototype.hasOwnProperty.call(b,c)){b=a(b);if(b===null)break}return b}O.exports=b}var P=!1;function ua(){P||(P=!0,ta());return O.exports}a={};var Q={exports:a};function va(){var a=ua();function b(c,d,e){typeof Reflect!=="undefined"&&Reflect.get?Q.exports=b=Reflect.get:Q.exports=b=function(b,c,d){b=a(b,c);if(!b)return;b=Object.getOwnPropertyDescriptor(b,c);return b.get?b.get.call(d):b.value};return b(c,d,e||c)}Q.exports=b}var R=!1;function wa(){R||(R=!0,va());return Q.exports}b={};var S={exports:b};function xa(){var a=y();function b(b,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,writable:!0,configurable:!0}});c&&a(b,c)}S.exports=b}var T=!1;function ya(){T||(T=!0,xa());return S.exports}d={};var U={exports:d};function za(){function a(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}U.exports=a}var V=!1;function Aa(){V||(V=!0,za());return U.exports}f={};var W={exports:f};function Ba(){function a(a){return a&&a.__esModule?a:{"default":a}}W.exports=a}var X=!1;function Ca(){X||(X=!0,Ba());return W.exports}a={};var Y={exports:a};function Da(){function a(b){typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Y.exports=a=function(a){return typeof a}:Y.exports=a=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return a(b)}Y.exports=a}var Ea=!1;function Z(){Ea||(Ea=!0,Da());return Y.exports}b={};var Fa={exports:b};function Ga(){var a=Z();function b(){if(typeof WeakMap!=="function")return null;var a=new WeakMap();b=function(){return a};return a}function c(c){if(c&&c.__esModule)return c;if(c===null||a(c)!=="object"&&typeof c!=="function")return{"default":c};var d=b();if(d&&d.has(c))return d.get(c);var e={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)){var h=f?Object.getOwnPropertyDescriptor(c,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=c[g]}e["default"]=c;d&&d.set(c,e);return e}Fa.exports=c}var Ha=!1;function Ia(){Ha||(Ha=!0,Ga());return Fa.exports}d={};var Ja={exports:d};function Ka(){var a=I();function b(b){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?Object(arguments[c]):{},e=Object.keys(d);typeof Object.getOwnPropertySymbols==="function"&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})));e.forEach(function(c){a(b,c,d[c])})}return b}Ja.exports=b}var La=!1;function Ma(){La||(La=!0,Ka());return Ja.exports}f={};var Na={exports:f};function Oa(){function a(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}Na.exports=a}var Pa=!1;function Qa(){Pa||(Pa=!0,Oa());return Na.exports}a={};var Ra={exports:a};function Sa(){var a=Qa();function b(b,c){if(b==null)return{};var d=a(b,c),e,f;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(b);for(f=0;f<g.length;f++){e=g[f];if(c.indexOf(e)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(b,e))continue;d[e]=b[e]}}return d}Ra.exports=b}var Ta=!1;function Ua(){Ta||(Ta=!0,Sa());return Ra.exports}b={};var Va={exports:b};function Wa(){var a=Z(),b=k();function c(c,d){return d&&(a(d)==="object"||typeof d==="function")?d:b(c)}Va.exports=c}var Xa=!1;function Ya(){Xa||(Xa=!0,Wa());return Va.exports}d={};var Za={exports:d};function $a(){function a(a){throw new Error('"'+a+'" is read-only')}Za.exports=a}var ab=!1;function bb(){ab||(ab=!0,$a());return Za.exports}f={};var cb={exports:f};function db(){function a(a){if(Array.isArray(a))return a}cb.exports=a}var eb=!1;function fb(){eb||(eb=!0,db());return cb.exports}a={};var gb={exports:a};function hb(){function a(a,b){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(a)))return;var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),a;!(d=(a=g.next()).done);d=!0){c.push(a.value);if(b&&c.length===b)break}}catch(a){e=!0,f=a}finally{try{!d&&g["return"]!=null&&g["return"]()}finally{if(e)throw f}}return c}gb.exports=a}var ib=!1;function jb(){ib||(ib=!0,hb());return gb.exports}b={};var kb={exports:b};function lb(){function a(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}kb.exports=a}var mb=!1;function nb(){mb||(mb=!0,lb());return kb.exports}d={};var ob={exports:d};function pb(){var a=nb();function b(b,c){if(!b)return;if(typeof b==="string")return a(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);d==="Object"&&b.constructor&&(d=b.constructor.name);if(d==="Map"||d==="Set")return Array.from(b);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return a(b,c)}ob.exports=b}var qb=!1;function rb(){qb||(qb=!0,pb());return ob.exports}f={};var sb={exports:f};function tb(){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}sb.exports=a}var ub=!1;function vb(){ub||(ub=!0,tb());return sb.exports}a={};var wb={exports:a};function xb(){var a=fb(),b=jb(),c=rb(),d=vb();function e(e,f){return a(e)||b(e,f)||c(e,f)||d()}wb.exports=e}var yb=!1;function zb(){yb||(yb=!0,xb());return wb.exports}b={};var Ab={exports:b};function Bb(){var a=nb();function b(b){if(Array.isArray(b))return a(b)}Ab.exports=b}var Cb=!1;function Db(){Cb||(Cb=!0,Bb());return Ab.exports}d={};var Eb={exports:d};function Fb(){function a(a){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(a))return Array.from(a)}Eb.exports=a}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return Eb.exports}f={};var Ib={exports:f};function Jb(){function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Ib.exports=a}var Kb=!1;function Lb(){Kb||(Kb=!0,Jb());return Ib.exports}a={};var Mb={exports:a};function Nb(){var a=Db(),b=Hb(),c=rb(),d=Lb();function e(e){return a(e)||b(e)||c(e)||d()}Mb.exports=e}var Ob=!1;function Pb(){Ob||(Ob=!0,Nb());return Mb.exports}b={};var Qb={exports:b};function Rb(){var a=r();function b(b){var c,d;function e(a,b){return new Promise(function(e,g){e={key:a,arg:b,resolve:e,reject:g,next:null};d?d=d.next=e:(c=d=e,f(a,b))})}function f(c,d){try{var e=b[c](d);d=e.value;var h=d instanceof a;Promise.resolve(h?d.wrapped:d).then(function(a){if(h){f(c==="return"?"return":"next",a);return}g(e.done?"return":"normal",a)},function(a){f("throw",a)})}catch(a){g("throw",a)}}function g(a,b){switch(a){case"return":c.resolve({value:b,done:!0});break;case"throw":c.reject(b);break;default:c.resolve({value:b,done:!1});break}c=c.next;c?f(c.key,c.arg):d=null}this._invoke=e;typeof b["return"]!=="function"&&(this["return"]=void 0)}typeof Symbol==="function"&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this});b.prototype.next=function(a){return this._invoke("next",a)};b.prototype["throw"]=function(a){return this._invoke("throw",a)};b.prototype["return"]=function(a){return this._invoke("return",a)};Qb.exports=b}var Sb=!1;function Tb(){Sb||(Sb=!0,Rb());return Qb.exports}d={};var Ub={exports:d};function Vb(){var a=Tb();function b(b){return function(){return new a(b.apply(this,arguments))}}Ub.exports=b}var Wb=!1;function Xb(){Wb||(Wb=!0,Vb());return Ub.exports}f={};var Yb={exports:f};function Zb(){function a(a){return Function.toString.call(a).indexOf("[native code]")!==-1}Yb.exports=a}var $b=!1;function ac(){$b||($b=!0,Zb());return Yb.exports}a={};var $={exports:a};function bc(){var a=N(),b=y(),c=ac(),d=D();function e(f){var g=typeof Map==="function"?new Map():void 0;$.exports=e=function(e){if(e===null||!c(e))return e;if(typeof e!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof g!=="undefined"){if(g.has(e))return g.get(e);g.set(e,f)}function f(){return d(e,arguments,a(this).constructor)}f.prototype=Object.create(e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});return b(f,e)};return e(f)}$.exports=e}var cc=!1;function dc(){cc||(cc=!0,bc());return $.exports}b={};var ec={exports:b};function fc(){ec.exports=g()}var gc=!1;function hc(){gc||(gc=!0,fc());return ec.exports}function c(a){switch(a){case void 0:throw new Error("Cannot require the default exported value from a package listed as excluded");case"/helpers/assertThisInitialized":return k();case"/helpers/asyncIterator":return ba();case"/helpers/asyncToGenerator":return da();case"/helpers/awaitAsyncGenerator":return ga();case"/helpers/classCallCheck":return ia();case"/helpers/construct":return D();case"/helpers/createClass":return oa();case"/helpers/defineProperty":return I();case"/helpers/extends":return ra();case"/helpers/get":return wa();case"/helpers/getPrototypeOf":return N();case"/helpers/inherits":return ya();case"/helpers/inheritsLoose":return Aa();case"/helpers/interopRequireDefault":return Ca();case"/helpers/interopRequireWildcard":return Ia();case"/helpers/objectSpread":return Ma();case"/helpers/objectWithoutProperties":return Ua();case"/helpers/objectWithoutPropertiesLoose":return Qa();case"/helpers/possibleConstructorReturn":return Ya();case"/helpers/readOnlyError":return bb();case"/helpers/slicedToArray":return zb();case"/helpers/toConsumableArray":return Pb();case"/helpers/typeof":return Z();case"/helpers/wrapAsyncGenerator":return Xb();case"/helpers/wrapNativeSuper":return dc();case"/regenerator":return hc()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("regenerator-runtime-0.13.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(a){var b=Object.prototype,c=b.hasOwnProperty,d,e=typeof Symbol==="function"?Symbol:{},g=e.iterator||"@@iterator",h=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function j(a,b,c,d){b=b&&b.prototype instanceof q?b:q;b=Object.create(b.prototype);d=new B(d||[]);b._invoke=x(a,c,d);return b}a.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}e={};e[g]=function(){return this};var t=Object.getPrototypeOf;t=t&&t(t(C([])));t&&t!==b&&c.call(t,g)&&(e=t);var u=s.prototype=q.prototype=Object.create(e);r.prototype=u.constructor=s;s.constructor=r;s[i]=r.displayName="GeneratorFunction";function v(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}a.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};a.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):(a.__proto__=s,i in a||(a[i]="GeneratorFunction"));a.prototype=Object.create(u);return a};a.awrap=function(a){return{__await:a}};function w(a){function b(d,e,f,g){d=k(a[d],a,e);if(d.type==="throw")g(d.arg);else{var h=d.arg;e=h.value;return e&&typeof e==="object"&&c.call(e,"__await")?Promise.resolve(e.__await).then(function(a){b("next",a,f,g)},function(a){b("throw",a,f,g)}):Promise.resolve(e).then(function(a){h.value=a,f(h)},function(a){return b("throw",a,f,g)})}}var d;function e(a,c){function e(){return new Promise(function(d,e){b(a,c,d,e)})}return d=d?d.then(e,e):e()}this._invoke=e}v(w.prototype);w.prototype[h]=function(){return this};a.AsyncIterator=w;a.async=function(b,c,d,e){var f=new w(j(b,c,d,e));return a.isGeneratorFunction(c)?f:f.next().then(function(a){return a.done?a.value:f.next()})};function x(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return D()}c.method=e;c.arg=f;while(!0){e=c.delegate;if(e){f=y(e,c);if(f){if(f===p)continue;return f}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(d===l){d=o;throw c.arg}c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);d=n;e=k(a,b,c);if(e.type==="normal"){d=c.done?o:m;if(e.arg===p)continue;return{value:e.arg,done:c.done}}else e.type==="throw"&&(d=o,c.method="throw",c.arg=e.arg)}}}function y(a,b){var c=a.iterator[b.method];if(c===void 0){b.delegate=null;if(b.method==="throw"){if(a.iterator["return"]){b.method="return";b.arg=void 0;y(a,b);if(b.method==="throw")return p}b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}c=k(c,a.iterator,b.arg);if(c.type==="throw"){b.method="throw";b.arg=c.arg;b.delegate=null;return p}c=c.arg;if(!c){b.method="throw";b.arg=new TypeError("iterator result is not an object");b.delegate=null;return p}if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0);else return c;b.delegate=null;return p}v(u);u[i]="Generator";u[g]=function(){return this};u.toString=function(){return"[object Generator]"};function z(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function A(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function B(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(z,this),this.reset(!0)}a.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function C(a){if(a){var b=a[g];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var d=-1;b=function b(){while(++d<a.length)if(c.call(a,d)){b.value=a[d];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:D}}a.values=C;function D(){return{value:void 0,done:!0}}B.prototype={constructor:B,reset:function(a){this.prev=0;this.next=0;this.sent=this._sent=void 0;this.done=!1;this.delegate=null;this.method="next";this.arg=void 0;this.tryEntries.forEach(A);if(!a)for(a in this)a.charAt(0)==="t"&&c.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function d(c,d){g.type="throw";g.arg=a;b.next=c;d&&(b.method="next",b.arg=void 0);return!!d}for(var e=this.tryEntries.length-1;e>=0;--e){var f=this.tryEntries[e],g=f.completion;if(f.tryLoc==="root")return d("end");if(f.tryLoc<=this.prev){var h=c.call(f,"catchLoc"),i=c.call(f,"finallyLoc");if(h&&i){if(this.prev<f.catchLoc)return d(f.catchLoc,!0);else if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else if(h){if(this.prev<f.catchLoc)return d(f.catchLoc,!0)}else if(i){if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d];if(e.tryLoc<=this.prev&&c.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=e;break}}f&&(a==="break"||a==="continue")&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);e=f?f.completion:{};e.type=a;e.arg=b;if(f){this.method="next";this.next=f.finallyLoc;return p}return this.complete(e)},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&b&&(this.next=b);return p},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);A(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;A(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:C(a),resultName:b,nextLoc:c};this.method==="next"&&(this.arg=void 0);return p}};return a}(typeof g==="object"?g.exports:{});try{regeneratorRuntime=a}catch(b){Function("r","regeneratorRuntime = r")(a)}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j();case"/runtime":return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("babel-runtime-7.4.4",["regenerator-runtime-0.13.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("regenerator-runtime-0.13.2"));d={};var h={exports:d};function i(){function a(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}h.exports=a}var j=!1;function k(){j||(j=!0,i());return h.exports}f={};var l={exports:f};function aa(){function a(a){var b;if(typeof Symbol!=="undefined"){if(Symbol.asyncIterator){b=a[Symbol.asyncIterator];if(b!=null)return b.call(a)}if(Symbol.iterator){b=a[Symbol.iterator];if(b!=null)return b.call(a)}}throw new TypeError("Object is not async iterable")}l.exports=a}var m=!1;function ba(){m||(m=!0,aa());return l.exports}a={};var n={exports:a};function ca(){function a(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function b(b){return function(){var c=this,d=arguments;return new Promise(function(e,f){var g=b.apply(c,d);function h(b){a(g,e,f,h,i,"next",b)}function i(b){a(g,e,f,h,i,"throw",b)}h(void 0)})}}n.exports=b}var o=!1;function da(){o||(o=!0,ca());return n.exports}b={};var p={exports:b};function ea(){function a(a){this.wrapped=a}p.exports=a}var q=!1;function r(){q||(q=!0,ea());return p.exports}d={};var s={exports:d};function fa(){var a=r();function b(b){return new a(b)}s.exports=b}var t=!1;function ga(){t||(t=!0,fa());return s.exports}f={};var u={exports:f};function ha(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}u.exports=a}var v=!1;function ia(){v||(v=!0,ha());return u.exports}a={};var w={exports:a};function ja(){function a(b,c){w.exports=a=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return a(b,c)}w.exports=a}var x=!1;function y(){x||(x=!0,ja());return w.exports}b={};var z={exports:b};function ka(){var a=y();function b(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return!0}catch(a){return!1}}function c(d,e,f){b()?z.exports=c=Reflect.construct:z.exports=c=function(b,c,d){var e=[null];e.push.apply(e,c);c=Function.bind.apply(b,e);b=new c();d&&a(b,d.prototype);return b};return c.apply(null,arguments)}z.exports=c}var A=!1;function B(){A||(A=!0,ka());return z.exports}d={};var C={exports:d};function la(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}C.exports=b}var D=!1;function ma(){D||(D=!0,la());return C.exports}f={};var E={exports:f};function na(){function a(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}E.exports=a}var F=!1;function G(){F||(F=!0,na());return E.exports}a={};var H={exports:a};function oa(){function a(){H.exports=a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return a.apply(this,arguments)}H.exports=a}var I=!1;function pa(){I||(I=!0,oa());return H.exports}b={};var J={exports:b};function qa(){function a(b){J.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return a(b)}J.exports=a}var K=!1;function L(){K||(K=!0,qa());return J.exports}d={};var M={exports:d};function ra(){var a=L();function b(b,c){while(!Object.prototype.hasOwnProperty.call(b,c)){b=a(b);if(b===null)break}return b}M.exports=b}var N=!1;function sa(){N||(N=!0,ra());return M.exports}f={};var O={exports:f};function ta(){L();var a=sa();function b(c,d,e){typeof Reflect!=="undefined"&&Reflect.get?O.exports=b=Reflect.get:O.exports=b=function(b,c,d){b=a(b,c);if(!b)return;b=Object.getOwnPropertyDescriptor(b,c);return b.get?b.get.call(d):b.value};return b(c,d,e||c)}O.exports=b}var P=!1;function ua(){P||(P=!0,ta());return O.exports}a={};var Q={exports:a};function va(){var a=y();function b(b,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,writable:!0,configurable:!0}});c&&a(b,c)}Q.exports=b}var R=!1;function wa(){R||(R=!0,va());return Q.exports}b={};var S={exports:b};function xa(){function a(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}S.exports=a}var T=!1;function ya(){T||(T=!0,xa());return S.exports}d={};var U={exports:d};function za(){function a(a){return a&&a.__esModule?a:{"default":a}}U.exports=a}var V=!1;function Aa(){V||(V=!0,za());return U.exports}f={};var W={exports:f};function Ba(){function a(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}W.exports=a}var X=!1;function Ca(){X||(X=!0,Ba());return W.exports}a={};var Y={exports:a};function Da(){var a=G();function b(b){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{},e=Object.keys(d);typeof Object.getOwnPropertySymbols==="function"&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})));e.forEach(function(c){a(b,c,d[c])})}return b}Y.exports=b}var Ea=!1;function Fa(){Ea||(Ea=!0,Da());return Y.exports}b={};var Ga={exports:b};function Ha(){function a(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}Ga.exports=a}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return Ga.exports}d={};var Ka={exports:d};function La(){var a=Ja();function b(b,c){if(b==null)return{};var d=a(b,c),e,f;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(b);for(f=0;f<g.length;f++){e=g[f];if(c.indexOf(e)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(b,e))continue;d[e]=b[e]}}return d}Ka.exports=b}var Ma=!1;function Na(){Ma||(Ma=!0,La());return Ka.exports}f={};var Z={exports:f};function Oa(){function a(b){typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?a=function(a){return typeof a}:a=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return a(b)}function b(c){typeof Symbol==="function"&&a(Symbol.iterator)==="symbol"?Z.exports=b=function(b){return a(b)}:Z.exports=b=function(b){return b&&typeof Symbol==="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)};return b(c)}Z.exports=b}var Pa=!1;function Qa(){Pa||(Pa=!0,Oa());return Z.exports}a={};var Ra={exports:a};function Sa(){var a=Qa(),b=k();function c(c,d){return d&&(a(d)==="object"||typeof d==="function")?d:b(c)}Ra.exports=c}var Ta=!1;function Ua(){Ta||(Ta=!0,Sa());return Ra.exports}b={};var Va={exports:b};function Wa(){function a(a){throw new Error('"'+a+'" is read-only')}Va.exports=a}var Xa=!1;function Ya(){Xa||(Xa=!0,Wa());return Va.exports}d={};var Za={exports:d};function $a(){function a(a){if(Array.isArray(a))return a}Za.exports=a}var ab=!1;function bb(){ab||(ab=!0,$a());return Za.exports}f={};var cb={exports:f};function db(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),a;!(d=(a=g.next()).done);d=!0){c.push(a.value);if(b&&c.length===b)break}}catch(a){e=!0,f=a}finally{try{!d&&g["return"]!=null&&g["return"]()}finally{if(e)throw f}}return c}cb.exports=a}var eb=!1;function fb(){eb||(eb=!0,db());return cb.exports}a={};var gb={exports:a};function hb(){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}gb.exports=a}var ib=!1;function jb(){ib||(ib=!0,hb());return gb.exports}b={};var kb={exports:b};function lb(){var a=bb(),b=fb(),c=jb();function d(d,e){return a(d)||b(d,e)||c()}kb.exports=d}var mb=!1;function nb(){mb||(mb=!0,lb());return kb.exports}d={};var ob={exports:d};function pb(){function a(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}ob.exports=a}var qb=!1;function rb(){qb||(qb=!0,pb());return ob.exports}f={};var sb={exports:f};function tb(){function a(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}sb.exports=a}var ub=!1;function vb(){ub||(ub=!0,tb());return sb.exports}a={};var wb={exports:a};function xb(){function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}wb.exports=a}var yb=!1;function zb(){yb||(yb=!0,xb());return wb.exports}b={};var Ab={exports:b};function Bb(){var a=rb(),b=vb(),c=zb();function d(d){return a(d)||b(d)||c()}Ab.exports=d}var Cb=!1;function Db(){Cb||(Cb=!0,Bb());return Ab.exports}d={};var Eb={exports:d};function Fb(){var a=r();function b(b){var c,d;function e(a,b){return new Promise(function(e,g){e={key:a,arg:b,resolve:e,reject:g,next:null};d?d=d.next=e:(c=d=e,f(a,b))})}function f(c,d){try{var e=b[c](d);c=e.value;var h=c instanceof a;Promise.resolve(h?c.wrapped:c).then(function(a){if(h){f("next",a);return}g(e.done?"return":"normal",a)},function(a){f("throw",a)})}catch(a){g("throw",a)}}function g(a,b){switch(a){case"return":c.resolve({value:b,done:!0});break;case"throw":c.reject(b);break;default:c.resolve({value:b,done:!1});break}c=c.next;c?f(c.key,c.arg):d=null}this._invoke=e;typeof b["return"]!=="function"&&(this["return"]=void 0)}typeof Symbol==="function"&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this});b.prototype.next=function(a){return this._invoke("next",a)};b.prototype["throw"]=function(a){return this._invoke("throw",a)};b.prototype["return"]=function(a){return this._invoke("return",a)};Eb.exports=b}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return Eb.exports}f={};var Ib={exports:f};function Jb(){var a=Hb();function b(b){return function(){return new a(b.apply(this,arguments))}}Ib.exports=b}var Kb=!1;function Lb(){Kb||(Kb=!0,Jb());return Ib.exports}a={};var Mb={exports:a};function Nb(){function a(a){return Function.toString.call(a).indexOf("[native code]")!==-1}Mb.exports=a}var Ob=!1;function Pb(){Ob||(Ob=!0,Nb());return Mb.exports}b={};var $={exports:b};function Qb(){var a=L(),b=y(),c=Pb(),d=B();function e(f){var g=typeof Map==="function"?new Map():void 0;$.exports=e=function(e){if(e===null||!c(e))return e;if(typeof e!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof g!=="undefined"){if(g.has(e))return g.get(e);g.set(e,f)}function f(){return d(e,arguments,a(this).constructor)}f.prototype=Object.create(e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});return b(f,e)};return e(f)}$.exports=e}var Rb=!1;function Sb(){Rb||(Rb=!0,Qb());return $.exports}d={};var Tb={exports:d};function Ub(){Tb.exports=g()}var Vb=!1;function Wb(){Vb||(Vb=!0,Ub());return Tb.exports}function c(a){switch(a){case void 0:throw new Error("Cannot require the default exported value from a package listed as excluded");case"/helpers/assertThisInitialized":return k();case"/helpers/asyncIterator":return ba();case"/helpers/asyncToGenerator":return da();case"/helpers/awaitAsyncGenerator":return ga();case"/helpers/classCallCheck":return ia();case"/helpers/construct":return B();case"/helpers/createClass":return ma();case"/helpers/defineProperty":return G();case"/helpers/extends":return pa();case"/helpers/get":return ua();case"/helpers/getPrototypeOf":return L();case"/helpers/inherits":return wa();case"/helpers/inheritsLoose":return ya();case"/helpers/interopRequireDefault":return Aa();case"/helpers/interopRequireWildcard":return Ca();case"/helpers/objectSpread":return Fa();case"/helpers/objectWithoutProperties":return Na();case"/helpers/objectWithoutPropertiesLoose":return Ja();case"/helpers/possibleConstructorReturn":return Ua();case"/helpers/readOnlyError":return Ya();case"/helpers/slicedToArray":return nb();case"/helpers/toConsumableArray":return Db();case"/helpers/typeof":return Qa();case"/helpers/wrapAsyncGenerator":return Lb();case"/helpers/wrapNativeSuper":return Sb();case"/regenerator":return Wb()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("bcp-47-1.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={}.hasOwnProperty,b="-",c="x",d=b.charCodeAt(0),e=c.charCodeAt(0),f="a".charCodeAt(0),h="z".charCodeAt(0),i="0".charCodeAt(0),j="9".charCodeAt(0),k=8,l=4,m=3,n=2,o=3,p=8,q=5,r=4,s=8,t=8,u=1,v=2,w=3,x=4,y=5,z=6,A={};A[u]="Too long variant, expected at most 8 characters";A[v]="Too long extension, expected at most 8 characters";A[w]="Too many extended language subtags, expected at most 3 subtags";A[x]="Empty extension, extensions must have at least 2 characters of content";A[y]="Too long private-use area, expected at most 8 characters";A[z]="Found superfluous content after tag";var B=["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"],C={"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"};function D(a){return a>=i&&a<=j}function E(a){return a>=f&&a<=h}function F(a){return D(a)||E(a)}function G(a){return a===e}function H(a){return a===d}function I(){return{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}function J(c,d){d=d||{};var e=d.warning,f=d.forgiving;d=d.normalize;var g={},h,i,j,K;(d===null||d===void 0)&&(d=!0);if(c===null||c===void 0)throw new Error("Expected string, got `"+c+"`");function L(a){return c.charCodeAt(a)}function M(b,a){e&&e(A[a],a,b);return f?g:I()}g=I();c=String(c);h=c;c=c.toLowerCase();if(a.call(C,c)){if(d&&C[c])return J(C[c]);g[B.indexOf(c)===-1?"irregular":"regular"]=h;return g}d=0;i=L(d);while(E(i))d++,i=L(d);if(d<n||d>k)d=0;else{if(d>l)g.language=h.slice(0,d);else if(d>m)g.language=h.slice(0,d);else{i=0;g.language=h.slice(0,d);while(H(L(d))&&E(L(d+1))&&E(L(d+2))&&E(L(d+3))&&!E(L(d+4))){if(i>=o)return M(d,w);g.extendedLanguageSubtags.push(h.slice(d+1,d+4));d=d+4;i++}}H(L(d))&&E(L(d+1))&&E(L(d+2))&&E(L(d+3))&&E(L(d+4))&&!E(L(d+5))&&(g.script=h.slice(d+1,d+5),d+=5);H(L(d))&&(E(L(d+1))&&E(L(d+2))&&!E(L(d+3))?(g.region=h.slice(d+1,d+3),d+=3):D(L(d+1))&&D(L(d+2))&&D(L(d+3))&&!D(L(d+4))&&(g.region=h.slice(d+1,d+4),d+=4));while(H(L(d))){K=d+1;j=0;while(F(L(K))){K++;j++;if(j>p)return M(K,u)}if(j>=q)g.variants.push(h.slice(d+1,K)),d=K;else if(D(L(d+1))&&j>=r)g.variants.push(h.slice(d+1,K)),d=K;else break}while(H(L(d))){if(G(L(d+1))||!F(L(d+1))||!H(L(d+2))||!F(L(d+3)))break;K=d+2;i=0;while(H(L(K))&&F(L(K+1))&&F(L(K+2))){K=K+2;j=2;i++;while(F(L(K))){if(j>s)return M(K,v);K++;j++}}if(!i)return M(K,x);g.extensions.push({singleton:h.charAt(d+1),extensions:h.slice(d+3,K).split(b)});d=K}}if(d===0&&G(L(0))||d!==1&&H(L(d))&&G(L(d+1))){K=d=d?d+2:1;while(H(L(K))&&F(L(K+1))){K+=2;j=1;while(F(L(K))){if(j>=t)return M(K,y);K++;j++}g.privateuse.push(h.slice(d+1,K));d=K}}return d!==c.length?M(d,z):g}function K(a){var d=[],e,f,g,h;if(a&&(a.irregular||a.regular))return a.irregular||a.regular;if(a&&a.language){d=d.concat(a.language,a.extendedLanguageSubtags||[],a.script||[],a.region||[],a.variants||[]);e=a.extensions||[];f=-1;h=e.length;while(++f<h)g=e[f],g.singleton&&g.extensions&&g.extensions.length&&(d=d.concat(g.singleton,g.extensions))}a&&a.privateuse&&a.privateuse.length&&(d=d.concat(c,a.privateuse));return d.join(b)}var L={};L.parse=J;L.stringify=K;g.exports=L}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("bcp-47",["bcp-47-1.0.0"],(function(a,b,c,d,e,f){e.exports=b("bcp-47-1.0.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("dom-helpers-5.2.0",["babel-runtime-7.11.2","babel-runtime-7.4.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("babel-runtime-7.11.2")),h=a(b("babel-runtime-7.4.4")),i={},j={exports:i};function k(){i.__esModule=!0;i["default"]=a;function a(a){return a&&a.ownerDocument||document}j.exports=i["default"]}var l=!1;function m(){l||(l=!0,k());return j.exports}var n={},o={exports:n};function p(){var a=g("/helpers/interopRequireDefault");n.__esModule=!0;n["default"]=c;var b=a(m());function c(a){a===void 0&&(a=b["default"]());try{var c=a.activeElement;return!c||!c.nodeName?null:c}catch(b){return a.body}}o.exports=n["default"]}var q=!1;function aa(){q||(q=!0,p());return o.exports}var r={},s={exports:r};function t(){r.__esModule=!0;r["default"]=a;function a(a,b){return a.classList?!!b&&a.classList.contains(b):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+b+" ")!==-1}s.exports=r["default"]}var u=!1;function ba(){u||(u=!0,t());return s.exports}var v={},w={exports:v};function x(){var a=g("/helpers/interopRequireDefault");v.__esModule=!0;v["default"]=c;var b=a(ba());function c(a,c){a.classList?a.classList.add(c):b["default"](a,c)||(typeof a.className==="string"?a.className=a.className+" "+c:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+c))}w.exports=v["default"]}var y=!1;function ca(){y||(y=!0,x());return w.exports}var z={},A={exports:z};function da(){z.__esModule=!0;z["default"]=void 0;var a=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);z["default"]=a;A.exports=z["default"]}var B=!1;function C(){B||(B=!0,da());return A.exports}var D={},ea={exports:D};function fa(){var a=g("/helpers/interopRequireDefault");D.__esModule=!0;D["default"]=D.onceSupported=D.optionsSupported=void 0;a=a(C());var b=!1;D.optionsSupported=b;var c=!1;D.onceSupported=c;try{var d={get passive(){return D.optionsSupported=b=!0},get once(){return D.onceSupported=c=D.optionsSupported=b=!0}};a["default"]&&(window.addEventListener("test",d,d),window.removeEventListener("test",d,!0))}catch(a){}function e(d,e,f,a){if(a&&typeof a!=="boolean"&&!c){var g=a.once,h=a.capture,i=f;!c&&g&&(i=f.__once||function a(b){this.removeEventListener(e,a,h),f.call(this,b)},f.__once=i);d.addEventListener(e,i,b?a:h)}d.addEventListener(e,f,a)}a=e;D["default"]=a}var ga=!1;function ha(){ga||(ga=!0,fa());return ea.exports}var ia={},ja={exports:ia};function ka(){var a=g("/helpers/interopRequireDefault");ia.__esModule=!0;ia["default"]=c;var b=a(m());function c(a){a=b["default"](a);return a&&a.defaultView||window}ja.exports=ia["default"]}var la=!1;function ma(){la||(la=!0,ka());return ja.exports}var na={},oa={exports:na};function pa(){var a=g("/helpers/interopRequireDefault");na.__esModule=!0;na["default"]=c;var b=a(ma());function c(a,c){return b["default"](a).getComputedStyle(a,c)}oa.exports=na["default"]}var qa=!1;function ra(){qa||(qa=!0,pa());return oa.exports}var sa={},ta={exports:sa};function ua(){sa.__esModule=!0;sa["default"]=b;var a=/([A-Z])/g;function b(b){return b.replace(a,"-$1").toLowerCase()}ta.exports=sa["default"]}var va=!1;function wa(){va||(va=!0,ua());return ta.exports}var xa={},ya={exports:xa};function za(){var a=g("/helpers/interopRequireDefault");xa.__esModule=!0;xa["default"]=d;var b=a(wa()),c=/^ms-/;function d(a){return b["default"](a).replace(c,"-ms-")}ya.exports=xa["default"]}var Aa=!1;function Ba(){Aa||(Aa=!0,za());return ya.exports}var Ca={},Da={exports:Ca};function Ea(){Ca.__esModule=!0;Ca["default"]=b;var a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function b(b){return!!(b&&a.test(b))}Da.exports=Ca["default"]}var Fa=!1;function Ga(){Fa||(Fa=!0,Ea());return Da.exports}var E={},Ha={exports:E};function Ia(){var a=g("/helpers/interopRequireDefault");E.__esModule=!0;E["default"]=void 0;var b=a(ra()),c=a(Ba()),d=a(Ga());function e(a,e){var f="",g="";if(typeof e==="string")return a.style.getPropertyValue(c["default"](e))||b["default"](a).getPropertyValue(c["default"](e));Object.keys(e).forEach(function(b){var h=e[b];!h&&h!==0?a.style.removeProperty(c["default"](b)):d["default"](b)?g+=b+"("+h+") ":f+=c["default"](b)+": "+h+";"});g&&(f+="transform: "+g+";");a.style.cssText+=";"+f}a=e;E["default"]=a;Ha.exports=E["default"]}var Ja=!1;function F(){Ja||(Ja=!0,Ia());return Ha.exports}var G={},Ka={exports:G};function La(){G.__esModule=!0;G["default"]=void 0;function a(a,b,c,d){d=d&&typeof d!=="boolean"?d.capture:d;a.removeEventListener(b,c,d);c.__once&&a.removeEventListener(b,c.__once,d)}a=a;G["default"]=a;Ka.exports=G["default"]}var Ma=!1;function Na(){Ma||(Ma=!0,La());return Ka.exports}var H={},Oa={exports:H};function Pa(){var a=g("/helpers/interopRequireDefault");H.__esModule=!0;H["default"]=void 0;var b=a(ha()),c=a(Na());function d(a,d,e,f){b["default"](a,d,e,f);return function(){c["default"](a,d,e,f)}}a=d;H["default"]=a;Oa.exports=H["default"]}var Qa=!1;function Ra(){Qa||(Qa=!0,Pa());return Oa.exports}var Sa={},Ta={exports:Sa};function Ua(){var a=g("/helpers/interopRequireDefault");Sa.__esModule=!0;Sa["default"]=h;var b=a(F()),c=a(Ra());function d(a){a=b["default"](a,"transitionDuration")||"";var c=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*c}function e(a){var b=document.createEvent("HTMLEvents");b.initEvent("transitionend",!0,!0);a.dispatchEvent(b)}function f(a,b,d){d===void 0&&(d=5);var f=!1,g=setTimeout(function(){f||e(a)},b+d),h=c["default"](a,"transitionend",function(){f=!0},{once:!0});return function(){clearTimeout(g),h()}}function h(a,b,e,g){e==null&&(e=d(a)||0);var h=f(a,e,g),i=c["default"](a,"transitionend",b);return function(){h(),i()}}Ta.exports=Sa["default"]}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}var I={},Xa={exports:I};function Ya(){var a=g("/helpers/interopRequireDefault");I.__esModule=!0;I["default"]=void 0;var b=a(F()),c=a(wa()),d=a(Ga()),e=a(Wa()),f={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function h(a){var g=a.node,h=a.properties,i=a.duration;i=i===void 0?200:i;var j=a.easing,k=a.callback,l=[],m={},n="";Object.keys(h).forEach(function(a){var b=h[a];d["default"](a)?n+=a+"("+b+") ":(m[a]=b,l.push(c["default"](a)))});n&&(m.transform=n,l.push("transform"));function o(a){if(a.target!==a.currentTarget)return;b["default"](g,f);k&&k.call(this,a)}i>0&&(m.transition=l.join(", "),m["transition-duration"]=i/1e3+"s",m["transition-delay"]="0s",m["transition-timing-function"]=j||"linear");var p=e["default"](g,o,i);g.clientLeft;b["default"](g,m);return{cancel:function(){p(),b["default"](g,f)}}}function i(a,b,c,d,e){if(!("nodeType"in a))return h(a);if(!b)throw new Error("must include properties to animate");typeof d==="function"&&(e=d,d="");return h({node:a,properties:b,duration:c,easing:d,callback:e})}a=i;I["default"]=a;Xa.exports=I["default"]}var Za=!1;function $a(){Za||(Za=!0,Ya());return Xa.exports}var J={},ab={exports:J};function bb(){var a=g("/helpers/interopRequireDefault");J.__esModule=!0;J.request=J.cancel=void 0;a=a(C());var b=new Date().getTime();function c(a){var c=new Date().getTime(),d=Math.max(0,16-(c-b));a=setTimeout(a,d);b=c;return a}var d=["","webkit","moz","o","ms"],e="clearTimeout",f=c,h=function(a,b){return a+(a?b[0].toUpperCase()+b.substr(1):b)+"AnimationFrame"};a["default"]&&d.some(function(a){var b=h(a,"request");b in window&&(e=h(a,"cancel"),f=function(a){return window[b](a)});return!!f});c=function(a){typeof window[e]==="function"&&window[e](a)};J.cancel=c;a=f;J.request=a}var cb=!1;function db(){cb||(cb=!0,bb());return ab.exports}var eb={},fb={exports:eb};function gb(){eb.__esModule=!0;eb["default"]=b;var a;function b(b,c){if(!a){var d=document.body,e=d.matches||d.matchesSelector||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector;a=function(a,b){return e.call(a,b)}}return a(b,c)}fb.exports=eb["default"]}var hb=!1;function ib(){hb||(hb=!0,gb());return fb.exports}var jb={},kb={exports:jb};function lb(){var a=g("/helpers/interopRequireDefault");jb.__esModule=!0;jb["default"]=c;var b=a(ib());function c(a,c,d){a.closest&&!d&&a.closest(c);a=a;do{if(b["default"](a,c))return a;a=a.parentElement}while(a&&a!==d&&a.nodeType===document.ELEMENT_NODE);return null}kb.exports=jb["default"]}var mb=!1;function nb(){mb||(mb=!0,lb());return kb.exports}var ob={},pb={exports:ob};function qb(){ob.__esModule=!0;ob["default"]=a;function a(a,b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return a===b||!!(a.compareDocumentPosition(b)&16)}pb.exports=ob["default"]}var rb=!1;function sb(){rb||(rb=!0,qb());return pb.exports}var tb={},ub={exports:tb};function vb(){tb.__esModule=!0;tb["default"]=b;var a=Function.prototype.bind.call(Function.prototype.call,[].slice);function b(b,c){return a(b.querySelectorAll(c))}ub.exports=tb["default"]}var wb=!1;function xb(){wb||(wb=!0,vb());return ub.exports}var yb={},zb={exports:yb};function Ab(){var a=g("/helpers/interopRequireDefault");yb.__esModule=!0;yb["default"]=d;var b=a(sb()),c=a(xb());function d(a,d){return function(e){var f=e.currentTarget,g=e.target;f=c["default"](f,a);f.some(function(a){return b["default"](a,g)})&&d.call(this,e)}}zb.exports=yb["default"]}var Bb=!1;function Cb(){Bb||(Bb=!0,Ab());return zb.exports}var Db={},Eb={exports:Db};function Fb(){Db.__esModule=!0;Db["default"]=a;function a(a){return"nodeType"in a&&a.nodeType===document.DOCUMENT_NODE}Eb.exports=Db["default"]}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return Eb.exports}var Ib={},Jb={exports:Ib};function Kb(){var a=g("/helpers/interopRequireDefault");Ib.__esModule=!0;Ib["default"]=c;var b=a(Hb());function c(a){if("window"in a&&a.window===a)return a;return b["default"](a)?a.defaultView||!1:!1}Jb.exports=Ib["default"]}var Lb=!1;function Mb(){Lb||(Lb=!0,Kb());return Jb.exports}var Nb={},Ob={exports:Nb};function Pb(){var a=g("/helpers/interopRequireDefault");Nb.__esModule=!0;Nb["default"]=c;var b=a(Mb());function c(a){var c=a==="pageXOffset"?"scrollLeft":"scrollTop";function d(d,e){var f=b["default"](d);if(e===void 0)return f?f[a]:d[c];f?f.scrollTo(f[a],e):d[c]=e}return d}Ob.exports=Nb["default"]}var Qb=!1;function Rb(){Qb||(Qb=!0,Pb());return Ob.exports}var K={},Sb={exports:K};function Tb(){var a=g("/helpers/interopRequireDefault");K.__esModule=!0;K["default"]=void 0;a=a(Rb());a=a["default"]("pageXOffset");K["default"]=a;Sb.exports=K["default"]}var Ub=!1;function Vb(){Ub||(Ub=!0,Tb());return Sb.exports}var L={},Wb={exports:L};function Xb(){var a=g("/helpers/interopRequireDefault");L.__esModule=!0;L["default"]=void 0;a=a(Rb());a=a["default"]("pageYOffset");L["default"]=a;Wb.exports=L["default"]}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Wb.exports}var $b={},ac={exports:$b};function bc(){var a=g("/helpers/interopRequireDefault");$b.__esModule=!0;$b["default"]=f;var b=a(sb()),c=a(m()),d=a(Vb()),e=a(Zb());function f(a){var f=c["default"](a),g={top:0,left:0,height:0,width:0};f=f&&f.documentElement;if(!f||!b["default"](f,a))return g;a.getBoundingClientRect!==void 0&&(g=a.getBoundingClientRect());g={top:g.top+e["default"](f)-(f.clientTop||0),left:g.left+d["default"](f)-(f.clientLeft||0),width:g.width,height:g.height};return g}ac.exports=$b["default"]}var cc=!1;function M(){cc||(cc=!0,bc());return ac.exports}var dc={},ec={exports:dc};function fc(){var a=g("/helpers/interopRequireDefault");dc.__esModule=!0;dc["default"]=d;var b=a(Mb()),c=a(M());function d(a,d){var e=b["default"](a);return e?e.innerHeight:d?a.clientHeight:c["default"](a).height}ec.exports=dc["default"]}var gc=!1;function hc(){gc||(gc=!0,fc());return ec.exports}var ic={},jc={exports:ic};function kc(){var a=g("/helpers/interopRequireDefault");ic.__esModule=!0;ic["default"]=e;var b=a(F()),c=a(m()),d=function(a){return!!a&&"offsetParent"in a};function e(a){var e=c["default"](a);a=a&&a.offsetParent;while(d(a)&&a.nodeName!=="HTML"&&b["default"](a,"position")==="static")a=a.offsetParent;return a||e.documentElement}jc.exports=ic["default"]}var lc=!1;function mc(){lc||(lc=!0,kc());return jc.exports}var nc={},oc={exports:nc};function pc(){var a=g("/helpers/interopRequireDefault");nc.__esModule=!0;nc["default"]=j;var b=a(g("/helpers/extends")),c=a(F()),d=a(M()),e=a(mc()),f=a(Vb()),h=a(Zb()),i=function(a){return a.nodeName&&a.nodeName.toLowerCase()};function j(a,g){var j={top:0,left:0},k;if(c["default"](a,"position")==="fixed")k=a.getBoundingClientRect();else{g=g||e["default"](a);k=d["default"](a);i(g)!=="html"&&(j=d["default"](g));var l=String(c["default"](g,"borderTopWidth")||0);j.top+=parseInt(l,10)-h["default"](g)||0;l=String(c["default"](g,"borderLeftWidth")||0);j.left+=parseInt(l,10)-f["default"](g)||0}l=String(c["default"](a,"marginTop")||0);g=String(c["default"](a,"marginLeft")||0);return b["default"]({},k,{top:k.top-j.top-(parseInt(l,10)||0),left:k.left-j.left-(parseInt(g,10)||0)})}oc.exports=nc["default"]}var qc=!1;function rc(){qc||(qc=!0,pc());return oc.exports}var sc={},tc={exports:sc};function uc(){sc.__esModule=!0;sc["default"]=b;function a(a,b){return a.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function b(b,c){b.classList?b.classList.remove(c):typeof b.className==="string"?b.className=a(b.className,c):b.setAttribute("class",a(b.className&&b.className.baseVal||"",c))}tc.exports=sc["default"]}var vc=!1;function wc(){vc||(vc=!0,uc());return tc.exports}var xc={},yc={exports:xc};function zc(){var a=g("/helpers/interopRequireDefault");xc.__esModule=!0;xc["default"]=d;var b=a(C()),c;function d(a){if((!c&&c!==0||a)&&b["default"]){a=document.createElement("div");a.style.position="absolute";a.style.top="-9999px";a.style.width="50px";a.style.height="50px";a.style.overflow="scroll";document.body.appendChild(a);c=a.offsetWidth-a.clientWidth;document.body.removeChild(a)}return c}yc.exports=xc["default"]}var Ac=!1;function Bc(){Ac||(Ac=!0,zc());return yc.exports}var Cc={},Dc={exports:Cc};function Ec(){var a=g("/helpers/interopRequireDefault");Cc.__esModule=!0;Cc["default"]=e;var b=a(F()),c=a(hc()),d=a(Hb());function e(a,e){var f=b["default"](a,"position"),g=f==="absolute",h=a.ownerDocument;if(f==="fixed")return h||document;while((a=a.parentNode)&&!d["default"](a)){f=g&&b["default"](a,"position")==="static";var i=(b["default"](a,"overflow")||"")+(b["default"](a,"overflow-y")||"")+b["default"](a,"overflow-x");if(f)continue;if(/(auto|scroll)/.test(i)&&(e||c["default"](a)<a.scrollHeight))return a}return h||document}Dc.exports=Cc["default"]}var Fc=!1;function Gc(){Fc||(Fc=!0,Ec());return Dc.exports}var Hc={},Ic={exports:Hc};function Jc(){var a=g("/helpers/interopRequireDefault");Hc.__esModule=!0;Hc["default"]=i;var b=db(),c=a(hc()),d=a(Mb()),e=a(M()),f=a(Gc()),h=a(Zb());function i(a,g){var i=e["default"](a),j={top:0,left:0};if(!a)return void 0;var k=g||f["default"](a);g=d["default"](k);var l=h["default"](k);a=c["default"](k,!0);g||(j=e["default"](k));i={top:i.top-j.top,left:i.left-j.left,height:i.height,width:i.width};j=i.height;i=i.top+(g?0:l);g=i+j;l=l>i?i:g>l+a?g-a:l;var m=b.request(function(){return h["default"](k,l)});return function(){return b.cancel(m)}}Ic.exports=Hc["default"]}var Kc=!1;function Lc(){Kc||(Kc=!0,Jc());return Ic.exports}var Mc={},Nc={exports:Mc};function Oc(){var a=g("/helpers/interopRequireDefault");Mc.__esModule=!0;Mc["default"]=e;var b=a(ca()),c=a(ba()),d=a(wc());function e(a,e){a.classList?a.classList.toggle(e):c["default"](a,e)?d["default"](a,e):b["default"](a,e)}Nc.exports=Mc["default"]}var Pc=!1;function Qc(){Pc||(Pc=!0,Oc());return Nc.exports}var Rc={},Sc={exports:Rc};function Tc(){var a=g("/helpers/interopRequireDefault");Rc.__esModule=!0;Rc["default"]=d;var b=a(Mb()),c=a(M());function d(a,d){var e=b["default"](a);return e?e.innerWidth:d?a.clientWidth:c["default"](a).width}Sc.exports=Rc["default"]}var Uc=!1;function Vc(){Uc||(Uc=!0,Tc());return Sc.exports}var N={},Wc={exports:N};function Xc(){var a=g("/helpers/interopRequireDefault");N.__esModule=!0;N["default"]=void 0;var b=a(aa());N.activeElement=b["default"];var c=a(ca());N.addClass=c["default"];var d=a(ha());N.addEventListener=d["default"];var e=a($a());N.animate=e["default"];var f=db();N.cancelAnimationFrame=f.cancel;N.requestAnimationFrame=f.request;var h=a(nb());N.closest=h["default"];var i=a(sb());N.contains=i["default"];var j=a(F());N.style=j["default"];var k=a(Cb());N.filter=k["default"];var l=a(ra());N.getComputedStyle=l["default"];var n=a(ba());N.hasClass=n["default"];var o=a(hc());N.height=o["default"];var p=a(Ra());N.listen=p["default"];var q=a(ib());N.matches=q["default"];var r=a(M());N.offset=r["default"];var s=a(mc());N.offsetParent=s["default"];var t=a(m());N.ownerDocument=t["default"];var u=a(ma());N.ownerWindow=u["default"];var v=a(rc());N.position=v["default"];var w=a(xb());N.querySelectorAll=w["default"];var x=a(wc());N.removeClass=x["default"];var y=a(Na());N.removeEventListener=y["default"];var z=a(Bc());N.scrollbarSize=z["default"];var A=a(Vb());N.scrollLeft=A["default"];var da=a(Gc());N.scrollParent=da["default"];var B=a(Lc());N.scrollTo=B["default"];var C=a(Zb());N.scrollTop=C["default"];var D=a(Qc());N.toggleClass=D["default"];var ea=a(Wa());N.transitionEnd=ea["default"];a=a(Vc());N.width=a["default"];d={addEventListener:d["default"],removeEventListener:y["default"],animate:e["default"],filter:k["default"],listen:p["default"],style:j["default"],getComputedStyle:l["default"],activeElement:b["default"],ownerDocument:t["default"],ownerWindow:u["default"],requestAnimationFrame:f.request,cancelAnimationFrame:f.cancel,matches:q["default"],height:o["default"],width:a["default"],offset:r["default"],offsetParent:s["default"],position:v["default"],contains:i["default"],scrollbarSize:z["default"],scrollLeft:A["default"],scrollParent:da["default"],scrollTo:B["default"],scrollTop:C["default"],querySelectorAll:w["default"],closest:h["default"],addClass:c["default"],removeClass:x["default"],hasClass:n["default"],toggleClass:D["default"],transitionEnd:ea["default"]};N["default"]=d}var Yc=!1;function Zc(){Yc||(Yc=!0,Xc());return Wc.exports}var $c={},ad={exports:$c};function bd(){$c.__esModule=!0;$c["default"]=a;function a(a,b){if(a.classList)return!!b&&a.classList.contains(b);else return(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+b+" ")!==-1}ad.exports=$c["default"]}var cd=!1;function dd(){cd||(cd=!0,bd());return ad.exports}var ed={},fd={exports:ed};function gd(){var a=h("/helpers/interopRequireDefault");ed.__esModule=!0;ed["default"]=c;var b=a(dd());function c(a,c){a.classList?a.classList.add(c):b["default"](a,c)||(typeof a.className==="string"?a.className=a.className+" "+c:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+c))}fd.exports=ed["default"]}var hd=!1;function id(){hd||(hd=!0,gd());return fd.exports}d={};var jd={exports:d};function kd(){function a(a,b){return a.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}jd.exports=function(b,c){b.classList?b.classList.remove(c):typeof b.className==="string"?b.className=a(b.className,c):b.setAttribute("class",a(b.className&&b.className.baseVal||"",c))}}var ld=!1;function md(){ld||(ld=!0,kd());return jd.exports}var O={},nd={exports:O};function od(){var a=h("/helpers/interopRequireDefault");O.__esModule=!0;O["default"]=void 0;var b=a(id());O.addClass=b["default"];var c=a(md());O.removeClass=c["default"];a=a(dd());O.hasClass=a["default"];b={addClass:b["default"],removeClass:c["default"],hasClass:a["default"]};O["default"]=b}var pd=!1;function qd(){pd||(pd=!0,od());return nd.exports}var P={},rd={exports:P};function sd(){P.__esModule=!0;P["default"]=void 0;var a=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);P["default"]=a;rd.exports=P["default"]}var td=!1;function Q(){td||(td=!0,sd());return rd.exports}var R={},ud={exports:R};function vd(){var a=h("/helpers/interopRequireDefault");R.__esModule=!0;R["default"]=void 0;a=a(Q());var b=function(){};a["default"]&&(b=function(){if(document.addEventListener)return function(a,b,c,d){return a.addEventListener(b,c,d||!1)};else if(document.attachEvent)return function(a,b,c){return a.attachEvent("on"+b,function(b){b=b||window.event,b.target=b.target||b.srcElement,b.currentTarget=a,c.call(a,b)})}}());a=b;R["default"]=a;ud.exports=R["default"]}var wd=!1;function xd(){wd||(wd=!0,vd());return ud.exports}var S={},yd={exports:S};function zd(){var a=h("/helpers/interopRequireDefault");S.__esModule=!0;S["default"]=void 0;a=a(Q());var b=function(){};a["default"]&&(b=function(){if(document.addEventListener)return function(a,b,c,d){return a.removeEventListener(b,c,d||!1)};else if(document.attachEvent)return function(a,b,c){return a.detachEvent("on"+b,c)}}());a=b;S["default"]=a;yd.exports=S["default"]}var Ad=!1;function Bd(){Ad||(Ad=!0,zd());return yd.exports}var T={},Cd={exports:T};function Dd(){var a=h("/helpers/interopRequireDefault");T.__esModule=!0;T["default"]=void 0;var b=a(Q());a=function(){return b["default"]?function(a,b){if(a.contains)return a.contains(b);else if(a.compareDocumentPosition)return a===b||!!(a.compareDocumentPosition(b)&16);else return c(a,b)}:c}();T["default"]=a;function c(a,b){if(b)do if(b===a)return!0;while(b=b.parentNode);return!1}Cd.exports=T["default"]}var Ed=!1;function Fd(){Ed||(Ed=!0,Dd());return Cd.exports}var Gd={},Hd={exports:Gd};function Id(){Gd.__esModule=!0;Gd["default"]=c;var a=/^[\w-]*$/,b=Function.prototype.bind.call(Function.prototype.call,[].slice);function c(c,d){var e=d[0]==="#",f=d[0]===".",g=e||f?d.slice(1):d,h=a.test(g);if(h){if(e){c=c.getElementById?c:document;return(h=c.getElementById(g))?[h]:[]}return c.getElementsByClassName&&f?b(c.getElementsByClassName(g)):b(c.getElementsByTagName(d))}return b(c.querySelectorAll(d))}Hd.exports=Gd["default"]}var Jd=!1;function Kd(){Jd||(Jd=!0,Id());return Hd.exports}var Ld={},Md={exports:Ld};function Nd(){var a=h("/helpers/interopRequireDefault");Ld.__esModule=!0;Ld["default"]=d;var b=a(Fd()),c=a(Kd());function d(a,d){return function(e){var f=e.currentTarget,g=e.target;f=c["default"](f,a);f.some(function(a){return b["default"](a,g)})&&d.call(this,e)}}Md.exports=Ld["default"]}var Od=!1;function Pd(){Od||(Od=!0,Nd());return Md.exports}var U={},Qd={exports:U};function Rd(){var a=h("/helpers/interopRequireDefault");U.__esModule=!0;U["default"]=void 0;var b=a(Q()),c=a(xd()),d=a(Bd());a=function(){};b["default"]&&(a=function(a,b,e,f){c["default"](a,b,e,f);return function(){d["default"](a,b,e,f)}});b=a;U["default"]=b;Qd.exports=U["default"]}var Sd=!1;function Td(){Sd||(Sd=!0,Rd());return Qd.exports}var V={},Ud={exports:V};function Vd(){var a=h("/helpers/interopRequireDefault");V.__esModule=!0;V["default"]=void 0;var b=a(xd());V.on=b["default"];var c=a(Bd());V.off=c["default"];var d=a(Pd());V.filter=d["default"];a=a(Td());V.listen=a["default"];b={on:b["default"],off:c["default"],filter:d["default"],listen:a["default"]};V["default"]=b}var Wd=!1;function Xd(){Wd||(Wd=!0,Vd());return Ud.exports}var Yd={},Zd={exports:Yd};function $d(){Yd.__esModule=!0;Yd["default"]=a;function a(a){return a===a.window?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}Zd.exports=Yd["default"]}var ae=!1;function W(){ae||(ae=!0,$d());return Zd.exports}var be={},ce={exports:be};function de(){be.__esModule=!0;be["default"]=a;function a(a){return a&&a.ownerDocument||document}ce.exports=be["default"]}var ee=!1;function fe(){ee||(ee=!0,de());return ce.exports}var ge={},he={exports:ge};function ie(){var a=h("/helpers/interopRequireDefault");ge.__esModule=!0;ge["default"]=e;var b=a(Fd()),c=a(W()),d=a(fe());function e(a){var e=d["default"](a),f=c["default"](e),g=e&&e.documentElement,h={top:0,left:0,height:0,width:0};if(!e)return;if(!b["default"](g,a))return h;a.getBoundingClientRect!==void 0&&(h=a.getBoundingClientRect());h={top:h.top+(f.pageYOffset||g.scrollTop)-(g.clientTop||0),left:h.left+(f.pageXOffset||g.scrollLeft)-(g.clientLeft||0),width:(h.width==null?a.offsetWidth:h.width)||0,height:(h.height==null?a.offsetHeight:h.height)||0};return h}he.exports=ge["default"]}var je=!1;function ke(){je||(je=!0,ie());return he.exports}var le={},me={exports:le};function ne(){var a=h("/helpers/interopRequireDefault");le.__esModule=!0;le["default"]=d;var b=a(ke()),c=a(W());function d(a,d){var e=c["default"](a);return e?e.innerHeight:d?a.clientHeight:b["default"](a).height}me.exports=le["default"]}var oe=!1;function pe(){oe||(oe=!0,ne());return me.exports}var qe={},re={exports:qe};function se(){qe.__esModule=!0;qe["default"]=b;var a=/-(.)/g;function b(b){return b.replace(a,function(a,b){return b.toUpperCase()})}re.exports=qe["default"]}var te=!1;function ue(){te||(te=!0,se());return re.exports}var ve={},we={exports:ve};function xe(){var a=h("/helpers/interopRequireDefault");ve.__esModule=!0;ve["default"]=d;var b=a(ue()),c=/^-ms-/;function d(a){return b["default"](a.replace(c,"ms-"))}we.exports=ve["default"]}var ye=!1;function ze(){ye||(ye=!0,xe());return we.exports}var Ae={},Be={exports:Ae};function Ce(){Ae.__esModule=!0;Ae["default"]=b;var a=/([A-Z])/g;function b(b){return b.replace(a,"-$1").toLowerCase()}Be.exports=Ae["default"]}var De=!1;function Ee(){De||(De=!0,Ce());return Be.exports}var Fe={},Ge={exports:Fe};function He(){var a=h("/helpers/interopRequireDefault");Fe.__esModule=!0;Fe["default"]=d;var b=a(Ee()),c=/^ms-/;function d(a){return b["default"](a).replace(c,"-ms-")}Ge.exports=Fe["default"]}var Ie=!1;function Je(){Ie||(Ie=!0,He());return Ge.exports}var Ke={},Le={exports:Ke};function Me(){var a=h("/helpers/interopRequireDefault");Ke.__esModule=!0;Ke["default"]=e;var b=a(ze()),c=/^(top|right|bottom|left)$/,d=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function e(a){if(!a)throw new TypeError("No Element passed to `getComputedStyle()`");var e=a.ownerDocument;return"defaultView"in e?e.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):window.getComputedStyle(a,null):{getPropertyValue:function(e){var f=a.style;e=b["default"](e);e=="float"&&(e="styleFloat");var g=a.currentStyle[e]||null;g==null&&f&&f[e]&&(g=f[e]);if(d.test(g)&&!c.test(e)){var h=f.left,i=a.runtimeStyle,j=i&&i.left;j&&(i.left=a.currentStyle.left);f.left=e==="fontSize"?"1em":g;g=f.pixelLeft+"px";f.left=h;j&&(i.left=j)}return g}}}Le.exports=Ke["default"]}var Ne=!1;function Oe(){Ne||(Ne=!0,Me());return Le.exports}var Pe={},Qe={exports:Pe};function Re(){Pe.__esModule=!0;Pe["default"]=a;function a(a,b){return"removeProperty"in a.style?a.style.removeProperty(b):a.style.removeAttribute(b)}Qe.exports=Pe["default"]}var Se=!1;function Te(){Se||(Se=!0,Re());return Qe.exports}var X={},Ue={exports:X};function Ve(){var a=h("/helpers/interopRequireDefault");X.__esModule=!0;X["default"]=X.animationEnd=X.animationDelay=X.animationTiming=X.animationDuration=X.animationName=X.transitionEnd=X.transitionDuration=X.transitionDelay=X.transitionTiming=X.transitionProperty=X.transform=void 0;a=a(Q());var b="transform";X.transform=b;var c,d;X.animationEnd=d;X.transitionEnd=c;var e,f,g,i;X.transitionDelay=i;X.transitionTiming=g;X.transitionDuration=f;X.transitionProperty=e;var j,k,l,m;X.animationDelay=m;X.animationTiming=l;X.animationDuration=k;X.animationName=j;if(a["default"]){a=n();n=a.prefix;X.transitionEnd=c=a.transitionEnd;X.animationEnd=d=a.animationEnd;X.transform=b=n+"-"+b;X.transitionProperty=e=n+"-transition-property";X.transitionDuration=f=n+"-transition-duration";X.transitionDelay=i=n+"-transition-delay";X.transitionTiming=g=n+"-transition-timing-function";X.animationName=j=n+"-animation-name";X.animationDuration=k=n+"-animation-duration";X.animationTiming=l=n+"-animation-delay";X.animationDelay=m=n+"-animation-timing-function"}a={transform:b,end:c,property:e,timing:g,delay:i,duration:f};X["default"]=a;function n(){var c=document.createElement("div").style,d={O:function(a){return"o"+a.toLowerCase()},Moz:function(a){return a.toLowerCase()},Webkit:function(a){return"webkit"+a},ms:function(a){return"MS"+a}},e=Object.keys(d),a,b,f="";for(var g=0;g<e.length;g++){var h=e[g];if(h+"TransitionProperty"in c){f="-"+h.toLowerCase();a=d[h]("TransitionEnd");b=d[h]("AnimationEnd");break}}!a&&"transitionProperty"in c&&(a="transitionend");!b&&"animationName"in c&&(b="animationend");c=null;return{animationEnd:b,transitionEnd:a,prefix:f}}}var We=!1;function Xe(){We||(We=!0,Ve());return Ue.exports}var Ye={},Ze={exports:Ye};function $e(){Ye.__esModule=!0;Ye["default"]=b;var a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function b(b){return!!(b&&a.test(b))}Ze.exports=Ye["default"]}var af=!1;function bf(){af||(af=!0,$e());return Ze.exports}var cf={},df={exports:cf};function ef(){var a=h("/helpers/interopRequireDefault");cf.__esModule=!0;cf["default"]=i;var b=a(ze()),c=a(Je()),d=a(Oe()),e=a(Te()),f=Xe(),g=a(bf());function i(a,h,i){var j="",k="",l=h;if(typeof h==="string")if(i===void 0)return a.style[b["default"](h)]||d["default"](a).getPropertyValue(c["default"](h));else(l={})[h]=i;Object.keys(l).forEach(function(d){var b=l[d];!b&&b!==0?e["default"](a,c["default"](d)):g["default"](d)?k+=d+"("+b+") ":j+=c["default"](d)+": "+b+";"});k&&(j+=f.transform+": "+k+";");a.style.cssText+=";"+j}df.exports=cf["default"]}var ff=!1;function gf(){ff||(ff=!0,ef());return df.exports}var hf={},jf={exports:hf};function kf(){var a=h("/helpers/interopRequireDefault");hf.__esModule=!0;hf["default"]=e;var b=a(fe()),c=a(gf());function d(a){return a.nodeName&&a.nodeName.toLowerCase()}function e(e){var f=b["default"](e),a=e&&e.offsetParent;while(a&&d(e)!=="html"&&c["default"](a,"position")==="static")a=a.offsetParent;return a||f.documentElement}jf.exports=hf["default"]}var lf=!1;function mf(){lf||(lf=!0,kf());return jf.exports}var nf={},of={exports:nf};function pf(){var a=h("/helpers/interopRequireDefault");nf.__esModule=!0;nf["default"]=c;var b=a(W());function c(a,c){var d=b["default"](a);if(c===void 0)return d?"pageYOffset"in d?d.pageYOffset:d.document.documentElement.scrollTop:a.scrollTop;d?d.scrollTo("pageXOffset"in d?d.pageXOffset:d.document.documentElement.scrollLeft,c):a.scrollTop=c}of.exports=nf["default"]}var qf=!1;function rf(){qf||(qf=!0,pf());return of.exports}var sf={},tf={exports:sf};function uf(){var a=h("/helpers/interopRequireDefault");sf.__esModule=!0;sf["default"]=c;var b=a(W());function c(a,c){var d=b["default"](a);if(c===void 0)return d?"pageXOffset"in d?d.pageXOffset:d.document.documentElement.scrollLeft:a.scrollLeft;d?d.scrollTo(c,"pageYOffset"in d?d.pageYOffset:d.document.documentElement.scrollTop):a.scrollLeft=c}tf.exports=sf["default"]}var vf=!1;function wf(){vf||(vf=!0,uf());return tf.exports}var xf={},yf={exports:xf};function zf(){var a=h("/helpers/interopRequireDefault");xf.__esModule=!0;xf["default"]=j;var b=a(h("/helpers/extends")),c=a(ke()),d=a(mf()),e=a(rf()),f=a(wf()),g=a(gf());function i(a){return a.nodeName&&a.nodeName.toLowerCase()}function j(a,h){var j={top:0,left:0},k;g["default"](a,"position")==="fixed"?k=a.getBoundingClientRect():(h=h||d["default"](a),k=c["default"](a),i(h)!=="html"&&(j=c["default"](h)),j.top+=parseInt(g["default"](h,"borderTopWidth"),10)-e["default"](h)||0,j.left+=parseInt(g["default"](h,"borderLeftWidth"),10)-f["default"](h)||0);return b["default"]({},k,{top:k.top-j.top-(parseInt(g["default"](a,"marginTop"),10)||0),left:k.left-j.left-(parseInt(g["default"](a,"marginLeft"),10)||0)})}yf.exports=xf["default"]}var Af=!1;function Bf(){Af||(Af=!0,zf());return yf.exports}var Y={},Cf={exports:Y};function Df(){var a=h("/helpers/interopRequireDefault");Y.__esModule=!0;Y["default"]=void 0;var b=a(Xe()),c=a(gf());function d(a,c,d){var f={target:a,currentTarget:a},g;!b["default"].end?d=0:d==null&&(d=e(a)||0);b["default"].end?(a.addEventListener(b["default"].end,h,!1),g=setTimeout(function(){return h(f)},(d||100)*1.5)):setTimeout(h.bind(null,f),0);function h(a){if(a.target!==a.currentTarget)return;clearTimeout(g);a.target.removeEventListener(b["default"].end,h);c.call(this)}}d._parseDuration=e;a=d;Y["default"]=a;function e(a){a=c["default"](a,b["default"].duration);var d=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*d}Cf.exports=Y["default"]}var Ef=!1;function Ff(){Ef||(Ef=!0,Df());return Cf.exports}var Z={},Gf={exports:Z};function Hf(){var a=h("/helpers/interopRequireDefault");Z.__esModule=!0;Z["default"]=void 0;var b=a(Ff());Z.end=b["default"];a=a(Xe());Z.properties=a["default"];b={end:b["default"],properties:a["default"]};Z["default"]=b}var If=!1;function Jf(){If||(If=!0,Hf());return Gf.exports}var $={},Kf={exports:$};function Lf(){var a=h("/helpers/interopRequireDefault");$.__esModule=!0;$["default"]=void 0;a=a(Q());var b=["","webkit","moz","o","ms"],c="clearTimeout",d=g,e=function(a,b){return a+(a?b[0].toUpperCase()+b.substr(1):b)+"AnimationFrame"};a["default"]&&b.some(function(a){var b=e(a,"request");if(b in window){c=e(a,"cancel");return d=function(a){return window[b](a)}}});var f=new Date().getTime();function g(a){var b=new Date().getTime(),c=Math.max(0,16-(b-f));a=setTimeout(a,c);f=b;return a}g=function(a){return d(a)};g.cancel=function(a){window[c]&&typeof window[c]==="function"&&window[c](a)};a=g;$["default"]=a;Kf.exports=$["default"]}var Mf=!1;function Nf(){Mf||(Mf=!0,Lf());return Kf.exports}var Of={},Pf={exports:Of};function Qf(){var a=h("/helpers/interopRequireDefault");Of.__esModule=!0;Of["default"]=d;var b=a(Q()),c;function d(a){if((!c&&c!==0||a)&&b["default"]){a=document.createElement("div");a.style.position="absolute";a.style.top="-9999px";a.style.width="50px";a.style.height="50px";a.style.overflow="scroll";document.body.appendChild(a);c=a.offsetWidth-a.clientWidth;document.body.removeChild(a)}return c}Pf.exports=Of["default"]}var Rf=!1;function Sf(){Rf||(Rf=!0,Qf());return Pf.exports}function c(a){switch(a){case void 0:return Zc();case"/activeElement":return aa();case"/class":return qd();case"/class/addClass":return id();case"/class/removeClass":return md();case"/events":return Xd();case"/events/off":return Bd();case"/events/on":return xd();case"/ownerDocument":return m();case"/ownerWindow":return ma();case"/query/contains":return Fd();case"/query/height":return pe();case"/query/isWindow":return W();case"/query/offset":return ke();case"/query/offsetParent":return mf();case"/query/position":return Bf();case"/query/scrollTop":return rf();case"/style":return gf();case"/transition":return Jf();case"/util/inDOM":return Q();case"/util/requestAnimationFrame":return Nf();case"/util/scrollbarSize":return Sf()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("exif-component-1.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(){(typeof g!=="undefined"&&g!==null?g:this).ExifReader=function(){a.prototype._MIN_DATA_BUFFER_LENGTH=2;a.prototype._JPEG_ID_SIZE=2;a.prototype._JPEG_ID=65496;a.prototype._APP_MARKER_SIZE=2;a.prototype._APP0_MARKER=65504;a.prototype._APP1_MARKER=65505;a.prototype._APP15_MARKER=65519;a.prototype._APP_ID_OFFSET=4;a.prototype._BYTES_Exif=1165519206;a.prototype._TIFF_HEADER_OFFSET=10;a.prototype._BYTE_ORDER_BIG_ENDIAN=18761;a.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function a(){var a=this;this._getTagValueAt={1:function(b){return a._getByteAt(b)},2:function(b){return a._getAsciiAt(b)},3:function(b){return a._getShortAt(b)},4:function(b){return a._getLongAt(b)},5:function(b){return a._getRationalAt(b)},7:function(b){return a._getUndefinedAt(b)},9:function(b){return a._getSlongAt(b)},10:function(b){return a._getSrationalAt(b)}};this._tiffHeaderOffset=0}a.prototype.load=function(a){return this.loadView(new DataView(a))};a.prototype.loadView=function(a){this._dataView=a;this._tags={};this._checkImageHeader();return this._readTags()};a.prototype._checkImageHeader=function(){var a;a=this._dataView;if(a.byteLength<this._MIN_DATA_BUFFER_LENGTH||a.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");this._parseAppMarkers(a);if(!this._hasExifData())throw new Error("No Exif data")};a.prototype._parseAppMarkers=function(a){var b,c,d;b=this._JPEG_ID_SIZE;d=[];while(!0){if(a.byteLength<b+this._APP_ID_OFFSET+5)break;if(this._isApp1ExifMarker(a,b))c=a.getUint16(b+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=b+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(a,b))c=a.getUint16(b+this._APP_MARKER_SIZE,!1);else break;d.push(b+=this._APP_MARKER_SIZE+c)}return d};a.prototype._isApp1ExifMarker=function(a,b){return a.getUint16(b,!1)===this._APP1_MARKER&&a.getUint32(b+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&a.getUint8(b+this._APP_ID_OFFSET+4,!1)===0};a.prototype._isAppMarker=function(a,b){a=a.getUint16(b,!1);return a>=this._APP0_MARKER&&a<=this._APP15_MARKER};a.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0};a.prototype._readTags=function(){this._setByteOrder();this._read0thIfd();this._readExifIfd();this._readGpsIfd();return this._readInteroperabilityIfd()};a.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;else if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;else throw new Error("Illegal byte order value. Faulty image.")};a.prototype._read0thIfd=function(){var a;a=this._getIfdOffset();return this._readIfd("0th",a)};a.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)};a.prototype._readExifIfd=function(){var a;if(this._tags["Exif IFD Pointer"]!=null){a=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value;return this._readIfd("exif",a)}};a.prototype._readGpsIfd=function(){var a;if(this._tags["GPS Info IFD Pointer"]!=null){a=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value;return this._readIfd("gps",a)}};a.prototype._readInteroperabilityIfd=function(){var a;if(this._tags["Interoperability IFD Pointer"]!=null){a=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value;return this._readIfd("interoperability",a)}};a.prototype._readIfd=function(a,b){var c,d,e,f;c=this._getShortAt(b);b+=2;f=[];for(e=0;0<=c?e<c:e>c;0<=c?++e:--e)d=this._readTag(a,b),this._tags[d.name]={value:d.value,description:d.description},f.push(b+=12);return f};a.prototype._readTag=function(a,b){var c,d,e,f;c=this._getShortAt(b);e=this._getShortAt(b+2);d=this._getLongAt(b+4);this._typeSizes[e]*d<=4?f=this._getTagValue(b+8,e,d):(b=this._getLongAt(b+8),f=this._getTagValue(this._tiffHeaderOffset+b,e,d));e===this._tagTypes.ASCII&&(f=this._splitNullSeparatedAsciiString(f));if(this._tagNames[a][c]!=null){this._tagNames[a][c].name!=null&&this._tagNames[a][c].description!=null?(b=this._tagNames[a][c].name,d=this._tagNames[a][c].description(f)):(b=this._tagNames[a][c],f instanceof Array?d=f.join(", "):d=f);return{name:b,value:f,description:d}}else return{name:"undefined-"+c,value:f,description:f}};a.prototype._getTagValue=function(a,b,c){var d,e;e=function(){var e,f;f=[];for(e=0;0<=c?e<c:e>c;0<=c?++e:--e)d=this._getTagValueAt[b](a),a+=this._typeSizes[b],f.push(d);return f}.call(this);e.length===1?e=e[0]:b===this._tagTypes.ASCII&&(e=this._getAsciiValue(e));return e};a.prototype._getAsciiValue=function(a){var b;return function(){var c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(String.fromCharCode(b));return e}()};a.prototype._getByteAt=function(a){return this._dataView.getUint8(a)};a.prototype._getAsciiAt=function(a){return this._dataView.getUint8(a)};a.prototype._getShortAt=function(a){return this._dataView.getUint16(a,this._littleEndian)};a.prototype._getLongAt=function(a){return this._dataView.getUint32(a,this._littleEndian)};a.prototype._getRationalAt=function(a){return this._getLongAt(a)/this._getLongAt(a+4)};a.prototype._getUndefinedAt=function(a){return this._getByteAt(a)};a.prototype._getSlongAt=function(a){return this._dataView.getInt32(a,this._littleEndian)};a.prototype._getSrationalAt=function(a){return this._getSlongAt(a)/this._getSlongAt(a+4)};a.prototype._splitNullSeparatedAsciiString=function(a){var b,c,d,e,f;d=[];c=0;for(e=0,f=a.length;e<f;e++){b=a[e];if(b==="\0"){c++;continue}d[c]==null&&(d[c]="");d[c]+=b}return d};a.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8};a.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10};a.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(a){switch(a){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(a){switch(a){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(a){switch(a){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+a}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(a){return a.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(a){switch(a){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(a){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(a){var b,c,d,e;c="";for(d=0,e=a.length;d<e;d++)b=a[d],c+=String.fromCharCode(b);return c}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(a){var b,c,d,e;c="";for(d=0,e=a.length;d<e;d++){b=a[d];switch(b){case 49:c+="Y";break;case 50:c+="Cb";break;case 51:c+="Cr";break;case 52:c+="R";break;case 53:c+="G";break;case 54:c+="B"}}return c}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(a){switch(a){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(a){switch(a){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 \u2013 7100K)";case 13:return"Day white fluorescent (N 4600 \u2013 5400K)";case 14:return"Cool white fluorescent (W 3900 \u2013 4500K)";case 15:return"White fluorescent (WW 3200 \u2013 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(a){switch(a){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(a){switch(a.length){case 2:return"Location; X: "+a[0]+", Y: "+a[1];case 3:return"Circle; X: "+a[0]+", Y: "+a[1]+", diameter: "+a[2];case 4:return"Rectangle; X: "+a[0]+", Y: "+a[1]+", width: "+a[2]+", height: "+a[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(a){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(a){switch(a.slice(0,8).map(function(a){return String.fromCharCode(a)}).join("")){case"ASCII\0\0\0":return a.slice(8,a.length).map(function(a){return String.fromCharCode(a)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(a){var b,c,d,e;c="";for(d=0,e=a.length;d<e;d++)b=a[d],c+=String.fromCharCode(b);return c}},40961:{name:"ColorSpace",description:function(a){switch(a){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(a){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(a){switch(a){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(a){return"X: "+a[0]+", Y: "+a[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(a){switch(a){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(a){switch(a){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(a){switch(a){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(a){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(a){switch(a){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(a){switch(a){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(a){switch(a){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(a){switch(a){case 0:return"Digital zoom was not used";default:return a}}},41989:{name:"FocalLengthIn35mmFilm",description:function(a){switch(a){case 0:return"Unknown";default:return a}}},41990:{name:"SceneCaptureType",description:function(a){switch(a){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(a){switch(a){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(a){switch(a){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(a){switch(a){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(a){switch(a){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(a){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(a){switch(a){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(a){var b,c;if(a[0]===(b=a[1])&&b===2&&a[2]===(c=a[3])&&c===0)return"Version 2.2";else return"Unknown"}},1:{name:"GPSLatitudeRef",description:function(a){switch(a.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(a){return a[0]+a[1]/60+a[2]/3600}},3:{name:"GPSLongitudeRef",description:function(a){switch(a.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(a){return a[0]+a[1]/60+a[2]/3600}},5:{name:"GPSAltitudeRef",description:function(a){switch(a){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(a){return a+" m"}},7:{name:"GPSTimeStamp",description:function(a){var b;b=function(a){return function(){var b,c,d;d=[];for(b=0,c=2-(""+Math.floor(a)).length;0<=c?b<c:b>c;0<=c?++b:--b)d.push("0");return d}()+a};return a.map(b).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(a){switch(a.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(a){switch(a.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(a){switch(a.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(a){switch(a.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(a){switch(a.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(a){switch(a.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(a){return a[0]+a[1]/60+a[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(a){switch(a.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(a){return a[0]+a[1]/60+a[2]/3600}},23:{name:"GPSDestBearingRef",description:function(a){switch(a.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(a){switch(a.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(a){switch(a.slice(0,8).map(function(a){return String.fromCharCode(a)}).join("")){case"ASCII\0\0\0":return a.slice(8,a.length).map(function(a){return String.fromCharCode(a)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(a){switch(a.slice(0,8).map(function(a){return String.fromCharCode(a)}).join("")){case"ASCII\0\0\0":return a.slice(8,a.length).map(function(a){return String.fromCharCode(a)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(a){switch(a){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}};a.prototype.getTagValue=function(a){if(this._tags[a]!=null)return this._tags[a].value;else return void 0};a.prototype.getTagDescription=function(a){if(this._tags[a]!=null)return this._tags[a].description;else return void 0};a.prototype.getAllTags=function(){return this._tags};return a}()}).call(this)}var j=!1;function k(){j||(j=!0,i());return h.exports}b={};var l={exports:b};function m(){var a=k().ExifReader;l.exports=function(c){var d=new a;d.load(c);c=d.getAllTags();d={};for(var e in c)d[b(e)]=c[e].description;return d};function b(a){return a.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(a){return 1==a.length?a.toLowerCase():a[0]==a[0].toUpperCase()?" "+a.toLowerCase():a[0]+" "+a[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}}var n=!1;function o(){n||(n=!0,m());return l.exports}function a(a){switch(a){case void 0:return o()}}e.exports=a}),null);
__d("exif-component",["exif-component-1.0.1"],(function(a,b,c,d,e,f){e.exports=b("exif-component-1.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-type-3.8.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=function(a){if(!(a&&a.length>1))return null;if(a[0]===255&&a[1]===216&&a[2]===255)return{ext:"jpg",mime:"image/jpeg"};if(a[0]===137&&a[1]===80&&a[2]===78&&a[3]===71)return{ext:"png",mime:"image/png"};if(a[0]===71&&a[1]===73&&a[2]===70)return{ext:"gif",mime:"image/gif"};if(a[8]===87&&a[9]===69&&a[10]===66&&a[11]===80)return{ext:"webp",mime:"image/webp"};if((a[0]===73&&a[1]===73&&a[2]===42&&a[3]===0||a[0]===77&&a[1]===77&&a[2]===0&&a[3]===42)&&a[8]===67&&a[9]===82)return{ext:"cr2",mime:"image/x-canon-cr2"};if(a[0]===73&&a[1]===73&&a[2]===42&&a[3]===0||a[0]===77&&a[1]===77&&a[2]===0&&a[3]===42)return{ext:"tif",mime:"image/tiff"};if(a[0]===66&&a[1]===77)return{ext:"bmp",mime:"image/bmp"};if(a[0]===73&&a[1]===73&&a[2]===188)return{ext:"jxr",mime:"image/vnd.ms-photo"};if(a[0]===56&&a[1]===66&&a[2]===80&&a[3]===83)return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(a[0]===80&&a[1]===75&&a[2]===3&&a[3]===4&&a[30]===109&&a[31]===105&&a[32]===109&&a[33]===101&&a[34]===116&&a[35]===121&&a[36]===112&&a[37]===101&&a[38]===97&&a[39]===112&&a[40]===112&&a[41]===108&&a[42]===105&&a[43]===99&&a[44]===97&&a[45]===116&&a[46]===105&&a[47]===111&&a[48]===110&&a[49]===47&&a[50]===101&&a[51]===112&&a[52]===117&&a[53]===98&&a[54]===43&&a[55]===122&&a[56]===105&&a[57]===112)return{ext:"epub",mime:"application/epub+zip"};if(a[0]===80&&a[1]===75&&a[2]===3&&a[3]===4&&a[30]===77&&a[31]===69&&a[32]===84&&a[33]===65&&a[34]===45&&a[35]===73&&a[36]===78&&a[37]===70&&a[38]===47&&a[39]===109&&a[40]===111&&a[41]===122&&a[42]===105&&a[43]===108&&a[44]===108&&a[45]===97&&a[46]===46&&a[47]===114&&a[48]===115&&a[49]===97)return{ext:"xpi",mime:"application/x-xpinstall"};if(a[0]===80&&a[1]===75&&(a[2]===3||a[2]===5||a[2]===7)&&(a[3]===4||a[3]===6||a[3]===8))return{ext:"zip",mime:"application/zip"};if(a[257]===117&&a[258]===115&&a[259]===116&&a[260]===97&&a[261]===114)return{ext:"tar",mime:"application/x-tar"};if(a[0]===82&&a[1]===97&&a[2]===114&&a[3]===33&&a[4]===26&&a[5]===7&&(a[6]===0||a[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(a[0]===31&&a[1]===139&&a[2]===8)return{ext:"gz",mime:"application/gzip"};if(a[0]===66&&a[1]===90&&a[2]===104)return{ext:"bz2",mime:"application/x-bzip2"};if(a[0]===55&&a[1]===122&&a[2]===188&&a[3]===175&&a[4]===39&&a[5]===28)return{ext:"7z",mime:"application/x-7z-compressed"};if(a[0]===120&&a[1]===1)return{ext:"dmg",mime:"application/x-apple-diskimage"};if(a[0]===0&&a[1]===0&&a[2]===0&&(a[3]===24||a[3]===32)&&a[4]===102&&a[5]===116&&a[6]===121&&a[7]===112||a[0]===51&&a[1]===103&&a[2]===112&&a[3]===53||a[0]===0&&a[1]===0&&a[2]===0&&a[3]===28&&a[4]===102&&a[5]===116&&a[6]===121&&a[7]===112&&a[8]===109&&a[9]===112&&a[10]===52&&a[11]===50&&a[16]===109&&a[17]===112&&a[18]===52&&a[19]===49&&a[20]===109&&a[21]===112&&a[22]===52&&a[23]===50&&a[24]===105&&a[25]===115&&a[26]===111&&a[27]===109||a[0]===0&&a[1]===0&&a[2]===0&&a[3]===28&&a[4]===102&&a[5]===116&&a[6]===121&&a[7]===112&&a[8]===105&&a[9]===115&&a[10]===111&&a[11]===109||a[0]===0&&a[1]===0&&a[2]===0&&a[3]===28&&a[4]===102&&a[5]===116&&a[6]===121&&a[7]===112&&a[8]===109&&a[9]===112&&a[10]===52&&a[11]===50&&a[12]===0&&a[13]===0&&a[14]===0&&a[15]===0)return{ext:"mp4",mime:"video/mp4"};if(a[0]===0&&a[1]===0&&a[2]===0&&a[3]===28&&a[4]===102&&a[5]===116&&a[6]===121&&a[7]===112&&a[8]===77&&a[9]===52&&a[10]===86)return{ext:"m4v",mime:"video/x-m4v"};if(a[0]===77&&a[1]===84&&a[2]===104&&a[3]===100)return{ext:"mid",mime:"audio/midi"};if(a[31]===109&&a[32]===97&&a[33]===116&&a[34]===114&&a[35]===111&&a[36]===115&&a[37]===107&&a[38]===97)return{ext:"mkv",mime:"video/x-matroska"};if(a[0]===26&&a[1]===69&&a[2]===223&&a[3]===163)return{ext:"webm",mime:"video/webm"};if(a[0]===0&&a[1]===0&&a[2]===0&&a[3]===20&&a[4]===102&&a[5]===116&&a[6]===121&&a[7]===112)return{ext:"mov",mime:"video/quicktime"};if(a[0]===82&&a[1]===73&&a[2]===70&&a[3]===70&&a[8]===65&&a[9]===86&&a[10]===73)return{ext:"avi",mime:"video/x-msvideo"};if(a[0]===48&&a[1]===38&&a[2]===178&&a[3]===117&&a[4]===142&&a[5]===102&&a[6]===207&&a[7]===17&&a[8]===166&&a[9]===217)return{ext:"wmv",mime:"video/x-ms-wmv"};if(a[0]===0&&a[1]===0&&a[2]===1&&a[3].toString(16)[0]==="b")return{ext:"mpg",mime:"video/mpeg"};if(a[0]===73&&a[1]===68&&a[2]===51||a[0]===255&&a[1]===251)return{ext:"mp3",mime:"audio/mpeg"};if(a[4]===102&&a[5]===116&&a[6]===121&&a[7]===112&&a[8]===77&&a[9]===52&&a[10]===65||a[0]===77&&a[1]===52&&a[2]===65&&a[3]===32)return{ext:"m4a",mime:"audio/m4a"};if(a[28]===79&&a[29]===112&&a[30]===117&&a[31]===115&&a[32]===72&&a[33]===101&&a[34]===97&&a[35]===100)return{ext:"opus",mime:"audio/opus"};if(a[0]===79&&a[1]===103&&a[2]===103&&a[3]===83)return{ext:"ogg",mime:"audio/ogg"};if(a[0]===102&&a[1]===76&&a[2]===97&&a[3]===67)return{ext:"flac",mime:"audio/x-flac"};if(a[0]===82&&a[1]===73&&a[2]===70&&a[3]===70&&a[8]===87&&a[9]===65&&a[10]===86&&a[11]===69)return{ext:"wav",mime:"audio/x-wav"};if(a[0]===35&&a[1]===33&&a[2]===65&&a[3]===77&&a[4]===82&&a[5]===10)return{ext:"amr",mime:"audio/amr"};if(a[0]===37&&a[1]===80&&a[2]===68&&a[3]===70)return{ext:"pdf",mime:"application/pdf"};if(a[0]===77&&a[1]===90)return{ext:"exe",mime:"application/x-msdownload"};if((a[0]===67||a[0]===70)&&a[1]===87&&a[2]===83)return{ext:"swf",mime:"application/x-shockwave-flash"};if(a[0]===123&&a[1]===92&&a[2]===114&&a[3]===116&&a[4]===102)return{ext:"rtf",mime:"application/rtf"};if(a[0]===119&&a[1]===79&&a[2]===70&&a[3]===70&&(a[4]===0&&a[5]===1&&a[6]===0&&a[7]===0||a[4]===79&&a[5]===84&&a[6]===84&&a[7]===79))return{ext:"woff",mime:"application/font-woff"};if(a[0]===119&&a[1]===79&&a[2]===70&&a[3]===50&&(a[4]===0&&a[5]===1&&a[6]===0&&a[7]===0||a[4]===79&&a[5]===84&&a[6]===84&&a[7]===79))return{ext:"woff2",mime:"application/font-woff"};if(a[34]===76&&a[35]===80&&(a[8]===0&&a[9]===0&&a[10]===1||a[8]===1&&a[9]===0&&a[10]===2||a[8]===2&&a[9]===0&&a[10]===2))return{ext:"eot",mime:"application/octet-stream"};if(a[0]===0&&a[1]===1&&a[2]===0&&a[3]===0&&a[4]===0)return{ext:"ttf",mime:"application/font-sfnt"};if(a[0]===79&&a[1]===84&&a[2]===84&&a[3]===79&&a[4]===0)return{ext:"otf",mime:"application/font-sfnt"};if(a[0]===0&&a[1]===0&&a[2]===1&&a[3]===0)return{ext:"ico",mime:"image/x-icon"};if(a[0]===70&&a[1]===76&&a[2]===86&&a[3]===1)return{ext:"flv",mime:"video/x-flv"};if(a[0]===37&&a[1]===33)return{ext:"ps",mime:"application/postscript"};if(a[0]===253&&a[1]===55&&a[2]===122&&a[3]===88&&a[4]===90&&a[5]===0)return{ext:"xz",mime:"application/x-xz"};if(a[0]===83&&a[1]===81&&a[2]===76&&a[3]===105)return{ext:"sqlite",mime:"application/x-sqlite3"};if(a[0]===78&&a[1]===69&&a[2]===83&&a[3]===26)return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(a[0]===67&&a[1]===114&&a[2]===50&&a[3]===52)return{ext:"crx",mime:"application/x-google-chrome-extension"};if(a[0]===77&&a[1]===83&&a[2]===67&&a[3]===70||a[0]===73&&a[1]===83&&a[2]===99&&a[3]===40)return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(a[0]===33&&a[1]===60&&a[2]===97&&a[3]===114&&a[4]===99&&a[5]===104&&a[6]===62&&a[7]===10&&a[8]===100&&a[9]===101&&a[10]===98&&a[11]===105&&a[12]===97&&a[13]===110&&a[14]===45&&a[15]===98&&a[16]===105&&a[17]===110&&a[18]===97&&a[19]===114&&a[20]===121)return{ext:"deb",mime:"application/x-deb"};if(a[0]===33&&a[1]===60&&a[2]===97&&a[3]===114&&a[4]===99&&a[5]===104&&a[6]===62)return{ext:"ar",mime:"application/x-unix-archive"};if(a[0]===237&&a[1]===171&&a[2]===238&&a[3]===219)return{ext:"rpm",mime:"application/x-rpm"};if(a[0]===31&&a[1]===160||a[0]===31&&a[1]===157)return{ext:"Z",mime:"application/x-compress"};if(a[0]===76&&a[1]===90&&a[2]===73&&a[3]===80)return{ext:"lz",mime:"application/x-lzip"};return a[0]===208&&a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225?{ext:"msi",mime:"application/x-msi"}:null}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("file-type",["file-type-3.8.0"],(function(a,b,c,d,e,f){e.exports=b("file-type-3.8.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("filesize-8.0.7",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.filesize=c())})(this,function(){var a=/^(b|B)$/,b={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},c={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},d={floor:Math.floor,ceil:Math.ceil};function e(e){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=[],h=0,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;if(isNaN(e))throw new TypeError("Invalid number");k=f.bits===!0;w=f.unix===!0;t=f.pad===!0;j=f.base||10;u=f.round!==void 0?f.round:w?1:2;o=f.locale!==void 0?f.locale:"";p=f.localeOptions||{};x=f.separator!==void 0?f.separator:"";y=f.spacer!==void 0?f.spacer:w?"":" ";A=f.symbols||{};z=j===2?f.standard||"iec":"jedec";s=f.output||"string";m=f.fullform===!0;n=f.fullforms instanceof Array?f.fullforms:[];i=f.exponent!==void 0?f.exponent:-1;B=d[f.roundingMethod]||Math.round;r=Number(e);q=r<0;l=j>2?1e3:1024;C=isNaN(f.precision)===!1?parseInt(f.precision,10):0;q&&(r=-r);(i===-1||isNaN(i))&&(i=Math.floor(Math.log(r)/Math.log(l)),i<0&&(i=0));i>8&&(C>0&&(C+=8-i),i=8);if(s==="exponent")return i;if(r===0)g[0]=0,v=g[1]=w?"":b[z][k?"bits":"bytes"][i];else{h=r/(j===2?Math.pow(2,i*10):Math.pow(1e3,i));k&&(h=h*8,h>=l&&i<8&&(h=h/l,i++));var D=Math.pow(10,i>0?u:0);g[0]=B(h*D)/D;g[0]===l&&i<8&&f.exponent===void 0&&(g[0]=1,i++);v=g[1]=j===10&&i===1?k?"kbit":"kB":b[z][k?"bits":"bytes"][i];w&&(g[1]=g[1].charAt(0),a.test(g[1])&&(g[0]=Math.floor(g[0]),g[1]=""))}q&&(g[0]=-g[0]);C>0&&(g[0]=g[0].toPrecision(C));g[1]=A[g[1]]||g[1];o===!0?g[0]=g[0].toLocaleString():o.length>0?g[0]=g[0].toLocaleString(o,p):x.length>0&&(g[0]=g[0].toString().replace(".",x));if(t&&Number.isInteger(g[0])===!1&&u>0){var E=x||".",F=g[0].toString().split(E),G=F[1]||"",H=G.length,I=u-H;g[0]="".concat(F[0]).concat(E).concat(G.padEnd(H+I,"0"))}m&&(g[1]=n[i]?n[i]:c[z][i]+(k?"bit":"byte")+(g[0]===1?"":"s"));return s==="array"?g:s==="object"?{value:g[0],symbol:g[1],exponent:i,unit:v}:g.join(y)}e.partial=function(a){return function(b){return e(b,a)}};return e})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("filesize",["filesize-8.0.7"],(function(a,b,c,d,e,f){e.exports=b("filesize-8.0.7")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("latenize-0.2.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports={"\xc1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\xc2":"A","\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\xc4":"A","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\xc0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\xc5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\xc3":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\xc9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\xca":"E","\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\xcb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\xc8":"E","\u1eba":"E","\u0206":"E","\u0112":"E","\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H","\u1e24":"H","\u0126":"H","\xcd":"I","\u012c":"I","\u01cf":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\xcc":"I","\u1ec8":"I","\u020a":"I","\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L","\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\xd1":"N","\u01ca":"NJ","\xd3":"O","\u014e":"O","\u01d1":"O","\xd4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\xd6":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\xd2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\xd5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P","\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u1e9e":"SS","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T","\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\xda":"U","\u016c":"U","\u01d3":"U","\xdb":"U","\u1e76":"U","\xdc":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\xd9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V","\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C","\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M","\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\xe1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a","\xe2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\xe4":"a","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\xe0":"a","\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\xe5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\xe3":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b","\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c","\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\xe9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\xea":"e","\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\xeb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\xe8":"e","\u1ebb":"e","\u0207":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h","\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\xed":"i","\u012d":"i","\u01d0":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\xec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k","\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l","\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n","\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n","\xf1":"n","\u01cc":"nj","\xf3":"o","\u014f":"o","\u01d2":"o","\xf4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\xf6":"o","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\xf2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\xf5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c","\ua73f":"c","\u0258":"e","\u027f":"r","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\xdf":"ss","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t","\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a","\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\xfa":"u","\u016d":"u","\u01d4":"u","\xfb":"u","\u1e77":"u","\xfc":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\xf9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u","\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\xfd":"y","\u0177":"y","\xff":"y","\u1e8f":"y","\u1ef5":"y","\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v","\u2093":"x","\u0401":"YO","\u0419":"I","\u0426":"TS","\u0423":"U","\u041a":"K","\u0415":"E","\u041d":"N","\u0413":"G","\u0428":"SH","\u0429":"SCH","\u0417":"Z","\u0425":"H","\u042a":"","\u0451":"yo","\u0439":"i","\u0446":"ts","\u0443":"u","\u043a":"k","\u0435":"e","\u043d":"n","\u0433":"g","\u0448":"sh","\u0449":"sch","\u0437":"z","\u0445":"h","\u044a":"","\u0424":"F","\u042b":"I","\u0412":"V","\u0410":"A","\u041f":"P","\u0420":"R","\u041e":"O","\u041b":"L","\u0414":"D","\u0416":"ZH","\u042d":"E","\u0444":"f","\u044b":"i","\u0432":"v","\u0430":"a","\u043f":"p","\u0440":"r","\u043e":"o","\u043b":"l","\u0434":"d","\u0436":"zh","\u044d":"e","\u042f":"Ya","\u0427":"CH","\u0421":"S","\u041c":"M","\u0418":"I","\u0422":"T","\u042c":"","\u0411":"B","\u042e":"YU","\u044f":"ya","\u0447":"ch","\u0441":"s","\u043c":"m","\u0438":"i","\u0442":"t","\u044c":"","\u0431":"b","\u044e":"yu"}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){var a=j();function b(b){return b.replace(/[^A-Za-z0-9]/g,function(b){return a[b]||b})}b.isLatin=function(a){return a===b(a)};k.exports=b}var m=!1;function n(){m||(m=!0,l());return k.exports}function a(a){switch(a){case void 0:return n()}}e.exports=a}),null);
__d("latenize",["latenize-0.2.0"],(function(a,b,c,d,e,f){e.exports=b("latenize-0.2.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("lodash-4.17.15",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var b,c="4.17.15",d=200,e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",j="__lodash_hash_undefined__",k=500,l="__lodash_placeholder__",m=1,n=2,o=4,p=1,q=2,r=1,s=2,t=4,u=8,v=16,w=32,x=64,y=128,z=256,A=512,B=30,aa="...",ba=800,ca=16,da=1,ea=2,C=3,fa=1/0,ga=9007199254740991,ha=17976931348623157e292,ia=0/0,D=4294967295,ja=D-1,ka=D>>>1,la=[["ary",y],["bind",r],["bindKey",s],["curry",u],["curryRight",v],["flip",A],["partial",w],["partialRight",x],["rearg",z]],ma="[object Arguments]",na="[object Array]",oa="[object AsyncFunction]",pa="[object Boolean]",qa="[object Date]",ra="[object DOMException]",sa="[object Error]",ta="[object Function]",ua="[object GeneratorFunction]",E="[object Map]",va="[object Number]",wa="[object Null]",xa="[object Object]",F="[object Promise]",ya="[object Proxy]",za="[object RegExp]",Aa="[object Set]",Ba="[object String]",Ca="[object Symbol]",Da="[object Undefined]",Ea="[object WeakMap]",Fa="[object WeakSet]",Ga="[object ArrayBuffer]",Ha="[object DataView]",Ia="[object Float32Array]",Ja="[object Float64Array]",Ka="[object Int8Array]",La="[object Int16Array]",Ma="[object Int32Array]",Na="[object Uint8Array]",Oa="[object Uint8ClampedArray]",Pa="[object Uint16Array]",Qa="[object Uint32Array]",Ra=/\b__p \+= '';/g,Sa=/\b(__p \+=) '' \+/g,Ta=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ua=/&(?:amp|lt|gt|quot|#39);/g,Va=/[&<>"']/g,Wa=RegExp(Ua.source),Xa=RegExp(Va.source),Ya=/<%-([\s\S]+?)%>/g,Za=/<%([\s\S]+?)%>/g,$a=/<%=([\s\S]+?)%>/g,ab=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bb=/^\w*$/,cb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,db=/[\\^$.*+?()[\]{}|]/g,eb=RegExp(db.source),fb=/^\s+|\s+$/g,gb=/^\s+/,hb=/\s+$/,ib=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jb=/\{\n\/\* \[wrapped with (.+)\] \*/,kb=/,? & /,lb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mb=/\\(\\)?/g,nb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ob=/\w*$/,pb=/^[-+]0x[0-9a-f]+$/i,qb=/^0b[01]+$/i,rb=/^\[object .+?Constructor\]$/,sb=/^0o[0-7]+$/i,tb=/^(?:0|[1-9]\d*)$/,ub=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vb=/($^)/,wb=/['\n\r\u2028\u2029\\]/g,xb="\\ud800-\\udfff",G="\\u0300-\\u036f",H="\\ufe20-\\ufe2f",yb="\\u20d0-\\u20ff";G=G+H+yb;H="\\u2700-\\u27bf";yb="a-z\\xdf-\\xf6\\xf8-\\xff";var I="\\xac\\xb1\\xd7\\xf7",zb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ab="\\u2000-\\u206f",Bb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cb="A-Z\\xc0-\\xd6\\xd8-\\xde",Db="\\ufe0e\\ufe0f";I=I+zb+Ab+Bb;zb="['\u2019]";Ab="["+xb+"]";Bb="["+I+"]";var J="["+G+"]",Eb="\\d+",Fb="["+H+"]",Gb="["+yb+"]";I="[^"+xb+I+Eb+H+yb+Cb+"]";H="\\ud83c[\\udffb-\\udfff]";yb="(?:"+J+"|"+H+")";var Hb="[^"+xb+"]",Ib="(?:\\ud83c[\\udde6-\\uddff]){2}",Jb="[\\ud800-\\udbff][\\udc00-\\udfff]";Cb="["+Cb+"]";var K="\\u200d",Kb="(?:"+Gb+"|"+I+")";I="(?:"+Cb+"|"+I+")";var Lb="(?:"+zb+"(?:d|ll|m|re|s|t|ve))?",Mb="(?:"+zb+"(?:D|LL|M|RE|S|T|VE))?";yb=yb+"?";var Nb="["+Db+"]?",Ob="(?:"+K+"(?:"+[Hb,Ib,Jb].join("|")+")"+Nb+yb+")*",Pb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])";Nb=Nb+yb+Ob;yb="(?:"+[Fb,Ib,Jb].join("|")+")"+Nb;Ob="(?:"+[Hb+J+"?",J,Ib,Jb,Ab].join("|")+")";var Rb=RegExp(zb,"g"),Sb=RegExp(J,"g"),Tb=RegExp(H+"(?="+H+")|"+Ob+Nb,"g"),Ub=RegExp([Cb+"?"+Gb+"+"+Lb+"(?="+[Bb,Cb,"$"].join("|")+")",I+"+"+Mb+"(?="+[Bb,Cb+Kb,"$"].join("|")+")",Cb+"?"+Kb+"+"+Lb,Cb+"+"+Mb,Qb,Pb,Eb,yb].join("|"),"g"),Vb=RegExp("["+K+xb+G+Db+"]"),Wb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yb=-1,L={};L[Ia]=L[Ja]=L[Ka]=L[La]=L[Ma]=L[Na]=L[Oa]=L[Pa]=L[Qa]=!0;L[ma]=L[na]=L[Ga]=L[pa]=L[Ha]=L[qa]=L[sa]=L[ta]=L[E]=L[va]=L[xa]=L[za]=L[Aa]=L[Ba]=L[Ea]=!1;var M={};M[ma]=M[na]=M[Ga]=M[Ha]=M[pa]=M[qa]=M[Ia]=M[Ja]=M[Ka]=M[La]=M[Ma]=M[E]=M[va]=M[xa]=M[za]=M[Aa]=M[Ba]=M[Ca]=M[Na]=M[Oa]=M[Pa]=M[Qa]=!0;M[sa]=M[ta]=M[Ea]=!1;Fb={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"};Hb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};Ib={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var Zb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$b=parseFloat,ac=parseInt;Jb=typeof a=="object"&&a&&a.Object===Object&&a;Ab=typeof self=="object"&&self&&self.Object===Object&&self;var N=Jb||Ab||Function("return this")();zb=typeof g=="object"&&g&&!g.nodeType&&g;J=zb&&typeof h=="object"&&h&&!h.nodeType&&h;var bc=J&&J.exports===zb;bc&&Jb.process;H=null;var cc=H&&H.isArrayBuffer,dc=H&&H.isDate,ec=H&&H.isMap,fc=H&&H.isRegExp,gc=H&&H.isSet,hc=H&&H.isTypedArray;function ic(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function jc(a,b,c,d){var e=-1,f=a==null?0:a.length;while(++e<f){var g=a[e];b(d,g,c(g),a)}return d}function kc(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a)===!1)break;return a}function lc(a,b){var c=a==null?0:a.length;while(c--)if(b(a[c],c,a)===!1)break;return a}function mc(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(!b(a[c],c,a))return!1;return!0}function nc(a,b){var c=-1,d=a==null?0:a.length,e=0,f=[];while(++c<d){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function oc(a,b){var c=a==null?0:a.length;return!!c&&zc(a,b,0)>-1}function pc(a,b,c){var d=-1,e=a==null?0:a.length;while(++d<e)if(c(b,a[d]))return!0;return!1}function O(a,b){var c=-1,d=a==null?0:a.length,e=Array(d);while(++c<d)e[c]=b(a[c],c,a);return e}function qc(a,b){var c=-1,d=b.length,e=a.length;while(++c<d)a[e+c]=b[c];return a}function rc(a,b,c,d){var e=-1,f=a==null?0:a.length;d&&f&&(c=a[++e]);while(++e<f)c=b(c,a[e],e,a);return c}function sc(a,b,c,d){var e=a==null?0:a.length;d&&e&&(c=a[--e]);while(e--)c=b(c,a[e],e,a);return c}function tc(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a))return!0;return!1}var uc=Dc("length");function vc(a){return a.split("")}function wc(a){return a.match(lb)||[]}function xc(a,b,c){var d;c(a,function(c,e,a){if(b(c,e,a)){d=e;return!1}});return d}function yc(a,b,c,d){var e=a.length;c=c+(d?1:-1);while(d?c--:++c<e)if(b(a[c],c,a))return c;return-1}function zc(a,b,c){return b===b?bd(a,b,c):yc(a,Bc,c)}function Ac(a,b,c,d){c=c-1;var e=a.length;while(++c<e)if(d(a[c],b))return c;return-1}function Bc(a){return a!==a}function Cc(a,b){var c=a==null?0:a.length;return c?Hc(a,b)/c:ia}function Dc(a){return function(b){return b==null?void 0:b[a]}}function Ec(a){return function(b){return a==null?void 0:a[b]}}function Fc(a,b,c,d,e){e(a,function(e,f,a){c=d?(d=!1,e):b(c,e,f,a)});return c}function Gc(a,b){var c=a.length;a.sort(b);while(c--)a[c]=a[c].value;return a}function Hc(a,b){var c,d=-1,e=a.length;while(++d<e){var f=b(a[d]);f!==void 0&&(c=c===void 0?f:c+f)}return c}function Ic(a,b){var c=-1,d=Array(a);while(++c<a)d[c]=b(c);return d}function Jc(a,b){return O(b,function(b){return[b,a[b]]})}function Kc(a){return function(b){return a(b)}}function Lc(a,b){return O(b,function(b){return a[b]})}function Mc(a,b){return a.has(b)}function Nc(a,b){var c=-1,d=a.length;while(++c<d&&zc(b,a[c],0)>-1);return c}function Oc(a,b){var c=a.length;while(c--&&zc(b,a[c],0)>-1);return c}function Pc(a,b){var c=a.length,d=0;while(c--)a[c]===b&&++d;return d}var Qc=Ec(Fb),Rc=Ec(Hb);function Sc(a){return"\\"+Zb[a]}function Tc(a,b){return a==null?void 0:a[b]}function Uc(a){return Vb.test(a)}function Vc(a){return Wb.test(a)}function Wc(a){var b,c=[];while(!(b=a.next()).done)c.push(b.value);return c}function Xc(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function Yc(a,b){return function(c){return a(b(c))}}function Zc(a,b){var c=-1,d=a.length,e=0,f=[];while(++c<d){var g=a[c];(g===b||g===l)&&(a[c]=l,f[e++]=c)}return f}function $c(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function ad(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=[a,a]});return c}function bd(a,b,c){c=c-1;var d=a.length;while(++c<d)if(a[c]===b)return c;return-1}function cd(a,b,c){c=c+1;while(c--)if(a[c]===b)return c;return c}function dd(a){return Uc(a)?gd(a):uc(a)}function ed(a){return Uc(a)?hd(a):vc(a)}var fd=Ec(Ib);function gd(a){var b=Tb.lastIndex=0;while(Tb.test(a))++b;return b}function hd(a){return a.match(Tb)||[]}function id(a){return a.match(Ub)||[]}Ob=function a(b){b=b==null?N:jd.defaults(N.Object(),b,jd.pick(N,Xb));var g=b.Array,h=b.Date,i=b.Error,lb=b.Function,xb=b.Math,G=b.Object,H=b.RegExp,yb=b.String,I=b.TypeError,zb=g.prototype,Ab=lb.prototype,Bb=G.prototype,Cb=b["__core-js_shared__"],Db=Ab.toString,J=Bb.hasOwnProperty,Eb=0,Fb=function(){var a=/[^.]+$/.exec(Cb&&Cb.keys&&Cb.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Gb=Bb.toString,Hb=Db.call(G),Ib=N._,Jb=H("^"+Db.call(J).replace(db,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Ab=bc?b.Buffer:void 0;var K=b.Symbol,Kb=b.Uint8Array,Lb=Ab?Ab.allocUnsafe:void 0,Mb=Yc(G.getPrototypeOf,G),Nb=G.create,Ob=Bb.propertyIsEnumerable,Pb=zb.splice,Qb=K?K.isConcatSpreadable:void 0,Tb=K?K.iterator:void 0,Ub=K?K.toStringTag:void 0,Vb=function(){try{var a=Yg(G,"defineProperty");a({},"",{});return a}catch(a){}}(),Wb=b.clearTimeout!==N.clearTimeout&&b.clearTimeout,Zb=h&&h.now!==N.Date.now&&h.now,uc=b.setTimeout!==N.setTimeout&&b.setTimeout,vc=xb.ceil,Ec=xb.floor,bd=G.getOwnPropertySymbols;Ab=Ab?Ab.isBuffer:void 0;var gd=b.isFinite,hd=zb.join,kd=Yc(G.keys,G),P=xb.max,ld=xb.min,md=h.now,nd=b.parseInt,od=xb.random,pd=zb.reverse;h=Yg(b,"DataView");var qd=Yg(b,"Map"),rd=Yg(b,"Promise"),sd=Yg(b,"Set");b=Yg(b,"WeakMap");var td=Yg(G,"create"),ud=b&&new b,vd={},wd=Kh(h),xd=Kh(qd),yd=Kh(rd),zd=Kh(sd),Ad=Kh(b);K=K?K.prototype:void 0;var Bd=K?K.valueOf:void 0,Cd=K?K.toString:void 0;function Q(a){if(X(a)&&!U(a)&&!(a instanceof R)){if(a instanceof Fd)return a;if(J.call(a,"__wrapped__"))return Mh(a)}return new Fd(a)}var Dd=function(){function a(){}return function(b){if(!W(b))return{};if(Nb)return Nb(b);a.prototype=b;b=new a;a.prototype=void 0;return b}}();function Ed(){}function Fd(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=void 0}Q.templateSettings={escape:Ya,evaluate:Za,interpolate:$a,variable:"",imports:{_:Q}};Q.prototype=Ed.prototype;Q.prototype.constructor=Q;Fd.prototype=Dd(Ed.prototype);Fd.prototype.constructor=Fd;function R(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function Gd(){var a=new R(this.__wrapped__);a.__actions__=ig(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ig(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ig(this.__views__);return a}function Hd(){if(this.__filtered__){var a=new R(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Id(){var b=this.__wrapped__.value(),c=this.__dir__,d=U(b),e=c<0,f=d?b.length:0,g=ch(0,f,this.__views__),h=g.start;g=g.end;var i=g-h;g=e?g:h-1;h=this.__iteratees__;var j=h.length,k=0,l=ld(i,this.__takeCount__);if(!d||!e&&f==i&&l==i)return Rf(b,this.__actions__);d=[];outer:while(i--&&k<l){g+=c;e=-1;f=b[g];while(++e<j){var m=h[e],a=m.iteratee;m=m.type;a=a(f);if(m==ea)f=a;else if(!a)if(m==da)continue outer;else break outer}d[k++]=f}return d}R.prototype=Dd(Ed.prototype);R.prototype.constructor=R;function Jd(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}function Kd(){this.__data__=td?td(null):{},this.size=0}function Ld(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a}function Md(b){var c=this.__data__;if(td){var a=c[b];return a===j?void 0:a}return J.call(c,b)?c[b]:void 0}function Nd(a){var b=this.__data__;return td?b[a]!==void 0:J.call(b,a)}function Od(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=td&&b===void 0?j:b;return this}Jd.prototype.clear=Kd;Jd.prototype["delete"]=Ld;Jd.prototype.get=Md;Jd.prototype.has=Nd;Jd.prototype.set=Od;function Pd(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}function Qd(){this.__data__=[],this.size=0}function Rd(a){var b=this.__data__;a=pe(b,a);if(a<0)return!1;var c=b.length-1;a==c?b.pop():Pb.call(b,a,1);--this.size;return!0}function Sd(a){var b=this.__data__;a=pe(b,a);return a<0?void 0:b[a][1]}function Td(a){return pe(this.__data__,a)>-1}function Ud(a,b){var c=this.__data__,d=pe(c,a);d<0?(++this.size,c.push([a,b])):c[d][1]=b;return this}Pd.prototype.clear=Qd;Pd.prototype["delete"]=Rd;Pd.prototype.get=Sd;Pd.prototype.has=Td;Pd.prototype.set=Ud;function Vd(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}function Wd(){this.size=0,this.__data__={hash:new Jd,map:new(qd||Pd),string:new Jd}}function Xd(a){a=Wg(this,a)["delete"](a);this.size-=a?1:0;return a}function Yd(a){return Wg(this,a).get(a)}function Zd(a){return Wg(this,a).has(a)}function $d(b,c){var d=Wg(this,b),a=d.size;d.set(b,c);this.size+=d.size==a?0:1;return this}Vd.prototype.clear=Wd;Vd.prototype["delete"]=Xd;Vd.prototype.get=Yd;Vd.prototype.has=Zd;Vd.prototype.set=$d;function ae(a){var b=-1,c=a==null?0:a.length;this.__data__=new Vd;while(++b<c)this.add(a[b])}function be(a){this.__data__.set(a,j);return this}function ce(a){return this.__data__.has(a)}ae.prototype.add=ae.prototype.push=be;ae.prototype.has=ce;function de(a){a=this.__data__=new Pd(a);this.size=a.size}function ee(){this.__data__=new Pd,this.size=0}function fe(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a}function ge(a){return this.__data__.get(a)}function he(a){return this.__data__.has(a)}function ie(a,b){var c=this.__data__;if(c instanceof Pd){var e=c.__data__;if(!qd||e.length<d-1){e.push([a,b]);this.size=++c.size;return this}c=this.__data__=new Vd(e)}c.set(a,b);this.size=c.size;return this}de.prototype.clear=ee;de.prototype["delete"]=fe;de.prototype.get=ge;de.prototype.has=he;de.prototype.set=ie;function je(a,b){var c=U(a),d=!c&&Jj(a),e=!c&&!d&&Mj(a),f=!c&&!d&&!e&&jk(a);c=c||d||e||f;d=c?Ic(a.length,yb):[];var g=d.length;for(var h in a)(b||J.call(a,h))&&!(c&&(h=="length"||e&&(h=="offset"||h=="parent")||f&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||kh(h,g)))&&d.push(h);return d}function ke(a){var b=a.length;return b?a[yf(0,b-1)]:void 0}function le(a,b){return Hh(ig(a),ve(b,0,a.length))}function me(a){return Hh(ig(a))}function ne(a,b,c){(c!==void 0&&!Ij(a[b],c)||c===void 0&&!(b in a))&&te(a,b,c)}function oe(a,b,c){var d=a[b];(!(J.call(a,b)&&Ij(d,c))||c===void 0&&!(b in a))&&te(a,b,c)}function pe(a,b){var c=a.length;while(c--)if(Ij(a[c][0],b))return c;return-1}function qe(b,c,a,d){Be(b,function(e,f,b){c(d,e,a(e),b)});return d}function re(a,b){return a&&jg(b,$(b),a)}function se(a,b){return a&&jg(b,Gk(b),a)}function te(a,b,c){b=="__proto__"&&Vb?Vb(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function ue(b,c){var d=-1,e=c.length,a=g(e),f=b==null;while(++d<e)a[d]=f?void 0:Dk(b,c[d]);return a}function ve(a,b,c){a===a&&(c!==void 0&&(a=a<=c?a:c),b!==void 0&&(a=a>=b?a:b));return a}function we(b,c,d,e,f,g){var a,h=c&m,i=c&n,j=c&o;d&&(a=f?d(b,e,f,g):d(b));if(a!==void 0)return a;if(!W(b))return b;e=U(b);if(e){a=fh(b);if(!h)return ig(b,a)}else{var k=bh(b),l=k==ta||k==ua;if(Mj(b))return Zf(b,h);if(k==xa||k==ma||l&&!f){a=i||l?{}:gh(b);if(!h)return i?lg(b,se(a,b)):kg(b,re(a,b))}else{if(!M[k])return f?b:{};a=hh(b,k,h)}}g||(g=new de);l=g.get(b);if(l)return l;g.set(b,a);gk(b)?b.forEach(function(e){a.add(we(e,c,d,e,b,g))}):Wj(b)&&b.forEach(function(f,e){a.set(e,we(f,c,d,e,b,g))});f=j?i?Sg:Rg:i?Gk:$;var p=e?void 0:f(b);kc(p||b,function(f,e){p&&(e=f,f=b[e]),oe(a,e,we(f,c,d,e,b,g))});return a}function xe(a){var b=$(a);return function(c){return ye(c,a,b)}}function ye(a,b,c){var d=c.length;if(a==null)return!d;a=G(a);while(d--){var e=c[d],f=b[e],g=a[e];if(g===void 0&&!(e in a)||!f(g))return!1}return!0}function ze(a,b,c){if(typeof a!="function")throw new I(f);return Dh(function(){a.apply(void 0,c)},b)}function Ae(f,c,e,g){var h=-1,a=oc,i=!0,j=f.length,b=[],k=c.length;if(!j)return b;e&&(c=O(c,Kc(e)));g?(a=pc,i=!1):c.length>=d&&(a=Mc,i=!1,c=new ae(c));outer:while(++h<j){var l=f[h],m=e==null?l:e(l);l=g||l!==0?l:0;if(i&&m===m){var n=k;while(n--)if(c[n]===m)continue outer;b.push(l)}else a(c,m,g)||b.push(l)}return b}var Be=og(Ke),Ce=og(Le,!0);function De(b,c){var a=!0;Be(b,function(d,e,b){a=!!c(d,e,b);return a});return a}function Ee(c,b,d){var e=-1,f=c.length;while(++e<f){var g=c[e],h=b(g);if(h!=null&&(i===void 0?h===h&&!ik(h):d(h,i)))var i=h,a=g}return a}function Fe(a,b,c,d){var e=a.length;c=Y(c);c<0&&(c=-c>e?0:e+c);d=d===void 0||d>e?e:Y(d);d<0&&(d+=e);d=c>d?0:pk(d);while(c<d)a[c++]=b;return a}function Ge(b,c){var a=[];Be(b,function(d,e,b){c(d,e,b)&&a.push(d)});return a}function He(b,c,d,e,a){var f=-1,g=b.length;d||(d=jh);a||(a=[]);while(++f<g){var h=b[f];c>0&&d(h)?c>1?He(h,c-1,d,e,a):qc(a,h):e||(a[a.length]=h)}return a}var Ie=pg(),Je=pg(!0);function Ke(b,a){return b&&Ie(b,a,$)}function Le(b,a){return b&&Je(b,a,$)}function Me(a,b){return nc(b,function(b){return Tj(a[b])})}function Ne(a,b){b=Wf(b,a);var c=0,d=b.length;while(a!=null&&c<d)a=a[Jh(b[c++])];return c&&c==d?a:void 0}function Oe(a,b,c){b=b(a);return U(a)?b:qc(b,c(a))}function Pe(a){return a==null?a===void 0?Da:wa:Ub&&Ub in G(a)?Zg(a):xh(a)}function Qe(a,b){return a>b}function Re(a,b){return a!=null&&J.call(a,b)}function Se(a,b){return a!=null&&b in G(a)}function Te(a,b,c){return a>=ld(b,c)&&a<P(b,c)}function Ue(d,c,e){var a=e?pc:oc,f=d[0].length,h=d.length,i=h,j=g(h),k=Infinity,b=[];while(i--){var l=d[i];i&&c&&(l=O(l,Kc(c)));k=ld(l.length,k);j[i]=!e&&(c||f>=120&&l.length>=120)?new ae(i&&l):void 0}l=d[0];var m=-1,n=j[0];outer:while(++m<f&&b.length<k){var o=l[m],p=c?c(o):o;o=e||o!==0?o:0;if(!(n?Mc(n,p):a(b,p,e))){i=h;while(--i){var q=j[i];if(!(q?Mc(q,p):a(d[i],p,e)))continue outer}n&&n.push(p);b.push(o)}}return b}function Ve(b,c,a,d){Ke(b,function(e,f,b){c(d,a(e),f,b)});return d}function We(a,b,c){b=Wf(b,a);a=zh(a,b);b=a==null?a:a[Jh(ei(b))];return b==null?void 0:ic(b,a,c)}function Xe(a){return X(a)&&Pe(a)==ma}function Ye(a){return X(a)&&Pe(a)==Ga}function Ze(a){return X(a)&&Pe(a)==qa}function $e(a,b,c,d,e){if(a===b)return!0;return a==null||b==null||!X(a)&&!X(b)?a!==a&&b!==b:af(a,b,c,d,$e,e)}function af(a,b,c,d,e,f){var g=U(a),h=U(b),i=g?na:bh(a);h=h?na:bh(b);i=i==ma?xa:i;h=h==ma?xa:h;var j=i==xa,k=h==xa;h=i==h;if(h&&Mj(a)){if(!Mj(b))return!1;g=!0;j=!1}if(h&&!j){f||(f=new de);return g||jk(a)?Ng(a,b,c,d,e,f):Og(a,b,i,c,d,e,f)}if(!(c&p)){g=j&&J.call(a,"__wrapped__");i=k&&J.call(b,"__wrapped__");if(g||i){j=g?a.value():a;k=i?b.value():b;f||(f=new de);return e(j,k,c,d,f)}}if(!h)return!1;f||(f=new de);return Pg(a,b,c,d,e,f)}function bf(a){return X(a)&&bh(a)==E}function cf(b,c,d,e){var f=d.length,g=f,h=!e;if(b==null)return!g;b=G(b);while(f--){var i=d[f];if(h&&i[2]?i[1]!==b[i[0]]:!(i[0]in b))return!1}while(++f<g){i=d[f];var j=i[0],k=b[j],l=i[1];if(h&&i[2]){if(k===void 0&&!(j in b))return!1}else{i=new de;if(e)var a=e(k,l,j,b,c,i);if(!(a===void 0?$e(l,k,p|q,e,i):a))return!1}}return!0}function df(a){if(!W(a)||ph(a))return!1;var b=Tj(a)?Jb:rb;return b.test(Kh(a))}function ef(a){return X(a)&&Pe(a)==za}function ff(a){return X(a)&&bh(a)==Aa}function gf(a){return X(a)&&Vj(a.length)&&!!L[Pe(a)]}function hf(a){if(typeof a=="function")return a;if(a==null)return Jl;return typeof a=="object"?U(a)?of(a[0],a[1]):nf(a):Vl(a)}function jf(b){if(!rh(b))return kd(b);var a=[];for(var c in G(b))J.call(b,c)&&c!="constructor"&&a.push(c);return a}function kf(b){if(!W(b))return wh(b);var c=rh(b),a=[];for(var d in b)d=="constructor"&&(c||!J.call(b,d))||a.push(d);return a}function lf(a,b){return a<b}function mf(c,b){var d=-1,a=Kj(c)?g(c.length):[];Be(c,function(e,f,c){a[++d]=b(e,f,c)});return a}function nf(a){var b=Xg(a);return b.length==1&&b[0][2]?th(b[0][0],b[0][1]):function(c){return c===a||cf(c,a,b)}}function of(a,b){return mh(a)&&sh(b)?th(Jh(a),b):function(c){var d=Dk(c,a);return d===void 0&&d===b?Fk(c,a):$e(b,d,p|q)}}function pf(a,b,c,d,e){if(a===b)return;Ie(b,function(f,g){e||(e=new de);if(W(f))qf(a,b,g,c,pf,d,e);else{var h=d?d(Bh(a,g),f,g+"",a,b,e):void 0;h===void 0&&(h=f);ne(a,g,h)}},Gk)}function qf(a,b,c,d,e,f,g){var h=Bh(a,c),i=Bh(b,c),j=g.get(i);if(j){ne(a,c,j);return}j=f?f(h,i,c+"",a,b,g):void 0;b=j===void 0;if(b){var k=U(i),l=!k&&Mj(i),m=!k&&!l&&jk(i);j=i;k||l||m?U(h)?j=h:V(h)?j=ig(h):l?(b=!1,j=Zf(i,!0)):m?(b=!1,j=dg(i,!0)):j=[]:dk(i)||Jj(i)?(j=h,Jj(h)?j=rk(h):(!W(h)||Tj(h))&&(j=gh(i))):b=!1}b&&(g.set(i,j),e(j,i,d,f,g),g["delete"](i));ne(a,c,j)}function rf(a,b){var c=a.length;if(!c)return;b+=b<0?c:0;return kh(b,c)?a[b]:void 0}function sf(a,b,c){var d=-1;b=O(b.length?b:[Jl],Kc(T()));a=mf(a,function(c,e,a){e=O(b,function(a){return a(c)});return{criteria:e,index:++d,value:c}});return Gc(a,function(a,b){return fg(a,b,c)})}function tf(a,b){return uf(a,b,function(b,c){return Fk(a,c)})}function uf(b,c,d){var e=-1,f=c.length,a={};while(++e<f){var g=c[e],h=Ne(b,g);d(h,g)&&Df(a,Wf(g,b),h)}return a}function vf(a){return function(b){return Ne(b,a)}}function wf(d,b,c,e){var a=e?Ac:zc,f=-1,g=b.length,h=d;d===b&&(b=ig(b));c&&(h=O(d,Kc(c)));while(++f<g){var i=0,j=b[f];j=c?c(j):j;while((i=a(h,j,i,e))>-1)h!==d&&Pb.call(h,i,1),Pb.call(d,i,1)}return d}function xf(a,b){var c=a?b.length:0,d=c-1;while(c--){var e=b[c];if(c==d||e!==f){var f=e;kh(e)?Pb.call(a,e,1):Of(a,e)}}return a}function yf(a,b){return a+Ec(od()*(b-a+1))}function zf(b,c,d,e){var f=-1;c=P(vc((c-b)/(d||1)),0);var a=g(c);while(c--)a[e?c:++f]=b,b+=d;return a}function Af(b,c){var a="";if(!b||c<1||c>ga)return a;do c%2&&(a+=b),c=Ec(c/2),c&&(b+=b);while(c);return a}function S(a,b){return Eh(yh(a,b,Jl),a+"")}function Bf(a){return ke(Wk(a))}function Cf(a,b){a=Wk(a);return Hh(a,ve(b,0,a.length))}function Df(a,b,c,d){if(!W(a))return a;b=Wf(b,a);var e=-1,f=b.length,g=f-1,h=a;while(h!=null&&++e<f){var i=Jh(b[e]),j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):void 0;j===void 0&&(j=W(k)?k:kh(b[e+1])?[]:{})}oe(h,i,j);h=h[i]}return a}var Ef=ud?function(a,b){ud.set(a,b);return a}:Jl;K=Vb?function(a,b){return Vb(a,"toString",{configurable:!0,enumerable:!1,value:Gl(b),writable:!0})}:Jl;function Ff(a){return Hh(Wk(a))}function Gf(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b);c=c>e?e:c;c<0&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;c=g(e);while(++d<e)c[d]=a[d+b];return c}function Hf(b,c){var a;Be(b,function(d,e,b){a=c(d,e,b);return!a});return!!a}function If(a,b,c){var d=0,e=a==null?d:a.length;if(typeof b=="number"&&b===b&&e<=ka){while(d<e){var f=d+e>>>1,g=a[f];g!==null&&!ik(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return Jf(a,b,Jl,c)}function Jf(b,c,a,d){c=a(c);var e=0,f=b==null?0:b.length,g=c!==c,h=c===null,i=ik(c),j=c===void 0;while(e<f){var k=Ec((e+f)/2),l=a(b[k]),m=l!==void 0,n=l===null,o=l===l,p=ik(l);if(g)var q=d||o;else j?q=o&&(d||m):h?q=o&&m&&(d||!n):i?q=o&&m&&!n&&(d||!p):n||p?q=!1:q=d?l<=c:l<c;q?e=k+1:f=k}return ld(f,ja)}function Kf(c,b){var d=-1,e=c.length,f=0,a=[];while(++d<e){var g=c[d],h=b?b(g):g;if(!d||!Ij(h,i)){var i=h;a[f++]=g===0?0:g}}return a}function Lf(a){if(typeof a=="number")return a;return ik(a)?ia:+a}function Mf(b){if(typeof b=="string")return b;if(U(b))return O(b,Mf)+"";if(ik(b))return Cd?Cd.call(b):"";var a=b+"";return a=="0"&&1/b==-fa?"-0":a}function Nf(f,e,g){var h=-1,a=oc,i=f.length,j=!0,b=[],k=b;if(g)j=!1,a=pc;else if(i>=d){var c=e?null:Hg(f);if(c)return $c(c);j=!1;a=Mc;k=new ae}else k=e?[]:b;outer:while(++h<i){c=f[h];var l=e?e(c):c;c=g||c!==0?c:0;if(j&&l===l){var m=k.length;while(m--)if(k[m]===l)continue outer;e&&k.push(l);b.push(c)}else a(k,l,g)||(k!==b&&k.push(l),b.push(c))}return b}function Of(a,b){b=Wf(b,a);a=zh(a,b);return a==null||delete a[Jh(ei(b))]}function Pf(a,b,c,d){return Df(a,b,c(Ne(a,b)),d)}function Qf(a,b,c,d){var e=a.length,f=d?e:-1;while((d?f--:++f<e)&&b(a[f],f,a));return c?Gf(a,d?0:f,d?f+1:e):Gf(a,d?f+1:0,d?e:f)}function Rf(a,b){a=a;a instanceof R&&(a=a.value());return rc(b,function(a,b){return b.func.apply(b.thisArg,qc([a],b.args))},a)}function Sf(c,b,d){var e=c.length;if(e<2)return e?Nf(c[0]):[];var f=-1,a=g(e);while(++f<e){var h=c[f],i=-1;while(++i<e)i!=f&&(a[f]=Ae(a[f]||h,c[i],b,d))}return Nf(He(a,1),b,d)}function Tf(c,b,d){var e=-1,f=c.length,g=b.length,a={};while(++e<f){var h=e<g?b[e]:void 0;d(a,c[e],h)}return a}function Uf(a){return V(a)?a:[]}function Vf(a){return typeof a=="function"?a:Jl}function Wf(a,b){return U(a)?a:mh(a,b)?[a]:Ih(Z(a))}Kd=S;function Xf(a,b,c){var d=a.length;c=c===void 0?d:c;return!b&&c>=d?a:Gf(a,b,c)}var Yf=Wb||function(a){return N.clearTimeout(a)};function Zf(a,b){if(b)return a.slice();b=a.length;b=Lb?Lb(b):new a.constructor(b);a.copy(b);return b}function $f(b){var a=new b.constructor(b.byteLength);new Kb(a).set(new Kb(b));return a}function ag(a,b){b=b?$f(a.buffer):a.buffer;return new a.constructor(b,a.byteOffset,a.byteLength)}function bg(b){var a=new b.constructor(b.source,ob.exec(b));a.lastIndex=b.lastIndex;return a}function cg(a){return Bd?G(Bd.call(a)):{}}function dg(a,b){b=b?$f(a.buffer):a.buffer;return new a.constructor(b,a.byteOffset,a.length)}function eg(a,b){if(a!==b){var c=a!==void 0,d=a===null,e=a===a,f=ik(a),g=b!==void 0,h=b===null,i=b===b,j=ik(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&a<b||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function fg(b,c,d){var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;while(++e<h){var a=eg(f[e],g[e]);if(a){if(e>=i)return a;var j=d[e];return a*(j=="desc"?-1:1)}}return b.index-c.index}function gg(b,c,d,e){var f=-1,h=b.length,i=d.length,j=-1,k=c.length,l=P(h-i,0),a=g(k+l);e=!e;while(++j<k)a[j]=c[j];while(++f<i)(e||f<h)&&(a[d[f]]=b[f]);while(l--)a[j++]=b[f++];return a}function hg(b,c,d,e){var f=-1,h=b.length,i=-1,j=d.length,k=-1,l=c.length,m=P(h-j,0),a=g(m+l);e=!e;while(++f<m)a[f]=b[f];m=f;while(++k<l)a[m+k]=c[k];while(++i<j)(e||f<h)&&(a[m+d[i]]=b[f++]);return a}function ig(a,b){var c=-1,d=a.length;b||(b=g(d));while(++c<d)b[c]=a[c];return b}function jg(a,b,c,d){var e=!c;c||(c={});var f=-1,g=b.length;while(++f<g){var h=b[f],i=d?d(c[h],a[h],h,c,a):void 0;i===void 0&&(i=a[h]);e?te(c,h,i):oe(c,h,i)}return c}function kg(a,b){return jg(a,$g(a),b)}function lg(a,b){return jg(a,ah(a),b)}function mg(a,b){return function(d,c){var e=U(d)?jc:qe,f=b?b():{};return e(d,a,T(c,2),f)}}function ng(a){return S(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:void 0,g=e>2?c[2]:void 0;f=a.length>3&&typeof f=="function"?(e--,f):void 0;g&&lh(c[0],c[1],g)&&(f=e<3?void 0:f,e=1);b=G(b);while(++d<e){g=c[d];g&&a(b,g,d,f)}return b})}function og(a,b){return function(d,c){if(d==null)return d;if(!Kj(d))return a(d,c);var e=d.length,f=b?e:-1,g=G(d);while(b?f--:++f<e)if(c(g[f],f,g)===!1)break;return d}}function pg(a){return function(c,b,d){var e=-1,f=G(c);d=d(c);var g=d.length;while(g--){var h=d[a?g:++e];if(b(f[h],h,f)===!1)break}return c}}function qg(a,b,c){var d=b&r,e=tg(a);function f(){var b=this&&this!==N&&this instanceof f?e:a;return b.apply(d?c:this,arguments)}return f}function rg(a){return function(b){b=Z(b);var c=Uc(b)?ed(b):void 0,d=c?c[0]:b.charAt(0);c=c?Xf(c,1).join(""):b.slice(1);return d[a]()+c}}function sg(a){return function(b){return rc(Cl(cl(b).replace(Rb,"")),a,"")}}function tg(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=Dd(a.prototype),b=a.apply(d,c);return W(b)?b:d}}function ug(a,b,c){var d=tg(a);function e(){var f=arguments.length,h=g(f),i=f,j=Vg(e);while(i--)h[i]=arguments[i];var k=f<3&&h[0]!==j&&h[f-1]!==j?[]:Zc(h,j);f-=k.length;if(f<c)return Fg(a,b,xg,e.placeholder,void 0,h,k,void 0,void 0,c-f);var l=this&&this!==N&&this instanceof e?d:a;return ic(l,this,h)}return e}function vg(a){return function(c,d,e){var f=G(c);if(!Kj(c)){var b=T(d,3);c=$(c);d=function(a){return b(f[a],a,f)}}d=a(c,d,e);return d>-1?f[b?c[d]:d]:void 0}}function wg(a){return Qg(function(b){var c=b.length,d=c,e=Fd.prototype.thru;a&&b.reverse();while(d--){var g=b[d];if(typeof g!="function")throw new I(f);if(e&&!h&&Ug(g)=="wrapper")var h=new Fd([],!0)}d=h?d:c;while(++d<c){g=b[d];e=Ug(g);var i=e=="wrapper"?Tg(g):void 0;i&&oh(i[0])&&i[1]==(y|u|w|z)&&!i[4].length&&i[9]==1?h=h[Ug(i[0])].apply(h,i[3]):h=g.length==1&&oh(g)?h[e]():h.thru(g)}return function(){var e=arguments,f=e[0];if(h&&e.length==1&&U(f))return h.plant(f).value();var d=0,a=c?b[d].apply(this,e):f;while(++d<c)a=b[d].call(this,a);return a}})}function xg(b,c,d,e,f,h,i,j,a,k){var l=c&y,m=c&r,n=c&s,o=c&(u|v),p=c&A,q=n?void 0:tg(b);function t(){var r=arguments.length,s=g(r),u=r;while(u--)s[u]=arguments[u];if(o)var v=Vg(t),w=Pc(s,v);e&&(s=gg(s,e,f,o));h&&(s=hg(s,h,i,o));r-=w;if(o&&r<k){var x=Zc(s,v);return Fg(b,c,xg,t.placeholder,d,s,x,j,a,k-r)}var y=m?d:this,z=n?y[b]:b;r=s.length;j?s=Ah(s,j):p&&r>1&&s.reverse();l&&a<r&&(s.length=a);this&&this!==N&&this instanceof t&&(z=q||tg(z));return z.apply(y,s)}return t}function yg(a,b){return function(d,c){return Ve(d,a,b(c),{})}}function zg(a,b){return function(d,e){var c;if(d===void 0&&e===void 0)return b;d!==void 0&&(c=d);if(e!==void 0){if(c===void 0)return e;typeof d=="string"||typeof e=="string"?(d=Mf(d),e=Mf(e)):(d=Lf(d),e=Lf(e));c=a(d,e)}return c}}function Ag(a){return Qg(function(b){b=O(b,Kc(T()));return S(function(c){var d=this;return a(b,function(a){return ic(a,d,c)})})})}function Bg(a,b){b=b===void 0?" ":Mf(b);var c=b.length;if(c<2)return c?Af(b,a):b;c=Af(b,vc(a/dd(b)));return Uc(b)?Xf(ed(c),0,a).join(""):c.slice(0,a)}function Cg(a,b,c,d){var e=b&r,f=tg(a);function h(){var b=-1,i=arguments.length,j=-1,k=d.length,l=g(k+i),m=this&&this!==N&&this instanceof h?f:a;while(++j<k)l[j]=d[j];while(i--)l[j++]=arguments[++b];return ic(m,e?c:this,l)}return h}function Dg(a){return function(b,c,d){d&&typeof d!="number"&&lh(b,c,d)&&(c=d=void 0);b=ok(b);c===void 0?(c=b,b=0):c=ok(c);d=d===void 0?b<c?1:-1:ok(d);return zf(b,c,d,a)}}function Eg(a){return function(b,c){typeof b=="string"&&typeof c=="string"||(b=qk(b),c=qk(c));return a(b,c)}}function Fg(b,c,d,e,f,g,h,i,a,j){var k=c&u,l=k?h:void 0;h=k?void 0:h;var m=k?g:void 0;g=k?void 0:g;c|=k?w:x;c&=~(k?x:w);c&t||(c&=~(r|s));k=[b,c,f,m,l,g,h,i,a,j];f=d.apply(void 0,k);oh(b)&&Ch(f,k);f.placeholder=e;return Fh(f,b,c)}function Gg(a){var b=xb[a];return function(a,c){a=qk(a);c=c==null?0:ld(Y(c),292);if(c&&gd(a)){var d=(Z(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));d=(Z(e)+"e").split("e");return+(d[0]+"e"+(+d[1]-c))}return b(a)}}var Hg=sd&&1/$c(new sd([,-0]))[1]==fa?function(a){return new sd(a)}:Rl;function Ig(a){return function(b){var c=bh(b);if(c==E)return Xc(b);return c==Aa?ad(b):Jc(b,a(b))}}function Jg(b,c,d,e,g,h,a,i){var j=c&s;if(!j&&typeof b!="function")throw new I(f);var k=e?e.length:0;k||(c&=~(w|x),e=g=void 0);a=a===void 0?a:P(Y(a),0);i=i===void 0?i:Y(i);k-=g?g.length:0;if(c&x){var l=e,m=g;e=g=void 0}var n=j?void 0:Tg(b);h=[b,c,d,e,g,l,m,h,a,i];n&&vh(h,n);b=h[0];c=h[1];d=h[2];e=h[3];g=h[4];i=h[9]=h[9]===void 0?j?0:b.length:P(h[9]-k,0);!i&&c&(u|v)&&(c&=~(u|v));if(!c||c==r)var a=qg(b,c,d);else c==u||c==v?a=ug(b,c,i):(c==w||c==(r|w))&&!g.length?a=Cg(b,c,d,e):a=xg.apply(void 0,h);j=n?Ef:Ch;return Fh(j(a,h),b,c)}function Kg(a,b,c,d){return a===void 0||Ij(a,Bb[c])&&!J.call(d,c)?b:a}function Lg(a,b,c,d,e,f){W(a)&&W(b)&&(f.set(b,a),pf(a,b,void 0,Lg,f),f["delete"](b));return a}function Mg(a){return dk(a)?void 0:a}function Ng(b,c,d,e,f,g){var h=d&p,i=b.length,j=c.length;if(i!=j&&!(h&&j>i))return!1;j=g.get(b);if(j&&g.get(c))return j==c;j=-1;var a=!0,k=d&q?new ae:void 0;g.set(b,c);g.set(c,b);while(++j<i){var l=b[j],m=c[j];if(e)var n=h?e(m,l,j,c,b,g):e(l,m,j,b,c,g);if(n!==void 0){if(n)continue;a=!1;break}if(k){if(!tc(c,function(a,b){if(!Mc(k,b)&&(l===a||f(l,a,d,e,g)))return k.push(b)})){a=!1;break}}else if(!(l===m||f(l,m,d,e,g))){a=!1;break}}g["delete"](b);g["delete"](c);return a}function Og(a,b,c,d,e,f,g){switch(c){case Ha:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer;b=b.buffer;case Ga:return a.byteLength!=b.byteLength||!f(new Kb(a),new Kb(b))?!1:!0;case pa:case qa:case va:return Ij(+a,+b);case sa:return a.name==b.name&&a.message==b.message;case za:case Ba:return a==b+"";case E:var h=Xc;case Aa:c=d&p;h||(h=$c);if(a.size!=b.size&&!c)return!1;c=g.get(a);if(c)return c==b;d|=q;g.set(a,b);c=Ng(h(a),h(b),d,e,f,g);g["delete"](a);return c;case Ca:if(Bd)return Bd.call(a)==Bd.call(b)}return!1}function Pg(a,b,c,d,e,f){var g=c&p,h=Rg(a),i=h.length,j=Rg(b);j=j.length;if(i!=j&&!g)return!1;j=i;while(j--){var k=h[j];if(!(g?k in b:J.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;l=!0;f.set(a,b);f.set(b,a);var m=g;while(++j<i){k=h[j];var n=a[k],o=b[k];if(d)var q=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(!(q===void 0?n===o||e(n,o,c,d,f):q)){l=!1;break}m||(m=k=="constructor")}if(l&&!m){n=a.constructor;o=b.constructor;n!=o&&"constructor"in a&&"constructor"in b&&!(typeof n=="function"&&n instanceof n&&typeof o=="function"&&o instanceof o)&&(l=!1)}f["delete"](a);f["delete"](b);return l}function Qg(a){return Eh(yh(a,void 0,Xh),a+"")}function Rg(a){return Oe(a,$,$g)}function Sg(a){return Oe(a,Gk,ah)}var Tg=ud?function(a){return ud.get(a)}:Rl;function Ug(b){var a=b.name+"",c=vd[a],d=J.call(vd,a)?c.length:0;while(d--){var e=c[d],f=e.func;if(f==null||f==b)return e.name}return a}function Vg(a){a=J.call(Q,"placeholder")?Q:a;return a.placeholder}function T(){var a=Q.iteratee||Kl;a=a===Kl?hf:a;return arguments.length?a(arguments[0],arguments[1]):a}function Wg(a,b){a=a.__data__;return nh(b)?a[typeof b=="string"?"string":"hash"]:a.map}function Xg(b){var a=$(b),c=a.length;while(c--){var d=a[c],e=b[d];a[c]=[d,e,sh(e)]}return a}function Yg(a,b){a=Tc(a,b);return df(a)?a:void 0}function Zg(b){var c=J.call(b,Ub),d=b[Ub];try{b[Ub]=void 0;var e=!0}catch(a){}var a=Gb.call(b);e&&(c?b[Ub]=d:delete b[Ub]);return a}var $g=bd?function(a){if(a==null)return[];a=G(a);return nc(bd(a),function(b){return Ob.call(a,b)})}:Yl,ah=bd?function(b){var a=[];while(b)qc(a,$g(b)),b=Mb(b);return a}:Yl,bh=Pe;(h&&bh(new h(new ArrayBuffer(1)))!=Ha||qd&&bh(new qd)!=E||rd&&bh(rd.resolve())!=F||sd&&bh(new sd)!=Aa||b&&bh(new b)!=Ea)&&(bh=function(b){var a=Pe(b);b=a==xa?b.constructor:void 0;b=b?Kh(b):"";if(b)switch(b){case wd:return Ha;case xd:return E;case yd:return F;case zd:return Aa;case Ad:return Ea}return a});function ch(b,c,d){var e=-1,f=d.length;while(++e<f){var g=d[e],a=g.size;switch(g.type){case"drop":b+=a;break;case"dropRight":c-=a;break;case"take":c=ld(c,b+a);break;case"takeRight":b=P(b,c-a);break}}return{start:b,end:c}}function dh(a){a=a.match(jb);return a?a[1].split(kb):[]}function eh(b,c,d){c=Wf(c,b);var e=-1,f=c.length,a=!1;while(++e<f){var g=Jh(c[e]);if(!(a=b!=null&&d(b,g)))break;b=b[g]}if(a||++e!=f)return a;f=b==null?0:b.length;return!!f&&Vj(f)&&kh(g,f)&&(U(b)||Jj(b))}function fh(b){var c=b.length,a=new b.constructor(c);c&&typeof b[0]=="string"&&J.call(b,"index")&&(a.index=b.index,a.input=b.input);return a}function gh(a){return typeof a.constructor=="function"&&!rh(a)?Dd(Mb(a)):{}}function hh(a,b,c){var d=a.constructor;switch(b){case Ga:return $f(a);case pa:case qa:return new d(+a);case Ha:return ag(a,c);case Ia:case Ja:case Ka:case La:case Ma:case Na:case Oa:case Pa:case Qa:return dg(a,c);case E:return new d;case va:case Ba:return new d(a);case za:return bg(a);case Aa:return new d;case Ca:return cg(a)}}function ih(a,b){var c=b.length;if(!c)return a;var d=c-1;b[d]=(c>1?"& ":"")+b[d];b=b.join(c>2?", ":" ");return a.replace(ib,"{\n/* [wrapped with "+b+"] */\n")}function jh(a){return U(a)||Jj(a)||!!(Qb&&a&&a[Qb])}function kh(a,b){var c=typeof a;b=b==null?ga:b;return!!b&&(c=="number"||c!="symbol"&&tb.test(a))&&a>-1&&a%1==0&&a<b}function lh(a,b,c){if(!W(c))return!1;var d=typeof b;return(d=="number"?Kj(c)&&kh(b,c.length):d=="string"&&b in c)?Ij(c[b],a):!1}function mh(a,b){if(U(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||ik(a)?!0:bb.test(a)||!ab.test(a)||b!=null&&a in G(b)}function nh(a){var b=typeof a;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?a!=="__proto__":a===null}function oh(a){var b=Ug(a),c=Q[b];if(typeof c!="function"||!(b in R.prototype))return!1;if(a===c)return!0;b=Tg(c);return!!b&&a===b[0]}function ph(a){return!!Fb&&Fb in a}var qh=Cb?Tj:Zl;function rh(a){var b=a&&a.constructor;b=typeof b=="function"&&b.prototype||Bb;return a===b}function sh(a){return a===a&&!W(a)}function th(a,b){return function(c){return c==null?!1:c[a]===b&&(b!==void 0||a in G(c))}}function uh(a){a=sj(a,function(a){b.size===k&&b.clear();return a});var b=a.cache;return a}function vh(a,b){var c=a[1],d=b[1],e=c|d,f=e<(r|s|y),g=d==y&&c==u||d==y&&c==z&&a[7].length<=b[8]||d==(y|z)&&b[7].length<=b[8]&&c==u;if(!(f||g))return a;d&r&&(a[2]=b[2],e|=c&r?0:t);f=b[3];if(f){g=a[3];a[3]=g?gg(g,f,b[4]):f;a[4]=g?Zc(a[3],l):b[4]}f=b[5];f&&(g=a[5],a[5]=g?hg(g,f,b[6]):f,a[6]=g?Zc(a[5],l):b[6]);f=b[7];f&&(a[7]=f);d&y&&(a[8]=a[8]==null?b[8]:ld(a[8],b[8]));a[9]==null&&(a[9]=b[9]);a[0]=b[0];a[1]=e;return a}function wh(b){var a=[];if(b!=null)for(b in G(b))a.push(b);return a}function xh(a){return Gb.call(a)}function yh(b,c,a){c=P(c===void 0?b.length-1:c,0);return function(){var d=arguments,e=-1,f=P(d.length-c,0),h=g(f);while(++e<f)h[e]=d[c+e];e=-1;var i=g(c+1);while(++e<c)i[e]=d[e];i[c]=a(h);return ic(b,this,i)}}function zh(a,b){return b.length<2?a:Ne(a,Gf(b,0,-1))}function Ah(a,b){var c=a.length,d=ld(b.length,c),e=ig(a);while(d--){var f=b[d];a[d]=kh(f,c)?e[f]:void 0}return a}function Bh(a,b){if(b==="constructor"&&typeof a[b]==="function")return;if(b=="__proto__")return;return a[b]}var Ch=Gh(Ef),Dh=uc||function(a,b){return N.setTimeout(a,b)},Eh=Gh(K);function Fh(a,b,c){b=b+"";return Eh(a,ih(b,Lh(dh(b),c)))}function Gh(a){var b=0,c=0;return function(){var d=md(),e=ca-(d-c);c=d;if(e>0){if(++b>=ba)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}function Hh(b,a){var c=-1,d=b.length,e=d-1;a=a===void 0?d:a;while(++c<a){d=yf(c,e);var f=b[d];b[d]=b[c];b[c]=f}b.length=a;return b}var Ih=uh(function(b){var a=[];b.charCodeAt(0)===46&&a.push("");b.replace(cb,function(b,c,d,e){a.push(d?e.replace(mb,"$1"):c||b)});return a});function Jh(b){if(typeof b=="string"||ik(b))return b;var a=b+"";return a=="0"&&1/b==-fa?"-0":a}function Kh(a){if(a!=null){try{return Db.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function Lh(a,b){kc(la,function(c){var d="_."+c[0];b&c[1]&&!oc(a,d)&&a.push(d)});return a.sort()}function Mh(b){if(b instanceof R)return b.clone();var a=new Fd(b.__wrapped__,b.__chain__);a.__actions__=ig(b.__actions__);a.__index__=b.__index__;a.__values__=b.__values__;return a}function Nh(c,a,d){(d?lh(c,a,d):a===void 0)?a=1:a=P(Y(a),0);d=c==null?0:c.length;if(!d||a<1)return[];var e=0,f=0,b=g(vc(d/a));while(e<d)b[f++]=Gf(c,e,e+=a);return b}function Oh(b){var c=-1,d=b==null?0:b.length,e=0,a=[];while(++c<d){var f=b[c];f&&(a[e++]=f)}return a}function Ph(){var a=arguments.length;if(!a)return[];var b=g(a-1),c=arguments[0],d=a;while(d--)b[d-1]=arguments[d];return qc(U(c)?ig(c):[c],He(b,1))}Ld=S(function(b,a){return V(b)?Ae(b,He(a,1,V,!0)):[]});Md=S(function(c,a){var b=ei(a);V(b)&&(b=void 0);return V(c)?Ae(c,He(a,1,V,!0),T(b,2)):[]});Nd=S(function(b,a){var c=ei(a);V(c)&&(c=void 0);return V(b)?Ae(b,He(a,1,V,!0),void 0,c):[]});function Qh(a,b,c){var d=a==null?0:a.length;if(!d)return[];b=c||b===void 0?1:Y(b);return Gf(a,b<0?0:b,d)}function Rh(a,b,c){var d=a==null?0:a.length;if(!d)return[];b=c||b===void 0?1:Y(b);b=d-b;return Gf(a,0,b<0?0:b)}function Sh(a,b){return a&&a.length?Qf(a,T(b,3),!0,!0):[]}function Th(a,b){return a&&a.length?Qf(a,T(b,3),!0):[]}function Uh(a,b,c,d){var e=a==null?0:a.length;if(!e)return[];c&&typeof c!="number"&&lh(a,b,c)&&(c=0,d=e);return Fe(a,b,c,d)}function Vh(a,b,c){var d=a==null?0:a.length;if(!d)return-1;c=c==null?0:Y(c);c<0&&(c=P(d+c,0));return yc(a,T(b,3),c)}function Wh(a,b,c){var d=a==null?0:a.length;if(!d)return-1;var e=d-1;c!==void 0&&(e=Y(c),e=c<0?P(d+e,0):ld(e,d-1));return yc(a,T(b,3),e,!0)}function Xh(a){var b=a==null?0:a.length;return b?He(a,1):[]}function Yh(a){var b=a==null?0:a.length;return b?He(a,fa):[]}function Zh(a,b){var c=a==null?0:a.length;if(!c)return[];b=b===void 0?1:Y(b);return He(a,b)}function $h(b){var c=-1,d=b==null?0:b.length,a={};while(++c<d){var e=b[c];a[e[0]]=e[1]}return a}function ai(a){return a&&a.length?a[0]:void 0}function bi(a,b,c){var d=a==null?0:a.length;if(!d)return-1;c=c==null?0:Y(c);c<0&&(c=P(d+c,0));return zc(a,b,c)}function ci(a){var b=a==null?0:a.length;return b?Gf(a,0,-1):[]}Od=S(function(a){var b=O(a,Uf);return b.length&&b[0]===a[0]?Ue(b):[]});Qd=S(function(b){var a=ei(b),c=O(b,Uf);a===ei(c)?a=void 0:c.pop();return c.length&&c[0]===b[0]?Ue(c,T(a,2)):[]});Rd=S(function(a){var b=ei(a),c=O(a,Uf);b=typeof b=="function"?b:void 0;b&&c.pop();return c.length&&c[0]===a[0]?Ue(c,void 0,b):[]});function di(a,b){return a==null?"":hd.call(a,b)}function ei(a){var b=a==null?0:a.length;return b?a[b-1]:void 0}function fi(a,b,c){var d=a==null?0:a.length;if(!d)return-1;var e=d;c!==void 0&&(e=Y(c),e=e<0?P(d+e,0):ld(e,d-1));return b===b?cd(a,b,e):yc(a,Bc,e,!0)}function gi(a,b){return a&&a.length?rf(a,Y(b)):void 0}Sd=S(hi);function hi(b,a){return b&&b.length&&a&&a.length?wf(b,a):b}function ii(c,a,b){return c&&c.length&&a&&a.length?wf(c,a,T(b,2)):c}function ji(b,a,c){return b&&b.length&&a&&a.length?wf(b,a,void 0,c):b}Td=Qg(function(b,c){var d=b==null?0:b.length,a=ue(b,c);xf(b,O(c,function(a){return kh(a,d)?+a:a}).sort(eg));return a});function ki(b,c){var a=[];if(!(b&&b.length))return a;var d=-1,e=[],f=b.length;c=T(c,3);while(++d<f){var g=b[d];c(g,d,b)&&(a.push(g),e.push(d))}xf(b,e);return a}function li(a){return a==null?a:pd.call(a)}function mi(a,b,c){var d=a==null?0:a.length;if(!d)return[];c&&typeof c!="number"&&lh(a,b,c)?(b=0,c=d):(b=b==null?0:Y(b),c=c===void 0?d:Y(c));return Gf(a,b,c)}function ni(a,b){return If(a,b)}function oi(b,c,a){return Jf(b,c,T(a,2))}function pi(a,b){var c=a==null?0:a.length;if(c){var d=If(a,b);if(d<c&&Ij(a[d],b))return d}return-1}function qi(a,b){return If(a,b,!0)}function ri(b,c,a){return Jf(b,c,T(a,2),!0)}function si(a,b){var c=a==null?0:a.length;if(c){c=If(a,b,!0)-1;if(Ij(a[c],b))return c}return-1}function ti(a){return a&&a.length?Kf(a):[]}function ui(b,a){return b&&b.length?Kf(b,T(a,2)):[]}function vi(a){var b=a==null?0:a.length;return b?Gf(a,1,b):[]}function wi(a,b,c){if(!(a&&a.length))return[];b=c||b===void 0?1:Y(b);return Gf(a,0,b<0?0:b)}function xi(a,b,c){var d=a==null?0:a.length;if(!d)return[];b=c||b===void 0?1:Y(b);b=d-b;return Gf(a,b<0?0:b,d)}function yi(a,b){return a&&a.length?Qf(a,T(b,3),!1,!0):[]}function zi(a,b){return a&&a.length?Qf(a,T(b,3)):[]}Ud=S(function(a){return Nf(He(a,1,V,!0))});Wd=S(function(b){var a=ei(b);V(a)&&(a=void 0);return Nf(He(b,1,V,!0),T(a,2))});Xd=S(function(a){var b=ei(a);b=typeof b=="function"?b:void 0;return Nf(He(a,1,V,!0),void 0,b)});function Ai(a){return a&&a.length?Nf(a):[]}function Bi(b,a){return b&&b.length?Nf(b,T(a,2)):[]}function Ci(a,b){b=typeof b=="function"?b:void 0;return a&&a.length?Nf(a,void 0,b):[]}function Di(a){if(!(a&&a.length))return[];var b=0;a=nc(a,function(a){if(V(a)){b=P(a.length,b);return!0}});return Ic(b,function(b){return O(a,Dc(b))})}function Ei(b,a){if(!(b&&b.length))return[];b=Di(b);return a==null?b:O(b,function(b){return ic(a,void 0,b)})}Yd=S(function(b,a){return V(b)?Ae(b,a):[]});Zd=S(function(a){return Sf(nc(a,V))});$d=S(function(b){var a=ei(b);V(a)&&(a=void 0);return Sf(nc(b,V),T(a,2))});be=S(function(a){var b=ei(a);b=typeof b=="function"?b:void 0;return Sf(nc(a,V),void 0,b)});ce=S(Di);function Fi(b,a){return Tf(b||[],a||[],oe)}function Gi(b,a){return Tf(b||[],a||[],Df)}ee=S(function(a){var b=a.length;b=b>1?a[b-1]:void 0;b=typeof b=="function"?(a.pop(),b):void 0;return Ei(a,b)});function Hi(a){a=Q(a);a.__chain__=!0;return a}function Ii(a,b){b(a);return a}function Ji(a,b){return b(a)}fe=Qg(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return ue(b,a)};if(b>1||this.__actions__.length||!(d instanceof R)||!kh(c))return this.thru(e);d=d.slice(c,+c+(b?1:0));d.__actions__.push({func:Ji,args:[e],thisArg:void 0});return new Fd(d,this.__chain__).thru(function(a){b&&!a.length&&a.push(void 0);return a})});function Ki(){return Hi(this)}function Li(){return new Fd(this.value(),this.__chain__)}function Mi(){this.__values__===void 0&&(this.__values__=nk(this.value()));var a=this.__index__>=this.__values__.length,b=a?void 0:this.__values__[this.__index__++];return{done:a,value:b}}function Ni(){return this}function Oi(d){var c,a=this;while(a instanceof Ed){var b=Mh(a);b.__index__=0;b.__values__=void 0;c?e.__wrapped__=b:c=b;var e=b;a=a.__wrapped__}e.__wrapped__=d;return c}function Pi(){var a=this.__wrapped__;if(a instanceof R){a=a;this.__actions__.length&&(a=new R(this));a=a.reverse();a.__actions__.push({func:Ji,args:[li],thisArg:void 0});return new Fd(a,this.__chain__)}return this.thru(li)}function Qi(){return Rf(this.__wrapped__,this.__actions__)}ge=mg(function(a,b,c){J.call(a,c)?++a[c]:te(a,c,1)});function Ri(a,b,c){var d=U(a)?mc:De;c&&lh(a,b,c)&&(b=void 0);return d(a,T(b,3))}function Si(a,b){var c=U(a)?nc:Ge;return c(a,T(b,3))}he=vg(Vh);ie=vg(Wh);function Ti(b,a){return He(Zi(b,a),1)}function Ui(b,a){return He(Zi(b,a),fa)}function Vi(b,a,c){c=c===void 0?1:Y(c);return He(Zi(b,a),c)}function Wi(b,a){var c=U(b)?kc:Be;return c(b,T(a,3))}function Xi(b,a){var c=U(b)?lc:Ce;return c(b,T(a,3))}og=mg(function(a,b,c){J.call(a,c)?a[c].push(b):te(a,c,[b])});function Yi(a,b,c,d){a=Kj(a)?a:Wk(a);c=c&&!d?Y(c):0;d=a.length;c<0&&(c=P(d+c,0));return hk(a)?c<=d&&a.indexOf(b,c)>-1:!!d&&zc(a,b,c)>-1}pg=S(function(b,c,d){var e=-1,f=typeof c=="function",a=Kj(b)?g(b.length):[];Be(b,function(b){a[++e]=f?ic(c,b,d):We(b,c,d)});return a});Wb=mg(function(a,b,c){te(a,c,b)});function Zi(b,a){var c=U(b)?O:mf;return c(b,T(a,3))}function $i(a,b,c,d){if(a==null)return[];U(b)||(b=b==null?[]:[b]);c=d?void 0:c;U(c)||(c=c==null?[]:[c]);return sf(a,b,c)}h=mg(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]});function aj(b,a,c){var d=U(b)?rc:Fc,e=arguments.length<3;return d(b,T(a,4),c,e,Be)}function bj(b,a,c){var d=U(b)?sc:Fc,e=arguments.length<3;return d(b,T(a,4),c,e,Ce)}function cj(a,b){var c=U(a)?nc:Ge;return c(a,tj(T(b,3)))}function dj(a){var b=U(a)?ke:Bf;return b(a)}function ej(a,b,c){(c?lh(a,b,c):b===void 0)?b=1:b=Y(b);c=U(a)?le:Cf;return c(a,b)}function fj(a){var b=U(a)?me:Ff;return b(a)}function gj(a){if(a==null)return 0;if(Kj(a))return hk(a)?dd(a):a.length;var b=bh(a);return b==E||b==Aa?a.size:jf(a).length}function hj(a,b,c){var d=U(a)?tc:Hf;c&&lh(a,b,c)&&(b=void 0);return d(a,T(b,3))}rd=S(function(a,b){if(a==null)return[];var c=b.length;c>1&&lh(a,b[0],b[1])?b=[]:c>2&&lh(b[0],b[1],b[2])&&(b=[b[0]]);return sf(a,He(b,1),[])});var ij=Zb||function(){return N.Date.now()};function jj(a,b){if(typeof b!="function")throw new I(f);a=Y(a);return function(){if(--a<1)return b.apply(this,arguments)}}function kj(a,b,c){b=c?void 0:b;b=a&&b==null?a.length:b;return Jg(a,y,void 0,void 0,void 0,void 0,b)}function lj(b,c){var a;if(typeof c!="function")throw new I(f);b=Y(b);return function(){--b>0&&(a=c.apply(this,arguments));b<=1&&(c=void 0);return a}}var mj=S(function(a,b,c){var d=r;if(c.length){var e=Zc(c,Vg(mj));d|=w}return Jg(a,d,b,c,e)}),nj=S(function(a,b,c){var d=r|s;if(c.length){var e=Zc(c,Vg(nj));d|=w}return Jg(b,d,a,c,e)});function oj(a,b,c){b=c?void 0:b;c=Jg(a,u,void 0,void 0,void 0,void 0,void 0,b);c.placeholder=oj.placeholder;return c}function pj(a,b,c){b=c?void 0:b;c=Jg(a,v,void 0,void 0,void 0,void 0,void 0,b);c.placeholder=pj.placeholder;return c}function qj(b,c,d){var e,g,h,a,i,j,k=0,l=!1,m=!1,n=!0;if(typeof b!="function")throw new I(f);c=qk(c)||0;W(d)&&(l=!!d.leading,m="maxWait"in d,h=m?P(qk(d.maxWait)||0,c):h,n="trailing"in d?!!d.trailing:n);function o(c){var d=e,f=g;e=g=void 0;k=c;a=b.apply(f,d);return a}function p(b){k=b;i=Dh(s,c);return l?o(b):a}function q(a){var b=a-j;a=a-k;b=c-b;return m?ld(b,h-a):b}function r(a){var b=a-j;a=a-k;return j===void 0||b>=c||b<0||m&&a>=h}function s(){var a=ij();if(r(a))return t(a);i=Dh(s,q(a))}function t(b){i=void 0;if(n&&e)return o(b);e=g=void 0;return a}function u(){i!==void 0&&Yf(i),k=0,e=j=g=i=void 0}function v(){return i===void 0?a:t(ij())}function w(){var b=ij(),d=r(b);e=arguments;g=this;j=b;if(d){if(i===void 0)return p(j);if(m){Yf(i);i=Dh(s,c);return o(j)}}i===void 0&&(i=Dh(s,c));return a}w.cancel=u;w.flush=v;return w}b=S(function(a,b){return ze(a,1,b)});uc=S(function(a,b,c){return ze(a,qk(b)||0,c)});function rj(a){return Jg(a,A)}function sj(a,b){if(typeof a!="function"||b!=null&&typeof b!="function")throw new I(f);var c=function(){var e=arguments,f=b?b.apply(this,e):e[0],g=c.cache;if(g.has(f))return g.get(f);var d=a.apply(this,e);c.cache=g.set(f,d)||g;return d};c.cache=new(sj.Cache||Vd);return c}sj.Cache=Vd;function tj(a){if(typeof a!="function")throw new I(f);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function uj(a){return lj(2,a)}Gh=Kd(function(a,b){b=b.length==1&&U(b[0])?O(b[0],Kc(T())):O(He(b,1),Kc(T()));var c=b.length;return S(function(d){var e=-1,f=ld(d.length,c);while(++e<f)d[e]=b[e].call(this,d[e]);return ic(a,this,d)})});var vj=S(function(a,b){var c=Zc(b,Vg(vj));return Jg(a,w,void 0,b,c)}),wj=S(function(a,b){var c=Zc(b,Vg(wj));return Jg(a,x,void 0,b,c)});K=Qg(function(a,b){return Jg(a,z,void 0,void 0,void 0,b)});function xj(a,b){if(typeof a!="function")throw new I(f);b=b===void 0?b:Y(b);return S(a,b)}function yj(a,b){if(typeof a!="function")throw new I(f);b=b==null?0:P(Y(b),0);return S(function(c){var d=c[b];c=Xf(c,0,b);d&&qc(c,d);return ic(a,this,c)})}function zj(a,b,c){var d=!0,e=!0;if(typeof a!="function")throw new I(f);W(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return qj(a,b,{leading:d,maxWait:b,trailing:e})}function Aj(a){return kj(a,1)}function Bj(a,b){return vj(Vf(b),a)}function Cj(){if(!arguments.length)return[];var a=arguments[0];return U(a)?a:[a]}function Dj(a){return we(a,o)}function Ej(a,b){b=typeof b=="function"?b:void 0;return we(a,o,b)}function Fj(a){return we(a,m|o)}function Gj(a,b){b=typeof b=="function"?b:void 0;return we(a,m|o,b)}function Hj(a,b){return b==null||ye(a,b,$(b))}function Ij(a,b){return a===b||a!==a&&b!==b}uh=Eg(Qe);vg=Eg(function(a,b){return a>=b});var Jj=Xe(function(){return arguments}())?Xe:function(a){return X(a)&&J.call(a,"callee")&&!Ob.call(a,"callee")},U=g.isArray;mg=cc?Kc(cc):Ye;function Kj(a){return a!=null&&Vj(a.length)&&!Tj(a)}function V(a){return X(a)&&Kj(a)}function Lj(a){return a===!0||a===!1||X(a)&&Pe(a)==pa}var Mj=Ab||Zl;Zb=dc?Kc(dc):Ze;function Nj(a){return X(a)&&a.nodeType===1&&!dk(a)}function Oj(a){if(a==null)return!0;if(Kj(a)&&(U(a)||typeof a=="string"||typeof a.splice=="function"||Mj(a)||jk(a)||Jj(a)))return!a.length;var b=bh(a);if(b==E||b==Aa)return!a.size;if(rh(a))return!jf(a).length;for(b in a)if(J.call(a,b))return!1;return!0}function Pj(a,b){return $e(a,b)}function Qj(b,c,d){d=typeof d=="function"?d:void 0;var a=d?d(b,c):void 0;return a===void 0?$e(b,c,void 0,d):!!a}function Rj(a){if(!X(a))return!1;var b=Pe(a);return b==sa||b==ra||typeof a.message=="string"&&typeof a.name=="string"&&!dk(a)}function Sj(a){return typeof a=="number"&&gd(a)}function Tj(a){if(!W(a))return!1;a=Pe(a);return a==ta||a==ua||a==oa||a==ya}function Uj(a){return typeof a=="number"&&a==Y(a)}function Vj(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ga}function W(a){var b=typeof a;return a!=null&&(b=="object"||b=="function")}function X(a){return a!=null&&typeof a=="object"}var Wj=ec?Kc(ec):bf;function Xj(a,b){return a===b||cf(a,b,Xg(b))}function Yj(a,b,c){c=typeof c=="function"?c:void 0;return cf(a,b,Xg(b),c)}function Zj(a){return ck(a)&&a!=+a}function $j(a){if(qh(a))throw new i(e);return df(a)}function ak(a){return a===null}function bk(a){return a==null}function ck(a){return typeof a=="number"||X(a)&&Pe(a)==va}function dk(a){if(!X(a)||Pe(a)!=xa)return!1;a=Mb(a);if(a===null)return!0;a=J.call(a,"constructor")&&a.constructor;return typeof a=="function"&&a instanceof a&&Db.call(a)==Hb}var ek=fc?Kc(fc):ef;function fk(a){return Uj(a)&&a>=-ga&&a<=ga}var gk=gc?Kc(gc):ff;function hk(a){return typeof a=="string"||!U(a)&&X(a)&&Pe(a)==Ba}function ik(a){return typeof a=="symbol"||X(a)&&Pe(a)==Ca}var jk=hc?Kc(hc):gf;function kk(a){return a===void 0}function lk(a){return X(a)&&bh(a)==Ea}function mk(a){return X(a)&&Pe(a)==Fa}Kd=Eg(lf);Xe=Eg(function(a,b){return a<=b});function nk(a){if(!a)return[];if(Kj(a))return hk(a)?ed(a):ig(a);if(Tb&&a[Tb])return Wc(a[Tb]());var b=bh(a);b=b==E?Xc:b==Aa?$c:Wk;return b(a)}function ok(a){if(!a)return a===0?a:0;a=qk(a);if(a===fa||a===-fa){var b=a<0?-1:1;return b*ha}return a===a?a:0}function Y(a){a=ok(a);var b=a%1;return a===a?b?a-b:a:0}function pk(a){return a?ve(Y(a),0,D):0}function qk(a){if(typeof a=="number")return a;if(ik(a))return ia;if(W(a)){var b=typeof a.valueOf=="function"?a.valueOf():a;a=W(b)?b+"":b}if(typeof a!="string")return a===0?a:+a;a=a.replace(fb,"");b=qb.test(a);return b||sb.test(a)?ac(a.slice(2),b?2:8):pb.test(a)?ia:+a}function rk(a){return jg(a,Gk(a))}function sk(a){return a?ve(Y(a),-ga,ga):a===0?a:0}function Z(a){return a==null?"":Mf(a)}Ye=ng(function(a,b){if(rh(b)||Kj(b)){jg(b,$(b),a);return}for(var c in b)J.call(b,c)&&oe(a,c,b[c])});Ab=ng(function(a,b){jg(b,Gk(b),a)});var tk=ng(function(a,b,c,d){jg(b,Gk(b),a,d)});Ze=ng(function(a,b,c,d){jg(b,$(b),a,d)});bf=Qg(ue);function uk(a,b){a=Dd(a);return b==null?a:re(a,b)}ef=S(function(a,b){a=G(a);var c=-1,d=b.length,e=d>2?b[2]:void 0;e&&lh(b[0],b[1],e)&&(d=1);while(++c<d){e=b[c];var f=Gk(e),g=-1,h=f.length;while(++g<h){var i=f[g],j=a[i];(j===void 0||Ij(j,Bb[i])&&!J.call(a,i))&&(a[i]=e[i])}}return a});ff=S(function(a){a.push(void 0,Lg);return ic(Kk,void 0,a)});function vk(a,b){return xc(a,T(b,3),Ke)}function wk(a,b){return xc(a,T(b,3),Le)}function xk(b,a){return b==null?b:Ie(b,T(a,3),Gk)}function yk(b,a){return b==null?b:Je(b,T(a,3),Gk)}function zk(b,a){return b&&Ke(b,T(a,3))}function Ak(b,a){return b&&Le(b,T(a,3))}function Bk(a){return a==null?[]:Me(a,$(a))}function Ck(a){return a==null?[]:Me(a,Gk(a))}function Dk(a,b,c){a=a==null?void 0:Ne(a,b);return a===void 0?c:a}function Ek(a,b){return a!=null&&eh(a,b,Re)}function Fk(a,b){return a!=null&&eh(a,b,Se)}gf=yg(function(a,b,c){b!=null&&typeof b.toString!="function"&&(b=Gb.call(b)),a[b]=c},Gl(Jl));Eg=yg(function(a,b,c){b!=null&&typeof b.toString!="function"&&(b=Gb.call(b)),J.call(a,b)?a[b].push(c):a[b]=[c]},T);yg=S(We);function $(a){return Kj(a)?je(a):jf(a)}function Gk(a){return Kj(a)?je(a,!0):kf(a)}function Hk(c,b){var a={};b=T(b,3);Ke(c,function(d,e,c){te(a,b(d,e,c),d)});return a}function Ik(c,b){var a={};b=T(b,3);Ke(c,function(d,e,c){te(a,e,b(d,e,c))});return a}var Jk=ng(function(a,b,c){pf(a,b,c)}),Kk=ng(function(a,b,c,d){pf(a,b,c,d)});ng=Qg(function(b,c){var a={};if(b==null)return a;var d=!1;c=O(c,function(a){a=Wf(a,b);d||(d=a.length>1);return a});jg(b,Sg(b),a);d&&(a=we(a,m|n|o,Mg));var e=c.length;while(e--)Of(a,c[e]);return a});function Lk(a,b){return Nk(a,tj(T(b)))}var Mk=Qg(function(a,b){return a==null?{}:tf(a,b)});function Nk(a,b){if(a==null)return{};var c=O(Sg(a),function(a){return[a]});b=T(b);return uf(a,c,function(a,c){return b(a,c[0])})}function Ok(a,b,c){b=Wf(b,a);var d=-1,e=b.length;e||(e=1,a=void 0);while(++d<e){var f=a==null?void 0:a[Jh(b[d])];f===void 0&&(d=e,f=c);a=Tj(f)?f.call(a):f}return a}function Pk(a,b,c){return a==null?a:Df(a,b,c)}function Qk(a,b,c,d){d=typeof d=="function"?d:void 0;return a==null?a:Df(a,b,c,d)}var Rk=Ig($);Ig=Ig(Gk);function Sk(b,a,c){var d=U(b),e=d||Mj(b)||jk(b);a=T(a,4);if(c==null){var f=b&&b.constructor;e?c=d?new f:[]:W(b)?c=Tj(f)?Dd(Mb(b)):{}:c={}}(e?kc:Ke)(b,function(d,e,b){return a(c,d,e,b)});return c}function Tk(a,b){return a==null?!0:Of(a,b)}function Uk(a,b,c){return a==null?a:Pf(a,b,Vf(c))}function Vk(a,b,c,d){d=typeof d=="function"?d:void 0;return a==null?a:Pf(a,b,Vf(c),d)}function Wk(a){return a==null?[]:Lc(a,$(a))}function Xk(a){return a==null?[]:Lc(a,Gk(a))}function Yk(a,b,c){c===void 0&&(c=b,b=void 0);c!==void 0&&(c=qk(c),c=c===c?c:0);b!==void 0&&(b=qk(b),b=b===b?b:0);return ve(qk(a),b,c)}function Zk(a,b,c){b=ok(b);c===void 0?(c=b,b=0):c=ok(c);a=qk(a);return Te(a,b,c)}function $k(a,b,c){c&&typeof c!="boolean"&&lh(a,b,c)&&(b=c=void 0);c===void 0&&(typeof b=="boolean"?(c=b,b=void 0):typeof a=="boolean"&&(c=a,a=void 0));a===void 0&&b===void 0?(a=0,b=1):(a=ok(a),b===void 0?(b=a,a=0):b=ok(b));if(a>b){var d=a;a=b;b=d}if(c||a%1||b%1){d=od();return ld(a+d*(b-a+$b("1e-"+((d+"").length-1))),b)}return yf(a,b)}var al=sg(function(a,b,c){b=b.toLowerCase();return a+(c?bl(b):b)});function bl(a){return Bl(Z(a).toLowerCase())}function cl(a){a=Z(a);return a&&a.replace(ub,Qc).replace(Sb,"")}function dl(a,b,c){a=Z(a);b=Mf(b);var d=a.length;c=c===void 0?d:ve(Y(c),0,d);d=c;c-=b.length;return c>=0&&a.slice(c,d)==b}function el(a){a=Z(a);return a&&Xa.test(a)?a.replace(Va,Rc):a}function fl(a){a=Z(a);return a&&eb.test(a)?a.replace(db,"\\$&"):a}var gl=sg(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),hl=sg(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),il=rg("toLowerCase");function jl(a,b,c){a=Z(a);b=Y(b);var d=b?dd(a):0;if(!b||d>=b)return a;b=(b-d)/2;return Bg(Ec(b),c)+a+Bg(vc(b),c)}function kl(a,b,c){a=Z(a);b=Y(b);var d=b?dd(a):0;return b&&d<b?a+Bg(b-d,c):a}function ll(a,b,c){a=Z(a);b=Y(b);var d=b?dd(a):0;return b&&d<b?Bg(b-d,c)+a:a}function ml(a,b,c){c||b==null?b=0:b&&(b=+b);return nd(Z(a).replace(gb,""),b||0)}function nl(a,b,c){(c?lh(a,b,c):b===void 0)?b=1:b=Y(b);return Af(Z(a),b)}function ol(){var a=arguments,b=Z(a[0]);return a.length<3?b:b.replace(a[1],a[2])}var pl=sg(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()});function ql(a,b,c){c&&typeof c!="number"&&lh(a,b,c)&&(b=c=void 0);c=c===void 0?D:c>>>0;if(!c)return[];a=Z(a);if(a&&(typeof b=="string"||b!=null&&!ek(b))){b=Mf(b);if(!b&&Uc(a))return Xf(ed(a),0,c)}return a.split(b,c)}var rl=sg(function(a,b,c){return a+(c?" ":"")+Bl(b)});function sl(a,b,c){a=Z(a);c=c==null?0:ve(Y(c),0,a.length);b=Mf(b);return a.slice(c,c+b.length)==b}function tl(a,b,c){var d=Q.templateSettings;c&&lh(a,b,c)&&(b=void 0);a=Z(a);b=tk({},b,d,Kg);c=tk({},b.imports,d.imports,Kg);var e=$(c),f=Lc(c,e),g,h,i=0;d=b.interpolate||vb;var j="__p += '";c=H((b.escape||vb).source+"|"+d.source+"|"+(d===$a?nb:vb).source+"|"+(b.evaluate||vb).source+"|$","g");var k="//# sourceURL="+(J.call(b,"sourceURL")?(b.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Yb+"]")+"\n";a.replace(c,function(b,c,d,e,f,k){d||(d=e);j+=a.slice(i,k).replace(wb,Sc);c&&(g=!0,j+="' +\n__e("+c+") +\n'");f&&(h=!0,j+="';\n"+f+";\n__p += '");d&&(j+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");i=k+b.length;return b});j+="';\n";d=J.call(b,"variable")&&b.variable;d||(j="with (obj) {\n"+j+"\n}\n");j=(h?j.replace(Ra,""):j).replace(Sa,"$1").replace(Ta,"$1;");j="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(g?", __e = _.escape":"")+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+j+"return __p\n}";c=Dl(function(){return lb(e,k+"return "+j).apply(void 0,f)});c.source=j;if(Rj(c))throw c;return c}function ul(a){return Z(a).toLowerCase()}function vl(a){return Z(a).toUpperCase()}function wl(a,b,c){a=Z(a);if(a&&(c||b===void 0))return a.replace(fb,"");if(!a||!(b=Mf(b)))return a;c=ed(a);a=ed(b);b=Nc(c,a);a=Oc(c,a)+1;return Xf(c,b,a).join("")}function xl(a,b,c){a=Z(a);if(a&&(c||b===void 0))return a.replace(hb,"");if(!a||!(b=Mf(b)))return a;c=ed(a);a=Oc(c,ed(b))+1;return Xf(c,0,a).join("")}function yl(a,b,c){a=Z(a);if(a&&(c||b===void 0))return a.replace(gb,"");if(!a||!(b=Mf(b)))return a;c=ed(a);a=Nc(c,ed(b));return Xf(c,a).join("")}function zl(a,b){var c=B,d=aa;if(W(b)){var e="separator"in b?b.separator:e;c="length"in b?Y(b.length):c;d="omission"in b?Mf(b.omission):d}a=Z(a);b=a.length;if(Uc(a)){var f=ed(a);b=f.length}if(c>=b)return a;b=c-dd(d);if(b<1)return d;c=f?Xf(f,0,b).join(""):a.slice(0,b);if(e===void 0)return c+d;f&&(b+=c.length-b);if(ek(e)){if(a.slice(b).search(e)){var g,h=c;e.global||(e=H(e.source,Z(ob.exec(e))+"g"));e.lastIndex=0;while(g=e.exec(h))var i=g.index;c=c.slice(0,i===void 0?b:i)}}else if(a.indexOf(Mf(e),b)!=b){g=c.lastIndexOf(e);g>-1&&(c=c.slice(0,g))}return c+d}function Al(a){a=Z(a);return a&&Wa.test(a)?a.replace(Ua,fd):a}sg=sg(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()});var Bl=rg("toUpperCase");function Cl(a,b,c){a=Z(a);b=c?void 0:b;return b===void 0?Vc(a)?id(a):wc(a):a.match(b)||[]}var Dl=S(function(a,b){try{return ic(a,void 0,b)}catch(a){return Rj(a)?a:new i(a)}});rg=Qg(function(a,b){kc(b,function(b){b=Jh(b),te(a,b,mj(a[b],a))});return a});function El(a){var b=a==null?0:a.length,c=T();a=b?O(a,function(a){if(typeof a[1]!="function")throw new I(f);return[c(a[0]),a[1]]}):[];return S(function(c){var d=-1;while(++d<b){var e=a[d];if(ic(e[0],this,c))return ic(e[1],this,c)}})}function Fl(a){return xe(we(a,m))}function Gl(a){return function(){return a}}function Hl(a,b){return a==null||a!==a?b:a}var Il=wg();wg=wg(!0);function Jl(a){return a}function Kl(a){return hf(typeof a=="function"?a:we(a,m))}function Ll(a){return nf(we(a,m))}function Ml(a,b){return of(a,we(b,m))}var Nl=S(function(a,b){return function(c){return We(c,a,b)}}),Ol=S(function(a,b){return function(c){return We(a,c,b)}});function Pl(b,c,d){var e=$(c),f=Me(c,e);d==null&&!(W(c)&&(f.length||!e.length))&&(d=c,c=b,b=this,f=Me(c,$(c)));var a=!(W(d)&&"chain"in d)||!!d.chain,g=Tj(b);kc(f,function(d){var e=c[d];b[d]=e;g&&(b.prototype[d]=function(){var d=this.__chain__;if(a||d){var c=b(this.__wrapped__),f=c.__actions__=ig(this.__actions__);f.push({func:e,args:arguments,thisArg:b});c.__chain__=d;return c}return e.apply(b,qc([this.value()],arguments))})});return b}function Ql(){N._===this&&(N._=Ib);return this}function Rl(){}function Sl(a){a=Y(a);return S(function(b){return rf(b,a)})}var Tl=Ag(O),Ul=Ag(mc);Ag=Ag(tc);function Vl(a){return mh(a)?Dc(Jh(a)):vf(a)}function Wl(a){return function(b){return a==null?void 0:Ne(a,b)}}var Xl=Dg();Dg=Dg(!0);function Yl(){return[]}function Zl(){return!1}function $l(){return{}}function am(){return""}function bm(){return!0}function cm(b,a){b=Y(b);if(b<1||b>ga)return[];var c=D,d=ld(b,D);a=T(a);b-=D;d=Ic(d,a);while(++c<b)a(c);return d}function dm(a){return U(a)?O(a,Jh):ik(a)?[a]:ig(Ih(Z(a)))}function em(a){var b=++Eb;return Z(a)+b}var fm=zg(function(a,b){return a+b},0),gm=Gg("ceil"),hm=zg(function(a,b){return a/b},1),im=Gg("floor");function jm(a){return a&&a.length?Ee(a,Jl,Qe):void 0}function km(b,a){return b&&b.length?Ee(b,T(a,2),Qe):void 0}function lm(a){return Cc(a,Jl)}function mm(b,a){return Cc(b,T(a,2))}function nm(a){return a&&a.length?Ee(a,Jl,lf):void 0}function om(b,a){return b&&b.length?Ee(b,T(a,2),lf):void 0}var pm=zg(function(a,b){return a*b},1);Gg=Gg("round");zg=zg(function(a,b){return a-b},0);function qm(a){return a&&a.length?Hc(a,Jl):0}function rm(b,a){return b&&b.length?Hc(b,T(a,2)):0}Q.after=jj;Q.ary=kj;Q.assign=Ye;Q.assignIn=Ab;Q.assignInWith=tk;Q.assignWith=Ze;Q.at=bf;Q.before=lj;Q.bind=mj;Q.bindAll=rg;Q.bindKey=nj;Q.castArray=Cj;Q.chain=Hi;Q.chunk=Nh;Q.compact=Oh;Q.concat=Ph;Q.cond=El;Q.conforms=Fl;Q.constant=Gl;Q.countBy=ge;Q.create=uk;Q.curry=oj;Q.curryRight=pj;Q.debounce=qj;Q.defaults=ef;Q.defaultsDeep=ff;Q.defer=b;Q.delay=uc;Q.difference=Ld;Q.differenceBy=Md;Q.differenceWith=Nd;Q.drop=Qh;Q.dropRight=Rh;Q.dropRightWhile=Sh;Q.dropWhile=Th;Q.fill=Uh;Q.filter=Si;Q.flatMap=Ti;Q.flatMapDeep=Ui;Q.flatMapDepth=Vi;Q.flatten=Xh;Q.flattenDeep=Yh;Q.flattenDepth=Zh;Q.flip=rj;Q.flow=Il;Q.flowRight=wg;Q.fromPairs=$h;Q.functions=Bk;Q.functionsIn=Ck;Q.groupBy=og;Q.initial=ci;Q.intersection=Od;Q.intersectionBy=Qd;Q.intersectionWith=Rd;Q.invert=gf;Q.invertBy=Eg;Q.invokeMap=pg;Q.iteratee=Kl;Q.keyBy=Wb;Q.keys=$;Q.keysIn=Gk;Q.map=Zi;Q.mapKeys=Hk;Q.mapValues=Ik;Q.matches=Ll;Q.matchesProperty=Ml;Q.memoize=sj;Q.merge=Jk;Q.mergeWith=Kk;Q.method=Nl;Q.methodOf=Ol;Q.mixin=Pl;Q.negate=tj;Q.nthArg=Sl;Q.omit=ng;Q.omitBy=Lk;Q.once=uj;Q.orderBy=$i;Q.over=Tl;Q.overArgs=Gh;Q.overEvery=Ul;Q.overSome=Ag;Q.partial=vj;Q.partialRight=wj;Q.partition=h;Q.pick=Mk;Q.pickBy=Nk;Q.property=Vl;Q.propertyOf=Wl;Q.pull=Sd;Q.pullAll=hi;Q.pullAllBy=ii;Q.pullAllWith=ji;Q.pullAt=Td;Q.range=Xl;Q.rangeRight=Dg;Q.rearg=K;Q.reject=cj;Q.remove=ki;Q.rest=xj;Q.reverse=li;Q.sampleSize=ej;Q.set=Pk;Q.setWith=Qk;Q.shuffle=fj;Q.slice=mi;Q.sortBy=rd;Q.sortedUniq=ti;Q.sortedUniqBy=ui;Q.split=ql;Q.spread=yj;Q.tail=vi;Q.take=wi;Q.takeRight=xi;Q.takeRightWhile=yi;Q.takeWhile=zi;Q.tap=Ii;Q.throttle=zj;Q.thru=Ji;Q.toArray=nk;Q.toPairs=Rk;Q.toPairsIn=Ig;Q.toPath=dm;Q.toPlainObject=rk;Q.transform=Sk;Q.unary=Aj;Q.union=Ud;Q.unionBy=Wd;Q.unionWith=Xd;Q.uniq=Ai;Q.uniqBy=Bi;Q.uniqWith=Ci;Q.unset=Tk;Q.unzip=Di;Q.unzipWith=Ei;Q.update=Uk;Q.updateWith=Vk;Q.values=Wk;Q.valuesIn=Xk;Q.without=Yd;Q.words=Cl;Q.wrap=Bj;Q.xor=Zd;Q.xorBy=$d;Q.xorWith=be;Q.zip=ce;Q.zipObject=Fi;Q.zipObjectDeep=Gi;Q.zipWith=ee;Q.entries=Rk;Q.entriesIn=Ig;Q.extend=Ab;Q.extendWith=tk;Pl(Q,Q);Q.add=fm;Q.attempt=Dl;Q.camelCase=al;Q.capitalize=bl;Q.ceil=gm;Q.clamp=Yk;Q.clone=Dj;Q.cloneDeep=Fj;Q.cloneDeepWith=Gj;Q.cloneWith=Ej;Q.conformsTo=Hj;Q.deburr=cl;Q.defaultTo=Hl;Q.divide=hm;Q.endsWith=dl;Q.eq=Ij;Q.escape=el;Q.escapeRegExp=fl;Q.every=Ri;Q.find=he;Q.findIndex=Vh;Q.findKey=vk;Q.findLast=ie;Q.findLastIndex=Wh;Q.findLastKey=wk;Q.floor=im;Q.forEach=Wi;Q.forEachRight=Xi;Q.forIn=xk;Q.forInRight=yk;Q.forOwn=zk;Q.forOwnRight=Ak;Q.get=Dk;Q.gt=uh;Q.gte=vg;Q.has=Ek;Q.hasIn=Fk;Q.head=ai;Q.identity=Jl;Q.includes=Yi;Q.indexOf=bi;Q.inRange=Zk;Q.invoke=yg;Q.isArguments=Jj;Q.isArray=U;Q.isArrayBuffer=mg;Q.isArrayLike=Kj;Q.isArrayLikeObject=V;Q.isBoolean=Lj;Q.isBuffer=Mj;Q.isDate=Zb;Q.isElement=Nj;Q.isEmpty=Oj;Q.isEqual=Pj;Q.isEqualWith=Qj;Q.isError=Rj;Q.isFinite=Sj;Q.isFunction=Tj;Q.isInteger=Uj;Q.isLength=Vj;Q.isMap=Wj;Q.isMatch=Xj;Q.isMatchWith=Yj;Q.isNaN=Zj;Q.isNative=$j;Q.isNil=bk;Q.isNull=ak;Q.isNumber=ck;Q.isObject=W;Q.isObjectLike=X;Q.isPlainObject=dk;Q.isRegExp=ek;Q.isSafeInteger=fk;Q.isSet=gk;Q.isString=hk;Q.isSymbol=ik;Q.isTypedArray=jk;Q.isUndefined=kk;Q.isWeakMap=lk;Q.isWeakSet=mk;Q.join=di;Q.kebabCase=gl;Q.last=ei;Q.lastIndexOf=fi;Q.lowerCase=hl;Q.lowerFirst=il;Q.lt=Kd;Q.lte=Xe;Q.max=jm;Q.maxBy=km;Q.mean=lm;Q.meanBy=mm;Q.min=nm;Q.minBy=om;Q.stubArray=Yl;Q.stubFalse=Zl;Q.stubObject=$l;Q.stubString=am;Q.stubTrue=bm;Q.multiply=pm;Q.nth=gi;Q.noConflict=Ql;Q.noop=Rl;Q.now=ij;Q.pad=jl;Q.padEnd=kl;Q.padStart=ll;Q.parseInt=ml;Q.random=$k;Q.reduce=aj;Q.reduceRight=bj;Q.repeat=nl;Q.replace=ol;Q.result=Ok;Q.round=Gg;Q.runInContext=a;Q.sample=dj;Q.size=gj;Q.snakeCase=pl;Q.some=hj;Q.sortedIndex=ni;Q.sortedIndexBy=oi;Q.sortedIndexOf=pi;Q.sortedLastIndex=qi;Q.sortedLastIndexBy=ri;Q.sortedLastIndexOf=si;Q.startCase=rl;Q.startsWith=sl;Q.subtract=zg;Q.sum=qm;Q.sumBy=rm;Q.template=tl;Q.times=cm;Q.toFinite=ok;Q.toInteger=Y;Q.toLength=pk;Q.toLower=ul;Q.toNumber=qk;Q.toSafeInteger=sk;Q.toString=Z;Q.toUpper=vl;Q.trim=wl;Q.trimEnd=xl;Q.trimStart=yl;Q.truncate=zl;Q.unescape=Al;Q.uniqueId=em;Q.upperCase=sg;Q.upperFirst=Bl;Q.each=Wi;Q.eachRight=Xi;Q.first=ai;Pl(Q,function(){var a={};Ke(Q,function(b,c){J.call(Q.prototype,c)||(a[c]=b)});return a}(),{chain:!1});Q.VERSION=c;kc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Q[a].placeholder=Q});kc(["drop","take"],function(a,b){R.prototype[a]=function(d){d=d===void 0?1:P(Y(d),0);var c=this.__filtered__&&!b?new R(this):this.clone();c.__filtered__?c.__takeCount__=ld(d,c.__takeCount__):c.__views__.push({size:ld(d,D),type:a+(c.__dir__<0?"Right":"")});return c},R.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});kc(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==da||c==C;R.prototype[a]=function(b){var a=this.clone();a.__iteratees__.push({iteratee:T(b,3),type:c});a.__filtered__=a.__filtered__||d;return a}});kc(["head","last"],function(a,b){var c="take"+(b?"Right":"");R.prototype[a]=function(){return this[c](1).value()[0]}});kc(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");R.prototype[a]=function(){return this.__filtered__?new R(this):this[c](1)}});R.prototype.compact=function(){return this.filter(Jl)};R.prototype.find=function(a){return this.filter(a).head()};R.prototype.findLast=function(a){return this.reverse().find(a)};R.prototype.invokeMap=S(function(a,b){return typeof a=="function"?new R(this):this.map(function(c){return We(c,a,b)})});R.prototype.reject=function(a){return this.filter(tj(T(a)))};R.prototype.slice=function(b,c){b=Y(b);var a=this;if(a.__filtered__&&(b>0||c<0))return new R(a);b<0?a=a.takeRight(-b):b&&(a=a.drop(b));c!==void 0&&(c=Y(c),a=c<0?a.dropRight(-c):a.take(c-b));return a};R.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()};R.prototype.toArray=function(){return this.take(D)};Ke(R.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=Q[d?"take"+(b=="last"?"Right":""):b],f=d||/^find/.test(b);if(!e)return;Q.prototype[b]=function(){var h=this.__wrapped__,i=d?[1]:arguments,j=h instanceof R,g=i[0],k=j||U(h),l=function(a){a=e.apply(Q,qc([a],i));return d&&m?a[0]:a};k&&c&&typeof g=="function"&&g.length!=1&&(j=k=!1);var m=this.__chain__,n=!!this.__actions__.length,o=f&&!m,p=j&&!n;if(!f&&k){h=p?h:new R(this);var b=a.apply(h,i);b.__actions__.push({func:Ji,args:[l],thisArg:void 0});return new Fd(b,m)}if(o&&p)return a.apply(this,i);b=this.thru(l);return o?d?b.value()[0]:b.value():b}});kc(["pop","push","shift","sort","splice","unshift"],function(a){var b=zb[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);Q.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(U(e)?e:[],a)}return this[c](function(c){return b.apply(U(c)?c:[],a)})}});Ke(R.prototype,function(a,b){a=Q[b];if(a){var c=a.name+"";J.call(vd,c)||(vd[c]=[]);vd[c].push({name:b,func:a})}});vd[xg(void 0,s).name]=[{name:"wrapper",func:void 0}];R.prototype.clone=Gd;R.prototype.reverse=Hd;R.prototype.value=Id;Q.prototype.at=fe;Q.prototype.chain=Ki;Q.prototype.commit=Li;Q.prototype.next=Mi;Q.prototype.plant=Oi;Q.prototype.reverse=Pi;Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=Qi;Q.prototype.first=Q.prototype.head;Tb&&(Q.prototype[Tb]=Ni);return Q};var jd=Ob();typeof i=="function"&&typeof i.amd=="object"&&i.amd?(N._=jd,i(function(){return jd})):J?((J.exports=jd)._=jd,zb._=jd):N._=jd}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}c={};var m={exports:c};function n(){var a=Array.isArray;m.exports=a}var o=!1;function p(){o||(o=!0,n());return m.exports}d={};var q={exports:d};function r(){var b=typeof a=="object"&&a&&a.Object===Object&&a;q.exports=b}var s=!1;function t(){s||(s=!0,r());return q.exports}f={};var u={exports:f};function v(){var a=t(),b=typeof self=="object"&&self&&self.Object===Object&&self;a=a||b||Function("return this")();u.exports=a}var w=!1;function x(){w||(w=!0,v());return u.exports}c={};var y={exports:c};function z(){var a=x();a=a.Symbol;y.exports=a}var A=!1;function B(){A||(A=!0,z());return y.exports}d={};var aa={exports:d};function ba(){var a=B(),b=Object.prototype,c=b.hasOwnProperty,d=b.toString,e=a?a.toStringTag:void 0;function f(a){var b=c.call(a,e),f=a[e];try{a[e]=void 0;var g=!0}catch(a){}var h=d.call(a);g&&(b?a[e]=f:delete a[e]);return h}aa.exports=f}var ca=!1;function da(){ca||(ca=!0,ba());return aa.exports}f={};var ea={exports:f};function C(){var a=Object.prototype,b=a.toString;function c(a){return b.call(a)}ea.exports=c}var fa=!1;function ga(){fa||(fa=!0,C());return ea.exports}c={};var ha={exports:c};function ia(){var a=B(),b=da(),c=ga(),d="[object Null]",e="[object Undefined]",f=a?a.toStringTag:void 0;function g(a){return a==null?a===void 0?e:d:f&&f in Object(a)?b(a):c(a)}ha.exports=g}var D=!1;function ja(){D||(D=!0,ia());return ha.exports}d={};var ka={exports:d};function la(){function a(a){return a!=null&&typeof a=="object"}ka.exports=a}var ma=!1;function na(){ma||(ma=!0,la());return ka.exports}f={};var oa={exports:f};function pa(){var a=ja(),b=na(),c="[object Symbol]";function d(d){return typeof d=="symbol"||b(d)&&a(d)==c}oa.exports=d}var qa=!1;function ra(){qa||(qa=!0,pa());return oa.exports}c={};var sa={exports:c};function ta(){var a=p(),b=ra(),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;function e(e,f){if(a(e))return!1;var g=typeof e;return g=="number"||g=="symbol"||g=="boolean"||e==null||b(e)?!0:d.test(e)||!c.test(e)||f!=null&&e in Object(f)}sa.exports=e}var ua=!1;function E(){ua||(ua=!0,ta());return sa.exports}d={};var va={exports:d};function wa(){function a(a){var b=typeof a;return a!=null&&(b=="object"||b=="function")}va.exports=a}var xa=!1;function F(){xa||(xa=!0,wa());return va.exports}f={};var ya={exports:f};function za(){var a=ja(),b=F(),c="[object AsyncFunction]",d="[object Function]",e="[object GeneratorFunction]",f="[object Proxy]";function g(g){if(!b(g))return!1;g=a(g);return g==d||g==e||g==c||g==f}ya.exports=g}var Aa=!1;function Ba(){Aa||(Aa=!0,za());return ya.exports}c={};var Ca={exports:c};function Da(){var a=x();a=a["__core-js_shared__"];Ca.exports=a}var Ea=!1;function Fa(){Ea||(Ea=!0,Da());return Ca.exports}d={};var Ga={exports:d};function Ha(){var a=Fa(),b=function(){var b=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}();function c(a){return!!b&&b in a}Ga.exports=c}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return Ga.exports}f={};var Ka={exports:f};function La(){var a=Function.prototype,b=a.toString;function c(a){if(a!=null){try{return b.call(a)}catch(a){}try{return a+""}catch(a){}}return""}Ka.exports=c}var Ma=!1;function Na(){Ma||(Ma=!0,La());return Ka.exports}c={};var Oa={exports:c};function Pa(){var a=Ba(),b=Ja(),c=F(),d=Na(),e=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,g=Function.prototype,h=Object.prototype;g=g.toString;h=h.hasOwnProperty;var i=RegExp("^"+g.call(h).replace(e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j(e){if(!c(e)||b(e))return!1;var g=a(e)?i:f;return g.test(d(e))}Oa.exports=j}var Qa=!1;function Ra(){Qa||(Qa=!0,Pa());return Oa.exports}d={};var Sa={exports:d};function Ta(){function a(a,b){return a==null?void 0:a[b]}Sa.exports=a}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return Sa.exports}f={};var Wa={exports:f};function Xa(){var a=Ra(),b=Va();function c(c,d){c=b(c,d);return a(c)?c:void 0}Wa.exports=c}var Ya=!1;function Za(){Ya||(Ya=!0,Xa());return Wa.exports}c={};var $a={exports:c};function ab(){var a=Za();a=a(Object,"create");$a.exports=a}var bb=!1;function cb(){bb||(bb=!0,ab());return $a.exports}d={};var db={exports:d};function eb(){var a=cb();function b(){this.__data__=a?a(null):{},this.size=0}db.exports=b}var fb=!1;function gb(){fb||(fb=!0,eb());return db.exports}f={};var hb={exports:f};function ib(){function a(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a}hb.exports=a}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}c={};var lb={exports:c};function mb(){var a=cb(),b="__lodash_hash_undefined__",c=Object.prototype,d=c.hasOwnProperty;function e(c){var e=this.__data__;if(a){var f=e[c];return f===b?void 0:f}return d.call(e,c)?e[c]:void 0}lb.exports=e}var nb=!1;function ob(){nb||(nb=!0,mb());return lb.exports}d={};var pb={exports:d};function qb(){var a=cb(),b=Object.prototype,c=b.hasOwnProperty;function d(b){var d=this.__data__;return a?d[b]!==void 0:c.call(d,b)}pb.exports=d}var rb=!1;function sb(){rb||(rb=!0,qb());return pb.exports}f={};var tb={exports:f};function ub(){var a=cb(),b="__lodash_hash_undefined__";function c(c,d){var e=this.__data__;this.size+=this.has(c)?0:1;e[c]=a&&d===void 0?b:d;return this}tb.exports=c}var vb=!1;function wb(){vb||(vb=!0,ub());return tb.exports}c={};var xb={exports:c};function G(){var a=gb(),b=kb(),c=ob(),d=sb(),e=wb();function f(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}f.prototype.clear=a;f.prototype["delete"]=b;f.prototype.get=c;f.prototype.has=d;f.prototype.set=e;xb.exports=f}var H=!1;function yb(){H||(H=!0,G());return xb.exports}d={};var I={exports:d};function zb(){function a(){this.__data__=[],this.size=0}I.exports=a}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return I.exports}f={};var Cb={exports:f};function Db(){function a(a,b){return a===b||a!==a&&b!==b}Cb.exports=a}var J=!1;function Eb(){J||(J=!0,Db());return Cb.exports}c={};var Fb={exports:c};function Gb(){var a=Eb();function b(b,c){var d=b.length;while(d--)if(a(b[d][0],c))return d;return-1}Fb.exports=b}var Hb=!1;function Ib(){Hb||(Hb=!0,Gb());return Fb.exports}d={};var Jb={exports:d};function K(){var a=Ib(),b=Array.prototype,c=b.splice;function d(b){var d=this.__data__;b=a(d,b);if(b<0)return!1;var e=d.length-1;b==e?d.pop():c.call(d,b,1);--this.size;return!0}Jb.exports=d}var Kb=!1;function Lb(){Kb||(Kb=!0,K());return Jb.exports}f={};var Mb={exports:f};function Nb(){var a=Ib();function b(b){var c=this.__data__;b=a(c,b);return b<0?void 0:c[b][1]}Mb.exports=b}var Ob=!1;function Pb(){Ob||(Ob=!0,Nb());return Mb.exports}c={};var Qb={exports:c};function Rb(){var a=Ib();function b(b){return a(this.__data__,b)>-1}Qb.exports=b}var Sb=!1;function Tb(){Sb||(Sb=!0,Rb());return Qb.exports}d={};var Ub={exports:d};function Vb(){var a=Ib();function b(b,c){var d=this.__data__,e=a(d,b);e<0?(++this.size,d.push([b,c])):d[e][1]=c;return this}Ub.exports=b}var Wb=!1;function Xb(){Wb||(Wb=!0,Vb());return Ub.exports}f={};var Yb={exports:f};function L(){var a=Bb(),b=Lb(),c=Pb(),d=Tb(),e=Xb();function f(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}f.prototype.clear=a;f.prototype["delete"]=b;f.prototype.get=c;f.prototype.has=d;f.prototype.set=e;Yb.exports=f}var M=!1;function Zb(){M||(M=!0,L());return Yb.exports}c={};var $b={exports:c};function ac(){var a=Za(),b=x();a=a(b,"Map");$b.exports=a}var N=!1;function bc(){N||(N=!0,ac());return $b.exports}d={};var cc={exports:d};function dc(){var a=yb(),b=Zb(),c=bc();function d(){this.size=0,this.__data__={hash:new a,map:new(c||b),string:new a}}cc.exports=d}var ec=!1;function fc(){ec||(ec=!0,dc());return cc.exports}f={};var gc={exports:f};function hc(){function a(a){var b=typeof a;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?a!=="__proto__":a===null}gc.exports=a}var ic=!1;function jc(){ic||(ic=!0,hc());return gc.exports}c={};var kc={exports:c};function lc(){var a=jc();function b(b,c){b=b.__data__;return a(c)?b[typeof c=="string"?"string":"hash"]:b.map}kc.exports=b}var mc=!1;function nc(){mc||(mc=!0,lc());return kc.exports}d={};var oc={exports:d};function pc(){var a=nc();function b(b){b=a(this,b)["delete"](b);this.size-=b?1:0;return b}oc.exports=b}var O=!1;function qc(){O||(O=!0,pc());return oc.exports}f={};var rc={exports:f};function sc(){var a=nc();function b(b){return a(this,b).get(b)}rc.exports=b}var tc=!1;function uc(){tc||(tc=!0,sc());return rc.exports}c={};var vc={exports:c};function wc(){var a=nc();function b(b){return a(this,b).has(b)}vc.exports=b}var xc=!1;function yc(){xc||(xc=!0,wc());return vc.exports}d={};var zc={exports:d};function Ac(){var a=nc();function b(b,c){var d=a(this,b),e=d.size;d.set(b,c);this.size+=d.size==e?0:1;return this}zc.exports=b}var Bc=!1;function Cc(){Bc||(Bc=!0,Ac());return zc.exports}f={};var Dc={exports:f};function Ec(){var a=fc(),b=qc(),c=uc(),d=yc(),e=Cc();function f(a){var b=-1,c=a==null?0:a.length;this.clear();while(++b<c){var d=a[b];this.set(d[0],d[1])}}f.prototype.clear=a;f.prototype["delete"]=b;f.prototype.get=c;f.prototype.has=d;f.prototype.set=e;Dc.exports=f}var Fc=!1;function Gc(){Fc||(Fc=!0,Ec());return Dc.exports}c={};var Hc={exports:c};function Ic(){var a=Gc(),b="Expected a function";function c(d,e){if(typeof d!="function"||e!=null&&typeof e!="function")throw new TypeError(b);var f=function(){var a=arguments,b=e?e.apply(this,a):a[0],c=f.cache;if(c.has(b))return c.get(b);var g=d.apply(this,a);f.cache=c.set(b,g)||c;return g};f.cache=new(c.Cache||a);return f}c.Cache=a;Hc.exports=c}var Jc=!1;function Kc(){Jc||(Jc=!0,Ic());return Hc.exports}d={};var Lc={exports:d};function Mc(){var a=Kc(),b=500;function c(c){c=a(c,function(a){d.size===b&&d.clear();return a});var d=c.cache;return c}Lc.exports=c}var Nc=!1;function Oc(){Nc||(Nc=!0,Mc());return Lc.exports}f={};var Pc={exports:f};function Qc(){var a=Oc(),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g;a=a(function(a){var d=[];a.charCodeAt(0)===46&&d.push("");a.replace(b,function(a,b,e,f){d.push(e?f.replace(c,"$1"):b||a)});return d});Pc.exports=a}var Rc=!1;function Sc(){Rc||(Rc=!0,Qc());return Pc.exports}c={};var Tc={exports:c};function Uc(){function a(a,b){var c=-1,d=a==null?0:a.length,e=Array(d);while(++c<d)e[c]=b(a[c],c,a);return e}Tc.exports=a}var Vc=!1;function Wc(){Vc||(Vc=!0,Uc());return Tc.exports}d={};var Xc={exports:d};function Yc(){var a=B(),b=Wc(),c=p(),d=ra(),e=1/0;a=a?a.prototype:void 0;var f=a?a.toString:void 0;function g(a){if(typeof a=="string")return a;if(c(a))return b(a,g)+"";if(d(a))return f?f.call(a):"";var h=a+"";return h=="0"&&1/a==-e?"-0":h}Xc.exports=g}var Zc=!1;function $c(){Zc||(Zc=!0,Yc());return Xc.exports}f={};var ad={exports:f};function bd(){var a=$c();function b(b){return b==null?"":a(b)}ad.exports=b}var cd=!1;function dd(){cd||(cd=!0,bd());return ad.exports}c={};var ed={exports:c};function fd(){var a=p(),b=E(),c=Sc(),d=dd();function e(e,f){return a(e)?e:b(e,f)?[e]:c(d(e))}ed.exports=e}var gd=!1;function hd(){gd||(gd=!0,fd());return ed.exports}d={};var id={exports:d};function jd(){var a=ra(),b=1/0;function c(c){if(typeof c=="string"||a(c))return c;var d=c+"";return d=="0"&&1/c==-b?"-0":d}id.exports=c}var kd=!1;function P(){kd||(kd=!0,jd());return id.exports}f={};var ld={exports:f};function md(){var a=hd(),b=P();function c(c,d){d=a(d,c);var e=0,f=d.length;while(c!=null&&e<f)c=c[b(d[e++])];return e&&e==f?c:void 0}ld.exports=c}var nd=!1;function od(){nd||(nd=!0,md());return ld.exports}c={};var pd={exports:c};function qd(){var a=od();function b(b,c,d){b=b==null?void 0:a(b,c);return b===void 0?d:b}pd.exports=b}var rd=!1;function sd(){rd||(rd=!0,qd());return pd.exports}d={};var td={exports:d};function ud(){var a=sd();function b(b,c){var d=-1,e=c.length,f=Array(e),g=b==null;while(++d<e)f[d]=g?void 0:a(b,c[d]);return f}td.exports=b}var vd=!1;function wd(){vd||(vd=!0,ud());return td.exports}f={};var xd={exports:f};function yd(){function a(a,b){var c=-1,d=b.length,e=a.length;while(++c<d)a[e+c]=b[c];return a}xd.exports=a}var zd=!1;function Ad(){zd||(zd=!0,yd());return xd.exports}c={};var Bd={exports:c};function Cd(){var a=ja(),b=na(),c="[object Arguments]";function d(d){return b(d)&&a(d)==c}Bd.exports=d}var Q=!1;function Dd(){Q||(Q=!0,Cd());return Bd.exports}d={};var Ed={exports:d};function Fd(){var a=Dd(),b=na(),c=Object.prototype,d=c.hasOwnProperty,e=c.propertyIsEnumerable;c=a(function(){return arguments}())?a:function(a){return b(a)&&d.call(a,"callee")&&!e.call(a,"callee")};Ed.exports=c}var R=!1;function Gd(){R||(R=!0,Fd());return Ed.exports}f={};var Hd={exports:f};function Id(){var a=B(),b=Gd(),c=p(),d=a?a.isConcatSpreadable:void 0;function e(a){return c(a)||b(a)||!!(d&&a&&a[d])}Hd.exports=e}var Jd=!1;function Kd(){Jd||(Jd=!0,Id());return Hd.exports}c={};var Ld={exports:c};function Md(){var a=Ad(),b=Kd();function c(d,e,f,g,h){var i=-1,j=d.length;f||(f=b);h||(h=[]);while(++i<j){var k=d[i];e>0&&f(k)?e>1?c(k,e-1,f,g,h):a(h,k):g||(h[h.length]=k)}return h}Ld.exports=c}var Nd=!1;function Od(){Nd||(Nd=!0,Md());return Ld.exports}d={};var Pd={exports:d};function Qd(){var a=Od();function b(b){var c=b==null?0:b.length;return c?a(b,1):[]}Pd.exports=b}var Rd=!1;function Sd(){Rd||(Rd=!0,Qd());return Pd.exports}f={};var Td={exports:f};function Ud(){function a(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}Td.exports=a}var Vd=!1;function Wd(){Vd||(Vd=!0,Ud());return Td.exports}c={};var Xd={exports:c};function Yd(){var a=Wd(),b=Math.max;function c(c,d,e){d=b(d===void 0?c.length-1:d,0);return function(){var f=arguments,g=-1,h=b(f.length-d,0),i=Array(h);while(++g<h)i[g]=f[d+g];g=-1;var j=Array(d+1);while(++g<d)j[g]=f[g];j[d]=e(i);return a(c,this,j)}}Xd.exports=c}var Zd=!1;function $d(){Zd||(Zd=!0,Yd());return Xd.exports}d={};var ae={exports:d};function be(){function a(a){return function(){return a}}ae.exports=a}var ce=!1;function de(){ce||(ce=!0,be());return ae.exports}f={};var ee={exports:f};function fe(){var a=Za(),b=function(){try{var b=a(Object,"defineProperty");b({},"",{});return b}catch(a){}}();ee.exports=b}var ge=!1;function he(){ge||(ge=!0,fe());return ee.exports}c={};var ie={exports:c};function je(){function a(a){return a}ie.exports=a}var ke=!1;function le(){ke||(ke=!0,je());return ie.exports}d={};var me={exports:d};function ne(){var a=de(),b=he(),c=le();c=b?function(c,d){return b(c,"toString",{configurable:!0,enumerable:!1,value:a(d),writable:!0})}:c;me.exports=c}var oe=!1;function pe(){oe||(oe=!0,ne());return me.exports}f={};var qe={exports:f};function re(){var a=800,b=16,c=Date.now;function d(d){var e=0,f=0;return function(){var g=c(),h=b-(g-f);f=g;if(h>0){if(++e>=a)return arguments[0]}else e=0;return d.apply(void 0,arguments)}}qe.exports=d}var se=!1;function te(){se||(se=!0,re());return qe.exports}c={};var ue={exports:c};function ve(){var a=pe(),b=te();b=b(a);ue.exports=b}var we=!1;function xe(){we||(we=!0,ve());return ue.exports}d={};var ye={exports:d};function ze(){var a=Sd(),b=$d(),c=xe();function d(d){return c(b(d,void 0,a),d+"")}ye.exports=d}var Ae=!1;function Be(){Ae||(Ae=!0,ze());return ye.exports}f={};var Ce={exports:f};function De(){var a=wd(),b=Be();b=b(a);Ce.exports=b}var Ee=!1;function Fe(){Ee||(Ee=!0,De());return Ce.exports}c={};var Ge={exports:c};function He(){function a(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b);c=c>e?e:c;c<0&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;c=Array(e);while(++d<e)c[d]=a[d+b];return c}Ge.exports=a}var Ie=!1;function Je(){Ie||(Ie=!0,He());return Ge.exports}d={};var Ke={exports:d};function Le(){var a=Je();function b(b,c,d){var e=b.length;d=d===void 0?e:d;return!c&&d>=e?b:a(b,c,d)}Ke.exports=b}var Me=!1;function Ne(){Me||(Me=!0,Le());return Ke.exports}f={};var Oe={exports:f};function Pe(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\ufe0e\\ufe0f";d="\\u200d";var e=RegExp("["+d+a+b+c+"]");function f(a){return e.test(a)}Oe.exports=f}var Qe=!1;function Re(){Qe||(Qe=!0,Pe());return Oe.exports}c={};var Se={exports:c};function Te(){function a(a){return a.split("")}Se.exports=a}var Ue=!1;function Ve(){Ue||(Ue=!0,Te());return Se.exports}d={};var We={exports:d};function Xe(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\ufe0e\\ufe0f";d="["+a+"]";b="["+b+"]";var e="\\ud83c[\\udffb-\\udfff]",f="(?:"+b+"|"+e+")";a="[^"+a+"]";var g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",i="\\u200d";f=f+"?";c="["+c+"]?";i="(?:"+i+"(?:"+[a,g,h].join("|")+")"+c+f+")*";c=c+f+i;f="(?:"+[a+b+"?",b,g,h,d].join("|")+")";var j=RegExp(e+"(?="+e+")|"+f+c,"g");function k(a){return a.match(j)||[]}We.exports=k}var Ye=!1;function Ze(){Ye||(Ye=!0,Xe());return We.exports}f={};var $e={exports:f};function af(){var a=Ve(),b=Re(),c=Ze();function d(d){return b(d)?c(d):a(d)}$e.exports=d}var bf=!1;function cf(){bf||(bf=!0,af());return $e.exports}c={};var df={exports:c};function ef(){var a=Ne(),b=Re(),c=cf(),d=dd();function e(e){return function(f){f=d(f);var g=b(f)?c(f):void 0,h=g?g[0]:f.charAt(0);g=g?a(g,1).join(""):f.slice(1);return h[e]()+g}}df.exports=e}var ff=!1;function gf(){ff||(ff=!0,ef());return df.exports}d={};var hf={exports:d};function jf(){var a=gf();a=a("toUpperCase");hf.exports=a}var kf=!1;function lf(){kf||(kf=!0,jf());return hf.exports}f={};var mf={exports:f};function nf(){var a=dd(),b=lf();function c(c){return b(a(c).toLowerCase())}mf.exports=c}var of=!1;function pf(){of||(of=!0,nf());return mf.exports}c={};var qf={exports:c};function rf(){function a(a,b,c,d){var e=-1,f=a==null?0:a.length;d&&f&&(c=a[++e]);while(++e<f)c=b(c,a[e],e,a);return c}qf.exports=a}var sf=!1;function tf(){sf||(sf=!0,rf());return qf.exports}d={};var uf={exports:d};function vf(){function a(a){return function(b){return a==null?void 0:a[b]}}uf.exports=a}var wf=!1;function xf(){wf||(wf=!0,vf());return uf.exports}f={};var yf={exports:f};function zf(){var a=xf(),b={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"};a=a(b);yf.exports=a}var Af=!1;function S(){Af||(Af=!0,zf());return yf.exports}c={};var Bf={exports:c};function Cf(){var a=S(),b=dd(),c=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,d="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff";d=d+e+f;e="["+d+"]";var g=RegExp(e,"g");function h(d){d=b(d);return d&&d.replace(c,a).replace(g,"")}Bf.exports=h}var Df=!1;function Ef(){Df||(Df=!0,Cf());return Bf.exports}d={};var Ff={exports:d};function Gf(){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function b(b){return b.match(a)||[]}Ff.exports=b}var Hf=!1;function If(){Hf||(Hf=!0,Gf());return Ff.exports}f={};var Jf={exports:f};function Kf(){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function b(b){return a.test(b)}Jf.exports=b}var Lf=!1;function Mf(){Lf||(Lf=!0,Kf());return Jf.exports}c={};var Nf={exports:c};function Of(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\u2700-\\u27bf";d="a-z\\xdf-\\xf6\\xf8-\\xff";var e="\\xac\\xb1\\xd7\\xf7",f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",g="\\u2000-\\u206f",h=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="A-Z\\xc0-\\xd6\\xd8-\\xde",j="\\ufe0e\\ufe0f";e=e+f+g+h;f="['\u2019]";g="["+e+"]";h="["+b+"]";b="\\d+";var k="["+c+"]",l="["+d+"]";e="[^"+a+e+b+c+d+i+"]";c="\\ud83c[\\udffb-\\udfff]";d="(?:"+h+"|"+c+")";h="[^"+a+"]";c="(?:\\ud83c[\\udde6-\\uddff]){2}";a="[\\ud800-\\udbff][\\udc00-\\udfff]";i="["+i+"]";var m="\\u200d",n="(?:"+l+"|"+e+")";e="(?:"+i+"|"+e+")";var o="(?:"+f+"(?:d|ll|m|re|s|t|ve))?";f="(?:"+f+"(?:D|LL|M|RE|S|T|VE))?";d=d+"?";j="["+j+"]?";m="(?:"+m+"(?:"+[h,c,a].join("|")+")"+j+d+")*";h="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])";var p="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])";j=j+d+m;d="(?:"+[k,c,a].join("|")+")"+j;var q=RegExp([i+"?"+l+"+"+o+"(?="+[g,i,"$"].join("|")+")",e+"+"+f+"(?="+[g,i+n,"$"].join("|")+")",i+"?"+n+"+"+o,i+"+"+f,p,h,b,d].join("|"),"g");function r(a){return a.match(q)||[]}Nf.exports=r}var Pf=!1;function Qf(){Pf||(Pf=!0,Of());return Nf.exports}d={};var Rf={exports:d};function Sf(){var a=If(),b=Mf(),c=dd(),d=Qf();function e(e,f,g){e=c(e);f=g?void 0:f;return f===void 0?b(e)?d(e):a(e):e.match(f)||[]}Rf.exports=e}var Tf=!1;function Uf(){Tf||(Tf=!0,Sf());return Rf.exports}f={};var Vf={exports:f};function Wf(){var a=tf(),b=Ef(),c=Uf(),d="['\u2019]",e=RegExp(d,"g");function f(d){return function(f){return a(c(b(f).replace(e,"")),d,"")}}Vf.exports=f}var Xf=!1;function Yf(){Xf||(Xf=!0,Wf());return Vf.exports}c={};var Zf={exports:c};function $f(){var a=pf(),b=Yf();b=b(function(b,c,d){c=c.toLowerCase();return b+(d?a(c):c)});Zf.exports=b}var ag=!1;function bg(){ag||(ag=!0,$f());return Zf.exports}d={};var cg={exports:d};function dg(){var a=9007199254740991;function b(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=a}cg.exports=b}var eg=!1;function fg(){eg||(eg=!0,dg());return cg.exports}f={};var gg={exports:f};function hg(){var a=Ba(),b=fg();function c(c){return c!=null&&b(c.length)&&!a(c)}gg.exports=c}var ig=!1;function jg(){ig||(ig=!0,hg());return gg.exports}c={};var kg={exports:c};function lg(){var a=9007199254740991,b=/^(?:0|[1-9]\d*)$/;function c(c,d){var e=typeof c;d=d==null?a:d;return!!d&&(e=="number"||e!="symbol"&&b.test(c))&&c>-1&&c%1==0&&c<d}kg.exports=c}var mg=!1;function ng(){mg||(mg=!0,lg());return kg.exports}d={};var og={exports:d};function pg(){var a=Eb(),b=jg(),c=ng(),d=F();function e(e,f,g){if(!d(g))return!1;var h=typeof f;return(h=="number"?b(g)&&c(f,g.length):h=="string"&&f in g)?a(g[f],e):!1}og.exports=e}var qg=!1;function rg(){qg||(qg=!0,pg());return og.exports}f={};var sg={exports:f};function tg(){var a=F(),b=ra(),c=0/0,d=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,g=/^0o[0-7]+$/i,h=parseInt;function i(i){if(typeof i=="number")return i;if(b(i))return c;if(a(i)){var j=typeof i.valueOf=="function"?i.valueOf():i;i=a(j)?j+"":j}if(typeof i!="string")return i===0?i:+i;i=i.replace(d,"");j=f.test(i);return j||g.test(i)?h(i.slice(2),j?2:8):e.test(i)?c:+i}sg.exports=i}var ug=!1;function vg(){ug||(ug=!0,tg());return sg.exports}c={};var wg={exports:c};function xg(){var a=vg(),b=1/0,c=17976931348623157e292;function d(d){if(!d)return d===0?d:0;d=a(d);if(d===b||d===-b){var e=d<0?-1:1;return e*c}return d===d?d:0}wg.exports=d}var yg=!1;function zg(){yg||(yg=!0,xg());return wg.exports}d={};var Ag={exports:d};function Bg(){var a=zg();function b(b){b=a(b);var c=b%1;return b===b?c?b-c:b:0}Ag.exports=b}var Cg=!1;function Dg(){Cg||(Cg=!0,Bg());return Ag.exports}f={};var Eg={exports:f};function Fg(){var a=Je(),b=rg(),c=Dg(),d=Math.ceil,e=Math.max;function f(f,g,h){(h?b(f,g,h):g===void 0)?g=1:g=e(c(g),0);h=f==null?0:f.length;if(!h||g<1)return[];var i=0,j=0,k=Array(d(h/g));while(i<h)k[j++]=a(f,i,i+=g);return k}Eg.exports=f}var Gg=!1;function Hg(){Gg||(Gg=!0,Fg());return Eg.exports}c={};var Ig={exports:c};function Jg(){function a(a,b,c){a===a&&(c!==void 0&&(a=a<=c?a:c),b!==void 0&&(a=a>=b?a:b));return a}Ig.exports=a}var Kg=!1;function Lg(){Kg||(Kg=!0,Jg());return Ig.exports}d={};var Mg={exports:d};function Ng(){var a=Lg(),b=vg();function c(c,d,e){e===void 0&&(e=d,d=void 0);e!==void 0&&(e=b(e),e=e===e?e:0);d!==void 0&&(d=b(d),d=d===d?d:0);return a(b(c),d,e)}Mg.exports=c}var Og=!1;function Pg(){Og||(Og=!0,Ng());return Mg.exports}f={};var Qg={exports:f};function Rg(){var a=Zb();function b(){this.__data__=new a,this.size=0}Qg.exports=b}var Sg=!1;function Tg(){Sg||(Sg=!0,Rg());return Qg.exports}c={};var Ug={exports:c};function Vg(){function a(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a}Ug.exports=a}var T=!1;function Wg(){T||(T=!0,Vg());return Ug.exports}d={};var Xg={exports:d};function Yg(){function a(a){return this.__data__.get(a)}Xg.exports=a}var Zg=!1;function $g(){Zg||(Zg=!0,Yg());return Xg.exports}f={};var ah={exports:f};function bh(){function a(a){return this.__data__.has(a)}ah.exports=a}var ch=!1;function dh(){ch||(ch=!0,bh());return ah.exports}c={};var eh={exports:c};function fh(){var a=Zb(),b=bc(),c=Gc(),d=200;function e(e,f){var g=this.__data__;if(g instanceof a){var h=g.__data__;if(!b||h.length<d-1){h.push([e,f]);this.size=++g.size;return this}g=this.__data__=new c(h)}g.set(e,f);this.size=g.size;return this}eh.exports=e}var gh=!1;function hh(){gh||(gh=!0,fh());return eh.exports}d={};var ih={exports:d};function jh(){var a=Zb(),b=Tg(),c=Wg(),d=$g(),e=dh(),f=hh();function g(b){b=this.__data__=new a(b);this.size=b.size}g.prototype.clear=b;g.prototype["delete"]=c;g.prototype.get=d;g.prototype.has=e;g.prototype.set=f;ih.exports=g}var kh=!1;function lh(){kh||(kh=!0,jh());return ih.exports}f={};var mh={exports:f};function nh(){function a(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a)===!1)break;return a}mh.exports=a}var oh=!1;function ph(){oh||(oh=!0,nh());return mh.exports}c={};var qh={exports:c};function rh(){var a=he();function b(b,c,d){c=="__proto__"&&a?a(b,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):b[c]=d}qh.exports=b}var sh=!1;function th(){sh||(sh=!0,rh());return qh.exports}d={};var uh={exports:d};function vh(){var a=th(),b=Eb(),c=Object.prototype,d=c.hasOwnProperty;function e(c,e,f){var g=c[e];(!(d.call(c,e)&&b(g,f))||f===void 0&&!(e in c))&&a(c,e,f)}uh.exports=e}var wh=!1;function xh(){wh||(wh=!0,vh());return uh.exports}f={};var yh={exports:f};function zh(){var a=xh(),b=th();function c(c,d,e,f){var g=!e;e||(e={});var h=-1,i=d.length;while(++h<i){var j=d[h],k=f?f(e[j],c[j],j,e,c):void 0;k===void 0&&(k=c[j]);g?b(e,j,k):a(e,j,k)}return e}yh.exports=c}var Ah=!1;function Bh(){Ah||(Ah=!0,zh());return yh.exports}c={};var Ch={exports:c};function Dh(){function a(a,b){var c=-1,d=Array(a);while(++c<a)d[c]=b(c);return d}Ch.exports=a}var Eh=!1;function Fh(){Eh||(Eh=!0,Dh());return Ch.exports}d={};var Gh={exports:d};function Hh(){function a(){return!1}Gh.exports=a}var Ih=!1;function Jh(){Ih||(Ih=!0,Hh());return Gh.exports}var Kh={},Lh={exports:Kh};function Mh(){var a=x(),b=Jh(),c=typeof Kh=="object"&&Kh&&!Kh.nodeType&&Kh,d=c&&typeof Lh=="object"&&Lh&&!Lh.nodeType&&Lh;d=d&&d.exports===c;c=d?a.Buffer:void 0;d=c?c.isBuffer:void 0;a=d||b;Lh.exports=a}var Nh=!1;function Oh(){Nh||(Nh=!0,Mh());return Lh.exports}f={};var Ph={exports:f};function Qh(){var a=ja(),b=fg(),c=na(),d="[object Arguments]",e="[object Array]",f="[object Boolean]",g="[object Date]",h="[object Error]",i="[object Function]",j="[object Map]",k="[object Number]",l="[object Object]",m="[object RegExp]",n="[object Set]",o="[object String]",p="[object WeakMap]",q="[object ArrayBuffer]",r="[object DataView]",s="[object Float32Array]",t="[object Float64Array]",u="[object Int8Array]",v="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",z="[object Uint16Array]",A="[object Uint32Array]",B={};B[s]=B[t]=B[u]=B[v]=B[w]=B[x]=B[y]=B[z]=B[A]=!0;B[d]=B[e]=B[q]=B[f]=B[r]=B[g]=B[h]=B[i]=B[j]=B[k]=B[l]=B[m]=B[n]=B[o]=B[p]=!1;function aa(d){return c(d)&&b(d.length)&&!!B[a(d)]}Ph.exports=aa}var Rh=!1;function Sh(){Rh||(Rh=!0,Qh());return Ph.exports}c={};var Th={exports:c};function Uh(){function a(a){return function(b){return a(b)}}Th.exports=a}var Vh=!1;function Wh(){Vh||(Vh=!0,Uh());return Th.exports}var Xh={},Yh={exports:Xh};function Zh(){var a=t(),b=typeof Xh=="object"&&Xh&&!Xh.nodeType&&Xh,c=b&&typeof Yh=="object"&&Yh&&!Yh.nodeType&&Yh;c=c&&c.exports===b;c&&a.process;b=null;Yh.exports=b}var $h=!1;function ai(){$h||($h=!0,Zh());return Yh.exports}d={};var bi={exports:d};function ci(){var a=Sh(),b=Wh(),c=ai();c=c&&c.isTypedArray;b=c?b(c):a;bi.exports=b}var di=!1;function ei(){di||(di=!0,ci());return bi.exports}f={};var fi={exports:f};function gi(){var a=Fh(),b=Gd(),c=p(),d=Oh(),e=ng(),f=ei(),g=Object.prototype,h=g.hasOwnProperty;function i(g,i){var j=c(g),k=!j&&b(g),l=!j&&!k&&d(g),m=!j&&!k&&!l&&f(g);j=j||k||l||m;k=j?a(g.length,String):[];var n=k.length;for(var o in g)(i||h.call(g,o))&&!(j&&(o=="length"||l&&(o=="offset"||o=="parent")||m&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||e(o,n)))&&k.push(o);return k}fi.exports=i}var hi=!1;function ii(){hi||(hi=!0,gi());return fi.exports}c={};var ji={exports:c};function ki(){var a=Object.prototype;function b(b){var c=b&&b.constructor;c=typeof c=="function"&&c.prototype||a;return b===c}ji.exports=b}var li=!1;function mi(){li||(li=!0,ki());return ji.exports}d={};var ni={exports:d};function oi(){function a(a,b){return function(c){return a(b(c))}}ni.exports=a}var pi=!1;function qi(){pi||(pi=!0,oi());return ni.exports}f={};var ri={exports:f};function si(){var a=qi();a=a(Object.keys,Object);ri.exports=a}var ti=!1;function ui(){ti||(ti=!0,si());return ri.exports}c={};var vi={exports:c};function wi(){var a=mi(),b=ui(),c=Object.prototype,d=c.hasOwnProperty;function e(c){if(!a(c))return b(c);var e=[];for(var f in Object(c))d.call(c,f)&&f!="constructor"&&e.push(f);return e}vi.exports=e}var xi=!1;function yi(){xi||(xi=!0,wi());return vi.exports}d={};var zi={exports:d};function Ai(){var a=ii(),b=yi(),c=jg();function d(d){return c(d)?a(d):b(d)}zi.exports=d}var Bi=!1;function Ci(){Bi||(Bi=!0,Ai());return zi.exports}f={};var Di={exports:f};function Ei(){var a=Bh(),b=Ci();function c(c,d){return c&&a(d,b(d),c)}Di.exports=c}var Fi=!1;function Gi(){Fi||(Fi=!0,Ei());return Di.exports}c={};var Hi={exports:c};function Ii(){function a(a){var b=[];if(a!=null)for(a in Object(a))b.push(a);return b}Hi.exports=a}var Ji=!1;function Ki(){Ji||(Ji=!0,Ii());return Hi.exports}d={};var Li={exports:d};function Mi(){var a=F(),b=mi(),c=Ki(),d=Object.prototype,e=d.hasOwnProperty;function f(d){if(!a(d))return c(d);var f=b(d),g=[];for(var h in d)h=="constructor"&&(f||!e.call(d,h))||g.push(h);return g}Li.exports=f}var Ni=!1;function Oi(){Ni||(Ni=!0,Mi());return Li.exports}f={};var Pi={exports:f};function Qi(){var a=ii(),b=Oi(),c=jg();function d(d){return c(d)?a(d,!0):b(d)}Pi.exports=d}var Ri=!1;function Si(){Ri||(Ri=!0,Qi());return Pi.exports}c={};var Ti={exports:c};function Ui(){var a=Bh(),b=Si();function c(c,d){return c&&a(d,b(d),c)}Ti.exports=c}var Vi=!1;function Wi(){Vi||(Vi=!0,Ui());return Ti.exports}var Xi={},Yi={exports:Xi};function Zi(){var a=x(),b=typeof Xi=="object"&&Xi&&!Xi.nodeType&&Xi,c=b&&typeof Yi=="object"&&Yi&&!Yi.nodeType&&Yi;c=c&&c.exports===b;b=c?a.Buffer:void 0;var d=b?b.allocUnsafe:void 0;function e(a,b){if(b)return a.slice();b=a.length;b=d?d(b):new a.constructor(b);a.copy(b);return b}Yi.exports=e}var $i=!1;function aj(){$i||($i=!0,Zi());return Yi.exports}d={};var bj={exports:d};function cj(){function a(a,b){var c=-1,d=a.length;b||(b=Array(d));while(++c<d)b[c]=a[c];return b}bj.exports=a}var dj=!1;function ej(){dj||(dj=!0,cj());return bj.exports}f={};var fj={exports:f};function gj(){function a(a,b){var c=-1,d=a==null?0:a.length,e=0,f=[];while(++c<d){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}fj.exports=a}var hj=!1;function ij(){hj||(hj=!0,gj());return fj.exports}c={};var jj={exports:c};function kj(){function a(){return[]}jj.exports=a}var lj=!1;function mj(){lj||(lj=!0,kj());return jj.exports}d={};var nj={exports:d};function oj(){var a=ij(),b=mj(),c=Object.prototype,d=c.propertyIsEnumerable,e=Object.getOwnPropertySymbols;c=e?function(b){if(b==null)return[];b=Object(b);return a(e(b),function(a){return d.call(b,a)})}:b;nj.exports=c}var pj=!1;function qj(){pj||(pj=!0,oj());return nj.exports}f={};var rj={exports:f};function sj(){var a=Bh(),b=qj();function c(c,d){return a(c,b(c),d)}rj.exports=c}var tj=!1;function uj(){tj||(tj=!0,sj());return rj.exports}c={};var vj={exports:c};function wj(){var a=qi();a=a(Object.getPrototypeOf,Object);vj.exports=a}var xj=!1;function yj(){xj||(xj=!0,wj());return vj.exports}d={};var zj={exports:d};function Aj(){var a=Ad(),b=yj(),c=qj(),d=mj(),e=Object.getOwnPropertySymbols;e=e?function(d){var e=[];while(d)a(e,c(d)),d=b(d);return e}:d;zj.exports=e}var Bj=!1;function Cj(){Bj||(Bj=!0,Aj());return zj.exports}f={};var Dj={exports:f};function Ej(){var a=Bh(),b=Cj();function c(c,d){return a(c,b(c),d)}Dj.exports=c}var Fj=!1;function Gj(){Fj||(Fj=!0,Ej());return Dj.exports}c={};var Hj={exports:c};function Ij(){var a=Ad(),b=p();function c(c,d,e){d=d(c);return b(c)?d:a(d,e(c))}Hj.exports=c}var Jj=!1;function U(){Jj||(Jj=!0,Ij());return Hj.exports}d={};var Kj={exports:d};function V(){var a=U(),b=qj(),c=Ci();function d(d){return a(d,c,b)}Kj.exports=d}var Lj=!1;function Mj(){Lj||(Lj=!0,V());return Kj.exports}f={};var Nj={exports:f};function Oj(){var a=U(),b=Cj(),c=Si();function d(d){return a(d,c,b)}Nj.exports=d}var Pj=!1;function Qj(){Pj||(Pj=!0,Oj());return Nj.exports}c={};var Rj={exports:c};function Sj(){var a=Za(),b=x();a=a(b,"DataView");Rj.exports=a}var Tj=!1;function Uj(){Tj||(Tj=!0,Sj());return Rj.exports}d={};var Vj={exports:d};function W(){var a=Za(),b=x();a=a(b,"Promise");Vj.exports=a}var X=!1;function Wj(){X||(X=!0,W());return Vj.exports}f={};var Xj={exports:f};function Yj(){var a=Za(),b=x();a=a(b,"Set");Xj.exports=a}var Zj=!1;function $j(){Zj||(Zj=!0,Yj());return Xj.exports}c={};var ak={exports:c};function bk(){var a=Za(),b=x();a=a(b,"WeakMap");ak.exports=a}var ck=!1;function dk(){ck||(ck=!0,bk());return ak.exports}d={};var ek={exports:d};function fk(){var a=Uj(),b=bc(),c=Wj(),d=$j(),e=dk(),f=ja(),g=Na(),h="[object Map]",i="[object Object]",j="[object Promise]",k="[object Set]",l="[object WeakMap]",m="[object DataView]",n=g(a),o=g(b),p=g(c),q=g(d),r=g(e),s=f;(a&&s(new a(new ArrayBuffer(1)))!=m||b&&s(new b)!=h||c&&s(c.resolve())!=j||d&&s(new d)!=k||e&&s(new e)!=l)&&(s=function(a){var b=f(a);a=b==i?a.constructor:void 0;a=a?g(a):"";if(a)switch(a){case n:return m;case o:return h;case p:return j;case q:return k;case r:return l}return b});ek.exports=s}var gk=!1;function hk(){gk||(gk=!0,fk());return ek.exports}f={};var ik={exports:f};function jk(){var a=Object.prototype,b=a.hasOwnProperty;function c(a){var c=a.length,d=new a.constructor(c);c&&typeof a[0]=="string"&&b.call(a,"index")&&(d.index=a.index,d.input=a.input);return d}ik.exports=c}var kk=!1;function lk(){kk||(kk=!0,jk());return ik.exports}c={};var mk={exports:c};function nk(){var a=x();a=a.Uint8Array;mk.exports=a}var ok=!1;function Y(){ok||(ok=!0,nk());return mk.exports}d={};var pk={exports:d};function qk(){var a=Y();function b(b){var c=new b.constructor(b.byteLength);new a(c).set(new a(b));return c}pk.exports=b}var rk=!1;function sk(){rk||(rk=!0,qk());return pk.exports}f={};var Z={exports:f};function tk(){var a=sk();function b(b,c){c=c?a(b.buffer):b.buffer;return new b.constructor(c,b.byteOffset,b.byteLength)}Z.exports=b}var uk=!1;function vk(){uk||(uk=!0,tk());return Z.exports}c={};var wk={exports:c};function xk(){var a=/\w*$/;function b(b){var c=new b.constructor(b.source,a.exec(b));c.lastIndex=b.lastIndex;return c}wk.exports=b}var yk=!1;function zk(){yk||(yk=!0,xk());return wk.exports}d={};var Ak={exports:d};function Bk(){var a=B();a=a?a.prototype:void 0;var b=a?a.valueOf:void 0;function c(a){return b?Object(b.call(a)):{}}Ak.exports=c}var Ck=!1;function Dk(){Ck||(Ck=!0,Bk());return Ak.exports}f={};var Ek={exports:f};function Fk(){var a=sk();function b(b,c){c=c?a(b.buffer):b.buffer;return new b.constructor(c,b.byteOffset,b.length)}Ek.exports=b}var $=!1;function Gk(){$||($=!0,Fk());return Ek.exports}c={};var Hk={exports:c};function Ik(){var a=sk(),b=vk(),c=zk(),d=Dk(),e=Gk(),f="[object Boolean]",g="[object Date]",h="[object Map]",i="[object Number]",j="[object RegExp]",k="[object Set]",l="[object String]",m="[object Symbol]",n="[object ArrayBuffer]",o="[object DataView]",p="[object Float32Array]",q="[object Float64Array]",r="[object Int8Array]",s="[object Int16Array]",t="[object Int32Array]",u="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",x="[object Uint32Array]";function y(y,z,A){var B=y.constructor;switch(z){case n:return a(y);case f:case g:return new B(+y);case o:return b(y,A);case p:case q:case r:case s:case t:case u:case v:case w:case x:return e(y,A);case h:return new B;case i:case l:return new B(y);case j:return c(y);case k:return new B;case m:return d(y)}}Hk.exports=y}var Jk=!1;function Kk(){Jk||(Jk=!0,Ik());return Hk.exports}d={};var Lk={exports:d};function Mk(){var a=F(),b=Object.create,c=function(){function c(){}return function(d){if(!a(d))return{};if(b)return b(d);c.prototype=d;d=new c;c.prototype=void 0;return d}}();Lk.exports=c}var Nk=!1;function Ok(){Nk||(Nk=!0,Mk());return Lk.exports}f={};var Pk={exports:f};function Qk(){var a=Ok(),b=yj(),c=mi();function d(d){return typeof d.constructor=="function"&&!c(d)?a(b(d)):{}}Pk.exports=d}var Rk=!1;function Sk(){Rk||(Rk=!0,Qk());return Pk.exports}c={};var Tk={exports:c};function Uk(){var a=hk(),b=na(),c="[object Map]";function d(d){return b(d)&&a(d)==c}Tk.exports=d}var Vk=!1;function Wk(){Vk||(Vk=!0,Uk());return Tk.exports}d={};var Xk={exports:d};function Yk(){var a=Wk(),b=Wh(),c=ai();c=c&&c.isMap;b=c?b(c):a;Xk.exports=b}var Zk=!1;function $k(){Zk||(Zk=!0,Yk());return Xk.exports}f={};var al={exports:f};function bl(){var a=hk(),b=na(),c="[object Set]";function d(d){return b(d)&&a(d)==c}al.exports=d}var cl=!1;function dl(){cl||(cl=!0,bl());return al.exports}c={};var el={exports:c};function fl(){var a=dl(),b=Wh(),c=ai();c=c&&c.isSet;b=c?b(c):a;el.exports=b}var gl=!1;function hl(){gl||(gl=!0,fl());return el.exports}d={};var il={exports:d};function jl(){var a=lh(),b=ph(),c=xh(),d=Gi(),e=Wi(),f=aj(),g=ej(),h=uj(),i=Gj(),j=Mj(),k=Qj(),l=hk(),m=lk(),n=Kk(),o=Sk(),q=p(),r=Oh(),s=$k(),t=F(),u=hl(),v=Ci(),w=1,x=2,y=4,z="[object Arguments]",A="[object Array]",B="[object Boolean]",aa="[object Date]",ba="[object Error]",ca="[object Function]",da="[object GeneratorFunction]",ea="[object Map]",C="[object Number]",fa="[object Object]",ga="[object RegExp]",ha="[object Set]",ia="[object String]",D="[object Symbol]",ja="[object WeakMap]",ka="[object ArrayBuffer]",la="[object DataView]",ma="[object Float32Array]",na="[object Float64Array]",oa="[object Int8Array]",pa="[object Int16Array]",qa="[object Int32Array]",ra="[object Uint8Array]",sa="[object Uint8ClampedArray]",ta="[object Uint16Array]",ua="[object Uint32Array]",E={};E[z]=E[A]=E[ka]=E[la]=E[B]=E[aa]=E[ma]=E[na]=E[oa]=E[pa]=E[qa]=E[ea]=E[C]=E[fa]=E[ga]=E[ha]=E[ia]=E[D]=E[ra]=E[sa]=E[ta]=E[ua]=!0;E[ba]=E[ca]=E[ja]=!1;function va(p,A,B,aa,ba,ea){var C,ga=A&w,ha=A&x,ia=A&y;B&&(C=ba?B(p,aa,ba,ea):B(p));if(C!==void 0)return C;if(!t(p))return p;aa=q(p);if(aa){C=m(p);if(!ga)return g(p,C)}else{var D=l(p),ja=D==ca||D==da;if(r(p))return f(p,ga);if(D==fa||D==z||ja&&!ba){C=ha||ja?{}:o(p);if(!ga)return ha?i(p,e(C,p)):h(p,d(C,p))}else{if(!E[D])return ba?p:{};C=n(p,D,ga)}}ea||(ea=new a);ja=ea.get(p);if(ja)return ja;ea.set(p,C);u(p)?p.forEach(function(a){C.add(va(a,A,B,a,p,ea))}):s(p)&&p.forEach(function(b,a){C.set(a,va(b,A,B,a,p,ea))});ba=ia?ha?k:j:ha?keysIn:v;var ka=aa?void 0:ba(p);b(ka||p,function(b,a){ka&&(a=b,b=p[a]),c(C,a,va(b,A,B,a,p,ea))});return C}il.exports=va}var kl=!1;function ll(){kl||(kl=!0,jl());return il.exports}f={};var ml={exports:f};function nl(){var a=ll(),b=4;function c(c){return a(c,b)}ml.exports=c}var ol=!1;function pl(){ol||(ol=!0,nl());return ml.exports}c={};var ql={exports:c};function rl(){var a=ll(),b=1,c=4;function d(d){return a(d,b|c)}ql.exports=d}var sl=!1;function tl(){sl||(sl=!0,rl());return ql.exports}d={};var ul={exports:d};function vl(){var a=x(),b=function(){return a.Date.now()};ul.exports=b}var wl=!1;function xl(){wl||(wl=!0,vl());return ul.exports}f={};var yl={exports:f};function zl(){var a=F(),b=xl(),c=vg(),d="Expected a function",e=Math.max,f=Math.min;function g(g,h,i){var j,k,l,m,n,o,p=0,q=!1,r=!1,s=!0;if(typeof g!="function")throw new TypeError(d);h=c(h)||0;a(i)&&(q=!!i.leading,r="maxWait"in i,l=r?e(c(i.maxWait)||0,h):l,s="trailing"in i?!!i.trailing:s);function t(a){var b=j,c=k;j=k=void 0;p=a;m=g.apply(c,b);return m}function u(a){p=a;n=setTimeout(x,h);return q?t(a):m}function v(a){var b=a-o;a=a-p;b=h-b;return r?f(b,l-a):b}function w(a){var b=a-o;a=a-p;return o===void 0||b>=h||b<0||r&&a>=l}function x(){var a=b();if(w(a))return y(a);n=setTimeout(x,v(a))}function y(a){n=void 0;if(s&&j)return t(a);j=k=void 0;return m}function z(){n!==void 0&&clearTimeout(n),p=0,j=o=k=n=void 0}function A(){return n===void 0?m:y(b())}function B(){var a=b(),c=w(a);j=arguments;k=this;o=a;if(c){if(n===void 0)return u(o);if(r){clearTimeout(n);n=setTimeout(x,h);return t(o)}}n===void 0&&(n=setTimeout(x,h));return m}B.cancel=z;B.flush=A;return B}yl.exports=g}var Al=!1;function Bl(){Al||(Al=!0,zl());return yl.exports}c={};var Cl={exports:c};function Dl(){var a=le(),b=$d(),c=xe();function d(d,e){return c(b(d,e,a),d+"")}Cl.exports=d}var El=!1;function Fl(){El||(El=!0,Dl());return Cl.exports}d={};var Gl={exports:d};function Hl(){var a=Fl(),b=Eb(),c=rg(),d=Si(),e=Object.prototype,f=e.hasOwnProperty;a=a(function(a,g){a=Object(a);var h=-1,i=g.length,j=i>2?g[2]:void 0;j&&c(g[0],g[1],j)&&(i=1);while(++h<i){j=g[h];var k=d(j),l=-1,m=k.length;while(++l<m){var n=k[l],o=a[n];(o===void 0||b(o,e[n])&&!f.call(a,n))&&(a[n]=j[n])}}return a});Gl.exports=a}var Il=!1;function Jl(){Il||(Il=!0,Hl());return Gl.exports}f={};var Kl={exports:f};function Ll(){var a="__lodash_hash_undefined__";function b(b){this.__data__.set(b,a);return this}Kl.exports=b}var Ml=!1;function Nl(){Ml||(Ml=!0,Ll());return Kl.exports}c={};var Ol={exports:c};function Pl(){function a(a){return this.__data__.has(a)}Ol.exports=a}var Ql=!1;function Rl(){Ql||(Ql=!0,Pl());return Ol.exports}d={};var Sl={exports:d};function Tl(){var a=Gc(),b=Nl(),c=Rl();function d(b){var c=-1,d=b==null?0:b.length;this.__data__=new a;while(++c<d)this.add(b[c])}d.prototype.add=d.prototype.push=b;d.prototype.has=c;Sl.exports=d}var Ul=!1;function Vl(){Ul||(Ul=!0,Tl());return Sl.exports}f={};var Wl={exports:f};function Xl(){function a(a,b,c,d){var e=a.length;c=c+(d?1:-1);while(d?c--:++c<e)if(b(a[c],c,a))return c;return-1}Wl.exports=a}var Yl=!1;function Zl(){Yl||(Yl=!0,Xl());return Wl.exports}c={};var $l={exports:c};function am(){function a(a){return a!==a}$l.exports=a}var bm=!1;function cm(){bm||(bm=!0,am());return $l.exports}d={};var dm={exports:d};function em(){function a(a,b,c){c=c-1;var d=a.length;while(++c<d)if(a[c]===b)return c;return-1}dm.exports=a}var fm=!1;function gm(){fm||(fm=!0,em());return dm.exports}f={};var hm={exports:f};function im(){var a=Zl(),b=cm(),c=gm();function d(d,e,f){return e===e?c(d,e,f):a(d,b,f)}hm.exports=d}var jm=!1;function km(){jm||(jm=!0,im());return hm.exports}c={};var lm={exports:c};function mm(){var a=km();function b(b,c){var d=b==null?0:b.length;return!!d&&a(b,c,0)>-1}lm.exports=b}var nm=!1;function om(){nm||(nm=!0,mm());return lm.exports}d={};var pm={exports:d};function qm(){function a(a,b,c){var d=-1,e=a==null?0:a.length;while(++d<e)if(c(b,a[d]))return!0;return!1}pm.exports=a}var rm=!1;function sm(){rm||(rm=!0,qm());return pm.exports}f={};var tm={exports:f};function um(){function a(a,b){return a.has(b)}tm.exports=a}var vm=!1;function wm(){vm||(vm=!0,um());return tm.exports}c={};var xm={exports:c};function ym(){var a=Vl(),b=om(),c=sm(),d=Wc(),e=Wh(),f=wm(),g=200;function h(h,i,j,k){var l=-1,m=b,n=!0,o=h.length,p=[],q=i.length;if(!o)return p;j&&(i=d(i,e(j)));k?(m=c,n=!1):i.length>=g&&(m=f,n=!1,i=new a(i));outer:while(++l<o){var r=h[l],s=j==null?r:j(r);r=k||r!==0?r:0;if(n&&s===s){var t=q;while(t--)if(i[t]===s)continue outer;p.push(r)}else m(i,s,k)||p.push(r)}return p}xm.exports=h}var zm=!1;function Am(){zm||(zm=!0,ym());return xm.exports}d={};var Bm={exports:d};function Cm(){var a=jg(),b=na();function c(c){return b(c)&&a(c)}Bm.exports=c}var Dm=!1;function Em(){Dm||(Dm=!0,Cm());return Bm.exports}f={};var Fm={exports:f};function Gm(){var a=Am(),b=Od(),c=Fl(),d=Em();c=c(function(c,e){return d(c)?a(c,b(e,1,d,!0)):[]});Fm.exports=c}var Hm=!1;function Im(){Hm||(Hm=!0,Gm());return Fm.exports}c={};var Jm={exports:c};function Km(){function a(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);var g=d.length;while(g--){var h=d[a?g:++e];if(c(f[h],h,f)===!1)break}return b}}Jm.exports=a}var Lm=!1;function Mm(){Lm||(Lm=!0,Km());return Jm.exports}d={};var Nm={exports:d};function Om(){var a=Mm();a=a();Nm.exports=a}var Pm=!1;function Qm(){Pm||(Pm=!0,Om());return Nm.exports}f={};var Rm={exports:f};function Sm(){var a=Qm(),b=Ci();function c(c,d){return c&&a(c,d,b)}Rm.exports=c}var Tm=!1;function Um(){Tm||(Tm=!0,Sm());return Rm.exports}c={};var Vm={exports:c};function Wm(){var a=jg();function b(b,c){return function(d,e){if(d==null)return d;if(!a(d))return b(d,e);var f=d.length,g=c?f:-1,h=Object(d);while(c?g--:++g<f)if(e(h[g],g,h)===!1)break;return d}}Vm.exports=b}var Xm=!1;function Ym(){Xm||(Xm=!0,Wm());return Vm.exports}d={};var Zm={exports:d};function $m(){var a=Um(),b=Ym();b=b(a);Zm.exports=b}var an=!1;function bn(){an||(an=!0,$m());return Zm.exports}f={};var cn={exports:f};function dn(){var a=le();function b(b){return typeof b=="function"?b:a}cn.exports=b}var en=!1;function fn(){en||(en=!0,dn());return cn.exports}c={};var gn={exports:c};function hn(){var a=ph(),b=bn(),c=fn(),d=p();function e(e,f){var g=d(e)?a:b;return g(e,c(f))}gn.exports=e}var jn=!1;function kn(){jn||(jn=!0,hn());return gn.exports}d={};var ln={exports:d};function mn(){ln.exports=kn()}var nn=!1;function on(){nn||(nn=!0,mn());return ln.exports}f={};var pn={exports:f};function qn(){function a(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(!b(a[c],c,a))return!1;return!0}pn.exports=a}var rn=!1;function sn(){rn||(rn=!0,qn());return pn.exports}c={};var tn={exports:c};function un(){var a=bn();function b(b,c){var d=!0;a(b,function(b,e,a){d=!!c(b,e,a);return d});return d}tn.exports=b}var vn=!1;function wn(){vn||(vn=!0,un());return tn.exports}d={};var xn={exports:d};function yn(){function a(a,b){var c=-1,d=a==null?0:a.length;while(++c<d)if(b(a[c],c,a))return!0;return!1}xn.exports=a}var zn=!1;function An(){zn||(zn=!0,yn());return xn.exports}f={};var Bn={exports:f};function Cn(){var a=Vl(),b=An(),c=wm(),d=1,e=2;function f(f,g,h,i,j,k){var l=h&d,m=f.length,n=g.length;if(m!=n&&!(l&&n>m))return!1;n=k.get(f);if(n&&k.get(g))return n==g;n=-1;var o=!0,p=h&e?new a:void 0;k.set(f,g);k.set(g,f);while(++n<m){var q=f[n],r=g[n];if(i)var s=l?i(r,q,n,g,f,k):i(q,r,n,f,g,k);if(s!==void 0){if(s)continue;o=!1;break}if(p){if(!b(g,function(a,b){if(!c(p,b)&&(q===a||j(q,a,h,i,k)))return p.push(b)})){o=!1;break}}else if(!(q===r||j(q,r,h,i,k))){o=!1;break}}k["delete"](f);k["delete"](g);return o}Bn.exports=f}var Dn=!1;function En(){Dn||(Dn=!0,Cn());return Bn.exports}c={};var Fn={exports:c};function Gn(){function a(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}Fn.exports=a}var Hn=!1;function In(){Hn||(Hn=!0,Gn());return Fn.exports}d={};var Jn={exports:d};function Kn(){function a(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}Jn.exports=a}var Ln=!1;function Mn(){Ln||(Ln=!0,Kn());return Jn.exports}f={};var Nn={exports:f};function On(){var a=B(),b=Y(),c=Eb(),d=En(),e=In(),f=Mn(),g=1,h=2,i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Map]",m="[object Number]",n="[object RegExp]",o="[object Set]",p="[object String]",q="[object Symbol]",r="[object ArrayBuffer]",s="[object DataView]";a=a?a.prototype:void 0;var t=a?a.valueOf:void 0;function u(a,u,v,w,x,y,z){switch(v){case s:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer;u=u.buffer;case r:return a.byteLength!=u.byteLength||!y(new b(a),new b(u))?!1:!0;case i:case j:case m:return c(+a,+u);case k:return a.name==u.name&&a.message==u.message;case n:case p:return a==u+"";case l:var A=e;case o:v=w&g;A||(A=f);if(a.size!=u.size&&!v)return!1;v=z.get(a);if(v)return v==u;w|=h;z.set(a,u);v=d(A(a),A(u),w,x,y,z);z["delete"](a);return v;case q:if(t)return t.call(a)==t.call(u)}return!1}Nn.exports=u}var Pn=!1;function Qn(){Pn||(Pn=!0,On());return Nn.exports}c={};var Rn={exports:c};function Sn(){var a=Mj(),b=1,c=Object.prototype,d=c.hasOwnProperty;function e(c,e,f,g,h,i){var j=f&b,k=a(c),l=k.length,m=a(e);m=m.length;if(l!=m&&!j)return!1;m=l;while(m--){var n=k[m];if(!(j?n in e:d.call(e,n)))return!1}var o=i.get(c);if(o&&i.get(e))return o==e;o=!0;i.set(c,e);i.set(e,c);var p=j;while(++m<l){n=k[m];var q=c[n],r=e[n];if(g)var s=j?g(r,q,n,e,c,i):g(q,r,n,c,e,i);if(!(s===void 0?q===r||h(q,r,f,g,i):s)){o=!1;break}p||(p=n=="constructor")}if(o&&!p){q=c.constructor;r=e.constructor;q!=r&&"constructor"in c&&"constructor"in e&&!(typeof q=="function"&&q instanceof q&&typeof r=="function"&&r instanceof r)&&(o=!1)}i["delete"](c);i["delete"](e);return o}Rn.exports=e}var Tn=!1;function Un(){Tn||(Tn=!0,Sn());return Rn.exports}d={};var Vn={exports:d};function Wn(){var a=lh(),b=En(),c=Qn(),d=Un(),e=hk(),f=p(),g=Oh(),h=ei(),i=1,j="[object Arguments]",k="[object Array]",l="[object Object]",m=Object.prototype,n=m.hasOwnProperty;function o(m,o,p,q,r,s){var t=f(m),u=f(o),v=t?k:e(m);u=u?k:e(o);v=v==j?l:v;u=u==j?l:u;var w=v==l,x=u==l;u=v==u;if(u&&g(m)){if(!g(o))return!1;t=!0;w=!1}if(u&&!w){s||(s=new a);return t||h(m)?b(m,o,p,q,r,s):c(m,o,v,p,q,r,s)}if(!(p&i)){t=w&&n.call(m,"__wrapped__");v=x&&n.call(o,"__wrapped__");if(t||v){w=t?m.value():m;x=v?o.value():o;s||(s=new a);return r(w,x,p,q,s)}}if(!u)return!1;s||(s=new a);return d(m,o,p,q,r,s)}Vn.exports=o}var Xn=!1;function Yn(){Xn||(Xn=!0,Wn());return Vn.exports}f={};var Zn={exports:f};function $n(){var a=Yn(),b=na();function c(d,e,f,g,h){if(d===e)return!0;return d==null||e==null||!b(d)&&!b(e)?d!==d&&e!==e:a(d,e,f,g,c,h)}Zn.exports=c}var ao=!1;function bo(){ao||(ao=!0,$n());return Zn.exports}c={};var co={exports:c};function eo(){var a=lh(),b=bo(),c=1,d=2;function e(e,f,g,h){var i=g.length,j=i,k=!h;if(e==null)return!j;e=Object(e);while(i--){var l=g[i];if(k&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}while(++i<j){l=g[i];var m=l[0],n=e[m],o=l[1];if(k&&l[2]){if(n===void 0&&!(m in e))return!1}else{l=new a;if(h)var p=h(n,o,m,e,f,l);if(!(p===void 0?b(o,n,c|d,h,l):p))return!1}}return!0}co.exports=e}var fo=!1;function go(){fo||(fo=!0,eo());return co.exports}d={};var ho={exports:d};function io(){var a=F();function b(b){return b===b&&!a(b)}ho.exports=b}var jo=!1;function ko(){jo||(jo=!0,io());return ho.exports}f={};var lo={exports:f};function mo(){var a=ko(),b=Ci();function c(c){var d=b(c),e=d.length;while(e--){var f=d[e],g=c[f];d[e]=[f,g,a(g)]}return d}lo.exports=c}var no=!1;function oo(){no||(no=!0,mo());return lo.exports}c={};var po={exports:c};function qo(){function a(a,b){return function(c){return c==null?!1:c[a]===b&&(b!==void 0||a in Object(c))}}po.exports=a}var ro=!1;function so(){ro||(ro=!0,qo());return po.exports}d={};var to={exports:d};function uo(){var a=go(),b=oo(),c=so();function d(d){var e=b(d);return e.length==1&&e[0][2]?c(e[0][0],e[0][1]):function(b){return b===d||a(b,d,e)}}to.exports=d}var vo=!1;function wo(){vo||(vo=!0,uo());return to.exports}f={};var xo={exports:f};function yo(){function a(a,b){return a!=null&&b in Object(a)}xo.exports=a}var zo=!1;function Ao(){zo||(zo=!0,yo());return xo.exports}c={};var Bo={exports:c};function Co(){var a=hd(),b=Gd(),c=p(),d=ng(),e=fg(),f=P();function g(g,h,i){h=a(h,g);var j=-1,k=h.length,l=!1;while(++j<k){var m=f(h[j]);if(!(l=g!=null&&i(g,m)))break;g=g[m]}if(l||++j!=k)return l;k=g==null?0:g.length;return!!k&&e(k)&&d(m,k)&&(c(g)||b(g))}Bo.exports=g}var Do=!1;function Eo(){Do||(Do=!0,Co());return Bo.exports}d={};var Fo={exports:d};function Go(){var a=Ao(),b=Eo();function c(c,d){return c!=null&&b(c,d,a)}Fo.exports=c}var Ho=!1;function Io(){Ho||(Ho=!0,Go());return Fo.exports}f={};var Jo={exports:f};function Ko(){var a=bo(),b=sd(),c=Io(),d=E(),e=ko(),f=so(),g=P(),h=1,i=2;function j(j,k){return d(j)&&e(k)?f(g(j),k):function(d){var e=b(d,j);return e===void 0&&e===k?c(d,j):a(k,e,h|i)}}Jo.exports=j}var Lo=!1;function Mo(){Lo||(Lo=!0,Ko());return Jo.exports}c={};var No={exports:c};function Oo(){function a(a){return function(b){return b==null?void 0:b[a]}}No.exports=a}var Po=!1;function Qo(){Po||(Po=!0,Oo());return No.exports}d={};var Ro={exports:d};function So(){var a=od();function b(b){return function(c){return a(c,b)}}Ro.exports=b}var To=!1;function Uo(){To||(To=!0,So());return Ro.exports}f={};var Vo={exports:f};function Wo(){var a=Qo(),b=Uo(),c=E(),d=P();function e(e){return c(e)?a(d(e)):b(e)}Vo.exports=e}var Xo=!1;function Yo(){Xo||(Xo=!0,Wo());return Vo.exports}c={};var Zo={exports:c};function $o(){var a=wo(),b=Mo(),c=le(),d=p(),e=Yo();function f(f){if(typeof f=="function")return f;if(f==null)return c;return typeof f=="object"?d(f)?b(f[0],f[1]):a(f):e(f)}Zo.exports=f}var ap=!1;function bp(){ap||(ap=!0,$o());return Zo.exports}d={};var cp={exports:d};function dp(){var a=sn(),b=wn(),c=bp(),d=p(),e=rg();function f(f,g,h){var i=d(f)?a:b;h&&e(f,g,h)&&(g=void 0);return i(f,c(g,3))}cp.exports=f}var ep=!1;function fp(){ep||(ep=!0,dp());return cp.exports}f={};var gp={exports:f};function hp(){var a=bn();function b(b,c){var d=[];a(b,function(b,e,a){c(b,e,a)&&d.push(b)});return d}gp.exports=b}var ip=!1;function jp(){ip||(ip=!0,hp());return gp.exports}c={};var kp={exports:c};function lp(){var a=ij(),b=jp(),c=bp(),d=p();function e(e,f){var g=d(e)?a:b;return g(e,c(f,3))}kp.exports=e}var mp=!1;function np(){mp||(mp=!0,lp());return kp.exports}d={};var op={exports:d};function pp(){var a=bp(),b=jg(),c=Ci();function d(d){return function(e,f,g){var h=Object(e);if(!b(e)){var i=a(f,3);e=c(e);f=function(a){return i(h[a],a,h)}}f=d(e,f,g);return f>-1?h[i?e[f]:f]:void 0}}op.exports=d}var qp=!1;function rp(){qp||(qp=!0,pp());return op.exports}f={};var sp={exports:f};function tp(){var a=Zl(),b=bp(),c=Dg(),d=Math.max;function e(e,f,g){var h=e==null?0:e.length;if(!h)return-1;g=g==null?0:c(g);g<0&&(g=d(h+g,0));return a(e,b(f,3),g)}sp.exports=e}var up=!1;function vp(){up||(up=!0,tp());return sp.exports}c={};var wp={exports:c};function xp(){var a=rp(),b=vp();a=a(b);wp.exports=a}var yp=!1;function zp(){yp||(yp=!0,xp());return wp.exports}d={};var Ap={exports:d};function Bp(){var a=bn(),b=jg();function c(c,d){var e=-1,f=b(c)?Array(c.length):[];a(c,function(b,c,a){f[++e]=d(b,c,a)});return f}Ap.exports=c}var Cp=!1;function Dp(){Cp||(Cp=!0,Bp());return Ap.exports}f={};var Ep={exports:f};function Fp(){var a=Wc(),b=bp(),c=Dp(),d=p();function e(e,f){var g=d(e)?a:c;return g(e,b(f,3))}Ep.exports=e}var Gp=!1;function Hp(){Gp||(Gp=!0,Fp());return Ep.exports}c={};var Ip={exports:c};function Jp(){var a=Od(),b=Hp();function c(c,d){return a(b(c,d),1)}Ip.exports=c}var Kp=!1;function Lp(){Kp||(Kp=!0,Jp());return Ip.exports}d={};var Mp={exports:d};function Np(){var a=Qm(),b=fn(),c=Si();function d(d,e){return d==null?d:a(d,b(e),c)}Mp.exports=d}var Op=!1;function Pp(){Op||(Op=!0,Np());return Mp.exports}f={};var Qp={exports:f};function Rp(){var a=Object.prototype,b=a.hasOwnProperty;function c(a,c){return a!=null&&b.call(a,c)}Qp.exports=c}var Sp=!1;function Tp(){Sp||(Sp=!0,Rp());return Qp.exports}c={};var Up={exports:c};function Vp(){var a=Tp(),b=Eo();function c(c,d){return c!=null&&b(c,d,a)}Up.exports=c}var Wp=!1;function Xp(){Wp||(Wp=!0,Vp());return Up.exports}d={};var Yp={exports:d};function Zp(){var a=Math.max,b=Math.min;function c(c,d,e){return c>=b(d,e)&&c<a(d,e)}Yp.exports=c}var $p=!1;function aq(){$p||($p=!0,Zp());return Yp.exports}f={};var bq={exports:f};function cq(){var a=aq(),b=zg(),c=vg();function d(d,e,f){e=b(e);f===void 0?(f=e,e=0):f=b(f);d=c(d);return a(d,e,f)}bq.exports=d}var dq=!1;function eq(){dq||(dq=!0,cq());return bq.exports}c={};var fq={exports:c};function gq(){var a=Vl(),b=om(),c=sm(),d=Wc(),e=Wh(),f=wm(),g=Math.min;function h(h,i,j){var k=j?c:b,l=h[0].length,m=h.length,n=m,o=Array(m),p=Infinity,q=[];while(n--){var r=h[n];n&&i&&(r=d(r,e(i)));p=g(r.length,p);o[n]=!j&&(i||l>=120&&r.length>=120)?new a(n&&r):void 0}r=h[0];var s=-1,t=o[0];outer:while(++s<l&&q.length<p){var u=r[s],v=i?i(u):u;u=j||u!==0?u:0;if(!(t?f(t,v):k(q,v,j))){n=m;while(--n){var w=o[n];if(!(w?f(w,v):k(h[n],v,j)))continue outer}t&&t.push(v);q.push(u)}}return q}fq.exports=h}var hq=!1;function iq(){hq||(hq=!0,gq());return fq.exports}d={};var jq={exports:d};function kq(){var a=Em();function b(b){return a(b)?b:[]}jq.exports=b}var lq=!1;function mq(){lq||(lq=!0,kq());return jq.exports}f={};var nq={exports:f};function oq(){var a=Wc(),b=iq(),c=Fl(),d=mq();c=c(function(c){var e=a(c,d);return e.length&&e[0]===c[0]?b(e):[]});nq.exports=c}var pq=!1;function qq(){pq||(pq=!0,oq());return nq.exports}c={};var rq={exports:c};function sq(){var a=yi(),b=hk(),c=Gd(),d=p(),e=jg(),f=Oh(),g=mi(),h=ei(),i="[object Map]",j="[object Set]",k=Object.prototype,l=k.hasOwnProperty;function m(k){if(k==null)return!0;if(e(k)&&(d(k)||typeof k=="string"||typeof k.splice=="function"||f(k)||h(k)||c(k)))return!k.length;var m=b(k);if(m==i||m==j)return!k.size;if(g(k))return!a(k).length;for(m in k)if(l.call(k,m))return!1;return!0}rq.exports=m}var tq=!1;function uq(){tq||(tq=!0,sq());return rq.exports}d={};var vq={exports:d};function wq(){var a=bo();function b(b,c){return a(b,c)}vq.exports=b}var xq=!1;function yq(){xq||(xq=!0,wq());return vq.exports}f={};var zq={exports:f};function Aq(){var a=ja(),b=na(),c="[object Number]";function d(d){return typeof d=="number"||b(d)&&a(d)==c}zq.exports=d}var Bq=!1;function Cq(){Bq||(Bq=!0,Aq());return zq.exports}c={};var Dq={exports:c};function Eq(){var a=Cq();function b(b){return a(b)&&b!=+b}Dq.exports=b}var Fq=!1;function Gq(){Fq||(Fq=!0,Eq());return Dq.exports}d={};var Hq={exports:d};function Iq(){function a(a){return a==null}Hq.exports=a}var Jq=!1;function Kq(){Jq||(Jq=!0,Iq());return Hq.exports}f={};var Lq={exports:f};function Mq(){var a=ja(),b=yj(),c=na(),d="[object Object]",e=Function.prototype,f=Object.prototype,g=e.toString,h=f.hasOwnProperty,i=g.call(Object);function j(e){if(!c(e)||a(e)!=d)return!1;e=b(e);if(e===null)return!0;e=h.call(e,"constructor")&&e.constructor;return typeof e=="function"&&e instanceof e&&g.call(e)==i}Lq.exports=j}var Nq=!1;function Oq(){Nq||(Nq=!0,Mq());return Lq.exports}c={};var Pq={exports:c};function Qq(){var a=ja(),b=p(),c=na(),d="[object String]";function e(e){return typeof e=="string"||!b(e)&&c(e)&&a(e)==d}Pq.exports=e}var Rq=!1;function Sq(){Rq||(Rq=!0,Qq());return Pq.exports}d={};var Tq={exports:d};function Uq(){function a(a){return a===void 0}Tq.exports=a}var Vq=!1;function Wq(){Vq||(Vq=!0,Uq());return Tq.exports}f={};var Xq={exports:f};function Yq(){function a(a){var b=a==null?0:a.length;return b?a[b-1]:void 0}Xq.exports=a}var Zq=!1;function $q(){Zq||(Zq=!0,Yq());return Xq.exports}c={};var ar={exports:c};function br(){var a=th(),b=Um(),c=bp();function d(d,e){var f={};e=c(e,3);b(d,function(c,d,b){a(f,e(c,d,b),c)});return f}ar.exports=d}var cr=!1;function dr(){cr||(cr=!0,br());return ar.exports}d={};var er={exports:d};function fr(){var a=th(),b=Um(),c=bp();function d(d,e){var f={};e=c(e,3);b(d,function(c,d,b){a(f,d,e(c,d,b))});return f}er.exports=d}var gr=!1;function hr(){gr||(gr=!0,fr());return er.exports}f={};var ir={exports:f};function jr(){var a=ra();function b(b,c,d){var e=-1,f=b.length;while(++e<f){var g=b[e],h=c(g);if(h!=null&&(i===void 0?h===h&&!a(h):d(h,i)))var i=h,j=g}return j}ir.exports=b}var kr=!1;function lr(){kr||(kr=!0,jr());return ir.exports}c={};var mr={exports:c};function nr(){function a(a,b){return a>b}mr.exports=a}var or=!1;function pr(){or||(or=!0,nr());return mr.exports}d={};var qr={exports:d};function rr(){var a=lr(),b=pr(),c=le();function d(d){return d&&d.length?a(d,c,b):void 0}qr.exports=d}var sr=!1;function tr(){sr||(sr=!0,rr());return qr.exports}f={};var ur={exports:f};function vr(){var a=lr(),b=pr(),c=bp();function d(d,e){return d&&d.length?a(d,c(e,2),b):void 0}ur.exports=d}var wr=!1;function xr(){wr||(wr=!0,vr());return ur.exports}c={};var yr={exports:c};function zr(){var a=th(),b=Eb();function c(c,d,e){(e!==void 0&&!b(c[d],e)||e===void 0&&!(d in c))&&a(c,d,e)}yr.exports=c}var Ar=!1;function Br(){Ar||(Ar=!0,zr());return yr.exports}d={};var Cr={exports:d};function Dr(){function a(a,b){if(b==="constructor"&&typeof a[b]==="function")return;if(b=="__proto__")return;return a[b]}Cr.exports=a}var Er=!1;function Fr(){Er||(Er=!0,Dr());return Cr.exports}f={};var Gr={exports:f};function Hr(){var a=Bh(),b=Si();function c(c){return a(c,b(c))}Gr.exports=c}var Ir=!1;function Jr(){Ir||(Ir=!0,Hr());return Gr.exports}c={};var Kr={exports:c};function Lr(){var a=Br(),b=aj(),c=Gk(),d=ej(),e=Sk(),f=Gd(),g=p(),h=Em(),i=Oh(),j=Ba(),k=F(),l=Oq(),m=ei(),n=Fr(),o=Jr();function q(p,q,r,s,t,u,v){var w=n(p,r),x=n(q,r),y=v.get(x);if(y){a(p,r,y);return}y=u?u(w,x,r+"",p,q,v):void 0;q=y===void 0;if(q){var z=g(x),A=!z&&i(x),B=!z&&!A&&m(x);y=x;z||A||B?g(w)?y=w:h(w)?y=d(w):A?(q=!1,y=b(x,!0)):B?(q=!1,y=c(x,!0)):y=[]:l(x)||f(x)?(y=w,f(w)?y=o(w):(!k(w)||j(w))&&(y=e(x))):q=!1}q&&(v.set(x,y),t(y,x,s,u,v),v["delete"](x));a(p,r,y)}Kr.exports=q}var Mr=!1;function Nr(){Mr||(Mr=!0,Lr());return Kr.exports}d={};var Or={exports:d};function Pr(){var a=lh(),b=Br(),c=Qm(),d=Nr(),e=F(),f=Si(),g=Fr();function h(i,j,k,l,m){if(i===j)return;c(j,function(c,f){m||(m=new a);if(e(c))d(i,j,f,k,h,l,m);else{var n=l?l(g(i,f),c,f+"",i,j,m):void 0;n===void 0&&(n=c);b(i,f,n)}},f)}Or.exports=h}var Qr=!1;function Rr(){Qr||(Qr=!0,Pr());return Or.exports}f={};var Sr={exports:f};function Tr(){var a=Fl(),b=rg();function c(c){return a(function(a,d){var e=-1,f=d.length,g=f>1?d[f-1]:void 0,h=f>2?d[2]:void 0;g=c.length>3&&typeof g=="function"?(f--,g):void 0;h&&b(d[0],d[1],h)&&(g=f<3?void 0:g,f=1);a=Object(a);while(++e<f){h=d[e];h&&c(a,h,e,g)}return a})}Sr.exports=c}var Ur=!1;function Vr(){Ur||(Ur=!0,Tr());return Sr.exports}c={};var Wr={exports:c};function Xr(){var a=Rr(),b=Vr();b=b(function(b,c,d){a(b,c,d)});Wr.exports=b}var Yr=!1;function Zr(){Yr||(Yr=!0,Xr());return Wr.exports}d={};var $r={exports:d};function as(){function a(a,b){return a<b}$r.exports=a}var bs=!1;function cs(){bs||(bs=!0,as());return $r.exports}f={};var ds={exports:f};function es(){var a=lr(),b=cs(),c=le();function d(d){return d&&d.length?a(d,c,b):void 0}ds.exports=d}var fs=!1;function gs(){fs||(fs=!0,es());return ds.exports}c={};var hs={exports:c};function is(){var a=lr(),b=bp(),c=cs();function d(d,e){return d&&d.length?a(d,b(e,2),c):void 0}hs.exports=d}var js=!1;function ks(){js||(js=!0,is());return hs.exports}d={};var ls={exports:d};function ms(){var a=od(),b=Je();function c(c,d){return d.length<2?c:a(c,b(d,0,-1))}ls.exports=c}var ns=!1;function os(){ns||(ns=!0,ms());return ls.exports}f={};var ps={exports:f};function qs(){var a=hd(),b=$q(),c=os(),d=P();function e(e,f){f=a(f,e);e=c(e,f);return e==null||delete e[d(b(f))]}ps.exports=e}var rs=!1;function ss(){rs||(rs=!0,qs());return ps.exports}c={};var ts={exports:c};function us(){var a=Oq();function b(b){return a(b)?void 0:b}ts.exports=b}var vs=!1;function ws(){vs||(vs=!0,us());return ts.exports}d={};var xs={exports:d};function ys(){var a=Wc(),b=ll(),c=ss(),d=hd(),e=Bh(),f=ws(),g=Be(),h=Qj(),i=1,j=2,k=4;g=g(function(g,l){var m={};if(g==null)return m;var n=!1;l=a(l,function(a){a=d(a,g);n||(n=a.length>1);return a});e(g,h(g),m);n&&(m=b(m,i|j|k,f));var o=l.length;while(o--)c(m,l[o]);return m});xs.exports=g}var zs=!1;function As(){zs||(zs=!0,ys());return xs.exports}f={};var Bs={exports:f};function Cs(){var a=Dg(),b="Expected a function";function c(c,d){var e;if(typeof d!="function")throw new TypeError(b);c=a(c);return function(){--c>0&&(e=d.apply(this,arguments));c<=1&&(d=void 0);return e}}Bs.exports=c}var Ds=!1;function Es(){Ds||(Ds=!0,Cs());return Bs.exports}c={};var Fs={exports:c};function Gs(){var a=Es();function b(b){return a(2,b)}Fs.exports=b}var Hs=!1;function Is(){Hs||(Hs=!0,Gs());return Fs.exports}d={};var Js={exports:d};function Ks(){var a=9007199254740991,b=Math.floor;function c(c,d){var e="";if(!c||d<1||d>a)return e;do d%2&&(e+=c),d=b(d/2),d&&(c+=c);while(d);return e}Js.exports=c}var Ls=!1;function Ms(){Ls||(Ls=!0,Ks());return Js.exports}f={};var Ns={exports:f};function Os(){var a=Qo();a=a("length");Ns.exports=a}var Ps=!1;function Qs(){Ps||(Ps=!0,Os());return Ns.exports}c={};var Rs={exports:c};function Ss(){var a="\\ud800-\\udfff",b="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff";b=b+c+d;c="\\ufe0e\\ufe0f";d="["+a+"]";b="["+b+"]";var e="\\ud83c[\\udffb-\\udfff]",f="(?:"+b+"|"+e+")";a="[^"+a+"]";var g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",i="\\u200d";f=f+"?";c="["+c+"]?";i="(?:"+i+"(?:"+[a,g,h].join("|")+")"+c+f+")*";c=c+f+i;f="(?:"+[a+b+"?",b,g,h,d].join("|")+")";var j=RegExp(e+"(?="+e+")|"+f+c,"g");function k(a){var b=j.lastIndex=0;while(j.test(a))++b;return b}Rs.exports=k}var Ts=!1;function Us(){Ts||(Ts=!0,Ss());return Rs.exports}d={};var Vs={exports:d};function Ws(){var a=Qs(),b=Re(),c=Us();function d(d){return b(d)?c(d):a(d)}Vs.exports=d}var Xs=!1;function Ys(){Xs||(Xs=!0,Ws());return Vs.exports}f={};var Zs={exports:f};function $s(){var a=Ms(),b=$c(),c=Ne(),d=Re(),e=Ys(),f=cf(),g=Math.ceil;function h(h,i){i=i===void 0?" ":b(i);var j=i.length;if(j<2)return j?a(i,h):i;j=a(i,g(h/e(i)));return d(i)?c(f(j),0,h).join(""):j.slice(0,h)}Zs.exports=h}var at=!1;function bt(){at||(at=!0,$s());return Zs.exports}c={};var ct={exports:c};function dt(){var a=bt(),b=Ys(),c=Dg(),d=dd();function e(e,f,g){e=d(e);f=c(f);var h=f?b(e):0;return f&&h<f?a(f-h,g)+e:e}ct.exports=e}var et=!1;function ft(){et||(et=!0,dt());return ct.exports}d={};var gt={exports:d};function ht(){var a=xh(),b=hd(),c=ng(),d=F(),e=P();function f(f,g,h,i){if(!d(f))return f;g=b(g,f);var j=-1,k=g.length,l=k-1,m=f;while(m!=null&&++j<k){var n=e(g[j]),o=h;if(j!=l){var p=m[n];o=i?i(p,n,m):void 0;o===void 0&&(o=d(p)?p:c(g[j+1])?[]:{})}a(m,n,o);m=m[n]}return f}gt.exports=f}var it=!1;function jt(){it||(it=!0,ht());return gt.exports}f={};var kt={exports:f};function lt(){var a=od(),b=jt(),c=hd();function d(d,e,f){var g=-1,h=e.length,i={};while(++g<h){var j=e[g],k=a(d,j);f(k,j)&&b(i,c(j,d),k)}return i}kt.exports=d}var mt=!1;function nt(){mt||(mt=!0,lt());return kt.exports}c={};var ot={exports:c};function pt(){var a=nt(),b=Io();function c(c,d){return a(c,d,function(a,d){return b(c,d)})}ot.exports=c}var qt=!1;function rt(){qt||(qt=!0,pt());return ot.exports}d={};var st={exports:d};function tt(){var a=rt(),b=Be();b=b(function(b,c){return b==null?{}:a(b,c)});st.exports=b}var ut=!1;function vt(){ut||(ut=!0,tt());return st.exports}f={};var wt={exports:f};function xt(){var a=Wc(),b=bp(),c=nt(),d=Qj();function e(e,f){if(e==null)return{};var g=a(d(e),function(a){return[a]});f=b(f);return c(e,g,function(a,b){return f(a,b[0])})}wt.exports=e}var yt=!1;function zt(){yt||(yt=!0,xt());return wt.exports}c={};var At={exports:c};function Bt(){var a=Math.ceil,b=Math.max;function c(c,d,e,f){var g=-1;d=b(a((d-c)/(e||1)),0);var h=Array(d);while(d--)h[f?d:++g]=c,c+=e;return h}At.exports=c}var Ct=!1;function Dt(){Ct||(Ct=!0,Bt());return At.exports}d={};var Et={exports:d};function Ft(){var a=Dt(),b=rg(),c=zg();function d(d){return function(e,f,g){g&&typeof g!="number"&&b(e,f,g)&&(f=g=void 0);e=c(e);f===void 0?(f=e,e=0):f=c(f);g=g===void 0?e<f?1:-1:c(g);return a(e,f,g,d)}}Et.exports=d}var Gt=!1;function Ht(){Gt||(Gt=!0,Ft());return Et.exports}f={};var It={exports:f};function Jt(){var a=Ht();a=a();It.exports=a}var Kt=!1;function Lt(){Kt||(Kt=!0,Jt());return It.exports}c={};var Mt={exports:c};function Nt(){function a(a,b,c,d,e){e(a,function(e,f,a){c=d?(d=!1,e):b(c,e,f,a)});return c}Mt.exports=a}var Ot=!1;function Pt(){Ot||(Ot=!0,Nt());return Mt.exports}d={};var Qt={exports:d};function Rt(){var a=tf(),b=bn(),c=bp(),d=Pt(),e=p();function f(f,g,h){var i=e(f)?a:d,j=arguments.length<3;return i(f,c(g,4),h,j,b)}Qt.exports=f}var St=!1;function Tt(){St||(St=!0,Rt());return Qt.exports}f={};var Ut={exports:f};function Vt(){var a=jt();function b(b,c,d){return b==null?b:a(b,c,d)}Ut.exports=b}var Wt=!1;function Xt(){Wt||(Wt=!0,Vt());return Ut.exports}c={};var Yt={exports:c};function Zt(){var a=jt();function b(b,c,d,e){e=typeof e=="function"?e:void 0;return b==null?b:a(b,c,d,e)}Yt.exports=b}var $t=!1;function au(){$t||($t=!0,Zt());return Yt.exports}d={};var bu={exports:d};function cu(){var a=yi(),b=hk(),c=jg(),d=Sq(),e=Ys(),f="[object Map]",g="[object Set]";function h(h){if(h==null)return 0;if(c(h))return d(h)?e(h):h.length;var i=b(h);return i==f||i==g?h.size:a(h).length}bu.exports=h}var du=!1;function eu(){du||(du=!0,cu());return bu.exports}f={};var fu={exports:f};function gu(){var a=Yf();a=a(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()});fu.exports=a}var hu=!1;function iu(){hu||(hu=!0,gu());return fu.exports}c={};var ju={exports:c};function ku(){var a=bn();function b(b,c){var d;a(b,function(b,e,a){d=c(b,e,a);return!d});return!!d}ju.exports=b}var lu=!1;function mu(){lu||(lu=!0,ku());return ju.exports}d={};var nu={exports:d};function ou(){var a=An(),b=bp(),c=mu(),d=p(),e=rg();function f(f,g,h){var i=d(f)?a:c;h&&e(f,g,h)&&(g=void 0);return i(f,b(g,3))}nu.exports=f}var pu=!1;function qu(){pu||(pu=!0,ou());return nu.exports}f={};var ru={exports:f};function su(){function a(a,b){var c=a.length;a.sort(b);while(c--)a[c]=a[c].value;return a}ru.exports=a}var tu=!1;function uu(){tu||(tu=!0,su());return ru.exports}c={};var vu={exports:c};function wu(){var a=ra();function b(b,c){if(b!==c){var d=b!==void 0,e=b===null,f=b===b,g=a(b),h=c!==void 0,i=c===null,j=c===c,k=a(c);if(!i&&!k&&!g&&b>c||g&&h&&j&&!i&&!k||e&&h&&j||!d&&j||!f)return 1;if(!e&&!g&&!k&&b<c||k&&d&&f&&!e&&!g||i&&d&&f||!h&&f||!j)return-1}return 0}vu.exports=b}var xu=!1;function yu(){xu||(xu=!0,wu());return vu.exports}d={};var zu={exports:d};function Au(){var a=yu();function b(b,c,d){var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;while(++e<h){var j=a(f[e],g[e]);if(j){if(e>=i)return j;var k=d[e];return j*(k=="desc"?-1:1)}}return b.index-c.index}zu.exports=b}var Bu=!1;function Cu(){Bu||(Bu=!0,Au());return zu.exports}f={};var Du={exports:f};function Eu(){var a=Wc(),b=bp(),c=Dp(),d=uu(),e=Wh(),f=Cu(),g=le();function h(h,i,j){var k=-1;i=a(i.length?i:[g],e(b));h=c(h,function(c,d,b){d=a(i,function(a){return a(c)});return{criteria:d,index:++k,value:c}});return d(h,function(a,b){return f(a,b,j)})}Du.exports=h}var Fu=!1;function Gu(){Fu||(Fu=!0,Eu());return Du.exports}c={};var Hu={exports:c};function Iu(){var a=Od(),b=Gu(),c=Fl(),d=rg();c=c(function(c,e){if(c==null)return[];var f=e.length;f>1&&d(c,e[0],e[1])?e=[]:f>2&&d(e[0],e[1],e[2])&&(e=[e[0]]);return b(c,a(e,1),[])});Hu.exports=c}var Ju=!1;function Ku(){Ju||(Ju=!0,Iu());return Hu.exports}d={};var Lu={exports:d};function Mu(){var a=ja(),b=na(),c="[object RegExp]";function d(d){return b(d)&&a(d)==c}Lu.exports=d}var Nu=!1;function Ou(){Nu||(Nu=!0,Mu());return Lu.exports}f={};var Pu={exports:f};function Qu(){var a=Ou(),b=Wh(),c=ai();c=c&&c.isRegExp;b=c?b(c):a;Pu.exports=b}var Ru=!1;function Su(){Ru||(Ru=!0,Qu());return Pu.exports}c={};var Tu={exports:c};function Uu(){var a=$c(),b=Ne(),c=Re(),d=rg(),e=Su(),f=cf(),g=dd(),h=4294967295;function i(i,j,k){k&&typeof k!="number"&&d(i,j,k)&&(j=k=void 0);k=k===void 0?h:k>>>0;if(!k)return[];i=g(i);if(i&&(typeof j=="string"||j!=null&&!e(j))){j=a(j);if(!j&&c(i))return b(f(i),0,k)}return i.split(j,k)}Tu.exports=i}var Vu=!1;function Wu(){Vu||(Vu=!0,Uu());return Tu.exports}d={};var Xu={exports:d};function Yu(){function a(a,b){var c,d=-1,e=a.length;while(++d<e){var f=b(a[d]);f!==void 0&&(c=c===void 0?f:c+f)}return c}Xu.exports=a}var Zu=!1;function $u(){Zu||(Zu=!0,Yu());return Xu.exports}f={};var av={exports:f};function bv(){var a=bp(),b=$u();function c(c,d){return c&&c.length?b(c,a(d,2)):0}av.exports=c}var cv=!1;function dv(){cv||(cv=!0,bv());return av.exports}c={};var ev={exports:c};function fv(){var a=Bl(),b=F(),c="Expected a function";function d(d,e,f){var g=!0,h=!0;if(typeof d!="function")throw new TypeError(c);b(f)&&(g="leading"in f?!!f.leading:g,h="trailing"in f?!!f.trailing:h);return a(d,e,{leading:g,maxWait:e,trailing:h})}ev.exports=d}var gv=!1;function hv(){gv||(gv=!0,fv());return ev.exports}d={};var iv={exports:d};function jv(){var a=Fh(),b=fn(),c=Dg(),d=9007199254740991,e=4294967295,f=Math.min;function g(g,h){g=c(g);if(g<1||g>d)return[];var i=e,j=f(g,e);h=b(h);g-=e;j=a(j,h);while(++i<g)h(i);return j}iv.exports=g}var kv=!1;function lv(){kv||(kv=!0,jv());return iv.exports}f={};var mv={exports:f};function nv(){var a=Wc(),b=ej(),c=p(),d=ra(),e=Sc(),f=P(),g=dd();function h(h){return c(h)?a(h,f):d(h)?[h]:b(e(g(h)))}mv.exports=h}var ov=!1;function pv(){ov||(ov=!0,nv());return mv.exports}c={};var qv={exports:c};function rv(){var a=ph(),b=Ok(),c=Um(),d=bp(),e=yj(),f=p(),g=Oh(),h=Ba(),i=F(),j=ei();function k(k,l,m){var n=f(k),o=n||g(k)||j(k);l=d(l,4);if(m==null){var p=k&&k.constructor;o?m=n?new p:[]:i(k)?m=h(p)?b(e(k)):{}:m={}}(o?a:c)(k,function(b,c,a){return l(m,b,c,a)});return m}qv.exports=k}var sv=!1;function tv(){sv||(sv=!0,rv());return qv.exports}d={};var uv={exports:d};function vv(){var a=$c(),b=Ne(),c=Re(),d=F(),e=Su(),f=Ys(),g=cf(),h=Dg(),i=dd(),j=30,k="...",l=/\w*$/;function m(m,n){var o=j,p=k;if(d(n)){var q="separator"in n?n.separator:q;o="length"in n?h(n.length):o;p="omission"in n?a(n.omission):p}m=i(m);n=m.length;if(c(m)){var r=g(m);n=r.length}if(o>=n)return m;n=o-f(p);if(n<1)return p;o=r?b(r,0,n).join(""):m.slice(0,n);if(q===void 0)return o+p;r&&(n+=o.length-n);if(e(q)){if(m.slice(n).search(q)){var s,t=o;q.global||(q=RegExp(q.source,i(l.exec(q))+"g"));q.lastIndex=0;while(s=q.exec(t))var u=s.index;o=o.slice(0,u===void 0?n:u)}}else if(m.indexOf(a(q),n)!=n){s=o.lastIndexOf(q);s>-1&&(o=o.slice(0,s))}return o+p}uv.exports=m}var wv=!1;function xv(){wv||(wv=!0,vv());return uv.exports}f={};var yv={exports:f};function zv(){function a(){}yv.exports=a}var Av=!1;function Bv(){Av||(Av=!0,zv());return yv.exports}c={};var Cv={exports:c};function Dv(){var a=$j(),b=Bv(),c=Mn(),d=1/0;c=a&&1/c(new a([,-0]))[1]==d?function(b){return new a(b)}:b;Cv.exports=c}var Ev=!1;function Fv(){Ev||(Ev=!0,Dv());return Cv.exports}d={};var Gv={exports:d};function Hv(){var a=Vl(),b=om(),c=sm(),d=wm(),e=Fv(),f=Mn(),g=200;function h(h,i,j){var k=-1,l=b,m=h.length,n=!0,o=[],p=o;if(j)n=!1,l=c;else if(m>=g){var q=i?null:e(h);if(q)return f(q);n=!1;l=d;p=new a}else p=i?[]:o;outer:while(++k<m){q=h[k];var r=i?i(q):q;q=j||q!==0?q:0;if(n&&r===r){var s=p.length;while(s--)if(p[s]===r)continue outer;i&&p.push(r);o.push(q)}else l(p,r,j)||(p!==o&&p.push(r),o.push(q))}return o}Gv.exports=h}var Iv=!1;function Jv(){Iv||(Iv=!0,Hv());return Gv.exports}f={};var Kv={exports:f};function Lv(){var a=Od(),b=Fl(),c=Jv(),d=Em();b=b(function(b){return c(a(b,1,d,!0))});Kv.exports=b}var Mv=!1;function Nv(){Mv||(Mv=!0,Lv());return Kv.exports}c={};var Ov={exports:c};function Pv(){var a=Jv();function b(b){return b&&b.length?a(b):[]}Ov.exports=b}var Qv=!1;function Rv(){Qv||(Qv=!0,Pv());return Ov.exports}d={};var Sv={exports:d};function Tv(){var a=bp(),b=Jv();function c(c,d){return c&&c.length?b(c,a(d,2)):[]}Sv.exports=c}var Uv=!1;function Vv(){Uv||(Uv=!0,Tv());return Sv.exports}f={};var Wv={exports:f};function Xv(){var a=dd(),b=0;function c(c){var d=++b;return a(c)+d}Wv.exports=c}var Yv=!1;function Zv(){Yv||(Yv=!0,Xv());return Wv.exports}c={};var $v={exports:c};function aw(){var a=Wc();function b(b,c){return a(c,function(a){return b[a]})}$v.exports=b}var bw=!1;function cw(){bw||(bw=!0,aw());return $v.exports}d={};var dw={exports:d};function ew(){var a=cw(),b=Ci();function c(c){return c==null?[]:a(c,b(c))}dw.exports=c}var fw=!1;function gw(){fw||(fw=!0,ew());return dw.exports}f={};var hw={exports:f};function iw(){function a(a,b,c){var d=-1,e=a.length,f=b.length,g={};while(++d<e){var h=d<f?b[d]:void 0;c(g,a[d],h)}return g}hw.exports=a}var jw=!1;function kw(){jw||(jw=!0,iw());return hw.exports}c={};var lw={exports:c};function mw(){var a=xh(),b=kw();function c(c,d){return b(c||[],d||[],a)}lw.exports=c}var nw=!1;function ow(){nw||(nw=!0,mw());return lw.exports}function b(a){switch(a){case void 0:return l();case"/at":return Fe();case"/capitalize":return pf();case"/camelCase":return bg();case"/chunk":return Hg();case"/clamp":return Pg();case"/clone":return pl();case"/cloneDeep":return tl();case"/constant":return de();case"/debounce":return Bl();case"/defaults":return Jl();case"/difference":return Im();case"/each":return on();case"/every":return fp();case"/filter":return np();case"/find":return zp();case"/flatMap":return Lp();case"/flatten":return Sd();case"/forEach":return kn();case"/forIn":return Pp();case"/get":return sd();case"/has":return Xp();case"/inRange":return eq();case"/intersection":return qq();case"/isArray":return p();case"/isEmpty":return uq();case"/isEqual":return yq();case"/isFunction":return Ba();case"/isNaN":return Gq();case"/isNil":return Kq();case"/isNumber":return Cq();case"/isObject":return F();case"/isPlainObject":return Oq();case"/isString":return Sq();case"/isUndefined":return Wq();case"/keys":return Ci();case"/last":return $q();case"/map":return Hp();case"/mapKeys":return dr();case"/mapValues":return hr();case"/max":return tr();case"/maxBy":return xr();case"/memoize":return Kc();case"/merge":return Zr();case"/min":return gs();case"/minBy":return ks();case"/now":return xl();case"/omit":return As();case"/once":return Is();case"/padStart":return ft();case"/pick":return vt();case"/pickBy":return zt();case"/range":return Lt();case"/reduce":return Tt();case"/set":return Xt();case"/setWith":return au();case"/size":return eu();case"/snakeCase":return iu();case"/some":return qu();case"/sortBy":return Ku();case"/split":return Wu();case"/sumBy":return dv();case"/throttle":return hv();case"/times":return lv();case"/toPath":return pv();case"/transform":return tv();case"/truncate":return xv();case"/union":return Nv();case"/uniq":return Rv();case"/uniqBy":return Vv();case"/uniqueId":return Zv();case"/values":return gw();case"/zipObject":return ow();case"/at":return Fe();case"/capitalize":return pf();case"/chunk":return Hg();case"/clamp":return Pg();case"/cloneDeep":return tl();case"/debounce":return Bl();case"/difference":return Im();case"/get":return sd();case"/inRange":return eq();case"/isEmpty":return uq();case"/isEqual":return yq();case"/isObject":return F();case"/isPlainObject":return Oq();case"/isString":return Sq();case"/memoize":return Kc();case"/merge":return Zr();case"/once":return Is();case"/padStart":return ft();case"/pick":return vt();case"/pickBy":return zt();case"/range":return Lt();case"/set":return Xt();case"/setWith":return au();case"/split":return Wu();case"/throttle":return hv();case"/times":return lv();case"/truncate":return xv();case"/uniq":return Rv();case"/uniqueId":return Zv()}}e.exports=b}),null);
__d("lodash",["lodash-4.17.15"],(function(a,b,c,d,e,f){e.exports=b("lodash-4.17.15")()}),null);
/**
 * License: https://www.facebook.com/legal/license/NKF0mBOyBt2/
 */
__d("pvutils-1.0.17",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.getUTCDate=a;g.getParametersValue=b;g.bufferToHexCodes=c;g.checkBufferParams=d;g.utilFromBase=e;g.utilToBase=f;g.utilConcatBuf=h;g.utilConcatView=i;g.utilDecodeTC=j;g.utilEncodeTC=k;g.isEqualBuffer=l;g.padNumber=m;g.toBase64=p;g.fromBase64=q;g.arrayBufferToString=r;g.stringToArrayBuffer=s;g.nearestPowerOf2=u;g.clearProps=v;function a(a){return new Date(a.getTime()+a.getTimezoneOffset()*6e4)}function b(a,b,c){if(a instanceof Object===!1)return c;return b in a?a[b]:c}function c(a,b,c,d){b===void 0&&(b=0);c===void 0&&(c=a.byteLength-b);d===void 0&&(d=!1);var e="",f=!0,g=!1,h=void 0;try{for(var i=new Uint8Array(a,b,c)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),a;!(f=(a=i.next()).done);f=!0){b=a.value;c=b.toString(16).toUpperCase();c.length===1&&(e+="0");e+=c;d&&(e+=" ")}}catch(a){g=!0,h=a}finally{try{!f&&i["return"]&&i["return"]()}finally{if(g)throw h}}return e.trim()}function d(a,b,c,d){if(b instanceof ArrayBuffer===!1){a.error='Wrong parameter: inputBuffer must be "ArrayBuffer"';return!1}if(b.byteLength===0){a.error="Wrong parameter: inputBuffer has zero length";return!1}if(c<0){a.error="Wrong parameter: inputOffset less than zero";return!1}if(d<0){a.error="Wrong parameter: inputLength less than zero";return!1}if(b.byteLength-c-d<0){a.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return!1}return!0}function e(a,b){var c=0;if(a.length===1)return a[0];for(var d=a.length-1;d>=0;d--)c+=a[a.length-1-d]*Math.pow(2,b*d);return c}function f(a,b,c){c===void 0&&(c=-1);c=c;var d=a,e=0,f=Math.pow(2,b);for(var g=1;g<8;g++){if(a<f){var h=void 0;if(c<0)h=new ArrayBuffer(g),e=g;else{if(c<g)return new ArrayBuffer(0);h=new ArrayBuffer(c);e=c}var i=new Uint8Array(h);for(var j=g-1;j>=0;j--){var k=Math.pow(2,j*b);i[e-j-1]=Math.floor(d/k);d-=i[e-j-1]*k}return h}f*=Math.pow(2,b)}return new ArrayBuffer(0)}function h(){var a=0,b=0,c=!0,d=!1,e=void 0;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];try{for(var i=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),j;!(c=(j=i.next()).done);c=!0){var k=j.value;a+=k.byteLength}}catch(a){d=!0,e=a}finally{try{!c&&i["return"]&&i["return"]()}finally{if(d)throw e}}var l=new ArrayBuffer(a),m=new Uint8Array(l),n=!0,o=!1,p=void 0;try{for(var q=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),r;!(n=(r=q.next()).done);n=!0){var s=r.value;m.set(new Uint8Array(s),b);b+=s.byteLength}}catch(a){o=!0,p=a}finally{try{!n&&q["return"]&&q["return"]()}finally{if(o)throw p}}return l}function i(){var a=0,b=0,c=!0,d=!1,e=void 0;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];try{for(var i=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),j;!(c=(j=i.next()).done);c=!0){var k=j.value;a+=k.length}}catch(a){d=!0,e=a}finally{try{!c&&i["return"]&&i["return"]()}finally{if(d)throw e}}var l=new ArrayBuffer(a),m=new Uint8Array(l),n=!0,o=!1,p=void 0;try{for(var q=g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),r;!(n=(r=q.next()).done);n=!0){var s=r.value;m.set(s,b);b+=s.length}}catch(a){o=!0,p=a}finally{try{!n&&q["return"]&&q["return"]()}finally{if(o)throw p}}return m}function j(){var a=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){var b=a[0]===255&&a[1]&128,c=a[0]===0&&(a[1]&128)===0;(b||c)&&this.warnings.push("Needlessly long format")}b=new ArrayBuffer(this.valueHex.byteLength);c=new Uint8Array(b);for(b=0;b<this.valueHex.byteLength;b++)c[b]=0;c[0]=a[0]&128;b=e(c,8);c=new ArrayBuffer(this.valueHex.byteLength);c=new Uint8Array(c);for(var d=0;d<this.valueHex.byteLength;d++)c[d]=a[d];c[0]&=127;a=e(c,8);return a-b}function k(a){var b=a<0?a*-1:a,c=128;for(var d=1;d<8;d++){if(b<=c){if(a<0){var e=c-b;e=f(e,8,d);var g=new Uint8Array(e);g[0]|=128;return e}g=f(b,8,d);e=new Uint8Array(g);if(e[0]&128){var h=g.slice(0),i=new Uint8Array(h);g=new ArrayBuffer(g.byteLength+1);e=new Uint8Array(g);for(var j=0;j<h.byteLength;j++)e[j+1]=i[j];e[0]=0}return g}c*=Math.pow(2,8)}return new ArrayBuffer(0)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;a=new Uint8Array(a);b=new Uint8Array(b);for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function m(a,b){a=a.toString(10);if(b<a.length)return"";b=b-a.length;var c=new Array(b);for(var d=0;d<b;d++)c[d]="0";b=c.join("");return b.concat(a)}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function p(a,b,c,d){b===void 0&&(b=!1);c===void 0&&(c=!1);d===void 0&&(d=!1);var e=0,f=0,g=0,h="";b=b?o:n;if(d){d=0;for(var i=0;i<a.length;i++)if(a.charCodeAt(i)!==0){d=i;break}a=a.slice(d)}while(e<a.length){i=a.charCodeAt(e++);e>=a.length&&(f=1);d=a.charCodeAt(e++);e>=a.length&&(g=1);var j=a.charCodeAt(e++),k=i>>2;i=(i&3)<<4|d>>4;d=(d&15)<<2|j>>6;j=j&63;f===1?d=j=64:g===1&&(j=64);c?d===64?h+=""+b.charAt(k)+b.charAt(i):j===64?h+=""+b.charAt(k)+b.charAt(i)+b.charAt(d):h+=""+b.charAt(k)+b.charAt(i)+b.charAt(d)+b.charAt(j):h+=""+b.charAt(k)+b.charAt(i)+b.charAt(d)+b.charAt(j)}return h}function q(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);var d=b?o:n;function e(a){for(var b=0;b<64;b++)if(d.charAt(b)===a)return b;return 64}function f(a){return a===64?0:a}b=0;var g="";while(b<a.length){var h=e(a.charAt(b++)),i=b>=a.length?0:e(a.charAt(b++)),j=b>=a.length?0:e(a.charAt(b++)),k=b>=a.length?0:e(a.charAt(b++));h=f(h)<<2|f(i)>>4;i=(f(i)&15)<<4|f(j)>>2;var l=(f(j)&3)<<6|f(k);g+=String.fromCharCode(h);j!==64&&(g+=String.fromCharCode(i));k!==64&&(g+=String.fromCharCode(l))}if(c){h=g.length;j=-1;for(i=h-1;i>=0;i--)if(g.charCodeAt(i)!==0){j=i;break}j!==-1?g=g.slice(0,j+1):g=""}return g}function r(a){var b="";a=new Uint8Array(a);var c=!0,d=!1,e=void 0;try{for(var f=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),a;!(c=(a=f.next()).done);c=!0){a=a.value;b+=String.fromCharCode(a)}}catch(a){d=!0,e=a}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw e}}return b}function s(a){var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c);for(var e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}var t=Math.log(2);function u(a){a=Math.log(a)/t;var b=Math.floor(a);a=Math.round(a);return b===a?b:a}function v(a,b){var c=!0,d=!1,e=void 0;try{for(var f=b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),b;!(c=(b=f.next()).done);c=!0){b=b.value;delete a[b]}}catch(a){d=!0,e=a}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw e}}}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-gui-0.2.1",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";var g=b("react-0.0.0"),h={},i={exports:h};function j(){h.__esModule=!0;h["default"]=a;function a(){return!!(typeof window!=="undefined"&&window.document&&window.document.createElement)}i.exports=h["default"]}var k=!1;function l(){k||(k=!0,j());return i.exports}var m={},n={exports:m};function o(){m.__esModule=!0;m["default"]=c;c=a(l());function a(a){return a&&a.__esModule?a:{"default":a}}var b=c["default"]();function c(){var a=!1;if(b)try{var c=document.createElement("div"),d={};Object.defineProperty(d,"preventScroll",{get:function(){a=!0;return!1}});c.focus(d)}catch(a){}return a}n.exports=m["default"]}var p=!1;function q(){p||(p=!0,o());return n.exports}var r={},s={exports:r};function t(){r.__esModule=!0;r["default"]=e;e=a(q());function a(a){return a&&a.__esModule?a:{"default":a}}var b=e["default"]();function c(a){var b=[],c=document.documentElement;a=a.parentElement;while(a!=null&&a!==c)(a.offsetHeight<a.scrollHeight||a.offsetWidth<a.scrollWidth)&&b.push([a,a.scrollTop,a.scrollLeft]),a=a.parentElement;c!=null&&b.push([c,c.scrollTop,c.scrollLeft]);return b}function d(a){for(var b=0;b<a.length;b++){var c=a[b],d=c[0],e=c[1];c=c[2];d.scrollTop=e;d.scrollLeft=c}}function e(a,e){if(b)a.focus(e);else{var f;e!=null&&e.preventScroll===!0&&(f=c(a));a.focus();f!=null&&d(f)}}s.exports=r["default"]}var u=!1;function v(){u||(u=!0,t());return s.exports}var w={},x={exports:w};function y(){w.__esModule=!0;w["default"]=c;c=a(l());function a(a){return a&&a.__esModule?a:{"default":a}}var b=c["default"]();function c(){var a=!1;if(b)try{var c={};Object.defineProperty(c,"passive",{get:function(){a=!0;return!1}});window.addEventListener("test",null,c);window.removeEventListener("test",null,c)}catch(a){}return a}x.exports=w["default"]}var z=!1;function A(){z||(z=!0,y());return x.exports}var B={},C={exports:B};function D(){B.__esModule=!0;B.addEvent=f;B.removeEvent=g;f=a(A());function a(a){return a&&a.__esModule?a:{"default":a}}var b=f["default"](),c=function(){},d={touchstart:!0,touchmove:!0,scroll:!0};function e(a,c){if(c!=null){var e=c.capture,f=c.passive;if(b)return f==null||d[a]===!0?{capture:e,passive:!0}:c;else return Boolean(e)}return!1}function f(a,b,d,f){var g=e(b,f);if(typeof d==="function"){var h=a;h.addEventListener(b,d,g);return function(){h!=null&&h.removeEventListener(b,d,g)}}else return c}function g(a,b,c,d){d=e(b,d);if(typeof c==="function"){a=a;a.removeEventListener(b,c,d)}}}var E=!1;function F(){E||(E=!0,D());return C.exports}var G={},H={exports:G};function I(){G.__esModule=!0;G["default"]=void 0;var a=function(){return!!(typeof window!=="undefined"&&window.PointerEvent!=null)};a=a;G["default"]=a;H.exports=G["default"]}var J=!1;function aa(){J||(J=!0,I());return H.exports}var K={},L={exports:K};function M(){K.__esModule=!0;K.getActiveModality=J;K.getModality=L;K.addModalityListener=M;K.testOnly_resetActiveModality=N;var a=F();J=c(l());var b=c(aa());function c(a){return a&&a.__esModule?a:{"default":a}}var d="keyboard",e="keyboard",f,g,h=!1,i=new Set(),j="keyboard",k="mouse",m="touch";L="blur";var n="contextmenu";M="focus";N="keydown";var o="mousedown",p="mousemove",q="mouseover",r="mouseup",s="pointerdown",t="pointermove",u="pointerover",v="scroll",w="selectionchange",x="touchcancel",y="touchmove",z="touchstart";c="visibilitychange";var A={capture:!0,passive:!0};function B(){(f!=null||g!=null)&&(f!=null&&(e=f,f=null),g!=null&&(d=g,g=null),I())}function C(){f=e,g=d,d=j,e=j,I(),h=!1}function D(){B()}function E(a){if(a.metaKey||a.altKey||a.ctrlKey)return;e!==j&&(e=j,d=j,I())}function G(){document.visibilityState!=="hidden"&&B()}function H(a){var c=a.type;if(b["default"]()){if(c===s){d!==a.pointerType&&(e=a.pointerType,d=a.pointerType,I());return}if(c===t||c===u){e!==a.pointerType&&(e=a.pointerType,I());return}}else{h||(c===o&&(d!==k&&(e=k,d=k,I())),(c===p||c===q)&&(e!==k&&(e=k,I())));if(c===z){h=!0;a.touches&&a.touches.length>1&&(h=!1);d!==m&&(e=m,d=m,I());return}(c===n||c===r||c===w||c===v||c===x||c===y)&&(h=!1)}}J["default"]()&&(a.addEvent(window,L,C),a.addEvent(window,M,D),a.addEvent(document,N,E,A),a.addEvent(document,c,G,A),[s,t,u,n,o,p,q,r,v,w,x,y,z].forEach(function(b){a.addEvent(document,b,H,A)}));function I(){var a={activeModality:d,modality:e};i.forEach(function(b){b(a)})}function J(){return d}function L(){return e}function M(a){i.add(a);return function(){i["delete"](a)}}function N(){h=!1,d=j,e=j}}var N=!1;function O(){N||(N=!0,M());return L.exports}var P={},ba={exports:P};function ca(){P.__esModule=!0;P.blur=d;P.clear=e;P.focus=f;P.getLayoutRect=g;var a=b(v());d=O();P.getActiveModality=d.getActiveModality;P.getModality=d.getModality;function b(a){return a&&a.__esModule?a:{"default":a}}var c={A:!0,BUTTON:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};function d(a){if(a!=null)try{a.blur()}catch(a){}}function e(a){a!=null&&typeof a.value==="string"&&(a.value="")}function f(b,d){if(b!=null)try{var e=b.nodeName;c[e]==null&&b.getAttribute("tabIndex")==null&&b.setAttribute("tabIndex","-1");a["default"](b,d)}catch(a){}}function g(a,b){if(a!=null)return a.getBoundingClientRect()}}var Q=!1;function da(){Q||(Q=!0,ca());return ba.exports}var R={},ea={exports:R};function fa(){R.__esModule=!0;R.useRefCallback=b;var a=g();function b(b){var c=a.useRef(void 0);return a.useCallback(function(a){c.current&&(c.current(),c.current=void 0),a!=null&&(c.current=b(a))},[b])}}var S=!1;function ga(){S||(S=!0,fa());return ea.exports}var T={},ha={exports:T};function ia(){T.__esModule=!0;T.useFocus=f;var a=g(),b=F(),c=ga(),d={passive:!0},e={capture:!0,passive:!0};function f(f){var g=f.disabled,h=f.onBlur,i=f.onBlurCapture,j=f.onFocus,k=f.onFocusCapture,l=f.onFocusChange;f=a.useCallback(function(a){function c(a){if(g)return;h!=null&&h(a);l!=null&&l(!1,a)}function f(a){if(g)return;j!=null&&j(a);l!=null&&l(!0,a)}var m=[b.addEvent(a,"blur",c,d),b.addEvent(a,"focus",f,d),b.addEvent(a,"blur",g?null:i,e),b.addEvent(a,"focus",g?null:k,e)];return function(){m.forEach(function(a){a()})}},[g,h,i,j,k,l]);return c.useRefCallback(f)}}var U=!1;function ja(){U||(U=!0,ia());return ha.exports}c={};var V={exports:c};function ka(){V.exports=ja()}var W=!1;function la(){W||(W=!0,ka());return V.exports}var X={},Y={exports:X};function ma(){X.__esModule=!0;X["default"]=void 0;var a=g();b=b(l());function b(a){return a&&a.__esModule?a:{"default":a}}b=b["default"]()?a.useLayoutEffect:a.useEffect;a=b;X["default"]=a;Y.exports=X["default"]}var na=!1;function oa(){na||(na=!0,ma());return Y.exports}var Z={},pa={exports:Z};function qa(){Z.__esModule=!0;Z.useModality=e;var a=d(g()),b=O(),c=d(oa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var d=a["default"].useState({activeModality:b.getActiveModality(),modality:b.getModality()}),e=d[0],f=d[1];c["default"](function(){var a=b.addModalityListener(function(a){f(a)});return a},[]);return e}}var ra=!1;function sa(){ra||(ra=!0,qa());return pa.exports}var $={},ta={exports:$};function ua(){$.__esModule=!0;$.useFocusVisibility=b;var a=sa();function b(){var b=a.useModality();b=b.activeModality;return b==="keyboard"}}var va=!1;function wa(){va||(va=!0,ua());return ta.exports}d={};var xa={exports:d};function ya(){xa.exports=wa()}var za=!1;function Aa(){za||(za=!0,ya());return xa.exports}function a(a){switch(a){case void 0:return da();case"/use-focus":return la();case"/use-focus-visibility":return Aa()}}e.exports=a}),null);
__d("react-gui-use-focus",["react-gui-0.2.1"],(function(a,b,c,d,e,f){e.exports=b("react-gui-0.2.1")("/use-focus")}),null);
__d("react-gui-use-focus-visibility",["react-gui-0.2.1"],(function(a,b,c,d,e,f){e.exports=b("react-gui-0.2.1")("/use-focus-visibility")}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("react-transition-group-4.4.2",["prop-types-15.7.2","dom-helpers-5.2.0","react-0.0.0","react-dom-0.0.0","shallowEqual"],(function(a,b,c,d,e,f){"use strict";var g=b("prop-types-15.7.2"),h=b("dom-helpers-5.2.0"),i=b("react-0.0.0"),j=b("react-dom-0.0.0"),k=b("shallowEqual"),l={},m={exports:l};function n(){l.__esModule=!0;l["default"]=void 0;var a={disabled:!1};l["default"]=a;m.exports=l["default"]}var o=!1;function p(){o||(o=!0,n());return m.exports}var q={},r={exports:q};function s(){q.__esModule=!0;q.classNamesShape=q.timeoutsShape=void 0;a(g());function a(a){return a&&a.__esModule?a:{"default":a}}a=null;q.timeoutsShape=a;a=null;q.classNamesShape=a}var t=!1;function u(){t||(t=!0,s());return r.exports}var v={},w={exports:v};function x(){v.__esModule=!0;v["default"]=void 0;a=a(i());function a(a){return a&&a.__esModule?a:{"default":a}}a=a["default"].createContext(null);v["default"]=a;w.exports=v["default"]}var y=!1;function z(){y||(y=!0,x());return w.exports}var A={},B={exports:A};function C(){A.__esModule=!0;A["default"]=A.EXITING=A.ENTERED=A.ENTERING=A.EXITED=A.UNMOUNTED=void 0;e(g());var a=e(i()),b=e(j()),c=e(p());u();var d=e(z());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}function h(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}var l="unmounted";A.UNMOUNTED=l;var m="exited";A.EXITED=m;var n="entering";A.ENTERING=n;var o="entered";A.ENTERED=o;var q="exiting";A.EXITING=q;e=function(e){h(g,e);function g(a,b){var c;c=e.call(this,a,b)||this;b=b;b=b&&!b.isMounting?a.enter:a.appear;c.appearStatus=null;a["in"]?b?(b=m,c.appearStatus=n):b=o:a.unmountOnExit||a.mountOnEnter?b=l:b=m;c.state={status:b};c.nextCallback=null;return c}g.getDerivedStateFromProps=function(a,b){a=a["in"];return a&&b.status===l?{status:m}:null};var i=g.prototype;i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)};i.componentDidUpdate=function(a){var b=null;if(!k(this.props,a)){a=this.state.status;this.props["in"]?a!==n&&a!==o&&(b=n):(a===n||a===o)&&(b=q)}this.updateStatus(!1,b)};i.componentWillUnmount=function(){this.cancelNextCallback()};i.getTimeouts=function(){var a=this.props.timeout,b,c,d;b=c=d=a;a!=null&&typeof a!=="number"&&(b=a.exit,c=a.enter,d=a.appear!==void 0?a.appear:c);return{exit:b,enter:c,appear:d}};i.updateStatus=function(a,b){a===void 0&&(a=!1),b!==null?(this.cancelNextCallback(),b===n?this.performEnter(a):this.performExit()):this.props.unmountOnExit&&this.state.status===m&&this.setState({status:l})};i.performEnter=function(a){var d=this,e=this.props.enter,f=this.context?this.context.isMounting:a,g=this.props.nodeRef?[f]:[b["default"].findDOMNode(this),f],h=g[0],i=g[1];g=this.getTimeouts();var j=f?g.appear:g.enter;if(!a&&!e||c["default"].disabled){this.safeSetState({status:o},function(){d.props.onEntered(h)});return}this.props.onEnter(h,i);this.safeSetState({status:n},function(){d.props.onEntering(h,i),d.onTransitionEnd(j,function(){d.safeSetState({status:o},function(){d.props.onEntered(h,i)})})})};i.performExit=function(){var a=this,d=this.props.exit,e=this.getTimeouts(),f=this.props.nodeRef?void 0:b["default"].findDOMNode(this);if(!d||c["default"].disabled){this.safeSetState({status:m},function(){a.props.onExited(f)});return}this.props.onExit(f);this.safeSetState({status:q},function(){a.props.onExiting(f),a.onTransitionEnd(e.exit,function(){a.safeSetState({status:m},function(){a.props.onExited(f)})})})};i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)};i.safeSetState=function(a,b){b=this.setNextCallback(b),this.setState(a,b)};i.setNextCallback=function(a){var b=this,c=!0;this.nextCallback=function(d){c&&(c=!1,b.nextCallback=null,a(d))};this.nextCallback.cancel=function(){c=!1};return this.nextCallback};i.onTransitionEnd=function(a,c){this.setNextCallback(c);c=this.props.nodeRef?this.props.nodeRef.current:b["default"].findDOMNode(this);var d=a==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback];c=d[0];d=d[1];this.props.addEndListener(c,d)}a!=null&&setTimeout(this.nextCallback,a)};i.render=function(){var b=this.state.status;if(b===l)return null;var c=this.props,e=c.children;c["in"];c.mountOnEnter;c.unmountOnExit;c.appear;c.enter;c.exit;c.timeout;c.addEndListener;c.onEnter;c.onEntering;c.onEntered;c.onExit;c.onExiting;c.onExited;c.nodeRef;c=f(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return a["default"].createElement(d["default"].Provider,{value:null},typeof e==="function"?e(b,c):a["default"].cloneElement(a["default"].Children.only(e),c))};return g}(a["default"].Component);e.contextType=d["default"];e.propTypes={};function r(){}e.defaultProps={"in":!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:r,onEntering:r,onEntered:r,onExit:r,onExiting:r,onExited:r};e.UNMOUNTED=l;e.EXITED=m;e.ENTERING=n;e.ENTERED=o;e.EXITING=q;r=e;A["default"]=r}var D=!1;function E(){D||(D=!0,C());return B.exports}var F={},G={exports:F};function H(){F.__esModule=!0;F["default"]=void 0;e(g());var a=e(h("/class/addClass")),b=e(h("/class/removeClass")),c=e(i()),d=e(E());u();function e(a){return a&&a.__esModule?a:{"default":a}}function f(){f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return f.apply(this,arguments)}function j(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}function k(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}var l=function(b,c){return b&&c&&c.split(" ").forEach(function(c){return a["default"](b,c)})},m=function(a,c){return a&&c&&c.split(" ").forEach(function(c){return b["default"](a,c)})};e=function(a){k(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];b=a.call.apply(a,[this].concat(d))||this;b.appliedClasses={appear:{},enter:{},exit:{}};b.onEnter=function(a,c){var d=b.resolveArguments(a,c),e=d[0];d=d[1];b.removeClasses(e,"exit");b.addClass(e,d?"appear":"enter","base");b.props.onEnter&&b.props.onEnter(a,c)};b.onEntering=function(a,c){var d=b.resolveArguments(a,c),e=d[0];d=d[1];d=d?"appear":"enter";b.addClass(e,d,"active");b.props.onEntering&&b.props.onEntering(a,c)};b.onEntered=function(a,c){var d=b.resolveArguments(a,c),e=d[0];d=d[1];d=d?"appear":"enter";b.removeClasses(e,d);b.addClass(e,d,"done");b.props.onEntered&&b.props.onEntered(a,c)};b.onExit=function(a){var c=b.resolveArguments(a);c=c[0];b.removeClasses(c,"appear");b.removeClasses(c,"enter");b.addClass(c,"exit","base");b.props.onExit&&b.props.onExit(a)};b.onExiting=function(a){var c=b.resolveArguments(a);c=c[0];b.addClass(c,"exit","active");b.props.onExiting&&b.props.onExiting(a)};b.onExited=function(a){var c=b.resolveArguments(a);c=c[0];b.removeClasses(c,"exit");b.addClass(c,"exit","done");b.props.onExited&&b.props.onExited(a)};b.resolveArguments=function(a,c){return b.props.nodeRef?[b.props.nodeRef.current,a]:[a,c]};b.getClassNames=function(a){var c=b.props.classNames,d=typeof c==="string",e=d&&c?c+"-":"";e=d?""+e+a:c[a];var f=d?e+"-active":c[a+"Active"];d=d?e+"-done":c[a+"Done"];return{baseClassName:e,activeClassName:f,doneClassName:d}};return b}var e=b.prototype;e.addClass=function(a,b,c){var d=this.getClassNames(b)[c+"ClassName"],e=this.getClassNames("enter");e=e.doneClassName;b==="appear"&&c==="done"&&e&&(d+=" "+e);c==="active"&&(a&&a.scrollTop);d&&(this.appliedClasses[b][c]=d,l(a,d))};e.removeClasses=function(a,b){var c=this.appliedClasses[b],d=c.base,e=c.active;c=c.done;this.appliedClasses[b]={};d&&m(a,d);e&&m(a,e);c&&m(a,c)};e.render=function(){var a=this.props;a.classNames;a=j(a,["classNames"]);return c["default"].createElement(d["default"],f({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))};return b}(c["default"].Component);e.defaultProps={classNames:""};e.propTypes={};e=e;F["default"]=e;G.exports=F["default"]}var I=!1;function J(){I||(I=!0,H());return G.exports}var K={},L={exports:K};function M(){K.__esModule=!0;K.getChildMapping=b;K.mergeChildMappings=c;K.getInitialChildMapping=e;K.getNextChildMapping=f;var a=i();function b(b,c){var d=function(b){return c&&a.isValidElement(b)?c(b):b},e=Object.create(null);b&&a.Children.map(b,function(a){return a}).forEach(function(a){e[a.key]=d(a)});return e}function c(a,b){a=a||{};b=b||{};function c(c){return c in b?b[c]:a[c]}var d=Object.create(null),e=[];for(var f in a)f in b?e.length&&(d[f]=e,e=[]):e.push(f);var g;f={};for(var h in b){if(d[h])for(g=0;g<d[h].length;g++){var i=d[h][g];f[d[h][g]]=c(i)}f[h]=c(h)}for(g=0;g<e.length;g++)f[e[g]]=c(e[g]);return f}function d(a,b,c){return c[b]!=null?c[b]:a.props[b]}function e(c,e){return b(c.children,function(b){return a.cloneElement(b,{onExited:e.bind(null,b),"in":!0,appear:d(b,"appear",c),enter:d(b,"enter",c),exit:d(b,"exit",c)})})}function f(e,f,g){var h=b(e.children),i=c(f,h);Object.keys(i).forEach(function(b){var c=i[b];if(!a.isValidElement(c))return;var j=b in f,k=b in h,l=f[b],m=a.isValidElement(l)&&!l.props["in"];k&&(!j||m)?i[b]=a.cloneElement(c,{onExited:g.bind(null,c),"in":!0,exit:d(c,"exit",e),enter:d(c,"enter",e)}):!k&&j&&!m?i[b]=a.cloneElement(c,{"in":!1}):k&&j&&a.isValidElement(l)&&(i[b]=a.cloneElement(c,{onExited:g.bind(null,c),"in":l.props["in"],exit:d(c,"exit",e),enter:d(c,"enter",e)}))});return i}}var N=!1;function O(){N||(N=!0,M());return L.exports}var P={},Q={exports:P};function R(){P.__esModule=!0;P["default"]=void 0;d(g());var a=d(i()),b=d(z()),c=O();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}function f(){f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return f.apply(this,arguments)}function h(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}var k=Object.values||function(a){return Object.keys(a).map(function(b){return a[b]})};d={component:"div",childFactory:function(a){return a}};var l=function(g){j(d,g);function d(a,b){a=g.call(this,a,b)||this;b=a.handleExited.bind(h(a));a.state={contextValue:{isMounting:!0},handleExited:b,firstRender:!0};return a}var i=d.prototype;i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})};i.componentWillUnmount=function(){this.mounted=!1};d.getDerivedStateFromProps=function(a,b){var d=b.children,e=b.handleExited;b=b.firstRender;return{children:b?c.getInitialChildMapping(a,e):c.getNextChildMapping(a,d,e),firstRender:!1}};i.handleExited=function(a,b){var d=c.getChildMapping(this.props.children);if(a.key in d)return;a.props.onExited&&a.props.onExited(b);this.mounted&&this.setState(function(b){b=f({},b.children);delete b[a.key];return{children:b}})};i.render=function(){var c=this.props,d=c.component,f=c.childFactory;c=e(c,["component","childFactory"]);var g=this.state.contextValue;f=k(this.state.children).map(f);delete c.appear;delete c.enter;delete c.exit;return d===null?a["default"].createElement(b["default"].Provider,{value:g},f):a["default"].createElement(b["default"].Provider,{value:g},a["default"].createElement(d,c,f))};return d}(a["default"].Component);l.propTypes={};l.defaultProps=d;d=l;P["default"]=d;Q.exports=P["default"]}var S=!1;function T(){S||(S=!0,R());return Q.exports}var U={},V={exports:U};function aa(){U.__esModule=!0;U["default"]=void 0;d(g());var a=d(i()),b=d(j()),c=d(T());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}function f(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}d=function(d){f(g,d);function g(){var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];a=d.call.apply(d,[this].concat(c))||this;a.handleEnter=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.handleLifecycle("onEnter",0,c)};a.handleEntering=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.handleLifecycle("onEntering",0,c)};a.handleEntered=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.handleLifecycle("onEntered",0,c)};a.handleExit=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.handleLifecycle("onExit",1,c)};a.handleExiting=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.handleLifecycle("onExiting",1,c)};a.handleExited=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.handleLifecycle("onExited",1,c)};return a}var h=g.prototype;h.handleLifecycle=function(c,d,e){var f=this.props.children;f=a["default"].Children.toArray(f)[d];f.props[c]&&(d=f.props)[c].apply(d,e);if(this.props[c]){d=f.props.nodeRef?void 0:b["default"].findDOMNode(this);this.props[c](d)}};h.render=function(){var b=this.props,d=b.children,f=b["in"];b=e(b,["children","in"]);d=a["default"].Children.toArray(d);var g=d[0];d=d[1];delete b.onEnter;delete b.onEntering;delete b.onEntered;delete b.onExit;delete b.onExiting;delete b.onExited;return a["default"].createElement(c["default"],b,f?a["default"].cloneElement(g,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a["default"].cloneElement(d,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))};return g}(a["default"].Component);d.propTypes={};d=d;U["default"]=d;V.exports=U["default"]}var W=!1;function ba(){W||(W=!0,aa());return V.exports}var X={},ca={exports:X};function da(){X.__esModule=!0;X["default"]=X.modes=void 0;var a=d(i());d(g());var b=E(),c=d(z());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function f(b,c){if(b===c)return!1;return a["default"].isValidElement(b)&&a["default"].isValidElement(c)&&b.key!=null&&b.key===c.key?!1:!0}var h={out:"out-in","in":"in-out"};X.modes=h;var j=function(a,b,c){return function(){var d;a.props[b]&&(d=a.props)[b].apply(d,arguments);c()}},k=(d={},d[h.out]=function(c){var d=c.current,e=c.changeState;return a["default"].cloneElement(d,{"in":!1,onExited:j(d,"onExited",function(){e(b.ENTERING,null)})})},d[h["in"]]=function(c){var d=c.current,e=c.changeState;c=c.children;return[d,a["default"].cloneElement(c,{"in":!0,onEntered:j(c,"onEntered",function(){e(b.ENTERING)})})]},d),l=(d={},d[h.out]=function(c){var d=c.children,e=c.changeState;return a["default"].cloneElement(d,{"in":!0,onEntered:j(d,"onEntered",function(){e(b.ENTERED,a["default"].cloneElement(d,{"in":!0}))})})},d[h["in"]]=function(c){var d=c.current,e=c.children,f=c.changeState;return[a["default"].cloneElement(d,{"in":!1,onExited:j(d,"onExited",function(){f(b.ENTERED,a["default"].cloneElement(e,{"in":!0}))})}),a["default"].cloneElement(e,{"in":!0})]},d);d=function(d){e(g,d);function g(){var a;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];a=d.call.apply(d,[this].concat(e))||this;a.state={status:b.ENTERED,current:null};a.appeared=!1;a.changeState=function(b,c){c===void 0&&(c=a.state.current),a.setState({status:b,current:c})};return a}var i=g.prototype;i.componentDidMount=function(){this.appeared=!0};g.getDerivedStateFromProps=function(c,d){if(c.children==null)return{current:null};if(d.status===b.ENTERING&&c.mode===h["in"])return{status:b.ENTERING};return d.current&&f(d.current,c.children)?{status:b.EXITING}:{current:a["default"].cloneElement(c.children,{"in":!0})}};i.render=function(){var d=this.props,e=d.children;d=d.mode;var f=this.state,g=f.status;f=f.current;e={children:e,current:f,changeState:this.changeState,status:g};var h;switch(g){case b.ENTERING:h=l[d](e);break;case b.EXITING:h=k[d](e);break;case b.ENTERED:h=f}return a["default"].createElement(c["default"].Provider,{value:{isMounting:!this.appeared}},h)};return g}(a["default"].Component);d.propTypes={};d.defaultProps={mode:h.out};d=d;X["default"]=d}var Y=!1;function ea(){Y||(Y=!0,da());return ca.exports}var Z={},fa={exports:Z};function ga(){Z.__esModule=!0;Z.config=Z.Transition=Z.TransitionGroup=Z.SwitchTransition=Z.ReplaceTransition=Z.CSSTransition=void 0;var a=b(J());Z.CSSTransition=a["default"];a=b(ba());Z.ReplaceTransition=a["default"];a=b(ea());Z.SwitchTransition=a["default"];a=b(T());Z.TransitionGroup=a["default"];a=b(E());Z.Transition=a["default"];a=b(p());Z.config=a["default"];function b(a){return a&&a.__esModule?a:{"default":a}}}var $=!1;function ha(){$||($=!0,ga());return fa.exports}function a(a){switch(a){case void 0:return ha();case"/Transition":return E()}}e.exports=a}),null);
__d("react-transition-group",["react-transition-group-4.4.2"],(function(a,b,c,d,e,f){e.exports=b("react-transition-group-4.4.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("resize-observer-polyfill-1.5.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.ResizeObserver=c()})(this,function(){var b=function(){if(typeof Map!=="undefined")return Map;function a(a,b){var c=-1;a.some(function(d,a){if(d[0]===b){c=a;return!0}return!1});return c}return function(){function b(){this.__entries__=[]}Object.defineProperty(b.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0});b.prototype.get=function(b){b=a(this.__entries__,b);b=this.__entries__[b];return b&&b[1]};b.prototype.set=function(c,d){var b=a(this.__entries__,c);~b?this.__entries__[b][1]=d:this.__entries__.push([c,d])};b.prototype["delete"]=function(b){var c=this.__entries__;b=a(c,b);~b&&c.splice(b,1)};b.prototype.has=function(b){return!!~a(this.__entries__,b)};b.prototype.clear=function(){this.__entries__.splice(0)};b.prototype.forEach=function(a,b){b===void 0&&(b=null);for(var c=0,d=this.__entries__;c<d.length;c++){var e=d[c];a.call(b,e[1],e[0])}};return b}()}(),c=typeof window!=="undefined"&&typeof document!=="undefined"&&window.document===document,d=function(){if(typeof a!=="undefined"&&a.Math===Math)return a;if(typeof self!=="undefined"&&self.Math===Math)return self;return typeof window!=="undefined"&&window.Math===Math?window:Function("return this")()}(),e=function(){return typeof requestAnimationFrame==="function"?requestAnimationFrame.bind(d):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)}}(),f=2;function g(a,b){var c=!1,d=!1,g=0;function h(){c&&(c=!1,a()),d&&j()}function i(){e(h)}function j(){var a=Date.now();if(c){if(a-g<f)return;d=!0}else c=!0,d=!1,setTimeout(i,b);g=a}return j}var h=20,i=["top","right","bottom","left","width","height","size","weight"],j=typeof MutationObserver!=="undefined",k=function(){function a(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=g(this.refresh.bind(this),h)}a.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()};a.prototype.removeObserver=function(b){var a=this.observers_;b=a.indexOf(b);~b&&a.splice(b,1);!a.length&&this.connected_&&this.disconnect_()};a.prototype.refresh=function(){var a=this.updateObservers_();a&&this.refresh()};a.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});a.forEach(function(a){return a.broadcastActive()});return a.length>0};a.prototype.connect_=function(){if(!c||this.connected_)return;document.addEventListener("transitionend",this.onTransitionEnd_);window.addEventListener("resize",this.refresh);j?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0);this.connected_=!0};a.prototype.disconnect_=function(){if(!c||!this.connected_)return;document.removeEventListener("transitionend",this.onTransitionEnd_);window.removeEventListener("resize",this.refresh);this.mutationsObserver_&&this.mutationsObserver_.disconnect();this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh);this.mutationsObserver_=null;this.mutationEventsAdded_=!1;this.connected_=!1};a.prototype.onTransitionEnd_=function(a){a=a.propertyName;var b=a===void 0?"":a;a=i.some(function(a){return!!~b.indexOf(a)});a&&this.refresh()};a.getInstance=function(){this.instance_||(this.instance_=new a());return this.instance_};a.instance_=null;return a}(),l=function(a,b){for(var c=0,d=Object.keys(b);c<d.length;c++){var e=d[c];Object.defineProperty(a,e,{value:b[e],enumerable:!1,writable:!1,configurable:!0})}return a},m=function(a){a=a&&a.ownerDocument&&a.ownerDocument.defaultView;return a||d},n=x(0,0,0,0);function o(a){return parseFloat(a)||0}function p(a){var b=[];for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.reduce(function(b,c){c=a["border-"+c+"-width"];return b+o(c)},0)}function q(a){var b=["top","right","bottom","left"],c={};for(var d=0,b=b;d<b.length;d++){var e=b[d],f=a["padding-"+e];c[e]=o(f)}return c}function r(a){a=a.getBBox();return x(0,0,a.width,a.height)}function s(a){var b=a.clientWidth,c=a.clientHeight;if(!b&&!c)return n;var d=m(a).getComputedStyle(a),e=q(d),f=e.left+e.right,g=e.top+e.bottom,h=o(d.width),i=o(d.height);d.boxSizing==="border-box"&&(Math.round(h+f)!==b&&(h-=p(d,"left","right")+f),Math.round(i+g)!==c&&(i-=p(d,"top","bottom")+g));if(!u(a)){d=Math.round(h+f)-b;a=Math.round(i+g)-c;Math.abs(d)!==1&&(h-=d);Math.abs(a)!==1&&(i-=a)}return x(e.left,e.top,h,i)}var t=function(){return typeof SVGGraphicsElement!=="undefined"?function(a){return a instanceof m(a).SVGGraphicsElement}:function(a){return a instanceof m(a).SVGElement&&typeof a.getBBox==="function"}}();function u(a){return a===m(a).document.documentElement}function v(a){if(!c)return n;return t(a)?r(a):s(a)}function w(a){var b=a.x,c=a.y,d=a.width;a=a.height;var e=typeof DOMRectReadOnly!=="undefined"?DOMRectReadOnly:Object;e=Object.create(e.prototype);l(e,{x:b,y:c,width:d,height:a,top:c,right:b+d,bottom:a+c,left:b});return e}function x(a,b,c,d){return{x:a,y:b,width:c,height:d}}var y=function(){function a(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=x(0,0,0,0),this.target=a}a.prototype.isActive=function(){var a=v(this.target);this.contentRect_=a;return a.width!==this.broadcastWidth||a.height!==this.broadcastHeight};a.prototype.broadcastRect=function(){var a=this.contentRect_;this.broadcastWidth=a.width;this.broadcastHeight=a.height;return a};return a}(),z=function(){function a(a,b){b=w(b);l(this,{target:a,contentRect:b})}return a}(),A=function(){function a(a,c,d){this.activeObservations_=[];this.observations_=new b();if(typeof a!=="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a;this.controller_=c;this.callbackCtx_=d}a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element==="undefined"||!(Element instanceof Object))return;if(!(a instanceof m(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;if(b.has(a))return;b.set(a,new y(a));this.controller_.addObserver(this);this.controller_.refresh()};a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element==="undefined"||!(Element instanceof Object))return;if(!(a instanceof m(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;if(!b.has(a))return;b["delete"](a);b.size||this.controller_.removeObserver(this)};a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};a.prototype.gatherActive=function(){var a=this;this.clearActive();this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})};a.prototype.broadcastActive=function(){if(!this.hasActive())return;var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new z(a.target,a.broadcastRect())});this.callback_.call(a,b,a);this.clearActive()};a.prototype.clearActive=function(){this.activeObservations_.splice(0)};a.prototype.hasActive=function(){return this.activeObservations_.length>0};return a}(),B=typeof WeakMap!=="undefined"?new WeakMap():new b(),C=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var c=k.getInstance(),d=new A(b,c,this);B.set(this,d)}return a}();["observe","unobserve","disconnect"].forEach(function(a){C.prototype[a]=function(){var b;return(b=B.get(this))[a].apply(b,arguments)}});var D=function(){return typeof d.ResizeObserver!=="undefined"?d.ResizeObserver:C}();return D})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("tabbable-5.1.5",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],b=a.join(","),c=typeof Element==="undefined"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,d=function(a,d,e){var f=Array.prototype.slice.apply(a.querySelectorAll(b));d&&c.call(a,b)&&f.unshift(a);f=f.filter(e);return f},e=function(a){return a.contentEditable==="true"},f=function(a){var b=parseInt(a.getAttribute("tabindex"),10);if(!isNaN(b))return b;if(e(a))return 0;return(a.nodeName==="AUDIO"||a.nodeName==="VIDEO"||a.nodeName==="DETAILS")&&a.getAttribute("tabindex")===null?0:a.tabIndex},h=function(a,b){return a.tabIndex===b.tabIndex?a.documentOrder-b.documentOrder:a.tabIndex-b.tabIndex},i=function(a){return a.tagName==="INPUT"},j=function(a){return i(a)&&a.type==="hidden"},k=function(a){a=a.tagName==="DETAILS"&&Array.prototype.slice.apply(a.children).some(function(a){return a.tagName==="SUMMARY"});return a},l=function(a,b){for(var c=0;c<a.length;c++)if(a[c].checked&&a[c].form===b)return a[c]},m=function(a){if(!a.name)return!0;var b=a.form||a.ownerDocument,c=function(a){return b.querySelectorAll('input[type="radio"][name="'+a+'"]')},d;if(typeof window!=="undefined"&&typeof window.CSS!=="undefined"&&typeof window.CSS.escape==="function")d=c(window.CSS.escape(a.name));else try{d=c(a.name)}catch(a){console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message);return!1}c=l(d,a.form);return!c||c===a},n=function(a){return i(a)&&a.type==="radio"},o=function(a){return n(a)&&!m(a)},p=function(a){if(getComputedStyle(a).visibility==="hidden")return!0;var b=c.call(a,"details>summary:first-of-type");b=b?a.parentElement:a;if(c.call(b,"details:not([open]) *"))return!0;while(a){if(getComputedStyle(a).display==="none")return!0;a=a.parentElement}return!1},q=function(a){return a.disabled||j(a)||p(a)||k(a)?!1:!0},r=function(a){return!q(a)||o(a)||f(a)<0?!1:!0},s=function(a,b){b=b||{};var c=[],e=[];a=d(a,b.includeContainer,r);a.forEach(function(a,b){var d=f(a);d===0?c.push(a):e.push({documentOrder:b,tabIndex:d,node:a})});b=e.sort(h).map(function(a){return a.node}).concat(c);return b},t=function(a,b){b=b||{};a=d(a,b.includeContainer,q);return a},u=function(a){if(!a)throw new Error("No node provided");return c.call(a,b)===!1?!1:r(a)},v=a.concat("iframe").join(",");a=function(a){if(!a)throw new Error("No node provided");return c.call(a,v)===!1?!1:q(a)};g.focusable=t;g.isFocusable=a;g.isTabbable=u;g.tabbable=s}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("tabbable",["tabbable-5.1.5"],(function(a,b,c,d,e,f){e.exports=b("tabbable-5.1.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("ua-parser-js-0.7.39",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a,b){var c="0.7.39",d="",e="?",f="function",i="undefined",j="object",k="string",l="major",m="model",n="name",o="type",p="vendor",q="version",r="architecture",s="console",t="mobile",u="tablet",v="smarttv",w="wearable",x="embedded",y=500,z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",aa="Edge",F="Firefox",G="Google",H="Huawei",I="LG",J="Microsoft",K="Motorola",L="Opera",M="Samsung",N="Sharp",O="Sony",P="Xiaomi",Q="Zebra",R="Facebook",S="Chromium OS",ba="Mac OS",ca=" Browser",da=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2===0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},T=function(a){var b={};for(var c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},ea=function(a,b){return typeof a===k?U(b).indexOf(U(a))!==-1:!1},U=function(a){return a.toLowerCase()},fa=function(a){return typeof a===k?a.replace(/[^\d\.]/g,d).split(".")[0]:b},V=function(a,b){if(typeof a===k){a=a.replace(/^\s\s*/,d);return typeof b===i?a:a.substring(0,y)}},W=function(a,c){var d=0,e,g,h,i,k,l;while(d<c.length&&!k){var m=c[d],n=c[d+1];e=g=0;while(e<m.length&&!k){if(!m[e])break;k=m[e++].exec(a);if(k)for(h=0;h<n.length;h++)l=k[++g],i=n[h],typeof i===j&&i.length>0?i.length===2?typeof i[1]==f?this[i[0]]=i[1].call(this,l):this[i[0]]=i[1]:i.length===3?typeof i[1]===f&&!(i[1].exec&&i[1].test)?this[i[0]]=l?i[1].call(this,l,i[2]):b:this[i[0]]=l?l.replace(i[1],i[2]):b:i.length===4&&(this[i[0]]=l?i[3].call(this,l.replace(i[1],i[2])):b):this[i]=l?l:b}d+=2}},X=function(a,c){for(var d in c)if(typeof c[d]===j&&c[d].length>0){for(var f=0;f<c[d].length;f++)if(ea(c[d][f],a))return d===e?b:d}else if(ea(c[d],a))return d===e?b:d;return c.hasOwnProperty("*")?c["*"]:a},ga={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ha={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ia={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[q,[n,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[q,[n,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[n,q],[/opios[\/ ]+([\w\.]+)/i],[q,[n,L+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[q,[n,L+" GX"]],[/\bopr\/([\w\.]+)/i],[q,[n,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[q,[n,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[n,q],[/quark(?:pc)?\/([-\w\.]+)/i],[q,[n,"Quark"]],[/\bddg\/([\w\.]+)/i],[q,[n,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[q,[n,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[q,[n,"WeChat"]],[/konqueror\/([\w\.]+)/i],[q,[n,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[q,[n,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[q,[n,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[q,[n,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[n,/(.+)/,"$1 Secure "+D],q],[/\bfocus\/([\w\.]+)/i],[q,[n,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[q,[n,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[q,[n,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[q,[n,"Dolphin"]],[/coast\/([\w\.]+)/i],[q,[n,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[q,[n,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[q,[n,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[n,"360"+ca]],[/\b(qq)\/([\w\.]+)/i],[[n,/(.+)/,"$1Browser"],q],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[n,/(.+)/,"$1"+ca],q],[/samsungbrowser\/([\w\.]+)/i],[q,[n,M+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],q],[/metasr[\/ ]?([\d\.]+)/i],[q,[n,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[n,"Sogou Mobile"],q],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[n,q],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[n],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[n,R],q],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[n,q],[/\bgsa\/([\w\.]+) .*safari\//i],[q,[n,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[q,[n,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[q,[n,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[n,E+" WebView"],q],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[q,[n,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[n,q],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[q,[n,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[q,n],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[n,[q,X,ga]],[/(webkit|khtml)\/([\w\.]+)/i],[n,q],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[n,"Netscape"],q],[/(wolvic)\/([\w\.]+)/i],[n,q],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[q,[n,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[n,[q,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[n,[q,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[r,"amd64"]],[/(ia32(?=;))/i],[[r,U]],[/((?:i[346]|x)86)[;\)]/i],[[r,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[r,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[r,"armhf"]],[/windows (ce|mobile); ppc;/i],[[r,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[r,/ower/,d,U]],[/(sun4\w)[;\)]/i],[[r,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[r,U]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[p,M],[o,u]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[m,[p,M],[o,t]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[p,A],[o,t]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[p,A],[o,u]],[/(macintosh);/i],[m,[p,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[p,N],[o,t]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[p,H],[o,u]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[p,H],[o,t]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[m,/_/g," "],[p,P],[o,t]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[p,P],[o,u]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[p,"OPPO"],[o,t]],[/\b(opd2\d{3}a?) bui/i],[m,[p,"OPPO"],[o,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[p,"Vivo"],[o,t]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[p,"Realme"],[o,t]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[p,K],[o,t]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[p,K],[o,u]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[p,I],[o,u]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[p,I],[o,t]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[p,"Lenovo"],[o,u]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[p,"Nokia"],[o,t]],[/(pixel c)\b/i],[m,[p,G],[o,u]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[p,G],[o,t]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[p,O],[o,t]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[p,O],[o,u]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[p,"OnePlus"],[o,t]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[p,z],[o,u]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[p,z],[o,t]],[/(playbook);[-\w\),; ]+(rim)/i],[m,p,[o,u]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[p,C],[o,t]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[p,B],[o,u]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[p,B],[o,t]],[/(nexus 9)/i],[m,[p,"HTC"],[o,u]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[m,/_/g," "],[o,t]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[m,[p,"TCL"],[o,u]],[/(itel) ((\w+))/i],[[p,U],m,[o,X,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[p,"Acer"],[o,u]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[p,"Meizu"],[o,t]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[p,"Ulefone"],[o,t]],[/droid.+; (a(?:015|06[35]|142p?))/i],[m,[p,"Nothing"],[o,t]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,m,[o,t]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,m,[o,u]],[/(surface duo)/i],[m,[p,J],[o,u]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[p,"Fairphone"],[o,t]],[/(u304aa)/i],[m,[p,"AT&T"],[o,t]],[/\bsie-(\w*)/i],[m,[p,"Siemens"],[o,t]],[/\b(rct\w+) b/i],[m,[p,"RCA"],[o,u]],[/\b(venue[\d ]{2,7}) b/i],[m,[p,"Dell"],[o,u]],[/\b(q(?:mv|ta)\w+) b/i],[m,[p,"Verizon"],[o,u]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[p,"Barnes & Noble"],[o,u]],[/\b(tm\d{3}\w+) b/i],[m,[p,"NuVision"],[o,u]],[/\b(k88) b/i],[m,[p,"ZTE"],[o,u]],[/\b(nx\d{3}j) b/i],[m,[p,"ZTE"],[o,t]],[/\b(gen\d{3}) b.+49h/i],[m,[p,"Swiss"],[o,t]],[/\b(zur\d{3}) b/i],[m,[p,"Swiss"],[o,u]],[/\b((zeki)?tb.*\b) b/i],[m,[p,"Zeki"],[o,u]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],m,[o,u]],[/\b(ns-?\w{0,9}) b/i],[m,[p,"Insignia"],[o,u]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[p,"NextBook"],[o,u]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],m,[o,t]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],m,[o,t]],[/\b(ph-1) /i],[m,[p,"Essential"],[o,t]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[p,"Envizen"],[o,u]],[/\b(trio[-\w\. ]+) b/i],[m,[p,"MachSpeed"],[o,u]],[/\btu_(1491) b/i],[m,[p,"Rotor"],[o,u]],[/(shield[\w ]+) b/i],[m,[p,"Nvidia"],[o,u]],[/(sprint) (\w+)/i],[p,m,[o,t]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[p,J],[o,t]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[p,Q],[o,u]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[p,Q],[o,t]],[/smart-tv.+(samsung)/i],[p,[o,v]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[p,M],[o,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,I],[o,v]],[/(apple) ?tv/i],[p,[m,A+" TV"],[o,v]],[/crkey/i],[[m,E+"cast"],[p,G],[o,v]],[/droid.+aft(\w+)( bui|\))/i],[m,[p,z],[o,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[p,N],[o,v]],[/(bravia[\w ]+)( bui|\))/i],[m,[p,O],[o,v]],[/(mitv-\w{5}) bui/i],[m,[p,P],[o,v]],[/Hbbtv.*(technisat) (.*);/i],[p,m,[o,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,V],[m,V],[o,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,m,[o,s]],[/droid.+; (shield) bui/i],[m,[p,"Nvidia"],[o,s]],[/(playstation [345portablevi]+)/i],[m,[p,O],[o,s]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[p,J],[o,s]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[m,[p,M],[o,w]],[/((pebble))app/i],[p,m,[o,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[p,A],[o,w]],[/droid.+; (glass) \d/i],[m,[p,G],[o,w]],[/droid.+; (wt63?0{2,3})\)/i],[m,[p,Q],[o,w]],[/(quest( \d| pro)?)/i],[m,[p,R],[o,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[o,x]],[/(aeobc)\b/i],[m,[p,z],[o,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[o,t]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[o,u]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,u]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[o,t]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[q,[n,aa+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[q,[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[n,q],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[q,n]],os:[[/microsoft (windows) (vista|xp)/i],[n,q],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[n,[q,X,ha]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[q,X,ha],[n,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[q,/_/g,"."],[n,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[n,ba],[q,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[q,n],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[n,q],[/\(bb(10);/i],[q,[n,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[q,[n,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[q,[n,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[q,[n,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[q,[n,"watchOS"]],[/crkey\/([\d\.]+)/i],[q,[n,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[n,S],q],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[n,q],[/(sunos) ?([\w\.\d]*)/i],[[n,"Solaris"],q],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[n,q]]},Y=function(c,e){typeof c===j&&(e=c,c=b);if(!(this instanceof Y))return new Y(c,e).getResult();var g=typeof a!==i&&a.navigator?a.navigator:b,h=c||(g&&g.userAgent?g.userAgent:d),s=g&&g.userAgentData?g.userAgentData:b,v=e?da(ia,e):ia,w=g&&g.userAgent==h;this.getBrowser=function(){var a={};a[n]=b;a[q]=b;W.call(a,h,v.browser);a[l]=fa(a[q]);w&&g&&g.brave&&typeof g.brave.isBrave==f&&(a[n]="Brave");return a};this.getCPU=function(){var a={};a[r]=b;W.call(a,h,v.cpu);return a};this.getDevice=function(){var a={};a[p]=b;a[m]=b;a[o]=b;W.call(a,h,v.device);w&&!a[o]&&s&&s.mobile&&(a[o]=t);w&&a[m]=="Macintosh"&&g&&typeof g.standalone!==i&&g.maxTouchPoints&&g.maxTouchPoints>2&&(a[m]="iPad",a[o]=u);return a};this.getEngine=function(){var a={};a[n]=b;a[q]=b;W.call(a,h,v.engine);return a};this.getOS=function(){var a={};a[n]=b;a[q]=b;W.call(a,h,v.os);w&&!a[n]&&s&&s.platform&&s.platform!="Unknown"&&(a[n]=s.platform.replace(/chrome os/i,S).replace(/macos/i,ba));return a};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return h};this.setUA=function(a){h=typeof a===k&&a.length>y?V(a,y):a;return this};this.setUA(h);return this};Y.VERSION=c;Y.BROWSER=T([n,q,l]);Y.CPU=T([r]);Y.DEVICE=T([m,p,o,s,t,v,u,w,x]);Y.ENGINE=Y.OS=T([n,q]);typeof g!==i?(typeof h!==i&&h.exports&&(g=h.exports=Y),g.UAParser=Y):typeof a!==i&&(a.UAParser=Y);var Z=typeof a!==i&&(a.jQuery||a.Zepto);if(Z&&!Z.ua){var $=new Y();Z.ua=$.getResult();Z.ua.get=function(){return $.getUA()};Z.ua.set=function(a){$.setUA(a);a=$.getResult();for(var b in a)Z.ua[b]=a[b]}}})(typeof window==="object"?window:this)}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("ua-parser-js",["ua-parser-js-0.7.39"],(function(a,b,c,d,e,f){e.exports=b("ua-parser-js-0.7.39")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("url-search-params-polyfill-5.1.0",[],(function(a,b,c,d,e,f){"use strict";c={};var g={exports:c};function h(){(function(a){var b=a.URLSearchParams&&a.URLSearchParams.prototype.get?a.URLSearchParams:null,c=b&&new b({a:1}).toString()==="a=1",d=b&&new b("s=%2B").get("s")==="+",e="__URLSearchParams__",f=b?function(){var a=new b();a.append("s"," &");return a.toString()==="s=+%26"}():!0,g=i.prototype,h=!!(a.Symbol&&a.Symbol.iterator);if(b&&c&&d&&f)return;function i(a){a=a||"",(a instanceof URLSearchParams||a instanceof i)&&(a=a.toString()),this[e]=m(a)}g.append=function(a,b){n(this[e],a,b)};g["delete"]=function(a){delete this[e][a]};g.get=function(a){var b=this[e];return a in b?b[a][0]:null};g.getAll=function(a){var b=this[e];return a in b?b[a].slice(0):[]};g.has=function(a){return a in this[e]};g.set=function(a,b){this[e][a]=[""+b]};g.toString=function(){var a=this[e],b=[],c,d,f,g;for(d in a){f=j(d);for(c=0,g=a[d];c<g.length;c++)b.push(f+"="+j(g[c]))}return b.join("&")};f=!d;g=!f&&b&&!c&&a.Proxy;Object.defineProperty(a,"URLSearchParams",{value:g?new Proxy(b,{construct:function(a,b){return new a(new i(b[0]).toString())}}):i});d=a.URLSearchParams.prototype;d.polyfill=!0;d.forEach=d.forEach||function(a,b){var c=m(this.toString());Object.getOwnPropertyNames(c).forEach(function(d){c[d].forEach(function(c){a.call(b,c,d,this)},this)},this)};d.sort=d.sort||function(){var a=m(this.toString()),b=[],c,d;for(c in a)b.push(c);b.sort();for(c=0;c<b.length;c++)this["delete"](b[c]);for(c=0;c<b.length;c++){var e=b[c],f=a[e];for(d=0;d<f.length;d++)this.append(e,f[d])}};d.keys=d.keys||function(){var a=[];this.forEach(function(b,c){a.push(c)});return l(a)};d.values=d.values||function(){var a=[];this.forEach(function(b){a.push(b)});return l(a)};d.entries=d.entries||function(){var a=[];this.forEach(function(b,c){a.push([c,b])});return l(a)};h&&(d[a.Symbol.iterator]=d[a.Symbol.iterator]||d.entries);function j(a){var b={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'\(\)~]|%20|%00/g,function(a){return b[a]})}function k(a){return decodeURIComponent(a.replace(/\+/g," "))}function l(b){var c={next:function(){var a=b.shift();return{done:a===void 0,value:a}}};h&&(c[a.Symbol.iterator]=function(){return c});return c}function m(a){var b={};if(typeof a==="object")for(var c in a)a.hasOwnProperty(c)&&n(b,c,a[c]);else{a.indexOf("?")===0&&(a=a.slice(1));c=a.split("&");for(a=0;a<c.length;a++){var d=c[a],e=d.indexOf("=");-1<e?n(b,k(d.slice(0,e)),k(d.slice(e+1))):d&&n(b,k(d),"")}}return b}function n(a,b,c){c=typeof c==="string"?c:c!==null&&c!==void 0&&typeof c.toString==="function"?c.toString():JSON.stringify(c);b in a?a[b].push(c):a[b]=[c]}})(typeof a!=="undefined"?a:typeof window!=="undefined"?window:this)}var i=!1;function j(){i||(i=!0,h());return g.exports}function b(a){switch(a){case void 0:return j()}}e.exports=b}),null);
__d("url-search-params-polyfill",["url-search-params-polyfill-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("url-search-params-polyfill-5.1.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("velocity-animate-1.5.2",[],(function(a,b,c,d,e,f){"use strict";c={};var g={exports:c};function h(){(function(a){if(a.jQuery)return;var b=function(a,c){return new b.fn.init(a,c)};b.isWindow=function(a){return a&&a===a.window};b.type=function(a){return!a?a+"":typeof a==="object"||typeof a==="function"?e[g.call(a)]||"object":typeof a};b.isArray=Array.isArray||function(a){return b.type(a)==="array"};function c(a){var c=a.length,d=b.type(a);if(d==="function"||b.isWindow(a))return!1;return a.nodeType===1&&c?!0:d==="array"||c===0||typeof c==="number"&&c>0&&c-1 in a}b.isPlainObject=function(a){var c;if(!a||b.type(a)!=="object"||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(c in a);return c===void 0||f.call(a,c)};b.each=function(b,d,e){var f,a=0,g=b.length,h=c(b);if(e)if(h)for(;a<g;a++){f=d.apply(b[a],e);if(f===!1)break}else for(a in b){if(!b.hasOwnProperty(a))continue;f=d.apply(b[a],e);if(f===!1)break}else if(h)for(;a<g;a++){f=d.call(b[a],a,b[a]);if(f===!1)break}else for(a in b){if(!b.hasOwnProperty(a))continue;f=d.call(b[a],a,b[a]);if(f===!1)break}return b};b.data=function(a,c,e){if(e===void 0){var f=a[b.expando];f=f&&d[f];if(c===void 0)return f;else if(f&&c in f)return f[c]}else if(c!==void 0){f=a[b.expando]||(a[b.expando]=++b.uuid);d[f]=d[f]||{};d[f][c]=e;return e}};b.removeData=function(a,c){a=a[b.expando];var e=a&&d[a];e&&(!c?delete d[a]:b.each(c,function(a,b){delete e[b]}))};b.extend=function(){var c,d,e,f,g,h,i=arguments[0]||{},a=1,j=arguments.length,k=!1;typeof i==="boolean"&&(k=i,i=arguments[a]||{},a++);typeof i!=="object"&&b.type(i)!=="function"&&(i={});a===j&&(i=this,a--);for(;a<j;a++)if(g=arguments[a])for(f in g){if(!g.hasOwnProperty(f))continue;c=i[f];e=g[f];if(i===e)continue;k&&e&&(b.isPlainObject(e)||(d=b.isArray(e)))?(d?(d=!1,h=c&&b.isArray(c)?c:[]):h=c&&b.isPlainObject(c)?c:{},i[f]=b.extend(k,h,e)):e!==void 0&&(i[f]=e)}return i};b.queue=function(a,d,e){function f(a,b){b=b||[];a&&(c(Object(a))?function(b,c){var d=+c.length,e=0,a=b.length;while(e<d)b[a++]=c[e++];if(d!==d)while(c[e]!==void 0)b[a++]=c[e++];b.length=a;return b}(b,typeof a==="string"?[a]:a):[].push.call(b,a));return b}if(!a)return;d=(d||"fx")+"queue";var g=b.data(a,d);if(!e)return g||[];!g||b.isArray(e)?g=b.data(a,d,f(e)):g.push(e);return g};b.dequeue=function(a,c){b.each(a.nodeType?[a]:a,function(a,d){c=c||"fx";a=b.queue(d,c);var e=a.shift();e==="inprogress"&&(e=a.shift());e&&(c==="fx"&&a.unshift("inprogress"),e.call(d,function(){b.dequeue(d,c)}))})};b.fn=b.prototype={init:function(a){if(a.nodeType){this[0]=a;return this}else throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(a){a=a.offsetParent;while(a&&a.nodeName.toLowerCase()!=="html"&&a.style&&a.style.position.toLowerCase()==="static")a=a.offsetParent;return a||document}var c=this[0];a=a(c);var d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:b(a).offset();d.top-=parseFloat(c.style.marginTop)||0;d.left-=parseFloat(c.style.marginLeft)||0;a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0);return{top:d.top-e.top,left:d.left-e.left}}};var d={};b.expando="velocity"+new Date().getTime();b.uuid=0;var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" ");for(var i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();b.fn.init.prototype=b.fn;a.Velocity={Utilities:b}})(window),(function(a){typeof g==="object"&&typeof g.exports==="object"?g.exports=a():a()})(function(){return function(b,c,d,e){var f=function(){if(d.documentMode)return d.documentMode;else for(var a=7;a>4;a--){var b=d.createElement("div");b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->";if(b.getElementsByTagName("span").length)return a}return e}(),g=function(){var a=0;return c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||function(b){var c=new Date().getTime(),d;d=Math.max(0,16-(c-a));a=c+d;return setTimeout(function(){b(c+d)},d)}}(),h=function(){var a=c.performance||{};if(typeof a.now!=="function"){var b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:new Date().getTime();a.now=function(){return new Date().getTime()-b}}return a}();function i(a){var b=-1,c=a?a.length:0,d=[];while(++b<c){var e=a[b];e&&d.push(e)}return d}var j=function(){var a=Array.prototype.slice;try{a.call(d.documentElement);return a}catch(b){return function(b,c){var d=this.length;typeof b!=="number"&&(b=0);typeof c!=="number"&&(c=d);if(this.slice)return a.call(this,b,c);var e=[];b=b>=0?b:Math.max(0,d+b);c=c<0?d+c:Math.min(c,d);d=c-b;if(d>0){e=new Array(d);if(this.charAt)for(c=0;c<d;c++)e[c]=this.charAt(b+c);else for(c=0;c<d;c++)e[c]=this[b+c]}return e}}}(),k=function(){if(Array.prototype.includes)return function(a,b){return a.includes(b)};return Array.prototype.indexOf?function(a,b){return a.indexOf(b)>=0}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1}};function l(a){m.isWrapped(a)?a=j.call(a):m.isNode(a)&&(a=[a]);return a}var m={isNumber:function(a){return typeof a==="number"},isString:function(a){return typeof a==="string"},isArray:Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},isFunction:function(a){return Object.prototype.toString.call(a)==="[object Function]"},isNode:function(a){return a&&a.nodeType},isWrapped:function(a){return a&&a!==c&&m.isNumber(a.length)&&!m.isString(a)&&!m.isFunction(a)&&!m.isNode(a)&&(a.length===0||m.isNode(a[0]))},isSVG:function(a){return c.SVGElement&&a instanceof c.SVGElement},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}},n,o=!1;b.fn&&b.fn.jquery?(n=b,o=!0):n=c.Velocity.Utilities;if(f<=8&&!o)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");else if(f<=7){jQuery.fn.velocity=jQuery.fn.animate;return}var p=400,q="swing",r={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c.navigator.userAgent),isAndroid:/Android/i.test(c.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(c.navigator.userAgent),isChrome:c.chrome,isFirefox:/Firefox/i.test(c.navigator.userAgent),prefixElement:d.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:n,Redirects:{},Easings:{},Promise:c.Promise,defaults:{queue:"",duration:p,easing:q,begin:e,complete:e,progress:e,display:e,visibility:e,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(a){n.data(a,"velocity",{isSVG:m.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:2},debug:!1,timestamp:!0,pauseAll:function(a){var b=new Date().getTime();n.each(r.State.calls,function(b,c){if(c){if(a!==e&&(c[2].queue!==a||c[2].queue===!1))return!0;c[5]={resume:!1}}});n.each(r.State.delayedElements,function(a,c){if(!c)return;t(c,b)})},resumeAll:function(a){new Date().getTime(),n.each(r.State.calls,function(b,c){if(c){if(a!==e&&(c[2].queue!==a||c[2].queue===!1))return!0;c[5]&&(c[5].resume=!0)}}),n.each(r.State.delayedElements,function(a,b){if(!b)return;u(b)})}};c.pageYOffset!==e?(r.State.scrollAnchor=c,r.State.scrollPropertyLeft="pageXOffset",r.State.scrollPropertyTop="pageYOffset"):(r.State.scrollAnchor=d.documentElement||d.body.parentNode||d.body,r.State.scrollPropertyLeft="scrollLeft",r.State.scrollPropertyTop="scrollTop");function s(a){a=n.data(a,"velocity");return a===null?e:a}function t(a,b){a=s(a);a&&a.delayTimer&&!a.delayPaused&&(a.delayRemaining=a.delay-b+a.delayBegin,a.delayPaused=!0,clearTimeout(a.delayTimer.setTimeout))}function u(a,b){b=s(a);b&&b.delayTimer&&b.delayPaused&&(b.delayPaused=!1,b.delayTimer.setTimeout=setTimeout(b.delayTimer.next,b.delayRemaining))}function v(a){return function(b){return Math.round(b*a)*(1/a)}}function w(a,b,d,e){var f=4,g=.001,h=1e-7,i=10,j=11,k=1/(j-1),l="Float32Array"in c;if(arguments.length!==4)return!1;for(var m=0;m<4;++m)if(typeof arguments[m]!=="number"||isNaN(arguments[m])||!isFinite(arguments[m]))return!1;a=Math.min(a,1);d=Math.min(d,1);a=Math.max(a,0);d=Math.max(d,0);var n=l?new Float32Array(j):new Array(j);function o(a,b){return 1-3*b+3*a}function p(a,b){return 3*b-6*a}function q(a){return 3*a}function r(a,b,c){return((o(b,c)*a+p(b,c))*a+q(b))*a}function s(a,b,c){return 3*o(b,c)*a*a+2*p(b,c)*a+q(b)}function t(c,e){for(var b=0;b<f;++b){var g=s(e,a,d);if(g===0)return e;var h=r(e,a,d)-c;e-=h/g}return e}function u(){for(var b=0;b<j;++b)n[b]=r(b*k,a,d)}function v(c,e,f){var g,j,b=0;do j=e+(f-e)/2,g=r(j,a,d)-c,g>0?f=j:e=j;while(Math.abs(g)>h&&++b<i);return j}function w(b){var c=0,e=1,f=j-1;for(;e!==f&&n[e]<=b;++e)c+=k;--e;f=(b-n[e])/(n[e+1]-n[e]);e=c+f*k;f=s(e,a,d);if(f>=g)return t(b,e);else if(f===0)return e;else return v(b,c,c+k)}var x=!1;function y(){x=!0,(a!==b||d!==e)&&u()}var z=function(c){x||y();if(a===b&&d===e)return c;if(c===0)return 0;return c===1?1:r(w(c),b,e)};z.getControlPoints=function(){return[{x:a,y:b},{x:d,y:e}]};var A="generateBezier("+[a,b,d,e]+")";z.toString=function(){return A};return z}var x=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){d={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:d.v,dv:a(d)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,d*.5,e),g=b(c,d*.5,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx);e=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);c.x=c.x+i*d;c.v=c.v+e*d;return c}return function a(b,d,e){var f={x:-1,v:0,tension:null,friction:null},g=[0],h=0,i=1/1e4,j=16/1e3,k,l;b=parseFloat(b)||500;d=parseFloat(d)||20;e=e||null;f.tension=b;f.friction=d;k=e!==null;k?(h=a(b,d),b=h/e*j):b=j;while(!0){l=c(l||f,b);g.push(1+l.x);h+=16;if(!(Math.abs(l.x)>i&&Math.abs(l.v)>i))break}return k?function(a){return g[a*(g.length-1)|0]}:h}}();r.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(a*4.5*Math.PI)*Math.exp(-a*6)}};n.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){r.Easings[b[0]]=w.apply(null,b[1])});function y(a,b){var c=a;m.isString(a)?r.Easings[a]||(c=!1):m.isArray(a)&&a.length===1?c=v.apply(null,a):m.isArray(a)&&a.length===2?c=x.apply(null,a.concat([b])):m.isArray(a)&&a.length===4?c=w.apply(null,a):c=!1;c===!1&&(r.Easings[r.defaults.easing]?c=r.defaults.easing:c=q);return c}var z=r.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<z.Lists.colors.length;a++){var b=z.Lists.colors[a]==="color"?"0 0 0 1":"255 255 255 1";z.Hooks.templates[z.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c;if(f)for(b in z.Hooks.templates){if(!z.Hooks.templates.hasOwnProperty(b))continue;a=z.Hooks.templates[b];c=a[0].split(" ");var d=a[1].match(z.RegEx.valueSplit);c[0]==="Color"&&(c.push(c.shift()),d.push(d.shift()),z.Hooks.templates[b]=[c.join(" "),d.join(" ")])}for(b in z.Hooks.templates){if(!z.Hooks.templates.hasOwnProperty(b))continue;a=z.Hooks.templates[b];c=a[0].split(" ");for(d in c){if(!c.hasOwnProperty(d))continue;a=b+c[d];var e=d;z.Hooks.registered[a]=[b,e]}}},getRoot:function(a){var b=z.Hooks.registered[a];if(b)return b[0];else return a},getUnit:function(a,b){a=(a.substr(b||0,5).match(/^[a-z%]+/)||[])[0]||"";return a&&k(z.Lists.units)?a:""},fixColors:function(a){return a.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(a,b,c){return z.Lists.colorNames.hasOwnProperty(c)?(b?b:"rgba(")+z.Lists.colorNames[c]+(b?"":",1)"):b+c})},cleanRootPropertyValue:function(a,b){z.RegEx.valueUnwrap.test(b)&&(b=b.match(z.RegEx.valueUnwrap)[1]);z.Values.isCSSNullValue(b)&&(b=z.Hooks.templates[a][1]);return b},extractValue:function(a,b){a=z.Hooks.registered[a];if(a){var c=a[0];a=a[1];b=z.Hooks.cleanRootPropertyValue(c,b);return b.toString().match(z.RegEx.valueSplit)[a]}else return b},injectValue:function(a,b,c){a=z.Hooks.registered[a];if(a){var d=a[0];a=a[1];c=z.Hooks.cleanRootPropertyValue(d,c);d=c.toString().match(z.RegEx.valueSplit);d[a]=b;a=d.join(" ");return a}else return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":z.RegEx.wrappedValueAlreadyExtracted.test(c)?b=c:(b=c.toString().match(z.RegEx.valueUnwrap),b=b?b[1].replace(/,(\s+)?/g," "):c);return b;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return r.State.isFirefox?"filter":"-webkit-filter";case"extract":b=parseFloat(c);if(!(b||b===0)){a=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a?b=a[1]:b=0}return b;case"inject":if(!parseFloat(c))return"none";else return"blur("+c+")"}},opacity:function(a,b,c){if(f<=8)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);d?c=d[1]/100:c=1;return c;case"inject":b.style.zoom=1;if(parseFloat(c)>=1)return"";else return"alpha(opacity="+parseInt(parseFloat(c)*100,10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){(!f||f>9)&&!r.State.isGingerbread&&(z.Lists.transformsBase=z.Lists.transformsBase.concat(z.Lists.transforms3D));for(var a=0;a<z.Lists.transformsBase.length;a++)(function(){var b=z.Lists.transformsBase[a];z.Normalizations.registered[b]=function(a,c,d){switch(a){case"name":return"transform";case"extract":return s(c)===e||s(c).transformCache[b]===e?/^scale/i.test(b)?1:0:s(c).transformCache[b].replace(/[()]/g,"");case"inject":a=!1;switch(b.substr(0,b.length-1)){case"translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(d);break;case"scal":case"scale":r.State.isAndroid&&s(c).transformCache[b]===e&&d<1&&(d=1);a=!/(\d)$/i.test(d);break;case"skew":a=!/(deg|\d)$/i.test(d);break;case"rotate":a=!/(deg|\d)$/i.test(d);break}a||(s(c).transformCache[b]="("+d+")");return s(c).transformCache[b]}}})();for(var b=0;b<z.Lists.colors.length;b++)(function(){var a=z.Lists.colors[b];z.Normalizations.registered[a]=function(b,c,d){switch(b){case"name":return a;case"extract":if(z.RegEx.wrappedValueAlreadyExtracted.test(d))c=d;else{var g;b={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(d)?b[d]!==e?g=b[d]:g=b.black:z.RegEx.isHex.test(d)?g="rgb("+z.Values.hexToRgb(d).join(" ")+")":/^rgba?\(/i.test(d)||(g=b.black);c=(g||d).toString().match(z.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}(!f||f>8)&&c.split(" ").length===3&&(c+=" 1");return c;case"inject":if(/^rgb/.test(d))return d;f<=8?d.split(" ").length===4&&(d=d.split(/\s+/).slice(0,3).join(" ")):d.split(" ").length===3&&(d+=" 1");return(f<=8?"rgb":"rgba")+"("+d.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}})();function c(b,c,d){var e=z.getPropertyValue(c,"boxSizing").toString().toLowerCase()==="border-box";if(e===(d||!1)){var a,f;e=0;b=b==="width"?["Left","Right"]:["Top","Bottom"];b=["padding"+b[0],"padding"+b[1],"border"+b[0]+"Width","border"+b[1]+"Width"];for(a=0;a<b.length;a++)f=parseFloat(z.getPropertyValue(c,b[a])),isNaN(f)||(e+=f);return d?-e:e}return 0}function d(a,b){return function(d,e,f){switch(d){case"name":return a;case"extract":return parseFloat(f)+c(a,e,b);case"inject":return parseFloat(f)-c(a,e,b)+"px"}}}z.Normalizations.registered.innerWidth=d("width",!0);z.Normalizations.registered.innerHeight=d("height",!0);z.Normalizations.registered.outerWidth=d("width");z.Normalizations.registered.outerHeight=d("height")}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";(f||r.State.isAndroid&&!r.State.isChrome)&&(b+="|transform");return new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(r.State.prefixMatches[a])return[r.State.prefixMatches[a],!0];else{var b=["","Webkit","Moz","ms","O"];for(var c=0,d=b.length;c<d;c++){var e;c===0?e=a:e=b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()});if(m.isString(r.State.prefixElement.style[e])){r.State.prefixMatches[a]=e;return[e,!0]}}return[a,!1]}}},Values:{hexToRgb:function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});b=c.exec(a);return b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){if(/^(rotate|skew)/i.test(a))return"deg";else if(/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a))return"";else return"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();if(/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a))return"inline";else if(/^(li)$/i.test(a))return"list-item";else if(/^(tr)$/i.test(a))return"table-row";else if(/^(table)$/i.test(a))return"table";else if(/^(tbody)$/i.test(a))return"table-row-group";else return"block"},addClass:function(a,b){if(a)if(a.classList)a.classList.add(b);else if(m.isString(a.className))a.className+=(a.className.length?" ":"")+b;else{var c=a.getAttribute(f<=7?"className":"class")||"";a.setAttribute("class",c+(c?" ":"")+b)}},removeClass:function(a,b){if(a)if(a.classList)a.classList.remove(b);else if(m.isString(a.className))a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ");else{var c=a.getAttribute(f<=7?"className":"class")||"";a.setAttribute("class",c.replace(new RegExp("(^|s)"+b.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(a,b,d,g){function h(a,b){var d=0;if(f<=8)d=n.css(a,b);else{var i=!1;/^(width|height)$/.test(b)&&z.getPropertyValue(a,"display")===0&&(i=!0,z.setPropertyValue(a,"display",z.Values.getDisplayType(a)));var j=function(){i&&z.setPropertyValue(a,"display","none")};if(!g)if(b==="height"&&z.getPropertyValue(a,"boxSizing").toString().toLowerCase()!=="border-box"){var k=a.offsetHeight-(parseFloat(z.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(z.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(z.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(z.getPropertyValue(a,"paddingBottom"))||0);j();return k}else if(b==="width"&&z.getPropertyValue(a,"boxSizing").toString().toLowerCase()!=="border-box"){k=a.offsetWidth-(parseFloat(z.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(z.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(z.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(z.getPropertyValue(a,"paddingRight"))||0);j();return k}s(a)===e?k=c.getComputedStyle(a,null):!s(a).computedStyle?k=s(a).computedStyle=c.getComputedStyle(a,null):k=s(a).computedStyle;b==="borderColor"&&(b="borderTopColor");f===9&&b==="filter"?d=k.getPropertyValue(b):d=k[b];(d===""||d===null)&&(d=a.style[b]);j()}if(d==="auto"&&/^(top|right|bottom|left)$/i.test(b)){k=h(a,"position");(k==="fixed"||k==="absolute"&&/top|left/i.test(b))&&(d=n(a).position()[b]+"px")}return d}var i;if(z.Hooks.registered[b]){var j=b,k=z.Hooks.getRoot(j);d===e&&(d=z.getPropertyValue(a,z.Names.prefixCheck(k)[0]));z.Normalizations.registered[k]&&(d=z.Normalizations.registered[k]("extract",a,d));i=z.Hooks.extractValue(j,d)}else if(z.Normalizations.registered[b]){var l;k=z.Normalizations.registered[b]("name",a);k!=="transform"&&(l=h(a,z.Names.prefixCheck(k)[0]),z.Values.isCSSNullValue(l)&&z.Hooks.templates[b]&&(l=z.Hooks.templates[b][1]));i=z.Normalizations.registered[b]("extract",a,l)}if(!/^[\d-]/.test(i)){j=s(a);if(j&&j.isSVG&&z.Names.SVGAttribute(b))if(/^(height|width)$/i.test(b))try{i=a.getBBox()[b]}catch(a){i=0}else i=a.getAttribute(b);else i=h(a,z.Names.prefixCheck(b)[0])}z.Values.isCSSNullValue(i)&&(i=0);r.debug>=2;return i},setPropertyValue:function(a,b,d,e,g){var h=b;if(b==="scroll")g.container?g.container["scroll"+g.direction]=d:g.direction==="Left"?c.scrollTo(d,g.alternateValue):c.scrollTo(g.alternateValue,d);else if(z.Normalizations.registered[b]&&z.Normalizations.registered[b]("name",a)==="transform")z.Normalizations.registered[b]("inject",a,d),h="transform",d=s(a).transformCache[b];else{if(z.Hooks.registered[b]){g=b;var i=z.Hooks.getRoot(b);e=e||z.getPropertyValue(a,i);d=z.Hooks.injectValue(g,d,e);b=i}z.Normalizations.registered[b]&&(d=z.Normalizations.registered[b]("inject",a,d),b=z.Normalizations.registered[b]("name",a));h=z.Names.prefixCheck(b)[0];if(f<=8)try{a.style[h]=d}catch(a){r.debug}else{g=s(a);g&&g.isSVG&&z.Names.SVGAttribute(b)?a.setAttribute(b,d):a.style[h]=d}r.debug>=2}return[h,d]},flushTransformCache:function(a){var b="",c=s(a);if((f||r.State.isAndroid&&!r.State.isChrome)&&c&&c.isSVG){c=function(b){return parseFloat(z.getPropertyValue(a,b))};var d={translate:[c("translateX"),c("translateY")],skewX:[c("skewX")],skewY:[c("skewY")],scale:c("scale")!==1?[c("scale"),c("scale")]:[c("scaleX"),c("scaleY")],rotate:[c("rotateZ"),0,0]};n.each(s(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(b+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e;n.each(s(a).transformCache,function(d){c=s(a).transformCache[d];if(d==="transformPerspective"){e=c;return!0}f===9&&d==="rotateZ"&&(d="rotate");b+=d+c+" "});e&&(b="perspective"+e+" "+b)}z.setPropertyValue(a,"transform",b)}};z.Hooks.register();z.Normalizations.register();r.hook=function(a,b,c){var d;a=l(a);n.each(a,function(a,f){s(f)===e&&r.init(f);if(c===e)d===e&&(d=z.getPropertyValue(f,b));else{a=z.setPropertyValue(f,b,c);a[0]==="transform"&&r.CSS.flushTransformCache(f);d=a}});return d};var A=function(){var a;function b(){if(g)return v.promise||null;else return h}var f=arguments[0]&&(arguments[0].p||n.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties)),g,h,i,j,o,q;m.isWrapped(this)?(g=!1,i=0,j=this,h=this):(g=!0,i=1,j=f?arguments[0].elements||arguments[0].e:arguments[0]);var v={promise:null,resolver:null,rejecter:null};g&&r.Promise&&(v.promise=new r.Promise(function(a,b){v.resolver=a,v.rejecter=b}));f?(o=arguments[0].properties||arguments[0].p,q=arguments[0].options||arguments[0].o):(o=arguments[i],q=arguments[i+1]);j=l(j);if(!j){v.promise&&(!o||!q||q.promiseRejectEmpty!==!1?v.rejecter():v.resolver());return}var w=j.length,x=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(o)&&!n.isPlainObject(q)){var B=i+1;q={};for(var E=B;E<arguments.length;E++)!m.isArray(arguments[E])&&(/^(fast|normal|slow)$/i.test(arguments[E])||/^\d/.test(arguments[E]))?q.duration=arguments[E]:m.isString(arguments[E])||m.isArray(arguments[E])?q.easing=arguments[E]:m.isFunction(arguments[E])&&(q.complete=arguments[E])}var F;switch(o){case"scroll":F="scroll";break;case"reverse":F="reverse";break;case"pause":var G=new Date().getTime();n.each(j,function(a,b){t(b,G)});n.each(r.State.calls,function(a,b){var c=!1;b&&n.each(b[1],function(a,d){a=q===e?"":q;if(a!==!0&&b[2].queue!==a&&!(q===e&&b[2].queue===!1))return!0;n.each(j,function(a,e){if(e===d){b[5]={resume:!1};c=!0;return!1}});if(c)return!1})});return b();case"resume":n.each(j,function(a,b){u(b)});n.each(r.State.calls,function(a,b){var c=!1;b&&n.each(b[1],function(a,d){a=q===e?"":q;if(a!==!0&&b[2].queue!==a&&!(q===e&&b[2].queue===!1))return!0;if(!b[5])return!0;n.each(j,function(a,e){if(e===d){b[5].resume=!0;c=!0;return!1}});if(c)return!1})});return b();case"finish":case"finishAll":case"stop":n.each(j,function(a,b){s(b)&&s(b).delayTimer&&(clearTimeout(s(b).delayTimer.setTimeout),s(b).delayTimer.next&&s(b).delayTimer.next(),delete s(b).delayTimer),o==="finishAll"&&(q===!0||m.isString(q))&&(n.each(n.queue(b,m.isString(q)?q:""),function(a,b){m.isFunction(b)&&b()}),n.queue(b,m.isString(q)?q:"",[]))});var H=[];n.each(r.State.calls,function(a,b){b&&n.each(b[1],function(c,d){var f=q===e?"":q;if(f!==!0&&b[2].queue!==f&&!(q===e&&b[2].queue===!1))return!0;n.each(j,function(c,e){if(e===d){(q===!0||m.isString(q))&&(n.each(n.queue(e,m.isString(q)?q:""),function(a,b){m.isFunction(b)&&b(null,!0)}),n.queue(e,m.isString(q)?q:"",[]));if(o==="stop"){c=s(e);c&&c.tweensContainer&&(f===!0||f==="")&&n.each(c.tweensContainer,function(a,b){b.endValue=b.currentValue});H.push(a)}else(o==="finish"||o==="finishAll")&&(b[2].duration=1)}})})});o==="stop"&&(n.each(H,function(a,b){D(b,!0)}),v.promise&&v.resolver(j));return b();default:if(n.isPlainObject(o)&&!m.isEmptyObject(o))F="start";else if(m.isString(o)&&r.Redirects[o]){a=n.extend({},q);var I=a.duration,J=a.delay||0;a.backwards===!0&&(j=n.extend(!0,[],j).reverse());n.each(j,function(b,c){parseFloat(a.stagger)?a.delay=J+parseFloat(a.stagger)*b:m.isFunction(a.stagger)&&(a.delay=J+a.stagger.call(c,b,w)),a.drag&&(a.duration=parseFloat(I)||(/^(callout|transition)/.test(o)?1e3:p),a.duration=Math.max(a.duration*(a.backwards?1-b/w:(b+1)/w),a.duration*.75,200)),r.Redirects[o].call(c,c,a||{},b,w,j,v.promise?v:e)});return b()}else{var K="Velocity: First argument ("+o+") was not a property map, a known action, or a registered redirect. Aborting.";v.promise?v.rejecter(new Error(K)):c.console;return b()}}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},M=[];function N(b,f){var a=n.extend({},r.defaults,q),g={},h;s(b)===e&&r.init(b);parseFloat(a.delay)&&a.queue!==!1&&n.queue(b,a.queue,function(c,d){if(d===!0)return!0;r.velocityQueueEntryFlag=!0;d=r.State.delayedElements.count++;r.State.delayedElements[d]=b;d=function(a){return function(){r.State.delayedElements[a]=!1,c()}}(d);s(b).delayBegin=new Date().getTime();s(b).delay=parseFloat(a.delay);s(b).delayTimer={setTimeout:setTimeout(c,parseFloat(a.delay)),next:d}});switch(a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=p;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}r.mock!==!1&&(r.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(r.mock)||1,a.delay*=parseFloat(r.mock)||1));a.easing=y(a.easing,a.duration);a.begin&&!m.isFunction(a.begin)&&(a.begin=null);a.progress&&!m.isFunction(a.progress)&&(a.progress=null);a.complete&&!m.isFunction(a.complete)&&(a.complete=null);a.display!==e&&a.display!==null&&(a.display=a.display.toString().toLowerCase(),a.display==="auto"&&(a.display=r.CSS.Values.getDisplayType(b)));a.visibility!==e&&a.visibility!==null&&(a.visibility=a.visibility.toString().toLowerCase());a.mobileHA=a.mobileHA&&r.State.isMobile&&!r.State.isGingerbread;function i(l){var p,t;if(a.begin&&x===0)try{a.begin.call(j,j)}catch(a){setTimeout(function(){throw a},1)}if(F==="scroll"){l=/^x$/i.test(a.axis)?"Left":"Top";var u=parseFloat(a.offset)||0,A,B,D;a.container?m.isWrapped(a.container)||m.isNode(a.container)?(a.container=a.container[0]||a.container,A=a.container["scroll"+l],D=A+n(b).position()[l.toLowerCase()]+u):a.container=null:(A=r.State.scrollAnchor[r.State["scrollProperty"+l]],B=r.State.scrollAnchor[r.State["scrollProperty"+(l==="Left"?"Top":"Left")]],D=n(b).offset()[l.toLowerCase()]+u);g={scroll:{rootPropertyValue:!1,startValue:A,currentValue:A,endValue:D,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:l,alternateValue:B}},element:b};r.debug}else if(F==="reverse"){p=s(b);if(!p)return;if(!p.tweensContainer){n.dequeue(b,a.queue);return}else{p.opts.display==="none"&&(p.opts.display="auto");p.opts.visibility==="hidden"&&(p.opts.visibility="visible");p.opts.loop=!1;p.opts.begin=null;p.opts.complete=null;q.easing||delete a.easing;q.duration||delete a.duration;a=n.extend({},p.opts,a);t=n.extend(!0,{},p?p.tweensContainer:null);for(u in t)if(t.hasOwnProperty(u)&&u!=="element"){l=t[u].startValue;t[u].startValue=t[u].currentValue=t[u].endValue;t[u].endValue=l;m.isEmptyObject(q)||(t[u].easing=a.easing);r.debug}g=t}}else if(F==="start"){p=s(b);p&&p.tweensContainer&&p.isAnimating===!0&&(t=p.tweensContainer);l=function(c,h){var d,e,g;m.isFunction(c)&&(c=c.call(b,f,w));m.isArray(c)?(d=c[0],!m.isArray(c[1])&&/^[\d-]/.test(c[1])||m.isFunction(c[1])||z.RegEx.isHex.test(c[1])?g=c[1]:m.isString(c[1])&&!z.RegEx.isHex.test(c[1])&&r.Easings[c[1]]||m.isArray(c[1])?(e=h?c[1]:y(c[1],a.duration),g=c[2]):g=c[1]||c[2]):d=c;h||(e=e||a.easing);m.isFunction(d)&&(d=d.call(b,f,w));m.isFunction(g)&&(g=g.call(b,f,w));return[d||0,e,g]};u=function(f,i){var l=z.Hooks.getRoot(f),o=!1,j=i[0],k=i[1];i=i[2];var q;if((!p||!p.isSVG)&&l!=="tween"&&z.Names.prefixCheck(l)[1]===!1&&z.Normalizations.registered[l]===e){r.debug;return}(a.display!==e&&a.display!==null&&a.display!=="none"||a.visibility!==e&&a.visibility!=="hidden")&&/opacity|filter/.test(f)&&!i&&j!==0&&(i=0);a._cacheValues&&t&&t[f]?(i===e&&(i=t[f].endValue+t[f].unitType),o=p.rootPropertyValueCache[l]):z.Hooks.registered[f]?i===e?(o=z.getPropertyValue(b,l),i=z.getPropertyValue(b,f,o)):o=z.Hooks.templates[l][1]:i===e&&(i=z.getPropertyValue(b,f));var s,u;l=!1;var v=function(a,b){var c;b=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){c=a;return""});c||(c=z.Values.getUnitType(a));return[b,c]};if(i!==j&&m.isString(i)&&m.isString(j)){q="";var w=0,x=0,y=[],A=[],B=0,C=0,D=0;i=z.Hooks.fixColors(i);j=z.Hooks.fixColors(j);while(w<i.length&&x<j.length){var F=i[w],G=j[x];if(/[\d\.-]/.test(F)&&/[\d\.-]/.test(G)){var H=F,I=G,J=".",K=".";while(++w<i.length){F=i[w];if(F===J)J="..";else if(!/\d/.test(F))break;H+=F}while(++x<j.length){G=j[x];if(G===K)K="..";else if(!/\d/.test(G))break;I+=G}J=z.Hooks.getUnit(i,w);K=z.Hooks.getUnit(j,x);w+=J.length;x+=K.length;if(J===K)H===I?q+=H+J:(q+="{"+y.length+(C?"!":"")+"}"+J,y.push(parseFloat(H)),A.push(parseFloat(I)));else{H=parseFloat(H);I=parseFloat(I);q+=(B<5?"calc":"")+"("+(H?"{"+y.length+(C?"!":"")+"}":"0")+J+" + "+(I?"{"+(y.length+(H?1:0))+(C?"!":"")+"}":"0")+K+")";H&&(y.push(H),A.push(0));I&&(y.push(0),A.push(I))}}else if(F===G)q+=F,w++,x++,B===0&&F==="c"||B===1&&F==="a"||B===2&&F==="l"||B===3&&F==="c"||B>=4&&F==="("?B++:(B&&B<5||B>=4&&F===")"&&--B<5)&&(B=0),C===0&&F==="r"||C===1&&F==="g"||C===2&&F==="b"||C===3&&F==="a"||C>=3&&F==="("?(C===3&&F==="a"&&(D=1),C++):D&&F===","?++D>3&&(C=D=0):(D&&C<(D?5:4)||C>=(D?4:3)&&F===")"&&--C<(D?5:4))&&(C=D=0);else{B=0;break}}(w!==i.length||x!==j.length)&&(r.debug,q=e);q&&(y.length?(r.debug,i=y,j=A,s=u=""):q=e)}q||(J=v(f,i),i=J[0],u=J[1],J=v(f,j),j=J[0].replace(/^([+-\/*])=/,function(a,b){l=b;return""}),s=J[1],i=parseFloat(i)||0,j=parseFloat(j)||0,s==="%"&&(/^(fontSize|lineHeight)$/.test(f)?(j=j/100,s="em"):/^scale/.test(f)?(j=j/100,s=""):/(Red|Green|Blue)$/i.test(f)&&(j=j/100*255,s="")));K=function(){var a={myParent:b.parentNode||d.body,position:z.getPropertyValue(b,"position"),fontSize:z.getPropertyValue(b,"fontSize")},e=a.position===L.lastPosition&&a.myParent===L.lastParent,f=a.fontSize===L.lastFontSize;L.lastParent=a.myParent;L.lastPosition=a.position;L.lastFontSize=a.fontSize;var g=100,h={};if(!f||!e){var i=p&&p.isSVG?d.createElementNS("http://www.w3.org/2000/svg","rect"):d.createElement("div");r.init(i);a.myParent.appendChild(i);n.each(["overflow","overflowX","overflowY"],function(a,b){r.CSS.setPropertyValue(i,b,"hidden")});r.CSS.setPropertyValue(i,"position",a.position);r.CSS.setPropertyValue(i,"fontSize",a.fontSize);r.CSS.setPropertyValue(i,"boxSizing","content-box");n.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){r.CSS.setPropertyValue(i,b,g+"%")});r.CSS.setPropertyValue(i,"paddingLeft",g+"em");h.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(z.getPropertyValue(i,"width",null,!0))||1)/g;h.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(z.getPropertyValue(i,"height",null,!0))||1)/g;h.emToPx=L.lastEmToPx=(parseFloat(z.getPropertyValue(i,"paddingLeft"))||1)/g;a.myParent.removeChild(i)}else h.emToPx=L.lastEmToPx,h.percentToPxWidth=L.lastPercentToPxWidth,h.percentToPxHeight=L.lastPercentToPxHeight;L.remToPx===null&&(L.remToPx=parseFloat(z.getPropertyValue(d.body,"fontSize"))||16);L.vwToPx===null&&(L.vwToPx=parseFloat(c.innerWidth)/100,L.vhToPx=parseFloat(c.innerHeight)/100);h.remToPx=L.remToPx;h.vwToPx=L.vwToPx;h.vhToPx=L.vhToPx;r.debug>=1;return h};if(/[\/*]/.test(l))s=u;else if(u!==s&&i!==0)if(j===0)s=u;else{h=h||K();H=/margin|padding|left|right|width|text|word|letter/i.test(f)||/X$/.test(f)||f==="x"?"x":"y";switch(u){case"%":i*=H==="x"?h.percentToPxWidth:h.percentToPxHeight;break;case"px":break;default:i*=h[u+"ToPx"]}switch(s){case"%":i*=1/(H==="x"?h.percentToPxWidth:h.percentToPxHeight);break;case"px":break;default:i*=1/h[s+"ToPx"]}}switch(l){case"+":j=i+j;break;case"-":j=i-j;break;case"*":j=i*j;break;case"/":j=i/j;break}g[f]={rootPropertyValue:o,startValue:i,currentValue:i,endValue:j,unitType:s,easing:k};q&&(g[f].pattern=q);r.debug};for(var G in o){if(!o.hasOwnProperty(G))continue;var H=z.Names.camelCase(G),I=l(o[G]);if(k(z.Lists.colors)){var J=I[0],K=I[1],N=I[2];if(z.RegEx.isHex.test(J)){var O=["Red","Green","Blue"];J=z.Values.hexToRgb(J);N=N?z.Values.hexToRgb(N):e;for(var i=0;i<O.length;i++){var P=[J[i]];K&&P.push(K);N!==e&&P.push(N[i]);u(H+O[i],P)}continue}}u(H,I)}g.element=b}g.element&&(z.Values.addClass(b,"velocity-animating"),M.push(g),p=s(b),p&&(a.queue===""&&(p.tweensContainer=g,p.opts=a),p.isAnimating=!0),x===w-1?(r.State.calls.push([M,j,a,null,v.resolver,null,0]),r.State.isTicking===!1&&(r.State.isTicking=!0,C())):x++)}if(a.queue===!1)if(a.delay){var l=r.State.delayedElements.count++;r.State.delayedElements[l]=b;l=function(a){return function(){r.State.delayedElements[a]=!1,i()}}(l);s(b).delayBegin=new Date().getTime();s(b).delay=parseFloat(a.delay);s(b).delayTimer={setTimeout:setTimeout(i,parseFloat(a.delay)),next:l}}else i();else n.queue(b,a.queue,function(a,b){if(b===!0){v.promise&&v.resolver(j);return!0}r.velocityQueueEntryFlag=!0;i()});(a.queue===""||a.queue==="fx")&&n.queue(b)[0]!=="inprogress"&&n.dequeue(b)}n.each(j,function(a,b){m.isNode(b)&&N(b,a)});a=n.extend({},r.defaults,q);a.loop=parseInt(a.loop,10);var O=a.loop*2-1;if(a.loop)for(var P=0;P<O;P++){var Q={delay:a.delay,progress:a.progress};P===O-1&&(Q.display=a.display,Q.visibility=a.visibility,Q.complete=a.complete);A(j,"reverse",Q)}return b()};r=n.extend(A,r);r.animate=A;var B=c.requestAnimationFrame||g;if(!r.State.isMobile&&d.hidden!==e){o=function(){d.hidden?(B=function(a){return setTimeout(function(){a(!0)},16)},C()):B=c.requestAnimationFrame||g};o();d.addEventListener("visibilitychange",o)}function C(a){if(a){a=r.timestamp&&a!==!0?a:h.now();var b=r.State.calls.length;b>1e4&&(r.State.calls=i(r.State.calls),b=r.State.calls.length);for(var c=0;c<b;c++){if(!r.State.calls[c])continue;var d=r.State.calls[c],g=d[0],j=d[2],k=d[3],l=!k,o=null,p=d[5],q=d[6];k||(k=r.State.calls[c][3]=a-16);if(p)if(p.resume===!0)k=d[3]=Math.round(a-q-16),d[5]=null;else continue;q=d[6]=a-k;var t=Math.min(q/j.duration,1);for(p=0,q=g.length;p<q;p++){var u=g[p],v=u.element;if(!s(v))continue;var w=!1;if(j.display!==e&&j.display!==null&&j.display!=="none"){if(j.display==="flex"){var x=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];n.each(x,function(a,b){z.setPropertyValue(v,"display",b)})}z.setPropertyValue(v,"display",j.display)}j.visibility!==e&&j.visibility!=="hidden"&&z.setPropertyValue(v,"visibility",j.visibility);for(x in u)if(u.hasOwnProperty(x)&&x!=="element"){var y=u[x],A=m.isString(y.easing)?r.Easings[y.easing]:y.easing;if(m.isString(y.pattern)){var E=t===1?function(a,b,c){a=y.endValue[b];return c?Math.round(a):a}:function(a,b,c){a=y.startValue[b];b=y.endValue[b]-a;a=a+b*A(t,j,b);return c?Math.round(a):a};E=y.pattern.replace(/{(\d+)(!)?}/g,E)}else if(t===1)E=y.endValue;else{var F=y.endValue-y.startValue;E=y.startValue+F*A(t,j,F)}if(!l&&E===y.currentValue)continue;y.currentValue=E;if(x==="tween")o=E;else{var G;if(z.Hooks.registered[x]){G=z.Hooks.getRoot(x);F=s(v).rootPropertyValueCache[G];F&&(y.rootPropertyValue=F)}F=z.setPropertyValue(v,x,y.currentValue+(f<9&&parseFloat(E)===0?"":y.unitType),y.rootPropertyValue,y.scrollData);z.Hooks.registered[x]&&(z.Normalizations.registered[G]?s(v).rootPropertyValueCache[G]=z.Normalizations.registered[G]("extract",null,F[1]):s(v).rootPropertyValueCache[G]=F[1]);F[0]==="transform"&&(w=!0)}}j.mobileHA&&(s(v).transformCache.translate3d===e&&(s(v).transformCache.translate3d="(0px, 0px, 0px)",w=!0));w&&z.flushTransformCache(v)}j.display!==e&&j.display!=="none"&&(r.State.calls[c][2].display=!1);j.visibility!==e&&j.visibility!=="hidden"&&(r.State.calls[c][2].visibility=!1);j.progress&&j.progress.call(d[1],d[1],t,Math.max(0,k+j.duration-a),k,o);t===1&&D(c)}}r.State.isTicking&&B(C)}function D(a,b){if(!r.State.calls[a])return!1;var c=r.State.calls[a][0],d=r.State.calls[a][1],f=r.State.calls[a][2],g=r.State.calls[a][4],h=!1;for(var i=0,j=c.length;i<j;i++){var k=c[i].element;!b&&!f.loop&&(f.display==="none"&&z.setPropertyValue(k,"display",f.display),f.visibility==="hidden"&&z.setPropertyValue(k,"visibility",f.visibility));var l=s(k);if(f.loop!==!0&&(n.queue(k)[1]===e||!/\.velocityQueueEntryFlag/i.test(n.queue(k)[1]))&&l){l.isAnimating=!1;l.rootPropertyValueCache={};var m=!1;n.each(z.Lists.transforms3D,function(a,b){a=/^scale/.test(b)?1:0;var c=l.transformCache[b];l.transformCache[b]!==e&&new RegExp("^\\("+a+"[^.]").test(c)&&(m=!0,delete l.transformCache[b])});f.mobileHA&&(m=!0,delete l.transformCache.translate3d);m&&z.flushTransformCache(k);z.Values.removeClass(k,"velocity-animating")}if(!b&&f.complete&&!f.loop&&i===j-1)try{f.complete.call(d,d)}catch(a){setTimeout(function(){throw a},1)}g&&f.loop!==!0&&g(d);l&&f.loop===!0&&!b&&(n.each(l.tweensContainer,function(a,b){if(/^rotate/.test(a)&&(parseFloat(b.startValue)-parseFloat(b.endValue))%360===0){var c=b.startValue;b.startValue=b.endValue;b.endValue=c}/^backgroundPosition/.test(a)&&parseFloat(b.endValue)===100&&b.unitType==="%"&&(b.endValue=0,b.startValue=100)}),r(k,"reverse",{loop:!0,delay:f.delay}));f.queue!==!1&&n.dequeue(k,f.queue)}r.State.calls[a]=!1;for(k=0,c=r.State.calls.length;k<c;k++)if(r.State.calls[k]!==!1){h=!0;break}h===!1&&(r.State.isTicking=!1,delete r.State.calls,r.State.calls=[])}b.Velocity=r;b!==c&&(b.fn.velocity=A,b.fn.velocity.defaults=r.defaults);n.each(["Down","Up"],function(a,b){r.Redirects["slide"+b]=function(a,c,d,f,g,h){c=n.extend({},c);var i=c.begin,j=c.complete,k={},l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};c.display===e&&(c.display=b==="Down"?r.CSS.Values.getDisplayType(a)==="inline"?"inline-block":"block":"none");c.begin=function(){d===0&&i&&i.call(g,g);for(var c in l){if(!l.hasOwnProperty(c))continue;k[c]=a.style[c];var e=z.getPropertyValue(a,c);l[c]=b==="Down"?[e,0]:[0,e]}k.overflow=a.style.overflow;a.style.overflow="hidden"};c.complete=function(){for(var b in k)k.hasOwnProperty(b)&&(a.style[b]=k[b]);d===f-1&&(j&&j.call(g,g),h&&h.resolver(g))};r(a,l,c)}});n.each(["In","Out"],function(a,b){r.Redirects["fade"+b]=function(a,c,d,f,g,h){a=n.extend({},c);var i=a.complete;c={opacity:b==="In"?1:0};d!==0&&(a.begin=null);d!==f-1?a.complete=null:a.complete=function(){i&&i.call(g,g),h&&h.resolver(g)};a.display===e&&(a.display=b==="In"?"auto":"none");r(this,c,a)}});return r}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})}var i=!1;function j(){i||(i=!0,h());return g.exports}var k={},l={exports:k};function m(){(function(a){typeof b==="function"&&typeof k==="object"?l.exports=a():a()})(function(){return function(b,c,d,e){var f=b.Velocity;if(!f||!f.Utilities){c.console;return}var g=f.Utilities;b=f.version;c={major:1,minor:1,patch:0};function d(a,b){var c=[];if(!a||!b)return!1;g.each([a,b],function(a,b){var d=[];g.each(b,function(a,b){while(b.toString().length<5)b="0"+b;d.push(b)});c.push(d.join(""))});return parseFloat(c[0])>parseFloat(c[1])}if(d(c,b)){d="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";alert(d);throw new Error(d)}f.RegisterEffect=f.RegisterUI=function(a,b){function c(a,b,c,d){var e=0,h;g.each(a.nodeType?[a]:a,function(a,b){d&&(c+=a*d);h=b.parentNode;a=["height","paddingTop","paddingBottom","marginTop","marginBottom"];f.CSS.getPropertyValue(b,"boxSizing").toString().toLowerCase()==="border-box"&&(a=["height"]);g.each(a,function(a,c){e+=parseFloat(f.CSS.getPropertyValue(b,c))})});f.animate(h,{height:(b==="In"?"+":"-")+"="+e},{queue:!1,easing:"ease-in-out",duration:c*(b==="In"?.6:1)})}f.Redirects[a]=function(d,h,i,j,k,l,m){var n=i===j-1,o=0;m=m||b.loop;typeof b.defaultDuration==="function"?b.defaultDuration=b.defaultDuration.call(k,k):b.defaultDuration=parseFloat(b.defaultDuration);for(var p=0;p<b.calls.length;p++)t=b.calls[p][1],typeof t==="number"&&(o+=t);o=o>=1?0:b.calls.length?(1-o)/b.calls.length:1;for(p=0;p<b.calls.length;p++){var q=b.calls[p],r=q[0],s=1e3,t=q[1];q=q[2]||{};var u={};h.duration!==e?s=h.duration:b.defaultDuration!==e&&(s=b.defaultDuration);u.duration=s*(typeof t==="number"?t:o);u.queue=h.queue||"";u.easing=q.easing||"ease";u.delay=parseFloat(q.delay)||0;u.loop=!b.loop&&q.loop;u._cacheValues=q._cacheValues||!0;if(p===0){u.delay+=parseFloat(h.delay)||0;i===0&&(u.begin=function(){h.begin&&h.begin.call(k,k);var b=a.match(/(In|Out)$/);b&&b[0]==="In"&&r.opacity!==e&&g.each(k.nodeType?[k]:k,function(b,a){f.CSS.setPropertyValue(a,"opacity",0)});h.animateParentHeight&&b&&c(k,b[0],s+u.delay,h.stagger)});if(h.display!==null)if(h.display!==e&&h.display!=="none")u.display=h.display;else if(/In$/.test(a)){t=f.CSS.Values.getDisplayType(d);u.display=t==="inline"?"inline-block":t}h.visibility&&h.visibility!=="hidden"&&(u.visibility=h.visibility)}if(p===b.calls.length-1){var v=function(){(h.display===e||h.display==="none")&&/Out$/.test(a)&&g.each(k.nodeType?[k]:k,function(b,a){f.CSS.setPropertyValue(a,"display","none")}),h.complete&&h.complete.call(k,k),l&&l.resolver(k||d)};u.complete=function(){m&&f.Redirects[a](d,h,i,j,k,l,m===!0?!0:Math.max(0,m-1));if(b.reset){for(var c in b.reset){if(!b.reset.hasOwnProperty(c))continue;var g=b.reset[c];f.CSS.Hooks.registered[c]===e&&(typeof g==="string"||typeof g==="number")&&(b.reset[c]=[b.reset[c],b.reset[c]])}g={duration:0,queue:!1};n&&(g.complete=v);f.animate(d,b.reset,g)}else n&&v()};h.visibility==="hidden"&&(u.visibility=h.visibility)}f.animate(d,r,u)}};return f};f.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(c in f.RegisterEffect.packagedEffects)f.RegisterEffect.packagedEffects.hasOwnProperty(c)&&f.RegisterEffect(c,f.RegisterEffect.packagedEffects[c]);f.RunSequence=function(a){var b=g.extend(!0,[],a);b.length>1&&(g.each(b.reverse(),function(a,c){var d=b[a+1];if(d){a=c.o||c.options;var e=d.o||d.options;a=a&&a.sequenceQueue===!1?"begin":"complete";var h=e&&e[a],i={};i[a]=function(){var a=d.e||d.elements;a=a.nodeType?[a]:a;h&&h.call(a,a);f(c)};d.o?d.o=g.extend({},e,i):d.options=g.extend({},e,i)}}),b.reverse());f(b[0])}}(window.jQuery||window.Zepto||window,window)})}var n=!1;function o(){n||(n=!0,m());return l.exports}function a(a){switch(a){case void 0:return j();case"/velocity.ui":return o();case"/velocity.ui":return o()}}e.exports=a}),null);
__d("velocity-animate",["velocity-animate-1.5.2"],(function(a,b,c,d,e,f){e.exports=b("velocity-animate-1.5.2")()}),null);
__d("velocity-animate-ui",["velocity-animate-1.5.2"],(function(a,b,c,d,e,f){e.exports=b("velocity-animate-1.5.2")("/velocity.ui")}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("w3c-domcore-errors-1.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a,b,c;function d(a,b){b={writable:!1,enumerable:!0,configurable:!1,value:b};c[a]=b}function e(){this.hasOwnProperty("DOMException")||(this.DOMException=h),this.hasOwnProperty("DOMError")||(this.DOMError=f)}function f(b,c){var d;d=a[b]||{};this.name=b||this.name||"DOMError";this.code=d.code||0;this.message=c||this.message||d.message||this.name}function h(b){var c;c=a[b]||{};this.code=c.code||0;this.message=c.message||b;this.name=b}h.prototype=Object.create(Error.prototype);a={IndexSizeError:{message:"The index is not in the allowed range",constantName:"INDEX_SIZE_ERR",code:1},HierarchyRequestError:{message:"The operation would yield an incorrect node tree.",constantName:"HIERARCHY_REQUEST_ERR",code:3},WrongDocumentError:{message:"The object is in the wrong document.",constantName:"WRONG_DOCUMENT_ERR",code:4},InvalidCharacterError:{message:"The string contains invalid characters.",constantName:"INVALID_CHARACTER_ERR",code:5},NoModificationAllowedError:{message:"The object can not be modified.",constantName:"NO_MODIFICATION_ALLOWED_ERR",code:7},NotFoundError:{message:"The object can not be found here.",constantName:"NOT_FOUND_ERR",code:8},NotSupportedError:{message:"The operation is not supported.",constantName:"NOT_SUPPORTED_ERR",code:9},InvalidStateError:{message:"The object is in an invalid state.",constantName:"INVALID_STATE_ERR",code:11},SyntaxError:{message:"The string did not match the expected pattern",constantName:"SYNTAX_ERR",code:12},InvalidModificationError:{message:"The object can not be modified in this way",constantName:"INVALID_MODIFICATION_ERR",code:13},NamespaceError:{message:"The operation is not allowed by Namespaces in XML.",constantName:"NAMESPACE_ERR",code:14},InvalidAccessError:{message:"The object does not support the operation or argument.",constantName:"INVALID_ACCESS_ERR",code:15},SecurityError:{message:"The operation is insecure.",constantName:"SECURITY_ERR",code:18},NetworkError:{message:"A network error occurred.",constantName:"NETWORK_ERR",code:19},AbortError:{message:"The operation was aborted.",constantName:"ABORT_ERR",code:20},URLMismatchError:{message:"The given URL does not match another URL.",constantName:"URL_MISMATCH_ERR",code:21},QuotaExceededError:{message:"The quota has been exceeded.",constantName:"QUOTA_EXCEEDED_ERR",code:22},TimeoutError:{message:"The operation timed out.",constantName:"TIMEOUT_ERR",code:23},InvalidNodeTypeError:{message:"The supplied node is incorrect or has an incorrect ancestor for this operation.",constantName:"INVALID_NODE_TYPE_ERR",code:24},DataCloneError:{message:"The object can not be cloned.",constantName:"DATA_CLONE_ERR",code:25},EncodingError:{message:"The encoding operation (either encoded or decoding) failed."}};b=["","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","VALIDATION_ERR","TYPE_MISMATCH_ERR","SECURITY_ERR","NETWORK_ERR","ABORT_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR"];c={};b.forEach(d);Object.defineProperties(h,c);Object.defineProperties(h.prototype,c);g.DOMException=h;g.DOMError=f;g.Polyfill=e}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("w3c-domcore-errors",["w3c-domcore-errors-1.0.2"],(function(a,b,c,d,e,f){e.exports=b("w3c-domcore-errors-1.0.2")()}),null);/*FB_PKG_DELIM*/
__d("ActiveFocusRegionUtilsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);c=b;g["default"]=c}),98);
__d("BaseFocusRing.react",["FocusWithinHandler.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={focused:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},focusedInset:{boxShadow:"xpud6h4",$$css:!0},unfocused:{outline:"x1a2a7pz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.focusRingPosition,g=a.mode,h=a.onFocusVisibleChange,k=a.suppressFocusRing,l=a.testOnly,m=a.xstyle,n=f===void 0?"default":f,o=g===void 0?"focus-visible":g,p=k===void 0?!1:k;b[0]!==e||b[1]!==n||b[2]!==o||b[3]!==h||b[4]!==p||b[5]!==m?(a=function(a,b){a=!p&&a&&(b||o==="focus");h==null||h(b);b=[];a?b.push(n==="inset"?j.focusedInset:j.focused):b.push(j.unfocused);return e([].concat(b,[m]))},b[0]=e,b[1]=n,b[2]=o,b[3]=h,b[4]=p,b[5]=m,b[6]=a):a=b[6];b[7]!==a||b[8]!==l?(f=i.jsx(c("FocusWithinHandler.react"),{testOnly:l,children:a}),b[7]=a,b[8]=l,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("BaseInput.react",["CometContainerPressableContext","Locale","react","react-compiler-runtime","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","xstyle","onChange","onClick","onValueChange","testid","type"],i,j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;var m={root:{WebkitTapHighlightColor:"x1i10hfl",boxSizing:"x9f619",touchAction:"xggy1nq",":-webkit-autofill_-webkit-background-clip":"xtpw4lu",":-webkit-autofill_-webkit-text-fill-color":"x1tutvks",":-webkit-autofill_transition":"x1s3xk63",":disabled_cursor":"x1s07b3s",$$css:!0},zIndex:{zIndex:"x1vjfegm",$$css:!0}},n=d("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(31),e,f,g,j,o,p,q,r;b[0]!==a?(o=a.ref,r=a.xstyle,e=a.onChange,f=a.onClick,g=a.onValueChange,q=a.testid,p=a.type,j=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=o,b[6]=p,b[7]=q,b[8]=r):(e=b[1],f=b[2],g=b[3],j=b[4],o=b[5],p=b[6],q=b[7],r=b[8]);a=p===void 0?"text":p;var s;bb0:switch(a){case"switch":s="checkbox";break bb0;default:s=a}p=s;var t=p==="checkbox"||p==="radio";a=p==="textarea";var u=l(c("CometContainerPressableContext"))!=null,v=a?"textarea":"input",w;b[9]!==u||b[10]!==r?(w=(i||(i=c("stylex"))).props(m.root,r,u&&m.zIndex),b[9]=u,b[10]=r,b[11]=w):w=b[11];b[12]!==q?(u=c("testID")(q),b[12]=q,b[13]=u):u=b[13];b[14]!==t||b[15]!==e||b[16]!==g?(r=function(a){t||(g==null||g(a.target.value,a)),e==null||e(a)},b[14]=t,b[15]=e,b[16]=g,b[17]=r):r=b[17];b[18]!==t||b[19]!==f||b[20]!==g?(q=function(a){t&&(g==null||g(a.target.checked,a)),f==null||f(a)},b[18]=t,b[19]=f,b[20]=g,b[21]=q):q=b[21];a=a?void 0:p;b[22]!==v||b[23]!==j||b[24]!==o||b[25]!==w||b[26]!==u||b[27]!==r||b[28]!==q||b[29]!==a?(p=k.jsx(v,babelHelpers["extends"]({},w,{dir:n?"rtl":"ltr"},j,u,{onChange:r,onClick:q,ref:o,type:a})),b[22]=v,b[23]=j,b[24]=o,b[25]=w,b[26]=u,b[27]=r,b[28]=q,b[29]=a,b[30]=p):p=b[30];return p}e=k.memo(a);g["default"]=e}),98);
__d("BaseCheckbox.react",["BaseFocusRing.react","BaseInput.react","BaseView.react","Locale","react","react-compiler-runtime","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","ref","variant","xstyle","indeterminate","suppressFocusRing","testid"],i,j,k=j||(j=d("react"));b=j;var l=b.useLayoutEffect,m=b.useRef,n=b.useState,o=d("Locale").isRTL(),p={checkbox:{cursor:"x1ypdohk",height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",opacity:"x1w3u9th",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},icon:{paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",$$css:!0},inlineFlex:{display:"x3nfvp2",$$css:!0},labelRTL:{transformOrigin:"x1h1bmdg",$$css:!0},wrapper:{position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(35),e,f,g,j;if(b[0]!==a){var q=a.children,r=a.ref,s=a.variant,t=a.xstyle,u=a.indeterminate;a.suppressFocusRing;var v=a.testid,w=babelHelpers.objectWithoutPropertiesLoose(a,h);e=q;q=r;g=s;j=t;r=u;s=v;f=w;b[0]=a;b[1]=e;b[2]=f;b[3]=q;b[4]=r;b[5]=s;b[6]=g;b[7]=j}else e=b[1],f=b[2],q=b[3],r=b[4],s=b[5],g=b[6],j=b[7];var x=r===void 0?!1:r,y=m(null);t=n(!1);var z=t[0];u=t[1];var A=(v=f.checked)!=null?v:!1,B=(w=f.disabled)!=null?w:!1;b[8]!==x?(a=function(){y.current!=null&&(y.current.indeterminate=x)},r=[x],b[8]=x,b[9]=a,b[10]=r):(a=b[9],r=b[10]);l(a,r);var C=c("useMergeRefs")(q,y);b[11]!==A||b[12]!==B||b[13]!==z||b[14]!==g?(t=function(a){var b;if(g==null)return null;var d=A?g.iconChecked:g.iconUnchecked;return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([p.inlineFlex,(b=g)==null?void 0:b.xstyleConfig.iconWrapper,A&&((b=g)==null?void 0:b.xstyleConfig.iconCheckedWrapper),z&&((b=g)==null?void 0:b.xstyleConfig.iconFocusedWrapper),B&&((b=g)==null?void 0:b.xstyleConfig.iconDisabledWrapper),B&&A&&((b=g)==null?void 0:b.xstyleConfig.iconDisabledCheckedWrapper)]),{suppressHydrationWarning:!0,children:k.jsx("div",babelHelpers["extends"]({},i.props([a,p.icon,g.xstyleConfig.icon]),{suppressHydrationWarning:!0,children:d!=null&&k.jsx(d,{height:"100%",width:"100%"})}))}))},b[11]=A,b[12]=B,b[13]=z,b[14]=g,b[15]=t):t=b[15];var D=t;b[16]!==A||b[17]!==e||b[18]!==B||b[19]!==D||b[20]!==x||b[21]!==C||b[22]!==f||b[23]!==s||b[24]!==g||b[25]!==j?(v=function(a){var b;return k.jsxs(c("BaseView.react"),{role:"none",testid:void 0,xstyle:[p.wrapper,g!=null?(b=g)==null?void 0:b.xstyleConfig.checkboxWrapper:a,j],children:[D(a),g!=null?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([p.inlineFlex,(b=g)==null?void 0:b.xstyleConfig.labelWrapper]),{children:e})):e,k.jsx(c("BaseInput.react"),babelHelpers["extends"]({},f,{"aria-checked":x?"mixed":A!=null?A:!1,ref:C,type:"checkbox",xstyle:[p.checkbox,(a=g)==null?void 0:a.xstyleConfig.checkbox,B&&((b=g)==null?void 0:b.xstyleConfig.checkboxDisabled)]}))]})},b[16]=A,b[17]=e,b[18]=B,b[19]=D,b[20]=x,b[21]=C,b[22]=f,b[23]=s,b[24]=g,b[25]=j,b[26]=v):v=b[26];var E=v;w=g!=null?"inset":void 0;b[27]!==E||b[28]!==B||b[29]!==f.id||b[30]!==g?(a=function(a){var b;return k.jsx(k.Fragment,{children:g!=null?k.jsx("label",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([o&&p.labelRTL,(b=g)==null?void 0:b.xstyleConfig.label,B===!0&&((b=g)==null?void 0:b.xstyleConfig.labelDisabled)]),{htmlFor:f.id,suppressHydrationWarning:!0,children:E(a)})):E(a)})},b[27]=E,b[28]=B,b[29]=f.id,b[30]=g,b[31]=a):a=b[31];b[32]!==w||b[33]!==a?(r=k.jsx(c("BaseFocusRing.react"),{focusRingPosition:w,onFocusVisibleChange:u,children:a}),b[32]=w,b[33]=a,b[34]=r):r=b[34];return r}g["default"]=a}),98);
__d("BaseContextualLayerContextSizeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("BaseSwitch.react",["BaseFocusRing.react","BaseInput.react","BaseView.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","onFocusVisibleChange","ref","xstyle","suppressFocusRing","testid"],i,j=i||d("react"),k={"switch":{cursor:"x1ypdohk",height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",opacity:"x1w3u9th",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},wrapper:{position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,i,l,m,n;b[0]!==a?(e=a.children,f=a.onFocusVisibleChange,i=a.ref,n=a.xstyle,l=a.suppressFocusRing,m=a.testid,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7]);b[8]!==e||b[9]!==g||b[10]!==i||b[11]!==m||b[12]!==n?(a=function(a){return j.jsxs(c("BaseView.react"),{testid:void 0,xstyle:[k.wrapper,a,n],children:[e,j.jsx(c("BaseInput.react"),babelHelpers["extends"]({},g,{"aria-checked":(a=g.checked)!=null?a:!1,ref:i,role:"switch",type:"checkbox",xstyle:k["switch"]}))]})},b[8]=e,b[9]=g,b[10]=i,b[11]=m,b[12]=n,b[13]=a):a=b[13];b[14]!==f||b[15]!==l||b[16]!==a?(m=j.jsx(c("BaseFocusRing.react"),{onFocusVisibleChange:f,suppressFocusRing:l,children:a}),b[14]=f,b[15]=l,b[16]=a,b[17]=m):m=b[17];return m}b=j.memo(a);g["default"]=b}),98);
__d("BaseTooltipAboveCarat.svg.react",["fbt","react","react-compiler-runtime","stylex","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.fillXStyle;c("vulture")("cVFl_pXp79S9Tcy6Ge1H4kRlfl4=");var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("title",{id:"tooltipCaratTitle",children:h._(/*BTDS*/"Tooltip above carat")}),b[0]=e):e=b[0];var f;b[1]!==a?(f=(i||(i=c("stylex"))).props(a),b[1]=a,b[2]=f):f=b[2];b[3]!==f?(a=k.jsxs("svg",{fill:"none",height:"8",title:"tooltip carat",viewBox:"0 0.3 21 8",width:"21",xmlns:"http://www.w3.org/2000/svg",children:[e,k.jsx("path",babelHelpers["extends"]({},f,{clipRule:"evenodd",d:"M0 0C4 0 7.819 8 10.5 8C13.1815 8 17.0005 0 21 0H0Z",fill:"black",fillRule:"evenodd"}))]}),b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("BaseTooltipBelowCarat.svg.react",["fbt","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.fillXStyle;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={transform:"scaleY(-1)"},b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("title",{id:"tooltipCaratTitle",children:h._(/*BTDS*/"Tooltip below carat")}),b[1]=f):f=b[1];var g;b[2]!==a?(g=(i||(i=c("stylex"))).props(a),b[2]=a,b[3]=g):g=b[3];b[4]!==g?(a=k.jsxs("svg",{fill:"none",height:"8",style:e,title:"tooltip carat",viewBox:"0 0 21 8",width:"21",xmlns:"http://www.w3.org/2000/svg",children:[f,k.jsx("path",babelHelpers["extends"]({},g,{clipRule:"evenodd",d:"M0 0C4 0 7.819 8 10.5 8C13.1815 8 17.0005 0 21 0H0Z",fill:"black",fillRule:"evenodd"}))]}),b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("BaseTooltipEndCarat.svg.react",["fbt","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.fillXStyle;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={transform:"scaleX(-1)"},b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("title",{children:h._(/*BTDS*/"Tooltip start carat")}),b[1]=f):f=b[1];var g;b[2]!==a?(g=(i||(i=c("stylex"))).props(a),b[2]=a,b[3]=g):g=b[3];b[4]!==g?(a=k.jsxs("svg",{fill:"none",height:"22",style:e,viewBox:"0.5 0 8 22",width:"8",children:[f,k.jsx("path",babelHelpers["extends"]({},g,{clipRule:"evenodd",d:"M0.5 21.5C0.5 17.5 7.5 13.681 7.5 11C7.5 8.3185 0.5 4.4995 0.5 0.5L0.5 21.5Z",fill:"black",fillRule:"evenodd"}))]}),b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("BaseTooltipStartCarat.svg.react",["fbt","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.fillXStyle;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("title",{children:h._(/*BTDS*/"Tooltip end carat")}),b[0]=e):e=b[0];var f;b[1]!==a?(f=(i||(i=c("stylex"))).props(a),b[1]=a,b[2]=f):f=b[2];b[3]!==f?(a=k.jsxs("svg",{fill:"none",height:"22",viewBox:"0.7 0 8 22",width:"8",children:[e,k.jsx("path",babelHelpers["extends"]({},f,{clipRule:"evenodd",d:"M0.5 21.5C0.5 17.5 7.5 13.681 7.5 11C7.5 8.3185 0.5 4.4995 0.5 0.5L0.5 21.5Z",fill:"black",fillRule:"evenodd"}))]}),b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("BaseTooltipCarat.react",["BaseTooltipAboveCarat.svg.react","BaseTooltipBelowCarat.svg.react","BaseTooltipEndCarat.svg.react","BaseTooltipStartCarat.svg.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={caratContainer:{display:"x78zum5",$$css:!0}},k=function(a){switch(a){case"below":return c("BaseTooltipBelowCarat.svg.react");case"above":return c("BaseTooltipAboveCarat.svg.react");case"start":return c("BaseTooltipStartCarat.svg.react");case"end":return c("BaseTooltipEndCarat.svg.react");default:return c("BaseTooltipBelowCarat.svg.react")}};function a(a){var b=d("react-compiler-runtime").c(11),c=a.fillXStyle,e=a.position,f=a.shouldFadeIn,g=a.transitionInXStyle;a=a.transitionOutXStyle;f=f===void 0?!1:f;var h;b[0]!==e?(h=k(e),b[0]=e,b[1]=h):h=b[1];e=h;h=f&&g;b[2]!==h||b[3]!==a?(f=[j.caratContainer,a,h],b[2]=h,b[3]=a,b[4]=f):f=b[4];b[5]!==e||b[6]!==c?(g=i.jsx(e,{fillXStyle:c}),b[5]=e,b[6]=c,b[7]=g):g=b[7];b[8]!==f||b[9]!==g?(h=i.jsx(d("react-strict-dom").html.div,{style:f,children:g}),b[8]=f,b[9]=g,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("getTabbableNodes",[],(function(a,b,c,d,e,f){function a(a,b){var c=document.activeElement,d=function(b,d,e){return e===c?!0:a(b,d,e)&&e.offsetWidth>0&&e.offsetHeight>0&&e.tabIndex!==-1&&window.getComputedStyle(e).visibility!=="hidden"};b=c?b.DO_NOT_USE_queryAllNodes(d):null;if(b===null)return[null,null,null,0,null];d={};for(var e of b)if(e instanceof HTMLInputElement&&e.tagName==="INPUT"&&e.type==="radio"&&e.name!=null){var f;d[e.name]=[].concat((f=d[e.name])!=null?f:[],[e])}var g=Object.values(d).map(function(a){if(a.find(function(a){return a.checked}))return a.filter(function(a){return!a.checked});a[0];a=a.slice(1);return a}).flat();b=b.filter(function(a){return!g.includes(a)});f=b[0];e=b[b.length-1];d=b.indexOf(c);var h=null;d!==-1&&(h=b[d]);return[b,f,e,d,h]}f["default"]=a}),66);
__d("FocusManager",["getTabbableNodes"],(function(a,b,c,d,e,f,g){var h=!1,i=!1,j=!1,k=500;function l(){try{var a=document.createElement("div");a.addEventListener("focus",function(a){a.preventDefault(),a.stopPropagation()},!0);a.focus(Object.defineProperty({},"preventScroll",{get:function(){i=!0}}))}catch(a){}}function m(a){a=a.parentElement;var b=[],c=document.scrollingElement||document.documentElement;while(a&&a!==c){var d=a,e=d.offsetHeight;d=d.offsetWidth;(e<a.scrollHeight||d<a.scrollWidth)&&b.push([a,a.scrollTop,a.scrollLeft]);a=a.parentElement}c&&b.push([c,c.scrollTop,c.scrollLeft]);return b}function n(a){for(var b=0;b<a.length;b++){var c=a[b],d=c[0],e=c[1];c=c[2];d.scrollTop=e;d.scrollLeft=c}}function a(a,b){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++){var d=b.DO_NOT_USE_queryAllNodes(a[c]);if(d)return d}return null}function o(a,b){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++){var d=b.DO_NOT_USE_queryFirstNode(a[c]);if(d)return d}return null}function b(a,b,c){c=c||{};var d=c.preventScroll,e=c.focusWithoutUserIntent;c=c.focusWithAutoFocus;a=o(a,b);a!=null&&p(a,{preventScroll:d,focusWithoutUserIntent:e,focusWithAutoFocus:c})}function d(){return h}function e(a){return a._focusWithAutoFocus===!0}function p(a,b){b=b||{};var c=b.preventScroll,d=b.focusWithoutUserIntent;b=b.focusWithAutoFocus;if(a!==null){j||(j=!0,l());var e=a._tabIndexState;if(e&&e.canTab===!1)return;e=e?e.value:a.tabIndex;a.tabIndex=-1;var f=h;c=c||!1;b===!0&&(a._focusWithAutoFocus=!0,window.setTimeout(function(){a._focusWithAutoFocus=!1},k));try{h=d||!1;b=a.__lexicalEditor;if(b!==void 0)b.focus();else if(!c)t(a);else if(i)t(a,{preventScroll:!0});else{d=m(a);t(a);n(d)}}catch(a){}finally{h=f}a.tabIndex=e}}function f(a,b,d){a=c("getTabbableNodes")(a,b);b=a[0];var e=a[2],f=a[3];a=a[4];a!==null&&a!==e&&b&&p(b[f+1],{preventScroll:d})}function q(a,b,d){a=c("getTabbableNodes")(a,b);b=a[0];var e=a[1],f=a[3];a=a[4];a!==null&&a!==e&&b&&p(b[f-1],{preventScroll:d})}function r(a,b,d,e,f){a=c("getTabbableNodes")(a,b);b=a[0];var g=a[1],h=a[2],i=a[3];a=a[4];if(a===null||b===null)return;a===h?f!=null?f():e===!0&&(p(g),d.preventDefault(),d.stopPropagation()):(p(b[i+1]),d.preventDefault(),d.stopPropagation())}function s(a,b,d,e,f){a=c("getTabbableNodes")(a,b);b=a[0];var g=a[1],h=a[2],i=a[3];a=a[4];if(a===null||b===null)return;a===g?f!=null?f():e===!0&&(p(h),d.preventDefault(),d.stopPropagation()):(p(b[i-1]),d.preventDefault(),d.stopPropagation())}var t=function(a,b){(a.focus||HTMLElement.prototype.focus).call(a,b)};g.getAllNodesFromOneOrManyQueries=a;g.getFirstNodeFromOneOrManyQueries=o;g.focusFirst=b;g.isFocusingWithoutUserIntent=d;g.wasElementAutoFocused=e;g.focusElement=p;g.focusNext=f;g.focusPrevious=q;g.focusNextContained=r;g.focusPreviousContained=s}),98);
__d("FocusRegionType",["$InternalEnum","react"],(function(a,b,c,d,e,f,g){var h;h||d("react");a=b("$InternalEnum").Mirrored(["Nearest","First"]);g.RecoverFocusStrategy=a}),98);
__d("ReactKeyboardEvent.react",["ReactUseEvent.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j={passive:!0};function a(a,b){var e=d("react-compiler-runtime").c(14),f=b.disabled,g=b.onKeyDown,h=b.onKeyUp,k=f===void 0?!1:f,l=c("ReactUseEvent.react")("keydown"),m=c("ReactUseEvent.react")("keyup",j);e[0]!==k||e[1]!==l||e[2]!==m||e[3]!==g||e[4]!==h||e[5]!==a.current?(b=function(){var b=a.current;b!==null&&(l.setListener(b,!k&&g||null),m.setListener(b,!k&&h||null))},e[0]=k,e[1]=l,e[2]=m,e[3]=g,e[4]=h,e[5]=a.current,e[6]=b):b=e[6];e[7]!==k||e[8]!==l||e[9]!==m||e[10]!==g||e[11]!==h||e[12]!==a?(f=[k,g,l,m,a,h],e[7]=k,e[8]=l,e[9]=m,e[10]=g,e[11]=h,e[12]=a,e[13]=f):f=e[13];i(b,f)}g.useKeyboard=a}),98);
__d("setElementCanTab",[],(function(a,b,c,d,e,f){c=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"tabIndex");d=Object.getOwnPropertyDescriptor(SVGElement.prototype,"tabIndex");e=function(a){return a};var g=c?c.set:e,h=d?d.set:e;function i(a){return a instanceof SVGElement?h:g}function a(a,b,c){c===void 0&&(c=!1);var d=a._tabIndexState,e=i(a);if(!d){b&&c&&a.tabIndex<0&&(a.tabIndex=0);var f={value:a.tabIndex,canTab:b};a._tabIndexState=f;b||(a.tabIndex=-1);Object.defineProperty(a,"tabIndex",{enumerable:!1,configurable:!0,get:function(){return f.canTab?f.value:-1},set:function(a){f.canTab&&typeof e==="function"&&e.call(this,a),f.value=a}})}else d.canTab!==b&&typeof e==="function"&&(e.call(a,b?d.value:-1),d.canTab=b)}function b(a){var b=a._tabIndexState;if(!b)return a.tabIndex>0;else return b.canTab}f.setElementCanTab=a;f.canElementTab=b}),66);
__d("FocusRegion.react",["ActiveFocusRegionUtilsContext","FocusManager","FocusRegionType","ReactEventHookPropagation","ReactFocusEvent.react","ReactKeyboardEvent.react","react","setElementCanTab","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useLayoutEffect,o=e.useMemo,p=e.useRef;function q(a,b,c){var e=document.activeElement;window.requestAnimationFrame(function(){document.activeElement===e&&d("FocusManager").focusElement(a,{preventScroll:b,focusWithoutUserIntent:c})})}function r(a){return a.offsetWidth===0&&a.offsetHeight===0}function s(a){return a.lastFocused!=null&&a.lastFocused instanceof Node&&a.lastFocused.isConnected}var t=j.unstable_Scope,u=new Map();function a(a){var b=a.autoRestoreFocus,e=a.autoFocusQuery,f=a.children,g=a.containFocusQuery,i=a.forwardRef,v=a.id,w=a.onEscapeFocusRegion,x=a.recoverFocusStrategy,y=x===void 0?d("FocusRegionType").RecoverFocusStrategy.Nearest:x,z=a.recoverFocusQuery;x=a.stopOnFocusWithinPropagation;var A=x===void 0?!0:x,B=p(null),C=p(null),D=l(c("ActiveFocusRegionUtilsContext"));a=D===null&&(b===!0||w!=null)?document.activeElement:null;var E=(h||(h=c("useUnsafeRef_DEPRECATED")))(a),F=(x=E.current)!=null?x:a,G=o(function(){return{lastFocused:null,scope:null,restorationFocusRegionItem:null,triggeredFocusRegionItems:new Set()}},[]),H=k(function(){if(D!=null){var a=D.getActiveFocusRegion();if(a!==G){if(G.restorationFocusRegionItem!==a){var b;if((a==null?void 0:a.lastFocused)!=null&&!((b=B.current)!=null&&b.containsNode(a.lastFocused)))a!=null&&a.triggeredFocusRegionItems.add(G),G.restorationFocusRegionItem=a;else if(G.restorationFocusRegionItem==null){b=a==null?void 0:a.restorationFocusRegionItem;G.restorationFocusRegionItem=b;a!=null&&(b==null||b.triggeredFocusRegionItems["delete"](a));b==null||b.triggeredFocusRegionItems.add(G);D.setActiveFocusRegion(G);return}}(a===null||a!=null&&G!=null&&a.lastFocused!==G.lastFocused)&&D.setActiveFocusRegion(G)}}},[D,G]),I=p(null);x=k(function(a){B.current=a;G.scope=a;var b=I.current;i&&(i.current=a);b!==null&&b!==v&&u.get(b)===null&&u["delete"](b);v!=null&&(a!==null?(I.current=v,u.set(v,a)):u.get(v)===null&&u["delete"](v))},[i,v,G]);x=d("ReactFocusEvent.react").useFocusWithin_DEPRECATED(x,o(function(){return{onBeforeBlurWithin:function(a){var b=B.current;if(b!==null&&z!==void 0){a.stopPropagation();if(z===null)return;a=a.target;b=d("FocusManager").getAllNodesFromOneOrManyQueries(z,b);if(b===null)return;var c=b.indexOf(a);a=a._tabIndexState;C.current={detachedCanTab:a!=null&&a.canTab,recoveryIndex:c,recovery:b}}},onAfterBlurWithin:function(){var a=B.current,b=C.current;s(G)||(G.lastFocused=null);C.current=null;var c=document.activeElement;if(a!==null&&z!=null&&b!==null&&(c==null||c===document.body||!a.containsNode(c))){c=!0;var e=!0,f=b.recovery,g=b.recoveryIndex,h=d("FocusManager").getAllNodesFromOneOrManyQueries(z,a);if(h!==null&&f!==null){var i=new Set(h),j=new Set(f);for(var k=g-1;k>=0;k--){var l=f[k];if(i.has(l)){var m=h.indexOf(l);m=m+1;if(m<h.length){m=h[m];if(!j.has(m)){b.detachedCanTab&&d("setElementCanTab").setElementCanTab(m,!0);q(m,c,e);return}}b.detachedCanTab&&d("setElementCanTab").setElementCanTab(l,!0);q(l,c,e);return}}if(y===d("FocusRegionType").RecoverFocusStrategy.Nearest)for(m=g+1;m<f.length;m++){l=f[m];if(i.has(l)){j=h.indexOf(l);k=j-1;if(k>=0){g=h[k];b.detachedCanTab&&d("setElementCanTab").setElementCanTab(g,!0);q(g,c,e);return}}}l=d("FocusManager").getFirstNodeFromOneOrManyQueries(z,a);l&&(b.detachedCanTab&&d("setElementCanTab").setElementCanTab(l,!0),q(l,c,e))}}},onFocusWithin:function(a){A&&d("ReactEventHookPropagation").stopEventHookPropagation(a,"useFocusWithin"),G.lastFocused=a.target,H()}}},[z,y,A,G,H]));a=k(function(){var a=B.current,b=document.activeElement;if(e!=null&&a!==null&&(!b||!a.containsNode(b))){b=G.lastFocused;b!=null&&a.containsNode(b)&&!r(b)?d("FocusManager").focusElement(b,{focusWithAutoFocus:!0,focusWithoutUserIntent:!0,preventScroll:!0}):d("FocusManager").focusFirst(e,a,{focusWithAutoFocus:!0,focusWithoutUserIntent:!0,preventScroll:!0})}},[e,G]);n(a,[a]);m(a,[a]);var J=k(function(a,c){var e,f;c===void 0&&(c=!1);var g=B.current,h=document.activeElement,i=E.current;E.current=null;var j=a==null?void 0:a.triggeredFocusRegionItems,k=a==null?void 0:a.restorationFocusRegionItem;j!=null&&j.size&&j.forEach(function(a){return a.restorationFocusRegionItem=k});a!=null&&k!=null&&(k.triggeredFocusRegionItems["delete"](a),j!=null&&j.size&&j.forEach(function(a){k.triggeredFocusRegionItems.add(a)}));G.lastFocused=null;j=D==null?void 0:D.getActiveFocusRegion();var l=j!=null?j.restorationFocusRegionItem:{lastFocused:i};j===a&&(D==null||D.setActiveFocusRegion(k));if((i=l)!=null&&i.lastFocused&&(e=a.scope)!=null&&e.containsNode((j=l)==null?void 0:j.lastFocused)&&(f=l)!=null&&(f=f.restorationFocusRegionItem)!=null&&f.lastFocused){l=(i=l)==null?void 0:i.restorationFocusRegionItem}a=g!==null&&h!==null&&g.containsNode(h)||h==null||h===document.body;if((b===!0||w!=null)&&a){var m=function(a){var b;a===void 0&&(a=!1);if(((b=l)==null?void 0:b.lastFocused)!=null){b=!0;var c=!0,e=document.activeElement;if(a||e===null||e===document.body){d("FocusManager").focusElement((a=l)==null?void 0:a.lastFocused,{preventScroll:b,focusWithoutUserIntent:c})}}};c?m(c):window.requestAnimationFrame(function(){return m()})}},[D,b,w,G]),K=k(function(){J(G,!0),w&&w()},[J,w,G]);d("ReactKeyboardEvent.react").useKeyboard(B,o(function(){return{onKeyDown:function(a){if(g==null||a.key!=="Tab"||a.isDefaultPrevented())return;var b=B.current;b!==null&&(a.shiftKey?d("FocusManager").focusPreviousContained(g,b,a,!0,w!=null?K:void 0):d("FocusManager").focusNextContained(g,b,a,!0,w!=null?K:void 0))}}},[g,K,w]));n(function(){E.current=F;var a=G;return function(){J(a)}},[D,b,J,G,F]);return j.jsx(t,{ref:x,id:v,children:f})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b,c){a=u.get(a);if(a){a=a.DO_NOT_USE_queryFirstNode(b);if(a!==null){d("FocusManager").focusElement(a,{preventScroll:c});return a}}return null}g.FocusRegion=a;g.focusRegionById=b}),98);
__d("focusScopeQueries",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a==="h1"||a==="h2"||a==="h3"||b.role==="heading"&&(b["aria-level"]===1||b["aria-level"]===2||b["aria-level"]===3)||b["aria-busy"]===!0||b.role==="progressbar"||b.role==="status"?!0:!1}function a(a,b){return b.tabIndex===-1&&!(b.disabled===!0||b.type==="hidden"||b["aria-disabled"]===!0||b["aria-hidden"]===!0)?!0:i(a,b)}function h(a){return a.type!=="hidden"&&a.type!=="file"}function b(a,b){return a==="input"&&h(b)}function i(a,b){if(b.tabIndex===-1||b.disabled===!0)return!1;if(b.tabIndex===0||b.contentEditable===!0)return!0;if(a==="a"||a==="area")return b.href!=null&&b.href!==""&&b.rel!=="ignore";return a==="input"?h(b):a==="button"||a==="textarea"||a==="select"||a==="iframe"||a==="embed"}b=[b,i];function j(a){return a.offsetWidth===0&&a.offsetHeight===0}function c(a,b,c){return!j(c)&&i(a,b)}function k(a,b){return a==="td"||a==="th"||b.role==="gridcell"||b.role==="columnheader"||b.role==="rowheader"?!0:!1}function d(a,b){return!k(a,b)&&i(a,b)}var l=[g,i],m=[i,g];function e(a,b){return g(a,b)||i(a,b)}var n=function(a,b){return b["data-focus-target"]===!0&&(b["aria-busy"]===!0||b.role==="progressbar")?!0:!1};f.headerAndSpinnerFocusScopeQuery=g;f.focusableScopeQuery=a;f.tabbableScopeQuery=i;f.inputFirstTabbbableScopeQuery=b;f.displayedTabbableScopeQuery=c;f.tableCellScopeQuery=k;f.tableCellTabbableContentScopeQuery=d;f.headerFirstTabbableSecondScopeQuery=l;f.tabbableFirstHeaderSecondScopeQuery=m;f.headerOrTabbableScopeQuery=e;f.topLoadingScopeQuery=n}),66);
__d("BaseTooltipContainer.react",["BaseAnchorPositioningUtils","BaseContextualLayerContextSizeContext","BaseTooltipCarat.react","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["align","alignOffsetXstyle","anchorRef","anchorTargetRef","anchorTargetXstyle","children","closeButton","id","position","ref","shouldFadeIn","shouldShowCarat","withCloseButton","xstyle","role"],i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useLayoutEffect,n=b.useState,o=10.5,p={anchorPositionContainer:{width:"xezivpi",$$css:!0},container:{backgroundColor:"xj5tmjb",borderStartStartRadius:"xyjepno",borderStartEndRadius:"x15s83fx",borderEndEndRadius:"xdgutz0",borderEndStartRadius:"x1wjlvx0",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"xms15q0",display:"x78zum5",filter:"xo8ld3r",maxWidth:"x86nfjv",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",$$css:!0},fillXStyle:{fill:"x1fj6ok0",fillOpacity:"xlyfr8p",$$css:!0},transitionIn:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},transitionOut:{opacity:"xg01cxk",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0}},q={above:{flexDirection:"xdt5ytf",$$css:!0},base:{display:"x78zum5",marginBottom:"xjpr12u",marginTop:"xr9ek0c",$$css:!0},below:{flexDirection:"x3ieub6",$$css:!0},end:{flexDirection:"x15zctf7",$$css:!0},start:{flexDirection:"x1q0g3np",$$css:!0}},r={marginInlineEnd:"x1c9tiao",$$css:!0},s={marginInlineStart:"x4lel18",$$css:!0},t={alignEnd:function(a){return[r,{"--x-marginInlineEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc("+(a!=null?a:0)+"px / 2 - "+o+"px)")}]},alignStart:function(a){return[s,{"--x-marginInlineStart":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc("+(a!=null?a:0)+"px / 2 - "+o+"px)")}]},end:{alignItems:"xuk3077",$$css:!0},middle:{alignItems:"x6s0dn4",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0},stretch:{alignItems:"x6s0dn4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(70),e,f,g,j,o,r,s,u,v,w,x,y,z,A,B,C;b[0]!==a?(w=a.align,e=a.alignOffsetXstyle,f=a.anchorRef,g=a.anchorTargetRef,j=a.anchorTargetXstyle,r=a.children,s=a.closeButton,u=a.id,x=a.position,v=a.ref,y=a.shouldFadeIn,z=a.shouldShowCarat,A=a.withCloseButton,C=a.xstyle,B=a.role,o=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=o,b[6]=r,b[7]=s,b[8]=u,b[9]=v,b[10]=w,b[11]=x,b[12]=y,b[13]=z,b[14]=A,b[15]=B,b[16]=C):(e=b[1],f=b[2],g=b[3],j=b[4],o=b[5],r=b[6],s=b[7],u=b[8],v=b[9],w=b[10],x=b[11],y=b[12],z=b[13],A=b[14],B=b[15],C=b[16]);a=w===void 0?"middle":w;w=x===void 0?"below":x;x=y===void 0?!1:y;y=z===void 0?!1:z;z=A===void 0?!0:A;A=B===void 0?"tooltip":B;B=n(null);var D=B[0],E=B[1];B=l(c("BaseContextualLayerContextSizeContext"));var F,G;b[17]!==f?(F=function(){var a;if(f!=null&&f.current==null)return;a=(a=f)==null||(a=a.current)==null?void 0:a.getBoundingClientRect();if(a==null)return;a={height:a.height,width:a.width};E(a)},G=[f],b[17]=f,b[18]=F,b[19]=G):(F=b[18],G=b[19]);m(F,G);if(b[20]!==D||b[21]!==B||b[22]!==x||b[23]!==C){F=d("BaseAnchorPositioningUtils").passesAnchorPositionExperiment();G=F?D:B;F=(i||(i=c("stylex"))).props(p.container,F&&p.anchorPositionContainer,p.transitionOut,C,x&&p.transitionIn);b[20]=D;b[21]=B;b[22]=x;b[23]=C;b[24]=F;b[25]=G}else F=b[24],G=b[25];b[26]!==F?(D=babelHelpers["extends"]({},F),b[26]=F,b[27]=D):D=b[27];B=D;C=A;b[28]!==r||b[29]!==s||b[30]!==A||b[31]!==z?(F=A==="dialog"?k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").focusableScopeQuery,children:k.jsxs(k.Fragment,{children:[r,z===!0&&k.jsx("div",{children:s})]})}):k.jsx(k.Fragment,{children:r}),b[28]=r,b[29]=s,b[30]=A,b[31]=z,b[32]=F):F=b[32];b[33]!==o||b[34]!==B||b[35]!==u||b[36]!==v||b[37]!==C||b[38]!==F?(D=k.jsx("div",babelHelpers["extends"]({},o,B,{"data-testid":void 0,id:u,ref:v,role:C,children:F})),b[33]=o,b[34]=B,b[35]=u,b[36]=v,b[37]=C,b[38]=F,b[39]=D):D=b[39];r=D;s=w==="auto"?"below":w;A=q[s];z=t[a];b[40]!==A||b[41]!==z?(o=[q.base,A,z],b[40]=A,b[41]=z,b[42]=o):o=b[42];if(b[43]!==a||b[44]!==e||b[45]!==((B=G)==null?void 0:B.width)){v=e===void 0&&a==="end"&&t.alignEnd((u=G)==null?void 0:u.width);b[43]=a;b[44]=e;b[45]=(C=G)==null?void 0:C.width;b[46]=v}else v=b[46];if(b[47]!==a||b[48]!==e||b[49]!==((F=G)==null?void 0:F.width)){s=e===void 0&&a==="start"&&t.alignStart((D=G)==null?void 0:D.width);b[47]=a;b[48]=e;b[49]=(A=G)==null?void 0:A.width;b[50]=s}else s=b[50];b[51]!==e||b[52]!==v||b[53]!==s?(z=[v,s,e],b[51]=e,b[52]=v,b[53]=s,b[54]=z):z=b[54];b[55]!==w||b[56]!==x||b[57]!==y?(B=y&&k.jsx(c("BaseTooltipCarat.react"),{fillXStyle:p.fillXStyle,position:w,shouldFadeIn:x,transitionInXStyle:p.transitionIn,transitionOutXStyle:p.transitionOut}),b[55]=w,b[56]=x,b[57]=y,b[58]=B):B=b[58];b[59]!==z||b[60]!==B?(u=k.jsx(d("react-strict-dom").html.div,{style:z,children:B}),b[59]=z,b[60]=B,b[61]=u):u=b[61];b[62]!==r||b[63]!==o||b[64]!==u?(C=k.jsxs(d("react-strict-dom").html.div,{style:o,children:[r,u]}),b[62]=r,b[63]=o,b[64]=u,b[65]=C):C=b[65];b[66]!==g||b[67]!==j||b[68]!==C?(F=k.jsx(d("react-strict-dom").html.div,{ref:g,style:j,children:C}),b[66]=g,b[67]=j,b[68]=C,b[69]=F):F=b[69];return F}g["default"]=a}),98);
__d("CometHeroInteractionContextPassthrough.react",["hero-tracing-placeholder"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("hero-tracing-placeholder").HeroInteractionContextPassthrough}),98);
__d("useCometDisplayTimingTrackerForInteraction",["InteractionTracingMetrics","performanceNow","react","react-compiler-runtime","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useRef;function a(a,b,e){var f=d("react-compiler-runtime").c(4),g=b===void 0?!1:b,i=j(null);f[0]!==e||f[1]!==g||f[2]!==a?(b=function(b){if(a!=null&&i.current!==b){i.current=b;if(b){var d=(h||(h=c("performanceNow")))();e!=null?c("InteractionTracingMetrics").addMountPoint(e,d,a):c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(b){return c("InteractionTracingMetrics").addMountPoint(b.traceId,d,a)});if(!g){var f=c("vc-tracker").getCurrentVCTraces();f.forEach(function(a){a.interactionType!=="INTERACTION"&&a.excludeElement(b)})}}}},f[0]=e,f[1]=g,f[2]=a,f[3]=b):b=f[3];return b}g["default"]=a}),98);
__d("useFadeEffect",["clearTimeout","react","react-compiler-runtime","setTimeout","useDoubleEffectHack_DO_NOT_USE_THIS_IS_TRACKED"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect,j=b.useReducer,k=b.useRef,l=1e3;function m(a,b){switch(b.type){case"start":return{isTransitioning:!0,shouldBeVisible:b.shouldBeVisible};case"finish":return{isTransitioning:!1,shouldBeVisible:a.shouldBeVisible};default:return a}}function a(a){var b=d("react-compiler-runtime").c(12),e=k(null),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={isTransitioning:!1,shouldBeVisible:!1},b[0]=f):f=b[0];f=j(m,f);var g=f[0],h=f[1];f=g.isTransitioning;g=g.shouldBeVisible;var n=k(null),o=k(null),p,q;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){return function(){n.current!=null&&c("clearTimeout")(n.current),o.current!=null&&window.cancelAnimationFrame(o.current)}},q=[],b[1]=p,b[2]=q):(p=b[1],q=b[2]);c("useDoubleEffectHack_DO_NOT_USE_THIS_IS_TRACKED")(p,q);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){h({type:"finish"}),n.current!=null&&c("clearTimeout")(n.current),n.current=null},b[3]=p):p=b[3];var r=p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(a){o.current!=null&&window.cancelAnimationFrame(o.current),o.current=window.requestAnimationFrame(function(){h({shouldBeVisible:a,type:"start"}),o.current=null,n.current!=null&&c("clearTimeout")(n.current),n.current=c("setTimeout")(r,l)})},b[4]=q):q=b[4];var s=q,t=k(!1);b[5]!==a?(p=function(){t.current!==a&&(!a||e.current!=null)&&s(a),t.current=a},q=[a,s],b[5]=a,b[6]=p,b[7]=q):(p=b[6],q=b[7]);i(p,q);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){var b=e.current;e.current=a;a!=null?(a.addEventListener!=null&&(a.addEventListener("transitionend",r),a.addEventListener("webkitTransitionEnd",r)),t.current===!0&&s(!0)):b!=null&&b.removeEventListener!=null&&(b.removeEventListener("transitionend",r),b.removeEventListener("webkitTransitionEnd",r))},b[8]=p):p=b[8];q=p;p=f||g||a;b[9]!==g||b[10]!==p?(f=[p,g,q],b[9]=g,b[10]=p,b[11]=f):f=b[11];return f}g["default"]=a}),98);
__d("useTooltipDelayedContent",["clearTimeout","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),e=a.delayContentMs,f=a.isVisible,g=j(f),h=j(null);b[0]!==e||b[1]!==f?(a=function(){return f===!0&&g.current===!1&&e>0},b[0]=e,b[1]=f,b[2]=a):a=b[2];a=k(a);var l=a[0],m=a[1],n;b[3]!==e||b[4]!==f?(a=function(){if(f===!0&&g.current===!1&&e>0){m(!0);h.current=c("setTimeout")(function(){m(!1),h.current=null},e);return function(){c("clearTimeout")(h.current),h.current=null}}else h.current!=null&&(m(!1),c("clearTimeout")(h.current),h.current=null);g.current=f},n=[e,f,g],b[3]=e,b[4]=f,b[5]=a,b[6]=n):(a=b[5],n=b[6]);i(a,n);b[7]!==l?(a={isPending:l},b[7]=l,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("BaseTooltipImpl.react",["BaseAnchorPositioningUtils","BaseTooltipContainer.react","CometHeroInteractionContextPassthrough.react","CometPlaceholder.react","cr:20267","cr:20391","react","react-compiler-runtime","react-strict-dom","useCometDisplayTimingTrackerForInteraction","useFadeEffect","useTooltipDelayedContent"],(function(a,b,c,d,e,f,g){"use strict";var h=["alignOffsetXstyle","loadingState","offset","contentKey","delayContentMs","headline","id","isVisible","themeWrapper","contentColor","contentType","shouldShowCarat","tooltip","tooltipTheme","xstyle","contextualLayerXstyle","position","stopClickPropagation","align"],i,j=i||(i=d("react"));e=i;var k=e.useLayoutEffect,l=e.useRef,m={loadingState:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(4),c=a.contextualLayerRef;b[0]!==c.current?(a=function(){var a=c.current;a&&a.reposition({autoflip:!0})},b[0]=c.current,b[1]=a):a=b[1];var e;b[2]!==c?(e=[c],b[2]=c,b[3]=e):e=b[3];k(a,e);return null}function a(a){var e,g=a.alignOffsetXstyle,i=a.loadingState,k=a.offset,o=a.contentKey,p=a.delayContentMs;p=p===void 0?0:p;a.headline;var q=a.id,r=a.isVisible,s=a.themeWrapper;s=s===void 0?j.Fragment:s;a.contentColor;a.contentType;var t=a.shouldShowCarat,u=a.tooltip;a.tooltipTheme;var v=a.xstyle,w=a.contextualLayerXstyle,x=a.position,y=a.stopClickPropagation,z=a.align;z=z===void 0?"middle":z;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var A=l(null),B=c("useFadeEffect")(r),C=B[0],D=B[1];B=B[2];var E=c("useCometDisplayTimingTrackerForInteraction")("ToolTip");p=c("useTooltipDelayedContent")({delayContentMs:p,isVisible:r});r=p.isPending;p=l(null);var F=a.anchorPosName;e=(e=a.anchorPosRef)!=null?e:p;p=d("BaseAnchorPositioningUtils").contextualLayerToAnchorPositionAreaCompat(x,z);var G=p[0];p=p[1];F=b("cr:20267")(F,e,{blockPositionArea:G,inlinePositionArea:p,tryFallbacks:"flip-block"});var H,I;F!=null&&(H=F[0],I=F[1]);G=d("BaseAnchorPositioningUtils").passesAnchorPositionExperiment();p=G?{anchorRef:e,anchorTargetRef:I,anchorTargetXstyle:H}:{};F=babelHelpers["extends"]({align:z},a,{imperativeRef:A,offset:k,position:x,ref:E,stopClickPropagation:y,vrPassTouchesThrough:!0,xstyle:w});if(u==null||!C)return null;G=j.jsx(s,{children:j.jsx(c("BaseTooltipContainer.react"),babelHelpers["extends"]({},p,{align:z,alignOffsetXstyle:g,closeButton:null,id:q,position:x,ref:B,shouldFadeIn:D,shouldShowCarat:t,withCloseButton:!1,xstyle:v,children:r?j.jsx(d("react-strict-dom").html.div,{style:m.loadingState,children:i}):j.jsxs(c("CometPlaceholder.react"),{fallback:i,name:f.id,children:[j.jsx(n,{contextualLayerRef:A}),typeof u==="string"?j.jsx(d("react-strict-dom").html.span,{children:u}):u]},o)}))});return j.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:j.jsx(b("cr:20391"),babelHelpers["extends"]({},F,{children:G}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("HiddenSubtreeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({backgrounded:!1,hidden:!1,hiddenOrBackgrounded:!1,hiddenOrBackgrounded_FIXME:!1,visibleForAnimation:!1});g["default"]=b}),98);
__d("Lexical",["cr:370"],(function(a,b,c,d,e,f){e.exports=b("cr:370")}),null);
__d("LexicalClearEditorPlugin",["cr:2120"],(function(a,b,c,d,e,f){e.exports=b("cr:2120")}),null);
__d("LexicalComposer",["cr:427"],(function(a,b,c,d,e,f){e.exports=b("cr:427")}),null);
__d("LexicalComposerContext",["cr:509"],(function(a,b,c,d,e,f){e.exports=b("cr:509")}),null);
__d("LexicalContentEditable",["cr:2483"],(function(a,b,c,d,e,f){e.exports=b("cr:2483")}),null);
__d("LexicalErrorBoundary",["cr:2260"],(function(a,b,c,d,e,f){e.exports=b("cr:2260")}),null);
__d("LexicalHistoryPlugin",["cr:293"],(function(a,b,c,d,e,f){e.exports=b("cr:293")}),null);
__d("LexicalPlainTextPlugin",["cr:739"],(function(a,b,c,d,e,f){e.exports=b("cr:739")}),null);
__d("LexicalSelection",["cr:2180"],(function(a,b,c,d,e,f){e.exports=b("cr:2180")}),null);
__d("LexicalUtils",["cr:2774"],(function(a,b,c,d,e,f){e.exports=b("cr:2774")}),null);
__d("WAMemoizeOne",["shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=c("shallowEqual"));var d=null,e=function(c){d==null||!b(d.params,c)?d={params:c,result:a.call(this,c)}:d.params=c;return d.result};e.clear=function(){d=null};return e}g["default"]=a}),98);
__d("WAStartAnimationLoop",[],(function(a,b,c,d,e,f){function a(a,b){b=b!=null?b:{};b=b.delay;var c=b===void 0?0:b,d,e,f;b=function(){e=!0,window.cancelAnimationFrame(d)};var g=function(b){(f==null||b-f>=c)&&(a(b),f=b);if(e)return;d=window.requestAnimationFrame(g)};d=window.requestAnimationFrame(g);return b}f.startAnimationLoop=a}),66);
__d("WAWebCellFrameV2.react",["WAWebFlex.react","WAWebFlexItem.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={middleContainer:{flex:"x12lumcd",alignItems:"x1qjc9v5",justifyContent:"xl56j7k",boxSizing:"x9f619",$$css:!0},primaryContainer:{alignItems:"x6s0dn4",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},stretch:{alignItems:"x1qjc9v5",$$css:!0},borderBox:{boxSizing:"x9f619",$$css:!0},ellipsis:{overflowX:"x6ikm8r",overflowY:"x10wlt62",whiteSpace:"xuxw1ft",textOverflow:"xlyipyv",$$css:!0},primaryRight:{paddingInlineStart:"xmzvs34",$$css:!0},secondaryRight:{paddingInlineStart:"xmzvs34",$$css:!0},primary:{lineHeight:"xggjnk3",$$css:!0}},k={container:{minHeight:"x1ba4aug",$$css:!0},detailLeft:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",minWidth:"xnei2rj",$$css:!0},middleContainer:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},middleContainerNoDetailLeft:{paddingInlineStart:"xmzvs34",$$css:!0},middleContainerNoDetailRight:{paddingInlineEnd:"xf159sx",$$css:!0},detailRight:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",minWidth:"xnei2rj",$$css:!0}},l={container:{minHeight:"x879a55",$$css:!0},containerRefreshed:{minHeight:"x879a55",marginLeft:"x16ydxro",marginRight:"xyo1k6t",marginInlineStart:null,marginInlineEnd:null,$$css:!0},detailLeft:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",minWidth:"x1fns5xo",$$css:!0},detailLeftRefreshed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"xe2zdcy",paddingInlineEnd:"x1pic42t",minWidth:"x1fns5xo",$$css:!0},middleContainer:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},middleContainerRefreshed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},middleContainerNoDetailLeft:{paddingInlineStart:"xf7dkkf",$$css:!0},middleContainerNoDetailRight:{paddingInlineEnd:"xv54qhq",$$css:!0},middleContainerNoDetailRightRefreshed:{paddingInlineEnd:"x2vl965",$$css:!0},detailRight:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",minWidth:"x1fns5xo",$$css:!0}},m={container:{minHeight:"x1qafhyn",$$css:!0},detailLeft:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",minWidth:"x900493",$$css:!0},middleContainer:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},middleContainerNoDetailLeft:{paddingInlineStart:"xf7dkkf",$$css:!0},middleContainerNoDetailRight:{paddingInlineEnd:"xv54qhq",$$css:!0},detailRight:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",minWidth:"x900493",$$css:!0}};function a(a){var b=a.containerXStyle,e=a.detailLeftXStyle,f=a.detailRightXStyle,g=a.isRefresh,h=a.middleContainerXStyle,n=a.primaryRightXStyle,o=a.primaryXStyle,p=a.secondaryRightXStyle,q=a.secondaryXStyle,r=a.size,s=a.detailLeft,t=a.detailRight,u=a.detailTop,v=a.detailTopRight,w=a.primary,x=a.primaryRight,y=a.secondary,z=a.secondaryRight,A=a.alignPrimary;A=A===void 0?"center":A;var B=a.alignDetailRight;B=B===void 0?"center":B;a=a.justifyDetailRight;a=a===void 0?"center":a;var C;switch(r){case"large":C=m;break;case"medium":C=l;break;case"small":C=k;break;default:break}return i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[j.borderBox,j.grow,j.stretch,g===!0?(r=C)==null?void 0:r.containerRefreshed:(r=C)==null?void 0:r.container,b].flat(),children:[Boolean(s)&&i.jsx(d("WAWebFlex.react").FlexRow,{shrink:0,xstyle:[g===!0?(r=C)==null?void 0:r.detailLeftRefreshed:(b=C)==null?void 0:b.detailLeft,e],justify:"center",align:"center",children:s}),i.jsxs(d("WAWebFlex.react").FlexColumn,{grow:1,shrink:1,basis:"auto",xstyle:[j.middleContainer,s==null&&((r=C)==null?void 0:r.middleContainerNoDetailLeft),t==null&&(g===!0?(b=C)==null?void 0:b.middleContainerNoDetailRightRefreshed:(e=C)==null?void 0:e.middleContainerNoDetailRight),g===!0?(s=C)==null?void 0:s.middleContainerRefreshed:(r=C)==null?void 0:r.middleContainer,h],children:[Boolean(u)&&i.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:j.primaryContainer,children:[i.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:[j.ellipsis,j.borderBox,o],children:u}),Boolean(v)&&i.jsx(c("WAWebFlexItem.react"),{shrink:0,xstyle:[j.primaryRight,j.ellipsis,j.borderBox,n],children:v})]}),i.jsxs(d("WAWebFlex.react").FlexRow,{align:A,children:[i.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:[j.ellipsis,j.borderBox,j.primary,o],children:w}),Boolean(x)&&i.jsx(c("WAWebFlexItem.react"),{shrink:0,xstyle:[j.primaryRight,j.ellipsis,j.borderBox,n],children:x})]}),Boolean(y)&&i.jsxs(d("WAWebFlex.react").FlexRow,{children:[i.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:[j.ellipsis,j.borderBox,q],children:y}),Boolean(z)&&i.jsx(c("WAWebFlexItem.react"),{shrink:0,xstyle:[j.secondaryRight,j.ellipsis,j.borderBox,p],children:z})]})]}),Boolean(t)&&i.jsx(d("WAWebFlex.react").FlexRow,{shrink:0,justify:a,align:B,xstyle:[(b=C)==null?void 0:b.detailRight,f],children:t})]})}a.displayName=a.name+" [from "+f.id+"]";g.CellV2Frame=a}),98);
__d("WAWebCellV2.react",["WAWebCellFrameV2.react","WAWebFocusTracer","WAWebKeyboardTabUtils","WAWebUIRefreshGatingUtils","WDSFocusStateStyles","react","useMergeRefs","useWAWebFocusState","useWAWebStaticButtonA11y"],(function(a,b,c,d,e,f,g){var h=["ref"],i=["containerXStyle","middleContainerXStyle","detailLeftXStyle","primaryXStyle","primaryRightXStyle","secondaryXStyle","secondaryRightXStyle","detailRightXStyle","tabIndex","onClick","onMouseEnter","onMouseLeave","title","border","disabled","interactive","active","idle","testid","colorScheme","material","ariaLabel","applyFocusStyles","onContextMenu"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useRef,n=b.useState,o={material:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",$$css:!0}},p={containerActive:{backgroundColor:"xairv4b",$$css:!0},containerInteractive:{":hover_backgroundColor":"x1z0qo99",":focus_backgroundColor":"x1qpivmo",$$css:!0},border:{borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x1v2jjsl",$$css:!0},borderHover:{borderBottomColor:"x13mi150",$$css:!0}},q={containerActive:{backgroundColor:"x191ts1j",$$css:!0},containerInteractive:{":hover_backgroundColor":"xlkc7s5",":focus_backgroundColor":"x4fb3am",$$css:!0},border:{borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x1v2jjsl",$$css:!0},borderHover:{borderBottomColor:"xpw6zmn",$$css:!0}},r={containerActive:{backgroundColor:"x3b7fxg",$$css:!0},containerInteractive:{":hover_backgroundColor":"x1jwue9u",":focus_backgroundColor":"x1dcx0tz",$$css:!0},border:{borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x1v2jjsl",$$css:!0},borderHover:{borderBottomColor:"x1qe0fw2",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.containerXStyle,f=a.middleContainerXStyle,g=a.detailLeftXStyle,j=a.primaryXStyle,k=a.primaryRightXStyle,s=a.secondaryXStyle,t=a.secondaryRightXStyle,u=a.detailRightXStyle,v=a.tabIndex,w=a.onClick,x=a.onMouseEnter,y=a.onMouseLeave,z=a.title,A=a.border,B=a.disabled;B=B===void 0?!1:B;var C=a.interactive;C=C===void 0?!0:C;var D=a.active;D=D===void 0?!1:D;var E=a.idle;E=E===void 0?!1:E;var F=a.testid;F=a.colorScheme;var G=F===void 0?"default":F;F=a.material;var H=a.ariaLabel,I=a.applyFocusStyles;I=I===void 0?!0:I;var J=a.onContextMenu;a=babelHelpers.objectWithoutPropertiesLoose(a,i);C=C&&!B;var K=m(null),L=n(!1),M=L[0],N=L[1];L=c("useWAWebFocusState")();var O=L[0];L=L[1];w=c("useWAWebStaticButtonA11y")(w,{tabIndex:v,disabled:B});v=w[0];B=w[1];w=m(null);v=c("useMergeRefs")(K,v,O,w,b);O=function(a){var b=K.current;if(!b)return;var e=a.key;if(!["ArrowRight","ArrowLeft"].includes(e))return;if(b){e=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,a.key==="ArrowRight"?d("WAWebKeyboardTabUtils").TabDirection.FORWARD:d("WAWebKeyboardTabUtils").TabDirection.BACKWARD,d("WAWebKeyboardTabUtils").FocusType.TABBABLE);c("WAWebFocusTracer").focus(e)}};w=C?babelHelpers["extends"]({},B,{tabIndex:B.tabIndex,onMouseEnter:function(a){x==null||x(a),N(!0)},onMouseLeave:function(a){y==null||y(a),N(!1)}}):{};b=G==="default"?p:G==="lighter"?q:G==="lightest"?r:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+G)}();B=function(a){a.preventDefault();a.stopPropagation();if(!J)return;J({event:a})};F=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()||F===!0;M=!F&&A!=null&&b!=null&&!L?[b.border,M&&b.borderHover]:[];F=[F&&o.material,Boolean(D)&&(b==null?void 0:b.containerActive),Boolean(C)&&!E&&(b==null?void 0:b.containerInteractive),L&&I&&d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocusPersistent,e,A==="bottom-full"&&M];return l.jsx("div",babelHelpers["extends"]({onKeyDown:O,ref:v,className:"x78zum5 xh8yej3 x1iyjqo2 x1n2onr6 x9f619 xkh2ocl","data-testid":void 0,title:z,"aria-label":H},w,{onContextMenu:B,children:l.jsx(d("WAWebCellFrameV2.react").CellV2Frame,babelHelpers["extends"]({},a,{containerXStyle:F,detailLeftXStyle:[g],middleContainerXStyle:[f,A==="bottom-partial"&&M],primaryXStyle:[j],primaryRightXStyle:[k],secondaryXStyle:[s],secondaryRightXStyle:[t],detailRightXStyle:[u,A==="bottom-partial"&&M]}))}))}a.displayName=a.name+" [from "+f.id+"]";g.CellV2=a}),98);
__d("getScrollParent",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=getComputedStyle(a),e=d.position==="absolute";b=b?/(auto|scroll|hidden)/:/(auto|scroll)/;if(d.position==="fixed")return c("nullthrows")(document.body);for(a=a;a=a.parentElement;){d=getComputedStyle(a);if(e&&d.position==="static")continue;if(b.test(d.overflow+d.overflowY+d.overflowX)&&a instanceof HTMLElement)return a}return c("nullthrows")(document.body)}g["default"]=a}),98);
__d("WAWebDomScroll",["Promise","WATypeUtils","WAWebABProps","WAWebVelocityAnimate","err","getScrollParent"],(function(a,b,c,d,e,f,g){var h;function a(a,b,c){b===void 0&&(b=!0);if(a.scrollIntoViewIfNeeded&&d("WATypeUtils").isFunction(a.scrollIntoViewIfNeeded))return a.scrollIntoViewIfNeeded(b);c=j(c||a.parentNode);var e=window.getComputedStyle(c,null);e=parseInt(e.getPropertyValue("border-top-width"),10);var f=a.offsetTop-c.offsetTop<c.scrollTop,g=a.offsetTop-c.offsetTop+a.clientHeight-e>c.scrollTop+c.clientHeight,h=f&&!g;(f||g)&&b&&(c.scrollTop=a.offsetTop-c.offsetTop-c.clientHeight/2-e+a.clientHeight/2);(f||g)&&!b&&a.scrollIntoView(h);return!(f||g)}function e(a,b,c){b===void 0&&(b=!0);c=j(c||a.parentNode);var d=window.getComputedStyle(c,null);d=parseInt(d.getPropertyValue("border-top-width"),10);var e=a.offsetTop-c.offsetTop<c.scrollTop,f=a.offsetTop-c.offsetTop+a.clientHeight-d>c.scrollTop+c.clientHeight,g=e&&!f;b?c.scrollTop=a.offsetTop-c.offsetTop-c.clientHeight/2-d+a.clientHeight/2:a.scrollIntoView(g);return!(e||f)}function i(a){a=a.getBoundingClientRect();return a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)}function f(a,e,f){f===void 0&&(f={});e=j(e||a.offsetParent);var g=d("WAWebABProps").getABPropConfigValue("sticky_chat_profile_picture_enabled")?c("getScrollParent")(a,!1):e,k=e===g,l=f.pos||"center",m=f.duration!=null&&f.duration!==0?f.duration:1e3,n=f.offset||0,o=k?a.offsetTop:e.offsetTop+a.offsetTop;if(f.scrollIfNeeded===!0&&i(a))return(h||(h=b("Promise"))).resolve();var p=Boolean(f.animate);switch(l){case"top":g.scrollTop=o+n;return(h||(h=b("Promise"))).resolve();case"bottom":g.scrollTop=o+a.clientHeight-g.clientHeight;return(h||(h=b("Promise"))).resolve();case"center":if(p){l=k?a:e;void c("WAWebVelocityAnimate")(l,"stop");void c("WAWebVelocityAnimate")(g,"stop");e=(a.clientHeight-g.clientHeight)/2;k||(e+=a.offsetTop);return c("WAWebVelocityAnimate")(l,"scroll",{duration:m,container:g,offset:e,easing:f.easing})}g.scrollTop=o+a.clientHeight/2-g.clientHeight/2;return(h||(h=b("Promise"))).resolve();case"offset":if(p){void c("WAWebVelocityAnimate")(a,"stop");void c("WAWebVelocityAnimate")(g,"stop");return c("WAWebVelocityAnimate")(a,"scroll",{duration:m,container:g,offset:-n,easing:f.easing})}g.scrollTop=o-n;return(h||(h=b("Promise"))).resolve()}return(h||(h=b("Promise"))).resolve()}function j(a){if(a&&a instanceof HTMLElement)return a;throw c("err")("utils:DOM parent not defined or is not a valid HTMLElement")}g.scrollIntoViewIfNeeded=a;g.scrollIntoView=e;g.scrollAt=f}),98);
__d("WAWebRegister.react",["WAWebEventEmitter","err","react","useWAWebListener","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.createContext,l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useImperativeHandle,p=b.useMemo,q=b.useRef;function r(a,b){return a.length!==b.length?!1:a.every(function(a,c){return a===b[c]})}function a(){var a=k();function b(b){return j.jsx(a.Provider,{value:b.registerRef,children:b.children})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=p(function(){return new(c("WAWebEventEmitter"))()},[]),e=new Map(),f=q({items:e,events:b});f.current!=null&&(f.current.items=new Map());var g=c("useWAWebPrevious")((e=f.current)==null?void 0:e.items);n(function(){var b=f.current;if(b!=null){var c=Array.from((g==null?void 0:g.keys())||[]),d=Array.from(b==null?void 0:b.items.keys());c=!r(c,d);c&&(a==null||a.onOrderChange==null||a.onOrderChange(b==null?void 0:b.items))}},void 0);n(function(){f.current!=null&&(a==null||a.onRegister==null||a.onRegister(f.current.items))},void 0);var h=a==null?void 0:a.onChange;d("useWAWebListener").useListener(b,"change",l(function(){f.current!=null&&(h==null||h(f.current.items))},[h]));return f}function g(b,d){var e=m(a),f=e;if(e==null||f==null)throw c("err")("[Register] `useRegisterItem` must be used in a `Register` tree");var g=q(null);o(g,function(){return d});(e=f.current)==null||e.items.set(b,g);n(function(){var a=f.current;a==null||a.items.set(b,g);a==null||a.events.trigger("change");return function(){a==null||a.items["delete"](b),a==null||a.events.trigger("change")}},[b])}return{Register:b,useRegister:e,useRegisterItem:g}}g.createRegister=a}),98);
__d("WAWebNavigatableList",["WAWebKeyboardHotKeys.react","react"],(function(a,b,c,d,e,f,g){var h=["children","items","onSelect","forceSelection","rotate","handlers","listControllerRef","initialActiveItem","onHotKeysFocus"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useImperativeHandle,n=b.useRef;function a(a){var b=a.children,c=a.items,e=a.onSelect,f=a.forceSelection,g=f===void 0?!1:f;f=a.rotate;var i=f===void 0?!1:f;f=a.handlers;var j=a.listControllerRef,o=a.initialActiveItem,p=a.onHotKeysFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var q=n(null),r=function(a){p==null||p({e:a,controller:j==null?void 0:j.current})};l(function(){o!=null&&c.setVal(o),g===!0&&c.index<0&&c.setFirst(!1)},[c,g,o]);var s=f||{},t=s.down,u=s.up,v=s.enter,w=function(){i&&c.index===c.list.length-1?c.setFirst(!1):c.setNext(!1)},x=function(){if(c.index===0)if(i){c.setLast(!1);return}else if(g)return;c.setPrev(!1)},y=function(a){c.setIndex(a)},z=function(){var a=c.getVal();a!=null&&e!=null&&(a==null?void 0:a.disabled)!==!0&&e(a)};s=babelHelpers["extends"]({},f,{down:function(a){if((t==null?void 0:t(a))===!1)return;w()},up:function(a){if((u==null?void 0:u(a))===!1)return;x();a.preventDefault()},enter:function(a){if((v==null?void 0:v(a))===!1)return;z()}});m(j,function(){return{goDown:w,goUp:x,selectItem:z,getIndex:function(){return c.index},goIndex:y}});return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,babelHelpers["extends"]({ref:q,handlers:s,onFocus:r},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g.NavigatableList=a}),98);
__d("WAWebSingleSelection",["WAWebEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){function b(b,c,d){var e;b===void 0&&(b=[]);d===void 0&&(d="next");e=a.call(this)||this;e.list=b;e.index=-1;e.value=void 0;e.getter=c;e.deleteDir=d;return e}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.init=function(a,b){a===void 0&&(a=[]);b===void 0&&(b=!1);b=b;var c,d;this.list=a;if(this.value==null)return;if(a.length===0){this.unset();return}c=a.indexOf(this.value);if(c>-1){if(c===this.index)return;d=!0;b=!1}else if(!b||this.index<0)c=-1;else{var e=this.deleteDir==="prev"?-1:0;c=this.index+e;c=Math.max(c,0);c=Math.min(c,a.length-1);d=c>-1}this.set(c,b,d)};c.unset=function(){var a=this.value;this.value=void 0;this.index=-1;a!=null&&(this.$SingleSelection$p_1(a,!1),this.trigger("unset"))};c.reset=function(a,b){a===void 0&&(a=!0);b===void 0&&(b=!0);if(this.index<0)return;this.value!=null&&this.$SingleSelection$p_1(this.value,b===!0?"focus":"select",a)};c.set=function(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=!0);if(!this.list.length)return;a=Math.min(Math.max(a,-1),this.list.length-1);var d=this.value,e=a>-1?this.list[a]:void 0;e!=null?(this.value=e,this.$SingleSelection$p_1(e,b===!0?"focus":"select")):c===!0&&(this.value=void 0);c===!0&&d!=null&&d!==e&&this.$SingleSelection$p_1(d,!1);this.trigger("change",{current:this.value,previous:d});this.index=a};c.getVal=function(){return this.value};c.setVal=function(a,b){b===void 0&&(b=!0);var c=this.list.indexOf(a);c>-1?this.set(c,b):(this.unset(),this.value=a)};c.setFirst=function(a){a===void 0&&(a=!0);if(this.list.length===0)return;this.set(0,a,!0)};c.setLast=function(a){a===void 0&&(a=!0);if(this.list.length===0)return;this.set(this.list.length-1,a,!0)};c.setPrev=function(a,b){a===void 0&&(a=!0);b===void 0&&(b=!1);if(this.list.length===0)return;this.set(this.prev(b),a,!0)};c.setNext=function(a,b){a===void 0&&(a=!0);b===void 0&&(b=!1);if(this.list.length===0)return;this.set(this.next(b),a,!0)};c.prev=function(a){a===void 0&&(a=!1);if(this.list.length===0)return-1;if(a)return this.index-1<0?this.list.length-1:this.index-1;return this.index===-1?-1:this.index-1};c.next=function(a){a===void 0&&(a=!1);if(this.list.length===0)return-1;return a?this.index+1>this.list.length-1?0:this.index+1:Math.min(this.index+1,this.list.length-1)};c.$SingleSelection$p_1=function(a){if(this.getter!=null){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.trigger.apply(this,[this.getter(a)].concat(c))}};c.getList=function(){return this.list};c.setIndex=function(a){this.set(a)};c.setItemKey=function(a){var b=this;if(this.getter!=null){var c=this.list.findIndex(function(c){return(b.getter==null?void 0:b.getter(c))===a});c>-1?this.set(c):this.unset()}};return b}(c("WAWebEventEmitter"));g["default"]=a}),98);
__d("useWAWebNavigatableList",["WAWebNavigatableList","WAWebSingleSelection","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=j(null),e=b[0],f=b[1];b=j(new(c("WAWebSingleSelection"))(a));var g=b[0],h=b[1];i(function(){h(new(c("WAWebSingleSelection"))(a))},[a]);i(function(){f(g.getVal())},[a,g]);d("useWAWebListener").useListener(g,"change",function(a){a=a.current;f(a)});return{activeItem:e,listSelection:g,NavigatableList:d("WAWebNavigatableList").NavigatableList}}g.useNavigatableList=a}),98);
__d("WAWebMenuController.react",["WALogger","WAWebDomScroll","WAWebEventEmitter","WAWebFlex.react","WAWebRegister.react","WAWebUIRefreshGatingUtils","asyncToGeneratorRuntime","err","react","stylex","useWAWebNavigatableList"],(function(a,b,c,d,e,f,g){var h,i=["ref"],j,k,l,m=l||d("react"),n=j||(j=c("react")),o=m.createContext,p=m.useCallback,q=m.useContext,r=m.useEffect,s=m.useMemo,t=m.useRef,u=m.useState,v=o(null);m=d("WAWebRegister.react").createRegister();o=m.useRegisterItem;var w=m.useRegister;m=m.Register;function a(){var a=q(v);if(a==null)throw c("err")("[Menu] useMenu must be used in a child of a MenuList component");return a}var x={container:{display:"x78zum5",flexGrow:"x1iyjqo2",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0},listContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",flexBasis:"xdl72j9",overflowY:"x1odjw0f",width:"xh8yej3",$$css:!0},padding:{paddingTop:"x16ovd2e",paddingInlineEnd:"x1nzty39",paddingBottom:"x12xbjc7",paddingInlineStart:"x12w63v0",$$css:!0}};function e(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var f=a.data,g=a.children,j=a.onSelect,l=a.forceSelection,m=a.initialActiveOptionId,o=a.maxHeight,q=a.minWidth,w=a.colorScheme;w=w===void 0?"lighter":w;var y=a.size;y=y===void 0?"small":y;var z=a.menuControllerRef,A=a.focusOnMount,B=A===void 0?!1:A;A=a.material;A=A===void 0?!1:A;var C=a.allowTabNavigation;C=C===void 0?!1:C;var D=a.border,E=a.onActiveItemChange,F=a.autoScroll,G=F===void 0?!0:F;F=a.useLegacyDesign;F=F===void 0?!1:F;a=a.onHotKeysFocus;var H=f,I=t();f=u();var J=f[0],K=f[1],L=s(function(){return new(c("WAWebEventEmitter"))()},[]);f=s(function(){return J!=null?J:Array.from(H.keys())},[J,H]);f=d("useWAWebNavigatableList").useNavigatableList(f);var M=f.activeItem,N=f.listSelection;f=f.NavigatableList;var O=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield K(a)});return function(b){return a.apply(this,arguments)}}(),P=function(a){var b=H.get(a);if(b!=null&&b.current!=null){b=b.current;b.onSelect==null||b.onSelect();L.trigger("select",a,b,H);j==null||j(a,b,H)}else d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Menu] Trying to handle onSelect without a valid option '","'"])),a)},Q=function(a){a.stopPropagation(),a.preventDefault()},R=p(function(a){a=H.get(a);if(I.current!=null&&(a==null?void 0:a.current)!=null){a=a.current.ref.current;a!=null&&d("WAWebDomScroll").scrollIntoViewIfNeeded(a,!1,I.current)}},[H,I]);r(function(){G===!0&&M!=null&&R(M)},[M,R,G]);r(function(){E==null||E(M)},[M,E]);r(function(){B===!0&&I.current!=null&&I.current.focus()},[]);Q={down:Q,up:Q,enter:Q};var S=function(a){a!=null?N.setVal(a):N.set(-1,!1)};O={items:H,events:L,activeItemId:M,filteredItems:J!=null?new Set(J):null,filterItems:O,selectItem:P,activateItem:S,colorScheme:w,size:y,material:A,allowTabNavigation:C,border:D,useLegacyDesign:F};return n.jsx(v.Provider,{value:O,children:n.jsx("div",{ref:e,role:"listbox","data-testid":void 0,className:(k||(k=c("stylex")))([x.container]),style:{maxHeight:o,minWidth:q},children:n.jsx(f,{listControllerRef:z,xstyle:x.listContainer,items:N,onSelect:P,handlers:Q,forceSelection:l,initialActiveItem:m,rotate:!0,onHotKeysFocus:a,children:n.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",tabIndex:0,"data-tab":0,ref:I,xstyle:(A||d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled())&&x.padding,testid:void 0,children:g})})})})}e.displayName=e.name+" [from "+f.id+"]";g.useRegisterItem=o;g.Register=m;g.useRegister=w;g.useMenu=a;g.WAWebMenuController=e}),98);
__d("WAWebMenuItem.react",["WAWebMenuController.react","WAWebNoop","WAWebUnstyledButton.react","err","react","useMergeRefs","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;function n(a){var b=d("WAWebMenuController.react").useMenu();if(b==null)throw c("err")("[Menu] MenuItem must be a child of a MenuItemList");return{menu:b,colorScheme:b.colorScheme,size:b.size,isActive:(b==null?void 0:b.activeItemId)===a,isFiltered:b.filteredItems!=null&&b.filteredItems.has(a)===!1,material:b.material,allowTabNavigation:b.allowTabNavigation,border:b.border,useLegacyDesign:b.useLegacyDesign}}function o(a,b){d("WAWebMenuController.react").useRegisterItem(a,b);return n(a)}var p={container:{textAlign:"x1yc453h",overflowX:"x6ikm8r",overflowY:"x10wlt62",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",flexBasis:"xdl72j9",alignSelf:"xkh2ocl",width:"xh8yej3",$$css:!0},disabled:{cursor:"x1h6gzvc",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=a.optionId,e=a.primary,f=a.disabled,g=a.children,i=a.type;i=i===void 0?"action":i;var j=a.onSelect,n=a.searchCriteria,q=a.testid,r=a.onActive,s=a.onInactive;q=a.ariaLabel;a=m(null);b=c("useMergeRefs")(a,b);i=o(d,{id:d,type:i,label:e,searchCriteria:n,onSelect:f!==!0?j:c("WAWebNoop"),ref:a});var t=i.menu,u=i.isActive;e=i.isFiltered;n=i.allowTabNavigation;var v=c("useWAWebPrevious")(u);l(function(){u===!0&&v!==!0?r==null||r():u===!1&&v===!0&&(s==null||s())},[u,v,r,s]);if(e===!0)return null;j=function(a){a.stopPropagation(),t.selectItem(d)};a=function(){t.activateItem(d)};i=function(){t.activateItem(null)};return k.jsx(c("WAWebUnstyledButton.react"),{ref:b,role:"listitem",xstyle:[p.container,f===!0&&p.disabled],onClick:f!==!0?j:null,tabIndex:n?0:-1,dataTab:n?0:-1,testid:void 0,onFocus:n?a:null,onBlur:n?i:null,"aria-label":q,children:g})}a.displayName=a.name+" [from "+f.id+"]";g.useMenuItem=n;g.WAWebMenuItem=a}),98);
__d("WAWebCellMenuItem.react",["WAWebCellV2.react","WAWebMenuItem.react","WAWebText.react","react"],(function(a,b,c,d,e,f,g){var h=["ref"],i=["optionId","size","border","disabled","primary","primaryRight","secondary","secondaryRight","detailLeft","detailRight","children","forceActive","isRefresh","textWrap"],j,k=j||c("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var c=a.optionId,e=a.size,f=a.border,g=a.disabled,j=a.primary,l=a.primaryRight,m=a.secondary,n=a.secondaryRight,o=a.detailLeft,p=a.detailRight,q=a.children,r=a.forceActive,s=a.isRefresh,t=a.textWrap;t=t===void 0?"ellipsis":t;var u=babelHelpers.objectWithoutPropertiesLoose(a,i),v=d("WAWebMenuItem.react").useMenuItem(c),w=v.colorScheme,x=v.size,y=v.isActive,z=v.material,A=v.border;v=v.useLegacyDesign;var B;j!=null&&(s===!0?B=k.jsx(d("WAWebText.react").WAWebTextTitleRefreshed,{textWrap:t,children:j}):B=k.jsx(d("WAWebText.react").WAWebTextTitle,{padding:v?[0,48,0,16]:null,children:j}));var C;m!=null&&(s===!0?C=k.jsx(d("WAWebText.react").WAWebTextMutedRefreshed,{textWrap:t,children:m}):C=k.jsx(d("WAWebText.react").WAWebTextMuted,{textWrap:t,children:m}));return k.jsxs(d("WAWebMenuItem.react").WAWebMenuItem,babelHelpers["extends"]({optionId:c,type:"action"},u,{ref:b,children:[k.jsx(d("WAWebCellV2.react").CellV2,{middleContainerXStyle:a.middleContainerXStyle,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,size:e!=null?e:x,colorScheme:w,material:z,disabled:g,primary:B,primaryRight:l,secondary:C,secondaryRight:n,detailLeft:o,detailRight:p,active:r===!0||y,tabIndex:-1,border:f||A,isRefresh:s}),q]}))}a.displayName=a.name+" [from "+f.id+"]";g.CellV2MenuItem=a}),98);
__d("WAWebActionMenuItem.react",["WAWebCellMenuItem.react","react"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j=i||c("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(d("WAWebCellMenuItem.react").CellV2MenuItem,babelHelpers["extends"]({ref:b},a,{type:"action"}))}a.displayName=a.name+" [from "+f.id+"]";g.ActionMenuItem=a}),98);
__d("WAWebActions",["fbt","$InternalEnum"],(function(a,b,c,d,e,f,g,h){var i=b("$InternalEnum").Mirrored(["CONTACT_US","DECREASE_PTT_SPEED","GO_TO_NEXT_CHAT","GO_TO_PREV_CHAT","INCREASE_PTT_SPEED","LOGOUT","OPEN_NEW_CHAT","OPEN_NEW_GROUP","OPEN_PROFILE","OPEN_SETTINGS","CLOSE_CHAT","SEARCH","SEARCH_IN_CHAT","TOGGLE_ARCHIVE","TOGGLE_MUTE","TOGGLE_PIN","TOGGLE_UNREAD","OPEN_EMOJI_PANEL","OPEN_GIF_PANEL","OPEN_STICKER_PANEL","TOGGLE_STICKER_MAKER","TOGGLE_COMMAND_PALETTE","LOCK_SCREEN","TOGGLE_BOLD","TOGGLE_ITALIC","TOGGLE_STRIKETHROUGH","TOGGLE_CODE","TOGGLE_INLINE_CODE","TOGGLE_NUMBERED_LIST","TOGGLE_BULLETED_LIST","TOGGLE_QUOTE","TOGGLE_THEME","ZOOM_IN","ZOOM_OUT","ZOOM_RESET","OPEN_CHAT_INFO","BLOCK_CHAT","REPLY","REPLY_PRIVATE","FORWARD","STAR_MESSAGE","OPEN","OPEN_ATTACHMENT_DROPDOWN","START_PTT_RECORDING","PAUSE_PTT_RECORDING","SEND_PTT","EDIT_LAST_MESSAGE","OPEN_NTH_CHAT"]);function a(a){switch(a){case i.TOGGLE_UNREAD:return h._(/*BTDS*/"Mark as unread");case i.TOGGLE_MUTE:return h._(/*BTDS*/"Mute");case i.TOGGLE_ARCHIVE:return h._(/*BTDS*/"Archive chat");case i.TOGGLE_PIN:return h._(/*BTDS*/"Pin chat");case i.SEARCH:return h._(/*BTDS*/"Search");case i.SEARCH_IN_CHAT:return h._(/*BTDS*/"Search chat");case i.OPEN_NEW_CHAT:return h._(/*BTDS*/"New chat");case i.GO_TO_NEXT_CHAT:return h._(/*BTDS*/"Next chat");case i.GO_TO_PREV_CHAT:return h._(/*BTDS*/"Previous chat");case i.CLOSE_CHAT:return h._(/*BTDS*/"Close chat");case i.OPEN_NEW_GROUP:return h._(/*BTDS*/"New group");case i.OPEN_PROFILE:return h._(/*BTDS*/"Profile and About");case i.INCREASE_PTT_SPEED:return h._(/*BTDS*/"Increase speed of selected voice message");case i.DECREASE_PTT_SPEED:return h._(/*BTDS*/"Decrease speed of selected voice message");case i.OPEN_SETTINGS:return h._(/*BTDS*/"Settings");case i.OPEN_EMOJI_PANEL:return h._(/*BTDS*/"Emoji panel");case i.OPEN_GIF_PANEL:return h._(/*BTDS*/"GIF panel");case i.OPEN_STICKER_PANEL:return h._(/*BTDS*/"Sticker panel");case i.LOCK_SCREEN:return h._(/*BTDS*/"Lock app");case i.TOGGLE_COMMAND_PALETTE:return h._(/*BTDS*/"Extended search");case i.ZOOM_IN:return h._(/*BTDS*/"Zoom in");case i.ZOOM_OUT:return h._(/*BTDS*/"Zoom out");case i.ZOOM_RESET:return h._(/*BTDS*/"Zoom reset");case i.OPEN_CHAT_INFO:return h._(/*BTDS*/"Open chat info");case i.BLOCK_CHAT:return h._(/*BTDS*/"Block chat");case i.REPLY:return h._(/*BTDS*/"Reply");case i.REPLY_PRIVATE:return h._(/*BTDS*/"Reply privately");case i.FORWARD:return h._(/*BTDS*/"Forward");case i.STAR_MESSAGE:return h._(/*BTDS*/"Star message");case i.OPEN_ATTACHMENT_DROPDOWN:return h._(/*BTDS*/"Open attachment dropdown");case i.START_PTT_RECORDING:return h._(/*BTDS*/"Start PTT recording");case i.PAUSE_PTT_RECORDING:return h._(/*BTDS*/"Pause PTT recording");case i.SEND_PTT:return h._(/*BTDS*/"Send PTT");case i.EDIT_LAST_MESSAGE:return h._(/*BTDS*/"Edit last message");case i.OPEN_NTH_CHAT:return h._(/*BTDS*/"Open chat");default:return""}}g.Action=i;g.getLabel=a}),226);
__d("WAWebAddonProcessDeleteForMe",["Promise","WALogger","WAWebAddonConstants","WAWebAddonDBTable","WAWebAddonSortUtils","WAWebAddonUpdateDataUtils","WAWebMsgType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebAddonDBTable").addonDBTable.getByMsgKey(d("WAWebMsgType").MSG_TYPE.COMMENT,a)});return j.apply(this,arguments)}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield d("WAWebAddonUpdateDataUtils").updateAddonsInTableMode({processMode:d("WAWebAddonConstants").AddonProcessMode.DeleteForMe,tableMode:a},{remove:b})});return l.apply(this,arguments)}function m(a){return Array.from(d("WAWebAddonSortUtils").groupAddonsByTableMode(a)).map(function(b){var c=b[0];b=b[1];return k(c,b)["catch"](function(b){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["processDeleteForMe failed: ",""])),b).tags("messaging","addons").sendLogs("deleteAddonForMe: "+((b=a[0])==null?void 0:b.type)+" in "+String(c)+" failed");return})})}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=m(a);yield (i||(i=b("Promise"))).all(a)});return o.apply(this,arguments)}function c(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield n([a])});return p.apply(this,arguments)}g.hasDeleteAddonForMe=a;g.processDeleteForMe=n;g.processDeleteForMeSingle=c}),98);
__d("WAWebListBulletNode",["Lexical","WAWebClassnames","WAWebCopyPasteCopyable.react","err"],(function(a,b,c,d,e,f,g){var h="\u2022",i=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);b.create=function(a){return new b(a)};b.getType=function(){return"list-bullet"};b.clone=function(a){return new b(a.__text,a.__key)};b.importJSON=function(){throw c("err")("Deserialization of ListBulletNode is unsupported")};var e=b.prototype;e.createDOM=function(b){b=a.prototype.createDOM.call(this,b);b.className=d("WAWebClassnames").classnamesConvertMeToStylexPlease(b.className,"x1sdyfia x1ncwhqj xd4r4e8 x1n8ftqi");b.textContent=h;b.dataset[d("WAWebCopyPasteCopyable.react").PLAIN_TEXT_DATA_ATTR]="*";return b};e.updateDOM=function(a,b,c){b.textContent=h;return!1};e.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{type:"list-bullet-node"})};return b}(d("Lexical").TextNode);function j(a){return new i(a).setMode("token")}function k(a){return a instanceof i}function a(a){if(k(a))return a;var b=j(a.getTextContent());a.replace(b);return b}g.ListBulletNode=i;g.$createListBulletNode=j;g.$transformToListBulletNode=a}),98);
__d("WAWebListNumberNode",["Lexical","WAWebClassnames","err"],(function(a,b,c,d,e,f,g){var h=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);b.create=function(a){return new b(a)};b.getType=function(){return"numbered-symbol"};b.clone=function(a){return new b(a.__text,a.__key)};b.importJSON=function(){throw c("err")("Deserialization of ListNumberNode is unsupported")};var e=b.prototype;e.createDOM=function(b){b=a.prototype.createDOM.call(this,b);b.className=d("WAWebClassnames").classnamesConvertMeToStylexPlease(b.className,"x1sdyfia xss6m8b");return b};e.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{type:"list-number-node"})};return b}(d("Lexical").TextNode);function i(a){return new h(a)}function j(a){return a instanceof h}function a(a){if(j(a))return a;var b=i(a.getTextContent());a.replace(b);return b}g.ListNumberNode=h;g.$createListNumberNode=i;g.$isListNumberNode=j;g.$transformToListNumberNode=a}),98);
__d("WAWebQuoteLineNode",["Lexical","WAWebClassnames","WAWebCopyPasteCopyable.react","err"],(function(a,b,c,d,e,f,g){var h="\u3000",i=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);b.create=function(a){return new b(a)};b.getType=function(){return"quote-line"};b.clone=function(a){return new b(a.__text,a.__key)};b.importJSON=function(){throw c("err")("Deserialization of QuoteLineNode is unsupported")};var e=b.prototype;e.createDOM=function(b){b=a.prototype.createDOM.call(this,b);b.className=d("WAWebClassnames").classnamesConvertMeToStylexPlease(b.className,"x1uu0p8 x1cpjm7i x1hmns74 xszcg87 x1n405n8 x1ukz1li xy6poam x1s9ezuj x6g0gvw x1a3o5l8 xe21s8h");b.textContent=h;b.dataset[d("WAWebCopyPasteCopyable.react").PLAIN_TEXT_DATA_ATTR]=">";return b};e.updateDOM=function(b,c,d){b=a.prototype.updateDOM.call(this,b,c,d);c.textContent=h;return b};e.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{type:"quote-line-node"})};return b}(d("Lexical").TextNode);function j(a){return new i(a).setMode("token")}function k(a){return a instanceof i}function a(a){if(k(a))return a;var b=j(a.getTextContent());a.replace(b);return b}g.QuoteLineNode=i;g.$transformToQuoteLineNode=a}),98);
__d("WAWebBidiParagraphNode",["Lexical","WABidi","WAWebL10N","WAWebListBulletNode","WAWebListNumberNode","WAWebQuoteLineNode","err"],(function(a,b,c,d,e,f,g){var h=40,i=30,j=14;a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);b.getType=function(){return"bidi-paragraph"};b.clone=function(a){return new b(a.__key)};var e=b.prototype;e.updateDOM=function(a,b){this.updateDOMDirection(b);this.updateDOMTextIndent(b);this.updateDOMMargin(b);return!1};b.importJSON=function(a){throw c("err")("Deserialization of BidiParagraphNode is unsupported")};e.getTargetIndent=function(){if(this.getNumberNode()||this.getBulletNode())return i/h;return this.getQuoteLineNode()?j/h:0};e.getBulletNode=function(){var a=this.getFirstChild();return a instanceof d("WAWebListBulletNode").ListBulletNode?a:null};e.getNumberNode=function(){var a=this.getFirstChild();return a instanceof d("WAWebListNumberNode").ListNumberNode?a:null};e.getQuoteLineNode=function(){var a=this.getFirstChild();return a instanceof d("WAWebQuoteLineNode").QuoteLineNode?a:null};e.updateDOMTextIndent=function(a){a.style.textIndent="0";this.getBulletNode()&&(a.style.textIndent="-12px");var b=this.getNumberNode();b&&(a.style.textIndent="-"+b.getTextContentSize()+"ch");this.getQuoteLineNode()&&(a.style.textIndent="-"+j+"px")};e.updateDOMDirection=function(a){var b=c("WAWebL10N").isRTL()?"rtl":"ltr",e=this.getTextContent();if(e){e=d("WABidi").dir(e);b=e!=null?e:b}a.dir=b};e.updateDOMMargin=function(a){var b=0,c=0,d=this.getBulletNode()||this.getNumberNode();if(d){var e=this.getPreviousSibling();e=(e==null?void 0:e.getBulletNode())||(e==null?void 0:e.getNumberNode());(!e||e.getType()!==d.getType())&&(b=4);e=this.getNextSibling();e=(e==null?void 0:e.getBulletNode())||(e==null?void 0:e.getNumberNode());(!e||e.getType()!==d.getType())&&(c=4)}this.getQuoteLineNode()&&(b=4,c=4);a.style.marginTop=b+"px";a.style.marginBottom=c+"px"};e.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{type:"bidi-paragraph-node"})};return b}(d("Lexical").ParagraphNode);g.BidiParagraphNode=a}),98);
__d("WAWebBlockQuoteIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="block-quote";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M3 3h2v18H3z"}),k.jsx("rect",{opacity:.5,x:7,y:5,width:14,height:14,rx:2})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BlockQuoteIcon=a}),98);
__d("WAWebBoldIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="bold";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M6.8 19V5h5.525q1.624 0 3 1T16.7 8.775q0 1.275-.575 1.963-.575.687-1.075.987.626.275 1.387 1.025.763.75.763 2.25 0 2.224-1.625 3.113-1.625.887-3.05.887zm3.025-2.8h2.6q1.2 0 1.462-.612.263-.614.263-.888 0-.275-.263-.887-.262-.613-1.537-.613H9.825zm0-5.7h2.325q.825 0 1.2-.425a1.4 1.4 0 0 0 .375-.95q0-.6-.425-.975t-1.1-.375H9.825z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BoldIcon=a}),98);
__d("WAWebBulletedListIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="bulleted-list";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M9 19v-2h12v2zm0-6v-2h12v2zm0-6V5h12v2zM5 20q-.824 0-1.412-.587A1.93 1.93 0 0 1 3 18q0-.824.587-1.413A1.93 1.93 0 0 1 5 16q.824 0 1.412.587Q7 17.176 7 18t-.588 1.413A1.93 1.93 0 0 1 5 20m0-6q-.824 0-1.412-.588A1.93 1.93 0 0 1 3 12q0-.825.587-1.412A1.93 1.93 0 0 1 5 10q.824 0 1.412.588Q7 11.175 7 12t-.588 1.412A1.93 1.93 0 0 1 5 14m0-6q-.824 0-1.412-.588A1.93 1.93 0 0 1 3 6q0-.824.587-1.412A1.93 1.93 0 0 1 5 4q.824 0 1.412.588Q7 5.175 7 6q0 .824-.588 1.412A1.93 1.93 0 0 1 5 8"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BulletedListIcon=a}),98);
__d("WAWebCallLogSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WATimeUtils","WAWebUserPrefsMultiDevice","WAWebVoipActionWriteCallLogSync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 1};e.getAction=function(){return d("WASyncdConst").Actions.CallLog};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(k||(k=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){var b=a.value;b=(b=b.callLogAction)!=null?b:{};b=b.callLogRecord;if(!b){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["call log sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var c=d("WAWebUserPrefsMultiDevice").getPairingTimestamp();if(c!=null){var e=d("WATimeUtils").castMilliSecondsToUnixTime(a.timestamp);if(e>d("WATimeUtils").castToUnixTime(c)){c=!d("WATimeUtils").happenedWithin(e,d("WATimeUtils").MINUTE_SECONDS);yield d("WAWebVoipActionWriteCallLogSync").generateCallLogFromCallSyncRecord({callLogRecord:b,shouldHideInConversation:c});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["call log sync: successfully applied"])))}}return{actionState:d("WASyncdConst").SyncActionState.Success}}else if(a.operation==="remove")return{actionState:d("WASyncdConst").SyncActionState.Success};d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["call log sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebCaretDownIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="caret-down";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=5;o=10;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 10 5",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0L5 5L10 0H0Z",fill:"currentColor",fillOpacity:.3})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CaretDownIcon=a}),98);
__d("WAWebDataTransfer",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){var g,h=/\r\n/g;a=function(){function a(a){var b=this;this.hasText=function(){return b.hasType("text/plain")};this.hasType=function(a){return b.types.includes(a)};this.data=a;this.types=a.types?Array.isArray(a.types)?a.types:Object.keys(a.types).map(function(b){return a.types[b]}):[]}var c=a.prototype;c.getItems=function(){var a=this;if(this.data.items)return Array.prototype.slice.call(this.data.items);var b=this.$1();return this.types.map(function(c){return{type:c,data:a.data.getData(c),kind:b.includes(c)?"string":"file"}})};c.$1=function(){return Array.prototype.slice.call(this.data.files).map(function(a){a=a.type;return a})};c.getText=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$2(a));return a?a.replace(h,"\n"):null});function c(b){return a.apply(this,arguments)}return c}();c.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a||[];a.length===0&&a.push("text/plain");var c=this.data;if(c.getData){var d;a.some(function(a){var b=c.getData(a);if(b){d=c.getData(a);return!0}});return(g||(g=b("Promise"))).resolve(d)}a=i(this.data.items,a);if(!a.length)return;a=(g||(g=b("Promise"))).all(a.map(function(a){return new(g||(g=b("Promise")))(function(b){return a.getAsString(b)})}));a=(yield a);return a.find(function(a){return a.length})});function c(b){return a.apply(this,arguments)}return c}();c.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).filter(function(a){a=a.kind;return a==="file"}).map(function(a){return a.getAsFile()}).filter(function(a){return!!a}):Array.prototype.slice.call(this.data.files||[])};c.getData=function(a){return this.data.getData(a)};c.hasFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).some(function(a){a=a.kind;return a==="file"}):!!Array.prototype.slice.call(this.data.files||[]).length};return a}();function i(a,b){var c=Array.from(a);return b.reduce(function(a,b){var d=c.find(function(a){return a.type===b});d&&a.push(d);return a},[])}f["default"]=a}),66);
__d("WAWebLexicalUtils",["Lexical","LexicalSelection","WANullthrows"],(function(a,b,c,d,e,f,g){function a(){var a=h();return!a?null:a.node.getTextContent().slice(0,a.point.offset)}function h(){var a=n();if(a==null||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var b=a.getNode();if(!d("Lexical").$isTextNode(b))return;return{point:a,node:b}}function i(a){return d("Lexical").$isTextNode(a)&&a.getTextContent()[0]===" "}function j(a){a=d("Lexical").$isTextNode(a)?a.getTextContent():"";return a[a.length-1]===" "}function b(a,b){b=b!=null?b:{};b=b.moveCaret;b=b===void 0?!1:b;if(j(a))return;var c=a;do c=c.getNextSibling();while(c&&!d("Lexical").$isTextNode(c));if(c&&i(c)){b&&c.select(1,1);return}c=new(d("Lexical").TextNode)(" ");a.insertAfter(c);b&&c.select()}function k(a,b){b=b!=null?b:{};b=b.moveCaret;b=b===void 0?!1:b;if(i(a)||!a.getPreviousSibling())return;var c=a;do c=c.getPreviousSibling();while(c&&!d("Lexical").$isTextNode(c));if(c&&j(c)){if(b){var e=c.getTextContent().length;c.select(e-1,e)}return}c=new(d("Lexical").TextNode)(" ");a.insertBefore(c);b&&c.select()}function e(a,b){b===void 0&&(b=new(d("Lexical").TextNode)("")),a.replace(b),b.selectNext(0,0)}function f(){var a=d("Lexical").$getRoot().getChildren(),b=[];for(a of a)b.push(a.getTextContent());return b.join("\n")}function l(a){var b=new(d("Lexical").TextNode)(a.getTextContent());a.replace(b)}function m(a,b){var c;b=b!=null?b:{};b=b.insertLeadingSpace;b=b===void 0?!1:b;c=(c=n())!=null?c:d("Lexical").$getRoot().selectEnd();a=d("Lexical").$createTextNode(a);c.insertNodes([a]);b&&k(a)}function n(){var a=d("Lexical").$getSelection();return d("Lexical").$isRangeSelection(a)?a:null}function o(){var a=d("Lexical").$getPreviousSelection();return d("Lexical").$isRangeSelection(a)?a:null}function p(a){return!a?!1:document.activeElement===a.getRootElement()}function q(a){if(!p(a))return!1;return w(a).length===0?!0:a.getEditorState().read(function(){var a=h();return!a?!1:a.point.offset===0&&a.node===d("Lexical").$getRoot().getFirstDescendant()})}function r(a){if(!p(a))return!1;return w(a).length===0?!0:a.getEditorState().read(function(){var a=h();return!a?!1:a.point.offset===a.node.getTextContentSize()&&a.node===d("Lexical").$getRoot().getLastDescendant()})}var s=function(a){function b(b,c,d){c=(c=c==null?void 0:c.getType())!=null?c:"undefined node";b="Expect node to be a "+b+", but received "+c;d!=null&&(b+=" (context: "+d+")");c=a.call(this,b)||this;c.name="NodeTypeAssertionError";return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));function t(a,b){if(!d("Lexical").$isTextNode(a))throw new s("TextNode",a,b);return a}function u(a){if(!d("Lexical").$isParagraphNode(a))throw new s("ParagraphNode",a);return a}function v(a){a.focus(),a.update(function(){var a=n();a&&(d("LexicalSelection").$selectAll==null||d("LexicalSelection").$selectAll(a))})}function w(a){return a.getEditorState().read(function(){return d("Lexical").$getRoot().getChildren().map(function(a){return a.getTextContent()}).join("\n")})}function x(a,b){var e=d("Lexical").$getRoot();e.clear();a=a.split(/\r?\n/);for(var f=0;f<a.length;f++){e.append(d("Lexical").$createParagraphNode());var g=c("WANullthrows")(e.getLastChild()),h=new(d("Lexical").TextNode)(a[f]);g.append(h)}b?e.selectEnd():d("Lexical").$setSelection(null)}function y(a,b){a.update(function(){return x(b,p(a))})}function z(){var a,b=n();b=b==null||(a=b.getNodes())==null?void 0:a[0];if(d("Lexical").$isParagraphNode(b))return b;else if(d("Lexical").$isTextNode(b))return b.getParent();return null}function* A(a){a=a.getFirstChild();while(a){if(d("Lexical").$isTextNode(a))yield a;else for(var b of A(a))yield b;a=(b=a)==null?void 0:b.getNextSibling()}}function B(a){return!a?!1:a.getEditorState().read(function(){for(var a of A(d("Lexical").$getRoot()))if(a.getStyle().includes("bot-command-text"))return!0;return!1})}function C(a,b){var c=a.splitText(b),d=c[0];c=c[1];if(d&&c)return[d,c];return b>=a.getTextContentSize()?[d,null]:[null,d]}g.$getTextUpToAnchor=a;g.$getTextAnchor=h;g.$insertTrailingSpace=b;g.$insertLeadingSpace=k;g.$replaceTextNode=e;g.$rootTextContent=f;g.$toTextNode=l;g.$insertText=m;g.$getRangeSelection=n;g.$getPreviousRangeSelection=o;g.isFocused=p;g.isCursorAtStart=q;g.isCursorAtEnd=r;g.NodeTypeAssertionError=s;g.assertTextNode=t;g.assertParagraphNode=u;g.selectAll=v;g.getTextContent=w;g.$setTextContent=x;g.setTextContent=y;g.$getSelectionParagraph=z;g.textNodesIterator=A;g.hasBotCommand=B;g.$splitText=C}),98);
__d("useWAWebLexicalEvent",["Lexical","react","useWAWebListener","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a,b,c,e){d("useWAWebListener").useListener(a&&a.getRootElement(),"keydown",function(d){a&&(b==null||d.key===b)&&c(d,a)},{capture:e})}function b(a,b,e,f){f===void 0&&(f=d("Lexical").COMMAND_PRIORITY_HIGH);var g=c("useWAWebStableCallback")(function(a,b){b=e(a,b);b&&a instanceof KeyboardEvent&&(a.preventDefault(),a.stopPropagation());return b});i(function(){if(!a)return;return a.registerCommand(b,g,f)},[a,b,g,f])}g.useLexicalKeydownEvent=a;g.useLexicalCommandListener=b}),98);
__d("WAWebClipboardPlugin",["Lexical","LexicalComposerContext","Promise","WAWebCopyPasteClipboard","WAWebDataTransfer","WAWebLexicalUtils","asyncToGeneratorRuntime","cr:6842","useWAWebLexicalEvent","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=d("Lexical").createCommand(),j=/\r?\n|\r/g;function a(a){var e=a.ignoreLineBreakOnPaste,f=e===void 0?!1:e,g=a.onFiles,m=a.onTextPaste;e=a.pasteFromHTML;var n=e===void 0?!1:e;a=d("LexicalComposerContext").useLexicalComposerContext();var o=a[0],q=c("useWAWebStableCallback")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.preventDefault();a.stopPropagation();if(!a.clipboardData)return;a=new(c("WAWebDataTransfer"))(a.clipboardData);if(p(a)){g==null||g(a);return}a=(yield (h||(h=b("Promise"))).all([a.getText([d("WAWebCopyPasteClipboard").APP_TEXT_MIMETYPE]),a.getText(["text/html"]),a.getText(["text/plain"])]));var e=a[0],f=a[1];a=a[2];var j;e!=null?j=e:f!=null&&n&&b("cr:6842")?j=b("cr:6842")(f):a!=null&&(j=a);if(j==null)return;if((m==null?void 0:m(j))===!0)return;o.dispatchCommand(i,j)});return function(b){return a.apply(this,arguments)}}()),r=c("useWAWebStableCallback")(function(a){var b;f?b=[a.replace(j,"")]:b=a.split(j);o.update(function(){var a=d("WAWebLexicalUtils").$getRangeSelection();if(!a)return;a.isCollapsed()||a.removeText();b.forEach(function(b,c){c=c===0;c||a.insertParagraph();a.insertText(b)})})});d("useWAWebLexicalEvent").useLexicalCommandListener(o,d("Lexical").CUT_COMMAND,function(a){if(a instanceof ClipboardEvent){a.preventDefault();a.stopPropagation();k(a);l(o);return!0}return!1});d("useWAWebLexicalEvent").useLexicalCommandListener(o,d("Lexical").PASTE_COMMAND,function(a){void q(a);return!0});d("useWAWebLexicalEvent").useLexicalCommandListener(o,i,function(a){r(a);return!0});return null}function k(a){var b=a.currentTarget;a=a.clipboardData;if(!(b instanceof HTMLElement)||!a)return;b=d("WAWebCopyPasteClipboard").Clipboard.fromSelection(b,window.getSelection());a.setData("text/plain",b.toPlainString());try{a.setData(d("WAWebCopyPasteClipboard").APP_TEXT_MIMETYPE,b.toAppString())}catch(a){}}function l(a){a.update(function(a){a=d("WAWebLexicalUtils").$getRangeSelection();a&&a.removeText()})}var m="urn:schemas-microsoft-com:office",n="urn:schemas-microsoft-com:office:excel",o="<meta name=ProgId content=PowerPoint.Slide>";function p(a){if(!a.hasFiles())return!1;if(a.hasType("text/html")){a=a.getData("text/html");if(a){var b=a.includes(o);if(b)return!1;b=a.includes(m);a=a.includes(n);if(b&&!a)return!1}}return!0}g.PASTE_TEXT_COMMAND=i;g.ClipboardPlugin=a}),98);
__d("WAWebCharacterLimitPlugin",["Lexical","LexicalComposerContext","LexicalUtils","WAUnicodeUtils","WAWebClipboardPlugin","WAWebLexicalUtils","react","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){a.charRemainingLimit;var b=a.maxCodeUnits,c=a.maxLength,e=a.maxLineCount,f=a.onMaxInputExceeded,g=a.onMaxPasteExceeded;a=d("LexicalComposerContext").useLexicalComposerContext();var h=a[0];i(function(){if(c==null&&b==null)return;return h.registerNodeTransform(d("Lexical").RootNode,function(a){var g=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(g)||!g.isCollapsed())return;g=h.getEditorState();var i=g.read(function(){return a.getTextContent()}),l=a.getTextContent();l!==i&&(b!=null&&j(l)>b||c!=null&&d("WAUnicodeUtils").numCodepoints(l)>c||e!=null&&k(l)>e)&&(f==null||f(),d("LexicalUtils").$restoreEditorState(h,g))})},[h,c,b,e,f]);d("useWAWebLexicalEvent").useLexicalCommandListener(h,d("WAWebClipboardPlugin").PASTE_TEXT_COMMAND,function(a){var e=h.getEditorState().read(d("WAWebLexicalUtils").$rootTextContent),f=h.getEditorState().read(function(){var a;return(a=(a=d("WAWebLexicalUtils").$getRangeSelection())==null?void 0:a.getTextContent())!=null?a:""}),i=b!=null&&e.length-f.length+a.length>b;e=c!=null&&d("WAUnicodeUtils").numCodepoints(e)-d("WAUnicodeUtils").numCodepoints(f)+d("WAUnicodeUtils").numCodepoints(a)>c;f=i||e;f&&(g==null||g());return f},d("Lexical").COMMAND_PRIORITY_CRITICAL);return null}function j(a){return new Blob([a],{type:"text/plain"}).size}function k(a){return a.split("\n\n").length}g.CharacterLimitPlugin=a;g.numCodeUnits=j;g.getLineCount=k}),98);
__d("WAWebLockChatSync",["Promise","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebArchiveChatSync","WAWebChatLockAction","WAWebPinChatSync","WAWebSyncdActionUtils","WAWebSyncdCoreApi","WAWebSyncdGetChat","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.LockChat};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=[];a=(yield (l||(l=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["LockChatSync: operation not supported: ",""])),a.operation);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var b=a.indexParts[1];a=(a=a.value.lockChatAction)==null?void 0:a.locked;if(a==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["LockChatSync: malformed mutation locked is null"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(!c("WAWebWid").isWid(b)){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["LockChatSync: malformed mutation chatJid is not wid"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b=(yield d("WAWebSyncdGetChat").resolveChatForMutationIndex(d("WAWebWidFactory").createWid(b)));if(!b.success)return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:b.orphanModel};b=d("WAWebWidFactory").createWid(b.chat.id);e.push({isLocked:a,chatId:b});return{actionState:d("WASyncdConst").SyncActionState.Success}});return function(b){return a.apply(this,arguments)}}())));yield l.all(e.map(function(a){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["LockChatSync: update lock status for chat"]))).devConsole(a);return a.isLocked?d("WAWebChatLockAction").setChatAsLocked(a.chatId,{syncWithPrimaries:!1}):d("WAWebChatLockAction").setChatAsUnlocked(a.chatId,{syncWithPrimaries:!1})}));return a});function e(b){return a.apply(this,arguments)}return e}();f.getChatLockMutation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[yield d("WAWebSyncdGetChat").getChatJidMutationIndexForChat(c)],value:{lockChatAction:{locked:b}},version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:a,action:this.getAction()})});function c(b,c,d){return a.apply(this,arguments)}return c}();f.sendLockMutation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e=e.isLocked;var f=d("WATimeUtils").unixTimeMs(),g=[];e&&g.push(c("WAWebArchiveChatSync").getArchiveChatMutation(f,!1,a),d("WAWebPinChatSync").PinChatSync.getPinMutation(f,!1,a));g.push(this.getChatLockMutation(f,e,a));yield d("WAWebSyncdCoreApi").lockForSync([],yield (l||(l=b("Promise"))).all(g),function(){return(l||(l=b("Promise"))).resolve()})});function e(b,c){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebChatLockAction",["WAWebChatCollection","WAWebDBUpdateChatTable","WAWebLockChatSync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b?{isLocked:b,archive:!1,pin:void 0}:{isLocked:b};yield d("WAWebDBUpdateChatTable").updateChatTable(a,b);(a=d("WAWebChatCollection").ChatCollection.get(a))==null||a.set(b)});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){d=d!=null?d:{};d=d.syncWithPrimaries;d=d===void 0?!0:d;d&&void c("WAWebLockChatSync").sendLockMutation(a,{isLocked:b});return h(a,b)});return k.apply(this,arguments)}function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return j(a,!0,b)});return l.apply(this,arguments)}function e(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return j(a,!1,b)});return m.apply(this,arguments)}g.setChatAsLocked=a;g.setChatAsUnlocked=e}),98);
__d("WAWebUserPrefsChatLock",["WAArrayBufferUtils","WALogger","WAProtobufsUserPassword.pb","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h;function i(a,b){c("WAWebUserPrefsStore").setUser(a,b,{shouldWriteToIdb:!1})}function j(a){return c("WAWebUserPrefsStore").getUser(a)}function k(a){return btoa(String.fromCharCode.apply(null,new Uint8Array(a)))}function l(a){a=atob(a);return d("WAArrayBufferUtils").stringToArrayBuffer(a)}function m(a){return{transformer:a.transformer,encoding:a.encoding,iterations:a.iterations,salt:k(a.salt),data:k(a.data)}}function n(a){var b;return{transformer:(b=d("WAProtobufsUserPassword.pb").UserPassword$Transformer.cast(a.transformer))!=null?b:d("WAProtobufsUserPassword.pb").UserPassword$Transformer.NONE,encoding:(b=d("WAProtobufsUserPassword.pb").UserPassword$Encoding.cast(a.encoding))!=null?b:d("WAProtobufsUserPassword.pb").UserPassword$Encoding.UTF8,iterations:a.iterations,salt:l(a.salt),data:l(a.data)}}function o(){var a=j(d("WAWebUserPrefsKeys").UserPrefs.ChatLockHide);return typeof a==="boolean"?a:null}function p(){try{var a=j(d("WAWebUserPrefsKeys").UserPrefs.ChatLockSecretCode);if(typeof a==="string"){a=JSON.parse(a);if(a==null||a.transformer==null||a.iterations==null||a.salt==null||a.data==null)return;return n(a)}}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getSecretCodeFromStorage: could not deserialize chat lock secret code: ",""])),a)}}function a(){return{hideLockedChats:o(),secretCode:p()}}function b(a){if(a==null){i(d("WAWebUserPrefsKeys").UserPrefs.ChatLockHide,null);i(d("WAWebUserPrefsKeys").UserPrefs.ChatLockSecretCode,null);return}i(d("WAWebUserPrefsKeys").UserPrefs.ChatLockHide,a.hideLockedChats);a=a.secretCode;if(a!=null){a=JSON.stringify(m(a));i(d("WAWebUserPrefsKeys").UserPrefs.ChatLockSecretCode,a)}else i(d("WAWebUserPrefsKeys").UserPrefs.ChatLockSecretCode,null)}g.getChatLockSettingsFromStorage=a;g.saveChatLockSettingsToStorage=b}),98);
__d("WAWebChatLockSettings",["WAWebBaseModel","WAWebChatLockUpdateDailyStats","WAWebModelUtils","WAWebUserPrefsChatLock"],(function(a,b,c,d,e,f,g){"use strict";b=function(a){function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.hideLockedChats=d("WAWebModelUtils").prop(),b.secretCode=d("WAWebModelUtils").prop(),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.initialize=function(){var b=this;a.prototype.initialize.call(this);this.updateDailyStats();this.on("change",function(){b.updateDailyStats()})};c.updateDailyStats=function(){d("WAWebChatLockUpdateDailyStats").updateChatLockDailyStats({secretCodeActive:this.secretCode!=null,lockFolderHidden:this.hideLockedChats})};c.updateAndSave=function(a){this.set(a),d("WAWebUserPrefsChatLock").saveChatLockSettingsToStorage({hideLockedChats:this.hideLockedChats,secretCode:this.secretCode})};return b}(d("WAWebBaseModel").BaseModel);b.Proxy="chat_lock_settings";var h=d("WAWebBaseModel").defineModel(b);function i(){var a=d("WAWebUserPrefsChatLock").getChatLockSettingsFromStorage();a=new h(a);d("WAWebChatLockUpdateDailyStats").updateChatLockDailyStats({secretCodeActive:a.secretCode!=null,lockFolderHidden:a.hideLockedChats===!0});return a}var j;function a(){j==null&&(j=i());return j}g.getChatLockSettings=a}),98);
__d("WDSIconIcCheck.react",["WDSSvgComponentBase.react","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","viewBox"],i,j,k=i||c("react"),l="ic-check";function a(a){var b=a.iconXstyle,d=a.height,e=a.width,f=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var g;if(f){var i=f.x;i=i===void 0?0:i;var m=f.y;m=m===void 0?0:m;var n=f.width;n=n===void 0?0:n;f=f.height;f=f===void 0?0:f;g=[i,m,n,f].join(" ")}i=24;m=24;(d!=null||e!=null)&&(i=d,m=e);return k.jsx(c("WDSSvgComponentBase.react"),babelHelpers["extends"]({},a,{children:k.jsxs("svg",{viewBox:g!=null?g:"0 0 24 24",height:i,width:m,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M9.55002 15.15L18.025 6.675C18.225 6.475 18.4625 6.375 18.7375 6.375C19.0125 6.375 19.25 6.475 19.45 6.675C19.65 6.875 19.75 7.1125 19.75 7.3875C19.75 7.6625 19.65 7.9 19.45 8.1L10.25 17.3C10.05 17.5 9.81669 17.6 9.55002 17.6C9.28336 17.6 9.05002 17.5 8.85002 17.3L4.55002 13C4.35002 12.8 4.25419 12.5625 4.26252 12.2875C4.27086 12.0125 4.37502 11.775 4.57502 11.575C4.77502 11.375 5.01252 11.275 5.28752 11.275C5.56252 11.275 5.80002 11.375 6.00002 11.575L9.55002 15.15Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WDSBaseCheckbox.react",["BaseCheckbox.react","BaseView.react","WDSHoverStateStyles","WDSIconIcCheck.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["appearsOnMedia","checked","children","disabled","id","indeterminate","onChange","onKeyDown","shape","testid"],i,j=i||(i=d("react")),k=i.useState,l={root:{height:"xxk0z11",width:"xvy4d1p",display:"x3nfvp2",alignItems:"x6s0dn4",justifyContent:"xl56j7k",boxSizing:"x9f619",paddingTop:"xyqdw3p",paddingInlineEnd:"x1im30kd",paddingBottom:"xg8j3zb",paddingInlineStart:"x1djpfga",position:"x1n2onr6",$$css:!0},checkboxBorder:{boxSizing:"x9f619",height:"xmix8c7",width:"x1xp8n7a",flexShrink:"x2lah0s",borderStartStartRadius:"xbrszos",borderStartEndRadius:"xea3l6g",borderEndEndRadius:"x18isctg",borderEndStartRadius:"x2q3nzr",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",alignItems:"x6s0dn4",justifyContent:"xl56j7k",display:"x3nfvp2",$$css:!0},checkboxBorderUnselected:{borderTopColor:"x1pyc6se",borderInlineEndColor:"x1mlb2bo",borderBottomColor:"x16pkwpw",borderInlineStartColor:"xqe4bef",$$css:!0},checkboxBorderSelected:{borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",backgroundColor:"xfn3atn",$$css:!0},checkboxBorderCircle:{borderStartStartRadius:"xt8t1vi",borderStartEndRadius:"x1xc408v",borderEndEndRadius:"x129tdwq",borderEndStartRadius:"x15urzxu",$$css:!0},disabledCheckbox:{opacity:"x1lxidc1",filter:"x4dje6k",$$css:!0},mediaCheckboxUnselected:{borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",$$css:!0},mediaCheckboxSelected:{borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",backgroundColor:"x1p8t8ri",$$css:!0},checkmarkWrapper:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},checkedCheckmark:{opacity:"x1hc1fzr",animationName:"x1oyg3g3",animationTimingFunction:"xa3vuyk",animationFillMode:"x10e4vud",animationDuration:"x1shwlz2",$$css:!0},uncheckedCheckmark:{opacity:"xg01cxk",$$css:!0}};function a(a){var b=a.appearsOnMedia;b=b===void 0?!1:b;var e=a.checked;e=e===void 0?!1:e;var f=a.children,g=a.disabled;g=g===void 0?!1:g;var i=a.id,m=a.indeterminate,n=a.onChange,o=a.onKeyDown,p=a.shape;p=p===void 0?"square":p;var q=a.testid;q=babelHelpers.objectWithoutPropertiesLoose(a,h);a=k(!1);var r=a[0],s=a[1];function t(a){var b=a.key==="Enter"||a.key===" ";b&&(a.preventDefault(),n==null||n(null));o==null||o(a)}a=e||m===!0;var u=[],v=[a?l.mediaCheckboxSelected:l.mediaCheckboxUnselected],w=[l.checkboxBorderCircle];r&&(w.push(d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxCircle),a?(u.push(d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxSelected),v.push(d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxMediaSelected)):(u.push(d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxUnselected),v.push(d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxMediaUnselected)));return j.jsx(c("BaseCheckbox.react"),babelHelpers["extends"]({},q,{checked:e,disabled:g,id:i,onClick:n,onKeyDown:t,onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},suppressFocusRing:!0,testid:void 0,xstyle:l.root,children:j.jsxs(c("BaseView.react"),{"aria-hidden":!0,tabIndex:-1,testid:void 0,xstyle:[l.checkboxBorder,a?l.checkboxBorderSelected:l.checkboxBorderUnselected,g&&l.disabledCheckbox,r&&d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxBase].concat(b?v:u,p==="circle"?w:[]),children:[m===!0?j.jsx("div",babelHelpers["extends"]({},{0:{className:"x36qwtl x1fsd2vl xt8t1vi x1xc408v x129tdwq x15urzxu xep993w x1hc1fzr x1oyg3g3 xa3vuyk x10e4vud x1shwlz2"},1:{className:"x36qwtl x1fsd2vl xt8t1vi x1xc408v x129tdwq x15urzxu x1hc1fzr x1oyg3g3 xa3vuyk x10e4vud x1shwlz2 x1e6sl3u"}}[!!b<<0])):j.jsx(c("WDSIconIcCheck.react"),{width:18,height:18,xstyle:l.checkmarkWrapper,colorName:b?"persistentAlwaysBlack":"contentOnAccent",iconXstyle:[e?l.checkedCheckmark:l.uncheckedCheckmark]}),f]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCheckBox.react",["$InternalEnum","WAWebABProps","WAWebKeyboardHotKeys.react","WAWebLinkDeviceScreenGatedUtils","WDSBaseCheckbox.react","WDSFocusStateStyles","react","stylex","useMergeRefs","useWAWebFocusState"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useRef,m={checkboxContainer:{position:"x1n2onr6",display:"x1rg5ohu",width:"x1xp8n7a",height:"xmix8c7",verticalAlign:"xxymvpz",cursor:"x1ypdohk",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",transform:"x17dzmu4",$$css:!0},roundedCheckboxContainer:{borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",$$css:!0},disabledCheckboxContainer:{cursor:"xt0e3qv",$$css:!0},checkbox:{position:"x1n2onr6",boxSizing:"x9f619",height:"x5yr21d",pointerEvents:"x47corl",backgroundColor:"xjbqb8w",borderTopWidth:"x1ktv7sr",borderInlineEndWidth:"x142x0oa",borderBottomWidth:"xv7zg05",borderInlineStartWidth:"x12dgle5",borderTopColor:"x1hj3nd5",borderInlineEndColor:"xjjclns",borderBottomColor:"x1ywb9b",borderInlineStartColor:"x1212ok9",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",transitionProperty:"xts7igz",transitionDuration:"xv1tzdm",$$css:!0},pollsCheckboxReceiver:{borderTopColor:"x1128f5s",borderInlineEndColor:"x13kd0oy",borderBottomColor:"x1jdxhwu",borderInlineStartColor:"xj1yhid",$$css:!0},pollsCheckboxSender:{borderTopColor:"x1x9iweu",borderInlineEndColor:"x1fbi8zm",borderBottomColor:"x1xox7gt",borderInlineStartColor:"x1pglr7g",$$css:!0},roundedCheckbox:{borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",$$css:!0},checkedCheckbox:{backgroundColor:"xfn3atn",borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",$$css:!0},pollsCheckedCheckboxReceiver:{backgroundColor:"x6e75wo",borderTopColor:"x11ee4n5",borderInlineEndColor:"xfi4zj2",borderBottomColor:"x12tr8qq",borderInlineStartColor:"x1ij5817",$$css:!0},pollsCheckedCheckboxSender:{backgroundColor:"x60s03o",borderTopColor:"xdxzttn",borderInlineEndColor:"x1d54cph",borderBottomColor:"xg9mfh4",borderInlineStartColor:"xee3wn7",$$css:!0},autoLogoutCheckedCheckboxSender:{backgroundColor:"xy7xkci",borderTopColor:"x1xtg2tb",borderInlineEndColor:"x1acu24o",borderBottomColor:"x1muebr1",borderInlineStartColor:"x19e1r83",$$css:!0},disabledCheckbox:{backgroundColor:"x1138r3v",borderTopColor:"x1mttins",borderInlineEndColor:"x19pn7h9",borderBottomColor:"xvvcdda",borderInlineStartColor:"x5mjrfl",$$css:!0},disabledCheckboxOutline:{backgroundColor:"xjbqb8w",$$css:!0},pollsDisabledCheckedCheckboxReceiver:{backgroundColor:"x1wqby5h",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",$$css:!0},pollsDisabledUncheckedCheckboxReceiver:{borderTopColor:"x1sa7cev",borderInlineEndColor:"xmo3yxm",borderBottomColor:"xzim36q",borderInlineStartColor:"x1656ei8",backgroundColor:null,$$css:!0},pollsDisabledCheckedCheckboxSender:{backgroundColor:"xpzuy9b",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",$$css:!0},pollsDisabledUncheckedCheckboxSender:{borderTopColor:"x7s9935",borderInlineEndColor:"x1i8jwm6",borderBottomColor:"xymrcl3",borderInlineStartColor:"xv5he41",backgroundColor:null,$$css:!0},checkmark:{position:"x10l6tqk",top:"x1pdr0v7",left:"xcqyyxr",width:"x1ftt334",height:"x170jfvy",borderTop:"x76ihet",borderRight:"xgbmyr7",borderBottom:"x3l9hm3",borderLeft:"xcym7qx",transform:"x1158fpu",$$css:!0},checkmarkDirection:{direction:"xzt5al7",$$css:!0},roundedCheckmark:{width:"x51ohtg",height:"xdk7pt",$$css:!0},checkedCheckmark:{opacity:"x1hc1fzr",animationName:"xnlt6tn",animationTimingFunction:"xa3vuyk",animationFillMode:"x10e4vud",animationDuration:"x1shwlz2",$$css:!0},roundedCheckedCheckmark:{animationName:"xwigvol",$$css:!0},uncheckedCheckmark:{opacity:"xg01cxk",$$css:!0},partialCheckmark:{position:"x10l6tqk",width:"x1ftt334",height:"x170jfvy",borderTop:"x76ihet",borderRight:"xgbmyr7",borderBottom:"x112ta8",borderLeft:"xcym7qx",transform:"x1iffjtl",$$css:!0},outlineWhite:{borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",$$css:!0},outlineWhiteChecked:{backgroundColor:"x1p8t8ri",borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",$$css:!0},outlinedWhiteCheckmark:{borderInlineEndColor:"x7nxbsa",borderBottomColor:"x126uxjm",$$css:!0},whiteCheckmark:{borderTopStyle:"x1ejq31n",borderInlineEndWidth:"x142x0oa",borderInlineEndStyle:"x18b5jzi",borderInlineEndColor:"x1gj3efs",borderBottomWidth:"xv7zg05",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x151wx5t",borderInlineStartStyle:"xstzfhl",$$css:!0}},n=b("$InternalEnum").Mirrored(["PARTIAL","OUTLINE","POLLS_RECEIVER","POLLS_SENDER","AUTO_LOGOUT","OUTLINE_WHITE"]);function a(a){var b=a.ariaLabel,e=a.checked,f=a.disabled;f=f===void 0?!1:f;var g=a.id,h=a.onArrowKeyLeftRight,j=a.onChange,o=a.tabIndex,p=a.testid;p=a.theme;var q=l(null);a=e&&p===n.PARTIAL;var r=c("useWAWebFocusState")(),s=r[0];r=r[1];s=c("useMergeRefs")(q,s);function t(a){a.stopPropagation();var b=q.current;b!=null&&b.focus();void j(a)}function u(a){a.preventDefault();(a=q.current)==null||a.click()}var v=function(a){if(d("WAWebKeyboardHotKeys.react").SpecialKeyMap.space===a.keyCode||d("WAWebKeyboardHotKeys.react").SpecialKeyMap.enter===a.keyCode){var b;a.preventDefault();(b=q.current)==null||b.click()}(d("WAWebKeyboardHotKeys.react").SpecialKeyMap.right===a.keyCode||d("WAWebKeyboardHotKeys.react").SpecialKeyMap.left===a.keyCode)&&(h==null||h(a.keyCode))},w=p===n.POLLS_RECEIVER||p===n.POLLS_SENDER,x=d("WAWebABProps").getABPropConfigValue("wds_web_checkbox");return x?k.jsx(c("WDSBaseCheckbox.react"),{checked:e,disabled:f,id:g,onChange:function(a){a&&void j(a)},onKeyDown:v,testid:void 0,"aria-label":b,appearsOnMedia:p===n.OUTLINE_WHITE,shape:w?"circle":"square",indeterminate:a}):k.jsxs(k.Fragment,{children:[k.jsx("input",{ref:s,className:"x10l6tqk x1i1rx1s xjm9jq1 x6ikm8r x10wlt62 xeh89do x1hyvwdk xuxw1ft",checked:e,disabled:f?!0:void 0,indeterminate:a?!0:void 0,"aria-label":b,onClick:function(a){a.stopPropagation()},onChange:t,onKeyDown:v,type:"checkbox",id:g,tabIndex:o!=null?o:0,"data-testid":void 0}),k.jsx("div",babelHelpers["extends"]({onClick:u},(i||(i=c("stylex"))).props(m.checkboxContainer,f&&m.disabledCheckboxContainer,r&&d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocusPersistent,w&&m.roundedCheckboxContainer),{tabIndex:-1,"aria-hidden":"true","data-testid":void 0,children:k.jsx("div",babelHelpers["extends"]({},i.props(m.checkbox,e&&m.checkedCheckbox,f&&m.disabledCheckbox,f&&!e&&(p===n.OUTLINE||n.OUTLINE_WHITE)&&m.disabledCheckboxOutline,!e&&p===n.OUTLINE_WHITE&&m.outlineWhite,e&&p===n.OUTLINE_WHITE&&m.outlineWhiteChecked,p===n.POLLS_RECEIVER&&m.pollsCheckboxReceiver,p===n.POLLS_SENDER&&m.pollsCheckboxSender,w&&m.roundedCheckbox,e&&p===n.POLLS_RECEIVER&&m.pollsCheckedCheckboxReceiver,e&&p===n.POLLS_SENDER&&m.pollsCheckedCheckboxSender,e&&p===n.AUTO_LOGOUT&&m.autoLogoutCheckedCheckboxSender,f&&p===n.POLLS_RECEIVER&&(e?m.pollsDisabledCheckedCheckboxReceiver:m.pollsDisabledUncheckedCheckboxReceiver),f&&p===n.POLLS_SENDER&&(e?m.pollsDisabledCheckedCheckboxSender:m.pollsDisabledUncheckedCheckboxSender)),{children:k.jsx("div",babelHelpers["extends"]({},i.props(m.checkmark,d("WAWebLinkDeviceScreenGatedUtils").getLocalizationFixVariant()==="test"&&m.checkmarkDirection,e&&p!==n.PARTIAL&&m.checkedCheckmark,e&&w&&m.roundedCheckedCheckmark,!e&&m.uncheckedCheckmark,a&&m.partialCheckmark,w&&m.roundedCheckmark,e&&p===n.OUTLINE_WHITE&&m.outlinedWhiteCheckmark,e&&p===n.AUTO_LOGOUT&&m.whiteCheckmark)))}))}))]})}a.displayName=a.name+" [from "+f.id+"]";g.CheckboxTheme=n;g.CheckBox=a}),98);
__d("WAWebCheckboxRoundCheckedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="checkbox-round-checked";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=20;o=20;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 20 20",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 20 20",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"#00BFA5",d:"M10,0.25c5.385,0,9.75,4.365,9.75,9.75s-4.365,9.75-9.75,9.75S0.25,15.385,0.25,10S4.615,0.25,10,0.25z"}),k.jsx("path",{fill:"#FFFFFF",d:"M8.115,14.911l-4.713-4.713l1.329-1.329l3.384,3.374l7.154-7.154l1.329,1.339L8.115,14.911z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckboxRoundCheckedIcon=a}),98);
__d("WAWebCheckboxRoundPassiveIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="checkbox-round-passive";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=20;o=20;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 20 20",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 20 20",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",fillOpacity:"inherit",d:"M10,0.25c-5.385,0-9.75,4.365-9.75,9.75s4.365,9.75,9.75,9.75s9.75-4.365,9.75-9.75 S15.385,0.25,10,0.25z M10,17.963c-4.398,0-7.962-3.565-7.962-7.963S5.603,2.037,10,2.037S17.963,5.602,17.963,10 S14.398,17.963,10,17.963z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckboxRoundPassiveIcon=a}),98);
__d("WAWebCheckboxRoundRadioCheckedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="checkbox-round-radio-checked";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=20;o=20;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"2 2 20 20",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckboxRoundRadioCheckedIcon=a}),98);
__d("WAWebCheckboxRoundUncheckedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="checkbox-round-unchecked";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=20;o=20;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 20 20",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 20 20",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",fillOpacity:"inherit",d:"M10,0.25c-5.385,0-9.75,4.365-9.75,9.75s4.365,9.75,9.75,9.75s9.75-4.365,9.75-9.75S15.385,0.25,10,0.25z  M8.115,14.911l-4.713-4.713l1.329-1.329l3.384,3.374l7.154-7.154l1.329,1.338L8.115,14.911z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckboxRoundUncheckedIcon=a}),98);
__d("WAWebCleanAssets",["WAStorageEstimator","WAWebAssetLoaderDpiChangeDispatch","WAWebFeatureDetectionDetectWebpSupport","WAWebFeatureDetectionSwSupport","WAWebNoop","WAWebSWBus","WAWebSWBusActions","WAWebWebcStorageStatWamEvent","lodash"],(function(a,b,c,d,e,f,g){var h={DEFAULT:"default",WEBP:"webp"};function a(a){if(!c("WAWebFeatureDetectionSwSupport").supported)return;var b=a.estimateStorage===!0,e=navigator.serviceWorker;d("WAWebFeatureDetectionDetectWebpSupport").detectWebpSupport().then(function(b){var d=c("lodash").flatMap(a.keep,function(a){return[a[c("WAWebAssetLoaderDpiChangeDispatch").RES.LOW],a[c("WAWebAssetLoaderDpiChangeDispatch").RES.HIGH]]}).map(function(a){var c=b&&a[h.WEBP]?h.WEBP:h.DEFAULT;c=(a=a[c])==null?void 0:a.split("/");return c!=null?c[c.length-1]:null});e!=null&&e.controller&&c("WAWebSWBus").request(e.controller,c("WAWebSWBusActions").CLEAN_ASSETS,d)["catch"](c("WAWebNoop"))}).then(function(){return b?d("WAStorageEstimator").estimateStorage():null}).then(function(a){if(a!=null&&a.success){a=a.value;var b=a.usage;a=a.quota;new(d("WAWebWebcStorageStatWamEvent").WebcStorageStatWamEvent)({webcStorageUsage:b,webcStorageQuota:a}).commit()}})}g["default"]=a}),98);
__d("WAWebCommonCTWAQplHelpers",["WAWebGraphQLServerError","WAWebQplQuickPerformanceLoggerModule"],(function(a,b,c,d,e,f,g){function a(a){var b=a.error,c=a.markerId,e=a.errorAnnotationName;a=a.errorMessageAnnotationName;if(b instanceof d("WAWebGraphQLServerError").GraphQLServerError){var f,g;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(c,{string:(g={},g[e]=(f=b.name)!=null?f:"UNKNOWN",g[a]=b.source.errors.map(function(a){return"["+a.code+"] "+((a=a.message)!=null?a:"")}).join("|"),g)})}else if(b instanceof Error){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(c,{string:(f={},f[e]=(g=b.name)!=null?g:"UNKNOWN",f[a]=(g=b.message)!=null?g:"",f)})}else{d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(c,{string:(g={},g[e]=String(b),g[a]="",g)})}}g.qplAnnotateGraphQLError=a}),98);
__d("WAWebCustomPaymentMethodsSync",["WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebABProps","WAWebBackendApi","WAWebMobilePlatforms","WAWebSyncdActionUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.CustomPaymentMethods};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebMobilePlatforms").isSMB()!==!0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: operation not supported, app is not SMB"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}if(d("WAWebABProps").getABPropConfigValue("payments_br_pix_phase_1_seller_sync_enabled")!==!0){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: operation not supported, user does not pass ABProp"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=(a=a.value.customPaymentMethodsAction)==null?void 0:a.customPaymentMethods;if(a==null){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WAWebBackendApi").frontendFireAndForget("setCustomPaymentMethods",{customPaymentMethods:a});d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: successfully synced payment methods"])));return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();e.getCustomPaymentMethodSetMutation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WATimeUtils").unixTimeMs();a={customPaymentMethodsAction:a};a=d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[],value:a,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:b,action:this.getAction()});d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[CustomPaymentSync] mutation generated, custom payment method set mutation request "]))).devConsole(a);return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebDebugRichTextInput",["Lexical","err"],(function(a,b,c,d,e,f,g){var h=null;function a(a){h=a}function i(){if(!h)throw c("err")("Could not find rich text input ref. Make sure to focus on a rich text input first.");return h}i.doc="Return a ref to the currently active rich text input";function b(){return d("Lexical")}function e(){self.setTimeout(function(){var a=i();(a=a.editor)==null||a.update(function(){var a=new(d("Lexical").TextNode)("");a.getParentOrThrow()})},1e3)}e.paramsToExecute=[];e.doc="Simulate Lexical error by deliberately making Lexical to throw an exception";f={getActiveRichTextInputRef:i,getLexicalModule:b,triggerLexicalError:e};g.setActiveRichTextInputRef=a;g.WAWebDebugRichTextInput=f}),98);
__d("WAWebDeleteMessageForMeSync",["Promise","WALogger","WANullthrows","WAServerSync.pb","WASyncAction.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebAddonProcessDeleteForMe","WAWebBackendApi","WAWebChatLoadMessages","WAWebCurrentUser","WAWebDBMessageDelete","WAWebFrontendMsgGetters","WAWebLidMigrationUtils","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgKey","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","WAWebSyncdActionUtils","WAWebSyncdGetChat","WAWebSyncdIndexUtils","WAWebSyncdResolveMessages","WAWebSyncdUtils","WAWebWamEnumMdSyncdCriticalEventCode","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h=["timestamp","deleteMedia","messageTimestamp"],i,j,k,l,m,n,o,p;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 3};f.getAction=function(){return d("WASyncdConst").Actions.DeleteMessageForMe};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: after apply delete message for me"])));var e=[],f=(yield d("WAWebSyncdResolveMessages").resolveMessagesForMutations(a)),g=f.incomingRemoteToLocalChatId,h=f.messagesInDB;d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: after cache for delete message for me"])));f=(yield (p||(p=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.indexParts;var b=a[1],f=a[2],i=a[3];a=a[4];(!b||!f||!i||!a)&&d("WAWebSyncdIndexUtils").throwInvalidActionIndex();var j=g.get(b);b=d("WAWebSyncdIndexUtils").syncKeyToMsgKey(b,f,i,a);if(!b){d("WAWebSyncdUtils").uploadCriticalEventMetric(d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.ACTION_INVALID_INDEX_DATA);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(j==null)return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:b.toString(),modelType:d("WASyncdConst").SyncModelType.Msg}};var n=c("WANullthrows")(d("WAWebSyncdIndexUtils").syncKeyToMsgKey(j,f,i,a,!1));j=h.find(function(a){return a.startsWith(n.toString())});if(j==null){f=d("WAWebLidMigrationUtils").getAlternateMsgKey(n);if(f!=null){i=(yield d("WAWebAddonProcessDeleteForMe").hasDeleteAddonForMe(f));if(i!=null)try{yield d("WAWebAddonProcessDeleteForMe").processDeleteForMeSingle(i);return{actionState:d("WASyncdConst").SyncActionState.Success}}catch(a){}}return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:b.toString(),modelType:d("WASyncdConst").SyncModelType.Msg}}}e.push(j);a=d("WAWebMsgCollection").MsgCollection.get(j);a?(d("WAWebFrontendMsgGetters").getChat(a).msgs.length===1&&(yield d("WAWebChatLoadMessages").loadEarlierMsgs(d("WAWebFrontendMsgGetters").getChat(a))),a["delete"]()):d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["delete_message_for_me_sync: msg "," found in storage but not in collection"])),j);d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully deleted "," for me."])),j);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["delete_message_for_me_sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}())));d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["syncd: before deleting messages"])));if(e.length>0){yield d("WAWebDBMessageDelete").removeMessagesFromHistory(e);var q=new Set();e.forEach(function(a){return q.add(c("WAWebMsgKey").fromString(a).remote.toString())});a=Array.from(q.values()).join(",").toString();d("WAWebBackendApi").frontendFireAndForget("deleteModelsForLastAddOnPreview",{messagesIds:e});yield d("WAWebPersistedJobManager").getJobManager().waitUntilPersisted(d("WAWebPersistedJobDefinitions").jobSerializers.deleteAddOns(a,e))}d("WAWebCurrentUser").isEmployee()&&d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["syncd: after deleting messages"])));return f});function e(b){return a.apply(this,arguments)}return e}();f.resolveConflicts=function(a,e){var f;a=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionValueSpec,a.binarySyncAction);e=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,e.binarySyncData).value;a=c("WANullthrows")((a=a.deleteMessageForMeAction)==null?void 0:a.deleteMedia);e=c("WANullthrows")(e==null||(f=e.deleteMessageForMeAction)==null?void 0:f.deleteMedia);return!e&&a?(p||(p=b("Promise"))).resolve(d("WASyncdConst").ConflictResolutionState.SkipRemote):(p||(p=b("Promise"))).resolve(d("WASyncdConst").ConflictResolutionState.SkipRemoteAndDropLocal)};f.buildDeleteForMeMutation=function(a){var b=a.timestamp,c=a.deleteMedia,e=a.messageTimestamp;a=babelHelpers.objectWithoutPropertiesLoose(a,h);c={deleteMessageForMeAction:{deleteMedia:c,messageTimestamp:e}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularHigh,indexArgs:d("WAWebSyncdActionUtils").buildMessageKey(a),value:c,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:b,action:this.getAction()})};f.getDeleteForMeMutations=function(a,c){var e=this,f=d("WATimeUtils").unixTimeMs();return(p||(p=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.id.remote,g=d("WAWebMsgGetters").getSender(a);g=g?d("WAWebWidToJid").widToUserJid(g):null;return e.buildDeleteForMeMutation({timestamp:f,deleteMedia:c,messageTimestamp:d("WAWebMsgGetters").getT(a),remoteJid:b.isNewsletter()?d("WAWebWidToJid").widToNewsletterJid(b):d("WAWebWidToJid").widToChatJid(d("WAWebWidFactory").createWid(yield d("WAWebSyncdGetChat").getChatJidMutationIndexForChat(b))),id:a.id.id,fromMe:a.id.fromMe,participant:d("WAWebMsgGetters").getIsGroupMsg(a)&&!a.id.fromMe?g:null})});return function(b){return a.apply(this,arguments)}}()))};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebDelimiterNode",["Lexical","WAWebClassnames","err"],(function(a,b,c,d,e,f,g){var h=function(a){function b(b,c,d){b=a.call(this,b,d)||this;b.__position=c;return b}babelHelpers.inheritsLoose(b,a);b.getType=function(){return"delimiter"};b.clone=function(a){return new b(a.__text,a.__position,a.__key)};b.importJSON=function(){throw c("err")("Deserialization of DelimiterNode is unsupported")};var e=b.prototype;e.createDOM=function(b){b=a.prototype.createDOM.call(this,b);b.className=d("WAWebClassnames").classnamesConvertMeToStylexPlease(b.className,"xdakrdy");return b};e.isOpen=function(){return this.__position==="open"};e.getPosition=function(){return this.__position};e.setPosition=function(a){if(this.getPosition()===a)return;var b=this.getWritable();b.__position=a};e.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{type:"delimiter-node"})};return b}(d("Lexical").TextNode);function i(a,b){return new h(a,b)}function j(a){return a instanceof h}function a(a,b){if(j(a)){a.setPosition(b);return a}b=i(a.getTextContent(),b);a.replace(b);return b}g.DelimiterNode=h;g.$createDelimiterNode=i;g.$isDelimiterNode=j;g.$transformToDelimiterNode=a}),98);
__d("WAWebDownloads3PDSignalsDatabaseApi",["WATimeUtils","WAWebSchemaDownload3PDSignals","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=30,i=30;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebSchemaDownload3PDSignals").getDownload3PDSignalsTable().createOrReplace(a)});return j.apply(this,arguments)}function c(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebSchemaDownload3PDSignals").getDownload3PDSignalsTable().all()});return k.apply(this,arguments)}function e(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=h;a=d("WATimeUtils").unixTimeMs()-a*d("WATimeUtils").DAY_MILLISECONDS;return d("WAWebSchemaDownload3PDSignals").getDownload3PDSignalsTable().greaterThan(["timestamp"],a)});return l.apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WATimeUtils").unixTimeMs()-i*d("WATimeUtils").DAY_MILLISECONDS;a=(yield d("WAWebSchemaDownload3PDSignals").getDownload3PDSignalsTable().lessThan(["timestamp"],a));if(a.length===0)return;yield d("WAWebSchemaDownload3PDSignals").getDownload3PDSignalsTable().bulkRemove(a.map(function(a){return a.id}))});return m.apply(this,arguments)}g.addOrEdit3PDSignal=a;g.getAll3PDSignals=c;g.getRecent3PDSignals=e;g.cleanup3PDSignalsTable=f}),98);
__d("WAWebDropdown.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={"-emoji-picker-width":"388px;","-emoji-picker-width-xl":"573px;",container:"_ak4w",containerMaterial:"_ap4-",containerMaterialPadding:"_ap4_",suggestions:"_ak54",reactionDetails:"_ak51",reactionSendTray:"_ak52",datePicker:"_aos4",right:"_ak4x",picker:"_ak4z",tooltip:"_ak56",items:"_ak5b",nib:"_ak5a",tooltipHighlight:"_ak57",inverse:"_ak58",emoji:"_ak4-",sticker:"_ak4_",colorPicker:"_ak50",labelColorPicker:"_aozv",emojiXl:"_asag",reactionPicker:"_ak53",inverseVertical:"_ak59",text:"_ak55",expressionsPanel:"_alox",expressionsPanelXl:"_as8u",expressionsPanelInsideInput:"_ao_l",expressionsPanelOutsideInput:"_ao_m"};b=a;g["default"]=b}),98);
__d("WAWebDropdown.react",["$InternalEnum","WANullthrows","WAWebAttachMenuGatingUtils","WAWebClassnames","WAWebCmd","WAWebCompatibility","WAWebDropdown.scss","WAWebFocusIndicator","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebMiscGatingUtils","WAWebNoop","WAWebStylePropertiesDeprecated","WAWebUIRefreshGatingUtils","WAWebUISpacing","react","stylex","useMergeRefs","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useMemo,o=e.useRef,p=e.useState,q=d("WAWebStylePropertiesDeprecated").getIntFromStylesProp(c("WAWebDropdown.scss"),"-emoji-picker-width"),r=d("WAWebStylePropertiesDeprecated").getIntFromStylesProp(c("WAWebDropdown.scss"),"-emoji-picker-width-xl");e=function(){return d("WAWebAttachMenuGatingUtils").areExpressionPanelsUiV2Enabled()?r:q};var s=q,t=32,u=32,v=10,w=b("$InternalEnum").Mirrored(["Dropdown","DropdownMenu","DropdownText","AttachMenu","Picker","EmojiPicker","StickerPicker","ColorPicker","LabelColorPicker","Tooltip","ReactionDetailsPane","ReactionSendTray","ReactionPicker","DatePicker","Suggestions","AttachMenuPopup","ExpressionsPanel","EventsRSVPPopup","NewsletterWamoSubMessageTypePopup"]),x=b("$InternalEnum").Mirrored(["Default","Highlight"]),y=b("$InternalEnum").Mirrored(["LEFT","CENTER","RIGHT"]),z=b("$InternalEnum").Mirrored(["TOP","BOTTOM"]),A={eventsRSVPPopup:{boxSizing:"x9f619",borderStartStartRadius:"x1rsuxf0",borderStartEndRadius:"xcgujcq",borderEndEndRadius:"x1igtfuo",borderEndStartRadius:"x13up0n2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},attachMenu:{position:"x10l6tqk",bottom:"x1ey2m1c",zIndex:"xfo81ep",boxSizing:"x1afcbsf",width:"x19ueb17",pointerEvents:"x71s49j",cursor:"xt0e3qv",$$css:!0},attachMenuPopup:{bottom:"xacj9c0",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",$$css:!0},newsletterWamoSubMessageTypePopup:{bottom:"xacj9c0",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",$$css:!0}};function B(a){switch(a){case y.RIGHT:return y.LEFT;case y.LEFT:return y.RIGHT;case y.CENTER:return y.CENTER}}function C(a,b,d){d=d&&c("WAWebL10N").isRTL()?B(a):a;return[d,b]}function D(a,b){a=B(a);b=b===z.TOP?z.BOTTOM:z.TOP;return b+" "+a}function E(a,b,c,d){var e={};switch(a){case y.RIGHT:e.left=Math.min(window.innerWidth-((a=d==null?void 0:d.offsetWidth)!=null?a:0)-u,c.x);break;case y.LEFT:e.right=window.innerWidth-c.x;break;case y.CENTER:e.left=c.x-((a=d==null?void 0:d.offsetWidth)!=null?a:0)/2;e.marginLeft=0;e.marginRight=0;break}switch(b){case z.BOTTOM:e.top=c.y;a=d==null?void 0:d.offsetHeight;if(a!=null){b=window.innerHeight-a-t;e.top=Math.min(b,c.y);e.top<0&&(e.top=0,e.height=window.innerHeight-t,e.overflowY="auto")}break;case z.TOP:e.bottom=window.innerHeight-c.y;break}return e}function F(a,b,c){var e=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?{backgroundColor:"var(--reactions-panel-background-color)"}:{};return a!==y.CENTER||b==null||c==null?babelHelpers["extends"]({},e):babelHelpers["extends"]({left:b.offsetWidth/2-c.offsetWidth/2},e)}function a(a){var b,e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=a.type,g=f===void 0?w.Dropdown:f;f=a.dirX;var i=f===void 0?y.RIGHT:f;f=a.dirY;var k=f===void 0?z.BOTTOM:f;f=a.children;var q=a.flipOnRTL,r=a.origin,s=a.style,t=a.horizontal,u=a.isTemporaryRender,B=a.autoFocus,aa=a.findFirstItem,H=a.onDefault,I=a.testid;I=a.tooltipColorScheme;a=p(!1);var ba=a[0],J=a[1];a=p(null);var K=a[0],L=a[1],M=o(null);a=o();var N=o();e=c("useMergeRefs")(e,M);var O=c("useWAWebUIM")(),P=n(function(){return g!==w.EmojiPicker&&g!==w.Suggestions&&g!==w.ReactionDetailsPane&&g!==w.ReactionSendTray&&g!==w.StickerPicker&&g!==w.DatePicker&&g!==w.ColorPicker&&g!==w.LabelColorPicker&&g!==w.ReactionPicker&&g!==w.DropdownText},[g]);m(function(){if(!P)return;if(B===!0){var a;a=(a=N.current)==null?void 0:a.querySelector("[tabindex]");var b;aa===!0&&a?b=a:N.current&&N.current.firstChild instanceof HTMLDivElement&&a?b=a:N.current&&N.current.children.length>0&&(b=N.current.children[0]);c("WAWebFocusTracer").focus(b);J(!0);L(b)}else c("WAWebFocusTracer").focus(M.current)},[]);m(function(){if(!N.current||!M.current||u===!0)return;d("WAWebCmd").Cmd.floaterEscapeOverlap(M.current,v)},[u]);var Q=n(function(){var a=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?{borderRadius:"16px"}:{},b=s!=null?s:{},c=C(i,k,q),e=c[0];c=c[1];a[d("WAWebCompatibility").compatPrefix("transformOrigin")]=D(e,c);if(!r)return babelHelpers["extends"]({},b,a);e=E(e,c,r,M.current);return babelHelpers["extends"]({},b,a,e)},[i,k,q,r,s]),ca=function(a){c("WAWebFocusTracer").focus(M.current),J(!1)},R=function(a,b){b=(b<0?a.length-1:b)%a.length;c("WAWebFocusTracer").focus(a[b]);J(!0);L(a[b])},S=function(){var a=Array.from(c("WANullthrows")(N.current).querySelectorAll("li:not(.dropdown-item-disabled)"));return{activeChildren:a,currentlyFocusedIndex:K==null?-1:a.indexOf(K)}},T=function(a){G(a);a=S();var b=a.activeChildren;a=a.currentlyFocusedIndex;if(b.length===0)return;R(b,a-1)},U=function(a){G(a);a=S();var b=a.activeChildren;a=a.currentlyFocusedIndex;if(b.length===0)return;R(b,a+1)},V=function(a){G(a);var b=S(),c=b.activeChildren;b=b.currentlyFocusedIndex;if(c.length===0)return;if(c.length>12||c.length===6){U(a);return}var d;a=(c.length-2)/2;var e=0,f=a-1,g=a,h=c.length-3;b===-1?d=e:b>=g&&b<=h?d=b-a:b>=e&&b<=f?d=b:d=g;R(c,d)},W=function(a){G(a);var b=S(),c=b.activeChildren;b=b.currentlyFocusedIndex;if(c.length===0)return;if(c.length>12||c.length===6){T(a);return}a=(c.length-2)/2;var d=0,e=a-1,f=a,g=c.length-3;b>=f&&b<=g?f=g+1:b>=d&&b<=e?f=b+a:f=b;R(c,f)},da=function(a){a.preventDefault(),O==null||O.requestDismiss()},X=function(a){H&&(c("WAWebFocusIndicator").shouldIndicateFocus(),O==null||O.requestDismiss(),H(a))},ea=function(a){a.stopPropagation(),c("WAWebFocusTracer").focus(M.current),L(void 0)},Y=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();I=d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebDropdown.scss").container]=g===w.Dropdown||g===w.DropdownMenu||g===w.EmojiPicker||g===w.StickerPicker||g===w.ColorPicker||g===w.LabelColorPicker||g===w.ReactionDetailsPane||g===w.ReactionSendTray||g===w.ReactionPicker||g===w.DatePicker||g===w.Suggestions||g===w.DropdownText||g===w.AttachMenuPopup||g===w.ExpressionsPanel||g===w.EventsRSVPPopup||g===w.NewsletterWamoSubMessageTypePopup,b[c("WAWebDropdown.scss").right]=g===w.DropdownMenu,b[c("WAWebDropdown.scss").picker]=g===w.Picker,b[c("WAWebDropdown.scss").emoji]=g===w.EmojiPicker,b[c("WAWebDropdown.scss").emojiXl]=g===w.EmojiPicker&&d("WAWebAttachMenuGatingUtils").areExpressionPanelsUiV2Enabled(),b[c("WAWebDropdown.scss").sticker]=g===w.StickerPicker,b[c("WAWebDropdown.scss").colorPicker]=g===w.ColorPicker,b[c("WAWebDropdown.scss").labelColorPicker]=g===w.LabelColorPicker,b[c("WAWebDropdown.scss").reactionDetails]=g===w.ReactionDetailsPane,b[c("WAWebDropdown.scss").reactionSendTray]=g===w.ReactionSendTray,b[c("WAWebDropdown.scss").reactionPicker]=g===w.ReactionPicker,b[c("WAWebDropdown.scss").datePicker]=g===w.DatePicker,b[c("WAWebDropdown.scss").suggestions]=g===w.Suggestions,b[c("WAWebDropdown.scss").expressionsPanel]=g===w.ExpressionsPanel,b[c("WAWebDropdown.scss").expressionsPanelXl]=g===w.ExpressionsPanel&&d("WAWebAttachMenuGatingUtils").areExpressionPanelsUiV2Enabled(),b[c("WAWebDropdown.scss").expressionsPanelInsideInput]=g===w.ExpressionsPanel&&!d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput(),b[c("WAWebDropdown.scss").expressionsPanelOutsideInput]=g===w.ExpressionsPanel&&d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput(),b[c("WAWebDropdown.scss").text]=g===w.DropdownText,b[c("WAWebDropdown.scss").tooltip]=g===w.Tooltip,b[c("WAWebDropdown.scss").tooltipHighlight]=I===x.Highlight,b[c("WAWebDropdown.scss").inverse]=(g===w.Picker||g===w.EmojiPicker||g===w.StickerPicker||g===w.ColorPicker||g===w.LabelColorPicker||g===w.ReactionDetailsPane||g===w.ReactionSendTray||g===w.ReactionPicker||g===w.DatePicker||g===w.DropdownText||g===w.Tooltip)&&i===y.LEFT,b[c("WAWebDropdown.scss").inverseVertical]=(g===w.EmojiPicker||g===w.StickerPicker||g===w.ColorPicker||g===w.LabelColorPicker||g===w.ReactionDetailsPane||g===w.ReactionSendTray||g===w.ReactionPicker||g===w.DatePicker||g===w.DropdownText)&&k===z.TOP,b[c("WAWebDropdown.scss").containerMaterial]=Y,b[c("WAWebDropdown.scss").containerMaterialPadding]=Y&&(g===w.Dropdown||g===w.DropdownMenu),b));Y=[];g===w.AttachMenu?Y.push(A.attachMenu,d("WAWebUISpacing").uiPadding.top0,d("WAWebUISpacing").uiPadding.horiz10,d("WAWebUISpacing").uiPadding.bottom7):g===w.EventsRSVPPopup&&Y.push(A.eventsRSVPPopup,d("WAWebUISpacing").uiPadding.vert0);g===w.AttachMenuPopup&&Y.push(A.attachMenuPopup);g===w.NewsletterWamoSubMessageTypePopup&&Y.push(A.newsletterWamoSubMessageTypePopup);b=g===w.Picker||g===w.EmojiPicker||g===w.StickerPicker||g===w.LabelColorPicker||g===w.DropdownText||g===w.Tooltip?l.jsx("div",{"data-testid":void 0,ref:a,className:c("WAWebDropdown.scss").nib,"data-animate-dropdown-nib":!0,style:F(i,M.current,a.current)}):null;if(P){a={enter:X,tab:G,"shift+tab":G,up:c("WAWebNoop"),down:c("WAWebNoop")};var Z,$;d("WAWebMiscGatingUtils").multiSkinToneEmojiPickerEnabled()&&g===w.Picker?c("WAWebL10N").isRTL()?(Z=W,$=V):(Z=V,$=W):(Z=T,$=U);if(t){a[(V=c("WAWebL10N")).LR("left","right")]=T;a[V.LR("right","left")]=U;a[V.LR("up","down")]=Z;a[V.LR("down","up")]=$}else g===w.AttachMenu?(a.up=U,a.down=T):(a.up=T,a.down=U),g!==w.ExpressionsPanel&&(a[c("WAWebL10N").LR("left","right")]=da,a[c("WAWebL10N").LR("right","left")]=X);return l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:e,handlers:a,role:"application",className:I+" "+(j||(j=c("stylex")))(Y),style:Q,onMouseMove:ba?ca:null,onMouseUp:ea,children:[l.jsx("ul",babelHelpers["extends"]({"data-testid":void 0,ref:N},{0:{},1:{className:"x78zum5 x3ieub6"}}[!!(g===w.AttachMenu)<<0],{children:f})),b]})}return l.jsxs("div",{ref:e,className:I,style:Q,"data-testid":void 0,children:[f,b]})}a.displayName=a.name+" [from "+f.id+"]";function G(a){a.stopPropagation(),a.preventDefault()}g.getEmojiPickerWidth=e;g.REACTIONS_PANEL_WIDTH=s;g.MenuType=w;g.TooltipColorScheme=x;g.DirX=y;g.DirY=z;g.Dropdown=a}),98);
__d("WAWebMenu.react",["WAWebMenuController.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var c=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=l(new Map()),f=e[0],g=e[1];e=d("WAWebMenuController.react").useRegister({onChange:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield g(a)});function c(b){return a.apply(this,arguments)}return c}(),onOrderChange:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield g(a)});function c(b){return a.apply(this,arguments)}return c}()});return k.jsx(d("WAWebMenuController.react").Register,{registerRef:e,children:k.jsx(d("WAWebMenuController.react").WAWebMenuController,babelHelpers["extends"]({data:f},a,{ref:c}))})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebMenu=a}),98);
__d("WAWebDropdownV2.react",["WAWebFlex.react","WAWebMenu.react","WAWebPopover.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h=["children","initHandling","material","maxHeight","minWidth","xstyle"],i=["children","onSelect","menuRef","initialActiveOptionId","initHandling","material","xstyle","useLegacyDesign"],j,k=j||c("react"),l={container:{borderStartStartRadius:"x1fqc64z",borderStartEndRadius:"xs83zq4",borderEndEndRadius:"xt6ovg4",borderEndStartRadius:"x1ru8ea5",backgroundColor:"x1x0w6k2",boxShadow:"x1sr759z",color:"x6s6g2w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},material:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",$$css:!0},arrow:{backgroundColor:"x1x0w6k2",$$css:!0}};function m(a){var b=a.children,c=a.initHandling,e=a.material,f=a.maxHeight,g=a.minWidth,i=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);e=e===!0||d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();a=d("WAWebPopover.react").usePopoverElement(babelHelpers["extends"]({},a,{initHandling:c!=null?c:"click",dismissable:!0,arrowXStyle:l.arrow,element:k.jsx(d("WAWebFlex.react").FlexItem,{style:{maxHeight:f,minWidth:g},xstyle:[l.container,e&&l.material,!e&&d("WAWebUISpacing").uiPadding.vert8,i],children:b})}));return a}function n(a){var b=a.children,c=a.onSelect,e=a.menuRef,f=a.initialActiveOptionId,g=a.initHandling,h=a.material,j=a.xstyle,l=a.useLegacyDesign;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var n=m(babelHelpers["extends"]({},a,{initHandling:g!=null?g:"click",dismissable:!0,material:h,children:k.jsx(d("WAWebMenu.react").WAWebMenu,{ref:e,material:h,useLegacyDesign:l,initialActiveOptionId:f,onSelect:function(a,b){b=b.type;c==null||c(a);["multi-select","submenu","switch"].includes(b)===!1&&n.hidePopover()},children:b}),xstyle:j}));return n}function a(a){a=m(a);a=a.popover;return a}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=n(a);a=a.popover;return a}b.displayName=b.name+" [from "+f.id+"]";function e(a){a=n(babelHelpers["extends"]({},a,{initHandling:"contextmenu"}));a=a.popover;return a}e.displayName=e.name+" [from "+f.id+"]";g.PopoverAlignment=d("WAWebPopover.react").PopoverAlignment;g.PopoverPosition=d("WAWebPopover.react").PopoverPosition;g.useDropdownV2=m;g.DropdownV2=a;g.DropdownV2Menu=b;g.ContextDropdownV2Menu=e}),98);
__d("WAWebWamEnumRetryRejectReason",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,DOUBLE_CHECKMARK:1,IDENTITY_CHANGE:2,MESSAGE_NOT_EXIST:3,HIGH_RETRY_COUNT:4});f.RETRY_REJECT_REASON=a}),66);
__d("WAWebE2eRetryRejectWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumDeviceType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumRetryRejectReason"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({E2eRetryReject:[3578,{invisibleMessageCategory:[6,d("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],mediaType:[7,d("WAWebWamEnumMediaType").MEDIA_TYPE],messageType:[1,d("WAWebWamEnumMessageType").MESSAGE_TYPE],msgRetryCount:[2,d("WAWebWamCodegenUtils").TYPES.INTEGER],retryRejectReason:[3,d("WAWebWamEnumRetryRejectReason").RETRY_REJECT_REASON],retryRevoke:[4,d("WAWebWamCodegenUtils").TYPES.BOOLEAN],senderDeviceType:[5,d("WAWebWamEnumDeviceType").DEVICE_TYPE]},[1,1,1],"regular"]},{E2eRetryReject:[]});g.E2eRetryRejectWamEvent=a}),98);
__d("WAWebEditorInitialSelectionPlugin.react",["Lexical","LexicalComposerContext","WAWebLexicalUtils","react","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){a=a.selectAll;var b=a===void 0?!1:a;a=d("LexicalComposerContext").useLexicalComposerContext();var c=a[0],e=j(!0),f=function(){e.current&&(c.update(function(){var a;(a=d("Lexical").$getRoot())==null||a.selectEnd()}),e.current=!1)};d("useWAWebLexicalEvent").useLexicalCommandListener(c,d("Lexical").FOCUS_COMMAND,function(){b||f();return!1});i(function(){b?d("WAWebLexicalUtils").selectAll(c):d("WAWebLexicalUtils").isFocused(c)&&f()},[c]);return}g.EditorInitialSelectionPlugin=a}),98);
__d("WAWebEditorInitialStatePlugin.react",["LexicalComposerContext","WAWebLexicalUtils","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=a.initialText;a.willReceiveFocus;a=d("LexicalComposerContext").useLexicalComposerContext();var c=a[0],e=b==null?"":b;i(function(){c.update(function(){d("WAWebLexicalUtils").$setTextContent(e,d("WAWebLexicalUtils").isFocused(c))},{tag:"history-merge"})},[c]);return null}g.EditorInitialStatePlugin=a}),98);
__d("WAWebEditorRefPlugin",["LexicalComposerContext","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=a.editorRef;a=d("LexicalComposerContext").useLexicalComposerContext();var c=a[0];i(function(){typeof b==="function"?b(c):b&&(b.current=c)},[c,b]);return null}g.EditorRefPlugin=a}),98);
__d("WAWebMentionNode",["$InternalEnum","Lexical","WAWebClassnames","WAWebCopyPasteCopyable.react","WAWebRichTextInputConst","WAWebWidFactory","err"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["GROUP","CONTACT"]),i=function(a){function b(b){var c=b.text,d=b.name,e=b.wid,f=b.type;b=b.key;c=a.call(this,c,b)||this;c.name=d;c.wid=e;c.type=f;return c}babelHelpers.inheritsLoose(b,a);b.clone=function(a){return new b({text:a.__text,name:a.name,wid:a.wid,type:a.type,key:a.__key})};b.getType=function(){return"mention"};b.importJSON=function(){throw c("err")("Deserialization of MentionNode is unsupported")};var e=b.prototype;e.createDOM=function(b){b=a.prototype.createDOM.call(this,b);b.className=d("WAWebClassnames").classnamesConvertMeToStylexPlease(b.className,"x1a06ls3");b.dataset[d("WAWebCopyPasteCopyable.react").APP_TEXT_TEMPLATE_DATA_ATTR]=""+d("WAWebRichTextInputConst").ZWS+this.wid+d("WAWebRichTextInputConst").ZWS;return b};e.getNodeMetadata=function(){var a=d("WAWebWidFactory").createWid(this.wid),b=d("WAWebRichTextInputConst").AT_SYMBOL+a.user;this.type===h.GROUP&&(b=d("WAWebRichTextInputConst").AT_SYMBOL+a.toString());return{text:b,parsableText:""+d("WAWebRichTextInputConst").ZWS+this.wid+d("WAWebRichTextInputConst").ZWS,type:this.type,name:this.name,wid:a}};e.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{type:"mention-node"})};return b}(d("Lexical").TextNode);function a(a,b,c){return new i({text:d("WAWebRichTextInputConst").AT_SYMBOL+a,name:a,wid:b,type:c})}function e(a){return a instanceof i}g.MentionTypeEnum=h;g.MentionNode=i;g.$createMentionNode=a;g.$isMentionNode=e}),98);
__d("WAWebEditorStatePlugin.react",["Lexical","LexicalComposerContext","WAWebMentionNode","react","useWAWebLexicalEvent","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function* k(a){for(a of a.getChildren())yield a,d("Lexical").$isElementNode(a)&&(yield* k(a))}function l(a){var b={text:"",parsableText:"",data:{}};if(!a)return b;var c=[],e=[];a.read(function(){for(var a of d("Lexical").$getRoot().getChildren())if(d("Lexical").$isElementNode(a)){var f="",g="";for(var h of k(a))if(h instanceof d("WAWebMentionNode").MentionNode){var i,j=h.getNodeMetadata();f+=j.text;g+=j.parsableText;b.data.mentionedJidList=(i=b.data.mentionedJidList)!=null?i:[];b.data.groupMentions=(i=b.data.groupMentions)!=null?i:[];i=j.type;var l=j.wid,m=j.name;switch(i){case d("WAWebMentionNode").MentionTypeEnum.CONTACT:b.data.mentionedJidList.push(j.wid);break;case d("WAWebMentionNode").MentionTypeEnum.GROUP:b.data.groupMentions.push({groupJid:l,groupSubject:m});break}}else f+=h.getTextContent(),g+=h.getTextContent();c.push(f);e.push(g)}});b.text=c.join("\n");b.parsableText=e.join("\n");return b}function a(a){var b=a.onBlur,e=a.onChange,f=a.onFocus;a=d("LexicalComposerContext").useLexicalComposerContext();var g=a[0],h=j(),k=c("useWAWebStableCallback")(function(a,b){e&&e(l(a),a,b)});i(function(){if(g){var a=g.getEditorState().read(function(){return d("Lexical").$getRoot().getTextContent()});h.current=a;k(g.getEditorState(),!0)}},[g,k]);i(function(){if(!g)return;return g.registerUpdateListener(function(a){a=a.editorState;if(g.isComposing())return;var b=a.read(function(){return d("Lexical").$getRoot().getTextContent()});if(h.current===b)return;h.current=b;k(a,!1)})},[g,k]);d("useWAWebLexicalEvent").useLexicalCommandListener(g,d("Lexical").BLUR_COMMAND,function(a){b==null||b(a);return!1});d("useWAWebLexicalEvent").useLexicalCommandListener(g,d("Lexical").FOCUS_COMMAND,function(a){f==null||f(a);return!1});return null}g.EditorStatePlugin=a}),98);
__d("WAWebEmojiNode",["$InternalEnum","Lexical","WAWebClassnames","WAWebEmoji","WAWebStylesEnv","err","stylex"],(function(a,b,c,d,e,f,g){var h,i=b("$InternalEnum").Mirrored(["Small","Medium","Large"]),j={emoji:{fontSize:"x1c3i2sq",fontFamily:"x19la9d6",lineHeight:"x1fc57z9",paddingTop:"xexx8yu",paddingInlineEnd:"x1ccui7m",paddingBottom:"x18d9i69",paddingInlineStart:"x18pi947",overflowX:"x6ikm8r",overflowY:"x10wlt62",color:"x19co3pv",caretColor:"x1g5zs5t",backgroundSize:"xfibh0p",backgroundRepeat:"xiy17q3",backgroundPosition:"x1xsqp64",$$css:!0},emojiWin:{fontSize:"x1lkfr7t",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},emojiSafari:{paddingTop:"xexx8yu",paddingInlineEnd:"x1im30kd",paddingBottom:"x18d9i69",paddingInlineStart:"x1djpfga",fontSize:"x1f6kntn",marginTop:"xdj266r",marginInlineEnd:"xjn30re",marginBottom:"xat24cr",marginInlineStart:"x1hb08if",fontFamily:"xz6nz0p",$$css:!0},emojiFirefox:{fontSize:"x1lkfr7t",paddingTop:"xexx8yu",paddingInlineEnd:"x1j8ymqv",paddingBottom:"x18d9i69",paddingInlineStart:"x4tra6z",$$css:!0},emojiLarge:{fontSize:"x8cw2a4",backgroundSize:"xkclhyd",$$css:!0},emojiMedium:{fontSize:"x579bpy",backgroundSize:"x1umgpko",$$css:!0},innerWin:{"::selection_backgroundColor":"xrtxmta","::selection_color":"x1bhl96m",$$css:!0}},k=function(a){function b(b,c,d,e){b=a.call(this,b,e)||this;b.__textEmoji=c;b.__emojiSize=d;return b}babelHelpers.inheritsLoose(b,a);b.clone=function(a){return new b(a.__text,a.__textEmoji,a.__emojiSize,a.__key)};b.getType=function(){return"emoji"};b.importJSON=function(){throw c("err")("Deserialization of EmojiNode is unsupported")};var e=b.prototype;e.emoji=function(){return this.__text};e.textEmoji=function(){return this.__textEmoji};e.createDOM=function(){var a=this.__text,b=document.createElement("span"),e=d("WAWebStylesEnv").hasSafariFix&&j.emojiSafari,f=d("WAWebStylesEnv").hasFirefoxFix&&j.emojiFirefox,g=d("WAWebStylesEnv").isOSWin&&j.emojiWin,k=null,l=null;switch(this.__emojiSize){case i.Small:l=d("WAWebEmoji").EmojiUtil.getGlyphPath(a,40);break;case i.Medium:l=d("WAWebEmoji").EmojiUtil.getGlyphPath(a,64);k=j.emojiMedium;break;case i.Large:l=d("WAWebEmoji").EmojiUtil.getGlyphPath(a,64);k=j.emojiLarge;break}b.className=d("WAWebClassnames").classnamesConvertMeToStylexPlease(b.className,(h||(h=c("stylex")))(j.emoji,e,f,g,k));l!=null&&(b.style.backgroundImage="url('"+l+"')");e=document.createElement("span");e.textContent=a;f=d("WAWebStylesEnv").isOSWin&&j.innerWin;e.className=h(f);b.appendChild(e);return b};e.updateDOM=function(a,b){a=b.firstChild;if(a==null)return!0;b=this.__text;a.textContent!==b&&(a.textContent=b);return!1};e.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{type:"emoji-node"})};return b}(d("Lexical").TextNode);function a(a,b,c){c===void 0&&(c=i.Small);return new k(a,b,c).setMode("token")}function e(a){return a instanceof k}g.EmojiSize=i;g.EmojiNode=k;g.$createEmojiNode=a;g.$isEmojiNode=e}),98);
__d("WAWebFontLoader",["$InternalEnum","Promise","WALogger","WANullthrows","bx","err","gkx","webfontloader"],(function(a,b,c,d,e,f,g){var h,i;e=(a=c("bx")).getURL(a("9544"));f=a.getURL(a("9545"));var j=b("$InternalEnum")({SANS_SERIF:0,SERIF:1,NORICAN_REGULAR:2,BRYNDAN_WRITE:3,BEBASNEUE_REGULAR:4,OSWALD_HEAVY:5,NOTO_EMOJI:6}),k={};k[j.SERIF]={google:{families:["Roboto"]}};k[j.SANS_SERIF]={google:{families:["Droid Serif"]}};k[j.NORICAN_REGULAR]={google:{families:["Norican"]}};k[j.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}};k[j.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var l={};l[j.BRYNDAN_WRITE]='@font-face {font-family:"Bryndan-Write"; src:url("'+e+'") format("truetype");}';l[j.NOTO_EMOJI]='@font-face {font-family:"Noto-Emoji"; src:url("'+f+'") format("truetype");}';a=function(){function a(){this.loadedFonts={},this.loadingPromise={}}var e=a.prototype;e.load=function(a){var d=this;if(this.loadedFonts[a])return(i||(i=b("Promise"))).resolve();if(this.loadingPromise[a])return this.loadingPromise[a];var e=k[a],f=l[a],g;f?g=new(i||(i=b("Promise")))(function(a,b){var c=document.createElement("style");c.appendChild(document.createTextNode(f));c.onload=a;c.onerror=b;document.head&&document.head.appendChild(c)}):g=(i||(i=b("Promise"))).resolve();g=g.then(function(){return new(i||(i=b("Promise")))(function(b,f){var g=babelHelpers["extends"]({},e,{active:function(){d.loadedFonts[a]=!0,b()},inactive:function(){d.loadingPromise[a]=void 0,f(c("err")("Failed to load font: "+j.getName(a)))}});c("webfontloader").load(g)})});this.loadingPromise[a]=g;return g};e.loadMessageFont=function(a){if(c("gkx")("26256")&&!a)return this.load(c("WANullthrows")(j.cast(0)));var b=j.cast(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Unsupported font: ",""])),a);return this.load(j.SANS_SERIF)}return this.load(b)};e.loadAllFonts=function(){var a=this;return(i||(i=b("Promise"))).all(Array.from(j.members()).map(function(b){return a.load(b)}))};return a}();e=new a();g.Font=j;g.FontLoader=e}),98);
__d("WAWebEmojisPlugin.react",["Lexical","LexicalComposerContext","WAWebEmoji","WAWebEmojiNode","WAWebEmojiVariantCollection","WAWebFontLoader","WAWebLexicalUtils","react","useWAWebABPropConfigValue","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function* j(a){var b=d("WAWebEmoji").EmojiUtil.emojiRegex(),c=0;while(!0){var e=b.exec(a);if(!e)break;var f=e[0];e=e.index;var g=c;c=b.lastIndex;yield {emoji:f,index:e,lastIndex:g}}}function k(a,b){if(!a.isSimpleText())return;var c=a.getTextContent();a=a;for(c of j(c)){var e=c.emoji,f=c.index,g=c.lastIndex;f=f-g;g=void 0;if(f===0){var h=a.splitText(e.length);g=h[0];h=h[1]}else{f=a.splitText(f,f+e.length);g=f[1];h=f[2]}a=h;f=d("WAWebEmojiNode").$createEmojiNode(e,null,b);g.replace(f)}}b=String.fromCodePoint(128077);c=String.fromCodePoint(128078);e=String.fromCodePoint(128578);f=String.fromCodePoint(128577);var l=String.fromCodePoint(128539),m=String.fromCodePoint(128528),n=String.fromCodePoint(128533),o=String.fromCodePoint(128512),p=String.fromCodePoint(128536),q=String.fromCodePoint(128558),r=String.fromCodePoint(10084,65039),s=String.fromCodePoint(128513),t=String.fromCodePoint(128518),u=String.fromCodePoint(128521),v=String.fromCodePoint(128546),w={"(y)":b,"(Y)":b,"(n)":c,"(N)":c,":-)":e,":-(":f,":-p":l,":-P":l,":-\\":n,":-D":o,":-o":q,";-)":u,":-*":p,":-|":m,":'(":v,"^_^":s,"<3":r,">_<":t},x=3,y=2;function z(a,b){if(!a.isSimpleText())return;var c=d("WAWebLexicalUtils").$getRangeSelection(),e=d("WAWebLexicalUtils").$getPreviousRangeSelection();e=e&&d("Lexical").$getNodeByKey(e.anchor.key);if(!c||!c.isCollapsed()||c.anchor.getNode()!==a||e&&e!==a)return;e=c.anchor.offset;c=a.getTextContent();var f,g;for(var h=y;h<=x;h++){f=c.slice(e-h,e);g=w[f];if(g==null)continue;var i=d("WAWebEmoji").EmojiUtil.getSkinToneBase(g)&&d("WAWebEmojiVariantCollection").EmojiVariantCollection.getVariant(g);g=i!=null?i:g;break}if(!f||!g)return;i=e-f.length;if(i===0){h=a.splitText(f.length);c=h[0]}else{e=a.splitText(i,i+f.length);c=e[1]}h=d("WAWebEmojiNode").$createEmojiNode(g,f,b);c.replace(h)}function a(a){var b=a.emojiSize,c=a.transformTextEmoji;a=d("LexicalComposerContext").useLexicalComposerContext();var e=a[0];a=d("useWAWebABPropConfigValue").useABPropConfigValue("custom_racing_emoji");var f=d("useWAWebABPropConfigValue").useABPropConfigValue("custom_racing_emoji_feb2025");i(function(){var a=e.registerNodeTransform(d("Lexical").TextNode,function(a){k(a,b)}),f=e.registerNodeTransform(d("Lexical").TextNode,function(a){c&&z(a,b)});return function(){a(),f()}},[e,b,c]);i(function(){e.update(function(){var a=[];for(var c of d("WAWebLexicalUtils").textNodesIterator(d("Lexical").$getRoot()))d("WAWebEmojiNode").$isEmojiNode(c)&&a.push(c);a.forEach(function(a){a.replace(d("WAWebEmojiNode").$createEmojiNode(a.emoji(),a.textEmoji(),b))})})},[e,b,a,f]);d("useWAWebLexicalEvent").useLexicalCommandListener(e,d("Lexical").KEY_BACKSPACE_COMMAND,function(){var a;e.update(function(){var b=d("WAWebLexicalUtils").$getPreviousRangeSelection();if(!b||!b.isCollapsed())return;b=b.anchor.getNode();if(!(b instanceof d("WAWebEmojiNode").EmojiNode))return;a=b.textEmoji()},{onUpdate:function(){if(a==null)return;e.update(function(){a!=null&&d("WAWebLexicalUtils").$insertText(a)},{skipTransforms:!0})}});return!1});i(function(){d("WAWebFontLoader").FontLoader.load(d("WAWebFontLoader").Font.NOTO_EMOJI)},[]);return null}g.EmojisPlugin=a}),98);
__d("WAWebJobLoadQuickPromotions",["WATaskScheduler","WAWebBackendApi","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebFetchQuickPromotions","WAWebSchemaQuickPromotions","WAWebTasksTaskType"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebBackendApi").frontendSendAndReceive("getUserLocale").then(function(b){return d("WAWebSchemaQuickPromotions").getQuickPromotionsTable().all().then(function(c){c.sort(function(a,b){return a.data.qpConfigPriority-b.data.qpConfigPriority});if(d("WAWebBizGatingUtils").qpGraphQLEnabled()){var e=d("WAWebBizGatingUtils").qpSurfaceIdsUsingGraphQL(),f=c.filter(function(a){if(a==null)return!1;var c=d("WAWebCTWAConstants").KNOWN_QP_SURFACES.get(a.surfaceId);if(c==null)return!1;c=e.has(c);return c&&a.locale!==b});if(f.length>0){if(a==="app-launch"){void d("WAWebFetchQuickPromotions").fetchQuickPromotions().then(function(){d("WATaskScheduler").rescheduleNow(d("WAWebTasksTaskType").TaskType.FETCH_QUICK_PROMOTIONS)});return}if(a==="fetch-success")return;a}}d("WAWebBackendApi").frontendFireAndForget("loadedQuickPromotions",{promotions:c})})})}g.loadQuickPromotions=a}),98);
__d("WAWebJobUpdateQPSurfaces",["Promise","WALogger","WATimeUtils","WAWebCTWAConstants","WAWebJobLoadQuickPromotions","WAWebModelStorageUtils","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a){var b;a=(a=a.qpConfigPacing)==null?void 0:a.userInfo;return{impressions:(b=a==null?void 0:a.impressionCount)!=null?b:0,primaryClicks:(b=a==null?void 0:a.primaryClickCount)!=null?b:0,secondaryClicks:(b=a==null?void 0:a.secondaryClickCount)!=null?b:0,dismisses:(b=a==null?void 0:a.dismissClickCount)!=null?b:0}}function l(a,b){var c,d,e,f;a=a.tracking;c=(c=b.qpConfigPacing)==null?void 0:c.userInfo;b=k(b);d=a.dismisses-((d=c==null?void 0:c.dismissClickCount)!=null?d:0);e=a.primaryClicks-((e=c==null?void 0:c.primaryClickCount)!=null?e:0);f=a.secondaryClicks-((f=c==null?void 0:c.secondaryClickCount)!=null?f:0);c=a.impressions-((c=c==null?void 0:c.impressionCount)!=null?c:0);d>0&&(b.dismisses+=d);e>0&&(b.primaryClicks+=e);f>0&&(b.secondaryClicks+=f);c>0&&(b.impressions+=c);d=a.lastImpressionTs;e=a.lastPrimaryClickTs;f=a.lastSecondaryClickTs;c=a.lastDismissTs;d!=null&&(b.lastImpressionTs=d);e!=null&&(b.lastPrimaryClickTs=e);f!=null&&(b.lastSecondaryClickTs=f);c!=null&&(b.lastDismissTs=c);return b}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){if(a.length===0){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["updateQPSurfaces: no surfaces"])));return(j||(j=b("Promise"))).resolve()}var f=a.map(function(a){return a.id}),g=new Set(f);if(g.size!==f.length){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["updateQPSurfaces: found duplicated surface"])));return(j||(j=b("Promise"))).resolve()}var m=new Map();a.forEach(function(a){if(!d("WAWebCTWAConstants").KNOWN_QP_SURFACES.has(a.id))return;a.promotions.forEach(function(b){m.set(b.id,{promotion:b,surfaceId:a.id})})});yield d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("updateQPSurfaces",function(){return d("WAWebModelStorageUtils").getStorage().lock(["quick-promotions"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=a[0];a=(yield d.anyOf(["surfaceId"],f));var g=e==null?void 0:e.locale;a=a.map(function(a){var b=a.id,e=m.get(b);if(e==null)return d.remove(b);a=l(a,e.promotion);e={data:e.promotion,ts:c,tracking:a};g!=null&&(e.locale=g);m["delete"](b);return d.merge(b,e)});yield (j||(j=b("Promise"))).all(a);a=Array.from(m.values());a=a.map(function(a){var b=a.promotion;a=a.surfaceId;a={id:b.id,surfaceId:a,data:b,ts:c,tracking:k(b)};g!=null&&(a=babelHelpers["extends"]({},a,{locale:g}));return a});yield d.bulkCreate(a)});return function(b){return a.apply(this,arguments)}}())}).waitUntilCompleted();yield d("WAWebJobLoadQuickPromotions").loadQuickPromotions("fetch-success")});return n.apply(this,arguments)}function a(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return m(a,b)});return o.apply(this,arguments)}function c(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=d("WATimeUtils").unixTime();return m(a,c,{locale:b})});return p.apply(this,arguments)}g.updateQPSurfacesFromNotification=a;g.updateQPSurfacesFromGraphQLFetch=c}),98);
__d("WAWebFetchQuickPromotionsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23863939843202957"}),null);
__d("WAWebFetchQuickPromotionsQuery.graphql",["WAWebFetchQuickPromotionsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_ids"},{defaultValue:null,kind:"LocalArgument",name:"trigger_context"}],c=[{kind:"Literal",name:"include_holdouts",value:!0},{kind:"Literal",name:"supports_client_side_filters",value:!0},{kind:"Variable",name:"surface_nux_ids",variableName:"nux_ids"},{kind:"Variable",name:"trigger_context",variableName:"trigger_context"}],d={alias:null,args:null,kind:"ScalarField",name:"surface_nux_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"client_ttl_seconds",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"priority",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_holdout",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"log_eligibility_waterfall",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"promotion_id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_server_force_pass",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"ab_prop_name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"surface_delay_in_seconds",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"encrypted_logging_data",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"client_side_dry_run",storageKey:null},q=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],r=[{kind:"InlineDataFragmentSpread",name:"WAWebFetchQuickPromotionsQuery_QPText",selections:q,args:null,argumentDefinitions:[]}],s={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u=[{alias:null,args:null,kind:"ScalarField",name:"jpeg_thumbnail",storageKey:null}],v={alias:null,args:null,concreteType:"WAQPMediaDetails",kind:"LinkedField",name:"wa_light_mode_media_details",plural:!1,selections:u,storageKey:null};u={alias:null,args:null,concreteType:"WAQPMediaDetails",kind:"LinkedField",name:"wa_dark_mode_media_details",plural:!1,selections:u,storageKey:null};var w={alias:null,args:null,kind:"ScalarField",name:"accessibility_text_for_image",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"is_dismissible",storageKey:null},y={alias:null,args:null,concreteType:"QPContentAttributeDescriptor",kind:"LinkedField",name:"content_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"WhatsappQPColors",kind:"LinkedField",name:"wa_banner_background_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light_mode_highlight_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark_mode_highlight_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light_mode_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark_mode_background_color",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wa_primary_cta_alternative_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wa_eligible_duration_after_impression_in_seconds",storageKey:null}],storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},A={alias:null,args:null,concreteType:"WAQPContentAttribute",kind:"LinkedField",name:"wa_qp_content_attributes_do_not_use",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},z],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"clause_type",storageKey:null};z=[{alias:null,args:null,kind:"ScalarField",name:"filter_name",storageKey:null},{alias:null,args:null,concreteType:"QPFilterParameter",kind:"LinkedField",name:"parameters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},z],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"passes_if_client_not_supported",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filter_result",storageKey:null}];var C={kind:"InlineDataFragmentSpread",name:"WAWebFetchQuickPromotionsQuery_QPWAFilterClause",selections:[B,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"WAWebFetchQuickPromotionsQuery_QPWAFilter",selections:z,args:null,argumentDefinitions:[]}],storageKey:null}],args:null,argumentDefinitions:[]},D={alias:null,args:null,concreteType:"QPUserInteractionInfo",kind:"LinkedField",name:"user_interaction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression_max_instances",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_count_for_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dismiss_max_instances",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dismiss_click_count_for_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_click_max_instances",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_click_count_for_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_click_count_for_user",storageKey:null}],storageKey:null},E={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:q,storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};z={alias:null,args:null,concreteType:"QuickPromotionFlattenedFilter",kind:"LinkedField",name:"filters",plural:!0,selections:z,storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebFetchQuickPromotionsQuery",selections:[{alias:null,args:c,concreteType:"QuickPromotionBatchFetchSurface",kind:"LinkedField",name:"quick_promotion_batch_fetch_root",plural:!0,selections:[d,{alias:null,args:null,concreteType:"QuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"RequiredField",field:e,action:"LOG",path:"quick_promotion_batch_fetch_root.eligible_promotions.edges.client_ttl_seconds"},{kind:"RequiredField",field:f,action:"LOG",path:"quick_promotion_batch_fetch_root.eligible_promotions.edges.priority"},{kind:"RequiredField",field:g,action:"LOG",path:"quick_promotion_batch_fetch_root.eligible_promotions.edges.is_holdout"},{kind:"RequiredField",field:h,action:"LOG",path:"quick_promotion_batch_fetch_root.eligible_promotions.edges.log_eligibility_waterfall"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"time_range",plural:!1,selections:[{kind:"RequiredField",field:i,action:"LOG",path:"quick_promotion_batch_fetch_root.eligible_promotions.edges.time_range.start"},{kind:"RequiredField",field:j,action:"LOG",path:"quick_promotion_batch_fetch_root.eligible_promotions.edges.time_range.end"}],storageKey:null},action:"LOG",path:"quick_promotion_batch_fetch_root.eligible_promotions.edges.time_range"},{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"WAWebFetchQuickPromotionsQuery_QuickPromotion",selections:[k,l,m,n,o,p,{alias:null,args:null,concreteType:"QuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"WAWebFetchQuickPromotionsQuery_QPCreative",selections:[s,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"content",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"QuickPromotionAction",kind:"LinkedField",name:"primary_action",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"WAWebFetchQuickPromotionsQuery_QPAction",selections:[s,t],args:null,argumentDefinitions:[]}],storageKey:null},v,u,w,x],args:null,argumentDefinitions:[]}],storageKey:null},y,A,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"contextual_filters_for_wa_do_not_use",plural:!1,selections:[C,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[C,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[C,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[C],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},D],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebFetchQuickPromotionsQuery",selections:[{alias:null,args:c,concreteType:"QuickPromotionBatchFetchSurface",kind:"LinkedField",name:"quick_promotion_batch_fetch_root",plural:!0,selections:[d,{alias:null,args:null,concreteType:"QuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[e,f,g,h,{alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"time_range",plural:!1,selections:[i,j],storageKey:null},{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[k,l,m,n,o,p,{alias:null,args:null,concreteType:"QuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[E,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"content",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"QuickPromotionAction",kind:"LinkedField",name:"primary_action",plural:!1,selections:[E,t],storageKey:null},v,u,w,x,F],storageKey:null},y,A,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"contextual_filters_for_wa_do_not_use",plural:!1,selections:[B,z,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[B,z,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[B,z,{alias:null,args:null,concreteType:"QuickPromotionFlattenedFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[B,z],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},D,F],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("WAWebFetchQuickPromotionsQuery_facebookRelayOperation"),metadata:{},name:"WAWebFetchQuickPromotionsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebFetchQuickPromotionsQuery_QPAction.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"WAWebFetchQuickPromotionsQuery_QPAction"};e.exports=a}),null);
__d("WAWebFetchQuickPromotionsQuery_QPCreative.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"WAWebFetchQuickPromotionsQuery_QPCreative"};e.exports=a}),null);
__d("WAWebFetchQuickPromotionsQuery_QPText.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"WAWebFetchQuickPromotionsQuery_QPText"};e.exports=a}),null);
__d("WAWebFetchQuickPromotionsQuery_QPWAFilter.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"WAWebFetchQuickPromotionsQuery_QPWAFilter"};e.exports=a}),null);
__d("WAWebFetchQuickPromotionsQuery_QPWAFilterClause.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"WAWebFetchQuickPromotionsQuery_QPWAFilterClause"};e.exports=a}),null);
__d("WAWebFetchQuickPromotionsQuery_QuickPromotion.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"WAWebFetchQuickPromotionsQuery_QuickPromotion"};e.exports=a}),null);
__d("WAWebProtobufsQuickPromotionSurfaces.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({TRUE:1,FALSE:2,UNKNOWN:3});c=b("$InternalEnum")({PASS_BY_DEFAULT:1,FAIL_BY_DEFAULT:2});e=b("$InternalEnum")({AND:1,OR:2,NOR:3});f={};b={};var h={},i={};f.name="QP";f.internalSpec={};b.name="QP$FilterClause";b.internalSpec={clauseType:[1,(d=d("WAProtoConst")).FLAGS.REQUIRED|d.TYPES.ENUM,e],clauses:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,b],filters:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,h]};h.name="QP$Filter";h.internalSpec={filterName:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],parameters:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i],filterResult:[3,d.TYPES.ENUM,a],clientNotSupportedConfig:[4,d.FLAGS.REQUIRED|d.TYPES.ENUM,c]};i.name="QP$FilterParameters";i.internalSpec={key:[1,d.TYPES.STRING],value:[2,d.TYPES.STRING]};g.QP$FilterResult=a;g.QP$FilterClientNotSupportedConfig=c;g.QP$ClauseType=e;g.QPSpec=f;g.QP$FilterClauseSpec=b;g.QP$FilterSpec=h;g.QP$FilterParametersSpec=i}),98);
__d("WAWebFetchQuickPromotions",["Promise","WABase64","WACustomError","WALogger","WAPromiseRetryLoop","WAPromiseTimeout","WAQplTypes","WAWebBackendApi","WAWebBizGatingUtils","WAWebBuildConstants","WAWebCTWAConstants","WAWebCommonCTWAQplHelpers","WAWebFetchAdAccountToken","WAWebFetchQuickPromotionsQuery.graphql","WAWebFetchQuickPromotionsQuery_QPAction.graphql","WAWebFetchQuickPromotionsQuery_QPCreative.graphql","WAWebFetchQuickPromotionsQuery_QPText.graphql","WAWebFetchQuickPromotionsQuery_QPWAFilter.graphql","WAWebFetchQuickPromotionsQuery_QPWAFilterClause.graphql","WAWebFetchQuickPromotionsQuery_QuickPromotion.graphql","WAWebJobUpdateQPSurfaces","WAWebL10NCountryCodes","WAWebNetworkStatus","WAWebOrchestratorNonPersistedJob","WAWebProtobufsQuickPromotionSurfaces.pb","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRelayClient","WAWebUserPrefsMeUser","WAWebWebp","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x={type:"error"},y=1,z=1e3,A=3e3,B=h!==void 0?h:h=b("WAWebFetchQuickPromotionsQuery.graphql"),C=i!==void 0?i:i=b("WAWebFetchQuickPromotionsQuery_QuickPromotion.graphql"),D=j!==void 0?j:j=b("WAWebFetchQuickPromotionsQuery_QPCreative.graphql"),E=k!==void 0?k:k=b("WAWebFetchQuickPromotionsQuery_QPAction.graphql"),F=l!==void 0?l:l=b("WAWebFetchQuickPromotionsQuery_QPText.graphql"),G=m!==void 0?m:m=b("WAWebFetchQuickPromotionsQuery_QPWAFilterClause.graphql"),H=n!==void 0?n:n=b("WAWebFetchQuickPromotionsQuery_QPWAFilter.graphql");function I(a){d("WAWebCommonCTWAQplHelpers").qplAnnotateGraphQLError({error:a,markerId:d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,errorAnnotationName:"fetch_promotions_error",errorMessageAnnotationName:"fetch_promotions_error_message"})}function a(){return!d("WAWebBizGatingUtils").qpGraphQLEnabled()?(w||(w=b("Promise"))).resolve({type:"not-enabled"}):d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("fetchQuickPromotions",function(){return d("WAWebBackendApi").frontendSendAndReceive("getUserLocale").then(function(a){return J(a)})}).waitUntilCompleted()}function J(a){return c("WAWebNetworkStatus").waitIfOffline().then(function(){return d("WAPromiseTimeout").promiseTimeout(K(a),S()).then(function(b){if(b.type==="success"){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["fetchQuickPromotions: success"])));return d("WAWebJobUpdateQPSurfaces").updateQPSurfacesFromGraphQLFetch(b.quickPromotions,a).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,d("WAQplTypes").QuickLogActionType.SUCCESS);return b})["catch"](function(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["fetchQuickPromotions: failed while saving to the DB: ",""])),String(a)).devConsole(a);I(a);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,d("WAQplTypes").QuickLogActionType.FAIL);return{type:"error"}})}b.type;d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(['fetchQuickPromotions: failed as "','"'])),b.type);return b})["catch"](function(a){if(a instanceof d("WACustomError").TimeoutError){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,"fetch_promotions_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,d("WAQplTypes").QuickLogActionType.ABORTED);d("WALogger").WARN(r||(r=babelHelpers.taggedTemplateLiteralLoose(['fetchQuickPromotions: failed as "timeout"'])));return{type:"timeout"}}throw a})})}function K(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,"fetch_promotions_start");return d("WAWebFetchAdAccountToken").fetchToken().then(function(b){if(b.type==="success")return L(b.token,a).then(function(a){if(a.type==="success"){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,"fetch_promotions_end");return a}d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,"fetch_promotions_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.FETCH_QUICK_PROMOTIONS,d("WAQplTypes").QuickLogActionType.FAIL);a.type==="auth-failure"?d("WAWebFetchAdAccountToken").markTokenAsInvalid():a.type;return a});b.type;return b})}function L(a,b){var c=y,e=function(d){return M(a,b).then(function(a){if(a.type==="success")d(a);else{var b=c>0;c--;b||d(a)}})["catch"](function(a){var b=c>0;c--;if(!b)throw a})};e=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"fetchQuickPromotions",timer:{algo:{type:"exponential",first:z},max:A},code:e});e.start();return e.promise()}function M(a,c){var e,f=Array.from(d("WAWebBizGatingUtils").qpSurfaceIdsUsingGraphQL());if(f.length===0)return(w||(w=b("Promise"))).resolve({type:"not-enabled"});e=(e=d("WAWebUserPrefsMeUser").getMaybeMePnUser())==null?void 0:e.user;if(e==null)return(w||(w=b("Promise"))).resolve({type:"error"});e=d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(e);var g;return d("WAWebRelayClient").fetchQuery(B,{nux_ids:f,trigger_context:{wa_smb_trigger_context:{is_from_wa_smb:!0,app_version:d("WAWebBuildConstants").VERSION_BASE,country:e,locale:c}}},{environmentType:"facebook",accessToken:a,getInlineDataReader:function(a){g=a}}).then(function(a){if(a==null)return x;a=a.quick_promotion_batch_fetch_root;var b=new Map();f.forEach(function(a){var c=R(a);if(c==null){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["fetchQuickPromotions: could not find "," in reverse mapping"])),a).sendLogs("quick-promotions-graphql-missing-surface");return}b.set(a,{id:c,promotions:[]})});a.forEach(function(a){var c=a.surface_nux_id;a=a.eligible_promotions;if(c==null||a==null)return;var e=b.get(c);if(e==null){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["fetchQuickPromotions: received unexpected nux ID ",""])),c);return}c=a.edges;c.forEach(function(a){if(a==null)return;var b=a.node,c=a.priority,f=a.time_range,h=a.is_holdout,i=a.log_eligibility_waterfall;a=a.client_ttl_seconds;if(b==null)return;b=g(C,b);var j=b.promotion_id,k=b.creatives,l=b.is_server_force_pass,m=b.content_attributes,n=b.ab_prop_name,o=b.wa_qp_content_attributes_do_not_use,p=b.contextual_filters_for_wa_do_not_use,q=b.surface_delay_in_seconds,r=b.user_interaction_info,s=b.encrypted_logging_data;b=b.client_side_dry_run;if(j==null||l==null||m==null||q==null)return;var t=m.wa_eligible_duration_after_impression_in_seconds,w=m.wa_banner_background_color;m=m.wa_primary_cta_alternative_url;if(t==null)return;k=k.map(function(a){return g(D,a)});k=k[0];var x,y,z,A,B;if(k!=null){var G=k.primary_action,H=k.title,I=k.content,J=k.wa_dark_mode_media_details,K=k.wa_light_mode_media_details,L=k.accessibility_text_for_image;if(H==null||I==null)return;y=g(F,H).text;z=g(F,I).text;if(G!=null){H=g(E,G);I=H.title;G=H.url;if(I!=null){H=g(F,I);H.text!=null&&(x={text:H==null?void 0:H.text,deepLink:G,universalLink:m})}}A=k.is_dismissible;if(L!=null){var M;try{(K==null?void 0:K.jpeg_thumbnail)!=null&&(M={elementValue:new Uint8Array(d("WABase64").decodeB64(K.jpeg_thumbnail))})}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["fetchQuickPromotions: failed to decode base64 for light mode media details"])))}var N;try{(J==null?void 0:J.jpeg_thumbnail)!=null&&(N={elementValue:new Uint8Array(d("WABase64").decodeB64(J.jpeg_thumbnail))})}catch(a){d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["fetchQuickPromotions: failed to decode base64 for dark mode media details"])))}B={description:L,light:M,dark:N}}}if(y==null||z==null||A==null)return;I=w!=null?{lightHighlight:w.light_mode_highlight_color,lightBackground:w.light_mode_background_color,darkHighlight:w.dark_mode_highlight_color,darkBackground:w.dark_mode_background_color}:void 0;H=o.reduce(function(a,b){var c=b.name;b=b.value;if(c==null||b==null)return a;a.push({key:c,value:b});return a},[]);var O;if(r!=null){G=r.dismiss_click_count_for_user;m=r.impression_count_for_user;k=r.primary_click_count_for_user;K=r.secondary_click_count_for_user;J=r.dismiss_max_instances;L=r.impression_max_instances;w=r.primary_click_max_instances;if(m==null||k==null||K==null||G==null||L==null||w==null||J==null)return;O={promotionConfig:{maxImpressions:L,maxDismisses:J,maxPrimaryClicks:w,maxSecondaryClicks:0},userInfo:{impressionCount:m,primaryClickCount:k,secondaryClickCount:K,dismissClickCount:G}}}o=p!=null?P(p,g):void 0;r=s!=null?{elementValue:d("WAWebWebp").stringToUint8(s)}:void 0;L={id:j,qpConfigPriority:c,qpConfigDismissable:A?"true":"false",qpConfigEligibilityDurationMs:t*1e3,qpConfigEndTimeSeconds:f.end,qpConfigExperimentKey:n,qpConfigExposureHoldout:h?"true":"false",qpConfigForcePass:l?"true":"false",qpConfigLogEligibilityWaterfall:i?"true":"false",qpConfigStartTimeSeconds:f.start,qpConfigSurfaceDelayTimeSeconds:q,qpConfigTtlSeconds:a,qpConfigClientSideDryRun:b===!0?"true":"false",titleElementValue:y,textElementValue:z,colors:I,contentAttributes:{attribute:H},image:B,primaryAction:x,qpConfigPacing:O,qpConfigFilterRules:o,header:void 0,instanceId:void 0,qpConfigDeterministic:"true",qpConfigImpressionCooldown:-1,qpConfigInstanceLogData:r,qpConfigMaxImpressions:-1,qpConfigTemplateName:"whatsapp_banner",qpConfigTriggersTrigger:[],secondaryAction:void 0};e.promotions.push(L)})});return{type:"success",quickPromotions:Array.from(b.values(),function(a){var b=a.id;a=a.promotions;return{id:b,promotions:[].concat(a)}})}})["catch"](function(a){I(a);return d("WAWebFetchAdAccountToken").hasGraphQLAuthError(a)?{type:"auth-failure"}:x})}function N(a){switch(a){case"AND_TYPE":return d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$ClauseType.AND;case"OR_TYPE":return d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$ClauseType.OR;case"NOR_TYPE":return d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$ClauseType.NOR;default:a;throw c("err")("Unexpected future filter clause type")}}function O(a){switch(a){case"PASS":return d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$FilterResult.TRUE;case"FAIL":return d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$FilterResult.FALSE;case"UNKNOWN":return d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$FilterResult.UNKNOWN;default:a;throw c("err")("Unexpected future filter result")}}function P(a,b){var c=b(G,a),d=c.clause_type;c=c.filters;a=a.clauses;if(d==null)return;a=a!=null?a.map(function(a){return P(a,b)}).filter(Boolean):[];c=c.map(function(a){return Q(a,b)}).filter(Boolean);d={clauseType:N(d),clauses:a,filters:c};return d}function Q(a,b){b=b(H,a);a=b.filter_name;var c=b.parameters,e=b.passes_if_client_not_supported;b=b.filter_result;if(a==null)return;c=c.reduce(function(a,b){var c=b.key;b=b.value;if(c==null||b==null)return a;a.push({key:c,value:b});return a},[]);a={filterName:a,parameters:c,clientNotSupportedConfig:e===!0?d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$FilterClientNotSupportedConfig.PASS_BY_DEFAULT:d("WAWebProtobufsQuickPromotionSurfaces.pb").QP$FilterClientNotSupportedConfig.FAIL_BY_DEFAULT,filterResult:b!=null?O(b):void 0};return a}function R(a){for(var b of d("WAWebCTWAConstants").KNOWN_QP_SURFACES.entries()){var c=b[0],e=b[1];if(e===a)return c}}function S(){return d("WAWebFetchAdAccountToken").getMaximumAdAccountFetchTimeoutSeconds()*1e3+d("WAWebCTWAConstants").QP_FETCH_TIMEOUT_MS*(y+1)}g.fetchQuickPromotions=a}),98);
__d("WAWebListItem.react",["WAWebCompatibility","react","shallowEqual","stylex","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k;b=k||d("react");var l=i||(i=c("react"));e=b.memo;var m=b.useState,n={item:{position:"x10l6tqk",width:"xh8yej3",":hover_zIndex":"x1g42fcv",$$css:!0}},o=200,p=d("WAWebCompatibility").compatPrefix("transform"),q=d("WAWebCompatibility").compatPrefix("transition");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=a.data,e=a.zIndex,f=a.renderItem,g=a.testid;g=a.index;var i=m(!0),k=i[0];i=i[1];var s=c("useWAWebPrevious")(d.itemKey),t=c("useWAWebPrevious")(d.offset);s=r(a,s,t);s!==k&&i(s);t=k?p+" "+o+"ms ease-in-out":"none";k=a.listDirection==="horizontal"?(i={width:d.width},i[p]="translateX("+d.offset+"px)",i):(s={height:d.height},s[p]="translateY("+d.offset+"px)",s);s=babelHelpers["extends"]((i={zIndex:e},i[q]=t,i),k);e=f(d,g);return l.jsx("div",{ref:b,className:(j||(j=c("stylex")))([n.item]),style:s,onFocus:a.onFocus,role:a.role,"data-testid":void 0,children:e})}a.displayName=a.name+" [from "+f.id+"]";function r(a,b,c){if(!a.animate)return!1;var d=a.data.itemKey;return d!==b?!1:a.data.offset!==c}b=function(a,b){return a.animate===b.animate&&a.zIndex===b.zIndex&&a.renderItem===b.renderItem&&c("shallowEqual")(a.data,b.data)};d=e(a,b);g["default"]=d}),98);
__d("useWAWebAnimationFrames",["WAStartAnimationLoop","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){b=b!=null?b:{};var c=b.active,e=c===void 0?!1:c;c=b.delay;var f=c===void 0?0:c,g=j(a);g.current=a;var h=j();i(function(){var a=function(a){return g.current(a)},b=function(){return h.current==null?void 0:h.current()};b();e&&(h.current=d("WAStartAnimationLoop").startAnimationLoop(a,{delay:f}));return b},[e,f])}g["default"]=a}),98);
__d("WAWebFlatList.react",["WACustomError","WAWebFocusTracer","WAWebIdleTaskRunner","WAWebKeyboardHotKeys.react","WAWebListItem.react","WAWebVelocityTransitionGroup","err","react","stylex","useWAWebAnimationFrames","useWAWebDebouncedCallback","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j,k;b=k||d("react");var l=i||(i=c("react")),aa=b.createRef,ba=b.useEffect,ca=b.useImperativeHandle,da=b.useLayoutEffect,m=b.useRef,n=b.useState,o={viewport:{position:"x1n2onr6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},verticalListViewport:{marginTop:"x1y332i5",$$css:!0},horizontalListViewport:{height:"x5yr21d",$$css:!0}},ea=72,p=72,fa=150;e=function(a){function b(b){return a.call(this,"Unknown data encountered while rendering. Item key: "+b.itemKey)||this}babelHelpers.inheritsLoose(b,a);return b}(d("WACustomError").customError("UnknownDataError"));function q(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h);a=e.role;var f=e.itemRole,g=f===void 0?"listitem":f,i=e.flatListController,k=e.direction;f=e.itemEnterAnimationsEnabled;f=f===void 0?!1:f;var q=e.onPointerEventsOff,u=e.onPointerEventsOn,v=e.disablePointerEventsOnScroll,w=v===void 0?!0:v;v=e.reorderAnimationsEnabled;var ha=v===void 0?!0:v,ia=e.renderItem;v=e.defaultItemWidth;var x=v===void 0?ea:v;v=e.defaultItemHeight;var y=v===void 0?p:v;v=e.extraItems;var z=v===void 0?5:v;v=e.forceConsistentRenderCount;var ja=v===void 0?!0:v;v=e.testid;v=e.className_DONOTUSE;var A=e.containerXstyles,ka=e.viewportXstyles,B=e.handleKeyboardNavigation,C=B===void 0?!1:B,D=e.focusableItemSelector,la=e.initialActiveOptionId;B=e.tabIndex;var E=ga(e.data,k,x,y),F=E.enhancedData,G=E.listLength,H=m(null),I=m(!0),J=m(null);E=n(0);var K=E[0],L=E[1];E=n(0);var M=E[0],N=E[1];E=n(0);var O=E[0],ma=E[1];E=n(0);var na=E[0],oa=E[1];E=n(0);var P=E[0],pa=E[1];E=n(G);var Q=E[0],R=E[1],S=m(0),T=function(a){a=a!=null?a:{};var b=a.scrollFromStart;b=b===void 0?O:b;var d=a.offsetFromStart;d=d===void 0?na:d;a=a.bodyDimension;a=a===void 0?P:a;if(a===void 0||d===void 0)throw c("err")("FlatList:Computing FlatList without a valid Container");var e=0;for(var f=0;f<F.length;f++){var g=F[f],h=r(g,k,x,y);if(d+g.offset+h>b){e=f;break}}g=F.length-1;h=0;F.length>0&&(h=ja?Math.min(F[e].offset+a,G):Math.min(b+a,G+d));for(f=e;f<F.length;f++){b=F[f];a=r(b,k,x,y);if(d+b.offset+a>=h){g=f;break}}b=z;a=z-e;a>0&&(b+=a);f=z;h=g+z-F.length;h>0&&(f+=h);return{firstIndex:Math.max(e-f,0),lastIndex:Math.min(g+b,F.length-1)}},qa=c("useWAWebStableCallback")(function(a){var b=H.current;if(!b)return;b=k==="horizontal"?b.getBoundingClientRect().left-a.position.left:b.getBoundingClientRect().top-a.position.top;b=Math.max(b,0);a=k==="horizontal"?a.width:a.height;var c=T({offsetFromStart:b,bodyDimension:a});L(c.firstIndex);N(c.lastIndex);oa(b);pa(a)});E=n(!1);var U=E[0],V=E[1],W=m(!1),ra=c("useWAWebDebouncedCallback")(function(){if(U)return ra();J.current!=null&&(d("WAWebIdleTaskRunner").UIBusyTasks.clearBusy(J.current),J.current=null);u==null||u();var a=H.current;a&&(a.style.pointerEvents="auto");I.current=!1},fa),sa=function(){J.current=d("WAWebIdleTaskRunner").UIBusyTasks.setBusy(J.current);if(I.current)return;q==null||q();var a=H.current;a&&(a.style.pointerEvents="none");I.current=!0};c("useWAWebAnimationFrames")(function(){w===!0&&sa();var a=i.getScrollFromStart();if(a==null)throw c("err")("FlatList:ScrollEvent thrown while container is unmounted");a=Math.max(a,0);var b=T({scrollFromStart:a});L(b.firstIndex);N(b.lastIndex);ma(a);W.current||(V(!1),w===!0&&ra())},{active:U});var ta=function(){!U?(W.current=!1,V(!0)):W.current=!0};da(function(){i.registerList({handleLayout:qa,handleScroll:ta});return function(){i.unregisterList()}},[]);E=T();E.firstIndex!==K&&L(E.firstIndex);E.lastIndex!==M&&N(E.lastIndex);G!==Q&&(!f||G>Q)&&R(G);var ua=function(a,b){b===void 0&&(b=0);if(a<0||a>=F.length)throw c("err")("Flatlist: Invalid index for scrolling: "+a+". Data length: "+F.length);a=F[a].offset;(a<O-b||a>O+P+b)&&i.setScrollFromStart(a)},va=function(){var a;(a=H.current)==null||a.focus()};ca(b,function(){return{scrollIntoViewIfNeeded:ua,setFocus:va}});E=k==="horizontal"?{width:Q}:{height:Q};b=function(){R(G)};var X=m(new Map()),wa=function(a,b,d){var f=k==="horizontal"?{width:s(b,x)}:{height:t(b,y)},h=aa();e.handleKeyboardNavigation===!0&&X.current.set(b.dataIndex,h);return l.jsx(c("WAWebListItem.react"),{ref:h,data:babelHelpers["extends"]({},b,f),animate:ha,zIndex:F.length-d-1,renderItem:ia,listDirection:k,testid:void 0,role:g,onFocus:function(){S.current=b.dataIndex},index:b.dataIndex},a)};Q=F.slice(K,M+1);K=Q.map(function(a,b){return wa(a.itemKey,a,b)});var xa=function(a){var b;return(b=H.current)!=null&&b.contains(document.activeElement)&&document.activeElement!==H.current?S.current+a:0},Y=function(a){if(typeof D==="string"){a=a.querySelector(D);c("WAWebFocusTracer").focus(a)}};M=function(a){a.preventDefault();a=xa(-1);a=X.current.get(a);a!=null&&a.current&&Y(a.current)};Q=function(a){a.preventDefault();a=xa(1);a=X.current.get(a);a!=null&&a.current&&Y(a.current)};var Z;C&&k==="vertical"?Z={up:M,down:Q}:C&&k==="horizontal"&&(Z={left:M,right:Q});ba(function(){var a=F.findIndex(function(a){return a.itemKey===la});a!=null&&a>-1&&ua(a)},[]);var $;v!=null&&($=v);A!=null&&($=(j||(j=c("stylex")))(A));M=-1;B!=null?M=B:C===!0&&(M=0);return l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{tabIndex:M,handlers:Z,className:$,"data-testid":void 0,onFocus:function(){if(C&&H.current===document.activeElement){var a=X.current.get(S.current);a!=null&&a.current&&Y(a.current)}},ref:H,children:l.jsx("div",{"aria-label":e["aria-label"],className:(j||(j=c("stylex")))(k==="horizontal"&&o.horizontalListViewport,k==="vertical"&&o.verticalListViewport,o.viewport,ka),role:a,"aria-rowcount":e["aria-rowcount"],style:E,children:f?l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",onAnimationComplete:b,children:K}):K})})}q.displayName=q.name+" [from "+f.id+"]";function a(){return q}function ga(a,b,c,d){var e=0,f=0;a=a.map(function(a){var g=babelHelpers["extends"]({},a,{offset:e,dataIndex:f});a=r(a,b,c,d);e+=a;f++;return g});return{enhancedData:a,listLength:e}}function r(a,b,c,d){return b==="horizontal"?s(a,c):t(a,d)}function s(a,b){return a.width!=null&&a.width>0?a.width:b}function t(a,b){return a.height!=null&&a.height>0?a.height:b}g.DEFAULT_ITEM_HEIGHT=p;g.UnknownDataError=e;g.FlatListFactory=a}),98);
__d("WAWebFlatListController",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.registerContainer=function(a){this.$1=a,this.$2&&a.onRegisterList()};b.unregisterContainer=function(){this.$1=null};b.triggerScroll=function(){this.$2&&this.$2.handleScroll()};b.triggerLayout=function(a){this.$2&&this.$2.handleLayout(a)};b.registerList=function(a){this.$2=a,this.$1&&this.$1.onRegisterList()};b.unregisterList=function(){this.$2=null};b.getScrollFromStart=function(){if(this.$1)return this.$1.getScrollFromStart()};b.setScrollFromStart=function(a){this.$1&&this.$1.setScrollFromStart(a)};return a}();f["default"]=a}),66);
__d("WAWebInlineCodeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="inline-code";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"m8 18-6-6 6-6 1.425 1.425-4.6 4.6L9.4 16.6zm8 0-1.425-1.425 4.6-4.6L14.6 7.4 16 6l6 6z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.InlineCodeIcon=a}),98);
__d("WAWebItalicIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="italic";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M5 19v-2.5h4l3-9H8V5h10v2.5h-3.5l-3 9H15V19z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ItalicIcon=a}),98);
__d("WAWebKeyboardShortcuts",["$InternalEnum","WAWebActions","WAWebEnvironment","WAWebUA"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["Command","Option","Control"]),i={mac:[h.Command,h.Control],windows:[h.Control,h.Option]},j=function(){return{mac:d("WAWebUA").UA.browser==="firefox"?[h.Command,h.Control]:[h.Command],windows:[h.Option]}},k=["ArrowUp","ArrowDown","w","f","]","[","A","a","H","Backspace","Tab","{","}","Escape","n","N","p",",","/","F","E","M","P","U",">","<","e","g","G","s","S","k","l","b","B","Delete","DELETE","r","y","R","d","i","X","I","K","Shift+7","Shift+8","Shift+.","Shift+Tab","Enter"," ","7","8",".","*","&","t","+","=","-","_","0","F4"];function l(a){return k.includes(a)?a:null}function m(a){var b=c("WAWebEnvironment").isWindows;switch(a){case d("WAWebActions").Action.OPEN_NTH_CHAT:return[];case d("WAWebActions").Action.CONTACT_US:return[{key:"H"}];case d("WAWebActions").Action.GO_TO_NEXT_CHAT:a=[{key:"Tab",hybridKey:"]",hybridModifiers:[h.Control]},{key:"}"}];b&&a.push({key:"}",hybridModifiers:[h.Control]},{key:"Tab",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.GO_TO_PREV_CHAT:a=[{key:"Shift+Tab",hybridKey:"[",hybridModifiers:[h.Control]},{key:"{"}];b&&a.push({key:"{",hybridModifiers:[h.Control]},{key:"Shift+Tab",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.CLOSE_CHAT:a=[{key:"Escape",webModifiers:{mac:[],windows:[]}}];b&&a.push({key:"w",hybridModifiers:[h.Control]},{key:"F4",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.LOGOUT:return[];case d("WAWebActions").Action.OPEN_NEW_CHAT:a=[{key:"n",hybridModifiers:[h.Control,h.Option]}];b&&a.push({key:"n",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.OPEN_NEW_GROUP:return[{key:"N",hybridModifiers:[h.Control]}];case d("WAWebActions").Action.OPEN_PROFILE:a=[{key:"p",hybridModifiers:[h.Control,h.Option]}];b&&a.push({key:"p",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.OPEN_SETTINGS:return[{key:",",hybridKey:"s",hybridModifiers:[h.Option]}];case d("WAWebActions").Action.SEARCH:a=[{webKey:"/"}];b&&a.push({key:"f",hybridKey:"f",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.SEARCH_IN_CHAT:return[{key:"F",webModifiers:{mac:[h.Command],windows:[h.Control]},hybridModifiers:[h.Control]}];case d("WAWebActions").Action.TOGGLE_ARCHIVE:return[{key:"E",hybridKey:"A",hybridModifiers:[h.Control]}];case d("WAWebActions").Action.TOGGLE_MUTE:return[{key:"M",hybridModifiers:[h.Control]}];case d("WAWebActions").Action.TOGGLE_PIN:return[{key:"P"}];case d("WAWebActions").Action.TOGGLE_UNREAD:return[{key:"U",hybridModifiers:[h.Control]}];case d("WAWebActions").Action.INCREASE_PTT_SPEED:return[{key:">",hybridKey:">",hybridModifiers:[]}];case d("WAWebActions").Action.DECREASE_PTT_SPEED:return[{key:"<",hybridKey:"<",hybridModifiers:[]}];case d("WAWebActions").Action.OPEN_EMOJI_PANEL:a=[{key:"e",hybridModifiers:[h.Control,h.Option]}];b&&a.push({key:"E",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.OPEN_GIF_PANEL:a=[{key:"g",hybridModifiers:[h.Control,h.Option]}];b&&a.push({key:"G",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.OPEN_STICKER_PANEL:a=[{key:"s",hybridModifiers:[h.Control,h.Option]}];b&&a.push({key:"S",hybridModifiers:[h.Control]});return a;case d("WAWebActions").Action.TOGGLE_STICKER_MAKER:return[{key:"S"}];case d("WAWebActions").Action.TOGGLE_COMMAND_PALETTE:return[{key:"k",webModifiers:j(),hybridModifiers:[h.Option]}];case d("WAWebActions").Action.LOCK_SCREEN:return[{key:"l",hybridModifiers:[h.Option]}];case d("WAWebActions").Action.TOGGLE_BOLD:return[{key:"b",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_ITALIC:return[{key:"i",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_STRIKETHROUGH:return[{key:"X",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_INLINE_CODE:return[{key:"I",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_CODE:return[{key:"K",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_NUMBERED_LIST:return[{key:"Shift+7",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_BULLETED_LIST:return[{key:"Shift+8",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_QUOTE:return[{key:"Shift+.",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.TOGGLE_THEME:return[{webKey:"t"}];case d("WAWebActions").Action.ZOOM_IN:return[{key:"+",webModifiers:{mac:[h.Command],windows:[h.Control]}},{key:"=",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.ZOOM_OUT:return[{key:"-",webModifiers:{mac:[h.Command],windows:[h.Control]}},{key:"_",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.ZOOM_RESET:return[{key:"0",webModifiers:{mac:[h.Command],windows:[h.Control]}}];case d("WAWebActions").Action.OPEN_CHAT_INFO:return[{key:"i",hybridKey:"i",webModifiers:{mac:[h.Option],windows:[h.Option]},hybridModifiers:[h.Option]}];case d("WAWebActions").Action.BLOCK_CHAT:return[{key:"B",hybridKey:"B",webModifiers:{mac:[h.Control],windows:[h.Control]},hybridModifiers:[h.Control]}];case d("WAWebActions").Action.REPLY:return[{key:"r",hybridKey:"r",webModifiers:{mac:[h.Option],windows:[h.Option]},hybridModifiers:[h.Option]}];case d("WAWebActions").Action.REPLY_PRIVATE:return[{key:"r",hybridKey:"r",webModifiers:{mac:[h.Control,h.Option],windows:[h.Control,h.Option]},hybridModifiers:[h.Control,h.Option]}];case d("WAWebActions").Action.FORWARD:return[{key:"d",hybridKey:"d",webModifiers:{mac:[h.Control,h.Option],windows:[h.Control,h.Option]},hybridModifiers:[h.Control,h.Option]}];case d("WAWebActions").Action.STAR_MESSAGE:return[{key:"8",hybridKey:"8",webModifiers:{mac:[h.Option],windows:[h.Option]},hybridModifiers:[h.Option]}];case d("WAWebActions").Action.EDIT_LAST_MESSAGE:return[{key:"ArrowUp",hybridKey:"ArrowUp",webModifiers:{mac:[h.Command],windows:[h.Command]},hybridModifiers:[h.Control]}];case d("WAWebActions").Action.OPEN:return[{key:"Enter",hybridKey:"Enter",hybridModifiers:[],webModifiers:{mac:[],windows:[]}}];case d("WAWebActions").Action.OPEN_ATTACHMENT_DROPDOWN:return[{key:"a",hybridKey:"a",webModifiers:{mac:[h.Option],windows:[h.Option]},hybridModifiers:[h.Option]}];case d("WAWebActions").Action.START_PTT_RECORDING:return[{key:"R",hybridKey:"R",webModifiers:{mac:[h.Control,h.Option],windows:[h.Control,h.Option]},hybridModifiers:[h.Control,h.Option]}];case d("WAWebActions").Action.PAUSE_PTT_RECORDING:return[{key:"p",hybridKey:"p",webModifiers:{mac:[h.Option],windows:[h.Option]},hybridModifiers:[h.Option]}];case d("WAWebActions").Action.SEND_PTT:return[{key:"Enter",hybridKey:"Enter",webModifiers:{mac:[h.Control],windows:[h.Control]},hybridModifiers:[h.Control]}]}}var n=f(Array.from(d("WAWebActions").Action.members()),m);function o(a){var b=a.modifiers,e=b.mac;b=b.windows;a=a.hybridModifiers;e=d("WAWebUA").UA.os===d("WAWebUA").OS_TYPE.MAC?e:b;b=c("WAWebEnvironment").isWindows;b&&a.length!==0&&(e=a);return e}function a(a,b){b===void 0&&(b=n);var c=a.key,d=a.ctrlKey,e=a.metaKey,f=a.altKey;a=a.shiftKey;if(c==="Control"||c==="Meta"||c==="Alt"||c==="Shift")return void 0;c=p(c,a);a=l(c);if(a==null)return void 0;c=b[a];if(!c)return void 0;for(b of c){a=b.action;c=o(b);c=[c.includes(h.Command)===e,c.includes(h.Control)===d,c.includes(h.Option)===f].every(Boolean);if(c)return a}return void 0}function e(a){if(a.ctrlKey)if(a.deltaY<0)return d("WAWebActions").Action.ZOOM_IN;else if(a.deltaY>0)return d("WAWebActions").Action.ZOOM_OUT;return void 0}function f(b,a){var d={};Array.from(b).forEach(function(b){a(b).forEach(function(a){var e=a.key,f=a.webKey,g=a.webModifiers;g=g===void 0?i:g;var h=a.hybridModifiers;a=a.hybridKey;a=c("WAWebEnvironment").isWindows&&a?a:f!=null?f:e;if(a==null)return;d[a]||(d[a]=[]);d[a].push({action:b,modifiers:g,hybridModifiers:h!=null?h:[]})})});Object.keys(d).forEach(function(a){d[a]=d[a].sort(function(a,b){return o(b).length-o(a).length})});return d}function p(a,b){if(b){if(a==="Tab"||a==="Enter"||a==="Backspace"||a===" ")return"Shift+"+a;if(a>="a"&&a<="z")return a.toUpperCase();if(a==="Delete")return"DELETE";switch(a){case"7":case"&":return"Shift+7";case"8":case"*":return"Shift+8";case".":case">":return"Shift+."}}return/^[A-Z]$/.test(a)&&!b?a.toLowerCase():a}function q(a){a=m(a);if(a.length){var b=c("WAWebEnvironment").isWindows;a=a[0];var d=a.key,e=a.webKey;a=a.hybridKey;return b&&a?a:e!=null?e:d}return void 0}function r(a){a=m(a);if(a.length){a=a[0];var b=a.webModifiers;b=b===void 0?i:b;a=a.hybridModifiers;var e=d("WAWebUA").UA.os===d("WAWebUA").OS_TYPE.MAC,f=c("WAWebEnvironment").isWindows;b=e?b.mac:b.windows;f&&a&&(b=a);return b.map(function(a){switch(a){case h.Command:return"Cmd";case h.Option:return e?"Option":"Alt";case h.Control:return"Ctrl"}})}return void 0}g.Modifier=h;g.getAction=a;g.getActionFromMouseEvent=e;g.buildShortcutMap=f;g.getShortcutKey=q;g.getShortcutDisplayModifiers=r}),98);
__d("WAWebKeyboardShortcut.react",["WAWebActions","WAWebFlex.react","WAWebKeyboardShortcuts","react"],(function(a,b,c,d,e,f,g){var h=["children"],i,j=i||c("react"),k="Shift+",l={key:{backgroundColor:"xmhyiyy",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x1cienrf",borderInlineEndColor:"x1eproq3",borderBottomColor:"x1ntcio7",borderInlineStartColor:"x1dd54ck",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",boxShadow:"xx8lszd",color:"x1wm35g",fontSize:"x1pg5gke",$$css:!0}};function m(a){a=a.value;return j.jsx(d("WAWebFlex.react").FlexItem,{inline:!0,xstyle:l.key,padding:[4,8],children:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(d("WAWebFlex.react").FlexRow,babelHelpers["extends"]({inline:!0,align:"center",gap:4},a,{children:b}))}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.action;a=a.addModifiers;a=a===void 0?!0:a;if(b===d("WAWebActions").Action.OPEN_NTH_CHAT)return j.jsxs(n,{children:[j.jsx(m,{value:"Ctrl"}),j.jsx(m,{value:"1..9"})]});var c=d("WAWebKeyboardShortcuts").getShortcutKey(b);if(!c)return null;c=p(c,!0);var e=c.indexOf(k);e===-1?e=j.jsx(m,{value:c}):e=j.jsxs(j.Fragment,{children:[j.jsx(m,{value:"Shift"}),j.jsx(m,{value:c.substr(k.length)})]});c=a?o(b):null;return j.jsxs(n,{children:[c,e]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){a=d("WAWebKeyboardShortcuts").getShortcutDisplayModifiers(a);return!a?[]:a.map(function(a){return j.jsx(m,{value:a},a)})}function p(a,b){b===void 0&&(b=!1);if(a.length!==1&&a!=="DELETE")return a;switch(a){case">":return k+".";case"<":return k+",";case"7":return k+"7";case"8":return b?"8":k+"8";case"DELETE":return k+"Delete"}return a.toLowerCase()!==a?""+k+a:a.toUpperCase()}g.KeyboardKey=m;g.KeyboardKeyGroup=n;g.KeyboardShortcut=a;g.expandRawShortcut=p}),98);
__d("WAWebMonospaceIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="monospace";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{clipPath:"url(#a)",children:[k.jsx("path",{d:"m11.593 11.859 2.295-7.08h3.76V19h-3.101v-8.716l-1.831 5.737-2.222-.012-1.929-5.969V19h-3.1V4.779h3.857z",fillOpacity:.5}),k.jsx("path",{d:"m11.593 11.786 2.453-7.007h3.418V19h-2.697V9.027l-2.185 6.616-1.966-.012-2.27-6.677V19H5.648V4.779H9.15z"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"a",children:k.jsx("path",{d:"M0 0h24v24H0z"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MonospaceIcon=a}),98);
__d("WAWebNumberedListIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="numbered-list";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M3 22v-1.5h2.5v-.75H4v-1.5h1.5v-.75H3V16h3q.424 0 .713.288Q7 16.575 7 17v1q0 .424-.287.712A.97.97 0 0 1 6 19q.424 0 .713.288Q7 19.575 7 20v1q0 .424-.287.712A.97.97 0 0 1 6 22zm0-7v-2.75q0-.424.288-.713A.97.97 0 0 1 4 11.25h1.5v-.75H3V9h3q.424 0 .713.287Q7 9.576 7 10v1.75q0 .424-.287.713A.97.97 0 0 1 6 12.75H4.5v.75H7V15zm1.5-7V3.5H3V2h3v6zM9 19v-2h12v2zm0-6v-2h12v2zm0-6V5h12v2z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NumberedListIcon=a}),98);
__d("WAWebStrikethroughIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="strikethrough";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"currentColor",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M13.99 15.27q0-.83-.586-1.27-.585-.45-2.11-.937L11.107 13H4v-2h16v2h-3.76q.69.96.69 2.25 0 1.845-1.397 2.9-1.396 1.045-3.76 1.045-1.64 0-2.988-.595-1.347-.606-2.06-1.65a4 4 0 0 1-.472-.951l2.451-.98c.145.303.363.651.667.962l.014.019h.004a2.87 2.87 0 0 0 1.971.867q.199.014.413.014 1.045 0 1.631-.42.586-.43.586-1.191M10.548 10h-3.79a3.5 3.5 0 0 1-.297-1.44q0-1.152.644-2.05.655-.909 1.866-1.416 1.22-.508 2.734-.508 1.523 0 2.715.557 1.191.546 1.846 1.552.26.394.418.831l-2.492.997C13.85 7.823 13 7 11.656 6.92q-1.074 0-1.67.459a1.42 1.42 0 0 0-.595 1.191q0 .694.693 1.162.204.136.464.268"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StrikethroughIcon=a}),98);
__d("WAWebTextFormatUtils",["$InternalEnum","Lexical","WALogger","WANullthrows","WAWebDelimiterNode","WAWebLexicalUtils","WAWebListBulletNode","WAWebListNumberNode"],(function(a,b,c,d,e,f,g){var h,i,j=b("$InternalEnum").Mirrored(["Bold","Italic","Strikethrough","Code","InlineCode","BulletedList","NumberedList","Quote"]),k=[j.BulletedList,j.NumberedList,j.Quote],l=99,m=b("$InternalEnum").Mirrored(["Remove","Add","Skip"]);function n(){var a=d("WAWebLexicalUtils").$getRangeSelection();if(!a||!a.isCollapsed())return null;var b=d("Lexical").$createTextNode("");a.insertNodes([b]);var e=[b],f=b.getPreviousSibling(),g=b.getNextSibling();while(f&&g){var h=null;for(var i of z)if(f.getTextContent().endsWith(i)&&g.getTextContent().startsWith(i)){h=i;break}if(h==null)break;i=void 0;var j=void 0,k=d("WAWebLexicalUtils").$splitText(f,f.getTextContentSize()-h.length);f=k[0];i=k[1];k=d("WAWebLexicalUtils").$splitText(g,h.length);j=k[0];g=k[1];if(i&&j){k=d("WAWebDelimiterNode").$createDelimiterNode(h,"open");h=d("WAWebDelimiterNode").$createDelimiterNode(h,"close");(i=i)==null||i.replace(k);(i=j)==null||i.replace(h);e=[k].concat(e,[h])}}if(e.length===1)return{startNode:b,startOffset:-1,endNode:b,endOffset:-1,selectedNodes:[b],isCollapsed:!0,selection:a,isMultiLines:!1};j=p(e,0,c("WANullthrows")(e[e.length-1]).getTextContentSize()-1);return!j?null:babelHelpers["extends"]({},j,{startNode:c("WANullthrows")(j.selectedNodes[0]),endNode:c("WANullthrows")(j.selectedNodes[j.selectedNodes.length-1]),isCollapsed:!0,selection:a,isMultiLines:!1})}function o(){var a=d("WAWebLexicalUtils").$getRangeSelection();if(!a)return null;if(a.isCollapsed())return n();var b=a.getNodes().filter(d("Lexical").$isTextNode);if(b.length===0)return null;var e=a.anchor.offset,f=a.focus.offset;if(a.isBackward()){var g=[f,e];e=g[0];f=g[1]}f--;g=b[0];var h=b[b.length-1];g=g.getParent()!==h.getParent();h=p(b,e,f);return!h?null:babelHelpers["extends"]({},h,{startNode:c("WANullthrows")(h.selectedNodes[0]),endNode:c("WANullthrows")(h.selectedNodes[h.selectedNodes.length-1]),isCollapsed:!1,selection:a,isMultiLines:g})}function p(a,b,c){a=[].concat(a);b=b;c=c;var e=0,f=a.length-1;d("WAWebDelimiterNode").$isDelimiterNode(a[e])&&(b=0);d("WAWebDelimiterNode").$isDelimiterNode(a[f])&&(c=a[f].getTextContentSize()-1);if(b===0){var g;while(g=a[e].getPreviousSibling()){if(!d("WAWebDelimiterNode").$isDelimiterNode(g))break;a.unshift(g);b=0;f++}}if(c===a[f].getTextContentSize()-1){while(g=a[f].getNextSibling()){if(!d("WAWebDelimiterNode").$isDelimiterNode(g))break;a.push(g);f++;c=g.getTextContentSize()-1}}var h=function(a,b){return a.getTextContent()+"-"+b},i={};a.forEach(function(a){if(!d("WAWebDelimiterNode").$isDelimiterNode(a))return;a=h(a,a.getPosition());i[a]=((a=i[a])!=null?a:0)+1});while(!0){g=a[e];if(g==null||g===a[f]&&b>c)return null;if(d("WAWebDelimiterNode").$isDelimiterNode(g)&&!g.isOpen()||d("WAWebDelimiterNode").$isDelimiterNode(g)&&!i[h(g,"close")]||b===g.getTextContentSize()){e++;b=0;continue}if(g.getTextContent()[b]===" "){b++;continue}break}while(!0){g=a[f];if(g==null||g===a[e]&&b>c)return null;if(d("WAWebDelimiterNode").$isDelimiterNode(g)&&g.isOpen()||d("WAWebDelimiterNode").$isDelimiterNode(g)&&!i[h(g,"open")]||c===-1){var j;f--;c=((j=a[f])==null?void 0:j.getTextContentSize())-1;continue}if(g.getTextContent()[c]===" "){c--;continue}break}return{selectedNodes:a.slice(e,f+1),startOffset:b,endOffset:c}}function q(a,b){var c=a.selection,e=a.startOffset,f=a.endOffset,g=a.isCollapsed,h=a.startNode;a=a.endNode;if(!g&&(e!==0||f!==a.getTextContentSize()-1))if(h===a){g=h.splitText(e,f+1);h=e===0?g[0]:g[1];a=h}else{if(e!==0){g=h.splitText(e);h=g[1]}e=a.splitText(f+1);a=e[0]}g=A(b);f=d("WAWebDelimiterNode").$createDelimiterNode(g,"open");e=d("WAWebDelimiterNode").$createDelimiterNode(g,"close");h.insertBefore(f);a.insertAfter(e);g=f.getPreviousSibling();var i=g==null?void 0:g.getTextContent();i!=null&&i[i.length-1]!==" "&&!d("WAWebDelimiterNode").$isDelimiterNode(g)&&f.insertBefore(d("Lexical").$createTextNode(" "));i=e.getNextSibling();g=i==null?void 0:i.getTextContent();g!=null&&g[0]!==" "&&!d("WAWebDelimiterNode").$isDelimiterNode(i)&&e.insertAfter(d("Lexical").$createTextNode(" "));f=b!==j.InlineCode&&b!==j.Code;B(c,h,a,f)}function r(a,b){b===void 0&&(b={keepNumberedList:!1});b=b;b=b.keepNumberedList;var d=a.startNode;a=a.endNode;d=c("WANullthrows")(d.getParent());a=(a=a.getParent())==null?void 0:a.getNextSibling();while(d){var e=b&&!!d.getNumberNode();if(!e){e=(e=(e=d.getBulletNode())!=null?e:d.getNumberNode())!=null?e:d.getQuoteLineNode();if(e){var f=e.getNextSibling();e.remove();if(f){e=f.splitText(1);f=e[0];f.remove()}}}d=d.getNextSibling();if(d===a)break}}function s(a,b){var e=a.startNode,f=a.endNode;e=c("WANullthrows")(e.getParent());f=(f=f.getParent())==null?void 0:f.getNextSibling();var g=1;if(b===j.NumberedList){var h;h=parseInt((h=e)==null||(h=h.getNumberNode())==null?void 0:h.getTextContent(),10);if(h)g=h;else{var i;h=(h=e)==null?void 0:h.getPreviousSibling();h=parseInt(h==null||(i=h.getNumberNode())==null?void 0:i.getTextContent(),10);h&&(g=Math.min(h+1,l))}}r(a,{keepNumberedList:b===j.NumberedList});while(e){C(e.getFirstChild());h=e.getFirstChild();!h&&!a.isMultiLines&&(h=d("Lexical").$createTextNode(""),e.append(h));if(h)if(b===j.BulletedList)h.insertBefore(d("WAWebListBulletNode").$createListBulletNode("* "));else if(b===j.NumberedList){d("WAWebListNumberNode").$isListNumberNode(h)?g=parseInt(h.getTextContent(),10):h.insertBefore(d("WAWebListNumberNode").$createListNumberNode(g+". "));g++;if(g>l)break}else b===j.Quote&&h.insertBefore(d("WAWebListNumberNode").$createListNumberNode("> "));e=e.getNextSibling();if(e===f)break}}function t(a,b){var d=a.startOffset,e=a.endOffset,f=a.selection;a=a.selectedNodes;d=c("WANullthrows")(v(a,d,b));a=c("WANullthrows")(w(a,e,b));B(f,d,a);d.remove();a.remove()}function u(a,b){var d=a.selectedNodes,e=a.startNode,f=a.endNode,g=a.startOffset,h=a.endOffset,i=a.isMultiLines;a=a.isCollapsed;var l=k.includes(b),n=b===j.Code;if(i&&!l&&!n)return m.Skip;if(l){n=c("WANullthrows")(e.getParent());l=c("WANullthrows")(f.getParent()).getNextSibling();if(!i&&n.getTextContentSize()===0)return m.Add;i=!0;n=n;while(n){if(n.getTextContentSize()!==0&&(b===j.BulletedList&&n.getBulletNode()==null||b===j.NumberedList&&n.getNumberNode()==null||b===j.Quote&&n.getQuoteLineNode()==null)){i=!1;break}n=n.getNextSibling();if(n===l)break}return i?m.Remove:m.Add}if(e!==f&&(g!==0&&x([e]).length!==0||h+1!==f.getTextContentSize()&&x([f]).length!==0))return m.Skip;l=v(d,g,b);n=w(d,h,b);i=Boolean(l&&n);if(!i){e=a?x([d[0].getPreviousSibling(),d[0].getNextSibling()]):x(d);if(!e.some(function(a){return a===b})&&!e.some(function(a){return a===j.Code||a===j.InlineCode}))return m.Add}return i?m.Remove:m.Skip}function v(a,b,c){if(b!==0)return null;for(b of a){if(!d("WAWebDelimiterNode").$isDelimiterNode(b))break;if(b.getTextContent()===A(c))return b}return null}function w(a,b,c){if(b+1!==((b=a[a.length-1])==null?void 0:b.getTextContentSize()))return null;for(b=a.length-1;b>=0;b--){var e=a[b];if(!d("WAWebDelimiterNode").$isDelimiterNode(e))break;if(e.getTextContent()===A(c))return e}return null}function x(a){var b=[];a.forEach(function(a){if(!d("Lexical").$isTextNode(a))return;["Bold","Italic","Strikethrough"].forEach(function(d){a.hasFormat(d.toLowerCase())&&b.push(c("WANullthrows")(j.cast(d)))});if(a.hasFormat("code")){var e=a.getStyle().includes("border-radius");b.push(e?j.InlineCode:j.Code)}});return b}var y={};y[j.Bold]="*";y[j.Italic]="_";y[j.Strikethrough]="~";y[j.Code]="```";y[j.InlineCode]="`";var z=Array.from(Object.values(y));function A(a){return c("WANullthrows")(y[a])}function B(a,b,e,f){f===void 0&&(f=!0);b=b;e=e;while(f&&d("WAWebDelimiterNode").$isDelimiterNode(b)&&d("WAWebDelimiterNode").$isDelimiterNode(e)&&b.getTextContent()===e.getTextContent())b=c("WANullthrows")(b.getNextSibling()),e=c("WANullthrows")(e.getPreviousSibling());a.setTextNodeRange(b,0,e,e.getTextContentSize())}function C(a){if(!a)return;var b=a.getTextContent(),c=b.trimStart();if(c.length===0){a.remove();return}b=b.length-c.length;if(b===0)return;c=a.splitText(b);a=c[0];a.remove()}function a(a){var b=o();if(!b)return!1;var c=u(b,a);if(k.includes(a))switch(c){case m.Add:s(b,a);return!0;case m.Remove:r(b);return!0;case m.Skip:d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Unable to add/remove text format: ","."])),a);return!1}switch(u(b,a)){case m.Add:q(b,a);return!0;case m.Remove:t(b,a);return!0;case m.Skip:d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unable to add/remove text format: ","."])),a);return!1}}g.TextFormatType=j;g.TextFormatActionType=m;g.$normalizeTextSelection=o;g.$getTextFormatAction=u;g.$toggleTextFormat=a}),98);
__d("useBoolean",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b=d("react-compiler-runtime").c(5);a=i(a);var c=a[0],e=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return e(j)},b[0]=a):a=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return e(!0)},b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return e(!1)},b[2]=g):g=b[2];b[3]!==c?(a={value:c,set:e,toggle:a,setTrue:f,setFalse:g},b[3]=c,b[4]=a):a=b[4];return a}function j(a){return!a}g["default"]=a}),98);
__d("useEventHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(4),c=j(a),e,f;b[0]!==a?(e=function(){c.current=a},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];var e=b;c.current.apply(c,e)},b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("useHoverState",["react-compiler-runtime","useBoolean","useEventHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("react-compiler-runtime").c(11),f=c("useBoolean")(!1),g=f.value,h=f.set,i=f.setTrue,j=f.setFalse;e[0]!==i||e[1]!==a?(f=function(b){i(),a==null||a(b)},e[0]=i,e[1]=a,e[2]=f):f=e[2];f=c("useEventHandler")(f);var k;e[3]!==j||e[4]!==b?(k=function(a){j(),b==null||b(a)},e[3]=j,e[4]=b,e[5]=k):k=e[5];k=c("useEventHandler")(k);var l;e[6]!==f||e[7]!==k||e[8]!==g||e[9]!==h?(l={isHovered:g,onMouseEnter:f,onMouseLeave:k,setIsHovered:h},e[6]=f,e[7]=k,e[8]=g,e[9]=h,e[10]=l):l=e[10];return l}g["default"]=a}),98);
__d("useLexicalEditable",["cr:4793"],(function(a,b,c,d,e,f){e.exports=b("cr:4793")}),null);
__d("WAWebFloatingToolbarPlugin.react",["fbt","Lexical","LexicalComposerContext","LexicalUtils","ReactDOM","WANullthrows","WAWebActions","WAWebBlockQuoteIcon.react","WAWebBoldIcon.react","WAWebBulletedListIcon.react","WAWebInlineCodeIcon.react","WAWebItalicIcon.react","WAWebKeyboardShortcut.react","WAWebKeyboardShortcuts","WAWebL10N","WAWebLexicalUtils","WAWebMonospaceIcon.react","WAWebNumberedListIcon.react","WAWebStrikethroughIcon.react","WAWebTextFormatUtils","clamp","react","useHoverState","useLexicalEditable"],(function(a,b,c,d,e,f,g,h){var i=["isText"],j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p=8,q=10;function r(a,b){var c=a.getRangeAt(0);if(a.anchorNode===b){a=b;while(a.firstElementChild instanceof HTMLElement)a=a.firstElementChild;b=a.getBoundingClientRect()}else b=c.getBoundingClientRect();return b}function s(a,b,d,e){var f=d.parentElement;if(a==null||!f){b.style.opacity="0";b.style.transform="translate(-10000px, -10000px)";return}var g=b.getBoundingClientRect();d=d.getBoundingClientRect();e=e.getBoundingClientRect();f=f.getBoundingClientRect();var h=a.top-g.height-q;h-=d.top;var i=e.top-g.height-q;e=e.bottom-g.height;h=c("clamp")(h,i,e);i=0;if(!c("WAWebL10N").isRTL()){i=a.left-p;e=f.right-g.width-p;i=Math.min(e,i);i-=d.left}else{f=-(window.innerWidth-g.width-p*2);e=0;i=-(window.innerWidth-a.right-p*2);i=c("clamp")(i,f,e)}b.style.opacity="1";b.style.transform="translate("+i+"px, "+h+"px)"}function t(b){var e=b.anchorElem,f=b.blockQuoteAction,g=b.boldAction,i=b.bulletedListAction,j=b.codeAction,o=b.editor,p=b.inlineCodeAction,q=b.italicAction,t=b.numberedListAction;b=b.strikethroughAction;var v=n(null),w=n(!0),x=o.getRootElement();function y(a){if(v.current&&(a.buttons===1||a.buttons===3)){var b=v.current;if(v.current.style.pointerEvents!=="none"){var c=a.clientX;a=a.clientY;c=document.elementFromPoint(c,a);b.contains(c)||(b.style.pointerEvents="none")}}}function z(){v!=null&&v.current&&(v.current.style.pointerEvents!=="auto"&&(v.current.style.pointerEvents="auto"))}function A(a){var b=d("WAWebKeyboardShortcut.react").expandRawShortcut(c("WANullthrows")(d("WAWebKeyboardShortcuts").getShortcutKey(a)));a=(a=d("WAWebKeyboardShortcuts").getShortcutDisplayModifiers(a))!=null?a:[];return[].concat(a,[b]).join("+")}m(function(){if(v!=null&&v.current){document.addEventListener("mousemove",y);document.addEventListener("mouseup",z);return function(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",z)}}},[v]);var B=l(function(){var a=d("Lexical").$getSelection(),b=v.current,c=window.getSelection();if(b==null)return;if(a!=null&&c!=null&&!c.isCollapsed&&x!=null&&x.contains(c.anchorNode)){a=r(c,x);s(a,b,e,x)}},[e,x]);m(function(){var a=e.parentElement,b=function(){o.update(function(){B()})};window.addEventListener("resize",b);a==null||a.addEventListener("scroll",b);x==null||x.addEventListener("scroll",b);return function(){window.removeEventListener("resize",b),a==null||a.removeEventListener("scroll",b),x==null||x.removeEventListener("scroll",b)}},[o,B,e,x]);m(function(){o.getEditorState().read(function(){B()});return o.registerCommand(d("Lexical").SELECTION_CHANGE_COMMAND,function(){w.current&&B();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[o,B]);var C=function(b){o.update(function(){w.current=!1,d("WAWebTextFormatUtils").$toggleTextFormat(b),a.setTimeout(function(){w.current=!0},50)})},D=p==null||p===d("WAWebTextFormatUtils").TextFormatActionType.Skip&&j!==d("WAWebTextFormatUtils").TextFormatActionType.Skip,E=d("useLexicalEditable").useLexicalEditable();return k.jsx("div",{ref:v,className:"x78zum5 x1op4030 x1y1aw1k xf159sx xwib8y2 xmzvs34 xxymvpz x10l6tqk x13vifvy x1o0tod xg01cxk xvh3i5d xbjudin xnlwouz xpp8er5 xs9wviy x19991ni x1wsgiic x1so62im xc9l9hb",children:E&&k.jsxs(k.Fragment,{children:[k.jsx(u,{title:h._(/*BTDS*/"Bold ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_BOLD))]),action:g,icon:k.jsx(d("WAWebBoldIcon.react").BoldIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.Bold)}}),k.jsx(u,{title:h._(/*BTDS*/"Italic ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_ITALIC))]),action:q,icon:k.jsx(d("WAWebItalicIcon.react").ItalicIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.Italic)}}),k.jsx(u,{title:h._(/*BTDS*/"Strikethrough ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_STRIKETHROUGH))]),action:b,icon:k.jsx(d("WAWebStrikethroughIcon.react").StrikethroughIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.Strikethrough)}}),D&&k.jsx(u,{title:h._(/*BTDS*/"Monospace ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_CODE))]),action:j,icon:k.jsx(d("WAWebMonospaceIcon.react").MonospaceIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.Code)}}),p&&!D&&k.jsx(u,{title:h._(/*BTDS*/"Inline code ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_INLINE_CODE))]),action:p,icon:k.jsx(d("WAWebInlineCodeIcon.react").InlineCodeIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.InlineCode)}}),t&&k.jsx(u,{title:h._(/*BTDS*/"Numbered list ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_NUMBERED_LIST))]),action:t,icon:k.jsx(d("WAWebNumberedListIcon.react").NumberedListIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.NumberedList)}}),i&&k.jsx(u,{title:h._(/*BTDS*/"Bulleted list ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_BULLETED_LIST))]),action:i,icon:k.jsx(d("WAWebBulletedListIcon.react").BulletedListIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.BulletedList)}}),f&&k.jsx(u,{title:h._(/*BTDS*/"Quote ({keyboard shortcut})",[h._param("keyboard shortcut",A(d("WAWebActions").Action.TOGGLE_QUOTE))]),action:f,icon:k.jsx(d("WAWebBlockQuoteIcon.react").BlockQuoteIcon,{width:20}),onClick:function(){return C(d("WAWebTextFormatUtils").TextFormatType.Quote)}})]})})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.action,e=a.icon,f=a.onClick;a=a.title;var g=c("useHoverState")(),h=g.isHovered,i=g.onMouseEnter;g=g.onMouseLeave;var j=b===d("WAWebTextFormatUtils").TextFormatActionType.Remove;b=b===d("WAWebTextFormatUtils").TextFormatActionType.Skip;return k.jsx("button",babelHelpers["extends"]({type:"button",title:a},{0:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 x1ypdohk xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf xgguqb4"},4:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 x1ypdohk xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf x1um8urf xa7slc5 x1hc1fzr"},2:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf x1h6gzvc x17dx3ax"},6:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf xa7slc5 x1hc1fzr x1h6gzvc x17dx3ax"},1:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 x1ypdohk xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf xgguqb4 xoueugu"},5:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 x1ypdohk xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf x1um8urf x1hc1fzr xoueugu"},3:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf x1h6gzvc x17dx3ax xoueugu"},7:{className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 x6s0dn4 xl56j7k xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1y1aw1k xf159sx xwib8y2 xmzvs34 xxymvpz xnnr8r xw4jnvo x1qx5ct2 x1afcbsf x1hc1fzr x1h6gzvc x17dx3ax xoueugu"}}[!!j<<2|!!b<<1|!!(h&&!b)<<0],{onClick:f,onMouseEnter:i,onMouseLeave:g,children:e}))}u.displayName=u.name+" [from "+f.id+"]";function v(b,c){var e=c.blockQuoteEnabled,f=c.bulletPointsEnabled,g=c.inlineCodeEnabled,h=c.numberedListEnabled;c=o(!1);var i=c[0],j=c[1],k=o((c=d("WAWebTextFormatUtils")).TextFormatActionType.Skip),n=k[0],p=k[1];k=o(c.TextFormatActionType.Skip);var q=k[0],r=k[1];k=o(c.TextFormatActionType.Skip);var s=k[0],t=k[1];k=o(c.TextFormatActionType.Skip);var u=k[0],v=k[1];k=o(c.TextFormatActionType.Skip);var w=k[0],x=k[1];k=o(c.TextFormatActionType.Skip);var y=k[0],z=k[1];k=o(c.TextFormatActionType.Skip);var A=k[0],B=k[1];k=o(c.TextFormatActionType.Skip);c=k[0];var C=k[1],D=l(function(){if(!b)return;b.getEditorState().read(function(){if(b.isComposing()){j(!1);return}var a=d("WAWebLexicalUtils").$getRangeSelection(),c=window.getSelection(),i=b.getRootElement();if(c!=null&&(!a||a.isCollapsed()||i==null||!i.contains(c.anchorNode)||a.getTextContent()==="\n")){j(!1);return}if(!d("Lexical").$isRangeSelection(a)){j(!1);return}j(!0);var k=d("WAWebTextFormatUtils").$normalizeTextSelection();[[d("WAWebTextFormatUtils").TextFormatType.Bold,p],[d("WAWebTextFormatUtils").TextFormatType.Italic,r],[d("WAWebTextFormatUtils").TextFormatType.Strikethrough,t],[d("WAWebTextFormatUtils").TextFormatType.Code,v],g?[d("WAWebTextFormatUtils").TextFormatType.InlineCode,x]:null,h?[d("WAWebTextFormatUtils").TextFormatType.NumberedList,z]:null,f?[d("WAWebTextFormatUtils").TextFormatType.BulletedList,B]:null,e?[d("WAWebTextFormatUtils").TextFormatType.Quote,C]:null].filter(Boolean).forEach(function(a){var b=a[0];a=a[1];!k?a(d("WAWebTextFormatUtils").TextFormatActionType.Skip):a(d("WAWebTextFormatUtils").$getTextFormatAction(k,b))})})},[e,f,b,g,h]);m(function(){document.addEventListener("selectionchange",D);return function(){document.removeEventListener("selectionchange",D)}},[D]);m(function(){if(!b)return;return d("LexicalUtils").mergeRegister(b.registerRootListener(function(){b.getRootElement()==null&&j(!1)}),b.registerUpdateListener(function(){a.setTimeout(D,0)}))},[b,D]);k={isText:i,boldAction:i?n:d("WAWebTextFormatUtils").TextFormatActionType.Skip,italicAction:i?q:d("WAWebTextFormatUtils").TextFormatActionType.Skip,strikethroughAction:i?s:d("WAWebTextFormatUtils").TextFormatActionType.Skip,codeAction:i?u:d("WAWebTextFormatUtils").TextFormatActionType.Skip,inlineCodeAction:null,numberedListAction:null,bulletedListAction:null,blockQuoteAction:null};g&&(k.inlineCodeAction=i?w:d("WAWebTextFormatUtils").TextFormatActionType.Skip);h&&(k.numberedListAction=y);f&&(k.bulletedListAction=A);e&&(k.blockQuoteAction=c);return k}function b(a){var b=a.blockQuoteEnabled,e=a.bulletPointsEnabled,f=a.inlineCodeEnabled;a=a.numberedListEnabled;var g=d("LexicalComposerContext").useLexicalComposerContext();g=g[0];var h=c("WANullthrows")(document.body);e=v(g,{bulletPointsEnabled:e,numberedListEnabled:a,inlineCodeEnabled:f,blockQuoteEnabled:b});a=e.isText;f=babelHelpers.objectWithoutPropertiesLoose(e,i);return!a?null:d("ReactDOM").createPortal(k.jsx(t,babelHelpers["extends"]({editor:g,anchorElem:h},f)),h)}b.displayName=b.name+" [from "+f.id+"]";g.useTextFormatActions=v;g.FloatingToolbarPlugin=b}),226);
__d("WAWebMexFetchReachoutTimelockJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XWA2ReachoutTimelock",kind:"LinkedField",name:"xwa2_fetch_account_reachout_timelock",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_enforcement_ends",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"enforcement_type",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WAWebMexFetchReachoutTimelockJobQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"WAWebMexFetchReachoutTimelockJobQuery",selections:a},params:{id:"23983697327930364",metadata:{},name:"WAWebMexFetchReachoutTimelockJobQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebMexFetchReachoutTimelockJob",["WALogger","WAWebBackendErrors","WAWebMexClient","WAWebMexFetchReachoutTimelockJobQuery.graphql","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("WAWebMexFetchReachoutTimelockJobQuery.graphql");function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a={};a=(yield d("WAWebMexClient").fetchQuery(j,a));if((a==null?void 0:a.xwa2_fetch_account_reachout_timelock)==null)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500,"Mex unexpected null response for fetching reachout timelock");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MEX][WA-ICE][RET] fetched reachout timelock"]))).tags("GQL","MEX","wa-ice","RET").devConsole({response:a});a=a==null?void 0:a.xwa2_fetch_account_reachout_timelock;var b=a.is_active,c=a.time_enforcement_ends;a=a.enforcement_type;return{is_active:b,time_enforcement_ends:c,enforcement_type:a}});return k.apply(this,arguments)}g.mexFetchReachoutTimelock=a}),98);
__d("WAWebMexReachoutTimelockNotificationHandler",["WALogger","WAWebBackendApi","WAWebReachoutTimelockGatingUtils","WAWebReachoutTimelockUtils","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsTypes","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebReachoutTimelockGatingUtils").isReachoutTimelockEnabled())return;a=b.xwa2_notify_account_reachout_timelock;b=a.is_active;var c=a.enforcement_type;a=a.time_enforcement_ends;yield j(b,c,a)});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){try{if(!a){a=d("WAWebReachoutTimelockUtils").isUserReachoutTimelockedAndVisible();yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.remove(d("WAWebReachoutTimelockUtils").REACHOUT_TIMELOCK_IDB_KEY);void d("WAWebBackendApi").frontendFireAndForget("reachoutTimelockEnforcementLifted",{shouldPresentRestrictionsLiftedModal:a});return}a=c!=null?new Date(parseInt(c,10)*1e3).getTime():new Date().getTime()+60*1e3;c=(yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebReachoutTimelockUtils").REACHOUT_TIMELOCK_IDB_KEY));yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebReachoutTimelockUtils").REACHOUT_TIMELOCK_IDB_KEY,{state:c!=null?c.state:d("WAWebUserPrefsTypes").ReachoutTimelockState.HIDDEN,time_enforcement_ends:a,enforcement_type:d("WAWebReachoutTimelockUtils").getReachoutTimelockEnforcementType(b)});void d("WAWebBackendApi").frontendFireAndForget("reachoutTimelockEnforcementSet",{})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[mex][reachout-timelock] handle reachout timelock notification failed"]))).devConsole(a).sendLogs("mex-handle-reachout-timelock-notification-failed")}});return k.apply(this,arguments)}g.mexHandleReachoutTimelockNotification=a;g.handleReachoutTimelockUpdate=j}),98);
__d("WAWebGetReachoutTimelockJob",["WAJobOrchestratorTypes","WALogger","WAWebMexFetchReachoutTimelockJob","WAWebMexReachoutTimelockNotificationHandler","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield j());if(a!=null){var b=a.is_active,c=a.time_enforcement_ends;a=a.enforcement_type;yield d("WAWebMexReachoutTimelockNotificationHandler").handleReachoutTimelockUpdate(b,a,c)}});return i.apply(this,arguments)}function j(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getReachoutTimelock",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WAWebMexFetchReachoutTimelockJob").mexFetchReachoutTimelock());return a}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[MEX][WA-ICE][RET] GET Reachout Timelock job error"]))).tags("GQL","MEX","wa-ice","RET").devConsole({e:a});throw a}}),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}g.fetchReachoutTimelock=a}),98);
__d("WAWebMdRetryFromUnknownDeviceWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumDeviceType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({MdRetryFromUnknownDevice:[2178,{offline:[2,d("WAWebWamCodegenUtils").TYPES.BOOLEAN],senderType:[1,d("WAWebWamEnumDeviceType").DEVICE_TYPE]},[1,1,1],"regular"]},{MdRetryFromUnknownDevice:[]});g.MdRetryFromUnknownDeviceWamEvent=a}),98);
__d("WAWebProcessRetryKeyBundle",["WALogger","WAWebAddonRetryRequestUtils","WAWebApiContact","WAWebApiMessageInfoStore","WAWebDBMessageSerialization","WAWebE2eRetryRejectWamEvent","WAWebLidMigrationUtils","WAWebMsgKey","WAWebMsgModel","WAWebMsgType","WAWebSchemaMessage","WAWebSendMsgTypes","WAWebSignal","WAWebUserPrefsMeUser","WAWebWamEnumDeviceType","WAWebWamEnumRetryRejectReason","WAWebWamMsgUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;function a(a,b,c,d,e,f){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,k){var l=d("WAWebUserPrefsMeUser").getMeLidUserOrThrow(),m=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();f=e.isLid()||f?l:m;l=new(c("WAWebMsgKey"))({id:a,remote:b,fromMe:!0,participant:b.isUser()?void 0:f});m=(yield d("WAWebAddonRetryRequestUtils").getSentAddonMsgRecord(l));if(m!=null)b=k==null?void 0:k.sentAddonRowId,f=m.selfMsgRow.rowId,m={type:d("WAWebSendMsgTypes").SendMessageRecordType.Addon,data:m.msgData};else{var n=(yield d("WAWebSchemaMessage").getMessageTable().get(String(l)));if(!n){var o=d("WAWebLidMigrationUtils").getAlternateMsgKey(l);o&&(n=(yield d("WAWebSchemaMessage").getMessageTable().get(String(o))));if(!n){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getMsgIfAuthorized: can not find msg ","."])),l.toString());return null}}b=k==null?void 0:k.rowId;f=n.type===d("WAWebMsgType").MSG_TYPE.REVOKED?n.protocolMessageRowId:n.rowId;o=new(d("WAWebMsgModel").Msg)(d("WAWebDBMessageSerialization").messageFromDbRow(n));m={type:d("WAWebSendMsgTypes").SendMessageRecordType.Message,data:o}}if(f==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["getMsgIfAuthorized: msg missing rowId ","."])),l.toString());return null}k=(yield d("WAWebApiMessageInfoStore").isRetryEligible(l,e,b,f));n=k===d("WAWebApiMessageInfoStore").RetryEligibilityResult.INELIGIBLE_RECORD_MISSING;o=n?d("WAWebApiContact").getAlternateDeviceWid(d("WAWebWidFactory").createDeviceWidFromWidOrThrow(e)):null;o&&(k=(yield d("WAWebApiMessageInfoStore").isRetryEligible(l,o,b,f)));m.type===d("WAWebSendMsgTypes").SendMessageRecordType.Message&&(yield m.data.waitForPrep());d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["getMsgIfAuthorized: ",", "," retry eligibility ",""])),a,String(e),k).tags("messaging");n=d("WAWebWamEnumRetryRejectReason").RETRY_REJECT_REASON.OTHER;l=!1;m.data.type===d("WAWebMsgType").MSG_TYPE.REVOKED&&(l=!0,m.data.type="protocol",m.data.subtype=m.data.subtype==="admin"?"admin_revoke":"sender_revoke");switch(k){case d("WAWebApiMessageInfoStore").RetryEligibilityResult.ELIGIBLE:return m;case d("WAWebApiMessageInfoStore").RetryEligibilityResult.INELIGIBLE_ALREADY_DELIVERED:n=d("WAWebWamEnumRetryRejectReason").RETRY_REJECT_REASON.DOUBLE_CHECKMARK;break;case d("WAWebApiMessageInfoStore").RetryEligibilityResult.INELIGIBLE_CHANGED_IDENTITY:n=d("WAWebWamEnumRetryRejectReason").RETRY_REJECT_REASON.IDENTITY_CHANGE;break;default:n=d("WAWebWamEnumRetryRejectReason").RETRY_REJECT_REASON.OTHER;break}new(d("WAWebE2eRetryRejectWamEvent").E2eRetryRejectWamEvent)({senderDeviceType:e.isCompanion()?d("WAWebWamEnumDeviceType").DEVICE_TYPE.COMPANION:d("WAWebWamEnumDeviceType").DEVICE_TYPE.PRIMARY,messageType:d("WAWebWamMsgUtils").getWamMessageType(m.data),msgRetryCount:g,retryRevoke:l,retryRejectReason:n}).commit();return null});return p.apply(this,arguments)}function e(a,b,c,d,e){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){if(c==null||!a||a.type==="regular_retry"&&!a.key){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["processKeyBundle: skip due to missing key bundle"])));return!1}if(f){if(e==null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["processKeyBundle: missing session for retry"])));yield d("WAWebSignal").Session.deleteRemoteInfo(b);return!1}else if(e!==c){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["processKeyBundle: delete session because reg does not match, saved: ",", received: ",""])),e,c);yield d("WAWebSignal").Session.deleteRemoteInfo(b);return!1}d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["processKeyBundle: update local session with the retry key bundle (offline)"])))}else d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["processKeyBundle: update local session with the retry key bundle"])));yield d("WAWebSignal").Session.createSignalSession({wid:b,regId:c,identity:a.identity,deviceIdentity:a.deviceIdentity,key:a.key,skey:a.skey});return!0});return q.apply(this,arguments)}g.getMsgIfAuthorized=a;g.processKeyBundle=e}),98);
__d("WAWebSendRetryMsgJob",["invariant","WADeprecatedSendIq","WALogger","WAWebABPropsSaga","WAWebBotMessageSecret","WAWebCommsAckParser","WAWebE2EProtoGenerator","WAWebOutgoingMessage","WAWebSendMsgCreateDeviceStanza","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){var i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.to,f=a.participant,g=a.recipient,k=a.msgRecord,l=a.retryCount,m=a.lidOrigin,n=a.isLidBot;a=a.accountLid;var o=k.data.id.id,p=f||e,q=k==null||(b=k.data)==null?void 0:b.messageSecret;q=q?new Uint8Array(yield d("WAWebBotMessageSecret").genBotMsgSecretFromMsgSecret(q)):null;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["sendRetry: id "," to ",", requester: ",", count: ",""])),o,e.toString(),p.toString(),l).tags("messaging");p=d("WAWebOutgoingMessage").createOutgoingMessageProtobuf(d("WAWebOutgoingMessage").OutgoingMessageOriginType.Retry,k);l={type:d("WAWebSendMsgCreateDeviceStanza").MsgType.Retry,retryCount:l};l={to:e,option:l,botMessageSecret:q};c("WAWebWid").isCAPISupportAccount(e)&&d("WAWebABPropsSaga").getIsSagaV1Enabled()&&d("WAWebABPropsSaga").getIsSagaV1ReengagementEnabled()&&(yield d("WAWebE2EProtoGenerator").addDebugInfoSupportPayload(p));e.isUser()?q=(yield d("WAWebSendMsgCreateDeviceStanza").createUserDeviceMsgStanza(k,p,babelHelpers["extends"]({},l,{recipient:g,peerRecipientLid:a}),m)):(f!=null||h(0,56263),q=(yield d("WAWebSendMsgCreateDeviceStanza").createGroupDeviceMsgStanza(k,p,babelHelpers["extends"]({},l,{isLidBot:n,participant:f}))));d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["sendRetry: sending "," to ",""])),o,e.toString()).tags("messaging");a=f;m=e;e.isBot()&&g!=null&&!(g!=null&&g.isBot())&&(a=e,g!=null||h(0,75958),m=g);return d("WADeprecatedSendIq").deprecatedSendStanzaAndWaitForAck(q,d("WAWebCommsAckParser").toCoreAckTemplate({id:o,"class":"message",from:m,participant:a}))});return k.apply(this,arguments)}g.sendRetry=a}),98);
__d("WAWebUpdateLocalSignalSession",["WALogger","WAWebApiParticipantStore","WAWebChatCollection","WAWebProcessRetryKeyBundle","WAWebSignal","WAWebUserPrefsMeUser","WAWebUserPrefsStatus","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.from,f=b.keyBundle,g=b.offline,k=b.originalMsgId,l=b.participant,m=b.regId;b=b.retryCount;l=l||e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["updateLocalSignalSession: retryCount: ",", offline: ",", has keyBundle: ",""])),b,g.toString(),(!!f).toString());if(a.isGroup()){e=d("WAWebChatCollection").ChatCollection.get(a);e&&(l&&d("WAWebApiParticipantStore").markForgetSenderKey(e.id,[l]))}a.isStatus()&&(l&&void c("WAWebUserPrefsStatus").markForgetStatusSenderKey([l]));e=(yield d("WAWebSignal").Session.getRemoteRegId(l));if(d("WAWebUserPrefsMeUser").isMeAccount(d("WAWebWidFactory").asUserWidOrThrow(l))&&e!==m)throw c("err")("updateLocalSignalSession: detect registration Id change remote: "+m+", local: "+String(e)+" for peer device");a=(yield d("WAWebProcessRetryKeyBundle").processKeyBundle(f,l,m,e,g));a||e!=null&&e!==m&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["updateLocalSignalSession: delete session because reg does not match, saved: ",", received: ",""])),e,m),yield d("WAWebSignal").Session.deleteRemoteSession(l));f=2;if(b===f)return d("WAWebSignal").Session.saveSessionBaseKey(l,k);else if(b>f){g=(yield d("WAWebSignal").Session.hasSameBaseKey(l,k));if(g){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["updateLocalSignalSession: delete local session due to same base key"])));return d("WAWebSignal").Session.deleteRemoteSession(l)}}});return k.apply(this,arguments)}g.updateLocalSignalSession=a}),98);
__d("WAWebVoipStackInterface",["JSResourceForInteraction","WAWebVoipGatingUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebVoipGatingUtils").isCallingEnabled())return null;var a=(yield c("JSResourceForInteraction")("WAWebVoipStackInterfaceImpl").__setRef("WAWebVoipStackInterface").load());a=a.getVoipStackInterfaceImpl;return a()});return h.apply(this,arguments)}g.getVoipStackInterface=a}),98);
__d("WAWebHandleRetryRequest",["WAJids","WALogger","WAWebApiContact","WAWebApiDeviceList","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebManageE2ESessionsJob","WAWebMdRetryFromUnknownDeviceWamEvent","WAWebMessageQueue","WAWebMsgKey","WAWebPostMessageHighRetryCountMetric","WAWebProcessRetryKeyBundle","WAWebSchemaChat","WAWebSchemaMessage","WAWebSendMsgQueueMap","WAWebSendRetryMsgJob","WAWebSignalCommonUtils","WAWebSignalProtocolStore","WAWebSimpleSignalPNToFBIDMigration","WAWebUpdateLocalSignalSession","WAWebUserPrefsMeUser","WAWebVoipStackInterface","WAWebWamEnumDeviceType","WAWebWidFactory","asyncToGeneratorRuntime","cr:10198","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;function a(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield B(a));if(!e){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleMessageRetryRequest: no chat info found for incoming retry request."]))).sendLogs("handle-message-retry-request-no-chat-info");return}var f=e.chat,g=e.from,h=e.lidOrigin,l=e.accountLid,m=a.from;a.from=g;var n=a.participant,o=a.recipient,p=a.retryCount,q=a.type;return d("WAWebMessageQueue").onMessageQueue({chatWid:f,isOffline:!1,msgCategory:null,action:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=(yield z(f,a));if(e==null)return;var i=e.originalMsgId,r=e.requester,s=e.isLidBot;e=e.identity;c("gkx")("26258")||(b("cr:10198")==null||b("cr:10198").injectDebug(f,"RetryReceiptReceived","originalMsgId:"+i+" - requester:"+r.toString()));try{if(q==="enc_rekey_retry"){var t=(yield d("WAWebVoipStackInterface").getVoipStackInterface());t==null||t.resendEncRekeyRetry(g.toString({legacy:!0}),p)}else if(q!=="voip_1x1_retry"){t=(yield d("WAWebProcessRetryKeyBundle").getMsgIfAuthorized(i,f,r,s,p,e));r=t==null?d("WAWebApiContact").getAlternateDeviceWid(d("WAWebWidFactory").createDeviceWidFromWidOrThrow(r)):null;r&&(t=(yield d("WAWebProcessRetryKeyBundle").getMsgIfAuthorized(i,f,r,s,p,e)));if(!t){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleMessageRetryRequest "," retry not authorized"])),(i=t)==null?void 0:i.type);return}r={to:m,participant:n,msgRecord:t,retryCount:p,isLidBot:s};o&&(r.recipient=o);h&&(r.lidOrigin=h);l&&(r.accountLid=l);yield d("WAWebSendRetryMsgJob").sendRetry(r)}}catch(a){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["handleMessageRetryRequest error: ",""])),a)}return});function i(){return e.apply(this,arguments)}return i}()})});return y.apply(this,arguments)}function z(a,b){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=c.originalMsgId,f=c.isLid,g=f===void 0?!1:f;f=c.from;var h=c.participant,i=c.retryCount,j=c.offline;if(i>=d("WAWebPostMessageHighRetryCountMetric").MAX_RETRY){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["handleRetryRequest refusing retry attempt #",""])),i);return}var k=a.isUser()?f:h;if(!k){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleRetryRequest: no requester found for incoming retry request."])));return}i=k.device||0;try{f=(yield d("WAWebApiDeviceList").hasDevice(k,i));if(!f){d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["handleRetryRequest: device "," not found for ",""])),i,k.user);d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["handleRetryRequest: no device found for isUser:"," lid:"," isLidBot:",""])),a.isUser(),k.isLid(),g).sendLogs("no-device-found-for-retry-request",{sampling:.001});new(d("WAWebMdRetryFromUnknownDeviceWamEvent").MdRetryFromUnknownDeviceWamEvent)({offline:j,senderType:i===d("WAJids").DEFAULT_DEVICE_ID?d("WAWebWamEnumDeviceType").DEVICE_TYPE.PRIMARY:d("WAWebWamEnumDeviceType").DEVICE_TYPE.COMPANION}).commit();return}return yield d("WAWebSendMsgQueueMap").sendMsgQueueMap.enqueue(a.toString(),b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebUpdateLocalSignalSession").updateLocalSignalSession(a,c);yield d("WAWebManageE2ESessionsJob").ensureE2ESessions([k]);var b=(yield d("WAWebSignalProtocolStore").getPersistSignalProtocolStore().getIdentityWithRowId(d("WAWebSignalCommonUtils").createSignalAddress(k)));return{originalMsgId:e,chat:a,requester:k,isLidBot:g,identity:b}}))}catch(a){d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["handleRetryRequest error: ",""])),a)}});return A.apply(this,arguments)}function B(a){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=D(a);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: target chat=",""])),b);if(b==null){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: no target chat found"])));return}b=d("WAWebSimpleSignalPNToFBIDMigration").maybeReplaceFbidWithDeprecatedBotPn(b);if(b.isUser()){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: this is a user chat"])));var e=!d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&b.isLid();if(d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()||e){d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: in migrated/pre-migrated flow"])));e=new(c("WAWebMsgKey"))({fromMe:!0,remote:b,id:a.originalMsgId});e=[e,d("WAWebLidMigrationUtils").getAlternateMsgKey(e)].filter(Boolean).map(function(a){return a.toString()});d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: possible msg keys=",""])),e.join(","));if(a.type==="retry"){e=(yield d("WAWebSchemaMessage").getMessageTable().bulkGet(e,!1)).filter(Boolean);if(e.length===0){d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: could not find messages"])));return}e.length>1&&d("WALogger").WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: multiple messages found"]))).devConsole(a.originalMsgId);e=d("WAWebWidFactory").createWidFromWidLike(e[0].to)}else a.type,e=a.from;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["getActualChatInfo: retryInfo.from=",""])),a.from);var f;a.from.isBot()?f=a.from:f=e.isLid()?d("WAWebLidMigrationUtils").toLid(a.from):d("WAWebLidMigrationUtils").toPn(a.from);if(f==null)return;f=d("WAWebWidFactory").createDeviceWidFromUserAndDevice(f.user,f.server,(f=a.from.device)!=null?f:0);var g=(yield d("WAWebSchemaChat").getChatTable().get(e.toString())),h=g==null?void 0:g.lidOriginType;g=(g==null?void 0:g.accountLid)!=null?d("WAWebWidFactory").createWidFromWidLike(g.accountLid):void 0;return{chat:e,from:f,lidOrigin:h,accountLid:g}}}return{chat:b,from:a.from}});return C.apply(this,arguments)}function D(a){var b=a.from,c=a.recipient;if(b.isBot()&&c!=null)return c;if(b.isUser()){var e=d("WAWebWidFactory").asUserWidOrThrow(b);if(d("WAWebUserPrefsMeUser").isMeAccount(e)){if(!c){var f;d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getTargetChat: from is a peer device, but without recipient, isLid: ",", peer device: ",", retryCount: ",", hasKeyBundle: ",""])),b.isLid(),(f=b.device)!=null?f:"primary",a.retryCount,a.keyBundle!=null);return null}return c}return d("WAWebWidFactory").asUserWidOrThrow(e)}return b}g.handleRetryRequest=a}),98);
__d("WAWebHasAvatarDeviceCapability",["WASyncAction.pb","WASyncdConst","WAWebSyncdDb","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a='["'+d("WASyncdConst").Actions.DeviceCapabilities+'","'+d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().user+':0@s.whatsapp.net"]';a=(yield d("WAWebSyncdDb").getSyncAction(a));if((a==null?void 0:a.binarySyncData)==null)return!1;a=(a=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,a.binarySyncData).value)==null||(a=a.deviceCapabilities)==null||(a=a.userHasAvatar)==null?void 0:a.userHasAvatar;return Boolean(a)});return h.apply(this,arguments)}g.getPrimaryHasAvatarFromDeviceCapability=a}),98);
__d("WAWebHasAvatar",["WAWebHasAvatarDeviceCapability","WAWebUserPrefsKeys","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=i();if(a!=null)return a;a=(yield d("WAWebHasAvatarDeviceCapability").getPrimaryHasAvatarFromDeviceCapability());j(a);return a});return h.apply(this,arguments)}function i(){var a=c("WAWebUserPrefsStore").getTS(d("WAWebUserPrefsKeys").UserPrefs.UserHasAvatar);return typeof a==="boolean"?a:null}function j(a){c("WAWebUserPrefsStore").setTS(d("WAWebUserPrefsKeys").UserPrefs.UserHasAvatar,a)}g.getUserHasAvatar=a;g.saveHasAvatarOnTempStorage=j}),98);
__d("WAWebHelpersFindPhoneNumbers",["WALogger","WAPhoneFindCC","WAPhoneUtils","WAWebUserPrefsMeUser","lodash"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a){return{uniqueId:0,text:a,openings:null,phoneNumber:"",phoneNumberStartsWithPlus:!1,phoneNumberLastSignificantCodePoint:-1,phoneNumberParenthesesDepth:0,phoneNumberLeadingZeroes:0,phoneNumberCurrentlyMatchingLeadingZeroes:!0,parsedPhoneNumbers:null}}function l(a){a.phoneNumberStartsWithPlus=!0}function m(a){a.phoneNumberLastSignificantCodePoint=46}function n(a){a.phoneNumberLastSignificantCodePoint=45}function o(a){a.phoneNumberLastSignificantCodePoint=32}function p(a,b){a.phoneNumber+=String.fromCodePoint(b),a.phoneNumberLastSignificantCodePoint=b,a.phoneNumberCurrentlyMatchingLeadingZeroes&&(b===48?a.phoneNumberLeadingZeroes++:a.phoneNumberCurrentlyMatchingLeadingZeroes=!1)}function q(a,b){if(a.openings!=null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Msg formatting: cannot open a style before closing it"])));return}a.openings=b;a.phoneNumber="";a.phoneNumberStartsWithPlus=!1;a.phoneNumberLastSignificantCodePoint=-1;a.phoneNumberParenthesesDepth=0;a.phoneNumberLeadingZeroes=0;a.phoneNumberCurrentlyMatchingLeadingZeroes=!0}function r(a,b){var c=a.openings;if(c==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Msg formatting: cannot close a style before opening it"])));return}var e=0;if(e>0){c=a.text.slice(c+e,b);if(c.trim().length===0)return}a.openings=null}function s(a,b){if(a.phoneNumberParenthesesDepth===1){r(a,b);return}a.phoneNumberParenthesesDepth++;a.phoneNumberLastSignificantCodePoint=-1}var t=c("lodash").memoize(function(a){return d("WAPhoneFindCC").phoneCC(a)});function u(a){return a!=null&&a.openings!=null}function v(a,b){var c=w(a,b);if(c==null)return!1;r(a,b);!a.parsedPhoneNumbers?a.parsedPhoneNumbers=[c]:a.parsedPhoneNumbers.push(c);return!0}function w(a,b){if(a.openings==null)return;if(a.phoneNumberParenthesesDepth===1)return null;if(b<a.text.length&&a.text[b]==="@")return null;var c=a.phoneNumber;c=c.slice(Math.min(2,a.phoneNumberLeadingZeroes));if(c.length===0)return null;var e=!1,f=c,g=a.phoneNumberStartsWithPlus||a.phoneNumberLeadingZeroes>=2;if(g){g=d("WAPhoneFindCC").findCC(c);var h=c.slice(g.length);e=d("WAPhoneUtils").isPotentiallyValid(g,h)}else{h=((g=d("WAWebUserPrefsMeUser").getMaybeMePnUser())==null?void 0:g.toString())||"";g=t(h);e=d("WAPhoneUtils").isPotentiallyValid(g,c);if(!e){h=d("WAPhoneFindCC").findCC(c);if(h===g){var i=c.slice(h.length);e=d("WAPhoneUtils").isPotentiallyValid(h,i)}}else f=""+g+c}if(e){h=a.openings;if(h==null)return null;i=a.phoneNumberLastSignificantCodePoint===45||a.phoneNumberLastSignificantCodePoint===46?b-1:b;g=a.text.slice(h,i);return{start:h,end:i,id:"phone"+ ++a.uniqueId,phoneNumber:f,matchedText:g}}return null}function x(a,b){v(a,b)||r(a,b)}function y(a,b){if(a.phoneNumberParenthesesDepth===0||a.phoneNumberLastSignificantCodePoint<48||a.phoneNumberLastSignificantCodePoint>57){r(a,b);return}a.phoneNumberParenthesesDepth--;a.phoneNumberLastSignificantCodePoint=-1}function z(a){return a>65535?2:1}function a(a){var b=null,c=0;try{var e=a.length;while(c<e){var f=a.codePointAt(c),g=z(f);if(u(b)&&(f<48||f>57))if(f===45)b.phoneNumberParenthesesDepth===0?b.phoneNumberLastSignificantCodePoint===45?x(b,c):b.phoneNumber.length===0?r(b,c):n(b):r(b,c);else if(f===46)b.phoneNumberParenthesesDepth===0?b.phoneNumberLastSignificantCodePoint===46?x(b,c):b.phoneNumber.length===0?r(b,c):m(b):r(b,c);else if(!(f===40))if(f===41)y(b,c);else if(f===32)if(b.phoneNumberLastSignificantCodePoint===32)r(b,c);else{var h=v(b,c);h||o(b)}else x(b,c);switch(f){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(c!==0){h=a.codePointAt(c-1);if(h>=65&&h<=90||h>=97&&h<=122)break}u(b)||(b||(b=k(a)),q(b,c));p(b,f);break;case 43:b||(b=k(a));q(b,c);l(b);break;case 40:u(b)||(b||(b=k(a)),q(b,c));s(b,c);break}c+=g}b&&b.openings!=null&&x(b,a.length);return(h=b)!=null&&h.parsedPhoneNumbers&&b.parsedPhoneNumbers.length>0?b.parsedPhoneNumbers.reduce(function(a,b){a.push({phone:b.matchedText,index:b.start});return a},[]):[]}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["findPhoneNumbers parse error: ",""])),String(a)).devConsole(a).sendLogs("findPhoneNumbers-error");return[]}}g["default"]=a}),98);
__d("WAWebIcVisibilityIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="ic-visibility";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M12 16C13.25 16 14.3125 15.5625 15.1875 14.6875C16.0625 13.8125 16.5 12.75 16.5 11.5C16.5 10.25 16.0625 9.1875 15.1875 8.3125C14.3125 7.4375 13.25 7 12 7C10.75 7 9.68749 7.4375 8.81249 8.3125C7.93749 9.1875 7.49999 10.25 7.49999 11.5C7.49999 12.75 7.93749 13.8125 8.81249 14.6875C9.68749 15.5625 10.75 16 12 16ZM12 14.2C11.25 14.2 10.6125 13.9375 10.0875 13.4125C9.56249 12.8875 9.29999 12.25 9.29999 11.5C9.29999 10.75 9.56249 10.1125 10.0875 9.5875C10.6125 9.0625 11.25 8.8 12 8.8C12.75 8.8 13.3875 9.0625 13.9125 9.5875C14.4375 10.1125 14.7 10.75 14.7 11.5C14.7 12.25 14.4375 12.8875 13.9125 13.4125C13.3875 13.9375 12.75 14.2 12 14.2ZM12 19C9.76666 19 7.72916 18.4 5.88749 17.2C4.04583 16 2.59166 14.4167 1.52499 12.45C1.44166 12.3 1.37916 12.1458 1.33749 11.9875C1.29583 11.8292 1.27499 11.6667 1.27499 11.5C1.27499 11.3333 1.29583 11.1708 1.33749 11.0125C1.37916 10.8542 1.44166 10.7 1.52499 10.55C2.59166 8.58333 4.04583 7 5.88749 5.8C7.72916 4.6 9.76666 4 12 4C14.2333 4 16.2708 4.6 18.1125 5.8C19.9542 7 21.4083 8.58333 22.475 10.55C22.5583 10.7 22.6208 10.8542 22.6625 11.0125C22.7042 11.1708 22.725 11.3333 22.725 11.5C22.725 11.6667 22.7042 11.8292 22.6625 11.9875C22.6208 12.1458 22.5583 12.3 22.475 12.45C21.4083 14.4167 19.9542 16 18.1125 17.2C16.2708 18.4 14.2333 19 12 19ZM12 17C13.8833 17 15.6125 16.5042 17.1875 15.5125C18.7625 14.5208 19.9667 13.1833 20.8 11.5C19.9667 9.81667 18.7625 8.47917 17.1875 7.4875C15.6125 6.49583 13.8833 6 12 6C10.1167 6 8.38749 6.49583 6.81249 7.4875C5.23749 8.47917 4.03333 9.81667 3.19999 11.5C4.03333 13.1833 5.23749 14.5208 6.81249 15.5125C8.38749 16.5042 10.1167 17 12 17Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IcVisibilityIcon=a}),98);
__d("WAWebLabelSync",["Promise","WALogger","WAServerSync.pb","WASyncAction.pb","WASyncdAction","WASyncdConst","WAWebBizGatingUtils","WAWebDBLabelAssociationDatabaseApi","WAWebLabelCollection","WAWebMobilePlatforms","WAWebModelStorageUtils","WAWebSchemaLabel","WAWebSyncdActionUtils","WAWebSyncdIndexUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 3};e.getAction=function(){return d("WASyncdConst").Actions.LabelEdit};e.applyMutations=function(a){var c=d("WAWebBizGatingUtils").isLabelReorderingSyncFromPrimaryEnabled();return(n||(n=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){var e,f=a.indexParts;a=a.value;var g=f[1];g||d("WAWebSyncdIndexUtils").throwInvalidActionIndex();f=a.labelEditAction;if(!f){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["label sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(f.deleted===!0){yield d("WAWebSchemaLabel").getLabelTable().remove(g);d("WAWebLabelCollection").LabelCollection.remove(g);return{actionState:d("WASyncdConst").SyncActionState.Success}}a=f.color;var m=f.predefinedId,n=f.isActive,o=f.type,p=f.isImmutable;e=(e=f.name)!=null?e:"";e===""&&d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["labelEditAction.name is empty"])));d("WAWebMobilePlatforms").isSMB()&&a==null&&d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["labelEditAction.color is empty"])));var q={id:g,name:e,colorIndex:a,predefinedId:m};c&&f.orderIndex!=null&&(q.orderIndex=f.orderIndex);if(o!=null){e=d("WAWebSchemaLabel").ListType.cast(o);e!=null?q.type=e:d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["labelEditAction.type has unexpected value: ",""])),o)}n!=null&&(q.isActive=n);p!=null&&(q.isImmutable=p);a=(yield d("WAWebModelStorageUtils").getStorage().lock(["label","label-association","chat"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];yield a.createOrReplace(q);return d("WAWebDBLabelAssociationDatabaseApi").queryLabelAssociationsForLabelIds([g])});return function(b){return a.apply(this,arguments)}}()));d("WAWebBizGatingUtils").isCTWADetectedOutcomeWS1Enabled()&&o===d("WASyncAction.pb").SyncActionValue$LabelEditAction$ListType.SERVER_ASSIGNED?d("WAWebLabelCollection").LabelCollection.addToServerAssignedLabelIdMap(g,m):d("WAWebLabelCollection").LabelCollection.add(babelHelpers["extends"]({},q),{merge:!0});f=d("WAWebLabelCollection").LabelCollection.get(g);if(f!=null&&a.length>0){var r=f.labelItemCollection.reduce(function(a,b){a.add(b.id);return a},new Set());e=a.filter(function(a){return!r.has(a.associationId)});e.length>0&&d("WAWebLabelCollection").LabelCollection.initializeAssociationsFromCache(e)}return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["label sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};e.getLabelMutation=function(a,b,c,e,f,g,h,i){b={name:b,deleted:e};c!=null&&(b.color=c);f!=null&&(b.predefinedId=f);g!=null&&(b.isActive=g);if(h!=null){e=d("WASyncAction.pb").SyncActionValue$LabelEditAction$ListType.cast(h);e!=null?b.type=e:d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["getLabelMutation: type has unexpected value: ",""])),h)}return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.Regular,indexArgs:[a],value:{labelEditAction:b},version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:i,action:this.getAction()})};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebPerformantMenu.react",["WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebMenuController.react","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useMemo,m=b.useRef;function a(a){var b=a.data,e=a.renderItem,f=a.colorScheme,g=a.menuControllerRef,h=a.material,i=a.onSelect,n=a.maxHeight,o=a.minWidth,p=a.initialActiveOptionId,q=a.reorderAnimationsEnabled,r=a.size,s=a.setFocusRef,t=a.onHotKeysFocus,u=a.flatListProps,v=a.handleActiveItemChange,w=new Map(),x=m(null);a=d("WAWebMenuController.react").useRegister({onRegister:function(a){a.forEach(function(a,b){w.set(b,a)})},onChange:function(a){a.forEach(function(a,b){w.set(b,a)})}});var y=l(function(){return new(c("WAWebFlatListController"))()},[]),z=l(function(){return d("WAWebFlatList.react").FlatListFactory()},[]),A=function(a){v==null||v(a);var c=b.findIndex(function(b){return b.itemKey===a});if(c>-1){var d;(d=x.current)==null||d.scrollIntoViewIfNeeded(c)}};k(s,function(){return{focus:function(){var a;(a=x.current)==null||a.setFocus()}}});b.forEach(function(a){if(a["static"]===!0)return;var b=w.get(a.itemKey);w.set(a.itemKey,b!=null?b:{current:null})});return j.jsx(d("WAWebMenuController.react").Register,{registerRef:a,children:j.jsx(d("WAWebMenuController.react").WAWebMenuController,{data:w,colorScheme:f,menuControllerRef:g,material:h,onSelect:i,maxHeight:n,minWidth:o,initialActiveOptionId:p,onActiveItemChange:A,autoScroll:!1,size:r,onHotKeysFocus:t,children:j.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[y],className:"x1rife3k x1plvlek",children:j.jsx(z,babelHelpers["extends"]({ref:x,data:b,renderItem:e,direction:"vertical",flatListController:y,disablePointerEventsOnScroll:!1,reorderAnimationsEnabled:q,initialActiveOptionId:p},u))})})})}a.displayName=a.name+" [from "+f.id+"]";g.WDSPerformantMenu=a}),98);
__d("useWAWebLexicalMenuController",["Lexical","LexicalComposerContext","react","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useRef;function a(){var a=d("LexicalComposerContext").useLexicalComposerContext();a=a[0];var b=i(null);d("useWAWebLexicalEvent").useLexicalCommandListener(a,d("Lexical").KEY_ARROW_UP_COMMAND,function(a){a.preventDefault();a.stopPropagation();(a=b.current)==null||a.goUp();return!1});d("useWAWebLexicalEvent").useLexicalCommandListener(a,d("Lexical").KEY_ARROW_DOWN_COMMAND,function(a){a.stopPropagation();(a=b.current)==null||a.goDown();return!1});d("useWAWebLexicalEvent").useLexicalCommandListener(a,d("Lexical").KEY_ENTER_COMMAND,function(){var a;(a=b.current)==null||a.selectItem();return!1});return b}g.useLexicalMenuController=a}),98);
__d("WAWebLexicalWAWebMenu.react",["WAWebMenu.react","WAWebPerformantMenu.react","react","useWAWebLexicalMenuController"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("useWAWebLexicalMenuController").useLexicalMenuController();return i.jsx(d("WAWebMenu.react").WAWebMenu,babelHelpers["extends"]({},a,{size:"medium",menuControllerRef:b}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=d("useWAWebLexicalMenuController").useLexicalMenuController();return i.jsx(d("WAWebPerformantMenu.react").WDSPerformantMenu,babelHelpers["extends"]({},a,{menuControllerRef:b}))}b.displayName=b.name+" [from "+f.id+"]";g.LexicalWAWebMenu=a;g.LexicalWAWebPerformantMenu=b}),98);
__d("WAWebLockRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="lock-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M6 22C5.45 22 4.97917 21.8042 4.5875 21.4125C4.19583 21.0208 4 20.55 4 20V10C4 9.45 4.19583 8.97917 4.5875 8.5875C4.97917 8.19583 5.45 8 6 8H7V6C7 4.61667 7.4875 3.4375 8.4625 2.4625C9.4375 1.4875 10.6167 1 12 1C13.3833 1 14.5625 1.4875 15.5375 2.4625C16.5125 3.4375 17 4.61667 17 6V8H18C18.55 8 19.0208 8.19583 19.4125 8.5875C19.8042 8.97917 20 9.45 20 10V20C20 20.55 19.8042 21.0208 19.4125 21.4125C19.0208 21.8042 18.55 22 18 22H6ZM6 20H18V10H6V20ZM12 17C12.55 17 13.0208 16.8042 13.4125 16.4125C13.8042 16.0208 14 15.55 14 15C14 14.45 13.8042 13.9792 13.4125 13.5875C13.0208 13.1958 12.55 13 12 13C11.45 13 10.9792 13.1958 10.5875 13.5875C10.1958 13.9792 10 14.45 10 15C10 15.55 10.1958 16.0208 10.5875 16.4125C10.9792 16.8042 11.45 17 12 17ZM9 8H15V6C15 5.16667 14.7083 4.45833 14.125 3.875C13.5417 3.29167 12.8333 3 12 3C11.1667 3 10.4583 3.29167 9.875 3.875C9.29167 4.45833 9 5.16667 9 6V8Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.LockRefreshedIcon=a}),98);
__d("WAWebMentionsPlugin.react",["Lexical","LexicalComposerContext","WAWebABProps","WAWebApiContact","WAWebCommunityGatingUtils","WAWebContactCollection","WAWebContactGetters","WAWebFrontendContactGetters","WAWebGroupMetadataCollection","WAWebGroupType","WAWebLexicalUtils","WAWebMentionNode","WAWebMiscGatingUtils","WAWebRichTextInputConst","WAWebUnjoinedSubgroupMetadataCollection","WAWebWidFactory","react","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function j(a,b){var c=new RegExp(d("WAWebRichTextInputConst").userJidRegexStr,"g"),e=new RegExp(d("WAWebRichTextInputConst").groupJidRegexStr,"g");c=a.matchAll(c);var f;(b===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP||b===d("WAWebGroupType").GroupType.LINKED_SUBGROUP&&d("WAWebCommunityGatingUtils").groupMentionsInSubgroupsEnabled())&&(f=a.matchAll(e));b=Array.from(c).map(function(a){return{match:a,type:d("WAWebMentionNode").MentionTypeEnum.CONTACT}});a=Array.from(f!=null?f:[]).map(function(a){return{match:a,type:d("WAWebMentionNode").MentionTypeEnum.GROUP}});e=[].concat(b,a);e.sort(function(a,b){return a.match.index>b.match.index?1:-1});var g=0;return e.map(function(a){var b=a.match;a=a.type;var c=b[1],d=b.index,e=g,f=c.length+2;g=b.index+f;return{jid:c,index:d,lastEndIndex:e,length:f,type:a}})}function k(a,b){var c=d("WAWebWidFactory").createUserWid(b);c=(c=(a==null?void 0:a.isLidAddressingMode)===!0&&!c.isLid()?(c=d("WAWebApiContact").getCurrentLid(c))==null?void 0:c.toString():b)!=null?c:b;return(a==null?void 0:a.participants.get(c))!=null}function l(a,b,e){if(!a.isSimpleText())return;var f=a.getTextContent();a=a;for(f of j(f,b==null?void 0:b.groupType)){var g=f.jid,h=f.index,i=f.length,l=f.lastEndIndex,m=f.type;h=h-l;l=void 0;if(h===0){var o=a.splitText(i);l=o[0];o=o[1]}else{h=a.splitText(h,h+i);l=h[1];o=h[2]}a=o;i=void 0;if(m===d("WAWebMentionNode").MentionTypeEnum.CONTACT){h=d("WAWebContactCollection").ContactCollection.get(g);if(h!=null){o=!d("WAWebContactGetters").getIsMe(h)&&k(b,g);if(o||e){o=h.id.toString();o=d("WAWebMentionNode").$createMentionNode(n(h,b),o,d("WAWebMentionNode").MentionTypeEnum.CONTACT);l.replace(o);i=o}else i=new(d("Lexical").TextNode)("@"+n(h)),l.replace(i)}}if(m===d("WAWebMentionNode").MentionTypeEnum.GROUP){o=c("WAWebUnjoinedSubgroupMetadataCollection").get(g)||c("WAWebGroupMetadataCollection").get(g);h=b!=null&&b.parentGroup?c("WAWebGroupMetadataCollection").assertGet(b.parentGroup):null;if(o&&h){m=o.subject;var p=o.id;h=[].concat(h.joinedSubgroups,h.unjoinedSubgroups);if(h.includes(p)){h=d("WAWebMentionNode").$createMentionNode(m,p.toString(),d("WAWebMentionNode").MentionTypeEnum.GROUP);l.replace(h);i=h}else i=new(d("Lexical").TextNode)("@"+m),l.replace(i)}else o&&(i=new(d("Lexical").TextNode)("@"+o.subject),l.replace(i))}i||(i=new(d("Lexical").TextNode)(g),l.replace(i));p=d("WAWebLexicalUtils").$getRangeSelection();p&&(!p.anchor.getNode().isAttached()||!p.focus.getNode().isAttached())&&i.select()}}function m(a){var b=d("WAWebLexicalUtils").$getRangeSelection();if(!b)return;b=b.anchor.getNode()===a?b.anchor.offset:-1;var c=d("WAWebRichTextInputConst").AT_SYMBOL+a.name,e=a.getTextContent();if(c===e)return;var f=e.startsWith(c)&&b===e.length;b=e.endsWith(c)&&b===e.length-c.length;if(f)a.splitText(c.length);else if(b){f=a.splitText(e.length-c.length);b=f[0];e=f[1];d("WAWebLexicalUtils").$toTextNode(b);e.replace(d("WAWebMentionNode").$createMentionNode(a.name,a.wid,a.type))}else d("WAWebLexicalUtils").$toTextNode(a)}function a(a){var b=a.botInvokeEnabled,c=a.groupMetadata;a=d("LexicalComposerContext").useLexicalComposerContext();var e=a[0];i(function(){var a=e.registerNodeTransform(d("Lexical").TextNode,function(a){l(a,c,b)}),f=e.registerNodeTransform(d("WAWebMentionNode").MentionNode,function(a){m(a)});return function(){a(),f()}},[e,c,b]);d("useWAWebLexicalEvent").useLexicalCommandListener(e,d("Lexical").KEY_BACKSPACE_COMMAND,function(){var a=e.getEditorState().read(function(){var a=d("WAWebLexicalUtils").$getRangeSelection();if(!a||!a.isCollapsed())return;a=a.anchor;var b=a.getNode();a=a.offset===a.getNode().getTextContentSize();if(a&&b instanceof d("WAWebMentionNode").MentionNode)return b});if(a){e.update(function(){return a.remove()});return!0}return!1});return null}function n(a,b){if(d("WAWebMiscGatingUtils").isDropLastNameEnabled()&&b!=null&&b.hasUniqueShortNameMention(a))b=a.shortName;else{var c=d("WAWebABProps").getABPropConfigValue("elevated_push_names_v2_m2_enabled")?"~":"",e=d("WAWebContactGetters").getNotifyName(a);b=(!d("WAWebContactGetters").getIsMyContact(a)||d("WAWebContactGetters").getIsMe(a))&&e!=null?""+c+e:d("WAWebFrontendContactGetters").getFormattedName(a)}return b}g.MentionsPlugin=a}),98);
__d("WAWebMenuIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="menu";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M12,7c1.104,0,2-0.896,2-2c0-1.105-0.895-2-2-2c-1.104,0-2,0.894-2,2 C10,6.105,10.895,7,12,7z M12,9c-1.104,0-2,0.894-2,2c0,1.104,0.895,2,2,2c1.104,0,2-0.896,2-2C13.999,9.895,13.104,9,12,9z M12,15 c-1.104,0-2,0.894-2,2c0,1.104,0.895,2,2,2c1.104,0,2-0.896,2-2C13.999,15.894,13.104,15,12,15z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MenuIcon=a}),98);
__d("WAWebOnKeyDownPlugin",["LexicalComposerContext","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){function a(a){var b=a.onKeyDown;a=d("LexicalComposerContext").useLexicalComposerContext();a=a[0];d("useWAWebLexicalEvent").useLexicalKeydownEvent(a,null,function(a){b==null||b(a)});return null}g.OnKeyDownPlugin=a}),98);
__d("WAWebMultilinePlugin",["Lexical","LexicalComposerContext","WAWebLexicalUtils","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){var h=d("Lexical").createCommand();function a(a){var b=a.multiline;a=d("LexicalComposerContext").useLexicalComposerContext();var c=a[0];a=function(){b&&c.update(function(){var a;(a=d("WAWebLexicalUtils").$getRangeSelection())==null||a.insertParagraph();c.dispatchCommand(h)});return!0};d("useWAWebLexicalEvent").useLexicalCommandListener(c,d("Lexical").INSERT_LINE_BREAK_COMMAND,a);d("useWAWebLexicalEvent").useLexicalCommandListener(c,d("Lexical").INSERT_PARAGRAPH_COMMAND,a);return null}g.NEW_PARAGRAPH_COMMAND=h;g.MultilinePlugin=a}),98);
__d("WAWebOnEnterPlugin",["Lexical","LexicalComposerContext","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){function a(a){var b=a.enterIsNewLine,c=a.onEnter;a=d("LexicalComposerContext").useLexicalComposerContext();a=a[0];d("useWAWebLexicalEvent").useLexicalCommandListener(a,d("Lexical").KEY_ENTER_COMMAND,function(a){if(!a)return!1;var d=a.ctrlKey||a.altKey||a.shiftKey;if(b){if(!d&&!a.metaKey)return!1;c==null||c(a);return!0}if(d)return!1;c==null||c(a);return!0},d("Lexical").COMMAND_PRIORITY_NORMAL);return null}g.OnEnterPlugin=a}),98);
__d("WAWebRichTextInputContentEditable.react",["LexicalComposerContext","LexicalContentEditable","WAWebStylesEnv","WAWebUIRefreshGatingUtils","react","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useCallback,m=b.useEffect,n=b.useLayoutEffect;e=15;var o=1.47,p={contentEditable:{userSelect:"x1hx0egp",overflowX:"x6ikm8r",overflowY:"x1odjw0f",fontSize:"x6prxxf",lineHeight:"x1k6rcq7",$$css:!0},nowrap:{whiteSpace:"x1whj5v",$$css:!0}};function a(a){var b=a.ariaActiveDescendant,e=a.ariaLabel,f=a.focusOnMount,g=a.lineWrap;g=g===void 0?!0:g;var h=a.maxVisibleLines,j=a.minVisibleLines;j=j===void 0?1:j;var q=a.onClick,s=a.placeholder,t=a.placeholderTestId;t=a.placeholderXstyle;var u=a.readOnly,v=u===void 0?!1:u;u=a.ref;var w=a.spellCheck,x=a.tabOrder,y=a.testid;y=a.title;a=a.xstyle;var z=d("LexicalComposerContext").useLexicalComposerContext(),A=z[0];z=l(function(a){a!=null&&(x!=null&&a.setAttribute("data-tab",String(x)),f===!0&&self.setTimeout(function(){return A.focus()},0))},[]);n(function(){var a=A.getRootElement();a!==null&&a.setAttribute("data-tab",String(x))},[A,x]);u=c("useMergeRefs")(u,z);m(function(){A.setEditable(!v)},[A,v]);var B;z=e!=null?e:y;z!=null&&z!==""&&(B={ariaLabel:z.toString()});e=s==null?B:babelHelpers["extends"]({placeholder:k.jsx(r,{text:s,xstyle:t,testid:void 0}),"aria-placeholder":s.toString()},B);return k.jsx(d("LexicalContentEditable").ContentEditable,babelHelpers["extends"]({ariaActiveDescendant:b,className:(i||(i=c("stylex")))(p.contentEditable,a,!g&&p.nowrap),style:{maxHeight:h!=null?o*h+"em":void 0,minHeight:o*j+"em"}},e,{role:"textbox",ref:u,spellCheck:w,title:y==null?void 0:y.toString(),"data-testid":void 0,tabIndex:x!=null?x:void 0,onClick:q,ariaAutoComplete:"list",ariaOwns:"emoji-suggestion"}))}a.displayName=a.name+" [from "+f.id+"]";var q={container:{position:"x10l6tqk",top:"x13vifvy",bottom:"x1ey2m1c",insetInlineStart:"x1u2k1fw",zIndex:"xhtitgo",color:"x1grh1yo",pointerEvents:"x47corl",userSelect:"x87ps6o",transition:"xh9ts4v",fontSize:"x6prxxf",lineHeight:"x1k6rcq7",$$css:!0},containerRefreshed:{insetInlineStart:"x1o0tod",$$css:!0},fontSmoothing:{"-webkit-font-smoothing":"xvmahel","-moz-osx-font-smoothing":"xlh3980",$$css:!0}};function r(a){var b=a.testid;b=a.text;a=a.xstyle;return k.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(i||(i=c("stylex"))).props(q.container,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&q.containerRefreshed,d("WAWebStylesEnv").isOSMac&&q.fontSmoothing,a),{children:b}))}r.displayName=r.name+" [from "+f.id+"]";g.MIN_FONT_SIZE=e;g.InputContentEditable=a}),98);
__d("WAWebTextFormatParser",["$InternalEnum","WAWebBlockQuoteFormatMutator","WAWebBoldFormatMutator","WAWebBotCommandFormatMutator","WAWebBulletedListItemFormatMutator","WAWebCodeFormatMutator","WAWebFormat","WAWebFormatSerializer","WAWebHelpersFindPhoneNumbers","WAWebInlineCodeFormatMutator","WAWebItalicFormatMutator","WAWebLinkFormatMutator","WAWebLinkify","WAWebNumberedListItemFormatMutator","WAWebPhoneNumberFormatMutator","WAWebStrikethroughFormatMutator","cr:9051","err"],(function(a,b,c,d,e,f,g){var h="*",i="_",j="~",k="```",l="`",m=">",n="*",o="-",p=b("$InternalEnum").Mirrored(["Bold","Italic","Strikethrough","Code","InlineCode","BlockQuote","BotCommand","BulletedListItem","HyphenListItem","NumberedListItem","Link"]);e=new Set([p.BulletedListItem,p.HyphenListItem]);var q=new Set([p.Bold,p.Italic,p.Strikethrough,p.Code,p.InlineCode]);function r(a,e){switch(a){case c("WAWebBoldFormatMutator"):return{format:p.Bold,symbol:h};case c("WAWebItalicFormatMutator"):return{format:p.Italic,symbol:i};case c("WAWebStrikethroughFormatMutator"):return{format:p.Strikethrough,symbol:j};case d("WAWebBulletedListItemFormatMutator").BulletedListItemWithEmpty:return{format:p.BulletedListItem,symbol:n};case d("WAWebBulletedListItemFormatMutator").HyphenListItemWithEmpty:return{format:p.HyphenListItem,symbol:o};case d("WAWebNumberedListItemFormatMutator").NumberedListItemWithEmpty:return{format:p.NumberedListItem,symbol:e[1]};case c("WAWebInlineCodeFormatMutator"):return{format:p.InlineCode,symbol:l};case d("WAWebBlockQuoteFormatMutator").BlockQuoteWithEmpty:return{format:p.BlockQuote,symbol:m};case d("WAWebCodeFormatMutator").Code:return{format:p.Code,symbol:k};case d("WAWebBotCommandFormatMutator").BotCommand:return{format:p.BotCommand,symbol:""};case b("cr:9051"):case c("WAWebPhoneNumberFormatMutator"):case c("WAWebLinkFormatMutator"):return{format:p.Link,symbol:""};default:throw c("err")("Unknown format mutator")}}var s=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);b.onDelimiter=function(){return null};b.onMutator=function(a,b,c){a=r(a,c);c=a.format;a=a.symbol;return{format:c,symbol:a,children:b.filter(Boolean)}};b.onRoot=function(a){return{children:a.filter(Boolean)}};b.onText=function(a){return{text:a}};return b}(c("WAWebFormatSerializer")),t=function(a,e){var f=e.bulletPointsEnabled;f=f===void 0?!1:f;var g=e.numberedListEnabled;g=g===void 0?!1:g;var h=e.inlineCodeEnabled;h=h===void 0?!1:h;var i=e.blockQuoteEnabled;i=i===void 0?!1:i;var j=e.internLinksEnabled;j=j===void 0?!1:j;var k=e.phoneNumbersEnabled;k=k===void 0?!1:k;var l=e.linksEnabled;l=l===void 0?!1:l;e=e.highlightedBotCommands;return[[[d("WAWebCodeFormatMutator").Code,{}]],f?[[d("WAWebBulletedListItemFormatMutator").BulletedListItemWithEmpty,{}]]:null,f?[[d("WAWebBulletedListItemFormatMutator").HyphenListItemWithEmpty,{}]]:null,g?[[d("WAWebNumberedListItemFormatMutator").NumberedListItemWithEmpty,{}]]:null,i?[[d("WAWebBlockQuoteFormatMutator").BlockQuoteWithEmpty,{}]]:null,h?[[c("WAWebInlineCodeFormatMutator"),{}]]:null,[[c("WAWebBoldFormatMutator"),{}],[c("WAWebItalicFormatMutator"),{}],[c("WAWebStrikethroughFormatMutator"),{}]],l?[[c("WAWebLinkFormatMutator"),{links:d("WAWebLinkify").findLinks(a)}]]:null,k?[[c("WAWebPhoneNumberFormatMutator"),{phoneNumbers:c("WAWebHelpersFindPhoneNumbers")(a)}]]:null,j&&b("cr:9051")?[[b("cr:9051"),{}]]:null,e?[[d("WAWebBotCommandFormatMutator").BotCommand,{commands:e}]]:null].filter(Boolean)};function a(a,b){b=c("WAWebFormat")(a,t(a,b!=null?b:{}),s);var d=u(b);return d!==a?null:b}function u(a){var b="";for(a of a.children)b+=v(a);return b}function v(a){if(a.text!=null)return a.text;else if(a.children){var b=a.symbol;for(var d of a.children)b+=v(d);q.has(a.format)&&(b+=a.symbol);return b}throw c("err")("should never reach here")}g.FormatType=p;g.BulletedListItemFormats=e;g.parseText=a}),98);
__d("WAWebTextFormatPreviewPlugin.react",["Lexical","LexicalComposerContext","WALogger","WANullthrows","WAWebDelimiterNode","WAWebLexicalUtils","WAWebListBulletNode","WAWebListNumberNode","WAWebMentionNode","WAWebQuoteLineNode","WAWebTextFormatParser","WAWebUIRefreshGatingUtils","WDSVars.stylex","gkx","react"],(function(a,b,c,d,e,f,g){var h,i,j,k=(j||d("react")).useEffect;function a(a){var b=a.blockQuoteEnabled,c=a.bulletPointsEnabled,e=a.highlightedBotCommands,f=a.inlineCodeEnabled,g=a.internLinksEnabled,h=a.linksEnabled,i=a.numberedListEnabled,j=a.phoneNumbersEnabled;a=d("LexicalComposerContext").useLexicalComposerContext();var m=a[0];k(function(){var a=!1;function k(){l(m,{bulletPointsEnabled:c,numberedListEnabled:i,inlineCodeEnabled:f,blockQuoteEnabled:b,internLinksEnabled:g,phoneNumbersEnabled:j,linksEnabled:h,highlightedBotCommands:e})}var n=m.registerTextContentListener(function(){a=!0}),o=m.registerUpdateListener(function(){if(m.isComposing()||!a)return;a=!1;k()}),p=m.registerMutationListener(d("Lexical").ParagraphNode,function(a){for(a of a){var b=a[1];if(b==="created"||b==="destroyed"){self.setTimeout(k,0);break}}},{skipInitialization:!0});return function(){n(),p(),o()}},[m,c,i,f,b,e,g,j,h]);k(function(){l(m,{bulletPointsEnabled:c,numberedListEnabled:i,inlineCodeEnabled:f,blockQuoteEnabled:b,highlightedBotCommands:e,internLinksEnabled:g,phoneNumbersEnabled:j,linksEnabled:h});return function(){m.update(v)}},[m,c,i,f,b,e,g,j,h]);return null}function l(a,b){a.update(function(){var a=x();if(!a){v();return}var c=d("WAWebTextFormatParser").parseText(a,b);if(!c){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Rich Text Input] Failed to parse text format: ",""])),a);v();return}m(c);s()},{tag:"history-merge",skipTransforms:!0})}function m(a){try{var b=d("Lexical").$getRoot();if(!b.getFirstChild())return;b=u();if(!b)return;for(a of a.children){if(!b)break;b=n(a,b,[])}}catch(a){if(a instanceof d("WAWebLexicalUtils").NodeTypeAssertionError)c("gkx")("26258")||d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["lexical-text-input: ",""])),a.message).devConsole({error:a}).sendLogs("lexical-text-input: text format error"),v();else throw a}}function n(a,b,e){if(a.text!=null){var f=b,g=a.text.replace(/\n/g,"");if(!g)return f;for(f of o(f,g.length))r(f,e);return p(f)}else if(d("WAWebTextFormatParser").BulletedListItemFormats.has(a.format)&&a.children){g=d("WAWebListBulletNode").$transformToListBulletNode(q(b,a.symbol));f=p(g);g=f;for(f of a.children){if(!g)break;var h=n(f,g,e);g=h}return g}else if(a.format===d("WAWebTextFormatParser").FormatType.NumberedListItem&&a.children){h=d("WAWebListNumberNode").$transformToListNumberNode(q(b,a.symbol));f=p(h);g=f;for(h of a.children){if(!g)break;f=n(h,g,e);g=f}return g}else if(a.format===d("WAWebTextFormatParser").FormatType.BlockQuote&&a.children){f=d("WAWebQuoteLineNode").$transformToQuoteLineNode(q(b,a.symbol));h=p(f);g=h;for(f of a.children){if(!g)break;h=n(f,g,[d("WAWebTextFormatParser").FormatType.BlockQuote].concat(e));g=h}return g}else if(a.format===d("WAWebTextFormatParser").FormatType.BotCommand&&a.children){h=b;for(f of a.children){if(!h)break;g=n(f,h,[d("WAWebTextFormatParser").FormatType.BotCommand].concat(e));h=g}return h}else if(a.format===d("WAWebTextFormatParser").FormatType.Link&&a.children){g=b;for(f of a.children){if(!g)break;h=n(f,g,[d("WAWebTextFormatParser").FormatType.Link].concat(e));g=h}return g}else if(a.children){h=d("WAWebLexicalUtils").assertTextNode(w(b),"text node starts with an opening symbol");f=d("WAWebDelimiterNode").$transformToDelimiterNode(q(h,a.symbol),"open");g=p(f);h=c("WANullthrows")(g);for(b of a.children){f=n(b,h,[].concat(e,[a.format]));h=c("WANullthrows")(f)}g=d("WAWebDelimiterNode").$transformToDelimiterNode(q(d("WAWebLexicalUtils").assertTextNode(h,"text node starts with a closing symbol"),a.symbol),"close");return p(g)}}function* o(a,b){a=a;var c=0;while(a&&c<b){a=w(a);var d=a.getTextContentSize(),e=b-c;if(e<d){e=a.splitText(0,e);a=e[0]}yield a;c+=d;a=p(a)}}function p(a){var b=a==null?void 0:a.getNextSibling();if(b)return d("WAWebLexicalUtils").assertTextNode(b,"getNextTextNode: has next sibling");a=d("WAWebLexicalUtils").assertParagraphNode(a==null?void 0:a.getParent());a=a;while(a&&!b){a=a.getNextSibling();if(!a)break;b=d("WAWebLexicalUtils").assertParagraphNode(a).getFirstChild()}return b&&d("WAWebLexicalUtils").assertTextNode(b,"getNextTextNode: found next node")}function q(a,b){var d=a.getTextContentSize();if(d===b.length)return a;else if(d>b.length){d=a.splitText(0,b.length);d=d[0];return d}d=a;while(d.getTextContentSize()<b.length){a=c("WANullthrows")(p(d)).splitText(0,b.length-d.getTextContentSize());a=a[0];d=d.mergeWithSibling(a)}return d}function r(a,b,c){c===void 0&&(c=!1);if(!d("Lexical").$isTextNode(a)||a.isToken())return;y(a);for(b of b)switch(b){case d("WAWebTextFormatParser").FormatType.Bold:a.toggleFormat("bold");break;case d("WAWebTextFormatParser").FormatType.Italic:a.toggleFormat("italic");break;case d("WAWebTextFormatParser").FormatType.Strikethrough:a.toggleFormat("strikethrough");break;case d("WAWebTextFormatParser").FormatType.Code:a.toggleFormat("code");break;case d("WAWebTextFormatParser").FormatType.InlineCode:a.toggleFormat("code");z(a,"color: "+d("WDSVars.stylex").WDSColors["--WDS-content-deemphasized"]+";","border-radius: 6px;","background-color: "+d("WDSVars.stylex").WDSColors["--WDS-surface-highlight"]+";","padding: 0 4px;");break;case d("WAWebTextFormatParser").FormatType.BlockQuote:!c&&!d("WAWebMentionNode").$isMentionNode(a)&&z(a,"color: var(--block-quote-text);");break;case d("WAWebTextFormatParser").FormatType.BotCommand:z(a,"color: var(--bot-command-text);");break;case d("WAWebTextFormatParser").FormatType.Link:var e=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WDSVars.stylex").WDSColors["--WDS-content-external-link"]:"var(--link)";z(a,"color: "+e);break;case d("WAWebTextFormatParser").FormatType.BulletedListItem:case d("WAWebTextFormatParser").FormatType.HyphenListItem:case d("WAWebTextFormatParser").FormatType.NumberedListItem:break}}function s(){var a=d("Lexical").$getRoot();a=a.getFirstChild();while(a)d("WAWebLexicalUtils").assertParagraphNode(a),t(a),a=a.getNextSibling()}function t(a){a.setIndent(a.getTargetIndent())}function u(){var a=d("WAWebLexicalUtils").assertParagraphNode(d("Lexical").$getRoot().getFirstChild());while(!a.getFirstChild()){if(!a.getNextSibling())return null;a=d("WAWebLexicalUtils").assertParagraphNode(a.getNextSibling())}a=a.getFirstChild();return a&&d("WAWebLexicalUtils").assertTextNode(a,"get first text node")}function v(){var a=d("Lexical").$getRoot();a.getChildren().forEach(function(a){a.setIndent(0),a.getChildren().forEach(function(a){a=w(a);a.setFormat(0);a.setStyle("")})})}function w(a){if(!(a instanceof d("WAWebListBulletNode").ListBulletNode)&&!(a instanceof d("WAWebListNumberNode").ListNumberNode)&&!(a instanceof d("WAWebQuoteLineNode").QuoteLineNode)&&!(a instanceof d("WAWebDelimiterNode").DelimiterNode))return a;var b=new(d("Lexical").TextNode)(a.getTextContent());a.replace(b);return b}function x(){var a=[];for(var b of d("Lexical").$getRoot().getChildren()){var c=[];for(var e of b.getChildren()){var f=e.getTextContent();d("WAWebMentionNode").$isMentionNode(e)&&(f=f.replace(/[\*_~`]/g,"="));c.push(f)}a.push(c.join(""))}return a.join("\n")}function y(a){a.setStyle(""),a.setFormat(0)}function z(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];a.setStyle(a.getStyle()+" "+c.join(""))}g.TextFormatPreviewPlugin=a}),98);
__d("WAWebTextFormatShortcutsPlugin.react",["Lexical","LexicalComposerContext","WAWebActions","WAWebKeyboardShortcuts","WAWebTextFormatUtils","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){function h(a,b){a=d("WAWebKeyboardShortcuts").getAction(a);if(!a)return null;switch(a){case d("WAWebActions").Action.TOGGLE_BOLD:return d("WAWebTextFormatUtils").TextFormatType.Bold;case d("WAWebActions").Action.TOGGLE_ITALIC:return d("WAWebTextFormatUtils").TextFormatType.Italic;case d("WAWebActions").Action.TOGGLE_STRIKETHROUGH:return d("WAWebTextFormatUtils").TextFormatType.Strikethrough;case d("WAWebActions").Action.TOGGLE_INLINE_CODE:return b.inlineCodeEnabled?d("WAWebTextFormatUtils").TextFormatType.InlineCode:null;case d("WAWebActions").Action.TOGGLE_CODE:return d("WAWebTextFormatUtils").TextFormatType.Code;case d("WAWebActions").Action.TOGGLE_NUMBERED_LIST:return b.numberedListEnabled?d("WAWebTextFormatUtils").TextFormatType.NumberedList:null;case d("WAWebActions").Action.TOGGLE_BULLETED_LIST:return b.bulletPointsEnabled?d("WAWebTextFormatUtils").TextFormatType.BulletedList:null;case d("WAWebActions").Action.TOGGLE_QUOTE:return b.blockQuoteEnabled?d("WAWebTextFormatUtils").TextFormatType.Quote:null;default:return null}}function a(a){var b=d("LexicalComposerContext").useLexicalComposerContext(),c=b[0];d("useWAWebLexicalEvent").useLexicalCommandListener(c,d("Lexical").KEY_MODIFIER_COMMAND,function(b){var e=h(b,a);if(!e||c.isComposing())return!1;c.update(function(){d("WAWebTextFormatUtils").$toggleTextFormat(e)});return!0},d("Lexical").COMMAND_PRIORITY_HIGH);return}g.TextFormatShortcutsPlugin=a}),98);
__d("WAWebTextModifierPlugin",["Lexical","LexicalComposerContext","WAWebLexicalUtils","WAWebMultilinePlugin","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){function a(a){var b=a.autoToggleListBulletSymbol,c=a.autoToggleListNumberSymbol;a=d("LexicalComposerContext").useLexicalComposerContext();a=a[0];d("useWAWebLexicalEvent").useLexicalCommandListener(a,d("WAWebMultilinePlugin").NEW_PARAGRAPH_COMMAND,function(){b&&h();c&&i();return!1},d("Lexical").COMMAND_PRIORITY_NORMAL);d("useWAWebLexicalEvent").useLexicalCommandListener(a,d("Lexical").DELETE_LINE_COMMAND,function(a){var b=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(b))return!1;b.isCollapsed()&&(b.anchor.type==="text"&&b.modify("extend",a,"lineboundary"));b.removeText();return!0},d("Lexical").COMMAND_PRIORITY_HIGH);return null}function h(){var a=d("WAWebLexicalUtils").$getSelectionParagraph();if(!a)return;a=a.getPreviousSibling();var b=a==null?void 0:a.getBulletNode();if(!a||!b)return;if(j(a))a.remove();else{a=b.getTextContent();d("WAWebLexicalUtils").$insertText(a+" ")}}function i(){var a=d("WAWebLexicalUtils").$getSelectionParagraph();if(!a)return;a=a.getPreviousSibling();var b=a==null?void 0:a.getNumberNode();if(!a||!b)return;if(j(a))a.remove();else{a=parseInt(b.getTextContent(),10)+1;a<=99&&d("WAWebLexicalUtils").$insertText(a+". ")}}function j(a){var b=d("WAWebLexicalUtils").assertTextNode(a.getBulletNode()||a.getNumberNode());return a.getTextContentSize()-b.getTextContentSize()===1}g.TextModifierPlugin=a}),98);
__d("useWAWebToggle",["react","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a,b){var d=c("useWAWebStableCallback")(b);b=j(a);a=b[0];var e=b[1];b=i(function(){return e(function(a){a=!a;d(a);return a})},[d]);return[a,b]}g["default"]=a}),98);
__d("WAWebRichTextInput.react",["Lexical","LexicalClearEditorPlugin","LexicalComposer","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","WALogger","WAWebBidiParagraphNode","WAWebCharacterLimitPlugin","WAWebClassnames","WAWebClipboardPlugin","WAWebCopyPasteCopyable.react","WAWebCopyPasteSelectable.react","WAWebDebugRichTextInput","WAWebDelimiterNode","WAWebEditorInitialSelectionPlugin.react","WAWebEditorInitialStatePlugin.react","WAWebEditorRefPlugin","WAWebEditorStatePlugin.react","WAWebEmojiNode","WAWebEmojisPlugin.react","WAWebFloatingToolbarPlugin.react","WAWebLexicalUtils","WAWebListBulletNode","WAWebListNumberNode","WAWebMentionNode","WAWebMentionsPlugin.react","WAWebMultilinePlugin","WAWebNormalizeStack","WAWebOnEnterPlugin","WAWebOnKeyDownPlugin","WAWebQuoteLineNode","WAWebRichTextInputContentEditable.react","WAWebTextFormatPreviewPlugin.react","WAWebTextFormatShortcutsPlugin.react","WAWebTextModifierPlugin","WAWebUIRefreshGatingUtils","cr:1009","gkx","react","stylex","useWAWebLexicalEvent","useWAWebToggle"],(function(a,b,c,d,e,f,g){var h,i=["ariaActiveDescendents","blockQuoteEnabled","botInvokeEnabled","bulletPointsEnabled","children","emojiSize","enterIsNewLine","floatingToolbarEnabled","groupMetadata","highlightedBotCommands","initialText","inlineCodeEnabled","internLinksEnabled","linksEnabled","maxCodeUnits","maxLength","maxLineCount","multiline","numberedListEnabled","onBlur","onChange","onClick","onEnter","onFiles","onFocus","onKeyDown","onMaxInputExceeded","onMaxPasteExceeded","onTextPaste","pasteFromHTML","phoneNumbersEnabled","placeholder","placeholderTextXStyle","ref","selectOnMount","showDebugPanel","textFormatEnabled","textFormatShortcutsEnabled","textXstyle","transformTextEmoji","xstyle"],j,k,l;e=l||d("react");var m=j||(j=c("react")),n=e.useImperativeHandle,o=e.useMemo,p=e.useRef,q=e.useState,r={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0}},s={paragraph:d("WAWebClassnames").classnamesConvertMeToStylexPlease(d("WAWebCopyPasteSelectable.react").SELECTABLE_CSS_CLASS,d("WAWebCopyPasteCopyable.react").COPYABLE_CSS_CLASS,"x15bjb6t x1n2onr6"),text:{base:d("WAWebClassnames").classnamesConvertMeToStylexPlease(d("WAWebCopyPasteSelectable.react").SELECTABLE_CSS_CLASS,d("WAWebCopyPasteCopyable.react").COPYABLE_CSS_CLASS,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&"xkrh14z"),bold:"x117nqv4",italic:"x1k4tb9n",strikethrough:"xmqliwb x1g37x3v",code:"xldyu6s xgfl6pn"}};function a(a){var e=a.ariaActiveDescendents,f=a.blockQuoteEnabled;f=f===void 0?!1:f;var g=a.botInvokeEnabled;g=g===void 0?!1:g;var j=a.bulletPointsEnabled;j=j===void 0?!1:j;var l=a.children,t=a.emojiSize,u=a.enterIsNewLine;u=u===void 0?!1:u;var v=a.floatingToolbarEnabled;v=v===void 0?!1:v;var w=a.groupMetadata,x=a.highlightedBotCommands,y=a.initialText,z=a.inlineCodeEnabled;z=z===void 0?!1:z;var A=a.internLinksEnabled;A=A===void 0?!1:A;var B=a.linksEnabled;B=B===void 0?!1:B;var C=a.maxCodeUnits,D=a.maxLength,E=a.maxLineCount,F=a.multiline;F=F===void 0?!1:F;var G=a.numberedListEnabled;G=G===void 0?!1:G;var H=a.onBlur,I=a.onChange,aa=a.onClick,J=a.onEnter,ba=a.onFiles,ca=a.onFocus,K=a.onKeyDown,da=a.onMaxInputExceeded,ea=a.onMaxPasteExceeded,L=a.onTextPaste,M=a.pasteFromHTML;M=M===void 0?!1:M;var N=a.phoneNumbersEnabled;N=N===void 0?!1:N;var fa=a.placeholder,ga=a.placeholderTextXStyle,O=a.ref,P=a.selectOnMount;P=P===void 0?!1:P;var ha=a.showDebugPanel,Q=a.textFormatEnabled;Q=Q===void 0?!1:Q;var R=a.textFormatShortcutsEnabled;R=R===void 0?!1:R;var S=a.textXstyle,T=a.transformTextEmoji;T=T===void 0?!0:T;var U=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var ia=o(function(){return d("LexicalHistoryPlugin").createEmptyHistoryState()},[]),V=q(),W=V[0];V=V[1];Q=c("useWAWebToggle")(Q);var X=Q[0];Q=Q[1];M=c("useWAWebToggle")(M);var Y=M[0];M=M[1];var ja=p(null),Z=p(null),ka=function(a){return L!=null&&L(a)?!0:!1};function $(){return{focus:function(){W==null||W.focus()},isFocused:function(){return d("WAWebLexicalUtils").isFocused(W)},blur:function(){d("WAWebLexicalUtils").isFocused(W)&&(W==null||W.blur())},selectAll:function(){W&&d("WAWebLexicalUtils").selectAll(W)},replaceSelection:function(a,b){W==null||W.update(function(){return d("WAWebLexicalUtils").$insertText(a,b)})},reset:function(){if(!W)return;d("WAWebLexicalUtils").setTextContent(W,"")},paste:function(a){a=a.nativeEvent;a instanceof ClipboardEvent&&(W==null||W.dispatchCommand(d("Lexical").PASTE_COMMAND,a))},editor:W,editorContent:function(){return Z.current},isCursorAtStart:function(){return!W?!1:d("WAWebLexicalUtils").isCursorAtStart(W)},isCursorAtEnd:function(){return!W?!1:d("WAWebLexicalUtils").isCursorAtEnd(W)},getTextContent:function(){return!W?null:d("WAWebLexicalUtils").getTextContent(W)},setTextContent:function(a){if(!W||d("WAWebLexicalUtils").getTextContent(W)===a)return;d("WAWebLexicalUtils").setTextContent(W,a)}}}n(O,$,[W]);d("useWAWebLexicalEvent").useLexicalCommandListener(W,d("Lexical").FOCUS_COMMAND,function(){c("gkx")("26258")||d("WAWebDebugRichTextInput").setActiveRichTextInputRef($());return!1});O=o(function(){var a=function(a){c("gkx")("26258")||d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["lexical-text-input error: ","\nstack: ",""],["lexical-text-input error: ","\\nstack: ",""])),a.message,d("WAWebNormalizeStack").normalizeStack(a)).devConsole({error:a}).sendLogs("lexical-text-input error",{sendLogsType:d("WALogger").SendLogsType.EXTREMELY_BAD_USER_EXPERIENCE_SAD})};return{namespace:"WAWebRichTextInput",theme:s,nodes:[d("WAWebEmojiNode").EmojiNode,d("WAWebMentionNode").MentionNode,d("WAWebListBulletNode").ListBulletNode,d("WAWebListNumberNode").ListNumberNode,d("WAWebQuoteLineNode").QuoteLineNode,d("WAWebBidiParagraphNode").BidiParagraphNode,d("WAWebDelimiterNode").DelimiterNode,{replace:d("Lexical").ParagraphNode,"with":function(){return new(d("WAWebBidiParagraphNode").BidiParagraphNode)()}}],onError:a}},[]);var la=function(a,b,c){Z.current=a,c||(I==null||I(a,b))};U=d("WAWebClassnames").classnamesConvertMeToStylexPlease((k||(k=c("stylex")))(r.container,U),"lexical-rich-text-input");return m.jsx("div",{className:U,children:m.jsxs(d("LexicalComposer").LexicalComposer,{initialConfig:O,children:[m.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:m.jsx(d("WAWebRichTextInputContentEditable.react").InputContentEditable,babelHelpers["extends"]({},a,{ref:ja,xstyle:S,focusOnMount:P===!0?!1:a.focusOnMount,onClick:aa,ariaActiveDescendant:e,placeholder:fa,placeholderXstyle:[S,ga]})),ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary}),m.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{externalHistoryState:ia}),m.jsx(d("LexicalClearEditorPlugin").ClearEditorPlugin,{}),b("cr:1009")!=null&&m.jsx(b("cr:1009"),{showByDefault:ha,textFormatEnabled:X,pasteFromHTML:Y,onToggleTextFormat:Q,onTogglePasteFromHTML:M}),m.jsx(d("WAWebMultilinePlugin").MultilinePlugin,{multiline:F}),m.jsx(d("WAWebEditorRefPlugin").EditorRefPlugin,{editorRef:V}),m.jsx(d("WAWebClipboardPlugin").ClipboardPlugin,{onFiles:ba,onTextPaste:ka,ignoreLineBreakOnPaste:!F,pasteFromHTML:Y}),m.jsx(d("WAWebEditorStatePlugin.react").EditorStatePlugin,{onChange:la,onBlur:H,onFocus:ca}),m.jsx(d("WAWebEditorInitialStatePlugin.react").EditorInitialStatePlugin,{initialText:y,willReceiveFocus:Boolean(a.focusOnMount)||P}),m.jsx(d("WAWebEditorInitialSelectionPlugin.react").EditorInitialSelectionPlugin,{selectAll:P}),m.jsx(d("WAWebEmojisPlugin.react").EmojisPlugin,{emojiSize:t,transformTextEmoji:T}),m.jsx(d("WAWebMentionsPlugin.react").MentionsPlugin,{groupMetadata:w,botInvokeEnabled:g}),m.jsx(d("WAWebTextModifierPlugin").TextModifierPlugin,{autoToggleListBulletSymbol:j,autoToggleListNumberSymbol:G}),X&&m.jsxs(m.Fragment,{children:[m.jsx(d("WAWebTextFormatPreviewPlugin.react").TextFormatPreviewPlugin,{bulletPointsEnabled:j,numberedListEnabled:G,inlineCodeEnabled:z,blockQuoteEnabled:f,internLinksEnabled:A,phoneNumbersEnabled:N,linksEnabled:B,highlightedBotCommands:x}),v&&m.jsx(d("WAWebFloatingToolbarPlugin.react").FloatingToolbarPlugin,{bulletPointsEnabled:j,numberedListEnabled:G,inlineCodeEnabled:z,blockQuoteEnabled:f}),R&&m.jsx(d("WAWebTextFormatShortcutsPlugin.react").TextFormatShortcutsPlugin,{bulletPointsEnabled:j,numberedListEnabled:G,inlineCodeEnabled:z,blockQuoteEnabled:f})]}),(D!=null||C!=null)&&m.jsx(d("WAWebCharacterLimitPlugin").CharacterLimitPlugin,{maxLength:D,maxCodeUnits:C,onMaxPasteExceeded:ea,onMaxInputExceeded:da,maxLineCount:E}),K&&m.jsx(d("WAWebOnKeyDownPlugin").OnKeyDownPlugin,{onKeyDown:K}),J&&m.jsx(d("WAWebOnEnterPlugin").OnEnterPlugin,{onEnter:J,enterIsNewLine:u}),l]})})}a.displayName=a.name+" [from "+f.id+"]";g.RichTextInput=a}),98);
__d("WAWebSearchFilterChip.react",["WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef,m=b.useState,n={searchChip:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",backgroundColor:"xnbdvss",color:"xw2npq5",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x5see2y",borderInlineEndWidth:"x16hg961",borderBottomWidth:"x1pzews7",borderInlineStartWidth:"x1x3agtl",borderTopColor:"xmqhhia",borderInlineEndColor:"xhxcbcp",borderBottomColor:"x1klr3x6",borderInlineStartColor:"x11lmomm",whiteSpace:"xuxw1ft",$$css:!0},searchChipFocused:{borderTopColor:"xppi29i",borderInlineEndColor:"xqywuur",borderBottomColor:"x1ozei2p",borderInlineStartColor:"xheolg3",$$css:!0}};function a(a){var b=a.onClearFilter,c=a.ref,e=a.text;a=a.xstyle;var f=l(),g=m(!1),h=g[0],i=g[1];g={backspace:function(){h&&b()}};var o=function(){var a;(a=f.current)==null||a.focus();i(!0)},p=function(a){a.preventDefault(),o()};k(c,function(){return{focus:function(){o()},blur:function(){var a;(a=f.current)==null||a.blur();i(!1)},isFocused:function(){return h}}});return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:f,handlers:g,xstyle:a,onClick:p,children:j.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiPadding.horiz4,d("WAWebUISpacing").uiPadding.vert2,n.searchChip,h&&n.searchChipFocused],children:e})})}a.displayName=a.name+" [from "+f.id+"]";g.SearchFilterChip=a}),98);
__d("WAWebSearchIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="search";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M15.009,13.805h-0.636l-0.22-0.219c0.781-0.911,1.256-2.092,1.256-3.386 c0-2.876-2.332-5.207-5.207-5.207c-2.876,0-5.208,2.331-5.208,5.207s2.331,5.208,5.208,5.208c1.293,0,2.474-0.474,3.385-1.255 l0.221,0.22v0.635l4.004,3.999l1.194-1.195L15.009,13.805z M10.201,13.805c-1.991,0-3.605-1.614-3.605-3.605 s1.614-3.605,3.605-3.605s3.605,1.614,3.605,3.605S12.192,13.805,10.201,13.805z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SearchIcon=a}),98);
__d("WAWebSearchRefreshedThinIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="search-refreshed-thin";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=20;o=20;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 20 20",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.36653 4.3664C5.36341 3.36953 6.57714 2.87 8.00012 2.87C9.42309 2.87 10.6368 3.36953 11.6337 4.3664C12.6306 5.36329 13.1301 6.57724 13.1301 8.00062C13.1301 8.57523 13.0412 9.11883 12.8624 9.63057C12.6972 10.1038 12.4733 10.5419 12.1909 10.9444L16.5712 15.3247C16.7454 15.4989 16.8385 15.7046 16.8385 15.9375C16.8385 16.1704 16.7454 16.3761 16.5712 16.5503C16.396 16.7254 16.1866 16.8175 15.948 16.8175C15.7095 16.8175 15.5001 16.7254 15.3249 16.5503L10.9448 12.1906C10.5421 12.4731 10.104 12.697 9.63069 12.8623C9.11895 13.041 8.57535 13.13 8.00074 13.13C6.57736 13.13 5.36341 12.6305 4.36653 11.6336C3.36965 10.6367 2.87012 9.42297 2.87012 8C2.87012 6.57702 3.36965 5.36328 4.36653 4.3664ZM8.00012 4.63C7.06198 4.63 6.26877 4.95685 5.61287 5.61275C4.95698 6.26865 4.63012 7.06186 4.63012 8C4.63012 8.93813 4.95698 9.73134 5.61287 10.3872C6.26877 11.0431 7.06198 11.37 8.00012 11.37C8.93826 11.37 9.73146 11.0431 10.3874 10.3872C11.0433 9.73134 11.3701 8.93813 11.3701 8C11.3701 7.06186 11.0433 6.26865 10.3874 5.61275C9.73146 4.95685 8.93826 4.63 8.00012 4.63Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SearchRefreshedThinIcon=a}),98);
__d("WAWebSearchInput",["fbt","LexicalComposer","WANullthrows","WAWebBackIcon.react","WAWebClickable.react","WAWebEditorRefPlugin","WAWebEditorStatePlugin.react","WAWebFlex.react","WAWebKeyboardConstants","WAWebL10N","WAWebLexicalUtils","WAWebNoop","WAWebOnKeyDownPlugin","WAWebRichTextInput.react","WAWebSearchFilterChip.react","WAWebSearchIcon.react","WAWebSearchRefreshedThinIcon.react","WAWebSpinner.react","WAWebSvgComponentBase","WAWebUIRefreshGatingUtils","WAWebUISpacing","WDSIconIcClose.react","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useMemo,m=b.useRef,n=b.useState,o={container:{position:"x1n2onr6",width:"xh8yej3",boxSizing:"x9f619",$$css:!0},containerRefreshed:{height:"xdd8jsf",alignItems:"x7a106z",$$css:!0},iconCloseSearch:{insetInlineEnd:"x11dcrhx",left:null,right:null,borderStartStartRadius:"xt8t1vi",borderStartEndRadius:"x1xc408v",borderEndEndRadius:"x129tdwq",borderEndStartRadius:"x15urzxu",$$css:!0},inputWrapper:{position:"x1n2onr6",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",height:"x1s1d1n7",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},inputWrapperRefreshed:{color:"x14ug900",caretColor:"xjdcl3y",borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",height:"x1vqgdyp",boxShadow:"x19qpdui",paddingInlineStart:"x1p4gyq8",$$css:!0},inputWrapperFocusRefreshed:{borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",boxShadow:"xu8d7ss",":hover_borderTopColor":"x1lfjbn8",":hover_borderInlineEndColor":"xwj740h",":hover_borderBottomColor":"xdeyfa3",":hover_borderInlineStartColor":"x1pig4h2",$$css:!0},inputWrapperMaterial:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",$$css:!0},fullWidth:{width:"xh8yej3",$$css:!0},iconColorRefreshed:{color:"x14ug900",$$css:!0},startIcon:{height:"xxk0z11",width:"xvy4d1p",flexShrink:"x2lah0s",$$css:!0},startIconRefreshed:{height:"x1qx5ct2",width:"xw4jnvo",flexShrink:"x2lah0s",position:"x10l6tqk",top:"x1eu8d0j",insetInlineStart:"x9p6ekw",left:null,right:null,$$css:!0},backIconRefreshed:{position:"x10l6tqk",insetInlineStart:"xl3v32j",left:null,right:null,top:"x1qiirwl",color:"x14ug900",$$css:!0}},p={inputWrapper:{backgroundColor:"x1bmedo",$$css:!0},inputWrapperRefreshed:{backgroundColor:"x4wrhlh x1l0ey4t",$$css:!0},inputPlaceholder:{color:"x1grh1yo",$$css:!0},iconSearch:{color:"x1grh1yo",$$css:!0},iconCloseSearch:{color:"x1grh1yo",$$css:!0}},q={inputWrapper:{backgroundColor:"x1lfndzb",$$css:!0},inputWrapperRefreshed:{backgroundColor:"x4wrhlh x1l0ey4t",$$css:!0},inputPlaceholder:{color:"x1grh1yo",$$css:!0},iconSearch:{color:"x1grh1yo",$$css:!0},iconCloseSearch:{color:"x1grh1yo",$$css:!0}};function r(a){var b=a.filter,e=a.placeholder,f=a.onSearch,g=a.onClick,i=a.onCancel,j=a.onClearFilter,r=a.searchInputA11yLabel,s=a.focusOnMount;s=s===void 0?!0:s;var t=a.colorScheme,u=a.loading,v=a.children,w=a.padding,x=a.detailLeft,y=a.detailRight,z=a.showBackButton;z=z===void 0?!1:z;var A=a.showCloseButton;A=A===void 0?!1:A;var B=a.containerXStyle,C=a.onArrowDown,D=a.tabOrder,E=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),F=n(""),G=F[0],H=F[1],I=m(),J=m();F=G||b!=null;var K=n(!1),L=K[0],M=K[1],N=function(a){a=a.text;H(a);f==null||f(a)},O=function(){if(!I.current)return;d("WAWebLexicalUtils").setTextContent(I.current,"");N({text:"",parsableText:"",data:{}})},P=function(){j==null||j()},Q=function(){var a;(a=J.current)==null||a.blur();c("WANullthrows")(I.current).focus();M(!0)},R=function(){var a;(a=J.current)==null||a.blur();c("WANullthrows")(I.current).blur();M(!1)},S=function(){O(),P()};K=function(b){Q(),a.onFocus!=null&&a.onFocus(b)};var T=function(){S(),Q(),i==null||i()},U=function(){R(),S()},V=function(b){R(),a.onBlur!=null&&a.onBlur(b)},W;switch(t){case"darker":W=q;break;case"default":default:W=p;break}t=null;var X=E===!0?k.jsx(d("WAWebSearchRefreshedThinIcon.react").SearchRefreshedThinIcon,{xstyle:o.iconColorRefreshed}):k.jsx(d("WAWebSearchIcon.react").SearchIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.GRAY_LIGHTER});z=z?k.jsxs("button",{"aria-label":h._(/*BTDS*/"Cancel search"),onClick:U,children:[k.jsx("div",babelHelpers["extends"]({},{0:{className:"x47corl xg01cxk x1hzlkrz x1eppysm"},2:{className:"x10l6tqk x1jzctok xzwoauc x47corl xg01cxk x1hzlkrz x1eppysm"},1:{className:"x1hc1fzr x7a90jq x1nb0u29"},3:{className:"x10l6tqk x1jzctok xzwoauc x1hc1fzr x7a90jq x1nb0u29"}}[!!(E===!1)<<1|!!(L||F)<<0],{children:k.jsx(d("WAWebBackIcon.react").BackIcon,{height:24,width:24,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL_LIGHTER,overrideDirection:c("WAWebL10N").isRTL()?"rtl":"ltr",xstyle:E===!0&&o.backIconRefreshed})})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1sazirq x165colc"},2:{className:"x10l6tqk x1jzctok xzwoauc x1sazirq x165colc"},1:{className:"xg01cxk x7a90jq x11t6m9b"},3:{className:"x10l6tqk x1jzctok xzwoauc xg01cxk x7a90jq x11t6m9b"}}[!!(E===!1)<<1|!!(L||F)<<0],{children:X}))]}):X;u===!0?t=k.jsx(d("WAWebFlex.react").FlexRow,{marginEnd:E===!0?16:0,children:k.jsx(d("WAWebSpinner.react").Spinner,{size:20,stroke:6,color:"highlight"})}):(F||A)&&(t=k.jsx(d("WAWebFlex.react").FlexRow,{paddingEnd:20,children:k.jsx(d("WAWebClickable.react").Clickable,{xstyle:[o.iconCloseSearch,W.iconCloseSearch],ariaLabel:h._(/*BTDS*/"Cancel search"),onClick:T,children:k.jsx(c("WDSIconIcClose.react"),{})},"icon-clear-search")}));U=l(function(){return{namespace:"CommandPaletteInput",onError:c("WAWebNoop")}},[]);X=function(){P(),Q()};u=function(a){$$gen$m0:{if(a.key===d("WAWebKeyboardConstants").KEYBOARD_EVENT_KEY_VALUE.BACKSPACE){Y();break $$gen$m0}if(a.key===d("WAWebKeyboardConstants").KEYBOARD_EVENT_KEY_VALUE.ARROW_DOWN){a.preventDefault();C==null||C();break $$gen$m0}break $$gen$m0}};var Y=function(){if(G.length===0){var a;(a=J.current)==null||a.focus()}};F=b!=null&&k.jsx(d("WAWebSearchFilterChip.react").SearchFilterChip,{xstyle:d("WAWebUISpacing").uiPadding.horiz4,ref:J,onClearFilter:X,text:b});return k.jsxs(d("LexicalComposer").LexicalComposer,{initialConfig:U,children:[k.jsxs(d("WAWebFlex.react").FlexRow,{grow:0,shrink:0,basis:"auto",align:"center",padding:w!=null?w:E===!0?[0,20,12,20]:null,xstyle:[o.container,Boolean(E)&&o.containerRefreshed,B],children:[x,k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",padding:E===!0?0:[8,8],grow:1,xstyle:[o.inputWrapper,d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&o.inputWrapperMaterial,E===!0&&[o.inputWrapperRefreshed],E===!0&&!(G.length>0)&&d("WAWebUISpacing").uiPadding.end0,E===!0?W.inputWrapperRefreshed:W.inputWrapper,E===!0&&L&&o.inputWrapperFocusRefreshed],children:[k.jsx(d("WAWebFlex.react").FlexRow,{marginStart:E===!0?0:8,xstyle:E===!0?o.startIconRefreshed:o.startIcon,children:z}),F,k.jsx(d("WAWebFlex.react").FlexRow,{paddingEnd:8,xstyle:o.fullWidth,children:k.jsx(d("WAWebRichTextInput.react").RichTextInput,{tabOrder:D,testid:void 0,title:r,focusOnMount:s,xstyle:E===!1&&o.fullWidth,placeholder:e,onClick:g,multiline:!1,lineWrap:!1,children:k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebOnKeyDownPlugin").OnKeyDownPlugin,{onKeyDown:u}),k.jsx(d("WAWebEditorStatePlugin.react").EditorStatePlugin,{onChange:N,onBlur:V,onFocus:K}),k.jsx(d("WAWebEditorRefPlugin").EditorRefPlugin,{editorRef:I})]})})}),t]}),y]}),v]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){return k.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",children:k.jsx(r,babelHelpers["extends"]({},a,{padding:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()===!0?[0,20]:[8,16]}))})}a.displayName=a.name+" [from "+f.id+"]";g.SearchInput=r;g.DrawerSearchInput=a}),226);
__d("WAWebSearchUtils",["WAWebL10N"],(function(a,b,c,d,e,f,g){function a(a){return c("WAWebL10N").accentFold(a.trim().toLowerCase())}function b(a,b,c){if(c==null){var d=a.filter(b);return{results:d,pagination:{page:0,pageLength:d.length,hasMoreResults:!1}}}d=[];var e=null,f=c.page;f=f===void 0?0:f;c=c.pageLength;c=c===void 0?a.length:c;var g=(f+1)*c+1;for(var h=0;h<a.length;h++){if(d.length===g)break;var i=a[h];b(i)&&d.push(i)}d.length===g?e=!0:e=!1;return{results:d.slice(f*c,f*c+c),pagination:{page:f,pageLength:c,hasMoreResults:e}}}g.normalizeString=a;g.filterPaginate=b}),98);
__d("WAWebSimpleSearch",["WAWebL10NHelpers"],(function(a,b,c,d,e,f,g){function a(a,b){if(a==null||a==="")return!1;a=h(a);var c=b.map(h).flat();return a.every(function(a){return c.some(function(b){return b==null?void 0:b.startsWith(a)})})}function h(a){if(a==null)return[];a=String(d("WAWebL10NHelpers").removeAccents((a=a.toLocaleLowerCase("en"))==null?void 0:a.normalize("NFKD")));return a.split(" ")}g.simpleSearch=a}),98);
__d("WAWebMenuSearch.react",["WAWebFlex.react","WAWebMenuController.react","WAWebSearchInput","WAWebSearchUtils","WAWebSimpleSearch","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a=d("WAWebMenuController.react").useMenu(),c=function(a){a.stopPropagation(),a.preventDefault()},e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a.items;if(b==="")return a.filterItems(null);c=Array.from(c.values()).map(function(a){return a.current}).filter(Boolean);c=d("WAWebSearchUtils").filterPaginate(c,function(a){return d("WAWebSimpleSearch").simpleSearch(b,[a.searchCriteria])},{pageLength:c.length}).results;yield a.filterItems(c.map(function(a){return a.id}))});return function(a){return c.apply(this,arguments)}}(),f=function(){a.activeItemId!=null&&a.selectItem(a.activeItemId)};return i.jsx(d("WAWebFlex.react").FlexRow,{shrink:0,children:i.jsx(d("WAWebSearchInput").SearchInput,{focusOnMount:!0,colorScheme:"darker",onEnter:f,onClick:c,onFocus:c,onBlur:c,onSearch:e,placeholder:""})})}a.displayName=a.name+" [from "+f.id+"]";g.MenuSearchInput=a}),98);
__d("useWAWebSet",["Promise","react"],(function(a,b,c,d,e,f,g){var h,i;c=i||d("react");var j=c.useCallback,k=c.useState;function a(a){a=k(a?a():function(){return new Set()});var c=a[0],d=a[1];a=j(function(a){return new(h||(h=b("Promise")))(function(b){d(function(c){c=new Set(c);c.add(a);b(c);return c})})},[]);var e=j(function(a){return new(h||(h=b("Promise")))(function(b){d(function(c){c=new Set(c);c["delete"](a);b(c);return c})})},[]),f=j(function(a){return new(h||(h=b("Promise")))(function(b){d(function(c){c=new Set(c);c.has(a)?c["delete"](a):c.add(a);b(c);return c})})},[]),g=j(function(a){a===void 0&&(a=[]);return new(h||(h=b("Promise")))(function(b){d(function(){var c=new Set(a);b(c);return c})})},[]);return[c,{add:a,remove:e,toggle:f,clear:g}]}g.useSet=a}),98);
__d("WAWebSelectMenuItem.react",["WAWebCellMenuItem.react","WAWebCheckboxRoundCheckedIcon.react","WAWebCheckboxRoundPassiveIcon.react","WAWebCheckboxRoundRadioCheckedIcon.react","WAWebCheckboxRoundUncheckedIcon.react","WAWebCheckmarkIcon.react","WAWebMenuController.react","WAWebSvgComponentBase","asyncToGeneratorRuntime","err","react","useWAWebListener","useWAWebSet"],(function(a,b,c,d,e,f,g){var h=["middlecontainerXStyle","onMouseEnter","onMouseLeave","theme"],i,j,k=j||d("react"),l=i||(i=c("react")),m=k.Children,n=k.createContext,o=k.useContext,p=k.useEffect,q=n(null);function a(a){var c=a.multiselect,e=a.children,f=a.initialSelection,g=d("WAWebMenuController.react").useMenu(),h=d("useWAWebSet").useSet(),i=h[0];h=h[1];var j=h.clear,k=h.toggle,n=m.map(e,function(a){return a.props.optionId}),o=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,d){var e;c===!0?e=(yield k(b)):e=(yield j([b]));a.onSelect==null||a.onSelect(b,d,e)});return function(a,b){return d.apply(this,arguments)}}();d("useWAWebListener").useListener(g.events,"select",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){n.includes(a)&&(yield o(a,b))});return function(b,c){return a.apply(this,arguments)}}());p(function(){if(f!=null){var a=Array.isArray(f)?f:[f];j(a)}},[]);h={selection:i,isMultiselect:c===!0};return l.jsx(q.Provider,{value:h,children:e})}a.displayName=a.name+" [from "+f.id+"]";function r(a,b){switch(b){case"select":return a?l.jsx(d("WAWebCheckboxRoundCheckedIcon.react").CheckboxRoundCheckedIcon,{}):l.jsx(d("WAWebCheckboxRoundUncheckedIcon.react").CheckboxRoundUncheckedIcon,{});case"radio":return a?l.jsx(d("WAWebCheckboxRoundRadioCheckedIcon.react").CheckboxRoundRadioCheckedIcon,{}):l.jsx(d("WAWebCheckboxRoundPassiveIcon.react").CheckboxRoundPassiveIcon,{})}}function s(a,b){switch(b){case"select":return a?l.jsx(d("WAWebCheckmarkIcon.react").CheckmarkIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL}):null;case"radio":return a?l.jsx(d("WAWebCheckboxRoundRadioCheckedIcon.react").CheckboxRoundRadioCheckedIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL}):l.jsx(d("WAWebCheckboxRoundPassiveIcon.react").CheckboxRoundPassiveIcon,{})}}function e(a){var b=a.middlecontainerXStyle,e=a.onMouseEnter,f=a.onMouseLeave,g=a.theme;g=g===void 0?"select":g;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var i=o(q);if(i==null)throw c("err")("[menu] `SelectMenuItem` must be used inside of a `SelectMenuItemGroup`");var j=i.selection.has(a.optionId),k;i.isMultiselect?(i="multi-select",k=r(j,g)):(i="single-select",k=s(j,g));return l.jsx(d("WAWebCellMenuItem.react").CellV2MenuItem,babelHelpers["extends"]({detailRight:k},a,{type:i,onMouseEnter:e,onMouseLeave:f,middleContainerXStyle:b}))}e.displayName=e.name+" [from "+f.id+"]";g.SelectMenuItemGroup=a;g.SelectMenuItem=e}),98);
__d("WAWebStaticMenuItem.react",["WAWebFlex.react","WAWebMenuController.react","WAWebText.react","react"],(function(a,b,c,d,e,f,g){var h=["scroll"],i,j=i||c("react"),k={separator:{height:"xjm9jq1",backgroundColor:"x191ts1j",$$css:!0}};function a(a){var b=a.scroll;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(d("WAWebFlex.react").FlexColumn,babelHelpers["extends"]({},a,{className:{0:"",1:"x1odjw0f"}[!!(b===!0)<<0]}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;var b=d("WAWebMenuController.react").useMenu();b=b.size;return j.jsx(d("WAWebFlex.react").FlexItem,{padding:b==="small"?8:16,shrink:0,children:j.jsx(d("WAWebText.react").WAWebTextSectionTitle,{children:a})})}b.displayName=b.name+" [from "+f.id+"]";function e(){return j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:k.separator,margin:[8,16]})}e.displayName=e.name+" [from "+f.id+"]";g.MenuSection=a;g.MenuHeading=b;g.MenuSeparator=e}),98);
__d("WAWebSubMenuItem.react",["WAWebCellMenuItem.react","WAWebChevronIcon.react","WAWebDropdownV2.react","WAWebMenuController.react","WAWebPopoverContext.react","react"],(function(a,b,c,d,e,f,g){var h=["children"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;function a(a){var b=a.children,c=babelHelpers.objectWithoutPropertiesLoose(a,h),e=d("WAWebMenuController.react").useMenu();e=e.activeItemId;var f=m(null),g=d("WAWebPopoverContext.react").useWAWebPopoverControllerRef(),i=e===a.optionId;l(function(){g.current!=null&&(i?g.current.showPopover():g.current.hidePopover())},[i,g]);e=function(){g.current!=null&&(g.current.popoverIsVisible?g.current.hidePopover():g.current.showPopover())};return k.jsx(d("WAWebCellMenuItem.react").CellV2MenuItem,babelHelpers["extends"]({ref:f},c,{type:"submenu",onSelect:e,detailRight:k.jsx(d("WAWebChevronIcon.react").ChevronIcon,{width:20}),children:k.jsx(d("WAWebDropdownV2.react").DropdownV2Menu,{controllerRef:g,buffer:-8,target:f,position:d("WAWebDropdownV2.react").PopoverPosition.End,alignment:d("WAWebDropdownV2.react").PopoverAlignment.Start,initHandling:"hover-popover",children:b})}))}a.displayName=a.name+" [from "+f.id+"]";g.SubMenuItem=a}),98);
__d("WDSDisabledStateStyles",[],(function(a,b,c,d,e,f,g){a={genericDisabledPersistent:{opacity:"x1lxidc1",filter:"x4dje6k",cursor:"x1h6gzvc",$$css:!0},genericDisabled:{":disabled_opacity":"xohy3cy",":disabled_filter":"xzjjefg",$$css:!0}};b={WDSSwitch:{opacity:"x1lxidc1",$$css:!0}};g.WDSDisabledStateStyles=a;g.WDSComponentDisabledStateStyles=b}),98);
__d("WDSSwitch.react",["BaseSwitch.react","BaseView.react","Locale","WDSDisabledStateStyles","WDSFocusStateStyles","WDSHoverStateStyles","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=d("Locale").isRTL(),m={"switch":{backgroundColor:"x1h3rtpe",borderStartStartRadius:"x6nvzda",borderStartEndRadius:"x4i4b9w",borderEndEndRadius:"xhl9efl",borderEndStartRadius:"xj65ea0",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",display:"x1rg5ohu",minHeight:"xjwf9q1",minWidth:"x1fns5xo",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",zIndex:"xzkaem6",$$css:!0},switchActive:{backgroundColor:"xfn3atn",$$css:!0},background:{backgroundColor:"xgcd1z6",bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",borderTopColor:"x1pyc6se",borderInlineEndColor:"x1mlb2bo",borderBottomColor:"x16pkwpw",borderInlineStartColor:"xqe4bef",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderStartStartRadius:"x6nvzda",borderStartEndRadius:"x4i4b9w",borderEndEndRadius:"xhl9efl",borderEndStartRadius:"xj65ea0",$$css:!0},backgroundActive:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",$$css:!0},slider:{backgroundColor:"xs7vtfe",borderStartStartRadius:"x6nvzda",borderStartEndRadius:"x4i4b9w",borderEndEndRadius:"xhl9efl",borderEndStartRadius:"xj65ea0",height:"x1kpxq89",width:"xsmyaan",insetInlineStart:"xrr41r3",insetInlineEnd:"xnro73h",left:null,right:null,top:"x1atx4j1",position:"x10l6tqk",transition:"xx9udhw",transitionBehavior:"xd00j3c",$$css:!0},sliderRtl:{$$css:!0},sliderActive:{top:"xndqk7f",height:"xlup9mm",width:"x1kky2od",backgroundColor:"xep993w",insetInlineStart:"x1igoeyj",insetInlineEnd:"x1i4sgur",left:null,right:null,$$css:!0},sliderActiveRtl:{$$css:!0},sliderActiveTransform:{transform:"x15481yp",$$css:!0},sliderActiveTransformRtl:{transform:"x123sfga",$$css:!0},sliderHovered:{width:"x6jxa94",$$css:!0},sliderHoveredActive:{width:"xw4jnvo",$$css:!0}};function a(a){var b=a["aria-describedby"],e=a["aria-hidden"],f=a["aria-label"],g=a.disabled;g=g===void 0?!1:g;var h=a.id,i=a.onChange,n=a.onClick,o=a.tabIndex;o=o===void 0?0:o;var p=a.testid;p=p===void 0?"WDSSwitch":p;p=a.value;a=p===void 0?!1:p;p=k(!1);var q=p[0],r=p[1];p=k(!1);var s=p[0],t=p[1];p=[m["switch"],d("WDSFocusStateStyles").WDSComponentFocusStateStyles.WDSSwitch];p=[p,a&&m.switchActive,g&&d("WDSDisabledStateStyles").WDSComponentDisabledStateStyles.WDSSwitch];return j.jsxs(c("BaseSwitch.react"),{suppressFocusRing:!0,onValueChange:i,onClick:n,onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},onFocusVisibleChange:function(a){return t(a)},disabled:g,"aria-describedby":b,"aria-hidden":e,"aria-label":f,testid:void 0,tabIndex:o,id:h,checked:a,xstyle:p,children:[j.jsx(c("BaseView.react"),{xstyle:[m.background,a&&m.backgroundActive,q&&d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSSwitchBase,q&&(a?d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSSwitchSelected:d("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSSwitchUnselected)]}),j.jsx(c("BaseView.react"),{xstyle:[m.slider,l&&m.sliderRtl,a&&m.sliderActive,a&&l&&m.sliderActiveRtl,a&&(l?m.sliderActiveTransformRtl:m.sliderActiveTransform),(q||s)&&m.sliderHovered,(q||s)&&a&&m.sliderHoveredActive]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSwitchMenuItem.react",["WAWebCellMenuItem.react","WDSSwitch.react","react"],(function(a,b,c,d,e,f,g){var h=["on","initialState","onSelect"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState;function a(a){var b=a.on,e=a.initialState;e=e===void 0?!1:e;var f=a.onSelect;a=babelHelpers.objectWithoutPropertiesLoose(a,h);e=m(e);var g=e[0],i=e[1];l(function(){b!=null&&i(b)},[b]);e=function(){i(!g),f==null||f(!g)};return k.jsx(d("WAWebCellMenuItem.react").CellV2MenuItem,babelHelpers["extends"]({},a,{type:"switch",onSelect:e,primaryRight:k.jsx(c("WDSSwitch.react"),{value:g,onChange:e,tabIndex:-1})}))}a.displayName=a.name+" [from "+f.id+"]";g.SwitchMenuItem=a}),98);
__d("WAWebMenuItems.react",["WAWebActionMenuItem.react","WAWebMenuSearch.react","WAWebSelectMenuItem.react","WAWebStaticMenuItem.react","WAWebSubMenuItem.react","WAWebSwitchMenuItem.react"],(function(a,b,c,d,e,f,g){g.MenuSearchInput=d("WAWebMenuSearch.react").MenuSearchInput,g.ActionMenuItem=d("WAWebActionMenuItem.react").ActionMenuItem,g.SwitchMenuItem=d("WAWebSwitchMenuItem.react").SwitchMenuItem,g.SubMenuItem=d("WAWebSubMenuItem.react").SubMenuItem,g.SelectMenuItemGroup=d("WAWebSelectMenuItem.react").SelectMenuItemGroup,g.SelectMenuItem=d("WAWebSelectMenuItem.react").SelectMenuItem,g.MenuSection=d("WAWebStaticMenuItem.react").MenuSection,g.MenuHeading=d("WAWebStaticMenuItem.react").MenuHeading,g.MenuSeparator=d("WAWebStaticMenuItem.react").MenuSeparator}),98);
__d("WAWebNewsletterBackendQueues",["WAWebPromiseQueue"],(function(a,b,c,d,e,f,g){b=new((a=d("WAWebPromiseQueue")).PromiseQueue)();c=new a.PromiseQueue();e=new a.PromiseQueue();f=new a.PromiseQueue();g.newsletterCreationQueue=b;g.newsletterSubscribeQueue=c;g.newsletterDeleteQueue=e;g.newsletterJoinNotificationQueue=f}),98);
__d("WAWebNuxSyncKey",["WAWebNux"],(function(a,b,c,d,e,f,g){function a(a){switch(a){case d("WAWebNux").NUX.EPHEMERAL:return d("WAWebNux").NuxSyncKey.EPHEMERAL;case d("WAWebNux").NUX.EPHEMERAL_VIEW_ONCE:return d("WAWebNux").NuxSyncKey.EPHEMERAL_VIEW_ONCE;case d("WAWebNux").NUX.EPHEMERAL_VIEW_ONCE_RECEIVER:return d("WAWebNux").NuxSyncKey.EPHEMERAL_VIEW_ONCE_RECEIVER;case d("WAWebNux").NUX.STATUS_QUICK_REPLIES:return d("WAWebNux").NuxSyncKey.STATUS_QUICK_REPLIES;case d("WAWebNux").NUX.COMMUNITY:return d("WAWebNux").NuxSyncKey.COMMUNITY;case d("WAWebNux").NUX.COMMUNITY_HOME:return d("WAWebNux").NuxSyncKey.COMMUNITY_HOME;case d("WAWebNux").NUX.KEEP_IN_CHAT:return d("WAWebNux").NuxSyncKey.KEEP_IN_CHAT;case d("WAWebNux").NUX.FORWARD_MEDIA_WITH_CAPTION:return d("WAWebNux").NuxSyncKey.FORWARD_MEDIA_WITH_CAPTION;case d("WAWebNux").NUX.MESSAGE_EDIT:return d("WAWebNux").NuxSyncKey.MESSAGE_EDIT;case d("WAWebNux").NUX.NEWSLETTER_MULTI_ADMIN:return d("WAWebNux").NuxSyncKey.NEWSLETTER_MULTI_ADMIN;case d("WAWebNux").NUX.SUPPORT_AI:return d("WAWebNux").NuxSyncKey.SUPPORT_AI;case d("WAWebNux").NUX.TOOLTIP_STATUS_ENTRY_POINT:return d("WAWebNux").NuxSyncKey.TOOLTIP_STATUS_ENTRY_POINT;case d("WAWebNux").NUX.STATUS_PRIVATE_MENTIONS:return d("WAWebNux").NuxSyncKey.STATUS_PRIVATE_MENTIONS;case d("WAWebNux").NUX.MESSAGE_LABEL_DEPRECATION_MIGRATED_PERMANENT:return d("WAWebNux").NuxSyncKey.MESSAGE_LABEL_DEPRECATION_MIGRATED;case d("WAWebNux").NUX.ADD_TO_LISTS:return d("WAWebNux").NuxSyncKey.ADD_TO_LISTS;case d("WAWebNux").NUX.WEB_UI_REFRESH:return d("WAWebNux").NuxSyncKey.WEB_UI_REFRESH;case d("WAWebNux").NUX.DO_AUTOMATIC_LABEL:return d("WAWebNux").NuxSyncKey.DO_AUTOMATIC_LABEL;case d("WAWebNux").NUX.META_AI_CTA_BANNER:return d("WAWebNux").NuxSyncKey.META_AI_CTA_BANNER;case d("WAWebNux").NUX.META_AI_GLASSES_CTA_BANNER:return d("WAWebNux").NuxSyncKey.META_AI_GLASSES_CTA_BANNER;case d("WAWebNux").NUX.FEEDBACK_INTRO:return d("WAWebNux").NuxSyncKey.FEEDBACK_INTRO;case d("WAWebNux").NUX.NEWSLETTER_QUESTIONS_RESPONSE_PRIVACY_BANNER:return d("WAWebNux").NuxSyncKey.NEWSLETTER_QUESTIONS_RESPONSE_PRIVACY_BANNER;case d("WAWebNux").NUX.NEWSLETTER_QUESTIONS_PRIVACY_BANNER:return d("WAWebNux").NuxSyncKey.NEWSLETTER_QUESTIONS_PRIVACY_BANNER;default:return d("WAWebNux").isCommunityAdminPromotionNuxKey(a)||d("WAWebNux").isChatAutoMutedNuxKey(a)?a:null}}g.getNuxSyncKey=a}),98);
__d("WAWebUserPrefsNuxPreferences",["WAWebBizGatingUtils","WAWebEventEmitter","WAWebNux","WAWebNuxSyncKey","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNuxChange=function(a){this.trigger(a)};return b}(c("WAWebEventEmitter")),i=new h();function a(a){var b=d("WAWebNuxSyncKey").getNuxSyncKey(a);if(b!=null&&p(b))return!1;b=j(a);return!b?!0:b.views<r(a)}function j(a){a=c("WAWebUserPrefsStore").getUser(a);if(a==null||typeof a!=="object")return null;a=a.views;return typeof a==="number"?{views:a}:null}function b(a,b){c("WAWebUserPrefsStore").setUser(a,b),i.handleNuxChange(a)}function k(a){c("WAWebUserPrefsStore").setUser(a),i.handleNuxChange(a)}function l(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.NUX_LIST);return a instanceof Array?a.filter(function(a){return typeof a==="string"}):[]}function m(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.NUX_DATA);if(a!=null&&typeof a==="object"&&!Array.isArray(a)){var b={};for(var e in a){var f=a[e];f!=null&&typeof f==="object"&&typeof f.acknowledged==="boolean"&&(b[e]={acknowledged:f.acknowledged,timestamp:typeof f.timestamp==="number"?f.timestamp:void 0})}return b}f=l();var g={};f.forEach(function(a){g[a]={acknowledged:!0}});f.length>0&&c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.NUX_DATA,g);return g}function e(a){var b=m();b=b[a];return(b==null?void 0:b.acknowledged)===!0?b.timestamp:null}function f(a){var b=new Set(l()),e=m();a.forEach(function(a){var c=a.nuxKey,d=a.acknowledged;a=a.timestamp;d?(b.add(c),e[c]={acknowledged:!0,timestamp:a}):(b["delete"](c),e[c]={acknowledged:!1,timestamp:a})});c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.NUX_LIST,Array.from(b));c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.NUX_DATA,e);a.forEach(function(a){a=a.nuxKey;a=q(a);a!=null&&i.handleNuxChange(a)})}function n(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.NUX_LIST,[]),c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.NUX_DATA,{})}function o(a){k(a);var b=l().filter(function(b){return b!==a}),e=m();delete e[a];c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.NUX_LIST,b);c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.NUX_DATA,e)}function p(a){return l().includes(a)}function q(a){switch(a){case"message_label_deprecation_migrated":return d("WAWebNux").NUX.MESSAGE_LABEL_DEPRECATION_MIGRATED_PERMANENT;case"meta_ai_cta_banner":return d("WAWebNux").NUX.META_AI_CTA_BANNER;case"newsletter_questions_response_privacy_banner":return d("WAWebNux").NUX.NEWSLETTER_QUESTIONS_RESPONSE_PRIVACY_BANNER;case"newsletter_questions_privacy_banner":return d("WAWebNux").NUX.NEWSLETTER_QUESTIONS_PRIVACY_BANNER;default:return null}}function r(a){switch(a){case"message_label_deprecation_migrated_permanent":case"desktop_upsell":return Number.POSITIVE_INFINITY;case"chat_assignment":return d("WAWebBizGatingUtils").chatAssignmentMaxNuxImpressions();case"status_quick_replies":return 3;case"web_ui_refresh":return 2;default:a;return 1}}g.NuxPrefsEvent=i;g.shouldShowNUX=a;g.getNUX=j;g.setNUX=b;g.removeNUX=k;g.getNuxSyncList=l;g.getNuxAcknowledgedTimestamp=e;g.updateNuxSyncList=f;g.removeAllNuxSync=n;g.resetNux=o;g.nuxExistsInNuxSync=p;g.getNuxMaxViews=r}),98);
__d("WAWebNuxSync",["Promise","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WATimeUtils","WATypeUtils","WAWebSyncdActionUtils","WAWebSyncdCoreApi","WAWebUserPrefsNuxPreferences","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.Nux};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];a=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["NuxSync: operation not supported ",""])),a);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var c=a.indexParts[1];if(!d("WATypeUtils").isString(c)){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["NuxSync: malformed mutation"]))).devConsole(a);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b.push({nuxKey:c,acknowledged:((c=a.value.nuxAction)==null?void 0:c.acknowledged)===!0,timestamp:a.value.timestamp!=null?Number(a.value.timestamp):void 0});return{actionState:d("WASyncdConst").SyncActionState.Success}});b.length!==0&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["NuxSync: update nux to local store"]))),d("WAWebUserPrefsNuxPreferences").updateNuxSyncList(b));return a});function c(b){return a.apply(this,arguments)}return c}();e.$NuxSync$p_1=function(a,b,c){c={nuxAction:{acknowledged:c}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[a],value:c,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:b,action:this.getAction()})};e.acknowledgeNux=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return this.$NuxSync$p_2(a,!0)});function c(b){return a.apply(this,arguments)}return c}();e.unAcknowledgeNux=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return this.$NuxSync$p_2(a,!1)});function c(b){return a.apply(this,arguments)}return c}();e.$NuxSync$p_2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=d("WATimeUtils").unixTimeMs();d("WAWebUserPrefsNuxPreferences").updateNuxSyncList([{nuxKey:a,acknowledged:c,timestamp:e}]);a=this.$NuxSync$p_1(a,e,c);yield d("WAWebSyncdCoreApi").lockForSync([],[a],function(){return(k||(k=b("Promise"))).resolve()});return e});function c(b,c){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebUserPrefsPaymentTos",["WALogger","WASyncAction.pb","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsTypes"],(function(a,b,c,d,e,f,g){var h;function i(a){return a!=null&&typeof (a==null?void 0:a.accepted)==="boolean"&&d("WAWebUserPrefsTypes").PaymentNotice.cast(a.paymentNotice)!=null}function a(){var a=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.PAYMENT_TOS);return i(a)&&a?a:null}function b(a){var b;switch(a.paymentNotice){case d("WASyncAction.pb").SyncActionValue$PaymentTosAction$PaymentNotice.BR_PAY_PRIVACY_POLICY:b=d("WAWebUserPrefsTypes").PaymentNotice.BR_PAY_PRIVACY_POLICY;break}a=a.accepted;if(b==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["payment tos notice is null"]))).sendLogs("payment tos notice is null");return}c("WAWebUserPrefsLocalStorage").setItemToLocalStorage(d("WAWebUserPrefsKeys").KEYS.PAYMENT_TOS,{paymentNotice:b,accepted:a})}g.getPaymentTos=a;g.setPaymentTos=b;g.isPaymentTosValid=i}),98);
__d("WAWebPaymentTosSync",["WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebABProps","WAWebMobilePlatforms","WAWebSyncdActionUtils","WAWebUserPrefsPaymentTos","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.PaymentTos};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebMobilePlatforms").isSMB()!==!0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Payment Tos sync: operation not supported, app is not SMB"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}if(d("WAWebABProps").getABPropConfigValue("payments_br_pix_on_web")!==!0){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Payment Tos sync: operation not supported, user does not pass ABProp"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Payment Tos sync: sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=a.value.paymentTosAction;if(a==null){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["PaymentTos sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WAWebUserPrefsPaymentTos").setPaymentTos(a);d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Payment Tos sync: successfully synced payment methods"])));return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();e.getPaymentTosSetMutation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WATimeUtils").unixTimeMs();a={paymentTosAction:a};a=d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[],value:a,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:b,action:this.getAction()});d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[PaymentTosSync] mutation generated, payment tos set mutation request "]))).devConsole(a);return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebProfileImage.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={image:"_aj_p",container:"_aj_s",hasBorder:"_aj_t",dimmed:"_aj_u",hasInnerBorder:"_aj_v",hasLargeInnerBorder:"_aj_w",square:"_aj_x",row:"_aj_y",col:"_aj_z"};b=a;g["default"]=b}),98);
__d("WAWebProfileImage.react",["WAPromiseDelays","WAWebClassnames","WAWebDefaultContactRefreshedIcon.react","WAWebDefaultUserIcon.react","WAWebDefaultUserSquareIcon.react","WAWebDetailImage.react","WAWebFlex.react","WAWebNoop","WAWebProfileImage.scss","WAWebProfilePicThumbCollection","WAWebUIRefreshGatingUtils","react","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useState,m={"default":{backgroundColor:"x1q3ci2r",$$css:!0},icon:{flex:"x3psx0u",$$css:!0},iconBackground:{fill:"xl21vc0",$$css:!0},iconPrimary:{fill:"x1d6ck0k",$$css:!0},circleIconRefreshed:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",backgroundColor:"x1q3ci2r",$$css:!0},iconOutlineRefreshed:{outline:"x4u6w88",outlineOffset:"x1g40iwv",$$css:!0}};function a(a){var b=a.theme,e=a.wid,f=l(null),g=f[0],h=f[1];f=l(null);var i=f[0],n=f[1],o=function(a){h(a==null?void 0:a.img)},p=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),q=c("useWAWebUnmountSignal")();k(function(){if(!e)return;d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.find(e).then(function(a){return d("WAPromiseDelays").delayMs(0).then(function(){return a})}).then(function(a){if(q.aborted)return;n(a);o(a)})["catch"](c("WAWebNoop"))},[]);d("useWAWebListener").useListener(i,"change:img",o);if(e!=null&&(g!=null||e!=null&&e.isNewsletter()))return j.jsx(d("WAWebDetailImage.react").DetailImage,{id:e,quoted:a.quoted,size:a.size,shape:a.shape,border:a.border,quality:a.quality});typeof a.size==="number"&&a.size!==0||typeof a.size!=="number"&&a.size!=null?f=a.size:f=d("WAWebDetailImage.react").DetailImageSize.Small;i=b==="voip"||b==="voip-dimmed";g=b==="voip-large"||b==="voip-large-dimmed";b=b==="voip-dimmed"||b==="voip-large-dimmed";var r=d("WAWebDetailImage.react").getSize(f)||void 0,s=a.thumbs?a.thumbs:[a.thumb];f=s.map(function(b,e){if(b)return j.jsx("img",{className:c("WAWebProfileImage.scss").image,src:b,alt:""},e);b=r&&r/(s.length>2&&e>0?2:1);if(p){var f={width:b,height:b,xstyle:m.icon};f=j.jsx(d("WAWebDefaultContactRefreshedIcon.react").DefaultContactRefreshedIcon,babelHelpers["extends"]({},f,{iconXstyle:a.quoted!==!0&&[m.circleIconRefreshed,m.iconOutlineRefreshed]}))}else{b={width:b,height:b,xstyle:m.icon,innerStyles:{background:m.iconBackground,primary:m.iconPrimary}};a.quoted===!0?f=j.jsx(d("WAWebDefaultUserSquareIcon.react").DefaultUserSquareIcon,babelHelpers["extends"]({},b)):f=j.jsx(d("WAWebDefaultUserIcon.react").DefaultUserIcon,babelHelpers["extends"]({},b))}return j.jsx(d("WAWebFlex.react").FlexRow,{xstyle:m["default"],justify:"center",align:"center",children:f},e)});var t;f.length===1?t=f[0]:f.length===2?t=j.jsxs(d("WAWebFlex.react").FlexRow,{className:c("WAWebProfileImage.scss").row,justify:"stretch",align:"stretch",children:[f[0],f[1]]}):t=j.jsxs(d("WAWebFlex.react").FlexRow,{className:c("WAWebProfileImage.scss").row,justify:"stretch",align:"stretch",children:[f[0],j.jsxs(d("WAWebFlex.react").FlexColumn,{className:c("WAWebProfileImage.scss").col,justify:"stretch",align:"stretch",children:[f[1],f[2]]})]});return j.jsx(d("WAWebFlex.react").FlexRow,{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebProfileImage.scss").square]=a.shape===d("WAWebDetailImage.react").DetailImageShape.Square,f[c("WAWebProfileImage.scss").hasBorder]=a.border===!0,f[c("WAWebProfileImage.scss").hasInnerBorder]=i,f[c("WAWebProfileImage.scss").hasLargeInnerBorder]=g,f[c("WAWebProfileImage.scss").dimmed]=b,f[c("WAWebProfileImage.scss").container]=!0,f)),isFlexContainer:!1,style:{width:r,height:r},children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebQuickRepliesSync",["Promise","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WAWebQuickReplyCollection","WAWebSchemaQuickReply","WAWebSyncdActionUtils","WAWebSyncdIndexUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 2};e.getAction=function(){return d("WASyncdConst").Actions.QuickReply};e.applyMutations=function(a){return(k||(k=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){var b=a.indexParts;a=a.value;b=b[1];b||d("WAWebSyncdIndexUtils").throwInvalidActionIndex();a=a.quickReplyAction;if(!a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["quick replies sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(a.deleted===!0){yield d("WAWebSchemaQuickReply").getQuickReplyTable().remove(b);d("WAWebQuickReplyCollection").QuickReplyCollection.remove(b);return{actionState:d("WASyncdConst").SyncActionState.Success}}var c=a.shortcut,e=a.message;if(c==null||c===""||e==null||e===""){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["quick replies sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var f=a.keywords||[];a=a.count||0;var g={id:b,shortcut:c,count:a,message:e,keywords:f};yield d("WAWebSchemaQuickReply").getQuickReplyTable().createOrReplace(g);d("WAWebQuickReplyCollection").QuickReplyCollection.add({id:b,shortcut:c,message:e,keywords:f,count:a},{merge:!0});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["quick replies sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};e.getQuickReplyDeleteMutation=function(a,b){var c={quickReplyAction:{deleted:!0,keywords:[],shortcut:"",message:"",count:0}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.Regular,indexArgs:[a],value:c,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:b,action:this.getAction()})};e.getQuickReplyAddOrEditMutation=function(a,b,c,e,f,g){f={quickReplyAction:{deleted:!1,keywords:f,shortcut:b,message:c,count:e}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.Regular,indexArgs:[a],value:f,version:this.getVersion(),operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:g,action:this.getAction()})};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebRoundShape.react",["react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={icon:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x1useyqa",height:"xsdox4t",color:"x7o08j2",backgroundColor:"x1t8hrig",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},iconRefreshed:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x100vrsf",height:"x1vqgdyp",color:"x1pse0pq",background:"xe5due1",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},disabled:{backgroundColor:"x1ailiqk",$$css:!0},transparent:{color:"xfect85",backgroundColor:"x1jbjsai",$$css:!0},compact:{width:"x100vrsf",height:"x1vqgdyp",$$css:!0},groupModal:{width:"x15jighw",height:"x112a4uq",$$css:!0}};function a(a){var b=a.children,d=a.disabled,e=a.isRefresh,f=a.theme,g=a.transparent;a=a.xstyle;return j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(e===!0?k.iconRefreshed:k.icon,g===!0&&k.transparent||f==="compact"&&k.compact||f==="group-modal"&&k.groupModal,d===!0&&k.disabled,a),{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSelectButton.react",["WAWebButton.react","WAWebCaretDownIcon.react","WAWebChevronIcon.react","WAWebFlex.react","WAWebFlexItem.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j=i||c("react"),k={label:{overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",$$css:!0},linkDevicesBorderTheme:{borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xy2seqb",borderInlineEndColor:"x12sz9sg",borderBottomColor:"xwm8nch",borderInlineStartColor:"xxkxxek",borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",$$css:!0},linkDevicesIconTheme:{color:"x50qr9i",transform:"x1iffjtl",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.children,f=a.label,g=a.width,i=a.ariaLabel,l=a.ariaRoleDescription,m=a.theme;a=a.testid;return j.jsxs(d("WAWebButton.react").WAWebButtonSecondary,{onClick:function(a){return a.stopPropagation()},ref:b,width:g,ariaLabel:i,ariaRoleDescription:l,borderStyles:m==="link-devices-screen"&&k.linkDevicesBorderTheme,testid:void 0,children:[j.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",grow:1,children:[j.jsx(c("WAWebFlexItem.react"),{justify:"start",align:"center",xstyle:k.label,children:f}),m==="link-devices-screen"?j.jsx(d("WAWebChevronIcon.react").ChevronIcon,{xstyle:d("WAWebUISpacing").uiPadding.start8,width:20,iconXstyle:k.linkDevicesIconTheme}):j.jsx(d("WAWebCaretDownIcon.react").CaretDownIcon,{xstyle:d("WAWebUISpacing").uiPadding.start8})]}),e]})}a.displayName=a.name+" [from "+f.id+"]";g.WDSSelectButton=a}),98);
__d("WAWebSetRefCache",["WALogger"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){this.cache=new Map(),this.howBig=0,this.fn=a}var b=a.prototype;b.getKeyString=function(a){return typeof a==="string"?a:a.join("_")};b.getRefSetter=function(a){var b=this,c=this.getKeyString(a),e=this.cache.get(c);e||(e=function(d){b.fn(a,d),d||b.cache["delete"](c)},this.cache.set(c,e),Math.floor(this.cache.size/500)>this.howBig&&(d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SetRefCache] Large cache detected with "," entries"])),this.cache.size),this.howBig=Math.floor(this.cache.size/500)));return e};return a}();g["default"]=a}),98);
__d("WAWebStatusPrivacySettingSync",["WALogger","WAServerSync.pb","WASyncAction.pb","WASyncdAction","WASyncdConst","WAWebCmd","WAWebSyncdActionUtils","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsStatus","WAWebUserPrefsStatusType","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.StatusPrivacy};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.length!==1){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[syncd] unexpected mutation count "," for status privacy sync"])),a.length);return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Malformed}})}var b=a[0];if(b.operation==="set")try{b=b.value;b=b.statusPrivacy;if(!b)return[{actionState:d("WASyncdConst").SyncActionState.Malformed}];var e=b.mode;b=b.userJid;if(e==null)return[{actionState:d("WASyncdConst").SyncActionState.Malformed}];var f=[],g,j=[],k=[];switch(e){case d("WASyncAction.pb").SyncActionValue$StatusPrivacyAction$StatusDistributionMode.CONTACTS:g=d("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact;f=c("WAWebUserPrefsStatus").calculateStatusPrivacyUpdateEntries({setting:g});break;case d("WASyncAction.pb").SyncActionValue$StatusPrivacyAction$StatusDistributionMode.ALLOW_LIST:g=d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList;j=b.map(d("WAWebWidFactory").createWid).filter(function(a){return a.isUser()});f=c("WAWebUserPrefsStatus").calculateStatusPrivacyUpdateEntries({setting:g,allowList:j});break;case d("WASyncAction.pb").SyncActionValue$StatusPrivacyAction$StatusDistributionMode.DENY_LIST:g=d("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList;k=b.map(d("WAWebWidFactory").createWid).filter(function(a){return a.isUser()});f=c("WAWebUserPrefsStatus").calculateStatusPrivacyUpdateEntries({setting:g,denyList:k});break}f.length>0&&(yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.bulkSetItemsToIndexedDB(f).then(function(){d("WAWebCmd").Cmd.updateStatusPrivacySettings({setting:g,allowList:j,denyList:k})}));return[{actionState:d("WASyncdConst").SyncActionState.Success}]}catch(b){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[syncd] Failed to write status privacy settings to IndexedDB ",""])),b);return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Failed}})}return[{actionState:d("WASyncdConst").SyncActionState.Unsupported}]});function e(b){return a.apply(this,arguments)}return e}();f.getStatusPrivacySettingMutation=function(a,b,c){var e;switch(a){case d("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact:e=d("WASyncAction.pb").SyncActionValue$StatusPrivacyAction$StatusDistributionMode.CONTACTS;break;case d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList:e=d("WASyncAction.pb").SyncActionValue$StatusPrivacyAction$StatusDistributionMode.ALLOW_LIST;break;case d("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList:e=d("WASyncAction.pb").SyncActionValue$StatusPrivacyAction$StatusDistributionMode.DENY_LIST;break}return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularHigh,indexArgs:[],operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,version:this.getVersion(),timestamp:c,action:this.getAction(),value:{statusPrivacy:{mode:e,userJid:b}}})};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebStickerDownloadGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_sticker_download_m1")}g.isStickerDownloadM1Enabled=a}),98);
__d("WAWebStickersFavoriteSyncAction",["Promise","WABase64","WABaseGlobals","WAJids","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WAWebFavoriteStickerCollection","WAWebMiscGatingUtils","WAWebStickerModel","WAWebSyncdActionUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.FavoriteSticker};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield (p||(p=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation!=="set"){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}var b=a.indexParts,c=a.value;a=a.timestamp;b=b[1];if(!b)return{actionState:d("WASyncdConst").SyncActionState.Malformed};c=c.stickerAction;if(c==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var e=c.fileEncSha256,f=c.mediaKey,g=c.mimetype,p=c.height,q=c.width,r=c.directPath,s=c.isFavorite;c=c.deviceIdHint;if(s==null){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync: malformed mutation"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(!d("WAWebMiscGatingUtils").isFavoriteStickersEnabled()){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync operation not supported in primary device. Adding to orphans"])));return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:b,modelType:d("WASyncdConst").SyncModelType.FavoriteSticker}}}(e==null||f==null)&&d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync: got an empty fileEncSha256 or mediaKey with filehash ",""])),b);if(s){if(d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(b)){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync: skipping adding favorite sticker since it has been added"])));return{actionState:d("WASyncdConst").SyncActionState.Success}}r=new(d("WAWebStickerModel").StickerModel)({id:b,directPath:r,filehash:b,encFilehash:e?d("WABase64").encodeB64(e):"",mediaKey:f!=null?d("WABase64").encodeB64(f):"",mediaKeyTimestamp:a,width:q,height:p,mimetype:g});yield d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.addOrUpdateStickers([r],a,c)}else{e=d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(b);if(!e){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync: try remove the sticker but it isn't in favorite sticker panel."])));return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.removeAndSave(b)}d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["syncd: favorite sticker sync: successfully "," sticker ",""])),s?"favorite":"unfavorite",b);return{actionState:d("WASyncdConst").SyncActionState.Success}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}())));return a});function c(b){return a.apply(this,arguments)}return c}();e.generateFavoriteSyncMutation=function(a,b,c){var e;e={stickerAction:{fileEncSha256:d("WABase64").decodeB64((e=a.encFilehash)!=null?e:""),mediaKey:d("WABase64").decodeB64((e=a.mediaKey)!=null?e:""),mimetype:a.mimetype,height:a.height,width:a.width,directPath:a.directPath!=null?a.directPath:void 0,isFavorite:b,deviceIdHint:d("WAJids").interpretAsNumber(d("WAJids").extractDeviceId(d("WABaseGlobals").getMyDeviceJid()))}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[a.filehash],operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,version:this.getVersion(),value:e,timestamp:c,action:this.getAction()})};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebStickersRemoveRecentSyncAction",["WALogger","WALongInt","WAServerSync.pb","WASyncdAction","WASyncdConst","WATimeUtils","WAWebMiscGatingUtils","WAWebRecentStickerCollectionMd","WAWebSyncdActionUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;a=function(a){function c(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(c,a);var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.RemoveRecentSticker};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebMiscGatingUtils").isRecentStickersMDEnabled()){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: remove recent sticker operation not supported"])));return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: remove recent sticker sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}var b=a.indexParts;b=b[1];if(b==null){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["syncd: no sticker hash provided"])));return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=(a=a.value.removeRecentStickerAction)==null?void 0:a.lastStickerSentTs;b=d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.get(b);if(!b){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["syncd: orphan remove recent sticker"])));return{actionState:d("WASyncdConst").SyncActionState.Orphan}}var c=d("WALongInt").maybeNumberOrThrowIfTooLarge(a);c==null||d("WALongInt").numberOrThrowIfTooLarge(b.timestamp)<=c?(d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.removeAndSave(b),d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["syncd: removed a recent sticker"])))):d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["syncd: skipping remove recent sticker since remove timestamp (",") is smaller than added timestamp (",")"])),a,b.timestamp);return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();e.generateRemoveStickerMutation=function(a){var b=d("WATimeUtils").unixTimeMs(),c={removeRecentStickerAction:{lastStickerSentTs:a.timestamp}};return d("WAWebSyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.RegularLow,indexArgs:[a.sticker.filehash],operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,version:this.getVersion(),value:c,timestamp:b,action:this.getAction()})};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebUserPrefsBot",["WAWebBotGating","WAWebTimedCache","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){function a(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").MD_KEYS.BOT_LIST_LAST_REQUESTED_TIMESTAMP);a=typeof a==="number"?a:0;return a}function b(a){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.BOT_LIST_LAST_REQUESTED_TIMESTAMP,a)}function e(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").MD_KEYS.UGC_BOT_LIST_LAST_REQUESTED_TIMESTAMP);a=typeof a==="number"?a:0;return a}function f(a){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.UGC_BOT_LIST_LAST_REQUESTED_TIMESTAMP,a)}function h(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").MD_KEYS.UGC_BOT_LIST_LAST_BHASH);return typeof a==="string"?a:null}function i(a){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.UGC_BOT_LIST_LAST_BHASH,a)}var j=new(d("WAWebTimedCache").TimedMapCache)({mapLoad:function(){return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").KEYS.WA_WEB_CACHED_META_AI_SEARCH_NULL_STATE_SUGGESTIONS)},mapStore:function(a){return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").KEYS.WA_WEB_CACHED_META_AI_SEARCH_NULL_STATE_SUGGESTIONS,a)},getCacheTtlMs:d("WAWebBotGating").getMetaAISearchNullStateSuggestionsUpdateIntervalMs}),k=new(d("WAWebTimedCache").TimedLRUMapCache)({mapLoad:function(){return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").KEYS.WA_WEB_CACHED_META_AI_SEARCH_TYPE_AHEAD_SUGGESTIONS)},mapStore:function(a){return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").KEYS.WA_WEB_CACHED_META_AI_SEARCH_TYPE_AHEAD_SUGGESTIONS,a)},getCacheTtlMs:d("WAWebBotGating").getMetaAISearchTypeAheadSuggestionsUpdateIntervalMs,capacity:d("WAWebBotGating").getMetaAISearchTypeAheadSuggestionsLRUCacheCapacity()});function l(a){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.MetaAISearchNullStateIndex,a)}function m(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.MetaAISearchNullStateIndex);a=typeof a==="number"?a:0;return a}g.getBotListLastRequestedTimestamp=a;g.setBotListLastRequestedTimestamp=b;g.getUgcBotListLastRequestedTimestamp=e;g.setUgcBotListLastRequestedTimestamp=f;g.getUgcBotListLastBhash=h;g.setUgcBotListLastBhash=i;g.MetaAINullStateSuggestionsCache=j;g.MetaAITypeAheadSuggestionsCache=k;g.setMetaAISearchNullStateIndex=l;g.getMetaAISearchNullStateIndex=m}),98);
__d("WAWebUserPrefsSubscription",["$InternalEnum","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["NextSubscriptionQuery","ShouldShowMetaVerifiedEntryPoint","NextFetchSubscriptionEntryPointsTime","MetaVerifiedEntryPointRedirectionUri"]);function a(){var a;return(a=parseInt(c("WAWebUserPrefsStore").getUser(h.NextSubscriptionQuery),10))!=null?a:0}function d(a){c("WAWebUserPrefsStore").setUser(h.NextSubscriptionQuery,a)}function e(){var a=c("WAWebUserPrefsStore").getUser(h.ShouldShowMetaVerifiedEntryPoint);return a==null?null:a===!0}function f(a){c("WAWebUserPrefsStore").setUser(h.ShouldShowMetaVerifiedEntryPoint,a)}function i(){var a;return(a=parseInt(c("WAWebUserPrefsStore").getUser(h.NextFetchSubscriptionEntryPointsTime),10))!=null?a:0}function j(a){c("WAWebUserPrefsStore").setUser(h.NextFetchSubscriptionEntryPointsTime,a)}function k(){var a=c("WAWebUserPrefsStore").getUser(h.MetaVerifiedEntryPointRedirectionUri);if(typeof a!=="string")return null;else if(a==="")return null;return a}function l(a){c("WAWebUserPrefsStore").setUser(h.MetaVerifiedEntryPointRedirectionUri,a)}g.getNextSubscriptionQuery=a;g.setNextSubscriptionQuery=d;g.getShouldShowMetaVerifiedEntryPoint=e;g.setShouldShowMetaVerifiedEntryPoint=f;g.getNextFetchSubscriptionEntryPointsTime=i;g.setNextFetchSubscriptionEntryPointsTime=j;g.getMetaVerifiedEntryPointRedirectionUri=k;g.setMetaVerifiedEntryPointRedirectionUri=l}),98);
__d("WAWebUserStatusMuteSync",["Promise","WALogger","WAServerSync.pb","WASyncdAction","WASyncdConst","WAWebContactCollection","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSchemaGroupMetadata","WAWebSyncdActionUtils","WAWebSyncdIndexUtils","WAWebSyncdUtils","WAWebWamEnumMdSyncdCriticalEventCode","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Set(),e=[],f=[];a.forEach(function(a){a=a.indexParts;a=a[1];if(!a||!c("WAWebWid").isWid(a))return;c("WAWebWid").isGroup(a)?f.push(a):e.push(a)});yield c("WAWebLidAwareContactsDB").bulkGet(e).then(function(a){return a.forEach(function(a){a&&b.add(a.id)})});f.length>0&&(yield d("WAWebSchemaGroupMetadata").getGroupMetadataTable().bulkGet(f).then(function(a){return a.forEach(function(a){a&&b.add(a.id)})}));return b});return m.apply(this,arguments)}a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.chatJidIndex=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.UserStatusMute};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield l(a)),f=[],g=[];a=(yield (k||(k=b("Promise"))).all(a.map(function(a){try{if(a.operation==="set"){var b=a.indexParts,k=a.value;b=b[1];b||d("WAWebSyncdIndexUtils").throwInvalidActionIndex();if(!c("WAWebWid").isWid(b)){d("WAWebSyncdUtils").uploadCriticalEventMetric(d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.ACTION_INVALID_INDEX_DATA);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}k=(k=k.userStatusMuteAction)==null?void 0:k.muted;if(k===void 0){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["UserStatusMuteSyncd: malformed mutation ",""])),a);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(!e.has(b))return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:b,modelType:d("WASyncdConst").SyncModelType.UserStatusMute}};c("WAWebWid").isGroup(b)?g.push({id:b,statusMute:k}):f.push({id:b,statusMute:k});d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: status mute for "," will be added in bulk"])),b);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["status mute chat sync: operation not supported"])));return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}})));yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().bulkCreateOrMerge(f);yield d("WAWebSchemaGroupMetadata").getGroupMetadataTable().bulkMergeOnly(g);var m=f.concat(g).map(function(a){var b=d("WAWebWidFactory").createWid(a.id),c=d("WAWebContactCollection").ContactCollection.get(b);return{id:b,pushname:(c==null?void 0:c.pushname)||"",type:(c==null?void 0:c.type)||"out",name:c==null?void 0:c.name,statusMute:a.statusMute}});d("WAWebContactCollection").ContactCollection.add(m,{merge:!0});return a});function e(b){return a.apply(this,arguments)}return e}();f.getMutationForStatusMute=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b={userStatusMuteAction:{muted:b}};a=d("WAWebSyncdActionUtils").buildPendingMutation({action:this.getAction(),collection:d("WASyncdConst").CollectionName.RegularHigh,indexArgs:[a.toString({legacy:!0})],operation:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,timestamp:c,value:b,version:this.getVersion()});return a});function c(b,c,d){return a.apply(this,arguments)}return c}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebVoipLidUtils",["WAPromiseEach","WAWebCountriesUtils","WAWebDBCreateLidPnMappings","WAWebHandlePushnameUpdate","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=!Boolean(a.is_offline);yield i({jid:a.call_creator,phoneNumber:a.caller_pn,username:a.caller_username,countryCode:a.caller_country_code,pushName:a.caller_push_name,flushImmediately:c});var e=a.group_info_updates;e!=null&&(yield d("WAPromiseEach").promiseEach(e,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b===e.length-1;return i({jid:a.jid,phoneNumber:a.user_pn,username:a.username,flushImmediately:c&&b})});return function(b,c){return a.apply(this,arguments)}}()))});return h.apply(this,arguments)}function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.jid,e=a.phoneNumber,f=a.username,g=a.countryCode,h=a.pushName;a=a.flushImmediately;var i=d("WAWebWidFactory").asUserWidOrThrow(b);c("isStringNullOrEmpty")(h)||void d("WAWebHandlePushnameUpdate").updatePushname(b,h,!1);if(!i.isLid())return;e!=null&&(yield d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:[{lid:i,pn:d("WAWebWidFactory").asUserWidOrThrow(e)}],flushImmediately:a,learningSource:"other"}));if(f!=null&&d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()){b={userId:i,username:f};if(g!=null){h=d("WAWebCountriesUtils").asISOCountryCode(g);h!=null&&(b.usernameCountryCode=h)}yield d("WAWebSetUsernameJob").setUsernamesJob([b])}});return j.apply(this,arguments)}g.persistAttributesAndLidMappingsForCall=a;g.attemptPersistLidMappingAndUserAttributes=i}),98);
__d("WAWebVoipSignalingEnums",["$InternalEnum"],(function(a,b,c,d,e,f){a={NONE:0,OFFER:1,OFFER_RECEIPT:2,ACCEPT:3,REJECT:4,TERMINATE:5,TRANSPORT:6,OFFER_ACK:7,OFFER_NACK:8,RELAY_LATENCY:9,RELAY_ELECTION:10,INTERRUPTION:11,MUTE:12,PREACCEPT:13,ACCEPT_RECEIPT:14,VIDEO_STATE:15,NOTIFY:16,GROUP_INFO:17,ENC_REKEY:18,PEER_STATE:19,VIDEO_STATE_ACK:20,FLOW_CONTROL:21,WEB_CLIENT:22,ACCEPT_ACK:23,GROUP_UPDATE:24,OFFER_NOTICE:25,MAX:26};c=["NONE","OFFER","OFFER_RECEIPT","ACCEPT","REJECT","TERMINATE","TRANSPORT","OFFER_ACK","OFFER_NACK","RELAY_LATENCY","RELAY_ELECTION","INTERRUPTION","MUTE","PREACCEPT","ACCEPT_RECEIPT","VIDEO_STATE","NOTIFY","GROUP_INFO","ENC_REKEY","PEER_STATE","VIDEO_STATE_ACK","FLOW_CONTROL","WEB_CLIENT","ACCEPT_ACK","GROUP_UPDATE","OFFER_NOTICE","MAX"];d={SINGLE_PARTICIPANT:"enc",GROUP_CALL:"enc_rekey_retry"};e=b("$InternalEnum")({Unknown:0,Timeout:1,Self:2,RejectDoNotDisturb:3,RejectBlocked:4,MicPermissionDenied:5,CameraPermissionDenied:6});f.TYPE=a;f.TYPE_NAME=c;f.ENC_RETRY_RECEIPT_ATTRS=d;f.EndCallReason=e}),66);
__d("WAWebVoipValidateAndDecryptEnc",["invariant","WACryptoPkcs7","WAFilteredCatch","WAJids","WALogger","WANullthrows","WAWebAdvSignatureApi","WAWebBackendJobs.flow","WAWebHandleMsgTypes.flow","WAWebProtobufsE2E.pb","WAWebSignal","WAWebSignalCommonErrors","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m;function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.maybeChild("enc");b=b.peer_jid;if(!e||!b)return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS};var f=e.maybeAttrInt("count");(f==null||Number.isNaN(f))&&(f=0);var g={e2eType:e.attrEnumValues("type",d("WAWebBackendJobs.flow").CiphertextType.members()),ciphertext:new Uint8Array(e.contentBytes()),retryCount:f,encMediaType:null,hideFail:!1};try{a=a.maybeChild("device-identity");if(b.device!=null&&b.device!==d("WAJids").DEFAULT_DEVICE_ID&&g.e2eType===d("WAWebBackendJobs.flow").CiphertextType.Pkmsg&&!a){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["voip:validateAndDecryptEnc: expected device-identity with pkmsg enc"])));return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR}}if(a){a=new Uint8Array(a.contentBytes());a=(yield d("WAWebAdvSignatureApi").validateADVwithEncs(b,a,[g]));if(!a)return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR};d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip:validateAndDecryptEnc: successfully validated ADV device-identity"])))}a=(yield o(g,b));g=a.result;b=a.decrypted;g===d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS&&e.unsafeSetNodeContent(new Uint8Array(c("WANullthrows")(b)));return{result:g,retryCount:f}}catch(a){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip:validateAndDecryptEnc error"]))).devConsole(a);return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR}}});return n.apply(this,arguments)}function o(a,b){a.e2eType!==d("WAWebBackendJobs.flow").CiphertextType.Skmsg||h(0,56543);return d("WAWebSignal").Cipher.decryptSignalProto(b,a.e2eType,a.ciphertext).then(function(a){var b;a=d("WACryptoPkcs7").unpadPkcs7(new Uint8Array(a));a=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsE2E.pb").MessageSpec,a);return(b=a.call)!=null&&b.callKey?{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS,decrypted:a.call.callKey}:{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR}})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebSignalCommonErrors").SignalDecryptionError,function(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip:decryptSignalProto failed with decryption error; ",""])),a);return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY}}))["catch"](function(a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["voip:decryptSignalProto failed with unexpected error; ",""])),a);return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR}})}g.validateAndDecryptEnc=a}),98);
__d("WAWebWaSquareIconIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox","innerStyles"],i,j,k=i||c("react"),l="wa-square-icon";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox,m=a.innerStyles;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var n;if(i){var o=i.x;o=o===void 0?0:o;var p=i.y;p=p===void 0?0:p;var q=i.width;q=q===void 0?0:q;i=i.height;i=i===void 0?0:i;n=[o,p,q,i].join(" ")}o=40;p=40;(e!=null||f!=null)&&(o=e,p=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:n!=null?n:"0 0 40 40",height:o,width:p,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("rect",{width:40,height:40,rx:2,fill:"#25D366",className:j(m==null?void 0:m.background)}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.16382 19.8867C7.16666 12.8126 12.9486 7.05882 20.0527 7.05882C23.4986 7.06024 26.7359 8.39611 29.1691 10.8205C31.6023 13.2448 32.9425 16.4695 32.9412 19.897C32.9383 26.9711 27.156 32.7255 20.0526 32.7255C17.9484 32.7248 15.8827 32.2146 14.0352 31.2426L7.58219 32.9272C7.27122 33.0084 6.989 32.7225 7.07425 32.4126L8.79752 26.1482C7.72503 24.2382 7.16292 22.0869 7.16382 19.8867ZM20.0463 30.4359H20.042C18.1611 30.4352 16.3163 29.9322 14.7069 28.9817L14.3241 28.7556L10.3569 29.7914L11.4158 25.9417L11.1666 25.547C10.1173 23.886 9.56313 21.9663 9.56399 19.9951C9.56629 14.2432 14.2686 9.5636 20.0505 9.5636C22.8502 9.56454 25.482 10.6511 27.4612 12.6231C29.4402 14.5949 30.5294 17.216 30.5283 20.0035C30.526 25.7559 25.8237 30.4359 20.0463 30.4359ZM23.5806 21.4974C23.8678 21.6029 25.4084 22.3667 25.7217 22.5247C25.7829 22.5556 25.84 22.5834 25.893 22.6092C26.1116 22.7156 26.2593 22.7875 26.3223 22.8935C26.4006 23.0252 26.4006 23.6574 26.1395 24.3951C25.8784 25.1326 24.6265 25.8058 24.0245 25.8964C23.4846 25.9777 22.8015 26.0116 22.0509 25.7713C21.5958 25.6258 21.0121 25.4315 20.2645 25.1061C17.3272 23.8281 15.3422 20.9596 14.9667 20.4169C14.9403 20.3789 14.9219 20.3522 14.9116 20.3384L14.9091 20.335C14.7433 20.1122 13.6321 18.6183 13.6321 17.0721C13.6321 15.6177 14.3411 14.8553 14.6675 14.5044C14.6898 14.4803 14.7104 14.4582 14.7288 14.4379C15.0161 14.1219 15.3556 14.0429 15.5645 14.0429C15.7733 14.0429 15.9824 14.0448 16.165 14.054C16.1875 14.0551 16.211 14.055 16.2352 14.0548C16.4178 14.0538 16.6455 14.0525 16.87 14.5959C16.9562 14.8047 17.0823 15.114 17.2153 15.4403C17.4852 16.1024 17.7836 16.8347 17.8361 16.9405C17.9145 17.0985 17.9667 17.2829 17.8622 17.4937C17.8466 17.5253 17.8321 17.5551 17.8182 17.5836C17.7398 17.745 17.6821 17.8637 17.5489 18.0204C17.4968 18.0818 17.4429 18.1479 17.389 18.2141C17.281 18.3466 17.1729 18.4792 17.0789 18.5736C16.922 18.731 16.7587 18.9019 16.9415 19.218C17.1243 19.5341 17.7532 20.5681 18.6846 21.4053C19.686 22.3054 20.5563 22.6858 20.9974 22.8786C21.0835 22.9162 21.1533 22.9467 21.2045 22.9725C21.5178 23.1307 21.7007 23.1042 21.8834 22.8935C22.0662 22.6828 22.6667 21.9715 22.8756 21.6554C23.0845 21.3395 23.2934 21.3921 23.5806 21.4974Z",fill:"white",className:j(m==null?void 0:m.primary)})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WaSquareIconIcon=a}),98);
__d("WAWebWarningOutlineIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="warning-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M1.15571 22C0.941353 22 0.746487 21.9465 0.571107 21.8396C0.395728 21.7326 0.259322 21.5917 0.161889 21.4167C0.0644557 21.2417 0.0108675 21.0521 0.00112423 20.8479C-0.00861908 20.6438 0.0449691 20.4444 0.161889 20.25L10.977 1.58333C11.0939 1.38889 11.2449 1.24306 11.43 1.14583C11.6151 1.04861 11.8051 1 12 1C12.1949 1 12.3849 1.04861 12.57 1.14583C12.7551 1.24306 12.9061 1.38889 13.023 1.58333L23.8381 20.25C23.955 20.4444 24.0086 20.6438 23.9989 20.8479C23.9891 21.0521 23.9355 21.2417 23.8381 21.4167C23.7407 21.5917 23.6043 21.7326 23.4289 21.8396C23.2535 21.9465 23.0586 22 22.8443 22H1.15571ZM3.17257 19.6667H20.8274L12 4.5L3.17257 19.6667ZM12 18.5C12.3313 18.5 12.609 18.3882 12.8331 18.1646C13.0571 17.941 13.1692 17.6639 13.1692 17.3333C13.1692 17.0028 13.0571 16.7257 12.8331 16.5021C12.609 16.2785 12.3313 16.1667 12 16.1667C11.6687 16.1667 11.391 16.2785 11.1669 16.5021C10.9429 16.7257 10.8308 17.0028 10.8308 17.3333C10.8308 17.6639 10.9429 17.941 11.1669 18.1646C11.391 18.3882 11.6687 18.5 12 18.5ZM12 15C12.3313 15 12.609 14.8882 12.8331 14.6646C13.0571 14.441 13.1692 14.1639 13.1692 13.8333V10.3333C13.1692 10.0028 13.0571 9.72569 12.8331 9.50208C12.609 9.27847 12.3313 9.16667 12 9.16667C11.6687 9.16667 11.391 9.27847 11.1669 9.50208C10.9429 9.72569 10.8308 10.0028 10.8308 10.3333V13.8333C10.8308 14.1639 10.9429 14.441 11.1669 14.6646C11.391 14.8882 11.6687 15 12 15Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WarningOutlineIcon=a}),98);
__d("WDSIconIcDownload.react",["WDSSvgComponentBase.react","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","viewBox"],i,j,k=i||c("react"),l="ic-download";function a(a){var b=a.iconXstyle,d=a.height,e=a.width,f=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var g;if(f){var i=f.x;i=i===void 0?0:i;var m=f.y;m=m===void 0?0:m;var n=f.width;n=n===void 0?0:n;f=f.height;f=f===void 0?0:f;g=[i,m,n,f].join(" ")}i=24;m=24;(d!=null||e!=null)&&(i=d,m=e);return k.jsx(c("WDSSvgComponentBase.react"),babelHelpers["extends"]({},a,{children:k.jsxs("svg",{viewBox:g!=null?g:"0 0 24 24",height:i,width:m,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M12 15.575C11.8667 15.575 11.7417 15.5542 11.625 15.5125C11.5083 15.4708 11.4 15.4 11.3 15.3L7.7 11.7C7.5 11.5 7.40417 11.2667 7.4125 11C7.42083 10.7333 7.51667 10.5 7.7 10.3C7.9 10.1 8.1375 9.99583 8.4125 9.9875C8.6875 9.97917 8.925 10.075 9.125 10.275L11 12.15V5C11 4.71667 11.0958 4.47917 11.2875 4.2875C11.4792 4.09583 11.7167 4 12 4C12.2833 4 12.5208 4.09583 12.7125 4.2875C12.9042 4.47917 13 4.71667 13 5V12.15L14.875 10.275C15.075 10.075 15.3125 9.97917 15.5875 9.9875C15.8625 9.99583 16.1 10.1 16.3 10.3C16.4833 10.5 16.5792 10.7333 16.5875 11C16.5958 11.2667 16.5 11.5 16.3 11.7L12.7 15.3C12.6 15.4 12.4917 15.4708 12.375 15.5125C12.2583 15.5542 12.1333 15.575 12 15.575ZM6 20C5.45 20 4.97917 19.8042 4.5875 19.4125C4.19583 19.0208 4 18.55 4 18V16C4 15.7167 4.09583 15.4792 4.2875 15.2875C4.47917 15.0958 4.71667 15 5 15C5.28333 15 5.52083 15.0958 5.7125 15.2875C5.90417 15.4792 6 15.7167 6 16V18H18V16C18 15.7167 18.0958 15.4792 18.2875 15.2875C18.4792 15.0958 18.7167 15 19 15C19.2833 15 19.5208 15.0958 19.7125 15.2875C19.9042 15.4792 20 15.7167 20 16V18C20 18.55 19.8042 19.0208 19.4125 19.4125C19.0208 19.8042 18.55 20 18 20H6Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WDSTooltipConfig.react",["BaseTooltipImpl.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["headline","tooltip"],i,j=i||d("react"),k={container:{maxWidth:"x1ncir08",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",minHeight:"xjwf9q1",backgroundColor:"xpip370",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",boxShadow:"x1agd393",animationName:"xqcmdr3",animationDuration:"x2mfxb",animationTimingFunction:"x8sheq5",$$css:!0},alignOffset:{marginTop:"xr9ek0c",marginInlineEnd:"xnnr8r",marginBottom:"xjpr12u",marginInlineStart:"xwklpps",$$css:!0},contextualLayerXstyle:{zIndex:"xoz0ns6",$$css:!0}};function a(a){a.headline;var b=a.tooltip;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(c("BaseTooltipImpl.react"),babelHelpers["extends"]({},a,{tooltip:b,alignOffsetXstyle:k.alignOffset,xstyle:k.container,contextualLayerXstyle:k.contextualLayerXstyle}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("keyMirror",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={};if(!(a instanceof Object&&!Array.isArray(a)))throw c("FBLogger")("comet_infra").mustfixThrow("keyMirror(...): Argument must be an object.");for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;b[d]=d}return b}g["default"]=a}),98);
__d("useEmptyFunction",[],(function(a,b,c,d,e,f){"use strict";function a(){}b=a;f["default"]=b}),66);
__d("useWAWebAsync",["react","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useState,k={loading:!0,error:null,value:null};function a(a,b){var d=c("useWAWebStableCallback")(a);a=j(k);var e=a[0],f=a[1];i(function(){var a=new AbortController();f(k);d(a.signal).then(function(b){a.signal.aborted||f({loading:!1,error:null,value:b})})["catch"](function(a){f({loading:!1,error:a,value:null})});return function(){a.abort()}},[d].concat(b));return e}g["default"]=a}),98);
__d("useWAWebCallbackOnce",["once","react","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo;function a(a,b){b===void 0&&(b=[]);var d=c("useWAWebStableCallback")(a);a=i(function(){return c("once")(d)},[d].concat(b));return a}g["default"]=a}),98);
__d("useWAWebInterval",["react","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(a,b,d){b===void 0&&(b=0);d=d!=null?d:{};d=d.immediate;var e=d===void 0?!1:d,f=c("useWAWebStableCallback")(a),g=k(),h=i(function(){g.current&&self.clearInterval(g.current)},[]),l=i(function(){h(),g.current=self.setInterval(f,b)},[h,b,f]);j(function(){e&&l();return h},[e,l,h]);return[l,h]}g["default"]=a}),98);
__d("useWAWebMsgValues",["WAWebMsgCollection","useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b,c){return d("useWAWebCollectionValues").useCollectionValues(d("WAWebMsgCollection").MsgCollection,a,b,c)}function b(a,b,c){return d("useWAWebCollectionValues").useOptionalCollectionValues(d("WAWebMsgCollection").MsgCollection,a,b,c)}g.useMsgValues=a;g.useOptionalMsgValues=b}),98);
__d("useWAWebRenderCallbacks",["WAAbortError","WAFilteredCatch","WAWebDocumentFlushed","react","useWAWebStableCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useLayoutEffect,k=b.useRef;function a(a){var b,e=k(null),f=c("useWAWebUnmountSignal")(),g=(b=c("useWAWebStableCallback"))(a.onDOMCommit),h=b(a.onMount),l=b(a.onBeforePaint),m=b(a.onAfterPaint),n=b(a.onUnmount),o=b(a.onError);i(function(){h();e.current=window.requestAnimationFrame(function(){e.current=null,l()});d("WAWebDocumentFlushed").documentFlushed({signal:f}).then(function(){if(f.aborted)return;m()})["catch"](d("WAFilteredCatch").filteredCatch(d("WAAbortError").AbortError,o));return function(){e.current!=null&&window.cancelAnimationFrame(e.current),n()}},[h,l,m,n,o,f]);j(function(){g()},[g])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseChameleonThemeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={classNames:null};c=a.createContext(b);g["default"]=c}),98);
__d("BaseContextualLayerAnchorRootContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({current:document.body});g["default"]=b}),98);
__d("BaseDOMContainer.react",["react","react-compiler-runtime","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef;function a(a){var b=d("react-compiler-runtime").c(5),e=a.node;a=a.ref;var f=k(null),g,h;b[0]!==e?(g=function(){var a=f.current;if(e!=null&&a!=null){a.appendChild(e);return function(){a.removeChild(e)}}},h=[e],b[0]=e,b[1]=g,b[2]=h):(g=b[1],h=b[2]);j(g,h);g=c("useMergeRefs")(a,f);b[3]!==g?(h=i.jsx("div",{ref:g}),b[3]=g,b[4]=h):h=b[4];return h}e=i.memo(a);g["default"]=e}),98);
__d("BaseContextualLayerAnchorRoot.react",["BaseContextualLayerAnchorRootContext","BaseDOMContainer.react","ExecutionEnvironment","react","react-compiler-runtime","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(8);a=a.children;var e=c("useStable")(l),f=(h||(h=c("useUnsafeRef_DEPRECATED")))(e),g;b[0]!==f||b[1]!==a?(g=k.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:f,children:a}),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==e?(f=k.jsx(c("BaseDOMContainer.react"),{node:e}),b[3]=e,b[4]=f):f=b[4];b[5]!==g||b[6]!==f?(a=k.jsxs(k.Fragment,{children:[g,f]}),b[5]=g,b[6]=f,b[7]=a):a=b[7];return a}function l(){return(i||(i=c("ExecutionEnvironment"))).canUseDOM?document.createElement("div"):null}g["default"]=a}),98);
__d("BaseContextualLayerAvailableHeightContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("BaseContextualLayerDefaultContainer.react",["LegacyHidden","react","react-compiler-runtime","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.hidden,g=a.ref,i=a.stopClickPropagation,l=a.testid;a=a.xstyle;var m;b[0]!==l?(m=c("testID")(l),b[0]=l,b[1]=m):m=b[1];b[2]!==a?(l=(h||(h=c("stylex")))(a),b[2]=a,b[3]=l):l=b[3];a=i===!0?k:void 0;b[4]!==m||b[5]!==l||b[6]!==a?(i=babelHelpers["extends"]({},m,{className:l,onClick:a}),b[4]=m,b[5]=l,b[6]=a,b[7]=i):i=b[7];m=f?"hidden":"visible";b[8]!==e||b[9]!==g||b[10]!==i||b[11]!==m?(l=j.jsx(c("LegacyHidden"),{htmlAttributes:i,mode:m,ref:g,children:e}),b[8]=e,b[9]=g,b[10]=i,b[11]=m,b[12]=l):l=b[12];return l}function k(a){return a.stopPropagation()}g["default"]=a}),98);
__d("BaseContextualLayerLayerAdjustmentContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("BaseContextualLayerOrientationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={align:"start",position:"below"};c=a.createContext(b);g["default"]=c}),98);
__d("BasePortalTargetContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(document.body);g["default"]=b}),98);
__d("CometThemeInfraFallbackConfig",[],(function(a,b,c,d,e,f){"use strict";var g={fallbackThemes:{auto:null,dark:null,light:null},setFallbackTheme:function(a){g.fallbackThemes=a}};a=g;f["default"]=a}),66);
__d("CometThemeInfraUtils",["gkx","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("14925")||c("gkx")("14926")||c("gkx")("14927")||c("gkx")("14887")}function a(){var a={auto:null,dark:null,light:null};h()&&c("ifRequired")("Cds3CTheme",function(b){a.auto=b.Cds3CThemeWebAuto,a.dark=b.Cds3CThemeWebDark,a.light=b.Cds3CThemeWebLight});return a}g.enableCometThemeInfraThemeInXMDSComponents=h;g.getCometThemeInfraThemesForApp=a}),98);
__d("DSPDisplayModeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("BasePortal.react",["BaseChameleonThemeContext","BaseDOMContainer.react","BasePortalTargetContext","BaseThemeProvider.react","CometThemeInfraBaseThemeContext.react","CometThemeInfraFallbackConfig","CometThemeInfraUtils","DSPDisplayModeContext","ExecutionEnvironment","ReactDOM","react","stylex","suspendOrThrowIfUsedInSSR","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","hidden","target","xstyle"],i,j,k,l,m=l||(l=d("react")),n=l.useContext;function a(a){var b=a.children,e=a.hidden,f=e===void 0?!1:e;e=a.target;var g=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,h);a=n(c("BasePortalTargetContext"));var o=n(c("BaseChameleonThemeContext"));e=e||a;var p=c("useStable")(function(){return(i||(i=c("ExecutionEnvironment"))).canUseDOM?document.createElement("div"):null});(j||(j=c("suspendOrThrowIfUsedInSSR")))("BasePortal: Portals are not currently supported by the server renderer.");a=n(c("CometThemeInfraBaseThemeContext.react"));var q=n(c("DSPDisplayModeContext")),r=a[q!=null?q:"auto"];a=c("CometThemeInfraFallbackConfig").fallbackThemes;var s=a[q!=null?q:"auto"];return e!=null?d("ReactDOM").createPortal(m.jsx(c("BaseThemeProvider.react"),{children:function(a,e){return m.jsxs("div",babelHelpers["extends"]({className:(k||(k=c("stylex")))(a,o.classNames,d("CometThemeInfraUtils").enableCometThemeInfraThemeInXMDSComponents()&&r,d("CometThemeInfraUtils").enableCometThemeInfraThemeInXMDSComponents()&&r===null&&s,g)||void 0,hidden:f},l,{style:e,children:[m.jsx(c("BasePortalTargetContext").Provider,{value:p,children:b}),m.jsx(c("BaseDOMContainer.react"),{node:p})]}))}}),e):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseScrollableAreaContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext([]);g["default"]=b}),98);
__d("FDSTextContext",["cr:20414","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext(null);function a(){return j(k)}function c(a){var c=d("react-compiler-runtime").c(8),e=a.children,f=a.color;a=a.type;if(a==null){var g;c[0]!==e?(g=typeof e==="function"?e(null):e,c[0]=e,c[1]=g):g=c[1];var h;c[2]!==g?(h=i.jsx(k.Provider,{value:null,children:g}),c[2]=g,c[3]=h):h=c[3];return h}else{g=f!=null?f:"primary";c[4]!==e||c[5]!==g||c[6]!==a?(h=i.jsx(b("cr:20414"),{children:e,color:g,type:a}),c[4]=e,c[5]=g,c[6]=a,c[7]=h):h=c[7];return h}}function e(a){var c=d("react-compiler-runtime").c(2),e;c[0]!==a?(e=i.jsx(b("cr:20414"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}g.FDSTextContext=k;g.useFDSTextContext=a;g.FDSTextContextProvider=c;g.FDSTextContextProviderNonNull=e}),98);
__d("LayoutAnimationBoundaryContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("LayoutAnimationEvents",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="layoutAnimation";c=b("$InternalEnum").Mirrored(["Start","Stop"]);f.LAYOUT_ANIMATION_EVENT=a;f.LayoutAnimationEventType=c}),66);
__d("calculateBaseContextualLayerPosition",["Locale"],(function(a,b,c,d,e,f,g){"use strict";var h=d("Locale").isRTL();function a(a){var b=a.align,c=a.contextRect,d=a.contextualLayerSize,e=a.fixed,f=a.offsetRect,g=a.position;a=a.screenRect;e={position:e?"fixed":void 0,transform:""};var i=0,j=0,k=0,l=0,m=(c.bottom+c.top)/2,n=(c.left+c.right)/2,o=h?"start":"end",p=h?"end":"start";switch(g){case"above":j=c.top-f.top;l="-100%";break;case"below":j=c.bottom-f.top;break;case p:i=c.left-f.left;k="-100%";break;case o:i=c.right-f.left;break}if(g==="start"||g==="end")switch(b){case"start":j=c.top-f.top;break;case"middle":j=m-f.top;l="-50%";break;case"end":j=c.bottom-f.top;l="-100%";break;case"stretch":j=c.top-f.top;e.height=c.bottom-c.top+"px";break}else if(g==="above"||g==="below")switch(b){case p:i=c.left-f.left;break;case"middle":i=n-f.left;k="-50%";break;case o:i=c.right-f.left;k="-100%";break;case"stretch":i=c.left-f.left;e.width=c.right-c.left+"px";break}f=0;if(d!=null)if(g==="start"||g==="end"){var q=null;switch(b){case"start":q=c.top;break;case"middle":q=m-d.height/2;break;case"end":q=c.bottom-d.height;break}q!=null&&(q<a.top?f=a.top-q:q+d.height>a.bottom&&(f=a.bottom-q-d.height));j+=f}else if(g==="above"||g==="below"){m=null;switch(b){case p:m=c.left;break;case"middle":m=n-d.width/2;break;case o:m=c.right-d.width;break}m!=null&&(m<a.left?f=a.left-m:m+d.width>a.right&&(f=a.right-m-d.width));i+=f}q="";(i!==0||j!==0)&&(q+="translate("+Math.round(i)+"px, "+Math.round(j)+"px) ");(k!==0||l!==0)&&(q+="translate("+k+", "+l+") ");e.transform=q;return{adjustment:f,style:e}}g["default"]=a}),98);
__d("getDefaultViewForNode",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a===document?document:a.ownerDocument;return a.defaultView}f["default"]=a}),66);
__d("getComputedStyle",["getDefaultViewForNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("getDefaultViewForNode")(a);return d==null?null:d.getComputedStyle(a,b)}g["default"]=a}),98);
__d("isElementFixedOrSticky",["getComputedStyle"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a;while(b!=null&&b!==a.ownerDocument){var d=(h||(h=c("getComputedStyle")))(b);if(d==null)return!1;d=d.getPropertyValue("position");if(d==="fixed"||d==="sticky")return!0;b=b.parentElement}return!1}g["default"]=a}),98);
__d("useLayoutAnimationEvents",["LayoutAnimationBoundaryContext","LayoutAnimationEvents","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef;function a(a){var b=d("react-compiler-runtime").c(7),e=i(c("LayoutAnimationBoundaryContext")),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],b[0]=f):f=b[0];var g=k(f);b[1]!==(e==null?void 0:e.animationEventTargets)||b[2]!==a?(f=function(){var b=(e==null?void 0:e.animationEventTargets)||[];b.forEach(function(b){b=b.addListener(d("LayoutAnimationEvents").LAYOUT_ANIMATION_EVENT,a);g.current=[].concat(g.current,[b])});return function(){g.current.forEach(l),g.current=[]}},b[1]=e==null?void 0:e.animationEventTargets,b[2]=a,b[3]=f):f=b[3];var h;b[4]!==e||b[5]!==a?(h=[a,e],b[4]=e,b[5]=a,b[6]=h):h=b[6];j(f,h)}function l(a){a.remove()}g["default"]=a}),98);
__d("useResizeObserver",["DOMRectReadOnly","FBLogger","getErrorSafe","gkx","react","react-compiler-runtime","resize-observer-polyfill-deprecated","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(4),c=j(null),e=j(a),f,g;b[0]!==a?(f=function(){e.current=a},g=[a],b[0]=a,b[1]=f,b[2]=g):(f=b[1],g=b[2]);i(f,g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(b){var a=function(a,b,c){e.current&&e.current(a,b,c)};b=b==null?null:o(b,a);c.current&&c.current();c.current=b},b[3]=f):f=b[3];return f}var k=null,l=new Map();function m(){k==null&&(k=new(c("resize-observer-polyfill-deprecated"))(n));return k}function n(a){var b=new Map(),d=new Map(),e=new Map();for(a of a){var f=a.contentRect;if(c("gkx")("20942")){var g=b.get(a.target);if(g==null){var h=w(a.target);b.set(a.target,h);f=h}else f=g}d.set(a.target,f);h={target:a.target,contentRect:a.contentRect,borderBoxSize:a.borderBoxSize,contentBoxSize:a.contentBoxSize,devicePixelContentBoxSize:a.devicePixelContentBoxSize};e.set(a.target,h)}g=new Set(l.keys());for(f of d){h=f[0];a=f[1];b=l.get(h);if(b!=null)for(d of b){b=d[1];try{b(a,h,e)}catch(a){c("FBLogger")("useResizeObserver").catching(c("getErrorSafe")(a))}}else g.has(h)||c("FBLogger")("useResizeObserver").mustfix("ResizeObserver observed resizing of an element that it should not be observing")}}function o(a,b){var d,e=c("uniqueID")();d=(d=l.get(a))!=null?d:new Map();d.set(e,b);l.set(a,d);m().observe(a);return p(a,e)}function p(a,b){return function(){var c=l.get(a);if(c==null)return;c["delete"](b);c.size===0&&(m().unobserve(a),l["delete"](a))}}function q(a){return parseFloat(a)||0}function r(a){var b;return(a=a==null||(b=a.ownerDocument)==null?void 0:b.defaultView)!=null?a:window}var s=c("DOMRectReadOnly").fromRect();function t(a){return{top:q(a.paddingTop),right:q(a.paddingRight),bottom:q(a.paddingBottom),left:q(a.paddingLeft)}}function u(a){return{top:q(a.borderTopWidth),right:q(a.borderRightWidth),bottom:q(a.borderBottomWidth),left:q(a.borderLeftWidth)}}function v(a){var b=u(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.reduce(function(a,c){return a+q(b[c])},0)}function w(a){var b=a.clientWidth,d=a.clientHeight;if(!b&&!d)return s;a=r(a).getComputedStyle(a);var e=t(a),f=e.left+e.right,g=e.top+e.bottom,h=q(a.width),i=q(a.height);a.boxSizing==="border-box"&&(Math.round(h+f)!==b&&(h-=v(a,"left","right")+f),Math.round(i+g)!==d&&(i-=v(a,"top","bottom")+g));return c("DOMRectReadOnly").fromRect({x:e.left,y:e.top,width:h,height:i})}g["default"]=a}),98);
__d("BaseContextualLayer.react",["BaseContextualLayerAnchorRoot.react","BaseContextualLayerAnchorRootContext","BaseContextualLayerAvailableHeightContext","BaseContextualLayerContextSizeContext","BaseContextualLayerDefaultContainer.react","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseLinkNestedPressableContext","BasePortal.react","BaseScrollableAreaContext","BaseViewportMarginsContext","FDSTextContext","FocusRegion.react","HiddenSubtreeContext","LayoutAnimationBoundaryContext","LayoutAnimationEvents","Locale","calculateBaseContextualLayerPosition","focusScopeQueries","getComputedStyle","gkx","isElementFixedOrSticky","justknobx","mergeRefs","react","useLayoutAnimationEvents","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","align","anchorRef","disableAutoAlign","children","containFocus","customContainer","disableAutoFlip","hidden","imperativeRef","onEscapeFocusRegion","onIndeterminatePosition","presencePayload","reflowToPosition","position","restoreFocus","stopClickPropagation","xstyle","disablePositioning_DO_NOT_USE"],i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,aa=b.useImperativeHandle,o=b.useLayoutEffect,p=b.useMemo,ba=b.useReducer,q=b.useRef,ca=b.useState;function r(a){a=a.getBoundingClientRect();return{bottom:a.bottom,left:a.left,right:a.right,top:a.top}}function s(){var a;a=(a=(a=document.documentElement)==null?void 0:a.scrollHeight)!=null?a:0;var b=window.innerHeight;a=a-b;return Math.max(0,a-window.pageYOffset)}function da(a){return(a=(a=a[a.length-1])==null||(a=a.getDOMNode())==null?void 0:a.scrollTop)!=null?a:window.pageYOffset}function ea(a){var b=(i||(i=c("getComputedStyle")))(a);return b!=null&&b.getPropertyValue("position")!=="static"?a:a instanceof HTMLElement&&a.offsetParent||a.ownerDocument.documentElement}var t=8,fa=40,ga=145;function ha(a,b){return a.bottom<b.top||b.bottom<a.top||a.right<b.left||b.right<b.left?null:{bottom:Math.min(a.bottom,b.bottom),left:Math.max(a.left,b.left),right:Math.min(a.right,b.right),top:Math.max(a.top,b.top)}}var u=d("Locale").isRTL(),v={root:{left:"xu96u03",insetInlineStart:null,insetInlineEnd:null,marginRight:"xm80bdy",marginInlineStart:null,marginInlineEnd:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},rootReflowToPosition:{marginRight:"x1yf7rl7",marginInlineStart:null,marginInlineEnd:null,top:"x80663w",$$css:!0}};function ia(a){return{adjustment:null,availableHeight:null,contextSize:null,isPositionIndeterminate:!1,position:a}}function ja(a,b){var c;switch(b.type){case"determine_direction":if(a.position!==b.position||a.availableHeight!==b.availableHeight)return babelHelpers["extends"]({},a,{availableHeight:b.availableHeight,position:b.position});break;case"reposition":if(a.adjustment!==b.adjustment||((c=a.contextSize)==null?void 0:c.height)!==((c=b.contextSize)==null?void 0:c.height)||((c=a.contextSize)==null?void 0:c.width)!==((c=b.contextSize)==null?void 0:c.width))return babelHelpers["extends"]({},a,{adjustment:b.adjustment,contextSize:b.contextSize,isPositionIndeterminate:!1});break;case"position_indeterminate":return babelHelpers["extends"]({},a,{isPositionIndeterminate:!0});case"position_changed":if(a.position!==b.position)return babelHelpers["extends"]({},a,{position:b.position});break}return a}function a(a){var b=a.ref,e=a.align,f=e===void 0?"start":e,g=a.anchorRef;e=a.disableAutoAlign;e=e===void 0?!1:e;var i=a.children,j=a.containFocus;j=j===void 0?!1:j;var w=a.customContainer;w=w===void 0?c("BaseContextualLayerDefaultContainer.react"):w;var x=a.disableAutoFlip;x=x===void 0?!1:x;var y=a.hidden;y=y===void 0?!1:y;var z=a.imperativeRef,ka=a.onEscapeFocusRegion,A=a.onIndeterminatePosition,la=a.presencePayload,B=a.reflowToPosition,C=B===void 0?!1:B;B=a.position;B=B===void 0?"below":B;var D=a.restoreFocus;D=D===void 0?!0:D;var E=a.stopClickPropagation;E=E===void 0?!1:E;var ma=a.xstyle,F=a.disablePositioning_DO_NOT_USE,G=F===void 0?!1:F,H=babelHelpers.objectWithoutPropertiesLoose(a,h),I=B==="auto"?"below":B;F=ba(ja,I,ia);a=F[0];B=a.adjustment;var na=a.availableHeight,oa=a.contextSize,J=a.isPositionIndeterminate,K=a.position,L=F[1],M=m(c("BaseContextualLayerAnchorRootContext")),N=m(c("BaseScrollableAreaContext")),pa=C?!0:x,qa=C?!0:e,O=m(c("BaseViewportMarginsContext")),P=m(c("LayoutAnimationBoundaryContext"));a=ca(!1);F=a[0];var Q=a[1];x=m(c("HiddenSubtreeContext"));e=x.hidden;var R=e||y,S=q(null),T=q(null),U=l(function(){return H.context_DEPRECATED==null&&H.contextRef!=null?H.contextRef.current:H.context_DEPRECATED},[H.contextRef,H.context_DEPRECATED]),V=l(function(){var a=document.documentElement;if(a==null)return;return{bottom:a.clientHeight-O.bottom-t,left:O.left+t,right:a.clientWidth-O.right-t,top:O.top+t}},[O.bottom,O.left,O.right,O.top]),W=null;C&&(W=s());var X=l(function(){var a=S.current,b=U(),d=V();if(a==null||b==null||d==null)return;var e=r(b);a=r(a);var f=a.bottom-a.top;a=a.right-a.left;var h=u?"start":"end",i=u?"end":"start",j=K,k=null;if(!pa)if(K==="above"||K==="below"){var l=e.top-f<d.top&&e.bottom+f<d.bottom,m=e.bottom+f>d.bottom&&e.top-f>d.top;K==="above"&&da(N)+e.top<f&&l?j="below":K==="above"&&l?j="below":K==="below"&&m&&(j="above")}else(K==="start"||K==="end")&&(K===i&&e.left-a<d.left&&e.right+a<d.right?j=h:K===h&&e.right+a>d.right&&e.left-a>d.left&&(j=i));j==="above"||j==="below"?k=j==="above"?e.top-d.top:d.bottom-e.bottom:(j==="start"||j==="end")&&(k=Math.max(d.bottom,e.bottom)-Math.min(e.top,d.top));if(C&&W!==null){m=(l=g==null?void 0:g.current)!=null?l:M.current;h=m?c("isElementFixedOrSticky")(m):!1;i=!h&&b.nodeType===1&&c("isElementFixedOrSticky")(b);h=((l=d==null?void 0:d.bottom)!=null?l:0)-((m=d==null?void 0:d.top)!=null?m:0);b=i?0:W;l=b+h-fa;m=b+d.bottom-e.bottom;k=Math.max(Math.min(l,m),ga)}T.current={height:f,width:a};L({availableHeight:k,position:j,type:"determine_direction"})},[U,V,K,pa,C,N,M,W,g]),Y=null;C&&(Y=na);var Z=l(function(){var a,b=document.documentElement;a=(a=g==null?void 0:g.current)!=null?a:M.current;var d=V(),e=U(),h=S.current;if(b==null||a==null||d==null||e==null||h==null)return;var i=r(h),j=ea(a);if(j==null)return;a=c("isElementFixedOrSticky")(a);a=!a&&e.nodeType===1&&c("isElementFixedOrSticky")(e);e=N.map(function(a){return a.getDOMNode()}).filter(Boolean).filter(function(a){return j.contains(a)}).reduce(function(a,b){return a!=null?ha(a,r(b)):null},r(e));if(e==null||e.left===0&&e.right===0){L({type:"position_indeterminate"});A&&A();return}b=a?{bottom:b.clientHeight,left:0,right:b.clientWidth,top:0}:r(j);var k=c("calculateBaseContextualLayerPosition")({align:f,contextRect:e,contextualLayerSize:qa?null:T.current,fixed:a,offsetRect:b,position:K,screenRect:d}),l=k.adjustment;k=k.style;var m=k;if(c("justknobx")._("432")){m=babelHelpers["extends"]({left:null,"max-height":null,position:null,right:null,top:null,"z-index":null},k);if(C===!0){k=i.bottom-i.top;i=d.bottom-e.bottom;k=k-i;i=a?0:s();var n=e.bottom-b.top;k-i>0&&(n-=k);i=d.left-b.left;k=d.right-d.left;m={left:i+"px","max-height":(Y!=null?Y:0)+"px",position:a?"fixed":"absolute",top:n+"px",width:k+"px","z-index":c("gkx")("7742")?"299":"3"}}}if(h!=null){b=Object.keys(m);for(d=0;d<b.length;d++){i=b[d];a=m[i];a!=null?h.style.setProperty(i,a):h.style.removeProperty(i)}}L({adjustment:l,contextSize:{height:e.bottom-e.top,width:e.right-e.left},type:"reposition"})},[M,V,U,N,qa,f,K,A,Y,C]),$=l(function(a){a===d("LayoutAnimationEvents").LayoutAnimationEventType.Start&&Q(!0),a===d("LayoutAnimationEvents").LayoutAnimationEventType.Stop&&(Q(!1),Z())},[Z,Q]);o(function(){if(G)return;P!=null&&P.getIsAnimating()&&$(d("LayoutAnimationEvents").LayoutAnimationEventType.Start)},[P,$]);c("useLayoutAnimationEvents")($);aa(z,function(){return{reposition:function(a){if(!R){a=a||{};a=a.autoflip;a=a===void 0?!1:a;a&&X();Z()}}}},[R,Z,X]);var ra=c("useResizeObserver")(function(a){var b=a.height;a=a.width;T.current={height:b,width:a};Z()}),sa=q(I);o(function(){if(G)return;I!==sa.current&&(L({position:I,type:"position_changed"}),R||(X(),Z()),sa.current=I)},void 0);var ta=l(function(a){S.current=a,a!=null&&!R&&(X(),Z())},[R,Z,X]),ua=c("gkx")("5608");n(function(){if(G)return;if(!ua||R)return;var a=U(),b=new ResizeObserver(function(){X(),Z()});if(a==null||!(a instanceof HTMLElement))return;b.observe(a);return function(){b.disconnect()}},[U,X,Z,R,ua]);n(function(){if(G)return;if(R)return;var a=function(){X(),Z()};window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},[R,Z,X]);n(function(){if(G)return;if(R)return;var a=N.map(function(a){return a.getDOMNode()}).filter(Boolean);if(a.length>0){a.forEach(function(a){return a.addEventListener("scroll",Z,{passive:!0})});return function(){a.forEach(function(a){return a.removeEventListener("scroll",Z,{passive:!0})})}}},[R,Z,N]);n(function(){if(G)return;if(window.addEventListener==null||R)return;window.addEventListener("scroll",Z,{passive:!0});return function(){window.removeEventListener("scroll",Z,{passive:!0})}},[R,Z]);a=p(function(){return c("mergeRefs")(ta,ra,b)},[ta,ra,b]);x=p(function(){return{align:f,position:K==="auto"?"below":K}},[f,K]);e=y||J;if(G){return k.jsx(c("BasePortal.react"),{target:(z=g==null?void 0:g.current)!=null?z:M.current,children:k.jsx(w,{hidden:y||J||F,presencePayload:la,stopClickPropagation:E,testid:void 0,xstyle:[v.root,C===!0?v.rootReflowToPosition:null,ma],children:k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:!e&&j?d("focusScopeQueries").headerFirstTabbableSecondScopeQuery:null,autoRestoreFocus:!e&&D,containFocusQuery:!e&&j?d("focusScopeQueries").tabbableScopeQuery:null,onEscapeFocusRegion:ka,recoverFocusQuery:e?null:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:k.jsx(c("BaseLinkNestedPressableContext").Provider,{value:!1,children:k.jsx(d("FDSTextContext").FDSTextContextProvider,{color:null,type:null,children:i})})})})})}return k.jsx(c("BasePortal.react"),{target:(z=g==null?void 0:g.current)!=null?z:M.current,children:k.jsx(w,{hidden:y||J||F,presencePayload:la,ref:a,stopClickPropagation:E,testid:void 0,xstyle:[v.root,C===!0?v.rootReflowToPosition:null,ma],children:k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:!e&&j?d("focusScopeQueries").headerFirstTabbableSecondScopeQuery:null,autoRestoreFocus:!e&&D,containFocusQuery:!e&&j?d("focusScopeQueries").tabbableScopeQuery:null,onEscapeFocusRegion:ka,recoverFocusQuery:e?null:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:k.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:k.jsx(c("BaseContextualLayerContextSizeContext").Provider,{value:oa,children:k.jsx(c("BaseContextualLayerLayerAdjustmentContext").Provider,{value:B,children:k.jsx(c("BaseContextualLayerAvailableHeightContext").Provider,{value:na,children:k.jsx(c("BaseContextualLayerOrientationContext").Provider,{value:x,children:k.jsx(c("BaseLinkNestedPressableContext").Provider,{value:!1,children:k.jsx(d("FDSTextContext").FDSTextContextProvider,{color:null,type:null,children:i})})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometQPLPayloadStore",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g!=null?g:window.pldmp}var h=null;function c(a){h=a}function d(){return h!=null?h:window.plbs}f.storePayloadMap=a;f.getPayloadMap=b;f.storePayloadBytesSent=c;f.getPayloadBytesSent=d}),66);
__d("CometTextTypography",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},"default":{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},i={body1:{fontFamily:h["default"],fontSize:20,fontWeight:"normal",lineHeight:24,offsets:[4,5]},body2:{fontFamily:h["default"],fontSize:17,fontWeight:"normal",lineHeight:20,offsets:[3,5]},body3:{fontFamily:h["default"],fontSize:15,fontWeight:"normal",lineHeight:20,offsets:[4,5]},body4:{fontFamily:h["default"],fontSize:13,fontWeight:"normal",lineHeight:16,offsets:[3,4]},bodyLink1:{fontFamily:h["default"],fontSize:20,fontWeight:"semibold",lineHeight:24,offsets:[4,5]},bodyLink2:{fontFamily:h["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,5]},bodyLink3:{fontFamily:h["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},bodyLink4:{fontFamily:h["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},button1:{fontFamily:h["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,5]},button2:{fontFamily:h["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},entityHeaderHeadline1:{fontFamily:h["default"],fontSize:32,fontWeight:"bold",lineHeight:38,offsets:[7,8]},entityHeaderHeadline2:{fontFamily:h["default"],fontSize:28,fontWeight:"bold",lineHeight:32,offsets:[5,7]},entityHeaderMeta1:{defaultColor:"secondary",fontFamily:h["default"],fontSize:15,fontWeight:"bold",lineHeight:20,offsets:[4,5]},entityHeaderMeta2:{defaultColor:"secondary",fontFamily:h["default"],fontSize:15,fontWeight:"bold",lineHeight:20,offsets:[4,5]},headline3:{fontFamily:h["default"],fontSize:17,fontWeight:"medium",lineHeight:20,offsets:[3,5]},headline4:{fontFamily:h["default"],fontSize:15,fontWeight:"medium",lineHeight:20,offsets:[4,5]},headlineDeemphasized3:{fontFamily:h["default"],fontSize:17,fontWeight:"normal",lineHeight:20,offsets:[3,5]},headlineDeemphasized4:{fontFamily:h["default"],fontSize:15,fontWeight:"normal",lineHeight:20,offsets:[4,5]},headlineEmphasized1:{fontFamily:h["default"],fontSize:24,fontWeight:"bold",lineHeight:28,offsets:[5,6]},headlineEmphasized2:{fontFamily:h["default"],fontSize:20,fontWeight:"bold",lineHeight:24,offsets:[4,5]},headlineEmphasized3:{fontFamily:h["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,4]},headlineEmphasized4:{fontFamily:h["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},meta1:{defaultColor:"secondary",fontFamily:h["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},meta2:{defaultColor:"secondary",fontFamily:h["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},meta3:{defaultColor:"secondary",fontFamily:h["default"],fontSize:13,fontWeight:"normal",lineHeight:16,offsets:[3,4]},meta4:{defaultColor:"secondary",fontFamily:h["default"],fontSize:12,fontWeight:"normal",lineHeight:16,offsets:[3,4]}},j=[["body1",[5,5]],["body2",[4,4]],["body3",[4,4]],["body4",[4,3]],["bodyLink1",[5,5]],["bodyLink2",[4,4]],["bodyLink3",[4,4]],["bodyLink4",[4,3]],["button1",[4,4]],["button2",[4,4]],["entityHeaderHeadline1",[8,7]],["entityHeaderHeadline2",[6,6]],["entityHeaderMeta1",[4,4]],["entityHeaderMeta2",[4,4]],["headline3",[4,4]],["headline4",[4,4]],["headlineDeemphasized3",[4,4]],["headlineDeemphasized4",[4,4]],["headlineEmphasized1",[6,5]],["headlineEmphasized2",[5,5]],["headlineEmphasized3",[4,4]],["headlineEmphasized4",[4,4]],["meta1",[4,3]],["meta2",[4,3]],["meta3",[4,3]],["meta4",[3,3]]],k=[["body1",[5,5]],["body2",[4,4]],["body3",[5,4]],["body4",[4,3]],["bodyLink1",[6,4]],["bodyLink2",[4,3]],["bodyLink3",[5,4]],["bodyLink4",[4,3]],["button1",[4,3]],["button2",[5,4]],["entityHeaderHeadline1",[8,7]],["entityHeaderHeadline2",[7,5]],["entityHeaderMeta1",[5,4]],["entityHeaderMeta2",[5,4]],["headline3",[5,3]],["headline4",[5,4]],["headlineDeemphasized3",[5,3]],["headlineDeemphasized4",[5,4]],["headlineEmphasized1",[6,5]],["headlineEmphasized2",[6,4]],["headlineEmphasized3",[4,3]],["headlineEmphasized4",[5,4]],["meta1",[4,3]],["meta2",[4,3]],["meta3",[4,3]],["meta4",[4,3]]],l=[["body1",[6,4,1]],["body2",[5,3,1]],["body3",[5,4]],["body4",[4,3,1]],["bodyLink1",[6,4,1]],["bodyLink2",[5,3,1]],["bodyLink3",[5,4]],["bodyLink4",[4,3,1]],["button1",[5,3,1]],["button2",[5,4]],["entityHeaderHeadline1",[10,6,2]],["entityHeaderHeadline2",[8,5,3]],["entityHeaderMeta1",[5,4,1]],["entityHeaderMeta2",[5,4,1]],["headline3",[5,3,1]],["headline4",[5,4]],["headlineDeemphasized3",[5,3,1]],["headlineDeemphasized4",[5,4]],["headlineEmphasized1",[7,4,2]],["headlineEmphasized2",[6,4,2]],["headlineEmphasized3",[5,3,1]],["headlineEmphasized4",[5,4]],["meta1",[4,3,1]],["meta2",[4,3,1]],["meta3",[4,3,1]],["meta4",[4,3]]];function m(){if(c("UserAgent").isPlatform("Windows >= 6"))return{fontFamily:h.segoe,offsets:l};return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?{fontFamily:h.apple,offsets:c("UserAgent").isEngine("Gecko")?k:j}:null}function a(){var a=babelHelpers["extends"]({},i),b=m();if(b!=null){var c=b.fontFamily;b=b.offsets;b=new Map(b);b.forEach(function(b,d){a[d]=babelHelpers["extends"]({},a[d],{fontFamily:c,offsets:b})})}return a}b=a();g["default"]=b}),98);
__d("ErrorSetup",["fb-error"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("fb-error").ErrorSetup}),98);
__d("JavascriptWebErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1828905");b=d("FalcoLoggerInternal").create("javascript_web_error",a);e=b;g["default"]=e}),98);
__d("ErrorTransport",["JavascriptWebErrorFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("JavascriptWebErrorFalcoEvent").log(function(){return a})}g.log=a}),98);
__d("FDSTextContext_Old.react",["CometTextTypography","FDSTextContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function l(a,b){return b?(b=k[a])!=null?b:a:a}function a(a){var b=a.children,e=a.color,f=a.type;a=c("CometTextTypography")[f].defaultColor;a=a===void 0?"primary":a;var g=l(e!=null?e:a,f==="button1"||f==="button2");e=j(function(){return{color:g,type:f}},[g,f]);return i.jsx(d("FDSTextContext").FDSTextContext.Provider,{value:e,children:typeof b==="function"?b(e):b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FalcoLoggerTransportsDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("FalcoLoggerTransports").__setRef("FalcoLoggerTransportsDeferred");g["default"]=a}),98);
__d("IntlCLDRNumberType01",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("IntlCLDRNumberType04",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a>=0&&a<=1)return c("IntlVariations").NUMBER_ONE;else return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("IntlCLDRNumberType09",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a===1)return c("IntlVariations").NUMBER_ONE;else return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("IntlCLDRNumberType30",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a%10===1&&a%100!==11)return c("IntlVariations").NUMBER_ONE;else if(a%10>=2&&a%10<=4&&(a%100<12||a%100>14))return c("IntlVariations").NUMBER_FEW;else return c("IntlVariations").NUMBER_MANY}};b=a;g["default"]=b}),98);
__d("SecurePostMessage",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="*";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);
__d("WACyrb53Hash",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=0);var c=3735928559^b;b=1103547991^b;for(var d=0,e;d<a.length;d++)e=a.charCodeAt(d),c=Math.imul(c^e,2654435761),b=Math.imul(b^e,1597334677);c=Math.imul(c^c>>>16,2246822507)^Math.imul(b^b>>>13,3266489909);b=Math.imul(b^b>>>16,2246822507)^Math.imul(c^c>>>13,3266489909);return 4294967296*(2097151&b)+(c>>>0)}f["default"]=a}),66);
__d("WASmaxInMdCountryCodeErrors",["WAResultOrError","WASmaxInMdIQErrorBadRequestMixin","WASmaxInMdIQErrorInternalServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInMdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorInternalServerError"],[b,c])}g.parseCountryCodeErrors=a}),98);
__d("WASmaxInMdGetCountryCodeResponseError",["WAResultOrError","WASmaxInMdCountryCodeErrors","WASmaxInMdIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInMdIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInMdCountryCodeErrors").parseCountryCodeErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorCountryCodeErrors:b.value}))}g.parseGetCountryCodeResponseError=a}),98);
__d("WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse",["WAResultOrError","WASmaxInMdIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"country_code");if(!c.success)return c;c=d("WASmaxParseUtils").attrString(c.value,"iso");if(!c.success)return c;a=d("WASmaxInMdIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({countryCodeIso:c.value},a.value))}g.parseGetCountryCodeResponseGetCountryCodeResponse=a}),98);
__d("WASmaxOutMdBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutMdGetCountryCodeRequest",["WASmaxJsx","WASmaxOutMdBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutMdBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"md"},d("WASmaxJsx").smax("link_code_companion_reg",{stage:"get_country_code"})));return a}g.makeGetCountryCodeRequest=a}),98);
__d("WASmaxMdGetCountryCodeRPC",["WAComms","WASmaxInMdGetCountryCodeResponseError","WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse","WASmaxOutMdGetCountryCodeRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WASmaxOutMdGetCountryCodeRequest").makeGetCountryCodeRequest();a=(yield d("WAComms").sendSmaxStanza(b,a));var c=d("WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse").parseGetCountryCodeResponseGetCountryCodeResponse(a,b);if(c.success)return{name:"GetCountryCodeResponseGetCountryCodeResponse",value:c.value};a=d("WASmaxInMdGetCountryCodeResponseError").parseGetCountryCodeResponseError(a,b);if(a.success)return{name:"GetCountryCodeResponseError",value:a.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetCountryCode",{GetCountryCodeResponse:c,Error:a}))});return h.apply(this,arguments)}g.sendGetCountryCodeRPC=a}),98);
__d("WAWeb-modernizr",[],(function(a,b,c,d,e,f){!function(a,b,c,d){function e(a,b){return typeof a===b}function f(a){var b=y.className,c=w._config.classPrefix||"";if(z&&(b=b.baseVal),w._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}w._config.enableClasses&&(a.length>0&&(b+=" "+c+a.join(" "+c)),z?y.className.baseVal=b:y.className=b)}function g(){return"function"!=typeof c.createElement?c.createElement(arguments[0]):z?c.createElementNS.call(c,"http://www.w3.org/2000/svg",arguments[0]):c.createElement.apply(c,arguments)}function h(a,b){return!!~(""+a).indexOf(b)}function i(){var a=c.body;return a||(a=g(z?"svg":"body"),a.fake=!0),a}function j(a,b,d,e){var f,h,o="modernizr",p=g("div"),q=i();if(parseInt(d,10))for(;d--;)f=g("div"),f.id=e?e[d]:o+(d+1),p.appendChild(f);return f=g("style"),f.type="text/css",f.id="s"+o,(q.fake?q:p).appendChild(f),q.appendChild(p),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),p.id=o,q.fake&&(q.style.background="",q.style.overflow="hidden",h=y.style.overflow,y.style.overflow="hidden",y.appendChild(q)),d=b(p,a),q.fake&&q.parentNode?(q.parentNode.removeChild(q),y.style.overflow=h,y.offsetHeight):p.parentNode.removeChild(p),!!d}function k(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function l(a,c,d){var e;if("getComputedStyle"in b){e=getComputedStyle.call(b,a,c);var f=b.console;if(null!==e)d&&(e=e.getPropertyValue(d));else if(f){var h=f.error?"error":"log";f[h].call(f,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else e=!c&&a.currentStyle&&a.currentStyle[d];return e}function m(a,c){var e=a.length;if("CSS"in b&&"supports"in b.CSS){for(;e--;)if(b.CSS.supports(k(a[e]),c))return!0;return!1}if("CSSSupportsRule"in b){for(var f=[];e--;)f.push("("+k(a[e])+":"+c+")");return f=f.join(" or "),j("@supports ("+f+") { #modernizr { position: absolute; } }",function(a){return"absolute"===l(a,null,"position")})}return d}function n(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function o(a,b,c,f){function o(){s&&(delete G.style,delete G.modElem)}if(f=!e(f,"undefined")&&f,!e(c,"undefined")){var r=m(a,c);if(!e(r,"undefined"))return r}for(var s,t,r,u,v,r=["modernizr","tspan","samp"];!G.style&&r.length;)s=!0,G.modElem=g(r.shift()),G.style=G.modElem.style;for(r=a.length,t=0;t<r;t++)if(u=a[t],v=G.style[u],h(u,"-")&&(u=n(u)),G.style[u]!==d){if(f||e(c,"undefined"))return o(),"pfx"!==b||u;try{G.style[u]=c}catch(a){}if(G.style[u]!==v)return o(),"pfx"!==b||u}return o(),!1}function p(a,b){return function(){return a.apply(b,arguments)}}function q(a,b,c){var d;for(var f in a)if(a[f]in b)return!1===c?a[f]:(d=b[a[f]],e(d,"function")?p(d,c||b):d);return!1}function r(a,b,c,d,f){var i=a.charAt(0).toUpperCase()+a.slice(1),j=(a+" "+E.join(i+" ")+i).split(" ");return e(b,"string")||e(b,"undefined")?o(j,b,d,f):(j=(a+" "+B.join(i+" ")+i).split(" "),q(j,b,c))}function s(a,b,c){return r(a,d,d,b,c)}function t(a,b){if("object"==typeof a)for(var c in a)I(a,c)&&t(c,a[c]);else{a=a.toLowerCase();c=a.split(".");var d=w[c[0]];if(2===c.length&&(d=d[c[1]]),void 0!==d)return w;b="function"==typeof b?b():b,1===c.length?w[c[0]]=b:(!w[c[0]]||w[c[0]]instanceof Boolean||(w[c[0]]=new Boolean(w[c[0]])),w[c[0]][c[1]]=b),f([(b&&!1!==b?"":"no-")+c.join("-")]),w._trigger(a,b)}return w}var u=[],v={_version:"3.11.8",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){u.push({name:a,fn:b,options:c})},addAsyncTest:function(a){u.push({name:null,fn:a})}},w=function(){};w.prototype=v,w=new w;var x=[],y=c.documentElement,z="svg"===y.nodeName.toLowerCase(),A="Moz O ms Webkit",B=v._config.usePrefixes?A.toLowerCase().split(" "):[];v._domPrefixes=B;var C=v._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];v._prefixes=C;var D=function(){function a(a,c){var e;return!!a&&(c&&"string"!=typeof c||(c=g(c||"div")),a="on"+a,e=a in c,!e&&b&&(c.setAttribute||(c=g("div")),c.setAttribute(a,""),e="function"==typeof c[a],c[a]!==d&&(c[a]=d),c.removeAttribute(a)),e)}var b=!("onblur"in y);return a}();v.hasEvent=D;var E=v._config.usePrefixes?A.split(" "):[];v._cssomPrefixes=E;var F={elem:g("modernizr")};w._q.push(function(){delete F.elem});var G={style:F.elem.style};w._q.unshift(function(){delete G.style}),v.testAllProps=r;var H=function(a){var c,e=C.length,f=b.CSSRule;if(void 0===f)return d;if(!a)return!1;if(a=a.replace(/^@/,""),(c=a.replace(/-/g,"_").toUpperCase()+"_RULE")in f)return"@"+a;for(var i=0;i<e;i++){var j=C[i];if(j.toUpperCase()+"_"+c in f)return"@-"+j.toLowerCase()+"-"+a}return!1};v.atRule=H;v.prefixed=function(a,b,c){return 0===a.indexOf("@")?H(a):(-1!==a.indexOf("-")&&(a=n(a)),b?r(a,b,c):r(a,"pfx"))};v.testAllProps=s;var I;v.testProp=function(a,b,c){return o([a],d,b,c)};!function(){var a={}.hasOwnProperty;I=e(a,"undefined")||e(a.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(b,c){return a.call(b,c)}}(),v._l={},v.on=function(a,b){this._l[a]||(this._l[a]=[]),this._l[a].push(b),w.hasOwnProperty(a)&&setTimeout(function(){w._trigger(a,w[a])},0)},v._trigger=function(a,b){if(this._l[a]){var c=this._l[a];setTimeout(function(){var a;for(a=0;a<c.length;a++)c[a](b)},0),delete this._l[a]}},w._q.push(function(){v.addTest=t}),w.addAsyncTest(function(){function a(a,b,c){function d(b){var d=!(!b||"load"!==b.type)&&1===e.width;t(a,"webp"===a&&d?new Boolean(d):d),c&&c(b)}var e=new Image;e.onerror=d,e.onload=d,e.src=b}var b=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],c=b.shift();a(c.name,c.uri,function(c){if(c&&"load"===c.type)for(c=0;c<b.length;c++)a(b[c].name,b[c].uri)})}),w.addTest("serviceworker","serviceWorker"in navigator),w.addAsyncTest(function(){var a=new Image;a.onerror=function(){t("exiforientation",!1,{aliases:["exif-orientation"]})},a.onload=function(){t("exiforientation",2!==a.width,{aliases:["exif-orientation"]})},a.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}),w.addTest("adownload",!b.externalHost&&"download"in g("a")),w.addTest("cssanimations",s("animationName","a",!0)),w.addTest("csstransitions",s("transition","all",!0)),(function(){var a,b,c,d;for(var f in u)if(u.hasOwnProperty(f)){if(a=[],b=u[f],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(c=e(b.fn,"function")?b.fn():b.fn,b=0;b<a.length;b++)d=a[b],d=d.split("."),1===d.length?w[d[0]]=c:(w[d[0]]&&(!w[d[0]]||w[d[0]]instanceof Boolean)||(w[d[0]]=new Boolean(w[d[0]])),w[d[0]][d[1]]=c),x.push((c?"":"no-")+d.join("-"))}})(),f(x),delete v.addTest,delete v.addAsyncTest;for(D=0;D<w._q.length;D++)w._q[D]();a.Modernizr=w}(window,window,document)}),null);
__d("WAWebApp.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={wrapper:"_aiwn",stripe:"_ap4q",isQR:"_aiwl",draggableHeader:"_aiwo",isMain:"_aiwm"};b=a;g["default"]=b}),98);
__d("WAWebBridgeInitialization",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){function a(){return new(d("WADynamicRouterAsync").DynamicRouter)()}g.makeBridge=a}),98);
__d("WAWebModelStorageInit",["WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[],b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.ROUTING_INFO);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.ROUTING_INFO,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.INITIAL_HISTORY_SYNCED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.INITIAL_HISTORY_SYNCED,value:b!=null});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.HISTORY_SYNC_STATUS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.HISTORY_SYNC_STATUS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.BLOCKLIST_HASH);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.BLOCKLIST_HASH,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CRITICAL_DATA_SYNCED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.ADV_SECRET_KEY);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.ADV_SECRET_KEY,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_UPGRADE_WAM_FLAG);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_UPGRADE_WAM_FLAG,value:b===!0});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_HISTORY_LAST_CHUNK_PROCESSED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_HISTORY_LAST_CHUNK_PROCESSED,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.UNARCHIVE_CHATS_SETTING);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.UNARCHIVE_CHATS_SETTING,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.ARCHIVE_V2_ENABLED_SETTING);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.ARCHIVE_V2_ENABLED_SETTING,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED,value:b===!0});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CHAT_THREAD_LOGGING_OFFSET);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_OFFSET,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CHAT_THREAD_LOGGING_SECRET);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_SECRET,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.PAIRING_TIMESTAMP);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.PAIRING_TIMESTAMP,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.RECENT_MAILBOX_AGE_DAYS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.RECENT_MAILBOX_AGE_DAYS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_LOGIN_COOKIE_REQUEST_COMPLETE);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_LOGIN_COOKIE_REQUEST_COMPLETE,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.MOBILE_PLATFORM_DEPRECATED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MOBILE_PLATFORM,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.PRIMARY_FEATURES);b!=null&&a.push({key:d("WAWebUserPrefsKeys").KEYS.PRIMARY_FEATURES,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.INITIAL_HIST_BOUNDARY);b=i(b);b!=null&&a.push({key:d("WAWebUserPrefsKeys").HASHED_KEYS.INITIAL_HIST_BOUNDARY,value:b});return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.bulkSetItemsToIndexedDB(a)});return h.apply(this,arguments)}function i(a){if(typeof a==="object")return a;if(typeof a!=="string")return null;var b;try{b=JSON.parse(a)}catch(a){return null}if(b==null||typeof b!=="object"||b instanceof Array)return null;b;var c={};Object.entries(b).forEach(function(a){var b=a[0];a=a[1];typeof a==="number"&&(c[b]=a)});return c}g.migrateMDUserPrefsToIndexedDB=a}),98);
__d("WAWebStatusStorageUtils",["invariant","WAWebIdb","WAWebStorage"],(function(a,b,c,d,e,f,g,h){var i="status-storage",j=null;function a(){var a=new(c("WAWebIdb"))(i);j=new(d("WAWebStorage").Storage)(a)}function b(){j!=null||h(0,92225);return j}g.createStorage=a;g.getStorage=b}),98);
__d("WAWebStatusStorageVersions",["WAWebStatusStorageUtils"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebStatusStorageUtils").getStorage().versions.version(0)}g.statusCreateTable=a}),98);
__d("WAWebSchemaStatus",["WAWebStatusStorageUtils","WAWebStatusStorageVersions","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){"use strict";b=d("WAWebStorageMutationBuilder").columnBuilder();var h=b.addColumn,i=b.addAutoIncrementingPrimaryKey,j=b.addUniqueIndex;function a(){var a=d("WAWebStatusStorageUtils").getStorage();a.add("status").version(d("WAWebStatusStorageVersions").statusCreateTable(),[i("id"),h("status_uuid"),j("status_uuid"),h("sender_user_jid"),h("type"),h("timestamp"),h("state"),h("is_archived"),h("media_row_id"),h("secret")])}g.addTable=a}),98);
__d("WAWebStatusStorageInitialize",["WALogger","WAWeb-dexie","WAWebDbRolloutUtil","WAWebSchemaStatus","WAWebStatusStorageUtils","WAWebStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i==null&&(yield d("WAWebDbRolloutUtil").loadSchemaVersions(),d("WAWebStatusStorageUtils").createStorage(),d("WAWebSchemaStatus").addTable(),i=d("WAWebStatusStorageUtils").getStorage().initialize()["catch"](function(a){var b="Unknown error";a instanceof d("WAWebStorage").AlreadyInitializedError||a instanceof d("WAWebStorage").NoSuchDatabaseError?b=a.toString():a instanceof c("WAWeb-dexie").DexieError&&(b="Unknown DexieError");d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to initialize status storage: ",""])),b).verbose().devConsole(a).sendLogs("failed-to-initialize-status-storage",{sendLogsType:d("WALogger").SendLogsType.CRASH_OR_UNRECOVERABLE_ERROR_SAD});throw a}));return i});return j.apply(this,arguments)}g.initialize=a}),98);
__d("WAWebStatusStorage",["WAWebStatusStorageInitialize","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebStatusStorageInitialize").initialize()});return h.apply(this,arguments)}Object.keys(d("WAWebStatusStorageInitialize")).forEach(function(a){if(a==="default"||a==="__esModule")return;g[a]=d("WAWebStatusStorageInitialize")[a]});g.initialize=a}),98);
__d("WAWebLaunchSocket",["Promise","WAComms","WAGzip","WALogger","WAWebABPropsUpdateFromStorage","WAWebApiContact","WAWebBackendApi","WAWebBridgeInitialization","WAWebBrokerGlobalAppState","WAWebBuildConstants","WAWebCmd","WAWebCommsConfig","WAWebCommsHandleStanza","WAWebCryptoEncKeyHelper","WAWebCurrentUser","WAWebDbRolloutUtil","WAWebEnvironment","WAWebEventSamplingCache","WAWebFtsClient","WAWebInitFromStorage","WAWebInvocationInterface","WAWebModelStorage","WAWebModelStorageInit","WAWebPageLoadLogging","WAWebPushNotificationsOfflineBbApi","WAWebRegistration","WAWebSchemaVersions","WAWebSignalStorage","WAWebSocketModel","WAWebStartBackend","WAWebStatusStorage","WAWebUserPrefsGeneral","WAWebUserPrefsIsLoggedIn","WAWebUserPrefsMultiDevice","WAWebWaitForInitialChatsSynced","WAWebWamEnumWebcScenarioType","WAWebWamMemoryStat","WAWebWamOfflineResumeReporter","WAWebWorkerStorage","asyncToGeneratorRuntime","err","gkx","requireDeferred"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=c("requireDeferred")("WAWebSetFrontendHandlerApi").__setRef("WAWebLaunchSocket"),r=c("requireDeferred")("WAWebSetWorkerSafeHandlerApi").__setRef("WAWebLaunchSocket");d("WAWebCmd").Cmd.on("md_refresh_qr",function(){d("WAComms").stopComms(),s()});d("WAWebCmd").Cmd.on("reconnect_socket",function(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["reconnect_socket triggered, resetting socket loop"]))),d("WAComms").closeSocketAndResume()});function s(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebCommsConfig").getCommsConfig(void 0);d("WAComms").startComms(c("WAWebCommsHandleStanza"),a,function(a){return(p||(p=b("Promise"))).resolve(d("WAGzip").inflate(a))});yield d("WAComms").waitForConnection();return d("WAComms").startHandlingRequests()});return t.apply(this,arguments)}function a(a){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[socket] start launchSocket flow with mutexComplete promise ",""])),a==null?"NULL":"not null");c("gkx")("26258")||(a!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[socket] entered eager launchSocket flow"]))).sendLogs("intern-launchSocket-eager",{sampling:0}):d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[socket] entered legacy launchSocket flow"]))).sendLogs("intern-launchSocket-legacy",{sampling:0}));d("WAWebPageLoadLogging").startPageLoadQplMeasure("launchSocket");var e=d("WAWebBridgeInitialization").makeBridge();d("WAWebBackendApi").setApi(e);void q.load().then(function(a){a=a.setFrontendHandlers;return a(e)});void r.load().then(function(a){a=a.setWorkerSafeHandlers;return a(e)});d("WAWebFtsClient").ftsClient.initialize();return d("WAWebDbRolloutUtil").loadSchemaVersions().then(function(){return u()}).then(function(){return d("WAWebCryptoEncKeyHelper").initEncSalt()}).then(function(){return d("WAWebCryptoEncKeyHelper").initEncSaltForInvoker()}).then(function(){return d("WAWebSignalStorage").initialize()}).then(function(){return(p||(p=b("Promise"))).all([d("WAWebModelStorage").initialize(),a]).then(function(){return d("WAWebModelStorageInit").migrateMDUserPrefsToIndexedDB()})}).then(function(){return d("WAWebStatusStorage").initialize()}).then(function(){return(p||(p=b("Promise"))).all([d("WAWebUserPrefsGeneral").getLogoutReason(),d("WAWebWorkerStorage").initialize(),d("WAWebUserPrefsGeneral").setAppVersionBase(d("WAWebBuildConstants").VERSION_BASE)])})["catch"](function(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[socket] storageInitializationError triggered logout: ","."])),(a==null?void 0:a.message)||(a==null?void 0:a.name)).tags("launch-socket"),d("WAWebCmd").Cmd.storageInitializationError()}).then(function(a){a=a==null?void 0:a[0];a&&(c("WAWebEnvironment").isWindows&&d("WAWebCurrentUser").isEmployee()?d("WAWebCmd").Cmd.unexpectedLogoutModal(a.reason):d("WAWebSocketModel").Socket.logout(a.reason));if(c("WAWebBrokerGlobalAppState").isLogoutInProgress)throw c("err")("aborting launchSocket due to logout");if(d("WAWebUserPrefsMultiDevice").isRegistered()){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[socket] launchSocket for login"])));d("WAWebUserPrefsIsLoggedIn").setIsConnectedAsRegistered(!0);d("WAWebCmd").Cmd.initialLoadReady();d("WAWebWamMemoryStat").setCurrentMemoryScenario(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.OFFLINE_RESUME);return d("WAWebModelStorage").initialize()["catch"](function(){return d("WAWebCmd").Cmd.storageInitializationError()}).then(function(){return(p||(p=b("Promise"))).all([d("WAWebABPropsUpdateFromStorage").updateABPropsFromStorage(),d("WAWebEventSamplingCache").updateEventSamplingFromStorage()])}).then(function(){d("WAWebCmd").Cmd.abPropsLoaded(),d("WAWebInitFromStorage").restoreImportantMetaData()}).then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=function(){d("WAWebPageLoadLogging").startPageLoadQplMeasure("lidCacheWarmup");return d("WAWebApiContact").warmUpAllLidPnMappings().then(function(a){return d("WAWebPageLoadLogging").endPageLoadQplMeasure("lidCacheWarmup")})};yield (p||(p=b("Promise"))).all([d("WAWebInitFromStorage").restoreBlocklist(),d("WAWebInitFromStorage").restoreOptOutList(),a()])})).then(function(){d("WAWebPushNotificationsOfflineBbApi").setStartCommsT(),d("WAWebPageLoadLogging").endPageLoadQplMeasure("launchSocket"),d("WAWebStartBackend").startBackend()})}d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[socket] launchSocket for registration"])));d("WAWebWamMemoryStat").setCurrentMemoryScenario(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.INITIAL_PAIRING);d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.setIsInitialSync();d("WAWebWaitForInitialChatsSynced").initWaitForInitialChatsSynced();return(p||(p=b("Promise"))).all([d("WAWebRegistration").refreshNoiseCredentials(),d("WAWebRegistration").refreshSignalCredentials()]).then(function(){d("WAWebPageLoadLogging").endPageLoadQplMeasure("launchSocket"),s()})})}function u(){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[storage] send schema versions to fts worker"]))),void d("WAWebInvocationInterface").get().setSchemaVersions(d("WAWebSchemaVersions").getSchemaVersions())}g.launchSocket=a}),98);
__d("WAWebAppMutex",["Promise","WACustomError","WAFilteredCatch","WALogger","WAPromiseTimeout","WAResolvable","WAWebAlarm","WAWebCmd","WAWebEventsWaitForEvent","WAWebL10N","WAWebLaunchSocket","WAWebPageLoadLogging","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebUserPrefsTabMutex","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p=10*60*1e3,q={INIT:"init",PING:"ping",PONG:"pong",TAKEOVER:"local-takeover"};a=function(){function a(){var a=this;this.$3=!1;this.$4=!0;this.$5=new(d("WAResolvable").Resolvable)();this.$7=function(){a.$8();var b=Date.now();d("WAWebUserPrefsTabMutex").setMutex(a.$1=q.INIT+"_"+b);a.$2=c("WAWebAlarm").setLocalTimeout(a.$7,b+p)};d("WAWebCmd").Cmd.on("ab_props_loaded",s);d("WAWebCmd").Cmd.on("on_ab_props_update",s)}var e=a.prototype;e.waitForCompletion=function(){return this.$5.promise};e.setShouldLaunchSocket=function(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[app] AppMutex setting shouldLaunchSocket: ",""])),a),this.$4=a};e.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=0);this.$3||(d("WAWebPageLoadLogging").startPageLoadQplMeasure("acquire_mutex"),this.$3=!0);a=a+1;if(a>3)return!0;var b=d("WAWebUserPrefsTabMutex").getNoTakeover();d("WAWebUserPrefsTabMutex").setNoTakeover();var e=(yield this.$6());if(e){this.$7();d("WAWebPageLoadLogging").endPageLoadQplMeasure("acquire_mutex");this.$4&&(yield d("WAWebLaunchSocket").launchSocket(null));this.$5.resolve();void c("WAWebL10N").checkForLocaleMismatchBetweenCookieAndUserPref();return!1}if(b)return!0;throw a});function e(b){return a.apply(this,arguments)}return e}();e.takeoverLocal=function(a){var b=this;if(d("WAWebUserPrefsTabMutex").getMutex()){d("WAWebPageLoadLogging").startPageLoadQplMeasure("mutex_takeover");d("WAWebUserPrefsTabMutex").setMutex(q.TAKEOVER);return d("WAPromiseTimeout").promiseTimeout(c("WAWebEventsWaitForEvent")(window,"storage",d("WAWebUserPrefsTabMutex").takeoverFilter),3e4,"takeoverLocalTimeout").then(function(c){d("WAWebUserPrefsTabMutex").removeMutex();d("WAWebPageLoadLogging").endPageLoadQplMeasure("mutex_takeover");return b.init(a)})["catch"](d("WAFilteredCatch").filteredCatch(d("WACustomError").TimeoutError,function(){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[app] takeoverLocal timeout"])));d("WAWebUserPrefsTabMutex").removeMutex();d("WAWebPageLoadLogging").addPageLoadQplAnnotation({mutex_takeover_timeout:!0});d("WAWebPageLoadLogging").endPageLoadQplMeasure("mutex_takeover");return b.init(a)}))["finally"](function(){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[mutex] shut down an existing instance of WA Web"])))})}return this.init(a)};e.unloadMutex=function(){var a=d("WAWebUserPrefsTabMutex").getMutex();a&&this.$1&&a.includes(this.$1)&&d("WAWebUserPrefsTabMutex").removeMutex()};e.storagePong=function(a){if(!d("WAWebUserPrefsTabMutex").mutexFilter(a))return;a=d("WAWebUserPrefsTabMutex").parseMutex(a.newValue);if(!a)return;if(a===q.TAKEOVER){this.$8();d("WAWebUserPrefsTabMutex").localTakeoverSuccess();return!0}else a.indexOf(q.PING)===0&&d("WAWebUserPrefsTabMutex").setMutex(q.PONG+Math.random())};e.$8=function(){this.$2!=null&&c("WAWebAlarm").clearTimeout(this.$2)};e.$6=function(){var a=d("WAWebUserPrefsTabMutex").getMutex();if(a){d("WAWebPageLoadLogging").startPageLoadQplMeasure("mutex_ping");a+="";var e=1e3;if(a.indexOf("_")>0){a=a.split(".");a=parseInt(a[a.length-1],10);if(Number.isFinite(a)){var f=Date.now()-p*1.5;a<f&&(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[app] _pingForOtherLocalSession stale mutex"]))),e=1e3)}}a=d("WAPromiseTimeout").promiseTimeout(c("WAWebEventsWaitForEvent")(window,"storage",d("WAWebUserPrefsTabMutex").mutexFilter),e,"waitForOtherLocalSessionTimeout").then(function(){return!1})["catch"](d("WAFilteredCatch").filteredCatch(d("WACustomError").TimeoutError,function(){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[app] _pingForOtherLocalSession mutex timeout after ","ms"])),e);d("WAWebPageLoadLogging").addPageLoadQplAnnotation({mutex_ping_timeout:!0});return!0}));a["finally"](function(){return d("WAWebPageLoadLogging").endPageLoadQplMeasure("mutex_ping")});d("WAWebUserPrefsTabMutex").setMutex(q.PING+Math.random());return a}return(o||(o=b("Promise"))).resolve(!0)};return a}();function r(a){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[mutex] setPingTimeoutSeconds: ",""])),a),c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.MUTEX_PING_TIMEOUT_SECONDS,a)}function s(){r(1),d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[mutex] setMutexBlockStrategy: ",""])),0),c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.MutexBlockStrategy,0)}e=new a();g["default"]=e}),98);
__d("WAWebClientExpiredDialog.react",["fbt","WAWebModal.react","WAWebSpinner.react","WAWebUpdater","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(){l(function(){d("WAWebUpdater").Updater.restart(!0).then(function(){d("WAWebUpdater").Updater.restart()})},[]);return k.jsxs(d("WAWebModal.react").Modal,{cover:!0,title:h._(/*BTDS*/"Updating"),children:[k.jsx("div",{children:h._(/*BTDS*/"WhatsApp is out of date. Updating now\u2026")}),k.jsx("div",{className:"x78zum5 xl56j7k x11fxgd9 x2pibh5 x4n8cb0 xymharo",children:k.jsx(d("WAWebSpinner.react").Spinner,{stroke:4,size:40,color:"highlight"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebConflict.react",["WAWebConfirmPopup.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.cancelText,c=a.children,e=a.okText,f=a.onCancel;a=a.onOK;return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,children:c,cancelText:b,onCancel:f,okText:e,onOK:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebUimUieItem.react",["react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef;function a(a){var b=a.children;a=a.ref;var c=l();k(a,function(){return{getElement:function(){return c.current}}});return j.jsx("div",{ref:c,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebContextMenuManager.react",["WAWebCmd","WAWebDropdown.react","WAWebFocusTracer","WAWebL10N","WAWebUimContext","WAWebUimUieItem.react","WAWebVelocityTransitionGroup","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.cloneElement,l=b.useCallback,m=b.useImperativeHandle,n=b.useLayoutEffect,o=b.useRef,p=b.useState,q={MENU:"MENU",TOOLTIP:"TOOLTIP"};function a(a){var b=a.ref;a=a.type;var e=o(null),f=o(null),g=o(null),h=p(null),i=h[0],s=h[1];h=p(null);var t=h[0],u=h[1];d("useWAWebListener").useListener(d("WAWebCmd").Cmd,a===q.MENU?"open_context_menu":"open_tooltip",function(a,b){var e,h;i==null||i.uim.pop();f.current=b;b=document.activeElement;b instanceof HTMLElement&&(g.current=b);b=a.menuOptions;a=a.uim;var j=b.event;j==null||j.stopPropagation();var k=j==null?0:10;u(null);e=typeof (j==null?void 0:j.clientX)==="number"?j.clientX:(e=b.offsetX)!=null?e:0;j=typeof (j==null?void 0:j.clientY)==="number"?j.clientY:(j=b.offsetY)!=null?j:0;s(babelHelpers["extends"]({},b,{type:(h=b.type)!=null?h:d("WAWebDropdown.react").MenuType.Dropdown,originX:e,originY:j,offsetX:(h=b.offsetX)!=null?h:k,offsetY:(e=b.offsetY)!=null?e:k,dirX:(j=b.dirX)!=null?j:c("WAWebL10N").isRTL()?d("WAWebDropdown.react").DirX.LEFT:d("WAWebDropdown.react").DirX.RIGHT,dirY:(h=b.dirY)!=null?h:d("WAWebDropdown.react").DirY.BOTTOM,key:Math.random(),uim:a}))});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,a===q.MENU?"close_context_menu":"close_tooltip",function(a){if(a==null||(i==null?void 0:i.uim)===a){a=a==null?void 0:a.dismissEvent;a!=null&&a instanceof KeyboardEvent&&(c("WAWebFocusTracer").focus(g.current),g.current=null);s(null);u(null)}});n(function(){var a=e.current;if(i==null||a==null)return;if(t!=null)return;var b=a.clientWidth;a=a.clientHeight+10;u(r({anchor:i.anchor,temporaryMenuPosition:i,menuWidth:b,menuHeight:a}))},[i,t]);m(b,function(){return{isOpen:function(){return i!=null}}});h=l(function(a){if(a==null)return;f.current==null||f.current(a.getElement());f.current=null},[]);var v;if(i==null)v=j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown"});else{a=i.menu;b=i.key;var w=i.type,x=i.autoFocus,y=i.findFirstItem,z=i.horizontal,A=i.theme,B=i.tooltipColorScheme,C=i.testid;C=t!=null?t:i;var D=C.originX,E=C.originY,F=C.offsetX,G=C.offsetY,H=C.dirX;C=C.dirY;a=Array.isArray(a)?a.map(function(a){return k(a,A===void 0?null:{theme:A})}):a;v=j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:w===d("WAWebDropdown.react").MenuType.Picker?"dropdown-picker":"dropdown",children:j.jsx(d("WAWebDropdown.react").Dropdown,{ref:e,origin:{x:D+F,y:E+G},type:w,dirX:H,dirY:C,horizontal:z,autoFocus:x,findFirstItem:y,isTemporaryRender:t==null,tooltipColorScheme:B,testid:void 0,children:j.jsx(c("WAWebUimUieItem.react"),{ref:h,children:a})},"key-"+b)})}return j.jsx(c("WAWebUimContext").Consumer,{children:function(a){return j.jsx(c("WAWebUimContext").Provider,{value:(i==null?void 0:i.uim)||a,children:v})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;function r(a){var b=a.anchor,c=a.temporaryMenuPosition,e=a.menuWidth;a=a.menuHeight;var f=window.innerWidth,g=window.innerHeight,h=c.originX,i=c.originY,j=c.offsetX,k=c.offsetY,l=c.dirX;c=c.dirY;var m=h;h=h;var n=i;i=i;var o=0;if(b&&b instanceof HTMLElement){var p=b.getBoundingClientRect();m=p.left;h=p.right;i=p.bottom;n=p.top;o=b.offsetWidth}p=l;p===d("WAWebDropdown.react").DirX.RIGHT&&m+e>f&&h-e>0?p=d("WAWebDropdown.react").DirX.LEFT:p===d("WAWebDropdown.react").DirX.LEFT&&h-e<0&&m+e<f?p=d("WAWebDropdown.react").DirX.RIGHT:p===d("WAWebDropdown.react").DirX.CENTER&&(h+e/2>f?p=d("WAWebDropdown.react").DirX.LEFT:m-e/2<0&&(p=d("WAWebDropdown.react").DirX.RIGHT));l=c;l===d("WAWebDropdown.react").DirY.BOTTOM&&i+a+k>g&&n-a>0?l=d("WAWebDropdown.react").DirY.TOP:l===d("WAWebDropdown.react").DirY.TOP&&n-a<0&&i+a+k<g&&(l=d("WAWebDropdown.react").DirY.BOTTOM);l===d("WAWebDropdown.react").DirY.TOP?f=n:f=i;e=j;c=k;b||(p===d("WAWebDropdown.react").DirX.LEFT&&(e=0),l===d("WAWebDropdown.react").DirY.TOP&&(c=0));return{dirX:p,dirY:l,originX:s(p,m,h,o),originY:f,offsetX:e,offsetY:c}}function s(a,b,c,e){switch(a){case d("WAWebDropdown.react").DirX.RIGHT:return b;case d("WAWebDropdown.react").DirX.LEFT:return c;case d("WAWebDropdown.react").DirX.CENTER:return b+e/2}}g.Type=q;g.ContextMenuManager=e}),98);
__d("WAWebDeepLinkClickWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({DeepLinkClick:[1156,{deepLinkHasPhoneNumber:[2,a.TYPES.BOOLEAN],deepLinkHasText:[1,a.TYPES.BOOLEAN],deepLinkHasUsername:[4,a.TYPES.BOOLEAN],deepLinkHasUsernamePin:[5,a.TYPES.BOOLEAN],deepLinkRequirePinEntry:[6,a.TYPES.BOOLEAN],deepLinkSessionId:[3,a.TYPES.STRING]},[1,1,1],"regular"]},{DeepLinkClick:[]});g.DeepLinkClickWamEvent=b}),98);
__d("WAWebDeprecated.react",["fbt","WAWebConfirmPopup.react","WAWebLogoutReasonConstants","WAWebSocketModel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.UserInitiated)};function a(){return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,cancelText:h._(/*BTDS*/"Log out"),onCancel:k,okText:h._(/*BTDS*/"Log in"),children:h._(/*BTDS*/"The version of WhatsApp on your phone is too old. Please update to the latest version, then click \"Log in\" to continue using WhatsApp.")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebErrorBoundaryPopup.react",["fbt","WAWebConfirmPopup.react","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){a=a.boundaryName;return j.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,okText:h._(/*BTDS*/"Reload"),onOK:function(){return window.location.reload()},children:[h._(/*BTDS*/"Unexpected error occurred."),!c("gkx")("26258")&&j.jsx("p",{children:h._(/*BTDS*/"Boundary name: {boundaryName}.",[h._param("boundaryName",a)])})]})}k.displayName=k.name+" [from "+f.id+"]";a=function(a){a=a.boundaryName;return j.jsx(k,{boundaryName:a})};g.errorBoundaryPopupFallback=a}),226);
__d("WAWebNotificationIcon",["WAAbortError","WALogger","WAWebAssetLoader","WAWebAssetLoaderSingleton","WAWebFbtCommon","WAWebL10N","WAWebMobilePlatforms","WAWebPwaDocumentMetadataUtils","WAWebUA","WAWebUIRefreshGatingUtils"],(function(a,b,c,d,e,f,g){var h,i,j,k,l="v4";function a(a){var b=[];a>0&&b.push("("+c("WAWebL10N").n(a)+")");d("WAWebMobilePlatforms").isSMB()?b.push(c("WAWebFbtCommon")("WhatsApp Business").toString()):b.push(c("WAWebFbtCommon")("WhatsApp").toString());b=b.join(" ");d("WAWebPwaDocumentMetadataUtils").setDocumentTitle(b);d("WAWebPwaDocumentMetadataUtils").isCurrentWebSessionInsidePwa()&&d("WAWebPwaDocumentMetadataUtils").setAppBadge(a);n(a)}var m;function n(a){if(d("WAWebUA").UA.isSafari)return;var b;a===-1?b="favicon-error2":a===0?b="favicon":a<10?b="f0"+a:a<100?b="f"+a:b="f00";m=b;(a=document.getElementById("favicon"))==null||a.remove();a=d("WAWebUIRefreshGatingUtils").isFaviconsUpdateEnabled();var c=a?"/"+l+"/":"/";a=a?b+"-"+l:b;a={id:a,low:{"default":"/favicon/1x/"+b+c},high:{"default":"/favicon/2x/"+b+c}};void d("WAWebAssetLoaderSingleton").AssetLoader.loadAsset(a,d("WAWebAssetLoader").LOAD_PRIORITY.NOTIFICATION_ICON,!1).then(function(a){if(m!==b){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[favicon] skipped: "," because of newer favicon: ",""])),b,m);return}var c=document.createElement("link");c.setAttribute("id","favicon");c.setAttribute("rel","icon");c.setAttribute("type","image/png");c.setAttribute("href",a);a=document.getElementsByTagName("head");a!=null&&a[0]&&a[0].appendChild(c);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[favicon] updated: ",""])),b)})["catch"](d("WAAbortError").catchAbort(function(){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[favicon] update aborted: ",""])),b)}))["catch"](function(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Error updating favicon: ",""])),a).sendLogs("favicon-fetch-error")})}g.setTitleAndIcon=a}),98);
__d("WAWebFavicon.react",["WAWebNotificationIcon","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){a=a.children;i(function(){d("WAWebNotificationIcon").setTitleAndIcon(0)},[]);return a}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;i(function(){d("WAWebNotificationIcon").setTitleAndIcon(-1)},[]);return a}b.displayName=b.name+" [from "+f.id+"]";g.DefaultFavicon=a;g.ErrorFavicon=b}),98);
__d("WAWebLinkDeviceScreenPrimaryButton.react",["WAWebFlex.react","WAWebUISpacing","WAWebUnstyledButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={button:{color:"x1hql6x6",fontWeight:"xk50ysn",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xsrozwr",borderInlineEndColor:"x1w32m0z",borderBottomColor:"xmigjs0",borderInlineStartColor:"xrolgzk",borderStartStartRadius:"x17m9png",borderStartEndRadius:"x91sizk",borderEndEndRadius:"x1vva9xg",borderEndStartRadius:"x1jfkl46",fontSize:"x1jchvi3",lineHeight:"x1d3mw78",height:"xdd8jsf",minWidth:"x1wfn8jh",whiteSpace:"x126k92a",backgroundColor:"xy7xkci",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},buttonDisabled:{backgroundColor:"x12hhv0b",cursor:"x1h6gzvc",color:"x1ur0v9m",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",$$css:!0},buttonAnimations:{transition:"xeh1a47",":hover_color":"xr8f6zs",":hover_backgroundColor":"x10j0mou",":hover_transitionDelay":"xine9no",":focus-visible_outline":"xdfradd",":focus-visible_outlineOffset":"x12ijfkc","::after_content":"x1s928wv","::after_position":"x1j6awrg","::after_zIndex":"xi4xitw","::after_top":"x1m1drc7","::after_insetInlineStart":"x1iygr5g","::after_left":null,"::after_right":null,"::after_minHeight":"x1idftlg","::after_minWidth":"x1pqwvb6","::after_backgroundColor":"xclfa2k","::after_borderStartStartRadius":"xrw4ojt","::after_borderStartEndRadius":"xg6frx5","::after_borderEndEndRadius":"xw872ko","::after_borderEndStartRadius":"xhgbb2x","::after_transform":"x1c5em3o","::after_transition":"x1p6ij0h",":hover::after_transform":"x8365pe",$$css:!0},iconSpacing:{marginTop:"x1kgmq87",letterSpacing:"x72az59",$$css:!0}};function a(a){var b=a.animate;b=b===void 0?!0:b;var e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.onClick,h=a.testId;h=a.text;return i.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,xstyle:[j.button,!e&&b&&j.buttonAnimations,e&&j.buttonDisabled,d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.horiz24],onClick:g,disabled:e,children:i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:[i.jsx(d("WAWebFlex.react").FlexItem,{children:h}),i.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").uiPadding.start14,j.iconSpacing],children:f})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWAWebDesktopUpsellQplImpression",["WAQplTypes","WAQuickPerformanceLogger","WAWebDesktopUpsellQRCodeBannerExperiment","WAWebLinkDeviceExperience","WAWebQplQuickPerformanceLoggerMarkerIds","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){try{d("WAQuickPerformanceLogger").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,{annotations:{string:{context:a},bool:{showing_content_variation:!1},"int":{md_link_device_experience_id:d("WAWebLinkDeviceExperience").getWebCompanionLinkDeviceExperienceId(c),sourceType:b,upsellExperimentGroup:d("WAWebDesktopUpsellQRCodeBannerExperiment").getWAWebDesktopUpsellQRCodeBannerExperiment()}}}),yield d("WAQuickPerformanceLogger").QPL.genMarkerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,d("WAQplTypes").QuickLogActionType.SUCCESS)}catch(a){}});return h.apply(this,arguments)}g.logDesktopUpsellQplEvent=a}),98);
__d("WAWebNativeAppDownloadButton.react",["fbt","WAWebChevronIcon.react","WAWebClickable.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellQRCodeBannerExperiment","WAWebDesktopUpsellStoreOpener","WAWebFlex.react","WAWebLinkDeviceScreenPrimaryButton.react","WAWebWamEnumWebcNativeUpsellCtaSourceType","WDSIconIcDownload.react","asyncToGeneratorRuntime","react","useWAWebDesktopUpsellQplImpression","useWAWebDesktopUpsellWamImpression"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var e=a.apiCmd,f=a.inline;f=f===void 0?!1:f;var g=a.sourceType,i=d("WAWebDesktopUpsellQRCodeBannerExperiment").getWAWebDesktopUpsellQRCodeBannerExperiment();a=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformAwareOsVersionCheck();var k=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("useWAWebDesktopUpsellQplImpression").logDesktopUpsellQplEvent("click",g,e),d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl({ctaSource:g,qrScreenExperimentGroup:i,isBetaUser:!1})});return function(){return a.apply(this,arguments)}}();d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({source:g,isCtaVisible:a,qrScreenExperimentGroup:i,isBeta:!1,isBetaUser:!1});if(!a)return null;a=h._(/*BTDS*/"Download");g===d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_SLIM_BANNER&&f&&(a=h._(/*BTDS*/"Get the app"));return f?j.jsx(d("WAWebClickable.react").Clickable,{as:"span",dataTestId:"download-native-client-button-inline",className:"xujl8zx x1kqcxns xewurvo x3pynha x1hql6x6 xk50ysn x1e4br3l",onClick:k,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",columnGap:4,children:[a,j.jsx(d("WAWebChevronIcon.react").ChevronIcon,{width:16,height:16})]})}):j.jsx(c("WAWebLinkDeviceScreenPrimaryButton.react"),{icon:j.jsx(c("WDSIconIcDownload.react"),{width:16,height:16}),onClick:k,text:a,testId:"download-native-client-button"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWebLoginDesktopUpsellIllustrationIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="web-login-desktop-upsell-illustration";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=54;o=72;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 72 54",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{clipPath:"url(#clip0_913_5240)",children:[k.jsx("path",{fill:"#fff",style:{fill:"#fff"},d:"M0 0h72v54H0z"}),k.jsx("path",{d:"M8.75 15A6.25 6.25 0 0 1 15 8.75h42A6.25 6.25 0 0 1 63.25 15v37.25H8.75z",fill:"#E6FFDA",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10}),k.jsx("path",{d:"M71.22 44.75a9.25 9.25 0 0 1-9.22 8.5H10a9.25 9.25 0 0 1-9.22-8.5z",fill:"#E6FFDA",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10}),k.jsx("rect",{x:21.75,y:.75,width:49.5,height:34.5,rx:6.25,fill:"#FCF5EB",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10}),k.jsx("path",{d:"M43.39 14.955c-.654-1.334 2.328-2.92 2.505-3.648l-.007-.01c.041-.16 0-.318-.047-.476a10.55 10.55 0 0 0-2.25-4.09c-.26-.286-.549-.572-.92-.683-.245-.069-.507-.055-.755-.014-2.124.335-3.598 2.363-3.86 4.438-.263 2.076.445 4.166 1.3 6.11 1.838 4.176 4.592 8.235 8.728 10.376 1.474.766 3.176 1.266 4.786.942 1.083-.218 2.183-1.007 2.128-2.08-.03-.51-.31-.976-.582-1.42-.616-.986-1.226-1.973-1.842-2.955-.31-.497-.68-1.038-1.266-1.156-1.215-.241-2.036 1.545-3.265 1.383-.483-.065-4.256-5.806-4.653-6.717",fill:"#25D366",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"clip0_913_5240",children:k.jsx("path",{fill:"#fff",style:{fill:"#fff"},d:"M0 0h72v54H0z"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WebLoginDesktopUpsellIllustrationIcon=a}),98);
__d("WAWebDesktopUpsellQRCodeSlimBanner.react",["WAWebDesktopUpsellCommonStrings","WAWebFlex.react","WAWebNativeAppDownloadButton.react","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWebLoginDesktopUpsellIllustrationIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={bannerAltBtn:{display:"x1s85apg","@media screen and (max-width: 900px)_display":"xe8os0b","@media screen and (max-width: 900px)_width":"xd80u2d",$$css:!0},bannerBtn:{"@media screen and (max-width: 900px)_display":"x1qh72ku",$$css:!0}};function a(a){var b;a=a.apiCmd;return j.jsx((b=d("WAWebFlex.react")).FlexItem,{align:"center",justify:"center",className:"xy296fx x1p5oq8j x15zmtp0 xwxc41k x1oiqv2n x1rsuxf0 xcgujcq x1igtfuo x13up0n2 x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xpypsur x1fe0zbt x249io5 xtq6bvn x12peec7 x91od0 x18w32sv xym2i8p xk3sftt x1i50ybd",children:j.jsxs(b.FlexRow,{align:"center",justify:"center",columnGap:24,children:[j.jsx(b.FlexColumn,{shrink:0,children:j.jsx(d("WAWebWebLoginDesktopUpsellIllustrationIcon.react").WebLoginDesktopUpsellIllustrationIcon,{width:64})}),j.jsxs(b.FlexColumn,{grow:1,rowGap:4,children:[j.jsx(b.FlexRow,{className:"x1c3i2sq xk50ysn x1o2sk6j x1hql6x6",children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellDownloadWhatsAppTitle()}),j.jsx(b.FlexRow,{className:"x1hql6x6 x1jchvi3 xo1l8bm x1fc57z9 x1qh72ku",children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellIntroPanelText()}),j.jsx(b.FlexItem,{shrink:0,className:(i||(i=c("stylex")))([k.bannerAltBtn]),align:"center",justify:"start",children:j.jsx(c("WAWebNativeAppDownloadButton.react"),{sourceType:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_SLIM_BANNER,inline:!0,apiCmd:a})})]}),j.jsx(d("WAWebFlex.react").FlexItem,{shrink:0,className:i([k.bannerBtn]),children:j.jsx(c("WAWebNativeAppDownloadButton.react"),{sourceType:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_SLIM_BANNER,apiCmd:a})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceStylexVars.stylex",[],(function(a,b,c,d,e,f,g){"use strict";a={fontSize:"var(--x46zrfp)",lineHeight:"var(--xnrvnmb)",fontWeight:"var(--xkh732z)",letterSpacing:"var(--xd822a2)",color:"var(--xm9z0ea)",__varGroupHash__:"xgiy7la"};g.LinkDeviceE2EETextStyle=a}),98);
__d("WAWebLandingFooter.react",["fbt","WAWebFlex.react","WAWebLinkDeviceCommonInstructions.react","WAWebLockOutlineIcon.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={noWaAccountText:{fontSize:"x1c3i2sq",lineHeight:"x1a6qonq",$$css:!0},externalHelpLinkText:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",lineHeight:"x1ud3kw6",$$css:!0},e2ee:{color:"xhslqc4",lineHeight:"x9d7mpn",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b,c=a.isWebReg;a=a.onClick;return j.jsxs((b=d("WAWebFlex.react")).FlexColumn,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.top8,rowGap:24,children:[j.jsx(l,{isWebReg:c,onClick:a}),j.jsxs(b.FlexRow,{columnGap:4,align:"center",children:[j.jsx(b.FlexItem,{children:j.jsx(d("WAWebLockOutlineIcon.react").LockOutlineIcon,{width:20,iconXstyle:k.e2ee})}),j.jsx(b.FlexItem,{xstyle:k.e2ee,children:h._(/*BTDS*/"Your personal messages are end-to-end encrypted")})]}),j.jsx(d("WAWebLinkDeviceCommonInstructions.react").TCLink,{})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.isWebReg;a=a.onClick;return b?null:j.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:8,children:[j.jsx(d("WAWebFlex.react").FlexColumn,{paddingTop:8,xstyle:k.noWaAccountText,children:h._(/*BTDS*/"Don't have a WhatsApp account?")}),j.jsx(d("WAWebFlex.react").FlexColumn,{paddingTop:12,xstyle:k.externalHelpLinkText,children:j.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Get started"),onClick:a})})]})}l.displayName=l.name+" [from "+f.id+"]";g.WAWebLandingFooter=a}),226);
__d("WAWebLandingHeader.react",["WAWebEnvironment","WAWebFbtCommon","WAWebFlex.react","WAWebNativeAppDownloadButton.react","WAWebUISpacing","WAWebWaLogoIcon.react","WAWebWaWordmarkIcon.react","WAWebWamEnumWebcNativeUpsellCtaSourceType","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={brandColor:{color:"x1knego9",$$css:!0},headerIcon:{marginTop:"x1rdy4ex",$$css:!0},headerText:{marginInlineStart:"xe9ewy2",$$css:!0}};function k(a){a=a.children;return i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[i.jsx(d("WAWebFlex.react").FlexItem,{grow:0,xstyle:[d("WAWebUISpacing").uiPadding.end6,j.headerIcon],children:i.jsx(d("WAWebWaLogoIcon.react").WaLogoIcon,{height:30,iconXstyle:j.brandColor})}),i.jsx(d("WAWebFlex.react").FlexItem,{grow:1,xstyle:j.headerText,children:i.jsx(d("WAWebWaWordmarkIcon.react").WaWordmarkIcon,{height:20,iconXstyle:j.brandColor})}),a]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.showAppDownloadButton;a=a.surface;if(c("WAWebEnvironment").isWindows)return i.jsx("div",{className:"landing-header"});switch(a){case"link-device-screen":return i.jsx(k,{children:i.jsx(d("WAWebFlex.react").FlexItem,{grow:0,children:b&&i.jsx(c("WAWebNativeAppDownloadButton.react"),{sourceType:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_DOWNLOAD_BUTTON})})});case"lock-screen":return i.jsx(k,{});case"default":default:return i.jsxs("div",{className:"landing-header",children:[i.jsx(l,{}),i.jsx("div",{className:"landing-headerTitle",children:c("WAWebFbtCommon")("WhatsApp Web")})]})}}a.displayName=a.name+" [from "+f.id+"]";function l(){return i.jsx("span",{className:"x1rg5ohu x16dsc37",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"39",viewBox:"0 0 39 39",children:[i.jsx("path",{fill:"#00E676",d:"M10.7 32.8l.6.3c2.5 1.5 5.3 2.2 8.1 2.2 8.8 0 16-7.2 16-16 0-4.2-1.7-8.3-4.7-11.3s-7-4.7-11.3-4.7c-8.8 0-16 7.2-15.9 16.1 0 3 .9 5.9 2.4 8.4l.4.6-1.6 5.9 6-1.5z"}),i.jsx("path",{fill:"#FFF",d:"M32.4 6.4C29 2.9 24.3 1 19.5 1 9.3 1 1.1 9.3 1.2 19.4c0 3.2.9 6.3 2.4 9.1L1 38l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM19.5 34.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L6.9 28l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9s16.5-2.3 20.9 4.9 2.3 16.5-4.9 20.9c-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5s.4-.4.5-.6c.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z"})]})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceEvents",["WAWebEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.triggerRefreshAltLinkingCode=function(){this.trigger("link_device_events:refresh_alt_linking_code")};c.triggerErrorAltLinking=function(){this.trigger("link_device_events:error_alt_linking")};c.triggerPrimaryHelloReceived=function(){this.trigger("link_device_events:primary_hello_received")};return b}(c("WAWebEventEmitter"));b=new a();g.WAWebLinkDeviceEvents=b}),98);
__d("WAWebLinkDeviceAction",["WALogger","WASmaxMdGetCountryCodeRPC","WAWebAltDeviceLinkingApi","WAWebCmd","WAWebLinkDeviceEvents","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WASmaxMdGetCountryCodeRPC").sendGetCountryCodeRPC());return a.value.countryCodeIso}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["alt device linking: sendGetCountryCodeRPC failed with error: ",""])),a).sendLogs("alt device linking: sendGetCountryCodeRPC failed")}});return i.apply(this,arguments)}function c(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebCmd").Cmd.refreshQR(),a.linkDeviceMethod===d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING?(yield d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking(),d("WAWebAltDeviceLinkingApi").setPairingType(d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING)):(yield d("WAWebAltDeviceLinkingApi").initializeQRLinking(),d("WAWebAltDeviceLinkingApi").setPairingType(d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE))});return j.apply(this,arguments)}function e(a,b){return d("WAWebAltDeviceLinkingApi").startAltLinkingFlow(a,b)}function f(a){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:refresh_alt_linking_code")}function k(a){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:force_manual_refresh")}function l(){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:error_alt_linking")}function m(){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:primary_hello_received")}g.getPreselectedCountryCodeIso=a;g.resetLinkDeviceState=c;g.genLinkDeviceCodeForPhoneNumber=e;g.refreshAltLinkingCode=f;g.forceManualRefresh=k;g.errorAltLinking=l;g.primaryHelloReceivedAltLinking=m}),98);
__d("WAWebConnectionIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="connection";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=32;o=32;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 32 32",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 32 32",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M15.95,27.369L1.808,8.512c3.89-2.947,8.839-4.714,14.142-4.714 c5.304,0,10.254,1.768,14.142,4.714L15.95,27.369z M14.736,19.447h2.545v-2.545h-2.545V19.447z M14.736,14.357h2.545V7.912h-2.545 V14.357z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ConnectionIcon=a}),98);
__d("WAWebLinkDeviceQrcode.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={landing:"_ao39",headline:"_ak20",listItem:"_ak21",text:"_ak22",hint:"_ak23",qr:"_ak24",toggle:"_ak25",qrcode:"_akau",codeLogo:"_akaz",idle:"_akay",qrButton:"_akas",desktopUpsellBanner:"_akaw"};b=a;g["default"]=b}),98);
__d("WAWebLogoutReasonBanner.react",["fbt","WAWebFaqUrl","WAWebLoggedOutBanner.react","WAWebLogoutReason","WAWebLogoutReasonConstants","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;b=(b=d("WAWebLogoutReason").getPrevLogoutReasonCode())!=null?b:a.reason;if(b==null)return null;a=k(b);if(a==null)return null;b=a.header;var e=a.text,f=a.link;a=a.category;return j.jsx(c("WAWebLoggedOutBanner.react"),{header:b,text:e,link:f,category:a})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=d("WAWebLogoutReason").getPrevCustomLogoutMessage();switch(a){case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL:a=d("WAWebUIRefreshGatingUtils").checkIfShouldBeEnabledInWindowsEnv()?h._(/*BTDS*/"A database error occurred in your application. Please relink your device."):h._(/*BTDS*/"A database error occurred on your browser. Please relink your device.");return{text:a,link:d("WAWebFaqUrl").getDBErrorFaqUrl(),category:"error"};case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.SYNC_FAIL:return{text:h._(/*BTDS*/"Your device could not link due to a sync issue. Please relink your device."),link:d("WAWebFaqUrl").getLinkDeviceFaqUrl(),category:"warning"};case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.INITIAL_HISTORY_SYNC_TIMEOUT:return{text:h._(/*BTDS*/"Couldn't link device. Keep WhatsApp open on your phone when your device is linking."),link:d("WAWebFaqUrl").getLinkDeviceFaqUrl(),category:"warning"};case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.ACCOUNT_LOCKED:if(b!=null){a=b.logoutMessageHeader;b=b.logoutMessageSubtext;if(a!=null&&b!=null)return{header:a,text:b,category:"warning"}}return{text:h._(/*BTDS*/"You have been logged out. To log back in, you will need to verify your phone number."),category:"warning"}}return null}g["default"]=a}),226);
__d("WAWebRefreshLargeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="refresh-large";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=48;o=48;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 48 48",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),version:"1.1",children:[k.jsx("title",{children:"refresh-l-light"}),k.jsx("desc",{children:"Created with Sketch."}),k.jsx("defs",{}),k.jsx("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:k.jsx("g",{id:"ic_refresh_black_24px",fill:"currentColor",fillRule:"nonzero",children:k.jsx("path",{d:"M35.3,12.7 C32.4,9.8 28.42,8 24,8 C15.16,8 8.02,15.16 8.02,24 C8.02,32.84 15.16,40 24,40 C31.46,40 37.68,34.9 39.46,28 L35.3,28 C33.66,32.66 29.22,36 24,36 C17.38,36 12,30.62 12,24 C12,17.38 17.38,12 24,12 C27.32,12 30.28,13.38 32.44,15.56 L26,22 L40,22 L40,8 L35.3,12.7 Z",id:"Shape"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RefreshLargeIcon=a}),98);
__d("WAWebWamQrCodeCount",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=!1,this.$2=0}var b=a.prototype;b.get=function(){return this.$2};b.$3=function(){this.$1&&(this.$1=!1,this.$2=0,this.initialDisplayDate=null)};b.inc=function(){this.$3();return this.set(this.$2+1)};b.set=function(a){this.$3();if(this.$2===a)return;a===1&&(this.initialDisplayDate=g());this.$2=a;return this.get()};b.reset=function(){this.$1=!0};return a}();b=new a();function g(){return Math.floor(window.performance.now())}f["default"]=b}),66);
__d("WAWebLinkDeviceQrcode.react",["fbt","Promise","SecurePostMessage","WABase64","WALogger","WAWebAdvSignatureApi","WAWebAlternateDeviceLinkingLink.react","WAWebAutoLogoutGating","WAWebClassnames","WAWebCmd","WAWebCompanionRegClientUtils","WAWebConfirmPopup.react","WAWebConnModel","WAWebConnectionIcon.react","WAWebCopyPasteSelectable.react","WAWebEnvironment","WAWebFlex.react","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceQrcode.scss","WAWebLogoutReasonBanner.react","WAWebModalManager","WAWebNativeCameraQRLinkedDeviceUtils","WAWebNetworkStatus","WAWebQRCode.react","WAWebQrDeviceLinkingQpl","WAWebRefreshLargeIcon.react","WAWebSignalStoreApi","WAWebSocketConstants","WAWebSocketModel","WAWebSpinner.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsInfoStore","WAWebUserPrefsMultiDevice","WAWebVelocityTransitionGroup","WAWebWamQrCodeCount","asyncToGeneratorRuntime","cr:1064","gkx","justknobx","react","useWAWebDebouncedCallback","useWAWebListener","useWAWebRenderCallbacks"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m;e=m||d("react");var n=l||(l=c("react")),o=e.useCallback,p=e.useEffect,q=e.useRef,r=e.useState,s="https://faq.whatsapp.com/r/ld",t="https://wa.me/settings/linked_devices#",u=228,v={qrCodeWarning:{backgroundColor:"x1l6jbk0",color:"xbkck4w",position:"x10l6tqk",top:"x13vifvy",insetInlineStart:"x1o0tod",insetInlineEnd:"xtijo5x",left:null,right:null,bottom:"x1ey2m1c",borderStartStartRadius:"x1rgw4pv",borderStartEndRadius:"x1vjm0to",borderEndEndRadius:"xnqoqkk",borderEndStartRadius:"x16lu3ki",zIndex:"x11uqc5h",height:"x1m3v4wt",width:"x1oysuqx",$$css:!0},qrCodeOfflineWarning:{cursor:"x1ypdohk",$$css:!0},qrCodeWarningIcon:{color:"xbkck4w",$$css:!0}};function a(a){var e=a.apiCmd,f=a.autoLogoutEnabled;a.children;var g=a.enabedAlternateDeviceLinking,i=a.onAutoLogoutToggle;a=a.onClickLinkWithPhoneNumber;var j=r(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),k=j[0],l=j[1];j=r(!c("WAWebNetworkStatus").online);var m=j[0],o=j[1];j=r(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED);var q=j[0],s=j[1];j=function(){d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE&&d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.qrCodeExpired(),l(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),o(!c("WAWebNetworkStatus").online),d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED&&d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.qrCodeInitialised(),s(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED),d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()&&d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED&&c("SecurePostMessage").sendMessageForCurrentOrigin(self.parent,"QR_CODE_LOADED_FOR_AUTO_LOGOUT")};d("useWAWebListener").useListener(d("WAWebSocketModel").Socket,"change:state change:online",j);p(function(){d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.initialize(e),void (b("cr:1064")==null?void 0:b("cr:1064").initialize())},[]);m?j=n.jsx(y,{}):k?j=n.jsx(z,{}):q?j=n.jsx(w,{}):j=n.jsx(x,{});f&&!d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()&&(j=n.jsx(x,{}));m=B();return n.jsx(d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeView,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.QR,apiCmd:e,banners:n.jsx(c("WAWebLogoutReasonBanner.react"),{}),title:m,autoLogoutEnabled:f,onAutoLogoutToggle:i,screenReaderSubtitleConfig:{onClick:a,shouldShow:g,text:h._(/*BTDS*/"Link with phone number instead.")},alternativeLinkDeviceMethodHint:n.jsx(d("WAWebAlternateDeviceLinkingLink.react").AlternateDeviceLinkingLink,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.QR,onClick:a,enabled:g}),children:n.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"x14a8spa x1t7qo4d x1c76a8b xu7uy1i"}}[!!c("WAWebEnvironment").isWindows<<0],{children:j}))})}a.displayName=a.name+" [from "+f.id+"]";function w(a){var e;a=a.children;var f=a,g=q();a=r(!1);var h=a[0],l=a[1];a=r(null);var m=a[0],p=a[1],v=c("useWAWebDebouncedCallback")(function(){l(!0)},100),w=function(){if(d("WAWebConnModel").Conn.connected)return(k||(k=b("Promise"))).resolve(void 0);var a=d("WAWebConnModel").Conn.ref;return d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo().then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());if(!e||!b){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]))).sendLogs("Empty noiseInfo or empty regInfo");return null}e=d("WABase64").encodeB64(e.staticKeyPair.pubKey);b=d("WABase64").encodeB64(b.identityKeyPair.pubKey);var f;try{f=(yield d("WAWebAdvSignatureApi").getADVSecretKey())}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["QR code render failed: ",""])),a).sendLogs("qr-code-page-adv-secret-key-failed");return null}e=a+","+e+","+b+","+f+","+d("WAWebCompanionRegClientUtils").DEVICE_PLATFORM;d("WAWebNativeCameraQRLinkedDeviceUtils").isNativeCameraQRLinkedDeviceTest()?e=t+e:c("justknobx")._("770")&&(e+=","+s);return e});return function(a){return e.apply(this,arguments)}}())},y=o(function(){void w().then(function(a){if(a==null||a==="")return;p(a);c("WAWebWamQrCodeCount").inc()})},[p]);a=o(function(a){m!=null&&a!=null&&a.removeAttribute("title")},[m]);d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",function(){y(),d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.qrCodeRefreshed()});d("useWAWebListener").useListener(d("WAWebUserPrefsMultiDevice").advSecretEventEmitter,"change",function(){y(),d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.qrCodeRegRefreshed()});c("useWAWebRenderCallbacks")({onMount:function(){void y(),d("WAWebCmd").Cmd.initialLoadReady()},onUnmount:function(){c("WAWebWamQrCodeCount").reset()}});var z=function(){var a=window.getSelection(),b=g.current;b!=null&&(a==null||a.selectAllChildren(b),document.execCommand("copy"));d("WAWebModalManager").ModalManager.close()},B=function(){h&&l(!1),v()},C=function(a){v.cancel(),l(!1)},D=function(a){a.stopPropagation(),a.preventDefault(),void w().then(function(a){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:z,okText:"Copy to Clipboard",children:n.jsx(d("WAWebCopyPasteSelectable.react").SelectableSpan,{ref:g,className:"x1mzt3pk x1hx0egp",selectable:!0,children:a})}))})},E=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebLinkDeviceQrcode.scss").qrcode]=!0,e[c("WAWebLinkDeviceQrcode.scss").idle]=!!f,e),"x1n2onr6 x78zum5 x1okw0bk x6s0dn4 xl56j7k x1tdqgrh x1l76qip x6ikm8r x10wlt62 xr9e8f9 x1e4oeot x1ui04y5 x6en5u8","x9r4l05 x8idabb"),F=h&&f==null?{cursor:"none"}:null,G=null;c("gkx")("26258")||(G=D);return m==null?n.jsx(x,{}):n.jsx(d("WAWebQRCode.react").WAWebQRCode,{data:m,size:u,colorDark:"#122e31",onChange:a,children:function(a){return n.jsxs("div",{ref:a,"data-testid":void 0,className:E,"data-ref":m,onContextMenu:G,style:F,onMouseMove:B,onMouseLeave:C,children:[n.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"scale",children:f}),n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").codeLogo,children:n.jsx(A,{})})]})}})}w.displayName=w.name+" [from "+f.id+"]";function x(){var a;return n.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((a={},a[c("WAWebLinkDeviceQrcode.scss").qrcode]=!0,a),"x1n2onr6 x78zum5 x1okw0bk x6s0dn4 xl56j7k x1tdqgrh x1l76qip x6ikm8r x10wlt62 xr9e8f9 x1e4oeot x1ui04y5 x6en5u8","x9r4l05 x8idabb"),children:n.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",className:"x1ndca9r xh8yej3 x5yr21d x16qb05n xi7iut8 x1dm3dyd x1pv694p",children:n.jsx(d("WAWebSpinner.react").Spinner,{})})})}x.displayName=x.name+" [from "+f.id+"]";function y(){return n.jsx(w,{children:n.jsx(c("WAWebUnstyledButton.react"),{xstyle:[v.qrCodeWarning,v.qrCodeOfflineWarning,d("WAWebUISpacing").uiMargin.allAuto,d("WAWebUISpacing").uiPadding.horiz30],onClick:function(){d("WAWebCmd").Cmd.refreshQR()},children:n.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",children:[n.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.bottom10,children:n.jsx(d("WAWebConnectionIcon.react").ConnectionIcon,{width:48,height:48,iconXstyle:v.qrCodeWarningIcon})}),n.jsx(d("WAWebFlex.react").FlexItem,{justify:"center",align:"center",children:h._(/*BTDS*/"No internet connection")})]})},"offline")})}y.displayName=y.name+" [from "+f.id+"]";function z(){var a=function(){d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.qrCodeReloaded(),d("WAWebCmd").Cmd.refreshQR()};return n.jsx(w,{children:n.jsx(c("WAWebUnstyledButton.react"),{xstyle:[v.qrCodeWarning,d("WAWebUISpacing").uiMargin.allAuto,d("WAWebUISpacing").uiPadding.horiz30],onClick:a,children:n.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",children:[n.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.bottom10,children:n.jsx(d("WAWebRefreshLargeIcon.react").RefreshLargeIcon,{iconXstyle:v.qrCodeWarningIcon})}),n.jsx(d("WAWebFlex.react").FlexItem,{children:h._(/*BTDS*/"Click to reload QR code")})]})},"expiry")})}z.displayName=z.name+" [from "+f.id+"]";function A(){return n.jsx("span",babelHelpers["extends"]({},{0:{className:"x1rg5ohu x16dsc37 x82xf8i"},1:{className:"x1rg5ohu x16dsc37 x8dwe99"}}[!!c("WAWebEnvironment").isWindows<<0],{children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",children:[n.jsx("path",{fill:"#FFF",d:"M6.525 43.936a29.596 29.596 0 0 1-3.039-13.075C3.494 14.568 16.755 1.313 33.05 1.313c7.904.004 15.328 3.082 20.91 8.666 5.581 5.586 8.653 13.01 8.65 20.907-.007 16.294-13.266 29.549-29.558 29.549a29.648 29.648 0 0 1-12.508-2.771L1.391 62.687l5.134-18.751z"}),n.jsx("path",{fill:"currentColor",d:"M50.801 13.135c-4.739-4.742-11.039-7.354-17.752-7.357-13.837 0-25.094 11.253-25.099 25.085a25.039 25.039 0 0 0 3.349 12.541l-3.56 12.999 13.304-3.488a25.084 25.084 0 0 0 11.996 3.054h.011c13.83 0 25.088-11.256 25.095-25.087.002-6.703-2.607-13.005-7.344-17.747zM33.05 51.733h-.008a20.866 20.866 0 0 1-10.62-2.906l-.762-.452-7.894 2.07 2.108-7.694-.497-.789a20.802 20.802 0 0 1-3.189-11.097c.004-11.496 9.361-20.85 20.87-20.85a20.73 20.73 0 0 1 14.746 6.115 20.733 20.733 0 0 1 6.104 14.752c-.006 11.497-9.363 20.851-20.858 20.851z"}),n.jsx("path",{fill:"currentColor",d:"M25.429 19.26a8.65 8.65 0 0 0-1.028.011 2.352 2.352 0 0 0-.95.255c-.221.114-.427.277-.75.582-.305.288-.481.54-.668.782a6.974 6.974 0 0 0-1.443 4.291l.001.003a8.243 8.243 0 0 0 .844 3.607c1.043 2.307 2.763 4.746 5.035 7.008a24.676 24.676 0 0 0 1.657 1.6 24.145 24.145 0 0 0 9.814 5.229s.751.179 1.391.218c.021.001.04.003.061.003a9.207 9.207 0 0 0 1.422-.033 5.086 5.086 0 0 0 2.129-.59c.423-.225.623-.337.978-.561 0 0 .11-.072.319-.23.345-.257.558-.438.845-.736.211-.22.394-.479.534-.772.2-.417.401-1.213.481-1.874.061-.505.042-.781.036-.952-.011-.275-.238-.558-.487-.678l-1.486-.668s-2.222-.967-3.581-1.587a1.278 1.278 0 0 0-.452-.104c-.341-.021-.723.068-.966.324v-.004c-.013-.001-.182.145-2.031 2.385-.102.122-.341.387-.754.362a1.086 1.086 0 0 1-.185-.029 3.402 3.402 0 0 1-.49-.17c-.316-.134-.427-.185-.643-.278l-.013-.006a15.361 15.361 0 0 1-4.013-2.556 15.88 15.88 0 0 1-.927-.885c-1.074-1.041-1.953-2.148-2.607-3.24-.035-.06-.09-.146-.15-.242-.107-.174-.225-.381-.262-.523-.095-.376.157-.678.157-.678s.622-.68.911-1.05c.278-.356.518-.704.671-.952.301-.484.39-.982.238-1.37a216.767 216.767 0 0 0-2.219-5.215c-.156-.339-.598-.589-1.005-.636a6.284 6.284 0 0 0-.414-.041"})]})}))}A.displayName=A.name+" [from "+f.id+"]";function B(){return c("WAWebEnvironment").isWindows?h._(/*BTDS*/"Log in to WhatsApp"):h._(/*BTDS*/"Steps to log in")}B.displayName=B.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLinkDeviceUpdateWhatsappToast.react",["fbt","WAWebFbtCommon","WAWebQrDeviceLinkingQpl","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect,m=1e4,n=null;function a(){l(function(){n=window.setTimeout(function(){d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.updateWhatsappToastShown(),d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{id:"link-device-update-whatsapp-toast",msg:h._(/*BTDS*/"If you're facing any issues, update WhatsApp on your phone."),action:{dismiss:!0,actionText:c("WAWebFbtCommon")("OK"),theme:"success"},duration:1e5}),d("WAWebToastManager").ToastPosition.CENTER)},m);return function(){o()}},[]);return null}a.displayName=a.name+" [from "+f.id+"]";function o(){n!=null&&(window.clearTimeout(n),n=null,d("WAWebToastManager").ToastManager.close("link-device-update-whatsapp-toast"))}g.WAWebLinkDeviceUpdateWhatsappToast=a;g.clearUpdateWhatsappToastTimeout=o}),226);
__d("WAWebWdsIllPhoneTextDownloadIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wds-ill-phone-text-download";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=153;o=229;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsxs("g",{clipPath:"url(#a)",children:[k.jsx("path",{fill:"#25D366",stroke:"#111B21",strokeMiterlimit:10,strokeWidth:1.5,d:"M208.06 20.62a18 18 0 0 0-18-18H132.1v149.47h57.97a18 18 0 0 0 18-18V20.63h-.01Z"}),k.jsx("path",{fill:"#111B21",d:"M142.3 16.38a2.21 2.21 0 1 0 0-4.43 2.21 2.21 0 0 0 0 4.43Z"}),k.jsx("path",{fill:"#25D366",stroke:"#111B21",strokeMiterlimit:10,strokeWidth:1.5,d:"M198.04 20.62a18 18 0 0 0-18-18h-56.97a18 18 0 0 0-18 18v113.47a18.01 18.01 0 0 0 18 18h56.97a17.99 17.99 0 0 0 18-18V20.63Z"}),k.jsx("path",{stroke:"#111B21",strokeLinecap:"round",strokeWidth:1.5,d:"M145.23 13.38h12.66"}),k.jsx("path",{stroke:"#111B21",strokeWidth:1.5,d:"M151.56 139.5a7.42 7.42 0 1 0 0-14.84 7.42 7.42 0 0 0 0 14.84Z"}),k.jsx("path",{fill:"#E6FFDA",stroke:"#111B21",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.5,d:"M74.15 11.78c30.28-.98 55.43 17.75 56.17 41.84a36.03 36.03 0 0 1-3.7 16.95l8.99 14.22c1.27 2-.2 4.81-2.4 4.83l-22.73-1.05c-9.15 6.18-20.83 10.06-33.65 10.48-30.28.98-55.43-17.77-56.17-41.86-.74-24.1 23.2-44.43 53.49-45.41Z"}),k.jsx("path",{fill:"#25D366",stroke:"#111B21",strokeWidth:1.5,d:"M89.2 41.04c1.31 0 2.5.97 2.51 2.34v13.45c0 .4.38.84 1 .84h7.73c1.17 0 2.06.7 2.39 1.6.32.92.04 2-.92 2.63L89.05 71.93l-9.96 8.35a4.5 4.5 0 0 1-5.71.06L50.42 61.9a2.22 2.22 0 0 1-.92-2.63 2.46 2.46 0 0 1 2.39-1.6h7.14c.63 0 1.01-.45 1.01-.84V43.38c0-1.37 1.2-2.34 2.5-2.34H89.2Zm0-12.58c1.31 0 2.51.98 2.51 2.34v2.97c0 1.36-1.2 2.33-2.5 2.33H62.54c-1.31 0-2.5-.97-2.5-2.33V30.8c0-1.36 1.19-2.34 2.5-2.34H89.2Z"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"a",children:k.jsx("path",{fill:"#fff",d:"M.5.86h228v152H.5z"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WdsIllPhoneTextDownloadIcon=a}),98);
__d("WAWebSmsRegistrationConfirmation.react",["fbt","WAIsoToCc","WAWebFlex.react","WAWebLinkDeviceCommonComponents.react","WAWebLinkDeviceCommonInstructions.react","WAWebLinkDeviceInstructionsList.react","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebWdsIllPhoneTextDownloadIcon.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.onBack,f=a.onRetry,g=a.phoneNumberWithoutCountryCode,i=a.providerNumber;a=a.selectedCountryId;var l=d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").formatPhoneNumberInput({phoneNumberWithoutCountryCode:g,countryCodeIso:a});a=(l==null?void 0:l.formattedInputValue)!=null?((a=c("WAIsoToCc")[a])!=null?a:"")+" "+(l==null?void 0:l.formattedInputValue):g;return j.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:20,children:[j.jsxs(d("WAWebFlex.react").FlexColumn,{rowGap:32,children:[j.jsx(d("WAWebFlex.react").FlexRow,{children:j.jsxs(d("WAWebFlex.react").FlexColumn,{rowGap:12,children:[j.jsx(d("WAWebFlex.react").FlexRow,{children:j.jsx(d("WAWebLinkDeviceCommonComponents.react").Title,{value:h._(/*BTDS*/"Register on your phone")})}),j.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:8,children:[h._(/*BTDS*/"SMS sent to {phone}",[h._param("phone",a)]),".",j.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Wrong number?"),showArrow:!1,onClick:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return e()})})]})]})}),j.jsx(d("WAWebFlex.react").FlexRow,{children:j.jsxs(d("WAWebFlex.react").FlexColumn,{rowGap:32,children:[j.jsx(d("WAWebFlex.react").FlexRow,{children:j.jsx(k,{onRetry:f,providerNumber:i})}),j.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:8,children:[h._(/*BTDS*/"Need help?"),j.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Contact WhatsApp"),showArrow:!1,url:"https://www.whatsapp.com/contact"})]})]})})]}),j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",alignSelf:"center",children:j.jsx(d("WAWebWdsIllPhoneTextDownloadIcon.react").WdsIllPhoneTextDownloadIcon,{})})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.onRetry;a=a.providerNumber;b=[j.jsx(l,{onRetry:b,providerNumber:a},"smsregistrationconfirmationinstruction1"),j.jsx(m,{},"smsregistrationconfirmationinstruction2"),j.jsx(n,{},"smsregistrationconfirmationinstruction3"),j.jsx(o,{},"smsregistrationconfirmationinstruction4")];return j.jsx(c("WAWebLinkDeviceInstructionsList.react"),{instructionSource:"smsreg",instructions:b})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var c=a.onRetry;a=a.providerNumber;return j.jsxs(j.Fragment,{children:[a!=null&&a.length>0?h._(/*BTDS*/"Check your phone for an {=m1} from WhatsApp number {provider_number}.",[h._param("provider_number",a),h._implicitParam("=m1",j.jsx(p,{children:h._(/*BTDS*/"SMS")}))]):h._(/*BTDS*/"Check your phone for an {=m1} from WhatsApp.",[h._implicitParam("=m1",j.jsx(p,{children:h._(/*BTDS*/"SMS")}))])," ",h._(/*BTDS*/"Didn't receive SMS? {resend_sms}",[h._param("resend_sms",j.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Resend SMS"),showArrow:!1,onClick:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return c()})}))])]})}l.displayName=l.name+" [from "+f.id+"]";function m(){return h._(/*BTDS*/"{=m0} the message link to open or download WhatsApp.",[h._implicitParam("=m0",j.jsx(p,{children:h._(/*BTDS*/"Tap")}))])}m.displayName=m.name+" [from "+f.id+"]";function n(){return h._(/*BTDS*/"Follow the steps to {=m1} your account.",[h._implicitParam("=m1",j.jsx(p,{children:h._(/*BTDS*/"register")}))])}n.displayName=n.name+" [from "+f.id+"]";function o(){return j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"To use WhatsApp on this device, {=m1} your account from your phone.",[h._implicitParam("=m1",j.jsx(p,{children:h._(/*BTDS*/"link")}))]),"\xa0",j.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Learn more"),url:"https://faq.whatsapp.com/497209988909970",showArrow:!1})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.children;return j.jsx("strong",{className:"x1rg5ohu xk50ysn x1o2sk6j",children:a})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAXWhatsAppWebRegistrationControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/webreg/sms/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("WAWebSmsRegistrationPhoneNumberInput.react",["fbt","$InternalEnum","WAIsoToCc","WALogger","WAWebCountriesUtils","WAWebCountryPhoneNumberInput.react","WAWebFbtCommon","WAWebFlex.react","WAWebL10N","WAWebLinkDeviceCommonComponents.react","WAWebLinkDeviceCommonInstructions.react","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebLinkDeviceScreenGatedUtils","WAWebLinkDeviceScreenPrimaryButton.react","WAWebLinkDeviceUpdateWhatsappToast.react","WAWebLinkDeviceUtils","WAWebSmsRegistrationConfirmation.react","WAWebSpinner.react","WAWebWaBrandArrowRightIcon.react","WAWebWaBrandArrowRightIconWrapper.react","WAXWhatsAppWebRegistrationControllerRouteBuilder","asyncToGeneratorRuntime","gkx","react","useWAWebAsync","useWAWebCountries"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useEffect,o=e.useMemo,p=e.useState,q={subtitle:{lineHeight:"x1qfxs89",letterSpacing:"xfq947u",textAlign:"x2b8uid",$$css:!0},error:{backgroundColor:"x19lcxje",color:"xap1gg5",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginBottom:"x1e56ztr",paddingTop:"x1xrf6ya",paddingInlineEnd:"xvtqlqk",paddingBottom:"xscbp6u",paddingInlineStart:"xdx6fka",$$css:!0}},r="for (;;);",s=b("$InternalEnum")({SENT:1,ERROR:2});function a(a){var e=a.setApiCmd;a=p("");var f=a[0],g=a[1];a=p("US");var i=a[0];a=a[1];var j=p(!1),k=j[0],q=j[1];j=p(!1);var r=j[0],w=j[1];j=p();var x=j[0],y=j[1];j=c("useWAWebAsync")(d("WAWebLinkDeviceUtils").genSetupEmojiForLinkDevice,[]);var z=m(function(a,b){g(b.substr(0,10))},[]),A=d("useWAWebCountries").useCountries({filterType:d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.WHATSAPP_REGISTRATION}),B=A.value;A=A.error;n(function(){d("WAWebLinkDeviceUpdateWhatsappToast.react").clearUpdateWhatsappToastTimeout()},[]);var C=o(function(){return k||r||!d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").isPhoneNumberValid(c("WAIsoToCc")[i],f)},[r,k,f,i]);if(B==null||A!=null||j.loading||j.error)return l.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",children:l.jsx(d("WAWebSpinner.react").Spinner,{})});c("gkx")("26259")?A=B:A=B.filter(function(a){var b=a[0];a[1];return b==="US"});var D=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;if(C)return;q(!0);a=((a=c("WAIsoToCc")[i])!=null?a:"")+f;a=(yield v(a));var b=a==null?void 0:a.retry_after;(a==null?void 0:a.status)===s.ERROR&&b!=null&&b>0&&(w(!0),window.setTimeout(function(){w(!1)},b*1e3));y(a);q(!1)});return function(){return a.apply(this,arguments)}}();return(x==null?void 0:x.status)===s.SENT?l.jsx(c("WAWebSmsRegistrationConfirmation.react"),{selectedCountryId:i,phoneNumberWithoutCountryCode:f,onBack:function(){g(""),y(null)},onRetry:D,providerNumber:x==null?void 0:x.provider_number}):l.jsxs(d("WAWebFlex.react").FlexColumn,{rowGap:24,className:"light",children:[l.jsx(d("WAWebFlex.react").FlexRow,{alignSelf:"center",children:l.jsxs(d("WAWebFlex.react").FlexColumn,{rowGap:16,children:[l.jsx(d("WAWebFlex.react").FlexRow,{alignSelf:"center",children:l.jsx(d("WAWebLinkDeviceCommonComponents.react").Title,{value:h._(/*BTDS*/"Enter your phone number")})}),l.jsx(d("WAWebFlex.react").FlexRow,{children:l.jsx(t,{})})]})}),l.jsx(d("WAWebFlex.react").FlexRow,{alignSelf:"center",children:l.jsxs(d("WAWebFlex.react").FlexColumn,{rowGap:4,align:"center",children:[l.jsx(d("WAWebCountryPhoneNumberInput.react").CountryPhoneNumberInput,{countries:A,shouldDisplayError:!1,phoneNumberWithoutCountryCode:f,selectedCountryId:i,onChangePhoneNumber:z,onChangeSelectedCountry:a,surface:"link-device-phone-number",onSubmit:function(){void D()}}),(x==null?void 0:x.error_reason)!=null&&l.jsx(u,{errorReason:x==null?void 0:x.error_reason}),l.jsx(c("WAWebLinkDeviceScreenPrimaryButton.react"),{text:c("WAWebFbtCommon")("Continue"),onClick:D,animate:!1,disabled:C,testId:"link-device-sms-pn-entry-continue-button",icon:d("WAWebLinkDeviceScreenGatedUtils").getLocalizationFixVariant()==="test"?l.jsx(c("WAWebWaBrandArrowRightIconWrapper.react"),{}):l.jsx(d("WAWebWaBrandArrowRightIcon.react").WaBrandArrowRightIcon,{})})]})}),l.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:8,alignSelf:"center",children:[l.jsx(d("WAWebFlex.react").FlexColumn,{children:h._(/*BTDS*/"Already have an account?")}),l.jsx(d("WAWebFlex.react").FlexColumn,{children:l.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Log in"),onClick:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){e(null)})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";function t(){return l.jsxs(d("WAWebFlex.react").FlexColumn,{rowGap:2,xstyle:q.subtitle,children:[l.jsx(d("WAWebFlex.react").FlexRow,{alignSelf:"center",align:"center",wrap:"wrap",justify:"center",children:h._(/*BTDS*/"We'll send an SMS to your phone, where you can download WhatsApp and register your account.")}),l.jsx(d("WAWebFlex.react").FlexRow,{alignSelf:"center",align:"center",wrap:"wrap",justify:"center",children:h._(/*BTDS*/"Message and data rates may apply. Read our\u00a0 {privacy_policy_link} . Click \"Continue\" to accept the\u00a0 {terms_of_service_link} .",[h._param("privacy_policy_link",l.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Privacy Policy"),url:"https://www.whatsapp.com/legal/privacy-policy",showArrow:!1})),h._param("terms_of_service_link",l.jsx(d("WAWebLinkDeviceCommonInstructions.react").ExternalHelpLink,{text:h._(/*BTDS*/"Terms of Service"),url:"https://www.whatsapp.com/legal/terms-of-service",showArrow:!1}))])})]})}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.errorReason;return l.jsx(d("WAWebFlex.react").FlexRow,{alignSelf:"center",xstyle:q.error,children:a})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=c("WAXWhatsAppWebRegistrationControllerRouteBuilder").buildUri({phone:a,step:"otp",locale:c("WAWebL10N").getLocale()}).toString().concat("&__a=1");a=(yield window.fetch(a,{headers:{"Content-Type":"application/json"}}));a=(yield a.text());a.startsWith(r)&&(a=a.substring(r.length));a=JSON.parse(a).payload;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WAWebSmsRegistrationPhoneNumberInput][sendSmsCall] Response received successfully"])));return a}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WAWebSmsRegistrationPhoneNumberInput][sendSmsCall] Call failed ",""])),a).sendLogs("wa-web-reg")}return{status:s.ERROR,error_reason:c("WAWebFbtCommon")("Try Again"),retry_after:5}});return w.apply(this,arguments)}g["default"]=a}),226);
__d("WAWebLinkDeviceMethod.react",["CometPlaceholder.react","WAWebAltDeviceLinkingApi","WAWebAutoLogoutGating","WAWebConnModel","WAWebLinkDeviceAction","WAWebLinkDeviceQrcode.react","WAWebLinkDeviceScreenGatedUtils","WAWebQrDeviceLinkingQpl","WAWebSmsRegistrationPhoneNumberInput.react","WAWebUA","asyncToGeneratorRuntime","deferredLoadComponent","react","requireDeferred","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=c("deferredLoadComponent")(c("requireDeferred")("WAWebLinkDevicePhoneNumber.react").__setRef("WAWebLinkDeviceMethod.react"));function a(a){var e=a.apiCmd,g=a.autoLogoutEnabled,h=a.onAutoLogoutToggle;a=a.setApiCmd;var i=d("WAWebUA").UA.isOculusBroswer,m=k(i),n=m[0],o=m[1];m=k(i);var p=m[0],q=m[1],r=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:a?d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING:d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE}),q(a)});return function(b){return a.apply(this,arguments)}}();i=k(null);m=i[0];var s=i[1];d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(n&&p){void d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING}).then(function(){return o(!1)});return}var a=(yield d("WAWebLinkDeviceAction").getPreselectedCountryCodeIso());s(a)}),{once:!0});if((e==null?void 0:e.resultType)==="WEB_REGISTRATION"&&d("WAWebLinkDeviceScreenGatedUtils").getOptimizedRegFromWebVariant()==="test"||(e==null?void 0:e.resultType)==="WEB_REGISTRATION_CAMPAIGN")return j.jsx(c("WAWebSmsRegistrationPhoneNumberInput.react"),{setApiCmd:a});if(p)return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",{}),name:f.id,children:j.jsx(l,{apiCmd:e,initialCountryId:m,isLinkingPageLoading:n,onClickLinkWithQr:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null||a.preventDefault(),a==null||a.stopPropagation(),yield r(!1)});return function(b){return a.apply(this,arguments)}}()})});i=!g||d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe();return j.jsx(c("WAWebLinkDeviceQrcode.react"),{apiCmd:e,enabedAlternateDeviceLinking:i,onAutoLogoutToggle:h,autoLogoutEnabled:g,onClickLinkWithPhoneNumber:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null||a.preventDefault(),a==null||a.stopPropagation(),d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.switchToPhoneNumber(),yield r(!0)});return function(b){return a.apply(this,arguments)}}()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceQplLinkClick",["$InternalEnum","WAQplTypes","WAQuickPerformanceLogger","WAWebAltDeviceLinkingApi","WAWebEnvironment","WAWebLinkDeviceExperience","WAWebQplQuickPerformanceLoggerMarkerIds","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=b("$InternalEnum")({NEED_HELP_GETTING_STARTED:"need_help_getting_started",GET_STARTED:"get_started",GET_HELP:"get_help",STAY_LOGGED_IN:"stay_logged_in"});function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{if(!c("WAWebEnvironment").isWeb)return;d("WAQuickPerformanceLogger").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.PAIRING_SCREEN_HELP_LINK_EVENT,{annotations:{"int":{md_link_device_experience_id:d("WAWebLinkDeviceExperience").getWebCompanionLinkDeviceExperienceId(b)},string:{source_type:a,code_type:d("WAWebAltDeviceLinkingApi").getPairingType()}}});yield d("WAQuickPerformanceLogger").QPL.genMarkerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.PAIRING_SCREEN_HELP_LINK_EVENT,d("WAQplTypes").QuickLogActionType.SUCCESS)}catch(a){yield d("WAQuickPerformanceLogger").QPL.genMarkerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.PAIRING_SCREEN_HELP_LINK_EVENT,d("WAQplTypes").QuickLogActionType.FAIL)}});return h.apply(this,arguments)}g.WebcPairingScreenLinkType=e;g.WAWebLinkDeviceQplLinkClick=a}),98);
__d("useWAWebDesktopUpsellQRCodeBannerType",["$InternalEnum","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellQRCodeBannerExperiment","WAWebLinkDeviceScreenGatedUtils","WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({NONE:"none",SLIM:"slim",LARGE:"large"});function a(a){var b=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformAwareOsVersionCheck();if(!b)return h.NONE;b=(a==null?void 0:a.resultType)==="WEB_REGISTRATION"&&d("WAWebLinkDeviceScreenGatedUtils").getOptimizedRegFromWebVariant()==="test"||(a==null?void 0:a.resultType)==="WEB_REGISTRATION_CAMPAIGN";if(b)return h.NONE;a=d("WAWebDesktopUpsellQRCodeBannerExperiment").getWAWebDesktopUpsellQRCodeBannerExperiment();switch(a){case d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.NONE:case d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.CONTROL:return h.NONE;case d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.TEST_BANNER_SLIM:return h.SLIM}return h.NONE}g.WAWebDesktopUpsellQRCodeBannerType=h;g.useWAWebDesktopUpsellQRCodeBannerType=a}),98);
__d("WAWebLinkDeviceAutoLogoutIFrame.react",["WAWebAutoLogoutGating","react","useWAWebTimeout"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=30*1e3;function a(a){var b=a.autoLogoutEnabled,c=a.onTimeout;a=a.visible;var e=k(!1),f=e[0],g=e[1];e=d("useWAWebTimeout").useTimeout(c,l);c=e[0];var h=e[1];if(!d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()&&b){f||c();e=function(){h(),g(!0)};return j.jsx("iframe",{src:d("WAWebAutoLogoutGating").getAutoLogoutIframeUrl(),title:"autologout",onLoad:e,credentialless:"1",style:{position:"fixed",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",zIndex:1e4,display:""+(a?"block":"none")}})}f&&g(!1);h();return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWAWebLinkDeviceAutoLogout",["SecurePostMessage","WALogger","WAWebAutoLogoutGating","WAWebCmd","WAWebConfirmPopup.react","WAWebLinkDeviceAutoLogoutIFrame.react","WAWebLinkDeviceQplLinkClick","WAWebModalManager","WAWebQrDeviceLinkingQpl","gkx","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useState;function a(){var a=m(function(){return d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()?!0:!1}),b=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1],i=l(function(){if(!d("WAWebAutoLogoutGating").isAutoLogoutEnabled())return;if(c("gkx")("26259")){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:"Auto logout is not supported in intern. Please use the prod or debug app."}));return}void d("WAWebLinkDeviceQplLinkClick").WAWebLinkDeviceQplLinkClick(d("WAWebLinkDeviceQplLinkClick").WebcPairingScreenLinkType.STAY_LOGGED_IN);if(b&&d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()){c("SecurePostMessage").sendMessageForCurrentOrigin(self.parent,"AUTO_LOGOUT_DISABLED");d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.stayLoggedInToggleClicked(!1);return}var a=!b;d("WAWebQrDeviceLinkingQpl").companionDeviceLinkingScreenQpl.stayLoggedInToggleClicked(a);e(a);a||d("WAWebCmd").Cmd.refreshQR()},[b]);a=function(a){if(!d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe())return;switch(a.data){case"QR_CODE_LOADED_FOR_AUTO_LOGOUT":g(!0);break;case"AUTO_LOGOUT_DISABLED":g(!1),e(!1),d("WAWebCmd").Cmd.refreshQR()}};var j=function(){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[auto-logout] iframe timeout"]))),b&&i()};d("useWAWebListener").useListener(d("WAWebAutoLogoutGating").isAutoLogoutEnabled()?window:null,"message",a);a=k.jsx(c("WAWebLinkDeviceAutoLogoutIFrame.react"),{autoLogoutEnabled:b,visible:f,onTimeout:j});return{autoLogoutEnabled:b,handleAutoLogoutToggle:i,autoLogoutIframe:a,autoLogoutIframeLoaded:f}}g["default"]=a}),98);
__d("WAWebLinkDeviceScreen.react",["WAWebAutoLogoutGating","WAWebDesktopUpsellQRCodeSlimBanner.react","WAWebEnvironment","WAWebFlex.react","WAWebL10N","WAWebLandingFooter.react","WAWebLandingHeader.react","WAWebLinkDeviceExperience","WAWebLinkDeviceMethod.react","WAWebLinkDeviceQplLinkClick","WAWebLinkDeviceScreenGatedUtils","WAWebPageLoadLogging","asyncToGeneratorRuntime","react","stylex","useWAWebDesktopUpsellQRCodeBannerType","useWAWebLinkDeviceAutoLogout"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useCallback,m=e.useEffect,n=e.useMemo,o=e.useState,p={wrapper:{height:"x1dr59a3",minHeight:"xp22266 x1xlnp4l",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xyinxu5",paddingInlineEnd:"xp48ta0",paddingBottom:"x1g2khh7",paddingInlineStart:"xtssl2i",minWidth:"xp9ttsr",alignItems:"x6s0dn4",boxSizing:"x9f619",fontFamily:"xdounpk",color:"x1hql6x6",$$css:!0},wrapperSlimBanner:{minHeight:"x1g96xxu xxfop4",$$css:!0},headerFooterContainer:{width:"xh8yej3",height:"xwzfr38",$$css:!0},wrapperWeb:{background:"xe4h88v",$$css:!0},wrapperWindows:{background:"xp8kixx",$$css:!0},upsellBannerContainer:{display:"x1lliihq",width:"xh8yej3",$$css:!0}};function a(a){m(function(){d("WAWebPageLoadLogging").endPageLoadQpl(!0,d("WAWebLinkDeviceExperience").getWebCompanionLinkDeviceExperienceId(a.apiCmd),c("WAWebL10N").getLocale())},void 0);var e=c("useWAWebLinkDeviceAutoLogout")(),f=e.autoLogoutEnabled,g=e.handleAutoLogoutToggle,h=e.autoLogoutIframe;e=e.autoLogoutIframeLoaded;var i=d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()||f;f=!d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()&&e;e=o(a.apiCmd);var j=e[0],r=e[1];m(function(){r(a.apiCmd)},[a.apiCmd]);e=d("useWAWebDesktopUpsellQRCodeBannerType").useWAWebDesktopUpsellQRCodeBannerType(j);var s=n(function(){return{onAutoLogoutToggle:g,autoLogoutEnabled:i,apiCmd:j,setApiCmd:r}},[j,g,i]),t=l(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebLinkDeviceScreenGatedUtils").getOptimizedRegFromWebVariant()==="test"?r({resultType:"WEB_REGISTRATION",data:{url:"/"}}):window.open("https://faq.whatsapp.com/497209988909970","_blank"),yield d("WAWebLinkDeviceQplLinkClick").WAWebLinkDeviceQplLinkClick(d("WAWebLinkDeviceQplLinkClick").WebcPairingScreenLinkType.GET_STARTED,j)}),[]);if(f)return k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",className:{0:"x1dr59a3 xp22266 x1xlnp4l xw2csxc x1odjw0f xyinxu5 xp48ta0 x1g2khh7 xtssl2i xp9ttsr x6s0dn4 x9f619 xdounpk x1hql6x6 xp8kixx",1:"x1dr59a3 xp22266 x1xlnp4l xw2csxc x1odjw0f xyinxu5 xp48ta0 x1g2khh7 xtssl2i xp9ttsr x6s0dn4 x9f619 xdounpk x1hql6x6 xe4h88v"}[!!c("WAWebEnvironment").isWeb<<0],children:h});f=k.jsx(q,{upsellBannerType:e,apiCmd:a.apiCmd});var u=(j==null?void 0:j.resultType)==="WEB_REGISTRATION"&&d("WAWebLinkDeviceScreenGatedUtils").getOptimizedRegFromWebVariant()==="test"||(j==null?void 0:j.resultType)==="WEB_REGISTRATION_CAMPAIGN";return k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[p.wrapper,c("WAWebEnvironment").isWeb?p.wrapperWeb:p.wrapperWindows,e===d("useWAWebDesktopUpsellQRCodeBannerType").WAWebDesktopUpsellQRCodeBannerType.SLIM&&p.wrapperSlimBanner],children:[h,k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:p.headerFooterContainer,children:k.jsx(c("WAWebLandingHeader.react"),{showAppDownloadButton:e===d("useWAWebDesktopUpsellQRCodeBannerType").WAWebDesktopUpsellQRCodeBannerType.NONE&&!u,surface:"link-device-screen"})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",grow:1,shrink:0,rowGap:16,children:[f,k.jsx("div",{className:"x1lliihq",children:k.jsx(d("WAWebFlex.react").FlexItem,{align:"center",justify:"center",className:"xy296fx xbl0rts x4i7bpe x15zmtp0 x1sgudl8 x1oiqv2n x1rsuxf0 xcgujcq x1igtfuo x13up0n2 x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xpypsur x1fe0zbt x249io5 xtq6bvn x12peec7 x91od0 xvl3i4w xfqsd3n xzg3blf x191sbug",children:k.jsx(c("WAWebLinkDeviceMethod.react"),babelHelpers["extends"]({},s))})}),k.jsx(d("WAWebFlex.react").FlexItem,{shrink:0,children:k.jsx(d("WAWebLandingFooter.react").WAWebLandingFooter,{isWebReg:u,onClick:t})})]}),k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:p.headerFooterContainer})]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a.apiCmd;a=a.upsellBannerType;var e=[p.upsellBannerContainer];return a===d("useWAWebDesktopUpsellQRCodeBannerType").WAWebDesktopUpsellQRCodeBannerType.SLIM&&k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(e),{children:k.jsx(c("WAWebDesktopUpsellQRCodeSlimBanner.react"),{apiCmd:b})}))}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLockScreen.react",["fbt","WAPromiseDelays","WAWebABProps","WAWebButton.react","WAWebCmd","WAWebConnModel","WAWebDetailImage.react","WAWebEmojiText.react","WAWebEnvironment","WAWebErrorBoundary.react","WAWebFlex.react","WAWebFlexItem.react","WAWebLandingHeader.react","WAWebLockScreenResolver","WAWebPasswordInput.react","WAWebProfileImage.react","WAWebScreenLockErrorMessages","WAWebSocketModel","WAWebText.react","WAWebUISpacing","WAWebUserPrefsMultiDevice","WAWebUserPrefsScreenLock","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebPersistentCounterAsync"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={wrapper:{background:"x1lsgnfv",height:"x1dr59a3",minHeight:"xp22266",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xyinxu5",paddingInlineEnd:"xp48ta0",paddingBottom:"x1g2khh7",paddingInlineStart:"xtssl2i",minWidth:"xp9ttsr",alignItems:"x6s0dn4",boxSizing:"x9f619","@media screen and (max-width: 1000px)_minHeight":"x1vku25w","-webkit-font-smoothing":"xvmahel",$$css:!0},headerContainer:{width:"xh8yej3",height:"xdd8jsf",$$css:!0},pushnameContainerSpace:{height:"x10c73hc",$$css:!0},passcodeContainer:{width:"xdzyupr",$$css:!0},incorrectPasscode:{height:"x1qx5ct2",$$css:!0}},n=82;function a(){var a=l(""),e=a[0],f=a[1];a=l(null);var g=a[0],i=a[1];a=l(!1);var j=a[0],o=a[1];a=l(!1);var p=a[0],q=a[1];a=c("useWAWebPersistentCounterAsync")(d("WAWebUserPrefsScreenLock").getScreenUnlockTryCount,d("WAWebUserPrefsScreenLock").setScreenUnlockTryCount);var r=a[0],s=r.count,t=r.loading;r=r.error;var u=a[1],v=a[2];a=s!=null?s:0;var w=a>=d("WAWebABProps").getABPropConfigValue("web_screen_lock_max_retries");s=a+1===d("WAWebABProps").getABPropConfigValue("web_screen_lock_max_retries");d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"correct_passcode_lock_screen",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){v()}));d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"incorrect_passcode_lock_screen",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){u(),o(!0),q(!1)}));a=function(a){f(a.currentTarget.value)};var x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){q(!0);yield d("WAPromiseDelays").delayMs(400);if(e===""){i(!0);q(!1);return}i(!1);d("WAWebLockScreenResolver").LockScreenResolvable.enterPasscode(e)});return function(){return a.apply(this,arguments)}}(),y=function(a){!w&&a.key==="Enter"&&x()};w&&d("WAWebSocketModel").Socket.logout();g=d("WAWebScreenLockErrorMessages").getErrorMessage({emptyInputEntered:g,incorrectPasscode:j,onlyOneTryRemaining:s,triesExceeded:w});j=c("WAWebEnvironment").isWindows?h._(/*BTDS*/"App lock is on. Enter your password to use WhatsApp Windows."):h._(/*BTDS*/"App lock is on. Enter your password to use WhatsApp Web.");return k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:m.wrapper,testid:void 0,children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:m.headerContainer,align:"center",isFlexContainer:!0,children:k.jsx(c("WAWebLandingHeader.react"),{surface:"lock-screen",showAppDownloadButton:!0})}),k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",grow:c("WAWebEnvironment").isWindows?0:1,children:k.jsx("main",{className:"x1lxuw3u x1ow4hk9 x1wmf1g4 xefzj8c x42lpuj x1rsuxf0 xcgujcq x1igtfuo x13up0n2 x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1pyc6se x1mlb2bo x16pkwpw xqe4bef xw6alqk x10a9n66",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",className:"landing-main",children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom18],children:k.jsx(c("WAWebProfileImage.react"),{thumb:d("WAWebUserPrefsMultiDevice").getCachedProfilePicEURL(),size:n,quality:d("WAWebDetailImage.react").DetailImageQuality.High})}),k.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"lock-screen-emoji-text",children:k.jsx(d("WAWebText.react").WAWebTextLargeRefreshed,{xstyle:[m.pushnameContainerSpace,d("WAWebUISpacing").uiMargin.bottom32],children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:d("WAWebConnModel").Conn.pushname,ellipsify:!0,titlify:!0})})}),k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.bottom16,children:k.jsx(d("WAWebText.react").WAWebTextTitleRefreshed,{textAlign:"center",xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:j})}),k.jsxs(c("WAWebFlexItem.react"),{xstyle:[m.passcodeContainer,d("WAWebUISpacing").uiMargin.bottom12],children:[k.jsx(c("WAWebPasswordInput.react"),{onChange:a,onKeyDown:y,required:!0,placeholder:h._(/*BTDS*/"Enter password").toString(),focusOnMount:!0,enableShowPassword:!0,testid:void 0}),g==null?k.jsx("div",{className:"x1gnnpzl"}):k.jsx(d("WAWebText.react").WAWebTextSmall,{color:"critical",xstyle:[m.incorrectPasscode,d("WAWebUISpacing").uiMargin.top4,d("WAWebUISpacing").uiMargin.bottom6],role:"alert",children:g})]}),k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.bottom48,children:k.jsx(d("WAWebButton.react").Button,{type:"primary",onClick:function(){return void x()},disabled:p||w||t||r!=null,spinner:p,testid:void 0,children:h._(/*BTDS*/"Unlock")})}),k.jsx(d("WAWebText.react").WAWebTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:h._(/*BTDS*/"Forgot password?")}),k.jsx(d("WAWebText.react").WAWebTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:h._(/*BTDS*/"Log out and link again from your phone.")}),k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.top12,children:k.jsx(d("WAWebButton.react").Button,{type:"plain-white",onClick:function(){return d("WAWebSocketModel").Socket.logout()},children:h._(/*BTDS*/"Log out")})})]})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLogoutLoadingScreen.react",["fbt","WAPromiseDelays","WAWebProgressBar.react","WAWebUISpacing","WAWebWaLogoIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState,o={mainText:{fontSize:"x1c3i2sq",color:"x14ug900",transition:"xk82a7y",$$css:!0},icon:{color:"xsq9etf",marginTop:"x1cm6mvd",$$css:!0},progressBarContainer:{position:"x1n2onr6",width:"x1oysuqx",height:"xqu0tyb",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},secondary:{fontSize:"x1f6kntn",lineHeight:"x17fgdl5",color:"xhslqc4",fontWeight:"xo1l8bm",$$css:!0}},p=450;function a(){var a=n(0),b=a[0],e=a[1];m(function(){d("WAPromiseDelays").delayMs(p)["finally"](function(){e(100)})},[]);return l.jsxs("div",{className:"x1n2onr6 x16uhe5s x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 x5yr21d x6egj2d",children:[l.jsx(d("WAWebWaLogoIcon.react").WaLogoIcon,{height:52,xstyle:o.icon}),l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(o.mainText,d("WAWebUISpacing").uiMargin.top20),{children:h._(/*BTDS*/"Logging out")})),l.jsx("div",babelHelpers["extends"]({},j.props(o.progressBarContainer,d("WAWebUISpacing").uiMargin.top28),{children:l.jsx(c("WAWebProgressBar.react"),{value:b})})),l.jsx("div",babelHelpers["extends"]({},j.props(o.secondary,d("WAWebUISpacing").uiMargin.top32),{children:h._(/*BTDS*/"Do not close this window")}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebKeyboardRotateFocusModal.react",["WAWebKeyboardConstants","WAWebKeyboardTabUtils","react","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useRef,m={container:{position:"x10l6tqk",top:"x13vifvy",insetInlineEnd:"xtijo5x",bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",$$css:!0}};function a(a){var b=a.children,e=a.focusType,f=a.onBlur,g=a.ref;a=a.xstyle;var h=l(null);g=c("useMergeRefs")(g,h);var j=function(a){var b=h.current;if(!b)return;var c=a.shiftKey?d("WAWebKeyboardTabUtils").TabDirection.BACKWARD:d("WAWebKeyboardTabUtils").TabDirection.FORWARD,f=e!=null?e:{type:d("WAWebKeyboardTabUtils").FocusType.TABBABLE},g=f.type;f=f.customSelector;b=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,c,g,void 0,f);if(b==null)return;a.preventDefault();b.focus()},n=function(a){if(a.metaKey||a.ctrlKey)return;if(a.key===d("WAWebKeyboardConstants").KEYBOARD_EVENT_KEY_VALUE.TAB)return j(a)};return k.jsx("div",babelHelpers["extends"]({ref:g},(i||(i=c("stylex"))).props(m.container,a),{onKeyDown:n,tabIndex:-1,onBlur:f,children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebModalManagerImplWrapper.react",["WALogger","WAUpperFirst","WAWebErrorBoundary.react","WAWebFocusTracer","WAWebKeyboardRotateFocusModal.react","WAWebKeyboardTabUtils","WAWebModalManager","WAWebPopover.react","WAWebUimContext","WAWebUimUie.react","WAWebUseIsKeyboardUser","WAWebVelocityTransitionGroup","react","uniqueID","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j,k;b=k||d("react");var l=j||(j=c("react")),m=b.cloneElement,n=b.useRef,o=b.useState,p={DEFAULT:"modal",NONE:"none"},q="modal";e="media";b="alert";var r="support";function s(a){var b,e,f=a.type,g=a.contextMenuRef,j=a.errorBoundaryName,k=n(null),r=n(!1),s=n(null),t=o(),u=t[0];t=t[1];var v=c("WAWebUseIsKeyboardUser")(),w=v.isKeyboardUser;v=o(void 0);var x=v[0],y=v[1];v=o(null);var z=v[0],A=v[1];v=o({type:d("WAWebKeyboardTabUtils").FocusType.TABBABLE});var B=v[0],C=v[1];v=o(p.DEFAULT);var D=v[0],E=v[1];v=o(void 0);var F=v[0],G=v[1];v=o(!1);var H=v[0],I=v[1],J=function(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[ModalManager][requestFocus]: request focus on "," has been called"])),f);if(!k.current)return;var a=k.current.getElement();if(!a||a.contains(document.activeElement))return;c("WAWebFocusTracer").focus(a)},K=function(){if(!k.current)return;var a=k.current.getElement();if(!a)return;c("WAWebFocusTracer").focus(a)},L=function(a){var b;return(b=document.getElementById(d("WAWebPopover.react").ANCHOR_PORTAL_ID))==null?void 0:b.contains(a)},M=function(a){var b=a.relatedTarget,c=g==null?void 0:g.current;c=c?c.isOpen():!1;if(u!=null)return u;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[ModalManager][requestFocus]: forceShouldRequestFocus = null"])));return b instanceof HTMLElement&&!a.currentTarget.contains(b)&&!L(b)&&!c&&r.current===!1};v=function(a){M(a)&&J()};var N=function(a,b){var e;b===void 0&&(b={});s.current=w?document.activeElement||document.body:null;var g=b.transition||p.DEFAULT;e=(e=b.focusType)!=null?e:{type:d("WAWebKeyboardTabUtils").FocusType.TABBABLE};b=b;var h=b.uim;b=b.blockClose;x&&(g=p.NONE);var i=c("uniqueID")("ModalManager"+f),j=a;f===q&&(j=m(a,{requestFocus:K}));r.current=!1;C(e);y(j);A(i);E(g);G(h);I(b!=null?b:!1)},O=function(a){a(r.current===!0?!1:!!x)},P=function(a){if(!x)return;y(void 0);A(null);a&&E(a);r.current=!0;c("WAWebFocusTracer").focus(s.current)},Q=function(a){a===z&&(P(),d("WAWebModalManager").ModalManager.trigger("close_"+f))},R=function(a){a((a=k.current)==null?void 0:a.getElement())};(b=d("useWAWebListener")).useListener((e=d("WAWebModalManager")).ModalManager,"open_"+f,N);b.useListener(e.ModalManager,"exists_"+f,O);b.useListener(e.ModalManager,"close_"+f,P);b.useListener(e.ModalManager,"get_ref",R);b.useListener(e.ModalManager,"set_force_should_request_focus_"+f,t);var S;x&&(S=l.jsx(d("WAWebUimUie.react").UIE,{displayName:"Modal"+c("WAUpperFirst")(a.type),escapable:!H,ref:k,requestFocus:J,requestDismiss:Q.bind(null,z),children:l.jsx(c("WAWebKeyboardRotateFocusModal.react"),{focusType:B,onBlur:v,children:x})},z));return l.jsx(c("WAWebUimContext").Consumer,{children:function(a){return l.jsx(c("WAWebUimContext").Provider,{value:F||a,children:l.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:j,children:l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:D,children:S})})})}})}s.displayName=s.name+" [from "+f.id+"]";function a(a){return l.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:a.errorBoundaryName+"-wrapper",children:l.jsx(s,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g.ModalType=q;g.MediaType=e;g.AlertType=b;g.SupportType=r;g.ModalManagerImplWrapper=a}),98);
__d("WAWebOffline.react",["fbt","WAWebModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return j.jsx(d("WAWebModal.react").Modal,{title:h._(/*BTDS*/"Computer not connected"),cover:!0,children:h._(/*BTDS*/"Make sure your computer has an active internet connection.")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProxied.react",["fbt","WAWebConfirmPopup.react","WAWebExternalLink.react","WAWebFaqUrl","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(){d("WAWebExternalLink.react").openExternalLink(d("WAWebFaqUrl").getCannotConnectFaqUrl())}function a(){return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,title:h._(/*BTDS*/"Can't load WhatsApp"),okText:h._(/*BTDS*/"Learn more"),onOK:k,children:h._(/*BTDS*/"Your computer is connected to a network that prevents WhatsApp from working correctly")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamEnumWebcPwaActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({INSTALL:1});f.WEBC_PWA_ACTION_TYPE=a}),66);
__d("WAWebWebcPwaEventWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcPwaActionType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcPwaEvent:[4116,{webcPwaAction:[2,d("WAWebWamEnumWebcPwaActionType").WEBC_PWA_ACTION_TYPE]},[1,1,1],"regular"]},{WebcPwaEvent:[]});g.WebcPwaEventWamEvent=a}),98);
__d("WAWebPwaEventListeners",["WAWebPwaDocumentMetadataUtils","WAWebWamEnumWebcPwaActionType","WAWebWamEnumWebcWebPlatformType","WAWebWamGlobals","WAWebWamPlatform","WAWebWebcPwaEventWamEvent"],(function(a,b,c,d,e,f,g){function a(){window.addEventListener("appinstalled",function(){new(d("WAWebWebcPwaEventWamEvent").WebcPwaEventWamEvent)({webcPwaAction:d("WAWebWamEnumWebcPwaActionType").WEBC_PWA_ACTION_TYPE.INSTALL}).commit()})}function b(){window.matchMedia("(display-mode: standalone)").addListener(function(){d("WAWebPwaDocumentMetadataUtils").setDocumentTitle(null),d("WAWebPwaDocumentMetadataUtils").setAppBadge(null),d("WAWebWamGlobals").Global.set({webcWebPlatform:d("WAWebWamEnumWebcWebPlatformType").WEBC_WEB_PLATFORM_TYPE[d("WAWebWamPlatform").getWamPlatform()]})})}g.registerPwaInstallListener=a;g.registerPwaDisplayModeListener=b}),98);
__d("WAWebPwaManifest",["WAWebBuildConstants","WAWebUA"],(function(a,b,c,d,e,f,g){function a(){if(d("WAWebUA").UA.os===d("WAWebUA").OS_TYPE.MAC){var a;(a=document.getElementById("whatsapp-pwa-manifest-link"))==null||a.setAttribute("href",d("WAWebBuildConstants").WEB_PUBLIC_PATH+"manifest-apple.json")}}g.updatePwaManifestOnMacOS=a}),98);
__d("WAWebRobotoVariableFontLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WDSLoadRobotoVariableFont").__setRef("WAWebRobotoVariableFontLoadable").load());return a}),"WDSLoadRobotoVariableFont");g.requireRobotoVariableFont=a}),98);
__d("WAWebSafariTakeover",["WALogger","WAWebSWBus","WAWebSWBusActions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=!1;function a(){i=!0}function e(){return i}function f(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=navigator.serviceWorker;if(a!=null&&a.controller)try{a=(yield c("WAWebSWBus").request(a.controller,c("WAWebSWBusActions").ACTIVE_TAB));return a.some(function(a){return a.isActive===!0})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error: ",""])),a).sendLogs("ACTIVE_TAB service worker call failed");return!1}return!1});return j.apply(this,arguments)}g.setTabActive=a;g.getIsTabActive=e;g.isAnotherTabActive=f}),98);
__d("WAWebSWBusInit",["Promise","WALogger","WAWebCmd","WAWebCrashlog","WAWebFeatureDetectionSwSupport","WAWebLoggerImpl","WAWebNoop","WAWebSWBus","WAWebSWBusActions","WAWebSafariTakeover","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime","err","requireDeferred"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=c("requireDeferred")("WAWebPipVideoStreaming").__setRef("WAWebSWBusInit");function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield n.load()).handleVideoStreamingRequest});return p.apply(this,arguments)}if(c("WAWebFeatureDetectionSwSupport").supported){var q=function(){try{var a=navigator.serviceWorker;a!=null&&a.controller&&a.controller.addEventListener("error",function(a){if(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNLAUNCHED)return;d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["ServiceWorker controller error: ",""])),a.error)})}catch(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(['Unable to add "error" event listener to service worker, error: ',""])),a)}};try{a=navigator.serviceWorker;a&&a.addEventListener("controllerchange",function(a){q()})}catch(a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(['Unable to add "controllerchange" event listener to service worker container, error: ',""])),a)}try{e=navigator.serviceWorker;e&&e.addEventListener("error",function(a){if(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNLAUNCHED)return;d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["ServiceWorker container error: ",""])),a.error)})}catch(a){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(['Unable to add "error" event listener to service worker container, error: ',""])),a)}q();var r=function(a,b){a.buffer.forEach(function(a){var c;c=(c=a.message[0])!=null?c:"";c="ServiceWorker ("+b+"): "+c;var e=a.level.match(/^(.*?)(?:Verbose)?$/i);e=s(e[1]);d("WAWebLoggerImpl").Logger.logImpl(e,c,a.error,a.attachedToSendLogs,a.extraTags)})};f=new(c("WAWebSWBus"))(function(a){var e,f=a.action,g=a.message;a=a.version;switch(f){case c("WAWebSWBusActions").REQUEST_STREAMING_INFO:case c("WAWebSWBusActions").EXP_BACKOFF:case c("WAWebSWBusActions").REQUEST_RMR:case c("WAWebSWBusActions").SEND_STREAMING_CHUNK:return(e=o())==null?void 0:e.then(function(a){return a==null?void 0:a({action:f,message:g})});case c("WAWebSWBusActions").LOG:if(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNLAUNCHED)return;g&&r(g,a);return{test:!0};case c("WAWebSWBusActions").UPLOAD_LOGS:g&&r(g,a);return d("WAWebCrashlog").upload({reason:"Requested by Service Worker"}).then(c("WAWebNoop"));case c("WAWebSWBusActions").ACTIVE_TAB:return{isActive:d("WAWebSafariTakeover").getIsTabActive()};case c("WAWebSWBusActions").HEARTBEAT:return g;default:return(m||(m=b("Promise"))).reject(c("err")("Invalid Action: "+f))}});f.init();d("WAWebCmd").Cmd.on("logout",function(){var a=navigator.serviceWorker;a!=null&&a.controller&&c("WAWebSWBus").request(a.controller,c("WAWebSWBusActions").LOGOUT)["catch"](c("WAWebNoop"))})}function s(a){switch(a){case"info":return 1;case"log":return 2;case"warn":return 3;case"error":return 4}throw c("err")("Invalid level: "+a)}}),34);
__d("WAWebServiceUnavailable.react",["fbt","WAWebModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return j.jsx(d("WAWebModal.react").Modal,{title:h._(/*BTDS*/"Service unavailable"),cover:!0,children:h._(/*BTDS*/"We're having trouble connecting to WhatsApp. Please try again in a few minutes.")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSmbLearnMore.react",["fbt","WAWebClickableLink.react","WAWebExternalLink.react","WAWebL10N","WAWebURLUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k="https://www.whatsapp.com/legal/small-business-terms/";function a(){var a=c("WAWebURLUtils").build(k,{lg:c("WAWebL10N").getNormalizedLocale()}),b=function(b){b.preventDefault(),self.setTimeout(function(){return d("WAWebExternalLink.react").openExternalLink(a)},10)};return j.jsx(c("WAWebClickableLink.react"),{href:a,onClick:b,children:h._(/*BTDS*/"Learn more")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLoadingScreen.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_alyo",graphic:"_alyr",shimmering:"_alyv",shimmeringWWW:"_aqdy",initialLoad:"_alyw",logout:"_alyx",didYouKnow:"_alyy",warning:"_alz1",showWarning:"_alz2"};b=a;g["default"]=b}),98);
__d("WAWebLoadingScreen.react",["fbt","$InternalEnum","WAWebButton.react","WAWebClassnames","WAWebFbtCommon","WAWebHistorySyncUIText","WAWebL10N","WAWebLoadingScreen.scss","WAWebLockRefreshedIcon.react","WAWebProgressBar.react","WAWebUISpacing","cr:10212","cr:23446","react","stylex","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react");e=(i||(i=d("react"))).memo;var m={progress:{position:"x1n2onr6",width:"x1oysuqx",height:"xqu0tyb",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",overflowX:"x6ikm8r",overflowY:"x10wlt62",transition:"xk82a7y",$$css:!0},secondary:{fontSize:"x1f6kntn",color:"xhslqc4",transition:"xk82a7y",$$css:!0},secondaryIcon:{display:"x1rg5ohu",verticalAlign:"xxymvpz",$$css:!0},main:{fontSize:"x1c3i2sq",color:"x14ug900",transition:"xk82a7y",$$css:!0}},n=b("$InternalEnum").Mirrored(["INITIAL_LOAD","CONNECTING","DOWNLOADING","ORGANIZING"]),o=b("$InternalEnum").Mirrored(["MULTI_STAGE","UNIFIED","UNIFIED_WITH_PROGRESS","LOGO"]);function a(a){var e,f,g=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(c("WAWebL10N"),"locale_change",g);g=a.theme;g=g===void 0?o.MULTI_STAGE:g;var i=a.stage===n.INITIAL_LOAD,k=a.stage===n.DOWNLOADING,q=a.stage===n.ORGANIZING,r=d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebLoadingScreen.scss").container,c("WAWebLoadingScreen.scss").initialLoad);e=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebLoadingScreen.scss").showWarning]=k,e[c("WAWebLoadingScreen.scss").logout]=!0,e));k=d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebLoadingScreen.scss").showWarning]=k,f[c("WAWebLoadingScreen.scss").warning]=!0,f));var s;switch(g){case o.MULTI_STAGE:switch(a.stage){case n.INITIAL_LOAD:s=c("WAWebFbtCommon")("WhatsApp");break;case n.CONNECTING:s=h._(/*BTDS*/"Connecting\u2026");break;case n.DOWNLOADING:s=h._(/*BTDS*/"Downloading messages: {progress}\u0025",[h._param("progress",a.progress)]);break;case n.ORGANIZING:s=h._(/*BTDS*/"Organizing messages");break}break;case o.UNIFIED:s=d("WAWebHistorySyncUIText").SYNC_LOADING();break;case o.UNIFIED_WITH_PROGRESS:switch(a.stage){case n.INITIAL_LOAD:case n.CONNECTING:s=d("WAWebHistorySyncUIText").SYNC_LOADING();break;case n.DOWNLOADING:case n.ORGANIZING:s=h._(/*BTDS*/"_j{\"*\":\"Loading your chats [{percentage}\\u0025]\"}",[h._param("percentage",a.progress,[0])])}break;case o.LOGO:s=c("WAWebFbtCommon")("WhatsApp");break}f=a.onLogout!=null&&!i&&g!==o.LOGO;return l.jsxs("div",{"data-testid":void 0,className:r,children:[b("cr:23446")&&l.jsx(b("cr:23446"),{description:"WAWebLoadingScreen_"+String(a.stage),hold:!0}),l.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((r={},r[c("WAWebLoadingScreen.scss").shimmeringWWW]=g===o.LOGO||g===o.MULTI_STAGE&&(i||q),r[c("WAWebLoadingScreen.scss").graphic]=!0,r)),children:l.jsx(p,{})}),l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(m.main,d("WAWebUISpacing").uiMargin.top20),{children:s})),l.jsx("div",babelHelpers["extends"]({},j.props(m.progress,d("WAWebUISpacing").uiMargin.top28),{children:l.jsx(c("WAWebProgressBar.react"),{value:a.progress,max:100})})),l.jsxs("div",babelHelpers["extends"]({},j.props(m.secondary,d("WAWebUISpacing").uiMargin.top32),{children:[l.jsx(d("WAWebLockRefreshedIcon.react").LockRefreshedIcon,{height:17,xstyle:[m.secondaryIcon,d("WAWebUISpacing").uiMargin.bottom2]}),"\xa0",c("WAWebFbtCommon")("End-to-end encrypted")]})),b("cr:10212")?l.jsx("div",{className:c("WAWebLoadingScreen.scss").didYouKnow,children:l.jsx(b("cr:10212"),{})}):null,f&&l.jsx("div",{className:e,children:l.jsx(d("WAWebButton.react").WAWebButtonOnAccent,{onClick:a.onLogout,children:h._(/*BTDS*/"Log out")})}),l.jsx("div",{className:k,children:h._(/*BTDS*/"Don't close this window. Your messages are downloading.")})]})}a.displayName=a.name+" [from "+f.id+"]";function p(){return l.jsx("span",{children:l.jsx("svg",{width:"250px",height:"52px",viewBox:"0 0 250 52",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{className:"xw7t59x",d:"M37.7314595,31.1612046 C37.0876293,30.8391042 33.9223475,29.2816062 33.332139,29.0666255 C32.7419305,28.8517683 32.3127104,28.7444016 31.8834903,29.3887258 C31.4542703,30.0332973 30.2204788,31.4835521 29.8447567,31.91339 C29.4692818,32.3428571 29.0936834,32.3968494 28.4499768,32.0745019 C27.8060232,31.7521544 25.7314595,31.0723707 23.272278,28.8787027 C21.3582085,27.171583 20.0661004,25.0632896 19.6905019,24.4185946 C19.315027,23.7741467 19.6505946,23.4257297 19.9729421,23.1046178 C20.2625483,22.8161235 20.6167722,22.352556 20.9386255,21.9767104 C21.2606023,21.6007413 21.3678456,21.3320154 21.5824556,20.9026718 C21.7970657,20.472834 21.6898224,20.0968649 21.528834,19.7746409 C21.3678456,19.452417 20.0801853,16.2831815 19.543722,14.993915 C19.0210965,13.7387491 18.4903166,13.9087567 18.0950733,13.8887413 C17.7199691,13.870085 17.2902548,13.8661313 16.8611583,13.8661313 C16.4319382,13.8661313 15.7343629,14.0272433 15.144278,14.6716911 C14.5540695,15.3163861 12.8908108,16.8740077 12.8908108,20.0429961 C12.8908108,23.2121081 15.1978996,26.2734826 15.5198765,26.7031969 C15.8417297,27.1330348 20.0597992,33.6360772 26.5184865,36.4250193 C28.05461,37.0883707 29.2539305,37.4846023 30.1888494,37.7811274 C31.7312742,38.2713822 33.1348263,38.2021931 34.2440772,38.0363861 C35.4810811,37.8515521 38.0533127,36.478888 38.5898996,34.9750116 C39.1263629,33.470888 39.1263629,32.1818687 38.9653745,31.91339 C38.8045097,31.6447876 38.3752896,31.4835521 37.7314595,31.1612046 M25.9838765,47.2013591 L25.9752278,47.2013591 C22.1322625,47.1998763 18.3629343,46.1674749 15.0745946,44.2160926 L14.2926332,43.7519074 L6.18674906,45.8782394 L8.35027028,37.9751042 L7.84111198,37.1648494 C5.69723552,33.7549343 4.56500386,29.8139923 4.56660833,25.767166 C4.57130502,13.9587954 14.1789652,4.35187645 25.9924016,4.35187645 C31.7128649,4.35385328 37.0902239,6.58458689 41.1338378,10.6327722 C45.1773282,14.680834 47.4028724,20.0618996 47.4007737,25.7843398 C47.3959539,37.5936988 37.7882934,47.2013591 25.9838765,47.2013591 M44.2112742,7.556695 C39.3464092,2.68614672 32.8767258,0.00271814672 25.9836293,0 C11.7809421,0 0.221652509,11.5584247 0.215969112,25.7654363 C0.21411583,30.3069652 1.40058687,34.7397683 3.65553668,38.6475984 L-4.61852778e-14,52 L13.6596757,48.4167413 C17.4233205,50.4695597 21.6607876,51.5516293 25.9733745,51.5531121 L25.9838765,51.5531121 L25.984,51.5531121 C40.1852046,51.5531121 51.7456062,39.9934517 51.7512912,25.7860695 C51.7538842,18.9011274 49.0761392,12.4271197 44.2112742,7.556695",fill:"currentColor"})})})}p.displayName=p.name+" [from "+f.id+"]";f=e(a);g.Stage=n;g.LoadingScreenTheme=o;g.LoadingScreen=f}),226);
__d("WAWebDebouncedLoadingScreen.react",["$InternalEnum","WALogger","WAPromiseDelays","WAWebCmd","WAWebLoadingScreen.react","WAWebOfflineHandler","WAWebSocketModel","WAWebUserPrefsHistorySync","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i,j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,n=e.useEffect,o=e.useRef,p=e.useState,q=500,r=1500,s=450,t=800,u=450,v=b("$InternalEnum").Mirrored(["INITIAL_LOAD","CONNECTING","FAKE_FILL","DOWNLOADING","ORGANIZING"]),w=b("$InternalEnum").Mirrored(["NOT_STARTED","STARTED","PAST_MIN_TIME"]);function a(a){var e=a.initialLoadReady,f=a.onLogout,g=a.onReady,j=c("useWAWebUnmountSignal")(),k=o(!1);a=p(e?d("WAWebLoadingScreen.react").Stage.CONNECTING:d("WAWebLoadingScreen.react").Stage.INITIAL_LOAD);var x=a[0],y=a[1];a=p(d("WAWebUserPrefsHistorySync").getInitialHistorySyncCompleteLocalStorage());a=a[0];var z=p({INITIAL_LOAD:e?w.PAST_MIN_TIME:w.NOT_STARTED,CONNECTING:w.NOT_STARTED,FAKE_FILL:w.NOT_STARTED,DOWNLOADING:w.NOT_STARTED,ORGANIZING:w.NOT_STARTED}),A=z[0],B=z[1];z=p(0);var C=z[0],D=z[1];z=p(null);var E=z[0],F=z[1];z=function(){var a=d("WAWebOfflineHandler").OfflineMessageHandler.getHasMessagesToDownload();E==null&&a!=null&&F(a);a===!0&&(A.CONNECTING===w.PAST_MIN_TIME&&D(d("WAWebOfflineHandler").OfflineMessageHandler.getOfflineDeliveryProgress()))};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"offline_progress_update",z);var G=m(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){B(function(b){return babelHelpers["extends"]({},b,(b={},b[a]=w.STARTED,b))});d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["DebouncedLoadingScreen: "," - starts minimum display time"])),a);yield d("WAPromiseDelays").delayMs(b);if(j.aborted)return;B(function(b){return babelHelpers["extends"]({},b,(b={},b[a]=w.PAST_MIN_TIME,b))});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["DebouncedLoadingScreen: "," - ends minimum display time"])),a)});return function(b,c){return a.apply(this,arguments)}}(),[j]),H=A.CONNECTING,I=A.DOWNLOADING,J=A.ORGANIZING,K=A.FAKE_FILL,L=A.INITIAL_LOAD;n(function(){if(J===w.PAST_MIN_TIME)k.current||(g(),k.current=!0);else if(I===w.PAST_MIN_TIME&&C>=100&&J===w.NOT_STARTED)d("WAPromiseDelays").delayMs(u)["finally"](function(){if(j.aborted)return;y(d("WAWebLoadingScreen.react").Stage.ORGANIZING);G(v.ORGANIZING,t)});else if(H===w.PAST_MIN_TIME&&E!=null&&I===w.NOT_STARTED&&K===w.NOT_STARTED){var a=d("WAWebOfflineHandler").OfflineMessageHandler.getFinishedDownloading();E&&!a?(y(d("WAWebLoadingScreen.react").Stage.DOWNLOADING),D(d("WAWebOfflineHandler").OfflineMessageHandler.getOfflineDeliveryProgress()),G(v.DOWNLOADING,s)):(D(100),G(v.FAKE_FILL,u).then(function(){if(j.aborted)return;d("WAWebSocketModel").Socket.hasSynced?k.current||(g(),k.current=!0):(y(d("WAWebLoadingScreen.react").Stage.ORGANIZING),G(v.ORGANIZING,t))}))}else e&&L===w.PAST_MIN_TIME&&H===w.NOT_STARTED?(y(d("WAWebLoadingScreen.react").Stage.CONNECTING),G(v.CONNECTING,r)):L===w.NOT_STARTED&&G(v.INITIAL_LOAD,q)},[C,g,E,G,j,e,H,I,J,K,L]);z=d("WAWebLoadingScreen.react").LoadingScreenTheme.MULTI_STAGE;e&&(!a?z=d("WAWebLoadingScreen.react").LoadingScreenTheme.UNIFIED:E===!0?z=d("WAWebLoadingScreen.react").LoadingScreenTheme.UNIFIED_WITH_PROGRESS:z=d("WAWebLoadingScreen.react").LoadingScreenTheme.LOGO);return l.jsx(d("WAWebLoadingScreen.react").LoadingScreen,{stage:x,progress:C,onLogout:f,theme:z})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStartup.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={startup:"_ari2",textTip:"_ari0",divider:"_ari3"};b=a;g["default"]=b}),98);
__d("WAWebStartup.react",["fbt","WALogger","WAWebConfirmPopup.react","WAWebDebouncedLoadingScreen.react","WAWebSocketModel","WAWebStartup.scss","WAWebStreamModel","react","useWAWebForceUpdate","useWAWebInterval","useWAWebListener","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(j||(j=d("react"))).useEffect;function a(a){var b=a.initialLoadReady;a=a.onReady;var e=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),f,g;d("useWAWebListener").useListener(d("WAWebStreamModel").Stream,"change:displayInfo",e);e=c("useWAWebInterval")(e,1e3);e=e[0];e=d("useWAWebTimeout").useTimeout(e,6e3);var j=e[0];e=d("WAWebStreamModel").Stream.displayInfo;m(function(){j()},[]);var k=function(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Startup: user selected logout"]))),d("WAWebSocketModel").Socket.logout()};switch(e){case d("WAWebStreamModel").StreamInfo.OPENING:case d("WAWebStreamModel").StreamInfo.PAIRING:f=h._(/*BTDS*/"Connecting to WhatsApp");g=h._(/*BTDS*/"Make sure your computer has an active internet connection.");break;case d("WAWebStreamModel").StreamInfo.SYNCING:case d("WAWebStreamModel").StreamInfo.CONNECTING:return l.jsx(c("WAWebDebouncedLoadingScreen.react"),{initialLoadReady:b,onReady:a,onLogout:k});default:return d("WAWebStreamModel").Stream.mode===d("WAWebStreamModel").StreamMode.MAIN?l.jsx(c("WAWebDebouncedLoadingScreen.react"),{initialLoadReady:b,onReady:a,onLogout:k}):null}return l.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,title:f,cancelText:h._(/*BTDS*/"Log out"),onCancel:k,children:[l.jsx("hr",{className:c("WAWebStartup.scss").divider}),l.jsx("div",{className:c("WAWebStartup.scss").textTip,children:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEstimateIndexeddbUsageApi",["Promise","WALogger","WANullthrows","WAPromiseReduce","WAStorageEstimator","WAWebDbUsageApiUtils","WAWebIndexedDB","WAWebScanDbRowApi","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=1e6;function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("gkx")("26258"))return!1;var a=(yield d("WAStorageEstimator").estimateStorage());if(a.success===!1)return!1;a=a.value;var b=a.usage;a=a.quota;var e=!1,f=!1,g=null;b/a>=.8?(e=!0,f=!0,g="More than 80% of idb storage quota used"):b>=1500*m?(e=!0,f=!0,g="More than 1.5GB of idb storage used"):b>=1e3*m&&(e=!0,g="More than 1GB of idb storage used");if(e){a=(yield t({printTables:!1,sampleRate:.05}));b=a.stats;e=a.output;a=o(b.webCache,b.lruMediaStoreSize);a?(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["uploading logs with the reason: web cache has unknown items"]))).tags("idb-storage"),d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["IndexedDB estimated snapshot:\n",""],["IndexedDB estimated snapshot:\\n",""])),e).tags("idb-storage").sendLogs("idb_storage_web_cache")):(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["uploading logs with the reason: ",""])),g).tags("idb-storage"),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["IndexedDB estimated snapshot:\n",""],["IndexedDB estimated snapshot:\\n",""])),e).tags("idb-storage").sendLogs("idb_storage_exceeded"))}return!f});return n.apply(this,arguments)}function o(a,b){if(a==null)return!1;b=b!=null?b:0;if(b===0&&a>0)return!0;return b*1.1<=a?!0:!1}function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield a.keys());return d("WAPromiseReduce").promiseReduce(c,function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){c=(yield a.match(c));c=(yield c.arrayBuffer());return b+c.byteLength});return function(a,b){return c.apply(this,arguments)}}(),0)});return q.apply(this,arguments)}function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!("caches"in self))return[];var a=(yield self.caches.keys());return(l||(l=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield self.caches.open(a));b=(yield p(b));return[a,b]});return function(b){return a.apply(this,arguments)}}()))});return s.apply(this,arguments)}function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a===void 0?{printTables:!0,sampleRate:.05,forceWebCacheBreakdown:!1}:a;var b=a.printTables,e=a.sampleRate;a=a.forceWebCacheBreakdown;var f=1e4,g=[],h=c("WANullthrows")(c("WAWebIndexedDB")),i=(yield d("WAWebDbUsageApiUtils").getAllDatabases(h));for(var j of i){i=(yield d("WAWebDbUsageApiUtils").promisifyRequest(h.open(j.name)));if(i.objectStoreNames.length===0)continue;var k=i.transaction(i.objectStoreNames,"readonly"),l={name:j.name,size:0,stores:[]};i=function*(a){var b=k.objectStore(a),c=(yield d("WAWebDbUsageApiUtils").promisifyRequest(b.count()));if(c===0)return 1;var g=d("WAWebScanDbRowApi").getSampleRateOverride(e,a,j.name);g=Math.min(Math.ceil(c*g),f);var h=g,i=0;yield d("WAWebDbUsageApiUtils").objectStoreIterator(b,function(b){if(d("WAWebScanDbRowApi").skipRow(b,a))return!0;i+=d("WAWebScanDbRowApi").estimateSize(b,a);h--;return h>0});b=Math.round(i*(c/(g-h)));l.stores.push({name:a,size:b,rowCount:c});l.size+=b};for(var m of k.objectStoreNames)if(yield* i(m))continue;l.stores.sort(function(a,b){return b.size-a.size});g.push(l)}g.sort(function(a,b){return b.size-a.size});b&&(console.table([].concat(g)),g.forEach(function(a){var b=a.stores.map(function(b){return{db:a.name,store:b.name,size:b.size,rowCount:b.rowCount}});console.table(b)}));i=(yield d("WAStorageEstimator").estimateStorage());b=(h=(m=g.find(function(a){return a.name==="lru-media-storage-idb"}))==null?void 0:m.size)!=null?h:0;h=o((m=i.value)==null||(m=m.usageDetails)==null?void 0:m.caches,b);m=h||Boolean(a)?yield r():[];a={usage:(h=i.value)==null?void 0:h.usage,quota:(a=i.value)==null?void 0:a.quota,webCache:(h=i.value)==null||(h=h.usageDetails)==null?void 0:h.caches,lruMediaStoreSize:b,webCacheBreakdown:m,debugEstimations:g,sampleRate:e};i=v(a,g);return{output:i,stats:a}});return u.apply(this,arguments)}function v(a,b){var c=JSON.stringify(a,null,2),e=[],f="****************************";e.push(f);e.push("*******Storage Script*******");e.push(f);var g="Storage Api estimation: quota = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.quota)+" MB, usage = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.usage)+" MB";a.webCache!=null&&(g+=", webCache = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.webCache)+" MB");if(a.webCacheBreakdown.length>0){var h=["---- WebCache Breakdown ----"];a.webCacheBreakdown.forEach(function(a){var b=a[0];a=a[1];h.push(b+": "+d("WAWebDbUsageApiUtils").convertToMBToString(a)+" MB")});g+="\n"+h.concat("----------------------------").join("\n")}e.push(g);e.push("DB sampleRate = "+a.sampleRate*100+"%, lru-media-store table is 100%");b.forEach(function(a){e.push("[storage] "+a.name+", size = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.size)+" MB")});e.push(f);e.push("Detailed db scan result in bytes:");e.push(c);return e.join("\n")}g.shouldMonitorDbStorageUsage=a;g.getEstimatedIndexedDbUsage=t}),98);
__d("WAWebStorageUtilizationSnapshot",["Promise","WALogger","WAStorageEstimator","WAWebEnvironment","WAWebEstimateIndexeddbUsageApi","WAWebFeatureDetectionDetermineIncognito","WAWebLocalStorage","WAWebStorageErrorHandlingUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=1024*1024*1024;function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield (p||(p=b("Promise"))).all([u(),w(),y(),c("WAWebFeatureDetectionDetermineIncognito")()])),e=a[0],f=a[1],g=a[2];a=a[3];return{estimate:e,indexedDB:f==null?void 0:f.indexedDB,cache:f==null?void 0:f.cache,localStorage:g,isIncognito:a,isWindows:c("WAWebEnvironment").isWindows,didReload:d("WAWebStorageErrorHandlingUtils").didReloadAppForStorageRecovery(),dbRetryCount:d("WAWebStorageErrorHandlingUtils").getGlobalDbRetryCount()}}catch(a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Error collecting storage utilization: ",""])),a);return null}});return s.apply(this,arguments)}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield r());if(!a){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Failed to collect storage snapshot"])));return null}a=z(a);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Collected storage snapshot: ",""])),a);return a}catch(a){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Error collecting and formatting storage snapshot: ",""])),a);return null}});return t.apply(this,arguments)}function u(){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WAStorageEstimator").estimateStorage());if(!a.success)return null;a=a.value;if(!a)return null;var b=a.quota,c=a.usage;a=a.usageDetails;b={quota:b,usage:c,caches:(b=a==null?void 0:a.caches)!=null?b:null,indexedDB:(c=a==null?void 0:a.indexedDB)!=null?c:null,localStorage:(b=a==null?void 0:a.localStorage)!=null?b:null,serviceWorkerRegistrations:(c=a==null?void 0:a.serviceWorkerRegistrations)!=null?c:null};return b}catch(a){d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Error estimating storage: ",""])),a);return null}});return v.apply(this,arguments)}function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WAWebEstimateIndexeddbUsageApi").getEstimatedIndexedDbUsage({printTables:!1,sampleRate:1,forceWebCacheBreakdown:!0}));a=a.stats;if(!a)return null;var b=a.debugEstimations.reduce(function(a,b){return a+b.size},0),c=a.debugEstimations.map(function(a){return[a.name,a.size]});return{indexedDB:{totalSize:b,breakdown:c||[]},cache:{totalSize:a.webCache,breakdown:a.webCacheBreakdown||[]}}}catch(a){d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Error collecting database and cache info: ",""])),a);return null}});return x.apply(this,arguments)}function y(){try{if(c("WAWebLocalStorage")==null)return null;var a=JSON.stringify(c("WAWebLocalStorage")).length;return{totalSize:a}}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Error collecting localStorage info: ",""])),a);return null}}function z(a){try{var b,c,e,f,g=a.estimate,h=a.indexedDB,j=a.cache,k=a.localStorage,l=a.isIncognito,m=a.isWindows;a=a.didReload;b=(b=g==null?void 0:g.indexedDB)!=null?b:h==null?void 0:h.totalSize;c=(c=g==null?void 0:g.localStorage)!=null?c:k==null?void 0:k.totalSize;k=(k=g==null?void 0:g.caches)!=null?k:j==null?void 0:j.totalSize;g={quota:A(g==null?void 0:g.quota),usage:A(g==null?void 0:g.usage),sw:A(g==null?void 0:g.serviceWorkerRegistrations),caches:A(k),idb:A(b),ls:A(c),incognito:B(l),win:B(m),didReload:B(a)};if(h!=null&&(e=h.breakdown)!=null&&e.length){k=h.breakdown.find(function(a){a=a[0];return a==="model-storage"});b=h.breakdown.find(function(a){a=a[0];return a==="lru-media-storage-idb"});k&&(g.model_idb=A(k[1]));b&&(g.lru_media_idb=A(b[1]))}if(j!=null&&(f=j.breakdown)!=null&&f.length){c=j.breakdown.find(function(a){a=a[0];return a==="lru-media-array-buffer-cache"});c&&(g.lru_media_cache=A(c[1]))}return JSON.stringify(g)}catch(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[memory-snapshot] Error formatting storage snapshot: ",""])),a);return null}}function A(a){return a==null?null:Number((a/q).toFixed(4))}function B(a){return a==null?null:a?1:0}g.getStorageUtilizationSnapshot=r;g.collectAndFormatStorageSnapshot=a;g.formatStorageSnapshotOutput=z}),98);
__d("WAWebUnexpectedFatalErrorModal.react",["WAWebCmd","WAWebConfirmPopup.react","WAWebCurrentUser","WAWebFbtCommon","WAWebSocketModel","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.bugReportDescription,e=a.reason;a=a.children;return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOverlayClick:function(a){a.preventDefault()},onOK:function(){d("WAWebSocketModel").Socket.logout(e)},okText:c("WAWebFbtCommon")("OK"),okButtonType:d("WAWebCurrentUser").isEmployee()?"secondary":"primary",buttonsDirection:"horizontal",extraButtonProps:d("WAWebCurrentUser").isEmployee()?{text:"Report a bug (internal)",onClick:function(){d("WAWebCmd").Cmd.trigger("trigger_bugreport_v2",b,e==null?"Unintended Logout":"Unintended Logout: "+e)},type:"primary"}:null,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStorageQuotaExceededPopup.react",["fbt","Promise","WALogger","WAWebABProps","WAWebABPropsCache","WAWebConfirmPopup.react","WAWebLogoutReasonConstants","WAWebStorageErrorHandlingUtils","WAWebStorageUtilizationSnapshot","WAWebUnexpectedFatalErrorModal.react","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p;e=p||d("react");var q=o||(o=c("react")),r=e.useEffect,s=e.useState;function a(){var a=s(null),c=a[0],e=a[1];a=s(!0);var f=a[0],g=a[1];a=s(null);var h=a[0],j=a[1];r(function(){var a=d("WAWebStorageErrorHandlingUtils").didReloadAppForStorageRecovery();void (n||(n=b("Promise"))).allSettled([d("WAWebStorageUtilizationSnapshot").collectAndFormatStorageSnapshot(),d("WAWebABPropsCache").waitForABPropConfigsReady(),d("WAWebStorageErrorHandlingUtils").isQuotaActuallyExceeded()]).then(function(b){var c=b[0];b[1];b=b[2];e((c=c.value)!=null?c:null);b=(c=b.value)!=null?c:!1;c=d("WAWebABProps").getABPropConfigValue("web_quota_exceeded_app_reload_flow_enabled");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[quota-exceeded] Recovery Flow Enabled: ","; Quota Exceeded: ","; Did attempt recovery: ","."])),c,b,a);j(c&&!b&&!a)})["finally"](function(){g(!1)})},[]);if(f||h==null)return null;if(h)return q.jsx(u,{storageSnapshotData:c});w(c);return q.jsx(t,{storageSnapshotData:c})}a.displayName=a.name+" [from "+f.id+"]";function t(a){a=a.storageSnapshotData;return q.jsx(c("WAWebUnexpectedFatalErrorModal.react"),{bugReportDescription:v(a),reason:d("WAWebLogoutReasonConstants").LogoutReason.StorageQuotaExceeded,children:h._(/*BTDS*/"Your computer does not have enough space for WhatsApp to run. Please create more storage by deleting unused files from your computer, then log in again.")})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.storageSnapshotData;return q.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOverlayClick:function(a){a.preventDefault()},onOK:function(){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[quota-exceeded] Storage quota exceeded. Reloading the app in attempt to recover. Storage snapshot: ",""])),b),d("WAWebStorageErrorHandlingUtils").markAppReloadForStorageRecovery(),window.location.reload()},okText:h._(/*BTDS*/"Reload"),okButtonType:"primary",buttonsDirection:"horizontal",children:h._(/*BTDS*/"We encountered a problem running WhatsApp. Please reload the application to continue.")})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b="";if(a!=null)try{a=JSON.parse(a);a=JSON.stringify(a,null,2);b="Storage Debug Info:\n"+a}catch(a){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse storage snapshot data"])))}return b}function w(a){a=a!=null?a:"null";!c("gkx")("26258")?d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["",""])),a).sendLogs("logout-due-to-quota-exceeded-error-intern"):d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["",""])),a).sendLogs("logout-due-to-quota-exceeded-error",{sampling:.01,sendLogsType:d("WALogger").SendLogsType.USER_FORCEFULLY_LOGGED_OUT_SAD})}g["default"]=a}),226);
__d("WAWebTempBanScreen.react",["fbt","WALogger","WAWeb-moment","WAWebConflict.react","WAWebFaqUrl","WAWebFavicon.react","WAWebSocketModel","WAWebUserPrefsMeUser","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||d("react");function a(a){a=a.banData;a=a||{};var b=a.code,e=a.expire,f=a.message;a=a.url;f=f!=null?f:m(b);b=c("WAWeb-moment").duration(e,"seconds").humanize();return k.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:k.jsxs(c("WAWebConflict.react"),{cancelText:h._(/*BTDS*/"Log out"),onCancel:function(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Banned accounts: user selected logout"]))),d("WAWebSocketModel").Socket.logout()},okText:h._(/*BTDS*/"Learn more"),onOK:window.open.bind(window,a!=null?a:d("WAWebFaqUrl").getFaqUrl()),children:[k.jsx("div",{children:f}),k.jsx("div",{children:h._(/*BTDS*/"You'll be able to use WhatsApp again in {duration}",[h._param("duration",b)])})]})})}a.displayName=a.name+" [from "+f.id+"]";var l=function(){return h._(/*BTDS*/"You're temporarily banned from WhatsApp because you may have violated our terms of service.")};function m(a){var b;b=(b=d("WAWebUserPrefsMeUser").getMaybeMePnUser())==null?void 0:b.user;switch(a){case 101:return b==null?l():h._(/*BTDS*/"You're temporarily banned from WhatsApp because you sent too many messages to people who don't have {phone} in their address books.",[h._param("phone",b)]);case 102:return h._(/*BTDS*/"You're temporarily banned from WhatsApp because too many people blocked you.");case 103:return b==null?l():h._(/*BTDS*/"You're temporarily banned from WhatsApp because you created too many groups with people who don't have {phone} in their address books.",[h._param("phone",b)]);case 104:return h._(/*BTDS*/"You're temporarily banned from WhatsApp because you sent the same message to too many people.");case 106:return h._(/*BTDS*/"You're temporarily banned from WhatsApp because you sent too many messages to a broadcast list.");default:return l()}}g["default"]=a}),226);
__d("toSentenceCase",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return"";a=a.split(" ");var b=""+a[0].charAt(0).toUpperCase()+a[0].substring(1).toLowerCase();return a.length===1?b:b.concat(" ",a.slice(1).map(function(a){return a.toLowerCase()}).join(" "))}f["default"]=a}),66);
__d("WAWebCreateBugnubTaskUrl",["WAWebBuildConstants","WAWebConnModel","WAWebEnvironment","WAWebLid1X1MigrationGating","WAWebMobilePlatforms","WAWebUA","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","cr:9565","toSentenceCase"],(function(a,b,c,d,e,f,g){f=(e=b("cr:9565"))!=null?e:{};var h=f.getWindowsBuildType;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=d("WAWebUserPrefsMeUser").getMaybeMePnUser())==null?void 0:b.user;var e="Web";c("WAWebEnvironment").isWindows&&(e="Windows Hybrid");var f;h&&(f=c("toSentenceCase")(h()));var g=(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb());e={first_question:"New Devices (CEP)",newdevices:e,version:""+d("WAWebBuildConstants").VERSION_STR+(g?" (joined beta)":""),wabuildtype:f,bug:j("",a),logs:"I understand and give consent",number:b!=null?b:""};g=encodeURIComponent(JSON.stringify(e));return"https://www.internalfb.com/butterfly/form/777724432837431?default_responses="+g});return i.apply(this,arguments)}function j(a,b){var e;e=(e=d("WAWebUserPrefsMeUser").getMaybeMePnUser())==null?void 0:e.user;var f=null;switch(d("WAWebConnModel").Conn.platform){case d("WAWebMobilePlatforms").PLATFORMS.ANDROID:f="Android";break;case d("WAWebMobilePlatforms").PLATFORMS.IPHONE:f="iPhone";break;case d("WAWebMobilePlatforms").PLATFORMS.SMBA:f="SMB - Android";break;case d("WAWebMobilePlatforms").PLATFORMS.SMBI:f="SMB - iPhone";break;default:f="Choose an option"}var g="";if(c("WAWebEnvironment").isWeb)switch(d("WAWebUA").UA.browser){case d("WAWebUA").BROWSER_TYPE.CHROME:g="Chrome";break;case d("WAWebUA").BROWSER_TYPE.SAFARI:g="Safari";break;case d("WAWebUA").BROWSER_TYPE.FIREFOX:g="Firefox";break;case d("WAWebUA").BROWSER_TYPE.EDGE:g="Microsoft Edge";break;case d("WAWebUA").BROWSER_TYPE.OPERA:g="Opera"}var i=d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated();a=["Description: "+a+"\n","Link to crash logs",e!=null?"https://www.internalfb.com/intern/bunny/?q=waflb+"+e:"https://www.internalfb.com/whatsapp/reliability/lookup_logs?search_query","time of log: "+new Date().toString()+"\n","Primary Platform: "+f];g!==""&&a.push("Browser: "+g);b!=null&&a.push("Error string:",""+b);h&&(a.push("Windows Hybrid native version: "+d("WAWebBuildConstants").VERSION_STR),a.push("Windows Hybrid native build type: "+h()));a.push("\nIs LID Migrated: "+(i?"Yes":"No"));return a.join("\n")}g.createBugnubTaskUrl=a;g.enrichBugReportDescription=j}),98);
__d("WAWebOpenBugReportForm",["WAWebCrashlog","WAWebCreateBugnubTaskUrl","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebCrashlog").upload({reason:"Manual task creation",immediate:!0,isHighPri:!0}),window.open(yield d("WAWebCreateBugnubTaskUrl").createBugnubTaskUrl(a))});return h.apply(this,arguments)}g.openBugReportForm=a}),98);
__d("WAWebToastManagerImpl",["WAHash","WAWebCmd","WAWebCopyToClipboard","WAWebL10N","WAWebOpenBugReportForm","WAWebSetRefCache","WAWebToast.react","WAWebToastManager","WAWebVelocityTransitionGroup","asyncToGeneratorRuntime","lodash","react","stylex","uniqueID","useLazyRef","useWAWebListener","useWAWebOnUnmount","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.cloneElement,m=e.useEffect,n=e.useRef,o=e.useState,p={slide0:{transform:"xnn1q72",$$css:!0},slide1:{transform:"xvav9fi",$$css:!0},slide2:{transform:"x8r675y",$$css:!0},slide3:{opacity:"xg01cxk",transform:"x1o6clbr",$$css:!0},wrapper:{opacity:"x1hc1fzr",bottom:"x1ey2m1c",lineHeight:"xzl6hoh",marginTop:"x98l61r",marginInlineEnd:"xviac27",marginBottom:"x1ua1l7f",marginInlineStart:"xlese2p",minHeight:"xjwf9q1",position:"x10l6tqk",zIndex:"xc9l9hb",transition:"x1alf9jy",$$css:!0},center:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x1lziwak",marginInlineEnd:"x14z9mp",maxWidth:"x65f84u",$$css:!0},transformLeft:{transform:"xuuh30",$$css:!0},transformRight:{transform:"xitnhlw",$$css:!0},right:{insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0}},q=3,r=5*1e3;function a(){var a=c("useLazyRef")(function(){return new Map()}),e=function(b,c){c?a.current.set(b,c):a.current["delete"](b)},f=c("useLazyRef")(function(){return new(c("WAWebSetRefCache"))(e)}),g=n(!1),h=o({}),j=h[0],s=h[1],t=c("useWAWebPrevious")(j),w=function(b,c){var d,e=(d=b.props.id)!=null?d:v();d=a.current.get(e);d?d.restartDelay==null||d.restartDelay():s(function(a){return babelHelpers["extends"]({},a,(a={},a[e]={toast:b,position:c,id:e},a))})};h=function(a){j[a]&&s(function(b){return c("lodash").omit(b,a)})};d("useWAWebListener").useListener(d("WAWebToastManager").ToastManager,"open_toast",w);d("useWAWebListener").useListener(d("WAWebToastManager").ToastManager,"close_toast",h);h=null;var x=c("useLazyRef")(function(){return new Map()});c("useWAWebOnUnmount")(function(){x.current.forEach(function(a){return self.clearTimeout(a)})});d("useWAWebListener").useListener(h,"window_error",function(a){var e=a.replace("[ErrorPubSub] ",""),f=c("WAHash")(e);if(x.current.has(f))return;a=self.setTimeout(function(){x.current["delete"](f)},r);x.current.set(f,a);w(k.jsx(d("WAWebToast.react").Toast,{msg:u(e),action:[{actionText:"Copy",onAction:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(e)}},{actionText:"Report",onAction:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebOpenBugReportForm").openBugReportForm(e)});function c(){return a.apply(this,arguments)}return c}()}]}))});m(function(){g.current=Object.keys(t!=null?t:{}).length>Object.keys(j).length},[j,t]);var y=g.current;h=c("lodash").sortBy(j,["toast","id"]).reverse().map(function(a,b){var e=a.toast,g=a.position;a=a.id;return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(p.wrapper,g===d("WAWebToastManager").ToastPosition.CENTER&&p.center,g===d("WAWebToastManager").ToastPosition.RIGHT&&p.right,b===0&&y&&p.slide0,b===1&&p.slide1,b===2&&p.slide2,b>=q&&p.slide3),{children:k.jsx("div",babelHelpers["extends"]({},i.props(g===d("WAWebToastManager").ToastPosition.CENTER&&(c("WAWebL10N").isRTL()?p.transformRight:p.transformLeft)),{children:l(e,{ref:f.current.getRefSetter(a),id:a})}))}),a)});return k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade_sifo",children:h})}a.displayName=a.name+" [from "+f.id+"]";var s="\ud83d\uded1",t=200;function u(a){a=a.length>t?a.slice(0,t)+"...":a;return s+" "+a}function v(a){return c("uniqueID")(a||"toast")}g.ToastManagerComponent=a}),98);
__d("WAWebTos.react",["fbt","WAWebConfirmPopup.react","WAWebLogoutReasonConstants","WAWebSocketModel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.UserInitiated)};function a(a){var b=a.children;a=a.description;return j.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,cancelText:h._(/*BTDS*/"Log out"),onCancel:k,okText:h._(/*BTDS*/"Log in"),children:[a,"\xa0",b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamEnumAppLaunchDestinationType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHATLIST:1,CHAT:2,SHARE:3,CALL:4,CHANNEL:5});f.APP_LAUNCH_DESTINATION_TYPE=a}),66);
__d("WAWebWamEnumAppLaunchType",[],(function(a,b,c,d,e,f){a=Object.freeze({COLD:1,WARM:2,LUKEWARM:3});f.APP_LAUNCH_TYPE=a}),66);
__d("WAWebAppLaunchWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAppLaunchDestinationType","WAWebWamEnumAppLaunchType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({AppLaunch:[1094,{appContext:[22,a.TYPES.STRING],appContextBitfield:[23,a.TYPES.INTEGER],appLaunchCpuT:[2,a.TYPES.TIMER],appLaunchDestination:[7,d("WAWebWamEnumAppLaunchDestinationType").APP_LAUNCH_DESTINATION_TYPE],appLaunchMainPreT:[3,a.TYPES.TIMER],appLaunchMainRunT:[4,a.TYPES.TIMER],appLaunchT:[1,a.TYPES.TIMER],appLaunchTypeT:[5,d("WAWebWamEnumAppLaunchType").APP_LAUNCH_TYPE],dbBgThreadReadsDurationT:[17,a.TYPES.TIMER],dbBgThreadWritesDurationT:[18,a.TYPES.TIMER],dbMainThreadCount:[10,a.TYPES.INTEGER],dbMainThreadReadsDurationT:[19,a.TYPES.TIMER],dbMainThreadWritesDurationT:[20,a.TYPES.TIMER],dbReadsCount:[8,a.TYPES.INTEGER],dbWritesCount:[9,a.TYPES.INTEGER],lowPowerModeEnabled:[12,a.TYPES.BOOLEAN],peripheralConnected:[16,a.TYPES.STRING],processIdentifier:[15,a.TYPES.INTEGER]},[1,1,1],"regular"]},{AppLaunch:[]});g.AppLaunchWamEvent=b}),98);
__d("WAWebWamBaseAppLaunchReporter",["WALogger"],(function(a,b,c,d,e,f,g){var h;a=function(a,b){var c=this;this.$1=!1;this.initializeAppLaunchWamEvent=function(a){c.$1||(c.$1=!0,a&&(c.$2=c.$3()))};this.commitAppLaunchWamEvent=function(){try{if(c.$2!=null){var a=c.$2;c.$4(a)}}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["commitAppLaunchWamEvent: failed: ",""])),a)}finally{c.$2=null}};this.$3=a;this.$4=b};g.BaseAppLaunchReporter=a}),98);
__d("WAWebWamAppLaunchReporter",["WALogger","WAWebAppLaunchWamEvent","WAWebAppTracker","WAWebEnvironment","WAWebWamBaseAppLaunchReporter","WAWebWamEnumAppLaunchType","cr:9467"],(function(a,b,c,d,e,f,g){var h;b=(b=b("cr:9467"))!=null?b:{};var i=b.WAWebWindowsWamAppLaunchReporter,j=new(d("WAWebWamBaseAppLaunchReporter").BaseAppLaunchReporter)(a,e),k=!1;function a(){window.document&&(k=!document.hidden,document.addEventListener("visibilitychange",l));return new(d("WAWebAppLaunchWamEvent").AppLaunchWamEvent)()}function e(a){if(!k){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["commitEvent: skip app launch reporting as page fully loaded before document became visible"])));return}var b=Math.ceil(self.performance.now());a.appLaunchTypeT=d("WAWebWamEnumAppLaunchType").APP_LAUNCH_TYPE.COLD;a.appLaunchT=b;d("WAWebAppTracker").attachWAMAppContext(a,b);a.commit();window.document&&document.removeEventListener("visibilitychange",l)}function l(){document.hidden||(k=!0,document.removeEventListener("visibilitychange",l))}function f(){return c("WAWebEnvironment").isWindows?i:j}g.getAppLaunchReporter=f}),98);
__d("WAWebApp.react",["fbt","invariant","BaseContextualLayerAnchorRoot.react","Promise","WAComms","WALogger","WAMediaWasmWorkerClient","WAMemoizeOne","WANullthrows","WAPromiseTimeout","WAShiftTimer","WAWeb-moment","WAWebABProps","WAWebAccountLinkingAPI","WAWebAlarm","WAWebApi","WAWebApiParse","WAWebApp.scss","WAWebAppMutex","WAWebAppScreen","WAWebAssetLoader","WAWebAssetLoaderSingleton","WAWebBizGatingUtils","WAWebBrokerGlobalAppState","WAWebChatPreferenceCollection","WAWebClassnames","WAWebClientExpiredDialog.react","WAWebClock","WAWebCmd","WAWebConflict.react","WAWebConnModel","WAWebContextMenuManager.react","WAWebCrashlog","WAWebDeepLinkClickWamEvent","WAWebDeprecated.react","WAWebEmojiAssetLoaderCompletionTracker","WAWebEnvironment","WAWebErrorBoundary.react","WAWebErrorBoundaryPopup.react","WAWebEventsWaitForEvent","WAWebExternalLink.react","WAWebFavicon.react","WAWebFbtCommon","WAWebKeyboardContext","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebLaunchSocket","WAWebLinkDeviceScreen.react","WAWebLinkDeviceUpdateWhatsappToast.react","WAWebListenerHoc_DEPRECATED","WAWebLockScreen.react","WAWebLoggerImpl","WAWebLogoutLoadingScreen.react","WAWebLogoutReasonConstants","WAWebModalManager","WAWebModalManagerImplWrapper.react","WAWebMsgCollection","WAWebNativeCameraQRLinkedDeviceUtils","WAWebNoop","WAWebOffline.react","WAWebPopover.react","WAWebProxied.react","WAWebPwaEventListeners","WAWebPwaManifest","WAWebRobotoVariableFontLoadable","WAWebSWBusInit","WAWebSafariTakeover","WAWebServiceUnavailable.react","WAWebSmbLearnMore.react","WAWebSocketModel","WAWebStartup.react","WAWebStorageCmd","WAWebStorageQuotaExceededPopup.react","WAWebStreamModel","WAWebStylesEnv","WAWebSystemTheme","WAWebTempBanScreen.react","WAWebThemeContext","WAWebToastManagerImpl","WAWebTos.react","WAWebUA","WAWebUIRefreshGatingUtils","WAWebURLUtils","WAWebUim","WAWebUimUie.react","WAWebUnexpectedFatalErrorModal.react","WAWebUpdater","WAWebUpdaterUpdatePoll","WAWebUserPrefsGeneral","WAWebUserPrefsInfoStore","WAWebUserPrefsKeys","WAWebUserPrefsScreenLock","WAWebUserPrefsStore","WAWebWAWCStorage","WAWebWallpaper","WAWebWamAppLaunchReporter","WAWebWamFingerprintReporter","WAWebWamOfflineResumeReporter","WAWebWamPageLoadReporter","WDSThemes","asyncToGeneratorRuntime","cr:169","cr:17219","cr:19553","cr:8968","gkx","isStringNullOrEmpty","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=E||d("react"),G=D||(D=c("react")),H=F.Component,I=F.createRef,J=c("requireDeferred")("WAWebEmojiAssetLoader").__setRef("WAWebApp.react"),K=c("requireDeferred")("WAWebEmojiAssetLoaderConfig").__setRef("WAWebApp.react"),L=c("requireDeferred")("WAWebMainWrapper").__setRef("WAWebApp.react");F=(F=b("cr:17219"))!=null?F:{};var M=F.getWindowsBridge;F=(F=b("cr:19553"))!=null?F:{};var N=F.getWindowsMessagePassingBridge,O=(F=b("cr:8968"))==null?void 0:F.WAWebAppRootInteractionContextProvider;b("WAWebSWBusInit");var P=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.MutexBlockStrategy)===1,Q;function a(){return Q!=null&&Q.hasPendingActions()}function R(a){var b=a.cmdAndData,c=a.isExternal;a=a.sessionId;var e=b.resultType,f=b.data;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["main:execApiCmd:",", external=",""])),e,c).devConsole(f);Q!=null||i(0,56382);if(e==="ADVERTISE"||e==="MANAGE_ADS"||e==="OPEN_CATALOG")return!1;e;return Q.execApiCmd({cmdData:b,isExternal:c,sessionId:a})}function S(a){a=a;while(a){var b;b=a instanceof HTMLElement&&((b=a.dataset)==null?void 0:b.nohandle);if(b)return!1;a=a.parentElement}return!0}function T(){d("WAWebCmd").Cmd.logSocketSummary();d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Focus at time of upload:"])));try{d("WAWebUim").UIM.pprint(!0)}catch(a){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["UIM Print Failed!"]))).devConsole(a)}return{platform:d("WAWebConnModel").Conn.platform,ref:d("WAWebConnModel").Conn.ref}}F=function(a){function e(){var b;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=a.call.apply(a,[this].concat(f))||this,b.contextMenuRef=I(),b.animate=!0,b.state={mode:d("WAWebStreamModel").Stream.mode,updating:d("WAWebStreamModel").Stream.clientExpired,hardExpired:d("WAWebStreamModel").Stream.hardExpired,anotherSession:!1,takingOver:!1,isUnsupportedTakeover:!1,apiCmd:void 0,locale:c("WAWebL10N").getLocale(),mainLoaded:!1,theme:d("WAWebThemeContext").getTheme(),systemThemeMode:d("WAWebUserPrefsGeneral").getSystemThemeMode(),isKeyboardUser:!1,initialLoadReady:!1,startLogout:!1,stayInSync:!d("WAWebSocketModel").Socket.hasSynced,screenLocked:!1},b.$9=function(a){b.state.isKeyboardUser!==a&&b.setState({isKeyboardUser:a})},b.$14={up:function(){return b.$9(!0)},down:function(){return b.$9(!0)},left:function(){return b.$9(!0)},right:function(){return b.$9(!0)},home:function(){return b.$9(!0)},end:function(){return b.$9(!0)},"command+up":function(){return b.$9(!0)},"command+down":function(){return b.$9(!0)},pageUp:function(){return b.$9(!0)},pageDown:function(){return b.$9(!0)},tab:function(){return b.$9(!0)},"shift+tab":function(){return b.$9(!0)},"shift+?":function(){return b.$9(!0)}},b.$15=new(d("WAShiftTimer").ShiftTimer)(function(a){a!==b.state.mode&&b.setState({mode:a})}),b.$4=function(){var a,c=d("WAWebStreamModel").Stream.mode;(a=d("WAWebWamAppLaunchReporter").getAppLaunchReporter())==null||a.initializeAppLaunchWamEvent(b.state.mode===d("WAWebStreamModel").StreamMode.SYNCING);if(b.state.mode===d("WAWebStreamModel").StreamMode.MAIN){b.$15.forceRunNow(c);return}b.$15.onOrBefore(0,c)},b.$2=function(){b.state.updating!==d("WAWebStreamModel").Stream.clientExpired&&b.setState({updating:d("WAWebStreamModel").Stream.clientExpired})},b.$3=function(){b.setState({hardExpired:d("WAWebStreamModel").Stream.hardExpired})},b.$18=function(a){a.detail!==0&&b.$9(!1),d("WAWebCmd").Cmd.windowMouseDown(a)},b.$19=function(a){d("WAWebCmd").Cmd.windowClick(a)},b.$8=function(a){var e=a.target;if(!e)return;if(e.nodeName!=="A")return;var f=e.getAttribute("href");if(c("isStringNullOrEmpty")(f))return;if(!S(e))return;e=d("WAWebApiParse").parseAPICmd(f);if(e.resultType==="INVALID"||e.resultType==="ADVERTISE"||e.resultType==="MANAGE_ADS"||e.resultType==="PAYMENT_LINK"||e.resultType==="OPEN_CATALOG")return;e.resultType;f=b.$17();b.$16()&&R({cmdAndData:e,isExternal:!1,sessionId:f})&&(b.$20(e,f),a.preventDefault())},b.$20=function(a,b){if(a.resultType===d("WAWebApi").APICmd.GROUP_INVITE)new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!1,deepLinkHasText:!0}).commit();else if(a.resultType===d("WAWebApi").APICmd.MSG_SEND){var c=a.data.phone,e=a.data.text;new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!!c,deepLinkHasText:!!e,deepLinkSessionId:b}).commit()}else a.resultType===d("WAWebApi").APICmd.CATALOG?new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!0,deepLinkHasText:!1}).commit():a.resultType===d("WAWebApi").APICmd.PRODUCT&&new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!0,deepLinkHasText:!1}).commit()},b.$13=function(a){if(b.state.theme===a)return;var e=b.$1(a);for(e of d("WAWebThemeContext").THEME_ASSETS[e])void d("WAWebAssetLoaderSingleton").AssetLoader.loadAsset(e,d("WAWebAssetLoader").LOAD_PRIORITY.THEME_ASSET_LOAD,!1);e=c("WAWebChatPreferenceCollection").get("defaultPreference");if(e&&d("WAWebWallpaper").DEFAULT_CHAT_WALLPAPER!==e.wallpaper){var f=d("WAWebWallpaper").toggleWallpaperColor(e.wallpaper,b.state.theme);e.set("wallpaper",f)}d("WAWebThemeContext").setTheme(a);b.setState({theme:a})},b.$1=function(a){if(d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()){if(a==="light")return d("WAWebConnModel").Conn.isSMB?"smbLight":"lightRefreshed";if(a==="dark")return d("WAWebConnModel").Conn.isSMB?"smbDark":"darkRefreshed"}return a},b.$21=function(a){d("WAWebUserPrefsGeneral").setSystemThemeMode(a),b.setState({systemThemeMode:a})},b.$22=function(){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[md takeover] refreshing page on takeover"]))),window.location.reload()},b.$23=function(){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["DebouncedLoadingScreen: Ready for main screen"]))),b.setState({stayInSync:!1})},b.$24=function(){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[unsupported takeover] refreshing page with unsupported takeover"]))),window.location.reload()},b.$26=c("WAMemoizeOne")(function(a){var c=a.theme;a=a.systemThemeMode;return{theme:c,setTheme:b.$13,systemThemeMode:a,setSystemThemeMode:b.$21}}),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.componentDidMount=function(){var a=this;d("WAWebCrashlog").registerCrashlogUploadInformationalLoggingFunction(T);d("WAWebPwaEventListeners").registerPwaDisplayModeListener();d("WAWebPwaEventListeners").registerPwaInstallListener();d("WAWebPwaManifest").updatePwaManifestOnMacOS();try{N==null||N()}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to register native bridge handlers: ",""])),a)}c("gkx")("26258")||d("WAWebLoggerImpl").Logger.registerErrorNotificationListener(function(a){d("WAWebCmd").Cmd.windowError(a)});c("WAWebAppMutex").setShouldLaunchSocket(!P);P&&void d("WAWebLaunchSocket").launchSocket(c("WAWebAppMutex").waitForCompletion());var e=this.state.theme;d("WAWebThemeContext").applyThemeToUI(e);X().then(function(b){d("WAWebAssetLoaderSingleton").AssetLoader.setPlatform(b);b=a.$1(e);d("WAWebAssetLoaderSingleton").AssetLoader.loadInitialAssets(d("WAWebThemeContext").THEME_ASSETS[b])});V().then(function(){d("WAWebCmd").Cmd.mainLoaded(),a.setState({mainLoaded:!0})}).then(function(){return(C||(C=b("Promise"))).all([J.load(),K.load(),X()])}).then(function(a){var b=a[0],c=a[1];a=a[2];d("WAWebAssetLoaderSingleton").AssetLoader.setPlatform(a);d("WAWebAssetLoaderSingleton").AssetLoader.initEmojiAsset(b.emojiAssetMapCreator(c()));d("WAWebEmojiAssetLoaderCompletionTracker").emojiCompletionTracker.beginPreloadFallback()});var f=this.props.listeners;f.add(d("WAWebCmd").Cmd,"initial_load_ready",function(){a.setState({initialLoadReady:!0}),d("WAWebWamFingerprintReporter").logFingerprintToWam()});f.add(d("WAWebStorageCmd").StorageCmd,"storage_not_enough_space",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield d("WAWebModalManager").ModalManager.existsAsync())return;d("WAWebModalManager").ModalManager.open(G.jsx(c("WAWebStorageQuotaExceededPopup.react"),{}),{blockClose:!0})}));f.add(d("WAWebCmd").Cmd,"account_temporarily_banned",function(b){a.setState({temporaryBan:b})});f.add(d("WAWebCmd").Cmd,"offline_delivery_end",function(){d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("mp4RepairMux"),void d("WAWebAccountLinkingAPI").checkAndTriggerUOOMMutation()});f.add(d("WAWebCmd").Cmd,"service_unavailable_503",function(){a.setState({serviceUnavailable:!0})});f.add(d("WAWebCmd").Cmd,"starting_logout",function(){a.setState({startLogout:!0})});f.add(d("WAWebCmd").Cmd,"unexpected_logout_modal",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(yield d("WAWebModalManager").ModalManager.existsAsync())return;if(a==null||![d("WAWebLogoutReasonConstants").LogoutReason.SyncdFailure,d("WAWebLogoutReasonConstants").LogoutReason.SyncdErrorDuringBootstrap,d("WAWebLogoutReasonConstants").LogoutReason.SyncdTimeout,d("WAWebLogoutReasonConstants").LogoutReason.HistorySyncTimeout,d("WAWebLogoutReasonConstants").LogoutReason.InvalidAdvStatus,d("WAWebLogoutReasonConstants").LogoutReason.AccountSyncError].includes(a)){d("WAWebSocketModel").Socket.logout(a);return}d("WAWebModalManager").ModalManager.open(G.jsx(c("WAWebUnexpectedFatalErrorModal.react"),{reason:a,children:"Unexpected Logout detected. Please submit a bug report."}),{blockClose:!0})});return function(b){return a.apply(this,arguments)}}());d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineStartT();f.add(window,"beforeunload",function(){d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab!=null&&d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab()||c("WAWebAppMutex").unloadMutex()});f.add(window,"unload",function(){d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab!=null&&d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab()||c("WAWebAppMutex").unloadMutex()});f.add(window,"storage",function(b){b=c("WAWebAppMutex").storagePong(b);b&&(d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[md takeover] tab taken over. stopping comms"]))),d("WAComms").closeSocketAndPreventRetry(),d("WAWebLoggerImpl").Logger.onTakeOver(),a.setState({takingOver:!1,anotherSession:!0}))});f.add(d("WAWebStreamModel").Stream,"change:clientExpired",this.$2);f.add(d("WAWebStreamModel").Stream,"change:hardExpired",this.$3);f.add(d("WAWebStreamModel").Stream,"change:mode",this.$4);f.add(d("WAWebCmd").Cmd,"open_lock_screen_modal",function(){a.setState({screenLocked:!0})});f.add(d("WAWebCmd").Cmd,"correct_passcode_lock_screen",function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("WAWebMsgCollection").MsgCollection.decryptAndSetModels(b),a.setState({screenLocked:!1,stayInSync:!1})});return function(a){return c.apply(this,arguments)}}());d("WAWebUserPrefsScreenLock").getScreenLockEnabled()&&d("WAWebUserPrefsInfoStore").waNoiseInfo.cachedPasscodeDerivedKey==null&&this.setState({screenLocked:!0});if(c("WAWebURLUtils").canMuckHistory()){var g=d("WAWebApiParse").parseAPICmd(window.location.href);if(g.resultType!==d("WAWebApi").APICmd.INVALID&&g.resultType!=="ADVERTISE"&&g.resultType!=="MANAGE_ADS"&&g.resultType!=="MESSAGE_YOURSELF"&&g.resultType!=="META_VERIFIED"&&g.resultType!=="BRAZIL_PAYMENTS"&&g.resultType!=="EDIT_PROFILE_PICTURE"&&g.resultType!=="STATUS_POST"&&g.resultType!=="PAYMENT_LINK"&&g.resultType!=="OPEN_CATALOG"&&g.resultType!=="CATALOG_LINKING_CHAT_PSA"&&g.resultType!=="CTWA_ADS_DATA_SHARING"){var h,i=g.data.url;((h=g.data)==null?void 0:h.url)!=null&&delete g.data.url;this.$5(g);window.history.replaceState({},"",i!=null?i:"/")}}f.add(c("WAWebL10N"),"locale_change",function(){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[app] componentDidMount:rerenderUI locale change"]))),d("WAWebClock").Clock.initIs24HourBasedOnLocale(),a.animate=!1,a.setState({locale:c("WAWebL10N").getLocale()+"#"+c("WAWeb-moment").locale()})});this.$6();d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[app] componentDidMount:visibilityState: ",""])),document.visibilityState);document.prerendering===!0?(d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[app]  prerendering: waiting for page to activate"]))),c("WAWebEventsWaitForEvent")(document,"prerenderingchange")["catch"](function(){d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[app]  prerendering: error while listening for prerenderingchange"])))})["finally"](function(){d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[app]  prerendering: page is active"]))),void a.$7(0)})):document.visibilityState!=="visible"?d("WAPromiseTimeout").promiseTimeout(c("WAWebEventsWaitForEvent")(document,"visibilitychange"),5e3).then(function(){return a.$7(0)})["catch"](function(){return a.$7(0)}):this.$7(0);this.props.listeners.add(window,"click",this.$8,{capture:!0});this.props.listeners.add(window,"blur",function(){a.$9(!1)});d("WAWebUpdaterUpdatePoll").updatePoll.poll(d("WAWebUpdaterUpdatePoll").checkForUpdates);this.$10();this.$11();this.$12();document.createElement=function(a){return function(b,c){c===void 0&&(c={});if(b.toLowerCase()==="iframe"){d("WALogger").WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["Modified a created iframe element to include sandbox attributes for security fix."])));var e=a(b,c);e.sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-downloads";d("WAWebUA").UA.hasCredentiallessIframeSupport&&(d("WALogger").WARN(x||(x=babelHelpers.taggedTemplateLiteralLoose(["Modified a created iframe to include credentialless attribute"]))),e.credentialless=!0);return e}return a(b,c)}}(document.createElement.bind(document));this.props.listeners.add(c("WAWebSystemTheme"),"system_theme_change",function(b){a.state.systemThemeMode&&a.$13(b)});h=document.getElementById("wa_web_initial_startup");h!=null&&h.parentNode&&h.parentNode.removeChild(h)};f.$11=function(){if(d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()){var a;(a=document.body)==null||a.classList.add("color-refresh");if(d("WAWebConnModel").Conn.isSMB){(a=document.body)==null||a.classList.add("smb-colors")}}};f.$12=function(){if(d("WAWebABProps").getABPropConfigValue("wds_web_roboto_flex_font")&&c("WAWebEnvironment").isWindows===!1){var a;void d("WAWebRobotoVariableFontLoadable").requireRobotoVariableFont();(a=document.body)==null||a.classList.add("roboto-font")}else{(a=document.body)==null||a.classList.remove("roboto-font")}};f.componentDidUpdate=function(a,b){b.anotherSession===!0&&this.state.anotherSession===!1?c("WAWebWAWCStorage").openDB()["catch"](function(a){d("WALogger").WARN(y||(y=babelHelpers.taggedTemplateLiteralLoose(["Failed to open indexeddb: ",""])),a)}):b.anotherSession===!1&&this.state.anotherSession===!0&&c("WAWebWAWCStorage").idb().then(function(a){c("WAWebBrokerGlobalAppState").takeOver=!0,a.close(),d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[storage] closed due to take over"])))})["catch"](c("WAWebNoop")),this.$5(this.state.apiCmd),this.state.mode!==d("WAWebStreamModel").StreamMode.MAIN&&(this.animate=!0),this.$10()};f.componentWillUnmount=function(){this.$15.cancel()};f.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=this;b===void 0&&(b=!1);if(d("WAWebUA").UA.isLocalStorageBroken){var f=(yield d("WAWebSafariTakeover").isAnotherTabActive());if(f){d("WAWebLoggerImpl").Logger.onTakeOver();this.setState({isUnsupportedTakeover:!0});try{d("WAComms").stopComms()}catch(a){}return}}d("WAWebSafariTakeover").setTabActive();b&&d("WAWebUpdater").Updater.shouldForceUpdateOnTakeOver()&&d("WAWebUpdater").Updater.restart();f=b?c("WAWebAppMutex").takeoverLocal(a):c("WAWebAppMutex").init(a);b=(yield f["catch"](function(a){e.setState({takingOver:!0});return e.$7(a,!0)}))===!0;d("WAWebLoggerImpl").Logger.isTakeOver=b;this.setState({takingOver:!1,anotherSession:b})});function e(b,c){return a.apply(this,arguments)}return e}();f.$5=function(a){if(!a)return;if(a.resultType==="ADVERTISE"||a.resultType==="MANAGE_ADS"||a.resultType==="OPEN_CATALOG")return;a.resultType;if(this.$16()){var b=this.$17();R({cmdAndData:a,isExternal:!0,sessionId:b});this.state.apiCmd!=null&&this.setState({apiCmd:null});return}a!==this.state.apiCmd&&this.setState({apiCmd:a})};f.$16=function(){return Q!=null&&d("WAWebAppScreen").getScreen(this.state)===d("WAWebAppScreen").AppScreen.MAIN};f.$10=function(){this.state.mode!==d("WAWebStreamModel").StreamMode.SYNCING&&d("WAWebWamPageLoadReporter").logFirstRenderMountTimeOnce()};f.$6=function(){var a=this;c("WAWebAlarm").setLocalTimeout(function(){d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[app] registerYesterdayTimer:rerenderUI relative timestamps"]))),d("WALogger").LOG(B||(B=babelHelpers.taggedTemplateLiteralLoose(["Local Clock: ",", Skew: ",""])),Date.now(),d("WAWebClock").Clock.getSkew()),d("WAWebCmd").Cmd.midnight(),a.$6()},c("WAWeb-moment")().endOf("day").valueOf())};f.$25=function(){var a=this,e=d("WAWebAppScreen").getScreen(this.state);switch(e){case d("WAWebAppScreen").AppScreen.CLIENT_EXPIRED_DIALOG:return{ui:G.jsx(d("WAWebFavicon.react").DefaultFavicon,{children:G.jsx(c("WAWebClientExpiredDialog.react"),{})}),requiresBackendCheck:!1};case d("WAWebAppScreen").AppScreen.ANOTHER_SESSION:var f;this.state.takingOver?(e=c("WAWebNoop"),f=h._(/*BTDS*/"Connecting\u2026")):(e=function(){a.$22()},f=h._(/*BTDS*/"Use here"));return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebConflict.react"),{cancelText:c("WAWebFbtCommon")("Close"),onCancel:window.open.bind(window,"https://www.whatsapp.com/","_self"),okText:f,onOK:e,children:h._(/*BTDS*/"WhatsApp is open in another window. Click \"Use here\" to use WhatsApp in this window.")})}),requiresBackendCheck:!1};case d("WAWebAppScreen").AppScreen.UNSUPPORTED_TAKEOVER:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebConflict.react"),{okText:h._(/*BTDS*/"Refresh"),onOK:this.$24,children:h._(/*BTDS*/"There is already another active WhatsApp Web tab in this browser. WhatsApp Web does not support multiple active tabs in this browser. Please use the existing tab or close it and refresh this tab.")})}),requiresBackendCheck:!1};case d("WAWebAppScreen").AppScreen.SERVICE_UNAVAILABLE:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebServiceUnavailable.react"),{})}),requiresBackendCheck:!1};case d("WAWebAppScreen").AppScreen.TEMP_BAN:return{ui:G.jsx(c("WAWebTempBanScreen.react"),{banData:this.state.temporaryBan}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.QR:return{ui:G.jsxs(d("WAWebFavicon.react").DefaultFavicon,{children:[d("WAWebNativeCameraQRLinkedDeviceUtils").isNativeCameraQRLinkedDeviceTest()&&G.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"root-toast-manager",children:G.jsx(d("WAWebToastManagerImpl").ToastManagerComponent,{})},"toast-manager"),G.jsx(d("WAWebModalManagerImplWrapper.react").ModalManagerImplWrapper,{type:d("WAWebModalManagerImplWrapper.react").ModalType,errorBoundaryName:"qr-screen-modal-manager"},"modal-manager"),b("cr:169")?G.jsx(b("cr:169"),{apiCmd:this.state.apiCmd}):G.jsx(c("WAWebLinkDeviceScreen.react"),{apiCmd:this.state.apiCmd},"qr-code"),d("WAWebNativeCameraQRLinkedDeviceUtils").isNativeCameraQRLinkedDeviceTest()&&G.jsx(d("WAWebLinkDeviceUpdateWhatsappToast.react").WAWebLinkDeviceUpdateWhatsappToast,{})]}),extraClasses:c("WAWebApp.scss").isQR,requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.STARTUP:case d("WAWebAppScreen").AppScreen.SYNCING:f=G.jsx(c("WAWebStartup.react"),{initialLoadReady:this.state.initialLoadReady,onReady:this.$23});c("gkx")("26258")||(f=[G.jsx(d("WAWebModalManagerImplWrapper.react").ModalManagerImplWrapper,{type:d("WAWebModalManagerImplWrapper.react").ModalType,errorBoundaryName:"app-syncing-modal-manager"},"modal-manager"),G.jsx(c("WAWebStartup.react"),{initialLoadReady:this.state.initialLoadReady,onReady:this.$23},"start-up")]);return{ui:G.jsx(d("WAWebFavicon.react").DefaultFavicon,{children:f}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.OFFLINE:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebOffline.react"),{})}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.PROXYBLOCK:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebProxied.react"),{})}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.CONFLICT:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebConflict.react"),{cancelText:h._(/*BTDS*/"Log out"),onCancel:function(){return d("WAWebSocketModel").Socket.logout()},okText:h._(/*BTDS*/"Use here"),onOK:function(){return d("WAWebSocketModel").Socket.takeover()},children:h._(/*BTDS*/"WhatsApp is open on another computer or browser. Click \"Use here\" to use WhatsApp in this window.")})}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.TOS_BLOCK:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebTos.react"),{description:h._(/*BTDS*/"WhatsApp is updating our Terms and Privacy Policy to reflect new features and comply with the new European Union data protection laws. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have. If you have accepted the Terms and Privacy Policy, click \"Log in\" to continue using WhatsApp.")})}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.SMB_TOS_BLOCK:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebTos.react"),{description:h._(/*BTDS*/"We are updating our WhatsApp Business Terms of Service. Agree to our new Terms on your phone to continue using WhatsApp Business. If you have accepted the Terms of Service, click Log in to continue using WhatsApp Business."),children:G.jsx(c("WAWebSmbLearnMore.react"),{})})}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.DEPRECATED_VERSION:return{ui:G.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:G.jsx(c("WAWebDeprecated.react"),{})}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.LOGOUT:return{ui:G.jsxs(d("WAWebFavicon.react").DefaultFavicon,{children:[G.jsx(d("WAWebModalManagerImplWrapper.react").ModalManagerImplWrapper,{type:d("WAWebModalManagerImplWrapper.react").ModalType,errorBoundaryName:"app-logout-modal-manager"},"modal-manager"),G.jsx(c("WAWebLogoutLoadingScreen.react"),{},"logout")]}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.SCREEN_LOCK:return{ui:G.jsx(c("WAWebLockScreen.react"),{}),requiresBackendCheck:!0};case d("WAWebAppScreen").AppScreen.MAIN:e=c("WANullthrows")(Q);f=e.MainComponent;return{ui:[G.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"root-toast-manager",children:G.jsx(d("WAWebToastManagerImpl").ToastManagerComponent,{})},"toast-manager"),G.jsx((e=d("WAWebModalManagerImplWrapper.react")).ModalManagerImplWrapper,{contextMenuRef:this.contextMenuRef,type:e.ModalType,errorBoundaryName:"main-modal-manager"},"main-modal-manager"),G.jsx(e.ModalManagerImplWrapper,{contextMenuRef:this.contextMenuRef,type:e.MediaType,errorBoundaryName:"media-modal-manager"},"media-modal-manager"),G.jsx(e.ModalManagerImplWrapper,{type:e.AlertType,errorBoundaryName:"alert-modal-manager"},"alert-modal-manager"),G.jsx(e.ModalManagerImplWrapper,{contextMenuRef:this.contextMenuRef,type:e.SupportType,errorBoundaryName:"support-modal-manager"},"support-modal-manager"),G.jsx("div",{id:"expressions-panel-container"},"expressions-panel-container"),G.jsx((e=d("WAWebContextMenuManager.react")).ContextMenuManager,{ref:this.contextMenuRef,type:e.Type.MENU},"context-menu-manager"),G.jsx(e.ContextMenuManager,{type:e.Type.TOOLTIP},"tooltip-manager"),G.jsx(d("WAWebEmojiAssetLoaderCompletionTracker").InitialEmojisCompletionContext.Provider,{value:d("WAWebEmojiAssetLoaderCompletionTracker").emojiCompletionTracker,children:G.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"app-wrapper-main-component",type:"fatal",fallback:d("WAWebErrorBoundaryPopup.react").errorBoundaryPopupFallback,sendLogs:!0,children:G.jsx(f,{conn:d("WAWebConnModel").Conn,animate:this.animate})})},"main")],extraClasses:c("WAWebApp.scss").isMain,requiresBackendCheck:!0}}};f.$17=function(){var a=d("WAWebBizGatingUtils").smbClickToChatLoggingEnabled()?Math.floor(2147483648*Math.random()).toString():void 0;return a};f.render=function(){var a,b=d("WAWebAppScreen").getScreen(this.state),e=M==null||(a=M())==null?void 0:a.systemIntegrationsBridge;e!=null&&(e.updateCurrentWebAppScreen==null||e.updateCurrentWebAppScreen(b));d("WAWebWamPageLoadReporter").maybeLogInitialScreenRenderStart(b);e=this.state.isKeyboardUser;var f=this.$25(),g=f.ui,h=f.extraClasses;f=f.requiresBackendCheck;var i=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();i=d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebApp.scss").wrapper,h,{"app-wrapper-web":!0,"safari-fix":d("WAWebStylesEnv").hasSafariFix,"font-fix":d("WAWebStylesEnv").hasFontFix,"os-mac":d("WAWebStylesEnv").isOSMac,"os-win":d("WAWebStylesEnv").isOSWin,"keyboard-user":e},(h={},h[c("WAWebApp.scss").stripe]=!i,h));f&&Q!=null&&Q.notificationBackend.shutdownAsNeeded();h=b===d("WAWebAppScreen").AppScreen.STARTUP||b===d("WAWebAppScreen").AppScreen.SYNCING;f=h?"loading-screen":this.state.locale;var j;d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?this.state.systemThemeMode===!0?j=d("WAWebConnModel").Conn.isSMB?d("WDSThemes").WDSSMBSystemTheme:d("WDSThemes").WDSSystemTheme:this.state.theme==="dark"?j=d("WAWebConnModel").Conn.isSMB?d("WDSThemes").WDSSMBDarkTheme:d("WDSThemes").WDSDarkTheme:j=d("WAWebConnModel").Conn.isSMB?d("WDSThemes").WDSSMBLightTheme:d("WDSThemes").WDSLightTheme:b===d("WAWebAppScreen").AppScreen.QR&&(j=d("WDSThemes").WDSLightTheme);return G.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:G.jsx(d("WAWebThemeContext").ThemeContext.Provider,{value:this.$26({theme:this.state.theme,systemThemeMode:this.state.systemThemeMode}),children:G.jsx(c("WAWebKeyboardContext").Provider,{value:{isKeyboardUser:e,setIsKeyboardUser:this.$9},children:G.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"app-wrapper",type:"fatal",fallback:d("WAWebErrorBoundaryPopup.react").errorBoundaryPopupFallback,sendLogs:!0,children:G.jsx(d("WAWebUimUie.react").UIE,{displayName:"App",uimState:d("WAWebUim").UIMState.INACTIVE,children:G.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:this.$14,className:i,xstyle:j,tabIndex:null,onMouseDownCapture:this.$18,onClickCapture:this.$19,children:O?G.jsxs(O,{children:[G.jsx(d("WAWebPopover.react").PopoverPortalBucket,{}),g]}):G.jsxs(G.Fragment,{children:[G.jsx(d("WAWebPopover.react").PopoverPortalBucket,{}),g]})},f)})})})})})};return e}(H);var U=d("WAWebListenerHoc_DEPRECATED").ListenerHOC(F);function e(){return G.jsx(U,{})}e.displayName=e.name+" [from "+f.id+"]";function V(){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (C||(C=b("Promise"))).all([L.load(),X()])),c=a[0];a=a[1];d("WAWebWamPageLoadReporter").mainScriptTimer.start();Q=c(a);d("WAWebWamPageLoadReporter").mainScriptTimer.end()});return W.apply(this,arguments)}function X(){return d("WAWebConnModel").Conn.platform?(C||(C=b("Promise"))).resolve(d("WAWebConnModel").Conn.platform):new(C||(C=b("Promise")))(function(a){var b=function(){var c=d("WAWebConnModel").Conn.platform;if(c==null)return;d("WAWebConnModel").Conn.off("change:platform",b);a(c)};d("WAWebConnModel").Conn.on("change:platform",b)})}g.hasPendingActions=a;g.App=e}),226);
__d("WAWebAppSwInitializer",["Promise","WALogger","WAWebABProps","WAWebEnvironment","WAWebFeatureDetectionSwSupport","WAWebPwaDocumentMetadataUtils","WAWebSwUpdater","WAWebUA","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e;if(o())return m();if(!c("WAWebFeatureDetectionSwSupport").supported||window.navigator.serviceWorker==null)return;(a=window.navigator.serviceWorker)!=null&&a.controller&&(yield d("WAWebSwUpdater").updateSw());if(!c("gkx")("26258")&&(e=window.navigator.serviceWorker)!=null&&e.controller){a=(yield window.navigator.serviceWorker.getRegistrations==null?void 0:window.navigator.serviceWorker.getRegistrations());if(a){var f=[];for(a of a)a.scope!==window.location.origin+window.location.pathname&&f.push(a.unregister()["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["service-worker-unregistration-failure: ",""])),a.stack).devConsole(a).sendLogs("service-worker-unregistration-failure")}));yield (k||(k=b("Promise"))).all(f)}}if(window.navigator.serviceWorker&&!((a=window.navigator.serviceWorker)!=null&&a.controller))try{f=c("WAWebEnvironment").isWindows?window.location.search:"";a="/sw.js"+f;yield window.navigator.serviceWorker.register(a,{scope:"/",updateViaCache:"all"})}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["service-worker-registration-failure: ",""])),a.stack).devConsole(a).sendLogs("service-worker-registration-failure",{sampling:.01})}});return l.apply(this,arguments)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(yield (a=window.navigator.serviceWorker)==null||a.getRegistrations==null?void 0:a.getRegistrations());if(a){var c=[];for(a of a)c.push(a.unregister()["catch"](function(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["service-worker-unregistration-failure: ",""])),a.stack).devConsole(a).sendLogs("service-worker-unregistration-failure")}));yield (k||(k=b("Promise"))).all(c)}});return n.apply(this,arguments)}function o(){return d("WAWebABProps").getABPropConfigValue("web_disable_sw_on_safari_pwa")&&d("WAWebUA").UA.isSafari&&d("WAWebPwaDocumentMetadataUtils").isCurrentWebSessionInsidePwa()}g.initializeSw=a}),98);
__d("WAWebBrokerBackendInterface",["WAWebBrokerGlobalAppState","WAWebCrashlog","WAWebInvocationDispatcher"],(function(a,b,c,d,e,f,g){a={setLogoutState:function(a){c("WAWebBrokerGlobalAppState").isLogoutInProgress=a;return c("WAWebInvocationDispatcher").invoke("setLogoutState",[a])},sendLogs:function(a,b){return d("WAWebCrashlog").sendLogs(a,{sampling:b==null?void 0:b.sampling})},deleteDbEncKeyCache:function(){return c("WAWebInvocationDispatcher").invoke("deleteDbEncKeyCache",[])},initDatabaseEncnKey:function(a){return c("WAWebInvocationDispatcher").invoke("initDatabaseEncnKey",[a])},generateFinalDbEncryptionAndFtsKey:function(a){return c("WAWebInvocationDispatcher").invoke("generateFinalDbEncryptionAndFtsKey",[a])},setSchemaVersions:function(a){return c("WAWebInvocationDispatcher").invoke("setSchemaVersions",[a])}};b=a;g["default"]=b}),98);
__d("WAWebCacheStoreGatingUtil",["WAWebABProps","WAWebABPropsCache","WAWebGlobals"],(function(a,b,c,d,e,f,g){"use strict";function a(){void d("WAWebABPropsCache").waitForABPropConfigsReady().then(function(){d("WAWebGlobals").setAllowCacheQueryOptimization(d("WAWebABProps").getABPropConfigValue("web_cache_storage_config_disable_ignore_search")),d("WAWebGlobals").setAllowHistorySyncPutAllowDuplicate(d("WAWebABProps").getABPropConfigValue("web_history_sync_allow_duplicate_in_bulk_error")),d("WAWebGlobals").setEnableImprovedBulkMerge(d("WAWebABProps").getABPropConfigValue("web_enable_improved_bulk_merge"))})}g.initStorageOptimizationFlags=a}),98);
__d("WAWebConfigureWindowEvents",["WAComms","WALogger","WATypeUtils","WAWebApp.react","WAWebBuildConstants","WAWebExternalLink.react","WAWebMiscBrowserUtils","fbs"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function a(){m(),window.onbeforeunload=function(){var a=!1,b=d("WAWebApp.react").hasPendingActions();if(!b&&!d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab())try{a=!0,d("WAComms").closeSocketAndPreventRetry()}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while stopping comms onbeforeunload: ",""])),a)}if(c("WAWebMiscBrowserUtils").isDownloading()){c("WAWebMiscBrowserUtils").clearDownloading();return void 0}d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["onbeforeunload triggered, version: ",""])),d("WAWebBuildConstants").VERSION_STR);if(c("WAWebMiscBrowserUtils").promptUnloadGuards>0)return void 0;if(b){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Prompt onbeforeunload due to pending draft message"])));return c("fbs")._(/*BTDS*/"You are closing WhatsApp.").toString()}if(a){b=15e3;self.setTimeout(function(){try{d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["unload failed, force restarting comms"]))),void d("WAComms").socketLoopIteration()}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["error while force restarting comms after unload failure: ",""])),a)}},b)}},window.addEventListener("dragover",function(a){a.preventDefault()}),window.addEventListener("drop",function(a){a.preventDefault()})}function m(){["getSelection","open","focus"].forEach(function(a){var b=Object.getPrototypeOf(window)[a];d("WATypeUtils").isFunction(b)&&window[a]!==b&&(window[a]=b)})}g.configureWindowEvents=a}),226);
__d("WAWebDebugSetup",["WAWebBuildConstants","cr:10195","cr:10234","cr:13603"],(function(a,b,c,d,e,f,g){function a(){window.Debug={VERSION:d("WAWebBuildConstants").VERSION_STR},b("cr:10234")&&(window.Debug.pinClientToCdev=function(a){b("cr:10234").setDebugRoutingToken(a)}),b("cr:10195")&&(window.Debug.overrideDefaultBotForTest=function(a){b("cr:10195").setDebugDefaultBotOverride(a)}),b("cr:13603")&&(window.Debug.forceLinkDeviceCodeManualRefresh=b("cr:13603").forceManualRefresh)}g.setupDebugGlobal=a}),98);
__d("WAWebFeatureDetectionCryptoSupport",["Promise","WALogger"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u="whatsapp is da best",v=e(u),w={name:"HMAC",hash:"SHA-256"},x={name:"AES-CBC",length:256};function y(){return(t||(t=b("Promise"))).resolve().then(function(){return self.crypto.subtle||self.crypto.webkitSubtle})}function a(){return y().then(function(a){return a.generateKey(w,!1,["sign","verify"]).then(function(b){return a.sign(w,b,v).then(function(c){return a.verify(w,b,c,v.buffer)})["catch"](function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[crypto] HMAC-SHA256 signing failed: ",""])),a);return!1}).then(function(a){if(a){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[crypto] HMAC-SHA256 is verified"])));return!0}d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[crypto] HMAC-SHA256 is not verified"])));return!1})["catch"](function(a){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[crypto] HMAC-SHA256 verification failed: ",""])),a);return!1})})["catch"](function(a){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[crypto] HMAC-SHA256 key generation failed: ",""])),a);return!1})})["catch"](function(a){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[crypto] HMAC-SHA256: ",""])),a);return!1})}function c(){return y().then(function(a){return a.generateKey(x,!1,["encrypt","decrypt"]).then(function(c){return(t||(t=b("Promise"))).resolve(self.crypto).then(function(a){a=a.getRandomValues(new Uint8Array(16));a={name:"AES-CBC",iv:a};return a}).then(function(b){return a.encrypt(b,c,v).then(function(d){return a.decrypt(b,c,d)})["catch"](function(a){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[crypto] AES-CBC encryption failed: ",""])),a);return!1}).then(function(a){a=new Uint8Array(a);if(z(a)===u){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[crypto] AES-CBC encryption/decryption is correct"])));return!0}d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[crypto] AES-CBC encryption/decryption is incorrect"])));return!1})["catch"](function(a){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[crypto] AES-CBC decryption failed: ",""])),a);return!1})})})["catch"](function(a){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[crypto] AES-CBC key generation failed: ",""])),a);return!1})})["catch"](function(a){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[crypto] AES-CBC: ",""])),a);return!1})}function e(a){return new Uint8Array(a.split("").map(function(a){return a.charCodeAt(0)}))}function z(a){a=Array.prototype.slice.call(a);return a.map(function(a){return String.fromCharCode(a)}).join("")}g.supportsHmacSha256=a;g.supportsAesCbc=c}),98);
__d("WAWebFeatureDetectionRedirectIfMissingCapabilities",["WAPromiseProps","WAWebBuildConstants","WAWebFeatureDetectionCryptoSupport","WAWebLocalStorage","WAWebSessionStorage"],(function(a,b,c,d,e,f,g){var h=d("WAWebBuildConstants").DYN_ORIGIN+"browsers.html",i={getRandomValues:!!self.crypto.getRandomValues,subtleCrypto:!!(self.crypto&&(self.crypto.subtle||self.crypto.webkitSubtle)),localstorage:!!c("WAWebLocalStorage"),sessionstorage:!!c("WAWebSessionStorage"),url:!!self.URL,websocket:!!self.WebSocket,worker:!!self.Worker};function a(){if(j(i))return!0;d("WAPromiseProps").promiseProps({cryptoSha256:d("WAWebFeatureDetectionCryptoSupport").supportsHmacSha256(),cryptoAesCbc:d("WAWebFeatureDetectionCryptoSupport").supportsAesCbc()}).then(j);return!1}function j(a){var b=[];for(var c in a)a[c]||b.push(c);if(b.length>0){c=h+"?missing="+b.join(",");window.location.replace?window.location.replace(c):window.location.href=c;return!0}return!1}g["default"]=a}),98);
__d("WAWebCookieManager",[],(function(a,b,c,d,e,f){function a(a,b){b=["name","value","domain","path","secure","session","expirationDate"];a.session===!0&&delete a.expirationDate;var c=[];b.forEach(function(b){var d=a[b];if(d===void 0||b==="value")return;switch(b){case"expirationDate":var e=a.expirationDate!=null?new Date(a.expirationDate):new Date();c.push("expires="+e.toUTCString());break;case"secure":c.push("secure");break;case"name":e=a.value||"";c.push(String(d)+"="+e);break;default:c.push(b+"="+String(d))}});document.cookie=c.join(";")}function b(a){a=document.cookie.match(new RegExp("(^| )"+a+"=([^;]+)"));return a?a[2]:void 0}f.setCookie=a;f.getCookie=b}),66);
__d("WAWebFrontendL10nHelpers",["WALogger","WATimeUtils","WAWebAlarm","WAWebCookieDomain","WAWebCookieManager","WAWebL10nGetRenderedLocale","WAWebRuntimeEnvironmentUtils","WAWebURLUtils"],(function(a,b,c,d,e,f,g){var h,i="wa_web_lang_pref",j=null,k="\ud83c\udf10",l="%F0%9F%8C%90";function m(a){if(d("WAWebRuntimeEnvironmentUtils").isWorker())return;j!=null&&c("WAWebAlarm").clearTimeout(j);var b=Date.now()+4*d("WATimeUtils").WEEK_MILLISECONDS;d("WAWebCookieManager").setCookie({name:i,value:a,path:"/",domain:d("WAWebCookieDomain").COOKIE_DOMAIN,secure:!0,expirationDate:b});j=c("WAWebAlarm").setLocalTimeout(function(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["l10n: renewing lang pref cookie TTL to: ",""])),a),m(a)},d("WATimeUtils").castUnixTimeToMillisTime(d("WATimeUtils").futureUnixTime(2*d("WATimeUtils").WEEK_SECONDS)))}function a(){if(d("WAWebRuntimeEnvironmentUtils").isWorker())return;var a=d("WAWebCookieManager").getCookie(i);a==null?m(d("WAWebL10nGetRenderedLocale").WAWebL10nGetRenderedLocale()):m(a)}function b(){if(d("WAWebRuntimeEnvironmentUtils").isWorker()||!c("WAWebURLUtils").canMuckHistory())return;var a=self.location.href;(a.includes("/"+l+"/")||a.includes("/"+k+"/"))&&window.history.replaceState({},"","/");a=new URL(a);a.searchParams.get("locale")!=null&&(a.searchParams["delete"]("locale"),window.history.replaceState({},"",a.href))}g.setWAWebLocalePrefCookie=m;g.extendWAWebLocalePrefCookieTtl=a;g.mungeWAWebLocaleOverrideFromUrlIfNecessary=b}),98);
__d("WAWebInfraErrorLogger",["ErrorPubSub","WALogger","WALoggerUtils","WAWebFBLogger","justknobx"],(function(a,b,c,d,e,f,g){var h,i,j=[{partialMessage:'Converting to a string will drop content data. Hash="undefined"'},{partialMessage:"Failed to preload resource"}],k=["ONUNHANDLEDREJECTION","ONERROR","PROMISE_DONE","REACT_FIBER","DEPRECATED"];function l(a){var b=a.message,c=a.project;a=a.source;return k.includes(a)||d("WAWebFBLogger").PROJECT.includes(c)?!0:j.some(function(a){a=a.partialMessage;return String(b).includes(a)})}function a(){var a=c("justknobx")._("860");if(a===0)return;var b=d("WALoggerUtils").dynamicLoggingSampling(a/100);(i||(i=c("ErrorPubSub"))).addListener(function(a,c){var e;e=l({message:a.message,project:(e=a.project)!=null?e:"",source:c});e||d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[ErrorPubSub] ",""])),a.message).sendLogs("[ErrorPubSub] "+a.message,{sampling:b}).tags("ErrorPubSub")})}g.addListenerToErrorPubSub=a}),98);
__d("WAWebLodashMemoizeCache",["WAMemoizeCache","lodash"],(function(a,b,c,d,e,f,g){function a(){c("lodash").memoize.Cache=d("WAMemoizeCache").MemoizeCache}g.setupLodashMemoizeCache=a}),98);
__d("WAWebMetricsAttributionObservers",["WAWebAppTracker","WAWebCallCollection","WAWebNetworkStatus","WAWebVoipGatingUtils","cr:13156","cr:13920"],(function(a,b,c,d,e,f,g){"use strict";f=(e=b("cr:13156"))!=null?e:{};var h=f.WAWebScalingControlManager;function i(){if(!d("WAWebVoipGatingUtils").isCallingEnabled())return;var a=d("WAWebAppTracker").AppTrackerType.VoipAudio,b=function(){var b=c("WAWebCallCollection").activeCall;b!=null?(a=b.isVideo===!0?d("WAWebAppTracker").AppTrackerType.VoipVideo:d("WAWebAppTracker").AppTrackerType.VoipAudio,d("WAWebAppTracker").AppTracker.start(a)):d("WAWebAppTracker").AppTracker.stop(a)};c("WAWebCallCollection").on("change:activeCall",b)}function j(){c("WAWebNetworkStatus").on("change:online",function(){c("WAWebNetworkStatus").online===!1?d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.Disconnected):d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.Disconnected)})}function k(){if(h==null||b("cr:13920")==null)return;var a=function(a){a===1?d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.LayoutZoom):d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.LayoutZoom)};void h.getZoomLevel().then(function(b){return a(b!=null?b:1)});b("cr:13920").on("zoomUpdate",function(b){a(b!=null?b:1)})}function a(){i(),j(),k()}g.initializeMetricsAttributionObservers=a}),98);
__d("WAWebPageLoadTierStats",["CometQPLPayloadStore","performance"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=i(),b=j(),c={},d={cache_count:0,cache_rate:0,decoded_body_size:0,encoded_body_size:0,total_count:0,transfer_size:0};for(a of a){var e=a.refs,f=a.url;f=b.get(k(f));if(!f)continue;d.decoded_body_size+=f.decodedBodySize;d.encoded_body_size+=f.encodedBodySize;d.transfer_size+=+f.transferSize;d.total_count+=1;+f.transferSize===0&&(d.cache_count+=1);for(e of e){var g=e+"_start",h=e+"_end";c[g]=Math.min(f.requestStart,(g=c[g])!=null?g:Number.POSITIVE_INFINITY);c[h]=Math.max(f.responseEnd,(g=c[h])!=null?g:Number.NEGATIVE_INFINITY)}}d.total_count>0&&(d.cache_rate=Math.round(d.cache_count/d.total_count*100));return[c,d]}function i(){var a=d("CometQPLPayloadStore").getPayloadMap();if(!a)return[];a=Object.values(a).at(0);return!a?[]:Object.values(a)}function j(){var a=new Map();if(typeof (h||(h=c("performance"))).getEntriesByType==="function"){var b=(h||(h=c("performance"))).getEntriesByType("resource");b.forEach(function(b){var c=k(b.name);a.set(c,b)})}return a}function k(a){return a.split("#")[0]}g.getTierStats=a}),98);
__d("WAWebWebcPageLoad2WamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcPageLoad2:[5392,{webcPageLoadId:[1,d("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{WebcPageLoad2:[]});g.WebcPageLoad2WamEvent=a}),98);
__d("WAWebPageLoadLoggingImpl",["WACyrb53Hash","WALogger","WAQplTypes","WAWebABProps","WAWebEncryptedRid","WAWebEnvironment","WAWebPageLoadLogging","WAWebPageLoadTierStats","WAWebPonyfillsCryptoRandomUUID","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUserPrefsKeys","WAWebUserPrefsMultiDevice","WAWebUserPrefsStore","WAWebWaUlCookieUtils","WAWebWamPageLoadReporter","WAWebWamUtils","WAWebWebcPageLoad2WamEvent"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p=!1,q={socket_error_count:0},r=c("WAWebPonyfillsCryptoRandomUUID")();function s(){o==null&&!p&&(o=d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.PAGE_LOAD,{timestamp:0}));return o}function t(a,b,e){var f=s();if(f==null)return;if(d("WAWebUserPrefsMultiDevice").isRegistered()){var g=d("WAWebEncryptedRid").getEncryptedRid();g!=null&&y({encrypted_rid:g})}g="";c("WAWebEnvironment").isWindows?g="win_hybrid":c("WAWebEnvironment").isWeb&&(g="web");var h=document.referrer;if(c("WAWebEnvironment").isWeb&&h!=null&&h!=="")try{h=new URL(h).hostname}catch(a){h="INVALID"}var i=d("WAWebWaUlCookieUtils").getWaUlCookieIfLoggedOut();i=i!=null?c("WACyrb53Hash")(i):null;y({qr_screen:a,qr_screen_experience:b!=null?b:-1,is_foreground:!document.hidden,page_load_id:r,sub_platform:g,referrer:h,random_user_id:i!=null?i:-1,locale:e!=null?e:void 0});B(f);C(f);f.annotate(A(q));f.end(d("WAQplTypes").QuickLogActionType.SUCCESS);new(d("WAWebWebcPageLoad2WamEvent").WebcPageLoad2WamEvent)({webcPageLoadId:r}).commit();o=null;p=!0;F();d("WAWebABProps").getABPropConfigValue("webc_page_load_early_commit_enabled")&&d("WAWebWamPageLoadReporter").logWamPageLoad();self.setTimeout(d("WAWebWamUtils").forceFlushAllWamAndQplBuffers,1e4)}var u=new Set();function v(a){var b;(b=s())==null||b.addPoint(a+"_start");u.add(a)}function w(a){var b;if(!u.has(a)){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[page load] "," not started"])),a);return}(b=s())==null||b.addPoint(a+"_end");u["delete"](a)}function x(a){var b,c=Math.floor(self.performance.now());E(a,{qpl:c});(b=s())==null||b.addPoint(a,{timestamp:c})}function y(a){q=babelHelpers["extends"]({},q,a)}function z(){q.socket_error_count++}function A(a){var b={};for(var c of Object.keys(a)){var d=a[c];typeof d==="boolean"?(b.bool==null&&(b.bool={}),b.bool[c]=d):typeof d==="number"?(b["int"]==null&&(b["int"]={}),b["int"][c]=d):typeof d==="string"&&(b.string==null&&(b.string={}),b.string[c]=d)}return b}function B(a){var b;if(a==null)return;b=(b=window)==null||(b=b.performance)==null?void 0:b.getEntriesByType("navigation")[0];if(b==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[page load] no navigation timing entry"])));return}a.addPoint("request_start",{timestamp:b.requestStart});a.addPoint("response_end",{timestamp:b.responseEnd});a.addPoint("dom_complete",{timestamp:b.domComplete})}function C(a){if(a==null)return;var b=d("WAWebPageLoadTierStats").getTierStats(),c=b[0];b=b[1];y(babelHelpers["extends"]({},b));for(b of["tierOne_start","tierTwo_start","tierThree_start","tierOne_end","tierTwo_end","tierThree_end"])if(c[b]){var e=c[b];a.addPoint(b,{timestamp:e})}}var D={wamComplete:!1,qplComplete:!1,timestamps:new Map()};function E(a,b){var c=D.timestamps.get(a);c==null&&(c={},D.timestamps.set(a,c));c.qpl==null&&b.qpl!=null&&(c.qpl=b.qpl);c.wam==null&&b.wam!=null&&(c.wam=b.wam)}function F(){D.qplComplete=!0,K()}function G(){D.wamComplete=!0,K()}var H=20,I=9e4,J=null;function K(){if(!(D.wamComplete&&D.qplComplete)){J==null&&(J=self.setTimeout(function(){var a=D.wamComplete?"qpl":"wam",b="page-load-validation-missing-"+a;if(a==="wam"){var c=d("WAWebWamPageLoadReporter").getWamPageLoadTimingCompletion(),e=c.uiTimingComplete;c=c.wsTimingComplete;!e&&!c?b+="-incomplete-both-timings":!e?b+="-incomplete-ui-timing":!c?b+="-incomplete-ws-timing":b+="-completed-timings"}d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[page load] missing completion marker for "," after ","ms"])),a,I).sendLogs(b,{sampling:.01})},I));return}J!=null&&(self.clearTimeout(J),J=null);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[page load] validating qpl and wam data"])));var a=!1;for(var b of D.timestamps.entries()){var c=b[0],e=b[1],f=e.qpl;e=e.wam;f!=null&&e!=null&&(Math.abs(f-e)>H&&(d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[page load] "," qpl: "," wam: "," diff: ",""])),c,f,e,Math.abs(f-e)),a=!0))}a&&d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[page load] validation failed"]))).sendLogs("page-load-validation",{sampling:.01});d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[page load] validation finished"])))}function a(){return null;return c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.PageLoadDebug)!==!0?null:self.performance}function b(){d("WAWebPageLoadLogging").setImpl({endPageLoadQpl:t,endPageLoadQplMeasure:w,startPageLoadQplMeasure:v,addPageLoadQplPoint:x,addPageLoadQplAnnotation:y,incrementPageLoadQplSocketError:z,addPageLoadValidationData:E,setWamCompleteForValidation:G,PAGE_LOAD_ID:r})}g.setPageLoadLoggingImpl=b}),98);
__d("WAWebCollectionHandlerWamMutation",["WATimeUtils","WAWebMdAppStateMessageRangeWamEvent","WAWebMdBootstrapDataAppliedWamEvent","WAWebSyncdMdSyncFieldstatMeta","WAWebSyncdMetrics","WAWebSyncdUtils","WAWebWamEnumMdBootstrapPayloadType","WAWebWamEnumMdBootstrapSource","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){new(d("WAWebMdAppStateMessageRangeWamEvent").MdAppStateMessageRangeWamEvent)({additionalMessagesCount:a}).commit()}function c(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){new(d("WAWebMdBootstrapDataAppliedWamEvent").MdBootstrapDataAppliedWamEvent)({mdBootstrapPayloadType:d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.NON_CRITICAL,mdBootstrapSource:d("WAWebWamEnumMdBootstrapSource").MD_BOOTSTRAP_SOURCE.APP_STATE,mdSessionId:yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId(),mdTimestamp:d("WATimeUtils").unixTimeMs(),mdBootstrapStepDuration:c,collection:d("WAWebSyncdUtils").collectionNameToMetric(a),usedSnapshot:b===d("WAWebSyncdMetrics").SyncdBootstrapDataAppliedSnapshotUsed.SNAPSHOT_USED}).commit()});return h.apply(this,arguments)}g.logMetricsForMutationLength=a;g.logMetricsForDataApplied=c}),98);
__d("WAWebCollectionHandlerWamSyncUtil",["WALongInt","WASyncdConst","WATimeUtils","WAWebMdBootstrapAppStateDataDownloadedWamEvent","WAWebSyncdMdSyncFieldstatMeta","WAWebWamEnumMdBootstrapPayloadType","WAWebWamEnumMdBootstrapStepResult","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=new(d("WAWebMdBootstrapAppStateDataDownloadedWamEvent").MdBootstrapAppStateDataDownloadedWamEvent)({mdBootstrapPayloadType:[d("WASyncdConst").CollectionName.CriticalBlock,d("WASyncdConst").CollectionName.CriticalUnblockLow].includes(a)?d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.CRITICAL:d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.NON_CRITICAL,mdTimestamp:d("WATimeUtils").unixTimeMs(),mdBootstrapStepDuration:d("WATimeUtils").unixTimeMs()-b,mdBootstrapStepResult:e==="success"?d("WAWebWamEnumMdBootstrapStepResult").MD_BOOTSTRAP_STEP_RESULT.SUCCESS:d("WAWebWamEnumMdBootstrapStepResult").MD_BOOTSTRAP_STEP_RESULT.FAILURE,mdSessionId:yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId()});b=(yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getStorageEstimation());b.mdStorageQuotaBytes!==d("WAWebSyncdMdSyncFieldstatMeta").STORAGE_QUOTA_UNAVAILABLE&&(a.mdStorageQuotaUsedBytes=b.mdStorageQuotaUsedBytes,a.mdStorageQuotaBytes=b.mdStorageQuotaBytes);try{e=d("WALongInt").maybeNumberOrThrowIfTooLarge(c);e!=null&&(a.mdBootstrapPayloadSize=e)}catch(a){}a.commit()});return h.apply(this,arguments)}g.commitBootstrapAppStateDownloadMetric=a}),98);
__d("WAWebSyncdMetricCriticalBootstrapStageListener",["WAWebCollectionHandlerWamMutation","WAWebSyncdCriticalBootstrapProcessingApi","WAWebSyncdMetricCriticalBootstrapStage","WAWebWamEnumBootstrapAppStateDataStageCode"],(function(a,b,c,d,e,f,g){function a(a){var b=a.stage;a=a.annotations;if(b!=="SUCCESS")return;b=d("WAWebSyncdMetricCriticalBootstrapStage").convertSyncdDecryptMutationsMetricsFromAnnotations(a);if(b==null)return;b.decryptedMutationMessageRangeCountArray.forEach(function(a){return d("WAWebCollectionHandlerWamMutation").logMetricsForMutationLength(a)})}function b(a){if(a.stage!=="SUCCESS")return;a=d("WAWebSyncdMetricCriticalBootstrapStage").convertSyncdCriticalBootstrapStageFromAnnotations(a.annotations);if(a==null)return;d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(h(a.type))}function h(a){switch(a){case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.ABOUT_TO_APPLY_MUTATIONS:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.ABOUT_TO_APPLY_MUTATIONS;case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.APPLIED_MUTATIONS:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.APPLIED_MUTATIONS;case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.MUTATIONS_DECRYPTED:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MUTATIONS_DECRYPTED;case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.REQUEST_BUILT:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.REQUEST_BUILT;case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.RESPONSE_RECEIVED:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.RESPONSE_RECEIVED;case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.RESPONSE_PARSED_VALID:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.RESPONSE_PARSED_VALID;case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.ENTERED_RETRY_MODE:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.ENTERED_RETRY_MODE;case d("WAWebSyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.MISSING_KEYS_RECEIVED:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MISSING_KEYS_RECEIVED}}g.syncdDecryptMutationsMetricsLogger=a;g.syncdCriticalBootstrapStageLogger=b}),98);
__d("WAWebSyncdMetricFatalErrorListener",["WAWebSyncdMetricFatalError","WAWebSyncdUploadFatalErrorMetric","WAWebWamEnumMdSyncdFatalErrorCode"],(function(a,b,c,d,e,f,g){function a(a){var b=a.stage;a=a.annotations;if(b!=="FAIL")return;b=d("WAWebSyncdMetricFatalError").convertSyncdFatalErrorFromAnnotations(a);if(b==null){d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.UNKNOWN,null);return}d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(h(b.type),b.collection==null?null:b.collection,b.patchSnapshotMutationCount==null?void 0:b.patchSnapshotMutationCount,b.patchVersion==null?void 0:b.patchVersion,b.isFatal==null?void 0:b.isFatal,b.isLtHashConsistent==null?void 0:b.isLtHashConsistent,b.macFatalCollectionNameMismatch==null?void 0:b.macFatalCollectionNameMismatch,b.macFatalCurrentLthashMismatch==null?void 0:b.macFatalCurrentLthashMismatch,b.macFatalNewLthashMismatch==null?void 0:b.macFatalNewLthashMismatch,b.macFatalPatchVersionMismatch==null?void 0:b.macFatalPatchVersionMismatch,b.macFatalNewLthashSubtractMismatch==null?void 0:b.macFatalNewLthashSubtractMismatch,b.macFatalNumberHasOverrideMutation==null?void 0:b.macFatalNumberHasOverrideMutation,b.macFatalNumberNumAddMutation==null?void 0:b.macFatalNumberNumAddMutation,b.macFatalNumberNumRemoveMutation==null?void 0:b.macFatalNumberNumRemoveMutation,b.macFatalSenderCurrentLthashToLocalCalculatedCurrentLthashMismatch==null?void 0:b.macFatalSenderCurrentLthashToLocalCalculatedCurrentLthashMismatch,b.isPatchSenderPrimary==null?void 0:b.isPatchSenderPrimary,b.macFatalDidUseMacFetchFallback==null?void 0:b.macFatalDidUseMacFetchFallback,b.macFatalHasMissingRemove==null?void 0:b.macFatalHasMissingRemove,b.macFatalNumberAddMismatch==null?void 0:b.macFatalNumberAddMismatch,b.macFatalNumberRemoveMismatch==null?void 0:b.macFatalNumberRemoveMismatch,b.macFatalDidPreviousPatchFailPostSaveValidation==null?void 0:b.macFatalDidPreviousPatchFailPostSaveValidation,b.macFatalPreviousPatchNewLthashToCurrentPatchCurrentLthash==null?void 0:b.macFatalPreviousPatchNewLthashToCurrentPatchCurrentLthash,b.isPreviousPatchAnIncomingPatch==null?void 0:b.isPreviousPatchAnIncomingPatch,b.isLastPatchSenderAPrimaryDevice==null?void 0:b.isLastPatchSenderAPrimaryDevice,b.isSenderIndexSameAsPreviousSenderIndex==null?void 0:b.isSenderIndexSameAsPreviousSenderIndex,b.didBootstrapFromSnapshot==null?void 0:b.didBootstrapFromSnapshot,b.isThereAnotherSyncdCompanion==null?void 0:b.isThereAnotherSyncdCompanion,b.isPureSyncdSession==null?void 0:b.isPureSyncdSession,b.lidMigrationStage==null?void 0:b.lidMigrationStage,b.recoveryRequestDurationMs==null?void 0:b.recoveryRequestDurationMs,b.recoveryStatus==null?void 0:b.recoveryStatus)}function h(a){switch(a){case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.PATCH_PROTOBUF_SERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.PATCH_PROTOBUF_SERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MUTATIONS_PROTOBUF_SERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MUTATIONS_PROTOBUF_SERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.ENCRYPTION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.ENCRYPTION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_SNAPSHOT_VERSION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_SNAPSHOT_VERSION;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_SNAPSHOT_MAC:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_SNAPSHOT_MAC;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_SNAPSHOT_KEY_ID:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_SNAPSHOT_KEY_ID;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_VERSION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_VERSION;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_SNAPSHOT_MAC:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_SNAPSHOT_MAC;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_MAC:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_MAC;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_KEY_ID:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_KEY_ID;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_OPERATION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_OPERATION;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_RECORD:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_RECORD;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_INDEX:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_INDEX;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_VALUE:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_VALUE;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_KEY_ID:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_KEY_ID;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.PATCH_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.PATCH_PROTOBUF_DESERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_INDEX:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_INDEX;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_VERSION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_VERSION;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.SNAPSHOT_MAC_MISMATCH_IN_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SNAPSHOT_MAC_MISMATCH_IN_PATCH;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MAC_MISMATCH_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MAC_MISMATCH_PATCH;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.DECRYPTION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.DECRYPTION_FAILED;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.DUPLICATE_PATCH_VERSION_IN_COLLECTION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.DUPLICATE_PATCH_VERSION_IN_COLLECTION;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_VALUE:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_VALUE;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_TIMESTAMP:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_TIMESTAMP;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.XMPP_BAD_REQUEST_FOR_COLLECTION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_BAD_REQUEST_FOR_COLLECTION;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.XMPP_NOT_FOUND_FOR_COLLECTION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_NOT_FOUND_FOR_COLLECTION;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.CYCLIC_MUTATION_DEPENDENCY_IN_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.CYCLIC_MUTATION_DEPENDENCY_IN_PATCH;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.SERVER_DID_NOT_SEND_ALL_PATCHES:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SERVER_DID_NOT_SEND_ALL_PATCHES;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.TERMINAL_PATCH_MISSING_DATA:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TERMINAL_PATCH_MISSING_DATA;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.TERMINAL_PATCH_DESERIALIZATION_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TERMINAL_PATCH_DESERIALIZATION_ERROR;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.TERMINAL_PATCH_UNKNOWN:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TERMINAL_PATCH_UNKNOWN;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.INVALID_ACTION_INDEX:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_ACTION_INDEX;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.XMPP_BAD_REQUEST_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_BAD_REQUEST_GLOBAL_ERROR;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.XMPP_NOT_FOUND_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_NOT_FOUND_GLOBAL_ERROR;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.XMPP_BAD_METHOD_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_BAD_METHOD_GLOBAL_ERROR;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY;case d("WAWebSyncdMetricFatalError").SyncdFatalErrorType.MISSING_KEY_ON_ALL_CLIENTS:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_KEY_ON_ALL_CLIENTS}}g.syncdFatalErrorLogger=a}),98);
__d("WAWebSyncdQpl",["WALogger","WAQplTypes","WAWebOfflineHandler","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSyncBootstrap","WAWebSyncdMetrics","err","gkx","justknobx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=["source"];function n(a){if((a==null?void 0:a.string)==null)return;var b=a.string,c={};Object.keys(a.string).forEach(function(a){m.includes(a)||(c[a]=b[a])});a.string=c}function o(a,b){var c;if((b==null||(c=b.string)==null?void 0:c.source)==null)return a;var d=b.string;b=Object.keys(d).filter(function(a){return m.includes(a)});return[b.map(function(a){return d[a]}),a].join("_")}function p(){if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return"bootstrap";return!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()?"offline_resume":"online"}a=function(){function a(){this.$3=p(),this.$4=c("gkx")("26259")&&c("justknobx")._("3998")&&(this.$3==="bootstrap"||this.$3==="offline_resume"),this.$4&&(this.$1=d("WAWebQplQuickPerformanceLoggerModule").QPL.getNextMarkerInstanceValue(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD)),d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[qpl] new instance key created ",""])),this.$1)}var b=a.prototype;b.$5=function(){if(!this.$4)return!1;if(!this.$2)throw c("err")("QPL instance ${this._instanceKey} is not started");return!0};b.start=function(){if(!this.$4)return;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,{instanceKey:this.$1});this.$2=!0;this.annotate({when:this.$3});d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[qpl] marker started with id ",""])),this.$1)};b.annotate=function(a){if(!this.$5())return;a=d("WAWebSyncdMetrics").constructAnnotationsFromContext(a);n(a);a&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,a,{instanceKey:this.$1}),d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[qpl] new annotations added for id ",""])),this.$1))};b.mark=function(a,b){if(!this.$5())return;b=d("WAWebSyncdMetrics").constructAnnotationsFromContext(b);this.$6(a,b)};b.markAnnotations=function(a,b){if(!this.$5())return;this.$6(a,b)};b.$6=function(a,b){var c=o(a,b);n(b);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,c,babelHelpers["extends"]({},b&&{data:b},{instanceKey:this.$1}));d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[qpl] new marker point "," added for id ",""])),a,this.$1)};b.end=function(a){a===void 0&&(a=!1);if(!this.$5())return;this.$2=!1;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,a?d("WAQplTypes").QuickLogActionType.FAIL:d("WAQplTypes").QuickLogActionType.SUCCESS,{instanceKey:this.$1});d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[qpl] marker ended for id ",""])),this.$1)};return a}();g.SyncdQPL=a}),98);
__d("WAWebWamPREListeners",["WALogger","WAPREList","WAPREMetrics","WAWebAppTracker","WAWebCmd","WAWebCollectionHandlerWamMutation","WAWebCollectionHandlerWamSyncUtil","WAWebMdAppStateKeyRotationWamEvent","WAWebMdAppStateSyncDailyWamEvent","WAWebSyncdMetricCriticalBootstrapStageListener","WAWebSyncdMetricFatalErrorListener","WAWebSyncdMetrics","WAWebSyncdQpl","WAWebSyncdUtils","WAWebSyncdWamAppState","WAWebWamEnumMdAppStateKeyRotationReasonCode","WAWebWamEnumMdSyncdCriticalEventCode"],(function(a,b,c,d,e,f,g){var h,i;function a(){d("WAPREMetrics").subscribe(j),d("WAWebCmd").Cmd.on("logout",d("WAWebSyncdWamAppState").forceCommitAppState)}function j(a){var b=a.name;switch(b){case d("WAPREList").PRE_METRIC.SYNCD_FATAL_ERROR:d("WAWebSyncdMetricFatalErrorListener").syncdFatalErrorLogger(a);break;case d("WAPREList").PRE_METRIC.APP_STATE_SYNC_DAILY:q(a);break;case d("WAPREList").PRE_METRIC.SYNCD_CRITICAL_EVENT:m(a);break;case d("WAPREList").PRE_METRIC.SYNCD_CRITICAL_BOOTSTRAP_STAGE:d("WAWebSyncdMetricCriticalBootstrapStageListener").syncdCriticalBootstrapStageLogger(a);break;case d("WAPREList").PRE_METRIC.SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:k(a);break;case d("WAPREList").PRE_METRIC.SYNCD_DECRYPT_MUTATIONS:d("WAWebSyncdMetricCriticalBootstrapStageListener").syncdDecryptMutationsMetricsLogger(a);break;case d("WAPREList").PRE_METRIC.SYNCD_BOOTSTRAP_DATA_APPLIED:l(a);break;case d("WAPREList").PRE_METRIC.SYNCD_KEY_ROTATION:o(a);break;case d("WAPREList").PRE_METRIC.SYNCD:s(a);break;case d("WAPREList").PRE_METRIC.WA_JOBS_ORCHESTRATOR:case d("WAPREList").PRE_METRIC.WA_JOB_MANAGER:default:d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Unhandled metric event: ",""])),b);break}}function k(a){if(a.stage!=="FAIL"&&a.stage!=="SUCCESS")return;a=d("WAWebSyncdMetrics").convertSyncdBootstrapAppStateDownloadFromAnnotations(a.annotations);if(a==null)return;d("WAWebCollectionHandlerWamSyncUtil").commitBootstrapAppStateDownloadMetric(a.collection,a.downloadStartTs,a.downloadSize,a.isSuccess)}function l(a){if(a.stage!=="SUCCESS")return;a=d("WAWebSyncdMetrics").convertSyncdBootstrapDataAppliedFromAnnotations(a.annotations);if(a==null)return;d("WAWebCollectionHandlerWamMutation").logMetricsForDataApplied(a.collection,a.snapshotUsed,a.durationMs)}function m(a){if(a.stage!=="FAIL")return;a=d("WAWebSyncdMetrics").convertSyncdCriticalEventFromAnnotations(a.annotations);if(a==null)return;d("WAWebSyncdUtils").uploadCriticalEventMetric(n(a.type),a.collection)}function n(a){switch(a){case d("WAWebSyncdMetrics").SyncdCriticalEventType.MISSING_MUTATION_TO_REMOVE:return d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.MISSING_MUTATION_TO_REMOVE}}function o(a){if(a.stage!=="SUCCESS")return;a=d("WAWebSyncdMetrics").convertSyncdKeyRotationEventFromAnnotations(a.annotations);if(a==null)return;new(d("WAWebMdAppStateKeyRotationWamEvent").MdAppStateKeyRotationWamEvent)({mdAppStateKeyRotationReason:p(a.type)}).commit()}function p(a){switch(a){case d("WAWebSyncdMetrics").SyncdKeyRotationEventType.APP_STATE_SYNC_KEY_EXPIRY:return d("WAWebWamEnumMdAppStateKeyRotationReasonCode").MD_APP_STATE_KEY_ROTATION_REASON_CODE.APP_STATE_SYNC_KEY_EXPIRY;case d("WAWebSyncdMetrics").SyncdKeyRotationEventType.DEVICE_DEREGISTERATION:return d("WAWebWamEnumMdAppStateKeyRotationReasonCode").MD_APP_STATE_KEY_ROTATION_REASON_CODE.DEVICE_DEREGISTERATION;case d("WAWebSyncdMetrics").SyncdKeyRotationEventType.NO_KEYS:return d("WAWebWamEnumMdAppStateKeyRotationReasonCode").MD_APP_STATE_KEY_ROTATION_REASON_CODE.NO_KEYS}}function q(a){var b=a.stage;a=a.annotations;if(b!=="SUCCESS")return;b=d("WAWebSyncdWamAppState").convertAppStateSyncDailyFromAnnotations(a||{});a=new(d("WAWebMdAppStateSyncDailyWamEvent").MdAppStateSyncDailyWamEvent)();b.mutationCount>0&&(a.mutationCount=b.mutationCount);b.invalidActionCount>0&&(a.invalidActionCount=b.invalidActionCount);b.unsupportedActionCount>0&&(a.unsupportedActionCount=b.unsupportedActionCount);b.keyRotationRemoveCount>0&&(a.keyRotationRemoveCount=b.keyRotationRemoveCount);b.storedMutationCount>0&&(a.storedMutationCount=b.storedMutationCount);b.uploadConflictCount>0&&(a.uploadConflictCount=b.uploadConflictCount);b.unsetActionCount>0&&(a.unsetActionCount=b.unsetActionCount);b.missingKeyCount>0&&(a.missingKeyCount=b.missingKeyCount);a.commit()}var r=new Map();function s(a){var b=a.instanceKey,c=a.annotations;if(a.stage==="START"){var e=new(d("WAWebSyncdQpl").SyncdQPL)();e.start();r.set(b,e);d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.SyncD);return}e=r.get(b);if(e==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[syncd] Unknown syncd PRE instance key: ",""])),b);return}switch(a.stage){case"POINT":e.markAnnotations(a.reason,c);break;case"SUCCESS":e.end();r["delete"](b);d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.SyncD);break;case"FAIL":e.end(!0);r["delete"](b);d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.SyncD);break}}g.initializePREMetrics=a}),98);
__d("WAWebWamEnumConnectionOriginType",[],(function(a,b,c,d,e,f){a=Object.freeze({PERSON:1,PUSH:2,OTHER:3,BACKOFF:4});f.CONNECTION_ORIGIN_TYPE=a}),66);
__d("WAWebWamEnumConnectionSequenceStepType",[],(function(a,b,c,d,e,f){a=Object.freeze({PUSH_OVERRIDES:1,PRIMARY:2,PUSH_FALLBACKS:4,HOST_FALLBACK:5,NO_DNS:6,SOFTLAYER:7,PRIMARY_HTTP:8,SOFTLAYER_HTTP:9,HOST_FALLBACK_HTTP:10,NO_DNS_HTTP:11});f.CONNECTION_SEQUENCE_STEP_TYPE=a}),66);
__d("WAWebWamEnumDnsResolutionMethodType",[],(function(a,b,c,d,e,f){a=Object.freeze({SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4,MNS:5,SOCKS_PROXY:6,MNS_SECONDARY:7});f.DNS_RESOLUTION_METHOD_TYPE=a}),66);
__d("WAWebWamEnumLoginDnsResolverType",[],(function(a,b,c,d,e,f){a=Object.freeze({SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4,MNS:5,SOCKS_PROXY:6,MNS_SECONDARY:7});f.LOGIN_DNS_RESOLVER_TYPE=a}),66);
__d("WAWebWamEnumLoginHostType",[],(function(a,b,c,d,e,f){a=Object.freeze({PUSH_OVERRIDES:1,G_WHATSAPP_NET:2,PUSH_FALLBACKS:3,G_FALLBACK_WHATSAPP_NET:4,HARDCODED_LIST:5,EX_WHATSAPP_NET:6});f.LOGIN_HOST_TYPE=a}),66);
__d("WAWebWamEnumLoginPortNumber",[],(function(a,b,c,d,e,f){a=Object.freeze({P5222:1,P443:2,P80:3,UNKNOWN:4});f.LOGIN_PORT_NUMBER=a}),66);
__d("WAWebWamEnumLoginResultType",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:1,ERROR_UNKNOWN:2,SERVER_ERROR:3,SERVER_GOAWAY:4,NETWORK_ERROR:5,ANDROID_KEYSTORE_ERROR:6,CERTIFICATE_ERROR:7});f.LOGIN_RESULT_TYPE=a}),66);
__d("WAWebWamEnumStreamSocketProviderType",[],(function(a,b,c,d,e,f){a=Object.freeze({PLATFORM_SOCKET:1,MNS_SOCKET:2,SOCKS_PROXY:3});f.STREAM_SOCKET_PROVIDER_TYPE=a}),66);
__d("WAWebLoginWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAndroidKeystoreStateType","WAWebWamEnumConnectionOriginType","WAWebWamEnumConnectionSequenceStepType","WAWebWamEnumDnsResolutionMethodType","WAWebWamEnumLoginDnsResolverType","WAWebWamEnumLoginHostType","WAWebWamEnumLoginPortNumber","WAWebWamEnumLoginResultType","WAWebWamEnumStreamSocketProviderType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Login:[460,{androidKeystoreState:[10,d("WAWebWamEnumAndroidKeystoreStateType").ANDROID_KEYSTORE_STATE_TYPE],appContext:[20,a.TYPES.STRING],appContextBitfield:[21,a.TYPES.INTEGER],connectionOrigin:[6,d("WAWebWamEnumConnectionOriginType").CONNECTION_ORIGIN_TYPE],connectionSequenceStep:[11,d("WAWebWamEnumConnectionSequenceStepType").CONNECTION_SEQUENCE_STEP_TYPE],connectionT:[5,a.TYPES.TIMER],dnsResolutionMethod:[12,d("WAWebWamEnumDnsResolutionMethodType").DNS_RESOLUTION_METHOD_TYPE],loginDnsResolver:[13,d("WAWebWamEnumLoginDnsResolverType").LOGIN_DNS_RESOLVER_TYPE],loginIpSource:[14,d("WAWebWamEnumLoginHostType").LOGIN_HOST_TYPE],loginPort:[15,d("WAWebWamEnumLoginPortNumber").LOGIN_PORT_NUMBER],loginResolvedPop:[19,a.TYPES.STRING],loginResult:[1,d("WAWebWamEnumLoginResultType").LOGIN_RESULT_TYPE],loginSocketProvider:[22,d("WAWebWamEnumStreamSocketProviderType").STREAM_SOCKET_PROVIDER_TYPE],loginT:[3,a.TYPES.TIMER],logoutSessionId:[18,a.TYPES.INTEGER],longConnect:[4,a.TYPES.BOOLEAN],mnsDnsCacheAge:[23,a.TYPES.INTEGER],networkIsVpn:[24,a.TYPES.BOOLEAN],noiseProtocolVersion:[16,a.TYPES.INTEGER],numIpv4Addresses:[25,a.TYPES.INTEGER],numIpv6Addresses:[26,a.TYPES.INTEGER],passive:[8,a.TYPES.BOOLEAN],pendingAcksCount:[17,a.TYPES.INTEGER],retryCount:[2,a.TYPES.INTEGER],sequenceStep:[7,a.TYPES.INTEGER],serverErrorCode:[9,a.TYPES.INTEGER]},[1,1,1],"regular"]},{Login:[]});g.LoginWamEvent=b}),98);
__d("WAWebWamWorkerSpecificEvents",["WAWebLoginWamEvent"],(function(a,b,c,d,e,f){Object.keys(importNamespace("WAWebLoginWamEvent")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("WAWebLoginWamEvent")[a]})}),null);
__d("WAWebFBLoggerSetup",["Env","ErrorGuard","ErrorSetup","ErrorTransport","JSErrorLoggingConfig","SiteData"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){c("ErrorSetup").preSetup(),(h||(h=c("ErrorGuard"))).skipGuardGlobal((i||(i=c("Env"))).nocatch),c("ErrorSetup").setup({appId:c("JSErrorLoggingConfig").appId,client_revision:c("SiteData").client_revision,extra:c("JSErrorLoggingConfig").extra,loggingFramework:"wa_web",projectBlocklist:c("JSErrorLoggingConfig").projectBlocklist,report_source:c("JSErrorLoggingConfig").report_source,report_source_ref:c("JSErrorLoggingConfig").report_source_ref,sample_weight:c("JSErrorLoggingConfig").sampleWeight!=null?c("JSErrorLoggingConfig").sampleWeight:1},d("ErrorTransport").log)}g.init=a}),98);
__d("initWAWebPlatformWebPage",["VultureJSGating","WALogger","WAWebFBLoggerSetup","WhatsAppWebBanzaiConfig","cr:7426","cr:7507","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){j()}function j(){if(c("WhatsAppWebBanzaiConfig").disabled){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[app] disabling Banzai"])));k();d("VultureJSGating").__DO_NOT_USE_DISABLE_VULTURE_JS_LOGGING();return}c("gkx")("2664")||d("VultureJSGating").__DO_NOT_USE_DISABLE_VULTURE_JS_LOGGING();d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[app] enabling FalcoLoggerTransports"])));b("cr:7426")&&(b("cr:7426").adapter.config.known_routes=c("WhatsAppWebBanzaiConfig").known_routes);b("cr:7507")==null||b("cr:7507").onReady(function(a){return a.attach()});c("gkx")("16915")&&d("WAWebFBLoggerSetup").init()}function k(){b("cr:7426")&&(b("cr:7426").adapter.config.disabled=!0)}g["default"]=a}),98);
__d("WAWebAppInitializer.react",["WACryptoLibraryConfig","WAJids","WALogger","WAWap","WAWeb-modernizr","WAWebABProps","WAWebABPropsCache","WAWebApp.react","WAWebAppSwInitializer","WAWebBrokerBackendInterface","WAWebBuildConstants","WAWebCacheStoreGatingUtil","WAWebClientFeatureFlags","WAWebConfigureWindowEvents","WAWebDebugSetup","WAWebDesktopUpsellUtils","WAWebEmojiKeywordToUnicode","WAWebEnvironment","WAWebEventSamplingCache","WAWebFeatureDetectionRedirectIfMissingCapabilities","WAWebFrontendL10nHelpers","WAWebGlobals","WAWebHandlePreviousLogout","WAWebInfraErrorLogger","WAWebInvocationInterface","WAWebLodashMemoizeCache","WAWebLogger","WAWebLoggerOnError","WAWebMetricsAttributionObservers","WAWebPageLoadLoggingImpl","WAWebQplQuickPerformanceLoggerInit","WAWebQplValuesConfig","WAWebRunInTransaction","WAWebSafari14Fix","WAWebStorageErrorHandlingUtils","WAWebStringPolyfills","WAWebTransitions","WAWebUA","WAWebUserPrefsMeUser","WAWebWam","WAWebWamPREListeners","WAWebWamPageLoadReporter","WAWebWamWorkerSpecificEvents","WAWebWidToJid","WaWebRequestPersistentStorage","asyncToGeneratorRuntime","cr:13019","cr:17219","cr:23446","cr:6448","cr:9859","gkx","initWAWebPlatformWebPage","nullthrows","react","useWAWebABPropConfigValue","useWAWebPrevious","velocity-animate","velocity-animate-ui"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.useState;e=(e=b("cr:13019"))!=null?e:{};var p=e.reportPotentialWebDataLoss;function a(){d("WAWebStringPolyfills").polyfillStringReplaceAll();var a=o(!1),e=a[0],f=a[1];a=d("useWAWebABPropConfigValue").useABPropConfigValue("wa_web_console_log_level");var g=c("useWAWebPrevious")(a);!c("gkx")("26258")&&g!=null&&a!==g&&d("WAWebLogger").initializeWAWebLogger();c("WAWebEnvironment").isWindows&&void d("WaWebRequestPersistentStorage").requestPersistentStore();n(function(){void q().then(function(){!c("WAWebFeatureDetectionRedirectIfMissingCapabilities")()?f(!0):d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Redirect because missing required browser apis"]))).sendLogs("missing-required-browser-apis")})},[]);return e?m.createElement(d("WAWebApp.react").App,null):b("cr:23446")?m.createElement(b("cr:23446"),{description:"WAWebAppInitializer_bootstrap",hold:!0}):null}a.displayName=a.name+" [from "+f.id+"]";function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e,f;b("cr:6448")==null||b("cr:6448").incr("web.app.bootstrap");b("cr:9859")==null||b("cr:9859")();d("WAWebLodashMemoizeCache").setupLodashMemoizeCache();d("WAWebLogger").initializeWAWebLogger();d("WAWebInfraErrorLogger").addListenerToErrorPubSub();window.onerror=d("WAWebLoggerOnError").onErrorHandler;window.onunhandledrejection=d("WAWebLoggerOnError").onUnhandledPromiseRejection;c("initWAWebPlatformWebPage")();d("WAWebWamPREListeners").initializePREMetrics();yield d("WAWebHandlePreviousLogout").handlePreviousLogoutFailures();d("WAWebQplQuickPerformanceLoggerInit").initializeQpl();d("WAWebPageLoadLoggingImpl").setPageLoadLoggingImpl();d("WAWebABPropsCache").initializeABPropsCache();d("WAWebClientFeatureFlags").overwriteDebugFeatures();a=(a=b("cr:17219"))==null?void 0:a.getWindowsBridge();void (a==null||(e=a.abProps)==null?void 0:e.initialize());d("WAWebEventSamplingCache").initializeEventSamplingCache();d("WAWebWam").initWamRuntime();a==null||(f=a.wam)==null||f.initialize();d("WAWebMetricsAttributionObservers").initializeMetricsAttributionObservers();b("WAWebWamWorkerSpecificEvents");d("WAWebWamPageLoadReporter").exeTimer.start();d("WAWebUA").UA.isSafari&&d("WAWebUA").UA.browserVersion.startsWith("13.")&&(c("nullthrows")(document.body).className+=" text-rendering-bug-fix");b("WAWeb-modernizr");window.Velocity=b("velocity-animate");b("velocity-animate-ui");b("WAWebTransitions").registerEffects();d("WAWebInvocationInterface").set(c("WAWebBrokerBackendInterface"));d("WAWebDebugSetup").setupDebugGlobal();d("WAWebConfigureWindowEvents").configureWindowEvents();yield d("WAWebSafari14Fix").loadUserIdbForBrokenSafariVersion();try{d("WAWebEmojiKeywordToUnicode").updateEmojiTrie()}catch(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[emoji-trie] EmojiKeywordToUnicode setup failed: ",", stack: ",""])),a,a.stack).sendLogs("[emoji-trie] EmojiKeywordToUnicode setup failed: "+a.message)}d("WAWebFrontendL10nHelpers").extendWAWebLocalePrefCookieTtl();d("WAWebFrontendL10nHelpers").mungeWAWebLocaleOverrideFromUrlIfNecessary();d("WAWebWamPageLoadReporter").exeTimer.end();c("gkx")("26258")||d("WAWap").enableXMLFormat();void d("WAWebDesktopUpsellUtils").isWebUserOnSupportedWindowsOSForUWPAsync();a=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();var g=d("WAWebWidToJid").widToMyJids(a);d("WAWebGlobals").setGlobals({jidUtils:d("WAJids").createJidUtils({platform:"whatsapp"}),myJids:g,runInTransaction:d("WAWebRunInTransaction").runInTransaction,qpl:d("WAWebQplValuesConfig").qplConfigs,newClockSkewCalculation:function(){return!1}});d("WACryptoLibraryConfig").setCryptoLibraryConfig({signalFutureMessagesMax:d("WAWebABProps").getABPropConfigValue("web_signal_future_messages_max"),S508658PreventOldSessionLookupAndPromote:d("WAWebABProps").getABPropConfigValue("web_signal_prevent_old_session_lookup_and_promote"),S508658AutoAcknowledgeStaleSessions:d("WAWebABProps").getABPropConfigValue("web_signal_auto_acknowledge_stale_sessions")});d("WAWebCacheStoreGatingUtil").initStorageOptimizationFlags();void d("WAWebAppSwInitializer").initializeSw();d("WAWebStorageErrorHandlingUtils").persistAppReloadMarker();c("WAWebEnvironment").isWindows&&a==null&&void (p==null?void 0:p());d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[app] bootstrap done"])));d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[app] version: ",""])),d("WAWebBuildConstants").VERSION_STR)});return r.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebODS",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WAWebODSImpl").__setRef("WAWebODS");a={addListener:function(a){c("promiseDone")(h.load().then(function(b){b.addListener(a)}))},incr:function(a,b){c("promiseDone")(h.load().then(function(c){c.incr(a,b)}))}};g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("WACert.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};a.name="NoiseCertificate";a.internalSpec={details:[1,(d=d("WAProtoConst")).TYPES.BYTES],signature:[2,d.TYPES.BYTES]};b.name="NoiseCertificate$Details";b.internalSpec={serial:[1,d.TYPES.UINT32],issuer:[2,d.TYPES.STRING],expires:[3,d.TYPES.UINT64],subject:[4,d.TYPES.STRING],key:[5,d.TYPES.BYTES]};c.name="CertChain";c.internalSpec={leaf:[1,d.TYPES.MESSAGE,e],intermediate:[2,d.TYPES.MESSAGE,e]};e.name="CertChain$NoiseCertificate";e.internalSpec={details:[1,d.TYPES.BYTES],signature:[2,d.TYPES.BYTES]};f.name="CertChain$NoiseCertificate$Details";f.internalSpec={serial:[1,d.TYPES.UINT32],issuerSerial:[2,d.TYPES.UINT32],key:[3,d.TYPES.BYTES],notBefore:[4,d.TYPES.UINT64],notAfter:[5,d.TYPES.UINT64]};g.NoiseCertificateSpec=a;g.NoiseCertificate$DetailsSpec=b;g.CertChainSpec=c;g.CertChain$NoiseCertificateSpec=e;g.CertChain$NoiseCertificate$DetailsSpec=f}),98);
__d("WAHandleChatStateProtocol",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a.name==="Paused"?b="idle":(a.name,b=a.value.composingMedia==="audio"?"recording_audio":"typing");return b}f.parseChatStatus=a}),66);
__d("WASmaxInChatstateInternalTestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"test");if(!a.success)return a;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a.value,"config");return!a.success?a:d("WAResultOrError").makeResult({testConfig:a.value})}g.parseInternalTestMixin=a}),98);
__d("WASmaxInChatstateEnums",["WAJids"],(function(a,b,c,d,e,f,g){b={validators:[(a=d("WAJids")).validateUserJid,a.validateUserJid,a.validateUserJid],typeName:"UserJid|UserJid|UserJid"};c={validators:[a.validateUserJid,a.validateUserJid,a.validateUserJid,a.validateUserJid],typeName:"UserJid|UserJid|UserJid|UserJid"};g.USERJID_USERJID_USERJID=b;g.USERJID_USERJID_USERJID_USERJID=c}),98);
__d("WASmaxInChatstateFromGroupMixin",["WAResultOrError","WASmaxInChatstateEnums","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"chatstate");if(!b.success)return b;b=d("WASmaxParseJid").attrGroupJid(a,"from");if(!b.success)return b;var c=d("WASmaxParseJid").attrJidEnum(a,"participant",d("WASmaxInChatstateEnums").USERJID_USERJID_USERJID);if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"participant_pn");return!a.success?a:d("WAResultOrError").makeResult({from:b.value,participant:c.value,participantPn:a.value})}g.parseFromGroupMixin=a}),98);
__d("WASmaxInChatstateFromUserMixin",["WAResultOrError","WASmaxInChatstateEnums","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"chatstate");if(!b.success)return b;b=d("WASmaxParseJid").attrJidEnum(a,"from",d("WASmaxInChatstateEnums").USERJID_USERJID_USERJID_USERJID);return!b.success?b:d("WAResultOrError").makeResult({from:b.value})}g.parseFromUserMixin=a}),98);
__d("WASmaxInChatstateStateSource",["WAResultOrError","WASmaxInChatstateFromGroupMixin","WASmaxInChatstateFromUserMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInChatstateFromUserMixin").parseFromUserMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"FromUser",value:b.value});var c=d("WASmaxInChatstateFromGroupMixin").parseFromGroupMixin(a);return c.success?d("WAResultOrError").makeResult({name:"FromGroup",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["FromUser","FromGroup"],[b,c])}g.parseStateSource=a}),98);
__d("WASmaxInChatstateComposingMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"chatstate");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"composing");if(!b.success)return b;a=d("WASmaxParseUtils").optionalLiteral(d("WASmaxParseUtils").attrString,b.value,"media","audio");return!a.success?a:d("WAResultOrError").makeResult({composingMedia:a.value})}g.parseComposingMixin=a}),98);
__d("WASmaxInChatstatePausedMixin",["WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"chatstate");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"paused");return!b.success?b:d("WASmaxParseUtils").voidSuccess}g.parsePausedMixin=a}),98);
__d("WASmaxInChatstateStateTypes",["WAResultOrError","WASmaxInChatstateComposingMixin","WASmaxInChatstatePausedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInChatstateComposingMixin").parseComposingMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"Composing",value:b.value});var c=d("WASmaxInChatstatePausedMixin").parsePausedMixin(a);return c.success?d("WAResultOrError").makeResult({name:"Paused",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["Composing","Paused"],[b,c])}g.parseStateTypes=a}),98);
__d("WASmaxInChatstateServerNotificationRequest",["WAResultOrError","WASmaxInChatstateInternalTestMixin","WASmaxInChatstateStateSource","WASmaxInChatstateStateTypes","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"chatstate");if(!b.success)return b;b=d("WASmaxInChatstateInternalTestMixin").parseInternalTestMixin(a);var c=d("WASmaxInChatstateStateSource").parseStateSource(a);if(!c.success)return c;a=d("WASmaxInChatstateStateTypes").parseStateTypes(a);return!a.success?a:d("WAResultOrError").makeResult({internalTestMixin:b.success?b.value:null,stateSource:c.value,stateTypes:a.value})}g.parseServerNotificationRequest=a}),98);
__d("WASmaxChatstateServerNotificationRPC",["WASmaxInChatstateServerNotificationRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInChatstateServerNotificationRequest").parseServerNotificationRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("ServerNotification",{Request:a}));return{parsedRequest:a.value}}g.receiveServerNotificationRPC=a}),98);
__d("WACreateHandleChatState",["Promise","WAHandleChatStateProtocol","WAResultOrError","WASmaxChatstateServerNotificationRPC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||b("Promise")).resolve(d("WAResultOrError").makeResult("NO_ACK"));function a(a){var b,c=(b=a.individualMessage)==null?void 0:b.handleIndividualChatState,e=(b=a.groupMessage)==null?void 0:b.handleGroupChatState;return function(a){if(c==null&&e==null)return i;a=d("WASmaxChatstateServerNotificationRPC").receiveServerNotificationRPC(a);a=a.parsedRequest;var b=a.stateTypes;a=a.stateSource;b=d("WAHandleChatStateProtocol").parseChatStatus(b);if(a.name==="FromUser"){var f;return(f=c==null?void 0:c({status:b,jid:a.value.from}).then(d("WAResultOrError").makeResult))!=null?f:i}else{a.name;return(f=e==null?void 0:e({status:b,jid:a.value.from,participant:a.value.participant}).then(d("WAResultOrError").makeResult))!=null?f:i}}}g.createHandleChatState=a}),98);
__d("WAErrorMessage",[],(function(a,b,c,d,e,f){"use strict";var g="NoErrorMessageProvided";function a(a){if(typeof a==="string")return a;if(a instanceof Error)return a.toString();if(typeof a==="object")if(typeof (a==null?void 0:a.description)==="string")return a.description;else if(typeof (a==null?void 0:a.message)==="string")return a.message;return g}f.NO_ERROR_MESSAGE_PROVIDED=g;f.maybeGetMessageFromError=a}),66);
__d("WAFrameSocket",["WABinary","WAErrors","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=function(a){function b(b){var c="SocketClosed";b=a.call(this,b!=null?b:c)||this;b.name=c;return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toString=function(){return this.name};return b}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a,b){var c=this;this.$3=new(d("WABinary").Binary)();this.closed=!1;this.$4=!1;this.onFrame=null;this.onClose=null;this.$5=function(a){c.$3.writeByteArray(a),c.convertBufferedToFrames()};this.$6=function(){if(c.$3.peek(n)){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket closed, waiting for pending processing"])));c.$4=!0;return}c.$9()};this.$7=function(a){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket error"]))).devConsole(a)};this.$2=b;this.$1=a;a.onData=this.$5;a.onClose=this.$6;a.onError=this.$7}var b=a.prototype;b.sendFrame=function(a){if(this.$4)return;this.throwIfClosed();var b=this.$2,c=a.byteLength;this.$8(c);var d=this.$1.dataToSend;b?(this.$2=null,d.ensureAdditionalCapacity(b.length+3+c),d.writeByteArray(b)):d.ensureAdditionalCapacity(3+c);d.writeUint8(c>>16);d.writeUint16(c&65535);d.write(a);this.$1.requestSend()};b.$9=function(){if(this.closed)return;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket closed"])));this.$4=!1;this.closed=!0;var a=this.onClose;a&&a()};b.$8=function(a){if(a>=1<<24){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Buffer to send: ",""])),a);throw new(d("WAErrors").BufferTooLargeError)("Buffer too large: "+a)}};b.convertBufferedToFrames=function(){var a=this.$3,b=this.onFrame;while(b&&a.peek(n)){var c=o(a);c=a.readByteArrayView(c);b(c);b=this.onFrame}this.$4&&!a.peek(n)&&this.$9();b&&a.size()&&d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket: queueing partial frame of "," bytes"])),a.size())};b.throwIfClosed=function(){if(this.closed)throw new m()};b.close=function(){this.$1.close()};return a}();function n(a){if(a.size()<3)return!1;var b=o(a);return b<=a.size()}function o(a){return a.readUint8()<<16|a.readUint16()}g.SocketClosed=m;g.FrameSocket=a}),98);
__d("WASmaxInAbPropsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInAbPropsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInAbPropsNoRetryErrors",["WAResultOrError","WASmaxInAbPropsIQErrorBadRequestMixin","WASmaxInAbPropsIQErrorFeatureNotImplementedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorFeatureNotImplemented"],[b,c])}g.parseNoRetryErrors=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry",["WAResultOrError","WASmaxInAbPropsIQErrorResponseMixin","WASmaxInAbPropsNoRetryErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInAbPropsNoRetryErrors").parseNoRetryErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorNoRetryErrors:b.value}))}g.parseGetExperimentConfigResponseErrorNoRetry=a}),98);
__d("WASmaxInAbPropsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry",["WAResultOrError","WASmaxInAbPropsIQErrorInternalServerErrorMixin","WASmaxInAbPropsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInAbPropsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetExperimentConfigResponseErrorRetry=a}),98);
__d("WASmaxInAbPropsExperimentConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"config_code",1,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"config_value");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"config_expo_key",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({configCode:b.value,configValue:c.value,configExpoKey:a.value})}g.parseExperimentConfigMixin=a}),98);
__d("WASmaxInAbPropsSamplingConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"event_code",1,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"sampling_weight",-1e4,1e4);return!a.success?a:d("WAResultOrError").makeResult({eventCode:b.value,samplingWeight:a.value})}g.parseSamplingConfigMixin=a}),98);
__d("WASmaxInAbPropsConfigs",["WAResultOrError","WASmaxInAbPropsExperimentConfigMixin","WASmaxInAbPropsSamplingConfigMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsExperimentConfigMixin").parseExperimentConfigMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"ExperimentConfig",value:b.value});var c=d("WASmaxInAbPropsSamplingConfigMixin").parseSamplingConfigMixin(a);return c.success?d("WAResultOrError").makeResult({name:"SamplingConfig",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["ExperimentConfig","SamplingConfig"],[b,c])}g.parseConfigs=a}),98);
__d("WASmaxInAbPropsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseSuccess",["WAResultOrError","WASmaxInAbPropsConfigs","WASmaxInAbPropsIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxInAbPropsConfigs").parseConfigs(a);return!b.success?b:d("WAResultOrError").makeResult({configs:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"erid");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,1,100);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"props");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"erid",i);if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"protocol","1");if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"ab_key");if(!g.success)return g;var j=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"hash");if(!j.success)return j;var k=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh",0,void 0);if(!k.success)return k;var l=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh_id",0,void 0);if(!l.success)return l;a=d("WASmaxInAbPropsIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"prop",0,Infinity,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({propsProtocol:f.value,propsAbKey:g.value,propsHash:j.value,propsRefresh:k.value,propsRefreshId:l.value},a.value,{erid:e.value,propsProp:b.value}))}g.parseGetExperimentConfigResponseSuccessPropsProp=h;g.parseGetExperimentConfigResponseSuccessErid=i;g.parseGetExperimentConfigResponseSuccess=a}),98);
__d("WASmaxOutAbPropsBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutAbPropsGetExperimentConfigRequest",["WASmaxAttrs","WASmaxJsx","WASmaxOutAbPropsBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a.propsHash;a=d("WASmaxOutAbPropsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"abt",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("props",{protocol:"1",hash:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)})));return a}g.makeGetExperimentConfigRequest=a}),98);
__d("WASmaxAbPropsGetExperimentConfigRPC",["WAComms","WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry","WASmaxInAbPropsGetExperimentConfigResponseErrorRetry","WASmaxInAbPropsGetExperimentConfigResponseSuccess","WASmaxOutAbPropsGetExperimentConfigRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutAbPropsGetExperimentConfigRequest").makeGetExperimentConfigRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInAbPropsGetExperimentConfigResponseSuccess").parseGetExperimentConfigResponseSuccess(b,a);if(c.success)return{name:"GetExperimentConfigResponseSuccess",value:c.value};var e=d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry").parseGetExperimentConfigResponseErrorNoRetry(b,a);if(e.success)return{name:"GetExperimentConfigResponseErrorNoRetry",value:e.value};b=d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry").parseGetExperimentConfigResponseErrorRetry(b,a);if(b.success)return{name:"GetExperimentConfigResponseErrorRetry",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetExperimentConfig",{Success:c,ErrorNoRetry:e,ErrorRetry:b}))});return h.apply(this,arguments)}g.sendGetExperimentConfigRPC=a}),98);
__d("WAGetAbPropsProtocol",["WALogger","WAResultOrError","WASmaxAbPropsGetExperimentConfigRPC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxAbPropsGetExperimentConfigRPC").sendGetExperimentConfigRPC({propsHash:a}));if(a.name==="GetExperimentConfigResponseSuccess"){var b=a.value,c=b.propsAbKey,e=b.propsHash,f=b.propsRefresh,g=b.propsRefreshId,i=b.propsProp;b=b.erid;i=j(i);var k=i.newProps;i=i.samplingConfigs;return d("WAResultOrError").makeResult({abKey:c,hash:e,refresh:f,refreshId:g,props:k,samplingConfigs:i,erid:b==null?void 0:b.elementValue})}d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getAbPropsProtocol failed ",""])),a.value);return d("WAResultOrError").makeError()});return i.apply(this,arguments)}function j(a){var b=[],c=[];a.forEach(function(a){a=a.configs;if(a.name==="ExperimentConfig"){var d;b.push({configCode:a.value.configCode,configValue:a.value.configValue,configExpoKey:(d=a.value.configExpoKey)==null?void 0:d.toString()})}else a.name==="SamplingConfig"&&c.push({eventCode:a.value.eventCode,samplingWeight:a.value.samplingWeight})});return{newProps:b,samplingConfigs:c}}g.getAbPropsProtocol=a}),98);
__d("WAHandleDecisionTreeResult",["WAErrorMessage","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var c=d("WATagsLogger").TAGS(["decision tree"]);return b.then(function(b){if(b.success)return b.value;else if(b.error.type==="unknown-stanza"){c.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["unrecognized stanza: ",""])),a);return"NO_ACK"}else{b.error.type;c.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[","] runtime-error ",""])),a.tag,b.error.error);return"NO_ACK"}})["catch"](function(b){c.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[","] unexpected-runtime-error: ",""])),a.tag,d("WAErrorMessage").maybeGetMessageFromError(b));return"NO_ACK"})}g.handleDecisionTreeResult=a}),98);
__d("WANoiseSocket",["Promise","WACryptoDependencies","WALogger","WAPromiseQueue","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=(k||(k=b("Promise"))).reject("UNINITIALIZED HANDSHAKE");var l=new Uint8Array(0);a["catch"](function(){});c=function(){function a(a,b,c){var e=this;this.$4=[];this.$5=new(d("WAPromiseQueue").PromiseQueue)();this.$6=new(d("WAPromiseQueue").PromiseQueue)();this.$7=0;this.$8=0;this.$9=!1;this.$14=function(a){!e.$1.closed?(d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Sending encrypted frame to web socket"]))).tags("WANoiseSocket"),e.$1.sendFrame(a)):d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["NoiseSocket socket closed while encrypting frame"])))};this.$12=function(a){var b=e.$7++;e.$5.enqueueHandlers(o(e.$2,b,void 0,a),e.$15)};this.$13=function(){e.$9=!0,e.$5.wait().then(function(){e.$9=!1;var a=e.$11;a&&a()})};this.$15=function(a){e.$10?e.$10(a):e.$4.push(a)};this.$1=a;this.$3=b;this.$2=c;a.onFrame=this.$12;this.$1.onClose=this.$13;a.convertBufferedToFrames()}var c=a.prototype;c.sendFrameAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.sendFrame(a));return a});function c(b){return a.apply(this,arguments)}return c}();c.sendFrame=function(a){if(this.$9)return(k||(k=b("Promise"))).resolve();this.$1.throwIfClosed();var c=this.$8++;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["sendFrame adding to queue with frame size: "," bytes"])),a.length).tags("WANoiseSocket");return this.$6.enqueueHandlers(n(this.$3,c,void 0,a),this.$14)};c.setOnFrame=function(a){this.$10=a};c.setOnClose=function(a){this.$11=a};c.close=function(){this.$1.close()};return a}();function m(a){var b=new ArrayBuffer(12),c=new DataView(b);c.setUint32(8,a);return new Uint8Array(b)}function n(a,b,c,e){return d("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-GCM",iv:m(b),additionalData:c?new Uint8Array(c):l},a,e)}function o(a,b,c,e){return d("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-GCM",iv:m(b),additionalData:c?new Uint8Array(c):l},a,e)}g.NoiseSocket=c}),98);
__d("WANoiseHandshake",["Promise","WABinary","WACryptoDependencies","WACryptoHkdf","WACryptoSha256","WAErrors","WANoiseSocket","WAResolvable","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("WATagsLogger").TAGS(["NoiseHandshake"]),m=(k||(k=b("Promise"))).reject("UNINITIALIZED HANDSHAKE"),n=new Uint8Array(0);m["catch"](function(){});a=function(){function a(a){var b=this;this.$2=m;this.$3=m;this.$4=m;this.$5=0;this.$1=a;this.$6=new(d("WAResolvable").Resolvable)();a.onClose=function(){b.$6.reject(new(d("WAErrors").Disconnected)("NoiseHandshake: SocketClosed"))};t(this.$6.promise)}var c=a.prototype;c.start=function(a,c){a=d("WABinary").Binary.build(a).readBuffer();a=a.byteLength===32?(k||(k=b("Promise"))).resolve(a):d("WACryptoSha256").sha256(a);this.$2=a;this.$3=a;this.$4=a.then(p);this.authenticate(c)};c.sendAndReceive=function(a){var c=this.$1,d=new(k||(k=b("Promise")))(function(b){c.onFrame=function(a){c.onFrame=null,b(a)},c.sendFrame(a)});return this.$7(d)};c.send=function(a){this.$1.sendFrame(a)};c.authenticate=function(a){this.$2=(k||(k=b("Promise"))).all([this.$2,a]).then(function(a){var b=a[0];a=a[1];b=d("WABinary").Binary.build(b,a).readByteArrayView();return d("WACryptoSha256").sha256(b)})};c.encrypt=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var c=this.$5++;a=(k||(k=b("Promise"))).all([this.$4,this.$2,a]).then(function(a){var b=a[0],d=a[1];a=a[2];return q(b,c,d,a)});this.authenticate(a);a=(yield this.$7(a));return a}catch(a){l.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error on encrypt: ",""])),a);throw a}});function c(b){return a.apply(this,arguments)}return c}();c.decrypt=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){try{var d=this.$5++,e=(k||(k=b("Promise"))).all([this.$4,this.$2]).then(function(b){var c=b[0];b=b[1];return r(c,d,b,a)});this.authenticate(a);e=(yield this.$7(e));return e}catch(a){l.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error on decrypt: "," reason: ",""])),a,c);throw a}});function c(b,c){return a.apply(this,arguments)}return c}();c.finish=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;try{var c=this.$3.then(function(a){return s(a,new Uint8Array(0))}).then(function(a){var c=a[0];a=a[1];return(k||(k=b("Promise"))).all([p(c,["encrypt"]),p(a,["decrypt"])])}).then(function(b){var c=b[0];b=b[1];return new(d("WANoiseSocket").NoiseSocket)(a.$1,c,b)});c=(yield this.$7(c));return c}catch(a){l.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Error on finish: ",""])),a);throw a}});function c(){return a.apply(this,arguments)}return c}();c.mixIntoKey=function(a){this.$5=0;a=(k||(k=b("Promise"))).all([this.$3,a]).then(function(a){var b=a[0];a=a[1];return s(b,new Uint8Array(a))});this.$3=a.then(function(a){return a[0]});this.$4=a.then(function(a){return p(a[1])});t(this.$3);t(this.$4)};c.$7=function(a){var c=this;return(k||(k=b("Promise"))).race([a,this.$6.promise]).then(function(a){return c.$6.resolveWasCalled()?c.$6.promise:a})};return a}();function o(a){var b=new ArrayBuffer(12),c=new DataView(b);c.setUint32(8,a);return new Uint8Array(b)}function p(a,b){b===void 0&&(b=["encrypt","decrypt"]);return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",new Uint8Array(a),"AES-GCM",!1,b)}function q(a,b,c,e){return d("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-GCM",iv:o(b),additionalData:c?new Uint8Array(c):n},a,e)}function r(a,b,c,e){return d("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-GCM",iv:o(b),additionalData:c?new Uint8Array(c):n},a,e)}function s(a,b){return d("WACryptoHkdf").extractWithSaltAndExpand(b,new Uint8Array(a),"",64).then(function(a){return[a.slice(0,32),a.slice(32)]})}function t(a){a["catch"](function(){})}g.NoiseHandshake=a}),98);
__d("WASmaxInPassiveModeActiveIQResponseSuccess",["WAResultOrError","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"active");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");if(!c.success)return c;b=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");return!b.success?b:d("WAResultOrError").makeResult({type:c.value,from:b.value})}g.parseActiveIQResponseSuccess=a}),98);
__d("WASmaxOutPassiveModeActiveIQRequest",["WASmaxJsx","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set",xmlns:"passive",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("active",null));return a}g.makeActiveIQRequest=a}),98);
__d("WASmaxPassiveModeActiveIQRPC",["WAComms","WASmaxInPassiveModeActiveIQResponseSuccess","WASmaxOutPassiveModeActiveIQRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WASmaxOutPassiveModeActiveIQRequest").makeActiveIQRequest();a=(yield d("WAComms").sendSmaxStanza(b,a));a=d("WASmaxInPassiveModeActiveIQResponseSuccess").parseActiveIQResponseSuccess(a,b);if(a.success)return{name:"ActiveIQResponseSuccess",value:a.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("ActiveIQ",{Success:a}))});return h.apply(this,arguments)}g.sendActiveIQRPC=a}),98);
__d("WASmaxInPassiveModePassiveIQResponseSuccess",["WAResultOrError","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"passive");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");if(!c.success)return c;b=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");return!b.success?b:d("WAResultOrError").makeResult({type:c.value,from:b.value})}g.parsePassiveIQResponseSuccess=a}),98);
__d("WASmaxOutPassiveModePassiveIQRequest",["WASmaxJsx","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set",xmlns:"passive",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("passive",null));return a}g.makePassiveIQRequest=a}),98);
__d("WASmaxPassiveModePassiveIQRPC",["WAComms","WASmaxInPassiveModePassiveIQResponseSuccess","WASmaxOutPassiveModePassiveIQRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WASmaxOutPassiveModePassiveIQRequest").makePassiveIQRequest();a=(yield d("WAComms").sendSmaxStanza(b,a));a=d("WASmaxInPassiveModePassiveIQResponseSuccess").parsePassiveIQResponseSuccess(a,b);if(a.success)return{name:"PassiveIQResponseSuccess",value:a.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("PassiveIQ",{Success:a}))});return h.apply(this,arguments)}g.sendPassiveIQRPC=a}),98);
__d("WASendPassiveModeProtocol",["WALogger","WASmaxPassiveModeActiveIQRPC","WASmaxPassiveModePassiveIQRPC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==="active"?yield d("WASmaxPassiveModeActiveIQRPC").sendActiveIQRPC():yield d("WASmaxPassiveModePassiveIQRPC").sendPassiveIQRPC(),d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendPassiveModeIq: passive mode set to '","'"])),a)});return i.apply(this,arguments)}g.sendPassiveModeProtocol=a}),98);
__d("WASmaxInClientExpirationClientExpirationRequest",["WAResultOrError","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ib");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"client_expiration");if(!b.success)return b;a=d("WASmaxParseJid").literalJid(d("WASmaxParseJid").attrDomainJid,a,"from","s.whatsapp.net");if(!a.success)return a;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,b.value,"t",0,void 0);return!b.success?b:d("WAResultOrError").makeResult({from:a.value,clientExpirationT:b.value})}g.parseClientExpirationRequest=a}),98);
__d("WASmaxClientExpirationClientExpirationRPC",["WASmaxInClientExpirationClientExpirationRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxInClientExpirationClientExpirationRequest").parseClientExpirationRequest(a);if(!a.success)throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("ClientExpiration",{Request:a}));return{parsedRequest:a.value}}g.receiveClientExpirationRPC=a}),98);
__d("WASocketTransport",["Promise","WABinary","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=1,m=function(){function a(a){var b=this;this.$2=!1;this.onData=null;this.onClose=null;this.onError=null;this.dataToSend=new(d("WABinary").Binary)();this.$3=function(a){if(b.$2)return;a=new Uint8Array(a.data);b.onData?b.onData(a):d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WebSocket #"," dropped "," bytes"])),b.id,a.length)};this.$4=function(a){if(b.$2)return;b.$6(a)};this.$5=function(a){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WebSocket #"," errored: ",""])),b.id,a);if(b.$2)return;var c=b.onError;c&&c(String(a))};var c=l++;this.id=c;this.$1=a;a.onmessage=this.$3;a.onclose=this.$4;a.onerror=this.$5}var b=a.prototype;b.close=function(){if(this.$2)return;this.$1.close();this.$6()};b.requestSend=function(){if(this.$2){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WebSocket #"," not opened"])),this.id);return}if(!this.dataToSend.size())return;this.$1.send(this.dataToSend.readBuffer())};b.$6=function(a){this.$2=!0,this.onClose&&this.onClose(a)};return a}();function a(a,d,e,f){var g=new WebSocket(a);g.binaryType="arraybuffer";return new(k||(k=b("Promise")))(function(a,b){g.onopen=function(){f==null||f(),a()},g.onclose=function(a){d==null||d(a),e==null||e(null,a),b(c("err")("WebSocket closed after microtask delay}: "+a.reason+" "+a.code))}}).then(function(){var a=new m(g);e!=null&&(a.onClose=function(b){b!=null&&e(a.id,b)});return a})}g.WebSocketTransport=m;g.openWebSocket=a}),98);
__d("WAVerifyChainCertificateWA6",["WACert.pb","WACryptoUtils","WAHex","WALogger","WAResultOrError","WASignalKeys","WASignalOther","WASignalSignatures","decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;b="142375574d0a587166aae71ebe516437c4a28b73e3695c6ce1f7f9545da8ee6b";var x={SERIAL:0,ISSUER:"WhatsAppLongTerm1",PUBLIC_KEY:d("WASignalKeys").serializeIdentity(new Uint8Array(d("WAHex").parseHex(b)))};function a(a,b){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: extract leaf and intermediate certificate"])));a=d("decodeProtobuf").decodeProtobuf(d("WACert.pb").CertChainSpec,a);var c=a.intermediate;a=a.leaf;if(c==null||a==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: missing leaf and/or intermediate certificate"])));return d("WAResultOrError").makeError("missing-certificate")}d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["verifying intermediate certificate"])));c=y(c);if(!c.success){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: invalid intermediate certificate"])));return d("WAResultOrError").makeError("invalid-certificate")}if(c.value.issuerSerial!==x.SERIAL){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6 intermediate certificate was not issued by RootCA"])));return d("WAResultOrError").makeError("invalid-certificate")}if(!z(c.value,x.PUBLIC_KEY)){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: intermediate certificate is poorly signed"])));return d("WAResultOrError").makeError("invalid-certificate")}d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["verifying leaf certificate"])));a=y(a);if(!a.success){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: invalid leaf certificate"])));return d("WAResultOrError").makeError("invalid-certificate")}if(a.value.issuerSerial!==c.value.serial){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6 leaf certificate was not issued by RootCA"])));return d("WAResultOrError").makeError("invalid-certificate")}var e=d("WASignalKeys").serializeIdentity(new Uint8Array(c.value.key));if(!z(a.value,e)){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: leaf certificate is poorly signed"])));return d("WAResultOrError").makeError("invalid-certificate")}if(!d("WACryptoUtils").arrayBuffersEqual(a.value.key,b)){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6 leafCert.key does not match handshake server.hello.static"])));return d("WAResultOrError").makeError("invalid-certificate")}return d("WAResultOrError").makeResult({leaf:a.value,intermediate:c.value})}function y(a){var b=a.details;a=a.signature;if(!b){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "details"'])));return d("WAResultOrError").makeError("invalid-certificate")}if(!a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "signature"'])));return d("WAResultOrError").makeError("invalid-certificate")}var c=d("decodeProtobuf").decodeProtobuf(d("WACert.pb").CertChain$NoiseCertificate$DetailsSpec,b),e=c.issuerSerial,f=c.serial,g=c.key,h=c.notAfter;c=c.notBefore;if(e==null){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "issuer_serial"'])));return d("WAResultOrError").makeError("invalid-certificate")}if(f==null){d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "serial"'])));return d("WAResultOrError").makeError("invalid-certificate")}if(g==null){d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "key"'])));return d("WAResultOrError").makeError("invalid-certificate")}a=d("WASignalOther").ensureSize(new Uint8Array(a),64);return d("WAResultOrError").makeResult({serial:f,issuerSerial:e,key:g,notBefore:c,notAfter:h,details:b,signature:a})}function z(a,b){return d("WASignalSignatures").verifyMsgSignalVariant(b,new Uint8Array(a.details),a.signature)}g.ROOT_CA=x;g.verifyChainCertificateWA6=a;g.parseCertificateWA6=y}),98);
__d("WAWeb-qrcode",[],(function(a,b,c,d,e,f){var g;(function(){function a(a){this.mode=c.MODE_8BIT_BYTE;this.data=a;this.parsedData=[];if(a instanceof ArrayBuffer){this.parsedData=new Int8Array(a);return}for(var a=0,b=this.data.length;a<b;a++){var d=[],e=this.data.charCodeAt(a);e>65536?(d[0]=240|(e&1835008)>>>18,d[1]=128|(e&258048)>>>12,d[2]=128|(e&4032)>>>6,d[3]=128|e&63):e>2048?(d[0]=224|(e&61440)>>>12,d[1]=128|(e&4032)>>>6,d[2]=128|e&63):e>128?(d[0]=192|(e&1984)>>>6,d[1]=128|e&63):d[0]=e;this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}a.prototype={getLength:function(a){return this.parsedData.length},write:function(b){for(var a=0,c=this.parsedData.length;a<c;a++)b.put(this.parsedData[a],8)}};function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}b.prototype={addData:function(b){b=new a(b);this.dataList.push(b);this.dataCache=null},isDark:function(a,b){if(a<0||this.moduleCount<=a||b<0||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,c);this.typeNumber>=7&&this.setupTypeNumber(a);this.dataCache==null&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;c<=7;c++){if(a+c<=-1||this.moduleCount<=a+c)continue;for(var d=-1;d<=7;d++){if(b+d<=-1||this.moduleCount<=b+d)continue;0<=c&&c<=6&&(d==0||d==6)||0<=d&&d<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=d&&d<=4?this.modules[a+c][b+d]=!0:this.modules[a+c][b+d]=!1}}},getBestMaskPattern:function(){var b=0,c=0;for(var a=0;a<8;a++){this.makeImpl(!0,a);var d=f.getLostPoint(this);(a==0||b>d)&&(b=d,c=a)}return c},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);b=1;this.make();for(c=0;c<this.modules.length;c++){var d=c*b;for(var e=0;e<this.modules[c].length;e++){var f=e*b,g=this.modules[c][e];g&&(a.beginFill(0,100),a.moveTo(f,d),a.lineTo(f+b,d),a.lineTo(f+b,d+b),a.lineTo(f,d+b),a.endFill())}}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++){if(this.modules[a][6]!=null)continue;this.modules[a][6]=a%2==0}for(a=8;a<this.moduleCount-8;a++){if(this.modules[6][a]!=null)continue;this.modules[6][a]=a%2==0}},setupPositionAdjustPattern:function(){var b=f.getPatternPosition(this.typeNumber);for(var a=0;a<b.length;a++)for(var c=0;c<b.length;c++){var d=b[a],e=b[c];if(this.modules[d][e]!=null)continue;for(var g=-2;g<=2;g++)for(var h=-2;h<=2;h++)g==-2||g==2||h==-2||h==2||g==0&&h==0?this.modules[d+g][e+h]=!0:this.modules[d+g][e+h]=!1}},setupTypeNumber:function(b){var c=f.getBCHTypeNumber(this.typeNumber);for(var a=0;a<18;a++){var d=!b&&(c>>a&1)==1;this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=d}for(var a=0;a<18;a++){var d=!b&&(c>>a&1)==1;this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=d}},setupTypeInfo:function(b,c){c=this.errorCorrectLevel<<3|c;c=f.getBCHTypeInfo(c);for(var a=0;a<15;a++){var d=!b&&(c>>a&1)==1;a<6?this.modules[a][8]=d:a<8?this.modules[a+1][8]=d:this.modules[this.moduleCount-15+a][8]=d}for(var a=0;a<15;a++){var d=!b&&(c>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=d:a<9?this.modules[8][15-a-1+1]=d:this.modules[8][15-a-1]=d}this.modules[this.moduleCount-8][8]=!b},mapData:function(a,b){var c=-1,d=this.moduleCount-1,e=7,g=0;for(var h=this.moduleCount-1;h>0;h-=2){h==6&&h--;while(!0){for(var i=0;i<2;i++)if(this.modules[d][h-i]==null){var j=!1;g<a.length&&(j=(a[g]>>>e&1)==1);var k=f.getMask(b,d,h-i);k&&(j=!j);this.modules[d][h-i]=j;e--;e==-1&&(g++,e=7)}d+=c;if(d<0||this.moduleCount<=d){d-=c;c=-c;break}}}}};b.PAD0=236;b.PAD1=17;b.createData=function(c,d,e){d=k.getRSBlocks(c,d);var g=new l();for(var a=0;a<e.length;a++){var h=e[a];g.put(h.mode,4);g.put(h.getLength(),f.getLengthInBits(h.mode,c));h.write(g)}h=0;for(var a=0;a<d.length;a++)h+=d[a].dataCount;if(g.getLengthInBits()>h*8)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+h*8+")");g.getLengthInBits()+4<=h*8&&g.put(0,4);while(g.getLengthInBits()%8!=0)g.putBit(!1);while(!0){if(g.getLengthInBits()>=h*8)break;g.put(b.PAD0,8);if(g.getLengthInBits()>=h*8)break;g.put(b.PAD1,8)}return b.createBytes(g,d)};b.createBytes=function(b,c){var d=0,e=0,g=0,h=new Array(c.length),k=new Array(c.length);for(var l=0;l<c.length;l++){var m=c[l].dataCount,n=c[l].totalCount-m;e=Math.max(e,m);g=Math.max(g,n);h[l]=new Array(m);for(var a=0;a<h[l].length;a++)h[l][a]=255&b.buffer[a+d];d+=m;m=f.getErrorCorrectPolynomial(n);n=new j(h[l],m.getLength()-1);n=n.mod(m);k[l]=new Array(m.getLength()-1);for(var a=0;a<k[l].length;a++){m=a+n.getLength()-k[l].length;k[l][a]=m>=0?n.get(m):0}}m=0;for(var a=0;a<c.length;a++)m+=c[a].totalCount;n=new Array(m);b=0;for(var a=0;a<e;a++)for(var l=0;l<c.length;l++)a<h[l].length&&(n[b++]=h[l][a]);for(var a=0;a<g;a++)for(var l=0;l<c.length;l++)a<k[l].length&&(n[b++]=k[l][a]);return n};var c={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},d={L:1,M:0,Q:3,H:2},e={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(a){var b=a<<10;while(f.getBCHDigit(b)-f.getBCHDigit(f.G15)>=0)b^=f.G15<<f.getBCHDigit(b)-f.getBCHDigit(f.G15);return(a<<10|b)^f.G15_MASK},getBCHTypeNumber:function(a){var b=a<<12;while(f.getBCHDigit(b)-f.getBCHDigit(f.G18)>=0)b^=f.G18<<f.getBCHDigit(b)-f.getBCHDigit(f.G18);return a<<12|b},getBCHDigit:function(a){var b=0;while(a!=0)b++,a>>>=1;return b},getPatternPosition:function(a){return f.PATTERN_POSITION_TABLE[a-1]},getMask:function(b,a,c){switch(b){case e.PATTERN000:return(a+c)%2==0;case e.PATTERN001:return a%2==0;case e.PATTERN010:return c%3==0;case e.PATTERN011:return(a+c)%3==0;case e.PATTERN100:return(Math.floor(a/2)+Math.floor(c/3))%2==0;case e.PATTERN101:return a*c%2+a*c%3==0;case e.PATTERN110:return(a*c%2+a*c%3)%2==0;case e.PATTERN111:return(a*c%3+(a+c)%2)%2==0;default:throw new Error("bad maskPattern:"+b)}},getErrorCorrectPolynomial:function(b){var c=new j([1],0);for(var a=0;a<b;a++)c=c.multiply(new j([1,h.gexp(a)],0));return c},getLengthInBits:function(a,b){if(1<=b&&b<10)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(b<27)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(b<41)switch(a){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+b)},getLostPoint:function(a){var b=a.getModuleCount(),c=0;for(var d=0;d<b;d++)for(var e=0;e<b;e++){var f=0,g=a.isDark(d,e);for(var h=-1;h<=1;h++){if(d+h<0||b<=d+h)continue;for(var i=-1;i<=1;i++){if(e+i<0||b<=e+i)continue;if(h==0&&i==0)continue;g==a.isDark(d+h,e+i)&&f++}}f>5&&(c+=3+f-5)}for(var d=0;d<b-1;d++)for(var e=0;e<b-1;e++){i=0;a.isDark(d,e)&&i++;a.isDark(d+1,e)&&i++;a.isDark(d,e+1)&&i++;a.isDark(d+1,e+1)&&i++;(i==0||i==4)&&(c+=3)}for(var d=0;d<b;d++)for(var e=0;e<b-6;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;e<b;e++)for(var d=0;d<b-6;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);g=0;for(var e=0;e<b;e++)for(var d=0;d<b;d++)a.isDark(d,e)&&g++;h=Math.abs(100*g/b/b-50)/5;c+=h*10;return c}},h={glog:function(a){if(a<1)throw new Error("glog("+a+")");return h.LOG_TABLE[a]},gexp:function(a){while(a<0)a+=255;while(a>=256)a-=255;return h.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++)h.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)h.EXP_TABLE[i]=h.EXP_TABLE[i-4]^h.EXP_TABLE[i-5]^h.EXP_TABLE[i-6]^h.EXP_TABLE[i-8];for(var i=0;i<255;i++)h.LOG_TABLE[h.EXP_TABLE[i]]=i;function j(a,b){if(a.length==void 0)throw new Error(a.length+"/"+b);var c=0;while(c<a.length&&a[c]==0)c++;this.num=new Array(a.length-c+b);for(b=0;b<a.length-c;b++)this.num[b]=a[b+c]}j.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(b){var c=new Array(this.getLength()+b.getLength()-1);for(var a=0;a<this.getLength();a++)for(var d=0;d<b.getLength();d++)c[a+d]^=h.gexp(h.glog(this.get(a))+h.glog(b.get(d)));return new j(c,0)},mod:function(b){if(this.getLength()-b.getLength()<0)return this;var c=h.glog(this.get(0))-h.glog(b.get(0)),d=new Array(this.getLength());for(var a=0;a<this.getLength();a++)d[a]=this.get(a);for(var a=0;a<b.getLength();a++)d[a]^=h.gexp(h.glog(b.get(a))+c);return new j(d,0).mod(b)}};function k(a,b){this.totalCount=a,this.dataCount=b}k.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];k.getRSBlocks=function(b,c){var d=k.getRsBlockTable(b,c);if(d==void 0)throw new Error("bad rs block @ typeNumber:"+b+"/errorCorrectLevel:"+c);b=d.length/3;c=[];for(var a=0;a<b;a++){var e=d[a*3+0],f=d[a*3+1],g=d[a*3+2];for(var h=0;h<e;h++)c.push(new k(f,g))}return c};k.getRsBlockTable=function(a,b){switch(b){case d.L:return k.RS_BLOCK_TABLE[(a-1)*4+0];case d.M:return k.RS_BLOCK_TABLE[(a-1)*4+1];case d.Q:return k.RS_BLOCK_TABLE[(a-1)*4+2];case d.H:return k.RS_BLOCK_TABLE[(a-1)*4+3];default:return void 0}};function l(){this.buffer=[],this.length=0}l.prototype={get:function(a){var b=Math.floor(a/8);return(this.buffer[b]>>>7-a%8&1)==1},put:function(b,c){for(var a=0;a<c;a++)this.putBit((b>>>c-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=128>>>this.length%8);this.length++}};var m=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],n=function(a,b){this._bIsPainted=!1,this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,this._elCanvas.setAttribute("aria-label","Scan this QR code to link a device!"),this._elCanvas.setAttribute("role","img"),a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._bSupportDataURI=null};n.prototype.draw=function(a){var b=this._oContext,c=this._htOption,d=a.getModuleCount(),e=c.width/d,f=c.height/d,g=Math.round(e),h=Math.round(f);this.clear();for(var i=0;i<d;i++)for(var j=0;j<d;j++){var k=a.isDark(i,j),l=j*e,m=i*f;b.strokeStyle=k?c.colorDark:c.colorLight;b.lineWidth=1;b.fillStyle=k?c.colorDark:c.colorLight;b.fillRect(l,m,e,f);b.strokeRect(Math.floor(l)+.5,Math.floor(m)+.5,g,h);b.strokeRect(Math.ceil(l)-.5,Math.ceil(m)-.5,g,h)}this._bIsPainted=!0};n.prototype.isPainted=function(){return this._bIsPainted};n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1};n.prototype.round=function(a){return!a?a:Math.floor(a*1e3)/1e3};function o(b,c){var e=1;b=b instanceof ArrayBuffer?b.byteLength:p(b);for(var a=0,f=m.length;a<=f;a++){var g=0;switch(c){case d.L:g=m[a][0];break;case d.M:g=m[a][1];break;case d.Q:g=m[a][2];break;case d.H:g=m[a][3];break}if(b<=g)break;else e++}if(e>m.length)throw new Error("Too long data");return e}function p(a){var b=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a.length?3:0)}g=function(b,c){this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H};typeof c==="string"&&(c={text:c});if(c)for(var a in c)this._htOption[a]=c[a];typeof b=="string"&&(b=document.getElementById(b));this._el=b;this._oQRCode=null;this._oDrawing=new n(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};g.prototype.makeCode=function(a){this._oQRCode=new b(o(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode)};g.prototype.clear=function(){this._oDrawing.clear()};g.CorrectLevel=d})();e.exports=g}),null);
__d("WAWebABPropsUpdateFromStorage",["WALogger","WAWebABPropsCache","WAWebABPropsConfigs","WAWebABPropsGlobals","WAWebApiAbPropConfig","WAWebUserPrefsGeneral","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=!1,b=a;if(!c("gkx")("26258")){var e=(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb());c("gkx")("26259")&&e?(d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][intern] Web Beta joined, using DEBUG default AB prop values"]))),b=!0):a&&e&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[abprops][dev] Web Beta joined, using NON-DEBUG default AB prop values (to simulate intern env)"]))),b=!1)}a=(yield d("WAWebApiAbPropConfig").getABPropConfigs());e=a.map(function(a){var e=d("WAWebABPropsCache").getABPropConfigNameFromCode(Number(a.configCode));if(e==null)d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[abprops] ABProp (code: ",") exists in storage but no longer available for this client version"])),a.configCode);else{e=d("WAWebABPropsConfigs").ABPropConfigs[e];var f=e[0],g=e[1],h=e[2];e=e[3];e=b?e:h;h=d("WAWebApiAbPropConfig").parseConfigValue(a.configValue,g,e);var i;!c("gkx")("26258")&&a.overriddenConfigValue!=null&&(i=d("WAWebApiAbPropConfig").parseConfigValue(a.overriddenConfigValue,g,e));return{configCode:f,configValue:h,configExpoKey:a.configExpoKey,hasAccessed:a.hasAccessed,overriddenConfigValue:i}}}).filter(Boolean);d("WAWebABPropsCache").bulkCreateOrReplaceABPropConfigs(e);d("WAWebABPropsGlobals").updateGlobalExpoKey();d("WAWebABPropsGlobals").updateGlobalABKey()}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[abprops] Failed to update ABProps configs cache from storage: ",""])),a).verbose().sendLogs("[abprops] Failed to update ABProps configs cache from storage: "+a)}});return l.apply(this,arguments)}g.updateABPropsFromStorage=a}),98);
__d("WAWebABPropsWamGlobals",["WAWebABProps","WAWebWamGlobals"],(function(a,b,c,d,e,f,g){function a(){d("WAWebWamGlobals").Global.set({serviceImprovementOptOut:d("WAWebABProps").getABPropConfigValue("service_improvement_opt_out_flag")})}g.setAbPropDependingGlobalWamAttributes=a}),98);
__d("WAWebAbPropsParsingJob",["WAWebABPropsConfigs"],(function(a,b,c,d,e,f,g){function a(a){var b=new Map();a.forEach(function(a){var c=a.configCode,d=a.configValue;a=a.configExpoKey;b.set(c,{configValue:d,configExpoKey:a})});var c=new Map();Object.keys(d("WAWebABPropsConfigs").ABPropConfigs).map(function(a){a=d("WAWebABPropsConfigs").ABPropConfigs[a][0];var e=b.get(a),f=e==null?void 0:e.configValue;e=e==null?void 0:e.configExpoKey;c.set(a,{configValue:f,configExpoKey:e==null?null:e.toString()})});return c}g.parseABProps=a}),98);
__d("WAWebApiAbPropEventSamplingConfig",["Promise","WAWebModelStorageInitialize","WAWebModelStorageUtils","WAWebSchemaAbPropEventSamplingConfig"],(function(a,b,c,d,e,f,g){var h;function a(){return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(function(){return d("WAWebSchemaAbPropEventSamplingConfig").getAbpropEventSamplingConfigsTable().all().then(function(a){return a})})}function c(a){return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(function(){return d("WAWebSchemaAbPropEventSamplingConfig").getAbpropEventSamplingConfigsTable().get(a).then(function(a){return a==null?void 0:a.samplingWeight})})}function e(a){if(a==null||a.length===0)return(h||(h=b("Promise"))).resolve(!1);var c=[];a.forEach(function(a){c.push({eventCode:a.eventCode,samplingWeight:a.samplingWeight})});return d("WAWebModelStorageUtils").getStorage().lock(["abprop-event-sampling-configs"],function(a){var b=a[0];return b.clear().then(function(){return b.bulkCreate(c).then(function(){return!0})})})}g.getEventSamplingConfigs=a;g.getEventSamplingWeight=c;g.updateEventSamplingConfigs=e}),98);
__d("WAWebEventSamplingCache",["WAWebApiAbPropEventSamplingConfig","WAWebEventSampling","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!1;function j(a){return!i?null:h.get(a)}function a(){d("WAWebEventSampling").setGetEventSamplingConfigValueImpl(j)}function c(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebApiAbPropEventSamplingConfig").getEventSamplingConfigs());a.forEach(function(a){h.set(a.eventCode,a.samplingWeight)});i=!0});return k.apply(this,arguments)}g.initializeEventSamplingCache=a;g.updateEventSamplingFromStorage=c}),98);
__d("WAWebStoreSpecialAbProps",["WALogger","WAWebABProps","WAWebLocalStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=["web_apply_latest_db_schema_optimization_enabled","wa_web_favicons_update_m1","web_ui_refresh_m1","web_retry_quota_exceeded_idb_writes"],j="abprops_needed_early";function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=i.reduce(function(a,b){var c=d("WAWebABProps").getABPropConfigValue(b);c!=null&&(a[b]=c);return a},{});c("WAWebLocalStorage")==null||c("WAWebLocalStorage").setItem(j,JSON.stringify(a))}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to store special early abprops"]))).sendLogs(a)}});return k.apply(this,arguments)}g.storeSpecialAbProps=a}),98);
__d("WAWebSyncOnABProps",["WALogger","WAWebABProps","WAWebABPropsWamGlobals","WAWebProtobufsE2E.pb","WAWebStoreSpecialAbProps","WAWebUserPrefsAppStateSync","WAWebUserPrefsCTWA","WAWebUserPrefsTypes","WAWebUserPrefsUiRefresh","asyncToGeneratorRuntime","cr:254"],(function(a,b,c,d,e,f,g){var h,i;h=(h=b("cr:254"))!=null?h:{};var j=h.sendPeerDataOperationRequest;function a(a){a!==d("WAWebABProps").getABPropConfigValue("service_improvement_opt_out_flag")&&d("WAWebABPropsWamGlobals").setAbPropDependingGlobalWamAttributes()}function c(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebUserPrefsAppStateSync").getNonCriticalDataSyncStatus());(a==null?void 0:a[d("WAWebUserPrefsTypes").NonCriticalDataSyncStatusType.RECENT_STICKER_INITIALIZED])===d("WAWebUserPrefsTypes").RecentStickerInitializedStatusType.NEED_REQUEST_BOOTSTRAP&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Recent Stickers: request peer message for recent sticker bootstrap."]))),yield j==null?void 0:j(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.SEND_RECENT_STICKER_BOOTSTRAP,{}))});return k.apply(this,arguments)}function e(a){var b=d("WAWebABProps").getABPropConfigValue("ctwa_ad_account_token_storage_kill_switch_web");b===!0&&a===!1&&d("WAWebUserPrefsCTWA").clearAdAccountToken()}function f(a){var b=d("WAWebABProps").getABPropConfigValue("web_ui_refresh_m1");a===!0&&b===!1&&(d("WAWebUserPrefsUiRefresh").resetNuxViewCount(),d("WAWebUserPrefsUiRefresh").setUiRefreshNuxAcked(!1),void d("WAWebStoreSpecialAbProps").storeSpecialAbProps())}g.handleServiceImprovementOptOutFlagABPropConfigValueChange=a;g.ensureNonCriticalDataSyncIsInitialized=c;g.handleAdAccountTokenStorageKillSwitchABPropConfigValueChange=e;g.handleUIRefreshNuxOnABPropConfigValueChange=f}),98);
__d("WAWebAbPropsSyncJob",["Promise","WAGetAbPropsProtocol","WALogger","WAPromiseDelays","WAWebABProps","WAWebABPropsGlobals","WAWebABPropsLocalStorage","WAWebABPropsUpdateFromStorage","WAWebAbPropsParsingJob","WAWebApiAbPropConfig","WAWebApiAbPropEventSamplingConfig","WAWebCmd","WAWebEncryptedRid","WAWebEventSamplingCache","WAWebSyncOnABProps","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;d("WAWebCmd").Cmd.on("on_ab_props_update",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c=a.partialPreviousABPropsValues;a=a.isInitialSync;var e=c.service_improvement_opt_out_flag,f=c.ctwa_ad_account_token_storage_kill_switch_web;c=c.web_ui_refresh_m1;yield (b=d("WAWebSyncOnABProps")).ensureNonCriticalDataSyncIsInitialized();b.handleServiceImprovementOptOutFlagABPropConfigValueChange(e);b.handleAdAccountTokenStorageKillSwitchABPropConfigValueChange(f);b.handleUIRefreshNuxOnABPropConfigValueChange(c);a&&(yield d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("checkOrphanFavoriteStickers"))});return function(b){return a.apply(this,arguments)}}());function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!0);var c;a&&(c=d("WAWebABPropsLocalStorage").getHash());a=(yield d("WAGetAbPropsProtocol").getAbPropsProtocol(c));if(!a.success)return!1;a=a.value;var e=a.abKey,f=a.hash,g=a.refresh,i=a.refreshId,k=a.props,l=a.samplingConfigs;a=a.erid;a=a==null?(j||(j=b("Promise"))).resolve():d("WAWebEncryptedRid").setEncryptedRid(a);var m=Date.now();d("WAWebABPropsGlobals").updateGlobalABKey(e!=null?e:"");d("WAWebABPropsLocalStorage").updateAttributesLocalStorage(e,c,g,m);i!=null&&d("WAWebABPropsLocalStorage").setRefreshId(i);if(f==null)return!1;try{yield (j||(j=b("Promise"))).all([d("WAWebApiAbPropEventSamplingConfig").updateEventSamplingConfigs(l),d("WAWebApiAbPropConfig").updateABPropConfigs(d("WAWebAbPropsParsingJob").parseABProps(k)),a]);return!0}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["update ABProps config table failed"]))).verbose().devConsole(a).sendLogs("update ABProps config table failed when syncing ABProps")}return!1});return l.apply(this,arguments)}function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!0);var c=d("WAWebABPropsLocalStorage").isABPropsAfterFirstSync(),e=3;while(e-->0)try{var f;f={service_improvement_opt_out_flag:(f=d("WAWebABProps")).getABPropConfigValue("service_improvement_opt_out_flag"),ctwa_ad_account_token_storage_kill_switch_web:f.getABPropConfigValue("ctwa_ad_account_token_storage_kill_switch_web"),web_ui_refresh_m1:f.getABPropConfigValue("web_ui_refresh_m1"),single_e2ee_session_migration_state_outgoing:f.getABPropConfigValue("single_e2ee_session_migration_state_outgoing")};var g=(yield k(c&&a));if(g){yield (j||(j=b("Promise"))).all([d("WAWebABPropsUpdateFromStorage").updateABPropsFromStorage(),d("WAWebEventSamplingCache").updateEventSamplingFromStorage()]);d("WAWebCmd").Cmd.onAbPropsUpdate({partialPreviousABPropsValues:f,isInitialSync:!c});return}}catch(a){e===0&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["failed to sync ABProps"]))).verbose().devConsole(a).sendLogs("failed to sync ABProps"),yield d("WAPromiseDelays").delayMs(10*1e3*Math.random())}});return m.apply(this,arguments)}g.syncABProps=k;g.syncABPropsTask=a}),98);
__d("WAWebArkoseExpUtils",["$InternalEnum","WAWebAutoLogoutGating","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({NONE:-1,CONTROL:0,TEST:1});function a(){if(!c("justknobx")._("5007"))return i();if(d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()){var a=window.parent.arkoseVariant;a=h.cast(a);return a!=null?a:i()}a=i();window.arkoseVariant=a;return a}function i(){if(!c("gkx")("18518")||c("gkx")("26256"))return h.NONE;return c("gkx")("7634")?h.TEST:h.CONTROL}g.ArkoseVariantType=h;g.getArkoseVariant=a}),98);
__d("WAWebOfflineResumeConst",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["INIT","RESUME_ON_RESTART","RESUME_WITH_OPEN_TAB","COMPLETE"]);c=2e4;d=100;e=2e3;b=6e4;var g=1e3,h=1e3;f.ResumeStatus=a;f.OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS=c;f.OFFLINE_STANZA_COUNT_LIMIT=d;f.OFFLINE_DEVICE_SYNC_DELAY=e;f.OFFLINE_STANZA_TIMEOUT_MS=b;f.OFFLINE_PREVIEW_PERIOD_MS=g;f.UI_UPDATE_TIME_MS=h}),66);
__d("WAWebBlockingOfflineResumeManager",["WALogger","WAShiftTimer","WAWebABProps","WAWebApiPendingDeviceSync","WAWebAppTracker","WAWebBackendApi","WAWebBrokerGlobalAppState","WAWebChatThreadLogging","WAWebCmd","WAWebEnvironment","WAWebHandleMsgTypes.flow","WAWebJSHaltDetector","WAWebMessageQueue","WAWebOfflineResumeConst","WAWebOfflineResumeTypes.flow","WAWebOfflineResumeUtils","WAWebPageLoadLogging","WAWebSignalProtocolStore","WAWebUserPrefsGeneral","WAWebWamEnumWebcScenarioType","WAWebWamMemoryStat","WAWebWamOfflineResumeReporter","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function a(){w==null&&(w=new x());return w}function e(){w=null}var x=function(){function a(){var a=this;this.$7=null;this.$8=new(d("WAShiftTimer").ShiftTimer)(function(){d("WAWebCmd").Cmd.handleOfflineProgressUpdate(),a.$8.onOrAfter(d("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS)});this.$10=!1;this.resumeType=d("WAWebOfflineResumeTypes.flow").ResumeType.Blocking;this.$11()}var e=a.prototype;e.$11=function(){this.offlineMessagePreviewCounter=-1,this.$2=0,this.$3=0,this.$4=!1,this.$5=null,this.$1=d("WAWebOfflineResumeConst").ResumeStatus.INIT};e.$12=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] offline resume stage: "," -> ",""])),this.$1,a),this.$1=a};e.setStatus_TESTONLY=function(a){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] offline resume stage: "," -> ",""])),this.$1,a),this.$1=a};e.processOfflinePreview=function(a){d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePreviewT();if(this.isResumeFromRestartComplete())d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Offline session is complete when receiving offline preview ib."]))),d("WAWebOfflineResumeUtils").exceedResumeWithOpenTabLimit(a.message,a.receipt)&&(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] restart client due to exceed the LIMIT, message: ",", receipt: ",""])),a.message,a.receipt),d("WAWebOfflineResumeUtils").refreshWindow()),d("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$12(d("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB),d("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!1}),self.setTimeout(function(){d("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},7e3);else if(this.$1===d("WAWebOfflineResumeConst").ResumeStatus.INIT)d("WAWebAppTracker").AppTracker.start(d("WAWebAppTracker").AppTrackerType.BlockingOR),c("WAWebBrokerGlobalAppState").initOrUpdateTracking(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.OFFLINE_RESUME),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(a),this.$5=a.message>0,this.$4=a.message===0,this.offlineMessagePreviewCounter=a.message,this.$2=0,this.$9=Date.now(),d("WAWebSignalProtocolStore").enableMemSignalStore(),d("WAWebCmd").Cmd.handleOfflineProgressUpdate(),d("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$12(d("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART),this.$13(a.message,a.receipt),this.$8.onOrAfter(d("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS),d("WAWebCmd").Cmd.readyForProcessOffline(),d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] start handling offline stanza"])));else{var b=this.$9;if(b!=null){b=Date.now()-b;b<d("WAWebOfflineResumeConst").OFFLINE_PREVIEW_PERIOD_MS?(d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Accept multiple offline preview ibs during offline resume, delay ","."])),b),this.offlineMessagePreviewCounter+=a.message,this.$5=this.offlineMessagePreviewCounter>0,this.$4=this.offlineMessagePreviewCounter===0,d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(a),d("WAWebCmd").Cmd.handleOfflineProgressUpdate()):!c("gkx")("26258")?d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Reject multiple offline preview ibs during offline resume, delay ",""])),b).sendLogs("offline-multiple-preview"):d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Reject multiple offline preview ib during offline resume, delay ","."])),b)}this.$14()}};e.getOfflineDeliveryProgress=function(){if(this.$4)return 100;else if(this.offlineMessagePreviewCounter===-1)return 0;else if(this.offlineMessagePreviewCounter===0)return 100;return Math.min(Math.ceil(100*this.$2/this.offlineMessagePreviewCounter),100)};e.processOfflineSessionComplete=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c=this;a=a;self.setTimeout(function(){d("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},3e3);(b=this.$7)==null||b.cancel();this.$7=null;d("WAWebCmd").Cmd.readyForProcessOffline();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] start handling offline stanza"])));if(this.$1===d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE){d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT();void d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit();return}else if(this.$1===d("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB){yield d("WAWebMessageQueue").waitForOnlineMessageQueue();yield d("WAWebApiPendingDeviceSync").doPendingDeviceSync();this.$12(d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE);d("WAWebCmd").Cmd.offlineDeliveryEnd();return}this.$5=a>0;this.$4=a===0;this.$6=0;self.setTimeout(function(){c.$6>d("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_LIMIT&&(d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] "," received after offline completion marker. Refreshing window due to potential server issue."])),c.$6),d("WAWebOfflineResumeUtils").refreshWindow())},d("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS);d("WAWebCmd").Cmd.handleOfflineProgressUpdate();this.$12(d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE);return this.$15()});function c(b){return a.apply(this,arguments)}return c}();e.isResumeFromRestartComplete=function(){return this.$1!==d("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART&&this.$1!==d("WAWebOfflineResumeConst").ResumeStatus.INIT};e.isResumeOnSocketDisconnectInProgress=function(){return this.$1===d("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB};e.isResumeFromRestartInProgress=function(){return this.$1!==d("WAWebOfflineResumeConst").ResumeStatus.INIT&&!d("WAWebCmd").Cmd.isOfflineDeliveryEnd};e.isResumeComplete=function(){return this.$1===d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE};e.getHasMessagesToDownload=function(){return this.$5};e.getFinishedDownloading=function(){return this.getOfflineDeliveryProgress()===100};e.shouldUseOfflineResumeScreen=function(){return this.offlineMessagePreviewCounter>this.$2};e.processDecryptResult=function(a){this.$14(),this.$2+=1,a===d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY&&(this.$3+=1)};e.offlineStanzaReceivedAfterComplete=function(){this.isResumeFromRestartComplete()&&(this.$6+=1)};e.newOfflineStanza=function(a,b){this.$14(),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logAddOfflineSizeBytes(b),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOldestStanzaTime(a)};e.getResumeUIProgressBarType=function(){return d("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.None};e.$14=function(){this.$7&&this.$7.onOrAfter(d("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)};e.$13=function(a,b){var c,e=this;(c=this.$7)==null||c.cancel();this.$7=new(d("WAShiftTimer").ShiftTimer)(function(){e.$1!==d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE&&(d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking]: offline session completed by timeout"]))),d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking]offline resume finished by timeout"]))).sendLogs("blocking-offline-resume-timeout",{sampling:.01}),e.processOfflineSessionComplete(a+b),e.$7=null,d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logMissedOfflineComplete())});this.$7.onOrAfter(d("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)};e.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebPageLoadLogging").startPageLoadQplMeasure("waitForOfflineMessageQueue"),yield d("WAWebMessageQueue").waitForOfflineMessageQueue(),d("WAWebPageLoadLogging").endPageLoadQplMeasure("waitForOfflineMessageQueue"),this.$4=!0,d("WAWebCmd").Cmd.handleOfflineProgressUpdate(),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineDecryptionErrorCount(this.$3),d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] _onOfflineComplete: waitForOfflineMsgThread done, total decryption error: ",""])),this.$3),this.$3=0,d("WAWebPageLoadLogging").startPageLoadQplMeasure("clearOfflineSnapShot"),yield d("WAWebOfflineResumeUtils").clearOfflineSnapShot(),d("WAWebPageLoadLogging").endPageLoadQplMeasure("clearOfflineSnapShot"),d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] _onOfflineComplete: clearOfflineSnapShot done."]))),d("WAWebSignalProtocolStore").enablePersistSignalStore(),d("WAWebOfflineResumeUtils").runReceiptCleanUpLoop(),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT(),d("WAWebPageLoadLogging").startPageLoadQplMeasure("loadMainScreen"),yield d("WAWebOfflineResumeUtils").loadMainScreen({shouldUpdateReceipts:!0,shouldRestoreChatsAndMsgs:!this.$10}),d("WAWebPageLoadLogging").endPageLoadQplMeasure("loadMainScreen"),d("WAWebCmd").Cmd.offlineDeliveryEnd(),d("WAWebAppTracker").AppTracker.stop(d("WAWebAppTracker").AppTrackerType.BlockingOR),d("WAWebUserPrefsGeneral").setOfflinePushCount(0),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit(),d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("processAllOrphanPaymentNotifications"),d("WAWebChatThreadLogging").uploadChatThreadLoggingEvents(),c("WAWebBrokerGlobalAppState").initOrUpdateTracking(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),d("WAWebWamMemoryStat").setCurrentMemoryScenario(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),self.setTimeout(function(){d("WAWebApiPendingDeviceSync").doPendingDeviceSync()},d("WAWebOfflineResumeConst").OFFLINE_DEVICE_SYNC_DELAY),(c("WAWebEnvironment").isWindows||d("WAWebABProps").getABPropConfigValue("wa_web_resume_timer_fix_enabled"))&&(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] cancel progress bar timer"]))),this.$8.forceRunNow(),this.$8.cancel())});function e(){return a.apply(this,arguments)}return e}();return a}();g.getOrCreateInstance=a;g.clearInstance=e;g.OfflineBlockingResumeStageManager=x}),98);
__d("WAWebProtobufsWa6.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){c=(a=b("$InternalEnum"))({OFF:0,STANDARD:1});e=a({DEFAULT:0,GUEST:1});f=a({WHATSAPP:0,MESSENGER:1,INTEROP:2,INTEROP_MSGR:3,WHATSAPP_LID:4});b=a({SYSTEM:0,GOOGLE:1,HARDCODED:2,OVERRIDE:3,FALLBACK:4,MNS:5});var h=a({CELLULAR_UNKNOWN:0,WIFI_UNKNOWN:1,CELLULAR_EDGE:100,CELLULAR_IDEN:101,CELLULAR_UMTS:102,CELLULAR_EVDO:103,CELLULAR_GPRS:104,CELLULAR_HSDPA:105,CELLULAR_HSUPA:106,CELLULAR_HSPA:107,CELLULAR_CDMA:108,CELLULAR_1XRTT:109,CELLULAR_EHRPD:110,CELLULAR_LTE:111,CELLULAR_HSPAP:112}),i=a({PUSH:0,USER_ACTIVATED:1,SCHEDULED:2,ERROR_RECONNECT:3,NETWORK_SWITCH:4,PING_RECONNECT:5,UNKNOWN:6}),j=a({SHARE_EXTENSION:0,SERVICE_EXTENSION:1,INTENTS_EXTENSION:2}),k=a({WEB_BROWSER:0,APP_STORE:1,WIN_STORE:2,DARWIN:3,WIN32:4,WIN_HYBRID:5}),l=a({PHONE:0,TABLET:1,DESKTOP:2,WEARABLE:3,VR:4}),m=a({RELEASE:0,BETA:1,ALPHA:2,DEBUG:3});a=a({ANDROID:0,IOS:1,WINDOWS_PHONE:2,BLACKBERRY:3,BLACKBERRYX:4,S40:5,S60:6,PYTHON_CLIENT:7,TIZEN:8,ENTERPRISE:9,SMB_ANDROID:10,KAIOS:11,SMB_IOS:12,WINDOWS:13,WEB:14,PORTAL:15,GREEN_ANDROID:16,GREEN_IPHONE:17,BLUE_ANDROID:18,BLUE_IPHONE:19,FBLITE_ANDROID:20,MLITE_ANDROID:21,IGLITE_ANDROID:22,PAGE:23,MACOS:24,OCULUS_MSG:25,OCULUS_CALL:26,MILAN:27,CAPI:28,WEAROS:29,ARDEVICE:30,VRDEVICE:31,BLUE_WEB:32,IPAD:33,TEST:34,SMART_GLASSES:35,BLUE_VR:36});var n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={};n.name="HandshakeMessage";n.internalSpec={clientHello:[2,(d=d("WAProtoConst")).TYPES.MESSAGE,q],serverHello:[3,d.TYPES.MESSAGE,p],clientFinish:[4,d.TYPES.MESSAGE,o]};o.name="HandshakeMessage$ClientFinish";o.internalSpec={"static":[1,d.TYPES.BYTES],payload:[2,d.TYPES.BYTES],extendedCiphertext:[3,d.TYPES.BYTES]};p.name="HandshakeMessage$ServerHello";p.internalSpec={ephemeral:[1,d.TYPES.BYTES],"static":[2,d.TYPES.BYTES],payload:[3,d.TYPES.BYTES],extendedStatic:[4,d.TYPES.BYTES]};q.name="HandshakeMessage$ClientHello";q.internalSpec={ephemeral:[1,d.TYPES.BYTES],"static":[2,d.TYPES.BYTES],payload:[3,d.TYPES.BYTES],useExtended:[4,d.TYPES.BOOL],extendedCiphertext:[5,d.TYPES.BYTES]};r.name="ClientPayload";r.internalSpec={username:[1,d.TYPES.UINT64],passive:[3,d.TYPES.BOOL],userAgent:[5,d.TYPES.MESSAGE,x],webInfo:[6,d.TYPES.MESSAGE,v],pushName:[7,d.TYPES.STRING],sessionId:[9,d.TYPES.SFIXED32],shortConnect:[10,d.TYPES.BOOL],connectType:[12,d.TYPES.ENUM,h],connectReason:[13,d.TYPES.ENUM,i],shards:[14,d.FLAGS.REPEATED|d.TYPES.INT32],dnsSource:[15,d.TYPES.MESSAGE,u],connectAttemptCount:[16,d.TYPES.UINT32],device:[18,d.TYPES.UINT32],devicePairingData:[19,d.TYPES.MESSAGE,t],product:[20,d.TYPES.ENUM,f],fbCat:[21,d.TYPES.BYTES],fbUserAgent:[22,d.TYPES.BYTES],oc:[23,d.TYPES.BOOL],lc:[24,d.TYPES.INT32],iosAppExtension:[30,d.TYPES.ENUM,j],fbAppId:[31,d.TYPES.UINT64],fbDeviceId:[32,d.TYPES.BYTES],pull:[33,d.TYPES.BOOL],paddingBytes:[34,d.TYPES.BYTES],yearClass:[36,d.TYPES.INT32],memClass:[37,d.TYPES.INT32],interopData:[38,d.TYPES.MESSAGE,s],trafficAnonymization:[40,d.TYPES.ENUM,c],lidDbMigrated:[41,d.TYPES.BOOL],accountType:[42,d.TYPES.ENUM,e],connectionSequenceInfo:[43,d.TYPES.SFIXED32],paaLink:[44,d.TYPES.BOOL],preacksCount:[45,d.TYPES.INT32],processingQueueSize:[46,d.TYPES.INT32]};s.name="ClientPayload$InteropData";s.internalSpec={accountId:[1,d.TYPES.UINT64],token:[2,d.TYPES.BYTES],enableReadReceipts:[3,d.TYPES.BOOL]};t.name="ClientPayload$DevicePairingRegistrationData";t.internalSpec={eRegid:[1,d.TYPES.BYTES],eKeytype:[2,d.TYPES.BYTES],eIdent:[3,d.TYPES.BYTES],eSkeyId:[4,d.TYPES.BYTES],eSkeyVal:[5,d.TYPES.BYTES],eSkeySig:[6,d.TYPES.BYTES],buildHash:[7,d.TYPES.BYTES],deviceProps:[8,d.TYPES.BYTES]};u.name="ClientPayload$DNSSource";u.internalSpec={dnsMethod:[15,d.TYPES.ENUM,b],appCached:[16,d.TYPES.BOOL]};v.name="ClientPayload$WebInfo";v.internalSpec={refToken:[1,d.TYPES.STRING],version:[2,d.TYPES.STRING],webdPayload:[3,d.TYPES.MESSAGE,w],webSubPlatform:[4,d.TYPES.ENUM,k]};w.name="ClientPayload$WebInfo$WebdPayload";w.internalSpec={usesParticipantInKey:[1,d.TYPES.BOOL],supportsStarredMessages:[2,d.TYPES.BOOL],supportsDocumentMessages:[3,d.TYPES.BOOL],supportsUrlMessages:[4,d.TYPES.BOOL],supportsMediaRetry:[5,d.TYPES.BOOL],supportsE2EImage:[6,d.TYPES.BOOL],supportsE2EVideo:[7,d.TYPES.BOOL],supportsE2EAudio:[8,d.TYPES.BOOL],supportsE2EDocument:[9,d.TYPES.BOOL],documentTypes:[10,d.TYPES.STRING],features:[11,d.TYPES.BYTES]};x.name="ClientPayload$UserAgent";x.internalSpec={platform:[1,d.TYPES.ENUM,a],appVersion:[2,d.TYPES.MESSAGE,y],mcc:[3,d.TYPES.STRING],mnc:[4,d.TYPES.STRING],osVersion:[5,d.TYPES.STRING],manufacturer:[6,d.TYPES.STRING],device:[7,d.TYPES.STRING],osBuildNumber:[8,d.TYPES.STRING],phoneId:[9,d.TYPES.STRING],releaseChannel:[10,d.TYPES.ENUM,m],localeLanguageIso6391:[11,d.TYPES.STRING],localeCountryIso31661Alpha2:[12,d.TYPES.STRING],deviceBoard:[13,d.TYPES.STRING],deviceExpId:[14,d.TYPES.STRING],deviceType:[15,d.TYPES.ENUM,l],deviceModelType:[16,d.TYPES.STRING]};y.name="ClientPayload$UserAgent$AppVersion";y.internalSpec={primary:[1,d.TYPES.UINT32],secondary:[2,d.TYPES.UINT32],tertiary:[3,d.TYPES.UINT32],quaternary:[4,d.TYPES.UINT32],quinary:[5,d.TYPES.UINT32]};g.ClientPayload$TrafficAnonymization=c;g.ClientPayload$AccountType=e;g.ClientPayload$Product=f;g.ClientPayload$DNSSource$DNSResolutionMethod=b;g.ClientPayload$ConnectType=h;g.ClientPayload$ConnectReason=i;g.ClientPayload$IOSAppExtension=j;g.ClientPayload$WebInfo$WebSubPlatform=k;g.ClientPayload$UserAgent$DeviceType=l;g.ClientPayload$UserAgent$ReleaseChannel=m;g.ClientPayload$UserAgent$Platform=a;g.HandshakeMessageSpec=n;g.HandshakeMessage$ClientFinishSpec=o;g.HandshakeMessage$ServerHelloSpec=p;g.HandshakeMessage$ClientHelloSpec=q;g.ClientPayloadSpec=r;g.ClientPayload$InteropDataSpec=s;g.ClientPayload$DevicePairingRegistrationDataSpec=t;g.ClientPayload$DNSSourceSpec=u;g.ClientPayload$WebInfoSpec=v;g.ClientPayload$WebInfo$WebdPayloadSpec=w;g.ClientPayload$UserAgentSpec=x;g.ClientPayload$UserAgent$AppVersionSpec=y}),98);
__d("WAWebClientPayloadReleaseChannel",["WALogger","WAWebProtobufsWa6.pb","WAWebUserPrefsGeneral","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j;function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb());if(c("gkx")("26258")){if(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Web Beta] Enabling BETA features"])));return d("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.BETA}return d("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.RELEASE}if(c("gkx")("26259")){if(a){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[Web Beta] Enabling dev features"])));return d("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.DEBUG}return d("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.BETA}if(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[Web Beta] DEV-ONLY: Enabling INTERN features"])));return d("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.BETA}return d("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.DEBUG});return k.apply(this,arguments)}g.getReleaseChannel=a}),98);
__d("WAWebClientPayload",["WABase64","WAByteArray","WAMd5","WAWebBuildConstants","WAWebClientFeatureFlags","WAWebClientPayloadReleaseChannel","WAWebEnvironment","WAWebLid1X1MigrationGating","WAWebMiscBrowserUtils","WAWebProtobufsCompanionReg.pb","WAWebProtobufsWa6.pb","WAWebSyncdMdSyncFieldstatMeta","WAWebUserPrefsInfoStore","WAWebUserPrefsMeUser","WAWebWamPlatform","asyncToGeneratorRuntime","encodeProtobuf","justknobx"],(function(a,b,c,d,e,f,g){var h=null;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow();a=babelHelpers["extends"]({},yield k(a),{username:parseInt(b.user,10),device:b.device!=null?b.device:0,lidDbMigrated:d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()},h);return d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsWa6.pb").ClientPayloadSpec,a).readByteArrayView()});return i.apply(this,arguments)}function e(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=m(),f=(yield n());c=babelHelpers["extends"]({},yield k(c),{devicePairingData:{buildHash:e,deviceProps:f,eRegid:d("WAByteArray").intToBytes(4,a.registrationId),eKeytype:d("WAByteArray").intToBytes(1,5),eIdent:a.identityKeyPair.pubKey,eSkeyId:d("WAByteArray").intToBytes(3,b.keyId),eSkeyVal:b.keyPair.pubKey,eSkeySig:b.signature}});return d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsWa6.pb").ClientPayloadSpec,c).readByteArrayView()});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;return{passive:(b=a==null?void 0:a.passive)!=null?b:!1,pull:(b=a==null?void 0:a.pull)!=null?b:!1,connectType:d("WAWebProtobufsWa6.pb").ClientPayload$ConnectType.WIFI_UNKNOWN,connectReason:d("WAWebProtobufsWa6.pb").ClientPayload$ConnectReason.USER_ACTIVATED,userAgent:yield p(),webInfo:{webSubPlatform:s()}}});return l.apply(this,arguments)}function m(){var a=d("WABase64").decodeB64(c("WAMd5")(d("WAWebBuildConstants").VERSION_BASE));a=new Uint8Array(a);return a}function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WAWebMiscBrowserUtils").info(),b;if(a.version&&a.version!==""){var e=a.version.split(".");e.length>0&&a.version&&/^[0-9\.]+$/.test(a.version)&&(b={primary:parseInt(e[0],10),secondary:e.length>1?parseInt(e[1],10):void 0,tertiary:e.length>2?parseInt(e[2],10):void 0})}e={inlineInitialPayloadInE2EeMsg:!0,supportBotUserAgentChatHistory:!0,supportCagReactionsAndPolls:!0,supportRecentSyncChunkMessageCountTuning:!0,supportHostedGroupMsg:!0,supportBizHostedMsg:!0,supportFbidBotChatHistory:!0,supportMessageAssociation:!0,supportCallLogHistory:c("WAWebEnvironment").isWindows};var f=d("WAWebClientFeatureFlags").isFeatureEnabled("debug_1_year_history_sync");if(f)e=babelHelpers["extends"]({},e,{fullSyncDaysLimit:365});else{var g=(yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getStorageEstimation());g.mdStorageQuotaBytes!==d("WAWebSyncdMdSyncFieldstatMeta").STORAGE_QUOTA_UNAVAILABLE&&(e=babelHelpers["extends"]({},e,{storageQuotaMb:Math.trunc(g.mdStorageQuotaBytes/1024/1024)}))}g=c("WAWebEnvironment").isWindows&&!c("justknobx")._("1836");g&&(e.onDemandReady=!0);g=c("WAWebEnvironment").isWindows?d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.UWP:r(a.name);a={os:a.os,version:b,platformType:g,requireFullSync:f,historySyncConfig:e};g=d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsCompanionReg.pb").DevicePropsSpec,a).readByteArrayView();return g});return o.apply(this,arguments)}function f(a){h=a}function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebUserPrefsInfoStore").deviceInfo.get());a={appVersion:{primary:Number(d("WAWebBuildConstants").VERSION_PRIMARY),secondary:Number(d("WAWebBuildConstants").VERSION_SECONDARY),tertiary:Number(d("WAWebBuildConstants").VERSION_TERTIARY)},platform:d("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$Platform.WEB,releaseChannel:yield d("WAWebClientPayloadReleaseChannel").getReleaseChannel(),mcc:a.mcc,mnc:a.mnc,osVersion:a.osVersion,manufacturer:a.manufacturer,device:a.device,osBuildNumber:a.osBuild,localeLanguageIso6391:a.lg,localeCountryIso31661Alpha2:a.lc};if(c("WAWebEnvironment").isWindows){var b;a.appVersion={primary:Number((b=d("WAWebBuildConstants")).VERSION_PRIMARY),secondary:Number(b.VERSION_SECONDARY),tertiary:Number(b.VERSION_TERTIARY),quaternary:Number(b.WINDOWS_BUILD)};(d("WAWebBuildConstants").WINDOWS_BUILD==null?void 0:d("WAWebBuildConstants").WINDOWS_BUILD.length)===6&&(a.mcc=d("WAWebBuildConstants").WINDOWS_BUILD.substr(0,3),a.mnc=d("WAWebBuildConstants").WINDOWS_BUILD.substr(3,3))}return a});return q.apply(this,arguments)}function r(a){switch(a){case"Chrome":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.CHROME;case"Firefox":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.FIREFOX;case"IE":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.IE;case"Opera":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.OPERA;case"Safari":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.SAFARI;case"Edge":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.EDGE;case"electron":case"Desktop":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.DESKTOP;case"ipad":case"iPad":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.IPAD;case"tablet":case"Android tablet":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.ANDROID_TABLET;case"Ohana":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.OHANA;case"Aloha":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.ALOHA;case"Catalina":return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.CATALINA;default:return d("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.UNKNOWN}}function s(){switch(d("WAWebWamPlatform").getWamPlatform()){case"WEB":case"PWA":return d("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.WEB_BROWSER;case"DARWIN":case"DARWIN_BETA":return d("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.DARWIN;case"MACSTORE":return d("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.APP_STORE;case"WIN_HYBRID":return d("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.WIN_HYBRID;default:return void 0}}g.getClientPayloadForLogin=a;g.getClientPayloadForRegistration=e;g.setClientPayloadOverride=f}),98);
__d("WAWebClockSkewDifferenceTWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({ClockSkewDifferenceT:[3178,{clockSkewHourly:[1,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,1e3,1e4],"private",37887164]},{ClockSkewDifferenceT:[]});g.ClockSkewDifferenceTWamEvent=a}),98);
__d("WAWebCommsProcessAck",["WALogger","WAWebActiveMessageRanges","WAWebDBMessageUtils","WAWebMsgKey","WAWebMsgType","WAWebSchemaMessage","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","cr:634"],(function(a,b,c,d,e,f,g){var h;f=(e=b("cr:634"))!=null?e:{};var i=f.MsgCollection;function a(a){var b=a.attrs,c=b.id,e=b.from;b=b.t;if(a.attrs["class"]==="message"){e=d("WAWebWidFactory").createWid(String(e));a=j(a);m(String(c),e,parseInt(b,10),a);l(a,String(c),e)}}function j(a){var b;a=a.content;if(!Array.isArray(a)||((b=a[0])==null?void 0:b.tag)!=="rcat")return null;a=(b=a[0])==null?void 0:b.content;return Array.isArray(a)?null:a}function k(a,b){return b.isGroup()?new(c("WAWebMsgKey"))({fromMe:!0,remote:b,id:a,participant:d("WAWebUserPrefsMeUser").getMePnUserOrThrow()}):new(c("WAWebMsgKey"))({fromMe:!0,remote:b,id:a})}function l(a,b,c){if(a==null)return;b=i==null?void 0:i.get(k(b,c));b!=null&&(b.rcat=a)}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=k(a,b);var f=String(a);try{var g=(yield d("WAWebSchemaMessage").getMessageTable().get(f));if((g==null?void 0:g.type)===d("WAWebMsgType").MSG_TYPE.REACTION)return;g=d("WAWebDBMessageUtils").MessagePropertyType.cast(g==null?void 0:g.messageRangeIndex.split("_")[1]);d("WAWebSchemaMessage").getMessageTable().merge(f,{messageRangeIndex:d("WAWebDBMessageUtils").craftMessageRangeIndex(b.toString(),!1,g===d("WAWebDBMessageUtils").MessagePropertyType.SystemMessage,c),rcat:e})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["processAckForOutgoingMessage: failed to update in storage"]))).verbose().devConsole(a).sendLogs("message processAckForOutgoingMessage failed");throw a}d("WAWebActiveMessageRanges").checkAndRemoveActiveMessageRanges(a,c)});return n.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebCommonSocketPlatformDetails",["WALogger","WAVerifyChainCertificateWA6","WAWapDict","WAWebProtobufsWa6.pb","asyncToGeneratorRuntime","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){var h,i=new Uint8Array([87,65,6,d("WAWapDict").DICT_VERSION]);function a(a){return d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,{clientHello:a}).readByteArrayView()}function e(a){return d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,{clientFinish:a}).readByteArrayView()}function f(a){return d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,a).serverHello}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.certificate;a=a.serverStatic;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["processCertificate start"])));b=(yield d("WAVerifyChainCertificateWA6").verifyChainCertificateWA6(b,a));if(!b.success)throw c("err")("verifyCertificateWA6 - "+b.error)});return k.apply(this,arguments)}function l(){return null}function m(a){if(a==null)return null;a=a!=null?a:{};var b=a.intermediate;a=a.leaf;return a&&b?a.key:null}g.WA_WEB_PROTO_HEADER=i;g.encodeHandshakeHello=a;g.encodeHandshakeFinish=e;g.decodeServerHello=f;g.processCertificate=j;g.serverInfoIfKnown=l;g.makeServerInfoIfKnown=m}),98);
__d("WAWebPassiveModeManager",["Promise","WAAbortError","WALogger","WAPromiseRaceAbort","WAResolvable","WASendPassiveModeProtocol","WAWebCmd","WAWebHandleOfflineAbProps","WAWebPageLoadLogging","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebWamOfflineResumeReporter"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=6e4;a=function(){function a(){var a=this;this.$1=new AbortController();this.$2=new(d("WAResolvable").Resolvable)();this.$3=!1;this.$4=[];this.$6=y;d("WAWebCmd").Cmd.on("socket_stream_disconnected",function(){var b;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: trying to abort passive mode because of disconnect"])));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: "," current tasks"])),a.$4.length);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: processing tasks finished: ",""])),a.$2.resolveWasCalled());(b=a.$1)==null||b.abort();a.resetState()})}var e=a.prototype;e.passiveTimeoutTimer_TESTONLY=function(){return this.$5};e.resetState=function(){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: reset status"]))),this.$4=[],this.$5&&(self.clearTimeout(this.$5),this.$5=null),this.$3=!1,this.$2.resolveWasCalled()||this.$2.resolve(),this.$2=new(d("WAResolvable").Resolvable)(),this.$1=new AbortController()};e.registerPassiveTask=function(a){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: register passive task"]))),this.$4.push(a)};e.enableDebugPassiveMode=function(){};e.executePassiveTasks=function(){var a=this;if(!this.shouldConnectAsPassiveMode()){this.$2.resolve();return}d("WAWebPageLoadLogging").startPageLoadQplMeasure("passive_tasks");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"PassiveTasks_start");d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: start to execute "," passive tasks"])),this.$4.length);void c("WAPromiseRaceAbort")((x||(x=b("Promise"))).all(this.$4.map(function(b){return b(a.$1.signal)["catch"](function(a){if(a.name===d("WAAbortError").ABORT_ERROR)throw a;d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: failed for single task with ",""])),a)})})),this.$1.signal).then(function(){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: complete all tasks"]))),void a.$7()})["catch"](d("WAAbortError").catchAbort(function(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: abort by disconnect, skip send active"]))),a.$2.resolve()}))["catch"](function(b){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: end with error ",""])),b),void a.$7()})["finally"](function(){d("WAWebPageLoadLogging").endPageLoadQplMeasure("passive_tasks"),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"PassiveTasks_end"),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: done"]))),a.resetState()});this.$5=self.setTimeout(function(){var b=d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: passive mode end with timeout"])));d("WAWebHandleOfflineAbProps").isNonBlockingOfflineResumeExpEnabled()&&(b=b.tags("offline-resume-experimental"));b.sendLogs("passive-timeout");void a.$7();a.resetState()},this.$6)};e.$7=function(){d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: _endPassiveMode"]))),this.$2.resolve(),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePassiveT(),this.$3||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: send passive active iq"]))),void d("WASendPassiveModeProtocol").sendPassiveModeProtocol("active"))};e.waitForPassiveTaskEnd=function(){return this.$2.promise};e.shouldConnectAsPassiveMode=function(){return this.$3||this.$4.length>0};e.setPassiveModeTimeout=function(a){d("WALogger").LOG(w||(w=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: setPassiveModeTimeout: config timeout to be ",""])),a),this.$6=a};return a}();e=new a();g.PassiveTaskManager=e}),98);
__d("WAWebOnlineDanglingReceipts",["Promise","WALogger","WATimeUtils","WAWebABProps","WAWebCommsSendPing","WAWebNetworkStatus","WAWebSchemaDanglingReceipt","WAWebSendReceiptJobCommon","WAWebWamOfflineResumeReporter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s=new Map(),t=null,u=120*1e3;function a(a,b,c){var e;s.has(a)||s.set(a,new Map());a=s.get(a);a!=null&&a.has(b)||(a==null||a.set(b,[]));a==null||(e=a.get(b))==null||e.push(c);t||(t=self.setTimeout(function(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clear online dangling receipts due to timeout"]))),void z(),t=null},u))}function v(){return s.size>0&&d("WAWebABProps").getABPropConfigValue("web_pre_acks_m3_receipts_enabled")}function e(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=String(d("WATimeUtils").unixTime()),c=0,e=Array.from(s.keys()).map(function(b){var e=s.get(b);if(!e)return;e.forEach(function(a){c+=a.length});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: sending online dangling grouped receipts: ",""])),e.size);return d("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:b,type:d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.DELIVERY,t:a,groupedReceipt:e})});yield (r||(r=b("Promise"))).all(e);d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePreackCount(c,!0);void x()});return w.apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(s.size===0)return;if(!c("WAWebNetworkStatus").online){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOnlineDanglingReceiptsAfterSending: skip due to offline"])));return}d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOnlineDanglingReceiptsAfterSending: sending ping"])));var a=(yield d("WAWebCommsSendPing").blockSendPing());(a||!d("WAWebABProps").getABPropConfigValue("web_offline_resume_wait_for_ping_response_enabled"))&&(d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOnlineDanglingReceiptsAfterSending: clearing receipts"]))),s.clear())});return y.apply(this,arguments)}function z(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(s.size===0)return;if(!c("WAWebNetworkStatus").online)return B();try{d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOrFlushOnlineDanglingReceipts: sending ping"])));var a=(yield d("WAWebCommsSendPing").blockSendPing());(a||!d("WAWebABProps").getABPropConfigValue("web_offline_resume_wait_for_ping_response_enabled"))&&(d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOrFlushOnlineDanglingReceipts: clearing receipts"]))),s.clear())}catch(a){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOrFlushOnlineDanglingReceipts: failed to clear receipts: ",""])),a),void B()}});return A.apply(this,arguments)}function B(){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!v()||!d("WAWebABProps").getABPropConfigValue("web_pre_acks_m3_enabled"))return;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: flush due to offline."])));var a=[];s.forEach(function(b,c){b.forEach(function(b,d){b.forEach(function(b){a.push({from:String(c),author:String(d),externalId:b})})})});a.length>0&&(d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: flush "," receipts"])),a.length),yield d("WAWebSchemaDanglingReceipt").getTable().create({receipts:a,acks:[]}),s.clear())});return C.apply(this,arguments)}g.addOnlineDanglingReceipts=a;g.hasOnlineDanglingReceipts=v;g.sendAndClearOnlineDanglingReceipts=e}),98);
__d("WAWebUploadPrekeysForRegTask",["Promise","WAComms","WADeprecatedSendIq","WALogger","WAWap","WAWebConstantsDeprecated","WAWebSignalKeyApi","WAWebSignalStoreApi","WAWebSignalUtilsApi","WAWebUploadPreKeysJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=function(){function a(){}var e=a.prototype;e.startKeyGenerationStage=function(){this.$1||(this.$1=this.$3());return this.$1};e.startKeyUploadStage=function(){this.$2||(this.$2=this.$4());return this.$2};e.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["PrekeyUploadForRegistrationTask: start key generation"])));var a=(yield (p||(p=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo(),d("WAWebSignalStoreApi").waSignalStore.getSignedPreKey()])),e=a[0];a=a[1];if(!e||!a)throw c("err")("No signal info is available");var f=(yield d("WAWebSignalStoreApi").waSignalStore.getOrGenPreKeys(d("WAWebUploadPreKeysJob").UPLOAD_KEYS_COUNT,d("WAWebSignalKeyApi").generatePreKeyPair));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["PrekeyUploadForRegistrationTask: successfully generated "," keys"])),f.length);return{regInfo:e,signedPreKey:a,prekeys:f}});function e(){return a.apply(this,arguments)}return e}();e.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this.$1||this.startKeyGenerationStage();a=(yield a);var b=a.regInfo,e=a.signedPreKey;a=a.prekeys;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["PrekeyUploadForRegistrationTask: start key upload"])));var f=a.length;if(f===0)throw c("err")("No preKey is available");var g=a[a.length-1].keyId,h=b.registrationId;b=b.identityKeyPair;h=d("WAWap").wap("iq",{id:d("WAWap").generateId(),xmlns:"encrypt",type:"set",to:d("WAWap").S_WHATSAPP_NET},d("WAWap").wap("registration",null,d("WAWap").BIG_ENDIAN_CONTENT(h)),d("WAWap").wap("type",null,c("WAWebConstantsDeprecated").KEY_BUNDLE_TYPE),d("WAWap").wap("identity",null,b.pubKey),d("WAWap").wap("list",null,a.map(d("WAWebSignalUtilsApi").xmppPreKey)),d("WAWebSignalUtilsApi").xmppSignedPreKey(e));try{yield d("WAComms").waitForConnection();yield d("WAWebSignalStoreApi").waSignalStore.markKeyAsUploaded(g);b=(yield d("WADeprecatedSendIq").deprecatedSendIqWithoutRetry(h,d("WAWebUploadPreKeysJob").uploadPreKeyResParser));if(b.success){d("WAWebSignalStoreApi").waSignalStore.setServerHasPreKeys(!0);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: "," keys uploaded, raw stanza size: ","b"])),a.length,h.toString().length);return{success:!0}}e=b.errorCode;e>=500?d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: server requested backoff "," (count: ",", size: ","b)"])),e,f,h.toString().length):e===406?d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: uploaded invalid keys (count: ",", size: ","b)"])),f,h.toString().length):d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: unrecognized error "," (count: ",", size: ","b)"])),e,f,h.toString().length);return{errorCode:b.errorCode,errorText:b.errorText}}catch(a){d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: disconnected, unclear if on server: "," (count: ",", size: ","b)"])),a,f,h.toString().length);return}});function e(){return a.apply(this,arguments)}return e}();return a}();function a(){return new q()}g["default"]=a}),98);
__d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:1,TEST_BANNER_SLIM:2,TEST_BANNER_LARGE:3,CONTROL:4});f.WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP=a}),66);
__d("WAWebDesktopUpsellQRCodeBannerExperiment",["WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup","gkx"],(function(a,b,c,d,e,f,g){function a(){return c("gkx")("10031")?d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.TEST_BANNER_SLIM:d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.CONTROL}g.getWAWebDesktopUpsellQRCodeBannerExperiment=a}),98);
__d("WAWebNativeCameraQRLinkedDeviceUtils",["$InternalEnum","WAWebAutoLogoutGating","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({NONE:-1,CONTROL:0,TEST:1});function i(){if(!c("justknobx")._("5007"))return j();if(d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()){var a=window.parent.nativeCameraVariant;a=h.cast(a);return a!=null?a:j()}a=j();window.nativeCameraVariant=a;return a}function j(){if(!c("gkx")("14464")||c("gkx")("26256"))return h.NONE;return c("gkx")("15235")?h.TEST:h.CONTROL}function a(){return i()===h.TEST}g.NativeCameraQRLinkedDeviceVariantType=h;g.getNativeCameraQRLinkedDeviceVariant=i;g.isNativeCameraQRLinkedDeviceTest=a}),98);
__d("WAWebLinkDeviceExperience",["WABitArray","WAWebArkoseExpUtils","WAWebAutoLogoutGating","WAWebDesktopUpsellQRCodeBannerExperiment","WAWebLinkDeviceScreenGatedUtils","WAWebNativeCameraQRLinkedDeviceUtils","WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup"],(function(a,b,c,d,e,f,g){b=function(){function a(a){this.flag=a}var b=a.prototype;b.getIndex=function(){return i()-1-this.flag};return a}();var h={ScreenRefreshFlag:new b(0),AutoLogoutFlag:new b(1),DesktopUpsellBannerControlFlag:new b(2),DesktopUpsellBannerTestSlimBannerFlag:new b(3),DesktopUpsellBannerTestLargeBannerFlag:new b(4),PairingScreenRefreshVariant1Flag:new b(6),LinkDeviceScreenControl:new b(8),LinkDeviceScreenTest:new b(9),OptimizedRegistrationControl:new b(10),OptimizedRegistrationTest:new b(11),ArkoseControl:new b(12),ArkoseTest:new b(13),LocalizationFixControl:new b(14),LocalizationFixTest:new b(15)};function i(){return Math.max.apply(Math,Object.values(h).map(function(a){return a.flag}))+1}function a(a){var b=new(c("WABitArray"))(i());b.set(h.ScreenRefreshFlag.getIndex());d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&b.set(h.AutoLogoutFlag.getIndex());var e=d("WAWebDesktopUpsellQRCodeBannerExperiment").getWAWebDesktopUpsellQRCodeBannerExperiment();switch(e){case d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.NONE:break;case d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.CONTROL:b.set(h.DesktopUpsellBannerControlFlag.getIndex());break;case d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.TEST_BANNER_SLIM:b.set(h.DesktopUpsellBannerTestSlimBannerFlag.getIndex());break;case d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.TEST_BANNER_LARGE:b.set(h.DesktopUpsellBannerTestLargeBannerFlag.getIndex());break}e=d("WAWebLinkDeviceScreenGatedUtils").getLinkDeviceScreenVariant();switch(e){case d("WAWebLinkDeviceScreenGatedUtils").LinkDeviceScreenVariantType.M1_WINNER:b.set(h.PairingScreenRefreshVariant1Flag.getIndex());break}e=d("WAWebNativeCameraQRLinkedDeviceUtils").getNativeCameraQRLinkedDeviceVariant();switch(e){case d("WAWebNativeCameraQRLinkedDeviceUtils").NativeCameraQRLinkedDeviceVariantType.NONE:break;case d("WAWebNativeCameraQRLinkedDeviceUtils").NativeCameraQRLinkedDeviceVariantType.CONTROL:b.set(h.LinkDeviceScreenControl.getIndex());break;case d("WAWebNativeCameraQRLinkedDeviceUtils").NativeCameraQRLinkedDeviceVariantType.TEST:b.set(h.LinkDeviceScreenTest.getIndex());break}e=d("WAWebLinkDeviceScreenGatedUtils").getOptimizedRegFromWebVariant();a=(a==null?void 0:a.resultType)==="WEB_REGISTRATION_CAMPAIGN"||e==="test";a?b.set(h.OptimizedRegistrationTest.getIndex()):e==="control"&&b.set(h.OptimizedRegistrationControl.getIndex());a=d("WAWebArkoseExpUtils").getArkoseVariant();switch(a){case d("WAWebArkoseExpUtils").ArkoseVariantType.NONE:break;case d("WAWebArkoseExpUtils").ArkoseVariantType.CONTROL:b.set(h.ArkoseControl.getIndex());break;case d("WAWebArkoseExpUtils").ArkoseVariantType.TEST:b.set(h.ArkoseTest.getIndex());break}e=d("WAWebLinkDeviceScreenGatedUtils").getLocalizationFixVariant();switch(e){case"control":b.set(h.LocalizationFixControl.getIndex());break;case"test":b.set(h.LocalizationFixTest.getIndex());break}return b.toNumber()}g.getWebCompanionLinkDeviceExperienceId=a}),98);
__d("WAWebWamEnumMdLinkDeviceCompanionStage",[],(function(a,b,c,d,e,f){a=Object.freeze({PAIR_SUCCESS_RECEIVED:1,PAIR_DEVICE_SIGN_SENT:2,FIRST_CONNECT:3,UPLOAD_PREKEYS:4,COMPLETE:5,GENERATE_PREKEYS:6,SENT_PREKEYS:7});f.MD_LINK_DEVICE_COMPANION_STAGE=a}),66);
__d("WAWebMdLinkDeviceCompanionWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumApplicationState","WAWebWamEnumMdLinkDeviceCompanionStage"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdLinkDeviceCompanion:[2576,{appContext:[13,a.TYPES.STRING],appContextBitfield:[14,a.TYPES.INTEGER],applicationState:[12,d("WAWebWamEnumApplicationState").APPLICATION_STATE],mdCompanionRefHash:[10,a.TYPES.STRING],mdDurationS:[8,a.TYPES.INTEGER],mdLinkDeviceCompanionErrorCode:[6,a.TYPES.INTEGER],mdLinkDeviceCompanionStage:[4,d("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE],mdLinkDeviceExperienceId:[11,a.TYPES.INTEGER],mdRegAttemptId:[9,a.TYPES.STRING],mdSessionId:[1,a.TYPES.STRING],mdTimestampS:[7,a.TYPES.INTEGER],mdWasUpgraded:[5,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{MdLinkDeviceCompanion:[]});g.MdLinkDeviceCompanionWamEvent=b}),98);
__d("WAWebWamDeviceLinkReporter",["WABase64","WABinary","WACryptoSha256","WAResolvable","WATimeUtils","WAWebAppTracker","WAWebLinkDeviceExperience","WAWebMdLinkDeviceCompanionWamEvent","WAWebWamEnumMdLinkDeviceCompanionStage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=null,i=null,j=null,k=null;function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){h=new(d("WAWebMdLinkDeviceCompanionWamEvent").MdLinkDeviceCompanionWamEvent)();a=(yield n(a,b));i={regStartTime:c,sessionId:a};return a});return l.apply(this,arguments)}function c(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;if(!h)return;yield (b=k)==null?void 0:b.promise;k=new(d("WAResolvable").Resolvable)();j=a;yield p()});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=new(d("WABinary").Binary)();c.writeBuffer(a);c.write("_".charCodeAt(0));c.writeBuffer(b);a=c.readByteArrayView();b=(yield d("WACryptoSha256").sha256(a));return d("WABase64").encodeB64(b)});return o.apply(this,arguments)}function p(a){if(!h||!i)return;var b=i,c=d("WATimeUtils").unixTimeWithoutClockSkewCorrection()-b.regStartTime;if(j==null)return;h=new(d("WAWebMdLinkDeviceCompanionWamEvent").MdLinkDeviceCompanionWamEvent)({mdDurationS:c,mdSessionId:b.sessionId,mdTimestampS:b.regStartTime,mdLinkDeviceCompanionErrorCode:a==null?0:a,mdLinkDeviceCompanionStage:j,mdLinkDeviceExperienceId:d("WAWebLinkDeviceExperience").getWebCompanionLinkDeviceExperienceId()});b=h;d("WAWebAppTracker").attachWAMAppContext(b,c*1e3);b.commitAndWaitForFlush(!0);(c=k)==null||c.resolve();(a!=null||b.mdLinkDeviceCompanionStage===d("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.COMPLETE)&&(h=null,i=null,j=null)}g.initDeviceLinkEvent=a;g.setDeviceLinkPairStage=c;g.commitDeviceLinkEvent=p}),98);
__d("WAWebRegisterPassiveTasks",["WAAbortError","WACustomError","WALogger","WAPromiseLoop","WAPromiseTimeout","WAWebABPropsLocalStorage","WAWebABPropsWamGlobals","WAWebAbPropsSyncJob","WAWebClearDanglingReceipts","WAWebGetMessageCache","WAWebHandleOfflineAbProps","WAWebOnlineDanglingReceipts","WAWebPassiveModeManager","WAWebSchemaDanglingReceipt","WAWebSignalStoreApi","WAWebUploadPrekeysForRegTask","WAWebUserPrefsGeneral","WAWebWamDeviceLinkReporter","WAWebWamEnumMdLinkDeviceCompanionStage","asyncToGeneratorRuntime","cr:10195"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=4,z=60*1e3;function a(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSignalStoreApi").waSignalStore.getServerHasPreKeys());if(!a){yield d("WAWebWamDeviceLinkReporter").setDeviceLinkPairStage(d("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.UPLOAD_PREKEYS);var e=c("WAWebUploadPrekeysForRegTask")();void e.startKeyGenerationStage();d("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask(function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[passive] start key upload"])));return e.startKeyUploadStage().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[passive] key upload complete"]))),yield d("WAWebWamDeviceLinkReporter").setDeviceLinkPairStage(d("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.COMPLETE),yield d("WAWebWamDeviceLinkReporter").commitDeviceLinkEvent()}))["catch"](function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["error while uploading prekeys, ",""])),a).verbose().devConsole(a).sendLogs("error while uploading prekeys"),yield d("WAWebWamDeviceLinkReporter").commitDeviceLinkEvent(-1)});return function(b){return a.apply(this,arguments)}}())})}(!d("WAWebABPropsLocalStorage").isABPropsAfterFirstSync()||(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaDirtyBitIdb()))&&(yield d("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask(function(a){return d("WAWebAbPropsSyncJob").syncABPropsTask()["catch"](function(a){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["error while sync ab props prekeys, ",""])),a).verbose()})}),void d("WAWebUserPrefsGeneral").setWhatsAppWebExternalBetaDirtyBitIdb(!1),d("WAWebABPropsWamGlobals").setAbPropDependingGlobalWamAttributes())});return A.apply(this,arguments)}function e(){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebOnlineDanglingReceipts").hasOnlineDanglingReceipts()&&d("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[passive] start sending online dangling receipts"]))),yield d("WAWebOnlineDanglingReceipts").sendAndClearOnlineDanglingReceipts(),d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending online dangling receipts complete"])))}catch(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["error while sending online dangling receipts, ",""])),a).verbose().devConsole(a).sendLogs("send-online-dangling-receipts-failed")}}));var a=(yield d("WAWebSchemaDanglingReceipt").getTable().all()),c=a.length>0,e=d("WAWebGetMessageCache").getMessageCache().size()>0||d("WAWebGetMessageCache").getMessageCache().checkpointQueue.size()>0;(c||e)&&d("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(c)try{d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending dangling receipts"]))),yield d("WAWebClearDanglingReceipts").sendAndClearDanglingReceipts(a,b),d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending dangling receipts: done"])))}catch(a){if(a.name===d("WAAbortError").ABORT_ERROR)throw a;d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending dangling receipts failed: ",""])),a).verbose().devConsole(a).sendLogs("send-and-clear-dangling-receipts-failed")}e&&(yield D())});return function(a){return f.apply(this,arguments)}}())});return B.apply(this,arguments)}var C=null;function D(){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(C){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: skip"])));return C}try{d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache"])));var a=d("WAPromiseLoop").promiseLoop(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: size: ",", queue size: ",", generation: ",""])),d("WAWebGetMessageCache").getMessageCache().size(),d("WAWebGetMessageCache").getMessageCache().checkpointQueue.size(),c),d("WAWebGetMessageCache").getMessageCache().size()>0&&d("WAWebGetMessageCache").getMessageCache().createSnapshot(),yield d("WAWebGetMessageCache").getMessageCache().checkpointQueue.wait(),d("WAWebGetMessageCache").getMessageCache().size()===0&&d("WAWebGetMessageCache").getMessageCache().checkpointQueue.size()===0?a():c+1>=y&&(d("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: stop after "," attempts"])),y),a())});return function(b,c,d){return a.apply(this,arguments)}}());C=d("WAPromiseTimeout").promiseTimeout(a,z);yield C;d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: done"])))}catch(b){if(b instanceof d("WACustomError").TimeoutError){a=d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: timeout"])));d("WAWebHandleOfflineAbProps").isNonBlockingOfflineResumeExpEnabled()&&(a=a.tags("offline-resume-experimental"));a.sendLogs("passive-flush-message-cache-timeout",{sampling:.01})}else d("WALogger").ERROR(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache failed: ",""])),b).verbose().devConsole(b).sendLogs("passive-flush-message-cache-failed",{sampling:.01})}finally{C=null}});return E.apply(this,arguments)}g.registerPassiveTaskForStartUp=a;g.registerPassiveTasksForConnect=e}),98);
__d("WAWebGetClientPayloadForLogin",["WALogger","WAWebClientPayload","WAWebPassiveModeManager","WAWebRegisterPassiveTasks","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a||{passive:!1,pull:!0};var b=self.performance.now();yield d("WAWebRegisterPassiveTasks").registerPassiveTasksForConnect();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForLogin registered passive tasks in ","ms"])),Math.ceil(self.performance.now()-b)).tags("launch-socket-chat");a.passive=d("WAWebPassiveModeManager").PassiveTaskManager.shouldConnectAsPassiveMode();b=self.performance.now();a=(yield d("WAWebClientPayload").getClientPayloadForLogin(a));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForLogin generated payload in ","ms"])),Math.ceil(self.performance.now()-b)).tags("launch-socket-chat");return a});return j.apply(this,arguments)}g.getClientPayloadForLogin=a}),98);
__d("WAWebGetClientPayloadForRegistration",["Promise","WALogger","WAWebClientPayload","WAWebSignalStoreApi","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=self.performance.now(),f=(yield (j||(j=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo(),d("WAWebSignalStoreApi").waSignalStore.getSignedPreKey()])),g=f[0];f=f[1];d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForRegistration fetched signalInfo in ","ms"])),Math.ceil(self.performance.now()-e)).tags("launch-socket-chat");if(!f||!g)throw c("err")("Invalid signal credentials");e=self.performance.now();g=(yield d("WAWebClientPayload").getClientPayloadForRegistration(g,f,a));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForRegistration generated payload in ","ms"])),Math.ceil(self.performance.now()-e)).tags("launch-socket-chat");return g});return k.apply(this,arguments)}g.getClientPayloadForRegistration=a}),98);
__d("WAWebCookieDomain",["gkx"],(function(a,b,c,d,e,f,g){a=".web.whatsapp.com";c("gkx")("26258")||(a=".dev-web.whatsapp.com");b=a;g.COOKIE_DOMAIN=b}),98);
__d("WAWebEventsWaitForEvent",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){var h;function a(a,c,e,f){e===void 0&&(e=function(){return!0});return f!=null&&f.aborted?(h||(h=b("Promise"))).reject(new(d("WAAbortError").AbortError)()):new(h||(h=b("Promise")))(function(b,g){var h=function(){if(!e.apply(this,arguments))return;j==null||j();b.apply(this,arguments)},i=function(){j==null||j(),g(new(d("WAAbortError").AbortError)())},j=function(){a.removeEventListener(c,h),f==null||f.removeEventListener("abort",i),j=null};f==null||f.addEventListener("abort",i);a.addEventListener(c,h)})}g["default"]=a}),98);
__d("WAWebEventsWaitForOffline",["WAWebEventsWaitForEvent"],(function(a,b,c,d,e,f,g){function a(a){return c("WAWebEventsWaitForEvent")(window,"offline",void 0,a)}g["default"]=a}),98);
__d("WAWebWatchedSocket",["WAAbortError","WABinary","WASocketTransport","WAWebEventsWaitForOffline","WAWebNoop"],(function(a,b,c,d,e,f,g){a=function(a){function b(b){var e;e=a.call(this,b)||this;e.dataToSend=new(d("WABinary").Binary)();e.wsUrl=b.url;e.$WatchedSocket$p_2=new AbortController();e.$WatchedSocket$p_1=c("WAWebEventsWaitForOffline")(e.$WatchedSocket$p_2.signal).then(function(){return e.close()})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")));return e}babelHelpers.inheritsLoose(b,a);return b}(d("WASocketTransport").WebSocketTransport);g.WatchedSocket=a}),98);
__d("WAWebOpenSocket",["Promise","WAAbortError","WALogger","WANullthrows","WAPromiseRetryLoop","WAWebCookieDomain","WAWebLocalStorage","WAWebMiscErrors","WAWebWatchedSocket","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s=["wss://web.whatsapp.com/ws/chat","wss://web.whatsapp.com:5222/ws/chat"];function t(){if(!c("gkx")("26258")){var a;a=(a=c("WANullthrows")(c("WAWebLocalStorage")).getItem("wdev-pinning-cookie-value"))!=null?a:"";document.cookie=["sticky_routing="+a.replace(/\"/g,""),"path=/","domain="+d("WAWebCookieDomain").COOKIE_DOMAIN,"secure"].join(";")}}function u(a){if(a.code===1e3)return;d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[socket] Immediate socket closure: closed: "," ",""])),a.code,a.reason).tags("socket")}function v(a,b){var c=a!=null?"[socket] "+a+" closed. code: "+b.code:"[socket] closed connection during initialization. Code: "+b.code;switch(b.code){case 1e3:case 1001:d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),c).tags("socket");break;case 1006:a!=null&&d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),c).tags("socket");d("WALogger").COUNT(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),c).tags("socket");break;case 1002:case 1003:case 1007:case 1008:case 1009:case 1010:case 1011:case 1015:d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),c).tags("socket");break;default:d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",". Reason: ",", clean: ",""])),c,b.reason,b.wasClean).tags("socket");break}}function w(a){var c=new AbortController();return new(r||(r=b("Promise")))(function(b,e){var f=!1,g=[];a.forEach(function(h){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[socket] openWebSocketsConcurrently opening ws with ","."])),h).tags("socket"),void x(h,c.signal,u,v).then(function(a){!f?(f=!0,d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[socket] openWebSocketsConcurrently opened socket with "," ws."])),h).tags("socket").devConsole(a),b(a)):(d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[socket] openWebSocketsConcurrently closing socket with "," as loser"])),h).tags("socket"),c.abort(),a.close(1e3,"loser socket"))})["catch"](function(b){if(b.name==="AbortError")return;d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[socket] openWebSocketsConcurrently socket with "," failed: ",""])),h,b).tags("socket");g.push(b);g.length===a.length&&e(b)})})})}function x(e,f,a,c){var g=new WebSocket(e);g.binaryType="arraybuffer";return new(r||(r=b("Promise")))(function(b,e){g.onopen=b,g.onclose=function(b){if(f!=null&&f.aborted){e(new(d("WAAbortError").AbortError)());return}a==null||a(b);c==null||c(null,b);e(new(d("WAWebMiscErrors").SocketError)(b))}}).then(function(){return g})}function y(){return{jitter:.1,max:1e4,algo:{type:"fibonacci",first:1e3,second:1e3},relativeDelay:!0}}function z(){return self.navigator!=null?self.navigator.onLine:!0}function a(a){var b=s.map(function(b){return a!=null?b+"?ED="+a:b}),c=!0;t();var e=function(){z()&&c===!1&&(c=!0,f.reset())},f=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"socketOpener",timer:y(),code:function(a){return w(b).then(function(b){a(new(d("WAWebWatchedSocket").WatchedSocket)(b))})["catch"](function(){c=z()})}});self.addEventListener("online",e);f.start();return f.promise()["finally"](function(){self.removeEventListener("online",e)})}g.openWebSocket=a}),98);
__d("WAWebProcessCertificate",["WALogger","WAVerifyChainCertificateWA6","WAWebDbEncryptionKey","WAWebUserPrefsInfoStore","WAWebUserPrefsScreenLock","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.certificate,e=a.serverStatic;a=a.isRegistered;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[socket] processCertificate start"]))).tags("handshake");b=d("WAVerifyChainCertificateWA6").verifyChainCertificateWA6(b,e);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[socket] processCertificate finished with success: ",""])),b.success).tags("handshake");if(!b.success)throw c("err")("[socket] processCertificate error: "+b.error);if(a&&!d("WAWebUserPrefsScreenLock").getScreenLockEnabled()){e=b.value;var f=e.intermediate,g=e.leaf;g&&f&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[socket] persisting cert chain start"]))).tags("handshake"),void d("WAWebDbEncryptionKey").DbEncKeyStore.waitForInit().then(function(){d("WAWebUserPrefsInfoStore").waNoiseInfo.setCertificateChain({intermediate:{key:f.key,notAfter:Number(f.notAfter),notBefore:Number(f.notBefore)},leaf:{key:g.key,notAfter:Number(g.notAfter),notBefore:Number(g.notBefore)}}).then(function(){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[socket] persisting cert chain finished"]))).tags("handshake")})["catch"](function(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[socket] processCertificate: failed to set cert chain: ",""])),a).sendLogs("handhshake-set-cert-chain",{sampling:.01})})}))}});return m.apply(this,arguments)}g.verifyAndProcessCertificate=a}),98);
__d("WAWebWamEnumWebcSocketConnectReasonType",[],(function(a,b,c,d,e,f){a=Object.freeze({PAGE_LOAD:0,RECONNECT:1});f.WEBC_SOCKET_CONNECT_REASON_TYPE=a}),66);
__d("WAWebWebcSocketConnectWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcSocketConnectReasonType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcSocketConnect:[5450,{webcAuthHandshakeDuration:[1,a.TYPES.TIMER],webcSocketConnectDuration:[2,a.TYPES.TIMER],webcSocketConnectReason:[3,d("WAWebWamEnumWebcSocketConnectReasonType").WEBC_SOCKET_CONNECT_REASON_TYPE],webcSocketHostname:[4,a.TYPES.STRING]},[1,1,1],"regular"]},{WebcSocketConnect:[]});g.WebcSocketConnectWamEvent=b}),98);
__d("WAWebOpenChatSocket",["Promise","WABase64","WABinary","WAFrameSocket","WAHex","WALogger","WANoiseHandshake","WANullthrows","WAResultOrError","WAWapDict","WAWebCommonSocketPlatformDetails","WAWebCryptoCurve25519","WAWebGetClientPayloadForLogin","WAWebGetClientPayloadForRegistration","WAWebOpenSocket","WAWebPageLoadLogging","WAWebProcessCertificate","WAWebProtobufsWa6.pb","WAWebSocketLogoutJob","WAWebUserPrefsInfoStore","WAWebUserPrefsMultiDevice","WAWebUserPrefsScreenLock","WAWebWamEnumWebcSocketConnectReasonType","WAWebWebcSocketConnectWamEvent","asyncToGeneratorRuntime","cr:4533","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L=1;e=6;var M=new Uint8Array([87,65,e,d("WAWapDict").DICT_VERSION]),N="Noise_XX_25519_AESGCM_SHA256\0\0\0\0",O="Noise_IK_25519_AESGCM_SHA256\0\0\0\0",P="Noise_XXfallback_25519_AESGCM_SHA256";function Q(a){return d("WAWebOpenSocket").openWebSocket(a)}function R(a,b,c){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[socket] openChatSocketCommon"])));var f=(yield d("WAWebUserPrefsMultiDevice").getRoutingInfo()),g=f?f.edgeRouting:null;f=g?d("WABase64").encodeB64UrlSafe(g):null;var h=(yield d("WAWebCryptoCurve25519").keyPair());d("WAWebPageLoadLogging").startPageLoadQplMeasure("socket_open");return Q(f).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=void 0;d("WAWebPageLoadLogging").endPageLoadQplMeasure("socket_open");c.markWebcSocketConnectDuration();c.webcSocketConnectReason=d("WAWebPageLoadLogging").wasPageLoadQplLogged()?d("WAWebWamEnumWebcSocketConnectReasonType").WEBC_SOCKET_CONNECT_REASON_TYPE.RECONNECT:d("WAWebWamEnumWebcSocketConnectReasonType").WEBC_SOCKET_CONNECT_REASON_TYPE.PAGE_LOAD;if(g){var i=new(d("WABinary").Binary)();i.write("ED",0,1);i.writeUint8(g.byteLength>>16);i.writeUint16(g.byteLength&65535);i.writeBuffer(g);f=i.readByteArrayView();d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["openChatSocket preIntro ",""])),f)}i=f?d("WABinary").Binary.build(f,M).readByteArrayView():M;f=new(d("WAFrameSocket").FrameSocket)(b,i);b=a?yield ea(X):null;d("WAWebPageLoadLogging").startPageLoadQplMeasure("auth_handshake");c.startWebcAuthHandshakeDuration();if(b!=null){i=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());return aa(f,e,a,h,i==null?void 0:i.staticKeyPair,b)}return T(f,h,a,e)});return function(a){return f.apply(this,arguments)}}())});return S.apply(this,arguments)}function T(a,b,c,e){var f=new(d("WANoiseHandshake").NoiseHandshake)(a);f.start(N,M);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[socket] doFullHandshake: openChatSocket send hello"]))).tags("handshake");f.authenticate(b.pubKey);a={clientHello:{ephemeral:b.pubKey}};return f.sendAndReceive(d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,a).readByteArrayView()).then(function(a){return V(f,a,b,c,e)})}function aa(a,e,f,g,h,v){if(h==null)return(K||(K=b("Promise"))).reject("resumeNoiseHandshake authKeyPair is null");var w=new(d("WANoiseHandshake").NoiseHandshake)(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake started"]))).tags("handshake");w.start(O,M);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake authenticate with server static key"]))).tags("handshake");w.authenticate(v);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake authenticate with client ephemeral key"]))).tags("handshake");w.authenticate(g.pubKey);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake EC Agreement 1"]))).tags("handshake");w.mixIntoKey(d("WAWebCryptoCurve25519").sharedSecret(v,g.privKey));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake encrypt client static key"]))).tags("handshake");var x=w.encrypt((K||(K=b("Promise"))).resolve(h.pubKey))["catch"](function(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["resumeNoiseHandshake failed to encrypt client static key: ",""])),a);return(K||(K=b("Promise"))).reject(a)});d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake EC Agreement 2"]))).tags("handshake");w.mixIntoKey(d("WAWebCryptoCurve25519").sharedSecret(v,h.privKey));v=f?d("WAWebGetClientPayloadForLogin").getClientPayloadForLogin(e):d("WAWebGetClientPayloadForRegistration").getClientPayloadForRegistration(e);v=w.encrypt(K.resolve(v))["catch"](function(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["resumeNoiseHandshake failed to encrypt client login props: ",""])),a);return(K||(K=b("Promise"))).reject(a)});return K.all([g.pubKey,v,x]).then(function(b){var i=b[0],j=b[1];b=b[2];d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake send hello"]))).tags("handshake");i={clientHello:{ephemeral:i,payload:j,"static":b}};return w.sendAndReceive(d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,i).readByteArrayView()).then(function(b){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake rcv hello"]))).tags("handshake");var i=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,b);i=i.serverHello;i=i||{};var j=i.ephemeral,k=i["static"];i=i.payload;if(k==null){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake continuing resume handshake"]))).tags("handshake");if(!j)throw c("err")("serverHello missing serverEphemeral");if(!i)throw c("err")("serverHello missing certificateCiphertext");w.authenticate(j);w.mixIntoKey(d("WAWebCryptoCurve25519").sharedSecret(j,g.privKey));w.mixIntoKey(d("WAWebCryptoCurve25519").sharedSecret(j,h.privKey));return w.decrypt(i).then(function(){d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake deriving secrets"]))).tags("handshake");return w.finish()})}d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake failed: serverStaticCiphertext not null"])));return ba(a,e,f,g,b)})})}function ba(a,b,c,d,e){return U.apply(this,arguments)}function U(){U=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){a=new(d("WANoiseHandshake").NoiseHandshake)(a);a.start(P,M);a.authenticate(e.pubKey);d("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[socket] doFallbackHandshake continuing handshake with given server hello"])));return V(a,f,e,c,b)});return U.apply(this,arguments)}function V(a,e,f,g,h){d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[socket] openChatSocket rcv hello"])));d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[socket] server hello content: ",""])),d("WAHex").toLowerCaseHex(e));e=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,e);e=e.serverHello;if(!e)throw c("err")("ServerHello payload error");var i=e.ephemeral,j=e["static"];e=e.payload;if(i==null||j==null||e==null)throw c("err")("Missing server Ephemeral");d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[socket] serverEphemeral: ",""])),d("WAHex").toLowerCaseHex(new Uint8Array(i)));d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[socket] serverStaticCiphertext: ",""])),d("WAHex").toLowerCaseHex(new Uint8Array(j)));d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[socket] certificateCiphertext: ",""])),d("WAHex").toLowerCaseHex(new Uint8Array(e)));a.authenticate(i);a.mixIntoKey(d("WAWebCryptoCurve25519").sharedSecret(i,f.privKey));j=a.decrypt(j);var k=j.then(function(a){return d("WAWebCryptoCurve25519").sharedSecret(a,f.privKey)});a.mixIntoKey(k);return(K||(K=b("Promise"))).all([j,a.decrypt(e),i]).then(function(b){var c=b[0],d=b[1];b=b[2];return ca(a,c,d,b,g,h)})}function ca(a,b,c,d,e,f){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i){yield d("WAWebProcessCertificate").verifyAndProcessCertificate({certificate:f,serverStatic:e,isRegistered:h});yield g;f=h?d("WAWebGetClientPayloadForLogin").getClientPayloadForLogin(i):d("WAWebGetClientPayloadForRegistration").getClientPayloadForRegistration(i);e=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());e==null&&(d("WALogger").LOG(D||(D=babelHelpers.taggedTemplateLiteralLoose(["[socket] Unable to decrypt noise data"]))).tags("launch-socket-chat","handshake"),yield d("WAWebSocketLogoutJob").socketLogout(),c("WANullthrows")(e,"Unexpected null: noiseData"));h=c("WANullthrows")(e).staticKeyPair;return(K||(K=b("Promise"))).all([da(h,a,g),a.encrypt(K.resolve(f))]).then(function(b){var c=b[0];b=b[1];c={clientFinish:{"static":c,payload:b}};d("WALogger").LOG(E||(E=babelHelpers.taggedTemplateLiteralLoose(["[socket] continueFullHandshakeCore client finish and deriving secrets"])));a.send(d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsWa6.pb").HandshakeMessageSpec,c).readByteArrayView());return a.finish()})});return W.apply(this,arguments)}function da(a,e,f){var g=(K||(K=b("Promise"))).resolve(a.pubKey);g=e.encrypt(g);if(!f)return(K||(K=b("Promise"))).reject(c("err")("staticAgreement called before serverKeys"));f=d("WAWebCryptoCurve25519").sharedSecret(f,a.privKey);e.mixIntoKey(f);return g}var X=0;function ea(a){return Y.apply(this,arguments)}function Y(){Y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebUserPrefsScreenLock").getScreenLockEnabled())return null;if(a>=L){d("WALogger").LOG(F||(F=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] getCertficateChain handshake previously failed "," times. Falling back to full handshake"])),a).tags("handshake");return null}try{a=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());if(a==null){d("WALogger").LOG(G||(G=babelHelpers.taggedTemplateLiteralLoose(["Unable to decrypt noise data for resume handshake"]))).tags("launch-socket-chat");return null}a=a.certificateChainBuffer?d("WAWebUserPrefsInfoStore").waNoiseInfo.getCertficateChain(a.certificateChainBuffer):null;return d("WAWebCommonSocketPlatformDetails").makeServerInfoIfKnown(a)}catch(a){d("WALogger").ERROR(H||(H=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] getCertficateChain error: ",", msg: ",", stack: ",""])),a.name,a.message,a.stack).tags("handshake");return null}});return Y.apply(this,arguments)}function fa(a,b){return Z.apply(this,arguments)}function Z(){Z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=a||{passive:!1,pull:!0};var c=new(d("WAWebWebcSocketConnectWamEvent").WebcSocketConnectWamEvent)();b=(yield R(b,c,a));d("WAWebPageLoadLogging").endPageLoadQplMeasure("auth_handshake");c.markWebcAuthHandshakeDuration();c.commit();X=0;return d("WAResultOrError").makeResult(b)}catch(b){d("WAWebPageLoadLogging").incrementPageLoadQplSocketError();a=ga();d("WALogger").LOG(I||(I=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] handshake failed with ",", msg: ",", network: ",""])),b.name,b.message,a).tags("handshake");a&&(X++,d("WALogger").ERROR(J||(J=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] handshake failed. Retry count: ",""])),X).tags("handshake").sendLogs("handshake-error",{sampling:.01}));return d("WAResultOrError").makeError("disconnected")}});return Z.apply(this,arguments)}function ga(){return self.navigator!=null?self.navigator.onLine:!0}function a(a){return $.apply(this,arguments)}function $(){$=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebUserPrefsMultiDevice").isRegistered();return fa(a,b)});return $.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebCommsConfig",["WALogger","WANullthrows","WAWapJid","WAWebABProps","WAWebCmd","WAWebCommsProcessAck","WAWebCommsSendPing","WAWebEnvironment","WAWebNoop","WAWebOfflineResumePreAckHandler","WAWebOpenChatSocket","WAWebSocketConstants","WAWebUserPrefsMultiDevice","cr:7907","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=60*15*1e3;function n(){return{jitter:.1,max:m,algo:{type:"fibonacci",first:1e3,second:1e3},relativeDelay:!1}}function a(a){var e=a?a:{passive:!1,pull:!1};return{maxRetries:Number.MAX_SAFE_INTEGER,openChatSocket:function(a,b){d("WAWebABProps").getABPropConfigValue("web_comms_socket_reconnect_enabled")?e.signal=c("WANullthrows")(b):e.signal=new AbortController().signal;return c("WAWebOpenChatSocket")(e).then(function(b){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[comms] getCommsConfig:openChatSocket"]))).devConsole(b);a();e.passive=!1;return b})},healthCheckInterval:15,deadSocketTime:2e4,maxSocketLoopWaitTime:m,shouldCloseStaleSocket:!0,socketReconnectBackoffAlgo:n(),shouldBlockReceivingUntilSuccess:!0,handlers:{onConnect:function(){d("WAWebUserPrefsMultiDevice").isRegistered()&&(d("WAWebCmd").Cmd.setSocketState(d("WAWebSocketConstants").SOCKET_STATE.CONNECTED),d("WAWebCmd").Cmd.openSocketStream())},onDisconnect:function(){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[comms] getCommsConfig:onDisconnect"]))),d("WAWebABProps").getABPropConfigValue("web_reset_offline_state_ondisconnect_enabled")&&d("WAWebCmd").Cmd.resetOfflineDeliveryState(),d("WAWebCmd").Cmd.socketStreamDisconnected()},onSocketOpen:function(){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[comms] getCommsConfig:onSocketOpen"]))),d("WAWebCmd").Cmd.setSocketState(d("WAWebSocketConstants").SOCKET_STATE.PAIRING)},onSocketLoopIteration:function(a){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[comms] getCommsConfig:onSocketLoopIteration"]))),d("WAWebCmd").Cmd.setSocketState(d("WAWebSocketConstants").SOCKET_STATE.OPENING)},onConnectionChange:c("WAWebNoop"),onOptimisticConnectionChange:c("WAWebNoop"),onBeforeCastStanzaForE2E:function(a,b){a.tag==="ack"&&!(b!=null&&b.preAck)&&!d("WAWebCmd").Cmd.isOfflineDeliveryEnd&&void d("WAWebOfflineResumePreAckHandler").parseAndSerializeOfflinePreAck(a)},onCastStanza:function(a){c("gkx")("26259")&&(a.tag==="ack"&&!(a.attrs.to instanceof d("WAWapJid").WapJid)&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["ack.to is a "," not a WapJid: ",""])),typeof a.attrs.to,a).sendLogs("send-string-jid")),c("gkx")("26258")||(b("cr:7907")==null||b("cr:7907").sendNewStanzaToDevTool(a,!0))},onHandleAck:function(a){c("WAWebCommsProcessAck")(a)},onHandleStanza:function(a){c("gkx")("26258")||(b("cr:7907")==null||b("cr:7907").sendNewStanzaToDevTool(a,!1))},onSendIq:c("WAWebNoop"),onClockSkewUpdate:function(a){d("WAWebCommsSendPing").updateClockSkew(a)}},isPauseEnabled:c("WAWebEnvironment").isWindows}}g.getCommsConfig=a}),98);
__d("WAWebInitWaitForEvents",["WAWebEventsWaitForOfflineDeliveryEnd","WAWebEventsWaitForReadyForOffline"],(function(a,b,c,d,e,f,g){function a(){d("WAWebEventsWaitForReadyForOffline").initWaitForOfflineProcessReady(),d("WAWebEventsWaitForOfflineDeliveryEnd").initWaitForOfflineDeliveryEnd()}g.initOfflineResumeWaitForEvents=a}),98);
__d("WAWebMsgSyncTunnelTimeoutUtils",[],(function(a,b,c,d,e,f){function a(a){var b=[],c=null;function d(){c=self.performance.now()}function e(){if(c==null)return b[b.length-1];var d=self.performance.now();d=Math.floor(d-c);c=null;b.length>=a&&b.shift();b.push(d);return d}function f(){if(b.length===0)return 0;var a=b.reduce(function(a,b){return a+b},0);return a/b.length}function g(a){var b=f();return Math.floor(b*(1+a/100))}return{perfStart:d,perfEnd:e,getAverage:f,getAveragePlusNPercent:g,at:function(a){return(a=b.at(a))!=null?a:0}}}f.createPerformanceCache=a}),66);
__d("WAWebMsgSyncTunnelJobThrottler",["WALogger","WAWebMsgSyncTunnelTimeoutUtils","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function a(a,e,f){var g=[],k=e.defaultTimeoutMs,m=d("WAWebMsgSyncTunnelTimeoutUtils").createPerformanceCache(3),n=!1;function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b===void 0&&(b=!1);if(g.length===0)return;if(n&&!b)return;n=!0;b=g;g=[];m.perfStart();try{yield f(b)}catch(c){g=b.concat(g),d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[msg-tunnel] "," failed ",", cache "," items preserved, error ",""])),a,m.perfEnd(),b.length,c).sendLogs("msg-tunnel-"+a+"-failed",{sampling:.01})}n=!1;b=m.perfEnd();if(b==null)return;if(e.defaultTimeoutMs<b){var c=15;if(k>b){var h=m.getAveragePlusNPercent(c);if(h<b)return;r(h);return}b=m.getAveragePlusNPercent(c);if(k+100>=b)return;r(b)}});return p.apply(this,arguments)}var q=c("lodash").throttle(o,k,{leading:!1,trailing:!0,maxWait:e.maxWait});function r(b){var f=k;k=Math.min(b,(b=e.debounceThreshold)!=null?b:15e3);if(k===e.debounceThreshold){if(f===k)return;q.cancel();q=c("lodash").debounce(o,k,{leading:!1,trailing:!0,maxWait:e.maxWait});d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[msg-tunnel] switch "," to debounce"])),a)}else q.cancel(),q=c("lodash").throttle(o,k,{leading:!1,trailing:!0,maxWait:e.maxWait});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[msg-tunnel] set "," delayMs to ","ms"])),a,k);k>12e3&&d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[msg-tunnel] "," delayMs is ","ms, config: ","ms"])),a,k,e.defaultTimeoutMs).sendLogs("msg-tunnel-"+a+"-exceeds-12s",{sampling:.01})}return{take:function(a){g.push(a),void q()},forceDrain:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o(!0),r(e.defaultTimeoutMs)});function c(){return a.apply(this,arguments)}return c}()}}g.createJobThrottler=a}),98);
__d("WAWebMsgSyncTunnelBatcher",["Promise","WALogger","WAWebABProps","WAWebAddonLogUtils","WAWebCmd","WAWebMessagePostprocessRenderable","WAWebMessageProcessDBPipeline","WAWebMsgSyncTunnelJobThrottler","WAWebOfflineHandler","WAWebOfflineResumeTypes.flow","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(){var a,c=d("WAWebMsgSyncTunnelJobThrottler").createJobThrottler("write-db",{defaultTimeoutMs:(a=d("WAWebABProps").getABPropConfigValue("web_msg_sync_update_tunnel_timeout_ms"))!=null?a:500,debounceThreshold:5e3},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=a.reduce(function(a,b){return a.concat(b.msgs)},[]);yield d("WAWebMessageProcessDBPipeline").processMsgDataDBPipeline(a,!0)}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["failed storing messages ",""])),a).tags("messaging").sendLogs("msg-tunnel-storing-failure")}});return function(b){return a.apply(this,arguments)}}()),e=d("WAWebMsgSyncTunnelJobThrottler").createJobThrottler("update-ui",{defaultTimeoutMs:(a=d("WAWebABProps").getABPropConfigValue("web_msg_sync_update_tunnel_timeout_ms"))!=null?a:500,maxWait:5e3},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield (j||(j=b("Promise"))).allSettled(a.map(d("WAWebMessagePostprocessRenderable").postprocessRenderableMessages)));d("WAWebAddonLogUtils").hasSettledWithError(a)&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["failed incoming addons processing"]))).tags("messaging").sendLogs("msg-tunnel-renderable-msgs-processing")});return function(b){return a.apply(this,arguments)}}()),f=function(a){e.take(a),c.take(a)},g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield c.forceDrain(),yield e.forceDrain()});return function(){return a.apply(this,arguments)}}(),k=function(){var a=d("WAWebOfflineHandler").OfflineMessageHandler.getResumeType();return a===d("WAWebOfflineResumeTypes.flow").ResumeType.NonBlocking?d("WAWebABProps").getABPropConfigValue("web_msg_sync_update_tunnel"):!1};return{isEnabled:k,isActive:function(){return d("WAWebCmd").Cmd.isOfflineDeliveryEnd?!1:k()},accept:function(a){f(a)},drain:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g()});function c(){return a.apply(this,arguments)}return c}()}}c=a();g.nonBlockingMsgsSyncTunnel=c}),98);
__d("WAWebNonBlockingOfflineResumeManager",["WALogger","WAShiftTimer","WAWebApiPendingDeviceSync","WAWebBackendApi","WAWebBrokerGlobalAppState","WAWebChatThreadLogging","WAWebCmd","WAWebHandleMsgTypes.flow","WAWebHandleOfflineAbProps","WAWebJSHaltDetector","WAWebMessageQueue","WAWebMsgSyncConfiguratedTunnel","WAWebMsgSyncTunnelBatcher","WAWebOffdStorageUpdateOfflinePeerReceipts","WAWebOfflineResumeConst","WAWebOfflineResumeMsgProcessReporter","WAWebOfflineResumeTypes.flow","WAWebOfflineResumeUtils","WAWebSignalProtocolStore","WAWebThreadMetadata","WAWebUserPrefsGeneral","WAWebWamEnumWebcScenarioType","WAWebWamMemoryStat","WAWebWamOfflineResumeReporter","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u=100,v;function a(a){v!=null&&v.updateOptions(a);v==null&&(v=new w(a));return v}function e(){v=null}var w=function(){function a(a){var b=this;this.$9=null;this.$11=new(d("WAShiftTimer").ShiftTimer)(function(){d("WAWebCmd").Cmd.handleOfflineProgressUpdate(),b.$11.onOrAfter(d("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS)});this.$12=95;this.resumeType=d("WAWebOfflineResumeTypes.flow").ResumeType.NonBlocking;a!=null&&a.mainScreenLoaded&&(this.$6=!0);this.$13()}var e=a.prototype;e.updateOptions=function(a){this.$6=(a=a==null?void 0:a.mainScreenLoaded)!=null?a:!1};e.$13=function(){this.offlineMessagePreviewCounter=-1,this.$2=0,this.$3=0,this.$4=!1,this.$5=null,this.$1=d("WAWebOfflineResumeConst").ResumeStatus.INIT};e.$14=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] offline resume stage: "," -> ",""])),this.$1,a),this.$1=a};e.processOfflinePreview=function(a){d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePreviewT();this.$6&&(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[resume-from-open-tab] reset offline delivery end to false"]))),d("WAWebCmd").Cmd.resetOfflineDeliveryState());if(this.isResumeFromRestartComplete())d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Offline session is complete when receiving offline preview ib."]))),d("WAWebOfflineResumeUtils").exceedResumeWithOpenTabLimit(a.message,a.receipt)&&(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] restart client due to exceed the LIMIT, message: ",", receipt: ",""])),a.message,a.receipt),d("WAWebOfflineResumeUtils").refreshWindow()),d("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$14(d("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB),this.$15(a.message,a.receipt),d("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!1}),self.setTimeout(function(){d("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},7e3);else if(this.$1===d("WAWebOfflineResumeConst").ResumeStatus.INIT)c("WAWebBrokerGlobalAppState").initOrUpdateTracking(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.OFFLINE_RESUME),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(a),d("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.activate(a),this.offlineMessagePreviewCounter=a.message,this.$5=!1,this.$4=!0,this.$2=0,this.$10=Date.now(),d("WAWebSignalProtocolStore").enableMemSignalStore(),d("WAWebCmd").Cmd.handleOfflineProgressUpdate(),d("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$11.onOrAfter(d("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS),this.$14(d("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART),this.$15(a.message,a.receipt),!this.$6?this.$7=d("WAWebOfflineResumeUtils").loadMainScreen({}):d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[resume-from-open-tab] Main screen is loaded"])));else{var b=this.$10;if(b!=null){b=Date.now()-b;b<d("WAWebOfflineResumeConst").OFFLINE_PREVIEW_PERIOD_MS?(d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Accept multiple offline preview ibs during offline resume, delay ","."])),b),this.offlineMessagePreviewCounter+=a.message,this.$5=!1,this.$4=!0,d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(a)):!c("gkx")("26258")?d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Reject multiple offline preview ibs during offline resume, delay ",""])),b).sendLogs("offline-multiple-preview"):d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Reject multiple offline preview ib during offline resume, delay ","."])),b)}this.$16()}};e.getOfflineDeliveryProgress=function(){return this.offlineMessagePreviewCounter===0?this.$12:Math.min(Math.ceil(100*this.$2/this.offlineMessagePreviewCounter),this.$12)};e.processOfflineSessionComplete=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this;self.setTimeout(function(){d("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},3e3);(a=this.$9)==null||a.cancel();this.$9=null;if(this.$1===d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE){d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT();void d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit();return}else if(this.$1===d("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB){yield d("WAWebMessageQueue").waitForOnlineMessageQueue();yield d("WAWebApiPendingDeviceSync").doPendingDeviceSync();this.$14(d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE);d("WAWebCmd").Cmd.offlineDeliveryEnd();return}else this.$1===d("WAWebOfflineResumeConst").ResumeStatus.INIT&&(this.$5=!1,this.$4=!0,d("WAWebCmd").Cmd.handleOfflineProgressUpdate(),!this.$6&&!this.$7&&(this.$7=d("WAWebOfflineResumeUtils").loadMainScreen({})));yield this.$7;this.$8=0;self.setTimeout(function(){b.$8>d("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_LIMIT&&(d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] "," received after offline completion marker. Refreshing window due to potential server issue."])),b.$8),d("WAWebOfflineResumeUtils").refreshWindow())},d("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS);this.$14(d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE);return this.$17()});function c(b){return a.apply(this,arguments)}return c}();e.isResumeFromRestartComplete=function(){return this.$1!==d("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART&&this.$1!==d("WAWebOfflineResumeConst").ResumeStatus.INIT};e.isResumeFromRestartInProgress=function(){return this.$1!==d("WAWebOfflineResumeConst").ResumeStatus.INIT&&!d("WAWebCmd").Cmd.isOfflineDeliveryEnd};e.isResumeOnSocketDisconnectInProgress=function(){return this.$1===d("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB};e.isResumeComplete=function(){return this.$1===d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE};e.getHasMessagesToDownload=function(){return this.$5};e.getFinishedDownloading=function(){return this.getOfflineDeliveryProgress()===100};e.shouldUseOfflineResumeScreen=function(){return this.offlineMessagePreviewCounter>this.$2};e.processDecryptResult=function(a){this.$16(),this.$2+=1,a===d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY&&(this.$3+=1)};e.offlineStanzaReceivedAfterComplete=function(){this.isResumeFromRestartComplete()&&(this.$8+=1)};e.newOfflineStanza=function(a,b){d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logAddOfflineSizeBytes(b),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOldestStanzaTime(a),this.$16()};e.getResumeUIProgressBarType=function(){return!d("WAWebCmd").Cmd.isOfflineDeliveryEnd&&this.offlineMessagePreviewCounter>=u?d("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.Toastbar:d("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.None};e.$16=function(){this.$9&&this.$9.onOrAfter(d("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)};e.$15=function(a,b){var c,e=this;(c=this.$9)==null||c.cancel();this.$9=new(d("WAShiftTimer").ShiftTimer)(function(){if(e.$1!==d("WAWebOfflineResumeConst").ResumeStatus.COMPLETE){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking]: offline session completed by timeout"])));var c=d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] offline resume finished by timeout"])));d("WAWebHandleOfflineAbProps").isNonBlockingOfflineResumeExpEnabled()&&(c=c.tags("offline-resume-experimental"));c.sendLogs("non-blocking-offline-resume-timeout",{sampling:.01});void e.processOfflineSessionComplete(a+b);e.$9=null;d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logMissedOfflineComplete()}});this.$9.onOrAfter(d("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)};e.$17=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebMessageQueue").waitForOfflineMessageQueue(),d("WAWebMsgSyncTunnelBatcher").nonBlockingMsgsSyncTunnel.isEnabled()&&(yield d("WAWebMsgSyncTunnelBatcher").nonBlockingMsgsSyncTunnel.drain()),d("WAWebMsgSyncConfiguratedTunnel").isMsgSyncTunnelActive()&&d("WAWebMsgSyncConfiguratedTunnel").msgSyncTunnel.completeUIUpdate(),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineDecryptionErrorCount(this.$3),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT(),d("WAWebThreadMetadata").resetThreadMeta(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] _onOfflineComplete: waitForOfflineMsgThread done, total decryption error: ",""])),this.$3),this.$3=0,yield d("WAWebOfflineResumeUtils").clearOfflineSnapShot(),this.$12=97,yield this.$7,yield d("WAWebOffdStorageUpdateOfflinePeerReceipts").updatePeerReceipts(),this.$12=99,d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] _onOfflineComplete: clearOfflineSnapShot done."]))),d("WAWebCmd").Cmd.offlineDeliveryEnd(),d("WAWebUserPrefsGeneral").setOfflinePushCount(0),this.$11.forceRunNow(),this.$11.cancel(),d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit(),d("WAWebSignalProtocolStore").enablePersistSignalStore(),void d("WAWebOfflineResumeUtils").runReceiptCleanUpLoop(),d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("processAllOrphanPaymentNotifications"),d("WAWebChatThreadLogging").uploadChatThreadLoggingEvents(),c("WAWebBrokerGlobalAppState").initOrUpdateTracking(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),d("WAWebWamMemoryStat").setCurrentMemoryScenario(d("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),self.setTimeout(function(){d("WAWebApiPendingDeviceSync").doPendingDeviceSync()},d("WAWebOfflineResumeConst").OFFLINE_DEVICE_SYNC_DELAY)});function e(){return a.apply(this,arguments)}return e}();return a}();g.getOrCreateInstance=a;g.clearInstance=e;g.OfflineNonBlockingResumeStageManager=w}),98);
__d("WAWebOfflineResumeMainThread",["WAWebABProps","WAWebBlockingOfflineResumeManager","WAWebNonBlockingOfflineResumeManager"],(function(a,b,c,d,e,f,g){function a(a){a.initState({getBlockingStageManager:function(){if(d("WAWebABProps").getABPropConfigValue("web_offline_stage_manager_singleton_enabled")){d("WAWebNonBlockingOfflineResumeManager").clearInstance();return d("WAWebBlockingOfflineResumeManager").getOrCreateInstance()}return new(d("WAWebBlockingOfflineResumeManager").OfflineBlockingResumeStageManager)()},getNonblockingStageManager:function(a){if(d("WAWebABProps").getABPropConfigValue("web_offline_stage_manager_singleton_enabled")){d("WAWebBlockingOfflineResumeManager").clearInstance();return d("WAWebNonBlockingOfflineResumeManager").getOrCreateInstance(a)}return new(d("WAWebNonBlockingOfflineResumeManager").OfflineNonBlockingResumeStageManager)(a)}})}g.setupMainThreadResume=a}),98);
__d("WAWebWamEnumStanzaType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE:1,RECEIPT:2,CALL:3,NOTIFICATION:4,APPDATA:5});f.STANZA_TYPE=a}),66);
__d("WAWebE2eMessageRecvWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAddressingMode","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumBotType","WAWebWamEnumE2eCiphertextType","WAWebWamEnumE2eDestination","WAWebWamEnumE2eDeviceType","WAWebWamEnumE2eFailureReason","WAWebWamEnumEditType","WAWebWamEnumEncryptionTypeCode","WAWebWamEnumGroupEncryptionType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageDistributionEnumType","WAWebWamEnumRevokeType","WAWebWamEnumStanzaType","WAWebWamEnumTypeOfGroupEnum"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({E2eMessageRecv:[478,{agentEngagementType:[15,d("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE],botType:[19,d("WAWebWamEnumBotType").BOT_TYPE],e2eCiphertextType:[5,d("WAWebWamEnumE2eCiphertextType").E2E_CIPHERTEXT_TYPE],e2eCiphertextVersion:[6,a.TYPES.INTEGER],e2eDestination:[4,d("WAWebWamEnumE2eDestination").E2E_DESTINATION],e2eFailureReason:[2,d("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON],e2eSenderType:[8,d("WAWebWamEnumE2eDeviceType").E2E_DEVICE_TYPE],e2eSuccessful:[1,a.TYPES.BOOLEAN],editType:[13,d("WAWebWamEnumEditType").EDIT_TYPE],encryptionType:[25,d("WAWebWamEnumEncryptionTypeCode").ENCRYPTION_TYPE_CODE],groupEncryptionState:[23,d("WAWebWamEnumGroupEncryptionType").GROUP_ENCRYPTION_TYPE],invisibleMessageCategory:[22,d("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isHostedChat:[20,a.TYPES.BOOLEAN],isLid:[11,a.TYPES.BOOLEAN],localAddressingMode:[16,d("WAWebWamEnumAddressingMode").ADDRESSING_MODE],messageAddressingMode:[17,d("WAWebWamEnumAddressingMode").ADDRESSING_MODE],messageDistributionType:[21,d("WAWebWamEnumMessageDistributionEnumType").MESSAGE_DISTRIBUTION_ENUM_TYPE],messageMediaType:[7,d("WAWebWamEnumMediaType").MEDIA_TYPE],offline:[9,a.TYPES.BOOLEAN],retryCount:[3,a.TYPES.INTEGER],revokeType:[10,d("WAWebWamEnumRevokeType").REVOKE_TYPE],serverAddressingMode:[18,d("WAWebWamEnumAddressingMode").ADDRESSING_MODE],stanzaType:[14,d("WAWebWamEnumStanzaType").STANZA_TYPE],typeOfGroup:[12,d("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM]},[1,1,20],"regular"]},{E2eMessageRecv:[]});g.E2eMessageRecvWamEvent=b}),98);
__d("WAWebWamEnumCallStanzaType",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFER:0,ACCEPT:1,REJECT:2,VIDEO:3,TERMINATE:4,ENC_REKEY:5,RELAYLATENCY:6,TRANSPORT:7,PREACCEPT:8,GROUP_UPDATE:9,MUTE_V2:10,INTERRUPTION:11,FLOWCONTROL:12,NOTIFY:13,OFFER_NOTICE:14,CALL_RELAY:15,MUTE:16,SCREEN_SHARE:17,UNKNOWN:18});f.CALL_STANZA_TYPE=a}),66);
__d("WAWebOfflineCountTooHighWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCallStanzaType","WAWebWamEnumEncryptionTypeCode","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumStanzaType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({OfflineCountTooHigh:[2638,{callStanzaType:[7,d("WAWebWamEnumCallStanzaType").CALL_STANZA_TYPE],encryptionType:[9,d("WAWebWamEnumEncryptionTypeCode").ENCRYPTION_TYPE_CODE],invisibleMessageCategory:[8,d("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],mediaType:[3,d("WAWebWamEnumMediaType").MEDIA_TYPE],messageType:[4,d("WAWebWamEnumMessageType").MESSAGE_TYPE],notificationStanzaType:[6,a.TYPES.STRING],offlineCount:[2,a.TYPES.INTEGER],receiptStanzaType:[5,a.TYPES.STRING],stanzaType:[1,d("WAWebWamEnumStanzaType").STANZA_TYPE]},[1,1,1],"regular"]},{OfflineCountTooHigh:[]});g.OfflineCountTooHighWamEvent=b}),98);
__d("WAWebWamEnumReceiptAggregationType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MULTI_MESSAGES:1,MULTI_PARTICIPANTS:2,AGGREGATE_BY_ID:3});f.RECEIPT_AGGREGATION_TYPE=a}),66);
__d("WAWebWamEnumReceiptStanzaStage",[],(function(a,b,c,d,e,f){a=Object.freeze({OVERALL:0,WAITING_IN_E2E_QUEUE:6,WAITING_IN_UNORDERED_QUEUE:7,PARSE:1,WAITING_TO_PROCESS:2,PROCESS:3,WAITING_TO_ACK:5,ACK:4});f.RECEIPT_STANZA_STAGE=a}),66);
__d("WAWebReceiptStanzaReceiveWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumReceiptAggregationType","WAWebWamEnumReceiptStanzaStage"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({ReceiptStanzaReceive:[2496,{dbReadsCount:[12,a.TYPES.INTEGER],dbWritesCount:[13,a.TYPES.INTEGER],mediaType:[2,d("WAWebWamEnumMediaType").MEDIA_TYPE],messageType:[10,d("WAWebWamEnumMessageType").MESSAGE_TYPE],processingDeferred:[14,a.TYPES.BOOLEAN],receiptAggregation:[11,d("WAWebWamEnumReceiptAggregationType").RECEIPT_AGGREGATION_TYPE],receiptStanzaDuration:[1,a.TYPES.TIMER],receiptStanzaHasOrphaned:[6,a.TYPES.BOOLEAN],receiptStanzaOfflineCount:[3,a.TYPES.INTEGER],receiptStanzaProcessedCount:[8,a.TYPES.INTEGER],receiptStanzaRetryVer:[5,a.TYPES.INTEGER],receiptStanzaStage:[9,d("WAWebWamEnumReceiptStanzaStage").RECEIPT_STANZA_STAGE],receiptStanzaTotalCount:[7,a.TYPES.INTEGER],receiptStanzaType:[4,a.TYPES.STRING],stanzaBatchSize:[15,a.TYPES.INTEGER],stanzaProcessCount:[16,a.TYPES.INTEGER]},[1,1e3,2e3],"regular"]},{ReceiptStanzaReceive:[]});g.ReceiptStanzaReceiveWamEvent=b}),98);
__d("WAWebCommsHandleStanzaUtils",["WALogger","WAParsableWapNode","WAWeb-dexie","WAWebCreateNackFromStanza","WAWebPostIncomingMessageDropMetric","WAWebPostUnknownStanzaMetric"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a,b){if(b instanceof d("WAParsableWapNode").XmppParsingFailure){d("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(a);d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanza(a);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: error while parsing message: ",""])),b).tags("messaging").sendLogs("failedParsingMessageStanza",{sampling:.01});return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.ParsingError)}if(b instanceof c("WAWeb-dexie").DexieError){d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropDBOperationFailed(a);d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: drop incoming message due to an internal error: ",", message: ",", stack: ",""])),b.name,b.message,b.stack).sendLogs("incoming-message-drop-db-operation-failed",{sampling:.01});return}d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: drop incoming message due to an internal error: ",", message: ",", stack: ",""])),b.name,b.message,b.stack).sendLogs("incoming-message-drop-internal-error",{sampling:.01});d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInternalError(a);return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnhandledError)}function b(a){if(Array.isArray(a.content)&&a.content.length>0){a=a.content[0].tag;return a==="offer"||a==="accept"||a==="reject"}return!1}g.handleMessageParsingFailure=a;g.isCallReceipt=b}),98);
__d("WAWebHandlePaymentAmountUtils",["WALogger","err"],(function(a,b,c,d,e,f,g){var h,i=1e3;function j(a){a.assertTag("money");var b=parseFloat(a.attrString("value")),c=a.attrString("currency");a=a.maybeAttrInt("offset");a=a!=null&&a!==0?a:i;b=b*i/a;return{currency:c,amount1000:b}}function k(a){if(a.hasChild("amount")){var b=a.child("amount");return j(b.child("money"))}else if(a.hasAttr("amount")){b=parseFloat(a.attrString("amount"));return{amount1000:b*i,currency:a.attrString("currency")}}d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Amount missing in pay or transaction node"])));throw c("err")("Amount missing in pay or transaction node")}function a(a){return k(a)}g.getAmount1000AndCurrency=a}),98);
__d("WAWebPaymentStatusUtils",["$InternalEnum","WALogger","WAWebProtobufsWeb.pb"],(function(a,b,c,d,e,f,g){var h,i=b("$InternalEnum")({TYPE_UNSET:0,TYPE_P2P_SENT:1,TYPE_P2P_RCVD:2,TYPE_P2P_GRP:3,TYPE_P2P_NO_INFO:4,TYPE_FUTURE:5,TYPE_P2P_REQ_SENT:10,TYPE_P2P_REQ_RCVD:20,TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:21,TYPE_P2P_REQ_GRP:30,TYPE_P2M_SENT:100,TYPE_P2M_RCVD:200,TYPE_P2M_PAYOUT:300,TYPE_MISSING_DETAILS:400,TYPE_DEPOSIT:500,TYPE_REFUND:600,TYPE_WITHDRAWAL:700}),j=b("$InternalEnum")({STATUS_UNSET:0,REQUEST_PAY_INIT:11,REQUEST_PAY_SUCCESS:12,REQUEST_PAY_FAILED:13,REQUEST_PAY_FAILED_RISK:14,REQUEST_PAY_REJECTED:15,REQUEST_PAY_EXPIRED:16,REQUEST_PAY_FULFILLED:17,REQUEST_PAY_CANCELLED:18,REQUEST_PAY_CANCELLING:19,REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS:20,RECV_PAY_INIT:101,RECV_PAY_PENDING_SETUP:102,RECV_PAY_PENDING:103,RECV_PAY_RETRY_ON_FAILURE:104,RECV_PAY_FAILURE:105,RECV_PAY_SUCCESS:106,RECV_PAY_EXPIRED:107,RECV_PAY_FAILURE_RISK:108,RECV_PAY_WITHDRAWAL_PROCESSING:109,RECV_PAY_WITHDRAWAL_FAILURE:110,RECV_PAY_WITHDRAWAL_PERMANENT_FAILED:111,RECV_PAY_SENDER_CANCELED:112,SEND_PAY_INIT:401,SEND_PAY_PENDING_RECEIVER:402,SEND_PAY_PENDING:403,SEND_PAY_REFUND_PENDING:404,SEND_PAY_SUCCESS:405,SEND_PAY_FAILURE:406,SEND_PAY_FAILURE_RISK:407,SEND_PAY_REFUNDED:408,SEND_PAY_REFUND_FAILED:409,SEND_PAY_FAILURE_RECEIVER:410,SEND_PAY_REFUND_FAILED_PROCESSING:411,SEND_PAY_PENDING_REFUND:412,SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:413,SEND_PAY_AUTH_CANCEL_FAILED:414,SEND_PAY_AUTH_CANCELED:415,SEND_PAY_EXPIRED:416,SEND_PAY_AUTH_SUCCESS:417,SEND_PAY_AUTH_SUCCESS_CANCELING:418,SEND_PAY_IN_REVIEW:419,SEND_PAY_PENDING_PROCESSING:420,SEND_PAY_USER_CANCELED:421,WITHDRAWAL_INIT:601,WITHDRAWAL_PENDING:602,WITHDRAWAL_IN_REVIEW:603,WITHDRAWAL_SUCCESS:604,WITHDRAWAL_FAILED:605,WITHDRAWAL_USER_CANCELED:606,WITHDRAWAL_EXPIRED:607,WITHDRAWAL_ACTIVE:608}),k={TYPE_P2P:"p2p",TYPE_P2M:"p2m",TYPE_P2M_PAYOUT:"payout",TYPE_WITHDRAWAL:"withdrawal",TYPE_DEPOSIT:"deposit",TYPE_REFUND:"refund"},l={PENDING_RECEIVER_SETUP:"PENDING_RECEIVER_SETUP",PENDING_SETUP:"PENDING_SETUP",PENDING:"PENDING",INITIAL:"INITIAL",SUCCESS:"SUCCESS",COMPLETED:"COMPLETED",IN_REVIEW:"IN_REVIEW",FAILED:"FAILED",DECLINED:"DECLINED",FAILURE:"FAILURE",FAILED_RISK:"FAILED_RISK",FAILED_PROCESSING:"FAILED_PROCESSING",FAILED_RECEIVER_PROCESSING:"FAILED_RECEIVER_PROCESSING",REFUND_FAILED_PROCESSING:"REFUND_FAILED_PROCESSING",REFUNDED:"REFUNDED",REFUND_FAILED:"REFUND_FAILED",EXPIRED:"EXPIRED",CANCELED:"CANCELLED",AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_CANCELED:"AUTH_CANCELED",AUTH_CANCEL_FAILED_PROCESSING:"AUTH_CANCEL_FAILED_PROCESSING",AUTH_CANCEL_FAILED:"AUTH_CANCEL_FAILED",COLLECT_SUCCESS:"COLLECT_SUCCESS",COLLECT_FAILED:"COLLECT_FAILED",COLLECT_REJECTED:"COLLECT_REJECTED",COLLECT_EXPIRED:"COLLECT_EXPIRED",COLLECT_CANCELED:"COLLECT_CANCELED",FAILED_DA:"FAILED_DA",FAILED_DA_FINAL:"FAILED_DA_FINAL",REFUND_FAILED_DA:"REFUND_FAILED_DA",COLLECT_FAILED_RISK:"COLLECT_FAILED_RISK",WITHDRAWAL_PROCESSING:"WITHDRAWAL_PROCESSING",WITHDRAWAL_FAILURE:"WITHDRAWAL_FAILURE",WITHDRAWAL_PERMANENT_FAILED:"WITHDRAWAL_PERMANENT_FAILED",WITHDRAWAL_ACTIVE:"WITHDRAWAL_ACTIVE"};function a(a,b){if(a==null)return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS;switch(a){case j.SEND_PAY_INIT:case j.SEND_PAY_PENDING:case j.RECV_PAY_INIT:case j.RECV_PAY_PENDING:case j.RECV_PAY_RETRY_ON_FAILURE:case j.REQUEST_PAY_INIT:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.PROCESSING;case j.SEND_PAY_PENDING_RECEIVER:case j.SEND_PAY_FAILURE_RECEIVER:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.SENT;case j.REQUEST_PAY_SUCCESS:return b===i.TYPE_P2P_REQ_SENT?d("WAWebProtobufsWeb.pb").PaymentInfo$Status.WAITING_FOR_PAYER:d("WAWebProtobufsWeb.pb").PaymentInfo$Status.WAITING;case j.RECV_PAY_PENDING_SETUP:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.NEED_TO_ACCEPT;case j.SEND_PAY_SUCCESS:case j.RECV_PAY_SUCCESS:case j.REQUEST_PAY_FULFILLED:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.COMPLETE;case j.SEND_PAY_FAILURE:case j.SEND_PAY_FAILURE_RISK:case j.SEND_PAY_PENDING_REFUND:case j.SEND_PAY_REFUND_PENDING:case j.SEND_PAY_REFUND_FAILED:case j.SEND_PAY_REFUND_FAILED_PROCESSING:case j.RECV_PAY_FAILURE:case j.REQUEST_PAY_FAILED:case j.REQUEST_PAY_FAILED_RISK:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.COULD_NOT_COMPLETE;case j.SEND_PAY_REFUNDED:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.REFUNDED;case j.RECV_PAY_EXPIRED:case j.REQUEST_PAY_EXPIRED:case j.SEND_PAY_AUTH_CANCELED:case j.SEND_PAY_AUTH_CANCEL_FAILED:case j.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.EXPIRED;case j.REQUEST_PAY_REJECTED:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.REJECTED;case j.REQUEST_PAY_CANCELLED:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.CANCELLED;case j.STATUS_UNSET:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS;case j.REQUEST_PAY_CANCELLING:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS;default:return d("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS}}function c(a,b){if(!b)return j.STATUS_UNSET;b=b.toUpperCase();switch(a){case i.TYPE_P2P_SENT:case i.TYPE_P2M_SENT:case i.TYPE_DEPOSIT:switch(b){case l.PENDING_RECEIVER_SETUP:return j.SEND_PAY_PENDING_RECEIVER;case l.FAILED_DA:return j.SEND_PAY_PENDING;case l.REFUND_FAILED_DA:return j.SEND_PAY_REFUND_PENDING;case l.FAILED_RISK:return j.SEND_PAY_FAILURE_RISK;case l.INITIAL:return j.SEND_PAY_INIT;case l.SUCCESS:case l.COMPLETED:return j.SEND_PAY_SUCCESS;case l.FAILURE:case l.FAILED:return j.SEND_PAY_FAILURE;case l.REFUNDED:return j.SEND_PAY_REFUNDED;case l.REFUND_FAILED:return j.SEND_PAY_REFUND_FAILED;case l.FAILED_RECEIVER_PROCESSING:return j.SEND_PAY_FAILURE_RECEIVER;case l.REFUND_FAILED_PROCESSING:return j.SEND_PAY_REFUND_FAILED_PROCESSING;case l.FAILED_DA_FINAL:return j.SEND_PAY_PENDING_REFUND;case l.AUTH_CANCEL_FAILED_PROCESSING:return j.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING;case l.AUTH_CANCEL_FAILED:return j.SEND_PAY_AUTH_CANCEL_FAILED;case l.AUTH_CANCELED:return j.SEND_PAY_AUTH_CANCELED;case l.EXPIRED:return j.SEND_PAY_EXPIRED;case l.IN_REVIEW:return j.SEND_PAY_IN_REVIEW;case l.PENDING:return j.SEND_PAY_PENDING_PROCESSING;case l.CANCELED:return j.SEND_PAY_USER_CANCELED}break;case i.TYPE_P2P_RCVD:case i.TYPE_P2M_RCVD:switch(b){case l.PENDING_SETUP:return j.RECV_PAY_PENDING_SETUP;case l.FAILED_DA:return j.RECV_PAY_PENDING;case l.FAILED_PROCESSING:return j.RECV_PAY_RETRY_ON_FAILURE;case l.SUCCESS:case l.COMPLETED:return j.RECV_PAY_SUCCESS;case l.FAILURE:case l.FAILED:return j.RECV_PAY_FAILURE;case l.EXPIRED:return j.RECV_PAY_EXPIRED;case l.FAILED_RISK:return j.RECV_PAY_FAILURE_RISK;case l.WITHDRAWAL_PROCESSING:return j.RECV_PAY_WITHDRAWAL_PROCESSING;case l.WITHDRAWAL_FAILURE:return j.RECV_PAY_WITHDRAWAL_FAILURE;case l.WITHDRAWAL_PERMANENT_FAILED:return j.RECV_PAY_WITHDRAWAL_PERMANENT_FAILED;case l.CANCELED:return j.RECV_PAY_SENDER_CANCELED}break;case i.TYPE_P2P_REQ_SENT:case i.TYPE_P2P_REQ_RCVD:switch(b){case l.COLLECT_SUCCESS:return j.REQUEST_PAY_SUCCESS;case l.COLLECT_FAILED:return j.REQUEST_PAY_FAILED;case l.COLLECT_FAILED_RISK:return j.REQUEST_PAY_FAILED_RISK;case l.COLLECT_REJECTED:return j.REQUEST_PAY_REJECTED;case l.COLLECT_EXPIRED:return j.REQUEST_PAY_EXPIRED;case l.COLLECT_CANCELED:return j.REQUEST_PAY_CANCELLED}break;case i.TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:switch(b){case l.COLLECT_SUCCESS:return j.REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS;case l.AUTH_SUCCESS:return j.SEND_PAY_AUTH_SUCCESS}break;case i.TYPE_REFUND:switch(b){case l.SUCCESS:case l.COMPLETED:return j.RECV_PAY_SUCCESS}break;case i.TYPE_WITHDRAWAL:switch(b){case l.PENDING:return j.WITHDRAWAL_PENDING;case l.IN_REVIEW:return j.WITHDRAWAL_IN_REVIEW;case l.SUCCESS:case l.COMPLETED:return j.WITHDRAWAL_SUCCESS;case l.FAILED:case l.DECLINED:return j.WITHDRAWAL_FAILED;case l.CANCELED:return j.WITHDRAWAL_USER_CANCELED;case l.EXPIRED:return j.WITHDRAWAL_EXPIRED;case l.WITHDRAWAL_ACTIVE:return j.WITHDRAWAL_ACTIVE}break;default:return j.STATUS_UNSET}return j.STATUS_UNSET}function e(a){if(a==null)return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.UNKNOWN;switch(a){case j.RECV_PAY_EXPIRED:case j.SEND_PAY_EXPIRED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.EXPIRED_TXN;case j.RECV_PAY_FAILURE:case j.SEND_PAY_FAILURE:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED;case j.RECV_PAY_INIT:case j.SEND_PAY_INIT:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.INIT;case j.RECV_PAY_PENDING_SETUP:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.PENDING_SETUP;case j.RECV_PAY_PENDING:case j.SEND_PAY_PENDING:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_DA;case j.RECV_PAY_RETRY_ON_FAILURE:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_PROCESSING;case j.RECV_PAY_SUCCESS:case j.SEND_PAY_SUCCESS:case j.REQUEST_PAY_FULFILLED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.SUCCESS;case j.REQUEST_PAY_CANCELLED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_CANCELED;case j.REQUEST_PAY_CANCELLING:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_CANCELLING;case j.REQUEST_PAY_EXPIRED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_EXPIRED;case j.REQUEST_PAY_FAILED_RISK:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_FAILED_RISK;case j.REQUEST_PAY_FAILED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_FAILED;case j.REQUEST_PAY_INIT:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_INIT;case j.REQUEST_PAY_REJECTED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_REJECTED;case j.REQUEST_PAY_SUCCESS:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_SUCCESS;case j.SEND_PAY_AUTH_CANCELED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.AUTH_CANCELED;case j.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.AUTH_CANCEL_FAILED_PROCESSING;case j.SEND_PAY_AUTH_CANCEL_FAILED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.AUTH_CANCEL_FAILED;case j.SEND_PAY_FAILURE_RECEIVER:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_RECEIVER_PROCESSING;case j.SEND_PAY_FAILURE_RISK:case j.RECV_PAY_FAILURE_RISK:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_RISK;case j.SEND_PAY_PENDING_RECEIVER:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.PENDING_RECEIVER_SETUP;case j.SEND_PAY_PENDING_REFUND:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_DA_FINAL;case j.SEND_PAY_REFUNDED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUNDED_TXN;case j.SEND_PAY_REFUND_FAILED_PROCESSING:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUND_FAILED_PROCESSING;case j.SEND_PAY_REFUND_FAILED:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUND_FAILED;case j.SEND_PAY_REFUND_PENDING:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUND_FAILED_DA;case j.SEND_PAY_IN_REVIEW:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.IN_REVIEW;case j.STATUS_UNSET:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.UNKNOWN;default:return d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.UNKNOWN}}function f(a,b){if(a){a=a.toLowerCase();switch(a){case k.TYPE_P2P:return b?i.TYPE_P2P_SENT:i.TYPE_P2P_RCVD;case k.TYPE_P2M:return b?i.TYPE_P2M_SENT:i.TYPE_P2M_RCVD;case k.TYPE_P2M_PAYOUT:return i.TYPE_P2M_PAYOUT;case k.TYPE_DEPOSIT:return i.TYPE_DEPOSIT;case k.TYPE_REFUND:return i.TYPE_REFUND;case k.TYPE_WITHDRAWAL:return i.TYPE_WITHDRAWAL;default:d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["parsePaymentTransactionType payment transaction string=",""])),a)}}return b?i.TYPE_P2P_SENT:i.TYPE_P2P_RCVD}function m(a){return a===d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COMPLETED||a===d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.SUCCESS}function n(a){return m(a)?a:d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_INIT}g.PaymentTransactionType=i;g.NotificationTransactionStatus=j;g.PaymentTransactionTypeServerString=k;g.PaymentTransactionStatusServerString=l;g.getPaymentWebStatus=a;g.getNotificationTransactionStatus=c;g.getPaymentTxnWebStatus=e;g.getPaymentTransactionType=f;g.determinePaymentRequestFulfilledStatus=n}),98);
__d("WAWebPaymentNotificationParser",["WADeprecatedWapParser","WALogger","WAWebHandlePaymentAmountUtils","WAWebJidToWid","WAWebMsgKey","WAWebPaymentStatusUtils","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){var h;function i(a){return a&&a.hasAttr("service")?a.attrString("service").toUpperCase()==="NOVI":!1}a=new(c("WADeprecatedWapParser"))("paymentNotificationParser",function(a){a.assertTag("notification");a.assertAttr("type","pay");return{stanzaId:a.attrString("id"),from:a.attrWapJid("from"),transaction:a.hasChild("transaction")?j(a.child("transaction")):null,invite:k(a)}});function j(a){if(i(a)){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Payment notification from Novi not supported."])));return null}var b=void 0,e=void 0,f=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("sender")),g=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("receiver")),j=d("WAWebUserPrefsMeUser").isMeAccount(f);a.hasAttr("group")?(b=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("group")),e=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("sender"))):j?b=g:b=f;f=new(c("WAWebMsgKey"))({id:a.attrString("message-id"),fromMe:j,remote:b,participant:e});j=d("WAWebPaymentStatusUtils").getPaymentTransactionType(a.attrString("transaction-type"),f.fromMe);b=d("WAWebHandlePaymentAmountUtils").getAmount1000AndCurrency(a);e=b.amount1000;b=b.currency;return{receiver:g,currency:b,amount1000:e,status:d("WAWebPaymentStatusUtils").getNotificationTransactionStatus(j,a.attrString("status")),ts:a.attrInt("ts"),type:j,msgKey:f}}function k(a){if(!a.hasChild("invite"))return null;var b=a.child("invite");return{type:b.maybeAttrString("type"),service:b.maybeAttrString("service"),inviteUsed:b.hasAttr("invite-used")?b.attrString("invite-used")==="1":null,from:d("WAWebJidToWid").chatJidToChatWid(a.attrChatJid("from")),timestamp:a.attrTime("t")}}g.isNoviTransaction=i;g.paymentNotificationParser=a;g.parseTransactionNode=j}),98);
__d("WAWebHandleMsgParser",["WADeprecatedWapParser","WALogger","WAParsableWapNode","WAWebAck","WAWebBackendJobs.flow","WAWebBizCoexGatingUtils","WAWebBotTypes","WAWebCountriesUtils","WAWebCreateNackFromStanza","WAWebCurrentUser","WAWebHandleMsgCommon","WAWebHandleMsgTypes.flow","WAWebHandlePaymentAmountUtils","WAWebJidToWid","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebMessagingGatingUtils","WAWebPaymentNotificationParser","WAWebPaymentStatusUtils","WAWebProtobufsWeb.pb","WAWebSimpleSignalPNToFBIDMigration","WAWebStatusGatingUtils","WAWebUserPrefsMeUser","WAWebUserPrefsNotifications","WAWebUsernameGatingUtils","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;a=new(c("WADeprecatedWapParser"))("incomingMsgParser",function(a){a.assertTag("message");a.hasAttr("to")&&a.assertAttr("to",d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());var b=a.maybeChild("plaintext");b!=null&&b["throw"]("not to be present in e2ee messages");b=a.mapChildrenWithTag("enc",function(a){return{e2eType:a.attrEnumValues("type",d("WAWebBackendJobs.flow").CiphertextType.members()),encMediaType:d("WAWebBackendJobs.flow").EncMediaType.cast(a.maybeAttrString("mediatype")),ciphertext:a.contentBytes(),retryCount:a.hasAttr("count")?a.attrInt("count"):0,hideFail:a.maybeAttrString("decrypt-fail")==="hide"}});var c=a.maybeChild("device-identity");c=c?c.contentBytes():null;var e=u(a),f=t(a,b),g=s(a,b,e,f),h=v(a,g),i=x(a),j=w(a),k=z(a);a=(a=(a=a.maybeChild("rcat"))==null?void 0:a.contentBytes())!=null?a:null;return{encs:b,msgInfo:g,msgMeta:f,bizInfo:h,hsmInfo:j,paymentInfo:i,deviceIdentity:c,rcat:a,msgBotInfo:e,reportingTokenInfo:k}});function s(a,b,c,e){var f={externalId:a.attrString("id"),ts:a.attrTime("t"),edit:a.hasAttr("edit")?a.attrInt("edit"):d("WAWebAck").EDIT_ATTR.NONE,isHsm:a.hasChild("hsm"),count:a.hasAttr("count")?a.attrInt("count"):null,pushname:a.hasAttr("notify")?a.attrString("notify"):null,username:a.hasAttr("username")?a.attrString("username"):null,displayName:a.hasAttr("display_name")?a.attrString("display_name"):null,senderPn:a.hasAttr("sender_pn")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("sender_pn")):null,senderLid:a.hasAttr("sender_lid")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("sender_lid")):null,recipientLid:a.hasAttr("recipient_lid")?d("WAWebJidToWid").lidUserJidToUserLid(a.attrLidUserJid("recipient_lid")):null,recipientPn:a.hasAttr("recipient_pn")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("recipient_pn")):null,peerRecipientPn:a.hasAttr("peer_recipient_pn")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("peer_recipient_pn")):null,peerRecipientLid:a.hasAttr("peer_recipient_lid")?d("WAWebJidToWid").lidUserJidToUserLid(a.attrLidUserJid("peer_recipient_lid")):null,peerRecipientUsername:a.hasAttr("peer_recipient_username")?a.attrString("peer_recipient_username"):null,recipientLatestLid:a.hasAttr("recipient_latest_lid")?d("WAWebJidToWid").lidUserJidToUserLid(a.attrLidUserJid("recipient_latest_lid")):null,recipientUsername:a.hasAttr("recipient_username")?a.attrString("recipient_username"):null,participantLid:a.hasAttr("participant_lid")?d("WAWebJidToWid").lidUserJidToUserLid(a.attrLidUserJid("participant_lid")):null,participantPn:a.hasAttr("participant_pn")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("participant_pn")):null,participantUsername:a.hasAttr("participant_username")?a.attrString("participant_username"):null,category:a.hasAttr("category")?a.attrString("category"):null,offline:a.hasAttr("offline")?a.attrString("offline"):null,senderCountryCode:A(a.maybeChild("meta"))};f.category!=null&&f.category!==d("WAWebHandleMsgCommon").CATEGORY_PEER&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["parseMessageInfo: msg category is other than 'peer': ",""])),f.category).sendLogs("msg-category-not-peer");var g=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from"));g.isNewsletter()&&a["throw"]("unexpected `from` attribute with newsletter Jid");var p=a.hasAttr("participant")?d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("participant")):null,q=a.hasAttr("recipient")?d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("recipient")):null;if(d("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()){var r=Boolean((p==null?void 0:p.isHosted())&&(g.isStatus()||g.isGroup()||g.isBroadcast()));if(r)throw new(d("WAParsableWapNode").XmppParsingFailure)("incomingMsgParser",""+d("WAWebCreateNackFromStanza").NackReason.InvalidHostedCompanionStanza)}r=b.every(function(a){return a.e2eType!==d("WAWebBackendJobs.flow").CiphertextType.Skmsg});b=b.some(function(a){return a.retryCount>0});var s=g.isGroup()||g.isBroadcast()?p:g;if(q!=null&&s!=null&&!d("WAWebUserPrefsMeUser").isMeAccount(s))return a["throw"]("Invalid recipient from non peer device");var t;s=a.maybeChild("participants");if(s){var u=[];s.forEachChildWithTag("to",function(a){var b=d("WAWebJidToWid").userJidToUserWid(a.attrUserJid("jid")),c=a.maybeAttrString("eph_setting"),e=a.maybeAttrLidUserJid("peer_recipient_lid"),f=a.maybeAttrUserJid("peer_recipient_pn"),g=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()?a.maybeAttrString("peer_recipient_username"):null;a=a.maybeAttrLidUserJid("recipient_latest_lid");b={wid:b};c!=null&&(b.ephSetting=c);e!=null&&(b.peerRecipientLid=d("WAWebJidToWid").lidUserJidToUserLid(e));f!=null&&(b.peerRecipientPn=d("WAWebJidToWid").userJidToUserWid(f));g!=null&&(b.peerRecipientUsername=g);a!=null&&(e==null&&d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[broadcast] Received a recipient_latest_lid without a peer_recipient_lid, this should not happen"]))),b.recipientLatestLid=d("WAWebJidToWid").lidUserJidToUserLid(a));u.push(b)});t=u}s=e==null?void 0:e.targetChatJid;if(c&&g.isPnBot()&&s!=null){return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},f,{chat:d("WAWebWidFactory").asUserWidOrThrow((e=e==null?void 0:e.targetChatJidLid)!=null?e:s),author:g,botParticipant:g})}else if(c&&g.isFbidBot()&&s!=null){e=d("WAWebWidFactory").asUserWidOrThrow(s);return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},f,{chat:d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()?e:d("WAWebLidMigrationUtils").toPnOrThrow(e),author:g,botParticipant:g})}else if(g.isUser()){c=g;if(q!=null){if(!d("WAWebUserPrefsMeUser").isMeAccount(g))return a["throw"]("recipient on non peer chat message");c=q}s=null;e=d("WAWebSimpleSignalPNToFBIDMigration").getDeprecatedPnChatForFbidThread(c);e!=null&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["parseMessageInfo: forwarding "," to ",""])),c.toLogString(),e.toLogString()),q!=null&&(s=q),c=e);return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},f,{chat:d("WAWebWidFactory").asUserWidOrThrow(c),author:g,originalBotRecipient:s})}else if(g.isGroup()){if(p==null)return a["throw"]("group message with no participant");q=a.attrEnumOrDefault("addressing_mode",d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE,d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.pn);try{!d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&p.isLid()&&f.participantPn==null&&f.displayName==null&&!d("WAWebUserPrefsMeUser").isMeAccount(p)&&(d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing participant_pn for Lid message. sw worker: ",""])),d("WAWebUserPrefsNotifications").getGlobalOfflineNotifications().toString()),d("WAWebCurrentUser").isEmployee()?(d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[lid group] chat id: "," participant lid: ",""])),g.toString(),p.toString()),d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in message parser for employee"]))).sendLogs("[lid group] missing group mapping in message parser for employee")):d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in message parser"]))).sendLogs("[lid group] missing group mapping in message parser"))}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[lid group] could not report missing lid in group message parser ",""])),a)}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.GROUP},f,{chat:g,author:p,isDirect:r,addressingMode:q})}else if(g.isBroadcast()&&!g.isStatus()){if(p==null)return a["throw"]("broadcast message with no participant");if(d("WAWebUserPrefsMeUser").isMeAccount(p)){if(t==null){if(!b)return a["throw"]("peer broadcast message with no participants node");t=[]}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST},f,{chat:g,author:p,isDirect:r,bclParticipants:t,bclHashValidated:!1})}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST},f,{chat:g,author:p,isDirect:r,ephSetting:a.maybeAttrString("eph_setting")})}else if(g.isBroadcast()&&g.isStatus()){if(p==null)return a["throw"]("status message with no participant");s=(c=(e=a.maybeChild("meta"))==null?void 0:e.maybeAttrString("status_setting"))!=null?c:void 0;if(d("WAWebUserPrefsMeUser").isMeAccount(p)&&r){if(t==null)return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.DIRECT_PEER_STATUS},f,{chat:g,author:p,isDirect:r,statusSetting:s});q=t.map(function(a){return a.wid});return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.DIRECT_PEER_STATUS},f,{chat:g,author:p,directPeerStatusBclParticipants:q,bclHashValidated:!1,statusSetting:s})}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS},f,{chat:g,author:p,isDirect:r,statusSetting:s})}return a["throw"]("Unrecognized message type")}function t(a,b){var c=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")),e=a.hasAttr("participant")?d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("participant")):null;e=c.isGroup()||c.isBroadcast()?e:c;if(e==null)return a["throw"]("incomingMsgParser: to have a sender");c=a.hasChild("unavailable");!c&&b.length===0&&a["throw"]("incomingMsgParser: to have enc node children");e=!1;b=!1;if(c){var f=a.maybeChild("unavailable");b=(f==null?void 0:f.maybeAttrString("hosted"))==="true";e=(f==null?void 0:f.maybeAttrString("type"))==="view_once"}f=a.attrEnum("type",d("WAWebHandleMsgCommon").STANZA_MSG_TYPES);var g=a.maybeChild("meta"),h=f===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.poll?g==null?void 0:g.attrEnumOrNullIfUnknown("polltype",d("WAWebHandleMsgCommon").POLL_TYPES):null,i;d("WAWebStatusGatingUtils").isStatusPrivateMentionsReceiveEnabled()&&(i=(g==null?void 0:g.maybeAttrString("status_mentioned"))==="true");c={isUnavailable:c,isViewOnceUnavailable:e,isHostedMsgUnavailable:b,type:f,pollType:h,origin:g==null?void 0:g.attrEnumOrDefault("origin",d("WAWebHandleMsgCommon").STANZA_MSG_ORIGIN,null),rawTs:a.attrString("t"),urlNumber:a.hasChild("url_number"),urlText:a.hasChild("url_text"),statusMentioned:i,appdata:g==null?void 0:g.attrEnumOrDefault("appdata",d("WAWebHandleMsgCommon").APPDATA,null)};g&&g.hasAttr(d("WAWebHandleMsgCommon").BIZ_SOURCE_ATTR)&&(c.bizSource=g.attrString(d("WAWebHandleMsgCommon").BIZ_SOURCE_ATTR));g&&g.hasAttr("thread_msg_id")&&(c.threadMsgId=g.attrString("thread_msg_id"));g&&g.hasAttr("thread_msg_sender_jid")&&(c.threadMsgSenderJid=d("WAWebJidToWid").jidWithTypeToWid(g.attrJidWithType("thread_msg_sender_jid")));g&&g.hasAttr("target_id")&&(c.targetId=g.attrString("target_id"));g&&g.hasAttr("target_sender_jid")&&(c.targetSenderJid=d("WAWebJidToWid").jidWithTypeToWid(g.attrJidWithType("target_sender_jid")));g&&g.hasAttr("target_chat_jid")&&(c.targetChatJid=d("WAWebJidToWid").jidWithTypeToWid(g.attrJidWithType("target_chat_jid")));g&&g.hasAttr("target_chat_jid_lid")&&(c.targetChatJidLid=d("WAWebJidToWid").jidWithTypeToWid(g.attrJidWithType("target_chat_jid_lid")));g&&g.hasAttr("capi")&&g.attrString("capi")==="true"&&(c.capi=!0);f===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.event&&g&&g.hasAttr("event_type")&&(c.eventType=g.attrEnum("event_type",d("WAWebHandleMsgCommon").EVENT_TYPES));return c}function u(a){a=a.maybeChild("bot");if(!a)return;var b=a.maybeAttrString("sender_timestamp_ms"),c=a.maybeAttrString("edit_target_id"),e=d("WAWebBotTypes").BotMsgEditType.cast(a.maybeAttrString("edit")),f;a.hasAttr("biz_bot")&&(a.attrString("biz_bot")==="1"?f=d("WAWebBotTypes").BizBotType.BIZ_1P:a.attrString("biz_bot")==="3"&&(f=d("WAWebBotTypes").BizBotType.BIZ_3P));a=d("WAWebBotTypes").BotMsgBodyType.cast(a.maybeAttrString("type"));b={botSenderTimestampMs:b,botEditTargetId:c,botEditType:e,botMsgBodyType:a,bizBotType:f};return b}function v(a,b){var c,e,f,g=Boolean(b==null||(c=b.author)==null?void 0:c.isBot());b=Boolean(b==null||(e=b.chat)==null?void 0:e.isBot());b=!b&&g;if(b)return{verifiedNameSerial:null,verifiedLevel:null,verifiedNameCert:null,privacyMode:null,nativeFlowName:null,campaignId:null};b=a.hasChild("verified_name")?a.child("verified_name").contentBytes():null;var h=a.attrEnumOrDefault("verified_level",d("WAWebHandleMsgCommon").MSG_VERIFIED_LEVEL,null),i=a.hasAttr("verified_name")?a.attrInt("verified_name"):-1,j=a.maybeChild("biz"),k=null;if(j!=null){var l=d("WAWebHandleMsgTypes.flow").ActualActorsEnumType.cast(j.maybeAttrInt("actual_actors")),m=d("WAWebHandleMsgTypes.flow").HostStorageEnumType.cast(j.maybeAttrInt("host_storage")),n=j.maybeAttrInt("privacy_mode_ts");l!=null&&m!=null&&n!=null&&!g&&(k={actualActors:l,hostStorage:m,privacyModeTs:n})}l=(g=j==null||(f=j.maybeChild("interactive"))==null||(f=f.maybeChild("native_flow"))==null?void 0:f.maybeAttrString("name"))!=null?g:j==null?void 0:j.maybeAttrString("native_flow_name");m=j==null?void 0:j.maybeAttrString("campaign_id");return babelHelpers["extends"]({verifiedNameCert:b,verifiedLevel:h,verifiedNameSerial:i,privacyMode:k,nativeFlowName:l,campaignId:m},j&&{verifiedButtonsEnvelope:j.hasChild("buttons"),verifiedListEnvelope:j.hasChild("list"),verifiedHsmEnvelope:a.hasChild("hsm")})}function w(a){a=a.maybeChild("hsm");if(a!=null){var b=a.maybeAttrString("tag");a=a.maybeAttrString("category");if(b!=null||a!=null)return{tag:b,category:a}}return null}function x(a){var b=null,c=a.hasChild("pay")?a.child("pay"):null,e=a.hasChild("transaction")?a.child("transaction"):null,f=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")).isGroup(),g=a.hasAttr("participant")?d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("participant")):null;if(d("WAWebPaymentNotificationParser").isNoviTransaction(c)||d("WAWebPaymentNotificationParser").isNoviTransaction(e))b={futureproofed:!0};else if(e){e=d("WAWebPaymentNotificationParser").parseTransactionNode(e);e&&(y(f,g,d("WAWebWidFactory").createWid(e.receiver.toString()))?b={receiverJid:e.receiver.toString(),currency:e.currency,amount1000:e.amount1000,transactionTimestamp:e.ts,txnStatus:d("WAWebPaymentStatusUtils").getPaymentTxnWebStatus(e.status)}:b={receiverJid:e.receiver.toString(),currency:e.currency,amount1000:e.amount1000,transactionTimestamp:e.ts})}else if(c){e=c.attrEnum("type",d("WAWebHandleMsgCommon").PAY_NODE_TYPES);switch(e){case d("WAWebHandleMsgCommon").PAY_NODE_TYPES.send:e=d("WAWebHandlePaymentAmountUtils").getAmount1000AndCurrency(c);var h=e.amount1000;e=e.currency;c=c.hasAttr("receiver")?c.attrString("receiver"):a.attrString("recipient");y(f,g,d("WAWebWidFactory").createWid(c))?b={receiverJid:c,currency:e,amount1000:h,transactionTimestamp:a.attrInt("t"),txnStatus:d("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.INIT}:b={receiverJid:c,currency:e,amount1000:h,transactionTimestamp:a.attrInt("t")};break;case d("WAWebHandleMsgCommon").PAY_NODE_TYPES.request:break;case d("WAWebHandleMsgCommon").PAY_NODE_TYPES.invite:break;default:break}}return b}function y(a,b,c){return a&&b!=null&&c!=null&&(!d("WAWebUserPrefsMeUser").isMeAccount(b)&&!d("WAWebUserPrefsMeUser").isMeAccount(c))?!1:!0}b=new(c("WADeprecatedWapParser"))("incomingMsgParserForAckOnly",function(a){a.assertTag("message");var b=null;try{b=a.attrEnum("type",d("WAWebHandleMsgCommon").STANZA_MSG_TYPES)}catch(a){d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["incomingMsgParserForAckOnly: failed to parse stanza type: ",""])),a)}var c=null;try{c=a.attrString("offline")!==""}catch(a){}var e=null;try{e=s(a,[],u(a))}catch(a){d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["incomingMsgParserForAckOnly: failed to parse msg info: ",""])),a)}return{type:b,externalId:a.attrString("id"),from:d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")),participant:a.hasAttr("participant")?d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("participant")):null,msgInfo:e,offline:c}});function z(a){if(!d("WAWebMessagingGatingUtils").isReportingTokenReceivingEnabled())return null;a=a.maybeChild("reporting");if(a==null)return null;var b={},c=a.maybeChild("reporting_token");a=a.maybeChild("reporting_tag");c!=null&&(b.reportingToken=c.contentBytes(),b.version=c.attrInt("v"));a!=null&&(b.reportingTag=a.contentBytes());return b}function A(a){a=a==null?void 0:a.maybeAttrString("sender_country_code");if(a==null)return;try{return d("WAWebCountriesUtils").asISOCountryCode(a)}catch(b){d("WAWebCurrentUser").isEmployee()&&d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse sender country code: ",""])),a).sendLogs("failed-to-parse-sender-country-code",{sampling:.01})}}g.incomingMsgParser=a;g.incomingMsgParserForAckOnly=b}),98);
__d("WAWebSendDeliveryReceiptJob",["WADeprecatedSendIq","WAJids","WALogger","WAWap","WAWebCommsWapMd","WAWebCurrentUser","WAWebOnlineDanglingReceipts","WAWebSendReceiptJobCommon","WAWebUserPrefsMeUser","WAWebWidToJid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){f===void 0&&(f=!1);var h=b.isUser()&&d("WAWebUserPrefsMeUser").isMeAccount(b)||e!=null&&d("WAWebUserPrefsMeUser").isMeAccount(e);g=g.hasInactiveMsg===!0&&!h;g=!g;void k(a,b,c,e,g,h,f)});return j.apply(this,arguments)}function k(a,b,c,d,e,f,g){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,j){var k=d("WAWap").DROP_ATTR;if(j)k=d("WAWap").CUSTOM_STRING(d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.PEER_MSG);else if(g){k=d("WAWap").CUSTOM_STRING(d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.SENDER);if(c){var l=c.isLid()&&b.isUser()&&!b.isLid(),m=c.isUser()&&!c.isLid()&&b.isLid();(l||m)&&(d("WAWebCurrentUser").isEmployee()?d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[sendDeliveryReceipt] will send mixed sender receipt (is employee). "," ",""])),c.toLogString(),b.toLogString()).sendLogs("mixed-sender-receipt"):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[sendDeliveryReceipt] will send mixed sender receipt. "," ",""])),c.toLogString(),b.toLogString()).sendLogs("mixed-sender-receipt"))}}else f||(k=d("WAWap").CUSTOM_STRING(d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.INACTIVE));l=d("WAJids").extractJidFromJidWithType(d("WAWebWidToJid").widToJidWithType(b));m=d("WAWap").wap("receipt",{id:d("WAWap").CUSTOM_STRING(a),to:d("WAWap").JID(l),participant:(b.isGroup()||b.isBroadcast())&&e?d("WAWebCommsWapMd").DEVICE_JID(e):d("WAWap").DROP_ATTR,recipient:!j&&g&&c?d("WAWebCommsWapMd").USER_JID(c):d("WAWap").DROP_ATTR,type:k});d("WAWebOnlineDanglingReceipts").addOnlineDanglingReceipts(b,e||b,a);d("WADeprecatedSendIq").deprecatedCastStanza(m)});return l.apply(this,arguments)}g.sendDeliveryReceiptsAfterDecryption=a}),98);
__d("WAWebSendRetryReceiptJob",["$InternalEnum","Promise","WADeprecatedSendIq","WALogger","WAWap","WAWebAdvSignatureApi","WAWebCommsAckParser","WAWebCommsWapMd","WAWebConstantsDeprecated","WAWebCryptoCurve25519","WAWebEphemeralDecodeBroadcastSetting","WAWebHandleMsgError","WAWebSignalCommonErrors","WAWebSignalKeyApi","WAWebSignalProtocolStore","WAWebSignalStoreApi","WAWebSignalUtilsApi","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","cr:10198","cr:4533","err","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=2,m=b("$InternalEnum")({UnknownError:0,SignalErrorNoSession:1,SignalErrorInvalidKey:2,SignalErrorInvalidKeyId:3,SignalErrorInvalidMessage:4,SignalErrorInvalidSignature:5,SignalErrorFutureMessage:6,SignalErrorBadMac:7,SignalErrorInvalidSession:8,SignalErrorInvalidMsgKey:9,BadBroadcastEphemeralSetting:10,UnknownCompanionNoPrekey:11,AdvFailure:12,StatusRevokeDelay:13});function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.retryCount,f=a.to,g=a.participant,j=a.recipient,l=a.externalId,m=a.rawTs,n=a.isPeer;n=n===void 0?!1:n;a=a.retryReason;c("gkx")("26258")||(b("cr:10198")==null||b("cr:10198").injectDebug(f,"RetryReceiptSent","externalId:"+l));if(!c("gkx")("26258")){var p=b("cr:4533")==null?void 0:b("cr:4533").getDebugDoNotSendRetryReceipt();if(p!=null&&p>0){b("cr:4533")==null||b("cr:4533").setDebugDoNotSendRetryReceipt(p-1);return(k||(k=b("Promise"))).resolve()}}try{p=d("WAWebSignalProtocolStore").getSignalProtocolStore();p=(yield (k||(k=b("Promise"))).all([p.getLocalRegistrationId(),p.getIdentityKeyPair()]));var q=p[0];p=p[1];if(q==null||p==null)throw c("err")("No registration info found");var r;try{r=(yield o(e,d("WAWebCryptoCurve25519").toCurveKeyPair(p)))}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error: ",""])),a).sendLogs("sendRetryReceipt: error while creating key section in retry receipt")}p=!f.isBot()&&Boolean(g==null?void 0:g.isBot());if(p)return;p=d("WAWap").DROP_ATTR;var s=d("WAWap").DROP_ATTR,t=d("WAWap").DROP_ATTR,u;if(f.isUser()){u=d("WAWebCommsWapMd").DEVICE_JID(f);if(d("WAWebUserPrefsMeUser").isMeAccount(d("WAWebWidFactory").asUserWidOrThrow(f)))if(n)p=d("WAWap").CUSTOM_STRING("peer");else if(!j)return(k||(k=b("Promise"))).reject(c("err")("sendRetryReceipt: send retry to peer device without recipient"));else s=d("WAWebCommsWapMd").USER_JID(j)}else u=d("WAWebCommsWapMd").CHAT_JID(f),t=g?d("WAWebCommsWapMd").DEVICE_JID(g):d("WAWap").DROP_ATTR;n=d("WAWap").wap("receipt",{id:d("WAWap").CUSTOM_STRING(l),to:u,participant:t,recipient:s,type:"retry",category:p},d("WAWap").wap("retry",{v:"1",count:d("WAWap").INT(e),id:d("WAWap").CUSTOM_STRING(l),t:d("WAWap").CUSTOM_STRING(m),error:a!=null?d("WAWap").INT(a):d("WAWap").DROP_ATTR}),d("WAWap").wap("registration",null,d("WAWap").BIG_ENDIAN_CONTENT(q)),r);return d("WADeprecatedSendIq").deprecatedSendStanzaAndWaitForAck(n,d("WAWebCommsAckParser").toCoreAckTemplate({id:l,"class":"receipt",from:f,participant:g,type:"retry"}))}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error: ",""])),a).sendLogs("sendRetryReceipt: error while creating or sending the retry message")}});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield q(a,b));b=a[0];a=a[1];a&&(yield d("WAWebSignalStoreApi").waSignalStore.markKeyAsUploaded(a.keyId),yield d("WAWebSignalStoreApi").waSignalStore.markPreKeyAsDirectDistribution(a.keyId));return b});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a<l)return(k||(k=b("Promise"))).resolve([null,null]);try{a=(yield (k||(k=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.getSignedPreKey(),d("WAWebSignalStoreApi").waSignalStore.getOrGenSinglePreKey(d("WAWebSignalKeyApi").generatePreKeyPair),d("WAWebAdvSignatureApi").getADVEncodedIdentity().then(function(a){(a==null||a.byteLength===0)&&d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["getADVEncodedIdentity: sending empty device-identity"]))).sendLogs("sending-retry-response-with-empty-device-identity",{sampling:c("gkx")("26259")?1:.1});return d("WAWap").wap("device-identity",null,a)})]));var f=a[0],g=a[1];a=a[2];if(!f)throw c("err")("Signed pre key is not available");e=d("WAWap").wap("keys",null,d("WAWap").wap("type",null,c("WAWebConstantsDeprecated").KEY_BUNDLE_TYPE),d("WAWap").wap("identity",null,e.pubKey),d("WAWebSignalUtilsApi").xmppPreKey(g),d("WAWebSignalUtilsApi").xmppSignedPreKey(f),a);return[e,g]}catch(a){throw c("err")("Could not create keys section for retry")}});return r.apply(this,arguments)}function e(a){if(a instanceof d("WAWebHandleMsgError").UnknownDeviceMessageError)return m.UnknownCompanionNoPrekey;else if(a instanceof d("WAWebSignalCommonErrors").SignalDecryptionError)switch(a.message){case"errSignalNoSession":case"errLoadSenderKeySession":return m.SignalErrorNoSession;case"errSignalInvalidMsg":return m.SignalErrorInvalidMessage;case"errSignalInvalidKey":return m.SignalErrorInvalidKey;case"errSignalTooManyMessagesInFuture":case"errSignalGrpTooManyMessagesInFuture":return m.SignalErrorFutureMessage;case"errInvalidMacWithDecryptedPlaintext":case"errInvalidMacInvalidCipherKey":case"errInvalidMacInvalidCipherKeyNewChain":return m.SignalErrorBadMac}else if(a instanceof d("WAWebEphemeralDecodeBroadcastSetting").BroadcastEphSettingsError)return m.BadBroadcastEphemeralSetting}g.RetryReason=m;g.sendRetryReceipt=a;g.getRetryReasonFromError=e}),98);
__d("WAWebHandleMsgSendReceipt",["WALogger","WAWebBizCoexGatingUtils","WAWebCreateNackFromStanza","WAWebHandleMsgCommon","WAWebHandleMsgSendAck","WAWebHandleMsgTypes.flow","WAWebMsgProcessingApiUtils","WAWebPostMessageHighRetryCountMetric","WAWebSendDeliveryReceiptJob","WAWebSendReceiptJobCommon","WAWebSendRetryReceiptJob","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendReceipt"])));var e=a.externalId,f=b.rawTs,g=b.type,l=d("WAWebMsgProcessingApiUtils").getFrom(a),m=null;if(a.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT&&d("WAWebUserPrefsMeUser").isMeAccount(a.author))if(a.originalBotRecipient!=null)m=a.originalBotRecipient;else{var n;m=(n=a.preMatChat)!=null?n:a.chat}n=a.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT?null:(n=a.preMatChat)!=null?n:a.author;var o=a.category===d("WAWebHandleMsgCommon").CATEGORY_PEER,p=!a.chat.isBot()&&a.author.isBot();switch(c.result){case d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS:case d("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR:if(p){var q,r;a.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT?(p=a.author,q=a.chat):(p=a.chat,r=a.author);return d("WAWebSendReceiptJobCommon").sendBotInvokeResponseAcks([e],p,q,r)}else if(b.type===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.medianotify)return d("WAWebHandleMsgSendAck").sendAck(e,l,g,n);return d("WAWebSendDeliveryReceiptJob").sendDeliveryReceiptsAfterDecryption(e,l,m,n,o,c);case d("WAWebHandleMsgTypes.flow").E2EProcessResult.HSM_MISMATCH:d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(['sendReceipt: HSM mismatch, no receipt sent for "','"'])),e).sendLogs("send-receipt-skipping-hsm-mismatch-result");return;case d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY:if(l!=null&&l.isHosted()&&!d("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Drop retry for coex when feature is disabled"])));return d("WAWebHandleMsgSendAck").sendAck(e,l,g,n)}p=c.retryCount==null?1:c.retryCount+1;yield d("WAWebSendRetryReceiptJob").sendRetryReceipt({retryCount:p,to:l,participant:n,recipient:m,externalId:e,rawTs:f,isPeer:o,retryReason:c.retryReason});void d("WAWebPostMessageHighRetryCountMetric").maybePostMessageHighRetryCountMetric(p,a);return;case d("WAWebHandleMsgTypes.flow").E2EProcessResult.BACKFILL:return d("WAWebHandleMsgSendAck").sendAck(e,l,g,n);case d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_VALIDATION_ERROR:return d("WAWebHandleMsgSendAck").sendNack(e,l,g,n,d("WAWebCreateNackFromStanza").NackReason.InvalidProtobuf,c.e2eFailureReason);case d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR:return d("WAWebHandleMsgSendAck").sendNack(e,l,g,n,d("WAWebCreateNackFromStanza").NackReason.ParsingError)}d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(['sendReceipt: invalid e2eProcessResult "','"'])),c.result).sendLogs("send-receipt-missing-e2e-process-result");return d("WAWebHandleMsgSendAck").sendAck(e,l,g,n)});return l.apply(this,arguments)}g.sendReceipt=a}),98);
__d("WAWebMaybePostOfflineCountTooHighMetric",["WALogger","WAWebBackendJobsCommon","WAWebOfflineCountTooHighWamEvent","WAWebWamEnumStanzaType","WAWebWamMsgUtils"],(function(a,b,c,d,e,f,g){var h,i=11;function a(a){var b=a.msgInfo,c=a.msgMeta;a=a.encs;var e=parseInt(b.offline,10);if(Number.isNaN(e)||e<i)return;a=new(d("WAWebOfflineCountTooHighWamEvent").OfflineCountTooHighWamEvent)({offlineCount:e,stanzaType:d("WAWebWamEnumStanzaType").STANZA_TYPE.MESSAGE,mediaType:d("WAWebBackendJobsCommon").getMetricMediaType({encMediaType:(e=a.find(function(a){return a.encMediaType!=null}))==null?void 0:e.encMediaType,msgType:c.type,msgPollType:c.pollType})});e=d("WAWebWamMsgUtils").getMessageTypeFromMsgInfoType(b.type);e!=null&&(a.messageType=e);a.commitAndWaitForFlush()["catch"](function(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to post OfflineCountTooHigh metric: ",""])),a).tags("messaging")})}g.OFFLINE_COUNT_TOO_HIGH_THRESHOLD=i;g.maybePostOfflineCountTooHigh=a}),98);
__d("WAWebMsgProcessingDecryptEnc",["Promise","WAWebBackendJobs.flow","WAWebBotMessageSecret","WAWebMsgProcessingApiUtils","WAWebSignal","err"],(function(a,b,c,d,e,f,g){var h;function a(a,e,f,g){var i=a.e2eType;a=a.ciphertext;switch(i){case d("WAWebBackendJobs.flow").CiphertextType.Skmsg:if(!(e.isGroup()||e.isBroadcast()))return(h||(h=b("Promise"))).reject(c("err")("['messaging'] decryptEnc: Can not do skmsg for non group "+e.toString()));return!f?(h||(h=b("Promise"))).reject(c("err")("['messaging'] decryptEnc: receive msg from "+e.toString()+" without participant")):d("WAWebSignal").Cipher.decryptGroupSignalProto(e,f,a);case d("WAWebBackendJobs.flow").CiphertextType.Pkmsg:case d("WAWebBackendJobs.flow").CiphertextType.Msg:f=e.isUser()?e:f;if(!f)return(h||(h=b("Promise"))).reject(c("err")("['messaging'] decryptEnc: receive msg from "+e.toString()+" without participant"));e=d("WAWebMsgProcessingApiUtils").shouldOmitSessionPersistence(i,g);return d("WAWebSignal").Cipher.decryptSignalProto(f,i,a,e);case d("WAWebBackendJobs.flow").CiphertextType.Msmsg:return d("WAWebBotMessageSecret").decryptMsmsgBotMessage(a,g)}}g.decryptEnc=a}),98);
__d("WAWebPostE2eMessageRecvMetric",["WAWebBackendApi","WAWebBackendJobsCommon","WAWebE2eMessageRecvWamEvent","WAWebGroupType","WAWebHandleMsgCommon","WAWebWamAddressingModeUtils","WAWebWamEnumAgentEngagementEnumType","WAWebWamMsgUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.enc,c=a.from,e=a.msgMeta,f=a.msgInfo,g=a.msgBotInfo;a=a.error;var h=e.type===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.reaction,i=f.chat;a=new(d("WAWebE2eMessageRecvWamEvent").E2eMessageRecvWamEvent)({e2eCiphertextType:d("WAWebBackendJobsCommon").getMetricE2eCiphertextType(b.e2eType),e2eCiphertextVersion:d("WAWebBackendJobsCommon").CIPHERTEXT_VERSION,e2eFailureReason:a==null?void 0:a.e2eFailureReason,e2eSuccessful:!1,messageMediaType:d("WAWebBackendJobsCommon").getMetricMediaType({encMediaType:b.encMediaType,msgType:e.type,msgPollType:e.pollType}),retryCount:b.retryCount,editType:d("WAWebBackendJobsCommon").getMetricEditType(f.edit),botType:d("WAWebWamMsgUtils").getWamBotType(i,g==null?void 0:g.bizBotType)});e=d("WAWebBackendJobsCommon").getMetricE2eDestination(c);e!=null&&(a.e2eDestination=e);f.addressingMode!=null&&(a.serverAddressingMode=d("WAWebWamAddressingModeUtils").getWamAddressingModeFromString(f.addressingMode));if(i.isGroup()){b=(yield d("WAWebBackendApi").frontendSendAndReceive("getGroupMetadata",{groupWid:i}));if(b!=null){a.isLid=b.isCag&&h||Boolean(b.isLidAddressingMode);g=d("WAWebGroupType").groupTypeToWamEnum(d("WAWebGroupType").getGroupTypeFromGroupMetadata(b));a.typeOfGroup=g;Object.assign(a,d("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(b))}}else i.isBroadcast()?a.isLid=f.author.isLid():a.isLid=i.isLid();f.author.isBot()&&(f.chat.isBot()?a.agentEngagementType=d("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.DIRECT_CHAT:a.agentEngagementType=d("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.INVOKED);return a});return i.apply(this,arguments)}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield h(a));a.e2eSuccessful=!0;a.weight=1e3;a.commit()});return j.apply(this,arguments)}function c(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield h(a));a.e2eSuccessful=!1;a.weight=1;a.commit()});return k.apply(this,arguments)}g.postSuccessE2eMessageRecvMetric=a;g.postFailureE2eMessageRecvMetric=c}),98);
__d("WAWebMsgProcessingDecryptionHandler",["$InternalEnum","WALogger","WATimeUtils","WAWebABProps","WAWebBackendJobs.flow","WAWebBackendJobsCommon","WAWebCreateNackFromStanza","WAWebEphemeralDecodeBroadcastSetting","WAWebHandleMsgCommon","WAWebHandleMsgError","WAWebHandleMsgProcess","WAWebHandleMsgTypes.flow","WAWebIsOfficialClient","WAWebMessagingGatingUtils","WAWebMsgProcessingApiUtils","WAWebMsgType","WAWebPostE2eMessageRecvMetric","WAWebPostIncomingMessageDropMetric","WAWebSendRetryReceiptJob","WAWebSignalCommonErrors","WAWebWamEnumE2eFailureReason","asyncToGeneratorRuntime","cr:4122","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t=b("$InternalEnum").Mirrored(["SignalRetryable","SignalDuplicateMessage","UnknownDevice","DeviceSentMessage","InvalidProtobuf","HsmMismatch","BroadcastEphSettings","Unknown"]),u=new Set([t.SignalRetryable]);function v(a){return a.message==="errDuplicateMsg"?t.SignalDuplicateMessage:t.SignalRetryable}function w(a){if(a instanceof d("WAWebHandleMsgError").UnknownDeviceMessageError)return t.UnknownDevice;else if(a instanceof d("WAWebSignalCommonErrors").SignalDecryptionError)return v(a);else if(a instanceof d("WAWebSignalCommonErrors").SignalMessageCounterError)return t.SignalDuplicateMessage;else if(a instanceof d("WAWebHandleMsgError").DeviceSentMessageError)return t.DeviceSentMessage;else if(a instanceof d("WAWebHandleMsgError").MessageValidationError)return t.InvalidProtobuf;else if(a instanceof d("WAWebHandleMsgCommon").HsmMismatchError)return t.HsmMismatch;else if(a instanceof d("WAWebEphemeralDecodeBroadcastSetting").BroadcastEphSettingsError)return t.BroadcastEphSettings;return t.Unknown}function a(a){var b={accessedEncs:new Set(),pkOrMsgFailedEnc:null,skMsgFailedEnc:null};return{handleError:function(c,e){var f=w(e);c.e2eType===d("WAWebBackendJobs.flow").CiphertextType.Skmsg?b.skMsgFailedEnc={enc:c,error:e,errorType:f}:b.pkOrMsgFailedEnc={enc:c,error:e,errorType:f};C(a,{enc:c,error:e,errorType:f})},canDecryptNext:function(a){var d;c("gkx")("26258")||E();d=(d=b.pkOrMsgFailedEnc)==null?void 0:d.errorType;if(d!=null&&u.has(d))return!1;b.accessedEncs.add(a.e2eType);return!0},getResult:function(c){return z(a,b,c)}}}function x(a){a=a.ciphertext.byteLength;if(a===0)return"empty";return a<100?"small":"large"}function y(a,b,c){var e=a.msgInfo;a=a.encs;c===void 0&&(c=!1);var f=e.chat;e=e.ts;if(f.isStatus()){f=d("WATimeUtils").unixTimeWithoutClockSkewCorrection()-(e+d("WATimeUtils").DAY_SECONDS);var g=f>0;if(g&&c&&a.length===2){c=d("WATimeUtils").unixTime()-(e+d("WATimeUtils").DAY_SECONDS);d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: expired status has 2 encs, expired for ","s client time or for ","s with a clock skew, enc is "," and is ",""])),f,c,b.enc.e2eType,x(b.enc)).tags("messaging").sendLogs("handleMsg: expired status multiple encs",{sampling:.01})}return g}return!1}function z(a,b,c){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e;e=(e=b.skMsgFailedEnc)!=null?e:b.pkOrMsgFailedEnc;var f=e!=null&&b.accessedEncs.has(d("WAWebBackendJobs.flow").CiphertextType.Skmsg)&&b.skMsgFailedEnc==null;if(e==null||f||y(a,e,!0)&&d("WAWebABProps").getABPropConfigValue("web_skip_expired_status_error"))return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS,hasInactiveMsg:c};B(a,b);D(a,b);f=e.enc;c=e.error;b=e.errorType;var g;(c instanceof d("WAWebSignalCommonErrors").SignalDecryptionError||c instanceof d("WAWebHandleMsgError").UnknownDeviceMessageError||c instanceof d("WAWebEphemeralDecodeBroadcastSetting").BroadcastEphSettingsError)&&(c,g=d("WAWebSendRetryReceiptJob").getRetryReasonFromError(c),b!==t.SignalDuplicateMessage&&(f.hideFail||(yield d("WAWebHandleMsgProcess").processPlaceholderMsg({type:d("WAWebMsgType").MSG_TYPE.CIPHERTEXT,msgMeta:a.msgMeta,msgInfo:a.msgInfo,placeholderType:d("WAWebHandleMsgTypes.flow").PlaceholderType.E2E,placeholderAddReason:d("WAWebBackendJobsCommon").getPlaceholderAddReason(c)}))));switch(b){case t.SignalRetryable:case t.UnknownDevice:return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY,retryCount:f.retryCount,retryReason:g};case t.SignalDuplicateMessage:return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR,failedEnc:f};case t.DeviceSentMessage:return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_VALIDATION_ERROR};case t.InvalidProtobuf:return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_VALIDATION_ERROR,e2eFailureReason:c instanceof d("WAWebHandleMsgError").MessageValidationError?c.e2eFailureReason:void 0};case t.HsmMismatch:return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.HSM_MISMATCH};case t.BroadcastEphSettings:return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY,retryCount:f.retryCount,retryReason:g,e2eFailureReason:d("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON.INVALID_BROADCAST_STANZA_ATTRIBUTE};case t.Unknown:return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR}}});return A.apply(this,arguments)}function B(a,b){var c=b.skMsgFailedEnc;b=b.pkOrMsgFailedEnc;var e=a.msgInfo,f=a.msgMeta;c=c!=null?c:b;if(c==null)return;b=c.enc;var g=c.errorType,h=c.error;if(y(a,c)){d("WAWebABProps").getABPropConfigValue("web_skip_expired_status_error")||d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropExpired({msgInfo:e,msgMeta:f,enc:b,error:h instanceof d("WAWebHandleMsgError").MessageValidationError?h:void 0});return}switch(g){case t.SignalRetryable:case t.UnknownDevice:case t.HsmMismatch:case t.BroadcastEphSettings:case t.SignalDuplicateMessage:break;case t.InvalidProtobuf:case t.DeviceSentMessage:d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidProtobuf({msgInfo:e,msgMeta:f,enc:b,error:h instanceof d("WAWebHandleMsgError").MessageValidationError?h:void 0});break;case t.Unknown:d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanzaFromDecryptedMessageInfo({msgInfo:e,msgMeta:f,enc:b})}}function C(a,b){var e=a.msgInfo,f=a.msgMeta;a=a.msgBotInfo;var g=b.enc,h=b.error;b=b.errorType;var r=d("WAWebMsgProcessingApiUtils").getFrom(e);void d("WAWebPostE2eMessageRecvMetric").postFailureE2eMessageRecvMetric({enc:g,from:r,msgMeta:f,msgInfo:e,msgBotInfo:a,error:h instanceof d("WAWebHandleMsgError").MessageValidationError?h:null});d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::"," e2eType:"," error:",""])),e.externalId,g.e2eType,h.stack).tags("messaging");switch(b){case t.SignalDuplicateMessage:break;case t.SignalRetryable:case t.UnknownDevice:c("gkx")("26258")||d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),g.e2eType,h).tags("messaging").sendLogs("handleMsg: decryption error");break;case t.InvalidProtobuf:h instanceof d("WAWebHandleMsgError").MessageValidationError&&(d("WAWebIsOfficialClient").isUnofficialStanzaId(e.externalId)?d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),g.e2eType,h).tags("messaging").sendLogs("handleMsg from UC: "+h.name,{sampling:h.sendLogs===!0?.01:h.sendLogs}):c("gkx")("26259")&&h instanceof d("WAWebHandleMsgError").MessageProtobufInvalidMessageTypes?d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),g.e2eType,h).tags("messaging").sendLogs("(intern) handleMsg: "+h.name):d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),g.e2eType,h).tags("messaging").sendLogs("handleMsg: "+h.name,h.sendLogs===!0?void 0:{sampling:h.sendLogs}));break;case t.DeviceSentMessage:d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," infoType:"," isDirect:"," error:",""])),g.e2eType,e.type,e.isDirect,h).tags("messaging").sendLogs("handleMsg: parse device sent message error");break;case t.HsmMismatch:d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),g.e2eType,h).tags("messaging").sendLogs("handleMsg: hsm mismatch error");break;case t.BroadcastEphSettings:d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),g.e2eType,h).tags("messaging").sendLogs("handleMsg: failed to decrypt broadcast ephemeral settings");break;case t.Unknown:d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),g.e2eType,h).tags("messaging").sendLogs("handleMsg: parse decrypted message error");break}}function D(a,b){var c=b.skMsgFailedEnc;b=b.pkOrMsgFailedEnc;c=c!=null?c:b;if(c==null)return;if(!d("WAWebMessagingGatingUtils").isMessageDropPlaceholderEnabled())return;b=a.msgInfo.chat;if(!(b.isUser()||b.isGroup()))return;if(y(a,c))return;b=null;switch(c.errorType){case t.SignalRetryable:case t.SignalDuplicateMessage:case t.BroadcastEphSettings:case t.UnknownDevice:break;case t.DeviceSentMessage:case t.InvalidProtobuf:b=d("WAWebCreateNackFromStanza").NackReason.InvalidProtobuf;break;case t.HsmMismatch:case t.Unknown:b=d("WAWebCreateNackFromStanza").NackReason.ParsingError;break}if(b!=null){var e=a.msgInfo.externalId;d("WALogger").WARN(r||(r=babelHelpers.taggedTemplateLiteralLoose(["messageDrop: insert a debug placeholder for ",", reason: ",""])),e,c.errorType).tags("messaging");void d("WAWebHandleMsgProcess").processPlaceholderMsg({type:d("WAWebMsgType").MSG_TYPE.DEBUG_PLACEHOLDER,msgInfo:a.msgInfo,nackReason:b})}}function E(){if(!c("gkx")("26258")){var a;a=(a=b("cr:4122")==null?void 0:b("cr:4122").isNextMessageDropped())!=null?a:null;if(a==null)return;d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Dropping incoming message with "," error"])),a);switch(a){case t.SignalRetryable:throw new(d("WAWebSignalCommonErrors").SignalDecryptionError)("errSignalErr");case t.SignalDuplicateMessage:throw new(d("WAWebSignalCommonErrors").SignalDecryptionError)("errDuplicateMsg");case t.InvalidProtobuf:throw new(d("WAWebHandleMsgError").MessageValidationError)("test",d("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON.INVALID_MESSAGE);case t.DeviceSentMessage:throw new(d("WAWebHandleMsgError").DeviceSentMessageError)(1,1);default:return}}}g.DecryptionErrorType=t;g.createDecryptionHandler=a}),98);
__d("WAWebMsgProcessingDecryptApi",["WALogger","WAWebAdvSignatureApi","WAWebBackendJobs.flow","WAWebHandleMsgTypes.flow","WAWebMsgProcessingApiUtils","WAWebMsgProcessingDecryptEnc","WAWebMsgProcessingDecryptionHandler","WAWebOfflineResumeMsgProcessReporter","WAWebPostE2eMessageRecvMetric","WAWebSendRetryReceiptJob","WAWebSignalProtocolStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.bizInfo,e=a.msgInfo,f=a.paymentInfo,g=a.deviceIdentity,h=a.encs,l=a.msgMeta,n=a.rcat,o=a.hsmInfo,p=a.msgBotInfo,q=a.reportingTokenInfo,r=d("WAWebMsgProcessingApiUtils").getFrom(e);m(h,e);if(e.author.device!=null&&e.author.device!==0){g=(yield d("WAWebAdvSignatureApi").validateADVwithEncs(e.author,g,h,!!e.offline));if(!g){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::",", validateADVIdentity failed"])),e.externalId).tags("messaging");return{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY,retryCount:h[0].retryCount,retryReason:d("WAWebSendRetryReceiptJob").RetryReason.AdvFailure}}}g=!1;var s=d("WAWebMsgProcessingDecryptionHandler").createDecryptionHandler(a);for(h of h)try{if(!s.canDecryptNext(h))continue;var t=d("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(d("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.Decryption),u=(yield d("WAWebMsgProcessingDecryptEnc").decryptEnc(h,r,e.author,a));t==null||t();d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::"," e2eType:"," done"])),e.externalId,h.e2eType).tags("messaging");void d("WAWebPostE2eMessageRecvMetric").postSuccessE2eMessageRecvMetric({enc:h,from:r,msgMeta:l,msgInfo:e,msgBotInfo:p,error:null});t={retryCount:h.retryCount,e2eType:h.e2eType,encMediaType:h.encMediaType,hideFail:h.hideFail};u=(yield b({decrypted:u,info:e,paymentInfo:f,e2eInfo:t,bizInfo:c,hsmInfo:o,msgMeta:l,rcat:n,msgBotInfo:p,reportingTokenInfo:q}));u.hasInactiveMsg&&(g=!0);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["processDecryptedProto: msgId::"," e2eType:"," done"])),e.externalId,h.e2eType).tags("messaging")}catch(a){s.handleError(h,a)}yield d("WAWebSignalProtocolStore").getSignalProtocolStore().flushBufferToDiskIfNotMemOnlyMode();return s.getResult(g)});return l.apply(this,arguments)}function m(a,b){a.length===2&&a[0].e2eType===d("WAWebBackendJobs.flow").CiphertextType.Skmsg&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::"," skMsg is out of order"])),b.externalId).tags("messaging").sendLogs("handleMsg: invalid encs order",{sampling:.01})}g.decryptE2EPayload=a}),98);
__d("WAWebProcessPhoneNumberMapping",["Promise","WAArrayUtils","WALogger","WAWebApiContact","WAWebDBCreateLidPnMappings","WAWebHandleMsgTypes.flow","WAWebUpdateLidMetadataJob","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function j(a){var b=a.lid,c=a.data,d=a.shouldWaitForJob;a=a.processingResult;a.push({jobArgs:{lid:b,data:c},shouldWaitForJob:d})}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=[],f=a.recipientPn,g=a.chat,h=a.author,i=a.peerRecipientPn,k=a.recipientLatestLid,l=d("WAWebWidFactory").asUserLidOrThrow(h);if(d("WAWebUserPrefsMeUser").isMeAccount(h)){h=b==null?void 0:b.origin;if(f!=null)c={lid:d("WAWebWidFactory").asUserLidOrThrow(g),pn:d("WAWebWidFactory").asUserWidOrThrow(f),learningSource:"other"},j({lid:d("WAWebWidFactory").asUserLidOrThrow(g),data:{shareOwnPn:!1},shouldWaitForJob:!0,processingResult:e});else if(i!=null)k!=null?c={lid:d("WAWebWidFactory").asUserLidOrThrow(g),pn:i,latestLid:k,learningSource:"recipient-latest-lid"}:c={lid:d("WAWebWidFactory").asUserLidOrThrow(g),pn:i,learningSource:"peer-lid-message"};else{b=(yield d("WAWebApiContact").getContactRecord(g));(b==null||(b==null?void 0:b.shareOwnPn)!==!0)&&j({lid:d("WAWebWidFactory").asUserLidOrThrow(g),data:{shareOwnPn:!0},shouldWaitForJob:!1,processingResult:e})}if(h!=="ctwa"){h;f=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&a.author.isLid()&&a.chat.isLid();i==null&&!f&&(c="missing-peer-recipient-pn")}return{mapping:c,lidMetadataUpdates:e}}k=a.displayName;k!=null&&j({lid:l,data:{displayNameLID:k},shouldWaitForJob:!0,processingResult:e});b=a.senderPn;b!=null&&(c={lid:l,pn:d("WAWebWidFactory").asUserWidOrThrow(b),learningSource:"other"});b==null&&j({lid:l,data:{shareOwnPn:!0},shouldWaitForJob:!0,processingResult:e});return{mapping:c,lidMetadataUpdates:e}});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c=a.recipientLid,e=a.chat,f=a.author,g=a.peerRecipientLid,h=a.recipientLatestLid;if(d("WAWebUserPrefsMeUser").isMeAccount(f)){e=d("WAWebWidFactory").asUserWidOrThrow(e);c!=null?b={lid:c,pn:e,learningSource:"other"}:g!=null?h!=null?b={pn:e,lid:g,latestLid:h,learningSource:"recipient-latest-lid"}:b={lid:g,pn:e,learningSource:"peer-pn-message"}:b="missing-peer-recipient-lid"}c=a.senderLid;c!=null&&(b={lid:d("WAWebWidFactory").asUserLidOrThrow(c),pn:d("WAWebWidFactory").asUserWidOrThrow(f),learningSource:"other"});return{mapping:b,lidMetadataUpdates:[]}});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.msgInfo;a=a.msgMeta;var c=b.author;return c.isLid()?k(b,a):m(b)});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.msgInfo,c=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&b.participantUsername!=null;!c&&b.chat.isGroup()&&b.author.isLid()&&!d("WAWebUserPrefsMeUser").isMeAccount(b.author)&&b.participantPn==null&&b.displayName==null&&d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[extractMappingsForGroupOrStatusBroadcastMessage] participantPn is missing for group message from LID author"])));if(a.bclParticipant){a.msgInfo;a=s(a.bclParticipant);return a==null?{lidMetadataUpdates:[]}:{mapping:a,lidMetadataUpdates:[]}}var e;a=[];var f=b.participantPn,g=b.participantLid,i=b.author;f!=null?e={lid:d("WAWebWidFactory").asUserLidOrThrow(i),pn:f,learningSource:"other"}:g!=null&&!c&&(e={lid:g,pn:d("WAWebWidFactory").asUserWidOrThrow(i),learningSource:"other"});f=b.displayName;!d("WAWebUserPrefsMeUser").isMeAccount(i)&&f!=null&&j({lid:d("WAWebWidFactory").asUserLidOrThrow(i),data:{displayNameLID:f},shouldWaitForJob:!0,processingResult:a});return{mapping:e,lidMetadataUpdates:a}});return r.apply(this,arguments)}function s(a){var b=a.wid,c=a.recipientLatestLid;if(b.isLid()){var e=b,f=a.peerRecipientPn;if(f==null){var g=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled();return g?null:"missing-peer-recipient-pn"}return c?{lid:e,latestLid:c,pn:f,learningSource:"recipient-latest-lid"}:{lid:e,pn:f,learningSource:"peer-lid-message"}}g=a.peerRecipientLid;e=b;return g==null?"missing-peer-recipient-lid":c?{lid:g,latestLid:c,pn:e,learningSource:"recipient-latest-lid"}:{lid:g,pn:e,learningSource:"peer-pn-message"}}function t(a){var b=a.mapping;a=a.flushImmediately;if(b.learningSource==="recipient-latest-lid")return d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:[{lid:b.lid,pn:b.pn},{lid:b.latestLid,pn:b.pn}],flushImmediately:a,learningSource:"recipient-latest-lid"});b;return d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:[{lid:b.lid,pn:b.pn}],flushImmediately:a,learningSource:b.learningSource})}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.msgInfo.chat;if(b.isUser())return o(a);else if(b.isGroup()||b.isBroadcast())return q(a);return{lidMetadataUpdates:[]}});return v.apply(this,arguments)}function a(a,b,c){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){if(a.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST){var f=a.bclParticipants.map(function(b){return x({msgInfo:a,msgMeta:c,bclParticipant:b},e)});f=(yield (i||(i=b("Promise"))).all(f));return{type:"peer-broadcast",mappings:f}}return{type:"not-peer-broadcast",mapping:yield x({msgInfo:a,msgMeta:c},e)}});return w.apply(this,arguments)}function x(a,b){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;a=(yield u(a));var e=a.mapping;a=a.lidMetadataUpdates;a=d("WAArrayUtils").groupByAndMap(a,function(a){return a.shouldWaitForJob?"waitForJob":"fireAndForget"},function(a){return a.jobArgs});c=(c=a.get("waitForJob"))!=null?c:[];a=(a=a.get("fireAndForget"))!=null?a:[];a.length>0&&void d("WAWebUpdateLidMetadataJob").updateLidMetadataJob(a);c.length>0&&(yield d("WAWebUpdateLidMetadataJob").updateLidMetadataJob(c));e!=null&&typeof e==="object"&&(yield t({mapping:e,flushImmediately:b}));return e});return y.apply(this,arguments)}g.processPhoneNumberMappings=a}),98);
__d("WAWebProcessMsgInfoForLid",["Promise","WAJids","WALogger","WAWebApiContact","WAWebHandleMsgCommon","WAWebHandleMsgTypes.flow","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebLidStatusMigrationGating","WAWebLidStatusMigrationUtils","WAWebMessageProcessUtils","WAWebProcessPhoneNumberMapping","WAWebUsernameGatingUtils","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.mapping,e=a.chatWid,f=a.msgMeta;a=a.msgInfo;var g=null,l=f==null?void 0:f.origin,m=l==="ctwa";if(m){if(!e.isLid())throw c("err")("received ctwa message but remote id is not Lid");g=e}else if((f==null?void 0:f.targetSenderJid)!=null)g=d("WAWebLidMigrationUtils").toUserLidOrThrow(d("WAWebWidFactory").asUserWidOrThrow(a.chat));else if(b==null){m=d("WAWebUsernameGatingUtils").usernameDisplayedEnabled();f=m&&a.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT&&a.author.isLid()&&e.isLid();var n=f&&a.username!=null;f=f&&a.username==null;if(n||f)g=d("WAWebLidMigrationUtils").toUserLidOrThrow(e);else if(m&&a.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST&&e.isLid())g=d("WAWebLidMigrationUtils").toUserLidOrThrow(e);else{d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing pn-lid mapping in 1-1 message"]))).sendLogs("misssing-pn-lid-mapping-in-1-1-message").devConsole("msg id:",a.externalId);throw c("err")("findDestinationChatForSingleMapping: missing pn-lid mapping in 1-1 message")}}else if(b==="missing-peer-recipient-pn"){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing peer recipient pn in 1-1 message from device ",""])),(n=a.author.device)!=null?n:0).sendLogs("misssing-peer-recipient-pn-in-1-1-message");e.isLid()&&(d("WAWebApiContact").lidPnCache.getPhoneNumber(e)!=null&&(g=e));if(g==null){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing peer recipient pn and local mapping, processing message anyway"])));return}}else if(b==="missing-peer-recipient-lid"){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing peer recipient lid in 1-1 message"]))).sendLogs("misssing-peer-recipient-lid-in-1-1-message");d("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("syncContactListJob",{contactIds:[e],shouldSyncDevice:!1,mode:"query"});g=d("WAWebApiContact").lidPnCache.getCurrentLid(e);if(g==null)throw c("err")("findDestinationChatForSingleMapping: missing peer recipient lid in 1-1 message")}else g=b.lid;f=(yield d("WAWebMessageProcessUtils").selectChatForOneOnOneMessage({lid:g,lidOrigin:l}));m=f.chatId;return m.isSameAccountAndAddressingMode(e)?{accountLid:f.accountLid}:{newRemote:m,accountLid:f.accountLid}});return o.apply(this,arguments)}function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.msgInfo,f=a.msgMeta;a=(yield d("WAWebProcessPhoneNumberMapping").processPhoneNumberMappings(e,f,e.offline==null));if(e.category===d("WAWebHandleMsgCommon").CATEGORY_PEER)return;if(e.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS){var g=d("WAWebWidFactory").asUserWidOrThrow(e.author),h=d("WAWebWidFactory").asUserWidOrThrow(d("WAWebLidStatusMigrationUtils").matWidConvert(g));if(!g.equals(h)){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["maybeProcesMsgInfoForLid: converting status message from "," to "," based on migration stage ",""])),e.author.toLogString(),h.toLogString(),d("WAWebLidStatusMigrationGating").getLidStatusMigrationStage());e.author=d("WAWebWidFactory").createDeviceWidFromUserAndDevice(h.user,h.server,(g=e.author.device)!=null?g:d("WAJids").DEFAULT_DEVICE_ID)}return}h=d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()||e.author.isLid()||e.chat.isLid();if(!h)return;if(e.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST){if(a.type!=="peer-broadcast")throw c("err")("maybeProcesMsgInfoForLid: mappings type is not the expected peer-broadcast");a.type;g=a.mappings.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=e.bclParticipants[b];a=(yield n({msgInfo:e,msgMeta:f,mapping:a,chatWid:b.wid}));if((a==null?void 0:a.newRemote)==null)return;b.preMatWid=b.wid;b.wid=d("WAWebWidFactory").asUserWidOrThrow(a.newRemote)});return function(b,c){return a.apply(this,arguments)}}());yield (m||(m=b("Promise"))).all(g)}else{if(a.type!=="not-peer-broadcast")throw c("err")("maybeProcesMsgInfoForLid: mappings type is not the expected not-peer-broadcast");a.type;h=e.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST;g=h?e.author:e.chat;if(!g.isRegularUser())return;a=(yield n({msgInfo:e,msgMeta:f,mapping:a.mapping,chatWid:g}));if(a==null)return;var i=a.accountLid;a=a.newRemote;i!=null&&(e.accountLid=i);if(a==null)return;h?(e.preMatChat=e.author,e.author=a):(e.preMatChat=g,e.chat=a)}});return p.apply(this,arguments)}g.maybeProcesMsgInfoForLid=a}),98);
__d("WAWebHandleMsg",["Promise","WALogger","WAParsableWapNode","WATimeUtils","WAWebCreateNackFromStanza","WAWebDBReportingTokenUtils","WAWebGetMessageCache","WAWebHandleMsgCommon","WAWebHandleMsgMetaUtils","WAWebHandleMsgParser","WAWebHandleMsgProcess","WAWebHandleMsgSendReceipt","WAWebHandleMsgTypes.flow","WAWebMaybePostOfflineCountTooHighMetric","WAWebMessageDedupUtils","WAWebMessageInsertDebugPlaceholder","WAWebMessageQueue","WAWebMsgProcessingApiUtils","WAWebMsgProcessingDecryptApi","WAWebMsgType","WAWebOfflineHandler","WAWebPostIncomingMessageDropMetric","WAWebPostUnknownStanzaMetric","WAWebProcessMsgInfoForLid","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime","cr:4122","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=d("WAWebHandleMsgParser").incomingMsgParser.parse(a);if(e.error){c("gkx")("26258")?d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: error while parsing message stanza"]))).tags("messaging"):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: error while parsing message stanza: ",", node: ",""])),e.error,a.toString()).tags("messaging");d("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(a);var f=d("WAWebHandleMsgParser").incomingMsgParserForAckOnly.parse(a);if(f.error){f.error instanceof d("WAParsableWapNode").XmppParsingFailure?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage: ",""])),f.error).tags("messaging").sendLogs("failedParsing: ack not parsed XMPP",{sampling:.01}):d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage:"]))).tags("messaging").sendLogs("failedParsing: ack not parsed",{sampling:.01});d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanza(a);return(s||(s=b("Promise"))).resolve(d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.ParsingError))}f=f.success;var g=f.type,u=f.externalId,w=f.msgInfo;f=f.offline;var x=d("WAWebCreateNackFromStanza").NackReason.ParsingError;g==null?(x=d("WAWebCreateNackFromStanza").NackReason.UnrecognizedStanzaType,d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropUnknownMessageType(a)):e.error instanceof d("WAParsableWapNode").XmppParsingFailure&&((g=e.error)==null?void 0:g.reason)===""+d("WAWebCreateNackFromStanza").NackReason.InvalidHostedCompanionStanza?(x=d("WAWebCreateNackFromStanza").NackReason.InvalidHostedCompanionStanza,d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidHostedCompanionStanza(a)):d("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanza(a);d("WAWebMessageInsertDebugPlaceholder").maybeInsertDebugPlaceholder({externalId:u,nackReason:x,msgInfo:w,offline:f});f!=null&&(e.error instanceof d("WAParsableWapNode").XmppParsingFailure?d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage: "," ",""])),u,e.error).tags("messaging").sendLogs("failedParsing: ack parsed XMPP",{sampling:.01}):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage: ",""])),u).tags("messaging").sendLogs("failedParsing: ack parsed",{sampling:.01}));return(s||(s=b("Promise"))).resolve(d("WAWebCreateNackFromStanza").createNackFromStanza(a,x))}var y=e.success;d("WAWebMaybePostOfflineCountTooHighMetric").maybePostOfflineCountTooHigh(y);var z=y.msgMeta,A=y.msgInfo,B=y.msgBotInfo,C=y.encs;g=d("WAWebMsgProcessingApiUtils").messageInfoToKey(A);A.clientReceivedTsMillis=d("WATimeUtils").unixTimeMs();A.offline!=null&&(d("WAWebOfflineHandler").OfflineMessageHandler.addOfflinePendingMessage(),d("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete());var D=1;d("WAWebMessageDedupUtils").isPengingMessageCacheEnabled()&&(D=d("WAWebMessageDedupUtils").addPendingMessage(g,A.ts,C));d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()&&delete y.msgInfo.offline;if(b("cr:4122")!=null&&b("cr:4122").isNextMessagePostponed(a,t)){void d("WAWebHandleMsgSendReceipt").sendReceipt(y.msgInfo,y.msgMeta,{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS});return null}return d("WAWebMessageQueue").onMessageQueue({chatWid:A.chat,isOffline:!!y.msgInfo.offline,msgCategory:A.category,action:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["handleMessage: chat::"," msgId::",', start processing message, offline="','"'])),A.chat.toLogString(),A.externalId,(a=A.offline)!=null?a:"").tags("messaging");A.msgProcessStartTsMillis=d("WATimeUtils").unixTimeMs();yield d("WAWebProcessMsgInfoForLid").maybeProcesMsgInfoForLid({msgInfo:A,msgMeta:z});if(d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()){var b=[];if(A.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.GROUP){a=d("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:d("WAWebWidFactory").asUserWidOrThrow(A.author),username:A.participantUsername});a&&b.push(a)}else if(A.type===d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST)A.bclParticipants.forEach(function(a){var c;c=d("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:d("WAWebWidFactory").asUserWidOrThrow((c=a.peerRecipientLid)!=null?c:a.wid),username:a.peerRecipientUsername});c&&b.push(c)});else{a=d("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:d("WAWebWidFactory").asUserWidOrThrow(A.author),username:A.username,usernameCountryCode:A.senderCountryCode});a&&b.push(a);var c;A.peerRecipientLid?c=d("WAWebWidFactory").asUserWidOrThrow(A.peerRecipientLid):A.chat.isLid()&&(c=d("WAWebWidFactory").asUserWidOrThrow(A.chat));a=d("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:c,username:A.peerRecipientUsername});a&&b.push(a)}b.length>0&&(yield d("WAWebSetUsernameJob").setUsernamesJob(b))}a=d("WAWebMsgProcessingApiUtils").messageInfoToKey(A);if(z.isUnavailable){d("WAWebDBReportingTokenUtils").maybeStoreReportingTag({msgKey:a,stanzaId:A.externalId,msgTs:A.ts,incomingMsgReportingTokenInfo:y.reportingTokenInfo});d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["handleMessage: msgId::",", get fanout placeholder"])),A.externalId).tags("messaging");var e=d("WAWebHandleMsgTypes.flow").PlaceholderType.FANOUT;B!=null?(d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["setting fanout placeholder type to bot fanout future proofing"]))),e=d("WAWebHandleMsgTypes.flow").PlaceholderType.BOT_UNAVAILABLE_FANOUT):z.isHostedMsgUnavailable===!0?(d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["setting fanout placeholder type to hosted fanout"]))),e=d("WAWebHandleMsgTypes.flow").PlaceholderType.HOSTED_UNAVAILABLE_FANOUT):z.isViewOnceUnavailable===!0&&(d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["setting fanout placeholder type to view once"]))),e=d("WAWebHandleMsgTypes.flow").PlaceholderType.VIEW_ONCE_UNAVAILABLE_FANOUT);yield d("WAWebHandleMsgProcess").processPlaceholderMsg({type:d("WAWebMsgType").MSG_TYPE.CIPHERTEXT,msgMeta:z,msgInfo:A,placeholderType:e});d("WAWebHandleMsgSendReceipt").sendReceipt(A,z,{result:d("WAWebHandleMsgTypes.flow").E2EProcessResult.BACKFILL});return null}e=(yield d("WAWebMsgProcessingDecryptApi").decryptE2EPayload(y,d("WAWebHandleMsgProcess").processDecryptedMessageProto));A.offline!=null&&d("WAWebOfflineHandler").OfflineMessageHandler.processMessageDecryptResult(e.result);e.result!==d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS&&d("WAWebDBReportingTokenUtils").maybeStoreReportingTag({msgKey:a,stanzaId:A.externalId,msgTs:A.ts,incomingMsgReportingTokenInfo:y.reportingTokenInfo});e.result===d("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR&&v(y)?void d("WAWebGetMessageCache").getMessageCache().addMessages([{duplicateMsgReceiptInfo:{externalId:A.externalId,from:d("WAWebMsgProcessingApiUtils").getFrom(A),author:A.author,msgInfo:A,msgMeta:z,enc:e.failedEnc||C[0],hasHideFailEnc:C.some(function(a){return a.hideFail}),msgReceivedTimes:D}}],A.offline==null):A.offline==null||A.category===d("WAWebHandleMsgCommon").CATEGORY_PEER||z.type===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.medianotify||e.result!==d("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS&&e.result!==d("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR?void d("WAWebHandleMsgSendReceipt").sendReceipt(A,z,e):void d("WAWebGetMessageCache").getMessageCache().addMessages([{receiptInfo:{externalId:A.externalId,from:d("WAWebMsgProcessingApiUtils").getFrom(A),author:A.author}}],!1);return null});function c(){return a.apply(this,arguments)}return c}()})});return u.apply(this,arguments)}function v(a){var b=a.msgMeta;a=a.encs;a=a.some(function(a){return a.hideFail});return a?d("WAWebHandleMsgMetaUtils").isReactionMsgMeta(b)||d("WAWebHandleMsgMetaUtils").isPollVoteMsgMeta(b):b.type===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.text||b.type===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.media||b.type===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.medianotify||b.type===d("WAWebHandleMsgCommon").STANZA_MSG_TYPES.poll}g["default"]=t}),98);
__d("WAWebHandleMsgReceiptParser",["WADeprecatedWapParser","WALogger","WAWebAck","WAWebHandleMsgTypes.flow","WAWebJidToWid","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){var h,i={delivery:(a=d("WAWebAck")).ACK.RECEIVED,read:a.ACK.READ,played:a.ACK.PLAYED,inactive:a.ACK.INACTIVE,"server-error":a.ACK.CONTENT_GONE,sender:a.ACK.RECEIVED,"read-self":a.ACK.READ,"played-self":a.ACK.PLAYED,peer_msg:a.ACK.PEER};b=new(c("WADeprecatedWapParser"))("incomingMsgReceiptParser",function(a){a.assertTag("receipt");a.hasAttr("to")&&a.assertAttr("to",d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());var b=a.hasAttr("type")?a.attrEnumOrNullIfUnknown("type",i):d("WAWebAck").ACK.RECEIVED,c={stanzaId:a.attrString("id"),from:d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")),offline:a.hasAttr("offline")?a.attrString("offline"):null};b=babelHelpers["extends"]({},c,{ack:b!=null?b:d("WAWebAck").ACK.RECEIVED,ackString:a.hasAttr("type")?a.attrString("type"):null});var e=a.maybeChild("error");e!=null&&(e.hasAttr("reason")&&e.attrString("reason")==="lid"&&e.attrString("type")==="feature-incapable"&&(b.ack=d("WAWebAck").ACK.SENT));e=a.maybeChild("participants");if(e==null)return l(b,a);a=e.hasAttr("message_id");return a?k(c,e):j(b,e)});function j(a,b){var c=b.mapChildrenWithTag("user",function(a){try{var b=d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("jid"));a=a.attrTime("t");return{participant:b,ts:a}}catch(a){return null}});c=c.filter(Boolean);return babelHelpers["extends"]({},a,{type:"aggregated_by_type",externalId:b.attrString("key"),receipts:c})}function k(a,b){var c=[];b.forEachChildWithTag("user",function(a){try{var b=d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("jid")),e=a.attrTime("t"),f=a.hasAttr("type")?a.attrString("type"):null;a=a.attrEnumOrDefault("type",i,d("WAWebAck").ACK.RECEIVED);c.push({participant:b,ack:a,ackString:f,ts:e})}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["parseAggregateByMessageReceipt: failed: ",""])),a).sendLogs("failed-to-parse-aggregeated-by-message-receipt",{sampling:.001})}});return babelHelpers["extends"]({},a,{type:"aggregated_by_message",externalId:b.attrString("message_id"),receipts:c})}function l(a,b){var c=b.hasAttr("participant")?d("WAWebJidToWid").deviceJidToDeviceWid(b.attrDeviceJid("participant")):null,e=b.hasAttr("recipient")?d("WAWebJidToWid").userJidToUserWid(b.attrUserJid("recipient")):null,f=b.maybeAttrString("type")==="view",g;b.hasChild("list")?g=b.child("list").mapChildrenWithTag("item",function(a){return f?a.attrString("server_id"):a.attrString("id")}):g=[];var h;if(b.hasChild("biz")){var i=b.child("biz"),j=d("WAWebHandleMsgTypes.flow").ActualActorsEnumType.cast(i.maybeAttrInt("actual_actors")),k=d("WAWebHandleMsgTypes.flow").HostStorageEnumType.cast(i.maybeAttrInt("host_storage"));i=i.maybeAttrInt("privacy_mode_ts");j!=null&&k!=null&&i!=null&&(h={actualActors:j,hostStorage:k,privacyModeTs:i})}f||g.push(a.stanzaId);j=!1;c!=null&&c.isBot()&&b.hasAttr("is_lid")&&(j=b.attrString("is_lid")==="true");return babelHelpers["extends"]({},a,{type:"simple",externalIds:g,participant:c,recipient:e,ts:b.attrTime("t"),biz:h,isLidBot:j})}g.RECEIPT_TYPES_TO_ACK=i;g.msgReceiptParser=b}),98);
__d("WAWebCreateReceiptStanzaReceiveMetric",["WAWebAck","WAWebHandleMsgReceiptParser","WAWebReceiptStanzaReceiveWamEvent","WAWebWamEnumMessageType","WAWebWamEnumReceiptStanzaStage","WAWebWid"],(function(a,b,c,d,e,f,g){function a(){var a=new(d("WAWebReceiptStanzaReceiveWamEvent").ReceiptStanzaReceiveWamEvent)({receiptStanzaStage:d("WAWebWamEnumReceiptStanzaStage").RECEIPT_STANZA_STAGE.OVERALL,receiptStanzaTotalCount:1});return function(b){var c=b.ackString,e=b.from,f=b.offline;b=b.receipts;a.messageType=h(e);if(f!=null){e=parseInt(f,10);Number.isNaN(e)||(a.receiptStanzaOfflineCount=e)}c==null?a.receiptStanzaType=d("WAWebAck").ACK_STRING.DELIVERY:d("WAWebHandleMsgReceiptParser").RECEIPT_TYPES_TO_ACK[c]!=null&&(a.receiptStanzaType=c);(b==null?void 0:b.length)!=null&&(a.receiptStanzaTotalCount=b.length);a.markReceiptStanzaDuration();a.commit()}}function h(a){if(c("WAWebWid").isStatus(a))return d("WAWebWamEnumMessageType").MESSAGE_TYPE.STATUS;else if(c("WAWebWid").isGroup(a))return d("WAWebWamEnumMessageType").MESSAGE_TYPE.GROUP;else if(c("WAWebWid").isBroadcast(a))return d("WAWebWamEnumMessageType").MESSAGE_TYPE.BROADCAST;else if(c("WAWebWid").isNewsletter(a))return d("WAWebWamEnumMessageType").MESSAGE_TYPE.CHANNEL;return d("WAWebWamEnumMessageType").MESSAGE_TYPE.INDIVIDUAL}g.createReceiptStanzaReceiveMetric=a}),98);
__d("WAWebHandleAckPeerSimpleReceipt",["WAWebApiPeerMessageStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebApiPeerMessageStore").deletePeerMessage(a.stanzaId)});return h.apply(this,arguments)}g.handleAckPeerSimpleReceipt=a}),98);
__d("WAWebHandleBotInvokeMsgReceipt",["WALogger","WAWebAck","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.ack,e=a.from,f=a.externalIds,g=a.ts,i=a.ackString,j=a.recipient;a=a.offline;a=a!=null&&!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();if(i!==d("WAWebAck").ACK_STRING.READ||j==null||!e.isBot())throw c("err")("handleBotOneToOneInvokeSimpleReadReceipt: unexpected receipt");i=f.map(function(a){return new(c("WAWebMsgKey"))({id:a,remote:j,fromMe:!0})});f=i.map(function(a){return a.toString()});d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[unify][batcher] adding receipt ",""])),f.join(","));i=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:b,ts:g,receiverId:e,msgKeys:f,isBotInvoke:!0});a||(yield d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("receiptBatcherRunActiveBatches",function(){return d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches()}).waitUntilCompleted());return i});return i.apply(this,arguments)}g.handleBotOneToOneInvokeSimpleReadReceipt=a}),98);
__d("WAWebHandleMsgReceiptUtils",["WAWebAck"],(function(a,b,c,d,e,f,g){function a(a){return a===d("WAWebAck").ACK_STRING.READ||a===d("WAWebAck").ACK_STRING.READ_SELF||a===d("WAWebAck").ACK_STRING.PLAYED||a===d("WAWebAck").ACK_STRING.PLAYED_SELF}function b(a){return a.receipts.map(function(b){return{type:"simple",stanzaId:a.externalId,externalIds:[a.externalId],from:a.from,participant:b.participant,recipient:null,ts:b.ts,ack:a.ack,ackString:a.ackString,offline:a.offline,biz:null,isLidBot:!1}})}function c(a){return a.receipts.map(function(b){return{type:"simple",stanzaId:a.externalId,externalIds:[a.externalId],from:a.from,participant:b.participant,recipient:null,ts:b.ts,ack:b.ack,ackString:b.ackString,offline:a.offline,biz:null,isLidBot:!1}})}g.isReadOrPlayedReceipt=a;g.deaggregateGroupedByTypeReceipt=b;g.deaggregateGroupedByMessageReceipt=c}),98);
__d("WAWebHandleDirectChatReceipt",["Promise","WAJids","WALogger","WAWebAck","WAWebHandleMsgReceiptCommon","WAWebHandleMsgReceiptUtils","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebSimpleSignalPNToFBIDMigration","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.from,f=a.externalIds,g=a.ts,n=a.recipient,o=a.ackString,p=a.offline,q=a.biz;a=a.ack;var r=o===d("WAWebAck").ACK_STRING.SENDER,s=!r&&d("WAWebUserPrefsMeUser").isMeAccount(e),t;if(s||r){if(!n){!c("gkx")("26258")?d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"]))).sendLogs("handleChatSimpleReceipt: failed"):d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"])));throw c("err")("handleChatSimpleReceipt: invalid sender/peer receipt without recipient")}t=n}else{var u;t=d("WAWebWidFactory").asUserWidOrThrow(e);u=((u=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS))==null?void 0:u.readReceipts)==="none";u&&(a===d("WAWebAck").ACK.READ||a===d("WAWebAck").ACK.PLAYED)&&(a=d("WAWebAck").ACK.RECEIVED)}u=d("WAWebSimpleSignalPNToFBIDMigration").getDeprecatedPnChatForFbidThread(t);u!=null&&(d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleChatSimpleReceipt: forwarding "," to ",""])),t.toLogString(),u.toLogString()),t=d("WAWebWidFactory").asUserWidOrThrow(u));var v;t!=null&&c("WAWebWid").isWid(t)&&t===d("WAWebWidFactory").createWid(d("WAJids").PSA_JID)&&(v=d("WAWebWidFactory").createWid(d("WAJids").PSA_JID));u=f.map(function(a){return new(c("WAWebMsgKey"))({id:a,remote:t,fromMe:!s,participant:v})});s&&a===d("WAWebAck").ACK.PLAYED&&d("WAWebHandleMsgReceiptCommon").handleViewOnceOpenedIfNecessary(u);u=u.map(function(a){return a.toString()});p!=null&&d("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete();p=p!=null&&!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();var w=(m||(m=b("Promise"))).resolve();!s?(d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[unify][batcher] adding receipt ",""])),u.join(",")),w=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:a,ts:g,receiverId:e,msgKeys:u,privacyMode:q,isSender:r})):n!=null&&d("WAWebHandleMsgReceiptUtils").isReadOrPlayedReceipt(o)&&f.length>0&&(d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[unify][batcher] adding peer receipt ",""])),u.join(",")),w=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({ack:a,ts:g,msgKeys:u,isOffline:p,remote:t}));p||d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches();return w});return n.apply(this,arguments)}g.handleChatSimpleReceipt=a}),98);
__d("WAWebHandleGroupChatReceipt",["WALogger","WAWebAck","WAWebHandleMsgReceiptCommon","WAWebHandleMsgReceiptUtils","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebOrchestratorNonPersistedJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l;function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.ack,e=a.from,f=a.externalIds,g=a.ts,m=a.ackString,n=a.participant,o=a.recipient,p=a.offline;a=a.isLidBot;if(!n){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error: got group ack without participant."]))).sendLogs("handleGroupSimpleReceipt: failed");throw c("err")("handleGroupSimpleReceipt: got group ack without participant.")}var q=d("WAWebWidFactory").asUserWidOrThrow(n),r=m===d("WAWebAck").ACK_STRING.SENDER,s=!r&&d("WAWebUserPrefsMeUser").isMeAccount(q),t;if(s){if(!o){!c("gkx")("26258")?d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"]))).sendLogs("handleGroupSimpleReceipt: failed"):d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"])));throw c("err")("handleGroupSimpleReceipt: invalid sender/peer receipt without recipient")}t=o}else t=q.isLid()||a?d("WAWebUserPrefsMeUser").getMeLidUserOrThrow():d("WAWebUserPrefsMeUser").getMePnUserOrThrow();r=f.map(function(a){return new(c("WAWebMsgKey"))({id:a,remote:e,fromMe:!s,participant:t})});s&&b===d("WAWebAck").ACK.PLAYED&&void d("WAWebHandleMsgReceiptCommon").handleViewOnceOpenedIfNecessary(r);q=r.map(function(a){return a.toString()});p!=null&&d("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete();a=p!=null&&!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();var u;!s?(d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[unify][batcher] adding receipt ",""])),q.join(",")),u=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:b,ts:g,receiverId:n,msgKeys:q})):o!=null&&d("WAWebHandleMsgReceiptUtils").isReadOrPlayedReceipt(m)&&f.length>0&&(d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[unify][batcher] adding peer receipt ",""])),q.join(",")),u=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({isOffline:a,ack:b,ts:g,msgKeys:q,remote:e}));a||(yield d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("receiptBatcherRunActiveBatches",function(){return d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches()}).waitUntilCompleted());return u});return m.apply(this,arguments)}g.handleGroupSimpleReceipt=a}),98);
__d("WAWebHandleNewsletterReceipt",["WAAckLevel","WALogger","WAWebAck","WAWebHandleMsgReceiptCommon","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.ack,e=a.from,f=a.externalIds,g=a.ts,l=a.ackString,m=a.participant,n=a.offline,o=a.stanzaId;o="[receipt][newsletter]["+o+"]";d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose([""," handling newsletter receipt"])),o).devConsole(a);if(l==="view")return d("WAWebHandleMsgReceiptCommon").updateMsgViewed(f.map(function(a){return parseInt(a,10)}),e);if(b!==d("WAAckLevel").ACK.READ&&b!==d("WAAckLevel").ACK.PLAYED){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose([""," ACK should be READ or PLAYED, "," received instead"])),o,b);throw c("err")("handleNewsletterSimpleReceipt: only READ/PLAYED ack for newsletters")}a=(l===d("WAWebAck").ACK_STRING.READ_SELF||l===d("WAWebAck").ACK_STRING.PLAYED_SELF)&&m!=null&&d("WAWebWidFactory").asUserWidOrThrow(m).equals(d("WAWebUserPrefsMeUser").getMePnUserOrThrow());if(!a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose([""," only peer receipts are accepted"])),o).devConsole(m);throw c("err")("handleNewsletterSimpleReceipt: only peer receipts for newsletters")}l=f.map(function(a){return new(c("WAWebMsgKey"))({id:a,remote:e,fromMe:!1})});a=l.map(function(a){return a.toString()});n!=null&&d("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete();m=n!=null&&!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();f=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({isOffline:m,ack:b,ts:g,remote:e,msgKeys:a});m||(d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["","  online, updating the UI"])),o),yield d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches());return f});return l.apply(this,arguments)}g.handleNewsletterSimpleReceipt=a}),98);
__d("WAWebHandleStatusReceipt",["Promise","WAJids","WALogger","WAWebAck","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=a.externalIds,g=a.ts,l=a.ackString,m=a.ack,n=a.participant,o=a.recipient;a=a.offline;f=f[0];if(!n){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error: got status ack without participant"]))).sendLogs("handleStatusSimpleReceipt: failed");return}var p=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();n=d("WAWebWidFactory").asUserWidOrThrow(n);var q=d("WAWebUserPrefsMeUser").isMeAccount(n);e=((e=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS))==null?void 0:e.readReceipts)==="none";if(!q&&(e||l!==d("WAWebAck").ACK_STRING.READ))return;e=d("WAWebWidFactory").createWid(d("WAJids").STATUS_JID);l=new(c("WAWebMsgKey"))({id:f,remote:e,fromMe:!q,participant:o!=null?o:p});f=[l.toString()];o=a!=null&&!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();p=(k||(k=b("Promise"))).resolve();q?(d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[unify][batcher] adding (",") status peer receipt ",""])),o?"offline":"online",f.join(",")),p=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({ts:g,msgKeys:f,ack:m,isOffline:o,remote:e})):(d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[unify][batcher] adding (",") receipt ",""])),o?"offline":"online",f.join(",")),p=d("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:m,ts:g,receiverId:n,msgKeys:f}));o||d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches();return p});return l.apply(this,arguments)}g.handleStatusSimpleReceipt=a}),98);
__d("WAWebReceiptAck",["WAWap","WAWebCommsWapMd"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){return d("WAWap").wap("ack",{to:d("WAWebCommsWapMd").JID(a),id:d("WAWap").CUSTOM_STRING(b),"class":"receipt",type:d("WAWap").MAYBE_CUSTOM_STRING(c),participant:e&&e!==a?d("WAWebCommsWapMd").DEVICE_JID(e):d("WAWap").DROP_ATTR})}g.buildReceiptAck=a}),98);
__d("WAWebHandleMsgReceipt",["Promise","WALogger","WAWebAck","WAWebCreateReceiptStanzaReceiveMetric","WAWebHandleAckPeerSimpleReceipt","WAWebHandleBotInvokeMsgReceipt","WAWebHandleDirectChatReceipt","WAWebHandleGroupChatReceipt","WAWebHandleMsgReceiptParser","WAWebHandleMsgReceiptUtils","WAWebHandleNewsletterReceipt","WAWebHandleStatusReceipt","WAWebNewsletterGatingUtils","WAWebReceiptAck","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;function a(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebCreateReceiptStanzaReceiveMetric").createReceiptStanzaReceiveMetric(),e=d("WAWebHandleMsgReceiptParser").msgReceiptParser.parse(a);if(e.error){d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),e.error.toString());throw e.error}a=e.success;e=a.ack;var f=a.ackString,g=a.from,h=a.stanzaId,i=a.offline,j;if(a.type==="simple")if(e===d("WAWebAck").ACK.CONTENT_GONE)j=d("WAWebReceiptAck").buildReceiptAck(g,h,f,null);else{try{d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(['handleSimpleReceipt: receipt "','" for msg: ',""])),e,c("gkx")("26258")?"...":h),yield u(a)}catch(a){d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(['handleSimpleReceipt: receipt "','" for msg: '," failed: ",""])),e,c("gkx")("26258")?"...":h,c("gkx")("26258")?"...":a).tags("messaging")}j=d("WAWebReceiptAck").buildReceiptAck(g,h,f,a.participant)}else if(a.type==="aggregated_by_type"){try{d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateReceipt: ",' receipt(s) "','" for msg: ',""])),a.receipts.length,e,c("gkx")("26258")?"...":a.externalId),yield v(a)}catch(a){}j=d("WAWebReceiptAck").buildReceiptAck(g,h,f,null)}else if(a.type==="aggregated_by_message"){try{d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateByMessageReceipt: "," receipt(s) for msg: ",""])),a.receipts.length,c("gkx")("26258")?"...":a.externalId),yield w(a)}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateByMessageReceipt: failed: ",""])),a).sendLogs("handle-aggregate-by-message-receipt-failed",{sampling:.001})}j=d("WAWebReceiptAck").buildReceiptAck(g,h,f,null)}else a.type;i==null&&b(a);return j});return t.apply(this,arguments)}function u(a){var e=a.from,f=a.ack,g=a.recipient,j=a.ackString;if(f===d("WAWebAck").ACK.PEER)return d("WAWebHandleAckPeerSimpleReceipt").handleAckPeerSimpleReceipt(a);if(e.isNewsletter())return!d("WAWebNewsletterGatingUtils").isNewsletterEnabled()?(s||(s=b("Promise"))).resolve():d("WAWebHandleNewsletterReceipt").handleNewsletterSimpleReceipt(a);else if(e.isBot()&&g!=null&&j===d("WAWebAck").ACK_STRING.READ)return d("WAWebHandleBotInvokeMsgReceipt").handleBotOneToOneInvokeSimpleReadReceipt(a);else if(e.isStatus())return d("WAWebHandleStatusReceipt").handleStatusSimpleReceipt(a);else if(e.isUser())return d("WAWebHandleDirectChatReceipt").handleChatSimpleReceipt(a);else if(e.isGroup())return d("WAWebHandleGroupChatReceipt").handleGroupSimpleReceipt(a);else if(e.isBroadcast()){if(!a.participant){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error: missing participant for broadcast receipt ",""])),e.toString()).sendLogs("handleSimpleReceipt: failed");return(s||(s=b("Promise"))).reject(c("err")("handleSimpleReceipt: missing participant for broadcast receipt "+e.toString()))}f=babelHelpers["extends"]({},a,{from:a.participant,participant:null});return d("WAWebHandleDirectChatReceipt").handleChatSimpleReceipt(f)}d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["error: unsupported type for ",""])),e.toString()).sendLogs("handleSimpleReceipt: failed");return(s||(s=b("Promise"))).reject(c("err")("handleSimpleReceipt: unsupported type for "+e.toString()))}function v(a){var e=a.ack,f=a.from;if(e===d("WAWebAck").ACK.CONTENT_GONE){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["error: reupload receipts cannot be aggregated"]))).sendLogs("handleAggregateReceipt: failed");return(s||(s=b("Promise"))).reject(c("err")("handleAggregateReceipt: failed"))}if(!f.isGroup()&&!f.isBroadcast()){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateReceipt: aggregate receipts should come only from group, broadcast"]))).sendLogs("handleAggregateReceipt: failed");return(s||(s=b("Promise"))).reject(c("err")("handleAggregateReceipt: failed"))}return(s||(s=b("Promise"))).all(d("WAWebHandleMsgReceiptUtils").deaggregateGroupedByTypeReceipt(a).map(u))}function w(a){return(s||(s=b("Promise"))).all(d("WAWebHandleMsgReceiptUtils").deaggregateGroupedByMessageReceipt(a).map(u))}g["default"]=a}),98);
__d("WAWebCommsHandleMessagingStanza",["WAParsableWapNode","WAWebCommsHandleStanzaUtils","WAWebCreateNackFromStanza","WAWebHandleMsg","WAWebHandleMsgReceipt","WAWebPostUnknownStanzaMetric","WAWebWid"],(function(a,b,c,d,e,f,g){function a(a){var b=a.attrs;switch(a.tag){case"message":var e=a.attrs.from;if(!c("WAWebWid").isNewsletter(e==null?void 0:e.toString()))return c("WAWebHandleMsg")(a)["catch"](function(b){return d("WAWebCommsHandleStanzaUtils").handleMessageParsingFailure(a,b)});break;case"receipt":try{if(!d("WAWebCommsHandleStanzaUtils").isCallReceipt(a)&&b.type!=="retry")return c("WAWebHandleMsgReceipt")(a)}catch(b){if(b instanceof d("WAParsableWapNode").XmppParsingFailure){d("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(a);return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.ParsingError)}return d("WAWebCreateNackFromStanza").createNackFromStanza(a,d("WAWebCreateNackFromStanza").NackReason.UnhandledError)}}}g.handleMessagingStanza=a}),98);
__d("WAWebDirtyBitsConsts",[],(function(a,b,c,d,e,f){a={groups:"groups",account_sync:"account_sync",syncd_app_state:"syncd_app_state",newsletter_metadata:"newsletter_metadata"};b={devices:"devices",picture:"picture",privacy:"privacy",blocklist:"blocklist",notice:"notice"};f.SUPPORTED_DIRTY_TYPE=a;f.SUPPORTED_DIRTY_PROTOCOLS=b}),66);
__d("WAWebHandleInfoBulletinTypes.flow",[],(function(a,b,c,d,e,f){a=Object.freeze({DIRTY:"dirty",ROUTING:"edge_routing",OFFLINE:"offline",OFFLINE_PREVIEW:"offline_preview",TOS:"tos",THREAD_META:"thread_metadata",CLIENT_EXPIRATION:"client_expiration",OFFLINE_PRIORITY_COMPLETE:"priority_offline_complete"});f.INFO_TYPE=a}),66);
__d("WAWebMdAppStateOfflineNotificationsWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({MdAppStateOfflineNotifications:[2602,{redundantCount:[1,d("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,20,1e3],"regular"]},{MdAppStateOfflineNotifications:[]});g.MdAppStateOfflineNotificationsWamEvent=a}),98);
__d("WAWebHandleReportServerSyncNotification",["WAWebMdAppStateOfflineNotificationsWamEvent"],(function(a,b,c,d,e,f,g){var h=new Map();function a(){if(h.size<1)return;var a=0;Array.from(h.entries()).forEach(function(b){b=b[1];a+=b-1});new(d("WAWebMdAppStateOfflineNotificationsWamEvent").MdAppStateOfflineNotificationsWamEvent)({redundantCount:a}).commit();h.clear()}g.offlineNotificationsCount=h;g.reportOfflineNotifications=a}),98);
__d("WAWebHandleRoutingInfo",["WAHex","WALogger","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i={fb:"fb",sl:"sl"};function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.domain;if(!b){var c=(yield d("WAWebUserPrefsMultiDevice").getRoutingInfo());b=c?c.domain:i.fb}c=d("WAHex").bytesToBuffer(a.edgeRouting);yield d("WAWebUserPrefsMultiDevice").setRoutingInfo({domain:b,edgeRouting:c});d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["handleInfoBulletin setting and domain: "," and edgeRouting:"])),b).devConsole(c)});return j.apply(this,arguments)}g.DOMAINS=i;g.handleRoutingInfo=a}),98);
__d("WAWebUpdaterHardExpireTime",[],(function(a,b,c,d,e,f){var g;a=document.getElementById("hard_expire_time");b=parseInt(a==null||(g=a.dataset)==null?void 0:g.time,10);Number.isNaN(b)&&(b=1572566400);c=b;f["default"]=c}),66);
__d("WAWebHandleServerClientExpiration",["WATimeUtils","WAWebBuildConstants","WAWebCmd","WAWebUpdaterHardExpireTime","WAWebUserPrefsMultiDevice"],(function(a,b,c,d,e,f,g){function a(a){var b=parseInt(c("WAWebUpdaterHardExpireTime"),10);if(a==null)d("WAWebUserPrefsMultiDevice").clearServerClientExpirationOverride();else{var e;e=(e=d("WAWebUserPrefsMultiDevice").getServerClientExpirationOverride())==null?void 0:e.timestamp;if(e!=null&&a>=e||a>=b)return;e=d("WATimeUtils").futureUnixTime(3*d("WATimeUtils").DAY_SECONDS);e=Math.max(e,Math.min(a,b));d("WAWebUserPrefsMultiDevice").setServerClientExpirationOverride(""+e,d("WAWebBuildConstants").VERSION_BASE);d("WAWebCmd").Cmd.serverUpdatedClientExpiration()}}g.handleServerClientExpiration=a}),98);
__d("WAWebParseThreadMetadata",["WAWebHandleInfoBulletinTypes.flow"],(function(a,b,c,d,e,f,g){function a(a){a=a.child(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.THREAD_META);var b={};a.forEachChildWithTag("item",function(a){var c=a.attrChatJid("from");a=a.attrTime("t");b[String(c)]=a});return{chatTimestamp:b}}g.parseThreadMetadata=a}),98);
__d("WAWebHandleInfoBulletin",["WADeprecatedWapParser","WALogger","WASmaxClientExpirationClientExpirationRPC","WATimeUtils","WAWebDirtyBitsConsts","WAWebHandleInfoBulletinTypes.flow","WAWebHandleReportServerSyncNotification","WAWebHandleRoutingInfo","WAWebHandleServerClientExpiration","WAWebMessageDedupUtils","WAWebOfflineHandler","WAWebParseThreadMetadata","WAWebThreadMetadata","WAWebTos","asyncToGeneratorRuntime","cr:1175"],(function(a,b,c,d,e,f,g){var h,i,j,k;f=(e=b("cr:1175"))!=null?e:{};var l=f.handleDirtyBits,m=new(c("WADeprecatedWapParser"))("infoBulletinParser",function(a){a.assertTag("ib");a.assertFromServer();if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.DIRTY)){var b=[],c=[],e=[];a.forEachChildWithTag(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.DIRTY,function(a){var f={type:a.attrString("type"),timestamp:a.attrInt("timestamp")};if(f.type==="account_sync"){a=a.mapChildren(function(a){return a.tag()});a.forEach(function(a){Object.prototype.hasOwnProperty.call(d("WAWebDirtyBitsConsts").SUPPORTED_DIRTY_PROTOCOLS,a)&&e.push(a)});c.push(f)}else Object.prototype.hasOwnProperty.call(d("WAWebDirtyBitsConsts").SUPPORTED_DIRTY_TYPE,f.type)?c.push(f):b.push(f)});return{type:d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.DIRTY,supported:c,unsupported:b,protocols:e}}else if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.ROUTING)){var f=a.child(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.ROUTING);return{type:d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.ROUTING,edgeRouting:f.child("routing_info").contentBytes(),domain:f.hasChild("dns_domain")?f.child("dns_domain").contentEnum(d("WAWebHandleRoutingInfo").DOMAINS):null}}else if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE))return{count:a.child(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE).attrInt("count"),type:d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE};else if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE_PRIORITY_COMPLETE))return{type:d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE_PRIORITY_COMPLETE};else if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE_PREVIEW)){return{count:{count:a.child((f=d("WAWebHandleInfoBulletinTypes.flow")).INFO_TYPE.OFFLINE_PREVIEW).attrInt("count"),message:a.child(f.INFO_TYPE.OFFLINE_PREVIEW).attrInt("message"),receipt:a.child(f.INFO_TYPE.OFFLINE_PREVIEW).attrInt("receipt"),notification:a.child(f.INFO_TYPE.OFFLINE_PREVIEW).attrInt("notification"),call:a.child(f.INFO_TYPE.OFFLINE_PREVIEW).attrInt("call")},type:f.INFO_TYPE.OFFLINE_PREVIEW}}else if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.TOS)){var g=[];a.child("tos").forEachChildWithTag("notice",function(a){g.push(a.attrString("id"))});return{type:d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.TOS,noticeIds:g}}else if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.THREAD_META))return{type:d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.THREAD_META,threadMeta:d("WAWebParseThreadMetadata").parseThreadMetadata(a)};else if(a.hasChild(d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.CLIENT_EXPIRATION)){f=d("WASmaxClientExpirationClientExpirationRPC").receiveClientExpirationRPC(a.getNode());a=f.parsedRequest.clientExpirationT;f=a!=null?d("WATimeUtils").castToUnixTime(a):null;return{type:d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.CLIENT_EXPIRATION,newClientExpirationTime:f}}return null});function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=m.parse(a);if(b.error){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["error while parsing: ",""])),a.toString());d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),b.error.toString());throw b.error}a=b.success;if(!a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["handleInfoBulletin unrecognized info bulletin"])));return}switch(a.type){case d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.DIRTY:if(!l){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["handleInfoBulletin dirty bits not supported"])));return}yield l(a);return"NO_ACK";case d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.ROUTING:yield d("WAWebHandleRoutingInfo").handleRoutingInfo(a);return"NO_ACK";case d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE:d("WAWebOfflineHandler").OfflineMessageHandler.processOfflineIb(a.count);d("WAWebHandleReportServerSyncNotification").reportOfflineNotifications();d("WAWebMessageDedupUtils").maybeClearPendingMessages(a.count);return"NO_ACK";case d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.OFFLINE_PREVIEW:yield d("WAWebOfflineHandler").OfflineMessageHandler.processOfflinePreviewIb(a.count);return"NO_ACK";case d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.TOS:d("WAWebTos").TosManager.maybeUpdateServer(a.noticeIds);return"NO_ACK";case d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.THREAD_META:d("WAWebThreadMetadata").setOfflineThreadMeta(a.threadMeta);return"NO_ACK";case d("WAWebHandleInfoBulletinTypes.flow").INFO_TYPE.CLIENT_EXPIRATION:d("WAWebHandleServerClientExpiration").handleServerClientExpiration(a.newClientExpirationTime);return"NO_ACK";default:return}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebRetryRequestParser",["WADeprecatedWapParser","WAWebJidToWid","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){a=new(c("WADeprecatedWapParser"))("retryRequestParser",function(a){a.assertTag("receipt");var b=a.attrString("type");if(b!=="retry"&&b!=="enc_rekey_retry")throw a.createParseError('to have type "retry" or "enc_rekey_retry", got "'+b+'"');a.hasAttr("to")&&a.assertAttr("to",d("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());var c=d("WAWebJidToWid").jidWithTypeToWid(a.attrJidWithType("from")),e=a.hasAttr("participant")?d("WAWebJidToWid").deviceJidToDeviceWid(a.attrDeviceJid("participant")):null,f=!1;e!=null&&e.isBot()&&a.hasAttr("is_lid")&&(f=a.attrString("is_lid")==="true");var g=a.hasAttr("recipient")?d("WAWebJidToWid").deviceJidToUserWid(a.attrDeviceJid("recipient")):null,h=a.child("retry"),i=a.maybeChild("keys"),j=null;if(i!=null){var k,l=i.child("skey");k={identity:i.child("identity").contentBytes(32),deviceIdentity:(k=i.maybeChild("device-identity"))==null?void 0:k.contentBytes(),skey:{id:l.child("id").contentUint(3),pubkey:l.child("value").contentBytes(32),signature:l.child("signature").contentBytes(64)}};if(c.isFbidBot()||c.isGroup()&&e!=null&&e.isFbidBot()){l=null;var m=i.maybeChild("key");m!=null&&(l={id:m.child("id").contentUint(3),pubkey:m.child("value").contentBytes(32)});j=babelHelpers["extends"]({type:"bot_retry"},k,{key:l})}else{m=i.child("key");j=babelHelpers["extends"]({type:"regular_retry"},k,{key:{id:m.child("id").contentUint(3),pubkey:m.child("value").contentBytes(32)}})}}return{stanzaId:a.attrString("id"),originalMsgId:h.attrString("id"),ts:a.attrTime("t"),retryCount:h.hasAttr("count")?h.attrInt("count"):0,regId:a.child("registration").contentUint(4),offline:a.hasAttr("offline"),from:c,participant:e,isLid:f,recipient:g,keyBundle:j,type:b}});b=a;g["default"]=b}),98);
__d("WAWebUpdateClockSkewUtils",["WATimeUtils","WAWebABProps","WAWebBackendApi","WAWebClockSkewDifferenceTWamEvent"],(function(a,b,c,d,e,f,g){function a(a){var b=Date.now()/1e3;b=Math.round(b-a);a=Math.round(b/d("WATimeUtils").HOUR_SECONDS);a!==0&&d("WAWebABProps").getABPropConfigValue("log_clock_skew")&&new(d("WAWebClockSkewDifferenceTWamEvent").ClockSkewDifferenceTWamEvent)({clockSkewHourly:a*-1}).commit();d("WATimeUtils").setClockSkew(b);d("WAWebBackendApi").frontendFireAndForget("setWebClockSkew",{newClockSkew:b})}g.updateClockSkew=a}),98);
__d("WAWebUpdateMeLidUtils",["WANullthrows","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WAWebUserPrefsMeUser").getMaybeMeDeviceLid(!1);if(b==null&&a==null)return;if(b==null&&a!=null){d("WAWebUserPrefsMeUser").setMeLid(a);return}if(b!=null&&a==null)return;if(c("WANullthrows")(b).equals(a))return;d("WAWebUserPrefsMeUser").setMeLid(c("WANullthrows")(a))}g.updateMeLid=a}),98);
__d("WAWebProgressBar.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={progress:"_ak0k"};b=a;g["default"]=b}),98);
__d("WAWebProgressBar.react",["WAWebClassnames","WAWebProgressBar.scss","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.className,e=a.max;e=e===void 0?100:e;a=a.value;return i.jsx("progress",{value:a,max:e,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebProgressBar.scss").progress,b)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebQRCode.react",["WAWeb-qrcode","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useEffect,m=b.useRef,n=b.useState;function a(a){var b=a.data,d=a.size,e=a.colorDark,f=a.correctLevel,g=a.onChange,h=m(null),j=n(null),o=j[0],p=j[1];l(function(){b==null?o&&o.clear():o?o.makeCode(b):h.current&&p(new(c("WAWeb-qrcode"))(h.current,babelHelpers["extends"]({correctLevel:c("WAWeb-qrcode").CorrectLevel[f!=null?f:"L"],height:d,text:b,width:d},e!=null&&{colorDark:e}))),g==null||g(h.current)},[b,o,d,g,e,f]);return a.children?a.children(h):k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a.xstyle),{ref:h}))}a.displayName=a.name+" [from "+f.id+"]";g.WAWebQRCode=a}),98);/*FB_PKG_DELIM*/
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<8dadbcb071e362fba45e3ee30bbb8713>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("Lexical.prod",[],(function $module_Lexical_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _A,_D;function t(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t2 of e)r.append("v",_t2);throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}function e(t){for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _t3 of e)r.append("v",_t3);n.search=r.toString(),console.warn("Minified Lexical warning #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,r=n&&"documentMode"in document?document.documentMode:null,o=n&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i=n&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),s=!(!n||!("InputEvent"in window)||r)&&"getTargetRanges"in new window.InputEvent("input"),l=n&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=n&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=n&&/Android/.test(navigator.userAgent),u=n&&/^(?=.*Chrome).*/i.test(navigator.userAgent),f=n&&a&&u,d=n&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!u;function h(){var e=[];for(var _len3=arguments.length,t=new Array(_len3),_key3=0;_key3<_len3;_key3++){t[_key3]=arguments[_key3];}for(var _n2 of t)if(_n2&&"string"==typeof _n2)for(var _ref2 of _n2.matchAll(/\S+/g)){var _t4=_ref2[0];e.push(_t4);}return e;}var g=0,_=1,p=2,y=128,m=1,x=2,C=3,S=4,N=5,T=6,v=l||c||d?" ":"​",k="\n\n",E=i?" ":v,b={bold:1,capitalize:1024,code:16,highlight:y,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},O={directionless:1,unmergeable:2},M={center:2,end:6,justify:4,left:1,right:3,start:5},A=(_A={},_A[x]="center",_A[T]="end",_A[S]="justify",_A[m]="left",_A[C]="right",_A[N]="start",_A),w={normal:0,segmented:2,token:1},D=(_D={},_D[g]="normal",_D[p]="segmented",_D[_]="token",_D),P="$config";function I(t,e,n,r,o,i){var s=t.getFirstChild();for(;null!==s;){var _t5=s.__key;s.__parent===e&&($r(s)&&I(s,_t5,n,r,o,i),n.has(_t5)||i["delete"](_t5),o.push(_t5)),s=s.getNextSibling();}}var L=!1,F=0;function R(t){F=t.timeStamp;}function K(t,e,n){var r="BR"===t.nodeName,o=e.__lexicalLineBreak;return o&&(t===o||r&&t.previousSibling===o)||r&&void 0!==Io(t,n);}function B(t,e,n){var r=ki(pi(n));var o=null,i=null;null!==r&&r.anchorNode===t&&(o=r.anchorOffset,i=r.focusOffset);var s=t.nodeValue;null!==s&&Ho(e,s,o,i,!1);}function z(t,e,n){if(Wn(t)){var _e2=t.anchor.getNode();if(_e2.is(n)&&t.format!==_e2.getFormat())return!1;}return To(e)&&n.isAttached();}function $(t,e,n,r){for(var _o2=t;_o2&&!Bi(_o2);_o2=ui(_o2)){var _t6=Io(_o2,e);if(void 0!==_t6){var _e3=Do(_t6,n);if(_e3)return Jr(_e3)||!bi(_o2)?void 0:[_o2,_e3];}else if(_o2===r)return[r,Bo(n)];}}function W(t,e,n){L=!0;var r=performance.now()-F>100;try{Rr(t,function(){var o=or()||function(t){return t.getEditorState().read(function(){var t=or();return null!==t?t.clone():null;});}(t),s=new Map(),l=t.getRootElement(),c=t._editorState,a=t._blockCursorElement;var u=!1,f="";for(var _n3=0;_n3<e.length;_n3++){var _d=e[_n3],_h=_d.type,_g=_d.target,_2=$(_g,t,c,l);if(!_2)continue;var _p=_2[0],_y=_2[1];if("characterData"===_h)r&&Dn(_y)&&To(_g)&&z(o,_g,_y)&&B(_g,_y,t);else if("childList"===_h){u=!0;var _e4=_d.addedNodes;for(var _n4=0;_n4<_e4.length;_n4++){var _r2=_e4[_n4],_o3=Po(_r2),_s2=_r2.parentNode;if(null!=_s2&&_r2!==a&&null===_o3&&!K(_r2,_s2,t)){if(i){var _t7=(bi(_r2)?_r2.innerText:null)||_r2.nodeValue;_t7&&(f+=_t7);}_s2.removeChild(_r2);}}var _n5=_d.removedNodes,_r3=_n5.length;if(_r3>0){var _e5=0;for(var _o4=0;_o4<_r3;_o4++){var _r4=_n5[_o4];(K(_r4,_g,t)||a===_r4)&&(_g.appendChild(_r4),_e5++);}_r3!==_e5&&s.set(_p,_y);}}}if(s.size>0)for(var _ref4 of s){var _e6=_ref4[0];var _n6=_ref4[1];_n6.reconcileObservedMutation(_e6,t);}var d=n.takeRecords();if(d.length>0){for(var _e7=0;_e7<d.length;_e7++){var _n7=d[_e7],_r5=_n7.addedNodes,_o5=_n7.target;for(var _e8=0;_e8<_r5.length;_e8++){var _n8=_r5[_e8],_i2=_n8.parentNode;null==_i2||"BR"!==_n8.nodeName||K(_n8,_o5,t)||_i2.removeChild(_n8);}}n.takeRecords();}null!==o&&(u&&zo(o),i&&si(t)&&o.insertRawText(f));});}finally{L=!1;}}function U(t){var e=t._observer;if(null!==e){W(t,e.takeRecords(),e);}}function J(t){!function(t){0===F&&pi(t).addEventListener("textInput",R,!0);}(t),t._observer=new MutationObserver(function(e,n){W(t,e,n);});}var Y=function Y(t,e){this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||Q).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0);};function j(t,e,n){if(n===void 0){n="latest";}var r=("latest"===n?t.getLatest():t).__state;return r?r.getValue(e):e.defaultValue;}function H(t){var e=new Map(),n=new Set();for(var _r6="function"==typeof t?t:t.replace;_r6.prototype&&void 0!==_r6.prototype.getType;_r6=Object.getPrototypeOf(_r6)){var _Wi=Wi(_r6),_t8=_Wi.ownNodeConfig;if(_t8&&_t8.stateConfigs)for(var _r7 of _t8.stateConfigs){var _t9=void 0;"stateConfig"in _r7?(_t9=_r7.stateConfig,_r7.flat&&n.add(_t9.key)):_t9=_r7,e.set(_t9.key,_t9);}}return{flatKeys:n,sharedConfigMap:e};}var _V=function(){function V(t,e,n,r,o){if(n===void 0){n=void 0;}if(r===void 0){r=new Map();}if(o===void 0){o=void 0;}this.node=t,this.sharedNodeState=e,this.unknownState=n,this.knownState=r;var i=this.sharedNodeState.sharedConfigMap,s=void 0!==o?o:function(t,e,n){var r=n.size;if(e)for(var _o6 in e){var _e9=t.get(_o6);_e9&&n.has(_e9)||r++;}return r;}(i,n,r);this.size=s;}var _proto=V.prototype;_proto.getValue=function getValue(t){var e=this.knownState.get(t);if(void 0!==e)return e;this.sharedNodeState.sharedConfigMap.set(t.key,t);var n=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){var _e0=this.unknownState[t.key];void 0!==_e0&&(n=t.parse(_e0)),this.updateFromKnown(t,n);}return n;};_proto.getInternalState=function getInternalState(){return[this.unknownState,this.knownState];};_proto.toJSON=function toJSON(){var t=babelHelpers["extends"]({},this.unknownState),e={};for(var _ref6 of this.knownState){var _e1=_ref6[0];var _n9=_ref6[1];_e1.isEqual(_n9,_e1.defaultValue)?delete t[_e1.key]:t[_e1.key]=_e1.unparse(_n9);}for(var _n0 of this.sharedNodeState.flatKeys)_n0 in t&&(e[_n0]=t[_n0],delete t[_n0]);return X(t)&&(e.$=t),e;};_proto.getWritable=function getWritable(t){if(this.node===t)return this;var e=this.sharedNodeState,n=this.unknownState,r=new Map(this.knownState);return new V(t,e,function(t,e,n){var r;if(n)for(var _ref8 of Object.entries(n)){var _o7=_ref8[0];var _i3=_ref8[1];{var _n1=t.get(_o7);_n1?e.has(_n1)||e.set(_n1,_n1.parse(_i3)):(r=r||{},r[_o7]=_i3);}}return r;}(e.sharedConfigMap,r,n),r,this.size);};_proto.updateFromKnown=function updateFromKnown(t,e){var n=t.key;this.sharedNodeState.sharedConfigMap.set(n,t);var r=this.knownState,o=this.unknownState;r.has(t)||o&&n in o||(o&&(delete o[n],this.unknownState=X(o)),this.size++),r.set(t,e);};_proto.updateFromUnknown=function updateFromUnknown(t,e){var n=this.sharedNodeState.sharedConfigMap.get(t);n?this.updateFromKnown(n,n.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e);};_proto.updateFromJSON=function updateFromJSON(t){var e=this.knownState;for(var _t0 of e.keys())e.set(_t0,_t0.defaultValue);if(this.size=e.size,this.unknownState=void 0,t)for(var _ref0 of Object.entries(t)){var _e10=_ref0[0];var _n10=_ref0[1];this.updateFromUnknown(_e10,_n10);}};return V;}();function G(t){var e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new _V(e,q(e));return e.__state=n,n;}function q(t){return t.__state?t.__state.sharedNodeState:fo(Pi(),t.getType()).sharedNodeState;}function X(t){if(t)for(var _e11 in t)return t;}function Q(t){return t;}function Z(t,e,n){for(var _ref10 of e.knownState){var _r8=_ref10[0];var _o8=_ref10[1];{if(t.has(_r8.key))continue;t.add(_r8.key);var _e12=n?n.getValue(_r8):_r8.defaultValue;if(_e12!==_o8&&!_r8.isEqual(_e12,_o8))return!0;}}return!1;}function tt(t,e,n){var r=e.unknownState,o=n?n.unknownState:void 0;if(r)for(var _ref12 of Object.entries(r)){var _e13=_ref12[0];var _n11=_ref12[1];if(t.has(_e13))continue;t.add(_e13);if(_n11!==(o?o[_e13]:void 0))return!0;}return!1;}function et(t,e){var n=t.__state;return n&&n.node===t?n.getWritable(e):n;}function nt(t,e){var n=t.__mode,r=t.__format,o=t.__style,i=e.__mode,s=e.__format,l=e.__style,c=t.__state,a=e.__state;return(null===n||n===i)&&(null===r||r===s)&&(null===o||o===l)&&(null===t.__state||c===a||function(t,e){if(t===e)return!0;if(t&&e&&t.size!==e.size)return!1;var n=new Set();return!(t&&Z(n,t,e)||e&&Z(n,e,t)||t&&tt(n,t,e)||e&&tt(n,e,t));}(c,a));}function rt(t,e){var n=t.mergeWithSibling(e),r=kr()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n;}function ot(t){var e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&Dn(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(nt(e,r)){r=rt(e,r);break;}break;}e.remove();}for(;null!==(n=r.getNextSibling())&&Dn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(nt(r,n)){r=rt(r,n);break;}break;}n.remove();}}else r.remove();}function it(t){return st(t.anchor),st(t.focus),t;}function st(t){for(;"element"===t.type;){var _e14=t.getNode(),_n12=t.offset;var _r9=void 0,_o9=void 0;if(_n12===_e14.getChildrenSize()?(_r9=_e14.getChildAtIndex(_n12-1),_o9=!0):(_r9=_e14.getChildAtIndex(_n12),_o9=!1),Dn(_r9)){t.set(_r9.__key,_o9?_r9.getTextContentSize():0,"text",!0);break;}if(!$r(_r9))break;t.set(_r9.__key,_o9?_r9.getChildrenSize():0,"element",!0);}}var lt,ct,at,ut,ft,dt,ht,gt,_t,pt,yt="",mt=null,xt="",Ct="",St=!1,Nt=!1;function Tt(t,e){var n=ht.get(t);if(null!==e){var _n13=zt(t);_n13.parentNode===e&&e.removeChild(_n13);}if(gt.has(t)||ct._keyToDOMMap["delete"](t),$r(n)){var _t1=Lt(n,ht);vt(_t1,0,_t1.length-1,null);}void 0!==n&&ri(pt,at,ut,n,"destroyed");}function vt(t,e,n,r){var o=e;for(;o<=n;++o){var _e15=t[o];void 0!==_e15&&Tt(_e15,r);}}function kt(t,e){t.setProperty("text-align",e);}var Et="40px";function bt(t,e){var n=lt.theme.indent;if("string"==typeof n){var _r0=t.classList.contains(n);e>0&&!_r0?t.classList.add(n):e<1&&_r0&&t.classList.remove(n);}var r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||Et;t.style.setProperty("padding-inline-start",0===e?"":"calc("+e+" * "+r+")");}function Ot(t,e){var n=t.style;0===e?kt(n,""):1===e?kt(n,"left"):2===e?kt(n,"center"):3===e?kt(n,"right"):4===e?kt(n,"justify"):5===e?kt(n,"start"):6===e&&kt(n,"end");}function Mt(t,e){var n=function(t){var e=t.__dir;if(null!==e)return e;if(jr(t))return null;var n=t.getParentOrThrow();return jr(n)&&null===n.__dir?"auto":null;}(e);null!==n?t.dir=n:t.removeAttribute("dir");}function At(e,n){var r=gt.get(e);void 0===r&&t(60);var o=r.createDOM(lt,ct);if(function(t,e,n){var r=n._keyToDOMMap;(function(t,e,n){var r="__lexicalKey_"+e._key;t[r]=n;})(e,n,t),r.set(t,e);}(e,o,ct),Dn(r)?o.setAttribute("data-lexical-text","true"):Jr(r)&&o.setAttribute("data-lexical-decorator","true"),$r(r)){var _t10=r.__indent,_e16=r.__size;if(Mt(o,r),0!==_t10&&bt(o,_t10),0!==_e16){var _t11=_e16-1;wt(Lt(r,gt),r,0,_t11,r.getDOMSlot(o));}var _n14=r.__format;0!==_n14&&Ot(o,_n14),r.isInline()||Pt(null,r,o),ci(r)&&(yt+=k,Ct+=k);}else{var _t12=r.getTextContent();if(Jr(r)){var _t13=r.decorate(ct,lt);null!==_t13&&Rt(e,_t13),o.contentEditable="false";}yt+=_t12,Ct+=_t12;}return null!==n&&n.insertChild(o),ri(pt,at,ut,r,"created"),o;}function wt(t,e,n,r,o){var i=yt;yt="";var s=n;for(;s<=r;++s){At(t[s],o);var _e17=gt.get(t[s]);null!==_e17&&Dn(_e17)&&(null===mt&&(mt=_e17.getFormat()),""===xt&&(xt=_e17.getStyle()));}ci(e)&&(yt+=k);o.element.__lexicalTextContent=yt,yt=i+yt;}function Dt(t,e){if(t){var _n15=t.__last;if(_n15){var _t14=e.get(_n15);if(_t14)return gn(_t14)?"line-break":Jr(_t14)&&_t14.isInline()?"decorator":null;}return"empty";}return null;}function Pt(t,e,n){var r=Dt(t,ht),o=Dt(e,gt);r!==o&&e.getDOMSlot(n).setManagedLineBreak(o);}function It(e,n,r){var o;mt=null,xt="",function(e,n,r){var o=yt,i=e.__size,s=n.__size;yt="";var l=r.element;if(1===i&&1===s){var _t15=e.__first,_r1=n.__first;if(_t15===_r1)Ft(_t15,l);else{var _e18=zt(_t15),_n16=At(_r1,null);try{l.replaceChild(_n16,_e18);}catch(o){if("object"==typeof o&&null!=o){var _i4=o.toString()+" Parent: "+l.tagName+", new child: {tag: "+_n16.tagName+" key: "+_r1+"}, old child: {tag: "+_e18.tagName+", key: "+_t15+"}.";throw new Error(_i4);}throw o;}Tt(_t15,null);}var _o0=gt.get(_r1);Dn(_o0)&&(null===mt&&(mt=_o0.getFormat()),""===xt&&(xt=_o0.getStyle()));}else{var _o1=Lt(e,ht),_c=Lt(n,gt);if(_o1.length!==i&&t(227),_c.length!==s&&t(228),0===i)0!==s&&wt(_c,n,0,s-1,r);else if(0===s){if(0!==i){var _t16=null==r.after&&null==r.before&&null==r.element.__lexicalLineBreak;vt(_o1,0,i-1,_t16?null:l),_t16&&(l.textContent="");}}else!function(t,e,n,r,o,i){var s=r-1,l=o-1;var c,a,u=i.getFirstChild(),f=0,d=0;for(;f<=s&&d<=l;){var _t17=e[f],_r10=n[d];if(_t17===_r10)u=Kt(Ft(_r10,i.element)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===a&&(a=new Set(n));var _o10=a.has(_t17),_s3=c.has(_r10);if(_o10){if(_s3){var _t18=ai(ct,_r10);_t18===u?u=Kt(Ft(_r10,i.element)):(i.withBefore(u).insertChild(_t18),Ft(_r10,i.element)),f++,d++;}else At(_r10,i.withBefore(u)),d++;}else u=Kt(zt(_t17)),Tt(_t17,i.element),f++;}var _o11=gt.get(_r10);null!==_o11&&Dn(_o11)&&(null===mt&&(mt=_o11.getFormat()),""===xt&&(xt=_o11.getStyle()));}var h=f>s,g=d>l;if(h&&!g){var _e19=n[l+1],_r11=void 0===_e19?null:ct.getElementByKey(_e19);wt(n,t,d,l,i.withBefore(_r11));}else g&&!h&&vt(e,f,s,i.element);}(n,_o1,_c,i,s,r);}ci(n)&&(yt+=k);l.__lexicalTextContent=yt,yt=o+yt;}(e,n,n.getDOMSlot(r)),o=n,null==mt||mt===o.__textFormat||Nt||o.setTextFormat(mt),function(t){""===xt||xt===t.__textStyle||Nt||t.setTextStyle(xt);}(n);}function Lt(e,n){var r=[];var o=e.__first;for(;null!==o;){var _e20=n.get(o);void 0===_e20&&t(101),r.push(o),o=_e20.__next;}return r;}function Ft(e,n){var r=ht.get(e);var o=gt.get(e);void 0!==r&&void 0!==o||t(61);var i=St||dt.has(e)||ft.has(e),s=ai(ct,e);if(r===o&&!i){if($r(r)){var _t19=s.__lexicalTextContent;void 0!==_t19&&(yt+=_t19,Ct+=_t19);}else{var _t20=r.getTextContent();Ct+=_t20,yt+=_t20;}return s;}if(r!==o&&i&&ri(pt,at,ut,o,"updated"),o.updateDOM(r,s,lt)){var _r12=At(e,null);return null===n&&t(62),n.replaceChild(_r12,s),Tt(e,null),_r12;}if($r(r)&&$r(o)){var _t21=o.__indent;(St||_t21!==r.__indent)&&bt(s,_t21);var _e21=o.__format;if((St||_e21!==r.__format)&&Ot(s,_e21),i&&(It(r,o,s),jr(o)||o.isInline()||Pt(r,o,s)),ci(o)&&(yt+=k,Ct+=k),(St||o.__dir!==r.__dir)&&(Mt(s,o),jr(o)&&!St))for(var _t22 of o.getChildren())if($r(_t22)){Mt(ai(ct,_t22.getKey()),_t22);}}else{var _t23=o.getTextContent();if(Jr(o)){var _t24=o.decorate(ct,lt);null!==_t24&&Rt(e,_t24);}yt+=_t23,Ct+=_t23;}if(!Nt&&jr(o)&&o.__cachedText!==Ct){var _t25=o.getWritable();_t25.__cachedText=Ct,o=_t25;}return s;}function Rt(t,e){var n=ct._pendingDecorators;var r=ct._decorators;if(null===n){if(r[t]===e)return;n=Fo(ct);}n[t]=e;}function Kt(t){var e=t.nextSibling;return null!==e&&e===ct._blockCursorElement&&(e=e.nextSibling),e;}function Bt(t,e,n,r,o,i){yt="",Ct="",St=2===r,ct=n,lt=n._config,at=n._nodes,ut=ct._listeners.mutation,ft=o,dt=i,ht=t._nodeMap,gt=e._nodeMap,Nt=e._readOnly,_t=new Map(n._keyToDOMMap);var s=new Map();return pt=s,Ft("root",null),ct=void 0,at=void 0,ft=void 0,dt=void 0,ht=void 0,gt=void 0,lt=void 0,_t=void 0,pt=void 0,s;}function zt(e){var n=_t.get(e);return void 0===n&&t(75,e),n;}function $t(t){return{type:t};}var Wt=$t("SELECTION_CHANGE_COMMAND"),Ut=$t("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Jt=$t("CLICK_COMMAND"),Yt=$t("DELETE_CHARACTER_COMMAND"),jt=$t("INSERT_LINE_BREAK_COMMAND"),Ht=$t("INSERT_PARAGRAPH_COMMAND"),Vt=$t("CONTROLLED_TEXT_INSERTION_COMMAND"),Gt=$t("PASTE_COMMAND"),qt=$t("REMOVE_TEXT_COMMAND"),Xt=$t("DELETE_WORD_COMMAND"),Qt=$t("DELETE_LINE_COMMAND"),Zt=$t("FORMAT_TEXT_COMMAND"),te=$t("UNDO_COMMAND"),ee=$t("REDO_COMMAND"),ne=$t("KEYDOWN_COMMAND"),re=$t("KEY_ARROW_RIGHT_COMMAND"),oe=$t("MOVE_TO_END"),ie=$t("KEY_ARROW_LEFT_COMMAND"),se=$t("MOVE_TO_START"),le=$t("KEY_ARROW_UP_COMMAND"),ce=$t("KEY_ARROW_DOWN_COMMAND"),ae=$t("KEY_ENTER_COMMAND"),ue=$t("KEY_SPACE_COMMAND"),fe=$t("KEY_BACKSPACE_COMMAND"),de=$t("KEY_ESCAPE_COMMAND"),he=$t("KEY_DELETE_COMMAND"),ge=$t("KEY_TAB_COMMAND"),_e=$t("INSERT_TAB_COMMAND"),pe=$t("INDENT_CONTENT_COMMAND"),ye=$t("OUTDENT_CONTENT_COMMAND"),me=$t("DROP_COMMAND"),xe=$t("FORMAT_ELEMENT_COMMAND"),Ce=$t("DRAGSTART_COMMAND"),Se=$t("DRAGOVER_COMMAND"),Ne=$t("DRAGEND_COMMAND"),Te=$t("COPY_COMMAND"),ve=$t("CUT_COMMAND"),ke=$t("SELECT_ALL_COMMAND"),Ee=$t("CLEAR_EDITOR_COMMAND"),be=$t("CLEAR_HISTORY_COMMAND"),Oe=$t("CAN_REDO_COMMAND"),Me=$t("CAN_UNDO_COMMAND"),Ae=$t("FOCUS_COMMAND"),we=$t("BLUR_COMMAND"),De=$t("KEY_MODIFIER_COMMAND"),Pe=Object.freeze({}),Ie=[["keydown",function(t,e){if(Le=t.timeStamp,Fe=t.key,e.isComposing())return;if(li(e,ne,t))return;if(null==t.key)return;if(Je&&ti(t))return Rr(e,function(){tn(e,Ye);}),Je=!1,void(Ye="");if(function(t){return Xo(t,"ArrowRight",{shiftKey:"any"});}(t))li(e,re,t);else if(function(t){return Xo(t,"ArrowRight",Qo);}(t))li(e,oe,t);else if(function(t){return Xo(t,"ArrowLeft",{shiftKey:"any"});}(t))li(e,ie,t);else if(function(t){return Xo(t,"ArrowLeft",Qo);}(t))li(e,se,t);else if(function(t){return Xo(t,"ArrowUp",{altKey:"any",shiftKey:"any"});}(t))li(e,le,t);else if(function(t){return Xo(t,"ArrowDown",{altKey:"any",shiftKey:"any"});}(t))li(e,ce,t);else if(function(t){return Xo(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0});}(t))We=!0,li(e,ae,t);else if(function(t){return" "===t.key;}(t))li(e,ue,t);else if(function(t){return o&&Xo(t,"o",{ctrlKey:!0});}(t))t.preventDefault(),We=!0,li(e,jt,!0);else if(function(t){return Xo(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"});}(t))We=!1,li(e,ae,t);else if(function(t){return Xo(t,"Backspace",{shiftKey:"any"})||o&&Xo(t,"h",{ctrlKey:!0});}(t))ti(t)?li(e,fe,t):(t.preventDefault(),li(e,Yt,!0));else if(function(t){return"Escape"===t.key;}(t))li(e,de,t);else if(function(t){return Xo(t,"Delete",{})||o&&Xo(t,"d",{ctrlKey:!0});}(t))!function(t){return"Delete"===t.key;}(t)?(t.preventDefault(),li(e,Yt,!1)):li(e,he,t);else if(function(t){return Xo(t,"Backspace",Zo);}(t))t.preventDefault(),li(e,Xt,!0);else if(function(t){return Xo(t,"Delete",Zo);}(t))t.preventDefault(),li(e,Xt,!1);else if(function(t){return o&&Xo(t,"Backspace",{metaKey:!0});}(t))t.preventDefault(),li(e,Qt,!0);else if(function(t){return o&&(Xo(t,"Delete",{metaKey:!0})||Xo(t,"k",{ctrlKey:!0}));}(t))t.preventDefault(),li(e,Qt,!1);else if(function(t){return Xo(t,"b",Qo);}(t))t.preventDefault(),li(e,Zt,"bold");else if(function(t){return Xo(t,"u",Qo);}(t))t.preventDefault(),li(e,Zt,"underline");else if(function(t){return Xo(t,"i",Qo);}(t))t.preventDefault(),li(e,Zt,"italic");else if(function(t){return Xo(t,"Tab",{shiftKey:"any"});}(t))li(e,ge,t);else if(function(t){return Xo(t,"z",Qo);}(t))t.preventDefault(),li(e,te,void 0);else if(function(t){if(o)return Xo(t,"z",{metaKey:!0,shiftKey:!0});return Xo(t,"y",{ctrlKey:!0})||Xo(t,"z",{ctrlKey:!0,shiftKey:!0});}(t))t.preventDefault(),li(e,ee,void 0);else{var _n17=e._editorState._selection;null===_n17||Wn(_n17)?ei(t)&&(t.preventDefault(),li(e,ke,t)):!function(t){return Xo(t,"c",Qo);}(t)?!function(t){return Xo(t,"x",Qo);}(t)?ei(t)&&(t.preventDefault(),li(e,ke,t)):(t.preventDefault(),li(e,ve,t)):(t.preventDefault(),li(e,Te,t));}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey;})(t)&&li(e,De,t);}],["pointerdown",function(t,e){var n=t.target,r=t.pointerType;Oi(n)&&"touch"!==r&&"pen"!==r&&0===t.button&&Rr(e,function(){_o(n)||($e=!0);});}],["compositionstart",function(t,e){Rr(e,function(){var n=or();if(Wn(n)&&!e.isComposing()){var _r13=n.anchor,_o12=n.anchor.getNode();Ao(_r13.key),(t.timeStamp<Le+30||"element"===_r13.type||!n.isCollapsed()||_o12.getFormat()!==n.format||Dn(_o12)&&_o12.getStyle()!==n.style)&&li(e,Vt,E);}});}],["compositionend",function(t,e){i?Ue=!0:c||!l&&!d?Rr(e,function(){tn(e,t.data);}):(Je=!0,Ye=t.data);}],["input",function(t,e){t.stopPropagation(),Rr(e,function(){if(bi(t.target)&&_o(t.target))return;var n=or(),r=t.data,o=Ze(t);if(null!=r&&Wn(n)&&Ve(n,o,r,t.timeStamp,!1)){Ue&&(tn(e,r),Ue=!1);var _o13=n.anchor.getNode(),_a=ki(pi(e));if(null===_a)return;var _u=n.isBackward(),_f=_u?n.anchor.offset:n.focus.offset,_h2=_u?n.focus.offset:n.anchor.offset;s&&!n.isCollapsed()&&Dn(_o13)&&null!==_a.anchorNode&&_o13.getTextContent().slice(0,_f)+r+_o13.getTextContent().slice(_f+_h2)===Yo(_a.anchorNode)||li(e,Vt,r);var _g2=r.length;i&&_g2>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=_g2),l||c||d||!e.isComposing()||(Le=0,Ao(null));}else{jo(!1,e,null!==r?r:void 0),Ue&&(tn(e,r||void 0),Ue=!1);}!function(){Nr();var t=kr();U(t);}();},{event:t}),Ke=null;}],["click",function(t,e){Rr(e,function(){var n=or(),r=ki(pi(e)),o=ir();if(r)if(Wn(n)){var _e22=n.anchor,_i5=_e22.getNode();if("element"===_e22.type&&0===_e22.offset&&n.isCollapsed()&&!jr(_i5)&&1===Ko().getChildrenSize()&&_i5.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o))r.removeAllRanges(),n.dirty=!0;else if(3===t.detail&&!n.isCollapsed()){if(_i5!==n.focus.getNode()){var _t26=Ui(_i5,function(t){return $r(t)&&!t.isInline();});$r(_t26)&&_t26.select(0);}}}else if("touch"===t.pointerType||"pen"===t.pointerType){var _n18=r.anchorNode;if(bi(_n18)||To(_n18)){zo(rr(o,r,e,t));}}li(e,Jt,t);});}],["cut",Pe],["copy",Pe],["dragstart",Pe],["dragover",Pe],["dragend",Pe],["paste",Pe],["focus",Pe],["blur",Pe],["drop",Pe]];s&&Ie.push(["beforeinput",function(e,n){return function(e,n){var r=e.inputType,o=Ze(e);if("deleteCompositionText"===r||i&&si(n))return;if("insertCompositionText"===r)return;Rr(n,function(){var i=or();if("deleteContentBackward"===r){if(null===i){var _t27=ir();if(!Wn(_t27))return;zo(_t27.clone());}if(Wn(i)){var _r14=i.anchor.key===i.focus.key;if(s=e.timeStamp,"MediaLast"===Fe&&s<Le+30&&n.isComposing()&&_r14){if(Ao(null),Le=0,setTimeout(function(){Rr(n,function(){Ao(null);});},30),Wn(i)){var _e23=i.anchor.getNode();_e23.markDirty(),Dn(_e23)||t(142),Qe(i,_e23);}}else{Ao(null),e.preventDefault();var _t28=i.anchor.getNode(),_o14=_t28.getTextContent(),_s4=_t28.canInsertTextAfter(),_l=0===i.anchor.offset&&i.focus.offset===_o14.length;var _c2=f&&_r14&&!_l&&_s4;if(_c2&&i.isCollapsed()&&(_c2=!Jr(ii(i.anchor,!0))),!_c2){li(n,Yt,!0);var _t29=or();f&&Wn(_t29)&&_t29.isCollapsed()&&(je=_t29,setTimeout(function(){return je=null;}));}}return;}}var s;if(!Wn(i))return;var l=e.data;null!==Ke&&jo(!1,n,Ke),i.dirty&&null===Ke||!i.isCollapsed()||jr(i.anchor.getNode())||null===o||i.applyDOMRange(o),Ke=null;var a=i.anchor,u=i.focus,d=a.getNode(),h=u.getNode();if("insertText"!==r&&"insertTranspose"!==r)switch(e.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":li(n,Vt,e);break;case"insertFromComposition":Ao(null),li(n,Vt,e);break;case"insertLineBreak":Ao(null),li(n,jt,!1);break;case"insertParagraph":Ao(null),We&&!c?(We=!1,li(n,jt,!1)):li(n,Ht,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":li(n,Gt,e);break;case"deleteByComposition":(function(t,e){return t!==e||$r(t)||$r(e)||!So(t)||!So(e);})(d,h)&&li(n,qt,e);break;case"deleteByDrag":case"deleteByCut":li(n,qt,e);break;case"deleteContent":li(n,Yt,!1);break;case"deleteWordBackward":li(n,Xt,!0);break;case"deleteWordForward":li(n,Xt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":li(n,Qt,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":li(n,Qt,!1);break;case"formatStrikeThrough":li(n,Zt,"strikethrough");break;case"formatBold":li(n,Zt,"bold");break;case"formatItalic":li(n,Zt,"italic");break;case"formatUnderline":li(n,Zt,"underline");break;case"historyUndo":li(n,te,void 0);break;case"historyRedo":li(n,ee,void 0);}else{if("\n"===l)e.preventDefault(),li(n,jt,!1);else if(l===k)e.preventDefault(),li(n,Ht,void 0);else if(null==l&&e.dataTransfer){var _t30=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(_t30);}else null!=l&&Ve(i,o,l,e.timeStamp,!0)?(e.preventDefault(),li(n,Vt,l)):Ke=l;Re=e.timeStamp;}});}(e,n);}]);var Le=0,Fe=null,Re=0,Ke=null;var Be=new WeakMap();var ze=!1,$e=!1,We=!1,Ue=!1,Je=!1,Ye="",je=null,He=[0,"",0,"root",0];function Ve(t,e,n,r,o){var i=t.anchor,l=t.focus,c=i.getNode(),a=kr(),u=ki(pi(a)),f=null!==u?u.anchorNode:null,d=i.key,h=a.getElementByKey(d),g=n.length;return d!==l.key||!Dn(c)||(!o&&(!s||Re<r+50)||c.isDirty()&&g<2||Wo(n))&&i.offset!==l.offset&&!c.isComposing()||No(c)||c.isDirty()&&g>1||(o||!s)&&null!==h&&!c.isComposing()&&f!==ko(h)||null!==u&&null!==e&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||c.getFormat()!==t.format||c.getStyle()!==t.style||function(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;var n=t.anchor.offset,r=e.getParentOrThrow(),o=So(e);return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||o||function(t){var e=t.getPreviousSibling();return(Dn(e)||$r(e)&&e.isInline())&&!e.canInsertTextAfter();}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||o);}(t,c);}function Ge(t,e){return To(t)&&null!==t.nodeValue&&0!==e&&e!==t.nodeValue.length;}function qe(e,n,r){var o=e.anchorNode,i=e.anchorOffset,s=e.focusNode,l=e.focusOffset;ze&&(ze=!1,Ge(o,i)&&Ge(s,l)&&!je)||Rr(n,function(){if(!r)return void zo(null);if(!yo(n,o,s))return;var c=or();if(je&&Wn(c)&&c.isCollapsed()){var _t31=c.anchor,_e24=je.anchor;(_t31.key===_e24.key&&_t31.offset===_e24.offset+1||1===_t31.offset&&_e24.getNode().is(_t31.getNode().getPreviousSibling()))&&(c=je.clone(),zo(c));}if(je=null,Wn(c)){var _r15=c.anchor,_o15=_r15.getNode();if(c.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(c.dirty=!0);var _i6=pi(n).event,_s5=_i6?_i6.timeStamp:performance.now(),_He=He,_l2=_He[0],_a2=_He[1],_u2=_He[2],_f2=_He[3],_d2=_He[4],_h3=Ko(),_g3=!1===n.isComposing()&&""===_h3.getTextContent();if(_s5<_d2+200&&_r15.offset===_u2&&_r15.key===_f2)Xe(c,_l2,_a2);else if("text"===_r15.type)Dn(_o15)||t(141),Qe(c,_o15);else if("element"===_r15.type&&!_g3){$r(_o15)||t(259);var _e25=_r15.getNode();_e25.isEmpty()?function(t,e){var n=e.getTextFormat(),r=e.getTextStyle();Xe(t,n,r);}(c,_e25):Xe(c,0,"");}}else{var _t32=_r15.key,_e26=c.focus.key,_n19=c.getNodes(),_o16=_n19.length,_s6=c.isBackward(),_a3=_s6?l:i,_u3=_s6?i:l,_f3=_s6?_e26:_t32,_d3=_s6?_t32:_e26;var _h4=2047,_g4=!1;for(var _t33=0;_t33<_o16;_t33++){var _e27=_n19[_t33],_r16=_e27.getTextContentSize();if(Dn(_e27)&&0!==_r16&&!(0===_t33&&_e27.__key===_f3&&_a3===_r16||_t33===_o16-1&&_e27.__key===_d3&&0===_u3)&&(_g4=!0,_h4&=_e27.getFormat(),0===_h4))break;}c.format=_g4?_h4:0;}}li(n,Wt,void 0);});}function Xe(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0);}function Qe(t,e){Xe(t,e.getFormat(),e.getStyle());}function Ze(t){if(!t.getTargetRanges)return null;var e=t.getTargetRanges();return 0===e.length?null:e[0];}function tn(t,e){var n=t._compositionKey;if(Ao(null),null!==n&&null!=e){if(""===e){var _e28=Do(n),_r17=ko(t.getElementByKey(n));return void(null!==_r17&&null!==_r17.nodeValue&&Dn(_e28)&&Ho(_e28,_r17.nodeValue,null,null,!0));}if("\n"===e[e.length-1]){var _e29=or();if(Wn(_e29)){var _n20=_e29.focus;return _e29.anchor.set(_n20.key,_n20.offset,_n20.type),void li(t,ae,null);}}}jo(!0,t,e);}function en(t){var e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e;}var nn=new Map();function rn(t){var e=Ei(t.target);if(null===e)return;var n=xo(e.anchorNode);if(null===n)return;$e&&($e=!1,Rr(n,function(){var r=ir(),o=e.anchorNode;if(bi(o)||To(o)){zo(rr(r,e,n,t));}}));var r=Uo(n),o=r[r.length-1],i=o._key,s=nn.get(i),l=s||o;l!==n&&qe(e,l,!1),qe(e,n,!0),n!==o?nn.set(i,n):s&&nn["delete"](i);}function on(t){t._lexicalHandled=!0;}function sn(t){return!0===t._lexicalHandled;}var ln=function ln(){};function cn(e){var n=e.ownerDocument,r=Be.get(n);if(void 0===r)return void ln();var o=r-1;o>=0||t(164),Be.set(n,o),0===o&&n.removeEventListener("selectionchange",rn);var i=Co(e);mo(i)?(!function(t){if(null!==t._parentEditor){var _e30=Uo(t),_n21=_e30[_e30.length-1]._key;nn.get(_n21)===t&&nn["delete"](_n21);}else nn["delete"](t._key);}(i),e.__lexicalEditor=null):i&&t(198);var s=en(e);for(var _t34=0;_t34<s.length;_t34++)s[_t34]();e.__lexicalEventHandles=[];}function an(t,e,n){Nr();var r=t.__key,o=t.getParent();if(null===o)return;var i=function(t){var e=or();if(!Wn(e)||!$r(t))return e;var n=e.anchor,r=e.focus,o=n.getNode(),i=r.getNode();gi(o,t)&&n.set(t.__key,0,"element");gi(i,t)&&r.set(t.__key,0,"element");return e;}(t);var s=!1;if(Wn(i)&&e){var _e31=i.anchor,_n22=i.focus;_e31.key===r&&(cr(_e31,t,o,t.getPreviousSibling(),t.getNextSibling()),s=!0),_n22.key===r&&(cr(_n22,t,o,t.getPreviousSibling(),t.getNextSibling()),s=!0);}else Jn(i)&&e&&t.isSelected()&&t.selectPrevious();if(Wn(i)&&e&&!s){var _e32=t.getIndexWithinParent();Oo(t),sr(i,o,_e32,-1);}else Oo(t);n||mi(o)||o.canBeEmpty()||!o.isEmpty()||an(o,e),e&&i&&jr(o)&&o.isEmpty()&&o.selectEnd();}var _un5=function(){function un(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),bo(this,t);}un.getType=function getType(){var _Wi2=Wi(this),e=_Wi2.ownNodeType;return void 0===e&&t(64,this.name),e;};un.clone=function clone(e){t(65,this.name);};var _proto2=un.prototype;_proto2.$config=function $config(){return{};};_proto2.config=function config(t,e){var _ref13;var n=e["extends"]||Object.getPrototypeOf(this.constructor);return Object.assign(e,{"extends":n,type:t}),_ref13={},_ref13[t]=e,_ref13;};_proto2.afterCloneFrom=function afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this));};_proto2.getType=function getType(){return this.__type;};_proto2.isInline=function isInline(){t(137,this.constructor.name);};_proto2.isAttached=function isAttached(){var t=this.__key;for(;null!==t;){if("root"===t)return!0;var _e33=Do(t);if(null===_e33)break;t=_e33.__parent;}return!1;};_proto2.isSelected=function isSelected(t){var _this12=this;var e=t||or();if(null==e)return!1;var n=e.getNodes().some(function(t){return t.__key===_this12.__key;});if(Dn(this))return n;if(Wn(e)&&"element"===e.anchor.type&&"element"===e.focus.type){if(e.isCollapsed())return!1;var _t35=this.getParent();if(Jr(this)&&this.isInline()&&_t35){var _n23=e.isBackward()?e.focus:e.anchor;if(_t35.is(_n23.getNode())&&_n23.offset===_t35.getChildrenSize()&&this.is(_t35.getLastChild()))return!1;}}return n;};_proto2.getKey=function getKey(){return this.__key;};_proto2.getIndexWithinParent=function getIndexWithinParent(){var t=this.getParent();if(null===t)return-1;var e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling();}return-1;};_proto2.getParent=function getParent(){var t=this.getLatest().__parent;return null===t?null:Do(t);};_proto2.getParentOrThrow=function getParentOrThrow(){var e=this.getParent();return null===e&&t(66,this.__key),e;};_proto2.getTopLevelElement=function getTopLevelElement(){var e=this;for(;null!==e;){var _n24=e.getParent();if(mi(_n24))return $r(e)||e===this&&Jr(e)||t(194),e;e=_n24;}return null;};_proto2.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){var e=this.getTopLevelElement();return null===e&&t(67,this.__key),e;};_proto2.getParents=function getParents(){var t=[];var e=this.getParent();for(;null!==e;)t.push(e),e=e.getParent();return t;};_proto2.getParentKeys=function getParentKeys(){var t=[];var e=this.getParent();for(;null!==e;)t.push(e.__key),e=e.getParent();return t;};_proto2.getPreviousSibling=function getPreviousSibling(){var t=this.getLatest().__prev;return null===t?null:Do(t);};_proto2.getPreviousSiblings=function getPreviousSiblings(){var t=[],e=this.getParent();if(null===e)return t;var n=e.getFirstChild();for(;null!==n&&!n.is(this);)t.push(n),n=n.getNextSibling();return t;};_proto2.getNextSibling=function getNextSibling(){var t=this.getLatest().__next;return null===t?null:Do(t);};_proto2.getNextSiblings=function getNextSiblings(){var t=[];var e=this.getNextSibling();for(;null!==e;)t.push(e),e=e.getNextSibling();return t;};_proto2.getCommonAncestor=function getCommonAncestor(t){var e=$r(this)?this:this.getParent(),n=$r(t)?t:t.getParent(),r=e&&n?Ss(e,n):null;return r?r.commonAncestor:null;};_proto2.is=function is(t){return null!=t&&this.__key===t.__key;};_proto2.isBefore=function isBefore(e){var n=Ss(this,e);return null!==n&&("descendant"===n.type||("branch"===n.type?-1===ms(n):("same"!==n.type&&"ancestor"!==n.type&&t(279),!1)));};_proto2.isParentOf=function isParentOf(t){var e=Ss(this,t);return null!==e&&"ancestor"===e.type;};_proto2.getNodesBetween=function getNodesBetween(e){var n=this.isBefore(e),r=[],o=new Set();var i=this;for(;null!==i;){var _s7=i.__key;if(o.has(_s7)||(o.add(_s7),r.push(i)),i===e)break;var _l3=$r(i)?n?i.getFirstChild():i.getLastChild():null;if(null!==_l3){i=_l3;continue;}var _c3=n?i.getNextSibling():i.getPreviousSibling();if(null!==_c3){i=_c3;continue;}var _a4=i.getParentOrThrow();if(o.has(_a4.__key)||r.push(_a4),_a4===e)break;var _u4=null,_f4=_a4;do{if(null===_f4&&t(68),_u4=n?_f4.getNextSibling():_f4.getPreviousSibling(),_f4=_f4.getParent(),null===_f4)break;null!==_u4||o.has(_f4.__key)||r.push(_f4);}while(null===_u4);i=_u4;}return n||r.reverse(),r;};_proto2.isDirty=function isDirty(){var t=kr()._dirtyLeaves;return null!==t&&t.has(this.__key);};_proto2.getLatest=function getLatest(){var e=Do(this.__key);return null===e&&t(113),e;};_proto2.getWritable=function getWritable(){Nr();var t=vr(),e=kr(),n=t._nodeMap,r=this.__key,o=this.getLatest(),i=e._cloneNotNeeded,s=or();if(null!==s&&s.setCachedNodes(null),i.has(r))return Mo(o),o;var l=Ri(o);return i.add(r),Mo(l),n.set(r,l),l;};_proto2.getTextContent=function getTextContent(){return"";};_proto2.getTextContentSize=function getTextContentSize(){return this.getTextContent().length;};_proto2.createDOM=function createDOM(e,n){t(70);};_proto2.updateDOM=function updateDOM(e,n,r){t(71);};_proto2.exportDOM=function exportDOM(t){return{element:this.createDOM(t._config,t)};};_proto2.exportJSON=function exportJSON(){var t=this.__state?this.__state.toJSON():void 0;return babelHelpers["extends"]({type:this.__type,version:1},t);};un.importJSON=function importJSON(e){t(18,this.name);};_proto2.updateFromJSON=function updateFromJSON(t){return function(t,e){var n=t.getWritable(),r=e.$;var o=r;for(var _t36 of q(n).flatKeys)_t36 in e&&(void 0!==o&&o!==r||(o=babelHelpers["extends"]({},r)),o[_t36]=e[_t36]);return(n.__state||o)&&G(t).updateFromJSON(o),n;}(this,t);};un.transform=function transform(){return null;};_proto2.remove=function remove(t){an(this,!0,t);};_proto2.replace=function replace(e,n){Nr();var r=or();null!==r&&(r=r.clone()),Si(this,e);var o=this.getLatest(),i=this.__key,s=e.__key,l=e.getWritable(),c=this.getParentOrThrow().getWritable(),a=c.__size;Oo(l);var u=o.getPreviousSibling(),f=o.getNextSibling(),d=o.__prev,h=o.__next,g=o.__parent;if(an(o,!1,!0),null===u)c.__first=s;else{u.getWritable().__next=s;}if(l.__prev=d,null===f)c.__last=s;else{f.getWritable().__prev=s;}if(l.__next=h,l.__parent=g,c.__size=a,n&&($r(this)&&$r(l)||t(139),this.getChildren().forEach(function(t){l.append(t);})),Wn(r)){zo(r);var _t37=r.anchor,_e34=r.focus;_t37.key===i&&zn(_t37,l),_e34.key===i&&zn(_e34,l);}return wo()===i&&Ao(s),l;};_proto2.insertAfter=function insertAfter(t,e){if(e===void 0){e=!0;}Nr(),Si(this,t);var n=this.getWritable(),r=t.getWritable(),o=r.getParent(),i=or();var s=!1,l=!1;if(null!==o){var _e35=t.getIndexWithinParent();if(Oo(r),Wn(i)){var _t38=o.__key,_n25=i.anchor,_r18=i.focus;s="element"===_n25.type&&_n25.key===_t38&&_n25.offset===_e35+1,l="element"===_r18.type&&_r18.key===_t38&&_r18.offset===_e35+1;}}var c=this.getNextSibling(),a=this.getParentOrThrow().getWritable(),u=r.__key,f=n.__next;if(null===c)a.__last=u;else{c.getWritable().__prev=u;}if(a.__size++,n.__next=u,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&Wn(i)){var _t39=this.getIndexWithinParent();sr(i,a,_t39+1);var _e36=a.__key;s&&i.anchor.set(_e36,_t39+2,"element"),l&&i.focus.set(_e36,_t39+2,"element");}return t;};_proto2.insertBefore=function insertBefore(t,e){if(e===void 0){e=!0;}Nr(),Si(this,t);var n=this.getWritable(),r=t.getWritable(),o=r.__key;Oo(r);var i=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();if(null===i)s.__first=o;else{i.getWritable().__next=o;}s.__size++,n.__prev=o,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;var a=or();if(e&&Wn(a)){sr(a,this.getParentOrThrow(),c);}return t;};_proto2.isParentRequired=function isParentRequired(){return!1;};_proto2.createParentElementNode=function createParentElementNode(){return oo();};_proto2.selectStart=function selectStart(){return this.selectPrevious();};_proto2.selectEnd=function selectEnd(){return this.selectNext(0,0);};_proto2.selectPrevious=function selectPrevious(t,e){Nr();var n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if($r(n))return n.select();if(!Dn(n)){var _t40=n.getIndexWithinParent()+1;return r.select(_t40,_t40);}return n.select(t,e);};_proto2.selectNext=function selectNext(t,e){Nr();var n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if($r(n))return n.select(0,0);if(!Dn(n)){var _t41=n.getIndexWithinParent();return r.select(_t41,_t41);}return n.select(t,e);};_proto2.markDirty=function markDirty(){this.getWritable();};_proto2.reconcileObservedMutation=function reconcileObservedMutation(t,e){this.markDirty();};return un;}();var _fn=function(_un){function fn(t){return _un.call(this,t)||this;}babelHelpers.inheritsLoose(fn,_un);fn.getType=function getType(){return"linebreak";};fn.clone=function clone(t){return new fn(t.__key);};var _proto3=fn.prototype;_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.createDOM=function createDOM(){return document.createElement("br");};_proto3.updateDOM=function updateDOM(){return!1;};_proto3.isInline=function isInline(){return!0;};fn.importDOM=function importDOM(){return{br:function br(t){return function(t){var e=t.parentElement;if(null!==e&&wi(e)){var _n26=e.firstChild;if(_n26===t||_n26.nextSibling===t&&_n(_n26)){var _n27=e.lastChild;if(_n27===t||_n27.previousSibling===t&&_n(_n27))return!0;}}return!1;}(t)||function(t){var e=t.parentElement;if(null!==e&&wi(e)){var _n28=e.firstChild;if(_n28===t||_n28.nextSibling===t&&_n(_n28))return!1;var _r19=e.lastChild;if(_r19===t||_r19.previousSibling===t&&_n(_r19))return!0;}return!1;}(t)?null:{conversion:dn,priority:0};}};};fn.importJSON=function importJSON(t){return hn().updateFromJSON(t);};return fn;}(_un5);function dn(t){return{node:hn()};}function hn(){return Ci(new _fn());}function gn(t){return t instanceof _fn;}function _n(t){return To(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"");}function pn(t,e){return 16&e?"code":e&y?"mark":32&e?"sub":64&e?"sup":null;}function yn(t,e){return 1&e?"strong":2&e?"em":"span";}function mn(t,e,n,r,o){var i=r.classList;var s=ni(o,"base");void 0!==s&&i.add.apply(i,s),s=ni(o,"underlineStrikethrough");var l=!1;var c=8&e&&4&e;void 0!==s&&(8&n&&4&n?(l=!0,c||i.add.apply(i,s)):c&&i.remove.apply(i,s));for(var _t42 in b){var _r20=b[_t42];if(s=ni(o,_t42),void 0!==s)if(n&_r20){if(l&&("underline"===_t42||"strikethrough"===_t42)){e&_r20&&i.remove.apply(i,s);continue;}(0===(e&_r20)||c&&"underline"===_t42||"strikethrough"===_t42)&&i.add.apply(i,s);}else e&_r20&&i.remove.apply(i,s);}}function xn(t,e,n){var r=e.firstChild,o=n.isComposing(),s=t+(o?v:"");if(null==r)e.textContent=s;else{var _t43=r.nodeValue;if(_t43!==s)if(o||i){var _ref14=function(t,e){var n=t.length,r=e.length;var o=0,i=0;for(;o<n&&o<r&&t[o]===e[o];)o++;for(;i+o<n&&i+o<r&&t[n-i-1]===e[r-i-1];)i++;return[o,n-o-i,e.slice(o,r-i)];}(_t43,s),_e37=_ref14[0],_n29=_ref14[1],_o17=_ref14[2];0!==_n29&&r.deleteData(_e37,_n29),r.insertData(_e37,_o17);}else r.nodeValue=s;}}function Cn(t,e,n,r,o,i){xn(o,t,e);var s=i.theme.text;void 0!==s&&mn(0,0,r,t,s);}function Sn(t,e){var n=document.createElement(e);return n.appendChild(t),n;}var _Nn2=function(_un2){function Nn(t,e){var _this;if(t===void 0){t="";}_this=_un2.call(this,e)||this,_this.__text=t,_this.__format=0,_this.__style="",_this.__mode=0,_this.__detail=0;return _this;}babelHelpers.inheritsLoose(Nn,_un2);Nn.getType=function getType(){return"text";};Nn.clone=function clone(t){return new Nn(t.__text,t.__key);};var _proto4=Nn.prototype;_proto4.afterCloneFrom=function afterCloneFrom(t){_un2.prototype.afterCloneFrom.call(this,t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail;};_proto4.getFormat=function getFormat(){return this.getLatest().__format;};_proto4.getDetail=function getDetail(){return this.getLatest().__detail;};_proto4.getMode=function getMode(){var t=this.getLatest();return D[t.__mode];};_proto4.getStyle=function getStyle(){return this.getLatest().__style;};_proto4.isToken=function isToken(){return 1===this.getLatest().__mode;};_proto4.isComposing=function isComposing(){return this.__key===wo();};_proto4.isSegmented=function isSegmented(){return 2===this.getLatest().__mode;};_proto4.isDirectionless=function isDirectionless(){return!!(1&this.getLatest().__detail);};_proto4.isUnmergeable=function isUnmergeable(){return!!(2&this.getLatest().__detail);};_proto4.hasFormat=function hasFormat(t){var e=b[t];return 0!==(this.getFormat()&e);};_proto4.isSimpleText=function isSimpleText(){return"text"===this.__type&&0===this.__mode;};_proto4.getTextContent=function getTextContent(){return this.getLatest().__text;};_proto4.getFormatFlags=function getFormatFlags(t,e){return Eo(this.getLatest().__format,t,e);};_proto4.canHaveFormat=function canHaveFormat(){return!0;};_proto4.isInline=function isInline(){return!0;};_proto4.createDOM=function createDOM(t,e){var n=this.__format,r=pn(0,n),o=yn(0,n),i=null===r?o:r,s=document.createElement(i);var l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(o),s.appendChild(l));Cn(l,this,0,n,this.__text,t);var c=this.__style;return""!==c&&(s.style.cssText=c),s;};_proto4.updateDOM=function updateDOM(e,n,r){var o=this.__text,i=e.__format,s=this.__format,l=pn(0,i),c=pn(0,s),a=yn(0,i),u=yn(0,s);if((null===l?a:l)!==(null===c?u:c))return!0;if(l===c&&a!==u){var _e38=n.firstChild;null==_e38&&t(48);var _i7=document.createElement(u);return Cn(_i7,this,0,s,o,r),n.replaceChild(_i7,_e38),!1;}var f=n;null!==c&&null!==l&&(f=n.firstChild,null==f&&t(49)),xn(o,f,this);var d=r.theme.text;void 0!==d&&i!==s&&mn(0,i,s,f,d);var h=e.__style,g=this.__style;return h!==g&&(n.style.cssText=g),!1;};Nn.importDOM=function importDOM(){return{"#text":function text(){return{conversion:bn,priority:0};},b:function b(){return{conversion:vn,priority:0};},code:function code(){return{conversion:An,priority:0};},em:function em(){return{conversion:An,priority:0};},i:function i(){return{conversion:An,priority:0};},mark:function mark(){return{conversion:An,priority:0};},s:function s(){return{conversion:An,priority:0};},span:function span(){return{conversion:Tn,priority:0};},strong:function strong(){return{conversion:An,priority:0};},sub:function sub(){return{conversion:An,priority:0};},sup:function sup(){return{conversion:An,priority:0};},u:function u(){return{conversion:An,priority:0};}};};Nn.importJSON=function importJSON(t){return wn().updateFromJSON(t);};_proto4.updateFromJSON=function updateFromJSON(t){return _un2.prototype.updateFromJSON.call(this,t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style);};_proto4.exportDOM=function exportDOM(e){var _un2$prototype$export=_un2.prototype.exportDOM.call(this,e),n=_un2$prototype$export.element;return bi(n)||t(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=Sn(n,"b")),this.hasFormat("italic")&&(n=Sn(n,"i")),this.hasFormat("strikethrough")&&(n=Sn(n,"s")),this.hasFormat("underline")&&(n=Sn(n,"u")),{element:n};};_proto4.exportJSON=function exportJSON(){return babelHelpers["extends"]({detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent()},_un2.prototype.exportJSON.call(this));};_proto4.selectionTransform=function selectionTransform(t,e){};_proto4.setFormat=function setFormat(t){var e=this.getWritable();return e.__format="string"==typeof t?b[t]:t,e;};_proto4.setDetail=function setDetail(t){var e=this.getWritable();return e.__detail="string"==typeof t?O[t]:t,e;};_proto4.setStyle=function setStyle(t){var e=this.getWritable();return e.__style=t,e;};_proto4.toggleFormat=function toggleFormat(t){var e=Eo(this.getFormat(),t,null);return this.setFormat(e);};_proto4.toggleDirectionless=function toggleDirectionless(){var t=this.getWritable();return t.__detail^=1,t;};_proto4.toggleUnmergeable=function toggleUnmergeable(){var t=this.getWritable();return t.__detail^=2,t;};_proto4.setMode=function setMode(t){var e=w[t];if(this.__mode===e)return this;var n=this.getWritable();return n.__mode=e,n;};_proto4.setTextContent=function setTextContent(t){if(this.__text===t)return this;var e=this.getWritable();return e.__text=t,e;};_proto4.select=function select(t,e){Nr();var n=t,r=e;var o=or(),i=this.getTextContent(),s=this.__key;if("string"==typeof i){var _t44=i.length;void 0===n&&(n=_t44),void 0===r&&(r=_t44);}else n=0,r=0;if(!Wn(o))return tr(s,n,s,r,"text","text");{var _t45=wo();_t45!==o.anchor.key&&_t45!==o.focus.key||Ao(s),o.setTextNodeRange(this,n,this,r);}return o;};_proto4.selectStart=function selectStart(){return this.select(0,0);};_proto4.selectEnd=function selectEnd(){var t=this.getTextContentSize();return this.select(t,t);};_proto4.spliceText=function spliceText(t,e,n,r){var o=this.getWritable(),i=o.__text,s=n.length;var l=t;l<0&&(l=s+l,l<0&&(l=0));var c=or();if(r&&Wn(c)){var _e39=t+s;c.setTextNodeRange(o,_e39,o,_e39);}var a=i.slice(0,l)+n+i.slice(l+e);return o.__text=a,o;};_proto4.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto4.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto4.splitText=function splitText(){Nr();var e=this.getLatest(),n=e.getTextContent();if(""===n)return[];var r=e.__key,o=wo(),i=n.length;for(var _len4=arguments.length,t=new Array(_len4),_key4=0;_key4<_len4;_key4++){t[_key4]=arguments[_key4];}t.sort(function(t,e){return t-e;}),t.push(i);var s=[],l=t.length;for(var _e40=0,_r21=0;_e40<i&&_r21<=l;_r21++){var _o18=t[_r21];_o18>_e40&&(s.push(n.slice(_e40,_o18)),_e40=_o18);}var c=s.length;if(1===c)return[e];var a=s[0],u=e.getParent();var f;var d=e.getFormat(),h=e.getStyle(),g=e.__detail;var _=!1,p=null,y=null;var m=or();if(Wn(m)){var _ref15=m.isBackward()?[m.focus,m.anchor]:[m.anchor,m.focus],_t46=_ref15[0],_e41=_ref15[1];"text"===_t46.type&&_t46.key===r&&(p=_t46),"text"===_e41.type&&_e41.key===r&&(y=_e41);}e.isSegmented()?(f=wn(a),f.__format=d,f.__style=h,f.__detail=g,f.__state=et(e,f),_=!0):f=e.setTextContent(a);var x=[f];for(var _t47=1;_t47<c;_t47++){var _n30=wn(s[_t47]);_n30.__format=d,_n30.__style=h,_n30.__detail=g,_n30.__state=et(e,_n30);var _i8=_n30.__key;o===r&&Ao(_i8),x.push(_n30);}var C=p?p.offset:null,S=y?y.offset:null;var N=0;for(var _t48 of x){if(!p&&!y)break;var _e42=N+_t48.getTextContentSize();if(null!==p&&null!==C&&C<=_e42&&C>=N&&(p.set(_t48.getKey(),C-N,"text"),C<_e42&&(p=null)),null!==y&&null!==S&&S<=_e42&&S>=N){y.set(_t48.getKey(),S-N,"text");break;}N=_e42;}if(null!==u){!function(t){var e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&Mo(e);null!==n&&Mo(n);}(this);var _t49=u.getWritable(),_e43=this.getIndexWithinParent();_?(_t49.splice(_e43,0,x),this.remove()):_t49.splice(_e43,1,x),Wn(m)&&sr(m,u,_e43,c-1);}return x;};_proto4.mergeWithSibling=function mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||t(50);var r=this.__key,o=e.__key,i=this.__text,s=i.length;wo()===o&&Ao(r);var l=or();if(Wn(l)){var _t50=l.anchor,_i9=l.focus;null!==_t50&&_t50.key===o&&ar(_t50,n,r,e,s),null!==_i9&&_i9.key===o&&ar(_i9,n,r,e,s);}var c=e.__text,a=n?c+i:i+c;this.setTextContent(a);var u=this.getWritable();return e.remove(),u;};_proto4.isTextEntity=function isTextEntity(){return!1;};return Nn;}(_un5);function Tn(t){return{forChild:Pn(t.style),node:null};}function vn(t){var e=t,n="normal"===e.style.fontWeight;return{forChild:Pn(e.style,n?void 0:"bold"),node:null};}var kn=new WeakMap();function En(t){if(!bi(t))return!1;if("PRE"===t.nodeName)return!0;var e=t.style.whiteSpace;return"string"==typeof e&&e.startsWith("pre");}function bn(e){var n=e;null===e.parentElement&&t(129);var r=n.textContent||"";if(null!==function(t){var e,n=t.parentNode;var r=[t];for(;null!==n&&void 0===(e=kn.get(n))&&!En(n);)r.push(n),n=n.parentNode;var o=void 0===e?n:e;for(var _t51=0;_t51<r.length;_t51++)kn.set(r[_t51],o);return o;}(n)){var _t52=r.split(/(\r?\n|\t)/),_e44=[],_n31=_t52.length;for(var _r22=0;_r22<_n31;_r22++){var _n32=_t52[_r22];"\n"===_n32||"\r\n"===_n32?_e44.push(hn()):"\t"===_n32?_e44.push(Ln()):""!==_n32&&_e44.push(wn(_n32));}return{node:_e44};}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===r)return{node:null};if(" "===r[0]){var _t53=n,_e45=!0;for(;null!==_t53&&null!==(_t53=On(_t53,!1));){var _n33=_t53.textContent||"";if(_n33.length>0){/[ \t\n]$/.test(_n33)&&(r=r.slice(1)),_e45=!1;break;}}_e45&&(r=r.slice(1));}if(" "===r[r.length-1]){var _t54=n,_e46=!0;for(;null!==_t54&&null!==(_t54=On(_t54,!0));){if((_t54.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){_e46=!1;break;}}_e46&&(r=r.slice(0,r.length-1));}return""===r?{node:null}:{node:wn(r)};}function On(t,e){var n=t;for(;;){var _t55=void 0;for(;null===(_t55=e?n.nextSibling:n.previousSibling);){var _t56=n.parentElement;if(null===_t56)return null;n=_t56;}if(n=_t55,bi(n)){var _t57=n.style.display;if(""===_t57&&!Ai(n)||""!==_t57&&!_t57.startsWith("inline"))return null;}var _r23=n;for(;null!==(_r23=e?n.firstChild:n.lastChild);)n=_r23;if(To(n))return n;if("BR"===n.nodeName)return null;}}var Mn={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function An(t){var e=Mn[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:Pn(t.style,e),node:null};}function wn(t){if(t===void 0){t="";}return Ci(new _Nn2(t));}function Dn(t){return t instanceof _Nn2;}function Pn(t,e){var n=t.fontWeight,r=t.textDecoration.split(" "),o="700"===n||"bold"===n,i=r.includes("line-through"),s="italic"===t.fontStyle,l=r.includes("underline"),c=t.verticalAlign;return function(t){return Dn(t)?(o&&!t.hasFormat("bold")&&t.toggleFormat("bold"),i&&!t.hasFormat("strikethrough")&&t.toggleFormat("strikethrough"),s&&!t.hasFormat("italic")&&t.toggleFormat("italic"),l&&!t.hasFormat("underline")&&t.toggleFormat("underline"),"sub"!==c||t.hasFormat("subscript")||t.toggleFormat("subscript"),"super"!==c||t.hasFormat("superscript")||t.toggleFormat("superscript"),e&&!t.hasFormat(e)&&t.toggleFormat(e),t):t;};}var _In=function(_Nn){function In(t){var _this2;_this2=_Nn.call(this,"\t",t)||this,_this2.__detail=2;return _this2;}babelHelpers.inheritsLoose(In,_Nn);In.getType=function getType(){return"tab";};In.clone=function clone(t){return new In(t.__key);};In.importDOM=function importDOM(){return null;};var _proto5=In.prototype;_proto5.createDOM=function createDOM(t){var e=_Nn.prototype.createDOM.call(this,t),n=ni(t.theme,"tab");if(void 0!==n){var _e$classList;(_e$classList=e.classList).add.apply(_e$classList,n);}return e;};In.importJSON=function importJSON(t){return Ln().updateFromJSON(t);};_proto5.setTextContent=function setTextContent(t){return"\t"!==t&&""!==t&&e(126),_Nn.prototype.setTextContent.call(this,"\t");};_proto5.spliceText=function spliceText(e,n,r,o){return""===r&&0===n||"\t"===r&&1===n||t(286),this;};_proto5.setDetail=function setDetail(e){return 2!==e&&t(127),this;};_proto5.setMode=function setMode(e){return"normal"!==e&&t(128),this;};_proto5.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto5.canInsertTextAfter=function canInsertTextAfter(){return!1;};return In;}(_Nn2);function Ln(){return Ci(new _In());}function Fn(t){return t instanceof _In;}var _Rn=function(){function Rn(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n;}var _proto6=Rn.prototype;_proto6.is=function is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type;};_proto6.isBefore=function isBefore(t){if(this.key===t.key)return this.offset<t.offset;return ys(ws(Ns(this,"next")),ws(Ns(t,"next")))<0;};_proto6.getNode=function getNode(){var e=Do(this.key);return null===e&&t(20),e;};_proto6.set=function set(t,e,n,r){var o=this._selection,i=this.key;r&&this.key===t&&this.offset===e&&this.type===n||(this.key=t,this.offset=e,this.type=n,Sr()||(wo()===i&&Ao(t),null!==o&&(o.setCachedNodes(null),o.dirty=!0)));};return Rn;}();function Kn(t,e,n){return new _Rn(t,e,n);}function Bn(t,e){var n=e.__key,r=t.offset,o="element";if(Dn(e)){o="text";var _t58=e.getTextContentSize();r>_t58&&(r=_t58);}else if(!$r(e)){var _t59=e.getNextSibling();if(Dn(_t59))n=_t59.__key,r=0,o="text";else{var _t60=e.getParent();_t60&&(n=_t60.__key,r=e.getIndexWithinParent()+1);}}t.set(n,r,o);}function zn(t,e){if($r(e)){var _n34=e.getLastDescendant();$r(_n34)||Dn(_n34)?Bn(t,_n34):Bn(t,e);}else Bn(t,e);}var _$n=function(){function $n(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1;}var _proto7=$n.prototype;_proto7.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto7.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto7.is=function is(t){if(!Jn(t))return!1;var e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every(function(t){return n.has(t);});};_proto7.isCollapsed=function isCollapsed(){return!1;};_proto7.isBackward=function isBackward(){return!1;};_proto7.getStartEndPoints=function getStartEndPoints(){return null;};_proto7.add=function add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null;};_proto7["delete"]=function _delete(t){this.dirty=!0,this._nodes["delete"](t),this._cachedNodes=null;};_proto7.clear=function clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null;};_proto7.has=function has(t){return this._nodes.has(t);};_proto7.clone=function clone(){return new $n(new Set(this._nodes));};_proto7.extract=function extract(){return this.getNodes();};_proto7.insertRawText=function insertRawText(t){};_proto7.insertText=function insertText(){};_proto7.insertNodes=function insertNodes(t){var e=this.getNodes(),n=e.length,r=e[n-1];var o;if(Dn(r))o=r.select();else{var _t61=r.getIndexWithinParent()+1;o=r.getParentOrThrow().select(_t61,_t61);}o.insertNodes(t);for(var _t62=0;_t62<n;_t62++)e[_t62].remove();};_proto7.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=this._nodes,n=[];for(var _t63 of e){var _e47=Do(_t63);null!==_e47&&n.push(_e47);}return Sr()||(this._cachedNodes=n),n;};_proto7.getTextContent=function getTextContent(){var t=this.getNodes();var e="";for(var _n35=0;_n35<t.length;_n35++)e+=t[_n35].getTextContent();return e;};_proto7.deleteNodes=function deleteNodes(){var t=this.getNodes();if((or()||ir())===this&&t[0]){var _e48=os(t[0],"next");vs(_s(_e48,_e48));}for(var _e49 of t)_e49.remove();};return $n;}();function Wn(t){return t instanceof _Un;}var _Un=function(){function Un(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1;}var _proto8=Un.prototype;_proto8.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto8.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto8.is=function is(t){return!!Wn(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style;};_proto8.isCollapsed=function isCollapsed(){return this.anchor.is(this.focus);};_proto8.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=function(t){var e=[],_t$getTextSlices=t.getTextSlices(),n=_t$getTextSlices[0],r=_t$getTextSlices[1];n&&e.push(n.caret.origin);var o=new Set(),i=new Set();for(var _n36 of t)if(ts(_n36)){var _t64=_n36.origin;0===e.length?o.add(_t64):(i.add(_t64),e.push(_t64));}else{var _t65=_n36.origin;$r(_t65)&&i.has(_t65)||e.push(_t65);}r&&e.push(r.caret.origin);if(Zi(t.focus)&&$r(t.focus.origin)&&null===t.focus.getNodeAtCaret())for(var _n37=cs(t.focus.origin,"previous");ts(_n37)&&o.has(_n37.origin)&&!_n37.origin.isEmpty()&&_n37.origin.is(e[e.length-1]);_n37=us(_n37))o["delete"](_n37.origin),e.pop();for(;e.length>1;){var _t66=e[e.length-1];if(!$r(_t66)||i.has(_t66)||_t66.isEmpty()||o.has(_t66))break;e.pop();}if(0===e.length&&t.isCollapsed()){var _n38=ws(t.anchor),_r24=ws(t.anchor.getFlipped()),_o19=function _o19(t){return Qi(t)?t.origin:t.getNodeAtCaret();},_i0=_o19(_n38)||_o19(_r24)||(t.anchor.getNodeAtCaret()?_n38.origin:_r24.origin);e.push(_i0);}return e;}(Is(Es(this),"next"));return Sr()||(this._cachedNodes=e),e;};_proto8.setTextNodeRange=function setTextNodeRange(t,e,n,r){this.anchor.set(t.__key,e,"text"),this.focus.set(n.__key,r,"text");};_proto8.getTextContent=function getTextContent(){var t=this.getNodes();if(0===t.length)return"";var e=t[0],n=t[t.length-1],r=this.anchor,o=this.focus,i=r.isBefore(o),_jn=jn(this),s=_jn[0],l=_jn[1];var c="",a=!0;for(var _u5=0;_u5<t.length;_u5++){var _f5=t[_u5];if($r(_f5)&&!_f5.isInline())a||(c+="\n"),a=!_f5.isEmpty();else if(a=!1,Dn(_f5)){var _t67=_f5.getTextContent();_f5===e?_f5===n?"element"===r.type&&"element"===o.type&&o.offset!==r.offset||(_t67=s<l?_t67.slice(s,l):_t67.slice(l,s)):_t67=i?_t67.slice(s):_t67.slice(l):_f5===n&&(_t67=i?_t67.slice(0,l):_t67.slice(0,s)),c+=_t67;}else!Jr(_f5)&&!gn(_f5)||_f5===n&&this.isCollapsed()||(c+=_f5.getTextContent());}return c;};_proto8.applyDOMRange=function applyDOMRange(t){var e=kr(),n=e.getEditorState()._selection,r=Zn(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;var o=r[0],i=r[1];this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(i.key,i.offset,i.type,!0),it(this);};_proto8.clone=function clone(){var t=this.anchor,e=this.focus;return new Un(Kn(t.key,t.offset,t.type),Kn(e.key,e.offset,e.type),this.format,this.style);};_proto8.toggleFormat=function toggleFormat(t){this.format=Eo(this.format,t,null),this.dirty=!0;};_proto8.setFormat=function setFormat(t){this.format=t,this.dirty=!0;};_proto8.setStyle=function setStyle(t){this.style=t,this.dirty=!0;};_proto8.hasFormat=function hasFormat(t){var e=b[t];return 0!==(this.format&e);};_proto8.insertRawText=function insertRawText(t){var e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(var _t68=0;_t68<r;_t68++){var _r25=e[_t68];"\n"===_r25||"\r\n"===_r25?n.push(hn()):"\t"===_r25?n.push(Ln()):n.push(wn(_r25));}this.insertNodes(n);};_proto8.insertText=function insertText(e){var n=this.anchor,r=this.focus,o=this.format,i=this.style;var s=n,l=r;!this.isCollapsed()&&r.isBefore(n)&&(s=r,l=n),"element"===s.type&&function(t,e,n,r){var o=t.getNode(),i=o.getChildAtIndex(t.offset),s=wn();if(s.setFormat(n),s.setStyle(r),io(i))i.splice(0,0,[s]);else{var _t69=jr(o)?oo().append(s):s;null===i?o.append(_t69):i.insertBefore(_t69);}t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text");}(s,l,o,i),"element"===l.type&&Ts(l,ws(Ns(l,"next")));var c=s.offset;var a=l.offset;var u=this.getNodes(),f=u.length;var d=u[0];Dn(d)||t(26);var h=d.getTextContent().length,g=d.getParentOrThrow();var _=u[f-1];if(1===f&&"element"===l.type&&(a=h,l.set(s.key,a,"text")),this.isCollapsed()&&c===h&&(No(d)||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&null===d.getNextSibling())){var _t70=d.getNextSibling();if(Dn(_t70)&&_t70.canInsertTextBefore()&&!No(_t70)||(_t70=wn(),_t70.setFormat(o),_t70.setStyle(i),g.canInsertTextAfter()?d.insertAfter(_t70):g.insertAfter(_t70)),_t70.select(0,0),d=_t70,""!==e)return void this.insertText(e);}else if(this.isCollapsed()&&0===c&&(No(d)||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&null===d.getPreviousSibling())){var _t71=d.getPreviousSibling();if(Dn(_t71)&&!No(_t71)||(_t71=wn(),_t71.setFormat(o),g.canInsertTextBefore()?d.insertBefore(_t71):g.insertBefore(_t71)),_t71.select(),d=_t71,""!==e)return void this.insertText(e);}else if(d.isSegmented()&&c!==h){var _t72=wn(d.getTextContent());_t72.setFormat(o),d.replace(_t72),d=_t72;}else if(!this.isCollapsed()&&""!==e){var _t73=_.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||$r(_t73)&&(!_t73.canInsertTextBefore()||!_t73.canInsertTextAfter()))return this.insertText(""),Qn(this.anchor,this.focus,null),void this.insertText(e);}if(1===f){if(So(d)){var _t74=wn(e);return _t74.select(),void d.replace(_t74);}var _t75=d.getFormat(),_n39=d.getStyle();if(c!==a||_t75===o&&_n39===i){if(Fn(d)){var _t76=wn(e);return _t76.setFormat(o),_t76.setStyle(i),_t76.select(),void d.replace(_t76);}}else{if(""!==d.getTextContent()){var _t77=wn(e);if(_t77.setFormat(o),_t77.setStyle(i),_t77.select(),0===c)d.insertBefore(_t77,!1);else{var _d$splitText=d.splitText(c),_e50=_d$splitText[0];_e50.insertAfter(_t77,!1);}return void(_t77.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));}d.setFormat(o),d.setStyle(i);}var _r26=a-c;d=d.spliceText(c,_r26,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=_t75,this.style=_n39));}else{var _t78=new Set([].concat(d.getParentKeys(),_.getParentKeys())),_n40=$r(d)?d:d.getParentOrThrow();var _r27=$r(_)?_:_.getParentOrThrow(),_o20=_;if(!_n40.is(_r27)&&_r27.isInline())do{_o20=_r27,_r27=_r27.getParentOrThrow();}while(_r27.isInline());if("text"===l.type&&(0!==a||""===_.getTextContent())||"element"===l.type&&_.getIndexWithinParent()<a){if(Dn(_)&&!So(_)&&a!==_.getTextContentSize()){if(_.isSegmented()){var _t79=wn(_.getTextContent());_.replace(_t79),_=_t79;}jr(l.getNode())||"text"!==l.type||(_=_.spliceText(0,a,"")),_t78.add(_.__key);}else{var _t80=_.getParentOrThrow();_t80.canBeEmpty()||1!==_t80.getChildrenSize()?_.remove():_t80.remove();}}else _t78.add(_.__key);var _i1=_r27.getChildren(),_s8=new Set(u),_g5=_n40.is(_r27),_p2=_n40.isInline()&&null===d.getNextSibling()?_n40:d;for(var _t81=_i1.length-1;_t81>=0;_t81--){var _e51=_i1[_t81];if(_e51.is(d)||$r(_e51)&&_e51.isParentOf(d))break;_e51.isAttached()&&(!_s8.has(_e51)||_e51.is(_o20)?_g5||_p2.insertAfter(_e51,!1):_e51.remove());}if(!_g5){var _e52=_r27,_n41=null;for(;null!==_e52;){var _r28=_e52.getChildren(),_o21=_r28.length;(0===_o21||_r28[_o21-1].is(_n41))&&(_t78["delete"](_e52.__key),_n41=_e52),_e52=_e52.getParent();}}if(So(d)){if(c===h)d.select();else{var _t82=wn(e);_t82.select(),d.replace(_t82);}}else d=d.spliceText(c,h-c,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(var _e53=1;_e53<f;_e53++){var _n42=u[_e53],_r29=_n42.__key;_t78.has(_r29)||_n42.remove();}}};_proto8.removeText=function removeText(){var t=or()===this;ks(this,As(Es(this))),t&&or()!==this&&zo(this);};_proto8.formatText=function formatText(t,e){var _d$splitText2,_p$splitText;if(e===void 0){e=null;}if(this.isCollapsed())return this.toggleFormat(t),void Ao(null);var n=this.getNodes(),r=[];for(var _t83 of n)Dn(_t83)&&r.push(_t83);var o=function o(e){n.forEach(function(n){if($r(n)){var _r30=n.getFormatFlags(t,e);n.setTextFormat(_r30);}});},i=r.length;if(0===i)return this.toggleFormat(t),Ao(null),void o(e);var s=this.anchor,l=this.focus,c=this.isBackward(),a=c?l:s,u=c?s:l;var f=0,d=r[0],h="element"===a.type?0:a.offset;if("text"===a.type&&h===d.getTextContentSize()&&(f=1,d=r[1],h=0),null==d)return;var g=d.getFormatFlags(t,e);o(g);var _=i-1;var p=r[_];var y="text"===u.type?u.offset:p.getTextContentSize();if(d.is(p)){if(h===y)return;if(No(d)||0===h&&y===d.getTextContentSize())d.setFormat(g);else{var _t84=d.splitText(h,y),_e54=0===h?_t84[0]:_t84[1];_e54.setFormat(g),"text"===a.type&&a.set(_e54.__key,0,"text"),"text"===u.type&&u.set(_e54.__key,y-h,"text");}return void(this.format=g);}0===h||No(d)||(_d$splitText2=d.splitText(h),d=_d$splitText2[1],h=0),d.setFormat(g);var m=p.getFormatFlags(t,g);y>0&&(y===p.getTextContentSize()||No(p)||(_p$splitText=p.splitText(y),p=_p$splitText[0],_p$splitText),p.setFormat(m));for(var _e55=f+1;_e55<_;_e55++){var _n43=r[_e55],_o22=_n43.getFormatFlags(t,m);_n43.setFormat(_o22);}"text"===a.type&&a.set(d.__key,h,"text"),"text"===u.type&&u.set(p.__key,y,"text"),this.format=g|m;};_proto8.insertNodes=function insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();var _n44=or();return Wn(_n44)||t(134),_n44.insertNodes(e);}var n=(this.isBackward()?this.focus:this.anchor).getNode(),r=Ui(n,Di),o=e[e.length-1];if($r(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{var _t85=dr(this);r.splice(_t85,0,e),o.selectEnd();}return;}if(!e.some(function(t){return($r(t)||Jr(t))&&!t.isInline();})){$r(r)||t(211,n.constructor.name,n.getType());var _i10=dr(this);return r.splice(_i10,0,e),void o.selectEnd();}var i=function(t){var e=oo();var n=null;for(var _r31=0;_r31<t.length;_r31++){var _o23=t[_r31],_i11=gn(_o23);if(_i11||Jr(_o23)&&_o23.isInline()||$r(_o23)&&_o23.isInline()||Dn(_o23)||_o23.isParentRequired()){if(null===n&&(n=_o23.createParentElementNode(),e.append(n),_i11))continue;null!==n&&n.append(_o23);}else e.append(_o23),n=null;}return e;}(e),s=i.getLastDescendant(),l=i.getChildren(),c=!$r(r)||!r.isEmpty()?this.insertParagraph():null,a=l[l.length-1];var u=l[0];var f;$r(f=u)&&Di(f)&&!f.isEmpty()&&$r(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&($r(r)||t(211,n.constructor.name,n.getType()),r.append.apply(r,u.getChildren()),u=l[1]),u&&(null===r&&t(212,n.constructor.name,n.getType()),function(e,n){var r=n.getParentOrThrow().getLastChild();var o=n;var i=[n];for(;o!==r;)o.getNextSibling()||t(140),o=o.getNextSibling(),i.push(o);var s=e;for(var _t86 of i)s=s.insertAfter(_t86);}(r,u));var d=Ui(s,Di);c&&$r(d)&&(c.canMergeWhenEmpty()||Di(a))&&(d.append.apply(d,c.getChildren()),c.remove()),$r(r)&&r.isEmpty()&&r.remove(),s.selectEnd();var h=$r(r)?r.getLastChild():null;gn(h)&&d!==r&&h.remove();};_proto8.insertParagraph=function insertParagraph(){if("root"===this.anchor.key){var _t87=oo();return Ko().splice(this.anchor.offset,0,[_t87]),_t87.select(),_t87;}var e=dr(this),n=Ui(this.anchor.getNode(),Di);$r(n)||t(213);var r=n.getChildAtIndex(e),o=r?[r].concat(r.getNextSiblings()):[],i=n.insertNewAfter(this,!1);return i?(i.append.apply(i,o),i.selectStart(),i):null;};_proto8.insertLineBreak=function insertLineBreak(t){var e=hn();if(this.insertNodes([e]),t){var _t88=e.getParentOrThrow(),_n45=e.getIndexWithinParent();_t88.select(_n45,_n45);}};_proto8.extract=function extract(){var _n$splitText;var t=[].concat(this.getNodes()),e=t.length;var n=t[0],r=t[e-1];var _jn2=jn(this),o=_jn2[0],i=_jn2[1],s=this.isBackward(),_ref16=s?[this.focus,this.anchor]:[this.anchor,this.focus],l=_ref16[0],c=_ref16[1],_ref17=s?[i,o]:[o,i],a=_ref17[0],u=_ref17[1];if(0===e)return[];if(1===e){if(Dn(n)&&!this.isCollapsed()){var _t89=n.splitText(a,u),_e56=0===a?_t89[0]:_t89[1];return _e56?(l.set(_e56.getKey(),0,"text"),c.set(_e56.getKey(),_e56.getTextContentSize(),"text"),[_e56]):[];}return[n];}if(Dn(n)&&(a===n.getTextContentSize()?t.shift():0!==a&&(_n$splitText=n.splitText(a),n=_n$splitText[1],t[0]=n,l.set(n.getKey(),0,"text"))),Dn(r)){var _r$splitText;var _e57=r.getTextContent().length;0===u?t.pop():u!==_e57&&(_r$splitText=r.splitText(u),r=_r$splitText[0],t[t.length-1]=r,c.set(r.getKey(),r.getTextContentSize(),"text"));}return t;};_proto8.modify=function modify(t,e,n){if(gr(this,t,e,n))return;var r="move"===t,o=kr(),i=ki(pi(o));if(!i)return;var s=o._blockCursorElement,l=o._rootElement,c=this.focus.getNode();if(null===l||null===s||!$r(c)||c.isInline()||c.canBeEmpty()||vi(s,o,l),this.dirty){var _t90=ai(o,this.anchor.key),_e58=ai(o,this.focus.key);"text"===this.anchor.type&&(_t90=ko(_t90)),"text"===this.focus.type&&(_e58=ko(_e58)),_t90&&_e58&&ur(i,_t90,this.anchor.offset,_e58,this.focus.offset);}if(function(t,e,n,r){t.modify(e,n,r);}(i,t,e?"backward":"forward",n),i.rangeCount>0){var _t91=i.getRangeAt(0),_n46=this.anchor.getNode(),_o24=jr(_n46)?_n46:yi(_n46);if(this.applyDOMRange(_t91),this.dirty=!0,!r){var _n47=this.getNodes(),_r32=[];var _s9=!1;for(var _t92=0;_t92<_n47.length;_t92++){var _e59=_n47[_t92];gi(_e59,_o24)?_r32.push(_e59):_s9=!0;}if(_s9&&_r32.length>0)if(e){var _t93=_r32[0];$r(_t93)?_t93.selectStart():_t93.getParentOrThrow().selectStart();}else{var _t94=_r32[_r32.length-1];$r(_t94)?_t94.selectEnd():_t94.getParentOrThrow().selectEnd();}i.anchorNode===_t91.startContainer&&i.anchorOffset===_t91.startOffset||function(t){var e=t.focus,n=t.anchor,r=n.key,o=n.offset,i=n.type;n.set(e.key,e.offset,e.type,!0),e.set(r,o,i,!0);}(this);}}"lineboundary"===n&&gr(this,t,e,n,"decorators");};_proto8.forwardDeletion=function forwardDeletion(t,e,n){if(!n&&("element"===t.type&&$r(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){var _t95=e.getParent(),_n48=e.getNextSibling()||(null===_t95?null:_t95.getNextSibling());if($r(_n48)&&_n48.isShadowRoot())return!0;}return!1;};_proto8.deleteCharacter=function deleteCharacter(t){var e=this.isCollapsed();if(this.isCollapsed()){var _e60=this.anchor;var _n49=_e60.getNode();if(this.forwardDeletion(_e60,_n49,t))return;var _r33=hs(Ns(_e60,t?"previous":"next"));if(_r33.getTextSlices().every(function(t){return null===t||0===t.distance;})){var _t96={type:"initial"};for(var _e61 of _r33.iterNodeCarets("shadowRoot"))if(ts(_e61)){if(_e61.origin.isInline());else{if(_e61.origin.isShadowRoot()){if("merge-block"===_t96.type)break;if($r(_r33.anchor.origin)&&_r33.anchor.origin.isEmpty()){var _t97=ws(_e61);ks(this,_s(_t97,_t97)),_r33.anchor.origin.remove();}return;}"merge-next-block"!==_t96.type&&"merge-block"!==_t96.type||(_t96={block:_t96.block,caret:_e61,type:"merge-block"});}}else{if("merge-block"===_t96.type)break;if(Zi(_e61)){if($r(_e61.origin)){if(_e61.origin.isInline()){if(!_e61.origin.isParentOf(_r33.anchor.origin))break;}else _t96={block:_e61.origin,type:"merge-next-block"};continue;}if(Jr(_e61.origin)){if(_e61.origin.isIsolated());else if("merge-next-block"===_t96.type&&(_e61.origin.isKeyboardSelectable()||!_e61.origin.isInline())&&$r(_r33.anchor.origin)&&_r33.anchor.origin.isEmpty()){_r33.anchor.origin.remove();var _t98=nr();_t98.add(_e61.origin.getKey()),zo(_t98);}else _e61.origin.remove();return;}break;}}if("merge-block"===_t96.type){var _t99=_t96,_e62=_t99.caret,_n50=_t99.block;return ks(this,_s(!_e62.origin.isEmpty()&&_n50.isEmpty()?bs(os(_n50,_e62.direction)):_r33.anchor,_e62)),this.removeText();}}var _o25=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===_e60.offset&&Hn(this,_e60.getNode()))return;}else{var _r34="text"===_o25.type?_o25.getNode():null;if(_n49="text"===_e60.type?_e60.getNode():null,null!==_r34&&_r34.isSegmented()){var _e63=_o25.offset,_i12=_r34.getTextContentSize();if(_r34.is(_n49)||t&&_e63!==_i12||!t&&0!==_e63)return void Gn(_r34,t,_e63);}else if(null!==_n49&&_n49.isSegmented()){var _o26=_e60.offset,_i13=_n49.getTextContentSize();if(_n49.is(_r34)||t&&0!==_o26||!t&&_o26!==_i13)return void Gn(_n49,t,_o26);}!function(t,e){var n=t.anchor,r=t.focus,o=n.getNode(),i=r.getNode();if(o===i&&"text"===n.type&&"text"===r.type){var _t100=n.offset,_i14=r.offset,_s0=_t100<_i14,_l4=_s0?_t100:_i14,_c4=_s0?_i14:_t100,_a5=_c4-1;if(_l4!==_a5){(function(t){return!(Wo(t)||Vn(t));})(o.getTextContent().slice(_l4,_c4))&&(e?r.set(r.key,_a5,r.type):n.set(n.key,_a5,n.type));}}}(this,t);}}if(this.removeText(),t&&!e&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){var _t101=this.anchor.getNode();_t101.isEmpty()&&jr(_t101.getParent())&&null===_t101.getPreviousSibling()&&Hn(this,_t101);}};_proto8.deleteLine=function deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText();};_proto8.deleteWord=function deleteWord(t){if(this.isCollapsed()){var _e64=this.anchor,_n51=_e64.getNode();if(this.forwardDeletion(_e64,_n51,t))return;this.modify("extend",t,"word");}this.removeText();};_proto8.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto8.getStartEndPoints=function getStartEndPoints(){return[this.anchor,this.focus];};return Un;}();function Jn(t){return t instanceof _$n;}function Yn(t){var e=t.offset;if("text"===t.type)return e;var n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0;}function jn(t){var e=t.getStartEndPoints();if(null===e)return[0,0];var n=e[0],r=e[1];return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Yn(n),Yn(r)];}function Hn(t,e){for(var _n52=e;_n52;_n52=_n52.getParent()){if($r(_n52)){if(_n52.collapseAtStart(t))return!0;if(mi(_n52))break;}if(_n52.getPreviousSibling())break;}return!1;}var Vn=function(){try{var _t102=new RegExp("\\p{Emoji}","u"),_e65=_t102.test.bind(_t102);if(_e65("❤️")&&_e65("#️⃣")&&_e65("👍"))return _e65;}catch(t){}return function(){return!1;};}();function Gn(t,e,n){var r=t,o=r.getTextContent().split(/(?=\s)/g),i=o.length;var s=0,l=0;for(var _t103=0;_t103<i;_t103++){var _r35=_t103===i-1;if(l=s,s+=o[_t103].length,e&&s===n||s>n||_r35){o.splice(_t103,1),_r35&&(l=void 0);break;}}var c=o.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l));}function qn(e,n,r,o){var i,s=n;if(bi(e)){var _l5=!1;var _c5=e.childNodes,_a6=_c5.length,_u6=o._blockCursorElement;s===_a6&&(_l5=!0,s=_a6-1);var _f6=_c5[s],_d4=!1;if(_f6===_u6)_f6=_c5[s+1],_d4=!0;else if(null!==_u6){var _t104=_u6.parentNode;if(e===_t104){n>Array.prototype.indexOf.call(_t104.children,_u6)&&s--;}}if(i=$o(_f6),Dn(i))s=ss(i,_l5?"next":"previous");else{var _c6=$o(e);if(null===_c6)return null;if($r(_c6)){var _u7$resolveChildIndex;var _a7=o.getElementByKey(_c6.getKey());null===_a7&&t(214);var _u7=_c6.getDOMSlot(_a7);_u7$resolveChildIndex=_u7.resolveChildIndex(_c6,_a7,e,n),_c6=_u7$resolveChildIndex[0],s=_u7$resolveChildIndex[1],$r(_c6)||t(215),_l5&&s>=_c6.getChildrenSize()&&(s=Math.max(0,_c6.getChildrenSize()-1));var _f7=_c6.getChildAtIndex(s);if($r(_f7)&&function(t,e,n){var r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode();}(_f7,0,r)){var _t105=_l5?_f7.getLastDescendant():_f7.getFirstDescendant();null===_t105?_c6=_f7:(_f7=_t105,_c6=$r(_f7)?_f7:_f7.getParentOrThrow()),s=0;}Dn(_f7)?(i=_f7,_c6=null,s=ss(_f7,_l5?"next":"previous")):_f7!==_c6&&_l5&&!_d4&&($r(_c6)||t(216),s=Math.min(_c6.getChildrenSize(),s+1));}else{var _t106=_c6.getIndexWithinParent();s=0===n&&Jr(_c6)&&$o(e)===_c6?_t106:_t106+1,_c6=_c6.getParentOrThrow();}if($r(_c6))return Kn(_c6.__key,s,"element");}}else i=$o(e);return Dn(i)?Kn(i.__key,ss(i,s,"clamp"),"text"):null;}function Xn(t,e,n){var r=t.offset,o=t.getNode();if(0===r){var _r36=o.getPreviousSibling(),_i15=o.getParent();if(e){if((n||!e)&&null===_r36&&$r(_i15)&&_i15.isInline()){var _e66=_i15.getPreviousSibling();Dn(_e66)&&t.set(_e66.__key,_e66.getTextContent().length,"text");}}else $r(_r36)&&!n&&_r36.isInline()?t.set(_r36.__key,_r36.getChildrenSize(),"element"):Dn(_r36)&&t.set(_r36.__key,_r36.getTextContent().length,"text");}else if(r===o.getTextContent().length){var _r37=o.getNextSibling(),_i16=o.getParent();if(e&&$r(_r37)&&_r37.isInline())t.set(_r37.__key,0,"element");else if((n||e)&&null===_r37&&$r(_i16)&&_i16.isInline()&&!_i16.canInsertTextAfter()){var _e67=_i16.getNextSibling();Dn(_e67)&&t.set(_e67.__key,0,"text");}}}function Qn(t,e,n){if("text"===t.type&&"text"===e.type){var _r38=t.isBefore(e),_o27=t.is(e);Xn(t,_r38,_o27),Xn(e,!_r38,_o27),_o27&&e.set(t.key,t.offset,t.type);var _i17=kr();if(_i17.isComposing()&&_i17._compositionKey!==t.key&&Wn(n)){var _r39=n.anchor,_o28=n.focus;t.set(_r39.key,_r39.offset,_r39.type,!0),e.set(_o28.key,_o28.offset,_o28.type,!0);}}}function Zn(t,e,n,r,o,i){if(null===t||null===n||!yo(o,t,n))return null;var s=qn(t,e,Wn(i)?i.anchor:null,o);if(null===s)return null;var l=qn(n,r,Wn(i)?i.focus:null,o);if(null===l)return null;if("element"===s.type&&"element"===l.type){var _e68=$o(t),_r40=$o(n);if(Jr(_e68)&&Jr(_r40))return null;}return Qn(s,l,i),[s,l];}function tr(t,e,n,r,o,i){var s=vr(),l=new _Un(Kn(t,e,o),Kn(n,r,i),0,"");return l.dirty=!0,s._selection=l,l;}function er(){var t=Kn("root",0,"element"),e=Kn("root",0,"element");return new _Un(t,e,0,"");}function nr(){return new _$n(new Set());}function rr(t,e,n,r){var o=n._window;if(null===o)return null;var i=r||o.event,s=i?i.type:void 0,l="selectionchange"===s,c=!L&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&i&&3===i.detail||"drop"===s||void 0===s);var a,u,f,d;if(Wn(t)&&!c)return t.clone();if(null===e)return null;if(a=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&Wn(t)&&!yo(n,a,u))return t.clone();var h=Zn(a,f,u,d,n,t);if(null===h)return null;var g=h[0],_=h[1];return new _Un(g,_,Wn(t)?t.format:0,Wn(t)?t.style:"");}function or(){return vr()._selection;}function ir(){return kr()._editorState._selection;}function sr(t,e,n,r){if(r===void 0){r=1;}var o=t.anchor,i=t.focus,s=o.getNode(),l=i.getNode();if(!e.is(s)&&!e.is(l))return;var c=e.__key;if(t.isCollapsed()){var _e69=o.offset;if(n<=_e69&&r>0||n<_e69&&r<0){var _n53=Math.max(0,_e69+r);o.set(c,_n53,"element"),i.set(c,_n53,"element"),lr(t);}}else{var _s1=t.isBackward(),_l6=_s1?i:o,_a8=_l6.getNode(),_u8=_s1?o:i,_f8=_u8.getNode();if(e.is(_a8)){var _t107=_l6.offset;(n<=_t107&&r>0||n<_t107&&r<0)&&_l6.set(c,Math.max(0,_t107+r),"element");}if(e.is(_f8)){var _t108=_u8.offset;(n<=_t108&&r>0||n<_t108&&r<0)&&_u8.set(c,Math.max(0,_t108+r),"element");}}lr(t);}function lr(t){var e=t.anchor,n=e.offset,r=t.focus,o=r.offset,i=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!$r(i))return;var _t109=i.getChildrenSize(),_o29=n>=_t109,_s10=_o29?i.getChildAtIndex(_t109-1):i.getChildAtIndex(n);if(Dn(_s10)){var _t110=0;_o29&&(_t110=_s10.getTextContentSize()),e.set(_s10.__key,_t110,"text"),r.set(_s10.__key,_t110,"text");}return;}if($r(i)){var _t111=i.getChildrenSize(),_r41=n>=_t111,_o30=_r41?i.getChildAtIndex(_t111-1):i.getChildAtIndex(n);if(Dn(_o30)){var _t112=0;_r41&&(_t112=_o30.getTextContentSize()),e.set(_o30.__key,_t112,"text");}}if($r(s)){var _t113=s.getChildrenSize(),_e70=o>=_t113,_n54=_e70?s.getChildAtIndex(_t113-1):s.getChildAtIndex(o);if(Dn(_n54)){var _t114=0;_e70&&(_t114=_n54.getTextContentSize()),r.set(_n54.__key,_t114,"text");}}}function cr(t,e,n,r,o){var i=null,s=0,l=null;null!==r?(i=r.__key,Dn(r)?(s=r.getTextContentSize(),l="text"):$r(r)&&(s=r.getChildrenSize(),l="element")):null!==o&&(i=o.__key,Dn(o)?l="text":$r(o)&&(l="element")),null!==i&&null!==l?t.set(i,s,l):(s=e.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"));}function ar(t,e,n,r,o){"text"===t.type?t.set(n,t.offset+(e?0:o),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element");}function ur(t,e,n,r,o){try{t.setBaseAndExtent(e,n,r,o);}catch(t){}}function fr(t,e,n,r,o,i,s){var l=r.anchorNode,c=r.focusNode,a=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(o.has(Qr)&&f!==i||null!==f&&po(f))return;if(!Wn(e))return void(null!==t&&yo(n,l,c)&&r.removeAllRanges());var d=e.anchor,h=e.focus,g=d.key,_=h.key,p=ai(n,g),y=ai(n,_),m=d.offset,x=h.offset,C=e.format,S=e.style,N=e.isCollapsed();var T=p,v=y,k=!1;if("text"===d.type){T=ko(p);var _t115=d.getNode();k=_t115.getFormat()!==C||_t115.getStyle()!==S;}else Wn(t)&&"text"===t.anchor.type&&(k=!0);var E,b,O,M,A;if(("text"===h.type&&(v=ko(y)),null!==T&&null!==v)&&(N&&(null===t||k||Wn(t)&&(t.format!==C||t.style!==S))&&(E=C,b=S,O=m,M=g,A=performance.now(),He=[E,b,O,M,A]),a!==m||u!==x||l!==T||c!==v||"Range"===r.type&&N||(null!==f&&i.contains(f)||i.focus({preventScroll:!0}),"element"===d.type))){if(ur(r,T,m,v,x),!o.has(Zr)&&e.isCollapsed()&&null!==i&&i===document.activeElement){var _t116=Wn(e)&&"element"===e.anchor.type?T.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==_t116){var _e71;if(_t116 instanceof Text){var _n55=document.createRange();_n55.selectNode(_t116),_e71=_n55.getBoundingClientRect();}else _e71=_t116.getBoundingClientRect();!function(t,e,n){var r=fi(n),o=_i(r);if(null===r||null===o)return;var i=e.top,s=e.bottom,l=0,c=0,a=n;for(;null!==a;){var _e72=a===r.body;if(_e72)l=0,c=pi(t).innerHeight;else{var _t117=a.getBoundingClientRect();l=_t117.top,c=_t117.bottom;}var _n56=0;if(i<l?_n56=-(l-i):s>c&&(_n56=s-c),0!==_n56)if(_e72)o.scrollBy(0,_n56);else{var _t118=a.scrollTop;a.scrollTop+=_n56;var _e73=a.scrollTop-_t118;i-=_e73,s-=_e73;}if(_e72)break;a=ui(a);}}(n,_e71,i);}}ze=!0;}}function dr(e){var n=e;e.isCollapsed()||n.removeText();var r=or();Wn(r)&&(n=r),Wn(n)||t(161);var o=n.anchor;var i=o.getNode(),s=o.offset;for(;!Di(i);){var _hr;var _t119=i;if(_hr=hr(i,s),i=_hr[0],s=_hr[1],_t119.is(i))break;}return s;}function hr(t,e){var n=t.getParent();if(!n){var _t120=oo();return Ko().append(_t120),_t120.select(),[Ko(),0];}if(Dn(t)){var _r42=t.splitText(e);if(0===_r42.length)return[n,t.getIndexWithinParent()];var _o31=0===e?0:1;return[n,_r42[0].getIndexWithinParent()+_o31];}if(!$r(t)||0===e)return[n,t.getIndexWithinParent()];var r=t.getChildAtIndex(e);if(r){var _n57=new _Un(Kn(t.__key,e,"element"),Kn(t.__key,e,"element"),0,""),_o32=t.insertNewAfter(_n57);_o32&&_o32.append.apply(_o32,[r].concat(r.getNextSiblings()));}return[n,t.getIndexWithinParent()+1];}function gr(t,e,n,r,o){if(o===void 0){o="decorators-and-blocks";}if("move"===e&&"character"===r&&!t.isCollapsed()){var _ref18=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus],_e74=_ref18[0],_r43=_ref18[1];return _r43.set(_e74.key,_e74.offset,_e74.type),!0;}var i=Ns(t.focus,n?"previous":"next"),s="lineboundary"===r,l="move"===e;var c=i,a="decorators-and-blocks"===o;if(!Ds(c)){for(var _t121 of c){a=!1;var _e75=_t121.origin;if(!Jr(_e75)||_e75.isIsolated()||(c=_t121,!s||!_e75.isInline()))break;}if(a)for(var _t122 of hs(i).iterNodeCarets("extend"===e?"shadowRoot":"root")){if(ts(_t122))_t122.origin.isInline()||(c=_t122);else{if($r(_t122.origin))continue;Jr(_t122.origin)&&!_t122.origin.isInline()&&(c=_t122);}break;}}if(c===i)return!1;if(l&&!s&&Jr(c.origin)&&c.origin.isKeyboardSelectable()){var _t123=nr();return _t123.add(c.origin.getKey()),zo(_t123),!0;}return c=ws(c),l&&Ts(t.anchor,c),Ts(t.focus,c),a||!s;}var _r=null,pr=null,yr=!1,mr=!1,xr=0;var Cr={characterData:!0,childList:!0,subtree:!0};function Sr(){return yr||null!==_r&&_r._readOnly;}function Nr(){yr&&t(13);}function Tr(){xr>99&&t(14);}function vr(){return null===_r&&t(195,Er()),_r;}function kr(){return null===pr&&t(196,Er()),pr;}function Er(){var t=0;var e=new Set(),n=_lo.version;if("undefined"!=typeof window)for(var _r44 of document.querySelectorAll("[contenteditable]")){var _o33=Co(_r44);if(mo(_o33))t++;else if(_o33){var _t124=String(_o33.constructor.version||"<0.17.1");_t124===n&&(_t124+=" (separately built, likely a bundler configuration issue)"),e.add(_t124);}}var r=" Detected on the page: "+t+" compatible editor(s) with version "+n;return e.size&&(r+=" and incompatible editors with versions "+Array.from(e).join(", ")),r;}function br(){return pr;}function Or(t,e,n){var r=e.__type,o=fo(t,r);var i=n.get(r);void 0===i&&(i=Array.from(o.transforms),n.set(r,i));var s=i.length;for(var _t125=0;_t125<s&&(i[_t125](e),e.isAttached());_t125++);}function Mr(t,e){return void 0!==t&&t.__key!==e&&t.isAttached();}function Ar(t,e){if(!e)return;var n=t._updateTags;var r=e;Array.isArray(e)||(r=[e]);for(var _t126 of r)n.add(_t126);}function wr(e,n){var r=e.type,o=n.get(r);void 0===o&&t(17,r);var i=o.klass;e.type!==i.getType()&&t(18,i.name);var s=i.importJSON(e),l=e.children;if($r(s)&&Array.isArray(l))for(var _t127=0;_t127<l.length;_t127++){var _e76=wr(l[_t127],n);s.append(_e76);}return s;}function Dr(t,e,n){var r=_r,o=yr,i=pr;_r=e,yr=!0,pr=t;try{return n();}finally{_r=r,yr=o,pr=i;}}function Pr(t,e){var n=t._pendingEditorState,r=t._rootElement,o=t._headless||null===r;if(null===n)return;var i=t._editorState,s=i._selection,l=n._selection,c=0!==t._dirtyType,a=_r,u=yr,f=pr,d=t._updating,g=t._observer;var _=null;if(t._pendingEditorState=null,t._editorState=n,!o&&c&&null!==g){pr=t,_r=n,yr=!1,t._updating=!0;try{var _e77=t._dirtyType,_r45=t._dirtyElements,_o34=t._dirtyLeaves;g.disconnect(),_=Bt(i,n,t,_e77,_r45,_o34);}catch(e){if(e instanceof Error&&t._onError(e),mr)throw e;return so(t,null,r,n),J(t),t._dirtyType=2,mr=!0,Pr(t,i),void(mr=!1);}finally{g.observe(r,Cr),t._updating=d,_r=a,yr=u,pr=f;}}n._readOnly||(n._readOnly=!0);var p=t._dirtyLeaves,y=t._dirtyElements,m=t._normalizedNodes,x=t._updateTags,C=t._deferred;c&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements=new Map(),t._normalizedNodes=new Set(),t._updateTags=new Set()),function(t,e){var n=t._decorators;var r=t._pendingDecorators||n;var o=e._nodeMap;var i;for(i in r)o.has(i)||(r===n&&(r=Fo(t)),delete r[i]);}(t,n);var S=o?null:ki(pi(t));if(t._editable&&null!==S&&(c||null===l||l.dirty)&&null!==r&&!x.has(to)){pr=t,_r=n;try{if(null!==g&&g.disconnect(),c||null===l||l.dirty){var _e78=t._blockCursorElement;null!==_e78&&vi(_e78,t,r),fr(s,l,t,S,x,r);}!function(t,e,n){var r=t._blockCursorElement;if(Wn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){var _o35=n.anchor,_i18=_o35.getNode(),_s11=_o35.offset;var _l7=!1,_c7=null;if(_s11===_i18.getChildrenSize()){Ti(_i18.getChildAtIndex(_s11-1))&&(_l7=!0);}else{var _e79=_i18.getChildAtIndex(_s11);if(null!==_e79&&Ti(_e79)){var _n58=_e79.getPreviousSibling();(null===_n58||Ti(_n58))&&(_l7=!0,_c7=t.getElementByKey(_e79.__key));}}if(_l7){var _n59=t.getElementByKey(_i18.__key);return null===r&&(t._blockCursorElement=r=function(t){var e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");var r=e.blockCursor;if(void 0!==r){var _n$classList;if("string"==typeof r){var _t128=h(r);r=e.blockCursor=_t128;}void 0!==r&&(_n$classList=n.classList).add.apply(_n$classList,r);}return n;}(t._config)),e.style.caretColor="transparent",void(null===_c7?_n59.appendChild(r):_n59.insertBefore(r,_c7));}}null!==r&&vi(r,t,e);}(t,r,l);}finally{null!==g&&g.observe(r,Cr),pr=f,_r=a;}}null!==_&&function(t,e,n,r,o){var i=Array.from(t._listeners.mutation),s=i.length;for(var _t129=0;_t129<s;_t129++){var _i$_t=i[_t129],_s12=_i$_t[0],_l8=_i$_t[1];for(var _t130 of _l8){var _i19=e.get(_t130);void 0!==_i19&&_s12(_i19,{dirtyLeaves:r,prevEditorState:o,updateTags:n});}}}(t,_,x,p,i),Wn(l)||null===l||null!==s&&s.is(l)||t.dispatchCommand(Wt,void 0);var N=t._pendingDecorators;null!==N&&(t._decorators=N,t._pendingDecorators=null,Ir("decorator",t,!0,N)),function(t,e,n){var r=Ro(e),o=Ro(n);r!==o&&Ir("textcontent",t,!0,o);}(t,e||i,n),Ir("update",t,!0,{dirtyElements:y,dirtyLeaves:p,editorState:n,mutatedNodes:_,normalizedNodes:m,prevEditorState:e||i,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){var _n60=t._updating;t._updating=!0;try{for(var _t131=0;_t131<e.length;_t131++)e[_t131]();}finally{t._updating=_n60;}}}(t,C),function(t){var e=t._updates;if(0!==e.length){var _n61=e.shift();if(_n61){var _e80=_n61[0],_r46=_n61[1];Fr(t,_e80,_r46);}}}(t);}function Ir(t,e,n){var o=e._updating;e._updating=n;try{var _n62=Array.from(e._listeners[t]);for(var _len5=arguments.length,r=new Array(_len5>3?_len5-3:0),_key5=3;_key5<_len5;_key5++){r[_key5-3]=arguments[_key5];}for(var _t132=0;_t132<_n62.length;_t132++)_n62[_t132].apply(null,r);}finally{e._updating=o;}}function Lr(e,n){var r=e._updates;var o=n||!1;for(;0!==r.length;){var _n63=r.shift();if(_n63){var _r47=_n63[0],_i20=_n63[1],_s13=e._pendingEditorState;var _l9=void 0;void 0!==_i20&&(_l9=_i20.onUpdate,_i20.skipTransforms&&(o=!0),_i20.discrete&&(null===_s13&&t(191),_s13._flushSync=!0),_l9&&e._deferred.push(_l9),Ar(e,_i20.tag)),null==_s13?Fr(e,_r47,_i20):_r47();}}return o;}function Fr(e,n,r){var o=e._updateTags;var i,s=!1,l=!1;void 0!==r&&(i=r.onUpdate,Ar(e,r.tag),s=r.skipTransforms||!1,l=r.discrete||!1),i&&e._deferred.push(i);var c=e._editorState;var a=e._pendingEditorState,u=!1;(null===a||a._readOnly)&&(a=e._pendingEditorState=Hr(a||c),u=!0),a._flushSync=l;var f=_r,d=yr,h=pr,g=e._updating;_r=a,yr=!1,e._updating=!0,pr=e;var _=e._headless||null===e.getRootElement();ao(null);try{u&&(_?null!==c._selection&&(a._selection=c._selection.clone()):a._selection=function(t,e){var n=t.getEditorState()._selection,r=ki(pi(t));return Wn(n)||null==n?rr(n,r,t,e):n.clone();}(e,r&&r.event||null));var _o36=e._compositionKey;n(),s=Lr(e,s),function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(Wn(r)){var _t133=r.anchor,_e81=r.focus;var _o37;if("text"===_t133.type&&(_o37=_t133.getNode(),_o37.selectionTransform(n,r)),"text"===_e81.type){var _t134=_e81.getNode();_o37!==_t134&&_t134.selectionTransform(n,r);}}}(a,e),0!==e._dirtyType&&(s?function(t,e){var n=e._dirtyLeaves,r=t._nodeMap;for(var _t135 of n){var _e82=r.get(_t135);Dn(_e82)&&_e82.isAttached()&&_e82.isSimpleText()&&!_e82.isUnmergeable()&&ot(_e82);}}(a,e):function(t,e){var n=e._dirtyLeaves,r=e._dirtyElements,o=t._nodeMap,i=wo(),s=new Map();var l=n,c=l.size,a=r,u=a.size;for(;c>0||u>0;){if(c>0){e._dirtyLeaves=new Set();for(var _t136 of l){var _r48=o.get(_t136);Dn(_r48)&&_r48.isAttached()&&_r48.isSimpleText()&&!_r48.isUnmergeable()&&ot(_r48),void 0!==_r48&&Mr(_r48,i)&&Or(e,_r48,s),n.add(_t136);}if(l=e._dirtyLeaves,c=l.size,c>0){xr++;continue;}}e._dirtyLeaves=new Set(),e._dirtyElements=new Map(),a["delete"]("root")&&a.set("root",!0);for(var _t137 of a){var _n64=_t137[0],_l0=_t137[1];if(r.set(_n64,_l0),!_l0)continue;var _c8=o.get(_n64);void 0!==_c8&&Mr(_c8,i)&&Or(e,_c8,s);}l=e._dirtyLeaves,c=l.size,a=e._dirtyElements,u=a.size,xr++;}e._dirtyLeaves=n,e._dirtyElements=r;}(a,e),Lr(e),function(t,e,n,r){var o=t._nodeMap,i=e._nodeMap,s=[];for(var _ref20 of r){var _t138=_ref20[0];{var _e83=i.get(_t138);void 0!==_e83&&(_e83.isAttached()||($r(_e83)&&I(_e83,_t138,o,i,s,r),o.has(_t138)||r["delete"](_t138),s.push(_t138)));}}for(var _t139 of s)i["delete"](_t139);for(var _t140 of n){var _e84=i.get(_t140);void 0===_e84||_e84.isAttached()||(o.has(_t140)||n["delete"](_t140),i["delete"](_t140));}}(c,a,e._dirtyLeaves,e._dirtyElements));_o36!==e._compositionKey&&(a._flushSync=!0);var _i21=a._selection;if(Wn(_i21)){var _e85=a._nodeMap,_n65=_i21.anchor.key,_r49=_i21.focus.key;void 0!==_e85.get(_n65)&&void 0!==_e85.get(_r49)||t(19);}else Jn(_i21)&&0===_i21._nodes.size&&(a._selection=null);}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=c,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set(),e._dirtyElements.clear(),void Pr(e);}finally{_r=f,yr=d,pr=h,e._updating=g,xr=0;}var p=0!==e._dirtyType||e._deferred.length>0||function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0;}else if(null!==n)return!0;return!1;}(a,e);p?a._flushSync?(a._flushSync=!1,Pr(e)):u&&go(function(){Pr(e);}):(a._flushSync=!1,u&&(o.clear(),e._deferred=[],e._pendingEditorState=null));}function Rr(t,e,n){pr===t&&void 0===n?e():Fr(t,e,n);}var _Kr=function(){function Kr(t,e,n){this.element=t,this.before=e||null,this.after=n||null;}var _proto9=Kr.prototype;_proto9.withBefore=function withBefore(t){return new Kr(this.element,t,this.after);};_proto9.withAfter=function withAfter(t){return new Kr(this.element,this.before,t);};_proto9.withElement=function withElement(t){return this.element===t?this:new Kr(t,this.before,this.after);};_proto9.insertChild=function insertChild(e){var n=this.before||this.getManagedLineBreak();return null!==n&&n.parentElement!==this.element&&t(222),this.element.insertBefore(e,n),this;};_proto9.removeChild=function removeChild(e){return e.parentElement!==this.element&&t(223),this.element.removeChild(e),this;};_proto9.replaceChild=function replaceChild(e,n){return n.parentElement!==this.element&&t(224),this.element.replaceChild(e,n),this;};_proto9.getFirstChild=function getFirstChild(){var t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t;};_proto9.getManagedLineBreak=function getManagedLineBreak(){return this.element.__lexicalLineBreak||null;};_proto9.setManagedLineBreak=function setManagedLineBreak(t){if(null===t)this.removeManagedLineBreak();else{var _e86="decorator"===t&&(c||l);this.insertManagedLineBreak(_e86);}};_proto9.removeManagedLineBreak=function removeManagedLineBreak(){var t=this.getManagedLineBreak();if(t){var _e87=this.element,_n66="IMG"===t.nodeName?t.nextSibling:null;_n66&&_e87.removeChild(_n66),_e87.removeChild(t),_e87.__lexicalLineBreak=void 0;}};_proto9.insertManagedLineBreak=function insertManagedLineBreak(t){var e=this.getManagedLineBreak();if(e){if(t===("IMG"===e.nodeName))return;this.removeManagedLineBreak();}var n=this.element,r=this.before,o=document.createElement("br");if(n.insertBefore(o,r),t){var _t141=document.createElement("img");_t141.setAttribute("data-lexical-linebreak","true"),_t141.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",_t141.alt="",n.insertBefore(_t141,o),n.__lexicalLineBreak=_t141;}else n.__lexicalLineBreak=o;};_proto9.getFirstChildOffset=function getFirstChildOffset(){var t=0;for(var _e88=this.after;null!==_e88;_e88=_e88.previousSibling)t++;return t;};_proto9.resolveChildIndex=function resolveChildIndex(t,e,n,r){if(n===this.element){var _e89=this.getFirstChildOffset();return[t,Math.min(_e89+t.getChildrenSize(),Math.max(_e89,r))];}var o=Br(e,n);o.push(r);var i=Br(e,this.element);var s=t.getIndexWithinParent();for(var _t142=0;_t142<i.length;_t142++){var _e90=o[_t142],_n67=i[_t142];if(void 0===_e90||_e90<_n67)break;if(_e90>_n67){s+=1;break;}}return[t.getParentOrThrow(),s];};return Kr;}();function Br(e,n){var r=[];var o=n;for(;o!==e&&null!==o;o=o.parentNode){var _t143=0;for(var _e91=o.previousSibling;null!==_e91;_e91=_e91.previousSibling)_t143++;r.push(_t143);}return o!==e&&t(225),r.reverse();}var _zr4=function(_un3){function zr(t){var _this3;_this3=_un3.call(this,t)||this,_this3.__first=null,_this3.__last=null,_this3.__size=0,_this3.__format=0,_this3.__style="",_this3.__indent=0,_this3.__dir=null,_this3.__textFormat=0,_this3.__textStyle="";return _this3;}babelHelpers.inheritsLoose(zr,_un3);var _proto0=zr.prototype;_proto0.afterCloneFrom=function afterCloneFrom(t){_un3.prototype.afterCloneFrom.call(this,t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle;};_proto0.getFormat=function getFormat(){return this.getLatest().__format;};_proto0.getFormatType=function getFormatType(){var t=this.getFormat();return A[t]||"";};_proto0.getStyle=function getStyle(){return this.getLatest().__style;};_proto0.getIndent=function getIndent(){return this.getLatest().__indent;};_proto0.getChildren=function getChildren(){var t=[];var e=this.getFirstChild();for(;null!==e;)t.push(e),e=e.getNextSibling();return t;};_proto0.getChildrenKeys=function getChildrenKeys(){var t=[];var e=this.getFirstChild();for(;null!==e;)t.push(e.__key),e=e.getNextSibling();return t;};_proto0.getChildrenSize=function getChildrenSize(){return this.getLatest().__size;};_proto0.isEmpty=function isEmpty(){return 0===this.getChildrenSize();};_proto0.isDirty=function isDirty(){var t=kr()._dirtyElements;return null!==t&&t.has(this.__key);};_proto0.isLastChild=function isLastChild(){var t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t);};_proto0.getAllTextNodes=function getAllTextNodes(){var t=[];var e=this.getFirstChild();for(;null!==e;){if(Dn(e)&&t.push(e),$r(e)){var _n68=e.getAllTextNodes();t.push.apply(t,_n68);}e=e.getNextSibling();}return t;};_proto0.getFirstDescendant=function getFirstDescendant(){var t=this.getFirstChild();for(;$r(t);){var _e92=t.getFirstChild();if(null===_e92)break;t=_e92;}return t;};_proto0.getLastDescendant=function getLastDescendant(){var t=this.getLastChild();for(;$r(t);){var _e93=t.getLastChild();if(null===_e93)break;t=_e93;}return t;};_proto0.getDescendantByIndex=function getDescendantByIndex(t){var e=this.getChildren(),n=e.length;if(t>=n){var _t144=e[n-1];return $r(_t144)&&_t144.getLastDescendant()||_t144||null;}var r=e[t];return $r(r)&&r.getFirstDescendant()||r||null;};_proto0.getFirstChild=function getFirstChild(){var t=this.getLatest().__first;return null===t?null:Do(t);};_proto0.getFirstChildOrThrow=function getFirstChildOrThrow(){var e=this.getFirstChild();return null===e&&t(45,this.__key),e;};_proto0.getLastChild=function getLastChild(){var t=this.getLatest().__last;return null===t?null:Do(t);};_proto0.getLastChildOrThrow=function getLastChildOrThrow(){var e=this.getLastChild();return null===e&&t(96,this.__key),e;};_proto0.getChildAtIndex=function getChildAtIndex(t){var e=this.getChildrenSize();var n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++;}return null;}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--;}return null;};_proto0.getTextContent=function getTextContent(){var t="";var e=this.getChildren(),n=e.length;for(var _r50=0;_r50<n;_r50++){var _o38=e[_r50];t+=_o38.getTextContent(),$r(_o38)&&_r50!==n-1&&!_o38.isInline()&&(t+=k);}return t;};_proto0.getTextContentSize=function getTextContentSize(){var t=0;var e=this.getChildren(),n=e.length;for(var _r51=0;_r51<n;_r51++){var _o39=e[_r51];t+=_o39.getTextContentSize(),$r(_o39)&&_r51!==n-1&&!_o39.isInline()&&(t+=2);}return t;};_proto0.getDirection=function getDirection(){return this.getLatest().__dir;};_proto0.getTextFormat=function getTextFormat(){return this.getLatest().__textFormat;};_proto0.hasFormat=function hasFormat(t){if(""!==t){var _e94=M[t];return 0!==(this.getFormat()&_e94);}return!1;};_proto0.hasTextFormat=function hasTextFormat(t){var e=b[t];return 0!==(this.getTextFormat()&e);};_proto0.getFormatFlags=function getFormatFlags(t,e){return Eo(this.getLatest().__textFormat,t,e);};_proto0.getTextStyle=function getTextStyle(){return this.getLatest().__textStyle;};_proto0.select=function select(t,e){Nr();var n=or();var r=t,o=e;var i=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){var _t145=this.getFirstChild();if(Dn(_t145)||$r(_t145))return _t145.select(0,0);}else if(!(void 0!==t&&t!==i||void 0!==e&&e!==i)){var _t146=this.getLastChild();if(Dn(_t146)||$r(_t146))return _t146.select();}void 0===r&&(r=i),void 0===o&&(o=i);var s=this.__key;return Wn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,o,"element"),n.dirty=!0,n):tr(s,r,s,o,"element","element");};_proto0.selectStart=function selectStart(){var t=this.getFirstDescendant();return t?t.selectStart():this.select();};_proto0.selectEnd=function selectEnd(){var t=this.getLastDescendant();return t?t.selectEnd():this.select();};_proto0.clear=function clear(){var t=this.getWritable();return this.getChildren().forEach(function(t){return t.remove();}),t;};_proto0.append=function append(){for(var _len6=arguments.length,t=new Array(_len6),_key6=0;_key6<_len6;_key6++){t[_key6]=arguments[_key6];}return this.splice(this.getChildrenSize(),0,t);};_proto0.setDirection=function setDirection(t){var e=this.getWritable();return e.__dir=t,e;};_proto0.setFormat=function setFormat(t){return this.getWritable().__format=""!==t?M[t]:0,this;};_proto0.setStyle=function setStyle(t){return this.getWritable().__style=t||"",this;};_proto0.setTextFormat=function setTextFormat(t){var e=this.getWritable();return e.__textFormat=t,e;};_proto0.setTextStyle=function setTextStyle(t){var e=this.getWritable();return e.__textStyle=t,e;};_proto0.setIndent=function setIndent(t){return this.getWritable().__indent=t,this;};_proto0.splice=function splice(e,n,r){var o=r.length,i=this.getChildrenSize(),s=this.getWritable();e+n<=i||t(226,String(e),String(n),String(i));var l=s.__key,c=[],a=[],u=this.getChildAtIndex(e+n);var f=null,d=i-n+o;if(0!==e)if(e===i)f=this.getLastChild();else{var _t147=this.getChildAtIndex(e);null!==_t147&&(f=_t147.getPreviousSibling());}if(n>0){var _e95=null===f?this.getFirstChild():f.getNextSibling();for(var _r52=0;_r52<n;_r52++){null===_e95&&t(100);var _n69=_e95.getNextSibling(),_r53=_e95.__key;Oo(_e95.getWritable()),a.push(_r53),_e95=_n69;}}var h=f;for(var _e96=0;_e96<o;_e96++){var _n70=r[_e96];null!==h&&_n70.is(h)&&(f=h=h.getPreviousSibling());var _o40=_n70.getWritable();_o40.__parent===l&&d--,Oo(_o40);var _i22=_n70.__key;if(null===h)s.__first=_i22,_o40.__prev=null;else{var _t148=h.getWritable();_t148.__next=_i22,_o40.__prev=_t148.__key;}_n70.__key===l&&t(76),_o40.__parent=l,c.push(_i22),h=_n70;}if(e+n===i){if(null!==h){h.getWritable().__next=null,s.__last=h.__key;}}else if(null!==u){var _t149=u.getWritable();if(null!==h){var _e97=h.getWritable();_t149.__prev=h.__key,_e97.__next=u.__key;}else _t149.__prev=null;}if(s.__size=d,a.length){var _t150=or();if(Wn(_t150)){var _e98=new Set(a),_n71=new Set(c),_r54=_t150.anchor,_o41=_t150.focus;Wr(_r54,_e98,_n71)&&cr(_r54,_r54.getNode(),this,f,u),Wr(_o41,_e98,_n71)&&cr(_o41,_o41.getNode(),this,f,u),0!==d||this.canBeEmpty()||mi(this)||this.remove();}}return s;};_proto0.getDOMSlot=function getDOMSlot(t){return new _Kr(t);};_proto0.exportDOM=function exportDOM(t){var _un3$prototype$export=_un3.prototype.exportDOM.call(this,t),e=_un3$prototype$export.element;if(bi(e)){var _t151=this.getIndent();_t151>0&&(e.style.paddingInlineStart=40*_t151+"px");var _n72=this.getDirection();_n72&&(e.dir=_n72);}return{element:e};};_proto0.exportJSON=function exportJSON(){var t=babelHelpers["extends"]({children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent()},_un3.prototype.exportJSON.call(this)),e=this.getTextFormat(),n=this.getTextStyle();return 0!==e&&(t.textFormat=e),""!==n&&(t.textStyle=n),t;};_proto0.updateFromJSON=function updateFromJSON(t){return _un3.prototype.updateFromJSON.call(this,t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"");};_proto0.insertNewAfter=function insertNewAfter(t,e){return null;};_proto0.canIndent=function canIndent(){return!0;};_proto0.collapseAtStart=function collapseAtStart(t){return!1;};_proto0.excludeFromCopy=function excludeFromCopy(t){return!1;};_proto0.canReplaceWith=function canReplaceWith(t){return!0;};_proto0.canInsertAfter=function canInsertAfter(t){return!0;};_proto0.canBeEmpty=function canBeEmpty(){return!0;};_proto0.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto0.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto0.isInline=function isInline(){return!1;};_proto0.isShadowRoot=function isShadowRoot(){return!1;};_proto0.canMergeWith=function canMergeWith(t){return!1;};_proto0.extractWithChild=function extractWithChild(t,e,n){return!1;};_proto0.canMergeWhenEmpty=function canMergeWhenEmpty(){return!1;};_proto0.reconcileObservedMutation=function reconcileObservedMutation(t,e){var n=this.getDOMSlot(t);var r=n.getFirstChild();for(var _t152=this.getFirstChild();_t152;_t152=_t152.getNextSibling()){var _o42=e.getElementByKey(_t152.getKey());null!==_o42&&(null==r?(n.insertChild(_o42),r=_o42):r!==_o42&&n.replaceChild(_o42,r),r=r.nextSibling);}};return zr;}(_un5);function $r(t){return t instanceof _zr4;}function Wr(t,e,n){var r=t.getNode();for(;r;){var _t153=r.__key;if(e.has(_t153)&&!n.has(_t153))return!0;r=r.getParent();}return!1;}var _Ur=function(_un4){function Ur(){return _un4.apply(this,arguments)||this;}babelHelpers.inheritsLoose(Ur,_un4);var _proto1=Ur.prototype;_proto1.decorate=function decorate(t,e){return null;};_proto1.isIsolated=function isIsolated(){return!1;};_proto1.isInline=function isInline(){return!0;};_proto1.isKeyboardSelectable=function isKeyboardSelectable(){return!0;};return Ur;}(_un5);function Jr(t){return t instanceof _Ur;}var _Yr=function(_zr){function Yr(){var _this4;_this4=_zr.call(this,"root")||this,_this4.__cachedText=null;return _this4;}babelHelpers.inheritsLoose(Yr,_zr);Yr.getType=function getType(){return"root";};Yr.clone=function clone(){return new Yr();};var _proto10=Yr.prototype;_proto10.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){t(51);};_proto10.getTextContent=function getTextContent(){var t=this.__cachedText;return!Sr()&&0!==kr()._dirtyType||null===t?_zr.prototype.getTextContent.call(this):t;};_proto10.remove=function remove(){t(52);};_proto10.replace=function replace(e){t(53);};_proto10.insertBefore=function insertBefore(e){t(54);};_proto10.insertAfter=function insertAfter(e){t(55);};_proto10.updateDOM=function updateDOM(t,e){return!1;};_proto10.splice=function splice(e,n,r){for(var _e99 of r)$r(_e99)||Jr(_e99)||t(282);return _zr.prototype.splice.call(this,e,n,r);};Yr.importJSON=function importJSON(t){return Ko().updateFromJSON(t);};_proto10.collapseAtStart=function collapseAtStart(){return!0;};return Yr;}(_zr4);function jr(t){return t instanceof _Yr;}function Hr(t){return new _qr(new Map(t._nodeMap));}function Vr(){return new _qr(new Map([["root",new _Yr()]]));}function Gr(e){var n=e.exportJSON(),r=e.constructor;if(n.type!==r.getType()&&t(130,r.name),$r(e)){var _o43=n.children;Array.isArray(_o43)||t(59,r.name);var _i23=e.getChildren();for(var _t154=0;_t154<_i23.length;_t154++){var _e100=Gr(_i23[_t154]);_o43.push(_e100);}}return n;}var _qr=function(){function qr(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1;}var _proto11=qr.prototype;_proto11.isEmpty=function isEmpty(){return 1===this._nodeMap.size&&null===this._selection;};_proto11.read=function read(t,e){return Dr(e&&e.editor||null,this,t);};_proto11.clone=function clone(t){var e=new qr(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e;};_proto11.toJSON=function toJSON(){return Dr(null,this,function(){return{root:Gr(Ko())};});};return qr;}();var Xr="history-merge",Qr="collaboration",Zr="skip-scroll-into-view",to="skip-dom-selection";var _eo=function(_zr2){function eo(){return _zr2.apply(this,arguments)||this;}babelHelpers.inheritsLoose(eo,_zr2);eo.getType=function getType(){return"artificial";};var _proto12=eo.prototype;_proto12.createDOM=function createDOM(t){return document.createElement("div");};return eo;}(_zr4);var _no=function(_zr3){function no(){return _zr3.apply(this,arguments)||this;}babelHelpers.inheritsLoose(no,_zr3);no.getType=function getType(){return"paragraph";};no.clone=function clone(t){return new no(t.__key);};var _proto13=no.prototype;_proto13.createDOM=function createDOM(t){var e=document.createElement("p"),n=ni(t.theme,"paragraph");if(void 0!==n){var _e$classList2;(_e$classList2=e.classList).add.apply(_e$classList2,n);}return e;};_proto13.updateDOM=function updateDOM(t,e,n){return!1;};no.importDOM=function importDOM(){return{p:function p(t){return{conversion:ro,priority:0};}};};_proto13.exportDOM=function exportDOM(t){var _zr3$prototype$export=_zr3.prototype.exportDOM.call(this,t),e=_zr3$prototype$export.element;if(bi(e)){this.isEmpty()&&e.append(document.createElement("br"));var _t155=this.getFormatType();_t155&&(e.style.textAlign=_t155);}return{element:e};};no.importJSON=function importJSON(t){return oo().updateFromJSON(t);};_proto13.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_zr3.prototype.exportJSON.call(this),{textFormat:this.getTextFormat(),textStyle:this.getTextStyle()});};_proto13.insertNewAfter=function insertNewAfter(t,e){var n=oo();n.setTextFormat(t.format),n.setTextStyle(t.style);var r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,e),n;};_proto13.collapseAtStart=function collapseAtStart(){var t=this.getChildren();if(0===t.length||Dn(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0;}return!1;};return no;}(_zr4);function ro(t){var e=oo();return t.style&&(e.setFormat(t.style.textAlign),Ki(t,e)),{node:e};}function oo(){return Ci(new _no());}function io(t){return t instanceof _no;}function so(t,e,n,r){var o=t._keyToDOMMap;o.clear(),t._editorState=Vr(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements.clear(),t._normalizedNodes=new Set(),t._updateTags=new Set(),t._updates=[],t._blockCursorElement=null;var i=t._observer;null!==i&&(i.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",o.set("root",n));}var _lo=function(){function lo(t,e,n,r,o,i,s,l){this._createEditorArgs=l,this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map(),this._updates=[],this._updating=!1,this._listeners={decorator:new Set(),editable:new Set(),mutation:new Map(),root:new Set(),textcontent:new Set(),update:new Set()},this._commands=new Map(),this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set(),this._dirtyLeaves=new Set(),this._dirtyElements=new Map(),this._normalizedNodes=new Set(),this._updateTags=new Set(),this._observer=null,this._key=Jo(),this._onError=o,this._htmlConversions=i,this._editable=s,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null;}var _proto14=lo.prototype;_proto14.isComposing=function isComposing(){return null!=this._compositionKey;};_proto14.registerUpdateListener=function registerUpdateListener(t){var e=this._listeners.update;return e.add(t),function(){e["delete"](t);};};_proto14.registerEditableListener=function registerEditableListener(t){var e=this._listeners.editable;return e.add(t),function(){e["delete"](t);};};_proto14.registerDecoratorListener=function registerDecoratorListener(t){var e=this._listeners.decorator;return e.add(t),function(){e["delete"](t);};};_proto14.registerTextContentListener=function registerTextContentListener(t){var e=this._listeners.textcontent;return e.add(t),function(){e["delete"](t);};};_proto14.registerRootListener=function registerRootListener(t){var _this13=this;var e=this._listeners.root;return t(this._rootElement,null),e.add(t),function(){t(null,_this13._rootElement),e["delete"](t);};};_proto14.registerCommand=function registerCommand(e,n,r){void 0===r&&t(35);var o=this._commands;o.has(e)||o.set(e,[new Set(),new Set(),new Set(),new Set(),new Set()]);var i=o.get(e);void 0===i&&t(36,String(e));var s=i[r];return s.add(n),function(){s["delete"](n),i.every(function(t){return 0===t.size;})&&o["delete"](e);};};_proto14.registerMutationListener=function registerMutationListener(t,e,n){var r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,o=this._listeners.mutation;var i=o.get(e);void 0===i&&(i=new Set(),o.set(e,i)),i.add(r);var s=n&&n.skipInitialization;return void 0!==s&&s||this.initializeMutationListener(e,r),function(){i["delete"](r),0===i.size&&o["delete"](e);};};_proto14.getRegisteredNode=function getRegisteredNode(e){var n=this._nodes.get(e.getType());return void 0===n&&t(37,e.name),n;};_proto14.resolveRegisteredNodeAfterReplacements=function resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t;};_proto14.initializeMutationListener=function initializeMutationListener(t,e){var n=this._editorState,r=Fi(n).get(e.getType());if(!r)return;var o=new Map();for(var _t156 of r.keys())o.set(_t156,"created");o.size>0&&t(o,{dirtyLeaves:new Set(),prevEditorState:n,updateTags:new Set(["registerMutationListener"])});};_proto14.registerNodeTransformToKlass=function registerNodeTransformToKlass(t,e){var n=this.getRegisteredNode(t);return n.transforms.add(e),n;};_proto14.registerNodeTransform=function registerNodeTransform(t,e){var n=this.registerNodeTransformToKlass(t,e),r=[n],o=n.replaceWithKlass;if(null!=o){var _t157=this.registerNodeTransformToKlass(o,e);r.push(_t157);}return function(t,e){var n=Fi(t.getEditorState()),r=[];for(var _t158 of e){var _e101=n.get(_t158);_e101&&r.push(_e101);}if(0===r.length)return;t.update(function(){for(var _t159 of r)for(var _e102 of _t159.keys()){var _t160=Do(_e102);_t160&&_t160.markDirty();}},null===t._pendingEditorState?{tag:Xr}:void 0);}(this,r.map(function(t){return t.klass.getType();})),function(){r.forEach(function(t){return t.transforms["delete"](e);});};};_proto14.hasNode=function hasNode(t){return this._nodes.has(t.getType());};_proto14.hasNodes=function hasNodes(t){return t.every(this.hasNode.bind(this));};_proto14.dispatchCommand=function dispatchCommand(t,e){return li(this,t,e);};_proto14.getDecorators=function getDecorators(){return this._decorators;};_proto14.getRootElement=function getRootElement(){return this._rootElement;};_proto14.getKey=function getKey(){return this._key;};_proto14.setRootElement=function setRootElement(t){var e=this._rootElement;if(t!==e){var _e$classList3;var _n73=ni(this._config.theme,"root"),_r55=this._pendingEditorState||this._editorState;if(this._rootElement=t,so(this,e,t,_r55),null!==e&&(this._config.disableEvents||cn(e),null!=_n73&&(_e$classList3=e.classList).remove.apply(_e$classList3,_n73)),null!==t){var _t$classList;var _e103=_i(t),_r56=t.style;_r56.userSelect="text",_r56.whiteSpace="pre-wrap",_r56.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=_e103,this._dirtyType=2,J(this),this._updateTags.add(Xr),Pr(this),this._config.disableEvents||function(t,e){var n=t.ownerDocument,r=Be.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",rn),Be.set(n,(r||0)+1),t.__lexicalEditor=e;var o=en(t);var _loop=function _loop(){var _Ie$_n=Ie[_n74],r=_Ie$_n[0],i=_Ie$_n[1],s="function"==typeof i?function(t){sn(t)||(on(t),(e.isEditable()||"click"===r)&&i(t,e));}:function(t){if(sn(t))return;on(t);var n=e.isEditable();switch(r){case"cut":return n&&li(e,ve,t);case"copy":return li(e,Te,t);case"paste":return n&&li(e,Gt,t);case"dragstart":return n&&li(e,Ce,t);case"dragover":return n&&li(e,Se,t);case"dragend":return n&&li(e,Ne,t);case"focus":return n&&li(e,Ae,t);case"blur":return n&&li(e,we,t);case"drop":return n&&li(e,me,t);}};t.addEventListener(r,s),o.push(function(){t.removeEventListener(r,s);});};for(var _n74=0;_n74<Ie.length;_n74++){_loop();}}(t,this),null!=_n73&&(_t$classList=t.classList).add.apply(_t$classList,_n73);}else this._window=null,this._updateTags.add(Xr),Pr(this);Ir("root",this,!1,t,e);}};_proto14.getElementByKey=function getElementByKey(t){return this._keyToDOMMap.get(t)||null;};_proto14.getEditorState=function getEditorState(){return this._editorState;};_proto14.setEditorState=function setEditorState(e,n){e.isEmpty()&&t(38);var r=e;r._readOnly&&(r=Hr(e),r._selection=e._selection?e._selection.clone():null),U(this);var o=this._pendingEditorState,i=this._updateTags,s=void 0!==n?n.tag:null;null===o||o.isEmpty()||(null!=s&&i.add(s),Pr(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&i.add(s),this._updating||Pr(this);};_proto14.parseEditorState=function parseEditorState(t,e){return function(t,e,n){var r=Vr(),o=_r,i=yr,s=pr,l=e._dirtyElements,c=e._dirtyLeaves,a=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map(),e._dirtyLeaves=new Set(),e._cloneNotNeeded=new Set(),e._dirtyType=0,_r=r,yr=!1,pr=e,ao(null);try{var _o44=e._nodes;wr(t.root,_o44),n&&n(),r._readOnly=!0;}catch(t){t instanceof Error&&e._onError(t);}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=a,e._dirtyType=u,_r=o,yr=i,pr=s;}return r;}("string"==typeof t?JSON.parse(t):t,this,e);};_proto14.read=function read(t){return Pr(this),this.getEditorState().read(t,{editor:this});};_proto14.update=function update(t,e){!function(t,e,n){t._updating?t._updates.push([e,n]):Fr(t,e,n);}(this,t,e);};_proto14.focus=function focus(t,e){if(e===void 0){e={};}var n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Rr(this,function(){var r=or(),o=Ko();null!==r?r.dirty||zo(r.clone()):0!==o.getChildrenSize()&&("rootStart"===e.defaultSelection?o.selectStart():o.selectEnd()),di("focus"),hi(function(){n.removeAttribute("autocapitalize"),t&&t();});}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"));};_proto14.blur=function blur(){var t=this._rootElement;null!==t&&t.blur();var e=ki(this._window);null!==e&&e.removeAllRanges();};_proto14.isEditable=function isEditable(){return this._editable;};_proto14.setEditable=function setEditable(t){this._editable!==t&&(this._editable=t,Ir("editable",this,!0,t));};_proto14.toJSON=function toJSON(){return{editorState:this._editorState.toJSON()};};return lo;}();_lo.version="0.35.0+prod.cjs";var co=null;function ao(t){co=t;}var uo=1;function fo(e,n){var r=ho(e,n);return void 0===r&&t(30,n),r;}function ho(t,e){return t._nodes.get(e);}var go="function"==typeof queueMicrotask?queueMicrotask:function(t){Promise.resolve().then(t);};function _o(t){return Jr(Lo(t));}function po(t){var e=document.activeElement;if(!bi(e))return!1;var n=e.nodeName;return Jr(Lo(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==Co(e));}function yo(t,e,n){var r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!po(e)&&xo(e)===t;}catch(t){return!1;}}function mo(t){return t instanceof _lo;}function xo(t){var e=t;for(;null!=e;){var _t161=Co(e);if(mo(_t161))return _t161;e=ui(e);}return null;}function Co(t){return t?t.__lexicalEditor:null;}function So(t){return Fn(t)||t.isToken();}function No(t){return So(t)||t.isSegmented();}function To(t){return Oi(t)&&3===t.nodeType;}function vo(t){return Oi(t)&&9===t.nodeType;}function ko(t){var e=t;for(;null!=e;){if(To(e))return e;e=e.firstChild;}return null;}function Eo(t,e,n){var r=b[e];if(null!==n&&(t&r)===(n&r))return t;var o=t^r;return"subscript"===e?o&=~b.superscript:"superscript"===e?o&=~b.subscript:"lowercase"===e?(o&=~b.uppercase,o&=~b.capitalize):"uppercase"===e?(o&=~b.lowercase,o&=~b.capitalize):"capitalize"===e&&(o&=~b.lowercase,o&=~b.uppercase),o;}function bo(t,e){var n=function(){var t=co;return co=null,t;}();if(null!=(e=e||n&&n.__key))return void(t.__key=e);Nr(),Tr();var r=kr(),o=vr(),i=""+uo++;o._nodeMap.set(i,t),$r(t)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,t.__key=i;}function Oo(t){var e=t.getParent();if(null!==e){var _n75=t.getWritable(),_r57=e.getWritable(),_o45=t.getPreviousSibling(),_i24=t.getNextSibling(),_s14=null!==_i24?_i24.__key:null,_l1=null!==_o45?_o45.__key:null,_c9=null!==_o45?_o45.getWritable():null,_a9=null!==_i24?_i24.getWritable():null;null===_o45&&(_r57.__first=_s14),null===_i24&&(_r57.__last=_l1),null!==_c9&&(_c9.__next=_s14),null!==_a9&&(_a9.__prev=_l1),_n75.__prev=null,_n75.__next=null,_n75.__parent=null,_r57.__size--;}}function Mo(t){Tr();var e=t.getLatest(),n=e.__parent,r=vr(),o=kr(),i=r._nodeMap,s=o._dirtyElements;null!==n&&function(t,e,n){var r=t;for(;null!==r;){if(n.has(r))return;var _t162=e.get(r);if(void 0===_t162)break;n.set(r,!1),r=_t162.__parent;}}(n,i,s);var l=e.__key;o._dirtyType=1,$r(t)?s.set(l,!0):o._dirtyLeaves.add(l);}function Ao(t){Nr();var e=kr(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){var _t163=Do(n);null!==_t163&&_t163.getWritable();}if(null!==t){var _e104=Do(t);null!==_e104&&_e104.getWritable();}}}function wo(){if(Sr())return null;return kr()._compositionKey;}function Do(t,e){var n=(e||vr())._nodeMap.get(t);return void 0===n?null:n;}function Po(t,e){var n=Io(t,kr());return void 0!==n?Do(n,e):null;}function Io(t,e){return t["__lexicalKey_"+e._key];}function Lo(t,e){var n=t;for(;null!=n;){var _t164=Po(n,e);if(null!==_t164)return _t164;n=ui(n);}return null;}function Fo(t){var e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n;}function Ro(t){return t.read(function(){return Ko().getTextContent();});}function Ko(){return Bo(vr());}function Bo(t){return t._nodeMap.get("root");}function zo(t){Nr();var e=vr();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t;}function $o(t){var e=kr(),n=function(t,e){var n=t;for(;null!=n;){var _t165=Io(n,e);if(void 0!==_t165)return _t165;n=ui(n);}return null;}(t,e);if(null===n){return t===e.getRootElement()?Do("root"):null;}return Do(n);}function Wo(t){return /[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t);}function Uo(t){var e=[];var n=t;for(;null!==n;)e.push(n),n=n._parentEditor;return e;}function Jo(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5);}function Yo(t){return To(t)?t.nodeValue:null;}function jo(t,e,n){var r=ki(pi(e));if(null===r)return;var o=r.anchorNode;var i=r.anchorOffset,s=r.focusOffset;if(null!==o){var _e105=Yo(o);var _r58=Lo(o);if(null!==_e105&&Dn(_r58)){if(_e105===v&&n){var _t166=n.length;_e105=n,i=_t166,s=_t166;}null!==_e105&&Ho(_r58,_e105,i,s,t);}}}function Ho(t,e,n,r,o){var i=t;if(i.isAttached()&&(o||!i.isDirty())){var _s15=i.isComposing();var _a0=e;(_s15||o)&&e[e.length-1]===v&&(_a0=e.slice(0,-1));var _u9=i.getTextContent();if(o||_a0!==_u9){if(""===_a0){if(Ao(null),l||c||d)i.remove();else{var _t167=kr();setTimeout(function(){_t167.update(function(){i.isAttached()&&i.remove();});},20);}return;}var _e106=i.getParent(),_o46=ir(),_u0=i.getTextContentSize(),_f9=wo(),_h5=i.getKey();if(i.isToken()||null!==_f9&&_h5===_f9&&!_s15||Wn(_o46)&&(null!==_e106&&!_e106.canInsertTextBefore()&&0===_o46.anchor.offset||_o46.anchor.key===t.__key&&0===_o46.anchor.offset&&!i.canInsertTextBefore()&&!_s15||_o46.focus.key===t.__key&&_o46.focus.offset===_u0&&!i.canInsertTextAfter()&&!_s15))return void i.markDirty();var _g6=or();if(!Wn(_g6)||null===n||null===r)return void Vo(i,_a0,_g6);if(_g6.setTextNodeRange(i,n,i,r),i.isSegmented()){var _t168=wn(i.getTextContent());i.replace(_t168),i=_t168;}Vo(i,_a0,_g6);}}}function Vo(t,e,n){if(t.setTextContent(e),Wn(n)){var _e107=t.getKey();for(var _r59 of["anchor","focus"]){var _o47=n[_r59];"text"===_o47.type&&_o47.key===_e107&&(_o47.offset=ss(t,_o47.offset,"clamp"));}}}function Go(t,e,n){var r=e[n]||!1;return"any"===r||r===t[n];}function qo(t,e){return Go(t,e,"altKey")&&Go(t,e,"ctrlKey")&&Go(t,e,"shiftKey")&&Go(t,e,"metaKey");}function Xo(t,e,n){return qo(t,n)&&t.key.toLowerCase()===e.toLowerCase();}var Qo={ctrlKey:!o,metaKey:o},Zo={altKey:o,ctrlKey:!o};function ti(t){return"Backspace"===t.key;}function ei(t){return Xo(t,"a",Qo);}function ni(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});var n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;var o=t[e];if("string"==typeof o){var _t169=h(o);return n[e]=_t169,_t169;}return o;}function ri(e,n,r,o,i){if(0===r.size)return;var s=o.__type,l=o.__key,c=n.get(s);void 0===c&&t(33,s);var a=c.klass;var u=e.get(a);void 0===u&&(u=new Map(),e.set(a,u));var f=u.get(l),d="destroyed"===f&&"created"===i;(void 0===f||d)&&u.set(l,d?"updated":i);}function oi(t,e,n){var r=t.getParent();var o=n,i=t;return null!==r&&(e&&0===n?(o=i.getIndexWithinParent(),i=r):e||n!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(e?o-1:o);}function ii(t,e){var n=t.offset;if("element"===t.type){return oi(t.getNode(),e,n);}{var _r60=t.getNode();if(e&&0===n||!e&&n===_r60.getTextContentSize()){var _t170=e?_r60.getPreviousSibling():_r60.getNextSibling();return null===_t170?oi(_r60.getParentOrThrow(),e,_r60.getIndexWithinParent()+(e?0:1)):_t170;}}return null;}function si(t){var e=pi(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n;}function li(t,e,n){return function(t,e,n){var r=Uo(t);for(var _o48=4;_o48>=0;_o48--){var _loop2=function _loop2(){var s=r[_i25],l=s._commands.get(e);if(void 0!==l){var _e108=l[_o48];if(void 0!==_e108){var _r61=Array.from(_e108),_o49=_r61.length;var _i26=!1;if(Rr(s,function(){for(var _e109=0;_e109<_o49;_e109++)if(_r61[_e109](n,t))return void(_i26=!0);}),_i26)return{v:_i26};}}},_ret;for(var _i25=0;_i25<r.length;_i25++){_ret=_loop2();if(_ret)return _ret.v;}}return!1;}(t,e,n);}function ci(t){return!jr(t)&&!t.isLastChild()&&!t.isInline();}function ai(e,n){var r=e._keyToDOMMap.get(n);return void 0===r&&t(75,n),r;}function ui(t){var e=t.assignedSlot||t.parentElement;return Mi(e)?e.host:e;}function fi(t){return vo(t)?t:bi(t)?t.ownerDocument:null;}function di(t){Nr();kr()._updateTags.add(t);}function hi(t){Nr();kr()._deferred.push(t);}function gi(t,e){var n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent();}return!1;}function _i(t){var e=fi(t);return e?e.defaultView:null;}function pi(e){var n=e._window;return null===n&&t(78),n;}function yi(t){var e=t.getParentOrThrow();for(;null!==e;){if(mi(e))return e;e=e.getParentOrThrow();}return e;}function mi(t){return jr(t)||$r(t)&&t.isShadowRoot();}function xi(t){var e=t.constructor.clone(t);return bo(e,null),e.afterCloneFrom(t),e;}function Ci(e){var n=kr(),r=e.getType(),o=ho(n,r);void 0===o&&t(200,e.constructor.name,r);var i=o.replace,s=o.replaceWithKlass;if(null!==i){var _n76=i(e),_o50=_n76.constructor;return null!==s?_n76 instanceof s||t(201,s.name,s.getType(),_o50.name,_o50.getType(),e.constructor.name,r):_n76 instanceof e.constructor&&_o50!==e.constructor||t(202,_o50.name,_o50.getType(),e.constructor.name,r),_n76.__key===e.__key&&t(203,e.constructor.name,r,_o50.name,_o50.getType()),_n76;}return e;}function Si(e,n){!jr(e.getParent())||$r(n)||Jr(n)||t(99);}function Ni(e){var n=Do(e);return null===n&&t(63,e),n;}function Ti(t){return(Jr(t)||$r(t)&&!t.canBeEmpty())&&!t.isInline();}function vi(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;var r=t.parentElement;null!==r&&r.removeChild(t);}function ki(t){return n?(t||window).getSelection():null;}function Ei(t){var e=_i(t);return e?e.getSelection():null;}function bi(t){return Oi(t)&&1===t.nodeType;}function Oi(t){return"object"==typeof t&&null!==t&&"nodeType"in t&&"number"==typeof t.nodeType;}function Mi(t){return Oi(t)&&11===t.nodeType;}function Ai(t){var e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e);}function wi(t){var e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e);}function Di(t){if(Jr(t)&&!t.isInline())return!0;if(!$r(t)||mi(t))return!1;var e=t.getFirstChild(),n=null===e||gn(e)||Dn(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n;}function Pi(){return kr();}var Ii=new WeakMap(),Li=new Map();function Fi(e){if(!e._readOnly&&e.isEmpty())return Li;e._readOnly||t(192);var n=Ii.get(e);return n||(n=function(t){var e=new Map();for(var _ref22 of t._nodeMap){var _n77=_ref22[0];var _r62=_ref22[1];{var _t171=_r62.__type;var _o51=e.get(_t171);_o51||(_o51=new Map(),e.set(_t171,_o51)),_o51.set(_n77,_r62);}}return e;}(e),Ii.set(e,n)),n;}function Ri(t){var e=t.constructor.clone(t);return e.afterCloneFrom(t),e;}function Ki(t,e){var n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r);}function Bi(t){return!0===t.__lexicalUnmanaged;}function zi(t,e){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e);}(t,e)&&t[e]!==_un5[e];}function $i(t){if(!(t===_un5||t.prototype instanceof _un5)){var _e110="<unknown>",_n78="<unknown>";try{_e110=t.getType();}catch(t){}try{_lo.version&&(_n78=JSON.parse(_lo.version));}catch(t){}!function(t){throw new Error(t);}(t.name+" (type "+_e110+") does not subclass LexicalNode from the lexical package used by this editor (version "+_n78+"). All lexical and @lexical/* packages used by an editor must have identical versions. If you suspect the version does match, then the problem may be caused by multiple copies of the same lexical module (e.g. both esm and cjs, or included directly in multiple entrypoints).");}return t===_Ur||t===_zr4||t===_un5;}function Wi(t){var e=P in t.prototype?t.prototype[P]():void 0,n=$i(t),r=!n&&zi(t,"getType")?t.getType():void 0;var o,i=r;if(e)if(r)o=e[r];else for(var _ref24 of Object.entries(e)){var _t172=_ref24[0];var _n79=_ref24[1];i=_t172,o=_n79;}if(!n&&i&&(zi(t,"getType")||(t.getType=function(){return i;}),zi(t,"clone")||(t.clone=function(e){return ao(e),new t();}),zi(t,"importJSON")||(t.importJSON=o&&o.$importJSON||function(e){return new t().updateFromJSON(e);}),!zi(t,"importDOM")&&o)){var _o52=o,_e111=_o52.importDOM;_e111&&(t.importDOM=function(){return _e111;});}return{ownNodeConfig:o,ownNodeType:i};}var Ui=function Ui(t,e){var n=t;for(;null!=n&&!jr(n);){if(e(n))return n;n=n.getParent();}return null;},Ji={next:"previous",previous:"next"};var _Yi4=function(){function Yi(t){this.origin=t;}var _proto15=Yi.prototype;_proto15[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return ps({hasNext:Zi,initial:this.getAdjacentCaret(),map:function map(t){return t;},step:function step(t){return t.getAdjacentCaret();}});};_proto15.getAdjacentCaret=function getAdjacentCaret(){return os(this.getNodeAtCaret(),this.direction);};_proto15.getSiblingCaret=function getSiblingCaret(){return os(this.origin,this.direction);};_proto15.remove=function remove(){var t=this.getNodeAtCaret();return t&&t.remove(),this;};_proto15.replaceOrInsert=function replaceOrInsert(t,e){var n=this.getNodeAtCaret();return t.is(this.origin)||t.is(n)||(null===n?this.insert(t):n.replace(t,e)),this;};_proto15.splice=function splice(e,n,r){if(r===void 0){r="next";}var o=r===this.direction?n:Array.from(n).reverse();var i=this;var s=this.getParentAtCaret(),l=new Map();for(var _t173=i.getAdjacentCaret();null!==_t173&&l.size<e;_t173=_t173.getAdjacentCaret()){var _e112=_t173.origin.getWritable();l.set(_e112.getKey(),_e112);}for(var _e113 of o){if(l.size>0){var _n80=i.getNodeAtCaret();if(_n80){if(l["delete"](_n80.getKey()),l["delete"](_e113.getKey()),_n80.is(_e113)||i.origin.is(_e113));else{var _t174=_e113.getParent();_t174&&_t174.is(s)&&_e113.remove(),_n80.replace(_e113);}}else null===_n80&&t(263,Array.from(l).join(" "));}else i.insert(_e113);i=os(_e113,this.direction);}for(var _t175 of l.values())_t175.remove();return this;};return Yi;}();var _ji3=function(_Yi){function ji(){var _this5;for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++){args[_key7]=arguments[_key7];}return(_this5=_Yi.call.apply(_Yi,[this].concat(args))||this,_this5.type="child",babelHelpers.assertThisInitialized(_this5))||babelHelpers.assertThisInitialized(_this5);}babelHelpers.inheritsLoose(ji,_Yi);var _proto16=ji.prototype;_proto16.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:cs(t,this.direction);};_proto16.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return os(Gi(this.getParentAtCaret(),t),this.direction);};_proto16.getFlipped=function getFlipped(){var t=Vi(this.direction);return os(this.getNodeAtCaret(),t)||cs(this.origin,t);};_proto16.getParentAtCaret=function getParentAtCaret(){return this.origin;};_proto16.getChildCaret=function getChildCaret(){return this;};_proto16.isSameNodeCaret=function isSameNodeCaret(t){return t instanceof ji&&this.direction===t.direction&&this.origin.is(t.origin);};_proto16.isSamePointCaret=function isSamePointCaret(t){return this.isSameNodeCaret(t);};return ji;}(_Yi4);var Hi={root:jr,shadowRoot:mi};function Vi(t){return Ji[t];}function Gi(t,e){if(e===void 0){e="root";}return Hi[e](t)?null:t;}var _qi3=function(_Yi2){function qi(){var _this6;for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8];}return(_this6=_Yi2.call.apply(_Yi2,[this].concat(args))||this,_this6.type="sibling",babelHelpers.assertThisInitialized(_this6))||babelHelpers.assertThisInitialized(_this6);}babelHelpers.inheritsLoose(qi,_Yi2);var _proto17=qi.prototype;_proto17.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:os(t,this.direction);};_proto17.getSiblingCaret=function getSiblingCaret(){return this;};_proto17.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto17.getChildCaret=function getChildCaret(){return $r(this.origin)?cs(this.origin,this.direction):null;};_proto17.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return os(Gi(this.getParentAtCaret(),t),this.direction);};_proto17.getFlipped=function getFlipped(){var t=Vi(this.direction);return os(this.getNodeAtCaret(),t)||cs(this.origin.getParentOrThrow(),t);};_proto17.isSamePointCaret=function isSamePointCaret(t){return t instanceof qi&&this.direction===t.direction&&this.origin.is(t.origin);};_proto17.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof qi||t instanceof _Xi3)&&this.direction===t.direction&&this.origin.is(t.origin);};return qi;}(_Yi4);var _Xi3=function(_Yi3){function Xi(t,e){var _this7;_this7=_Yi3.call(this,t)||this,_this7.type="text",_this7.offset=e;return _this7;}babelHelpers.inheritsLoose(Xi,_Yi3);var _proto18=Xi.prototype;_proto18.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:is(t,this.direction,this.offset);};_proto18.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto18.getChildCaret=function getChildCaret(){return null;};_proto18.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return os(Gi(this.getParentAtCaret(),t),this.direction);};_proto18.getFlipped=function getFlipped(){return is(this.origin,Vi(this.direction),this.offset);};_proto18.isSamePointCaret=function isSamePointCaret(t){return t instanceof Xi&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset;};_proto18.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof _qi3||t instanceof Xi)&&this.direction===t.direction&&this.origin.is(t.origin);};_proto18.getSiblingCaret=function getSiblingCaret(){return os(this.origin,this.direction);};return Xi;}(_Yi4);function Qi(t){return t instanceof _Xi3;}function Zi(t){return t instanceof _qi3;}function ts(t){return t instanceof _ji3;}var es={next:function(_Xi){function _class(){var _this8;for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++){args[_key9]=arguments[_key9];}return(_this8=_Xi.call.apply(_Xi,[this].concat(args))||this,_this8.direction="next",babelHelpers.assertThisInitialized(_this8))||babelHelpers.assertThisInitialized(_this8);}babelHelpers.inheritsLoose(_class,_Xi);var _proto19=_class.prototype;_proto19.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto19.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class;}(_Xi3),previous:function(_Xi2){function _class3(){var _this9;for(var _len0=arguments.length,args=new Array(_len0),_key0=0;_key0<_len0;_key0++){args[_key0]=arguments[_key0];}return(_this9=_Xi2.call.apply(_Xi2,[this].concat(args))||this,_this9.direction="previous",babelHelpers.assertThisInitialized(_this9))||babelHelpers.assertThisInitialized(_this9);}babelHelpers.inheritsLoose(_class3,_Xi2);var _proto20=_class3.prototype;_proto20.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto20.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class3;}(_Xi3)},ns={next:function(_qi){function _class5(){var _this0;for(var _len1=arguments.length,args=new Array(_len1),_key1=0;_key1<_len1;_key1++){args[_key1]=arguments[_key1];}return(_this0=_qi.call.apply(_qi,[this].concat(args))||this,_this0.direction="next",babelHelpers.assertThisInitialized(_this0))||babelHelpers.assertThisInitialized(_this0);}babelHelpers.inheritsLoose(_class5,_qi);var _proto21=_class5.prototype;_proto21.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto21.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class5;}(_qi3),previous:function(_qi2){function _class7(){var _this1;for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++){args[_key10]=arguments[_key10];}return(_this1=_qi2.call.apply(_qi2,[this].concat(args))||this,_this1.direction="previous",babelHelpers.assertThisInitialized(_this1))||babelHelpers.assertThisInitialized(_this1);}babelHelpers.inheritsLoose(_class7,_qi2);var _proto22=_class7.prototype;_proto22.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto22.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class7;}(_qi3)},rs={next:function(_ji){function _class9(){var _this10;for(var _len11=arguments.length,args=new Array(_len11),_key11=0;_key11<_len11;_key11++){args[_key11]=arguments[_key11];}return(_this10=_ji.call.apply(_ji,[this].concat(args))||this,_this10.direction="next",babelHelpers.assertThisInitialized(_this10))||babelHelpers.assertThisInitialized(_this10);}babelHelpers.inheritsLoose(_class9,_ji);var _proto23=_class9.prototype;_proto23.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getFirstChild();};_proto23.insert=function insert(t){return this.origin.splice(0,0,[t]),this;};return _class9;}(_ji3),previous:function(_ji2){function _class1(){var _this11;for(var _len12=arguments.length,args=new Array(_len12),_key12=0;_key12<_len12;_key12++){args[_key12]=arguments[_key12];}return(_this11=_ji2.call.apply(_ji2,[this].concat(args))||this,_this11.direction="previous",babelHelpers.assertThisInitialized(_this11))||babelHelpers.assertThisInitialized(_this11);}babelHelpers.inheritsLoose(_class1,_ji2);var _proto24=_class1.prototype;_proto24.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getLastChild();};_proto24.insert=function insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this;};return _class1;}(_ji3)};function os(t,e){return t?new ns[e](t):null;}function is(t,e,n){return t?new es[e](t,ss(t,n)):null;}function ss(t,n,r){if(r===void 0){r="error";}var o=t.getTextContentSize();var i="next"===n?o:"previous"===n?0:n;return(i<0||i>o)&&("clamp"!==r&&e(284,String(n),String(o),t.getKey()),i=i<0?0:o),i;}function ls(t,e){return new _ds(t,e);}function cs(t,e){return $r(t)?new rs[e](t):null;}function as(t){return t&&t.getChildCaret()||t;}function us(t){return t&&as(t.getAdjacentCaret());}var _fs=function(){function fs(t,e,n){this.type="node-caret-range";this.anchor=t,this.focus=e,this.direction=n;}var _proto25=fs.prototype;_proto25.getLatest=function getLatest(){var t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new fs(t,e,this.direction);};_proto25.isCollapsed=function isCollapsed(){return this.anchor.isSamePointCaret(this.focus);};_proto25.getTextSlices=function getTextSlices(){var _this14=this;var t=function t(_t176){var e=_this14[_t176].getLatest();return Qi(e)?function(t,e){var n=t.direction,r=t.origin,o=ss(r,"focus"===e?Vi(n):n);return ls(t,o-t.offset);}(e,_t176):null;},e=t("anchor"),n=t("focus");if(e&&n){var _t177=e.caret,_r63=n.caret;if(_t177.isSameNodeCaret(_r63))return[ls(_t177,_r63.offset-_t177.offset),null];}return[e,n];};_proto25.iterNodeCarets=function iterNodeCarets(t){if(t===void 0){t="root";}var e=Qi(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=Qi(n),o=function o(e){return e.isSameNodeCaret(n)?null:us(e)||e.getParentCaret(t);};return ps({hasNext:function hasNext(t){return null!==t&&!(r&&n.isSameNodeCaret(t));},initial:e.isSameNodeCaret(n)?null:o(e),map:function map(t){return t;},step:o});};_proto25[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this.iterNodeCarets("root");};return fs;}();var _ds=function(){function ds(t,e){this.type="slice";this.caret=t,this.distance=e;}var _proto26=ds.prototype;_proto26.getSliceIndices=function getSliceIndices(){var t=this.distance,e=this.caret.offset,n=e+t;return n<e?[n,e]:[e,n];};_proto26.getTextContent=function getTextContent(){var _this$getSliceIndices=this.getSliceIndices(),t=_this$getSliceIndices[0],e=_this$getSliceIndices[1];return this.caret.origin.getTextContent().slice(t,e);};_proto26.getTextContentSize=function getTextContentSize(){return Math.abs(this.distance);};_proto26.removeTextSlice=function removeTextSlice(){var _this$caret=this.caret,t=_this$caret.origin,e=_this$caret.direction,_this$getSliceIndices2=this.getSliceIndices(),n=_this$getSliceIndices2[0],r=_this$getSliceIndices2[1],o=t.getTextContent();return is(t.setTextContent(o.slice(0,n)+o.slice(r)),e,n);};return ds;}();function hs(t){return _s(t,os(Ko(),t.direction));}function gs(t){return _s(t,t);}function _s(e,n){return e.direction!==n.direction&&t(265),new _fs(e,n,e.direction);}function ps(t){var _ref25;var e=t.initial,n=t.hasNext,r=t.step,o=t.map;var i=e;return _ref25={},_ref25[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this;},_ref25.next=function next(){if(!n(i))return{done:!0,value:void 0};var t={done:!1,value:o(i)};return i=r(i),t;},_ref25;}function ys(e,n){var r=Ss(e.origin,n.origin);switch(null===r&&t(275,e.origin.getKey(),n.origin.getKey()),r.type){case"same":{var _t178="text"===e.type,_r64="text"===n.type;return _t178&&_r64?function(t,e){return Math.sign(t-e);}(e.offset,n.offset):e.type===n.type?0:_t178?-1:_r64?1:"child"===e.type?-1:1;}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===n.type?1:-1;case"branch":return ms(r);}}function ms(t){var e=t.a,n=t.b,r=e.__key,o=n.__key;var i=e,s=n;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1;}return null===i?1:-1;}function xs(t,e){return e.is(t);}function Cs(t){return $r(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()];}function Ss(e,n){if(e.is(n))return{commonAncestor:e,type:"same"};var r=new Map();for(var _Cs=Cs(e),_t179=_Cs[0],_n81=_Cs[1];_t179;_n81=_t179,_t179=_t179.getParent())r.set(_t179,_n81);for(var _Cs2=Cs(n),_o53=_Cs2[0],_i27=_Cs2[1];_o53;_i27=_o53,_o53=_o53.getParent()){var _s16=r.get(_o53);if(void 0!==_s16)return null===_s16?(xs(e,_o53)||t(276),{commonAncestor:_o53,type:"ancestor"}):null===_i27?(xs(n,_o53)||t(277),{commonAncestor:_o53,type:"descendant"}):(($r(_s16)||xs(e,_s16))&&($r(_i27)||xs(n,_i27))&&_o53.is(_s16.getParent())&&_o53.is(_i27.getParent())||t(278),{a:_s16,b:_i27,commonAncestor:_o53,type:"branch"});}return null;}function Ns(e,n){var r=e.type,o=e.key,i=e.offset,s=Ni(e.key);return"text"===r?(Dn(s)||t(266,s.getType(),o),is(s,n,i)):($r(s)||t(267,s.getType(),o),Ls(s,e.offset,n));}function Ts(e,n){var r=n.origin,o=n.direction,i="next"===o;Qi(n)?e.set(r.getKey(),n.offset,"text"):Zi(n)?Dn(r)?e.set(r.getKey(),ss(r,o),"text"):e.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(i?1:0),"element"):(ts(n)&&$r(r)||t(268),e.set(r.getKey(),i?0:r.getChildrenSize(),"element"));}function vs(t){var e=or(),n=Wn(e)?e:er();return ks(n,t),zo(n),n;}function ks(t,e){Ts(t.anchor,e.anchor),Ts(t.focus,e.focus);}function Es(t){var e=t.anchor,n=t.focus,r=Ns(e,"next"),o=Ns(n,"next"),i=ys(r,o)<=0?"next":"previous";return _s(Ps(r,i),Ps(o,i));}function bs(t){var e=t.direction,n=t.origin,r=os(n,Vi(e)).getNodeAtCaret();return r?os(r,e):cs(n.getParentOrThrow(),e);}function Os(t,e){if(e===void 0){e="root";}var n=[t];for(var _r65=ts(t)?t.getParentCaret(e):t.getSiblingCaret();null!==_r65;_r65=_r65.getParentCaret(e))n.push(bs(_r65));return n;}function Ms(t){return!!t&&t.origin.isAttached();}function As(e,n){if(n===void 0){n="removeEmptySlices";}if(e.isCollapsed())return e;var r="root",o="next";var i=n;var s=Is(e,o),l=Os(s.anchor,r),c=Os(s.focus.getFlipped(),r),a=new Set(),u=[];for(var _t180 of s.iterNodeCarets(r))if(ts(_t180))a.add(_t180.origin.getKey());else if(Zi(_t180)){var _e114=_t180.origin;$r(_e114)&&!a.has(_e114.getKey())||u.push(_e114);}for(var _t181 of u)_t181.remove();for(var _t182 of s.getTextSlices()){if(!_t182)continue;var _e115=_t182.caret.origin,_n82=_e115.getTextContentSize(),_r66=bs(os(_e115,o)),_s17=_e115.getMode();if(Math.abs(_t182.distance)===_n82&&"removeEmptySlices"===i||"token"===_s17&&0!==_t182.distance)_r66.remove();else if(0!==_t182.distance){i="removeEmptySlices";var _e116=_t182.removeTextSlice();var _n83=_t182.caret.origin;if("segmented"===_s17){var _t183=_e116.origin,_n84=wn(_t183.getTextContent()).setStyle(_t183.getStyle()).setFormat(_t183.getFormat());_r66.replaceOrInsert(_n84),_e116=is(_n84,o,_e116.offset);}_n83.is(l[0].origin)&&(l[0]=_e116),_n83.is(c[0].origin)&&(c[0]=_e116.getFlipped());}}var f,d;for(var _t184 of l)if(Ms(_t184)){f=ws(_t184);break;}for(var _t185 of c)if(Ms(_t185)){d=ws(_t185);break;}var h=function(t,e,n){if(!t||!e)return null;var r=t.getParentAtCaret(),o=e.getParentAtCaret();if(!r||!o)return null;var i=r.getParents().reverse();i.push(r);var s=o.getParents().reverse();s.push(o);var l=Math.min(i.length,s.length);var c;for(c=0;c<l&&i[c]===s[c];c++);var a=function a(t,e){var n;for(var _r67=c;_r67<t.length;_r67++){var _o54=t[_r67];if(mi(_o54))return;!n&&e(_o54)&&(n=_o54);}return n;},u=a(i,Di),f=u&&a(s,function(t){return n.has(t.getKey())&&Di(t);});return u&&f?[u,f]:null;}(f,d,a);if(h){var _t186=h[0],_e117=h[1];cs(_t186,"previous").splice(0,_e117.getChildren()),_e117.remove();}var g=[f,d].concat(l,c).find(Ms);if(g){return gs(Ps(ws(g),e.direction));}t(269,JSON.stringify(l.map(function(t){return t.origin.__key;})));}function ws(t){var e=function(t){var e=t;for(;ts(e);){var _t187=us(e);if(!ts(_t187))break;e=_t187;}return e;}(t.getLatest()),n=e.direction;if(Dn(e.origin))return Qi(e)?e:is(e.origin,n,n);var r=e.getAdjacentCaret();return Zi(r)&&Dn(r.origin)?is(r.origin,n,Vi(n)):e;}function Ds(t){return Qi(t)&&t.offset!==ss(t.origin,t.direction);}function Ps(t,e){return t.direction===e?t:t.getFlipped();}function Is(t,e){return t.direction===e?t:_s(Ps(t.focus,e),Ps(t.anchor,e));}function Ls(t,e,n){var r=cs(t,"next");for(var _t188=0;_t188<e;_t188++){var _t189=r.getAdjacentCaret();if(null===_t189)break;r=_t189;}return Ps(r,n);}function Fs(e){var n=e.origin,r=e.offset,o=e.direction;if(r===ss(n,o))return e.getSiblingCaret();if(r===ss(n,Vi(o)))return bs(e.getSiblingCaret());var _n$splitText2=n.splitText(r),i=_n$splitText2[0];return Dn(i)||t(281),Ps(os(i,"next"),o);}function Rs(t,e){return!0;}exports.$addUpdateTag=di,exports.$applyNodeReplacement=Ci,exports.$caretFromPoint=Ns,exports.$caretRangeFromSelection=Es,exports.$cloneWithProperties=Ri,exports.$comparePointCaretNext=ys,exports.$copyNode=xi,exports.$create=function(t){var e=Pi();return Nr(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(t)).klass)();},exports.$createLineBreakNode=hn,exports.$createNodeSelection=nr,exports.$createParagraphNode=oo,exports.$createPoint=Kn,exports.$createRangeSelection=er,exports.$createRangeSelectionFromDom=function(t,e){return rr(null,t,e,null);},exports.$createTabNode=Ln,exports.$createTextNode=wn,exports.$extendCaretToRange=hs,exports.$findMatchingParent=Ui,exports.$getAdjacentChildCaret=us,exports.$getAdjacentNode=ii,exports.$getAdjacentSiblingOrParentSiblingCaret=function(t,e){if(e===void 0){e="root";}var n=0,r=t,o=us(r);for(;null===o;){if(n--,o=r.getParentCaret(e),!o)return null;r=o,o=us(r);}return o&&[o,n];},exports.$getCaretInDirection=Ps,exports.$getCaretRange=_s,exports.$getCaretRangeInDirection=Is,exports.$getCharacterOffsets=jn,exports.$getChildCaret=cs,exports.$getChildCaretAtIndex=Ls,exports.$getChildCaretOrSelf=as,exports.$getCollapsedCaretRange=gs,exports.$getCommonAncestor=Ss,exports.$getCommonAncestorResultBranchOrder=ms,exports.$getEditor=Pi,exports.$getNearestNodeFromDOMNode=Lo,exports.$getNearestRootOrShadowRoot=yi,exports.$getNodeByKey=Do,exports.$getNodeByKeyOrThrow=Ni,exports.$getNodeFromDOMNode=Po,exports.$getPreviousSelection=ir,exports.$getRoot=Ko,exports.$getSelection=or,exports.$getSiblingCaret=os,exports.$getState=j,exports.$getStateChange=function(t,e,n){var r=j(t,n,"direct"),o=j(e,n,"direct");return n.isEqual(r,o)?null:[r,o];},exports.$getTextContent=function(){var t=or();return null===t?"":t.getTextContent();},exports.$getTextNodeOffset=ss,exports.$getTextPointCaret=is,exports.$getTextPointCaretSlice=ls,exports.$getWritableNodeState=G,exports.$hasAncestor=gi,exports.$hasUpdateTag=function(t){return kr()._updateTags.has(t);},exports.$insertNodes=function(t){var e=or()||ir();null===e&&(e=Ko().selectEnd()),e.insertNodes(t);},exports.$isBlockElementNode=function(t){return $r(t)&&!t.isInline();},exports.$isChildCaret=ts,exports.$isDecoratorNode=Jr,exports.$isEditorState=function(t){return t instanceof _qr;},exports.$isElementNode=$r,exports.$isExtendableTextPointCaret=Ds,exports.$isInlineElementOrDecoratorNode=function(t){return $r(t)&&t.isInline()||Jr(t)&&t.isInline();},exports.$isLeafNode=function(t){return Dn(t)||gn(t)||Jr(t);},exports.$isLineBreakNode=gn,exports.$isNodeCaret=function(t){return t instanceof _Yi4;},exports.$isNodeSelection=Jn,exports.$isParagraphNode=io,exports.$isRangeSelection=Wn,exports.$isRootNode=jr,exports.$isRootOrShadowRoot=mi,exports.$isSiblingCaret=Zi,exports.$isTabNode=Fn,exports.$isTextNode=Dn,exports.$isTextPointCaret=Qi,exports.$isTextPointCaretSlice=function(t){return t instanceof _ds;},exports.$isTokenOrSegmented=No,exports.$isTokenOrTab=So,exports.$nodesOfType=function(t){var e=t.getType(),n=vr();if(n._readOnly){var _t190=Fi(n).get(e);return _t190?Array.from(_t190.values()):[];}var r=n._nodeMap,o=[];for(var _ref27 of r){var _n85=_ref27[1];_n85 instanceof t&&_n85.__type===e&&_n85.isAttached()&&o.push(_n85);}return o;},exports.$normalizeCaret=ws,exports.$normalizeSelection__EXPERIMENTAL=it,exports.$onUpdate=hi,exports.$parseSerializedNode=function(t){return wr(t,kr()._nodes);},exports.$removeTextFromCaretRange=As,exports.$rewindSiblingCaret=bs,exports.$selectAll=function(t){var e=Ko();if(Wn(t)){var _e118=t.anchor,_n86=t.focus,_r68=_e118.getNode().getTopLevelElementOrThrow().getParentOrThrow();return _e118.set(_r68.getKey(),0,"element"),_n86.set(_r68.getKey(),_r68.getChildrenSize(),"element"),it(t),t;}{var _t191=e.select(0,e.getChildrenSize());return zo(it(_t191)),_t191;}},exports.$setCompositionKey=Ao,exports.$setPointFromCaret=Ts,exports.$setSelection=zo,exports.$setSelectionFromCaretRange=vs,exports.$setState=function(t,e,n){var r;if(Nr(),"function"==typeof n){var _o55=t.getLatest(),_i28=j(_o55,e);if(r=n(_i28),e.isEqual(_i28,r))return _o55;}else r=n;var o=t.getWritable();return G(o).updateFromKnown(e,r),o;},exports.$splitAtPointCaretNext=function(t,_temp){var _ref28=_temp===void 0?{}:_temp,_ref28$$copyElementNo=_ref28.$copyElementNode,e=_ref28$$copyElementNo===void 0?xi:_ref28$$copyElementNo,_ref28$$splitTextPoin=_ref28.$splitTextPointCaretNext,n=_ref28$$splitTextPoin===void 0?Fs:_ref28$$splitTextPoin,_ref28$rootMode=_ref28.rootMode,r=_ref28$rootMode===void 0?"shadowRoot":_ref28$rootMode,_ref28$$shouldSplit=_ref28.$shouldSplit,o=_ref28$$shouldSplit===void 0?Rs:_ref28$$shouldSplit;if(Qi(t))return n(t);var i=t.getParentCaret(r);if(i){var _n87=i.origin;if(ts(t)&&(!_n87.canBeEmpty()||!o(_n87,"first")))return bs(i);var _r69=function(t){var e=[];for(var _n88=t.getAdjacentCaret();_n88;_n88=_n88.getAdjacentCaret())e.push(_n88.origin);return e;}(t);(_r69.length>0||_n87.canBeEmpty()&&o(_n87,"last"))&&i.insert(e(_n87).splice(0,0,_r69));}return i;},exports.$splitNode=function(e,n){var r=e.getChildAtIndex(n);null==r&&(r=e),mi(e)&&t(102);var _o58=function o(e){var n=e.getParentOrThrow(),i=mi(n),s=e!==r||i?xi(e):e;if(i)return $r(e)&&$r(s)||t(133),e.insertAfter(s),[e,s,s];{var _o57=_o58(n),_t192=_o57[0],_r70=_o57[1],_i29=_o57[2],_l10=e.getNextSiblings();return _i29.append.apply(_i29,[s].concat(_l10)),[_t192,_r70,s];}},_o56=_o58(r),i=_o56[0],s=_o56[1];return[i,s];},exports.$updateRangeSelectionFromCaretRange=ks,exports.ArtificialNode__DO_NOT_USE=_eo,exports.BLUR_COMMAND=we,exports.CAN_REDO_COMMAND=Oe,exports.CAN_UNDO_COMMAND=Me,exports.CLEAR_EDITOR_COMMAND=Ee,exports.CLEAR_HISTORY_COMMAND=be,exports.CLICK_COMMAND=Jt,exports.COLLABORATION_TAG=Qr,exports.COMMAND_PRIORITY_CRITICAL=4,exports.COMMAND_PRIORITY_EDITOR=0,exports.COMMAND_PRIORITY_HIGH=3,exports.COMMAND_PRIORITY_LOW=1,exports.COMMAND_PRIORITY_NORMAL=2,exports.CONTROLLED_TEXT_INSERTION_COMMAND=Vt,exports.COPY_COMMAND=Te,exports.CUT_COMMAND=ve,exports.DELETE_CHARACTER_COMMAND=Yt,exports.DELETE_LINE_COMMAND=Qt,exports.DELETE_WORD_COMMAND=Xt,exports.DRAGEND_COMMAND=Ne,exports.DRAGOVER_COMMAND=Se,exports.DRAGSTART_COMMAND=Ce,exports.DROP_COMMAND=me,exports.DecoratorNode=_Ur,exports.ElementNode=_zr4,exports.FOCUS_COMMAND=Ae,exports.FORMAT_ELEMENT_COMMAND=xe,exports.FORMAT_TEXT_COMMAND=Zt,exports.HISTORIC_TAG="historic",exports.HISTORY_MERGE_TAG=Xr,exports.HISTORY_PUSH_TAG="history-push",exports.INDENT_CONTENT_COMMAND=pe,exports.INSERT_LINE_BREAK_COMMAND=jt,exports.INSERT_PARAGRAPH_COMMAND=Ht,exports.INSERT_TAB_COMMAND=_e,exports.INTERNAL_$isBlock=Di,exports.IS_ALL_FORMATTING=2047,exports.IS_BOLD=1,exports.IS_CODE=16,exports.IS_HIGHLIGHT=y,exports.IS_ITALIC=2,exports.IS_STRIKETHROUGH=4,exports.IS_SUBSCRIPT=32,exports.IS_SUPERSCRIPT=64,exports.IS_UNDERLINE=8,exports.KEY_ARROW_DOWN_COMMAND=ce,exports.KEY_ARROW_LEFT_COMMAND=ie,exports.KEY_ARROW_RIGHT_COMMAND=re,exports.KEY_ARROW_UP_COMMAND=le,exports.KEY_BACKSPACE_COMMAND=fe,exports.KEY_DELETE_COMMAND=he,exports.KEY_DOWN_COMMAND=ne,exports.KEY_ENTER_COMMAND=ae,exports.KEY_ESCAPE_COMMAND=de,exports.KEY_MODIFIER_COMMAND=De,exports.KEY_SPACE_COMMAND=ue,exports.KEY_TAB_COMMAND=ge,exports.LineBreakNode=_fn,exports.MOVE_TO_END=oe,exports.MOVE_TO_START=se,exports.NODE_STATE_KEY="$",exports.OUTDENT_CONTENT_COMMAND=ye,exports.PASTE_COMMAND=Gt,exports.PASTE_TAG="paste",exports.ParagraphNode=_no,exports.REDO_COMMAND=ee,exports.REMOVE_TEXT_COMMAND=qt,exports.RootNode=_Yr,exports.SELECTION_CHANGE_COMMAND=Wt,exports.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND=Ut,exports.SELECT_ALL_COMMAND=ke,exports.SKIP_COLLAB_TAG="skip-collab",exports.SKIP_DOM_SELECTION_TAG=to,exports.SKIP_SCROLL_INTO_VIEW_TAG=Zr,exports.TEXT_TYPE_TO_FORMAT=b,exports.TabNode=_In,exports.TextNode=_Nn2,exports.UNDO_COMMAND=te,exports.buildImportMap=function(t){return t;},exports.configExtension=function(){for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++){t[_key13]=arguments[_key13];}return t;},exports.createCommand=$t,exports.createEditor=function(t){var e=t||{},n=br(),r=e.theme||{},o=void 0===t?n:e.parentEditor||null,i=e.disableEvents||!1,s=Vr(),l=e.namespace||(null!==o?o._config.namespace:Jo()),c=e.editorState,a=[_Yr,_Nn2,_fn,_In,_no,_eo].concat(e.nodes||[]),u=e.onError,f=e.html,d=void 0===e.editable||e.editable;var h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map();for(var _t193=0;_t193<a.length;_t193++){var _e119=a[_t193],_n89=null,_r71=null;if("function"!=typeof _e119){var _t194=_e119;_e119=_t194.replace,_n89=_t194["with"],_r71=_t194.withKlass||null;}var _Wi3=Wi(_e119),_o59=_Wi3.ownNodeConfig,_i30=_e119.getType(),_s18=_e119.transform(),_l11=new Set();_o59&&_o59.$transform&&_l11.add(_o59.$transform),null!==_s18&&_l11.add(_s18),h.set(_i30,{exportDOM:f&&f["export"]?f["export"].get(_e119):void 0,klass:_e119,replace:_n89,replaceWithKlass:_r71,sharedNodeState:H(a[_t193]),transforms:_l11});}}var g=new _lo(s,o,h,{disableEvents:i,namespace:l,theme:r},u||console.error,function(t,e){var n=new Map(),r=new Set(),o=function o(t){Object.keys(t).forEach(function(e){var r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e]);});};return t.forEach(function(t){var e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);var n=e.call(t.klass);null!==n&&o(n);}),e&&o(e),n;}(h,f?f["import"]:void 0),d,t);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=2),g;},exports.createSharedNodeState=H,exports.createState=function(t,e){return new Y(t,e);},exports.declarePeerDependency=function(t,e){return[t,e];},exports.defineExtension=function(t){return t;},exports.flipDirection=Vi,exports.getDOMOwnerDocument=fi,exports.getDOMSelection=ki,exports.getDOMSelectionFromTarget=Ei,exports.getDOMTextNode=ko,exports.getEditorPropertyFromDOMNode=Co,exports.getNearestEditorFromDOMNode=xo,exports.getRegisteredNode=ho,exports.getRegisteredNodeOrThrow=fo,exports.getStaticNodeConfig=Wi,exports.isBlockDomNode=wi,exports.isCurrentlyReadOnlyMode=Sr,exports.isDOMDocumentNode=vo,exports.isDOMNode=Oi,exports.isDOMTextNode=To,exports.isDOMUnmanaged=Bi,exports.isDocumentFragment=Mi,exports.isExactShortcutMatch=Xo,exports.isHTMLAnchorElement=function(t){return bi(t)&&"A"===t.tagName;},exports.isHTMLElement=bi,exports.isInlineDomNode=Ai,exports.isLexicalEditor=mo,exports.isModifierMatch=qo,exports.isSelectionCapturedInDecoratorInput=po,exports.isSelectionWithinEditor=yo,exports.makeStepwiseIterator=ps,exports.removeFromParent=Oo,exports.resetRandomKey=function(){uo=1;},exports.safeCast=function(t){return t;},exports.setDOMUnmanaged=function(t){t.__lexicalUnmanaged=!0;},exports.setNodeIndentFromDOM=Ki,exports.shallowMergeConfig=function(t,e){if(!e||t===e)return t;for(var _n90 in e)if(t[_n90]!==e[_n90])return babelHelpers["extends"]({},t,e);return t;};}),null);
__d("LexicalExtension",["cr:13727"],(function(a,b,c,d,e,f){e.exports=b("cr:13727")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<5715d55ea7e999a1b3909eba13557eb1>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalClearEditorPlugin.prod",["LexicalComposerContext","LexicalExtension","react"],(function $module_LexicalClearEditorPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var o=_require_closure_react||(_require_closure_react=require("react"));var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;exports.ClearEditorPlugin=function(_ref){var o=_ref.onClear;var _t$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),n=_t$useLexicalComposer[0];return r(function(){return require("LexicalExtension").registerClearEditor(n,o);},[n,o]),null;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<44ab79b9fd8866e8cc2f12d800d99413>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalComposer.prod",["Lexical","LexicalComposerContext","react"],(function $module_LexicalComposer_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var o=_require_closure_react||(_require_closure_react=require("react")),n=_require_closure_react;var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,i=r?o.useLayoutEffect:o.useEffect,a={tag:require("Lexical").HISTORY_MERGE_TAG};exports.LexicalComposer=function(_ref){var c=_ref.initialConfig,s=_ref.children;var l=o.useMemo(function(){var o=c.theme,n=c.namespace,i=c.nodes,s=c.onError,l=c.editorState,d=c.html,u=require("LexicalComposerContext").createLexicalComposerContext(null,o),m=require("Lexical").createEditor({editable:c.editable,html:d,namespace:n,nodes:i,onError:function onError(e){return s(e,m);},theme:o});return function(e,o){if(null===o)return;if(void 0===o)e.update(function(){var o=require("Lexical").$getRoot();if(o.isEmpty()){var _n=require("Lexical").$createParagraphNode();o.append(_n);var _i=r?document.activeElement:null;(null!==require("Lexical").$getSelection()||null!==_i&&_i===e.getRootElement())&&_n.select();}},a);else if(null!==o)switch(typeof o){case"string":{var _t=e.parseEditorState(o);e.setEditorState(_t,a);break;}case"object":e.setEditorState(o,a);break;case"function":e.update(function(){require("Lexical").$getRoot().isEmpty()&&o(e);},a);}}(m,l),[m,u];},[]);return i(function(){var e=c.editable,t=l[0];t.setEditable(void 0===e||e);},[]),n.jsx(require("LexicalComposerContext").LexicalComposerContext.Provider,{value:l,children:s});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d4f4df497abc7b85a16c829825c1c083>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var e=_require_closure_react||(_require_closure_react=require("react"));var n=e.createContext(null);exports.LexicalComposerContext=n,exports.createLexicalComposerContext=function(e,n){var t=null;return null!=e&&(t=e[1]),{getTheme:function getTheme(){return null!=n?n:null!=t?t.getTheme():null;}};},exports.useLexicalComposerContext=function(){var t=e.useContext(n);return null==t&&function(e){var t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}for(var _e of n)r.append("v",_e);throw t.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(8),t;};}),null);
__d("LexicalText",["cr:2181"],(function(a,b,c,d,e,f){e.exports=b("cr:2181")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<4ba13524308c1dd46ac5b44adf0aeab2>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalContentEditable.prod",["LexicalComposerContext","LexicalText","LexicalUtils","react"],(function $module_LexicalContentEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["editor","ariaActiveDescendant","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaErrorMessage","ariaExpanded","ariaInvalid","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwns","ariaRequired","autoCapitalize","className","id","role","spellCheck","style","tabIndex","data-testid"],_excluded2=["placeholder"];var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react")),a=_require_closure_react;var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function o(_ref,q){var e=_ref.editor,i=_ref.ariaActiveDescendant,r=_ref.ariaAutoComplete,o=_ref.ariaControls,l=_ref.ariaDescribedBy,s=_ref.ariaErrorMessage,d=_ref.ariaExpanded,u=_ref.ariaInvalid,c=_ref.ariaLabel,f=_ref.ariaLabelledBy,b=_ref.ariaMultiline,m=_ref.ariaOwns,x=_ref.ariaRequired,E=_ref.autoCapitalize,p=_ref.className,C=_ref.id,_ref$role=_ref.role,v=_ref$role===void 0?"textbox":_ref$role,_ref$spellCheck=_ref.spellCheck,w=_ref$spellCheck===void 0?!0:_ref$spellCheck,y=_ref.style,L=_ref.tabIndex,g=_ref["data-testid"],h=babelHelpers.objectWithoutPropertiesLoose(_ref,_excluded);var _t$useState=t.useState(e.isEditable()),R=_t$useState[0],j=_t$useState[1],S=t.useCallback(function(t){t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null);},[e]),D=t.useMemo(function(){return function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return function(t){for(var _a of e)"function"==typeof _a?_a(t):null!=_a&&(_a.current=t);};}(q,S);},[S,q]);return n(function(){return j(e.isEditable()),e.registerEditableListener(function(e){j(e);});},[e]),a.jsx("div",babelHelpers["extends"]({"aria-activedescendant":R?i:void 0,"aria-autocomplete":R?r:"none","aria-controls":R?o:void 0,"aria-describedby":l},null!=s?{"aria-errormessage":s}:{},{"aria-expanded":R&&"combobox"===v?!!d:void 0},null!=u?{"aria-invalid":u}:{},{"aria-label":c,"aria-labelledby":f,"aria-multiline":b,"aria-owns":R?m:void 0,"aria-readonly":!R||void 0,"aria-required":x,autoCapitalize:E,className:p,contentEditable:R,"data-testid":g,id:C,ref:D,role:v,spellCheck:w,style:y,tabIndex:L},h));}var l=t.forwardRef(o);function s(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}var d=t.forwardRef(u);function u(t,i){var r=t.placeholder,n=babelHelpers.objectWithoutPropertiesLoose(t,_excluded2),_e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer[0];return a.jsxs(a.Fragment,{children:[a.jsx(l,babelHelpers["extends"]({editor:o},n,{ref:i})),null!=r&&a.jsx(c,{editor:o,content:r})]});}function c(_ref2){var e=_ref2.content,i=_ref2.editor;var o=function(e){var _t$useState3=t.useState(function(){return s(e);}),a=_t$useState3[0],i=_t$useState3[1];return n(function(){function t(){var t=s(e);i(t);}return t(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){t();}),e.registerEditableListener(function(){t();}));},[e]),a;}(i),_t$useState2=t.useState(i.isEditable()),l=_t$useState2[0],d=_t$useState2[1];if(t.useLayoutEffect(function(){return d(i.isEditable()),i.registerEditableListener(function(e){d(e);});},[i]),!o)return null;var u=null;return"function"==typeof e?u=e(l):null!==e&&(u=e),null===u?null:a.jsx("div",{"aria-hidden":!0,children:u});}exports.ContentEditable=d,exports.ContentEditableElement=l;}),null);
__d("LexicalDragon",["cr:2903"],(function(a,b,c,d,e,f){e.exports=b("cr:2903")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d590ff2ad017346a92057f379cd1818d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalErrorBoundary.prod",["react"],(function $module_LexicalErrorBoundary_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react")),e=_require_closure_react;var t=r.createContext(null),o={didCatch:!1,error:null};var _s4=function(_r$Component){function s(r){var _this;_this=_r$Component.call(this,r)||this,_this.resetErrorBoundary=_this.resetErrorBoundary.bind(babelHelpers.assertThisInitialized(_this)),_this.state=o;return _this;}babelHelpers.inheritsLoose(s,_r$Component);s.getDerivedStateFromError=function getDerivedStateFromError(r){return{didCatch:!0,error:r};};var _proto=s.prototype;_proto.resetErrorBoundary=function resetErrorBoundary(){var r=this.state.error;if(null!==r){for(var e,t,_s=arguments.length,n=new Array(_s),i=0;i<_s;i++)n[i]=arguments[i];null===(e=(t=this.props).onReset)||void 0===e||e.call(t,{args:n,reason:"imperative-api"}),this.setState(o);}};_proto.componentDidCatch=function componentDidCatch(r,e){var t,o;null===(t=(o=this.props).onError)||void 0===t||t.call(o,r,e);};_proto.componentDidUpdate=function componentDidUpdate(r,e){var t=this.state.didCatch,_s2=this.props.resetKeys;var n,i;t&&null!==e.error&&function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.length!==e.length||r.some(function(r,t){return!Object.is(r,e[t]);});}(r.resetKeys,_s2)&&(null===(n=(i=this.props).onReset)||void 0===n||n.call(i,{next:_s2,prev:r.resetKeys,reason:"keys"}),this.setState(o));};_proto.render=function render(){var _this$props=this.props,e=_this$props.children,o=_this$props.fallbackRender,_s3=_this$props.FallbackComponent,n=_this$props.fallback,_this$state=this.state,i=_this$state.didCatch,a=_this$state.error;var l=e;if(i){var _e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof o)l=o(_e);else if(_s3)l=r.createElement(_s3,_e);else{if(void 0===n)throw a;l=n;}}return r.createElement(t.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},l);};return s;}(r.Component);exports.LexicalErrorBoundary=function(_ref){var r=_ref.children,t=_ref.onError;return e.jsx(_s4,{fallback:e.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:r});};}),null);
__d("LexicalHistory",["cr:2904"],(function(a,b,c,d,e,f){e.exports=b("cr:2904")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<a4e75d98d5c200f319ab621ceecc265d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistoryPlugin.prod",["LexicalComposerContext","LexicalHistory","react"],(function $module_LexicalHistoryPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react"));exports.createEmptyHistoryState=require("LexicalHistory").createEmptyHistoryState,exports.HistoryPlugin=function(_ref){var o=_ref.delay,s=_ref.externalHistoryState;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),i=_e$useLexicalComposer[0];return function(e,o,s){if(s===void 0){s=1e3;}var i=r.useMemo(function(){return o||require("LexicalHistory").createEmptyHistoryState();},[o]);r.useEffect(function(){return require("LexicalHistory").registerHistory(e,i,s);},[s,e,i]);}(i,s,o),null;};}),null);
__d("LexicalPlainText",["cr:2909"],(function(a,b,c,d,e,f){e.exports=b("cr:2909")}),null);
__d("LexicalReactProviderExtension",["cr:13740"],(function(a,b,c,d,e,f){e.exports=b("cr:13740")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<756b0469135a8bebf674ad8b470f15b0>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainTextPlugin.prod",["LexicalComposerContext","LexicalDragon","LexicalExtension","LexicalPlainText","LexicalReactProviderExtension","LexicalText","LexicalUtils","ReactDOM","react","useLexicalEditable"],(function $module_LexicalPlainTextPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var o=_require_closure_react||(_require_closure_react=require("react")),c=_require_closure_react;function x(e){throw new Error(e);}var d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function f(_ref){var e=_ref.editor,r=_ref.ErrorBoundary;return function(e,r){var _o$useState=o.useState(function(){return e.getDecorators();}),t=_o$useState[0],n=_o$useState[1];return d(function(){return e.registerDecoratorListener(function(e){require("ReactDOM").flushSync(function(){n(e);});});},[e]),o.useEffect(function(){n(e.getDecorators());},[e]),o.useMemo(function(){var n=[],u=Object.keys(t);for(var _a=0;_a<u.length;_a++){var _s=u[_a],_l=c.jsx(r,{onError:function onError(r){return e._onError(r);},children:c.jsx(o.Suspense,{fallback:null,children:t[_s]})}),_x=e.getElementByKey(_s);null!==_x&&n.push(require("ReactDOM").createPortal(_l,_x,_s));}return n;},[r,t,e]);}(e,r);}function g(_ref2){var e=_ref2.editor,r=_ref2.ErrorBoundary;return function(e){var r=require("LexicalExtension").LexicalBuilder.maybeFromEditor(e);if(r&&r.hasExtensionByName(require("LexicalReactProviderExtension").ReactProviderExtension.name)){for(var _e of["LexicalPlainText","LexicalRichText"])r.hasExtensionByName(_e)&&x("LexicalBuilder: @lexical/react legacy text plugins conflict with the "+_e+" extension. Remove the legacy <RichTextPlugin/> or <PlainTextPlugin/> component.");return!0;}return!1;}(e)?null:c.jsx(f,{editor:e,ErrorBoundary:r});}function E(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}function m(_ref3){var t=_ref3.content;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),n=_e$useLexicalComposer[0],i=function(e){var _o$useState2=o.useState(function(){return E(e);}),r=_o$useState2[0],t=_o$useState2[1];return d(function(){function r(){var r=E(e);t(r);}return r(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){r();}),e.registerEditableListener(function(){r();}));},[e]),r;}(n),c=require("useLexicalEditable").useLexicalEditable();return i?"function"==typeof t?t(c):t:null;}exports.PlainTextPlugin=function(_ref4){var r=_ref4.contentEditable,_ref4$placeholder=_ref4.placeholder,t=_ref4$placeholder===void 0?null:_ref4$placeholder,n=_ref4.ErrorBoundary;var _e$useLexicalComposer2=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer2[0];return function(e){d(function(){return require("LexicalUtils").mergeRegister(require("LexicalPlainText").registerPlainText(e),require("LexicalDragon").registerDragonSupport(e));},[e]);}(o),c.jsxs(c.Fragment,{children:[r,c.jsx(m,{content:t}),c.jsx(g,{editor:o,ErrorBoundary:n})]});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<eebf19b97441ba1e2c77e85666d5af9f>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalSelection.prod",["Lexical"],(function $module_LexicalSelection_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(e){for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var n=new Map();function o(e){var t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild;}return null;}function s(e){var t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)];}function r(e){var t={};if(!e)return t;var n=e.split(";");for(var _e2 of n)if(""!==_e2){var _e2$split=_e2.split(/:([^]+)/),_n=_e2$split[0],_o=_e2$split[1];_n&&_o&&(t[_n.trim()]=_o.trim());}return t;}function i(e){var t=n.get(e);return void 0===t&&(t=r(e),n.set(e,t)),t;}function l(e){var t="";for(var _n2 in e)_n2&&(t+=_n2+": "+e[_n2]+";");return t;}function c(t){var n=require("Lexical").$getEditor().getElementByKey(t.getKey());if(null===n)return null;var o=n.ownerDocument.defaultView;return null===o?null:o.getComputedStyle(n);}function f(t){return c(require("Lexical").$isRootNode(t)?t:t.getParentOrThrow());}function d(t,n,o){var s=n.getNode(),r=o;if(require("Lexical").$isElementNode(s)){var _e3=s.getDescendantByIndex(n.offset);null!==_e3&&(s=_e3);}var _loop=function _loop(){if(require("Lexical").$isElementNode(s)){var _e4=s.getLastDescendant();null!==_e4&&(s=_e4);}var o=s.getPreviousSibling(),i=0;if(null===o){var _e5=s.getParentOrThrow(),_t=_e5.getPreviousSibling();for(;null===_t;){if(_e5=_e5.getParent(),null===_e5){o=null;break;}_t=_e5.getPreviousSibling();}null!==_e5&&(i=_e5.isInline()?0:2,o=_t);}var l=s.getTextContent();""===l&&require("Lexical").$isElementNode(s)&&!s.isInline()&&(l="\n\n");var c=l.length;if(!require("Lexical").$isTextNode(s)||r>=c){var _t2=s.getParent();s.remove(),null==_t2||0!==_t2.getChildrenSize()||require("Lexical").$isRootNode(_t2)||_t2.remove(),r-=c+i,s=o;}else{var _o2=s.getKey(),_i=t.getEditorState().read(function(){var t=require("Lexical").$getNodeByKey(_o2);return require("Lexical").$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null;}),_f=c-r,_d=l.slice(0,_f);if(null!==_i&&_i!==l){var _t3=require("Lexical").$getPreviousSelection();var _n3=s;if(s.isSimpleText())s.setTextContent(_i);else{var _t4=require("Lexical").$createTextNode(_i);s.replace(_t4),_n3=_t4;}if(require("Lexical").$isRangeSelection(_t3)&&_t3.isCollapsed()){var _e6=_t3.anchor.offset;_n3.select(_e6,_e6);}}else if(s.isSimpleText()){var _e7=n.key===_o2;var _t5=n.offset;_t5<r&&(_t5=c);var _i2=_e7?_t5-r:0,_l=_e7?_t5:_f;if(_e7&&0===_i2){var _s$splitText=s.splitText(_i2,_l),_e8=_s$splitText[0];_e8.remove();}else{var _s$splitText2=s.splitText(_i2,_l),_e9=_s$splitText2[1];_e9.remove();}}else{var _t6=require("Lexical").$createTextNode(_d);s.replace(_t6);}r=0;}};for(;r>0&&null!==s;){_loop();}}function a(o,s){(require("Lexical").$isRangeSelection(o)?o.isCollapsed():require("Lexical").$isTextNode(o)||require("Lexical").$isElementNode(o))||t(280);var r=i(require("Lexical").$isRangeSelection(o)?o.style:require("Lexical").$isTextNode(o)?o.getStyle():o.getTextStyle()),c=Object.entries(s).reduce(function(e,_ref){var t=_ref[0],n=_ref[1];return"function"==typeof n?e[t]=n(r[t],o):null===n?delete e[t]:e[t]=n,e;},babelHelpers["extends"]({},r)),f=l(c);require("Lexical").$isRangeSelection(o)||require("Lexical").$isTextNode(o)?o.setStyle(f):o.setTextStyle(f),n.set(f,c);}function u(t){var n=require("Lexical").$getSelection();if(!n)return;var o=new Map(),s=function s(e){return o.get(e.getKey())||[0,e.getTextContentSize()];};if(require("Lexical").$isRangeSelection(n))for(var _t7 of require("Lexical").$caretRangeFromSelection(n).getTextSlices())_t7&&o.set(_t7.caret.origin.getKey(),_t7.getSliceIndices());var r=n.getNodes();for(var _n4 of r){if(!require("Lexical").$isTextNode(_n4)||!_n4.canHaveFormat())continue;var _s=s(_n4),_o3=_s[0],_r=_s[1];if(_r!==_o3)if(require("Lexical").$isTokenOrSegmented(_n4)||0===_o3&&_r===_n4.getTextContentSize())t(_n4);else{t(_n4.splitText(_o3,_r)[0===_o3?0:1]);}}require("Lexical").$isRangeSelection(n)&&"text"===n.anchor.type&&"text"===n.focus.type&&n.anchor.key===n.focus.key&&g(n);}function g(e){if(e.isBackward()){var _t8=e.anchor,_n5=e.focus,_o4=_t8.key,_s2=_t8.offset,_r2=_t8.type;_t8.set(_n5.key,_n5.offset,_n5.type),_n5.set(_o4,_s2,_r2);}}function p(e,t){var n=e.getFormatType(),o=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),o!==t.getIndent()&&t.setIndent(o);}function $(e){return e.getNode().isAttached();}function h(t){var n=t;for(;null!==n&&!require("Lexical").$isRootOrShadowRoot(n);){var _e0=n.getLatest(),_t9=n.getParent();0===_e0.getChildrenSize()&&n.remove(!0),n=_t9;}}function y(n,o,s,r,i){if(i===void 0){i=null;}if(0===o.length)return;var l=o[0],c=new Map(),f=[];var d=require("Lexical").$isElementNode(l)?l:l.getParentOrThrow();d.isInline()&&(d=d.getParentOrThrow());var a=!1;for(;null!==d;){var _t0=d.getPreviousSibling();if(null!==_t0){d=_t0,a=!0;break;}if(d=d.getParentOrThrow(),require("Lexical").$isRootOrShadowRoot(d))break;}var u=new Set();for(var _t1=0;_t1<s;_t1++){var _n6=o[_t1];require("Lexical").$isElementNode(_n6)&&0===_n6.getChildrenSize()&&u.add(_n6.getKey());}var g=new Set();var _loop2=function _loop2(){var s=o[_n7];var i=s.getParent();if(null!==i&&i.isInline()&&(i=i.getParent()),null!==i&&require("Lexical").$isLeafNode(s)&&!g.has(s.getKey())){var _t15=i.getKey();if(void 0===c.get(_t15)){var _n9=r();_n9.setFormat(i.getFormatType()),_n9.setIndent(i.getIndent()),f.push(_n9),c.set(_t15,_n9),i.getChildren().forEach(function(t){_n9.append(t),g.add(t.getKey()),require("Lexical").$isElementNode(t)&&t.getChildrenKeys().forEach(function(e){return g.add(e);});}),h(i);}}else if(u.has(s.getKey())){require("Lexical").$isElementNode(s)||t(179);var _n0=r();_n0.setFormat(s.getFormatType()),_n0.setIndent(s.getIndent()),f.push(_n0),s.remove(!0);}};for(var _n7=0;_n7<s;_n7++){_loop2();}if(null!==i)for(var _e1=0;_e1<f.length;_e1++){var _t10=f[_e1];i.append(_t10);}var p=null;if(require("Lexical").$isRootOrShadowRoot(d)){if(a){if(null!==i)d.insertAfter(i);else for(var _e10=f.length-1;_e10>=0;_e10--){var _t11=f[_e10];d.insertAfter(_t11);}}else{var _t12=d.getFirstChild();if(require("Lexical").$isElementNode(_t12)&&(d=_t12),null===_t12){if(i)d.append(i);else for(var _e11=0;_e11<f.length;_e11++){var _t13=f[_e11];d.append(_t13),p=_t13;}}else if(null!==i)_t12.insertBefore(i);else for(var _e12=0;_e12<f.length;_e12++){var _n8=f[_e12];_t12.insertBefore(_n8),p=_n8;}}}else if(i)d.insertAfter(i);else for(var _e13=f.length-1;_e13>=0;_e13--){var _t14=f[_e13];d.insertAfter(_t14),p=_t14;}var y=require("Lexical").$getPreviousSelection();require("Lexical").$isRangeSelection(y)&&$(y.anchor)&&$(y.focus)?require("Lexical").$setSelection(y.clone()):null!==p?p.selectEnd():n.dirty=!0;}function S(e){var t=m(e);return null!==t&&"vertical-rl"===t.writingMode;}function m(t){var n=t.anchor.getNode();return require("Lexical").$isElementNode(n)?c(n):f(n);}function x(e,t,n,o){e.modify(t?"extend":"move",n,o);}function N(e){var t=m(e);return null!==t&&"rtl"===t.direction;}function T(e,t,n){var o=i(e.getStyle());return null!==o&&o[t]||n;}var E=d;exports.$cloneWithProperties=require("Lexical").$cloneWithProperties,exports.$selectAll=require("Lexical").$selectAll,exports.$addNodeStyle=function(e){var t=e.getStyle(),o=r(t);n.set(t,o);},exports.$copyBlockFormatIndent=p,exports.$ensureForwardRangeSelection=g,exports.$forEachSelectedTextNode=u,exports.$getComputedStyleForElement=c,exports.$getComputedStyleForParent=f,exports.$getSelectionStyleValueForProperty=function(t,n,o){if(o===void 0){o="";}var s=null;var r=t.getNodes(),l=t.anchor,c=t.focus,f=t.isBackward(),d=f?c.offset:l.offset,a=f?c.getNode():l.getNode();if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&""!==t.style){var _e14=i(t.style);if(null!==_e14&&n in _e14)return _e14[n];}for(var _t16=0;_t16<r.length;_t16++){var _i3=r[_t16];if((0===_t16||0!==d||!_i3.is(a))&&require("Lexical").$isTextNode(_i3)){var _e15=T(_i3,n,o);if(null===s)s=_e15;else if(s!==_e15){s="";break;}}}return null===s?o:s;},exports.$isAtNodeEnd=function(n){if("text"===n.type)return n.offset===n.getNode().getTextContentSize();var o=n.getNode();return require("Lexical").$isElementNode(o)||t(177),n.offset===o.getChildrenSize();},exports.$isParentElementRTL=N,exports.$isParentRTL=function(e){var t=f(e);return null!==t&&"rtl"===t.direction;},exports.$moveCaretSelection=x,exports.$moveCharacter=function(e,t,n){var o=N(e);var s;s=S(e)||o?!n:n,x(e,t,s,"character");},exports.$patchStyleText=function(t,n){if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()){a(t,n);var _o5=t.anchor.getNode();require("Lexical").$isElementNode(_o5)&&_o5.isEmpty()&&a(_o5,n);}u(function(e){a(e,n);});},exports.$setBlocksType=function(t,n,o){if(o===void 0){o=p;}if(null===t)return;var s=t.getStartEndPoints(),r=new Map();var i=null;if(s){var _require_Lexical;var _t17=s[0],_n1=s[1];i=(_require_Lexical=require("Lexical")).$createRangeSelection(),i.anchor.set(_t17.key,_t17.offset,_t17.type),i.focus.set(_n1.key,_n1.offset,_n1.type);var _o6=_require_Lexical.$findMatchingParent(_t17.getNode(),_require_Lexical.INTERNAL_$isBlock),_l2=_require_Lexical.$findMatchingParent(_n1.getNode(),_require_Lexical.INTERNAL_$isBlock);require("Lexical").$isElementNode(_o6)&&r.set(_o6.getKey(),_o6),require("Lexical").$isElementNode(_l2)&&r.set(_l2.getKey(),_l2);}for(var _n10 of t.getNodes())if(require("Lexical").$isElementNode(_n10)&&require("Lexical").INTERNAL_$isBlock(_n10))r.set(_n10.getKey(),_n10);else if(null===s){var _t18=require("Lexical").$findMatchingParent(_n10,require("Lexical").INTERNAL_$isBlock);require("Lexical").$isElementNode(_t18)&&r.set(_t18.getKey(),_t18);}for(var _ref3 of r){var _e16=_ref3[0];var _t19=_ref3[1];{var _s3=n();o(_t19,_s3),_t19.replace(_s3,!0),i&&(_e16===i.anchor.key&&i.anchor.set(_s3.getKey(),i.anchor.offset,i.anchor.type),_e16===i.focus.key&&i.focus.set(_s3.getKey(),i.focus.offset,i.focus.type));}}i&&t.is(require("Lexical").$getSelection())&&require("Lexical").$setSelection(i);},exports.$shouldOverrideDefaultCharacterSelection=function(t,n){var o=S(t)?!n:n;N(t)&&(o=!o);var s=require("Lexical").$caretFromPoint(t.focus,o?"previous":"next");if(require("Lexical").$isExtendableTextPointCaret(s))return!1;for(var _t20 of require("Lexical").$extendCaretToRange(s)){if(require("Lexical").$isChildCaret(_t20))return!_t20.origin.isInline();if(!require("Lexical").$isElementNode(_t20.origin)){if(require("Lexical").$isDecoratorNode(_t20.origin))return!0;break;}}return!1;},exports.$sliceSelectedTextNodeContent=function(t,n){var o=t.getStartEndPoints();if(n.isSelected(t)&&!require("Lexical").$isTokenOrSegmented(n)&&null!==o){var _s4=o[0],_r3=o[1],_i4=t.isBackward(),_l3=_s4.getNode(),_c=_r3.getNode(),_f2=n.is(_l3),_d2=n.is(_c);if(_f2||_d2){var _e$$getCharacterOffse=require("Lexical").$getCharacterOffsets(t),_o7=_e$$getCharacterOffse[0],_s5=_e$$getCharacterOffse[1],_r4=_l3.is(_c),_f3=n.is(_i4?_c:_l3),_d3=n.is(_i4?_l3:_c);var _a,_u=0;if(_r4)_u=_o7>_s5?_s5:_o7,_a=_o7>_s5?_o7:_s5;else if(_f3){_u=_i4?_s5:_o7,_a=void 0;}else if(_d3){_u=0,_a=_i4?_o7:_s5;}n.__text=n.__text.slice(_u,_a);}}return n;},exports.$trimTextContentFromAnchor=d,exports.$wrapNodes=function(t,n,o){if(o===void 0){o=null;}var s=t.getStartEndPoints(),r=s?s[0]:null,i=t.getNodes(),l=i.length;if(null!==r&&(0===l||1===l&&"element"===r.type&&0===r.getNode().getChildrenSize())){var _e17="text"===r.type?r.getNode().getParentOrThrow():r.getNode(),_t21=_e17.getChildren();var _s6=n();return _s6.setFormat(_e17.getFormatType()),_s6.setIndent(_e17.getIndent()),_t21.forEach(function(e){return _s6.append(e);}),o&&(_s6=o.append(_s6)),void _e17.replace(_s6);}var c=null,f=[];for(var _s7=0;_s7<l;_s7++){var _r5=i[_s7];require("Lexical").$isRootOrShadowRoot(_r5)?(y(t,f,f.length,n,o),f=[],c=_r5):null===c||null!==c&&require("Lexical").$hasAncestor(_r5,c)?f.push(_r5):(y(t,f,f.length,n,o),f=[_r5]);}y(t,f,f.length,n,o);},exports.createDOMRange=function(t,n,r,i,l){var _s8,_s9;var c=n.getKey(),f=i.getKey(),d=document.createRange();var a=t.getElementByKey(c),u=t.getElementByKey(f),g=r,p=l;if(require("Lexical").$isTextNode(n)&&(a=o(a)),require("Lexical").$isTextNode(i)&&(u=o(u)),void 0===n||void 0===i||null===a||null===u)return null;"BR"===a.nodeName&&(_s8=s(a),a=_s8[0],g=_s8[1],_s8),"BR"===u.nodeName&&(_s9=s(u),u=_s9[0],p=_s9[1],_s9);var $=a.firstChild;a===u&&null!=$&&"BR"===$.nodeName&&0===g&&0===p&&(p=1);try{d.setStart(a,g),d.setEnd(u,p);}catch(e){return null;}return!d.collapsed||g===p&&c===f||(d.setStart(u,p),d.setEnd(a,g)),d;},exports.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];var o=n.getBoundingClientRect(),s=getComputedStyle(n),r=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i=Array.from(t.getClientRects());var l,c=i.length;i.sort(function(e,t){var n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n;});for(var _e18=0;_e18<c;_e18++){var _t22=i[_e18],_n11=l&&l.top<=_t22.top&&l.top+l.height>_t22.top&&l.left+l.width>_t22.left,_s0=_t22.width+r===o.width;_n11||_s0?(i.splice(_e18--,1),c--):l=_t22;}return i;},exports.getCSSFromStyleObject=l,exports.getStyleObjectFromCSS=i,exports.trimTextContentFromAnchor=E;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<6db94066404cad9ecfa2611d70034cd1>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalUtils.prod",["Lexical","LexicalSelection"],(function $module_LexicalUtils_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)r.append("v",_e);throw n.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,o=r&&"documentMode"in document?document.documentMode:null,i=r&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),s=r&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),l=!(!r||!("InputEvent"in window)||o)&&"getTargetRanges"in new window.InputEvent("input"),a=r&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=r&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=r&&/Android/.test(navigator.userAgent),d=r&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=r&&u&&d,f=r&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!d;function p(){var t=[];for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}for(var _n of e)if(_n&&"string"==typeof _n)for(var _ref2 of _n.matchAll(/\S+/g)){var _e2=_ref2[0];t.push(_e2);}return t;}function m(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}return function(){for(var _t=e.length-1;_t>=0;_t--)e[_t]();e.length=0;};}function h(e){return e+"px";}var $={attributes:!0,characterData:!0,childList:!0,subtree:!0};function x(r,o,i){var s=null,l=null,a=null,c=[];var u=document.createElement("div");function d(){null===s&&n(182),null===l&&n(183);var _l$getBoundingClientR=l.getBoundingClientRect(),e=_l$getBoundingClientR.left,a=_l$getBoundingClientR.top,d=require("LexicalSelection").createRectsFromDOMRange(r,o);var g,f;u.isConnected||(f=u,(g=l).insertBefore(f,g.firstChild));var p=!1;for(var _t2=0;_t2<d.length;_t2++){var _n2=d[_t2],_r=c[_t2]||document.createElement("div"),_o=_r.style;"absolute"!==_o.position&&(_o.position="absolute",p=!0);var _i=h(_n2.left-e);_o.left!==_i&&(_o.left=_i,p=!0);var _s=h(_n2.top-a);_o.top!==_s&&(_r.style.top=_s,p=!0);var _l=h(_n2.width);_o.width!==_l&&(_r.style.width=_l,p=!0);var _g=h(_n2.height);_o.height!==_g&&(_r.style.height=_g,p=!0),_r.parentNode!==u&&(u.append(_r),p=!0),c[_t2]=_r;}for(;c.length>d.length;)c.pop();p&&i(c);}function g(){l=null,s=null,null!==a&&a.disconnect(),a=null,u.remove();for(var _e3 of c)_e3.remove();c=[];}u.style.position="relative";var f=r.registerRootListener(function t(){var n=r.getRootElement();if(null===n)return g();var o=n.parentElement;if(!require("Lexical").isHTMLElement(o))return g();g(),s=n,l=o,a=new MutationObserver(function(e){var n=r.getRootElement(),o=n&&n.parentElement;if(n!==s||o!==l)return t();for(var _t3 of e)if(!u.contains(_t3.target))return d();}),a.observe(o,$),d();});return function(){f(),g();};}function S(t,n,r){if("text"!==t.type&&require("Lexical").$isElementNode(n)){var _e4=n.getDOMSlot(r);return[_e4.element,_e4.getFirstChildOffset()+t.offset];}return[require("Lexical").getDOMTextNode(r)||r,t.offset];}function C(t,n){var r=null,o=null,i=null,s=null,l=null,a=null,c=function c(){};function u(u){u.read(function(){var u=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(u))return r=null,i=null,s=null,a=null,c(),void(c=function c(){});var _ref3=function(e){var t=e.getStartEndPoints();return e.isBackward()?[t[1],t[0]]:t;}(u),d=_ref3[0],g=_ref3[1],f=d.getNode(),p=f.getKey(),m=d.offset,$=g.getNode(),C=$.getKey(),E=g.offset,v=t.getElementByKey(p),N=t.getElementByKey(C),A=null===r||v!==o||m!==i||p!==r.getKey(),w=null===s||N!==l||E!==a||C!==s.getKey();if((A||w)&&null!==v&&null!==N){var _e5=function(e,t,n,r,o,i,s){var l=(e._window?e._window.document:document).createRange();return l.setStart.apply(l,S(t,n,r)),l.setEnd.apply(l,S(o,i,s)),l;}(t,d,f,v,g,$,N);c(),c=x(t,_e5,function(e){if(void 0===n)for(var _t4 of e){var _e6=_t4.style;"Highlight"!==_e6.background&&(_e6.background="Highlight"),"HighlightText"!==_e6.color&&(_e6.color="HighlightText"),_e6.marginTop!==h(-1.5)&&(_e6.marginTop=h(-1.5)),_e6.paddingTop!==h(4)&&(_e6.paddingTop=h(4)),_e6.paddingBottom!==h(0)&&(_e6.paddingBottom=h(0));}else n(e);});}r=f,o=v,i=m,s=$,l=N,a=E;});}return u(t.getEditorState()),m(t.registerUpdateListener(function(_ref4){var e=_ref4.editorState;return u(e);}),function(){c();});}var E=l,v=r,N=u,A=g,w=i,b=f,y=d,P=s,R=c,I=a;function O(e,t){for(var _n3 of t)if(e.type.startsWith(_n3))return!0;return!1;}function L(e,t){return M("next",e,t);}function M(t,n,r){var o=require("Lexical").$getRoot(),i=n||o,s=require("Lexical").$isElementNode(i)?require("Lexical").$getChildCaret(i,t):require("Lexical").$getSiblingCaret(i,t),l=T(i),a=r?require("Lexical").$getAdjacentChildCaret(require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(r,t))):function(t,n){var r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,n));return r&&r[0];}(i,t);var c=l;return require("Lexical").makeStepwiseIterator({hasNext:function hasNext(e){return null!==e;},initial:s,map:function map(e){return{depth:c,node:e.origin};},step:function step(t){if(t.isSameNodeCaret(a))return null;require("Lexical").$isChildCaret(t)&&c++;var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(t);return!n||n[0].isSameNodeCaret(a)?null:(c+=n[1],n[0]);}});}function T(e){var t=-1;for(var _n4=e;null!==_n4;_n4=_n4.getParent())t++;return t;}function _(e,t){return M("previous",e,t);}function D(t,r,o){var i=require("Lexical").$getCaretInDirection(r,"next");for(var _t5=i;_t5;_t5=require("Lexical").$splitAtPointCaretNext(_t5,o))i=_t5;return require("Lexical").$isTextPointCaret(i)&&n(283),i.insert(t.isInline()?require("Lexical").$createParagraphNode().append(t):t),require("Lexical").$getCaretInDirection(require("Lexical").$getSiblingCaret(t.getLatest(),"next"),r.direction);}var F=!(P||!v)&&void 0;function B(t,n,r){var o=!1;var _loop=function _loop(_i2){n(_i2)?null!==r&&r(_i2):(o=!0,require("Lexical").$isElementNode(_i2)&&B(_i2,n,r||function(e){return _i2.insertAfter(e);}),_i2.remove());};for(var _i2 of j(t)){_loop(_i2);}return o;}function j(t){return k(require("Lexical").$getChildCaret(t,"previous"));}function k(t){return require("Lexical").makeStepwiseIterator({hasNext:require("Lexical").$isSiblingCaret,initial:t.getAdjacentCaret(),map:function map(e){return e.origin.getLatest();},step:function step(e){return e.getAdjacentCaret();}});}exports.$findMatchingParent=require("Lexical").$findMatchingParent,exports.$getAdjacentSiblingOrParentSiblingCaret=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret,exports.$splitNode=require("Lexical").$splitNode,exports.isBlockDomNode=require("Lexical").isBlockDomNode,exports.isHTMLAnchorElement=require("Lexical").isHTMLAnchorElement,exports.isHTMLElement=require("Lexical").isHTMLElement,exports.isInlineDomNode=require("Lexical").isInlineDomNode,exports.$descendantsMatching=function(t,n){var r=[],o=Array.from(t).reverse();for(var _t6=o.pop();void 0!==_t6;_t6=o.pop())if(n(_t6))r.push(_t6);else if(require("Lexical").$isElementNode(_t6))for(var _e7 of j(_t6))o.push(_e7);return r;},exports.$dfs=function(e,t){return Array.from(L(e,t));},exports.$dfsIterator=L,exports.$filter=function(e,t){var n=[];for(var _r2=0;_r2<e.length;_r2++){var _o2=t(e[_r2]);null!==_o2&&n.push(_o2);}return n;},exports.$firstToLastIterator=function(t){return k(require("Lexical").$getChildCaret(t,"next"));},exports.$getAdjacentCaret=function(e){return e?e.getAdjacentCaret():null;},exports.$getDepth=T,exports.$getNearestBlockElementAncestorOrThrow=function(t){var r=require("Lexical").$findMatchingParent(t,function(t){return require("Lexical").$isElementNode(t)&&!t.isInline();});return require("Lexical").$isElementNode(r)||n(4,t.__key),r;},exports.$getNearestNodeOfType=function(e,t){var n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent();}return null;},exports.$getNextRightPreorderNode=function(t){var n=require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(t,"previous")),r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(n,"root");return r&&r[0].origin;},exports.$getNextSiblingOrParentSibling=function(t){var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,"next"));return n&&[n[0].origin,n[1]];},exports.$insertFirst=function(t,n){require("Lexical").$getChildCaret(t,"next").insert(n);},exports.$insertNodeToNearestRoot=function(t){var n=require("Lexical").$getSelection()||require("Lexical").$getPreviousSelection();var r;if(require("Lexical").$isRangeSelection(n))r=require("Lexical").$caretFromPoint(n.focus,"next");else{if(null!=n){var _t7=n.getNodes(),_o3=_t7[_t7.length-1];_o3&&(r=require("Lexical").$getSiblingCaret(_o3,"next"));}r=r||require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"previous").getFlipped().insert(require("Lexical").$createParagraphNode());}var o=D(t,r),i=require("Lexical").$getAdjacentChildCaret(o),s=require("Lexical").$isChildCaret(i)?require("Lexical").$normalizeCaret(i):o;return require("Lexical").$setSelectionFromCaretRange(require("Lexical").$getCollapsedCaretRange(s)),t.getLatest();},exports.$insertNodeToNearestRootAtCaret=D,exports.$isEditorIsNestedEditor=function(e){return null!==e._parentEditor;},exports.$lastToFirstIterator=j,exports.$restoreEditorState=function(t,n){var r=new Map(),o=t._pendingEditorState;for(var _ref6 of n._nodeMap){var _t8=_ref6[0];var _o4=_ref6[1];r.set(_t8,require("Lexical").$cloneWithProperties(_o4));}o&&(o._nodeMap=r),t._dirtyType=2;var i=n._selection;require("Lexical").$setSelection(null===i?null:i.clone());},exports.$reverseDfs=function(e,t){return Array.from(_(e,t));},exports.$reverseDfsIterator=_,exports.$unwrapAndFilterDescendants=function(e,t){return B(e,t,null);},exports.$unwrapNode=function(t){require("Lexical").$rewindSiblingCaret(require("Lexical").$getSiblingCaret(t,"next")).splice(1,t.getChildren());},exports.$wrapNodeInElement=function(e,t){var n=t();return e.replace(n),n.append(e),n;},exports.CAN_USE_BEFORE_INPUT=E,exports.CAN_USE_DOM=v,exports.IS_ANDROID=N,exports.IS_ANDROID_CHROME=A,exports.IS_APPLE=w,exports.IS_APPLE_WEBKIT=b,exports.IS_CHROME=y,exports.IS_FIREFOX=P,exports.IS_IOS=R,exports.IS_SAFARI=I,exports.addClassNamesToElement=function(e){var _e$classList;for(var _len4=arguments.length,t=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){t[_key4-1]=arguments[_key4];}var n=p.apply(void 0,t);n.length>0&&(_e$classList=e.classList).add.apply(_e$classList,n);},exports.calculateZoomLevel=function(e){var t=1;if(function(){if(void 0===F){var _e8=document.createElement("div");_e8.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(_e8);var _t9=_e8.getBoundingClientRect();_e8.style.setProperty("zoom","2"),F=_e8.getBoundingClientRect().width===_t9.width,document.body.removeChild(_e8);}return F;}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t;},exports.isMimeType=O,exports.makeStateWrapper=function(t){var n=function n(_n5){return require("Lexical").$getState(_n5,t);},r=function r(n,_r3){return require("Lexical").$setState(n,t,_r3);};return{$get:n,$set:r,accessors:[n,r],makeGetterMethod:function makeGetterMethod(){return function(){return n(this);};},makeSetterMethod:function makeSetterMethod(){return function(e){return r(this,e);};},stateConfig:t};},exports.markSelection=C,exports.mediaFileReader=function(e,t){var n=e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();return new Promise(function(e,r){var o=[],_i3=function i(){var _n$next=n.next(),s=_n$next.done,l=_n$next.value;if(s)return e(o);var a=new FileReader();a.addEventListener("error",r),a.addEventListener("load",function(){var e=a.result;"string"==typeof e&&o.push({file:l,result:e}),_i3();}),O(l,t)?a.readAsDataURL(l):_i3();};_i3();});},exports.mergeRegister=m,exports.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name;},exports.positionNodeOnRange=x,exports.registerNestedElementResolver=function(e,t,n,r){var o=function o(e){return e instanceof t;};return e.registerNodeTransform(t,function(e){var t=function(e){var t=e.getChildren();for(var _e9=0;_e9<t.length;_e9++){var _n6=t[_e9];if(o(_n6))return null;}var n=e,r=e;for(;null!==n;)if(r=n,n=n.getParent(),o(n))return{child:r,parent:n};return null;}(e);if(null!==t){var _o5=t.child,_i4=t.parent;if(_o5.is(e)){r(_i4,e);var _t0=_o5.getNextSiblings(),_s2=_t0.length;if(_i4.insertAfter(_o5),0!==_s2){var _e0=n(_i4);_o5.insertAfter(_e0);for(var _n7=0;_n7<_s2;_n7++)_e0.append(_t0[_n7]);}_i4.canBeEmpty()||0!==_i4.getChildrenSize()||_i4.remove();}}});},exports.removeClassNamesFromElement=function(e){var _e$classList2;for(var _len5=arguments.length,t=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){t[_key5-1]=arguments[_key5];}var n=p.apply(void 0,t);n.length>0&&(_e$classList2=e.classList).remove.apply(_e$classList2,n);},exports.selectionAlwaysOnDisplay=function(e){var t=null;var n=function n(){var n=getSelection(),r=n&&n.anchorNode,o=e.getRootElement();null!==r&&null!==o&&o.contains(r)?null!==t&&(t(),t=null):null===t&&(t=C(e));};return document.addEventListener("selectionchange",n),function(){null!==t&&t(),document.removeEventListener("selectionchange",n);};};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<7436c8dc7367c270e1db7b9c3652e01f>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("useLexicalEditable.prod",["LexicalComposerContext","react"],(function $module_useLexicalEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react"));var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function i(e){return{initialValueFn:function initialValueFn(){return e.isEditable();},subscribe:function subscribe(t){return e.registerEditableListener(t);}};}exports.useLexicalEditable=function(){return function(i){var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),r=_e$useLexicalComposer[0],u=t.useMemo(function(){return i(r);},[r,i]),_t$useState=t.useState(function(){return u.initialValueFn();}),o=_t$useState[0],s=_t$useState[1],c=t.useRef(o);return n(function(){var e=u.initialValueFn,t=u.subscribe,n=e();return c.current!==n&&(c.current=n,s(n)),t(function(e){c.current=e,s(e);});},[u,i]),o;}(i);};}),null);/*FB_PKG_DELIM*/
__d("WASmaxInInAppCommsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInInAppCommsIQErrorRequestTimeoutMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","request-timeout");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",408);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorRequestTimeoutMixin=a}),98);
__d("WASmaxInInAppCommsIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInInAppCommsEventErrorTypes",["WAResultOrError","WASmaxInInAppCommsIQErrorInternalServerErrorMixin","WASmaxInInAppCommsIQErrorRequestTimeoutMixin","WASmaxInInAppCommsIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInInAppCommsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:b.value});var c=d("WASmaxInInAppCommsIQErrorRequestTimeoutMixin").parseIQErrorRequestTimeoutMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorRequestTimeout",value:c.value});var e=d("WASmaxInInAppCommsIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);return e.success?d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorInternalServerError","IQErrorRequestTimeout","IQErrorServiceUnavailable"],[b,c,e])}g.parseEventErrorTypes=a}),98);
__d("WASmaxInInAppCommsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInInAppCommsEventResponseError",["WAResultOrError","WASmaxInInAppCommsEventErrorTypes","WASmaxInInAppCommsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInInAppCommsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInInAppCommsEventErrorTypes").parseEventErrorTypes(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorEventErrorTypes:b.value}))}g.parseEventResponseError=a}),98);
__d("WASmaxInInAppCommsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInInAppCommsEventResponseSuccess",["WASmaxInInAppCommsIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInInAppCommsIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseEventResponseSuccess=a}),98);
__d("WASmaxOutInAppCommsBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQSetRequestMixin=a}),98);
__d("WASmaxOutInAppCommsEventRequest",["WASmaxJsx","WASmaxOutInAppCommsBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b,c=a.eventPromotionId,e=a.eventType,f=a.eventTimestampSec;a=a.eventLogdata;c=d("WASmaxOutInAppCommsBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"w:comms",to:(b=d("WAWap")).S_WHATSAPP_NET},d("WASmaxJsx").smax("event",{promotion_id:b.CUSTOM_STRING(c),type:b.CUSTOM_STRING(e),timestamp_sec:b.INT(f),logdata:b.CUSTOM_STRING(a)})));return c}g.makeEventRequest=a}),98);
__d("WASmaxInAppCommsEventRPC",["WAComms","WASmaxInInAppCommsEventResponseError","WASmaxInInAppCommsEventResponseSuccess","WASmaxOutInAppCommsEventRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutInAppCommsEventRequest").makeEventRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInInAppCommsEventResponseSuccess").parseEventResponseSuccess(b,a);if(c.success)return{name:"EventResponseSuccess",value:c.value};b=d("WASmaxInInAppCommsEventResponseError").parseEventResponseError(b,a);if(b.success)return{name:"EventResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Event",{Success:c,Error:b}))});return h.apply(this,arguments)}g.sendEventRPC=a}),98);
__d("WAWebAddonDeleteMsgs",["Promise","WALogger","WAWebAddonConstants","WAWebAddonDBTable","WAWebAddonLogUtils","WAWebAddonPerfUtils","WAWebAddonUpdateDataUtils","WAWebMsgKey","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e;try{e=(yield (j||(j=b("Promise"))).all(c.map(function(b){return d("WAWebAddonDBTable").addonInternalDBTable.bulkGetByParentMsgKey(a,[b])})).then(function(a){var b;return(b=[]).concat.apply(b,a)}))}catch(a){return}if(e.length===0)return;c=(yield d("WAWebAddonPerfUtils").createAddonQplMarker(d("WAWebAddonPerfUtils").AddonQplMarkerType.UI,{mode:a,type:d("WAWebAddonPerfUtils").AnnotationRequestType.BulkRemoveByParents,size:e.length}));try{yield d("WAWebAddonUpdateDataUtils").updateAddonsInTableMode({processMode:d("WAWebAddonConstants").AddonProcessMode.DeleteWithParent,tableMode:a},{remove:e}),c==null||c.success()}catch(b){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deleteAddonMsgsByParentKeys for ",": ",""])),a,b);c==null||c.fail();throw b}});return l.apply(this,arguments)}function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.parentMsgKeys;a=a.map(function(a){return c("WAWebMsgKey").fromString(a)});var e=[];for(var f of d("WAWebAddonConstants").AddonTableMode.members())f!==d("WAWebAddonConstants").AddonTableMode.None&&e.push(k(f,a));a=(yield (j||(j=b("Promise"))).allSettled(e));d("WAWebAddonLogUtils").hasSettledWithError(a)&&d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["delete addons finished with errors"]))).tags("addons","messaging").sendLogs("deleteAddonMsgsByParentKeys")});return m.apply(this,arguments)}g.deleteAddonMsgsByParentKeys=a}),98);
__d("WAWebBizCatalogManagementFetchProductListQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9742717385774446"}),null);
__d("WAWebBizCatalogManagementFetchProductListQuery.graphql",["WAWebBizCatalogManagementFetchProductListQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{kind:"Variable",name:"request",variableName:"request"}],d={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"original_image_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"request_image_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},l=[h,k];i=[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"belongs_to",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"compliance_category",storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductComplianceInfo",kind:"LinkedField",name:"compliance_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"country_code_origin",storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductComplianceInfoImporterAddress",kind:"LinkedField",name:"importer_address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"importer_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},d,e,{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_sanctioned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_available",storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductMediaImage",kind:"LinkedField",name:"images",plural:!0,selections:[e,f,g],storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductMediaVideo",kind:"LinkedField",name:"videos",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"original_video_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_url",storageKey:null}],storageKey:null}],storageKey:null},h,i,{alias:null,args:null,kind:"ScalarField",name:"retailer_id",storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductSalePrice",kind:"LinkedField",name:"sale_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_date",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"start_date",storageKey:null}],storageKey:null},j,{alias:null,args:null,concreteType:"XFBWhatsAppCatalogStatusInfo",kind:"LinkedField",name:"status_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_appeal",storageKey:null},j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shimmed_url",storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductVariantInfo",kind:"LinkedField",name:"variant_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBWhatsAppCatalogVariantListingDetails",kind:"LinkedField",name:"listing_details",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"multi_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lowest_price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogVariantAvailability",kind:"LinkedField",name:"availability",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBWhatsAppCatalogVariantAvailabilityListing",kind:"LinkedField",name:"listing",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_available",storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogVariantAvailabilityListingOption",kind:"LinkedField",name:"options",plural:!0,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogVariantTypes",kind:"LinkedField",name:"types",plural:!0,selections:[h,{alias:null,args:null,concreteType:"XFBWhatsAppCatalogVariantTypeOption",kind:"LinkedField",name:"options",plural:!0,selections:[k,{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductMediaImage",kind:"LinkedField",name:"thumbnail_media",plural:!1,selections:[e,{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductMediaImageOriginalDimensions",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},f,g],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBWhatsAppCatalogVariantProperties",kind:"LinkedField",name:"variant_properties",plural:!0,selections:l,storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebBizCatalogManagementFetchProductListQuery",selections:[{alias:null,args:c,concreteType:"XFBWhatsAppCatalogGetProductListResponse",kind:"LinkedField",name:"xfb_whatsapp_catalog_product_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductListResponse",kind:"LinkedField",name:"product_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductInfo",kind:"LinkedField",name:"products",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"WAWebBizCatalogManagementParseProductGraphql_product",selections:i,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebBizCatalogManagementFetchProductListQuery",selections:[{alias:null,args:c,concreteType:"XFBWhatsAppCatalogGetProductListResponse",kind:"LinkedField",name:"xfb_whatsapp_catalog_product_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductListResponse",kind:"LinkedField",name:"product_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBWhatsAppCatalogProductInfo",kind:"LinkedField",name:"products",plural:!0,selections:i,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("WAWebBizCatalogManagementFetchProductListQuery_facebookRelayOperation"),metadata:{},name:"WAWebBizCatalogManagementFetchProductListQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebBizCatalogManagementFetchProductList",["Promise","WALogger","WAWebBizCatalogManagementFetchProductListQuery.graphql","WAWebBizCatalogManagementParseProductGraphql","WAWebBizGatingUtils","WAWebFetchAdAccountToken","WAWebGraphQLServerError","WAWebNetworkStatus","WAWebRelayClient"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m={type:"error"},n=h!==void 0?h:h=b("WAWebBizCatalogManagementFetchProductListQuery.graphql");function a(a){return!d("WAWebBizGatingUtils").graphQLForGetProductListEnabled()?(l||(l=b("Promise"))).resolve({type:"not-enabled"}):o(a).then(function(a){if(a.type==="success"){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["fetchProductList: success"])));return a}a.type;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(['fetchProductList: failed as "','"'])),a.type);return a})}function o(a){return d("WAWebFetchAdAccountToken").fetchToken().then(function(b){if(b.type==="success")return p(b.token,a).then(function(a){a.type!=="success"?a.type==="auth-failure"?d("WAWebFetchAdAccountToken").markTokenAsInvalid():a.type:a.type;return a});b.type;return b})}function p(a,b){var e;return c("WAWebNetworkStatus").waitIfOffline().then(function(){return d("WAWebRelayClient").fetchQuery(n,{request:b},{environmentType:"facebook",accessToken:a,getInlineDataReader:function(a){e=a}})}).then(function(a){if(a==null)return m;a=(a=a.xfb_whatsapp_catalog_product_list)==null||(a=a.product_list)==null?void 0:a.products;if(a==null)return m;a=a.map(function(a){return e(d("WAWebBizCatalogManagementParseProductGraphql").PARSE_PRODUCT_FRAGMENT,a)}).map(d("WAWebBizCatalogManagementParseProductGraphql").parseProductGraphQL);return{type:"success",productsResult:a}})["catch"](function(a){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["fetchProductListWithToken: failed with error"]))).devConsole(a);if(d("WAWebFetchAdAccountToken").hasGraphQLAuthError(a))return{type:"auth-failure"};return a instanceof d("WAWebGraphQLServerError").GraphQLServerError?{type:"graphql-error",error:a}:m})}g.fetchProductList=a}),98);
__d("WAWebDBDeleteReactions",["WAWebModelStorageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){var c=[];return d("WAWebModelStorageUtils").getStorage().lock(["reactions"],function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];var d=(yield b.equals(["parentMsgKey"],a));d.forEach(function(a){return c.push([a.parentMsgKey,a.senderUserJid])});return b.bulkRemove(c)});return function(a){return d.apply(this,arguments)}}())}function c(a){var c=[];return d("WAWebModelStorageUtils").getStorage().lock(["reactions"],function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];var d=(yield b.anyOf(["parentMsgKey"],a));d.forEach(function(a){return c.push([a.parentMsgKey,a.senderUserJid])});yield b.bulkRemove(c);return d.map(function(a){return a.msgKey})});return function(a){return d.apply(this,arguments)}}())}function e(a){return d("WAWebModelStorageUtils").getStorage().lock(["reactions"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];yield b.bulkRemove(a)});return function(a){return c.apply(this,arguments)}}())}g.deleteReactionsByParentMessageKey=a;g.deleteReactionsByParentMessageKeys=c;g.deleteReactionsByRecords=e}),98);
__d("WAWebDBGroupMembeshipApprovalRequest",["WABatcher","WALogger","WAWebModelStorageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=3e3,j=function(){return d("WABatcher").batch({delayMs:i},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeMembershipApprovalRequestsBatched: aggregating "," changes"])),a.length).devConsole(a);var b=a.flatMap(function(a){var b=a.id.toString();return a.requests.map(function(a){return[b,a.toString()]})});yield d("WAWebModelStorageUtils").getStorage().lock(["pending-membership-approval-request"],function(a){a=a[0];return a.bulkRemove(b)});return b.map(function(a){return void 0})});return function(b){return a.apply(this,arguments)}}())}();function a(a,b,c){c===void 0&&(c=!1);if(c)return j({id:a,requests:b});var e=a.toString();return d("WAWebModelStorageUtils").getStorage().lock(["pending-membership-approval-request"],function(a){a=a[0];return a.bulkRemove(b.map(function(a){return[e,a.toString()]}))})}g.removeMembershipApprovalRequests=a}),98);
__d("WAWebDBPollsDeleteVotes",["Promise","WAWebDBMessageDelete","WAWebPollsVotesSchema","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebPollsVotesSchema").getTable().anyOf(["parentMsgKey"],a));if(a.length===0)return;var c=a.map(function(a){return a.msgKey});a=a.map(function(a){return[a.parentMsgKey,a.sender]});c=(yield (h||(h=b("Promise"))).allSettled([d("WAWebDBMessageDelete").removeMessagesFromHistory(c,{deleteAssociatedMsgs:!1}),d("WAWebPollsVotesSchema").getTable().bulkRemove(a)]));for(a of c)if(a.status==="rejected")throw a.reason});return i.apply(this,arguments)}g.deleteVotesByParentMsgKeys=a}),98);
__d("WAWebDeleteLastAddOnsPreview",["WAWebApiChat","WAWebMsgKey","WAWebShouldUpdateLastAddOnPreview","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Set(a.map(function(a){return c("WAWebMsgKey").fromString(a).remote.toString()}));b=(yield d("WAWebShouldUpdateLastAddOnPreview").bulkGetChatLastAddOnPreviewMap(Array.from(b)));var e=new Map();b.forEach(function(b,c){b=b==null?void 0:b.parentMsgKey;b!=null&&a.includes(b)&&e.set(c,void 0)});yield d("WAWebApiChat").bulkUpdateChatLastAddOnPreview(e)});return h.apply(this,arguments)}g.deleteLastAddOnsPreview=a}),98);
__d("WAWebDeleteAddonsJob",["Promise","WALogger","WAWebAddonDeleteMsgs","WAWebAddonGatingUtils","WAWebDBDeleteReactions","WAWebDBGetReactions","WAWebDBMessageDelete","WAWebDBPollsDeleteVotes","WAWebDefinePersistedJob","WAWebDeleteLastAddOnsPreview","WAWebMsgKey","WAWebMsgType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q;a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("deleteAddOns",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=a.chatId;a=a.parentMsgKeys;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deleteAddons job started for ",""])),c);var e=[d("WAWebAddonDeleteMsgs").deleteAddonMsgsByParentKeys({parentMsgKeys:a})];d("WAWebAddonGatingUtils").isUnifiedInfraEnabledForType(d("WAWebMsgType").MSG_TYPE.REACTION)||e.push(r({chatId:c,parentMsgKeys:a}));d("WAWebAddonGatingUtils").isUnifiedInfraEnabledForType(d("WAWebMsgType").MSG_TYPE.POLL_UPDATE)||e.push(t({chatId:c,parentMsgKeys:a}));a=(yield (q||(q=b("Promise"))).allSettled(e));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["deleteAddons job finished for ",""])),c);for(e of a)if(e.status==="rejected")throw e.reason});return function(b){return a.apply(this,arguments)}}()).end();e=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("deleteReactionsV2",function(a){var b=a.chatId;a=a.parentMsgKeys;return r({chatId:b,parentMsgKeys:a})}).end();function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatId;a=a.parentMsgKeys;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Persisted: deleteReactionsV2 persisted job started for ",""])),b);b=(yield d("WAWebDBGetReactions").getAllReactionsFromParentMsgs(a));var e=b.map(function(a){return a.msgKey});if(e.length===0){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Persisted: deleteReactionsV2 finished, no reactionsMsgKeys"])));return}var f=[];e.forEach(function(a){c("WAWebMsgKey").fromString(a).fromMe&&f.push(a)});f.length>0&&(d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Persisted: Deleting reactions from Msg table"]))),yield d("WAWebDBMessageDelete").removeMessagesFromHistory(f,{deleteAssociatedMsgs:!1}));e=b.map(function(a){return[a.parentMsgKey,a.senderUserJid]});d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Persisted: Deleting reactions from Reactions table"])));yield d("WAWebDBDeleteReactions").deleteReactionsByRecords(e);yield d("WAWebDeleteLastAddOnsPreview").deleteLastAddOnsPreview(a);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Persisted: deleteReactionsV2 finished"])))});return s.apply(this,arguments)}function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatId;a=a.parentMsgKeys;d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Persisted: deletePollVotes job started for ",""])),b);yield d("WAWebDBPollsDeleteVotes").deleteVotesByParentMsgKeys(a);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Persisted: deletePollVotes job finished for ",""])),b)});return u.apply(this,arguments)}g.deleteAddOns=a;g.deleteReactionsV2=e}),98);
__d("WAWebDeleteReactionsJob",["WALogger","WAWebDBDeleteReactions","WAWebDBMessageDelete","WAWebDefinePersistedJob","WAWebMsgKey","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m;a=d("WAWebDefinePersistedJob").defineWebPersistedJob().step("deleteReactions",function(a){var b=a.chatId;a=a.parentMsgKeys;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Persisted: deleteReaction persisted job started"])));d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Persisted: NOOP step for ",""])),b);return{chatId:b,parentMsgKeys:a}}).step("deleteReactionsFromReactionsTable",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatId;a=a.parentMsgKeys;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Persisted: Deleting reactions from Reactions table for chat: ",""])),b);b=(yield d("WAWebDBDeleteReactions").deleteReactionsByParentMessageKeys(a));if(!b){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Persisted: Deleting reactions from Reactions table returned undefined, parentMsgKeys length ",""])),a.length);return[]}return b});return function(b){return a.apply(this,arguments)}}()).finalStep("deleteReactionsFromMessageTable",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.chatId;b=b.parentMsgKeys;var f=[];a||d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Persisted: Deleting reactions from Msg table, reactionMsgKeys is undefined, parentMsgKeys length ",""])),b.length);a.forEach(function(a){c("WAWebMsgKey").fromString(a).fromMe&&f.push(a)});f.length>0&&(d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Persisted: Deleting reactions from Msg table for chat: ",""])),e),yield d("WAWebDBMessageDelete").removeMessagesFromHistory(f,{deleteAssociatedMsgs:!1}));return a});return function(b,c){return a.apply(this,arguments)}}()).end();g.deleteReactions=a}),98);
__d("WAWebFtsLightClient",["Promise","WAWebFtsStorage","WAWebRuntimeEnvironmentUtils","WAWebSchemaFtsIndexingQueue","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=null;function j(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(i!=null)return i;i=(yield d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("getFtsClientInstance"));return i});return k.apply(this,arguments)}function a(a){return d("WAWebSchemaFtsIndexingQueue").getFtsIndexingQueueTable().bulkCreateOrReplace(a.map(function(a){return{id:a}}))}function c(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebRuntimeEnvironmentUtils").isWorker())return d("WAWebFtsStorage").getIndexV3Table().bulkRemoveByIndex(["id"],a);var b=i!=null?i:yield j();yield b.purge(a)});return l.apply(this,arguments)}function e(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebRuntimeEnvironmentUtils").isWorker())return(h||(h=b("Promise"))).resolve();var a=i!=null?i:yield j();yield a.index()});return m.apply(this,arguments)}f={purge:c,index:e,addToIndexingTable:a};g.ftsLightClient=f}),98);
__d("WAWebGraphQLProductCatalogGetPublicKeyJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],b=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"request"}],concreteType:"XWAProductCatalogGetPublicKeyResponseSuccess",kind:"LinkedField",name:"xwa_product_catalog_get_public_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"public_key_certificate_pem",storageKey:null},{alias:null,args:null,concreteType:"XWAPublicKeyWithSignature",kind:"LinkedField",name:"public_key_with_signature",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"public_key_pem",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"public_key_signature",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebGraphQLProductCatalogGetPublicKeyJobQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebGraphQLProductCatalogGetPublicKeyJobQuery",selections:b},params:{id:"WAWebGraphQLProductCatalogGetPublicKeyJobQuery",metadata:{},name:"WAWebGraphQLProductCatalogGetPublicKeyJobQuery",operationKind:"query",text:null}}}();a.hash="e072c0e33a10dd8a876a1c37c2ec40a5";e.exports=a}),null);
__d("WAWebGraphQLProductCatalogGetPublicKeyJob",["WAWebDirectConnectionUtils","WAWebGraphQLProductCatalogGetPublicKeyJobQuery.graphql","WAWebRelayClient"],(function(a,b,c,d,e,f,g){var h,i=h!==void 0?h:h=b("WAWebGraphQLProductCatalogGetPublicKeyJobQuery.graphql");function a(a){return d("WAWebRelayClient").fetchQuery(i,{request:{public_key:{biz_jid:a.toJid()}}}).then(function(a){var b;a=a==null||(b=a.xwa_product_catalog_get_public_key)==null?void 0:b.public_key_certificate_pem;return{certificate:a!=null?d("WAWebDirectConnectionUtils").stringToCertificateString(a):null}})}g.getPublicKey=a}),98);
__d("WAWebGraphQLVerifyPostcodeJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],b=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"request"}],concreteType:"XWAProductCatalogGetVerifyPostcodeResponseSuccess",kind:"LinkedField",name:"xwa_product_catalog_get_verify_postcode",plural:!1,selections:[{alias:null,args:null,concreteType:"XWAProductCatalogGetVerifyPostcodeResponseSuccessPostcodeVerificationResult",kind:"LinkedField",name:"postcode_verification_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"result_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_location_name",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebGraphQLVerifyPostcodeJobQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebGraphQLVerifyPostcodeJobQuery",selections:b},params:{id:"WAWebGraphQLVerifyPostcodeJobQuery",metadata:{},name:"WAWebGraphQLVerifyPostcodeJobQuery",operationKind:"query",text:null}}}();a.hash="7154b35b1d03a7c8ff2e0600cc3ac8c0";e.exports=a}),null);
__d("WAWebGraphQLVerifyPostcodeJob",["WAWebGraphQLServerError","WAWebGraphQLVerifyPostcodeJobQuery.graphql","WAWebMaybeThrowCatalogErrors","WAWebRelayClient"],(function(a,b,c,d,e,f,g){var h,i=h!==void 0?h:h=b("WAWebGraphQLVerifyPostcodeJobQuery.graphql");function a(a,b){return d("WAWebRelayClient").fetchQuery(i,{request:{verify_postcode:{biz_jid:a.toJid(),direct_connection_encrypted_info:b}}}).then(function(a){var b;a=(a=a==null||(b=a.xwa_product_catalog_get_verify_postcode)==null?void 0:b.postcode_verification_result)!=null?a:{};var c=a.result_code;a=a.encrypted_location_name;return{encryptedLocationName:a,resultCode:j(c)}})["catch"](function(a){a instanceof d("WAWebGraphQLServerError").GraphQLServerError&&d("WAWebMaybeThrowCatalogErrors").maybeThrowLocalErrorForCatalogQuery(a);throw a})}function j(a){switch(a){case"RESULT_CODE_SUCCESS":return"success";case"RESULT_CODE_UNSERVICEABLE_LOCATION":return"unserviceable_location";default:a;return"invalid_postcode"}}g.verifyPostcode=a}),98);
__d("WAWebGroupsMembershipApprovalRequestsApi",["WAWebDBGroupMembeshipApprovalRequest"],(function(a,b,c,d,e,f,g){function a(a){var b=a.group,c=a.requests;a=a.isOffline;return d("WAWebDBGroupMembeshipApprovalRequest").removeMembershipApprovalRequests(b,c,a)}g.removeMembershipApprovalRequests=a}),98);
__d("WAWebGroupMembershipApprovalRequestsJob",["WAJobOrchestratorTypes","WAWebGroupsMembershipApprovalRequestsApi","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a,b,c){a={group:a,requests:b,isOffline:c};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("removeMembershipApprovalRequests",function(a){return d("WAWebGroupsMembershipApprovalRequestsApi").removeMembershipApprovalRequests(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}g.removeMembershipApprovalRequestsJob=a}),98);
__d("WAWebQuickPromotionActionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9741612265875562"}),null);
__d("WAWebQuickPromotionActionMutation.graphql",["WAWebQuickPromotionActionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WaQuickPromotionLogEventResponsePayload",kind:"LinkedField",name:"wa_quick_promotion_log_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebQuickPromotionActionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebQuickPromotionActionMutation",selections:c},params:{id:b("WAWebQuickPromotionActionMutation_facebookRelayOperation"),metadata:{},name:"WAWebQuickPromotionActionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WAWebQuickPromotionActionMutation",["Promise","WACustomError","WALogger","WAPromiseTimeout","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebFetchAdAccountToken","WAWebOrchestratorNonPersistedJob","WAWebQuickPromotionActionMutation.graphql","WAWebRelayClient"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m={type:"error"},n=h!==void 0?h:h=b("WAWebQuickPromotionActionMutation.graphql");function a(a){if(!d("WAWebBizGatingUtils").qpGraphQLEnabled())return(l||(l=b("Promise"))).resolve({type:"not-enabled"});var c=d("WAWebCTWAConstants").KNOWN_QP_SURFACES.get(a.surface_nux_id);return c==null||!d("WAWebBizGatingUtils").qpSurfaceIdsUsingGraphQL().has(c)?(l||(l=b("Promise"))).resolve({type:"not-enabled"}):d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("quickPromotionActionMutation",function(){return o(a)}).waitUntilCompleted()}function o(a){return d("WAPromiseTimeout").promiseTimeout(p(a),d("WAWebCTWAConstants").QP_ACTION_MUTATION_TIMEOUT_MS).then(function(a){if(a.type==="success"){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["executeQuickPromotionActionMutation: success"])));return a}a.type;d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(['executeQuickPromotionActionMutation: failed as "','"'])),a.type);return a})["catch"](function(a){if(a instanceof d("WACustomError").TimeoutError){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(['executeQuickPromotionActionMutation: failed as "timeout"'])));return{type:"timeout"}}throw a})}function p(a){return d("WAWebFetchAdAccountToken").fetchToken().then(function(b){if(b.type==="success")return q(a,b.token).then(function(a){a.type==="auth-failure"?d("WAWebFetchAdAccountToken").markTokenAsInvalid():a.type;return a});b.type;return b})}function q(a,b){return d("WAWebRelayClient").commitMutation(n,{input:a},{environmentType:"facebook",accessToken:b}).then(function(a){if(a==null)return m;return a.wa_quick_promotion_log_event==null?m:{type:"success"}})["catch"](function(a){return d("WAWebFetchAdAccountToken").hasGraphQLAuthError(a)?{type:"auth-failure"}:m})}g.executeQuickPromotionActionMutation=a}),98);
__d("WAWebJobDismissQuickPromotion",["WALogger","WASmaxInAppCommsEventRPC","WAWebBizGatingUtils","WAWebDefinePersistedJob","WAWebModelStorageUtils","WAWebQuickPromotionActionMutation","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a){var c=a.id,e=a.ts;return d("WAWebModelStorageUtils").getStorage().lock(["quick-promotions"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];var b=(yield a.get(c));if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["dismissQuickPromotion: promotion not found"])));return}var f=babelHelpers["extends"]({},b.tracking,{dismisses:b.tracking.dismisses+1}),g=f.lastDismissTs;(g==null||e>g)&&(f.lastDismissTs=e);yield a.merge(c,{tracking:f});return{surfaceId:b.surfaceId,instanceLogData:(g=b.data.qpConfigInstanceLogData)==null?void 0:g.elementValue}});return function(b){return a.apply(this,arguments)}}()).then(function(a){return d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("loadQuickPromotions",{trigger:"user-action"}).then(function(){return a})})}function c(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.id;b=b.ts;var e=(a==null?void 0:a.instanceLogData)!=null?String.fromCharCode.apply(null,a.instanceLogData):"";if(d("WAWebBizGatingUtils").qpGraphQLEnabled()){a=a==null?void 0:a.surfaceId;if(a==null)d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["dismissQuickPromotion: surface id for GraphQL call not found"])));else{a;var f;try{f=(yield d("WAWebQuickPromotionActionMutation").executeQuickPromotionActionMutation({event:"ACTION",action:"DISMISS",promotion_id:c,surface_nux_id:a,promotion_logging_data:e,client_time:b}))}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["dismissQuickPromotion: unable to log through GraphQL"]))).devConsole(a)}if(((a=f)==null?void 0:a.type)!=="not-enabled")return;f.type}}a=(yield d("WASmaxInAppCommsEventRPC").sendEventRPC({eventType:"dismiss",eventPromotionId:c,eventTimestampSec:b,eventLogdata:e}));a.name!=="EventResponseSuccess"&&(a.name,d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["dismissQuickPromotion: unable to log through IQ"]))).devConsole(a.value))});return l.apply(this,arguments)}e=d("WAWebDefinePersistedJob").defineWebPersistedJob().step("saveToDb",a).finalStep("reportToComms",c).end();g.dismissQuickPromotion=e}),98);
__d("WAWebJobImpressionOnQuickPromotion",["WALogger","WASmaxInAppCommsEventRPC","WAWebBizGatingUtils","WAWebDefinePersistedJob","WAWebModelStorageUtils","WAWebQuickPromotionActionMutation","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a){var c=a.id,e=a.ts;return d("WAWebModelStorageUtils").getStorage().lock(["quick-promotions"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];var b=(yield a.get(c));if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["impressionOnQuickPromotion: promotion not found"])));return}var f=babelHelpers["extends"]({},b.tracking,{impressions:b.tracking.impressions+1}),g=f.lastImpressionTs;(g==null||e>g)&&(f.lastImpressionTs=e);yield a.merge(c,{tracking:f});return{surfaceId:b.surfaceId,instanceLogData:(g=b.data.qpConfigInstanceLogData)==null?void 0:g.elementValue}});return function(b){return a.apply(this,arguments)}}()).then(function(a){return d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("loadQuickPromotions",{trigger:"user-action"}).then(function(){return a})})}function c(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.id;b=b.ts;var e=(a==null?void 0:a.instanceLogData)!=null?String.fromCharCode.apply(null,a.instanceLogData):"";if(d("WAWebBizGatingUtils").qpGraphQLEnabled()){a=a==null?void 0:a.surfaceId;if(a==null)d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["impressionOnQuickPromotion: surface id for GraphQL call not found"])));else{a;var f;try{f=(yield d("WAWebQuickPromotionActionMutation").executeQuickPromotionActionMutation({event:"VIEW",promotion_id:c,surface_nux_id:a,promotion_logging_data:e,client_time:b}))}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["impressionOnQuickPromotion: unable to log through GraphQL"]))).devConsole(a)}if(((a=f)==null?void 0:a.type)!=="not-enabled")return;f.type}}a=(yield d("WASmaxInAppCommsEventRPC").sendEventRPC({eventType:"impression",eventPromotionId:c,eventTimestampSec:b,eventLogdata:e}));a.name!=="EventResponseSuccess"&&(a.name,d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["impressionOnQuickPromotion: unable to log"]))).devConsole(a.value))});return l.apply(this,arguments)}e=d("WAWebDefinePersistedJob").defineWebPersistedJob().step("saveToDb",a).finalStep("reportToComms",c).end();g.impressionOnQuickPromotion=e}),98);
__d("WAWebJobPrimaryActionClickInQuickPromotion",["WALogger","WASmaxInAppCommsEventRPC","WAWebBizGatingUtils","WAWebDefinePersistedJob","WAWebModelStorageUtils","WAWebQuickPromotionActionMutation","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k;function a(a){var c=a.id,e=a.ts;return d("WAWebModelStorageUtils").getStorage().lock(["quick-promotions"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];var b=(yield a.get(c));if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["primaryActionClickInQuickPromotion: promotion not found"])));return}var f=babelHelpers["extends"]({},b.tracking,{primaryClicks:b.tracking.primaryClicks+1}),g=f.lastPrimaryClickTs;(g==null||e>g)&&(f.lastPrimaryClickTs=e);yield a.merge(c,{tracking:f});return{surfaceId:b.surfaceId,instanceLogData:(g=b.data.qpConfigInstanceLogData)==null?void 0:g.elementValue}});return function(b){return a.apply(this,arguments)}}()).then(function(a){return d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("loadQuickPromotions",{trigger:"user-action"}).then(function(){return a})})}function c(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.id;b=b.ts;var e=(a==null?void 0:a.instanceLogData)!=null?String.fromCharCode.apply(null,a.instanceLogData):"";if(d("WAWebBizGatingUtils").qpGraphQLEnabled()){a=a==null?void 0:a.surfaceId;if(a==null)d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["primaryActionClickInQuickPromotion: surface id for GraphQL call not found"])));else{a;var f;try{f=(yield d("WAWebQuickPromotionActionMutation").executeQuickPromotionActionMutation({event:"ACTION",action:"PRIMARY",promotion_id:c,surface_nux_id:a,promotion_logging_data:e,client_time:b}))}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["primaryActionClickInQuickPromotion: unable to log through GraphQL"]))).devConsole(a)}if(((a=f)==null?void 0:a.type)!=="not-enabled")return;f.type}}a=(yield d("WASmaxInAppCommsEventRPC").sendEventRPC({eventType:"primary_click",eventPromotionId:c,eventTimestampSec:b,eventLogdata:e}));a.name!=="EventResponseSuccess"&&(a.name,d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["primaryActionClickInQuickPromotion: unable to log"]))).devConsole(a.value))});return l.apply(this,arguments)}e=d("WAWebDefinePersistedJob").defineWebPersistedJob().step("saveToDb",a).finalStep("reportToComms",c).end();g.primaryActionClickInQuickPromotion=e}),98);
__d("WAWebJobUserExposureToQuickPromotion",["WALogger","WASmaxInAppCommsEventRPC","WAWebDefinePersistedJob","WAWebModelStorageUtils","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j;function a(a){var c=a.id,e=a.experimentKey,f=a.exposureHoldout;if(e.length===0){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["userExposureToQuickPromotion: missing experiment key"]))).sendLogs("user-exposure-quick-promotion-missing-exp-key");return"missing-key"}return d("WAWebModelStorageUtils").getStorage().lock(["quick-promotions"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];var b=(yield a.get(c));if(b==null)return"not-found";if(f==null)return"old-job";b=b.tracking;var d=b.lastLoggedExposure;if(d!=null&&(d.experimentKey===e&&d.exposureHoldout===f))return"deduped";d=babelHelpers["extends"]({},b,{lastLoggedExposure:{experimentKey:e,exposureHoldout:f}});yield a.merge(c,{tracking:d});return"updated"});return function(b){return a.apply(this,arguments)}}()).then(function(a){return a==="updated"?d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("loadQuickPromotions",{trigger:"user-action"}).then(function(){return a}):a})}function c(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.id,e=b.ts;b=b.experimentKey;if(a!=="updated"&&a!=="old-job"){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["userExposureToQuickPromotion: skipping comms step: ",""])),a);return}a=(yield d("WASmaxInAppCommsEventRPC").sendEventRPC({eventType:"exposure",eventPromotionId:c,eventTimestampSec:e,eventLogdata:b}));a.name!=="EventResponseSuccess"&&(a.name,d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["userExposureToQuickPromotion: unable to log"]))).devConsole(a.value))});return k.apply(this,arguments)}e=d("WAWebDefinePersistedJob").defineWebPersistedJob().step("saveToDb",a).finalStep("reportToComms",c).end();g.userExposureToQuickPromotion=e}),98);
__d("WAWebMexEventWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MexEvent:[3782,{isMex:[1,a.TYPES.BOOLEAN],mexEventData:[2,a.TYPES.STRING],mexEventDurationT:[12,a.TYPES.TIMER],mexEventEndTime:[3,a.TYPES.INTEGER],mexEventEnvelopeResponseStatus:[13,a.TYPES.INTEGER],mexEventOperation:[7,a.TYPES.STRING],mexEventPayloadResponseStatus:[14,a.TYPES.INTEGER],mexEventRequestSize:[8,a.TYPES.INTEGER],mexEventResponseSize:[9,a.TYPES.INTEGER],mexEventRetries:[10,a.TYPES.INTEGER],mexEventStartTime:[11,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MexEvent:[]});g.MexEventWamEvent=b}),98);
__d("WAWebMexExperiment",["WAWebABProps","WAWebMexEventWamEvent"],(function(a,b,c,d,e,f,g){a=function(){function a(b){this.$1=!1,this.$2="not provided",this.$3=-1,this.$4=-1,this.$2=b,this.$1=a.isGraphQLenabled()}var b=a.prototype;b.toUseGraphQL=function(){return this.$1};b.start=function(){this.$3=Date.now()};b.stop=function(){this.$4=Date.now()};b.logEvent=function(b){var c=b.envelopeResponseStatus;b=b.payloadResponseStatus;if(!a.isExperimentEnabled())return;new(d("WAWebMexEventWamEvent").MexEventWamEvent)({isMex:this.$1,mexEventOperation:this.$2,mexEventStartTime:this.$3,mexEventEndTime:this.$4,mexEventPayloadResponseStatus:b,mexEventEnvelopeResponseStatus:c,mexEventRequestSize:1}).commit()};a.isExperimentEnabled=function(){return d("WAWebABProps").getABPropConfigValue("mex_phase3_enabled")};a.isGraphQLenabled=function(){return a.isExperimentEnabled()&&a.isGraphQLFlagSet()};a.isGraphQLFlagSet=function(){return a.isFlagSet(1)};a.isFlagSet=function(a){var b=d("WAWebABProps").getABPropConfigValue("mex_phase3_status_flags");return(b&a)===a};return a}();g.GraphQlPerfTracker=a}),98);
__d("WAWebMexUpdateTextStatusJobMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"text_status_input",variableName:"input"}],concreteType:"XWA2TextStatusMutationResponse",kind:"LinkedField",name:"xwa2_update_text_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"result",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebMexUpdateTextStatusJobMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebMexUpdateTextStatusJobMutation",selections:b},params:{id:"9152604461510864",metadata:{},name:"WAWebMexUpdateTextStatusJobMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WAWebTextStatusParseUtils",[],(function(a,b,c,d,e,f){var g=0;function a(a){var b=a.textStatusString;a.textStatusString===""&&(b=null);var c=a.textStatusEphemeralDuration;c==null&&(c=g);b==null&&a.textStatusEmoji==null&&c!==g&&(c=g);var d;a.textStatusEmoji!=null&&(d={content:a.textStatusEmoji});return{text:b,emoji:d,ephemeral_duration_sec:c}}f.createTextStatusObjectForUpdateRequest=a}),66);
__d("WAWebMexUpdateTextStatusJob",["WALogger","WAWebMexClient","WAWebMexUpdateTextStatusJobMutation.graphql","WAWebTextStatusParseUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=h!==void 0?h:h=b("WAWebMexUpdateTextStatusJobMutation.graphql");a=d("WAWebTextStatusParseUtils").createTextStatusObjectForUpdateRequest({textStatusString:a,textStatusEmoji:c,textStatusEphemeralDuration:e});c={input:a};e=(yield d("WAWebMexClient").fetchQuery(f,c));d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MEX][TEXTSTATUS] Updated text status via mex"]))).tags("GQL","MEX").devConsole({response:e});return e});return j.apply(this,arguments)}g.mexUpdateTextStatus=a}),98);
__d("WAWebNux",["$InternalEnum"],(function(a,b,c,d,e,f){var g={SAFARI_LIMITED_SUPPORT:"safari_limited_support",SENDER_REVOKE_LEGAL_DISCLAIMER_NUX:"revoke_legal_disclaimer_nux",SENDER_REVOKE_LEGAL_DISCLAIMER_NUX_NEW:"sender_revoke_legal_disclaimer_nux",ADMIN_REVOKE_LEGAL_DISCLAIMER_NUX:"admin_revoke_legal_disclaimer_nux",EPHEMERAL:"ephemeral",EPHEMERAL_VIEW_ONCE:"ephemeral_view_once",EPHEMERAL_VIEW_ONCE_RECEIVER:"ephemeral_view_once_receiver",COMMUNITY:"community",COMMUNITY_HOME:"community_home",STATUS_QUICK_REPLIES:"status_quick_replies",KEEP_IN_CHAT:"keep_in_chat",CHAT_ASSIGNMENT:"chat_assignment",TOOLTIP_AD_CREATION:"tooltip_ad_creation",DESKTOP_UPSELL:"desktop_upsell",FORWARD_MEDIA_WITH_CAPTION:"forward_media_with_caption",MESSAGE_EDIT:"message_edit",ORDER_REQUEST_EDUCATION:"order_request_education",NEWSLETTER_MULTI_ADMIN:"newsletter_multi_admin",SUPPORT_AI:"support_ai",TOOLTIP_STATUS_ENTRY_POINT:"tooltip_status_entry_point",CAPI_GROUP_ABOUT_MODAL:"capi_group_about_modal",STATUS_PRIVATE_MENTIONS:"status_private_mentions",MESSAGE_LABEL_DEPRECATION_MIGRATED_PERMANENT:"message_label_deprecation_migrated_permanent",CAG_EVENTS_AWARENESS_BANNER:"cag_events_awareness_banner",ADD_TO_LISTS:"add_to_lists",WEB_UI_REFRESH:"web_ui_refresh",DO_AUTOMATIC_LABEL:"do_automatic_label",META_AI_CTA_BANNER:"meta_ai_cta_banner",META_AI_GLASSES_CTA_BANNER:"meta_ai_glasses_cta_banner",FEEDBACK_INTRO:"feedback_intro",NEWSLETTER_QUESTIONS_RESPONSE_PRIVACY_BANNER:"newsletter_questions_response_privacy_banner",NEWSLETTER_QUESTIONS_PRIVACY_BANNER:"newsletter_questions_privacy_banner"};function a(a){return"community_admin_promote_"+a}function c(a){return a.startsWith("community_admin_promote_")}function d(a){return"chat_auto_muted_"+a}function e(a){return a.startsWith("chat_auto_muted_")}function h(a){return"membership_approval_requests_banner_"+a}function i(a){return"newsletter_alerts_"+a}function j(a){return"subgroup_suggestions_banner_"+a}b=b("$InternalEnum")({EPHEMERAL:"ephemeral",EPHEMERAL_VIEW_ONCE:"ephemeral_view_once",EPHEMERAL_VIEW_ONCE_RECEIVER:"ephemeral_view_once_receiver",ARCHIVE:"archive",STATUS_QUICK_REPLIES:"status_quick_replies",COMMUNITY:"community",COMMUNITY_HOME:"community_home",KEEP_IN_CHAT:"keep_in_chat",FORWARD_MEDIA_WITH_CAPTION:"forward_media_with_caption",MESSAGE_EDIT:"message_edit",NEWSLETTER_MULTI_ADMIN:"newsletter_multi_admin",SUPPORT_AI:"support_ai",TOOLTIP_STATUS_ENTRY_POINT:"tooltip_status_entry_point",STATUS_PRIVATE_MENTIONS:"status_private_mentions",MESSAGE_LABEL_DEPRECATION_MIGRATED:"message_label_deprecation_migrated",ADD_TO_LISTS:"add_to_lists",WEB_UI_REFRESH:"web_ui_refresh",DO_AUTOMATIC_LABEL:"do_automatic_label",LAST_DATE_DIALOG_OPENED:"last_date_dialog_opened",META_AI_CTA_BANNER:"meta_ai_cta_banner",META_AI_GLASSES_CTA_BANNER:"meta_ai_glasses_cta_banner",FEEDBACK_INTRO:"feedback_intro",NEWSLETTER_QUESTIONS_PRIVACY_BANNER:"newsletter_questions_privacy_banner",NEWSLETTER_QUESTIONS_RESPONSE_PRIVACY_BANNER:"newsletter_questions_response_privacy_banner"});var k={COOL_OFF_NUX:{INCOMPLETE_BUSINESS_PROFILE_BANNER:"incomplete_business_profile_banner",PRODUCT_CATALOG_BANNER:"product_catalog_banner",COLLECTIONS:"collections_banner",CTWA_SUGGESTION:"ctwa_suggestion",ORDER_EXPANSION:"order_expansion",MESSAGE_LABEL_DEPRECATION_MIGRATED_CHAT_LIST:"message_label_deprecation_migrated_chat_list",META_AI_GLASSES_CTA_BANNER:"meta_ai_glasses_cta_banner"},VIEW_COUNT_NUX:{SAFARI_LIMITED_SUPPORT:"safari_limited_support",SENDER_REVOKE_LEGAL_DISCLAIMER_NUX:"revoke_legal_disclaimer_nux",ADMIN_REVOKE_LEGAL_DISCLAIMER_NUX:"admin_revoke_legal_disclaimer_nux",EPHEMERAL:"ephemeral",EPHEMERAL_VIEW_ONCE:"ephemeral_view_once",EPHEMERAL_VIEW_ONCE_RECEIVER:"ephemeral_view_once_receiver",COMMUNITY:"community",COMMUNITY_HOME:"community_home",KEEP_IN_CHAT:"keep_in_chat",CHAT_ASSIGNMENT:"chat_assignment",TOOLTIP_AD_CREATION:"tooltip_ad_creation",DESKTOP_UPSELL:"desktop_upsell",FORWARD_MEDIA_WITH_CAPTION:"forward_media_with_caption",MESSAGE_EDIT:"message_edit",ORDER_REQUEST_EDUCATION:"order_request_education",NEWSLETTER_MULTI_ADMIN:"newsletter_multi_admin",SUPPORT_AI:"support_ai",TOOLTIP_STATUS_ENTRY_POINT:"tooltip_status_entry_point",CAPI_GROUP_ABOUT_MODAL:"capi_group_about_modal",STATUS_PRIVATE_MENTIONS:"status_private_mentions",MESSAGE_LABEL_DEPRECATION_MIGRATED_PERMANENT:"message_label_deprecation_migrated_permanent",CAG_EVENTS_AWARENESS_BANNER:"cag_events_awareness_banner",ADD_TO_LISTS:"add_to_lists",WEB_UI_REFRESH:"web_ui_refresh",DO_AUTOMATIC_LABEL:"do_automatic_label",META_AI_CTA_BANNER:"meta_ai_cta_banner",NEWSLETTER_QUESTIONS_RESPONSE_PRIVACY_BANNER:"newsletter_questions_response_privacy_banner",NEWSLETTER_QUESTIONS_PRIVACY_BANNER:"newsletter_questions_privacy_banner"}},l={DEFAULT:"default_cool_off_banners_key",CATALOG:"catalog_banners_key",CTWA_SUGGESTION:"ctwa_suggestion_banners_key",ORDER_EXPANSION:"order_expansion_banner_key",MESSAGE_LABEL_DEPRECATION_MIGRATED_CHAT_LIST:"message_label_deprecation_migrated_chat_list_key",META_AI_GLASSES_CTA_BANNER:"meta_ai_glasses_cta_banner_key"};function m(a){return a+"_cool_off"}f.NUX=g;f.getCommunityAdminPromotionNuxKey=a;f.isCommunityAdminPromotionNuxKey=c;f.getChatAutoMutedNuxKey=d;f.isChatAutoMutedNuxKey=e;f.getMembershipApprovalRequestsBannerNuxKey=h;f.getNewsletterAlertsBannerNuxKey=i;f.getSubgroupSuggestionsBannerNuxKey=j;f.NuxSyncKey=b;f.NuxKeyTypes=k;f.CoolOffPeriodKeys=l;f.asCoolOffNuxType=m}),66);
__d("WAWebQueryAndUpdateGroupsMetadataByJidsJob",["WALogger","WAWebDefinePersistedJob","WAWebQueryAndUpdateGroupMetadataJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("queryAndUpdateGroupsMetadataByJids",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["queryAndUpdateGroupsMetadataByJidsJob: started persisted job"]))),yield d("WAWebQueryAndUpdateGroupMetadataJob").queryAndUpdateAllGroupMetadata({dirtyGroupJids:a})});return function(b){return a.apply(this,arguments)}}()).end();g.queryAndUpdateGroupsMetadataByJidsJob=a}),98);
__d("WAWebQueryGetPublicKeyJob",["WADeprecatedSendIq","WADeprecatedWapParser","WAWap","WAWapDeprecatedSmaxID","WAWebBackendErrors","WAWebBizGatingUtils","WAWebCommsWapMd","WAWebDefinePersistedJob","WAWebDirectConnectionUtils","WAWebGraphQLProductCatalogGetPublicKeyJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=new(c("WADeprecatedWapParser"))("getPublicKeyResponse",function(a){a.assertTag("iq");a.assertFromServer();a=(a=a.maybeChild("public_key"))==null||(a=a.maybeChild("pem"))==null?void 0:a.contentString();a=a!=null?d("WAWebDirectConnectionUtils").stringToCertificateString(a):null;return{certificate:a}});a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("sendStanza",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.businessJid;a=d("WAWebWidFactory").createWid(a);if(d("WAWebBizGatingUtils").isGraphQLForGetPublicKeyEnabled())return d("WAWebGraphQLProductCatalogGetPublicKeyJob").getPublicKey(a);a=d("WAWap").wap("iq",{to:d("WAWap").S_WHATSAPP_NET,type:"get",smax_id:d("WAWap").SMAX_ID(c("WAWapDeprecatedSmaxID").BizGetPublicKey),xmlns:"w:biz:catalog",id:d("WAWap").generateId()},d("WAWap").wap("public_key",{jid:d("WAWebCommsWapMd").USER_JID(a)}));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(a,h));if(!a.success)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(a.errorCode);else return a.result});return function(b){return a.apply(this,arguments)}}()).end();g.QueryGetPublicKey=a}),98);
__d("WAWebQueryGetSignedUserInfoJob",["WADeprecatedSendIq","WADeprecatedWapParser","WAWap","WAWebBackendErrors","WAWebCommsWapMd","WAWebDefinePersistedJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a,b){var c;return a==null||(c=a.maybeChild(b))==null?void 0:c.contentString()}var i=new(c("WADeprecatedWapParser"))("getSignedUserInfoResponse",function(a){a.assertTag("iq");a.assertFromServer();a=a.maybeChild("signed_user_info");return{phoneNumber:h(a,"phone_number"),phoneNumberSignatureExpiration:h(a,"ttl_timestamp"),phoneNumberSignature:h(a,"phone_number_signature"),businessDomain:h(a,"business_domain")}});a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("sendStanza",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.businessJid;b=(b=d("WAWap")).wap("iq",{to:b.S_WHATSAPP_NET,type:"get",xmlns:"w:biz:catalog",id:b.generateId()},b.wap("signed_user_info",{biz_jid:d("WAWebCommsWapMd").USER_JID(d("WAWebWidFactory").createWid(a))}));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(b,i));if(!a.success)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(a.errorCode);return a.result});return function(b){return a.apply(this,arguments)}}()).end();g.QueryGetSignedUserInfo=a}),98);
__d("WAWebQueryProductListCatalogJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"original_image_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"request_image_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},i=[c,h];e=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"request"}],concreteType:"XWAProductCatalogGetProductListResponseSuccess",kind:"LinkedField",name:"xwa_product_catalog_get_product_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogGetProductListResponseSuccessProductList",kind:"LinkedField",name:"product_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XWACatalogProduct",kind:"LinkedField",name:"products",plural:!0,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"retailer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_sanctioned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_available",storageKey:null},c,d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shimmed_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},e,{alias:null,args:null,concreteType:"XWAProductCatalogProductStatusInfo",kind:"LinkedField",name:"status_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_appeal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductSalePrice",kind:"LinkedField",name:"sale_price",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"start_date",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_date",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaImage",kind:"LinkedField",name:"images",plural:!0,selections:[b,f,g],storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaVideo",kind:"LinkedField",name:"videos",plural:!0,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"original_video_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"belongs_to",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"compliance_category",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductComplianceInfo",kind:"LinkedField",name:"compliance_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"country_code_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"importer_name",storageKey:null},{alias:null,args:null,concreteType:"XWAProductCatalogProductComplianceInfoImporterAddress",kind:"LinkedField",name:"importer_address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogProductVariantInfo",kind:"LinkedField",name:"variant_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XWACatalogVariantListingDetails",kind:"LinkedField",name:"listing_details",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"multi_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lowest_price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogVariantAvailability",kind:"LinkedField",name:"availability",plural:!1,selections:[{alias:null,args:null,concreteType:"XWAVariantAvailabilityListing",kind:"LinkedField",name:"listing",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_available",storageKey:null},{alias:null,args:null,concreteType:"XWAVariantAvailabilityListingOption",kind:"LinkedField",name:"options",plural:!0,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogVariantTypes",kind:"LinkedField",name:"types",plural:!0,selections:[c,{alias:null,args:null,concreteType:"XWACatalogVariantTypeOption",kind:"LinkedField",name:"options",plural:!0,selections:[h,{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaImage",kind:"LinkedField",name:"thumbnail_media",plural:!1,selections:[b,{alias:null,args:null,concreteType:"XWAProductCatalogProductMediaImageOriginalDimensions",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},f,g],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XWACatalogVariantProperties",kind:"LinkedField",name:"variant_properties",plural:!0,selections:i,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebQueryProductListCatalogJobQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebQueryProductListCatalogJobQuery",selections:e},params:{id:"30125049463760630",metadata:{},name:"WAWebQueryProductListCatalogJobQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebQueryProductListCatalogJob",["WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WANullthrows","WAWap","WAWapDeprecatedSmaxID","WAWebBackendErrors","WAWebBizCatalogManagementFetchProductList","WAWebBizCatalogParseProduct","WAWebBizGatingUtils","WAWebBizParseProductGraphql","WAWebCatalogEventLogger","WAWebCommsWapMd","WAWebDefinePersistedJob","WAWebGraphQLServerError","WAWebMaybeThrowCatalogErrors","WAWebProductMessageListConstant","WAWebQueryProductListCatalogJobQuery.graphql","WAWebRelayClient","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){var h,i,j,k=new(c("WADeprecatedWapParser"))("productListResponse",function(a){a.assertTag("iq");a.assertFromServer();a=a.child("product_list");var b=[];a.forEachChildWithTag("product",function(a){var c=a.maybeChild("id");if(!c)return;var e=a.maybeChild("status");(e==null?void 0:e.contentString())===d("WAWebProductMessageListConstant").INVALID_PRODUCT_TOKEN?b.push({id:c.contentString(),status:d("WAWebProductMessageListConstant").INVALID_PRODUCT_TOKEN}):b.push(d("WAWebBizCatalogParseProduct").parseProductNode(a))});return b}),l=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.catalogWid,f=a.productIds,g=a.width,h=a.height;a=a.directConnectionEncryptedInfo;e=(b=d("WAWap")).wap("iq",{to:b.S_WHATSAPP_NET,type:"get",smax_id:b.SMAX_ID(c("WAWapDeprecatedSmaxID").CatalogGetProductList),xmlns:"w:biz:catalog",id:b.generateId()},b.wap("product_list",{jid:d("WAWebCommsWapMd").USER_JID(d("WAWebWidFactory").createWid(e))},f.map(function(a){return d("WAWap").wap("product",null,d("WAWap").wap("id",null,a))}).concat(c("filterNulls")([b.wap("width",null,g.toString()),b.wap("height",null,h.toString()),a!=null?d("WAWap").wap("direct_connection_encrypted_info",null,a):null]))));f=(yield d("WADeprecatedSendIq").deprecatedSendIq(e,k));if(!f.success)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(f.errorCode);else return f.result});return function(b){return a.apply(this,arguments)}}(),m=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var e,f=a.catalogWid,g=a.productIds,j=a.width,k=a.height,m=a.directConnectionEncryptedInfo;f=(yield d("WAWebRelayClient").fetchQuery(h!==void 0?h:h=b("WAWebQueryProductListCatalogJobQuery.graphql"),{request:{product_list:{jid:f.toString(),products:g.map(function(a){return{id:a}}),width:String(j),height:String(k),direct_connection_encrypted_info:m}}},{eventLogger:d("WAWebCatalogEventLogger").createCatalogEventLogger(d("WAWebCatalogEventLogger").GRAPHQL_CATALOG_ENDPOINT.GET_PRODUCT_LIST)}));return c("WANullthrows")(f==null||(e=f.xwa_product_catalog_get_product_list)==null||(e=e.product_list)==null?void 0:e.products.map(d("WAWebBizParseProductGraphql").parseProductGraphQL))}catch(b){b instanceof d("WAWebGraphQLServerError").GraphQLServerError&&d("WAWebMaybeThrowCatalogErrors").maybeThrowLocalErrorForCatalogQuery(b);d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["GraphQL: Failed fetching xwa_product_catalog_get_product_list query. Falling back to IQ."])));return l(a)}});return function(b){return a.apply(this,arguments)}}(),n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.catalogWid,c=a.productIds,e=a.width,f=a.height,g=a.directConnectionEncryptedInfo;b=(yield d("WAWebBizCatalogManagementFetchProductList").fetchProductList({product_list:{jid:b.toString(),products:c.map(function(a){return{id:a}}),width:String(e),height:String(f),direct_connection_encrypted_info:g}}));if(b.type==="success")return b.productsResult;else b.type==="graphql-error"?d("WAWebMaybeThrowCatalogErrors").maybeThrowLocalErrorForCatalogQuery(b.error):b.type;d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["queryProductListGraphQLByOwner: error handling flow not implemented for ",""])),JSON.stringify(b));return l(a)});return function(b){return a.apply(this,arguments)}}();a=function(a){var b=d("WAWebUserPrefsMeUser").getMaybeMePnUser();return b!=null&&b.equals(d("WAWebWidFactory").createWid(a.catalogWid))?d("WAWebBizGatingUtils").graphQLForGetProductListEnabled()?n(a):l(a):d("WAWebBizGatingUtils").graphQLForCatalogM1Enabled()?m(a):l(a)};e=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("sendStanza",a).end();g.QueryProductListCatalog=e}),98);
__d("WAWebResendGroupMsgJob",["WALogger","WAWebDefinePersistedJob","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("resendUserGroupMsg",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.groupId,g=a.isDirect,i=a.oldList,j=a.phash,k=a.ackTime;a=a.serverAddressingMode;try{b=(yield d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("resendGroupMsg",{msgId:b,msgType:c,msgRecordType:e,groupId:f,isDirect:g,oldList:i,phash:j,ackTime:k,serverAddressingMode:a}));return b}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["resendGroupMsgJob: failed to resend message: ",""])),a).tags("messaging").sendLogs("persisted-group-message-resend-failed")}});return function(b){return a.apply(this,arguments)}}()).end();g.resendGroupMsgJob=a}),98);
__d("WAWebResendUserMsgJob",["WALogger","WAWebDefinePersistedJob","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("resendUserMsg",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.excludeList;a=a.ackTime;try{b=(yield d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("resendUserMsg",{msgId:b,msgType:c,msgRecordType:e,excludeList:f,ackTime:a}));return b}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["resendUserMsgJob: failed to resend message: ",""])),a).tags("messaging").sendLogs("persisted-message-resend-failed")}});return function(b){return a.apply(this,arguments)}}()).end();g.resendUserMsgJob=a}),98);
__d("WAWebSendRequestedKeyShareJob",["WALogger","WAWebDefinePersistedJob","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("sendRequestedKeyShare",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.keys,c=a.orphanKeys;a=a.peerDeviceId;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["syncd: starting sendRequestedKeyShare job"])));b={type:"missing_key",keys:b,orphanKeys:c,peerDeviceId:d("WAWebWidFactory").createWid(a)};yield d("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("sendAppStateSyncKeyShare",{keyShare:b});d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncd: end sendRequestedKeyShare job"])))});return function(b){return a.apply(this,arguments)}}()).end();g.sendRequestedKeyShare=a}),98);
__d("WAWebSetAboutJob",["WADeprecatedSendIq","WADeprecatedWapParser","WAWap","WAWebDefinePersistedJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=new(c("WADeprecatedWapParser"))("aboutResponse",function(a){a.assertAttr("type","result");return{id:a.attrInt("id")}});a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("sendStanza",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.content;b=(b=d("WAWap")).wap("iq",{to:b.S_WHATSAPP_NET,type:"set",xmlns:"status",id:b.generateId()},b.wap("status",null,a));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(b,h));return!a.success?{status:a.errorCode}:{status:200}});return function(b){return a.apply(this,arguments)}}()).end();g.setAbout=a}),98);
__d("WAWebUpdateTextStatusJob",["WALogger","WAWebMexExperiment","WAWebMexUpdateTextStatusJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=new(d("WAWebMexExperiment").GraphQlPerfTracker)("update-text-status");f.start();f.toUseGraphQL();b=(yield d("WAWebMexUpdateTextStatusJob").mexUpdateTextStatus(b,c,e));e=(c=b.xwa2_update_text_status)==null?void 0:c.result;f.stop();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["updateTextStatus:",""])),a.toString()).devConsole(b);return{id:a,result:e}});return i.apply(this,arguments)}g.updateTextStatus=a}),98);
__d("WAWebSetTextStatusJob",["WAWebDefinePersistedJob","WAWebUpdateTextStatusJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("sendMex",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.id,c=a.text,e=a.emoji;a=a.ephemeralDurationSeconds;b=(yield d("WAWebUpdateTextStatusJob").updateTextStatus(b,c,e,a));return b});return function(b){return a.apply(this,arguments)}}()).end();g.setTextStatus=a}),98);
__d("WAWebVerifyPostcodeJob",["WADeprecatedSendIq","WADeprecatedWapParser","WAWap","WAWapDeprecatedSmaxID","WAWebBackendErrors","WAWebBizGatingUtils","WAWebCommsWapMd","WAWebDefinePersistedJob","WAWebGraphQLVerifyPostcodeJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=new(c("WADeprecatedWapParser"))("productResponse",function(a){a.assertTag("iq");a.assertFromServer();var b=a.child("result_code");a=a.maybeChild("encrypted_location_name");a=a==null?void 0:a.contentString();b=b.contentString();if(b!=="invalid_postcode"&&b!=="unserviceable_location"&&b!=="success")throw new(d("WAWebBackendErrors").ServerStatusCodeError)(500);return{resultCode:b,encryptedLocationName:a}});a=d("WAWebDefinePersistedJob").defineWebPersistedJob().finalStep("sendStanza",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.businessJid;a=a.directConnectionEncryptedInfo;b=d("WAWebWidFactory").createWid(b);if(d("WAWebBizGatingUtils").isGraphQLForVerifyPostcodeEnabled())return d("WAWebGraphQLVerifyPostcodeJob").verifyPostcode(b,a);b=d("WAWap").wap("iq",{id:d("WAWap").generateId(),xmlns:"w:biz:catalog",type:"get",to:d("WAWap").S_WHATSAPP_NET,smax_id:d("WAWap").SMAX_ID(c("WAWapDeprecatedSmaxID").CatalogVerifyPostcode)},d("WAWap").wap("verify_postcode",{biz_jid:d("WAWebCommsWapMd").USER_JID(b)},d("WAWap").wap("direct_connection_encrypted_info",null,a)));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(b,h));if(!a.success)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(a.errorCode);else return a.result});return function(b){return a.apply(this,arguments)}}()).end();g.VerifyPostcode=a}),98);
__d("WAWebPersistedJobInitializers",["Promise","WAWebDeleteAddonsJob","WAWebDeleteReactionsJob","WAWebJobDismissQuickPromotion","WAWebJobImpressionOnQuickPromotion","WAWebJobPrimaryActionClickInQuickPromotion","WAWebJobUserExposureToQuickPromotion","WAWebQueryAndUpdateGroupsMetadataByJidsJob","WAWebQueryGetPublicKeyJob","WAWebQueryGetSignedUserInfoJob","WAWebQueryProductListCatalogJob","WAWebResendGroupMsgJob","WAWebResendUserMsgJob","WAWebRotateKeyJob","WAWebSendRequestedKeyShareJob","WAWebSetAboutJob","WAWebSetTextStatusJob","WAWebVerifyPostcodeJob"],(function(a,b,c,d,e,f,g){var h;a={rotateKey:function(){return(h||(h=b("Promise"))).resolve(d("WAWebRotateKeyJob").rotateKey)},setAbout:function(){return(h||(h=b("Promise"))).resolve(d("WAWebSetAboutJob").setAbout)},setTextStatus:function(){return(h||(h=b("Promise"))).resolve(d("WAWebSetTextStatusJob").setTextStatus)},queryProductList:function(){return(h||(h=b("Promise"))).resolve(d("WAWebQueryProductListCatalogJob").QueryProductListCatalog)},getPublicKey:function(){return(h||(h=b("Promise"))).resolve(d("WAWebQueryGetPublicKeyJob").QueryGetPublicKey)},getSignedUserInfo:function(){return(h||(h=b("Promise"))).resolve(d("WAWebQueryGetSignedUserInfoJob").QueryGetSignedUserInfo)},verifyPostcode:function(){return(h||(h=b("Promise"))).resolve(d("WAWebVerifyPostcodeJob").VerifyPostcode)},deleteReactions:function(){return(h||(h=b("Promise"))).resolve(d("WAWebDeleteReactionsJob").deleteReactions)},deleteReactionsV2:function(){return(h||(h=b("Promise"))).resolve(d("WAWebDeleteAddonsJob").deleteReactionsV2)},deleteAddOns:function(){return(h||(h=b("Promise"))).resolve(d("WAWebDeleteAddonsJob").deleteAddOns)},sendRequestedKeyShare:function(){return(h||(h=b("Promise"))).resolve(d("WAWebSendRequestedKeyShareJob").sendRequestedKeyShare)},dismissQuickPromotion:function(){return(h||(h=b("Promise"))).resolve(d("WAWebJobDismissQuickPromotion").dismissQuickPromotion)},primaryActionClickInQuickPromotion:function(){return(h||(h=b("Promise"))).resolve(d("WAWebJobPrimaryActionClickInQuickPromotion").primaryActionClickInQuickPromotion)},impressionOnQuickPromotion:function(){return(h||(h=b("Promise"))).resolve(d("WAWebJobImpressionOnQuickPromotion").impressionOnQuickPromotion)},userExposureToQuickPromotion:function(){return(h||(h=b("Promise"))).resolve(d("WAWebJobUserExposureToQuickPromotion").userExposureToQuickPromotion)},queryAndUpdateGroupsMetadataByJids:function(){return(h||(h=b("Promise"))).resolve(d("WAWebQueryAndUpdateGroupsMetadataByJidsJob").queryAndUpdateGroupsMetadataByJidsJob)},resendUserMsg:function(){return(h||(h=b("Promise"))).resolve(d("WAWebResendUserMsgJob").resendUserMsgJob)},resendGroupMsg:function(){return(h||(h=b("Promise"))).resolve(d("WAWebResendGroupMsgJob").resendGroupMsgJob)}};c=a;g["default"]=c}),98);
__d("WAWebSubgroupSuggestionsJob",["WAJobOrchestratorTypes","WAWebApiSubgroupSuggestionStore","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("removeSubgroupSuggestions",function(a){return d("WAWebApiSubgroupSuggestionStore").removeSubgroupSuggestionsWithOfflineOption(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted({subgroupSuggestions:a,isOffline:b})}g.removeSubgroupSuggestionsJob=a}),98);
__d("WAWebUpdateDbForCommunityAction",["Promise","WAWebDBCommunity","WAWebDBGroupsGroupMetadata","WAWebGroupUnjoinedSubgroupJob","WAWebGroupsParticipantsApi","WAWebSchemaChat","WAWebSchemaGroupMetadata","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(a,b){return l(a,b,!1)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("WAWebDBCommunity").getJoinedSubgroupsMetadata(d("WAWebWidFactory").createWid(a.id)).then(function(a){return a.filter(function(a){return!d("WAWebWidFactory").createWid(a.id).equals(c)})}),d("WAWebDBCommunity").getUnjoinedSubgroupsMetadata(d("WAWebWidFactory").createWid(a.id))]));var f=a[0];a=a[1];f=f.concat(a).map(function(a){var b=a.id;a=a.subject;return{id:d("WAWebWidFactory").createWid(b),subject:a}});return i(e,f)});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b.forEach(function(b){b.parentGroupId=c?a:void 0,b.generalSubgroup=c?b.generalSubgroup:void 0,b.hiddenSubgroup=c?b.hiddenSubgroup:void 0});b=p(b,yield n(b.map(function(a){return a.id})));var e=b.joinedSubgroups;b=b.unjoinedSubgroups;e=e.map(function(b){return d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(b.id,{parentGroup:c?a.toString():void 0,generalSubgroup:c?b.generalSubgroup:void 0,hiddenSubgroup:c?b.hiddenSubgroup:void 0})});b=d("WAWebGroupUnjoinedSubgroupJob").updateUnjoinedSubgroupsJob(b,a,c);return[].concat(e,[b])});return m.apply(this,arguments)}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Map((yield d("WAWebGroupsParticipantsApi").bulkGetParticipants(a)).filter(Boolean).map(function(a){return[a.groupId,a.participants]})),c=d("WAWebUserPrefsMeUser").getMePnUserOrThrow().toString();return function(a){return(a=(a=b.get(a.toString()))==null?void 0:a.includes(c))!=null?a:!1}});return o.apply(this,arguments)}function p(a,b){return a.reduce(function(a,c){b(c.id)?a.joinedSubgroups=a.joinedSubgroups.concat(c):a.unjoinedSubgroups=a.unjoinedSubgroups.concat(c);return a},{joinedSubgroups:[],unjoinedSubgroups:[]})}function a(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[],e=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));if((e==null?void 0:e.isParentGroup)!==!0)return c;var f={suspended:!0,terminated:!0};c.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(a,f,b));var g=(yield d("WAWebDBCommunity").getDefaultSubgroup(a));g!=null&&(yield d("WAWebGroupsParticipantsApi").checkMyMembership(g))&&c.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,f,b));f=(yield j(e,g,a));c.push.apply(c,f);return c});return q.apply(this,arguments)}function r(a){var b=[];b.push(d("WAWebSchemaGroupMetadata").getGroupMetadataTable().remove(a.toString()));b.push(d("WAWebSchemaChat").getChatTable().remove(a.toString()));return b}function c(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=[];a=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));if(a==null||a.defaultSubgroup!==!0)return e;a=a.parentGroup;a!=null&&e.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(d("WAWebWidFactory").createWid(a),{suspended:b},c));return e});return s.apply(this,arguments)}function e(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[],e=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));if(e==null||e.isParentGroup!==!0)return c;var f=(yield d("WAWebDBCommunity").getDefaultSubgroup(a));f!=null&&(yield d("WAWebGroupsParticipantsApi").checkMyMembership(f))&&c.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(f,{terminated:!0,parentGroup:void 0},b));b=(yield j(e,f,a));c.push.apply(c,b);c.push.apply(c,r(a));return c});return t.apply(this,arguments)}function f(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];if(!a)return b;var c=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));if(!c||c.isParentGroup!==!0)return b;var e=(yield d("WAWebDBCommunity").getDefaultSubgroup(a));c=e==null?[]:yield j(c,e,a);b.push.apply(b,c);b.push.apply(b,r(a));return b});return u.apply(this,arguments)}g.databaseUpdatesForSubgroupUnlink=i;g.partitionSubgroups=p;g.databaseUpdatesForIntegrityDeactivateCommunity=a;g.maybeUpdateCommunitySuspendedStatus=c;g.databaseUpdatesForDeactivateCommunity=e;g.databaseUpdatesForExitedCommunity=f}),98);
__d("WAWebUpdateDbForGroupActionApi",["Promise","WAFilteredCatch","WALogger","WANullthrows","WATimeUtils","WAWebABProps","WAWebApiMembershipApprovalRequestStore","WAWebApiParticipantStore","WAWebApiSubgroupSuggestionStore","WAWebBackendApi","WAWebCommunityGatingUtils","WAWebDBCommunity","WAWebDBCommunityTypes","WAWebDBGroupsGroupMetadata","WAWebDBParticipantTypes","WAWebDBRevokeInviteV4","WAWebEphemeralityUtils","WAWebGroupDatabaseJob","WAWebGroupMembershipApprovalRequestsJob","WAWebGroupParticipantsJob","WAWebGroupQueryBridge","WAWebGroupSafetyCheckGatingUtils","WAWebGroupType","WAWebHandlePushnameUpdate","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebNux","WAWebQueryAndUpdateSubgroupSuggestionsJob","WAWebSubgroupSuggestionsJob","WAWebUpdateDbForCommunityAction","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;function a(a,b,c){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0&&(f=!1);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["inside _handleGroupActionMD"]))).tags("groups");var g=a.chatId,A=a.author,C=a.pushname,E=a.ts,G=E===void 0?Date.now()/1e3:E;A&&!c("isStringNullOrEmpty")(C)&&d("WAWebHandlePushnameUpdate").updatePushname(A,C,f)["catch"](function(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["updateDBForGroupAction: updatePushname failed: ",""])),a)});E=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(g));C=(E==null?void 0:E.isParentGroup)===!0;var I=Boolean(a.isLidAddressingMode);E=I!==Boolean(E==null?void 0:E.isLidAddressingMode);var J=[];C&&E&&(J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{isLidAddressingMode:I},f)),J.push(d("WAWebGroupParticipantsJob").migrateParentGroupToLIDOrFallbackToPNJob(g.toString(),I)["catch"](function(){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[parent-group] failed to migrate participants to LID or fallback to PN; isLID = ",""])),I)})));switch(e.actionType){case d("WAWebGroupType").GROUP_ACTIONS.ADD:J.push(d("WAWebGroupParticipantsJob").addParticipantsJob(g,e.participants,f,e.reason)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["addParticipants: out-of-sync group notification"]))),void F(g,f)})));d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&J.push(d("WAWebGroupMembershipApprovalRequestsJob").removeMembershipApprovalRequestsJob(g,e.participants.map(function(a){return a.id}),f));d("WAWebGroupSafetyCheckGatingUtils").groupSafetyCheckM2Enabled()&&J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{groupAdder:A==null?void 0:A.toString()}));break;case d("WAWebGroupType").GROUP_ACTIONS.REMOVE:C=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(g));if(C==null)break;E=e.reason!==d("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE&&e.participants.some(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})&&(yield d("WAWebDBCommunity").isLastJoinedSubgroup(C));var K=function(b,c){return d("WAWebGroupParticipantsJob").removeParticipantsJob(b,e.participants,G,a.author,e.reason,c,f)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["removeParticipants: out-of-sync group notification"]))),void F(b,f)}))};J.push(K(g,C));if(C.defaultSubgroup===!0&&C.parentGroup!=null){var L=d("WAWebWidFactory").createWid(C.parentGroup),M=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(L));M&&J.push(K(L,M))}e.participants.find(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})&&(d("WAWebUserPrefsGeneral").removeUserSentMessageToChat(g),d("WAWebApiParticipantStore").setAdminshipCache(g.toString(),!1));if(E){K=C==null?void 0:C.parentGroup;L=(yield d("WAWebUpdateDbForCommunityAction").databaseUpdatesForExitedCommunity(K!=null?d("WAWebWidFactory").createWid(K):null));J.push.apply(J,L)}break;case d("WAWebGroupType").GROUP_ACTIONS.DEMOTE:M=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(g));if(M==null)break;e.participants.find(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})&&(d("WAWebApiParticipantStore").setAdminshipCache(g.toString(),!1),d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&J.push(d("WAWebApiMembershipApprovalRequestStore").removeAllMembershipApprovalRequests(g)),yield D(M,g));J.push(d("WAWebGroupParticipantsJob").demoteParticipantsJob(g,e.participants,M,f)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["removeParticipants: out-of-sync group notification"]))),void F(g,f)})));break;case d("WAWebGroupType").GROUP_ACTIONS.PROMOTE:E=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(g));if(E==null)break;if(e.participants.find(function(a){a=a.id;return d("WAWebUserPrefsMeUser").isMeAccount(a)})){if(d("WAWebCommunityGatingUtils").communityAdminPromotionOneTimePromptEnabled()&&E!=null&&d("WAWebGroupType").getGroupTypeFromGroupMetadata(E)===d("WAWebGroupType").GroupType.COMMUNITY){C=d("WAWebNux").getCommunityAdminPromotionNuxKey(E.id.toString());H(C)}d("WAWebApiParticipantStore").setAdminshipCache(g.toString(),!0);yield D(E,g)}J.push(d("WAWebGroupParticipantsJob").promoteParticipantsJob(g,e.participants,E,f)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["removeParticipants: out-of-sync group notification"]))),void F(g,f)})));break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE:if(!e.jid)break;var N=e.jid;K=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(N.toString()));K||J.push(d("WAWebGroupParticipantsJob").promoteCommunityParticipantsJob(N,e.participants,f)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["linkedGroupPromote: out-of-sync group notification"]))),void F(N,f)})));break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE:if(!e.jid)break;var O=e.jid;L=(yield d("WAWebApiParticipantStore").isCurrentUserGroupAdmin(O.toString()));L||J.push(d("WAWebGroupParticipantsJob").demoteCommunityParticipantsJob(O,e.participants,f)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["linkedGroupDemote: out-of-sync group notification"]))),void F(O,f)})));break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKE_INVITE:M=d("WAWebUserPrefsMeUser").getMePnUserOrThrow().toString();C=d("WAWebUserPrefsMeUser").getMeLidUserOrThrow().toString();if(M==null||C==null){d("WALogger").WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["getMaybeMePnUser returned null, can't process action ",""])),e);return}var P=A==null?void 0:A.toString();if(c("isStringNullOrEmpty")(P)||A==null){d("WALogger").WARN(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Received revoke without an admin jid ",""])),e);return}E=d("WAWebUserPrefsMeUser").isMeAccount(A);K=[];if(E)K=e.participants.map(function(a){return{from:P,to:a.id.toString(),groupId:g.toString(),expiration:a.expiration}});else{var Q;L=e.participants.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a.id)});if(!L){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Received group invite revokation from ",", but user not in participants list"])),P).sendLogs("bad-revoke");return}E=d("WAWebWidFactory").asUserWidOrThrow(A);Q=(Q=d("WAWebLidMigrationUtils").toPn(E))==null?void 0:Q.toString();E=(E=d("WAWebLidMigrationUtils").toLid(E))==null?void 0:E.toString();if(c("isStringNullOrEmpty")(E)){var R=d("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[group-invites] isLidMigrated: ",", revoke request sent from another user -- author is not me"])),R);R="[group-invites] failed to get lid mapping for *incoming* group invite *revoke*";d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["",""])),R).sendLogs(R)}K=[{from:Q!=null?Q:"",to:M,groupId:g.toString(),expiration:L.expiration},{from:E!=null?E:"",to:C,groupId:g.toString(),expiration:L.expiration}]}yield (B||(B=b("Promise"))).all(K.map(function(a){return d("WAWebDBRevokeInviteV4").revokeGroupInviteV4(a.from,a.to,a.groupId,a.expiration)}));break;case d("WAWebGroupType").GROUP_ACTIONS.MODIFY:if(e.participants.length!==1){d("WALogger").WARN(v||(v=babelHelpers.taggedTemplateLiteralLoose(["_handleGroupActionMD: participants length should be 1, but is ",""])),e.participants.length);break}J.push(d("WAWebGroupDatabaseJob").modifyGroupParticipantJob(g,c("WANullthrows")(A),e.participants[0].id)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(w||(w=babelHelpers.taggedTemplateLiteralLoose(["modifyGroupParticipant: out-of-sync group notification"]))),void F(g,f)})));break;case d("WAWebGroupType").GROUP_ACTIONS.SUBJECT:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{subject:e.subject},f));break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{desc:e.desc,descId:e.descId,descTime:e.descTime,descOwner:A==null?void 0:A.toString()},f));break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0},f));break;case d("WAWebGroupType").GROUP_ACTIONS.RESTRICT:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{restrict:!!e.value},f));break;case d("WAWebGroupType").GROUP_ACTIONS.SUSPEND:R=!!e.value;J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{suspended:R},f));Q=(yield d("WAWebUpdateDbForCommunityAction").maybeUpdateCommunitySuspendedStatus(g,R,f));J.push.apply(J,Q);break;case d("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{announce:!!e.value},f));break;case d("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{noFrequentlyForwarded:!!e.value},f));break;case d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL:if(d("WAWebABProps").getABPropConfigValue("dm_initiator_trigger_groups")){M=d("WAWebEphemeralityUtils").getDisappearingModeTrigger(e.trigger);J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{ephemeralDuration:e.duration,disappearingModeTrigger:M!=null?M:void 0,disappearingModeInitiatedByMe:e.initiatedByMe},f))}else J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{ephemeralDuration:e.duration},f));break;case d("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE:break;case d("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK:break;case d("WAWebGroupType").GROUP_ACTIONS.DELETE:if(e.reason===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT){E=(yield d("WAWebUpdateDbForCommunityAction").databaseUpdatesForIntegrityDeactivateCommunity(g,f));J.push.apply(J,E)}else if(e.reason===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT){C=(yield d("WAWebUpdateDbForCommunityAction").databaseUpdatesForDeactivateCommunity(g,f));J.push.apply(J,C)}else J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{terminated:!0},f));break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_UNLOCKED:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{growthLockExpiration:void 0,growthLockType:void 0},f));break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED:e.type==="invite"&&J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{growthLockExpiration:e.expiration,growthLockType:e.type},f));break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK:L=e.groupDatas[0].id;J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{parentGroup:L.toString()},f));break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK:J.push(d("WAWebDBCommunity").persistCommunityLink(g,e.groupDatas,d("WAWebDBCommunityTypes").CommunityLinkOperation.SubGroupLink,f),d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{lastActivityTimestamp:d("WATimeUtils").unixTime()},f));break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK:J.push(d("WAWebDBCommunity").persistCommunityLink(g,e.groupDatas,d("WAWebDBCommunityTypes").CommunityLinkOperation.SiblingGroupLink,f));break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{parentGroup:void 0},f));break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK:J.push(d("WAWebDBCommunity").persistCommunityLink(g,e.groupDatas,d("WAWebDBCommunityTypes").CommunityLinkOperation.SubGroupUnlink,f));break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK:J.push(d("WAWebDBCommunity").persistCommunityLink(g,e.groupDatas,d("WAWebDBCommunityTypes").CommunityLinkOperation.SiblingGroupUnlink,f));break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&(J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{membershipApprovalMode:e.value},f)),e.value||J.push(d("WAWebApiMembershipApprovalRequestStore").removeAllMembershipApprovalRequests(g)));break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){J.push(d("WAWebApiMembershipApprovalRequestStore").addMembershipApprovalRequests(g,[{id:c("WANullthrows")(A),t:G,addedBy:c("WANullthrows")(A),requestMethod:e.requestMethod,parentGroupId:e.parentGroupId}]));K=d("WAWebNux").getMembershipApprovalRequestsBannerNuxKey(g.toString());H(K)}break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,babelHelpers["extends"]({reportToAdminMode:e.value},!e.value&&{lastReportToAdminTimestamp:null}),f));break;case d("WAWebGroupType").GROUP_ACTIONS.ADMIN_REPORT_RECIEVED:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{lastReportToAdminTimestamp:e.value},f));break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){J.push(d("WAWebApiMembershipApprovalRequestStore").addMembershipApprovalRequests(g,e.requests.map(function(a){a=a.wid;return{id:a,t:G,addedBy:c("WANullthrows")(A),requestMethod:e.requestMethod,parentGroupId:e.parentGroupId}})));R=d("WAWebNux").getMembershipApprovalRequestsBannerNuxKey(g.toString());H(R)}break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&J.push(d("WAWebGroupMembershipApprovalRequestsJob").removeMembershipApprovalRequestsJob(g,e.requests,f));break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{allowNonAdminSubGroupCreation:!!e.value},f));break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION:J.push(d("WAWebApiSubgroupSuggestionStore").addSubgroupSuggestions(g,[{id:e.id,parentGroupId:e.parentGroupId,subject:e.subject,desc:e.description,owner:e.owner,t:e.t,isExistingGroup:(Q=e.isExistingGroup)!=null?Q:!1,participantCount:e.participantCount,hiddenSubgroup:e.hiddenSubgroup}]));M=d("WAWebNux").getSubgroupSuggestionsBannerNuxKey(g.toString());void H(M);break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS:J.push(d("WAWebSubgroupSuggestionsJob").removeSubgroupSuggestionsJob(e.subgroupSuggestions.map(function(a){var b=a.id;a=a.owner;return{parentGroupId:e.parentGroupId,id:b,owner:a}}),f));break;case d("WAWebGroupType").GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER:J.push(d("WAWebApiSubgroupSuggestionStore").updateOwnerInSubgroupSuggestions(e.parentGroupId,e.subgroupSuggestions,e.oldOwner,e.newOwner));break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE:d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")&&J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{memberAddMode:e.memberAddMode},f));break;case d("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{generalChatAutoAddDisabled:!0},f));break;case d("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE:J.push(d("WAWebGroupParticipantsJob").setGroupSuperAdminJob(g,e.newOwner)["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebDBParticipantTypes").GroupUnSyncedError,function(){d("WALogger").WARN(x||(x=babelHelpers.taggedTemplateLiteralLoose(["communityOwnerUpdate: out-of-sync group notification"]))),void F(g,f)})));break;case d("WAWebGroupType").GROUP_ACTIONS.HIDDEN_GROUP:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{hiddenSubgroup:!!e.value}));break;case d("WAWebGroupType").GROUP_ACTIONS.GROUP_SAFETY_CHECK:J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{groupSafetyCheck:!!e.value}));break;default:d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["unhandled group notif action in handleGroupActionMD for action ",""])),JSON.stringify(e)).tags("groups");break}d("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&(a.hasIncompleteParticipantInformation===!0&&J.push(d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(g,{hasIncompleteParticipantInformation:!0},f)));yield (B||(B=b("Promise"))).all(J);d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["finished all storageTasks"]))).tags("groups")});return C.apply(this,arguments)}function D(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a.isParentGroup===!0&&a.allowNonAdminSubGroupCreation!==!0&&d("WAWebCommunityGatingUtils").memberSuggestedGroupsEnabled()){a=(yield d("WAWebDBCommunity").getJoinedSubgroups(b));a[0]&&void d("WAWebQueryAndUpdateSubgroupSuggestionsJob").queryAndUpdateSubgroupSuggestions(b,a[0])}});return E.apply(this,arguments)}function F(a,b){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{b===!0?yield d("WAWebGroupDatabaseJob").markGroupParticipantStaleJob(a):yield d("WAWebGroupQueryBridge").sendQueryGroup(a)}catch(a){d("WALogger").WARN(A||(A=babelHelpers.taggedTemplateLiteralLoose(["handleGroupUnsyncedError: failed: ",""])),a)}});return G.apply(this,arguments)}function H(a){d("WAWebBackendApi").frontendFireAndForget("resetNux",{key:a})}function e(a,b){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a));e!=null&&(e.disappearingModeTrigger=c,yield d("WAWebDBGroupsGroupMetadata").persistGroupMetadata(a,{disappearingModeTrigger:c}));return(B||(B=b("Promise"))).resolve()});return I.apply(this,arguments)}g.updateDBForGroupAction=a;g.syncDisappearingModeTriggerToDB=e}),98);/*FB_PKG_DELIM*/
__d("LexicalClipboard",["cr:862"],(function(a,b,c,d,e,f){e.exports=b("cr:862")}),null);
__d("LexicalHtml",["cr:1497"],(function(a,b,c,d,e,f){e.exports=b("cr:1497")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<edfec760f827b1283c0cf409e2f45160>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalClipboard.prod",["Lexical","LexicalHtml","LexicalSelection","LexicalUtils"],(function $module_LexicalClipboard_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function r(e){var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}function i(t,n){if(n===void 0){n=require("Lexical").$getSelection();}return null==n&&r(166),require("Lexical").$isRangeSelection(n)&&n.isCollapsed()||0===n.getNodes().length?"":require("LexicalHtml").$generateHtmlFromNodes(t,n);}function l(e,t){if(t===void 0){t=require("Lexical").$getSelection();}return null==t&&r(166),require("Lexical").$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(c(e,t));}function s(e,t,n){e.dispatchCommand(require("Lexical").SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if(require("Lexical").$isRangeSelection(e)&&e.isCollapsed()){var _t=e.anchor;var _n=null;var _r=require("Lexical").$caretFromPoint(_t,"previous");if(_r)if(require("Lexical").$isTextPointCaret(_r))_n=_r.origin;else{var _e2=require("Lexical").$getCaretRange(_r,require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"next").getFlipped());for(var _t2 of _e2){if(require("Lexical").$isTextNode(_t2.origin)){_n=_t2.origin;break;}if(require("Lexical").$isElementNode(_t2.origin)&&!_t2.origin.isInline())break;}}if(_n&&require("Lexical").$isTextNode(_n)){var _t3=_n.getFormat(),_o=_n.getStyle();e.format===_t3&&e.style===_o||(e.format=_t3,e.style=_o,e.dirty=!0);}}}(n));}function a(e,n,i,l){if(l===void 0){l=[];}var s=null===n||i.isSelected(n);var c=require("Lexical").$isElementNode(i)&&i.excludeFromCopy("html");var d=i;if(null!==n){var _e3=require("Lexical").$cloneWithProperties(i);_e3=require("Lexical").$isTextNode(_e3)&&null!==n?require("LexicalSelection").$sliceSelectedTextNodeContent(n,_e3):_e3,d=_e3;}var u=require("Lexical").$isElementNode(d)?d.getChildren():[],f=function(e){var t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&r(58,n.name),require("Lexical").$isElementNode(e)){var _e4=t.children;Array.isArray(_e4)||r(59,n.name);}return t;}(d);if(require("Lexical").$isTextNode(d)){var _e5=d.__text;_e5.length>0?f.text=_e5:s=!1;}for(var _t4=0;_t4<u.length;_t4++){var _r2=u[_t4],_l=a(e,n,_r2,f.children);!s&&require("Lexical").$isElementNode(i)&&_l&&i.extractWithChild(_r2,n,"clone")&&(s=!0);}if(s&&!c)l.push(f);else if(Array.isArray(f.children))for(var _e6=0;_e6<f.children.length;_e6++){var _t5=f.children[_e6];l.push(_t5);}return s;}function c(e,t){var n=[],r=require("Lexical").$getRoot().getChildren();for(var _o2=0;_o2<r.length;_o2++){a(e,t,r[_o2],n);}return{namespace:e._config.namespace,nodes:n};}function d(e){var n=[];for(var _r3=0;_r3<e.length;_r3++){var _i=e[_r3],_l2=require("Lexical").$parseSerializedNode(_i);require("Lexical").$isTextNode(_l2)&&require("LexicalSelection").$addNodeStyle(_l2),n.push(_l2);}return n;}var u=null;function f(e,t,n){if(void 0===n){var _t6=require("Lexical").getDOMSelection(e._window);if(!_t6)return!1;var _r4=_t6.anchorNode,_i2=_t6.focusNode;if(null!==_r4&&null!==_i2&&!require("Lexical").isSelectionWithinEditor(e,_r4,_i2))return!1;var _l3=require("Lexical").$getSelection();if(null===_l3)return!1;n=g(_l3);}t.preventDefault();var r=t.clipboardData;return null!==r&&(x(r,n),!0);}var p=[["text/html",i],["application/x-lexical-editor",l]];function g(e){if(e===void 0){e=require("Lexical").$getSelection();}var t={"text/plain":e?e.getTextContent():""};if(e){var _n2=require("Lexical").$getEditor();for(var _ref2 of p){var _o3=_ref2[0];var _r5=_ref2[1];{var _i3=_r5(_n2,e);null!==_i3&&(t[_o3]=_i3);}}}return t;}function x(e,t){for(var _ref4 of p){var _n3=_ref4[0];void 0===t[_n3]&&e.setData(_n3,"");}for(var _n4 in t){var _o4=t[_n4];void 0!==_o4&&e.setData(_n4,_o4);}}exports.$generateJSONFromSelectedNodes=c,exports.$generateNodesFromSerializedNodes=d,exports.$getClipboardDataFromSelection=g,exports.$getHtmlContent=i,exports.$getLexicalContent=l,exports.$insertDataTransferForPlainText=function(e,t){var n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n);},exports.$insertDataTransferForRichText=function(t,n,r){var i=t.getData("application/x-lexical-editor");if(i)try{var _e7=JSON.parse(i);if(_e7.namespace===r._config.namespace&&Array.isArray(_e7.nodes)){return s(r,d(_e7.nodes),n);}}catch(e){}var l=t.getData("text/html"),a=t.getData("text/plain");if(l&&a!==l)try{var _t7=new DOMParser().parseFromString(function(e){if(window.trustedTypes&&window.trustedTypes.createPolicy){return window.trustedTypes.createPolicy("Lexical",{createHTML:function createHTML(e){return e;}}).createHTML(e);}return e;}(l),"text/html");return s(r,require("LexicalHtml").$generateNodesFromDOM(r,_t7),n);}catch(e){}var c=a||t.getData("text/uri-list");if(null!=c)if(require("Lexical").$isRangeSelection(n)){var _e8=c.split(/(\r?\n|\t)/);""===_e8[_e8.length-1]&&_e8.pop();for(var _t8=0;_t8<_e8.length;_t8++){var _n5=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_n5)){var _r6=_e8[_t8];"\n"===_r6||"\r\n"===_r6?_n5.insertParagraph():"\t"===_r6?_n5.insertNodes([require("Lexical").$createTabNode()]):_n5.insertText(_r6);}}}else n.insertRawText(c);},exports.$insertGeneratedNodes=s,exports.copyToClipboard=async function(e,t,r){if(null!==u)return!1;if(null!==t)return new Promise(function(n,o){e.update(function(){n(f(e,t,r));});});var i=e.getRootElement(),l=e._window||window,s=l.document,a=require("Lexical").getDOMSelection(l);if(null===i||null===a)return!1;var c=s.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(s.createTextNode("#")),i.append(c);var d=new Range();return d.setStart(c,0),d.setEnd(c,1),a.removeAllRanges(),a.addRange(d),new Promise(function(t,i){var a=e.registerCommand(require("Lexical").COPY_COMMAND,function(o){return require("LexicalUtils").objectKlassEquals(o,ClipboardEvent)&&(a(),null!==u&&(l.clearTimeout(u),u=null),t(f(e,o,r))),!0;},require("Lexical").COMMAND_PRIORITY_CRITICAL);u=l.setTimeout(function(){a(),u=null,t(!1);},50),s.execCommand("copy"),c.remove();});},exports.setLexicalClipboardDataTransfer=x;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<f2466b099757848c03fec2201199ae0e>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalDragon.prod",["Lexical","LexicalExtension"],(function $module_LexicalDragon_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=window.location.origin,o=function o(_o){if(_o.origin!==n)return;var i=e.getRootElement();if(document.activeElement!==i)return;var s=_o.data;if("string"==typeof s){var _n;try{_n=JSON.parse(s);}catch(e){return;}if(_n&&"nuanria_messaging"===_n.protocol&&"request"===_n.type){var _i=_n.payload;if(_i&&"makeChanges"===_i.functionId){var _n2=_i.args;if(_n2){var _i2=_n2[0],_s=_n2[1],a=_n2[2],r=_n2[3],d=_n2[4];e.update(function(){var e=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(e)){var _n3=e.anchor;var c=_n3.getNode(),g=0,u=0;if(require("Lexical").$isTextNode(c)&&_i2>=0&&_s>=0&&(g=_i2,u=_i2+_s,e.setTextNodeRange(c,g,c,u)),g===u&&""===a||(e.insertRawText(a),c=_n3.getNode()),require("Lexical").$isTextNode(c)){g=r,u=r+d;var _t=c.getTextContentSize();g=g>_t?_t:g,u=u>_t?_t:u,e.setTextNodeRange(c,g,c,u);}_o.stopImmediatePropagation();}});}}}}};return window.addEventListener("message",o,!0),function(){window.removeEventListener("message",o,!0);};}var o=require("Lexical").defineExtension({build:function build(t,n,o){return require("LexicalExtension").namedSignals(n);},config:require("Lexical").safeCast({disabled:"undefined"==typeof window}),name:"LexicalDragon",register:function register(t,o,i){return require("LexicalExtension").effect(function(){return i.getOutput().disabled.value?void 0:n(t);});}});exports.DragonExtension=o,exports.registerDragonSupport=n;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<1364882a0342e50e87bdf4c23dda9573>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalExtension.prod",["Lexical","LexicalUtils"],(function $module_LexicalExtension_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["$initialEditorState","onError"];var _require_Lexical;var n=Symbol["for"]("preact-signals");function i(){if(a>1)return void a--;var e,t=!1;for(;void 0!==r;){var _n=r;for(r=void 0,c++;void 0!==_n;){var _i=_n.o;if(_n.o=void 0,_n.f&=-3,!(8&_n.f)&&g(_n))try{_n.c();}catch(n){t||(e=n,t=!0);}_n=_i;}}if(c=0,a--,t)throw e;}function o(e){if(a>0)return e();a++;try{return e();}finally{i();}}var s,r;function d(e){var t=s;s=void 0;try{return e();}finally{s=t;}}var a=0,c=0,l=0;function u(e){if(void 0===s)return;var t=e.n;return void 0===t||t.t!==s?(t={i:0,S:e,p:s.s,n:void 0,t:s,e:void 0,x:void 0,r:t},void 0!==s.s&&(s.s.n=t),s.s=t,e.n=t,32&s.f&&e.S(t),t):-1===t.i?(t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=s.s,t.n=void 0,s.s.n=t,s.s=t),t):void 0;}function f(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name;}function h(e,t){return new f(e,t);}function g(e){for(var _t=e.s;void 0!==_t;_t=_t.n)if(_t.S.i!==_t.i||!_t.S.h()||_t.S.i!==_t.i)return!0;return!1;}function p(e){for(var _t2=e.s;void 0!==_t2;_t2=_t2.n){var _n2=_t2.S.n;if(void 0!==_n2&&(_t2.r=_n2),_t2.S.n=_t2,_t2.i=-1,void 0===_t2.n){e.s=_t2;break;}}}function x(e){var t,n=e.s;for(;void 0!==n;){var _e=n.p;-1===n.i?(n.S.U(n),void 0!==_e&&(_e.n=n.n),void 0!==n.n&&(n.n.p=_e)):t=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=_e;}e.s=t;}function m(e,t){f.call(this,void 0),this.x=e,this.s=void 0,this.g=l-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name;}function E(e,t){return new m(e,t);}function v(e){var t=e.u;if(e.u=void 0,"function"==typeof t){a++;var _n3=s;s=void 0;try{t();}catch(t){throw e.f&=-2,e.f|=8,y(e),t;}finally{s=_n3,i();}}}function y(e){for(var _t3=e.s;void 0!==_t3;_t3=_t3.n)_t3.S.U(_t3);e.x=void 0,e.s=void 0,v(e);}function S(e){if(s!==this)throw new Error("Out-of-order effect");x(this),s=e,this.f&=-2,8&this.f&&y(this),i();}function N(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name;}function b(e,t){var n=new N(e,t);try{n.c();}catch(e){throw n.d(),e;}var i=n.d.bind(n);return i[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=i,i;}function R(e,t){if(t===void 0){t={};}var n={};for(var _i2 in e){var _o=t[_i2],_s=h(void 0===_o?e[_i2]:_o);n[_i2]=_s;}return n;}f.prototype.brand=n,f.prototype.h=function(){return!0;},f.prototype.S=function(e){var _this=this;var t=this.t;t!==e&&void 0===e.e&&(e.x=t,this.t=e,void 0!==t?t.e=e:d(function(){var e;null==(e=_this.W)||e.call(_this);}));},f.prototype.U=function(e){var _this2=this;if(void 0!==this.t){var _t4=e.e,_n4=e.x;void 0!==_t4&&(_t4.x=_n4,e.e=void 0),void 0!==_n4&&(_n4.e=_t4,e.x=void 0),e===this.t&&(this.t=_n4,void 0===_n4&&d(function(){var e;null==(e=_this2.Z)||e.call(_this2);}));}},f.prototype.subscribe=function(e){var _this3=this;return b(function(){var t=_this3.value,n=s;s=void 0;try{e(t);}finally{s=n;}},{name:"sub"});},f.prototype.valueOf=function(){return this.value;},f.prototype.toString=function(){return this.value+"";},f.prototype.toJSON=function(){return this.value;},f.prototype.peek=function(){var e=s;s=void 0;try{return this.value;}finally{s=e;}},Object.defineProperty(f.prototype,"value",{get:function get(){var e=u(this);return void 0!==e&&(e.i=this.i),this.v;},set:function set(e){if(e!==this.v){if(c>100)throw new Error("Cycle detected");this.v=e,this.i++,l++,a++;try{for(var _e2=this.t;void 0!==_e2;_e2=_e2.x)_e2.t.N();}finally{i();}}}}),m.prototype=new f(),m.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===l)return!0;if(this.g=l,this.f|=1,this.i>0&&!g(this))return this.f&=-2,!0;var e=s;try{p(this),s=this;var _e3=this.x();(16&this.f||this.v!==_e3||0===this.i)&&(this.v=_e3,this.f&=-17,this.i++);}catch(e){this.v=e,this.f|=16,this.i++;}return s=e,x(this),this.f&=-2,!0;},m.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var _e4=this.s;void 0!==_e4;_e4=_e4.n)_e4.S.S(_e4);}f.prototype.S.call(this,e);},m.prototype.U=function(e){if(void 0!==this.t&&(f.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var _e5=this.s;void 0!==_e5;_e5=_e5.n)_e5.S.U(_e5);}},m.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var _e6=this.t;void 0!==_e6;_e6=_e6.x)_e6.t.N();}},Object.defineProperty(m.prototype,"value",{get:function get(){if(1&this.f)throw new Error("Cycle detected");var e=u(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v;}}),N.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var _e7=this.x();"function"==typeof _e7&&(this.u=_e7);}finally{e();}},N.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,v(this),p(this),a++;var e=s;return s=this,S.bind(this,e);},N.prototype.N=function(){2&this.f||(this.f|=2,this.o=r,r=this);},N.prototype.d=function(){this.f|=8,1&this.f||y(this);},N.prototype.dispose=function(){this.d();};var w=(_require_Lexical=require("Lexical")).defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register:function register(e,t,n){var i=n.getOutput();return b(function(){return i.disabled.value?void 0:e.registerRootListener(function(t){e.focus(function(){var e=document.activeElement;null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0});},{defaultSelection:i.defaultSelection.peek()});});});}});function $(){var t=require("Lexical").$getRoot(),n=require("Lexical").$getSelection(),i=require("Lexical").$createParagraphNode();t.clear(),t.append(i),null!==n&&i.select(),require("Lexical").$isRangeSelection(n)&&(n.format=0);}function O(t,n){if(n===void 0){n=$;}return t.registerCommand(require("Lexical").CLEAR_EDITOR_COMMAND,function(e){return t.update(n),!0;},require("Lexical").COMMAND_PRIORITY_EDITOR);}var C=_require_Lexical.defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({$onClear:$}),name:"@lexical/extension/ClearEditor",register:function register(e,t,n){var _n$getOutput=n.getOutput(),i=_n$getOutput.$onClear;return b(function(){return O(e,i.value);});}});function M(e,t){var n;return h(e(),{unwatched:function unwatched(){n&&(n(),n=void 0);},watched:function watched(){this.value=e(),n=t(this);}});}var D=_require_Lexical.defineExtension({build:function build(e){return M(function(){return e.getEditorState();},function(t){return e.registerUpdateListener(function(e){t.value=e.editorState;});});},name:"@lexical/extension/EditorState"});function _(e){throw new Error(e);}function I(e,t){if(e&&t&&!Array.isArray(t)&&"object"==typeof e&&"object"==typeof t){var _n5=e,_i3=t;for(var _e8 in _i3)_n5[_e8]=I(_n5[_e8],_i3[_e8]);return e;}return t;}var T=0,A=1,L=2,B=3,P=4,j=5,k=6,K=7;function z(e){return e.id===T;}function F(e){return e.id===L;}function U(e){return function(e){return e.id===A;}(e)||_("LexicalBuilder: Can not apply a permanent mark from state id "+String(e.id)+" (expected "+String(A)+" temporary)"),Object.assign(e,{id:L});}var H=new Set();var _Y=function(){function Y(e,t){this.builder=e,this.extension=t,this.configs=new Set(),this.state={id:T};}var _proto=Y.prototype;_proto.mergeConfigs=function mergeConfigs(){var t=this.extension.config||{};var n=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):require("Lexical").shallowMergeConfig;for(var _e9 of this.configs)t=n(t,_e9);return t;};_proto.init=function init(e){var t=this.state;F(t)||_("ExtensionRep: Can not configure from state id "+String(t.id));var n={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i=babelHelpers["extends"]({},n,{getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)}),o=function(e,t,n){return Object.assign(e,{config:t,id:B,registerState:n});}(t,this.mergeConfigs(),n);var s;this.state=o,this.extension.init&&(s=this.extension.init(e,o.config,n)),this.state=function(e,t,n){return Object.assign(e,{id:P,initResult:t,registerState:n});}(o,s,i);};_proto.build=function build(e){var t=this.state;var n;t.id!==P&&_("ExtensionRep: register called in state id "+String(t.id)+" (expected "+String(j)+" initialized)"),this.extension.build&&(n=this.extension.build(e,t.config,t.registerState));var i=babelHelpers["extends"]({},t.registerState,{getOutput:function getOutput(){return n;},getSignal:this.getSignal.bind(this)});this.state=function(e,t,n){return Object.assign(e,{id:j,output:t,registerState:n});}(t,n,i);};_proto.register=function register(e,t){var _this4=this;this._signal=t;var n=this.state;n.id!==j&&_("ExtensionRep: register called in state id "+String(n.id)+" (expected "+String(j)+" built)");var i=this.extension.register&&this.extension.register(e,n.config,n.registerState);return this.state=function(e){return Object.assign(e,{id:k});}(n),function(){var e=_this4.state;e.id!==K&&_("ExtensionRep: rollbackToBuiltState called in state id "+String(n.id)+" (expected "+String(K)+" afterRegistration)"),_this4.state=function(e){return Object.assign(e,{id:j});}(e),i&&i();};};_proto.afterRegistration=function afterRegistration(e){var t=this.state;var n;return t.id!==k&&_("ExtensionRep: afterRegistration called in state id "+String(t.id)+" (expected "+String(k)+" registered)"),this.extension.afterRegistration&&(n=this.extension.afterRegistration(e,t.config,t.registerState)),this.state=function(e){return Object.assign(e,{id:K});}(t),n;};_proto.getSignal=function getSignal(){return void 0===this._signal&&_("ExtensionRep.getSignal() called before register"),this._signal;};_proto.getInitResult=function getInitResult(){void 0===this.extension.init&&_("ExtensionRep: getInitResult() called for Extension "+this.extension.name+" that does not define init");var e=this.state;return function(e){return e.id>=P;}(e)||_("ExtensionRep: getInitResult() called for ExtensionRep in state id "+String(e.id)+" < "+String(P)+" (initialized)"),e.initResult;};_proto.getInitPeer=function getInitPeer(e){var t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0;};_proto.getExtensionInitDependency=function getExtensionInitDependency(){var e=this.state;return function(e){return e.id>=B;}(e)||_("ExtensionRep: getExtensionInitDependency called in state id "+String(e.id)+" (expected >= "+String(B)+" configured)"),{config:e.config};};_proto.getPeer=function getPeer(e){var t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0;};_proto.getInitDependency=function getInitDependency(e){var t=this.builder.getExtensionRep(e);return void 0===t&&_("LexicalExtensionBuilder: Extension "+this.extension.name+" missing dependency extension "+e.name+" to be in registry"),t.getExtensionInitDependency();};_proto.getDependency=function getDependency(e){var t=this.builder.getExtensionRep(e);return void 0===t&&_("LexicalExtensionBuilder: Extension "+this.extension.name+" missing dependency extension "+e.name+" to be in registry"),t.getExtensionDependency();};_proto.getState=function getState(){var e=this.state;return function(e){return e.id>=K;}(e)||_("ExtensionRep getState called in state id "+String(e.id)+" (expected "+String(K)+" afterRegistration)"),e;};_proto.getDirectDependentNames=function getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||H;};_proto.getPeerNameSet=function getPeerNameSet(){var e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(function(_ref){var e=_ref[0];return e;})),this._peerNameSet=e),e;};_proto.getExtensionDependency=function getExtensionDependency(){if(!this._dependency){var _e0=this.state;(function(e){return e.id>=j;})(_e0)||_("Extension "+this.extension.name+" used as a dependency before build"),this._dependency={config:_e0.config,init:_e0.initResult,output:_e0.output};}return this._dependency;};return Y;}();var G={tag:_require_Lexical.HISTORY_MERGE_TAG};function W(){var t=require("Lexical").$getRoot();t.isEmpty()&&t.append(require("Lexical").$createParagraphNode());}var Z=_require_Lexical.defineExtension({config:_require_Lexical.safeCast({setOptions:G,updateOptions:G}),init:function init(_ref2){var _ref2$$initialEditorS=_ref2.$initialEditorState,e=_ref2$$initialEditorS===void 0?W:_ref2$$initialEditorS;return{$initialEditorState:e,initialized:!1};},afterRegistration:function afterRegistration(t,_ref3,o){var n=_ref3.updateOptions,i=_ref3.setOptions;var s=o.getInitResult();if(!s.initialized){s.initialized=!0;var _o2=s.$initialEditorState;if(require("Lexical").$isEditorState(_o2))t.setEditorState(_o2,i);else if("function"==typeof _o2)t.update(function(){_o2(t);},n);else if(_o2&&("string"==typeof _o2||"object"==typeof _o2)){var _e1=t.parseEditorState(_o2);t.setEditorState(_e1,i);}}return function(){};},name:"@lexical/extension/InitialState",nodes:[_require_Lexical.RootNode,_require_Lexical.TextNode,_require_Lexical.LineBreakNode,_require_Lexical.TabNode,_require_Lexical.ParagraphNode]}),V=Symbol["for"]("@lexical/extension/LexicalBuilder");function q(){}function J(e){throw e;}function X(e){return Array.isArray(e)?e:[e];}var Q="0.35.0+prod.cjs";var _ee=function(){function ee(e){this.outgoingConfigEdges=new Map(),this.incomingEdges=new Map(),this.extensionNameMap=new Map(),this.conflicts=new Map(),this.PACKAGE_VERSION=Q,this.roots=e;for(var _t5 of e)this.addExtension(_t5);}ee.fromExtensions=function fromExtensions(e){var t=[X(Z)];for(var _n6 of e)t.push(X(_n6));return new ee(t);};ee.maybeFromEditor=function maybeFromEditor(e){var t=e[V];return t&&(t.PACKAGE_VERSION!==Q&&_("LexicalBuilder.fromEditor: The given editor was created with LexicalBuilder "+t.PACKAGE_VERSION+" but this version is "+Q+". A project should have exactly one copy of LexicalBuilder"),t instanceof ee||_("LexicalBuilder.fromEditor: There are multiple copies of the same version of LexicalBuilder in your project, and this editor was created with another one. Your project, or one of its dependencies, has its package.json and/or bundler configured incorrectly.")),t;};ee.fromEditor=function fromEditor(e){var t=ee.maybeFromEditor(e);return void 0===t&&_("LexicalBuilder.fromEditor: The given editor was not created with LexicalBuilder"),t;};var _proto2=ee.prototype;_proto2.constructEditor=function constructEditor(){var _Object$assign;var _this$buildCreateEdit=this.buildCreateEditorArgs(),t=_this$buildCreateEdit.$initialEditorState,n=_this$buildCreateEdit.onError,i=babelHelpers.objectWithoutPropertiesLoose(_this$buildCreateEdit,_excluded),o=Object.assign(require("Lexical").createEditor(babelHelpers["extends"]({},i,n?{onError:function onError(e){n(e,o);}}:{})),(_Object$assign={},_Object$assign[V]=this,_Object$assign));for(var _e10 of this.sortedExtensionReps())_e10.build(o);return o;};_proto2.buildEditor=function buildEditor(){var _Object$assign2;var e=q;function n(){try{e();}finally{e=q;}}var i=Object.assign(this.constructEditor(),(_Object$assign2={dispose:n},_Object$assign2[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=n,_Object$assign2));return e=require("LexicalUtils").mergeRegister(this.registerEditor(i),function(){return i.setRootElement(null);}),i;};_proto2.hasExtensionByName=function hasExtensionByName(e){return this.extensionNameMap.has(e);};_proto2.getExtensionRep=function getExtensionRep(e){var t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&_("LexicalBuilder: A registered extension with name "+e.name+" exists but does not match the given extension"),t;};_proto2.addEdge=function addEdge(e,t,n){var i=this.outgoingConfigEdges.get(e);i?i.set(t,n):this.outgoingConfigEdges.set(e,new Map([[t,n]]));var o=this.incomingEdges.get(t);o?o.add(e):this.incomingEdges.set(t,new Set([e]));};_proto2.addExtension=function addExtension(e){void 0!==this._sortedExtensionReps&&_("LexicalBuilder: addExtension called after finalization");var t=X(e),n=t[0];"string"!=typeof n.name&&_("LexicalBuilder: extension name must be string, not "+typeof n.name);var i=this.extensionNameMap.get(n.name);if(void 0!==i&&i.extension!==n&&_("LexicalBuilder: Multiple extensions registered with name "+n.name+", names must be unique"),!i){i=new _Y(this,n),this.extensionNameMap.set(n.name,i);var _e11=this.conflicts.get(n.name);"string"==typeof _e11&&_("LexicalBuilder: extension "+n.name+" conflicts with "+_e11);for(var _e12 of n.conflictsWith||[])this.extensionNameMap.has(_e12)&&_("LexicalBuilder: extension "+n.name+" conflicts with "+_e12),this.conflicts.set(_e12,n.name);for(var _e13 of n.dependencies||[]){var _t6=X(_e13);this.addEdge(n.name,_t6[0].name,_t6.slice(1)),this.addExtension(_t6);}for(var _ref5 of n.peerDependencies||[]){var _e14=_ref5[0];var _t7=_ref5[1];this.addEdge(n.name,_e14,_t7?[_t7]:[]);}}};_proto2.sortedExtensionReps=function sortedExtensionReps(){var _this5=this;if(this._sortedExtensionReps)return this._sortedExtensionReps;var e=[],_t8=function t(n,i){var o=n.state;if(F(o))return;var s=n.extension.name;var r;z(o)||_("LexicalBuilder: Circular dependency detected for Extension "+s+" from "+(i||"[unknown]")),z(r=o)||_("LexicalBuilder: Can not apply a temporary mark from state id "+String(r.id)+" (expected "+String(T)+" unmarked)"),o=Object.assign(r,{id:A}),n.state=o;var d=_this5.outgoingConfigEdges.get(s);if(d)for(var _e15 of d.keys()){var _n7=_this5.extensionNameMap.get(_e15);_n7&&_t8(_n7,s);}o=U(o),n.state=o,e.push(n);};for(var _e16 of this.extensionNameMap.values())z(_e16.state)&&_t8(_e16);for(var _t9 of e)for(var _ref7 of this.outgoingConfigEdges.get(_t9.extension.name)||[]){var _e17=_ref7[0];var _n8=_ref7[1];if(_n8.length>0){var _t0=this.extensionNameMap.get(_e17);if(_t0)for(var _e18 of _n8)_t0.configs.add(_e18);}}for(var _ref9 of this.roots){var _e19=_ref9[0];var _t1=_ref9.slice(1);if(_t1.length>0){var _n9=this.extensionNameMap.get(_e19.name);void 0===_n9&&_("LexicalBuilder: Expecting existing ExtensionRep for "+_e19.name);for(var _e20 of _t1)_n9.configs.add(_e20);}}return this._sortedExtensionReps=e,this._sortedExtensionReps;};_proto2.registerEditor=function registerEditor(e){var n=this.sortedExtensionReps(),i=new AbortController(),o=[function(){return i.abort();}],s=i.signal;for(var _t10 of n){var _n0=_t10.register(e,s);_n0&&o.push(_n0);}for(var _t11 of n){var _n1=_t11.afterRegistration(e);_n1&&o.push(_n1);}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),o);};_proto2.buildCreateEditorArgs=function buildCreateEditorArgs(){var e={},t=new Set(),n=new Map(),i=new Map(),o={},s={},r=this.sortedExtensionReps();for(var _d of r){var _r=_d.extension;if(void 0!==_r.onError&&(e.onError=_r.onError),void 0!==_r.disableEvents&&(e.disableEvents=_r.disableEvents),void 0!==_r.parentEditor&&(e.parentEditor=_r.parentEditor),void 0!==_r.editable&&(e.editable=_r.editable),void 0!==_r.namespace&&(e.namespace=_r.namespace),void 0!==_r.$initialEditorState&&(e.$initialEditorState=_r.$initialEditorState),_r.nodes)for(var _e21 of _r.nodes){if("function"!=typeof _e21){var _t12=n.get(_e21.replace);_t12&&_("LexicalBuilder: Extension "+_r.name+" can not register replacement for node "+_e21.replace.name+" because "+_t12.extension.name+" already did"),n.set(_e21.replace,_d);}t.add(_e21);}if(_r.html){if(_r.html["export"])for(var _ref1 of _r.html["export"].entries()){var _e22=_ref1[0];var _t13=_ref1[1];i.set(_e22,_t13);}_r.html["import"]&&Object.assign(o,_r.html["import"]);}_r.theme&&I(s,_r.theme);}Object.keys(s).length>0&&(e.theme=s),t.size&&(e.nodes=[].concat(t));var d=Object.keys(o).length>0,a=i.size>0;(d||a)&&(e.html={},d&&(e.html["import"]=o),a&&(e.html["export"]=i));for(var _t14 of r)_t14.init(e);return e.onError||(e.onError=J),e;};return ee;}();function te(e,t){var n=_ee.fromEditor(e).extensionNameMap.get(t);return n?n.getExtensionDependency():void 0;}var ne=new Set(),ie=_require_Lexical.defineExtension({build:function build(t,n,i){var o=i.getDependency(D).output,s=h({watchedNodeKeys:new Map()}),r=M(function(){},function(){return b(function(){var t=r.peek(),n=s.value.watchedNodeKeys;var i,d=!1;o.value.read(function(){if(require("Lexical").$getSelection())for(var _ref11 of n.entries()){var _o3=_ref11[0];var _s2=_ref11[1];{if(0===_s2.size){n["delete"](_o3);continue;}var _r2=require("Lexical").$getNodeByKey(_o3),_a=_r2&&_r2.isSelected()||!1;d=d||_a!==(!!t&&t.has(_o3)),_a&&(i=i||new Set(),i.add(_o3));}}}),!d&&i&&t&&i.size===t.size||(r.value=i);});});return{watchNodeKey:function watchNodeKey(e){var t=E(function(){return(r.value||ne).has(e);}),_s$peek=s.peek(),n=_s$peek.watchedNodeKeys;var i=n.get(e);var o=void 0!==i;return i=i||new Set(),i.add(t),o||(n.set(e,i),s.value={watchedNodeKeys:n}),t;}};},dependencies:[D],name:"@lexical/extension/NodeSelection"}),oe=_require_Lexical.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");var _se=function(_e$DecoratorNode){function se(){return _e$DecoratorNode.apply(this,arguments)||this;}babelHelpers.inheritsLoose(se,_e$DecoratorNode);se.getType=function getType(){return"horizontalrule";};se.clone=function clone(e){return new se(e.__key);};se.importJSON=function importJSON(e){return de().updateFromJSON(e);};se.importDOM=function importDOM(){return{hr:function hr(){return{conversion:re,priority:0};}};};var _proto3=se.prototype;_proto3.exportDOM=function exportDOM(){return{element:document.createElement("hr")};};_proto3.createDOM=function createDOM(e){var n=document.createElement("hr");return require("LexicalUtils").addClassNamesToElement(n,e.theme.hr),n;};_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.isInline=function isInline(){return!1;};_proto3.updateDOM=function updateDOM(){return!1;};return se;}(_require_Lexical.DecoratorNode);function re(){return{node:de()};}function de(){return require("Lexical").$create(_se);}function ae(e){return e instanceof _se;}var ce=_require_Lexical.defineExtension({dependencies:[D,ie],name:"@lexical/extension/HorizontalRule",nodes:[_se],register:function register(n,i,s){var _n$_config$theme$hrSe;var r=s.getDependency(ie).output.watchNodeKey,d=h({nodeSelections:new Map()}),a=(_n$_config$theme$hrSe=n._config.theme.hrSelected)!=null?_n$_config$theme$hrSe:"selected";return require("LexicalUtils").mergeRegister(n.registerCommand(require("Lexical").CLICK_COMMAND,function(t){if(require("Lexical").isDOMNode(t.target)){var _n10=require("Lexical").$getNodeFromDOMNode(t.target);if(ae(_n10))return function(t,n){if(n===void 0){n=!1;}var i=require("Lexical").$getSelection(),o=t.isSelected(),s=t.getKey();var r;n&&require("Lexical").$isNodeSelection(i)?r=i:(r=require("Lexical").$createNodeSelection(),require("Lexical").$setSelection(r)),o?r["delete"](s):r.add(s);}(_n10,t.shiftKey),!0;}return!1;},require("Lexical").COMMAND_PRIORITY_LOW),n.registerMutationListener(_se,function(e,t){o(function(){var t=!1;var _d$peek=d.peek(),i=_d$peek.nodeSelections;for(var _ref13 of e.entries()){var _o4=_ref13[0];var _s3=_ref13[1];if("destroyed"===_s3)i["delete"](_o4),t=!0;else{var _e23=i.get(_o4),_s4=n.getElementByKey(_o4);_e23?_e23.domNode.value=_s4:(t=!0,i.set(_o4,{domNode:h(_s4),selectedSignal:r(_o4)}));}}t&&(d.value={nodeSelections:i});});}),b(function(){var e=[];var _loop=function _loop(){var n=_ref15.domNode;var i=_ref15.selectedSignal;e.push(b(function(){var e=n.value;if(e){i.value?require("LexicalUtils").addClassNamesToElement(e,a):require("LexicalUtils").removeClassNamesFromElement(e,a);}}));};for(var _ref15 of d.value.nodeSelections.values()){_loop();}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),e);}));}});function le(n,i){var _require_Lexical;return require("LexicalUtils").mergeRegister(n.registerCommand((_require_Lexical=require("Lexical")).KEY_TAB_COMMAND,function(i){var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;i.preventDefault();var s=function(n){var i=n.getNodes();if(require("LexicalUtils").$filter(i,function(t){return require("Lexical").$isBlockElementNode(t)&&t.canIndent()?t:null;}).length>0)return!0;var o=n.anchor,s=n.focus,r=s.isBefore(o)?s:o,d=r.getNode(),a=require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(d);if(a.canIndent()){var _t15=a.getKey();var _n11=require("Lexical").$createRangeSelection();if(_n11.anchor.set(_t15,0,"element"),_n11.focus.set(_t15,0,"element"),_n11=require("Lexical").$normalizeSelection__EXPERIMENTAL(_n11),_n11.anchor.is(r))return!0;}return!1;}(o)?i.shiftKey?require("Lexical").OUTDENT_CONTENT_COMMAND:require("Lexical").INDENT_CONTENT_COMMAND:require("Lexical").INSERT_TAB_COMMAND;return n.dispatchCommand(s,void 0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerCommand(_require_Lexical.INDENT_CONTENT_COMMAND,function(){var n="number"==typeof i?i:i?i.peek():null;if(null==n)return!1;var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;var s=o.getNodes().map(function(e){return require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(e).getIndent();});return Math.max.apply(Math,s)+1>=n;},_require_Lexical.COMMAND_PRIORITY_CRITICAL));}var ue=_require_Lexical.defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register:function register(e,t,n){var _n$getOutput2=n.getOutput(),i=_n$getOutput2.disabled,o=_n$getOutput2.maxIndent;return b(function(){if(!i.value)return le(e,o);});}});exports.configExtension=_require_Lexical.configExtension,exports.declarePeerDependency=_require_Lexical.declarePeerDependency,exports.defineExtension=_require_Lexical.defineExtension,exports.safeCast=_require_Lexical.safeCast,exports.shallowMergeConfig=_require_Lexical.shallowMergeConfig,exports.$createHorizontalRuleNode=de,exports.$isHorizontalRuleNode=ae,exports.AutoFocusExtension=w,exports.ClearEditorExtension=C,exports.EditorStateExtension=D,exports.HorizontalRuleExtension=ce,exports.HorizontalRuleNode=_se,exports.INSERT_HORIZONTAL_RULE_COMMAND=oe,exports.InitialStateExtension=Z,exports.LexicalBuilder=_ee,exports.NodeSelectionExtension=ie,exports.TabIndentationExtension=ue,exports.batch=o,exports.buildEditorFromExtensions=function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return _ee.fromExtensions(e).buildEditor();},exports.computed=E,exports.effect=b,exports.getExtensionDependencyFromEditor=function(e,t){var n=_ee.fromEditor(e).getExtensionRep(t);return void 0===n&&_("getExtensionDependencyFromEditor: Extension "+t.name+" was not built when creating this editor"),n.getExtensionDependency();},exports.getKnownTypesAndNodes=function(e){var t=new Set(),n=new Set();for(var _i4 of(_e$nodes=e.nodes)!=null?_e$nodes:[]){var _e$nodes;var _e24="function"==typeof _i4?_i4:_i4.replace;t.add(_e24.getType()),n.add(_e24);}return{nodes:n,types:t};},exports.getPeerDependencyFromEditor=te,exports.getPeerDependencyFromEditorOrThrow=function(e,t){var n=te(e,t);return void 0===n&&_("getPeerDependencyFromEditorOrThrow: Editor was not built with Extension "+t),n;},exports.namedSignals=R,exports.registerClearEditor=O,exports.registerTabIndentation=le,exports.signal=h,exports.untracked=d,exports.watchedSignal=M;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<3e6f1172f8335546252f6af2b7254906>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistory.prod",["Lexical","LexicalExtension","LexicalUtils"],(function $module_LexicalHistory_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_Lexical;function r(e,t,r,o,i){if(null===e||0===r.size&&0===o.size&&!i)return 0;var s=t._selection,a=e._selection;if(i)return 1;if(!(require("Lexical").$isRangeSelection(s)&&require("Lexical").$isRangeSelection(a)&&a.isCollapsed()&&s.isCollapsed()))return 0;var c=function(e,t,r){var o=e._nodeMap,i=[];for(var _e of t){var _t=o.get(_e);void 0!==_t&&i.push(_t);}for(var _ref2 of r){var _e2=_ref2[0];var _t2=_ref2[1];{if(!_t2)continue;var _r=o.get(_e2);void 0===_r||require("Lexical").$isRootNode(_r)||i.push(_r);}}return i;}(t,r,o);if(0===c.length)return 0;if(c.length>1){var _r2=t._nodeMap,_o=_r2.get(s.anchor.key),_i=_r2.get(a.anchor.key);return _o&&_i&&!e._nodeMap.has(_o.__key)&&require("Lexical").$isTextNode(_o)&&1===_o.__text.length&&1===s.anchor.offset?2:0;}var d=c[0],u=e._nodeMap.get(d.__key);if(!require("Lexical").$isTextNode(u)||!require("Lexical").$isTextNode(d)||u.__mode!==d.__mode)return 0;var l=u.__text,_=d.__text;if(l===_)return 0;var f=s.anchor,p=a.anchor;if(f.key!==p.key||"text"!==f.type)return 0;var h=f.offset,O=p.offset,S=_.length-l.length;return 1===S&&O===h-1?2:-1===S&&O===h+1?3:-1===S&&O===h?4:0;}function o(e,t){var o=Date.now(),i=0;return function(s,a,c,d,u,l){var _=Date.now();if(l.has(require("Lexical").HISTORIC_TAG))return i=0,o=_,2;var f=r(s,a,d,u,e.isComposing()),p=function(){var r=null===c||c.editor===e,p=l.has(require("Lexical").HISTORY_PUSH_TAG);if(!p&&r&&l.has(require("Lexical").HISTORY_MERGE_TAG))return 0;if(null===s)return 1;var h=a._selection;if(!(d.size>0||u.size>0))return null!==h?0:2;var O="number"==typeof t?t:t.peek();if(!1===p&&0!==f&&f===i&&_<o+O&&r)return 0;if(1===d.size){if(function(e,t,r){var o=t._nodeMap.get(e),i=r._nodeMap.get(e),s=t._selection,a=r._selection;return!(require("Lexical").$isRangeSelection(s)&&require("Lexical").$isRangeSelection(a)&&"element"===s.anchor.type&&"element"===s.focus.type&&"text"===a.anchor.type&&"text"===a.focus.type||!require("Lexical").$isTextNode(o)||!require("Lexical").$isTextNode(i)||o.__parent!==i.__parent)&&JSON.stringify(t.read(function(){return o.exportJSON();}))===JSON.stringify(r.read(function(){return i.exportJSON();}));}(Array.from(d)[0],s,a))return 0;}return 1;}();return o=_,i=f,p;};}function i(e){e.undoStack=[],e.redoStack=[],e.current=null;}function s(e,r,s){var _require_Lexical;var a=o(e,s),c=require("LexicalUtils").mergeRegister(e.registerCommand((_require_Lexical=require("Lexical")).UNDO_COMMAND,function(){return function(e,t){var r=t.redoStack,o=t.undoStack;if(0!==o.length){var _i2=t.current,_s=o.pop();null!==_i2&&(r.push(_i2),e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!0)),0===o.length&&e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1),t.current=_s||null,_s&&_s.editor.setEditorState(_s.editorState,{tag:require("Lexical").HISTORIC_TAG});}}(e,r),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerCommand(_require_Lexical.REDO_COMMAND,function(){return function(e,t){var r=t.redoStack,o=t.undoStack;if(0!==r.length){var _i3=t.current;null!==_i3&&(o.push(_i3),e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));var _s2=r.pop();0===r.length&&e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1),t.current=_s2||null,_s2&&_s2.editor.setEditorState(_s2.editorState,{tag:require("Lexical").HISTORIC_TAG});}}(e,r),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerCommand(_require_Lexical.CLEAR_EDITOR_COMMAND,function(){return i(r),!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerCommand(_require_Lexical.CLEAR_HISTORY_COMMAND,function(){return i(r),e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1),e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(function(_ref3){var t=_ref3.editorState,o=_ref3.prevEditorState,i=_ref3.dirtyLeaves,s=_ref3.dirtyElements,c=_ref3.tags;var d=r.current,u=r.redoStack,l=r.undoStack,_=null===d?null:d.editorState;if(null!==d&&t===_)return;var f=a(o,t,d,i,s,c);if(1===f)0!==u.length&&(r.redoStack=[],e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1)),null!==d&&(l.push(babelHelpers["extends"]({},d)),e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));else if(2===f)return;r.current={editor:e,editorState:t};}));return c;}function a(){return{current:null,redoStack:[],undoStack:[]};}var c=(_require_Lexical=require("Lexical")).defineExtension({build:function build(t,_ref4){var n=_ref4.delay,r=_ref4.createInitialHistoryState,o=_ref4.disabled;return require("LexicalExtension").namedSignals({delay:n,disabled:o,historyState:r(t)});},config:_require_Lexical.safeCast({createInitialHistoryState:a,delay:300,disabled:"undefined"==typeof window}),name:"@lexical/history/History",register:function register(t,n,r){var o=r.getOutput();return require("LexicalExtension").effect(function(){return o.disabled.value?void 0:s(t,o.historyState.value,o.delay);});}});var d=_require_Lexical.defineExtension({dependencies:[_require_Lexical.configExtension(c,{createInitialHistoryState:function createInitialHistoryState(){throw new Error("SharedHistory did not inherit parent history");},disabled:!0})],name:"@lexical/history/SharedHistory",register:function register(t,n,r){var _r$getDependency=r.getDependency(c),o=_r$getDependency.output,i=function(t){return t?require("LexicalExtension").getPeerDependencyFromEditor(t,c.name):null;}(t._parentEditor);if(!i)return function(){};var s=i.output;return require("LexicalExtension").effect(function(){return require("LexicalExtension").batch(function(){o.delay.value=s.delay.value,o.historyState.value=s.historyState.value,o.disabled.value=s.disabled.value;});});}});exports.HistoryExtension=c,exports.SharedHistoryExtension=d,exports.createEmptyHistoryState=a,exports.registerHistory=s;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<59d0b568da0d95113481c4525402e522>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHtml.prod",["Lexical","LexicalSelection","LexicalUtils"],(function $module_LexicalHtml_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function o(l,i,r,s){if(s===void 0){s=null;}var c=null===s||i.isSelected(s);var d=require("Lexical").$isElementNode(i)&&i.excludeFromCopy("html");var u=i;if(null!==s){var _t=require("Lexical").$cloneWithProperties(i);_t=require("Lexical").$isTextNode(_t)&&null!==s?require("LexicalSelection").$sliceSelectedTextNodeContent(s,_t):_t,u=_t;}var a=require("Lexical").$isElementNode(u)?u.getChildren():[],f=require("Lexical").getRegisteredNode(l,u.getType());var m;m=f&&void 0!==f.exportDOM?f.exportDOM(l,u):u.exportDOM(l);var _m=m,h=_m.element,p=_m.after;if(!h)return!1;var g=document.createDocumentFragment();for(var _e=0;_e<a.length;_e++){var _t2=a[_e],_r=o(l,_t2,g,s);!c&&require("Lexical").$isElementNode(i)&&_r&&i.extractWithChild(_t2,s,"html")&&(c=!0);}if(c&&!d){if((require("LexicalUtils").isHTMLElement(h)||require("Lexical").isDocumentFragment(h))&&h.append(g),r.append(h),p){var _e2=p.call(u,h);_e2&&(require("Lexical").isDocumentFragment(h)?h.replaceChildren(_e2):h.replaceWith(_e2));}}else r.append(g);return c;}var l=new Set(["STYLE","SCRIPT"]);function i(e,o,s,c,d,u){var _f;if(d===void 0){d=new Map();}var a=[];if(l.has(e.nodeName))return a;var f=null;var m=function(e,t){var n=e.nodeName,o=t._htmlConversions.get(n.toLowerCase());var l=null;if(void 0!==o)for(var _t3 of o){var _n=_t3(e);null!==_n&&(null===l||(l.priority||0)<=(_n.priority||0))&&(l=_n);}return null!==l?l.conversion:null;}(e,o),h=m?m(e):null;var p=null;if(null!==h){p=h.after;var _t4=h.node;if(f=Array.isArray(_t4)?_t4[_t4.length-1]:_t4,null!==f){var _a;for(var _ref2 of d){var _e3=_ref2[1];if(f=_e3(f,u),!f)break;}f&&(_a=a).push.apply(_a,Array.isArray(_t4)?_t4:[f]);}null!=h.forChild&&d.set(e.nodeName,h.forChild);}var g=e.childNodes;var N=[];var $=(null==f||!require("Lexical").$isRootOrShadowRoot(f))&&(null!=f&&require("Lexical").$isBlockElementNode(f)||c);for(var _e4=0;_e4<g.length;_e4++){var _N;(_N=N).push.apply(_N,i(g[_e4],o,s,$,new Map(d),f));}return null!=p&&(N=p(N)),require("LexicalUtils").isBlockDomNode(e)&&(N=r(e,N,$?function(){var e=new(require("Lexical").ArtificialNode__DO_NOT_USE)();return s.push(e),e;}:require("Lexical").$createParagraphNode)),null==f?N.length>0?a=a.concat(N):require("LexicalUtils").isBlockDomNode(e)&&function(e){if(null==e.nextSibling||null==e.previousSibling)return!1;return require("Lexical").isInlineDomNode(e.nextSibling)&&require("Lexical").isInlineDomNode(e.previousSibling);}(e)&&(a=a.concat(require("Lexical").$createLineBreakNode())):require("Lexical").$isElementNode(f)&&(_f=f).append.apply(_f,N),a;}function r(e,t,o){var l=e.style.textAlign,i=[];var r=[];for(var _e5=0;_e5<t.length;_e5++){var s=t[_e5];if(require("Lexical").$isBlockElementNode(s))l&&!s.getFormat()&&s.setFormat(l),i.push(s);else if(r.push(s),_e5===t.length-1||_e5<t.length-1&&require("Lexical").$isBlockElementNode(t[_e5+1])){var _e6=o();_e6.setFormat(l),_e6.append.apply(_e6,r),i.push(_e6),r=[];}}return i;}exports.$generateHtmlFromNodes=function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");var l=document.createElement("div"),i=require("Lexical").$getRoot().getChildren();for(var _n2=0;_n2<i.length;_n2++){o(e,i[_n2],l,t);}return l.innerHTML;},exports.$generateNodesFromDOM=function(e,t){var o=t.body?t.body.childNodes:[];var r=[];var s=[];for(var _t5=0;_t5<o.length;_t5++){var _n3=o[_t5];if(!l.has(_n3.nodeName)){var _t6=i(_n3,e,s,!1);null!==_t6&&(r=r.concat(_t6));}}return function(e){for(var _t7 of e)_t7.getNextSibling()instanceof require("Lexical").ArtificialNode__DO_NOT_USE&&_t7.insertAfter(require("Lexical").$createLineBreakNode());for(var _t8 of e){var _e7=_t8.getChildren();for(var _n4 of _e7)_t8.insertBefore(_n4);_t8.remove();}}(s),r;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<aa4a6059c3cdec228423e12dd943a882>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainText.prod",["Lexical","LexicalClipboard","LexicalDragon","LexicalSelection","LexicalUtils"],(function $module_LexicalPlainText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=o&&"documentMode"in document?document.documentMode:null,s=!(!o||!("InputEvent"in window)||a)&&"getTargetRanges"in new window.InputEvent("input"),l=o&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=o&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,R=o&&/^(?=.*Chrome).*/i.test(navigator.userAgent),D=o&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!R;function O(t,n){n.update(function(){if(null!==t){var _o=require("LexicalUtils").objectKlassEquals(t,KeyboardEvent)?null:t.clipboardData,_a=require("Lexical").$getSelection();if(null!==_a&&null!=_o){t.preventDefault();var _i=require("LexicalClipboard").$getHtmlContent(n);null!==_i&&_o.setData("text/html",_i),_o.setData("text/plain",_a.getTextContent());}}});}function C(t){var _require_Lexical;return require("LexicalUtils").mergeRegister(t.registerCommand((_require_Lexical=require("Lexical")).DELETE_CHARACTER_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteCharacter(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DELETE_WORD_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteWord(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DELETE_LINE_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteLine(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.CONTROLLED_TEXT_INSERTION_COMMAND,function(t){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return!1;if("string"==typeof t)n.insertText(t);else{var _i2=t.dataTransfer;if(null!=_i2)require("LexicalClipboard").$insertDataTransferForPlainText(_i2,n);else{var _e=t.data;_e&&n.insertText(_e);}}return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.REMOVE_TEXT_COMMAND,function(){var e=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(e)&&(e.removeText(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.INSERT_LINE_BREAK_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.insertLineBreak(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.INSERT_PARAGRAPH_COMMAND,function(){var e=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(e)&&(e.insertLineBreak(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_ARROW_LEFT_COMMAND,function(e){var t=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(t))return!1;var i=e,o=i.shiftKey;return!!require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(t,!0)&&(i.preventDefault(),require("LexicalSelection").$moveCharacter(t,o,!0),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_ARROW_RIGHT_COMMAND,function(e){var t=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(t))return!1;var i=e,o=i.shiftKey;return!!require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(t,!1)&&(i.preventDefault(),require("LexicalSelection").$moveCharacter(t,o,!1),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_BACKSPACE_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(!c||"ko-KR"!==navigator.language)&&(e.preventDefault(),t.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!0));},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_DELETE_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(e.preventDefault(),t.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!1));},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_ENTER_COMMAND,function(e){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return!1;if(null!==e){if((c||l||D)&&s)return!1;e.preventDefault();}return t.dispatchCommand(require("Lexical").INSERT_LINE_BREAK_COMMAND,!1);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.SELECT_ALL_COMMAND,function(){return require("Lexical").$selectAll(),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.COPY_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(O(e,t),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.CUT_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(function(e,t){O(e,t),t.update(function(){var e=require("Lexical").$getSelection();require("Lexical").$isRangeSelection(e)&&e.removeText();});}(e,t),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.PASTE_COMMAND,function(n){var o=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(o)&&(function(t,n){t.preventDefault(),n.update(function(){var n=require("Lexical").$getSelection(),o=require("LexicalUtils").objectKlassEquals(t,ClipboardEvent)?t.clipboardData:null;null!=o&&require("Lexical").$isRangeSelection(n)&&require("LexicalClipboard").$insertDataTransferForPlainText(o,n);},{tag:require("Lexical").PASTE_TAG});}(n,t),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DROP_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(e.preventDefault(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DRAGSTART_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(e.preventDefault(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR));}var M=require("Lexical").defineExtension({conflictsWith:["LexicalRichText"],dependencies:[require("LexicalDragon").DragonExtension],name:"LexicalPlainText",register:C});exports.PlainTextExtension=M,exports.registerPlainText=C;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<053a5941068424ecbe5402a89ba938cf>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalReactProviderExtension.prod",["Lexical"],(function $module_LexicalReactProviderExtension_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var e=require("Lexical").defineExtension({name:"@lexical/react/ReactProvider"});exports.ReactProviderExtension=e;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<7dcdb223bf348832203cf99dbbd5db05>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalText.prod",["Lexical"],(function $module_LexicalText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function e(){return require("Lexical").$getRoot().getTextContent();}function n(t,n){if(n===void 0){n=!0;}if(t)return!1;var r=e();return n&&(r=r.trim()),""===r;}function r(e){if(!n(e,!1))return!1;var r=require("Lexical").$getRoot().getChildren(),o=r.length;if(o>1)return!1;for(var _e=0;_e<o;_e++){var _n=r[_e];if(require("Lexical").$isDecoratorNode(_n))return!1;if(require("Lexical").$isElementNode(_n)){if(!require("Lexical").$isParagraphNode(_n))return!1;if(0!==_n.__indent)return!1;var _r=_n.getChildren(),_o=_r.length;for(var _n2=0;_n2<_o;_n2++){var _n3=_r[_e];if(!require("Lexical").$isTextNode(_n3))return!1;}}}return!0;}function o(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t of e)r.append("v",_t);throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}exports.$canShowPlaceholder=r,exports.$canShowPlaceholderCurry=function(t){return function(){return r(t);};},exports.$findTextIntersectionFromCharacters=function(e,n){var r=e.getFirstChild(),o=0;t:for(;null!==r;){if(require("Lexical").$isElementNode(r)){var _t2=r.getFirstChild();if(null!==_t2){r=_t2;continue;}}else if(require("Lexical").$isTextNode(r)){var _t3=r.getTextContentSize();if(o+_t3>n)return{node:r,offset:n-o};o+=_t3;}var _e2=r.getNextSibling();if(null!==_e2){r=_e2;continue;}var i=r.getParent();for(;null!==i;){var _t4=i.getNextSibling();if(null!==_t4){r=_t4;continue t;}i=i.getParent();}break;}return null;},exports.$isRootTextContentEmpty=n,exports.$isRootTextContentEmptyCurry=function(t,e){return function(){return n(t,e);};},exports.$rootTextContent=e,exports.registerLexicalTextEntity=function(e,n,r,i){var s=function s(t){return t instanceof r;},l=function l(e){var n=require("Lexical").$createTextNode(e.getTextContent());n.setFormat(e.getFormat()),e.replace(n);};return[e.registerNodeTransform(require("Lexical").TextNode,function(e){if(!e.isSimpleText())return;var r,u=e.getPreviousSibling(),c=e.getTextContent(),f=e;if(require("Lexical").$isTextNode(u)){var _t5=u.getTextContent(),_r2=n(_t5+c);if(s(u)){if(null===_r2||0!==function(t){return t.getLatest().__mode;}(u))return void l(u);{var _n4=_r2.end-_t5.length;if(_n4>0){var _r3=_t5+c.slice(0,_n4);if(u.select(),u.setTextContent(_r3),_n4===c.length)e.remove();else{var _t6=c.slice(_n4);e.setTextContent(_t6);}return;}}}else if(null===_r2||_r2.start<_t5.length)return;}var d=0;for(;;){var _f$splitText,_f$splitText2;r=n(c);var _e3=void 0,a=null===r?"":c.slice(r.end);if(c=a,""===a){var _e4=f.getNextSibling();if(require("Lexical").$isTextNode(_e4)){a=f.getTextContent()+_e4.getTextContent();var _t7=n(a);if(null===_t7)return void(s(_e4)?l(_e4):_e4.markDirty());if(0!==_t7.start)return;}}if(null===r)return;if(0===r.start&&require("Lexical").$isTextNode(u)&&u.isTextEntity()){d+=r.end;continue;}0===r.start?(_f$splitText=f.splitText(r.end),_e3=_f$splitText[0],f=_f$splitText[1],_f$splitText):(_f$splitText2=f.splitText(r.start+d,r.end+d),_e3=_f$splitText2[1],f=_f$splitText2[2],_f$splitText2),void 0===_e3&&o(165,"nodeToReplace");var x=i(_e3);if(x.setFormat(_e3.getFormat()),_e3.replace(x),null==f)return;d=0,u=x;}}),e.registerNodeTransform(r,function(e){var r=e.getTextContent(),o=n(r);if(null===o||0!==o.start)return void l(e);if(r.length>o.end)return void e.splitText(o.end);var i=e.getPreviousSibling();require("Lexical").$isTextNode(i)&&i.isTextEntity()&&(l(i),l(e));var u=e.getNextSibling();require("Lexical").$isTextNode(u)&&u.isTextEntity()&&(l(u),s(e)&&l(e));})];};}),null);/*FB_PKG_DELIM*/
__d("BaseThemeConfigContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={darkClassName:null,darkVariables:{},lightClassName:null,lightVariables:{}};c=a.createContext(b);g["default"]=c}),98);
__d("BaseThemeDisplayModeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useCurrentDisplayMode",["BaseThemeDisplayModeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j="light";function a(){var a;return(a=i(c("BaseThemeDisplayModeContext")))!=null?a:j}g["default"]=a}),98);
__d("BaseThemeProvider.react",["BaseThemeConfigContext","BaseThemeDisplayModeContext","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo;function a(a){var b=a.children,d=a.config;a=a.displayMode;var e=j(c("BaseThemeConfigContext")),f=c("useCurrentDisplayMode")(),g=a!=null?a:f;a=k(function(){var a;d!=null&&d.type==="CLASSNAMES"?a=g==="dark"?d.dark:d.light:a=g==="dark"?e.darkClassName:e.lightClassName;return a!=null?{$$css:!0,theme:a}:null},[d,e.darkClassName,e.lightClassName,g]);f=a;a=k(function(){if(d!=null)if(d.type==="VARIABLES")return babelHelpers["extends"]({},e,{darkVariables:babelHelpers["extends"]({},e.darkVariables,d.dark),lightVariables:babelHelpers["extends"]({},e.lightVariables,d.light)});else if(d.type==="CLASSNAMES")return babelHelpers["extends"]({},e,{darkClassName:d.dark,lightClassName:d.light});return e},[d,e]);var h=l(g==="dark"?a.darkVariables:a.lightVariables);return i.jsx(c("BaseThemeConfigContext").Provider,{value:a,children:i.jsx(c("BaseThemeDisplayModeContext").Provider,{value:g,children:b(f,h)})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b={};Object.keys(a).forEach(function(c){b["--"+c]=a[c]});return b}g["default"]=a}),98);
__d("CometThemeInfraBaseThemeContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({auto:null,dark:null,light:null});g["default"]=b}),98);
__d("IntlCLDRNumberType05",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a===1)return c("IntlVariations").NUMBER_ONE;else return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("WADynamicRouterAsync",["Promise","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={sentinel:"RESPONSE_NAMESPACE"},k={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$2=(i||(i=b("Promise"))).resolve();this.$3=new Map();this.$5=0;this.$6=null;this.$7=null;this.$8=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$4==null||a.$4(b,c,d),a.$10(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$4==null||a.$4(c,d,e);return new(i||(i=b("Promise")))(function(b,g){a.$10(c,d,e,function(c){try{var d=n(c);d?d.call(c,function(c){a.$10(j,"",c,b,f)},function(b){a.$10(j,"",b,g,!1)}):a.$10(j,"",c,b,f)}catch(b){a.$10(j,"",b,g,!1)}},f)})};this.$9=function(){var b=a.$7;if(!b)return;var c=a.$3,d;while(b&&!(d=l(c,b)))a.$7=b=b.nextRoute;if(!b||!d)return;c=a.$11(d,b);var e=!0;if(c!==k){var f=b.prevRoute,g=b.nextRoute;a.$7===b&&(a.$7=g);f?f.nextRoute=g:a.$6=g;g?g.prevRoute=f:(e=!1,a.$8=f)}e&&a.$2.then(a.$9)["finally"](function(){});return c}}var e=a.prototype;e.setAckPayload=function(a){this.$1=a};e.getAckPayoad=function(){return this.$1};e.hasHandlerForNamespace=function(a){return this.$3.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$3.keys())};e.setOnRouteCalled=function(a){this.$4=a};e.setNamespaceHandler=function(a,b){var c=this.$3,d=c.get(a);if(d===b)return;++this.$5;c.set(a,b);if(!d){c=this.$6;c&&(this.$7||this.$2.then(this.$9)["finally"](function(){}),this.$7=c)}};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""])),e,a);throw c("err")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};e.$10=function(a,b,c,d,e){var f=this.$8;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$8=a;b=!0;f?(f.nextRoute=a,b=!this.$7):this.$6=a;b&&l(this.$3,a)&&(this.$7=a,this.$2.then(this.$9)["finally"](function(){}))};e.$11=function(a,d){var e=d.route,f=d.arg,g=d.resolver;d=d.silentLog;var h=this.$5,j=null,l=null;try{j=a(e,f,g,d)}catch(a){l=(i||(i=b("Promise"))).reject(a)}if(j===k)if(h===this.$5)l=(i||(i=b("Promise"))).reject(c("err")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return k;if(g){l&&g(l);return}else return l};return a}();function l(a,b){b=b.namespace;return b===j?m:a.get(b)}function m(a,b,c){c(b)}function n(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}g.NOT_HANDLED=k;g.DynamicRouter=a}),98);
__d("WAWebRegistration",["Promise","WALogger","WAWebCryptoCurve25519","WAWebCryptoLibraryUtilsApi","WAWebSignalKeyApi","WAWebSignalStoreApi","WAWebUserPrefsInfoStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebCryptoCurve25519").keyPair()),c=new Uint8Array(24);self.crypto.getRandomValues(c);return(i||(i=b("Promise"))).resolve(d("WAWebUserPrefsInfoStore").waNoiseInfo.set({recoveryToken:c.buffer,staticKeyPair:a,certificateChainBuffer:void 0}))});return j.apply(this,arguments)}function k(){return c("WAWebCryptoLibraryUtilsApi").makeRegistrationId()}function e(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=k();yield d("WAWebSignalStoreApi").waSignalStore.clearCredential();var c=(yield d("WAWebSignalKeyApi").generateIdentityKeyPair());try{yield (i||(i=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.setRegistrationInfo({registrationId:a,identityKeyPair:c}),d("WAWebSignalStoreApi").waSignalStore.rotateSignedPreKey(d("WAWebCryptoCurve25519").toSignalCurveKeyPair(c),d("WAWebSignalKeyApi").generateSignedKeyPair)])}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["failed to refreshSignalCredentials: ",""])),a);throw a}});return l.apply(this,arguments)}g.refreshNoiseCredentials=a;g.refreshSignalCredentials=e}),98);
__d("WDSThemes",[],(function(a,b,c,d,e,f,g){"use strict";var h="@media (prefers-color-scheme: dark)";a={blackAlpha05:"rgba(0, 0, 0, 0.05)",blackAlpha10:"rgba(0, 0, 0, 0.1)",blackAlpha20:"rgba(0, 0, 0, 0.2)",blackAlpha30:"rgba(0, 0, 0, 0.3)",blackAlpha40:"rgba(0, 0, 0, 0.4)",blackAlpha50:"rgba(0, 0, 0, 0.5)",blackAlpha60:"rgba(0, 0, 0, 0.6)",blackAlpha70:"rgba(0, 0, 0, 0.7)",blackAlpha80:"rgba(0, 0, 0, 0.8)",blackAlpha90:"rgba(0, 0, 0, 0.9)",blackOpaque:"#000000",brown100:"#F4DED1",brown200:"#E5C6B2",brown300:"#DBA685",brown400:"#C0835D",brown50:"#FEF9F6",brown500:"#9E6947",brown600:"#855538",brown700:"#5B3C29",brown75:"#FCEDE3",brown800:"#35271E",cobalt100:"#D2E8FE",cobalt200:"#99CAFE",cobalt300:"#53A6FD",cobalt400:"#007BFC",cobalt50:"#F2F8FF",cobalt500:"#0063CB",cobalt600:"#0451A3",cobalt700:"#073D76",cobalt75:"#E1F0FF",cobalt800:"#092642",cream100:"#EFE9E0",cream150:"#EAE0D3",cream200:"#E5DBCD",cream300:"#D4C3AB",cream400:"#C1A886",cream50:"#FAF8F5",cream500:"#9F8465",cream600:"#7B654C",cream700:"#504334",cream75:"#F5F1EB",cream800:"#2C2720",emerald100:"#D5FDED",emerald200:"#B2F5DA",emerald300:"#7AE3C3",emerald400:"#06CF9C",emerald50:"#F0FFF9",emerald500:"#00A884",emerald600:"#008069",emerald700:"#125C4E",emerald75:"#E1FEF2",emerald800:"#0A332C",green100:"#D9FDD3",green200:"#ACFCAC",green300:"#71EB85",green400:"#25D366",green450:"#21C063",green50:"#F2FDF0",green500:"#1DAA61",green500Alpha30:"rgba(29, 170, 97, 0.3)",green500Alpha60:"rgba(29, 170, 97, 0.6)",green600:"#1B8755",green700:"#15603E",green75:"#E7FCE3",green750:"#144D37",green800:"#103529",neutralGray100:"#EEEEEE",neutralGray1000:"#0A0A0A",neutralGray200:"#D8D8D8",neutralGray300:"#BDBDBD",neutralGray400:"#959393",neutralGray450:"#858586",neutralGray50:"#FAFAFA",neutralGray500:"#757778",neutralGray550:"#6A6C6C",neutralGray600:"#606263",neutralGray700:"#424445",neutralGray75:"#F4F4F4",neutralGray800:"#242626",neutralGray850:"#1D1F1F",neutralGray900:"#161717",orange100:"#FEE2D8",orange200:"#FDC1AD",orange300:"#FC9775",orange400:"#FA6533",orange50:"#FFF7F5",orange500:"#C4532D",orange600:"#9A4529",orange700:"#6B3424",orange75:"#FFEBE6",orange800:"#35221E",pink100:"#FFDAE7",pink200:"#FFABC7",pink300:"#FF72A1",pink400:"#FF2E74",pink50:"#FFF5F8",pink500:"#D42A66",pink600:"#A32553",pink700:"#6D1E3E",pink75:"#FFEBF1",pink800:"#36192A",purple100:"#E8E0FF",purple200:"#D1C4FF",purple300:"#A791FF",purple400:"#7F66FF",purple50:"#F7F5FF",purple500:"#5E47DE",purple600:"#4837AF",purple700:"#3A327B",purple75:"#EFEBFF",purple800:"#242447",red100:"#FBD8DC",red200:"#FA99A4",red300:"#FB5061",red400:"#EA0038",red400Alpha30:"rgba(234, 0, 56, 0.3)",red50:"#FEEFF2",red500:"#B80531",red600:"#911435",red700:"#61182E",red75:"#FDE8EB",red800:"#321622",skyBlue100:"#CAECFA",skyBlue200:"#93D7F5",skyBlue300:"#53BDEB",skyBlue400:"#009DE2",skyBlue50:"#F2FAFE",skyBlue500:"#027EB5",skyBlue600:"#046692",skyBlue700:"#074B6A",skyBlue75:"#DEF3FC",skyBlue800:"#092C3D",teal100:"#CBF2EE",teal200:"#95DBD4",teal300:"#42C7B8",teal400:"#02A698",teal50:"#EDFAFA",teal500:"#028377",teal600:"#046A62",teal700:"#074D4A",teal75:"#DFF6F5",teal800:"#092D2F",transparent:"transparent",warmGray100:"#F1EEEB",warmGray1000:"#0B0A0A",warmGray200:"#DBD8D4",warmGray300:"#C2BDB8",warmGray300Alpha15:"rgba(194, 189, 184, 0.15)",warmGray400:"#9F9891",warmGray50:"#FBFAF9",warmGray500:"#7C7771",warmGray600:"#66625D",warmGray700:"#474440",warmGray75:"#F7F5F3",warmGray800:"#262524",warmGray900:"#171616",whiteAlpha05:"rgba(255, 255, 255, 0.05)",whiteAlpha10:"rgba(255, 255, 255, 0.1)",whiteAlpha20:"rgba(255, 255, 255, 0.2)",whiteAlpha30:"rgba(255, 255, 255, 0.3)",whiteAlpha40:"rgba(255, 255, 255, 0.4)",whiteAlpha50:"rgba(255, 255, 255, 0.5)",whiteAlpha60:"rgba(255, 255, 255, 0.6)",whiteAlpha70:"rgba(255, 255, 255, 0.7)",whiteAlpha80:"rgba(255, 255, 255, 0.8)",whiteAlpha90:"rgba(255, 255, 255, 0.9)",whiteOpaque:"#FFFFFF",yellow100:"#FFF0D4",yellow200:"#FFE4AF",yellow300:"#FFD279",yellow400:"#FFB938",yellow50:"#FFFCF5",yellow500:"#C58730",yellow600:"#9D6C2C",yellow700:"#6D4E26",yellow75:"#FFF7E5",yellow800:"#362C1F"};b={black:"0, 0, 0",brown100:"244, 222, 209",brown200:"229, 198, 178",brown300:"219, 166, 133",brown400:"192, 131, 93",brown50:"254, 249, 246",brown500:"158, 105, 71",brown600:"133, 85, 56",brown700:"91, 60, 41",brown75:"252, 237, 227",brown800:"53, 39, 30",cobalt100:"210, 232, 254",cobalt200:"153, 202, 254",cobalt300:"83, 166, 253",cobalt400:"0, 123, 252",cobalt50:"242, 248, 255",cobalt500:"0, 99, 203",cobalt600:"4, 81, 163",cobalt700:"7, 61, 118",cobalt75:"225, 240, 255",cobalt800:"9, 38, 66",cream100:"239, 233, 224",cream150:"234, 224, 211",cream200:"229, 219, 205",cream300:"212, 195, 171",cream400:"193, 168, 134",cream50:"250, 248, 245",cream500:"159, 132, 101",cream600:"123, 101, 76",cream700:"80, 67, 52",cream75:"245, 241, 235",cream800:"44, 39, 32",emerald100:"213, 253, 237",emerald200:"178, 245, 218",emerald300:"122, 227, 195",emerald400:"6, 207, 156",emerald50:"240, 255, 249",emerald500:"0, 168, 132",emerald600:"0, 128, 105",emerald700:"18, 92, 78",emerald75:"225, 254, 242",emerald800:"10, 51, 44",green100:"217, 253, 211",green200:"172, 252, 172",green300:"113, 235, 133",green400:"37, 211, 102",green450:"33, 192, 99",green50:"242, 253, 240",green500:"29, 170, 97",green600:"27, 135, 85",green700:"21, 96, 62",green75:"231, 252, 227",green750:"20, 77, 55",green800:"16, 53, 41",neutralGray100:"238, 238, 238",neutralGray1000:"10, 10, 10",neutralGray200:"216, 216, 216",neutralGray300:"189, 189, 189",neutralGray400:"149, 147, 147",neutralGray450:"133, 133, 134",neutralGray50:"250, 250, 250",neutralGray500:"117, 119, 120",neutralGray550:"106, 108, 108",neutralGray600:"96, 98, 99",neutralGray700:"66, 68, 69",neutralGray75:"244, 244, 244",neutralGray800:"36, 38, 38",neutralGray850:"29, 31, 31",neutralGray900:"22, 23, 23",orange100:"254, 226, 216",orange200:"253, 193, 173",orange300:"252, 151, 117",orange400:"250, 101, 51",orange50:"255, 247, 245",orange500:"196, 83, 45",orange600:"154, 69, 41",orange700:"107, 52, 36",orange75:"255, 235, 230",orange800:"53, 34, 30",pink100:"255, 218, 231",pink200:"255, 171, 199",pink300:"255, 114, 161",pink400:"255, 46, 116",pink50:"255, 245, 248",pink500:"212, 42, 102",pink600:"163, 37, 83",pink700:"109, 30, 62",pink75:"255, 235, 241",pink800:"54, 25, 42",purple100:"232, 224, 255",purple200:"209, 196, 255",purple300:"167, 145, 255",purple400:"127, 102, 255",purple50:"247, 245, 255",purple500:"94, 71, 222",purple600:"72, 55, 175",purple700:"58, 50, 123",purple75:"239, 235, 255",purple800:"36, 36, 71",red100:"251, 216, 220",red200:"250, 153, 164",red300:"251, 80, 97",red400:"234, 0, 56",red50:"254, 239, 242",red500:"184, 5, 49",red600:"145, 20, 53",red700:"97, 24, 46",red75:"253, 232, 235",red800:"50, 22, 34",skyBlue100:"202, 236, 250",skyBlue200:"147, 215, 245",skyBlue300:"83, 189, 235",skyBlue400:"0, 157, 226",skyBlue50:"242, 250, 254",skyBlue500:"2, 126, 181",skyBlue600:"4, 102, 146",skyBlue700:"7, 75, 106",skyBlue75:"222, 243, 252",skyBlue800:"9, 44, 61",teal100:"203, 242, 238",teal200:"149, 219, 212",teal300:"66, 199, 184",teal400:"2, 166, 152",teal50:"237, 250, 250",teal500:"2, 131, 119",teal600:"4, 106, 98",teal700:"7, 77, 74",teal75:"223, 246, 245",teal800:"9, 45, 47",warmGray100:"241, 238, 235",warmGray1000:"11, 10, 10",warmGray200:"219, 216, 212",warmGray300:"194, 189, 184",warmGray400:"159, 152, 145",warmGray50:"251, 250, 249",warmGray500:"124, 119, 113",warmGray600:"102, 98, 93",warmGray700:"71, 68, 64",warmGray75:"247, 245, 243",warmGray800:"38, 37, 36",warmGray900:"23, 22, 22",white:"255, 255, 255",yellow100:"255, 240, 212",yellow200:"255, 228, 175",yellow300:"255, 210, 121",yellow400:"255, 185, 56",yellow50:"255, 252, 245",yellow500:"197, 135, 48",yellow600:"157, 108, 44",yellow700:"109, 78, 38",yellow75:"255, 247, 229",yellow800:"54, 44, 31"};e={spacingQuarter:(c={},c[h]="2px",c["default"]="2px",c),spacingHalf:(d={},d[h]="4px",d["default"]="4px",d),spacingSingle:(e={},e[h]="8px",e["default"]="8px",e),spacingSinglePlus:(f={},f[h]="12px",f["default"]="12px",f),spacingDouble:(c={},c[h]="16px",c["default"]="16px",c),spacingDoublePlus:(d={},d[h]="20px",d["default"]="20px",d),spacingTriple:(e={},e[h]="24px",e["default"]="24px",e),spacingTriplePlus:(f={},f[h]="28px",f["default"]="28px",f),spacingQuad:(c={},c[h]="32px",c["default"]="32px",c),spacingQuint:(d={},d[h]="40px",d["default"]="40px",d)};f={borderRadiusCircle:(f={},f[h]="9999px",f["default"]="9999px",f),borderRadiusTriplePlus:(c={},c[h]="28px",c["default"]="28px",c),borderRadiusTriple:(d={},d[h]="24px",d["default"]="24px",d),borderRadiusDouble:(f={},f[h]="16px",f["default"]="16px",f),borderRadiusSinglePlus:(c={},c[h]="12px",c["default"]="12px",c),borderRadiusSingle:(d={},d[h]="8px",d["default"]="8px",d),borderRadiusHalfPlus:(f={},f[h]="6px",f["default"]="6px",f),borderRadiusHalf:(c={},c[h]="4px",c["default"]="4px",c),borderRadiusNone:(d={},d[h]="0px",d["default"]="0px",d)};c=babelHelpers["extends"]({},e,f,{"--WDS-accent":(c={},c[h]=a.green450,c["default"]=a.green500,c),"--WDS-accent-deemphasized":(d={},d[h]=a.green800,d["default"]=a.green100,d),"--WDS-accent-deemphasized-RGB":(e={},e[h]=b.green800,e["default"]=b.green100,e),"--WDS-accent-emphasized":(f={},f[h]=a.green100,f["default"]=a.green700,f),"--WDS-accent-emphasized-RGB":(c={},c[h]=b.green100,c["default"]=b.green700,c),"--WDS-accent-RGB":(d={},d[h]=b.green450,d["default"]=b.green500,d),"--WDS-background-dimmer":(e={},e[h]="rgb(0, 0, 0, 0.32)",e["default"]="rgb(0, 0, 0, 0.32)",e),"--WDS-background-dimmer-RGB":(f={},f[h]=a.green450,f["default"]=a.green500,f),"--WDS-background-elevated-wash-inset":(c={},c[h]=a.neutralGray850,c["default"]=a.warmGray75,c),"--WDS-background-elevated-wash-inset-RGB":(d={},d[h]=b.neutralGray850,d["default"]=b.warmGray75,d),"--WDS-background-elevated-wash-plain":(e={},e[h]=a.neutralGray850,e["default"]=a.whiteOpaque,e),"--WDS-background-elevated-wash-plain-RGB":(f={},f[h]=b.neutralGray850,f["default"]=b.white,f),"--WDS-background-wash-inset":(c={},c[h]=a.neutralGray900,c["default"]=a.warmGray75,c),"--WDS-background-wash-inset-RGB":(d={},d[h]=b.neutralGray900,d["default"]=b.warmGray75,d),"--WDS-background-wash-plain":(e={},e[h]=a.neutralGray900,e["default"]=a.whiteOpaque,e),"--WDS-background-wash-plain-RGB":(f={},f[h]=b.neutralGray900,f["default"]=b.white,f),"--WDS-components-active-list-row":(c={},c[h]=a.whiteAlpha10,c["default"]=a.warmGray300Alpha15,c),"--WDS-components-active-list-row-RGB":(d={},d[h]=b.white,d["default"]=b.warmGray300,d),"--WDS-components-filter-surface-selected":(e={},e[h]=a.green800,e["default"]=a.green100,e),"--WDS-components-filter-surface-selected-RGB":(f={},f[h]=b.green800,f["default"]=b.green100,f),"--WDS-components-outline-profile-photo":(c={},c[h]=a.whiteAlpha10,c["default"]=a.blackAlpha10,c),"--WDS-components-outline-profile-photo-RGB":(d={},d[h]=b.white,d["default"]=b.black,d),"--WDS-components-platform-gesture-bar":(e={},e[h]=a.whiteAlpha60,e["default"]=a.blackAlpha50,e),"--WDS-components-platform-gesture-bar-RGB":(f={},f[h]=b.white,f["default"]=b.black,f),"--WDS-components-platform-status-bar":(c={},c[h]=a.whiteOpaque,c["default"]=a.blackAlpha80,c),"--WDS-components-platform-status-bar-RGB":(d={},d[h]=b.white,d["default"]=b.black,d),"--WDS-components-surface-nav-bar":(e={},e[h]=a.neutralGray850,e["default"]=a.warmGray75,e),"--WDS-components-surface-nav-bar-RGB":(f={},f[h]=b.neutralGray850,f["default"]=b.warmGray75,f),"--WDS-content-action-default":(c={},c[h]=a.neutralGray50,c["default"]=a.neutralGray1000,c),"--WDS-content-action-default-RGB":(d={},d[h]=b.neutralGray50,d["default"]=b.neutralGray1000,d),"--WDS-content-action-emphasized":(e={},e[h]=a.green450,e["default"]=a.green600,e),"--WDS-content-action-emphasized-RGB":(f={},f[h]=b.green450,f["default"]=b.green600,f),"--WDS-content-deemphasized":(c={},c[h]=a.whiteAlpha60,c["default"]=a.blackAlpha60,c),"--WDS-content-deemphasized-RGB":(d={},d[h]=b.white,d["default"]=b.black,d),"--WDS-content-default":(e={},e[h]=a.neutralGray50,e["default"]=a.neutralGray1000,e),"--WDS-content-default-RGB":(f={},f[h]=b.neutralGray50,f["default"]=b.neutralGray1000,f),"--WDS-content-disabled":(c={},c[h]=a.neutralGray700,c["default"]=a.neutralGray300,c),"--WDS-content-disabled-RGB":(d={},d[h]=b.neutralGray700,d["default"]=b.neutralGray300,d),"--WDS-content-external-link":(e={},e[h]=a.green450,e["default"]=a.green600,e),"--WDS-content-external-link-RGB":(f={},f[h]=b.green450,f["default"]=b.green600,f),"--WDS-content-inverse":(c={},c[h]=a.neutralGray1000,c["default"]=a.whiteOpaque,c),"--WDS-content-inverse-RGB":(d={},d[h]=b.neutralGray1000,d["default"]=b.white,d),"--WDS-content-on-accent":(e={},e[h]=a.neutralGray1000,e["default"]=a.whiteOpaque,e),"--WDS-content-on-accent-RGB":(f={},f[h]=b.neutralGray1000,f["default"]=b.white,f),"--WDS-content-read":(c={},c[h]=a.skyBlue300,c["default"]=a.cobalt400,c),"--WDS-content-read-RGB":(d={},d[h]=b.skyBlue300,d["default"]=b.cobalt400,d),"--WDS-lines-divider":(e={},e[h]=a.whiteAlpha10,e["default"]=a.blackAlpha10,e),"--WDS-lines-divider-RGB":(f={},f[h]=b.white,f["default"]=b.black,f),"--WDS-lines-outline-deemphasized":(c={},c[h]=a.whiteAlpha10,c["default"]=a.blackAlpha20,c),"--WDS-lines-outline-deemphasized-RGB":(d={},d[h]=b.white,d["default"]=b.black,d),"--WDS-lines-outline-default":(e={},e[h]=a.neutralGray500,e["default"]=a.neutralGray400,e),"--WDS-lines-outline-default-RGB":(f={},f[h]=b.neutralGray500,f["default"]=b.neutralGray400,f),"--WDS-persistent-activity-indicator":(c={},c[h]=a.green400,c["default"]=a.green400,c),"--WDS-persistent-activity-indicator-RGB":(d={},d[h]=b.green400,d["default"]=b.green400,d),"--WDS-persistent-always-black":(e={},e[h]=a.neutralGray1000,e["default"]=a.neutralGray1000,e),"--WDS-persistent-always-black-RGB":(f={},f[h]=b.neutralGray1000,f["default"]=b.neutralGray1000,f),"--WDS-persistent-always-branded":(c={},c[h]=a.green450,c["default"]=a.green500,c),"--WDS-persistent-always-branded-RGB":(d={},d[h]=b.green450,d["default"]=b.green500,d),"--WDS-persistent-always-white":(e={},e[h]=a.whiteOpaque,e["default"]=a.whiteOpaque,e),"--WDS-persistent-always-white-RGB":(f={},f[h]=b.white,f["default"]=b.white,f),"--WDS-secondary-negative":(c={},c[h]=a.red300,c["default"]=a.red400,c),"--WDS-secondary-negative-deemphasized":(d={},d[h]=a.red800,d["default"]=a.red75,d),"--WDS-secondary-negative-deemphasized-RGB":(e={},e[h]=b.red800,e["default"]=b.red75,e),"--WDS-secondary-negative-emphasized":(f={},f[h]=a.red200,f["default"]=a.red500,f),"--WDS-secondary-negative-emphasized-RGB":(c={},c[h]=b.red200,c["default"]=b.red500,c),"--WDS-secondary-negative-RGB":(d={},d[h]=b.red300,d["default"]=b.red400,d),"--WDS-secondary-positive":(e={},e[h]=a.green300,e["default"]=a.green500,e),"--WDS-secondary-positive-deemphasized":(f={},f[h]=a.green800,f["default"]=a.green75,f),"--WDS-secondary-positive-deemphasized-RGB":(c={},c[h]=b.green800,c["default"]=b.green75,c),"--WDS-secondary-positive-RGB":(d={},d[h]=b.green300,d["default"]=b.green500,d),"--WDS-secondary-warning":(e={},e[h]=a.yellow300,e["default"]=a.yellow400,e),"--WDS-secondary-warning-deemphasized":(f={},f[h]=a.yellow800,f["default"]=a.yellow75,f),"--WDS-secondary-warning-deemphasized-RGB":(c={},c[h]=b.yellow800,c["default"]=b.yellow75,c),"--WDS-secondary-warning-RGB":(d={},d[h]=b.yellow300,d["default"]=b.yellow400,d),"--WDS-surface-default":(e={},e[h]=a.neutralGray900,e["default"]=a.whiteOpaque,e),"--WDS-surface-default-RGB":(f={},f[h]=b.neutralGray900,f["default"]=b.white,f),"--WDS-surface-elevated-default":(c={},c[h]=a.neutralGray850,c["default"]=a.whiteOpaque,c),"--WDS-surface-elevated-default-RGB":(d={},d[h]=b.neutralGray850,d["default"]=b.white,d),"--WDS-surface-elevated-emphasized":(e={},e[h]=a.neutralGray800,e["default"]=a.warmGray75,e),"--WDS-surface-elevated-emphasized-RGB":(f={},f[h]=b.neutralGray800,f["default"]=b.warmGray75,f),"--WDS-surface-emphasized":(c={},c[h]=a.neutralGray850,c["default"]=a.warmGray75,c),"--WDS-surface-emphasized-RGB":(d={},d[h]=b.neutralGray850,d["default"]=b.warmGray75,d),"--WDS-surface-highlight":(e={},e[h]=a.whiteAlpha10,e["default"]=a.warmGray300Alpha15,e),"--WDS-surface-highlight-RGB":(f={},f[h]=b.white,f["default"]=b.warmGray300,f),"--WDS-surface-inverse":(c={},c[h]=a.neutralGray100,c["default"]=a.neutralGray800,c),"--WDS-surface-inverse-RGB":(d={},d[h]=b.neutralGray100,d["default"]=b.neutralGray800,d),"--WDS-surface-pressed":(e={},e[h]=a.whiteAlpha20,e["default"]=a.blackAlpha20,e),"--WDS-surface-pressed-RGB":(f={},f[h]=b.white,f["default"]=b.black,f),"--WDS-systems-bubble-content-business":(c={},c[h]=a.emerald400,c["default"]=a.blackAlpha60,c),"--WDS-systems-bubble-content-business-RGB":(d={},d[h]=b.emerald400,d["default"]=b.black,d),"--WDS-systems-bubble-content-deemphasized":(e={},e[h]=a.whiteAlpha60,e["default"]=a.blackAlpha60,e),"--WDS-systems-bubble-content-deemphasized-RGB":(f={},f[h]=b.white,f["default"]=b.black,f),"--WDS-systems-bubble-content-e2e":(c={},c[h]=a.yellow300,c["default"]=a.blackAlpha60,c),"--WDS-systems-bubble-content-e2e-RGB":(d={},d[h]=b.yellow300,d["default"]=b.black,d),"--WDS-systems-bubble-surface-business":(e={},e[h]=a.neutralGray850,e["default"]=a.emerald100,e),"--WDS-systems-bubble-surface-business-RGB":(f={},f[h]=b.neutralGray850,f["default"]=b.emerald100,f),"--WDS-systems-bubble-surface-e2e":(c={},c[h]=a.neutralGray850,c["default"]=a.yellow100,c),"--WDS-systems-bubble-surface-e2e-RGB":(d={},d[h]=b.neutralGray850,d["default"]=b.yellow100,d),"--WDS-systems-bubble-surface-incoming":(e={},e[h]=a.neutralGray800,e["default"]=a.whiteOpaque,e),"--WDS-systems-bubble-surface-incoming-RGB":(f={},f[h]=b.neutralGray800,f["default"]=b.white,f),"--WDS-systems-bubble-surface-outgoing":(c={},c[h]=a.green750,c["default"]=a.green100,c),"--WDS-systems-bubble-surface-outgoing-RGB":(d={},d[h]=b.green750,d["default"]=b.green100,d),"--WDS-systems-bubble-surface-overlay":(e={},e[h]=a.blackAlpha20,e["default"]=a.warmGray300Alpha15,e),"--WDS-systems-bubble-surface-overlay-RGB":(f={},f[h]=b.black,f["default"]=b.warmGray300,f),"--WDS-systems-bubble-surface-system":(c={},c[h]=a.neutralGray850,c["default"]=a.whiteAlpha90,c),"--WDS-systems-bubble-surface-system-RGB":(d={},d[h]=b.neutralGray850,d["default"]=b.white,d),"--WDS-systems-chat-background-wallpaper":(e={},e[h]=a.neutralGray900,e["default"]=a.cream75,e),"--WDS-systems-chat-background-wallpaper-RGB":(f={},f[h]=b.neutralGray900,f["default"]=b.cream75,f),"--WDS-systems-chat-foreground-wallpaper":(c={},c[h]=a.whiteAlpha10,c["default"]=a.cream150,c),"--WDS-systems-chat-foreground-wallpaper-RGB":(d={},d[h]=b.white,d["default"]=b.cream150,d),"--WDS-systems-chat-surface-composer":(e={},e[h]=a.neutralGray800,e["default"]=a.whiteOpaque,e),"--WDS-systems-chat-surface-composer-RGB":(f={},f[h]=b.neutralGray800,f["default"]=b.white,f),"--WDS-systems-chat-surface-tray":(c={},c[h]=a.neutralGray900,c["default"]=a.warmGray75,c),"--WDS-systems-chat-surface-tray-RGB":(d={},d[h]=b.neutralGray900,d["default"]=b.warmGray75,d),"--WDS-systems-status-seen":(e={},e[h]=a.neutralGray500,e["default"]=a.warmGray300,e),"--WDS-systems-status-seen-RGB":(f={},f[h]=b.neutralGray500,f["default"]=b.warmGray300,f)});d=Object.fromEntries(Object.entries(c).map(function(a){var b;return[a[0],(b=a[1]["default"])!=null?b:a[1]]}));e=Object.fromEntries(Object.entries(c).map(function(a){var b;return[a[0],(b=a[1][h])!=null?b:a[1]]}));f=babelHelpers["extends"]({},c,{"--WDS-accent":(f={},f[h]=a.neutralGray50,f["default"]=a.warmGray900,f),"--WDS-accent-deemphasized":(c={},c[h]=a.neutralGray800,c["default"]=a.warmGray100,c),"--WDS-accent-deemphasized-RGB":(f={},f[h]=b.neutralGray800,f["default"]=b.warmGray100,f),"--WDS-accent-emphasized":(c={},c[h]=a.neutralGray75,c["default"]=a.warmGray800,c),"--WDS-accent-emphasized-RGB":(f={},f[h]=b.neutralGray75,f["default"]=b.warmGray800,f),"--WDS-accent-RGB":(c={},c[h]=b.neutralGray50,c["default"]=b.warmGray900,c),"--WDS-components-filter-surface-selected":(f={},f[h]=a.neutralGray700,f["default"]=a.warmGray200,f),"--WDS-components-filter-surface-selected-RGB":(c={},c[h]=b.neutralGray700,c["default"]=b.warmGray200,c)});Object.fromEntries(Object.entries(f).map(function(a){var b;return[a[0],(b=a[1]["default"])!=null?b:a[1]]}));Object.fromEntries(Object.entries(f).map(function(a){var b;return[a[0],(b=a[1][h])!=null?b:a[1]]}));babelHelpers["extends"]({},d,{"--WDS-content-default":a.neutralGray1000,"--WDS-content-default-RGB":b.neutralGray1000,"--WDS-content-deemphasized":a.neutralGray550,"--WDS-content-deemphasized-RGB":b.neutralGray550,"--WDS-content-disabled":a.neutralGray300,"--WDS-content-disabled-RGB":b.neutralGray300,"--WDS-content-external-link":a.green600,"--WDS-content-external-link-RGB":b.green600,"--WDS-background-wash-inset":a.neutralGray75,"--WDS-background-wash-inset-RGB":b.neutralGray75,"--WDS-background-elevated-wash-inset":a.neutralGray75,"--WDS-background-elevated-wash-inset-RGB":b.neutralGray75,"--WDS-background-dimmer":a.blackAlpha30,"--WDS-surface-emphasized":a.neutralGray75,"--WDS-surface-emphasized-RGB":b.neutralGray75,"--WDS-surface-elevated-emphasized":a.neutralGray75,"--WDS-surface-elevated-emphasized-RGB":b.neutralGray75,"--WDS-surface-inverse":"#1F1F1F","--WDS-surface-inverse-RGB":"31, 31, 31","--WDS-surface-pressed":a.blackAlpha20,"--WDS-surface-pressed-RGB":b.black,"--WDS-lines-divider":a.blackAlpha20,"--WDS-lines-divider-RGB":b.black,"--WDS-lines-outline-default":a.neutralGray400,"--WDS-lines-outline-default-RGB":b.neutralGray400,"--WDS-lines-outline-deemphasized":a.blackAlpha20,"--WDS-lines-outline-deemphasized-RGB":b.black,"--WDS-persistent-always-black":a.neutralGray1000,"--WDS-persistent-always-black-RGB":b.neutralGray1000});babelHelpers["extends"]({},e,{"--WDS-content-default":a.neutralGray50,"--WDS-content-default-RGB":b.neutralGray50,"--WDS-content-deemphasized":a.neutralGray400,"--WDS-content-deemphasized-RGB":b.neutralGray400,"--WDS-content-disabled":a.neutralGray700,"--WDS-content-disabled-RGB":b.neutralGray700,"--WDS-content-external-link":a.green450,"--WDS-content-external-link-RGB":b.green450,"--WDS-background-wash-plain":a.neutralGray1000,"--WDS-background-wash-plain-RGB":b.neutralGray1000,"--WDS-background-wash-inset":a.neutralGray1000,"--WDS-background-wash-inset-RGB":b.neutralGray1000,"--WDS-background-elevated-wash-plain":a.neutralGray900,"--WDS-background-elevated-wash-plain-RGB":b.neutralGray900,"--WDS-background-elevated-wash-inset":a.neutralGray900,"--WDS-background-elevated-wash-inset-RGB":b.neutralGray900,"--WDS-background-dimmer":a.blackAlpha40,"--WDS-surface-default":a.neutralGray900,"--WDS-surface-default-RGB":b.neutralGray900,"--WDS-surface-emphasized":a.neutralGray800,"--WDS-surface-emphasized-RGB":b.neutralGray800,"--WDS-surface-elevated-default":a.neutralGray800,"--WDS-surface-elevated-default-RGB":b.neutralGray800,"--WDS-surface-elevated-emphasized":a.neutralGray700,"--WDS-surface-elevated-emphasized-RGB":b.neutralGray700,"--WDS-surface-inverse":"#F4F4F4","--WDS-surface-inverse-RGB":"244, 244, 244","--WDS-surface-pressed":a.whiteAlpha20,"--WDS-persistent-always-black":a.neutralGray1000,"--WDS-persistent-always-black-RGB":b.neutralGray1000});babelHelpers["extends"]({},d,{"--WDS-content-external-link":a.cobalt500,"--WDS-content-external-link-RGB":b.cobalt500});babelHelpers["extends"]({},e,{"--WDS-content-external-link":a.skyBlue300,"--WDS-content-external-link-RGB":b.skyBlue300});c={xoeyzqq:"x1h89ln0 xoeyzqq",$$css:!0};f={xoeyzqq:"xlxdrnu xoeyzqq",$$css:!0};d={xoeyzqq:"x1buoxo4 xoeyzqq",$$css:!0};e={xoeyzqq:"x1px0edx xoeyzqq",$$css:!0};a={xoeyzqq:"xf83qyd xoeyzqq",$$css:!0};b={xoeyzqq:"xvxxaj8 xoeyzqq",$$css:!0};var i={xoeyzqq:"xxv4y6n xoeyzqq",$$css:!0},j={xoeyzqq:"x1thmhrv xoeyzqq",$$css:!0},k={xoeyzqq:"x1vw1fmt xoeyzqq",$$css:!0},l={xoeyzqq:"xxzfytf xoeyzqq",$$css:!0};g.WDSSystemTheme=c;g.WDSLightTheme=f;g.WDSDarkTheme=d;g.WDSSMBSystemTheme=e;g.WDSSMBLightTheme=a;g.WDSSMBDarkTheme=b;g.WDSLightThemeIOS=i;g.WDSDarkThemeIOS=j;g.WDSLightThemeAndroid=k;g.WDSDarkThemeAndroid=l}),98);
__d("WAWebLocalStorageUtils",["WAWebLocalStorage","WAWebUserPrefsKeys"],(function(a,b,c,d,e,f,g){function a(){return!(c("WAWebLocalStorage")!=null&&c("WAWebLocalStorage").getItem(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD))&&!(c("WAWebLocalStorage")!=null&&c("WAWebLocalStorage").getItem(d("WAWebUserPrefsKeys").KEYS.LAST_WID))}function b(){return(c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebUserPrefsKeys").KEYS.LOGOUT_DIRTY_BIT))==="1"}g.isUserLoggedOut=a;g.isLogoutDirtyBitSet=b}),98);
__d("WAWebWAWCInit",["WAWebWAWCStorage"],(function(a,b,c,d,e,f,g){function a(){return c("WAWebWAWCStorage").openDB()}g.initWAWC=a}),98);
__d("WAWebHandlePreviousLogout",["WALogger","WAWebIndexedDBPurge","WAWebLocalStorage","WAWebLocalStorageUtils","WAWebLogoutReason","WAWebPonyfillsUrlSearchParams","WAWebURLUtils","WAWebWAWCInit","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a="/");var e=d("WAWebLocalStorageUtils").isLogoutDirtyBitSet(),f=d("WAWebLocalStorageUtils").isUserLoggedOut();if(e||f)try{yield d("WAWebIndexedDBPurge").deleteAllIdb(),yield d("WAWebWAWCInit").initWAWC()}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Preemptive db delete failed with error ",""])),a).tags("app-wrapper")}f=b("WAWebPonyfillsUrlSearchParams");f=new f((f=window.location.search)!=null?f:"");e&&(c("WAWebLocalStorage")==null||c("WAWebLocalStorage").clear(),f.set("post_logout","1"),window.location.href=window.location.pathname+"?"+f.toString());e=f.get("logout_reason");e!=null&&d("WAWebLogoutReason").setPrevLogoutReasonCode(e);var g=f.get("logout_message_header"),i=f.get("logout_message_subtext");(g!=null||i!=null)&&d("WAWebLogoutReason").setPrevCustomLogoutMessage({logoutMessageHeader:g,logoutMessageSubtext:i});g=f.get("post_logout")==="1";(g||e!=null)&&(c("WAWebURLUtils").canMuckHistory()&&window.history.replaceState({},document.title,a))});return i.apply(this,arguments)}g.handlePreviousLogoutFailures=a}),98);
__d("WAWebLoggerOnError",["WALogger","WAWebCrashlog","WAWebLoggerImpl","WAWebMiscErrors","WAWebNoop","WAWebUim","gkx"],(function(a,b,c,d,e,f,g){var h,i,j=[{partialMsg:"webpackJsonp is not defined"},{partialMsg:"WUPE is not defined"},{partialMsg:"spectrum is not a function"},{partialMsg:"evaluating 'document.getElementsByClassName('_3B9bf')"},{partialMsg:"onWebLoad is not defined"},{partialMsg:"SyntaxError: Identifier 'ZapSuiteSvgIcons' has already been declared"},{partialMsg:"SyntaxError: Identifier 'SuiteFunil' has already been declared"},{partialMsg:"SyntaxError: Identifier 'DBZapSuite' has already been declared"},{partialMsg:"Identifier 'newMakeStore' has already been declared"}],k=[{partialUserAgent:"Chrome",partialMsg:"ResizeObserver loop limit exceeded"},{partialUserAgent:"",partialMsg:"Failed to execute 'put' on 'Cache'"}],l=[{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read property 'style' of null"},{partialUserAgent:"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36",partialMsg:"Unexpected token :"},{partialUserAgent:"Firefox/52.0,,Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.4) Gecko/20100101 Firefox/52.0",partialMsg:"Cannot read property 'style' of undefined"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15",partialMsg:"is not an object"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read property 'getElementsByTagName' of undefined"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36",partialMsg:"Can't find variable: dismissKeyboard"},{partialUserAgent:"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36",partialMsg:"ReferenceError: None is not defined"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read properties of null (reading 'style')"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read properties of undefined (reading 'getElementsByTagName')"},{partialUserAgent:"Chrome/60.0.3112.113",partialMsg:"Cannot read properties of null (reading 'removeChild')"},{partialUserAgent:"Chrome/60.0.3112.113",partialMsg:"Cannot read properties of undefined (reading 'isSettingDark')"},{partialUserAgent:"Chrome/60.0.3112.113",partialMsg:"TypeError: Cannot read properties of null (reading 'children')"}],m=window.navigator.userAgent;function n(a){var b=[d("WAWebMiscErrors").DbOnLogoutAbort,d("WAWebMiscErrors").DbClosedOnTakeover,d("WAWebMiscErrors").DbNotFoundOnTakeover];return!b.some(function(b){return a instanceof b})}function o(a){var b=[].concat(k);c("gkx")("26258")&&b.push.apply(b,l);return b.some(function(b){var c=b.partialUserAgent;b=b.partialMsg;return m.includes(c)&&String(a).includes(b)})}function p(a,b){var c=j.some(function(b){b=b.partialMsg;return String(a).includes(b)});return c?c:b instanceof Error&&b.stack!=null&&b.stack.includes("evalmachine.<anonymous>")}function q(a){return a instanceof Error&&a.stack!=null&&a.stack.includes("chrome-extension://")}function a(a,b,e,f,g){if(o(a)){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Ignored Error: ",""])),a||(g||"").toString());return!0}try{d("WAWebUim").UIM.pprint(!0)}catch(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["UIM Print Failed!"]))).devConsole(a)}b=b.split("?")[0];b&&typeof e==="number"?e=" ("+b+":"+e+":"+f+")":b?e=" ("+b+")":e="";if(a==="Script error."&&!g){d("WAWebLoggerImpl").Logger.logUncaughtError(e+" "+a);b&&d("WAWebCrashlog").upload({reason:"script-error",hasTaggedMessage:!0,sendLogsType:d("WALogger").SendLogsType.UNCAUGHT_EXCEPTION});return!1}f=g instanceof Error&&g.stack?g:""+(a||"Given: "+String(g));e=d("WAWebLoggerImpl").Logger.logUncaughtError(f);if(!n(g))return c("gkx")("26258");if(p(a,g)||q(g))return c("gkx")("26258");d("WAWebCrashlog").upload({reason:e,hasTaggedMessage:!0,sendLogsType:d("WALogger").SendLogsType.UNCAUGHT_EXCEPTION})["catch"](c("WAWebNoop"));return c("gkx")("26258")}function b(a){var b=a.promise;a=a.reason;b=d("WAWebLoggerImpl").Logger.logUncaughtError(a,b);if(!n(a))return;d("WAWebCrashlog").upload({reason:b,hasTaggedMessage:!0,sendLogsType:d("WALogger").SendLogsType.UNHANDLED_REJECTED_PROMISE})}g.onErrorHandler=a;g.onUnhandledPromiseRejection=b}),98);
__d("WAWebSafari14Fix",["WALogger","WAWebUA","WAWebWAWCStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WAWebUA").UA.isLocalStorageBroken&&(yield c("WAWebWAWCStorage").loadUserIdb())}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["loadUserIdbForBrokenSafariVersion failed with error ",""])),a)}});return i.apply(this,arguments)}g.loadUserIdbForBrokenSafariVersion=a}),98);
__d("WAWebStringPolyfills",[],(function(a,b,c,d,e,f){function a(){String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){function c(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return Object.prototype.toString.call(a).toLowerCase()==="[object regexp]"?this.replace(a,b):this.replace(new RegExp(c(a),"g"),b)})}f.polyfillStringReplaceAll=a}),66);
__d("WaWebRequestPersistentStorage",["WALogger","WATagsLogger","asyncToGeneratorRuntime","once"],(function(a,b,c,d,e,f,g){var h,i,j;e=c("once")(a);function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a;if((a=navigator)!=null&&(a=a.storage)!=null&&a.persist){a=(yield navigator.storage.persist());yield d("WATagsLogger").whenReady();a?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[storage] storage bucket is persistent"]))):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[storage] storage bucket persistence denied"]))).sendLogs("aquire-persistent-storage-denied")}}catch(a){yield d("WATagsLogger").whenReady(),d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[storage] storage bucket persistence error: ",""])),a).sendLogs("failed-to-aquire-persistent-storage")}});return k.apply(this,arguments)}g.requestPersistentStore=e}),98);/*FB_PKG_DELIM*/
__d("testID",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("21117");function a(a){return h&&a!=null?{"data-testid":a}:void 0}g["default"]=a}),98);
__d("WebView.react",["react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["children","suppressHydrationWarning","testid","xstyle"],j,k,l=k||d("react"),m={root:{boxSizing:"x9f619",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=a.children,e=a.suppressHydrationWarning,f=a.testid,g=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,i);return l.jsx("div",babelHelpers["extends"]({},a,c("testID")(f),(j||(j=c("stylex"))).props(m.root,g),{ref:b,suppressHydrationWarning:e,children:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseView.react",["WebView.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("WebView.react")}),98);
__d("VultureJSGating",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(){h=!0}function b(){return h?!1:c("justknobx")._("2635")}function d(){return c("justknobx")._("3532")}g.__DO_NOT_USE_DISABLE_VULTURE_JS_LOGGING=a;g.isLoggingEnabled=b;g.isLowVolumeLoggingEnabled=d}),98);
__d("getReactComponentDisplayName",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.displayName;if(b!=null)return b;return a.name!=null?a.name:"ReactComponent"}f["default"]=a}),66);
__d("getReactElementDisplayName",["getReactComponentDisplayName","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){if(a==null)return"#empty";if(typeof a==="string"||typeof a==="number"||typeof a==="boolean")return"#text";a=a.type;if(a==null)return"ReactComponent";return typeof a==="string"?a:c("getReactComponentDisplayName")(a)}g["default"]=a}),98);
__d("ErrorBoundary.react",["ErrorPubSub","ErrorSerializer","cr:1645510","getErrorSafe","getReactElementDisplayName","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");a=function(a){function d(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={error:null,moduleName:k(b.props.children)},b.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(d,a);d.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var e=d.prototype;e.componentDidUpdate=function(a){if(this.state.error&&(this.props.forceResetErrorCount!=null&&this.props.forceResetErrorCount!==a.forceResetErrorCount)){this.setState({error:null});return}};e.componentDidCatch=function(a,b){a=b.componentStack;b=this.props;var d=b.augmentError,e=b.context;e=e===void 0?{}:e;var f=b.description;f=f===void 0?"base":f;var g=b.onError;b=b.tags;e.messageFormat==null&&(e.messageFormat="caught error in module %s (%s)",e.messageParams=[this.state.moduleName,f]);f=this.state;var i=f.error;f=f.moduleName;i!=null&&(c("ErrorSerializer").aggregateError(i,{componentStack:a,loggingSource:"ERROR_BOUNDARY"}),c("ErrorSerializer").aggregateError(i,e),typeof d==="function"&&d(i),i.tags=Array.from(b!=null?b:[]),(h||(h=c("ErrorPubSub"))).reportError(i),typeof g==="function"&&g(i,f))};e.render=function(){var a=this.state,c=a.error;a=a.moduleName;if(c){var d=this.props.fallback;return d!=null?d(c,a):null}if(b("cr:1645510")!=null){d=j.jsxs(j.Fragment,{children:[j.jsx(b("cr:1645510"),{}),this.props.children]});return d}return(c=this.props.children)!=null?c:null};return d}(j.PureComponent);a.defaultProps={forceResetErrorCount:0};function k(a){a=j.Children.count(a)>1?j.Children.toArray(a)[0]:a;return c("getReactElementDisplayName")(a)}e=a;g["default"]=e}),98);
__d("failCometInteraction",["interaction-tracing"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;function i(a){a=a!=null?a:"";return a.length>h?a.slice(0,h)+"...":a}function a(a){var b=c("interaction-tracing").InteractionTracingCore.getPendingInteractions();b.forEach(function(b){var c,d=b.getConfigAndDependencies().cfg,e=d.failLoggingFixCometErrorBoundary;d=d.failOnCometErrorBoundary;if(d==="disabled")return;b.addAnnotation("failType","failCometInteraction");c=i((c=a==null?void 0:a.message)!=null?c:"unknown");e&&(d==="fail"?b.failTrace(c,!0):b.addMetadata("errorComponent",c))})}g["default"]=a}),98);
__d("useHeroFailTrigger",["ErrorNormalizeUtils","FBLogger","MetaConfig","hero-tracing-placeholder","interaction-tracing-metrics","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useContext,l=1e3;function m(a){a=a!=null?a:"";return a.length>l?a.slice(0,l)+"...":a}function a(){var a=k(d("hero-tracing-placeholder").HeroCurrentInteractionForLoggingContext),b=k(d("hero-tracing-placeholder").HeroInteractionContext.Context);return j(function(e){var f,g,i,j=e.description,k=e.error;k==null&&c("MetaConfig")._("148")&&c("MetaConfig")._("155")&&c("FBLogger")("ads_error_logging").warn("No error data was passed in when annotating failure for description: %s",j!=null?j:"unknown");e=k==null?void 0:k.message;if((k==null?void 0:k.messageFormat)!=null){var l=0;e=k.messageFormat.replace(/%s/g,function(a){return k.messageParams!=null?k.messageParams[l++]:"unknown"})}j=e==null&&j==null?"unknown":[m(j),m(e)].filter(Boolean).join(", ");e=(e=a.current)==null?void 0:e.interactionUUID;if(e==null)return;var q=d("interaction-tracing-metrics").InteractionTracingMetricsCore.get(e);if((q==null||(f=q.annotations["int"])==null?void 0:f.isError)===1)return;d("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(e,"isError",1);d("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(e,"errorComponent",j);var r=[];(k==null?void 0:k.opes_mids)!=null&&Array.isArray(k==null?void 0:k.opes_mids)&&r.push.apply(r,k.opes_mids);(k==null?void 0:k.mids)!=null&&Array.isArray(k==null?void 0:k.mids)&&r.push.apply(r,k.mids);(k==null||(g=k.source)==null?void 0:g.opes_mids)!=null&&Array.isArray(k==null||(i=k.source)==null?void 0:i.opes_mids)&&r.push.apply(r,k.source.opes_mids);(k==null?void 0:k.mid)!=null&&typeof (k==null?void 0:k.mid)==="string"&&r.push(k.mid);r.length>0&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotationStringArray(e,"opes_mids",r);(k==null?void 0:k.fbtrace_id)!=null&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotation(e,"error_www_request_id",k.fbtrace_id);r=(r=k==null?void 0:k.errorCode)!=null?r:k==null?void 0:k.code;r!=null&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(e,"error_code",r);r=k==null?void 0:k.name;r!=null&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addMetadata(e,"error_name",r);r=p(k)||o(k);!r&&typeof (k==null?void 0:k.is_js_error)==="boolean"&&(r=k==null?void 0:k.is_js_error);if(r){d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotationBoolean(e,"is_js_error",r);if(k!=null&&(k==null?void 0:k.js_normalized_error)==null){r=c("ErrorNormalizeUtils").normalizeError(k);k.js_normalized_error=r}}if((k==null?void 0:k.js_normalized_error)!=null){r=k.js_normalized_error;n(e,r)}r=b.pageletStack;q&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addSubspan(e,"Error: "+j,"HeroTracing",q.start,(h||(h=c("performanceNow")))(),{pagelet:r[r.length-1],pageletStack:r,spanType:"Error"})},[b,a])}function n(a,b){d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotation(a,"js_error_message_format",b.messageFormat),d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotationStringArray(a,"js_error_message_params",b.messageParams),d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotation(a,"js_error_type",b.type),b.loggingSource!=null&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotation(a,"js_error_logging_source",b.loggingSource),b.project!=null&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotation(a,"js_error_project",b.project)}function o(a){var b=a==null?void 0:a.name;if(b==="Invariant Violation")return!0;b=(b=a==null?void 0:a.message)!=null?b:a==null?void 0:a.description;return(a=(b==null?void 0:b.includes("Minified React error"))||(b==null?void 0:b.includes("Minified invariant")))!=null?a:!1}function p(a){try{var b=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError];return b.some(function(b){return a instanceof b})}catch(a){return!1}}g["default"]=a}),98);
__d("useCometReportErrorToHeroTracing",["failCometInteraction","hero-tracing-placeholder","interaction-tracing","interaction-tracing-metrics","react","useHeroFailTrigger"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(){var a=j(d("hero-tracing-placeholder").HeroCurrentInteractionForLoggingContext),b=c("useHeroFailTrigger")();return i(function(e,f){var g,h;f===void 0&&(f="CometErrorBoundary");g=(g=a.current)==null?void 0:g.interactionUUID;if(g==null){c("failCometInteraction")(e);return}var i=c("interaction-tracing").InteractionTracingCore.getPendingInteractionById(g);i=i==null||(h=i.getConfigAndDependencies())==null?void 0:h.cfg;(i==null?void 0:i.failOnCometErrorBoundary)==="fail"&&b({error:e});((i==null?void 0:i.failOnCometErrorBoundary)==="fail"||(i==null?void 0:i.failOnCometErrorBoundary)==="annotate")&&d("interaction-tracing-metrics").InteractionTracingMetricsCore.addAnnotation(g,"failType",f)},[a,b])}g["default"]=a}),98);
__d("useCometErrorHandler",["react","react-compiler-runtime","useCometReportErrorToHeroTracing"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=c("useCometReportErrorToHeroTracing")(),f;b[0]!==a||b[1]!==e?(f=function(b,c){e(b),a==null||a(b,c)},b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("useHeroErrorMetadata",["QPLEvent","fb-error","hero-tracing-placeholder","interaction-tracing-metrics","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useCallback,k=b.useContext;function a(){var a=k(d("hero-tracing-placeholder").HeroCurrentInteractionForLoggingContext),b=k(d("hero-tracing-placeholder").HeroInteractionContext.Context),e=b.pageletStack;return j(function(b){var f;f=(f=b.metadata)!=null?f:new(c("fb-error").ErrorMetadata)();b.metadata=f;b=(b=a.current)==null?void 0:b.interactionUUID;if(b!=null){b=d("interaction-tracing-metrics").InteractionTracingMetricsCore.get(b);e!=null&&f.addEntry("COMET_INFRA","INTERACTION_PAGELET_STACK",e.join(","));b!=null&&b.qplAction==null&&(b.qplEvent!=null&&f.addEntry("COMET_INFRA","INTERACTION_QPL_EVENT",String((i||(i=d("QPLEvent"))).getMarkerId(b.qplEvent))),b.tracePolicy!=null&&f.addEntry("COMET_INFRA","INTERACTION_TRACE_POLICY",b.tracePolicy))}},[a,e])}g["default"]=a}),98);
__d("CometErrorBoundary.react",["ErrorBoundary.react","fb-error","react","useCometErrorHandler","useHeroErrorMetadata"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["augmentError","onError","type"],j,k=j||(j=d("react")),l=j.useCallback;function a(a){a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var b=c("useHeroErrorMetadata")(),d=a.augmentError,e=a.onError,f=a.type,g=babelHelpers.objectWithoutPropertiesLoose(a,i);e=c("useCometErrorHandler")(e);var j=l(function(a){d==null||d(a);b(a);if(f!=null){var e;a.type=f;e=(e=a.metadata)!=null?e:new(c("fb-error").ErrorMetadata)();a.metadata=e;e.addEntry("COMET_INFRA","EXPLICITLY_MARKED_ERROR_BOUNDARY","true")}},[d,b,f]);return k.jsx(c("ErrorBoundary.react"),babelHelpers["extends"]({},g,{augmentError:j,fallback:a.fallback,onError:e}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHeroInteractionContext",["hero-tracing-placeholder"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("hero-tracing-placeholder").HeroInteractionContext}),98);
__d("CometLinkTrackingUtils.facebook",["ConstUriUtils","isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(a!=null&&a!=="#"&&(e.length||b.length)){var f=d("ConstUriUtils").getUri(a);if(f!=null){if(!c("isFacebookURI")(f))return a;e.length&&(f=f.addQueryParam("__cft__",e));b.length&&f!=null&&(f=f.addQueryParam("__tn__",b.join("")));return f!=null?f.toString():a}}return a}g.decorateHrefWithTrackingInfo=a}),98);
__d("FBDomainsSVConfigJSModuleWrapper",["FBDomainsSVConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Object.fromEntries(a)}b={domains:a(c("FBDomainsSVConfig").domains)};d=b;g["default"]=d}),98);
__d("WATaskScheduler",["Promise","WALogger","WAPromiseBackoffs","WAResolvable","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s="no_reschedule",t=function(){function a(a){this.$1=!1,this.$2={},this.$3={},this.$4={},this.$5=new Map(),this.$6=a.scheduledTimeResolver}var c=a.prototype;c.$7=function(a){var c=this,e=this.$5.get(a);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Tried to start task "," before registering its implementation"])),a).devConsole("start-task-without-impl");return}this.$6.get(a).then(function(f){var g=f==null,h=!g&&f===d("WATimeUtils").DEFAULT_UNIXTIME;if(h){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Task "," deactivated"])),a);return}h=f==null?0:f*1e3-d("WATimeUtils").unixTimeMs();h=Math.max(0,h);h=Math.min(h,~(1<<31));d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Scheduling task "," in ","ms"])),a,h);c.$4[a]=setTimeout(function(){delete c.$4[a],d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Firing task ",""])),a),e(g).then(function(e){if(e==="no_reschedule")return new(r||(r=b("Promise")))(function(){});var f;e===d("WATimeUtils").DEFAULT_UNIXTIME?(d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Task "," complete, deactivating"])),a),delete c.$3[a],f=d("WATimeUtils").DEFAULT_UNIXTIME):e>=0?(d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Task "," complete, waiting ",""])),a,e),delete c.$3[a],f=d("WATimeUtils").futureUnixTime(e)):(d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Task "," will try again later"])),a),f=c.$8(a));return c.$6.set(a,f)}).then(function(){c.$7(a),c.$2[a]&&(c.$2[a].forEach(function(a){return a()}),delete c.$2[a])})["catch"](function(b){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Task "," failed, try again later: ",""])),a,b);return c.$6.set(a,c.$8(a)).then(function(){c.$7(a)})})},h)})};c.$8=function(a){this.$3[a]||(this.$3[a]=d("WAPromiseBackoffs").createTimer({jitter:.1,max:d("WATimeUtils").HOUR_SECONDS*1e3,algo:{type:"fibonacci",first:1e3,second:2e3}}));return d("WATimeUtils").futureUnixTime(Math.round(this.$3[a]()/1e3))};c.$9=function(a,b){this.$2[a]||(this.$2[a]=[]),this.$2[a].push(b)};c.awaitTaskPromise=function(a){var c=this;return new(r||(r=b("Promise")))(function(b){c.$9(a,b)})};c.reschedule=function(a,b){this.$1?(this.$6.set(a,b),this.$4[a]!=null&&clearTimeout(this.$4[a]),this.$7(a)):this.$6.set(a,b)};c.registerTask=function(a,b){this.$1||(this.$1=!0),this.$5.set(a,b),this.$7(a)};c.getScheduledTime=function(a){return this.$6.get(a)};return a}(),u=null,v=new(d("WAResolvable").Resolvable)();function a(a){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["startScheduler invoked"]))),u||(u=new t(a),v.resolve())}function e(a){var b=B("awaitTaskPromise");return b.awaitTaskPromise(a)}function w(a,b){var c=B("reschedule");c.reschedule(a,b)}function x(a,b){v.resolveWasCalled()?w(a,b):v.promise.then(function(){w(a,b)})["catch"](function(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["taskScheduler: reschedule eventually failed for task ",""])),a).devConsole(b).sendLogs("task-scheduler-reschedule-failed")})}function f(a){x(a,d("WATimeUtils").unixTime())}function y(a){x(a,d("WATimeUtils").DEFAULT_UNIXTIME)}function z(a){var b=B("getScheduledTime");return b.getScheduledTime(a)}function A(a,b){var c=B("registerTask");c.registerTask(a,b)}function B(a){if(u)return u;else throw c("err")("TaskScheduler::"+a+" called before startScheduler")}g.DO_NOT_RESCHEDULE=s;g.startScheduler=a;g.awaitTaskPromise=e;g._doReschedule=w;g.reschedule=x;g.rescheduleNow=f;g.deactivate=y;g.getScheduledTime=z;g.registerTask=A}),98);
__d("WAWebAutoLogoutGating",["WAWebEnvironment","WAWebUA"],(function(a,b,c,d,e,f,g){function a(){var a=h();return a}function h(){return c("WAWebEnvironment").isWindows?!1:d("WAWebUA").UA.hasCredentiallessIframeSupport&&!d("WAWebUA").UA.isOculusBroswer}function b(){var a=self.location!==self.parent.location;if(!a)return!1;a=new URLSearchParams(window.location.search);a=a.get("autologout");return a!=="1"?!1:!0}function e(){var a=new URL(window.location.href);a.searchParams.set("autologout","1");return a.toString()}g.isAutoLogoutEnabled=a;g.isRunningInAutoLogoutIframe=b;g.getAutoLogoutIframeUrl=e}),98);
__d("WAWebLinkDeviceScreenGatedUtils",["$InternalEnum","WAWebAutoLogoutGating","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({M1_WINNER:1});function a(){if(!c("justknobx")._("5007"))return i();if(d("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()){var a=window.parent.linkDeviceVariant;a=h.cast(a);return a!=null?a:i()}a=i();window.linkDeviceVariant=a;return a}function i(){return h.M1_WINNER}function e(){if(!c("gkx")("16993"))return"none";return c("gkx")("18089")?"test":"control"}function f(){if(!c("gkx")("18827"))return"none";return c("gkx")("18828")?"test":"control"}g.LinkDeviceScreenVariantType=h;g.getLinkDeviceScreenVariant=a;g.getOptimizedRegFromWebVariant=e;g.getLocalizationFixVariant=f}),98);
__d("WAWebChevronIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="chevron";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=30;o=30;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 30 30",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),x:"0px",y:"0px",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M11,21.212L17.35,15L11,8.65l1.932-1.932L21.215,15l-8.282,8.282L11,21.212z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ChevronIcon=a}),98);
__d("WAWebEncryptedRid",["WABase64","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsMultiDevice"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set("WAWebEncryptedRid",d("WABase64").encodeB64(a))}function b(){return!d("WAWebUserPrefsMultiDevice").isRegistered()?null:d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get("WAWebEncryptedRid")}g.setEncryptedRid=a;g.getEncryptedRid=b}),98);
__d("WAWebTasksTaskType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CLEAN_TC_TOKENS:"cleanTcTokens",LOG_DAILY_STATS:"logDailyStats",LOG_DB_ROW_COUNTS:"logDbRowCounts",ROTATE_KEY:"rotateKey",SYNC_AB_PROPS:"syncAbProps",SYNC_CONTACTS:"syncContacts",MONITOR_DB_STORAGE:"monitorDbStorage",REPORT_SYNCD_ACTION_STAT:"reportSyncdActionStat",LT_HASH_CHECK:"ltHashCheck",REQUEST_ALL_SYNCD_MISSING_KEYS:"requestAllSyncdMissingKeys",REPORT_SYNCD_KEY_STATS:"reportSyncdKeyStats",SYNCD_SYNC_ALL_COLLECTIONS:"syncdSyncAllCollections",CLEAN_ORPHAN_ADD_ONS:"cleanOrphanAddOns",CLEAN_PAST_PARTICIPANTS:"cleanPastParticipants",CLEAN_EXPIRED_UTM:"cleanExpiredUtm",SEND_NON_MESSAGE_DATA_REQUEST:"sendNonMessageDataRequest",LOG_HISTORY_SYNC_STATUS_AFTER_PAIRING:"logHistorySyncStatusAfterPairing",DELETE_NEWSLETTER_PREVIEW_CHATS:"deleteNewsletterPreviewChats",REPORT_DB_VERSIONS:"reportDbVersions",UPDATE_EXPIRED_TEXT_STATUS:"updateExpiredTextStatus",RESTART_RECENT_SYNC:"restartRecentSync",CLEANUP_REPORTING_TABLE:"cleanupReportingTable",CLEANUP_3PD_SIGNALS_TABLE:"cleanup3PDSignalsTable",FETCH_QUICK_PROMOTIONS:"fetchQuickPromotions",WAFFLE_SCHEDULED_TASKS:"waffleScheduledTasks",CLEAR_GALAXY_FLOWS_CACHE:"clearGalaxyFlowsCache",CLEAR_FALCO_BUFFER:"clearFalcoBuffer",SEND_WAM_FINGERPRINT:"sendWamFingerprint"});f.TaskType=a}),66);
__d("WAWebMessageHighRetryCountWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumE2eDeviceType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumSizeBucket"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MessageHighRetryCount:[3132,{deviceSizeBucket:[5,d("WAWebWamEnumSizeBucket").SIZE_BUCKET],e2eSenderType:[3,d("WAWebWamEnumE2eDeviceType").E2E_DEVICE_TYPE],invisibleMessageCategory:[6,d("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isReceiverLidBased:[7,a.TYPES.BOOLEAN],isSenderLidBased:[8,a.TYPES.BOOLEAN],mediaType:[1,d("WAWebWamEnumMediaType").MEDIA_TYPE],messageType:[4,d("WAWebWamEnumMessageType").MESSAGE_TYPE],retryCount:[2,a.TYPES.INTEGER]},[1,20,20],"regular"]},{MessageHighRetryCount:[]});g.MessageHighRetryCountWamEvent=b}),98);
__d("WAWebPostMessageHighRetryCountMetric",["WAWebMessageHighRetryCountWamEvent","WAWebMessagingGatingUtils","WAWebWamGroupMetricCache","WAWebWamMsgUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=5;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a<h)return;a=new(d("WAWebMessageHighRetryCountWamEvent").MessageHighRetryCountWamEvent)({retryCount:a,messageType:d("WAWebWamMsgUtils").getMessageTypeFromMsgInfoType(b.type)});var c=d("WAWebWamMsgUtils").getWamE2eSenderType(b.author);c!=null&&(a.e2eSenderType=c);c=b.chat;if(c!=null&&c.isGroup()){b=(yield d("WAWebWamGroupMetricCache").getGroupMetrics(c));(b==null?void 0:b.deviceSizeBucket)!=null&&(a.deviceSizeBucket=b.deviceSizeBucket);(b==null?void 0:b.participantCount)!=null&&b.participantCount>d("WAWebMessagingGatingUtils").getGroupSizeBypassingSampling()&&(a.weight=0)}a.commit()});return i.apply(this,arguments)}g.MAX_RETRY=h;g.maybePostMessageHighRetryCountMetric=a}),98);
__d("WAWebInfoRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="info-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M11 16C11 16.5523 11.4477 17 12 17C12.5523 17 13 16.5523 13 16V12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12V16ZM12 9C12.2833 9 12.5208 8.90417 12.7125 8.7125C12.9042 8.52083 13 8.28333 13 8C13 7.71667 12.9042 7.47917 12.7125 7.2875C12.5208 7.09583 12.2833 7 12 7C11.7167 7 11.4792 7.09583 11.2875 7.2875C11.0958 7.47917 11 7.71667 11 8C11 8.28333 11.0958 8.52083 11.2875 8.7125C11.4792 8.90417 11.7167 9 12 9ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.InfoRefreshedIcon=a}),98);
__d("WAWebLockOutlineIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="lock-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 24 24",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M6.793 22.4C6.29767 22.4 5.875 22.2237 5.525 21.8712C5.175 21.5187 5 21.095 5 20.6V11C5 10.505 5.17625 10.0813 5.52875 9.72875C5.88125 9.37625 6.305 9.2 6.8 9.2H7.4V6.8C7.4 5.472 7.86858 4.34 8.80575 3.404C9.74275 2.468 10.8761 2 12.2057 2C13.5352 2 14.6667 2.468 15.6 3.404C16.5333 4.34 17 5.472 17 6.8V9.2H17.6C18.095 9.2 18.5187 9.37625 18.8712 9.72875C19.2237 10.0813 19.4 10.505 19.4 11V20.6C19.4 21.095 19.2237 21.5187 18.871 21.8712C18.5183 22.2237 18.0943 22.4 17.599 22.4H6.793ZM6.8 20.6H17.6V11H6.8V20.6ZM12.2052 17.6C12.7017 17.6 13.125 17.4233 13.475 17.0698C13.825 16.7163 14 16.2913 14 15.7948C14 15.2983 13.8232 14.875 13.4697 14.525C13.1162 14.175 12.6912 14 12.1947 14C11.6982 14 11.275 14.1767 10.925 14.5302C10.575 14.8837 10.4 15.3087 10.4 15.8052C10.4 16.3017 10.5767 16.725 10.9302 17.075C11.2837 17.425 11.7087 17.6 12.2052 17.6ZM9.2 9.2H15.2V6.8C15.2 5.96667 14.9083 5.25833 14.325 4.675C13.7417 4.09167 13.0333 3.8 12.2 3.8C11.3667 3.8 10.6583 4.09167 10.075 4.675C9.49167 5.25833 9.2 5.96667 9.2 6.8V9.2Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.LockOutlineIcon=a}),98);
__d("useHeroBootloadedComponent",["CometHeroInteractionContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=i(c("CometHeroInteractionContext").Context),f,g;b[0]!==e||b[1]!==a?(f=function(){e.consumeBootload(a.getModuleId())},g=[e,a],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);j(f,g)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("InlineFbtResultImplComet",["FBLogger","FbtHooks","FbtReactUtil","FbtResultBase","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=a.content,d=a.hash,e=a.inlineMode;a=a.translation;d==null&&c("FBLogger")("internationalization").mustfix('Fbt string hash should not be null for translated string "%s" [inlineMode=%s]',a,e);return j.jsx("span",{"data-intl-hash":d,"data-intl-translation":a,"data-intl-trid":"",children:b})}k.displayName=k.name+" [from "+f.id+"]";a=function(a){function b(b,e,f,g){var i;i=a.call(this,b,(h||(h=c("FbtHooks"))).getErrorListener({hash:g,translation:f}))||this;i.$$typeof=d("FbtReactUtil").REACT_ELEMENT_TYPE;i.key=null;i.ref=null;i.type=k;i.props={content:b,hash:g,inlineMode:e,translation:f};return i}babelHelpers.inheritsLoose(b,a);return b}(c("FbtResultBase"));g["default"]=a}),98);
__d("WAWebWaWordmarkIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wa-wordmark";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=21;o=103;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 103 21",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M13.0691 16.3425L10.3885 5.57555H10.3439L7.70791 16.3425H4.18613L0 0.523438H2.98136L5.83876 12.6207H5.88836L8.97381 0.523438H11.8015L14.7994 12.6207H14.8176L17.8601 0.523438H20.7753L16.5231 16.3425H13.0674H13.0691Z",fill:"currentColor"}),k.jsx("path",{d:"M34.6722 6.57208C34.9945 6.08455 35.4095 5.69288 35.9117 5.3987C36.4142 5.10453 36.9777 4.893 37.6075 4.7674C38.2337 4.64178 38.6865 4.57898 39.3212 4.57898C39.8962 4.57898 40.4797 4.6203 41.0697 4.70128C41.6597 4.78225 42.0347 4.94093 42.5225 5.17725C43.0082 5.41358 43.4082 5.74245 43.7172 6.16388C44.028 6.58363 44.1832 7.14058 44.1832 7.83633V13.7958C44.1832 14.3147 44.213 14.8088 44.2725 15.2798C44.3302 15.7541 44.4345 16.1078 44.5832 16.3425H41.559C41.4995 16.1656 41.4515 15.9838 41.415 15.8004C41.3787 15.617 41.3522 15.4269 41.3375 15.2352C40.835 15.7525 40.2435 16.1144 39.5642 16.3226C38.8865 16.5292 38.1925 16.6317 37.4835 16.6317C36.9365 16.6317 36.5927 16.5656 36.12 16.4317C35.6475 16.2978 35.2342 16.0913 34.8805 15.8103C34.5252 15.5294 34.2492 15.1757 34.0492 14.746C33.8492 14.318 33.7502 13.809 33.7502 13.2173C33.7502 12.5678 33.8642 12.0324 34.0922 11.611C34.322 11.1895 34.6162 10.8541 34.978 10.6012C35.34 10.3517 35.7547 10.1616 36.2192 10.0377C36.6835 9.91205 36.9877 9.8129 37.4602 9.73853C37.933 9.6658 38.3975 9.6063 38.8552 9.56003C39.313 9.51708 39.8847 9.45095 40.2385 9.36173C40.5937 9.27413 40.873 9.14523 41.0797 8.97335C41.2862 8.80313 41.382 8.55688 41.3672 8.23133C41.3672 7.89253 41.311 7.62315 41.2002 7.42318C41.0895 7.2232 40.9425 7.06785 40.7572 6.95713C40.5722 6.8464 40.1922 6.7737 39.9492 6.73568C39.7047 6.69933 39.4435 6.68115 39.1625 6.68115C38.5412 6.68115 37.9165 6.81335 37.5627 7.07943C37.2075 7.3455 37.001 7.7884 36.9415 8.4098H34.1137C34.1585 7.67108 34.3417 7.05795 34.6675 6.57043L34.6722 6.57208ZM40.7062 11.0144C40.5062 11.0805 40.293 11.1367 40.0632 11.1813C39.8352 11.2243 39.5955 11.2623 39.3427 11.292C39.0932 11.3218 38.8402 11.3598 38.5907 11.4027C38.3545 11.4474 37.9562 11.5069 37.728 11.5796C37.5 11.6539 37.3 11.7531 37.1297 11.8787C36.9595 12.0043 36.8225 12.1646 36.72 12.3547C36.6175 12.5464 36.5645 12.791 36.5645 13.0868C36.5645 13.3826 36.6175 13.6024 36.72 13.7941C36.824 13.9858 36.9645 14.1379 37.1415 14.2486C37.3182 14.3593 37.5247 14.437 37.7612 14.4799C37.9975 14.5246 38.242 14.5477 38.4915 14.5477C39.113 14.5477 39.9227 14.4436 40.2615 14.237C40.6002 14.0304 40.8515 13.7825 41.0152 13.495C41.1772 13.2074 41.278 12.9166 41.3142 12.6191C41.3522 12.3249 41.3705 12.0886 41.3705 11.9101V10.7367C41.2367 10.8557 40.906 10.9466 40.7077 11.0127L40.7062 11.0144Z",fill:"currentColor"}),k.jsx("path",{d:"M73.5243 10.1154L71.26 3.52298H71.184L68.8473 10.1104L73.5258 10.1154H73.5243ZM72.7078 0.523438L78.621 16.3425H75.666L74.2365 12.1283H68.1383L66.6558 16.3425H63.7473L69.7265 0.523438H72.7078Z",fill:"currentColor"}),k.jsx("path",{d:"M86.1785 13.9709C86.527 13.766 86.808 13.495 87.0213 13.1628C87.2345 12.8306 87.3865 12.4439 87.4758 11.9993C87.5633 11.5564 87.6063 11.1053 87.6063 10.6491C87.6063 10.193 87.56 9.74018 87.4625 9.29563C87.3668 8.8527 87.208 8.45773 86.9865 8.11068C86.765 7.76363 86.4808 7.48268 86.1338 7.26948C85.7885 7.05463 85.362 6.94723 84.8595 6.94723C84.3573 6.94723 83.911 7.0563 83.5655 7.26948C83.217 7.48268 82.936 7.76033 82.7228 8.0991C82.508 8.4412 82.3575 8.83123 82.2683 9.27413C82.179 9.71703 82.136 10.1732 82.136 10.6475C82.136 11.1218 82.1823 11.5548 82.2798 11.9977C82.3758 12.4406 82.531 12.8273 82.7443 13.1611C82.959 13.4933 83.2433 13.7644 83.597 13.9693C83.9523 14.1759 84.3788 14.28 84.881 14.28C85.3835 14.28 85.8298 14.1759 86.175 13.9693L86.1785 13.9709ZM82.1048 4.88803V6.35063H82.1493C82.5328 5.73088 83.0185 5.2797 83.6103 4.99875C84.2003 4.7178 84.6845 4.57898 85.3935 4.57898C86.294 4.57898 86.9023 4.74755 87.5535 5.088C88.203 5.4268 88.7433 5.87795 89.1698 6.43985C89.5978 7.00175 89.915 7.65455 90.1233 8.39988C90.3283 9.14688 90.4323 9.92528 90.4323 10.7384C90.4323 11.5069 90.3283 12.2439 90.1233 12.9546C89.915 13.6635 89.6028 14.2899 89.1813 14.8369C88.7598 15.3839 88.236 15.8202 87.608 16.1442C86.98 16.4681 86.4115 16.6317 85.5703 16.6317C84.8613 16.6317 84.372 16.4863 83.7755 16.1987C83.1773 15.9111 82.6848 15.4881 82.3013 14.9262H82.2583V20.3551H79.4308V4.88968H82.1013L82.1048 4.88803Z",fill:"currentColor"}),k.jsx("path",{d:"M98.3832 13.9709C98.732 13.766 99.013 13.495 99.226 13.1628C99.4392 12.8306 99.5912 12.4439 99.6805 11.9993C99.7682 11.5564 99.8112 11.1053 99.8112 10.6491C99.8112 10.193 99.7648 9.74018 99.6673 9.29563C99.5715 8.8527 99.4127 8.45773 99.1915 8.11068C98.97 7.76363 98.6858 7.48268 98.3388 7.26948C97.9933 7.05463 97.5667 6.94723 97.0645 6.94723C96.562 6.94723 96.1158 7.0563 95.7705 7.26948C95.4218 7.48268 95.1407 7.76033 94.9275 8.0991C94.7127 8.4412 94.5622 8.83123 94.473 9.27413C94.384 9.71703 94.341 10.1732 94.341 10.6475C94.341 11.1218 94.3872 11.5548 94.4847 11.9977C94.5805 12.4406 94.736 12.8273 94.949 13.1611C95.164 13.4933 95.4483 13.7644 95.8018 13.9693C96.1573 14.1759 96.5835 14.28 97.086 14.28C97.5882 14.28 98.0345 14.1759 98.38 13.9693L98.3832 13.9709ZM94.3095 4.88803V6.35063H94.3542C94.7375 5.73088 95.2235 5.2797 95.815 4.99875C96.405 4.7178 96.8893 4.57898 97.5983 4.57898C98.499 4.57898 99.107 4.74755 99.7582 5.088C100.408 5.4268 100.948 5.87795 101.374 6.43985C101.802 7.00175 102.12 7.65455 102.328 8.39988C102.533 9.14688 102.637 9.92528 102.637 10.7384C102.637 11.5069 102.533 12.2439 102.328 12.9546C102.12 13.6635 101.808 14.2899 101.386 14.8369C100.965 15.3839 100.441 15.8202 99.8128 16.1442C99.1848 16.4681 98.6163 16.6317 97.775 16.6317C97.066 16.6317 96.577 16.4863 95.9802 16.1987C95.382 15.9111 94.8895 15.4881 94.5062 14.9262H94.4632V20.3551H91.6355V4.88968H94.3063L94.3095 4.88803Z",fill:"currentColor"}),k.jsx("path",{d:"M55.9548 13.5941C56.0953 13.8387 56.277 14.037 56.4985 14.1924C56.72 14.3477 56.9745 14.4618 57.2638 14.5361C57.5513 14.6105 58.138 14.6469 58.4485 14.6469C58.67 14.6469 58.9445 14.6204 59.189 14.5692C59.432 14.518 59.7758 14.437 59.9773 14.3263C60.1755 14.2155 60.3425 14.0684 60.4748 13.8833C60.6085 13.6983 60.673 13.4388 60.673 13.1578C60.673 12.7298 60.2368 12.2605 59.6088 12.0241C58.9825 11.7862 58.1065 11.5515 56.9828 11.3151C56.5265 11.211 56.0788 11.0904 55.644 10.9483C55.2095 10.8094 54.821 10.6243 54.4808 10.3946C54.1418 10.1649 53.8675 9.879 53.6625 9.5303C53.456 9.18323 53.352 8.7585 53.352 8.2561C53.352 7.51903 53.4958 6.9125 53.7848 6.43985C54.074 5.9672 54.4525 5.5937 54.9268 5.32103C55.3995 5.04833 55.93 4.85498 56.5218 4.74425C57.11 4.63518 57.5513 4.57898 58.1728 4.57898C58.794 4.57898 59.227 4.63683 59.8105 4.75583C60.3938 4.8748 60.916 5.07313 61.3723 5.35408C61.83 5.63503 62.21 6.00688 62.5125 6.47125C62.815 6.9373 62.9968 7.52398 63.0545 8.23298H60.3955C60.3525 7.6281 60.1228 7.1538 59.7095 6.9406C59.2948 6.72578 58.6635 6.59685 58.1015 6.59685C57.9248 6.59685 57.4373 6.63653 57.239 6.66463C57.0405 6.6927 56.8093 6.75055 56.639 6.82328C56.4688 6.89765 56.325 7.00505 56.206 7.14553C56.087 7.286 56.0293 7.5372 56.0293 7.77353C56.0293 8.05448 56.1315 8.28255 56.3383 8.45938C56.5448 8.63788 56.8143 8.78165 57.1463 8.89238C57.4785 9.0031 57.8603 9.10225 58.2883 9.1915C58.7163 9.28075 59.455 9.48733 59.8963 9.59143C60.354 9.69555 60.635 9.8195 61.0713 9.96658C61.506 10.1153 61.8943 10.312 62.2348 10.5549C62.5735 10.7995 62.848 11.102 63.0545 11.4639C63.261 11.8258 63.3635 12.2704 63.3635 12.8042C63.3635 13.5578 63.2133 14.1891 62.9108 14.6998C62.6068 15.2104 62.2133 15.6203 61.7258 15.9293C61.2383 16.24 60.8465 16.3193 60.2185 16.4449C59.5905 16.5689 58.951 16.6333 58.3015 16.6333C57.652 16.6333 57.153 16.5672 56.52 16.4334C55.8838 16.2995 55.3185 16.0781 54.8245 15.769C54.3285 15.4583 53.9238 15.0485 53.6065 14.5394C53.2875 14.0304 53.1155 13.3909 53.0843 12.6224H55.7433C55.7433 12.9628 55.8143 13.3529 55.9548 13.5958V13.5941Z",fill:"currentColor"}),k.jsx("path",{d:"M52.2035 4.89629V6.83484H49.8997V12.8372C49.8997 13.3694 49.989 13.7247 50.1642 13.9015C50.341 14.0784 50.6962 14.1676 51.2285 14.1676C51.4052 14.1676 51.5755 14.1593 51.7375 14.1445C51.901 14.1312 52.0547 14.1081 52.2035 14.0783V16.3507C51.9375 16.397 51.6415 16.4251 51.3177 16.44C50.9922 16.4532 50.6765 16.4615 50.3642 16.4615C49.8782 16.4615 49.4137 16.4284 48.981 16.3623C48.5445 16.2962 48.3017 16.1888 47.9827 15.9657C47.7232 15.7839 47.5035 15.5095 47.348 15.146C47.1927 14.7824 47.0737 14.3262 47.0737 13.7495V6.82659H45.17V4.88804H47.0737V1.45386L49.9015 1.46212V4.89629H52.2052H52.2035Z",fill:"currentColor"}),k.jsx("path",{d:"M24.6491 0.523438V6.42501H24.7152C25.1135 5.76066 25.7447 5.25493 26.3645 4.95251C26.986 4.64843 27.6355 4.57736 28.2255 4.57736C29.0665 4.57736 29.427 4.69138 29.9657 4.91946C30.5045 5.14918 30.9292 5.46648 31.2382 5.87303C31.5487 6.27958 31.767 6.77536 31.8925 7.35708C32.0182 7.94213 32.081 8.58831 32.081 9.29563V16.3408H29.2665V9.87076C29.2665 8.92546 29.1195 8.21978 28.8237 7.75538C28.5277 7.28933 28.0022 6.94558 27.252 6.89106C26.2852 6.82163 25.6092 7.21496 25.226 7.72398C24.8408 8.23463 24.6491 9.16838 24.6491 10.3352V16.3392H21.8214V0.523438H24.6491Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WaWordmarkIcon=a}),98);
__d("WAWebLogger",["ErrorNormalizeUtils","WALogger","WATagsLogger","WAWebABProps","WAWebCrashlog","WAWebFBLogger","WAWebLoggerImpl","WAWebNoop","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=d("WAWebABProps").getABPropConfigValue("wa_web_console_log_level");return a<1||a>4?1e3:a}function k(a){switch(a){case"ERROR":case"CATCHING":return{level:4,consoleFunction:j()<=4?console.error:c("WAWebNoop")};case"WARN":return{level:3,consoleFunction:j()<=3?console.warn:c("WAWebNoop")};case"COUNT":return{level:2,consoleFunction:j()<=2?console.count:c("WAWebNoop")};case"LOG":return{level:2,consoleFunction:j()<=2?console.log:c("WAWebNoop")};case"DEV_XMPP":case"DEV":return{level:1,consoleFunction:j()<=1?console.info:c("WAWebNoop")};default:return{level:2,consoleFunction:j()<=2?console.log:c("WAWebNoop")}}}function l(a){if(c("gkx")("5943"))return;var b=k(a.level);a=d("WAWebLoggerImpl").Logger.log(b.level).apply(void 0,[a.template].concat(a.expressions));c("gkx")("26258")||b.consoleFunction(a)}var m={info:function(a,b,c){l(c)},count:function(a,b,c){l(c)},debug:function(a,b,d){c("gkx")("26258")||l(d)},logRestricted:function(a,b,d){c("gkx")("26258")||l(d)},error:function(a,b,c,d){l(d)},warn:function(a,b,c){l(c)},devConsole:function(a,b,d){if(c("gkx")("5943"))return;if(!c("gkx")("26258")){var e;for(var f=arguments.length,g=new Array(f>3?f-3:0),h=3;h<f;h++)g[h-3]=arguments[h];(e=k(a)).consoleFunction.apply(e,[b+" devConsole:"].concat(g))}},sendLogs:function(a){if((a.level==="DEV"||a.level==="DEV_XMPP")&&c("gkx")("26258")){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[logger] DEV sendLogs supressed in prod"])));return}var b=k(a.level),e=c("ErrorNormalizeUtils").normalizeError(c("err")("created for stack trace"));e=d("WAWebLoggerImpl").Logger.log(b.level,a.verbose,e,!1,[d("WAWebLoggerImpl").STACK_TRACE_TAG]).apply(void 0,[a.template].concat(a.expressions));!c("gkx")("26258")&&!c("gkx")("5943")&&b.consoleFunction(e);e=d("WAWebLoggerImpl").Logger.log(b.level,a.verbose,void 0,!0,a.tags).apply(void 0,[a.template].concat(a.expressions));!c("gkx")("26258")&&!c("gkx")("5943")&&b.consoleFunction(e);b=(e=(b=a.sendLogs)==null?void 0:b.reason)!=null?e:"www_sendlogs_undefined";d("WAWebCrashlog").sendLogs(b,{sampling:(e=a.sendLogs)==null?void 0:e.sampling,tags:a.tags,sendLogsType:(e=a.sendLogs)==null?void 0:e.sendLogsType})["catch"](function(a){});if(c("gkx")("16915")){e=a.expressions.find(function(a){return a instanceof Error});var f=[];a.tags!=null&&f.push.apply(f,a.tags.map(function(a){return String(a)}));((a=a.sendLogs)==null?void 0:a.sampling)!=null&&f.push("sampling");a=d("WAWebFBLogger").WAWebFBLogger().tags(f);e!=null&&e instanceof Error?a.catching(e):a.blameToPreviousFrame().blameToPreviousFrame();a.mustfix("%s",b)}}};function a(){d("WATagsLogger").initializeWaLogger(m),d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[logger] initialized"])))}g.initializeWAWebLogger=a}),98);
__d("WAWebQplUtils",["WAWebQplQuickPerformanceLoggerMarkerIds","qpl"],(function(a,b,c,d,e,f,g){function a(a){if(a==null)return null;a=a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.ADDON_CHAT_REQUEST?c("qpl")._(891434079,"3254"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.ADDON_PROCESS_INCOMING?c("qpl")._(891434096,"3255"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.ADDON_PROCESS_OUTGOING?c("qpl")._(891428956,"3256"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.ALTERNATIVE_DEVICE_LINKING?c("qpl")._(891429758,"3258"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.CHAT_OPEN?c("qpl")._(891425633,"3259"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.COMPANION_DEVICE_LINKING_SCREEN?c("qpl")._(891431698,"3260"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS?c("qpl")._(891423256,"3261"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.ELECTRON_MACOS_CATALYST_MIGRATION?c("qpl")._(891427179,"3262"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.INITIAL_LOAD?c("qpl")._(891430087,"3165"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.INP?c("qpl")._(891431786,"3252"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.INTERACTION?c("qpl")._(891422695,"1369"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MESSAGE_RENDER?c("qpl")._(891426174,"3263"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.MOBILE_LANDING_PAGE_METRICS?c("qpl")._(891428886,"3264"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.NAVIGATION?c("qpl")._(891424239,"2637"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.NEWSLETTER_BOOSTRAP?c("qpl")._(891434294,"3266"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME?c("qpl")._(891431279,"3267"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.PAGE_LOAD?c("qpl")._(891431414,"3268"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.PAIRING_SCREEN_HELP_LINK_EVENT?c("qpl")._(891430409,"3269"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD?c("qpl")._(891431212,"3270"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_WEB_TEST_EVENT?c("qpl")._(891422769,"2324"):a===d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_WINDOWS_HYBRID_WEB_DATA_LOSS?c("qpl")._(891431899,"3271"):null;return a}g.getWhatsappWebQuickLogModuleQPLEvent=a}),98);
__d("WAWebQplQuickPerformanceLoggerInit",["Promise","QPLEvent","WALogger","WAQplConfigTypes","WAQplNetwork","WAQuickPerformanceLogger","WAWebApiQplEvents","WAWebQplHealthLogger","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebQplStorageApi","WAWebQplUtils","WAWebQplValuesConfig","WAWebWaUlCookieUtils","WAWebXHR","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=[(e=d("WAWebQplQuickPerformanceLoggerMarkerIds")).QuickLogMarkerId.WHATSAPP_WEB_TEST_EVENT,e.QuickLogMarkerId.SYNCD,e.QuickLogMarkerId.ALTERNATIVE_DEVICE_LINKING,e.QuickLogMarkerId.OFFLINE_RESUME,e.QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,e.QuickLogMarkerId.PAGE_LOAD,e.QuickLogMarkerId.COMPANION_DEVICE_LINKING_SCREEN,e.QuickLogMarkerId.MOBILE_LANDING_PAGE_METRICS,e.QuickLogMarkerId.PAIRING_SCREEN_HELP_LINK_EVENT,e.QuickLogMarkerId.WHATSAPP_WINDOWS_HYBRID_WEB_DATA_LOSS],n=new Map([[e.QuickLogMarkerId.SYNCD,100]]),o={cast:function(a){return d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(a)},getName:function(a){return d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.getName(a)}},p=c("gkx")("18720");function a(){c("gkx")("26258")||d("WAWebQplQuickPerformanceLoggerModule").updateAllowlistDevVerboseLoggingOverrides();d("WAQuickPerformanceLogger").QPL.setAllowListDevVerboseLogging(d("WAWebQplQuickPerformanceLoggerModule").ALLOWLIST_DEV_VERBOSE_LOGGING.map(function(a){return a}));d("WAQuickPerformanceLogger").QPL.setStartupAllowListEventFilter(m);d("WAQuickPerformanceLogger").QPL.setQplReducePrecisionMapMs(n);var a=new(d("WAWebQplStorageApi").QplStorageApi)();d("WAQuickPerformanceLogger").QPL.setStorageApi(a);d("WAQuickPerformanceLogger").QPL.setHealthLogger(d("WAWebQplHealthLogger"));d("WAQuickPerformanceLogger").QPL.setEnumConversion(o);var e=!1;d("WAQuickPerformanceLogger").QPL.setIsDev(e);d("WAQuickPerformanceLogger").QPL.init(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){f=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(e.marker_id);if(f&&d("WAWebQplQuickPerformanceLoggerModule").ALLOWLIST_IMMEDIATE_UPLOAD.includes(f)){f={post:c("WAWebXHR").post};d("WAQplNetwork").defaultQplNetwork({restInterface:f,isDev:0,qplAccessToken:d("WAWebQplValuesConfig").qplConfigs.accessToken,qplAppId:d("WAWebQplValuesConfig").qplConfigs.appId,qplEndpoint:d("WAWebQplValuesConfig").qplConfigs.endpoint,waul_cookie:d("WAWebWaUlCookieUtils").getWaUlCookieIfLoggedOut()});try{yield d("WAQplNetwork").defaultQplNetwork().sendEventsOverNetwork(d("WAWebApiQplEvents").createRows([e]))}catch(a){f=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(e.marker_id);f&&d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose([""," failed to upload successfully"])),d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.getName(f));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["QPL ondemand upload event failure"]))).tags("qpl").sendLogs("QPL ondemand upload event failure")}}else a.add([e]);return(l||(l=b("Promise"))).resolve()});return function(a,b){return e.apply(this,arguments)}}(),function(a){a=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(a);if(p){var b=d("WAWebQplUtils").getWhatsappWebQuickLogModuleQPLEvent(a);return{sampleRate:b!=null?(k||(k=d("QPLEvent"))).getSampleRate(b):0,samplingMethod:b!=null?(k||(k=d("QPLEvent"))).getSamplingMethod(b):d("WAQplConfigTypes").QplSampleMethod.EVENT_BASED_SAMPLING}}return{sampleRate:a!=null&&m.includes(a)?1:0,samplingMethod:d("WAQplConfigTypes").QplSampleMethod.EVENT_BASED_SAMPLING}},function(){return!0})}g.initializeQpl=a}),98);/*FB_PKG_DELIM*/
__d("InlineFbtResult",["cr:1183579"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:1183579")}),98);
__d("TransAppInlineMode",[],(function(a,b,c,d,e,f){a=Object.freeze({STRING_MANAGER:"STRING_MANAGER",TRANSLATION:"TRANSLATION",APPROVE:"APPROVE",REPORT:"REPORT",NO_INLINE:"NO_INLINE"});f["default"]=a}),66);
__d("WAQplNetwork",["WABaseGlobals","WAHashStringToNumber","WALogger","WAQplTypes","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i;function j(a,b,c){c=c||{};a=new Blob(a,c);c=a;c.name=b;return c}function k(a,b){function c(a){delete a.app_version;delete a.app_build_number;a.wa_ab_key2===void 0&&(a.wa_ab_key2="abkey");return JSON.stringify(a)}return JSON.stringify(a)+"\n"+b.map(c).join("\n")}var l=function(){function a(a){var c;this.$6=a==null?void 0:a.waul_cookie;this.$1=(c=(c=a==null?void 0:a.qplEndpoint)!=null?c:(c=d("WABaseGlobals").getQplConfig())==null?void 0:c.endpoint)!=null?c:"";this.$2=(c=(c=a==null?void 0:a.qplAccessToken)!=null?c:(c=d("WABaseGlobals").getQplConfig())==null?void 0:c.accessToken)!=null?c:"";this.$3=(c=(c=a==null?void 0:a.qplAppId)!=null?c:(c=d("WABaseGlobals").getQplConfig())==null?void 0:c.appId)!=null?c:"";this.$4=(c=a==null?void 0:a.isDev)!=null?c:!1;this.$7=(c=a==null?void 0:a.restInterface)!=null?c:{post:function(a,c){return fetch(a,{method:"POST",body:c}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.text());a=a.status;return{status:a,responseText:b}});return function(b){return a.apply(this,arguments)}}())}}}var c=a.prototype;c.sendEventsOverNetwork=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this.$4?{is_employee:"true"}:{},c=this.$1,e=new FormData();e.append("access_token",this.$2);e.append("app_id",this.$3);this.$5===void 0&&(this.$5=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString());e.append("user_id",this.$6!=null&&this.$6!==""?d("WAHashStringToNumber").hashStringToNumber(this.$6).toString():this.$5);e.append("upload_time",d("WATimeUtils").unixTime().toString());e.append("batch_info",JSON.stringify(b));var f={};a.forEach(function(a){a.app_version!==void 0&&(f[a.app_version]?f[a.app_version].push(a):f[a.app_version]=[a])});if(Object.keys(f).length===0)return;Object.keys(f).map(function(a){return f[a]}).forEach(function(a){var b={app_version:a[0].app_version,app_build_number:a[0].app_build_number};e.append("batches[]",j([k(b,a)],"qpldata.txt"))});b=(yield this.$7.post(c,e));d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[qpl] networkSendEventsOverNetwork, completed Request"]))).tags("qpl").devConsole(b);if(200!==b.status)throw new(d("WAQplTypes").QplServerStatusCodeError)(b.status,"Failed call to QPL endpoint: "+this.$1+", response: "+b.responseText)});function c(b){return a.apply(this,arguments)}return c}();return a}(),m;function a(a){m?a&&d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Default Network already init"]))):m=new l(a);return m}g.createPayload=k;g.QplNetwork=l;g.defaultQplNetwork=a}),98);
__d("WAWebWamEnumWebcQplHealthEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({ANNOTATION_SIZE_LIMIT_EXCEEDED:1,MAX_POINT_COUNT_EXCEEDED:2,MAX_MARKER_COUNT_EXCEEDED:3,TOO_MANY_OPEN_MARKERS_TO_WRITE:4,POINT_TO_END_AT_NOT_FOUND:5,JSON_FORMAT_ERROR:6,MAX_STORAGE_EVENT_COUNT_REACHED:7,ERROR_UPLOADING_CHUNK:8,POINT_NAME_TOO_LONG:9,ANNOTATION_KEY_TOO_LONG:10,POINT_DATA_TOO_LONG:11,ERROR_PARSING_CONFIG:12});f.WEBC_QPL_HEALTH_EVENT_TYPE=a}),66);
__d("WAWebWebcQplHealthWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcQplHealthEventType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcQplHealth:[3134,{webcQplHealthEventData:[1,d("WAWebWamCodegenUtils").TYPES.STRING],webcQplHealthEventType:[2,d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE]},[1,1,1],"regular"]},{WebcQplHealth:[]});g.WebcQplHealthWamEvent=a}),98);
__d("WAWebQplHealthLogger",["WALogger","WAWebWamEnumWebcQplHealthEventType","WAWebWebcQplHealthWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p=5,q=0;function a(a,b,c){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["QPL annotationSizeLimitExceeded, markerId: ",", instanceKey: ",", annotationKey: ",""])),a,b,c);if(q++>p)return;a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.ANNOTATION_SIZE_LIMIT_EXCEEDED,webcQplHealthEventData:"markerId: "+a+", instanceKey: "+b+", annotationKey: "+c});a.commit()}function b(a,b){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["QPL maxPointCountExceeded, markerId: ",", instanceKey: ",""])),a,b);if(q++>p)return;a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.MAX_POINT_COUNT_EXCEEDED,webcQplHealthEventData:"markerId: "+a+", instanceKey: "+b});a.commit()}function c(a,b,c){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["QPL pointNameTooLong, markerId: ",", instanceKey: ",", pointName: ",""])),a,b,c);if(q++>p)return;a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.POINT_NAME_TOO_LONG,webcQplHealthEventData:"markerId: "+a+", instanceKey: "+b+", pointName: "+c});a.commit()}function e(a,b,c){d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["QPL annotationKeyTooLong, markerId: ",", instanceKey: ",", annotationKey: ",""])),a,b,c);if(q++>p)return;a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.ANNOTATION_KEY_TOO_LONG,webcQplHealthEventData:"markerId: "+a+", instanceKey: "+b+", annotationKey: "+c});a.commit()}function f(a,b,c){d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["QPL pointDataTooLong, markerId: ",", instanceKey: ",", data: ",""])),a,b,c);if(q++>p)return;a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.POINT_DATA_TOO_LONG,webcQplHealthEventData:"markerId: "+a+", instanceKey: "+b+", data: "+c});a.commit()}function r(a){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["QPL errorParsingConfig, error ",""])),a);if(q++>p)return;a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.ERROR_PARSING_CONFIG,webcQplHealthEventData:"errorString: "+a});a.commit()}function s(){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["QPL maxStorageEventCountReached"])));if(q++>p)return;var a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.MAX_STORAGE_EVENT_COUNT_REACHED});a.commit()}function t(a){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["QPL errorUploadingChunk, error ",""])),a);if(q++>p)return;a=new(d("WAWebWebcQplHealthWamEvent").WebcQplHealthWamEvent)({webcQplHealthEventType:d("WAWebWamEnumWebcQplHealthEventType").WEBC_QPL_HEALTH_EVENT_TYPE.ERROR_UPLOADING_CHUNK,webcQplHealthEventData:"errorString: "+a});a.commit()}g.annotationSizeLimitExceeded=a;g.maxPointCountExceeded=b;g.pointNameTooLong=c;g.annotationKeyTooLong=e;g.pointDataTooLong=f;g.errorParsingConfig=r;g.maxStorageEventCountReached=s;g.errorUploadingChunk=t}),98);
__d("WAWebApiQplEvents",["WALogger","WAWebABPropsLocalStorage","WAWebBuildConstants","WAWebNoop","WAWebQplHealthLogger","WAWebQplStorage","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=200,m=1e5,n=0,o=[],p=c("lodash").throttle(function(){return C()},l);function q(a){return function(b){return r(b,a)}}function r(a,b){return{marker_id:a.marker_id,method:a.method,action_id:a.action_id,duration_ns:a.duration_ns,marker_type:a.marker_type,sample_rate:a.sample_rate,points:a.points,instance_id:a.instance_id,metadata:a.metadata||{application_analytics:{time_since_qpl_module_init:0}},flags:a.flags,annotations_bool_array:a.annotations_bool_array,annotations_bool:a.annotations_bool,annotations_double_array:a.annotations_double_array,annotations_double:a.annotations_double,annotations_int_array:a.annotations_int_array,annotations_int:a.annotations_int,annotations_string_array:a.annotations_string_array,annotations:a.annotations,app_version:d("WAWebBuildConstants").VERSION_BASE,app_build_number:n,wa_ab_key2:b}}function s(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("WAWebQplStorage").initialize()}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["QPL Storage, error calling initializeQplStorage, error ",""])),a).verbose().devConsole(a).sendLogs("QPL Storage init error");throw a}});return t.apply(this,arguments)}function a(a,b){b===void 0&&(b=d("WAWebABPropsLocalStorage").getABKey()||"abkey"),o=o.concat(a.map(q(b))),p()}function e(a,b){b===void 0&&(b=d("WAWebABPropsLocalStorage").getABKey()||"abkey");return a.map(q(b))}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield s();return d("WAWebQplStorage").getQplEventsTable().all({limit:a,offset:0})});return v.apply(this,arguments)}function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield s();return d("WAWebQplStorage").getQplEventsTable().count()});return x.apply(this,arguments)}function f(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield s();return d("WAWebQplStorage").getQplEventsTable().clear(!0)});return y.apply(this,arguments)}function z(a,b){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield s();return d("WAWebQplStorage").getQplEventsTable().bulkDeleteRange(["id"],a-1,b+1).then(c("WAWebNoop"))});return A.apply(this,arguments)}var B=null;function C(){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield s();if(B)B.then(C);else if(o.length>0){var a=o;o=[];try{var b=(yield w());if(b+a.length>m){d("WAWebQplHealthLogger").maxStorageEventCountReached();b=b+a.length-m;yield E(b)}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["QPL Storage, error during checking for excessive events ",""])),a).verbose().devConsole(a).sendLogs("QPL Storage, error saving events");return}B=d("WAWebQplStorage").getQplEventsTable().bulkCreate(a).then(function(){d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["QPL Storage, saved "," rows"])),a.length),B=null})["catch"](function(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["QPL Storage, error saving events ",""])),a).verbose().devConsole(a).sendLogs("QPL Storage, error saving events"),B=null})}});return D.apply(this,arguments)}function E(a){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield u(a));var b=a[0].id||0;a=a[a.length-1].id||0;yield z(b,a)});return F.apply(this,arguments)}g.WRITE_THROTTLE_INTERVAL=l;g.add=a;g.createRows=e;g.getFromBottom=u;g.rowCount=w;g.clear=f;g.deleteRange=z}),98);
__d("WAWebQplStorageApi",["WAWebApiQplEvents"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var b=a.prototype;b.add=function(a,b){return d("WAWebApiQplEvents").add(a,b)};b.getFromBottom=function(a){return d("WAWebApiQplEvents").getFromBottom(a)};b.getRowCount=function(){return d("WAWebApiQplEvents").rowCount()};b.clear=function(){return d("WAWebApiQplEvents").clear()};b.deleteRange=function(a,b){return d("WAWebApiQplEvents").deleteRange(a,b)};return a}();g.QplStorageApi=a}),98);
__d("WAWebQplValuesConfig",[],(function(a,b,c,d,e,f){a={accessToken:"1063127757113399|745146ffa34413f9dbb5469f5370b7af",appId:167028690535322..toString(),endpoint:"https://graph.whatsapp.net/wa_qpl_data"};f.qplConfigs=a}),66);
__d("WAWebWaLogoIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="wa-logo";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=30;o=31;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 31 30",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{d:"M30.3139 14.3245C30.174 10.4932 28.5594 6.864 25.8073 4.1948C23.0552 1.52559 19.3784 0.0227244 15.5446 4.10118e-06H15.4722C12.8904 -0.00191309 10.3527 0.668375 8.10857 1.94491C5.86449 3.22145 3.99142 5.06026 2.67367 7.28039C1.35592 9.50053 0.6389 12.0255 0.593155 14.6068C0.547411 17.1882 1.17452 19.737 2.41278 22.0024L1.09794 29.8703C1.0958 29.8865 1.09712 29.9029 1.10182 29.9185C1.10651 29.9341 1.11448 29.9485 1.12518 29.9607C1.13588 29.973 1.14907 29.9828 1.16387 29.9896C1.17867 29.9964 1.19475 29.9999 1.21103 30H1.23365L9.01561 28.269C11.0263 29.2344 13.2282 29.7353 15.4586 29.7346C15.6004 29.7346 15.7421 29.7346 15.8838 29.7346C17.8458 29.6786 19.7773 29.2346 21.5667 28.4282C23.3562 27.6218 24.9682 26.469 26.3098 25.0363C27.6514 23.6036 28.696 21.9194 29.3832 20.0809C30.0704 18.2423 30.3867 16.2859 30.3139 14.3245ZM15.8099 27.1487C15.6923 27.1487 15.5747 27.1487 15.4586 27.1487C13.4874 27.1511 11.5444 26.6795 9.79366 25.7735L9.39559 25.5654L4.11815 26.8124L5.09221 21.4732L4.86604 21.0902C3.78579 19.2484 3.20393 17.157 3.17778 15.0219C3.15163 12.8869 3.68208 10.7819 4.71689 8.91419C5.75171 7.0465 7.25518 5.48059 9.07924 4.37067C10.9033 3.26076 12.985 2.64514 15.1194 2.58444C15.238 2.58444 15.3571 2.58444 15.4767 2.58444C18.6992 2.59399 21.7889 3.86908 24.0802 6.13498C26.3715 8.40087 27.681 11.4762 27.7265 14.6984C27.7719 17.9205 26.5498 21.0316 24.3234 23.3612C22.0969 25.6909 19.0444 27.0527 15.8235 27.1532L15.8099 27.1487Z",fill:"currentColor"}),k.jsx("path",{d:"M10.2894 7.69007C10.1057 7.69366 9.92456 7.73407 9.75673 7.80892C9.5889 7.88377 9.43779 7.99154 9.31236 8.12584C8.95801 8.48923 7.96736 9.36377 7.91006 11.2003C7.85277 13.0369 9.13594 14.8538 9.31537 15.1086C9.49481 15.3635 11.7686 19.3306 15.5141 20.9395C17.7156 21.8879 18.6806 22.0507 19.3063 22.0507C19.5642 22.0507 19.7587 22.0236 19.9622 22.0115C20.6483 21.9693 22.1969 21.1762 22.5346 20.3137C22.8724 19.4512 22.895 18.6973 22.806 18.5465C22.7171 18.3957 22.4728 18.2872 22.1049 18.0942C21.737 17.9012 19.9321 16.9361 19.5928 16.8004C19.467 16.7419 19.3316 16.7066 19.1932 16.6964C19.1031 16.7011 19.0155 16.7278 18.938 16.774C18.8605 16.8203 18.7954 16.8847 18.7484 16.9618C18.4469 17.3372 17.7548 18.153 17.5225 18.3882C17.4718 18.4466 17.4093 18.4938 17.3392 18.5265C17.2691 18.5592 17.1928 18.5768 17.1154 18.5782C16.9728 18.5719 16.8333 18.5344 16.7068 18.4681C15.6135 18.0038 14.6167 17.339 13.768 16.5079C12.975 15.7263 12.3022 14.8315 11.7716 13.8526C11.5666 13.4726 11.7716 13.2766 11.9586 13.0987C12.1456 12.9208 12.3461 12.675 12.5391 12.4624C12.6975 12.2808 12.8295 12.0777 12.9312 11.8593C12.9838 11.7578 13.0104 11.6449 13.0085 11.5307C13.0067 11.4165 12.9765 11.3045 12.9206 11.2048C12.8317 11.0149 12.1667 9.14664 11.8546 8.39725C11.6013 7.75642 11.2997 7.73531 11.0358 7.7157C10.8187 7.70062 10.5699 7.69309 10.3211 7.68555H10.2894",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WaLogoIcon=a}),98);
__d("WAWebWaUlCookieUtils",["WAWebUserPrefsMeUser","WAWebWaUlCookie"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();return a!=null?null:c("WAWebWaUlCookie").waul_cookie}g.getWaUlCookieIfLoggedOut=a}),98);
__d("getUnwrappedFbt",["FbtResultGK"],(function(a,b,c,d,e,f){function a(a){a=a.contents;var c=b("FbtResultGK").inlineMode,d=b("FbtResultGK").shouldReturnFbtResult;if(!d&&c!=="REPORT")return(a==null?void 0:a.length)===1&&typeof a[0]==="string"?a[0]:a}e.exports=a}),null);
__d("getFbtResult",["FbtResult","FbtResultGK","InlineFbtResult","getUnwrappedFbt","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){c("gkx")("20935")&&c("FbtResultGK").inlineMode==="TRANSLATION"&&c("recoverableViolation")("TransAppInlineMode=TRANSLATION should not happen on Comet yet. "+("[inlineMode="+(c("FbtResultGK").inlineMode!=null?c("FbtResultGK").inlineMode:"")+"]")+("[runtime_site_is_comet="+String(c("gkx")("20935"))+"]"),"internationalization");function a(a){var b=c("getUnwrappedFbt")(a);if(b!=null)return b;b=a.contents;var d=a.patternString,e=a.patternHash;return c("FbtResultGK").inlineMode!=null&&c("FbtResultGK").inlineMode!=="NO_INLINE"?new(c("InlineFbtResult"))(b,c("FbtResultGK").inlineMode,d,e):c("FbtResult").get(a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/yKsQCAUqcFZ/
 */
__d("webfontloader-1.6.28",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(){function a(a,b,c){return a.call.apply(a.bind,arguments)}function b(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function c(d,e,f){c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:b;return c.apply(null,arguments)}var d=Date.now||function(){return+new Date};function e(a,b){this.a=a,this.o=b||a,this.c=this.o.document}var f=!!window.FontFace;function h(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&("style"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function i(a,b,c){a=a.c.getElementsByTagName(b)[0],a||(a=document.documentElement),a.insertBefore(c,a.lastChild)}function j(a){a.parentNode&&a.parentNode.removeChild(a)}function k(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(a,b){for(var a=a.className.split(/\s+/),c=0,d=a.length;c<d;c++)if(a[c]==b)return!0;return!1}function m(a){return a.o.location.hostname||a.a.location.hostname}function n(a,b,c){function d(){k&&e&&g&&(k(j),k=null)}b=h(a,"link",{rel:"stylesheet",href:b,media:"all"});var e=!1,g=!0,j=null,k=c||null;f?(b.onload=function(){e=!0,d()},b.onerror=function(){e=!0,j=Error("Stylesheet failed to load"),d()}):setTimeout(function(){e=!0,d()},0);i(a,"head",b)}function o(a,b,c,d){var e=a.c.getElementsByTagName("head")[0];if(e){var f=h(a,"script",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,"HEAD"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error("Script load timeout")))},d||5e3);return f}return null}function p(){this.a=0,this.c=null}function q(a){a.a++;return function(){a.a--,s(a)}}function r(a,b){a.c=b,s(a)}function s(a){0==a.a&&a.c&&(a.c(),a.c=null)}function t(a){this.a=a||"-"}t.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.a)};function u(a,b){this.c=a;this.f=4;this.a="n";a=(b||"n4").match(/^([nio])([1-9])$/i);a&&(this.a=a[1],this.f=parseInt(a[2],10))}function v(a){return y(a)+" "+(a.f+"00")+" 300px "+w(a.c)}function w(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");-1!=d.indexOf(" ")||/^\d/.test(d)?b.push("'"+d+"'"):b.push(d)}return b.join(",")}function x(a){return a.a+a.f}function y(a){var b="normal";"o"===a.a?b="oblique":"i"===a.a&&(b="italic");return b}function z(a){var b=4,c="n",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b}function A(a,b){this.c=a,this.f=a.o.document.documentElement,this.h=b,this.a=new t("-"),this.j=!1!==b.events,this.g=!1!==b.classes}function B(a){a.g&&k(a.f,[a.a.c("wf","loading")]),D(a,"loading")}function C(a){if(a.g){var b=l(a.f,a.a.c("wf","active")),c=[],d=[a.a.c("wf","loading")];b||c.push(a.a.c("wf","inactive"));k(a.f,c,d)}D(a,"inactive")}function D(a,b,c){a.j&&a.h[b]&&(c?a.h[b](c.c,x(c)):a.h[b]())}function E(){this.c={}}function aa(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d}function F(a,b){this.c=a,this.f=b,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function G(a){i(a.c,"body",a.a)}function H(a){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+w(a.c)+";"+("font-style:"+y(a)+";font-weight:"+(a.f+"00")+";")}function I(a,b,c,d,e,f){this.g=a,this.j=b,this.a=d,this.c=c,this.f=e||3e3,this.h=f||void 0}I.prototype.start=function(){var a=this.c.o.document,b=this,c=d(),e=new Promise(function(e,f){function g(){d()-c>=b.f?f():a.fonts.load(v(b.a),b.h).then(function(a){1<=a.length?e():setTimeout(g,25)},function(){f()})}g()}),f=null,g=new Promise(function(a,c){f=setTimeout(c,b.f)});Promise.race([g,e]).then(function(){f&&(clearTimeout(f),f=null),b.g(b.a)},function(){b.j(b.a)})};function J(a,b,c,d,e,f,g){this.v=a,this.B=b,this.c=c,this.a=d,this.s=g||"BESbswy",this.f={},this.w=e||3e3,this.u=f||null,this.m=this.j=this.h=this.g=null,this.g=new F(this.c,this.s),this.h=new F(this.c,this.s),this.j=new F(this.c,this.s),this.m=new F(this.c,this.s),a=new u(this.a.c+",serif",x(this.a)),a=H(a),this.g.a.style.cssText=a,a=new u(this.a.c+",sans-serif",x(this.a)),a=H(a),this.h.a.style.cssText=a,a=new u("serif",x(this.a)),a=H(a),this.j.a.style.cssText=a,a=new u("sans-serif",x(this.a)),a=H(a),this.m.a.style.cssText=a,G(this.g),G(this.h),G(this.j),G(this.m)}var K={D:"serif",C:"sans-serif"},L=null;function M(){if(null===L){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);L=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return L}J.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=d(),O(this)};function N(a,b,c){for(var d in K)if(K.hasOwnProperty(d)&&b===a.f[K[d]]&&c===a.f[K[d]])return!0;return!1}function O(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,e;(e=b===a.f.serif&&c===a.f["sans-serif"])||(e=M()&&N(a,b,c));e?d()-a.A>=a.w?M()&&N(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?P(a,a.v):P(a,a.B):ba(a):P(a,a.v)}function ba(a){setTimeout(c(function(){O(this)},a),50)}function P(a,b){setTimeout(c(function(){j(this.g.a),j(this.h.a),j(this.j.a),j(this.m.a),b(this.a)},a),0)}function Q(a,b,c){this.c=a,this.a=b,this.f=0,this.m=this.j=!1,this.s=c}var R=null;Q.prototype.g=function(a){var b=this.a;b.g&&k(b.f,[b.a.c("wf",a.c,x(a).toString(),"active")],[b.a.c("wf",a.c,x(a).toString(),"loading"),b.a.c("wf",a.c,x(a).toString(),"inactive")]);D(b,"fontactive",a);this.m=!0;S(this)};Q.prototype.h=function(a){var b=this.a;if(b.g){var c=l(b.f,b.a.c("wf",a.c,x(a).toString(),"active")),d=[],e=[b.a.c("wf",a.c,x(a).toString(),"loading")];c||d.push(b.a.c("wf",a.c,x(a).toString(),"inactive"));k(b.f,d,e)}D(b,"fontinactive",a);S(this)};function S(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&k(a.f,[a.a.c("wf","active")],[a.a.c("wf","loading"),a.a.c("wf","inactive")]),D(a,"active")):C(a.a))}function T(a){this.j=a,this.a=new E,this.h=0,this.f=this.g=!0}T.prototype.load=function(a){this.c=new e(this.j,a.context||this.j),this.g=!1!==a.events,this.f=!1!==a.classes,da(this,new A(this.c,a),a)};function ca(a,b,d,e,f){var g=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=f||null,h=e||null||{};if(0===d.length&&g)C(b.a);else{b.f+=d.length;g&&(b.j=g);var i,j=[];for(i=0;i<d.length;i++){var l=d[i],m=h[l.c],n=b.a,o=l;n.g&&k(n.f,[n.a.c("wf",o.c,x(o).toString(),"loading")]);D(n,"fontloading",o);n=null;if(null===R)if(window.FontFace){var o=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);R=o?42<parseInt(o[1],10):p?!1:!0}else R=!1;R?n=new I(c(b.g,b),c(b.h,b),b.c,l,b.s,m):n=new J(c(b.g,b),c(b.h,b),b.c,l,b.s,a,m);j.push(n)}for(i=0;i<j.length;i++)j[i].start()}},0)}function da(a,b,c){var d=[],e=c.timeout;B(b);var d=aa(a.a,c,a.c),f=new Q(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){ca(a,f,b,d,c)})}function U(a,b){this.c=a,this.a=b}U.prototype.load=function(a){function b(){if(f["__mti_fntLst"+d]){var c=f["__mti_fntLst"+d](),e=[],g;if(c)for(var h=0;h<c.length;h++){var i=c[h].fontfamily;void 0!=c[h].fontStyle&&void 0!=c[h].fontWeight?(g=c[h].fontStyle+c[h].fontWeight,e.push(new u(i,g))):e.push(new u(i))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;o(this.c,(c.a.api||"https://fast.fonts.net/jsapi")+"/"+d+".js"+(e?"?v="+e:""),function(e){e?a([]):(f["__MonotypeConfiguration__"+d]=function(){return c.a},b())}).id="__MonotypeAPIScript__"+d}else a([])};function V(a,b){this.c=a,this.a=b}V.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new p;b=0;for(c=d.length;b<c;b++)n(this.c,d[b],q(g));var h=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(":"),d[1])for(var i=d[1].split(","),j=0;j<i.length;j+=1)h.push(new u(d[0],i[j]));else h.push(new u(d[0]));r(g,function(){a(h,f)})};function ea(a,b){a?this.c=a:this.c=fa,this.a=[],this.f=[],this.g=b||""}var fa="https://fonts.googleapis.com/css";function ga(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(":");3==e.length&&a.f.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":");a.a.push(e.join(f))}}function ha(a){if(0==a.a.length)throw Error("No fonts to load!");if(-1!=a.c.indexOf("kit="))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,"+"));b=a.c+"?family="+c.join("%7C");0<a.f.length&&(b+="&subset="+a.f.join(","));0<a.g.length&&(b+="&text="+encodeURIComponent(a.g));return b}function ia(a){this.f=a,this.a=[],this.c={}}var W={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},ja={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ka={i:"i",italic:"i",n:"n",normal:"n"},la=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ma(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(":"),e=d[0].replace(/\+/g," "),f=["n4"];if(2<=d.length){var g,h=d[1];g=[];if(h)for(var h=h.split(","),i=h.length,j=0;j<i;j++){var k;k=h[j];if(k.match(/^[\w-]+$/)){var l=la.exec(k.toLowerCase());if(null==l)k="";else{k=l[2];k=null==k||""==k?"n":ka[k];l=l[1];if(null==l||""==l)l="4";else var m=ja[l],l=m?m:isNaN(l)?"4":l.substr(0,1);k=[k,l].join("")}}else k="";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(","):g,0<d.length&&(d=W[d[0]])&&(a.c[e]=d))}a.c[e]||(d=W[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new u(e,f[d]))}}function X(a,b){this.c=a,this.a=b}var na={Arimo:!0,Cousine:!0,Tinos:!0};X.prototype.load=function(a){var b=new p,c=this.c,d=new ea(this.a.api,this.a.text),e=this.a.families;ga(d,e);var f=new ia(e);ma(f);n(c,ha(d),q(b));r(b,function(){a(f.a,f.c,na)})};function Y(a,b){this.c=a,this.a=b}Y.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?o(this.c,(this.a.api||"https://use.typekit.net")+"/"+b+".js",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var d=[],e=0;e<b.length;e+=2)for(var f=b[e],g=b[e+1],h=0;h<g.length;h++)d.push(new u(f,g[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(a){}a(d)}},2e3):a([])};function Z(a,b){this.c=a,this.f=b,this.a=[]}Z.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var b=0,e=c.fonts.length;b<e;++b){var f=c.fonts[b];d.a.push(new u(f.name,z("font-weight:"+f.weight+";font-style:"+f.style)))}a(d.a)},o(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+m(this.c)+"/"+b+".js",function(b){b&&a([])})):a([])};T=new T(window);T.a.c.custom=function(a,b){return new V(b,a)};T.a.c.fontdeck=function(a,b){return new Z(b,a)};T.a.c.monotype=function(a,b){return new U(b,a)};T.a.c.typekit=function(a,b){return new Y(b,a)};T.a.c.google=function(a,b){return new X(b,a)};var $={load:c(T.load,T)};"undefined"!==typeof g&&g.exports?g.exports=$:(window.WebFont=$,window.WebFontConfig&&T.load(window.WebFontConfig))})()}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("webfontloader",["webfontloader-1.6.28"],(function(a,b,c,d,e,f){e.exports=b("webfontloader-1.6.28")()}),null);/*FB_PKG_DELIM*/
__d("WAJobBuilder",["Promise","WAPersistedJobManager","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){function a(a){this.steps=a}var b=a.prototype;b.step=function(a,b){return this.$1(a,typeof b==="function"?{code:b}:b)};b.$1=function(b,c){var e=c.stopRetryIf,f=c.requirements;c=c.code;f=k(f,c,e);if(e){var g=e.timePassedSeconds;c=e.appCrashed;var h=e.onStopRetry;h=k(null,l(h),e);g!=null&&(f=j(function(a,b,c){a=c.jobStartTime;return d("WATimeUtils").happenedWithin(a,g)},f,h));c&&(f=j(function(a,b,c){a=c.afterCrash;return!a},f,h))}return new a([].concat(this.steps,[{stepName:b,info:f}]))};b.finalStep=function(a,b){var c=this.step(a,b);return{end:function(){return c.steps}}};return a}();function a(){return new i([])}function j(a,b,c){return function(d,e,f){return a(d,e,f)?b(d,e,f):c(d,e,f)}}function k(a,b,c){var d={requirements:a,code:b,stopRetryIf:c};return function(){return d}}function l(a){return function(c,e,f){return(h||(h=b("Promise"))).resolve(a(c,e,f)).then(function(a){return a instanceof d("WAPersistedJobManager").InterruptJob?a:new(d("WAPersistedJobManager").InterruptJob)(a)})}}g.JobBuilder=i;g.definePersistedJob=a}),98);
__d("WAWebDefinePersistedJob",["WAJobBuilder"],(function(a,b,c,d,e,f,g){function a(){return d("WAJobBuilder").definePersistedJob()}g.defineWebPersistedJob=a}),98);
__d("WAWebSignalKeyApi",["WAWebCryptoCurve25519","WAWebCryptoLibraryUtilsApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("WAWebCryptoLibraryUtilsApi").makePreKey(a);var b=a.preKeyId,d=a.privKey;a=a.pubKey;d={privKey:d,pubKey:a};return{keyId:b,keyPair:d,isDirectDistribution:0}});return h.apply(this,arguments)}function e(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=c("WAWebCryptoLibraryUtilsApi").makeSignedPreKey(d("WAWebCryptoCurve25519").toCurveKeyPair(a),b);b=a.preKeyId;var e=a.privKey,f=a.pubKey;a=a.signature;e={privKey:e,pubKey:f};return{keyId:b,keyPair:d("WAWebCryptoCurve25519").toCurveKeyPair(e),signature:a}});return i.apply(this,arguments)}function f(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return c("WAWebCryptoLibraryUtilsApi").makeKeyPair()});return j.apply(this,arguments)}g.generatePreKeyPair=a;g.generateSignedKeyPair=e;g.generateIdentityKeyPair=f}),98);
__d("WAWebUploadPreKeysJob",["Promise","WAComms","WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAPromiseRetryLoop","WAWap","WAWebConstantsDeprecated","WAWebSignalKeyApi","WAWebSignalStoreApi","WAWebSignalUtilsApi","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=812,r={error:!1,result:!0},s=new(c("WADeprecatedWapParser"))("uploadPreKeyResParser",function(a){a.assertTag("iq");a.assertFromServer();var b=a.attrEnum("type",r);if(b)return{success:!0};b=a.child("error");return{errorCode:b.attrInt("code"),errorText:b.hasAttr("text")?b.attrString("text"):""}});function t(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (p||(p=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo(),d("WAWebSignalStoreApi").waSignalStore.getSignedPreKey()])),e=a[0],f=a[1];if(!e||!f)throw c("err")("No signal info is available");var g=e.registrationId,h=e.identityKeyPair;a=(yield d("WAWebSignalStoreApi").waSignalStore.getOrGenPreKeys(q,d("WAWebSignalKeyApi").generatePreKeyPair).then(function(a){if(a.length===0)throw c("err")("No preKey is available");return[d("WAWap").wap("iq",{id:d("WAWap").generateId(),xmlns:"encrypt",type:"set",to:d("WAWap").S_WHATSAPP_NET},d("WAWap").wap("registration",null,d("WAWap").BIG_ENDIAN_CONTENT(g)),d("WAWap").wap("type",null,c("WAWebConstantsDeprecated").KEY_BUNDLE_TYPE),d("WAWap").wap("identity",null,h.pubKey),d("WAWap").wap("list",null,a.map(d("WAWebSignalUtilsApi").xmppPreKey)),d("WAWebSignalUtilsApi").xmppSignedPreKey(f)),a[a.length-1].keyId,a.length]}));var i=a[0],j=a[1];e=a[2];try{a=(yield d("WAComms").waitForConnection().then(function(){return d("WAWebSignalStoreApi").waSignalStore.markKeyAsUploaded(j)}).then(function(){return d("WADeprecatedSendIq").deprecatedSendIqWithoutRetry(i,s)}));if(a.success){d("WAWebSignalStoreApi").waSignalStore.setServerHasPreKeys(!0);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: "," keys uploaded, raw stanza size: ","b"])),e,i.toString().length);return{success:!0}}var r=a.errorCode;r>=500?d("WALogger").WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: server requested backoff "," (count: ",", size: ","b)"])),r,e,i.toString().length):r===406?d("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: uploaded invalid keys (count: ",", size: ","b)"])),e,i.toString().length):d("WALogger").WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: unrecognized error "," (count: ",", size: ","b)"])),r,e,i.toString().length);return{errorCode:a.errorCode,errorText:a.errorText}}catch(a){d("WALogger").WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: disconnected, unclear if on server: "," (count: ",", size: ","b)"])),a,e,i.toString().length);return}});return u.apply(this,arguments)}var v={algo:{type:"fibonacci",first:1e3,second:2e3},max:61e4};function a(){var a=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"uploadPreKeys",timer:v,code:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["uploadPreKeys: running"])));var b=(yield t());(b==null?void 0:b.success)===!0?(d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["uploadPreKeys: done"]))),a()):d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["uploadPreKeys: retrying (after delay)"])))});function c(b){return a.apply(this,arguments)}return c}()});a.start();return a.promise()}g.UPLOAD_KEYS_COUNT=q;g.uploadPreKeyResParser=s;g.uploadPreKeys=a}),98);
__d("WAWebDigestKeyJob",["Promise","WABase64","WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","WAWebSignalStoreApi","WAWebUploadPreKeysJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=32,p=new(c("WADeprecatedWapParser"))("digestResponseParser",function(a){a=a.child("digest");var b=a.child("skey");return{regId:a.child("registration").contentUint(4),type:a.child("type").contentUint(1),identity:a.child("identity").contentBytes(32),skey:{id:b.child("id").contentUint(3),pubkey:b.child("value").contentBytes(32),signature:b.child("signature").contentBytes(64)},keys:a.child("list").mapChildren(function(a){return a.contentUint(3)}),hash:a.child("hash").contentBytes(20)}});function a(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(a=d("WAWap")).wap("iq",{xmlns:"encrypt",type:"get",to:a.S_WHATSAPP_NET,id:a.generateId()},a.wap("digest",null));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(a,p));var b;if(a.success)try{yield r(a.result),b=!1}catch(a){b=!1}else{a=a.errorCode;a===404?(d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["digestKey: no record found for current user"]))),b=!0):a===406?(d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["digestKey: malformed request"]))),b=!1):a===503?(d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["digestKey: service unavailable"]))),b=!1):(d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["digestKey: server error ",""])),a),b=!1)}if(b!=null&&b){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["digestKey: validate key bundle failed, upload prekeys again"])));return d("WAWebUploadPreKeysJob").uploadPreKeys()}});return q.apply(this,arguments)}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield (n||(n=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo(),d("WAWebSignalStoreApi").waSignalStore.getSignedPreKey()])),f=e[0];e=e[1];if(!f||!e)throw c("err")("validateLocalKeyBundle: No registration info is available");if(a.regId!==f.registrationId)throw c("err")("validateLocalKeyBundle: registation id mismatch");f=f.identityKeyPair.pubKey;var g=e.keyPair.pubKey,h=f.byteLength+g.byteLength+e.signature.byteLength+a.keys.length*o,i=new Uint8Array(h),j=0;[f,g,e.signature].forEach(function(a){i.set(new Uint8Array(a),j),j+=a.byteLength});h=a.keys.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSignalStoreApi").waSignalStore.getPreKeyById(a));if(!b)throw c("err")("validateLocalKeyBundle: missing prekey record for id "+a);return b.keyPair.pubKey});return function(b){return a.apply(this,arguments)}}());f=(yield n.all(h));f.forEach(function(a){i.set(new Uint8Array(a),j),j+=a.byteLength});g=(yield self.crypto.subtle.digest("SHA-1",i));e=d("WABase64").encodeB64(g);h=d("WABase64").encodeB64(a.hash);if(e!==h)throw c("err")("validateLocalKeyBundle: hash mismatch remote:"+h+" local:"+e);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["validateLocalKeyBundle: success"])))});return s.apply(this,arguments)}g.digestKey=a}),98);
__d("WAWebRotateKeyJob",["WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","WAWebCryptoCurve25519","WAWebDefinePersistedJob","WAWebDigestKeyJob","WAWebSignalKeyApi","WAWebSignalStoreApi","WAWebSignalUtilsApi","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m=new(c("WADeprecatedWapParser"))("rotateKeyResponseParser",function(a){a.assertFromServer()});a=d("WAWebDefinePersistedJob").defineWebPersistedJob().step("uploadKeys",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo().then(function(a){if(!a)throw c("err")("No registration info is available");return d("WAWebSignalStoreApi").waSignalStore.rotateSignedPreKey(d("WAWebCryptoCurve25519").toSignalCurveKeyPair(a.identityKeyPair),d("WAWebSignalKeyApi").generateSignedKeyPair)}));d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["rotateKey: signedPreKey uploading"])));a=d("WAWap").wap("iq",{xmlns:"encrypt",type:"set",to:d("WAWap").S_WHATSAPP_NET,id:d("WAWap").generateId()},d("WAWap").wap("rotate",null,d("WAWebSignalUtilsApi").xmppSignedPreKey(a)));a=(yield d("WADeprecatedSendIq").deprecatedSendIq(a,m));if(a.success)return{shouldDigestKey:!1};var b=!1;a=a.errorCode;a===406?d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["rotateKey generated bad key"]))):a===409?(d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["skey does not pass server validation"]))),b=!0):a>=500?d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["rotateKey server error ",", wait a day"])),a):(d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["rotateKey unrecognized error ",""])),a),b=!0);return{shouldDigestKey:b}})).finalStep("maybeDigestKey",function(a){a=a.shouldDigestKey;if(a)return d("WAWebDigestKeyJob").digestKey()}).end();g.rotateKey=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/V8_l6oUwABQ/
 */
__d("react-dom-0.0.0",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("ReactDOM"));d={};var h={exports:d};function i(){h.exports=g}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);